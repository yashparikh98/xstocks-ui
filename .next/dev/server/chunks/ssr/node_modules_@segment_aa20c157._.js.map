{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/validation/helpers.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/validation/helpers.ts"],"sourcesContent":["export function isString(obj: unknown): obj is string {\n  return typeof obj === 'string'\n}\n\nexport function isNumber(obj: unknown): obj is number {\n  return typeof obj === 'number'\n}\n\nexport function isFunction(obj: unknown): obj is Function {\n  return typeof obj === 'function'\n}\n\nexport function exists<T>(val: unknown): val is NonNullable<T> {\n  return val !== undefined && val !== null\n}\n\nexport function isPlainObject(\n  obj: unknown\n): obj is Record<string | symbol | number, unknown> {\n  return (\n    Object.prototype.toString.call(obj).slice(8, -1).toLowerCase() === 'object'\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAM,SAAU,QAAQ,CAAC,GAAY;IACnC,OAAO,OAAO,GAAG,KAAK,QAAQ,CAAA;AAChC,CAAC;AAEK,SAAU,QAAQ,CAAC,GAAY;IACnC,OAAO,OAAO,GAAG,KAAK,QAAQ,CAAA;AAChC,CAAC;AAEK,SAAU,UAAU,CAAC,GAAY;IACrC,OAAO,OAAO,GAAG,KAAK,UAAU,CAAA;AAClC,CAAC;AAEK,SAAU,MAAM,CAAI,GAAY;IACpC,OAAO,GAAG,KAAK,SAAS,IAAI,GAAG,KAAK,IAAI,CAAA;AAC1C,CAAC;AAEK,SAAU,aAAa,CAC3B,GAAY;IAEZ,OAAO,AACL,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,KAAK,QAAQ,CAC5E,CAAA;AACH,CAAC"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/logger/index.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/logger/index.ts"],"sourcesContent":["export type LogLevel = 'debug' | 'info' | 'warn' | 'error'\nexport type LogMessage = {\n  level: LogLevel\n  message: string\n  time?: Date\n  extras?: Record<string, any>\n}\n\nexport interface GenericLogger {\n  log(level: LogLevel, message: string, extras?: object): void\n  flush(): void\n  logs: LogMessage[]\n}\n\nexport class CoreLogger implements GenericLogger {\n  private _logs: LogMessage[] = []\n\n  log(level: LogLevel, message: string, extras?: object) {\n    const time = new Date()\n    this._logs.push({\n      level,\n      message,\n      time,\n      extras,\n    })\n  }\n\n  public get logs(): LogMessage[] {\n    return this._logs\n  }\n\n  public flush(): void {\n    if (this.logs.length > 1) {\n      const formatted = this._logs.reduce((logs, log) => {\n        const line = {\n          ...log,\n          json: JSON.stringify(log.extras, null, ' '),\n          extras: log.extras,\n        }\n\n        delete line['time']\n\n        let key = log.time?.toISOString() ?? ''\n        if (logs[key]) {\n          key = `${key}-${Math.random()}`\n        }\n\n        return {\n          ...logs,\n          [key]: line,\n        }\n      }, {} as Record<string, LogMessage>)\n\n      // ie doesn't like console.table\n      if (console.table) {\n        console.table(formatted)\n      } else {\n        console.log(formatted)\n      }\n    } else {\n      this.logs.forEach((logEntry) => {\n        const { level, message, extras } = logEntry\n\n        if (level === 'info' || level === 'debug') {\n          console.log(message, extras ?? '')\n        } else {\n          console[level](message, extras ?? '')\n        }\n      })\n    }\n\n    this._logs = []\n  }\n}\n"],"names":[],"mappings":";;;;;;AAcA,IAAA,aAAA;IAAA,SAAA;QACU,IAAA,CAAA,KAAK,GAAiB,EAAE,CAAA;IA0DlC,CAAC;IAxDC,WAAA,SAAA,CAAA,GAAG,GAAH,SAAI,KAAe,EAAE,OAAe,EAAE,MAAe;QACnD,IAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAA;QACvB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YACd,KAAK,EAAA,KAAA;YACL,OAAO,EAAA,OAAA;YACP,IAAI,EAAA,IAAA;YACJ,MAAM,EAAA,MAAA;SACP,CAAC,CAAA;IACJ,CAAC;IAED,OAAA,cAAA,CAAW,WAAA,SAAA,EAAA,MAAI,EAAA;aAAf;YACE,OAAO,IAAI,CAAC,KAAK,CAAA;QACnB,CAAC;;;OAAA;IAEM,WAAA,SAAA,CAAA,KAAK,GAAZ;QACE,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAC,IAAI,EAAE,GAAG;;;gBAC5C,IAAM,IAAI,GAAA,IAAA,kJAAA,EAAA,IAAA,kJAAA,EAAA,CAAA,GACL,GAAG,GAAA;oBACN,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAC;oBAC3C,MAAM,EAAE,GAAG,CAAC,MAAM;gBAAA,EACnB,CAAA;gBAED,OAAO,IAAI,CAAC,MAAM,CAAC,CAAA;gBAEnB,IAAI,GAAG,GAAG,CAAA,KAAA,CAAA,KAAA,GAAG,CAAC,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,WAAW,EAAE,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE,CAAA;gBACvC,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE;oBACb,GAAG,GAAG,GAAA,MAAA,CAAG,GAAG,EAAA,KAAA,MAAA,CAAI,IAAI,CAAC,MAAM,EAAE,CAAE,CAAA;iBAChC;gBAED,OAAA,IAAA,kJAAA,EAAA,IAAA,kJAAA,EAAA,CAAA,GACK,IAAI,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CACN,GAAG,CAAA,GAAG,IAAI,EAAA,EAAA,GACZ;YACH,CAAC,EAAE,CAAA,CAAgC,CAAC,CAAA;YAEpC,gCAAgC;YAChC,IAAI,OAAO,CAAC,KAAK,EAAE;gBACjB,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;aACzB,MAAM;gBACL,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;aACvB;SACF,MAAM;YACL,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAC,QAAQ;gBACjB,IAAA,KAAK,GAAsB,QAAQ,CAAA,KAA9B,EAAE,OAAO,GAAa,QAAQ,CAAA,OAArB,EAAE,MAAM,GAAK,QAAQ,CAAA,MAAb,CAAa;gBAE3C,IAAI,KAAK,KAAK,MAAM,IAAI,KAAK,KAAK,OAAO,EAAE;oBACzC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,KAAA,QAAN,MAAM,KAAA,KAAA,IAAN,MAAM,GAAI,EAAE,CAAC,CAAA;iBACnC,MAAM;oBACL,OAAO,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,MAAM,KAAA,QAAN,MAAM,KAAA,KAAA,IAAN,MAAM,GAAI,EAAE,CAAC,CAAA;iBACtC;YACH,CAAC,CAAC,CAAA;SACH;QAED,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;IACjB,CAAC;IACH,OAAA,UAAC;AAAD,CAAC,AA3DD,IA2DC"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/stats/index.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/stats/index.ts"],"sourcesContent":["type CompactMetricType = 'g' | 'c'\n\nexport type CoreMetricType = 'gauge' | 'counter'\n\nexport interface CoreMetric {\n  metric: string\n  value: number\n  type: CoreMetricType\n  tags: string[]\n  timestamp: number // unit milliseconds\n}\n\nexport interface CompactMetric {\n  m: string // metric name\n  v: number // value\n  k: CompactMetricType\n  t: string[] // tags\n  e: number // timestamp in unit milliseconds\n}\n\nconst compactMetricType = (type: CoreMetricType): CompactMetricType => {\n  const enums: Record<CoreMetricType, CompactMetricType> = {\n    gauge: 'g',\n    counter: 'c',\n  }\n  return enums[type]\n}\n\nexport abstract class CoreStats {\n  metrics: CoreMetric[] = []\n  increment(metric: string, by = 1, tags?: string[]): void {\n    this.metrics.push({\n      metric,\n      value: by,\n      tags: tags ?? [],\n      type: 'counter',\n      timestamp: Date.now(),\n    })\n  }\n\n  gauge(metric: string, value: number, tags?: string[]): void {\n    this.metrics.push({\n      metric,\n      value,\n      tags: tags ?? [],\n      type: 'gauge',\n      timestamp: Date.now(),\n    })\n  }\n\n  flush(): void {\n    const formatted = this.metrics.map((m) => ({\n      ...m,\n      tags: m.tags.join(','),\n    }))\n    // ie doesn't like console.table\n    if (console.table) {\n      console.table(formatted)\n    } else {\n      console.log(formatted)\n    }\n    this.metrics = []\n  }\n\n  /**\n   * compact keys for smaller payload\n   */\n  serialize(): CompactMetric[] {\n    return this.metrics.map((m) => {\n      return {\n        m: m.metric,\n        v: m.value,\n        t: m.tags,\n        k: compactMetricType(m.type),\n        e: m.timestamp,\n      }\n    })\n  }\n}\n\nexport class NullStats extends CoreStats {\n  override gauge(..._args: Parameters<CoreStats['gauge']>) {}\n  override increment(..._args: Parameters<CoreStats['increment']>) {}\n  override flush(..._args: Parameters<CoreStats['flush']>) {}\n  override serialize(..._args: Parameters<CoreStats['serialize']>) {\n    return []\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/context/index.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/context/index.ts"],"sourcesContent":["import { CoreSegmentEvent } from '../events/interfaces'\n\nimport { v4 as uuid } from '@lukeed/uuid'\nimport { dset } from 'dset'\nimport { CoreLogger, LogLevel, LogMessage } from '../logger'\nimport { CoreStats, CoreMetric, NullStats } from '../stats'\n\nexport interface SerializedContext {\n  id: string\n  event: CoreSegmentEvent\n  logs: LogMessage[]\n  metrics?: CoreMetric[]\n}\n\nexport interface ContextFailedDelivery {\n  reason: unknown\n}\n\nexport interface CancelationOptions {\n  retry?: boolean\n  reason?: string\n  type?: string\n}\n\nexport class ContextCancelation {\n  retry: boolean\n  type: string\n  reason?: string\n\n  constructor(options: CancelationOptions) {\n    this.retry = options.retry ?? true\n    this.type = options.type ?? 'plugin Error'\n    this.reason = options.reason ?? ''\n  }\n}\n\nexport abstract class CoreContext<\n  Event extends CoreSegmentEvent = CoreSegmentEvent\n> {\n  event: Event\n  logger: CoreLogger\n  stats: CoreStats\n  attempts = 0\n\n  private _failedDelivery?: ContextFailedDelivery\n  private _id: string\n\n  constructor(\n    event: Event,\n    id = uuid(),\n    stats: CoreStats = new NullStats(),\n    logger = new CoreLogger()\n  ) {\n    this.event = event\n    this._id = id\n    this.logger = logger\n    this.stats = stats\n  }\n\n  static system(): void {\n    // This should be overridden by the subclass to return an instance of the subclass.\n  }\n\n  isSame(other: CoreContext): boolean {\n    return other.id === this.id\n  }\n\n  cancel(error?: Error | ContextCancelation): never {\n    if (error) {\n      throw error\n    }\n\n    throw new ContextCancelation({ reason: 'Context Cancel' })\n  }\n\n  log(level: LogLevel, message: string, extras?: object): void {\n    this.logger.log(level, message, extras)\n  }\n\n  get id(): string {\n    return this._id\n  }\n\n  updateEvent(path: string, val: unknown): Event {\n    // Don't allow integrations that are set to false to be overwritten with integration settings.\n    if (path.split('.')[0] === 'integrations') {\n      const integrationName = path.split('.')[1]\n\n      if (this.event.integrations?.[integrationName] === false) {\n        return this.event\n      }\n    }\n\n    dset(this.event, path, val)\n    return this.event\n  }\n\n  failedDelivery(): ContextFailedDelivery | undefined {\n    return this._failedDelivery\n  }\n\n  setFailedDelivery(options: ContextFailedDelivery) {\n    this._failedDelivery = options\n  }\n\n  logs(): LogMessage[] {\n    return this.logger.logs\n  }\n\n  flush(): void {\n    this.logger.flush()\n    this.stats.flush()\n  }\n\n  toJSON(): SerializedContext {\n    return {\n      id: this._id,\n      event: this.event,\n      logs: this.logger.logs,\n      metrics: this.stats.metrics,\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/callback/index.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/callback/index.ts"],"sourcesContent":["import { CoreContext } from '../context'\nimport type { Callback } from '../events'\n\nexport function pTimeout<T>(promise: Promise<T>, timeout: number): Promise<T> {\n  return new Promise((resolve, reject) => {\n    const timeoutId = setTimeout(() => {\n      reject(Error('Promise timed out'))\n    }, timeout)\n\n    promise\n      .then((val) => {\n        clearTimeout(timeoutId)\n        return resolve(val)\n      })\n      .catch(reject)\n  })\n}\n\nexport function sleep(timeoutInMs: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, timeoutInMs))\n}\n\n/**\n * @param ctx\n * @param callback - the function to invoke\n * @param delay - aka \"timeout\". The amount of time in ms to wait before invoking the callback.\n */\nexport function invokeCallback<Ctx extends CoreContext>(\n  ctx: Ctx,\n  callback: Callback<Ctx>,\n  delay: number\n): Promise<Ctx> {\n  const cb = () => {\n    try {\n      return Promise.resolve(callback(ctx))\n    } catch (err) {\n      return Promise.reject(err)\n    }\n  }\n\n  return (\n    sleep(delay)\n      // pTimeout ensures that the callback can't cause the context to hang\n      .then(() => pTimeout(cb(), 1000))\n      .catch((err) => {\n        ctx?.log('warn', 'Callback Error', { error: err })\n        ctx?.stats.increment('callback_error')\n      })\n      .then(() => ctx)\n  )\n}\n"],"names":[],"mappings":";;;;;;;;AAGM,SAAU,QAAQ,CAAI,OAAmB,EAAE,OAAe;IAC9D,OAAO,IAAI,OAAO,CAAC,SAAC,OAAO,EAAE,MAAM;QACjC,IAAM,SAAS,GAAG,UAAU,CAAC;YAC3B,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAA;QACpC,CAAC,EAAE,OAAO,CAAC,CAAA;QAEX,OAAO,CACJ,IAAI,CAAC,SAAC,GAAG;YACR,YAAY,CAAC,SAAS,CAAC,CAAA;YACvB,OAAO,OAAO,CAAC,GAAG,CAAC,CAAA;QACrB,CAAC,CAAC,CACD,KAAK,CAAC,MAAM,CAAC,CAAA;IAClB,CAAC,CAAC,CAAA;AACJ,CAAC;AAEK,SAAU,KAAK,CAAC,WAAmB;IACvC,OAAO,IAAI,OAAO,CAAC,SAAC,OAAO;QAAK,OAAA,UAAU,CAAC,OAAO,EAAE,WAAW,CAAC;IAAhC,CAAgC,CAAC,CAAA;AACnE,CAAC;AAOK,SAAU,cAAc,CAC5B,GAAQ,EACR,QAAuB,EACvB,KAAa;IAEb,IAAM,EAAE,GAAG;QACT,IAAI;YACF,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAA;SACtC,CAAC,OAAO,GAAG,EAAE;YACZ,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;SAC3B;IACH,CAAC,CAAA;IAED,OAAO,AACL,KAAK,CAAC,KAAK,CAAC,AACV,qEAAqE;KACpE,IAAI,CAAC;QAAM,OAAA,QAAQ,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC;IAApB,CAAoB,CAAC,CAChC,KAAK,CAAC,SAAC,GAAG;QACT,GAAG,KAAA,QAAH,GAAG,KAAA,KAAA,IAAA,KAAA,IAAH,GAAG,CAAE,GAAG,CAAC,MAAM,EAAE,gBAAgB,EAAE;YAAE,KAAK,EAAE,GAAG;QAAA,CAAE,CAAC,CAAA;QAClD,GAAG,KAAA,QAAH,GAAG,KAAA,KAAA,IAAA,KAAA,IAAH,GAAG,CAAE,KAAK,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAA;IACxC,CAAC,CAAC,CACD,IAAI,CAAC;QAAM,OAAA,GAAG;IAAH,CAAG,CAAC,CACnB,CAAA;AACH,CAAC"}},
    {"offset": {"line": 365, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/analytics/dispatch.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/analytics/dispatch.ts"],"sourcesContent":["import { CoreContext } from '../context'\nimport { Callback } from '../events/interfaces'\nimport { CoreEventQueue } from '../queue/event-queue'\nimport { invokeCallback } from '../callback'\nimport { Emitter } from '@segment/analytics-generic-utils'\n\nexport type DispatchOptions<Ctx extends CoreContext = CoreContext> = {\n  timeout?: number\n  debug?: boolean\n  callback?: Callback<Ctx>\n}\n\n/* The amount of time in ms to wait before invoking the callback. */\nexport const getDelay = (startTimeInEpochMS: number, timeoutInMS?: number) => {\n  const elapsedTime = Date.now() - startTimeInEpochMS\n  // increasing the timeout increases the delay by almost the same amount -- this is weird legacy behavior.\n  return Math.max((timeoutInMS ?? 300) - elapsedTime, 0)\n}\n/**\n * Push an event into the dispatch queue and invoke any callbacks.\n *\n * @param event - Segment event to enqueue.\n * @param queue - Queue to dispatch against.\n * @param emitter - This is typically an instance of \"Analytics\" -- used for metrics / progress information.\n * @param options\n */\nexport async function dispatch<\n  Ctx extends CoreContext,\n  EQ extends CoreEventQueue<Ctx>\n>(\n  ctx: Ctx,\n  queue: EQ,\n  emitter: Emitter,\n  options?: DispatchOptions<Ctx>\n): Promise<Ctx> {\n  emitter.emit('dispatch_start', ctx)\n\n  const startTime = Date.now()\n  let dispatched: Ctx\n  if (queue.isEmpty()) {\n    dispatched = await queue.dispatchSingle(ctx)\n  } else {\n    dispatched = await queue.dispatch(ctx)\n  }\n\n  if (options?.callback) {\n    dispatched = await invokeCallback(\n      dispatched,\n      options.callback,\n      getDelay(startTime, options.timeout)\n    )\n  }\n  if (options?.debug) {\n    dispatched.flush()\n  }\n\n  return dispatched\n}\n"],"names":[],"mappings":";;;;;;;AAGA,OAAO,EAAE,cAAc,EAAE,MAAM,aAAa,CAAA;;;AAUrC,IAAM,QAAQ,GAAG,SAAC,kBAA0B,EAAE,WAAoB;IACvE,IAAM,WAAW,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,kBAAkB,CAAA;IACnD,yGAAyG;IACzG,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,KAAA,QAAX,WAAW,KAAA,KAAA,IAAX,WAAW,GAAI,GAAG,CAAC,GAAG,WAAW,EAAE,CAAC,CAAC,CAAA;AACxD,CAAC,CAAA;AASK,SAAgB,QAAQ,CAI5B,GAAQ,EACR,KAAS,EACT,OAAgB,EAChB,OAA8B;;;;;;oBAE9B,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAA;oBAE7B,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;yBAExB,KAAK,CAAC,OAAO,EAAE,EAAf,OAAA;wBAAA,EAAA,OAAA;wBAAA;qBAAA,CAAe;oBACJ,OAAA;wBAAA,EAAA,OAAA;wBAAM,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC;qBAAA,CAAA;;oBAA5C,UAAU,GAAG,GAAA,IAAA,EAA+B,CAAA;;;;;;oBAE/B,OAAA;wBAAA,EAAA,OAAA;wBAAM,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC;qBAAA,CAAA;;oBAAtC,UAAU,GAAG,GAAA,IAAA,EAAyB,CAAA;;;yBAGpC,CAAA,OAAO,KAAA,QAAP,OAAO,KAAA,KAAA,IAAA,KAAA,IAAP,OAAO,CAAE,QAAQ,CAAA,EAAjB,OAAA;wBAAA,EAAA,OAAA;wBAAA;qBAAA,CAAiB;oBACN,OAAA;wBAAA,EAAA,OAAA;4BAAM,oMAAc,EAC/B,UAAU,EACV,OAAO,CAAC,QAAQ,EAChB,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,OAAO,CAAC,CACrC;qBAAA,CAAA;;oBAJD,UAAU,GAAG,GAAA,IAAA,EAIZ,CAAA;;;oBAEH,IAAI,OAAO,KAAA,QAAP,OAAO,KAAA,KAAA,IAAA,KAAA,IAAP,OAAO,CAAE,KAAK,EAAE;wBAClB,UAAU,CAAC,KAAK,EAAE,CAAA;qBACnB;oBAED,OAAA;wBAAA,EAAA,QAAA;wBAAO,UAAU;qBAAA,CAAA;;;;CAClB"}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/utils/pick.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/utils/pick.ts"],"sourcesContent":["export const pickBy = <T extends object, K extends keyof T>(\n  obj: T,\n  fn: (key: K, v: T[K]) => boolean\n) => {\n  return (Object.keys(obj) as K[])\n    .filter((k) => fn(k, obj[k]))\n    .reduce((acc, key) => ((acc[key] = obj[key]), acc), {} as Partial<T>)\n}\n"],"names":[],"mappings":";;;;AAAO,IAAM,MAAM,GAAG,SACpB,GAAM,EACN,EAAgC;IAEhC,OAAQ,MAAM,CAAC,IAAI,CAAC,GAAG,CAAS,CAC7B,MAAM,CAAC,SAAC,CAAC;QAAK,OAAA,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IAAb,CAAa,CAAC,CAC5B,MAAM,CAAC,SAAC,GAAG,EAAE,GAAG;QAAK,OAAA,AAAC,AAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAE,GAAG,CAAC;IAA5B,CAA4B,EAAE,CAAA,CAAgB,CAAC,CAAA;AACzE,CAAC,CAAA"}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/validation/errors.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/validation/errors.ts"],"sourcesContent":["export class ValidationError extends Error {\n  field: string\n\n  constructor(field: string, message: string) {\n    super(`${field} ${message}`)\n    this.field = field\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA,IAAA,kBAAA,SAAA,MAAA;QAAqC,mJAAA,EAAA,iBAAA,QAAK;IAGxC,SAAA,gBAAY,KAAa,EAAE,OAAe;QAA1C,IAAA,QACE,OAAA,IAAA,CAAA,IAAA,EAAM,GAAA,MAAA,CAAG,KAAK,EAAA,KAAA,MAAA,CAAI,OAAO,CAAE,CAAC,IAAA,IAAA,CAE7B;QADC,KAAI,CAAC,KAAK,GAAG,KAAK,CAAA;;IACpB,CAAC;IACH,OAAA,eAAC;AAAD,CAAC,AAPD,CAAqC,KAAK,GAOzC"}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/validation/assertions.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/validation/assertions.ts"],"sourcesContent":["import { CoreSegmentEvent } from '../events'\nimport { ValidationError } from './errors'\nimport { isString, isPlainObject, exists } from './helpers'\n\nconst stringError = 'is not a string'\nconst objError = 'is not an object'\nconst nilError = 'is nil'\n\n// user identity check could hypothetically could be used in the browser event factory, but not 100% sure -- so this is node only for now\nexport function assertUserIdentity(event: CoreSegmentEvent): void {\n  const USER_FIELD_NAME = '.userId/anonymousId/previousId/groupId'\n\n  const getAnyUserId = (event: CoreSegmentEvent) =>\n    event.userId ?? event.anonymousId ?? event.groupId ?? event.previousId\n\n  const id = getAnyUserId(event)\n  if (!exists(id)) {\n    throw new ValidationError(USER_FIELD_NAME, nilError)\n  } else if (!isString(id)) {\n    throw new ValidationError(USER_FIELD_NAME, stringError)\n  }\n}\n\nexport function assertEventExists(\n  event?: CoreSegmentEvent | null\n): asserts event is CoreSegmentEvent {\n  if (!exists(event)) {\n    throw new ValidationError('Event', nilError)\n  }\n  if (typeof event !== 'object') {\n    throw new ValidationError('Event', objError)\n  }\n}\n\nexport function assertEventType(event: CoreSegmentEvent): void {\n  if (!isString(event.type)) {\n    throw new ValidationError('.type', stringError)\n  }\n}\n\nexport function assertTrackEventName(event: CoreSegmentEvent): void {\n  if (!isString(event.event)) {\n    throw new ValidationError('.event', stringError)\n  }\n}\n\nexport function assertTrackEventProperties(event: CoreSegmentEvent): void {\n  if (!isPlainObject(event.properties)) {\n    throw new ValidationError('.properties', objError)\n  }\n}\n\nexport function assertTraits(event: CoreSegmentEvent): void {\n  if (!isPlainObject(event.traits)) {\n    throw new ValidationError('.traits', objError)\n  }\n}\n\nexport function assertMessageId(event: CoreSegmentEvent): void {\n  if (!isString(event.messageId)) {\n    throw new ValidationError('.messageId', stringError)\n  }\n}\n\nexport function validateEvent(event?: CoreSegmentEvent | null) {\n  assertEventExists(event)\n  assertEventType(event)\n  assertMessageId(event)\n\n  if (event.type === 'track') {\n    assertTrackEventName(event)\n    assertTrackEventProperties(event)\n  }\n\n  if (['group', 'identify'].includes(event.type)) {\n    assertTraits(event)\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 564, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/events/index.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/events/index.ts"],"sourcesContent":["export * from './interfaces'\nimport { dset } from 'dset'\nimport { ID } from '../user'\nimport {\n  IntegrationsOptions,\n  EventProperties,\n  CoreSegmentEvent,\n  CoreOptions,\n  CoreExtraContext,\n  UserTraits,\n  GroupTraits,\n} from './interfaces'\nimport { pickBy } from '../utils/pick'\nimport type { RemoveIndexSignature } from '../utils/ts-helpers'\nimport { validateEvent } from '../validation/assertions'\n\nexport type EventMethodCallHook = ({\n  type,\n  options,\n}: {\n  type: 'track' | 'identify' | 'page' | 'group' | 'alias' | 'screen'\n  options?: CoreOptions\n}) => void\n\nexport type EventHook = (event: CoreSegmentEvent) => void\n\nexport interface EventFactorySettings {\n  /**\n   * Universal `messageId` builder for all events (these must be unique)\n   */\n  createMessageId: () => string\n  /**\n   * Hook to do something with an event right before they are returned from the factory.\n   * This includes event modification or additional validation.\n   */\n  onFinishedEvent?: EventHook\n  /**\n   * Hook whenever an event method is called (track, page, etc.)\n   * Can be used to update Options (or just listen)\n   */\n  onEventMethodCall?: EventMethodCallHook\n}\n\n/**\n * Internal settings object that is used internally by the factory\n */\nclass InternalEventFactorySettings {\n  public createMessageId: EventFactorySettings['createMessageId']\n  public onEventMethodCall: EventMethodCallHook\n  public onFinishedEvent: EventHook\n\n  constructor(public settings: EventFactorySettings) {\n    this.createMessageId = settings.createMessageId\n    this.onEventMethodCall = settings.onEventMethodCall ?? (() => {})\n    this.onFinishedEvent = settings.onFinishedEvent ?? (() => {})\n  }\n}\n\nexport abstract class CoreEventFactory {\n  private settings: InternalEventFactorySettings\n\n  constructor(settings: EventFactorySettings) {\n    this.settings = new InternalEventFactorySettings(settings)\n  }\n\n  track(\n    event: string,\n    properties?: EventProperties,\n    options?: CoreOptions,\n    integrationOptions?: IntegrationsOptions\n  ) {\n    this.settings.onEventMethodCall({ type: 'track', options })\n    return this.normalize({\n      ...this.baseEvent(),\n      event,\n      type: 'track',\n      properties: properties ?? {}, // TODO: why is this not a shallow copy like everywhere else?\n      options: { ...options },\n      integrations: { ...integrationOptions },\n    })\n  }\n\n  page(\n    category: string | null,\n    page: string | null,\n    properties?: EventProperties,\n    options?: CoreOptions,\n    integrationOptions?: IntegrationsOptions\n  ): CoreSegmentEvent {\n    this.settings.onEventMethodCall({ type: 'page', options })\n    const event: CoreSegmentEvent = {\n      type: 'page',\n      properties: { ...properties },\n      options: { ...options },\n      integrations: { ...integrationOptions },\n    }\n\n    if (category !== null) {\n      event.category = category\n      event.properties = event.properties ?? {}\n      event.properties.category = category\n    }\n\n    if (page !== null) {\n      event.name = page\n    }\n\n    return this.normalize({\n      ...this.baseEvent(),\n      ...event,\n    })\n  }\n\n  screen(\n    category: string | null,\n    screen: string | null,\n    properties?: EventProperties,\n    options?: CoreOptions,\n    integrationOptions?: IntegrationsOptions\n  ): CoreSegmentEvent {\n    this.settings.onEventMethodCall({ type: 'screen', options })\n    const event: CoreSegmentEvent = {\n      type: 'screen',\n      properties: { ...properties },\n      options: { ...options },\n      integrations: { ...integrationOptions },\n    }\n\n    if (category !== null) {\n      event.category = category\n    }\n\n    if (screen !== null) {\n      event.name = screen\n    }\n\n    return this.normalize({\n      ...this.baseEvent(),\n      ...event,\n    })\n  }\n\n  identify(\n    userId: ID,\n    traits?: UserTraits,\n    options?: CoreOptions,\n    integrationsOptions?: IntegrationsOptions\n  ): CoreSegmentEvent {\n    this.settings.onEventMethodCall({ type: 'identify', options })\n    return this.normalize({\n      ...this.baseEvent(),\n      type: 'identify',\n      userId,\n      traits: traits ?? {},\n      options: { ...options },\n      integrations: integrationsOptions,\n    })\n  }\n\n  group(\n    groupId: ID,\n    traits?: GroupTraits,\n    options?: CoreOptions,\n    integrationOptions?: IntegrationsOptions\n  ): CoreSegmentEvent {\n    this.settings.onEventMethodCall({ type: 'group', options })\n    return this.normalize({\n      ...this.baseEvent(),\n      type: 'group',\n      traits: traits ?? {},\n      options: { ...options }, // this spreading is intentional\n      integrations: { ...integrationOptions }, //\n      groupId,\n    })\n  }\n\n  alias(\n    to: string,\n    from: string | null, // TODO: can we make this undefined?\n    options?: CoreOptions,\n    integrationOptions?: IntegrationsOptions\n  ): CoreSegmentEvent {\n    this.settings.onEventMethodCall({ type: 'alias', options })\n    const base: CoreSegmentEvent = {\n      userId: to,\n      type: 'alias',\n      options: { ...options },\n      integrations: { ...integrationOptions },\n    }\n\n    if (from !== null) {\n      base.previousId = from\n    }\n\n    if (to === undefined) {\n      return this.normalize({\n        ...base,\n        ...this.baseEvent(),\n      })\n    }\n\n    return this.normalize({\n      ...this.baseEvent(),\n      ...base,\n    })\n  }\n\n  private baseEvent(): Partial<CoreSegmentEvent> {\n    return {\n      integrations: {},\n      options: {},\n    }\n  }\n\n  /**\n   * Builds the context part of an event based on \"foreign\" keys that\n   * are provided in the `Options` parameter for an Event\n   */\n  private context(\n    options: CoreOptions\n  ): [CoreExtraContext, Partial<CoreSegmentEvent>] {\n    type CoreOptionKeys = keyof RemoveIndexSignature<CoreOptions>\n    /**\n     * If the event options are known keys from this list, we move them to the top level of the event.\n     * Any other options are moved to context.\n     */\n    const eventOverrideKeys: CoreOptionKeys[] = [\n      'userId',\n      'anonymousId',\n      'timestamp',\n      'messageId',\n    ]\n\n    delete options['integrations']\n    const providedOptionsKeys = Object.keys(options) as Exclude<\n      CoreOptionKeys,\n      'integrations'\n    >[]\n\n    const context = options.context ?? {}\n    const eventOverrides = {}\n\n    providedOptionsKeys.forEach((key) => {\n      if (key === 'context') {\n        return\n      }\n\n      if (eventOverrideKeys.includes(key)) {\n        dset(eventOverrides, key, options[key])\n      } else {\n        dset(context, key, options[key])\n      }\n    })\n\n    return [context, eventOverrides]\n  }\n\n  private normalize(event: CoreSegmentEvent): CoreSegmentEvent {\n    const integrationBooleans = Object.keys(event.integrations ?? {}).reduce(\n      (integrationNames, name) => {\n        return {\n          ...integrationNames,\n          [name]: Boolean(event.integrations?.[name]),\n        }\n      },\n      {} as Record<string, boolean>\n    )\n\n    // filter out any undefined options\n    event.options = pickBy(event.options || {}, (_, value) => {\n      return value !== undefined\n    })\n\n    // This is pretty trippy, but here's what's going on:\n    // - a) We don't pass initial integration options as part of the event, only if they're true or false\n    // - b) We do accept per integration overrides (like integrations.Amplitude.sessionId) at the event level\n    // Hence the need to convert base integration options to booleans, but maintain per event integration overrides\n    const allIntegrations = {\n      // Base config integrations object as booleans\n      ...integrationBooleans,\n\n      // Per event overrides, for things like amplitude sessionId, for example\n      ...event.options?.integrations,\n    }\n\n    const [context, overrides] = event.options\n      ? this.context(event.options)\n      : []\n\n    const { options, ...rest } = event\n\n    const evt: CoreSegmentEvent = {\n      timestamp: new Date(),\n      ...rest,\n      context,\n      integrations: allIntegrations,\n      ...overrides,\n      messageId: options.messageId || this.settings.createMessageId(),\n    }\n\n    this.settings.onFinishedEvent(evt)\n    validateEvent(evt)\n\n    return evt\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 771, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/priority-queue/backoff.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/priority-queue/backoff.ts"],"sourcesContent":["type BackoffParams = {\n  /** The number of milliseconds before starting the first retry. Default is 500 */\n  minTimeout?: number\n\n  /** The maximum number of milliseconds between two retries. Default is Infinity */\n  maxTimeout?: number\n\n  /** The exponential factor to use. Default is 2. */\n  factor?: number\n\n  /** The current attempt */\n  attempt: number\n}\n\nexport function backoff(params: BackoffParams): number {\n  const random = Math.random() + 1\n  const {\n    minTimeout = 500,\n    factor = 2,\n    attempt,\n    maxTimeout = Infinity,\n  } = params\n  return Math.min(random * minTimeout * Math.pow(factor, attempt), maxTimeout)\n}\n"],"names":[],"mappings":";;;;AAcM,SAAU,OAAO,CAAC,MAAqB;IAC3C,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAA;IAE9B,IAAA,KAIE,MAAM,CAAA,UAJQ,EAAhB,UAAU,GAAA,OAAA,KAAA,IAAG,GAAG,GAAA,EAAA,EAChB,KAGE,MAAM,CAAA,MAHE,EAAV,MAAM,GAAA,OAAA,KAAA,IAAG,CAAC,GAAA,EAAA,EACV,OAAO,GAEL,MAAM,CAAA,OAFD,EACP,KACE,MAAM,CAAA,UADa,EAArB,UAAU,GAAA,OAAA,KAAA,IAAG,QAAQ,GAAA,EAAA,CACb;IACV,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,EAAE,UAAU,CAAC,CAAA;AAC9E,CAAC"}},
    {"offset": {"line": 784, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/priority-queue/index.ts"],"sourcesContent":["import { Emitter } from '@segment/analytics-generic-utils'\nimport { backoff } from './backoff'\n\n/**\n * @internal\n */\nexport const ON_REMOVE_FROM_FUTURE = 'onRemoveFromFuture'\n\ninterface QueueItem {\n  id: string\n}\n\nexport class PriorityQueue<Item extends QueueItem = QueueItem> extends Emitter {\n  protected future: Item[] = []\n  protected queue: Item[]\n  protected seen: Record<string, number>\n\n  public maxAttempts: number\n\n  constructor(\n    maxAttempts: number,\n    queue: Item[],\n    seen?: Record<string, number>\n  ) {\n    super()\n    this.maxAttempts = maxAttempts\n    this.queue = queue\n    this.seen = seen ?? {}\n  }\n\n  push(...items: Item[]): boolean[] {\n    const accepted = items.map((operation) => {\n      const attempts = this.updateAttempts(operation)\n\n      if (attempts > this.maxAttempts || this.includes(operation)) {\n        return false\n      }\n\n      this.queue.push(operation)\n      return true\n    })\n\n    this.queue = this.queue.sort(\n      (a, b) => this.getAttempts(a) - this.getAttempts(b)\n    )\n    return accepted\n  }\n\n  pushWithBackoff(item: Item, minTimeout = 0): boolean {\n    // One immediate retry unless we have a minimum timeout (e.g. for rate limiting)\n    if (minTimeout == 0 && this.getAttempts(item) === 0) {\n      return this.push(item)[0]\n    }\n\n    const attempt = this.updateAttempts(item)\n\n    if (attempt > this.maxAttempts || this.includes(item)) {\n      return false\n    }\n\n    let timeout = backoff({ attempt: attempt - 1 })\n    if (minTimeout > 0 && timeout < minTimeout) {\n      timeout = minTimeout\n    }\n\n    setTimeout(() => {\n      this.queue.push(item)\n      // remove from future list\n      this.future = this.future.filter((f) => f.id !== item.id)\n      // Lets listeners know that a 'future' message is now available in the queue\n      this.emit(ON_REMOVE_FROM_FUTURE)\n    }, timeout)\n\n    this.future.push(item)\n    return true\n  }\n\n  public getAttempts(item: Item): number {\n    return this.seen[item.id] ?? 0\n  }\n\n  public updateAttempts(item: Item): number {\n    this.seen[item.id] = this.getAttempts(item) + 1\n    return this.getAttempts(item)\n  }\n\n  includes(item: Item): boolean {\n    return (\n      this.queue.includes(item) ||\n      this.future.includes(item) ||\n      Boolean(this.queue.find((i) => i.id === item.id)) ||\n      Boolean(this.future.find((i) => i.id === item.id))\n    )\n  }\n\n  pop(): Item | undefined {\n    return this.queue.shift()\n  }\n\n  public get length(): number {\n    return this.queue.length\n  }\n\n  public get todo(): number {\n    return this.queue.length + this.future.length\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 897, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/utils/group-by.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/utils/group-by.ts"],"sourcesContent":["type Grouper<T> = (obj: T) => string | number\n\nexport function groupBy<T>(\n  collection: T[],\n  grouper: keyof T | Grouper<T>\n): Record<string, T[]> {\n  const results: Record<string, T[]> = {}\n\n  collection.forEach((item) => {\n    let key: string | number | undefined = undefined\n\n    if (typeof grouper === 'string') {\n      const suggestedKey = item[grouper]\n      key =\n        typeof suggestedKey !== 'string'\n          ? JSON.stringify(suggestedKey)\n          : suggestedKey\n    } else if (grouper instanceof Function) {\n      key = grouper(item)\n    }\n\n    if (key === undefined) {\n      return\n    }\n\n    results[key] = [...(results[key] ?? []), item]\n  })\n\n  return results\n}\n"],"names":[],"mappings":";;;;;;AAEM,SAAU,OAAO,CACrB,UAAe,EACf,OAA6B;IAE7B,IAAM,OAAO,GAAwB,CAAA,CAAE,CAAA;IAEvC,UAAU,CAAC,OAAO,CAAC,SAAC,IAAI;;QACtB,IAAI,GAAG,GAAgC,SAAS,CAAA;QAEhD,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC/B,IAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,CAAA;YAClC,GAAG,GACD,OAAO,YAAY,KAAK,QAAQ,GAC5B,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,GAC5B,YAAY,CAAA;SACnB,MAAM,IAAI,OAAO,YAAY,QAAQ,EAAE;YACtC,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;SACpB;QAED,IAAI,GAAG,KAAK,SAAS,EAAE;YACrB,OAAM;SACP;QAED,OAAO,CAAC,GAAG,CAAC,GAAA,IAAA,uJAAA,EAAA,IAAA,uJAAA,EAAA,EAAA,EAAO,AAAC,CAAA,KAAA,OAAO,CAAC,GAAG,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE,CAAC,CAAA,OAAA;YAAE,IAAI;SAAA,EAAA,MAAC,CAAA;IAChD,CAAC,CAAC,CAAA;IAEF,OAAO,OAAO,CAAA;AAChB,CAAC"}},
    {"offset": {"line": 927, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/utils/is-thenable.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/utils/is-thenable.ts"],"sourcesContent":["/**\n *  Check if  thenable\n *  (instanceof Promise doesn't respect realms)\n */\nexport const isThenable = (value: unknown): boolean =>\n  typeof value === 'object' &&\n  value !== null &&\n  'then' in value &&\n  typeof (value as any).then === 'function'\n"],"names":[],"mappings":"AAAA;;;GAGG;;;;AACI,IAAM,UAAU,GAAG,SAAC,KAAc;IACvC,OAAA,OAAO,KAAK,KAAK,QAAQ,IACzB,KAAK,KAAK,IAAI,IACd,MAAM,IAAI,KAAK,IACf,OAAQ,KAAa,CAAC,IAAI,KAAK,UAAU;AAHzC,CAGyC,CAAA"}},
    {"offset": {"line": 941, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/task/task-group.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/task/task-group.ts"],"sourcesContent":["import { isThenable } from '../utils/is-thenable'\n\nexport type TaskGroup = {\n  done: () => Promise<void>\n  run: <Operation extends (...args: any[]) => any>(\n    op: Operation\n  ) => ReturnType<Operation>\n}\n\nexport const createTaskGroup = (): TaskGroup => {\n  let taskCompletionPromise: Promise<void>\n  let resolvePromise: () => void\n  let count = 0\n\n  return {\n    done: () => taskCompletionPromise,\n    run: (op) => {\n      const returnValue = op()\n\n      if (isThenable(returnValue)) {\n        if (++count === 1) {\n          taskCompletionPromise = new Promise((res) => (resolvePromise = res))\n        }\n\n        returnValue.finally(() => --count === 0 && resolvePromise())\n      }\n\n      return returnValue\n    },\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAA;;AAS1C,IAAM,eAAe,GAAG;IAC7B,IAAI,qBAAoC,CAAA;IACxC,IAAI,cAA0B,CAAA;IAC9B,IAAI,KAAK,GAAG,CAAC,CAAA;IAEb,OAAO;QACL,IAAI,EAAE;YAAM,OAAA,qBAAqB;QAArB,CAAqB;QACjC,GAAG,EAAE,SAAC,EAAE;YACN,IAAM,WAAW,GAAG,EAAE,EAAE,CAAA;YAExB,QAAI,sMAAU,EAAC,WAAW,CAAC,EAAE;gBAC3B,IAAI,EAAE,KAAK,KAAK,CAAC,EAAE;oBACjB,qBAAqB,GAAG,IAAI,OAAO,CAAC,SAAC,GAAG;wBAAK,OAAA,AAAC,cAAc,GAAG,GAAG,CAAC;oBAAtB,CAAsB,CAAC,CAAA;iBACrE;gBAED,WAAW,CAAC,OAAO,CAAC;oBAAM,OAAA,EAAE,KAAK,KAAK,CAAC,IAAI,cAAc,EAAE;gBAAjC,CAAiC,CAAC,CAAA;aAC7D;YAED,OAAO,WAAW,CAAA;QACpB,CAAC;KACF,CAAA;AACH,CAAC,CAAA"}},
    {"offset": {"line": 975, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/queue/delivery.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/queue/delivery.ts"],"sourcesContent":["import { CoreContext, ContextCancelation } from '../context'\nimport { CorePlugin } from '../plugins'\n\nasync function tryAsync<T>(fn: () => T | Promise<T>): Promise<T> {\n  try {\n    return await fn()\n  } catch (err) {\n    return Promise.reject(err)\n  }\n}\n\nexport function attempt<Ctx extends CoreContext = CoreContext>(\n  ctx: Ctx,\n  plugin: CorePlugin<Ctx>\n): Promise<Ctx | ContextCancelation | Error> {\n  ctx.log('debug', 'plugin', { plugin: plugin.name })\n  const start = new Date().getTime()\n\n  const hook = plugin[ctx.event.type]\n  if (hook === undefined) {\n    return Promise.resolve(ctx)\n  }\n\n  const newCtx = tryAsync(() => hook.apply(plugin, [ctx]))\n    .then((ctx) => {\n      const done = new Date().getTime() - start\n      ctx.stats.gauge('plugin_time', done, [`plugin:${plugin.name}`])\n\n      return ctx\n    })\n    .catch((err: Error | ContextCancelation) => {\n      if (\n        err instanceof ContextCancelation &&\n        err.type === 'middleware_cancellation'\n      ) {\n        throw err\n      }\n\n      if (err instanceof ContextCancelation) {\n        ctx.log('warn', err.type, {\n          plugin: plugin.name,\n          error: err,\n        })\n\n        return err\n      }\n\n      ctx.log('error', 'plugin Error', {\n        plugin: plugin.name,\n        error: err,\n      })\n      ctx.stats.increment('plugin_error', 1, [`plugin:${plugin.name}`])\n\n      return err\n    })\n\n  return newCtx\n}\n\nexport function ensure<Ctx extends CoreContext = CoreContext>(\n  ctx: Ctx,\n  plugin: CorePlugin<Ctx>\n): Promise<Ctx | undefined> {\n  return attempt(ctx, plugin).then((newContext) => {\n    if (newContext instanceof CoreContext) {\n      return newContext\n    }\n\n    ctx.log('debug', 'Context canceled')\n    ctx.stats.increment('context_canceled')\n    ctx.cancel(newContext)\n  })\n}\n"],"names":[],"mappings":";;;;;;;AAAA,OAAO,EAAE,WAAW,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAA;;;AAG5D,SAAe,QAAQ,CAAI,EAAwB;;;;;;;;;;;;oBAExC,OAAA;wBAAA,EAAA,OAAA;wBAAM,EAAE,EAAE;qBAAA,CAAA;;oBAAjB,OAAA;wBAAA,EAAA,QAAA;wBAAO,GAAA,IAAA,EAAU;qBAAA,CAAA;;;oBAEjB,OAAA;wBAAA,EAAA,QAAA;wBAAO,OAAO,CAAC,MAAM,CAAC,KAAG,CAAC;qBAAA,CAAA;;;;;;;;CAE7B;AAEK,SAAU,OAAO,CACrB,GAAQ,EACR,MAAuB;IAEvB,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE;QAAE,MAAM,EAAE,MAAM,CAAC,IAAI;IAAA,CAAE,CAAC,CAAA;IACnD,IAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAA;IAElC,IAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;IACnC,IAAI,IAAI,KAAK,SAAS,EAAE;QACtB,OAAO,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;KAC5B;IAED,IAAM,MAAM,GAAG,QAAQ,CAAC;QAAM,OAAA,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YAAC,GAAG;SAAC,CAAC;IAAzB,CAAyB,CAAC,CACrD,IAAI,CAAC,SAAC,GAAG;QACR,IAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,KAAK,CAAA;QACzC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,EAAE;YAAC,UAAA,MAAA,CAAU,MAAM,CAAC,IAAI,CAAE;SAAC,CAAC,CAAA;QAE/D,OAAO,GAAG,CAAA;IACZ,CAAC,CAAC,CACD,KAAK,CAAC,SAAC,GAA+B;QACrC,IACE,GAAG,YAAY,uMAAkB,IACjC,GAAG,CAAC,IAAI,KAAK,yBAAyB,EACtC;YACA,MAAM,GAAG,CAAA;SACV;QAED,IAAI,GAAG,YAAY,uMAAkB,EAAE;YACrC,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,EAAE;gBACxB,MAAM,EAAE,MAAM,CAAC,IAAI;gBACnB,KAAK,EAAE,GAAG;aACX,CAAC,CAAA;YAEF,OAAO,GAAG,CAAA;SACX;QAED,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,cAAc,EAAE;YAC/B,MAAM,EAAE,MAAM,CAAC,IAAI;YACnB,KAAK,EAAE,GAAG;SACX,CAAC,CAAA;QACF,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC,EAAE;YAAC,UAAA,MAAA,CAAU,MAAM,CAAC,IAAI,CAAE;SAAC,CAAC,CAAA;QAEjE,OAAO,GAAG,CAAA;IACZ,CAAC,CAAC,CAAA;IAEJ,OAAO,MAAM,CAAA;AACf,CAAC;AAEK,SAAU,MAAM,CACpB,GAAQ,EACR,MAAuB;IAEvB,OAAO,OAAO,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,SAAC,UAAU;QAC1C,IAAI,UAAU,YAAY,gMAAW,EAAE;YACrC,OAAO,UAAU,CAAA;SAClB;QAED,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAA;QACpC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAA;QACvC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAA;IACxB,CAAC,CAAC,CAAA;AACJ,CAAC"}},
    {"offset": {"line": 1075, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-core/dist/esm/queue/event-queue.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-core/src/queue/event-queue.ts"],"sourcesContent":["import { CoreAnalytics } from '../analytics'\nimport { groupBy } from '../utils/group-by'\nimport { ON_REMOVE_FROM_FUTURE, PriorityQueue } from '../priority-queue'\n\nimport { CoreContext, ContextCancelation } from '../context'\nimport { Emitter } from '@segment/analytics-generic-utils'\nimport { IntegrationsOptions } from '../events/interfaces'\nimport { CorePlugin } from '../plugins'\nimport { createTaskGroup, TaskGroup } from '../task/task-group'\nimport { attempt, ensure } from './delivery'\n\nexport type EventQueueEmitterContract<Ctx extends CoreContext> = {\n  message_delivered: [ctx: Ctx]\n  message_enriched: [ctx: Ctx, plugin: CorePlugin<Ctx>]\n  delivery_success: [ctx: Ctx]\n  delivery_retry: [ctx: Ctx]\n  delivery_failure: [ctx: Ctx, err: Ctx | Error | ContextCancelation]\n  flush: [ctx: Ctx, delivered: boolean]\n  initialization_failure: [CorePlugin<Ctx>]\n}\n\nexport abstract class CoreEventQueue<\n  Ctx extends CoreContext = CoreContext,\n  Plugin extends CorePlugin<Ctx> = CorePlugin<Ctx>\n> extends Emitter<EventQueueEmitterContract<Ctx>> {\n  /**\n   * All event deliveries get suspended until all the tasks in this task group are complete.\n   * For example: a middleware that augments the event object should be loaded safely as a\n   * critical task, this way, event queue will wait for it to be ready before sending events.\n   *\n   * This applies to all the events already in the queue, and the upcoming ones\n   */\n  criticalTasks: TaskGroup = createTaskGroup()\n  queue: PriorityQueue<Ctx>\n  plugins: Plugin[] = []\n  failedInitializations: string[] = []\n  private flushing = false\n\n  constructor(priorityQueue: PriorityQueue<Ctx>) {\n    super()\n\n    this.queue = priorityQueue\n    this.queue.on(ON_REMOVE_FROM_FUTURE, () => {\n      this.scheduleFlush(0)\n    })\n  }\n\n  async register(\n    ctx: Ctx,\n    plugin: Plugin,\n    instance: CoreAnalytics\n  ): Promise<void> {\n    this.plugins.push(plugin)\n\n    const handleLoadError = (err: any) => {\n      this.failedInitializations.push(plugin.name)\n      this.emit('initialization_failure', plugin)\n      console.warn(plugin.name, err)\n\n      ctx.log('warn', 'Failed to load destination', {\n        plugin: plugin.name,\n        error: err,\n      })\n\n      // Filter out the failed plugin by excluding it from the list\n      this.plugins = this.plugins.filter((p) => p !== plugin)\n    }\n\n    if (plugin.type === 'destination' && plugin.name !== 'Segment.io') {\n      plugin.load(ctx, instance).catch(handleLoadError)\n    } else {\n      // for non-destinations plugins, we do need to wait for them to load\n      // reminder: action destinations can require plugins that are not of type \"destination\".\n      // For example, GA4 loads a type 'before' plugins and addition to a type 'destination' plugin\n      try {\n        await plugin.load(ctx, instance)\n      } catch (err) {\n        handleLoadError(err)\n      }\n    }\n  }\n\n  async deregister(\n    ctx: Ctx,\n    plugin: CorePlugin<Ctx>,\n    instance: CoreAnalytics\n  ): Promise<void> {\n    try {\n      if (plugin.unload) {\n        await Promise.resolve(plugin.unload(ctx, instance))\n      }\n\n      this.plugins = this.plugins.filter((p) => p.name !== plugin.name)\n    } catch (e) {\n      ctx.log('warn', 'Failed to unload destination', {\n        plugin: plugin.name,\n        error: e,\n      })\n    }\n  }\n\n  async dispatch(ctx: Ctx): Promise<Ctx> {\n    ctx.log('debug', 'Dispatching')\n    ctx.stats.increment('message_dispatched')\n\n    this.queue.push(ctx)\n    const willDeliver = this.subscribeToDelivery(ctx)\n    this.scheduleFlush(0)\n    return willDeliver\n  }\n\n  private async subscribeToDelivery(ctx: Ctx): Promise<Ctx> {\n    return new Promise((resolve) => {\n      const onDeliver = (flushed: Ctx, delivered: boolean): void => {\n        if (flushed.isSame(ctx)) {\n          this.off('flush', onDeliver)\n          if (delivered) {\n            resolve(flushed)\n          } else {\n            resolve(flushed)\n          }\n        }\n      }\n\n      this.on('flush', onDeliver)\n    })\n  }\n\n  async dispatchSingle(ctx: Ctx): Promise<Ctx> {\n    ctx.log('debug', 'Dispatching')\n    ctx.stats.increment('message_dispatched')\n\n    this.queue.updateAttempts(ctx)\n    ctx.attempts = 1\n\n    return this.deliver(ctx).catch((err) => {\n      const accepted = this.enqueuRetry(err, ctx)\n      if (!accepted) {\n        ctx.setFailedDelivery({ reason: err })\n        return ctx\n      }\n\n      return this.subscribeToDelivery(ctx)\n    })\n  }\n\n  isEmpty(): boolean {\n    return this.queue.length === 0\n  }\n\n  private scheduleFlush(timeout = 500): void {\n    if (this.flushing) {\n      return\n    }\n\n    this.flushing = true\n\n    setTimeout(() => {\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.flush().then(() => {\n        setTimeout(() => {\n          this.flushing = false\n\n          if (this.queue.length) {\n            this.scheduleFlush(0)\n          }\n        }, 0)\n      })\n    }, timeout)\n  }\n\n  private async deliver(ctx: Ctx): Promise<Ctx> {\n    await this.criticalTasks.done()\n\n    const start = Date.now()\n    try {\n      ctx = await this.flushOne(ctx)\n      const done = Date.now() - start\n      this.emit('delivery_success', ctx)\n      ctx.stats.gauge('delivered', done)\n      ctx.log('debug', 'Delivered', ctx.event)\n      return ctx\n    } catch (err: any) {\n      const error = err as Ctx | Error | ContextCancelation\n      ctx.log('error', 'Failed to deliver', error)\n      this.emit('delivery_failure', ctx, error)\n      ctx.stats.increment('delivery_failed')\n      throw err\n    }\n  }\n\n  private enqueuRetry(err: Error, ctx: Ctx): boolean {\n    const retriable = !(err instanceof ContextCancelation) || err.retry\n    if (!retriable) {\n      return false\n    }\n\n    return this.queue.pushWithBackoff(ctx)\n  }\n\n  async flush(): Promise<Ctx[]> {\n    if (this.queue.length === 0) {\n      return []\n    }\n\n    let ctx = this.queue.pop()\n    if (!ctx) {\n      return []\n    }\n\n    ctx.attempts = this.queue.getAttempts(ctx)\n\n    try {\n      ctx = await this.deliver(ctx)\n      this.emit('flush', ctx, true)\n    } catch (err: any) {\n      const accepted = this.enqueuRetry(err, ctx)\n\n      if (!accepted) {\n        ctx.setFailedDelivery({ reason: err })\n        this.emit('flush', ctx, false)\n      }\n\n      return []\n    }\n\n    return [ctx]\n  }\n\n  private isReady(): boolean {\n    // return this.plugins.every((p) => p.isLoaded())\n    // should we wait for every plugin to load?\n    return true\n  }\n\n  private availableExtensions(denyList: IntegrationsOptions) {\n    const available = this.plugins.filter((p) => {\n      // Only filter out destination plugins or the Segment.io plugin\n      if (p.type !== 'destination' && p.name !== 'Segment.io') {\n        return true\n      }\n\n      let alternativeNameMatch: boolean | Record<string, unknown> | undefined =\n        undefined\n      p.alternativeNames?.forEach((name) => {\n        if (denyList[name] !== undefined) {\n          alternativeNameMatch = denyList[name]\n        }\n      })\n\n      // Explicit integration option takes precedence, `All: false` does not apply to Segment.io\n      return (\n        denyList[p.name] ??\n        alternativeNameMatch ??\n        (p.name === 'Segment.io' ? true : denyList.All) !== false\n      )\n    })\n\n    const {\n      before = [],\n      enrichment = [],\n      destination = [],\n      after = [],\n    } = groupBy(available, 'type')\n\n    return {\n      before,\n      enrichment,\n      destinations: destination,\n      after,\n    }\n  }\n\n  private async flushOne(ctx: Ctx): Promise<Ctx> {\n    if (!this.isReady()) {\n      throw new Error('Not ready')\n    }\n\n    if (ctx.attempts > 1) {\n      this.emit('delivery_retry', ctx)\n    }\n\n    const { before, enrichment } = this.availableExtensions(\n      ctx.event.integrations ?? {}\n    )\n\n    for (const beforeWare of before) {\n      const temp = await ensure(ctx, beforeWare)\n      if (temp instanceof CoreContext) {\n        ctx = temp\n      }\n\n      this.emit('message_enriched', ctx, beforeWare)\n    }\n\n    for (const enrichmentWare of enrichment) {\n      const temp = await attempt(ctx, enrichmentWare)\n      if (temp instanceof CoreContext) {\n        ctx = temp\n      }\n\n      this.emit('message_enriched', ctx, enrichmentWare)\n    }\n\n    // Enrichment and before plugins can re-arrange the deny list dynamically\n    // so we need to pluck them at the end\n    const { destinations, after } = this.availableExtensions(\n      ctx.event.integrations ?? {}\n    )\n\n    await new Promise((resolve, reject) => {\n      setTimeout(() => {\n        const attempts = destinations.map((destination) =>\n          attempt(ctx, destination)\n        )\n        Promise.all(attempts).then(resolve).catch(reject)\n      }, 0)\n    })\n\n    ctx.stats.increment('message_delivered')\n\n    this.emit('message_delivered', ctx)\n\n    const afterCalls = after.map((after) => attempt(ctx, after))\n    await Promise.all(afterCalls)\n\n    return ctx\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1567, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-generic-utils/dist/esm/emitter/emitter.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-generic-utils/src/emitter/emitter.ts"],"sourcesContent":["type EventName = string\ntype EventFnArgs = any[]\ntype EmitterContract = Record<EventName, EventFnArgs>\n\nexport interface EmitterOptions {\n  /** How many event listeners for a particular event before emitting a warning (0 = disabled)\n   *  @default 10\n   **/\n  maxListeners?: number\n}\n\n/**\n * Event Emitter that takes the expected contract as a generic\n * @example\n * ```ts\n *  type Contract = {\n *    delivery_success: [DeliverySuccessResponse, Metrics],\n *    delivery_failure: [DeliveryError]\n * }\n *  new Emitter<Contract>()\n *  .on('delivery_success', (res, metrics) => ...)\n *  .on('delivery_failure', (err) => ...)\n * ```\n */\nexport class Emitter<Contract extends EmitterContract = EmitterContract> {\n  maxListeners: number\n  constructor(options?: EmitterOptions) {\n    this.maxListeners = options?.maxListeners ?? 10\n  }\n  private callbacks: Partial<Contract> = {}\n  private warned = false\n\n  private warnIfPossibleMemoryLeak<EventName extends keyof Contract>(\n    event: EventName\n  ) {\n    if (this.warned) {\n      return\n    }\n    if (\n      this.maxListeners &&\n      this.callbacks[event]!.length > this.maxListeners\n    ) {\n      console.warn(\n        `Event Emitter: Possible memory leak detected; ${String(\n          event\n        )} has exceeded ${this.maxListeners} listeners.`\n      )\n      this.warned = true\n    }\n  }\n\n  on<EventName extends keyof Contract>(\n    event: EventName,\n    callback: (...args: Contract[EventName]) => void\n  ): this {\n    if (!this.callbacks[event]) {\n      this.callbacks[event] = [callback] as Contract[EventName]\n    } else {\n      this.callbacks[event]!.push(callback)\n      this.warnIfPossibleMemoryLeak(event)\n    }\n    return this\n  }\n\n  once<EventName extends keyof Contract>(\n    event: EventName,\n    callback: (...args: Contract[EventName]) => void\n  ): this {\n    const on = (...args: Contract[EventName]): void => {\n      this.off(event, on)\n      callback.apply(this, args)\n    }\n\n    this.on(event, on)\n    return this\n  }\n\n  off<EventName extends keyof Contract>(\n    event: EventName,\n    callback: (...args: Contract[EventName]) => void\n  ): this {\n    const fns = this.callbacks[event] ?? []\n    const without = fns.filter((fn) => fn !== callback) as Contract[EventName]\n    this.callbacks[event] = without\n    return this\n  }\n\n  emit<EventName extends keyof Contract>(\n    event: EventName,\n    ...args: Contract[EventName]\n  ): this {\n    const callbacks = this.callbacks[event] ?? []\n    callbacks.forEach((callback) => {\n      callback.apply(this, args)\n    })\n    return this\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1653, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/analytics-generic-utils/dist/esm/create-deferred/create-deferred.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-generic-utils/src/create-deferred/create-deferred.ts"],"sourcesContent":["/**\n * Return a promise that can be externally resolved\n */\nexport const createDeferred = <T>() => {\n  let resolve!: (value: T | PromiseLike<T>) => void\n  let reject!: (reason: any) => void\n  let settled = false\n  const promise = new Promise<T>((_resolve, _reject) => {\n    resolve = (...args) => {\n      settled = true\n      _resolve(...args)\n    }\n    reject = (...args) => {\n      settled = true\n      _reject(...args)\n    }\n  })\n\n  return {\n    resolve,\n    reject,\n    promise,\n    isSettled: () => settled,\n  }\n}\n"],"names":[],"mappings":"AAAA;;GAEG;;;;AACI,IAAM,cAAc,GAAG;IAC5B,IAAI,OAA6C,CAAA;IACjD,IAAI,MAA8B,CAAA;IAClC,IAAI,OAAO,GAAG,KAAK,CAAA;IACnB,IAAM,OAAO,GAAG,IAAI,OAAO,CAAI,SAAC,QAAQ,EAAE,OAAO;QAC/C,OAAO,GAAG;YAAC,IAAA,OAAA,EAAA,CAAO;gBAAP,IAAA,KAAA,CAAO,EAAP,KAAA,UAAA,MAAO,EAAP,IAAO,CAAA;gBAAP,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAO;;YAChB,OAAO,GAAG,IAAI,CAAA;YACd,QAAQ,CAAA,KAAA,CAAA,KAAA,GAAI,IAAI,EAAC;QACnB,CAAC,CAAA;QACD,MAAM,GAAG;YAAC,IAAA,OAAA,EAAA,CAAO;gBAAP,IAAA,KAAA,CAAO,EAAP,KAAA,UAAA,MAAO,EAAP,IAAO,CAAA;gBAAP,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAO;;YACf,OAAO,GAAG,IAAI,CAAA;YACd,OAAO,CAAA,KAAA,CAAA,KAAA,GAAI,IAAI,EAAC;QAClB,CAAC,CAAA;IACH,CAAC,CAAC,CAAA;IAEF,OAAO;QACL,OAAO,EAAA,OAAA;QACP,MAAM,EAAA,MAAA;QACN,OAAO,EAAA,OAAA;QACP,SAAS,EAAE;YAAM,OAAA,OAAO;QAAP,CAAO;KACzB,CAAA;AACH,CAAC,CAAA"}},
    {"offset": {"line": 1694, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/analytics-page-tools/dist/esm/index.mjs"],"sourcesContent":["// src/page-context.ts\nfunction isPlainObject(obj) {\n    return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase() === \"object\";\n}\nvar BufferedPageContextDiscriminant = \"bpc\";\nvar createBufferedPageContext = function(url, canonicalUrl, search, path, title, referrer) {\n    return {\n        __t: BufferedPageContextDiscriminant,\n        c: canonicalUrl,\n        p: path,\n        u: url,\n        s: search,\n        t: title,\n        r: referrer\n    };\n};\nvar BUFFERED_PAGE_CONTEXT_KEYS = Object.keys(createBufferedPageContext(\"\", \"\", \"\", \"\", \"\", \"\"));\nfunction isBufferedPageContext(bufferedPageCtx) {\n    if (!isPlainObject(bufferedPageCtx)) return false;\n    if (bufferedPageCtx.__t !== BufferedPageContextDiscriminant) return false;\n    for(var k in bufferedPageCtx){\n        if (!BUFFERED_PAGE_CONTEXT_KEYS.includes(k)) {\n            return false;\n        }\n    }\n    return true;\n}\nvar createCanonicalURL = function(canonicalUrl, searchParams) {\n    return canonicalUrl.indexOf(\"?\") > -1 ? canonicalUrl : canonicalUrl + searchParams;\n};\nvar removeHash = function(href) {\n    var hashIdx = href.indexOf(\"#\");\n    return hashIdx === -1 ? href : href.slice(0, hashIdx);\n};\nvar parseCanonicalPath = function(canonicalUrl) {\n    try {\n        return new URL(canonicalUrl).pathname;\n    } catch (_e) {\n        return canonicalUrl[0] === \"/\" ? canonicalUrl : \"/\" + canonicalUrl;\n    }\n};\nvar createPageContext = function(param) {\n    var canonicalUrl = param.c, pathname = param.p, search = param.s, url = param.u, referrer = param.r, title = param.t;\n    var newPath = canonicalUrl ? parseCanonicalPath(canonicalUrl) : pathname;\n    var newUrl = canonicalUrl ? createCanonicalURL(canonicalUrl, search) : removeHash(url);\n    return {\n        path: newPath,\n        referrer: referrer,\n        search: search,\n        title: title,\n        url: newUrl\n    };\n};\nvar getDefaultBufferedPageContext = function() {\n    var c = document.querySelector(\"link[rel='canonical']\");\n    return createBufferedPageContext(location.href, c && c.getAttribute(\"href\") || void 0, location.search, location.pathname, document.title, document.referrer);\n};\nvar getDefaultPageContext = function() {\n    return createPageContext(getDefaultBufferedPageContext());\n};\nexport { BufferedPageContextDiscriminant, createBufferedPageContext, createPageContext, getDefaultBufferedPageContext, getDefaultPageContext, isBufferedPageContext };\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,sBAAsB;AACtB,SAAS,cAAc,GAAG;IACtB,OAAO,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,GAAG,CAAC,GAAG,WAAW,OAAO;AAC9E;AACA,IAAI,kCAAkC;AACtC,IAAI,4BAA4B,SAAS,GAAG,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ;IACrF,OAAO;QACH,KAAK;QACL,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;IACP;AACJ;AACA,IAAI,6BAA6B,OAAO,IAAI,CAAC,0BAA0B,IAAI,IAAI,IAAI,IAAI,IAAI;AAC3F,SAAS,sBAAsB,eAAe;IAC1C,IAAI,CAAC,cAAc,kBAAkB,OAAO;IAC5C,IAAI,gBAAgB,GAAG,KAAK,iCAAiC,OAAO;IACpE,IAAI,IAAI,KAAK,gBAAgB;QACzB,IAAI,CAAC,2BAA2B,QAAQ,CAAC,IAAI;YACzC,OAAO;QACX;IACJ;IACA,OAAO;AACX;AACA,IAAI,qBAAqB,SAAS,YAAY,EAAE,YAAY;IACxD,OAAO,aAAa,OAAO,CAAC,OAAO,CAAC,IAAI,eAAe,eAAe;AAC1E;AACA,IAAI,aAAa,SAAS,IAAI;IAC1B,IAAI,UAAU,KAAK,OAAO,CAAC;IAC3B,OAAO,YAAY,CAAC,IAAI,OAAO,KAAK,KAAK,CAAC,GAAG;AACjD;AACA,IAAI,qBAAqB,SAAS,YAAY;IAC1C,IAAI;QACA,OAAO,IAAI,IAAI,cAAc,QAAQ;IACzC,EAAE,OAAO,IAAI;QACT,OAAO,YAAY,CAAC,EAAE,KAAK,MAAM,eAAe,MAAM;IAC1D;AACJ;AACA,IAAI,oBAAoB,SAAS,KAAK;IAClC,IAAI,eAAe,MAAM,CAAC,EAAE,WAAW,MAAM,CAAC,EAAE,SAAS,MAAM,CAAC,EAAE,MAAM,MAAM,CAAC,EAAE,WAAW,MAAM,CAAC,EAAE,QAAQ,MAAM,CAAC;IACpH,IAAI,UAAU,eAAe,mBAAmB,gBAAgB;IAChE,IAAI,SAAS,eAAe,mBAAmB,cAAc,UAAU,WAAW;IAClF,OAAO;QACH,MAAM;QACN,UAAU;QACV,QAAQ;QACR,OAAO;QACP,KAAK;IACT;AACJ;AACA,IAAI,gCAAgC;IAChC,IAAI,IAAI,SAAS,aAAa,CAAC;IAC/B,OAAO,0BAA0B,SAAS,IAAI,EAAE,KAAK,EAAE,YAAY,CAAC,WAAW,KAAK,GAAG,SAAS,MAAM,EAAE,SAAS,QAAQ,EAAE,SAAS,KAAK,EAAE,SAAS,QAAQ;AAChK;AACA,IAAI,wBAAwB;IACxB,OAAO,kBAAkB;AAC7B","ignoreList":[0]}},
    {"offset": {"line": 1773, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/address.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/address.js"],"sourcesContent":["\"use strict\";\n\nimport get from \"obj-case\";\n\nfunction trait(a, b) {\n  return function () {\n    // @ts-ignore\n    let traits = this.traits();\n    // @ts-ignore\n    let props = this.properties ? this.properties() : {};\n\n    return (\n      get(traits, \"address.\" + a) ||\n      get(traits, a) ||\n      (b ? get(traits, \"address.\" + b) : null) ||\n      (b ? get(traits, b) : null) ||\n      get(props, \"address.\" + a) ||\n      get(props, a) ||\n      (b ? get(props, \"address.\" + b) : null) ||\n      (b ? get(props, b) : null)\n    );\n  };\n}\n\n/**\n * Add address getters to `proto`.\n *\n * @ignore\n * @param {Function} proto\n */\nexport default function (proto) {\n  proto.zip = trait(\"postalCode\", \"zip\");\n  proto.country = trait(\"country\");\n  proto.street = trait(\"street\");\n  proto.state = trait(\"state\");\n  proto.city = trait(\"city\");\n  proto.region = trait(\"region\");\n}\n"],"names":[],"mappings":";;;;;;;;AAEA,IAAA,aAAA,qCAA2B;AAE3B,SAAS,KAAK,CAAC,CAAC,EAAE,CAAC;IACjB,OAAO;QAEL,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;QAE3B,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAA,CAAE,CAAC;QAErD,OAAO,AACL,WAAA,OAAG,CAAC,MAAM,EAAE,UAAU,GAAG,CAAC,CAAC,IAC3B,WAAA,OAAG,CAAC,MAAM,EAAE,CAAC,CAAC,IACd,CAAC,CAAC,CAAC,CAAC,CAAC,WAAA,OAAG,CAAC,MAAM,EAAE,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IACxC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAA,OAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAC3B,WAAA,OAAG,CAAC,KAAK,EAAE,UAAU,GAAG,CAAC,CAAC,IAC1B,WAAA,OAAG,CAAC,KAAK,EAAE,CAAC,CAAC,IACb,CAAC,CAAC,CAAC,CAAC,CAAC,WAAA,OAAG,CAAC,KAAK,EAAE,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IACvC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAA,OAAG,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAC3B,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC;AAQD,SAAA,UAAyB,KAAK;IAC5B,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;IACvC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;IACjC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC/B,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;IAC7B,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;IAC3B,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;AACjC,CAAC;AAPD,QAAA,OAAA,GAAA,UAOC"}},
    {"offset": {"line": 1802, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/clone.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/clone.js"],"sourcesContent":["export function clone(properties) {\n  if (typeof properties !== 'object') return properties\n\n  if (Object.prototype.toString.call(properties) === '[object Object]') {\n    const temp = {};\n    for (const key in properties) {\n      if (Object.prototype.hasOwnProperty.call(properties, key)) {\n        temp[key] = clone(properties[key]);\n      }\n    }\n    return temp;\n  } else if (Array.isArray(properties)) {\n    return properties.map(clone);\n  } else {\n    // this is dangerous because it means this is not cloned\n    return properties;\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,SAAgB,KAAK,CAAC,UAAU;IAC9B,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE,OAAO,UAAU,CAAA;IAErD,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,iBAAiB,EAAE;QACpE,IAAM,IAAI,GAAG,CAAA,CAAE,CAAC;QAChB,IAAK,IAAM,GAAG,IAAI,UAAU,CAAE;YAC5B,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,CAAC,EAAE;gBACzD,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;aACpC;SACF;QACD,OAAO,IAAI,CAAC;KACb,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;QACpC,OAAO,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;KAC9B,MAAM;QAEL,OAAO,UAAU,CAAC;KACnB;AACH,CAAC;AAjBD,QAAA,KAAA,GAAA,MAiBC"}},
    {"offset": {"line": 1827, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/is-enabled.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/is-enabled.js"],"sourcesContent":["\"use strict\";\n\n// A few integrations are disabled by default. They must be explicitly enabled\n// by setting options[Provider] = true.\nlet disabled = {\n  Salesforce: true,\n};\n\n/**\n * Check whether an integration should be enabled by default.\n *\n * @ignore\n * @param {string} integration\n * @return {boolean}\n */\nexport default function (integration) {\n  return !disabled[integration];\n}\n"],"names":[],"mappings":";;;AAIA,IAAI,QAAQ,GAAG;IACb,UAAU,EAAE,IAAI;CACjB,CAAC;AASF,SAAA,UAAyB,WAAW;IAClC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;AAChC,CAAC;AAFD,QAAA,OAAA,GAAA,UAEC"}},
    {"offset": {"line": 1841, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/facade.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/facade.js"],"sourcesContent":["\"use strict\";\n\nimport address from \"./address\";\nimport { clone } from \"./clone\";\nimport isEnabled from \"./is-enabled\";\nimport newDate from \"new-date\";\nimport objCase from \"obj-case\";\nimport traverse from \"@segment/isodate-traverse\";\n\n/**\n * A *Facade* is an object meant for creating convience wrappers around\n * objects. When developing integrations, you probably want to look at its\n * subclasses, such as {@link Track} or {@link Identify}, rather than this\n * general-purpose class.\n *\n * This letructor will initialize a new `Facade` with an `obj` of arguments.\n *\n * If the inputted `obj` doesn't have a `timestamp` property, one will be added\n * with the value `new Date()`. Otherwise, the `timestamp` property will be\n * converted to a Date using the `new-date` package.\n *\n * By default, the inputted object will be defensively copied, and all ISO\n * strings present in the string will be converted into Dates.\n *\n * @param {Object} obj - The object to wrap.\n * @param {Object} opts - Options about what kind of Facade to create.\n * @param {boolean} [opts.clone=true] - Whether to make defensive clones. If enabled,\n * the inputted object will be cloned, and any objects derived from this facade\n * will be cloned before being returned.\n * @param {boolean} [opts.traverse=true] - Whether to perform ISODate-Traverse\n * on the inputted object.\n *\n * @see {@link https://github.com/segmentio/new-date|new-date}\n * @see {@link https://github.com/segmentio/isodate-traverse|isodate-traverse}\n */\nexport function Facade (obj, opts) {\n  opts = opts || {};\n  this.raw = clone(obj);\n  if (!(\"clone\" in opts)) opts.clone = true;\n  if (opts.clone) obj = clone(obj);\n  if (!(\"traverse\" in opts)) opts.traverse = true;\n  if (!(\"timestamp\" in obj)) obj.timestamp = new Date();\n  else obj.timestamp = newDate(obj.timestamp);\n  if (opts.traverse) traverse(obj);\n  this.opts = opts;\n  this.obj = obj;\n}\n\nconst f = Facade.prototype;\n\n/**\n * Get a potentially-nested field in this facade. `field` should be a\n * period-separated sequence of properties.\n *\n * If the first field passed in points to a function (e.g. the `field` passed\n * in is `a.b.c` and this facade's `obj.a` is a function), then that function\n * will be called, and then the deeper fields will be fetched (using obj-case)\n * from what that function returns. If the first field isn't a function, then\n * this function works just like obj-case.\n *\n * Because this function uses obj-case, the camel- or snake-case of the input\n * is irrelevant.\n *\n * @example\n * YourClass.prototype.height = function() {\n *   return this.proxy('getDimensions.height') ||\n *     this.proxy('props.size.side_length');\n * }\n * @param {string} field - A sequence of properties, joined by periods (`.`).\n * @return {*} - A property of the inputted object.\n * @see {@link https://github.com/segmentio/obj-case|obj-case}\n */\nf.proxy = function(field) {\n  let fields = field.split(\".\");\n  field = fields.shift();\n\n  // Call a function at the beginning to take advantage of facaded fields\n  let obj = this[field] || this.obj[field];\n  if (!obj) return obj;\n  if (typeof obj === \"function\") obj = obj.call(this) || {};\n  if (fields.length === 0) return this.opts.clone ? transform(obj) : obj;\n\n  obj = objCase(obj, fields.join(\".\"));\n  return this.opts.clone ? transform(obj) : obj;\n};\n\n/**\n * Directly access a specific `field` from the underlying object. Only\n * \"top-level\" fields will work with this function. \"Nested\" fields *will not\n * work* with this function.\n *\n * @param {string} field\n * @return {*}\n */\nf.field = function(field) {\n  let obj = this.obj[field];\n  return this.opts.clone ? transform(obj) : obj;\n};\n\n/**\n * Utility method to always proxy a particular `field`. In other words, it\n * returns a function that will always return `this.proxy(field)`.\n *\n * @example\n * MyClass.prototype.height = Facade.proxy('options.dimensions.height');\n *\n * @param {string} field\n * @return {Function}\n */\nFacade.proxy = function(field) {\n  return function() {\n    return this.proxy(field);\n  };\n};\n\n/**\n * Utility method to always access a `field`. In other words, it returns a\n * function that will always return `this.field(field)`.\n *\n * @param {string} field\n * @return {Function}\n */\nFacade.field = function(field) {\n  return function() {\n    return this.field(field);\n  };\n};\n\n/**\n * Create a helper function for fetching a \"plural\" thing.\n *\n * The generated method will take the inputted `path` and append an \"s\" to it\n * and calls `this.proxy` with this \"pluralized\" path. If that produces an\n * array, that will be returned. Otherwise, a one-element array containing\n * `this.proxy(path)` will be returned.\n *\n * @example\n * MyClass.prototype.birds = Facade.multi('animals.bird');\n *\n * @param {string} path\n * @return {Function}\n */\nFacade.multi = function(path) {\n  return function() {\n    let multi = this.proxy(path + \"s\");\n    if (Array.isArray(multi)) return multi;\n    let one = this.proxy(path);\n    if (one) one = [this.opts.clone ? clone(one) : one];\n    return one || [];\n  };\n};\n\n/**\n * Create a helper function for getting a \"singular\" thing.\n *\n * The generated method will take the inputted path and call\n * `this.proxy(path)`. If a truthy thing is produced, it will be returned.\n * Otherwise, `this.proxy(path + 's')` will be called, and if that produces an\n * array the first element of that array will be returned. Otherwise,\n * `undefined` is returned.\n *\n * @example\n * MyClass.prototype.bird = Facade.one('animals.bird');\n *\n * @param {string} path\n * @return {Function}\n */\nFacade.one = function(path) {\n  return function() {\n    let one = this.proxy(path);\n    if (one) return one;\n    let multi = this.proxy(path + \"s\");\n    if (Array.isArray(multi)) return multi[0];\n  };\n};\n\n/**\n * Gets the underlying object this facade wraps around.\n *\n * If this facade has a property `type`, it will be invoked as a function and\n * will be assigned as the property `type` of the outputted object.\n *\n * @return {Object}\n */\nf.json = function() {\n  let ret = this.opts.clone ? clone(this.obj) : this.obj;\n  if (this.type) ret.type = this.type();\n  return ret;\n};\n\n/**\n * Gets a copy of the unmodified input object this facade wraps around.\n * \n * Unlike the `json` method which does make some subtle modifications \n * to datetime values and the `type` property. This method returns a copy of \n * the unmodified input object\n * \n * @return {Object}\n */\nf.rawEvent = function() {\n  return this.raw;\n};\n\n/**\n * Get the options of a call. If an integration is passed, only the options for\n * that integration are included. If the integration is not enabled, then\n * `undefined` is returned.\n *\n * Options are taken from the `options` property of the underlying object,\n * falling back to the object's `context` or simply `{}`.\n *\n * @param {string} integration - The name of the integration to get settings\n * for. Casing does not matter.\n * @return {Object|undefined}\n */\nf.options = function(integration) {\n  let obj = this.obj.options || this.obj.context || {};\n  let options = this.opts.clone ? clone(obj) : obj;\n  if (!integration) return options;\n  if (!this.enabled(integration)) return;\n  let integrations = this.integrations();\n  let value = integrations[integration] || objCase(integrations, integration);\n  if (typeof value !== \"object\") value = objCase(this.options(), integration);\n  return typeof value === \"object\" ? value : {};\n};\n\n/**\n * An alias for {@link Facade#options}.\n */\nf.context = f.options;\n\n/**\n * Check whether an integration is enabled.\n *\n * Basically, this method checks whether this integration is explicitly\n * enabled. If it isn'texplicitly mentioned, it checks whether it has been\n * enabled at the global level. Some integrations (e.g. Salesforce), cannot\n * enabled by these global event settings.\n *\n * More concretely, the deciding factors here are:\n *\n * 1. If `this.integrations()` has the integration set to `true`, return `true`.\n * 2. If `this.integrations().providers` has the integration set to `true`, return `true`.\n * 3. If integrations are set to default-disabled via global parameters (i.e.\n * `options.providers.all`, `options.all`, or `integrations.all`), then return\n * false.\n * 4. If the integration is one of the special default-deny integrations\n * (currently, only Salesforce), then return false.\n * 5. Else, return true.\n *\n * @param {string} integration\n * @return {boolean}\n */\nf.enabled = function(integration) {\n  let allEnabled = this.proxy(\"options.providers.all\");\n  if (typeof allEnabled !== \"boolean\") allEnabled = this.proxy(\"options.all\");\n  if (typeof allEnabled !== \"boolean\")\n    allEnabled = this.proxy(\"integrations.all\");\n  if (typeof allEnabled !== \"boolean\") allEnabled = true;\n\n  let enabled = allEnabled && isEnabled(integration);\n  let options = this.integrations();\n\n  // If the integration is explicitly enabled or disabled, use that\n  // First, check options.providers for backwards compatibility\n  if (options.providers && options.providers.hasOwnProperty(integration)) {\n    enabled = options.providers[integration];\n  }\n\n  // Next, check for the integration's existence in 'options' to enable it.\n  // If the settings are a boolean, use that, otherwise it should be enabled.\n  if (options.hasOwnProperty(integration)) {\n    let settings = options[integration];\n    if (typeof settings === \"boolean\") {\n      enabled = settings;\n    } else {\n      enabled = true;\n    }\n  }\n\n  return !!enabled;\n};\n\n/**\n * Get all `integration` options.\n *\n * @ignore\n * @param {string} integration\n * @return {Object}\n */\nf.integrations = function() {\n  return (\n    this.obj.integrations || this.proxy(\"options.providers\") || this.options()\n  );\n};\n\n/**\n * Check whether the user is active.\n *\n * @return {boolean}\n */\nf.active = function() {\n  let active = this.proxy(\"options.active\");\n  if (active === null || active === undefined) active = true;\n  return active;\n};\n\n/**\n * Get `sessionId / anonymousId`.\n *\n * @return {*}\n */\nf.anonymousId = function() {\n  return this.field(\"anonymousId\") || this.field(\"sessionId\");\n};\n\n/**\n * An alias for {@link Facade#anonymousId}.\n *\n * @function\n * @return {string}\n */\nf.sessionId = f.anonymousId;\n\n/**\n * Get `groupId` from `context.groupId`.\n *\n * @function\n * @return {string}\n */\nf.groupId = Facade.proxy(\"options.groupId\");\n\n/**\n * Get the call's \"traits\". All event types can pass in traits, though {@link\n * Identify} and {@link Group} override this implementation.\n *\n * Traits are gotten from `options.traits`, augmented with a property `id` with\n * the event's `userId`.\n *\n * The parameter `aliases` is meant to transform keys in `options.traits` into\n * new keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx`\n * in the traits, and move it to `yyy`. If `xxx` is a method of this facade,\n * it'll be called as a function instead of treated as a key into the traits.\n *\n * @example\n * let obj = { options: { traits: { foo: \"bar\" } }, anonymousId: \"xxx\" }\n * let facade = new Facade(obj)\n *\n * facade.traits() // { \"foo\": \"bar\" }\n * facade.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * facade.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\nf.traits = function(aliases) {\n  let ret = this.proxy(\"options.traits\") || {};\n  let id = this.userId();\n  aliases = aliases || {};\n\n  if (id) ret.id = id;\n\n  for (const alias in aliases) {\n    if (Object.prototype.hasOwnProperty.call(aliases, alias)) {\n      const value = this[alias] == null\n        ? this.proxy(\"options.traits.\" + alias)\n        : this[alias]();\n      if (value == null) continue;\n      ret[aliases[alias]] = value;\n      delete ret[alias];\n    }\n  }\n\n  return ret;\n};\n\n/**\n * The library and version of the client used to produce the message.\n *\n * If the library name cannot be determined, it is set to `\"unknown\"`. If the\n * version cannot be determined, it is set to `null`.\n *\n * @return {{name: string, version: string}}\n */\nf.library = function() {\n  let library = this.proxy(\"options.library\");\n  if (!library) return { name: \"unknown\", version: null };\n  if (typeof library === \"string\") return { name: library, version: null };\n  return library;\n};\n\n/**\n * Return the device information, falling back to an empty object.\n *\n * Interesting values of `type` are `\"ios\"` and `\"android\"`, but other values\n * are possible if the client is doing something unusual with `context.device`.\n *\n * @return {{type: string}}\n */\nf.device = function() {\n  let device = this.proxy(\"context.device\");\n  if (typeof device !== \"object\" || device === null) {\n    device = {};\n  }\n  let library = this.library().name;\n  if (device.type) return device;\n\n  if (library.indexOf(\"ios\") > -1) device.type = \"ios\";\n  if (library.indexOf(\"android\") > -1) device.type = \"android\";\n  return device;\n};\n\n/**\n * Get the User-Agent from `context.userAgent`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nf.userAgent = Facade.proxy(\"context.userAgent\");\n\n/**\n * Get the timezone from `context.timezone`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nf.timezone = Facade.proxy(\"context.timezone\");\n\n/**\n * Get the timestamp from `context.timestamp`.\n *\n * @function\n * @return string\n */\nf.timestamp = Facade.field(\"timestamp\");\n\n/**\n * Get the channel from `channel`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nf.channel = Facade.field(\"channel\");\n\n/**\n * Get the IP address from `context.ip`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nf.ip = Facade.proxy(\"context.ip\");\n\n/**\n * Get the user ID from `userId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nf.userId = Facade.field(\"userId\");\n\n/**\n * Get the ZIP/Postal code from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name zip\n * @function\n * @memberof f\n * @return {string}\n */\n\n/**\n * Get the country from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name country\n * @function\n * @memberof f\n * @return {string}\n */\n\n/**\n * Get the street from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name street\n * @function\n * @memberof f\n * @return {string}\n */\n\n/**\n * Get the state from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name state\n * @function\n * @memberof f\n * @return {string}\n */\n\n/**\n * Get the city from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name city\n * @function\n * @memberof f\n * @return {string}\n */\n\n/**\n * Get the region from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name region\n * @function\n * @memberof f\n * @return {string}\n */\n\naddress(f);\n\n/**\n * Return the cloned and traversed object\n *\n * @ignore\n * @param {*} obj\n * @return {*}\n */\nfunction transform (obj) {\n  return clone(obj);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2017, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/alias.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/alias.js"],"sourcesContent":["\"use strict\";\n\nimport inherit from \"inherits\";\nimport { Facade } from \"./facade\";\n\n/**\n * Initialize a new `Alias` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.from] - The previous ID of the user.\n * @param {string} [dictionary.to] - The new ID of the user.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nexport function Alias(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Alias, Facade);\n\n/**\n * Return the type of facade this is. This will always return `\"alias\"`.\n *\n * @return {string}\n */\nAlias.prototype.action = function () {\n  return \"alias\";\n};\n\n/**\n * An alias for {@link Alias#action}.\n *\n * @function\n * @return {string}\n */\nAlias.prototype.type = Alias.prototype.action;\n\n/**\n * Get the user's previous ID from `previousId` or `from`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nAlias.prototype.previousId = function () {\n  return this.field(\"previousId\") || this.field(\"from\");\n};\n\n/**\n * An alias for {@link Alias#previousId}.\n *\n * @function\n * @return {string}\n */\nAlias.prototype.from = Alias.prototype.previousId;\n\n/**\n * Get the user's new ID from `userId` or `to`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nAlias.prototype.userId = function () {\n  return this.field(\"userId\") || this.field(\"to\");\n};\n\n/**\n * An alias for {@link Alias#userId}.\n *\n * @function\n * @return {string}\n */\nAlias.prototype.to = Alias.prototype.userId;\n"],"names":[],"mappings":";;;;;;;;;AAEA,IAAA,aAAA,qCAA+B;AAC/B,IAAA,+BAAkC;AAYlC,SAAgB,KAAK,CAAC,UAAU,EAAE,IAAI;IACpC,SAAA,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;AACtC,CAAC;AAFD,QAAA,KAAA,GAAA,MAEC;AAED,WAAA,OAAO,CAAC,KAAK,EAAE,SAAA,MAAM,CAAC,CAAC;AAOvB,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG;IACvB,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC;AAQF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;AAU9C,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG;IAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AACxD,CAAC,CAAC;AAQF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC;AAUlD,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG;IACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAClD,CAAC,CAAC;AAQF,KAAK,CAAC,SAAS,CAAC,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 2049, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/is-email.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/is-email.js"],"sourcesContent":["const matcher = /.+\\@.+\\..+/;\n\nexport default function isEmail(string) {\n  return matcher.test(string);\n}\n"],"names":[],"mappings":";;;AAAA,IAAM,OAAO,GAAG,YAAY,CAAC;AAE7B,SAAwB,OAAO,CAAC,MAAM;IACpC,OAAO,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC9B,CAAC;AAFD,QAAA,OAAA,GAAA,QAEC"}},
    {"offset": {"line": 2061, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/group.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/group.js"],"sourcesContent":["\"use strict\";\n\nimport inherit from \"inherits\";\nimport isEmail from \"./is-email\";\nimport newDate from \"new-date\";\nimport { Facade } from \"./facade\";\n\n/**\n * Initialize a new `Group` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.userId] - The user to add to the group.\n * @param {string} [dictionary.groupId] - The ID of the group.\n * @param {Object} [dictionary.traits] - The traits of the group.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nexport function Group(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Group, Facade);\n\nconst g = Group.prototype;\n\n/**\n * Return the type of facade this is. This will always return `\"group\"`.\n *\n * @return {string}\n */\ng.action = function () {\n  return \"group\";\n};\n\n/**\n * An alias for {@link Group#action}.\n *\n * @function\n * @return {string}\n */\ng.type = g.action;\n\n/**\n * Get the group ID from `groupId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ng.groupId = Facade.field(\"groupId\");\n\n/**\n * Get the time of creation of the group from `traits.createdAt`,\n * `traits.created`, `properties.createdAt`, or `properties.created`.\n *\n * @return {Date}\n */\ng.created = function () {\n  var created =\n    this.proxy(\"traits.createdAt\") ||\n    this.proxy(\"traits.created\") ||\n    this.proxy(\"properties.createdAt\") ||\n    this.proxy(\"properties.created\");\n\n  if (created) return newDate(created);\n};\n\n/**\n * Get the group's email from `traits.email`, falling back to `groupId` only if\n * it looks like a valid email.\n *\n * @return {string}\n */\ng.email = function () {\n  var email = this.proxy(\"traits.email\");\n  if (email) return email;\n  var groupId = this.groupId();\n  if (isEmail(groupId)) return groupId;\n};\n\n/**\n * Get the group's traits. This is identical to how {@link Facade#traits}\n * works, except it looks at `traits.*` instead of `options.traits.*`.\n *\n * Traits are gotten from `traits`, augmented with a property `id` with\n * the event's `groupId`.\n *\n * The parameter `aliases` is meant to transform keys in `traits` into new\n * keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx` in\n * the traits, and move it to `yyy`. If `xxx` is a method of this facade, it'll\n * be called as a function instead of treated as a key into the traits.\n *\n * @example\n * var obj = { traits: { foo: \"bar\" }, anonymousId: \"xxx\" }\n * var group = new Group(obj)\n *\n * group.traits() // { \"foo\": \"bar\" }\n * group.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * group.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\ng.traits = function (aliases) {\n  var ret = this.properties();\n  var id = this.groupId();\n  aliases = aliases || {};\n\n  if (id) ret.id = id;\n\n  for (const alias in aliases) {\n    if (Object.prototype.hasOwnProperty.call(aliases, alias)) {\n      const value = this[alias] == null\n        ? this.proxy(\"traits.\" + alias)\n        : this[alias]();\n      if (value == null) continue;\n      ret[aliases[alias]] = value;\n      delete ret[alias];\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Get the group's name from `traits.name`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\ng.name = Facade.proxy(\"traits.name\");\n\n/**\n * Get the group's industry from `traits.industry`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\ng.industry = Facade.proxy(\"traits.industry\");\n\n/**\n * Get the group's employee count from `traits.employees`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\ng.employees = Facade.proxy(\"traits.employees\");\n\n/**\n * Get the group's properties from `traits` or `properties`, falling back to\n * simply an empty object.\n *\n * @return {Object}\n */\ng.properties = function () {\n  // TODO remove this function\n  return this.field(\"traits\") || this.field(\"properties\") || {};\n};\n"],"names":[],"mappings":";;;;;;;;;AAEA,IAAA,aAAA,qCAA+B;AAC/B,IAAA,aAAA,uCAAiC;AACjC,IAAA,aAAA,qCAA+B;AAC/B,IAAA,+BAAkC;AAalC,SAAgB,KAAK,CAAC,UAAU,EAAE,IAAI;IACpC,SAAA,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;AACtC,CAAC;AAFD,QAAA,KAAA,GAAA,MAEC;AAED,WAAA,OAAO,CAAC,KAAK,EAAE,SAAA,MAAM,CAAC,CAAC;AAEvB,IAAM,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC;AAO1B,CAAC,CAAC,MAAM,GAAG;IACT,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC;AAQF,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC;AAUlB,CAAC,CAAC,OAAO,GAAG,SAAA,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AAQpC,CAAC,CAAC,OAAO,GAAG;IACV,IAAI,OAAO,GACT,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAC9B,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAC5B,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,IAClC,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;IAEnC,IAAI,OAAO,EAAE,OAAO,WAAA,OAAO,CAAC,OAAO,CAAC,CAAC;AACvC,CAAC,CAAC;AAQF,CAAC,CAAC,KAAK,GAAG;IACR,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;IACvC,IAAI,KAAK,EAAE,OAAO,KAAK,CAAC;IACxB,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;IAC7B,IAAI,WAAA,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,OAAO,CAAC;AACvC,CAAC,CAAC;AA0BF,CAAC,CAAC,MAAM,GAAG,SAAU,OAAO;IAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;IAC5B,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;IACxB,OAAO,GAAG,OAAO,IAAI,CAAA,CAAE,CAAC;IAExB,IAAI,EAAE,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC;IAEpB,IAAK,IAAM,KAAK,IAAI,OAAO,CAAE;QAC3B,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE;YACxD,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,GAC7B,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,GAC7B,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;YAClB,IAAI,KAAK,IAAI,IAAI,EAAE,SAAS;YAC5B,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC;YAC5B,OAAO,GAAG,CAAC,KAAK,CAAC,CAAC;SACnB;KACF;IAED,OAAO,GAAG,CAAC;AACb,CAAC,CAAC;AAWF,CAAC,CAAC,IAAI,GAAG,SAAA,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AAWrC,CAAC,CAAC,QAAQ,GAAG,SAAA,MAAM,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;AAW7C,CAAC,CAAC,SAAS,GAAG,SAAA,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;AAQ/C,CAAC,CAAC,UAAU,GAAG;IAEb,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAA,CAAE,CAAC;AAChE,CAAC,CAAC"}},
    {"offset": {"line": 2120, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/identify.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/identify.js"],"sourcesContent":["\"use strict\";\n\nimport { Facade } from \"./facade\";\nimport get from \"obj-case\";\nimport inherit from \"inherits\";\nimport isEmail from \"./is-email\";\nimport newDate from \"new-date\";\n\nlet trim = (str) => str.trim();\n\n/**\n * Initialize a new `Identify` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.userId] - The ID of the user.\n * @param {string} [dictionary.anonymousId] - The anonymous ID of the user.\n * @param {string} [dictionary.traits] - The user's traits.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nexport function Identify(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Identify, Facade);\n\nconst i = Identify.prototype;\n\n/**\n * Return the type of facade this is. This will always return `\"identify\"`.\n *\n * @return {string}\n */\ni.action = function () {\n  return \"identify\";\n};\n\n/**\n * An alias for {@link Identify#action}.\n *\n * @function\n * @return {string}\n */\ni.type = i.action;\n\n/**\n * Get the user's traits. This is identical to how {@link Facade#traits} works,\n * except it looks at `traits.*` instead of `options.traits.*`.\n *\n * Traits are gotten from `traits`, augmented with a property `id` with\n * the event's `userId`.\n *\n * The parameter `aliases` is meant to transform keys in `traits` into new\n * keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx` in\n * the traits, and move it to `yyy`. If `xxx` is a method of this facade, it'll\n * be called as a function instead of treated as a key into the traits.\n *\n * @example\n * let obj = { traits: { foo: \"bar\" }, anonymousId: \"xxx\" }\n * let identify = new Identify(obj)\n *\n * identify.traits() // { \"foo\": \"bar\" }\n * identify.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * identify.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\ni.traits = function (aliases) {\n  let ret = this.field(\"traits\") || {};\n  let id = this.userId();\n  aliases = aliases || {};\n\n  if (id) ret.id = id;\n\n  for (let alias in aliases) {\n    let value =\n      this[alias] == null ? this.proxy(\"traits.\" + alias) : this[alias]();\n    if (value == null) continue;\n    ret[aliases[alias]] = value;\n    if (alias !== aliases[alias]) delete ret[alias];\n  }\n\n  return ret;\n};\n\n/**\n * Get the user's email from `traits.email`, falling back to `userId` only if\n * it looks like a valid email.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ni.email = function () {\n  let email = this.proxy(\"traits.email\");\n  if (email) return email;\n\n  let userId = this.userId();\n  if (isEmail(userId)) return userId;\n};\n\n/**\n * Get the time of creation of the user from `traits.created` or\n * `traits.createdAt`.\n *\n * @return {Date}\n */\ni.created = function () {\n  let created = this.proxy(\"traits.created\") || this.proxy(\"traits.createdAt\");\n  if (created) return newDate(created);\n};\n\n/**\n * Get the time of creation of the user's company from `traits.company.created`\n * or `traits.company.createdAt`.\n *\n * @return {Date}\n */\ni.companyCreated = function () {\n  let created =\n    this.proxy(\"traits.company.created\") ||\n    this.proxy(\"traits.company.createdAt\");\n\n  if (created) {\n    return newDate(created);\n  }\n};\n\n/**\n * Get the user's company name from `traits.company.name`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ni.companyName = function () {\n  return this.proxy(\"traits.company.name\");\n};\n\n/**\n * Get the user's name `traits.name`, falling back to combining {@link\n * Identify#firstName} and {@link Identify#lastName} if possible.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ni.name = function () {\n  let name = this.proxy(\"traits.name\");\n  if (typeof name === \"string\") {\n    return trim(name);\n  }\n\n  let firstName = this.firstName();\n  let lastName = this.lastName();\n  if (firstName && lastName) {\n    return trim(firstName + \" \" + lastName);\n  }\n};\n\n/**\n * Get the user's first name from `traits.firstName`, optionally splitting it\n * out of a the full name if that's all that was provided.\n *\n * Splitting the full name works on the assumption that the full name is of the\n * form \"FirstName LastName\"; it will not work for non-Western names.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ni.firstName = function () {\n  let firstName = this.proxy(\"traits.firstName\");\n  if (typeof firstName === \"string\") {\n    return trim(firstName);\n  }\n\n  let name = this.proxy(\"traits.name\");\n  if (typeof name === \"string\") {\n    return trim(name).split(\" \")[0];\n  }\n};\n\n/**\n * Get the user's last name from `traits.lastName`, optionally splitting it out\n * of a the full name if that's all that was provided.\n *\n * Splitting the full name works on the assumption that the full name is of the\n * form \"FirstName LastName\"; it will not work for non-Western names.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ni.lastName = function () {\n  let lastName = this.proxy(\"traits.lastName\");\n  if (typeof lastName === \"string\") {\n    return trim(lastName);\n  }\n\n  let name = this.proxy(\"traits.name\");\n  if (typeof name !== \"string\") {\n    return;\n  }\n\n  let space = trim(name).indexOf(\" \");\n  if (space === -1) {\n    return;\n  }\n\n  return trim(name.substr(space + 1));\n};\n\n/**\n * Get the user's \"unique id\" from `userId`, `traits.username`, or\n * `traits.email`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ni.uid = function () {\n  return this.userId() || this.username() || this.email();\n};\n\n/**\n * Get the user's description from `traits.description` or `traits.background`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ni.description = function () {\n  return this.proxy(\"traits.description\") || this.proxy(\"traits.background\");\n};\n\n/**\n * Get the user's age from `traits.age`, falling back to computing it from\n * `traits.birthday` and the current time.\n *\n * @return {number}\n */\ni.age = function () {\n  let date = this.birthday();\n  let age = get(this.traits(), \"age\");\n  if (age != null) return age;\n  if (!(date instanceof Date)) return;\n  let now = new Date();\n  return now.getFullYear() - date.getFullYear();\n};\n\n/**\n * Get the URL of the user's avatar from `traits.avatar`, `traits.photoUrl`, or\n * `traits.avatarUrl`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ni.avatar = function () {\n  let traits = this.traits();\n  return (\n    get(traits, \"avatar\") || get(traits, \"photoUrl\") || get(traits, \"avatarUrl\")\n  );\n};\n\n/**\n * Get the user's job position from `traits.position` or `traits.jobTitle`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\ni.position = function () {\n  let traits = this.traits();\n  return get(traits, \"position\") || get(traits, \"jobTitle\");\n};\n\n/**\n * Get the user's username from `traits.username`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\ni.username = Facade.proxy(\"traits.username\");\n\n/**\n * Get the user's website from `traits.website`, or if there are multiple in\n * `traits.websites`, return the first one.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\ni.website = Facade.one(\"traits.website\");\n\n/**\n * Get the user's websites from `traits.websites`, or if there is only one in\n * `traits.website`, then wrap it in an array.\n *\n * This *should* be an array of strings, but may not be if the client isn't\n * adhering to the spec.\n *\n * @function\n * @return {array}\n */\ni.websites = Facade.multi(\"traits.website\");\n\n/**\n * Get the user's phone number from `traits.phone`, or if there are multiple in\n * `traits.phones`, return the first one.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\ni.phone = Facade.one(\"traits.phone\");\n\n/**\n * Get the user's phone numbers from `traits.phones`, or if there is only one\n * in `traits.phone`, then wrap it in an array.\n *\n * This *should* be an array of strings, but may not be if the client isn't\n * adhering to the spec.\n *\n * @function\n * @return {array}\n */\ni.phones = Facade.multi(\"traits.phone\");\n\n/**\n * Get the user's address from `traits.address`.\n *\n * This *should* be an object, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {object}\n */\ni.address = Facade.proxy(\"traits.address\");\n\n/**\n * Get the user's gender from `traits.gender`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\ni.gender = Facade.proxy(\"traits.gender\");\n\n/**\n * Get the user's birthday from `traits.birthday`.\n *\n * This *should* be a Date if `opts.traverse` was enabled (it is by default)\n * when letructing this Identify. Otherwise, it should be a string. But it\n * may be neither if the client isn't adhering to the spec.\n * spec.\n *\n * @function\n * @return {object}\n */\ni.birthday = Facade.proxy(\"traits.birthday\");\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2249, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/track.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/track.js"],"sourcesContent":["\"use strict\";\n\nimport inherit from \"inherits\";\nimport { Facade } from \"./facade\";\nimport { Identify } from \"./identify\";\nimport isEmail from \"./is-email\";\nimport get from \"obj-case\";\n\n/**\n * Initialize a new `Track` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.event] - The name of the event being tracked.\n * @param {string} [dictionary.userId] - The ID of the user being tracked.\n * @param {string} [dictionary.anonymousId] - The anonymous ID of the user.\n * @param {string} [dictionary.properties] - Properties of the track event.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nexport function Track(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Track, Facade);\n\nlet t = Track.prototype;\n\n/**\n * Return the type of facade this is. This will always return `\"track\"`.\n *\n * @return {string}\n */\nt.action = function () {\n  return \"track\";\n};\n\n/**\n * An alias for {@link Track#action}.\n *\n * @function\n * @return {string}\n */\nt.type = t.action;\n\n/**\n * Get the event name from `event`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nt.event = Facade.field(\"event\");\n\n/**\n * Get the event value, usually the monetary value, from `properties.value`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nt.value = Facade.proxy(\"properties.value\");\n\n/**\n * Get the event cateogry from `properties.category`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nt.category = Facade.proxy(\"properties.category\");\n\n/**\n * Get the event ID from `properties.id`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nt.id = Facade.proxy(\"properties.id\");\n\n/**\n * Get the product ID from `properties.productId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.productId = function () {\n  return (\n    this.proxy(\"properties.product_id\") || this.proxy(\"properties.productId\")\n  );\n};\n\n/**\n * Get the promotion ID from `properties.promotionId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.promotionId = function () {\n  return (\n    this.proxy(\"properties.promotion_id\") ||\n    this.proxy(\"properties.promotionId\")\n  );\n};\n\n/**\n * Get the cart ID from `properties.cartId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.cartId = function () {\n  return this.proxy(\"properties.cart_id\") || this.proxy(\"properties.cartId\");\n};\n\n/**\n * Get the checkout ID from `properties.checkoutId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.checkoutId = function () {\n  return (\n    this.proxy(\"properties.checkout_id\") || this.proxy(\"properties.checkoutId\")\n  );\n};\n\n/**\n * Get the payment ID from `properties.paymentId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.paymentId = function () {\n  return (\n    this.proxy(\"properties.payment_id\") || this.proxy(\"properties.paymentId\")\n  );\n};\n\n/**\n * Get the coupon ID from `properties.couponId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.couponId = function () {\n  return (\n    this.proxy(\"properties.coupon_id\") || this.proxy(\"properties.couponId\")\n  );\n};\n\n/**\n * Get the wishlist ID from `properties.wishlistId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.wishlistId = function () {\n  return (\n    this.proxy(\"properties.wishlist_id\") || this.proxy(\"properties.wishlistId\")\n  );\n};\n\n/**\n * Get the review ID from `properties.reviewId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.reviewId = function () {\n  return (\n    this.proxy(\"properties.review_id\") || this.proxy(\"properties.reviewId\")\n  );\n};\n\n/**\n * Get the order ID from `properties.id` or `properties.orderId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.orderId = function () {\n  // doesn't follow above convention since this fallback order was how it used to be\n  return (\n    this.proxy(\"properties.id\") ||\n    this.proxy(\"properties.order_id\") ||\n    this.proxy(\"properties.orderId\")\n  );\n};\n\n/**\n * Get the SKU from `properties.sku`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nt.sku = Facade.proxy(\"properties.sku\");\n\n/**\n * Get the amount of tax for this purchase from `properties.tax`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nt.tax = Facade.proxy(\"properties.tax\");\n\n/**\n * Get the name of this event from `properties.name`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nt.name = Facade.proxy(\"properties.name\");\n\n/**\n * Get the price of this purchase from `properties.price`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nt.price = Facade.proxy(\"properties.price\");\n\n/**\n * Get the total for this purchase from `properties.total`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nt.total = Facade.proxy(\"properties.total\");\n\n/**\n * Whether this is a repeat purchase from `properties.repeat`.\n *\n * This *should* be a boolean, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {boolean}\n */\nt.repeat = Facade.proxy(\"properties.repeat\");\n\n/**\n * Get the coupon for this purchase from `properties.coupon`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nt.coupon = Facade.proxy(\"properties.coupon\");\n\n/**\n * Get the shipping for this purchase from `properties.shipping`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nt.shipping = Facade.proxy(\"properties.shipping\");\n\n/**\n * Get the discount for this purchase from `properties.discount`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nt.discount = Facade.proxy(\"properties.discount\");\n\n/**\n * Get the shipping method for this purchase from `properties.shippingMethod`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.shippingMethod = function () {\n  return (\n    this.proxy(\"properties.shipping_method\") ||\n    this.proxy(\"properties.shippingMethod\")\n  );\n};\n\n/**\n * Get the payment method for this purchase from `properties.paymentMethod`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.paymentMethod = function () {\n  return (\n    this.proxy(\"properties.payment_method\") ||\n    this.proxy(\"properties.paymentMethod\")\n  );\n};\n\n/**\n * Get a description for this event from `properties.description`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nt.description = Facade.proxy(\"properties.description\");\n\n/**\n * Get a plan, as in the plan the user is on, for this event from\n * `properties.plan`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nt.plan = Facade.proxy(\"properties.plan\");\n\n/**\n * Get the subtotal for this purchase from `properties.subtotal`.\n *\n * If `properties.subtotal` isn't available, then fall back to computing the\n * total from `properties.total` or `properties.revenue`, and then subtracting\n * tax, shipping, and discounts.\n *\n * If neither subtotal, total, nor revenue are available, then return 0.\n *\n * @return {number}\n */\nt.subtotal = function () {\n  let subtotal = get(this.properties(), \"subtotal\");\n  let total = this.total() || this.revenue();\n\n  if (subtotal) return subtotal;\n  if (!total) return 0;\n\n  if (this.total()) {\n    let n = this.tax();\n    if (n) total -= n;\n    n = this.shipping();\n    if (n) total -= n;\n    n = this.discount();\n    if (n) total += n;\n  }\n\n  return total;\n};\n\n/**\n * Get the products for this event from `properties.products` if it's an\n * array, falling back to an empty array.\n *\n * @return {Array}\n */\nt.products = function () {\n  let props = this.properties();\n  let products = get(props, \"products\");\n  if (Array.isArray(products)) {\n    return products.filter(item => item !== null)\n  }\n  return [];\n};\n\n/**\n * Get the quantity for this event from `properties.quantity`, falling back to\n * a quantity of one.\n *\n * @return {number}\n */\nt.quantity = function () {\n  let props = this.obj.properties || {};\n  return props.quantity || 1;\n};\n\n/**\n * Get the currency for this event from `properties.currency`, falling back to\n * \"USD\".\n *\n * @return {string}\n */\nt.currency = function () {\n  let props = this.obj.properties || {};\n  return props.currency || \"USD\";\n};\n\n/**\n * Get the referrer for this event from `context.referrer.url`,\n * `context.page.referrer`, or `properties.referrer`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nt.referrer = function () {\n  // TODO re-examine whether this function is necessary\n  return (\n    this.proxy(\"context.referrer.url\") ||\n    this.proxy(\"context.page.referrer\") ||\n    this.proxy(\"properties.referrer\")\n  );\n};\n\n/**\n * Get the query for this event from `options.query`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string|object}\n */\nt.query = Facade.proxy(\"options.query\");\n\n/**\n * Get the page's properties. This is identical to how {@link Facade#traits}\n * works, except it looks at `properties.*` instead of `options.traits.*`.\n *\n * Properties are gotten from `properties`.\n *\n * The parameter `aliases` is meant to transform keys in `properties` into new\n * keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx` in\n * the traits, and move it to `yyy`. If `xxx` is a method of this facade, it'll\n * be called as a function instead of treated as a key into the traits.\n *\n * @example\n * let obj = { properties: { foo: \"bar\" }, anonymousId: \"xxx\" }\n * let track = new Track(obj)\n *\n * track.traits() // { \"foo\": \"bar\" }\n * track.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * track.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\nt.properties = function (aliases) {\n  let ret = this.field(\"properties\") || {};\n  aliases = aliases || {};\n\n  for (const alias in aliases) {\n    if (Object.prototype.hasOwnProperty.call(aliases, alias)) {\n      const value = this[alias] == null\n        ? this.proxy(\"properties.\" + alias)\n        : this[alias]();\n      if (value == null) continue;\n      ret[aliases[alias]] = value;\n      delete ret[alias];\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Get the username of the user for this event from `traits.username`,\n * `properties.username`, `userId`, or `anonymousId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string|undefined}\n */\nt.username = function () {\n  return (\n    this.proxy(\"traits.username\") ||\n    this.proxy(\"properties.username\") ||\n    this.userId() ||\n    this.sessionId()\n  );\n};\n\n/**\n * Get the email of the user for this event from `trais.email`,\n * `properties.email`, or `options.traits.email`, falling back to `userId` if\n * it looks like a valid email.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string|undefined}\n */\nt.email = function () {\n  let email =\n    this.proxy(\"traits.email\") ||\n    this.proxy(\"properties.email\") ||\n    this.proxy(\"options.traits.email\");\n  if (email) return email;\n\n  let userId = this.userId();\n  if (isEmail(userId)) return userId;\n};\n\n/**\n * Get the revenue for this event.\n *\n * If this is an \"Order Completed\" event, this will be the `properties.total`\n * falling back to the `properties.revenue`. For all other events, this is\n * simply taken from `properties.revenue`.\n *\n * If there are dollar signs in these properties, they will be removed. The\n * result will be parsed into a number.\n *\n * @return {number}\n */\nt.revenue = function () {\n  let revenue = this.proxy(\"properties.revenue\");\n  let event = this.event();\n  let orderCompletedRegExp = /^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;\n\n  // it's always revenue, unless it's called during an order completion.\n  if (!revenue && event && event.match(orderCompletedRegExp)) {\n    revenue = this.proxy(\"properties.total\");\n  }\n\n  return currency(revenue);\n};\n\n/**\n * Get the revenue for this event in \"cents\" -- in other words, multiply the\n * {@link Track#revenue} by 100, or return 0 if there isn't a numerical revenue\n * for this event.\n *\n * @return {number}\n */\nt.cents = function () {\n  let revenue = this.revenue();\n  return typeof revenue !== \"number\" ? this.value() || 0 : revenue * 100;\n};\n\n/**\n * Convert this event into an {@link Identify} facade.\n *\n * This works by taking this event's underlying object and creating an Identify\n * from it. This event's traits, taken from `options.traits`, will be used as\n * the Identify's traits.\n *\n * @return {Identify}\n */\nt.identify = function () {\n  // TODO: remove me.\n  let json = this.json();\n  json.traits = this.traits();\n  return new Identify(json, this.opts);\n};\n\n/**\n * Get float from currency value.\n *\n * @ignore\n * @param {*} val\n * @return {number}\n */\nfunction currency(val) {\n  if (!val) return;\n  if (typeof val === \"number\") {\n    return val;\n  }\n  if (typeof val !== \"string\") {\n    return;\n  }\n\n  val = val.replace(/\\$/g, \"\");\n  val = parseFloat(val);\n\n  if (!isNaN(val)) {\n    return val;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2416, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/page.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/page.js"],"sourcesContent":["\"use strict\";\n\nimport inherit from \"inherits\";\nimport { Facade } from \"./facade\";\nimport { Track } from \"./track\";\nimport isEmail from \"./is-email\";\n\n/**\n * Initialize a new `Page` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.category] - The page category.\n * @param {string} [dictionary.name] - The page name.\n * @param {string} [dictionary.properties] - The page properties.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nexport function Page(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Page, Facade);\n\nconst p = Page.prototype;\n\n/**\n * Return the type of facade this is. This will always return `\"page\"`.\n *\n * @return {string}\n */\np.action = function () {\n  return \"page\";\n};\n\n/**\n * An alias for {@link Page#action}.\n *\n * @function\n * @return {string}\n */\np.type = p.action;\n\n/**\n * Get the page category from `category`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\np.category = Facade.field(\"category\");\n\n/**\n * Get the page name from `name`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\np.name = Facade.field(\"name\");\n\n/**\n * Get the page title from `properties.title`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\np.title = Facade.proxy(\"properties.title\");\n\n/**\n * Get the page path from `properties.path`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\np.path = Facade.proxy(\"properties.path\");\n\n/**\n * Get the page URL from `properties.url`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\np.url = Facade.proxy(\"properties.url\");\n\n/**\n * Get the HTTP referrer from `context.referrer.url`, `context.page.referrer`,\n * or `properties.referrer`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\np.referrer = function () {\n  return (\n    this.proxy(\"context.referrer.url\") ||\n    this.proxy(\"context.page.referrer\") ||\n    this.proxy(\"properties.referrer\")\n  );\n};\n\n/**\n * Get the page's properties. This is identical to how {@link Facade#traits}\n * works, except it looks at `properties.*` instead of `options.traits.*`.\n *\n * Properties are gotten from `properties`, augmented with the page's `name`\n * and `category`.\n *\n * The parameter `aliases` is meant to transform keys in `properties` into new\n * keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx` in\n * the traits, and move it to `yyy`. If `xxx` is a method of this facade, it'll\n * be called as a function instead of treated as a key into the traits.\n *\n * @example\n * let obj = { properties: { foo: \"bar\" }, anonymousId: \"xxx\" }\n * let page = new Page(obj)\n *\n * page.traits() // { \"foo\": \"bar\" }\n * page.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * page.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\np.properties = function (aliases) {\n  let props = this.field(\"properties\") || {};\n  let category = this.category();\n  let name = this.name();\n  aliases = aliases || {};\n\n  if (category) props.category = category;\n  if (name) props.name = name;\n\n  for (const alias in aliases) {\n    if (Object.prototype.hasOwnProperty.call(aliases, alias)) {\n      const value = this[alias] == null\n        ? this.proxy(\"properties.\" + alias)\n        : this[alias]();\n      if (value == null) continue;\n      props[aliases[alias]] = value;\n      if (alias !== aliases[alias]) delete props[alias];\n    }\n  }\n\n  return props;\n};\n\n/**\n * Get the user's email from `context.traits.email` or `properties.email`,\n * falling back to `userId` if it's a valid email.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\np.email = function () {\n  let email =\n    this.proxy(\"context.traits.email\") || this.proxy(\"properties.email\");\n  if (email) return email;\n\n  let userId = this.userId();\n  if (isEmail(userId)) return userId;\n};\n\n/**\n * Get the page fullName. This is `$category $name` if both are present, and\n * just `name` otherwiser.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\np.fullName = function () {\n  let category = this.category();\n  let name = this.name();\n  return name && category ? category + \" \" + name : name;\n};\n\n/**\n * Get an event name from this page call. If `name` is present, this will be\n * `Viewed $name Page`; otherwise, it will be `Loaded a Page`.\n *\n * @param {string} name - The name of this page.\n * @return {string}\n */\np.event = function (name) {\n  return name ? \"Viewed \" + name + \" Page\" : \"Loaded a Page\";\n};\n\n/**\n * Convert this Page to a {@link Track} facade. The inputted `name` will be\n * converted to the Track's event name via {@link Page#event}.\n *\n * @param {string} name\n * @return {Track}\n */\np.track = function (name) {\n  let json = this.json();\n  json.event = this.event(name);\n  json.timestamp = this.timestamp();\n  json.properties = this.properties();\n  return new Track(json, this.opts);\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2489, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/screen.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/screen.js"],"sourcesContent":["\"use strict\";\n\nimport inherit from \"inherits\";\nimport { Page } from \"./page\";\nimport { Track } from \"./track\";\n\n/**\n * Initialize a new `Screen` facade with a `dictionary` of arguments.\n *\n * Note that this class extends {@link Page}, so its methods are available to\n * instances of this class as well.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.category] - The page category.\n * @param {string} [dictionary.name] - The page name.\n * @param {string} [dictionary.properties] - The page properties.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Page\n */\nexport function Screen(dictionary, opts) {\n  Page.call(this, dictionary, opts);\n}\n\ninherit(Screen, Page);\n\n/**\n * Return the type of facade this is. This will always return `\"screen\"`.\n *\n * @return {string}\n */\nScreen.prototype.action = function () {\n  return \"screen\";\n};\n\n/**\n * An alias for {@link Screen#action}.\n *\n * @function\n * @return {string}\n */\nScreen.prototype.type = Screen.prototype.action;\n\n/**\n * Get an event name from this screen call. If `name` is present, this will be\n * `Viewed $name Screen`; otherwise, it will be `Loaded a Screen`.\n *\n * @param {string} name - The name of this screen.\n * @return {string}\n */\nScreen.prototype.event = function (name) {\n  return name ? \"Viewed \" + name + \" Screen\" : \"Loaded a Screen\";\n};\n\n/**\n * Convert this Screen to a {@link Track} facade. The inputted `name` will be\n * converted to the Track's event name via {@link Screen#event}.\n *\n * @param {string} name\n * @return {Track}\n */\nScreen.prototype.track = function (name) {\n  let json = this.json();\n  json.event = this.event(name);\n  json.timestamp = this.timestamp();\n  json.properties = this.properties();\n  return new Track(json, this.opts);\n};\n"],"names":[],"mappings":";;;;;;;;;AAEA,IAAA,aAAA,qCAA+B;AAC/B,IAAA,2BAA8B;AAC9B,IAAA,6BAAgC;AAgBhC,SAAgB,MAAM,CAAC,UAAU,EAAE,IAAI;IACrC,OAAA,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;AACpC,CAAC;AAFD,QAAA,MAAA,GAAA,OAEC;AAED,WAAA,OAAO,CAAC,MAAM,EAAE,OAAA,IAAI,CAAC,CAAC;AAOtB,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG;IACxB,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAC;AAQF,MAAM,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC;AAShD,MAAM,CAAC,SAAS,CAAC,KAAK,GAAG,SAAU,IAAI;IACrC,OAAO,IAAI,CAAC,CAAC,CAAC,SAAS,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,iBAAiB,CAAC;AACjE,CAAC,CAAC;AASF,MAAM,CAAC,SAAS,CAAC,KAAK,GAAG,SAAU,IAAI;IACrC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;IACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;IAClC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;IACpC,OAAO,IAAI,QAAA,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC,CAAC"}},
    {"offset": {"line": 2524, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/delete.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/delete.js"],"sourcesContent":["\"use strict\";\n\nimport inherit from \"inherits\";\nimport { Facade } from \"./facade\";\n\n/**\n * Initialize a new `Delete` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.category] - The delete category.\n * @param {string} [dictionary.name] - The delete name.\n * @param {string} [dictionary.properties] - The delete properties.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nexport function Delete(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Delete, Facade);\n\n/**\n * Return the type of facade this is. This will always return `\"delete\"`.\n *\n * @return {string}\n */\nDelete.prototype.type = function () {\n  return \"delete\";\n};\n"],"names":[],"mappings":";;;;;;;;;AAEA,IAAA,aAAA,qCAA+B;AAC/B,IAAA,+BAAkC;AAalC,SAAgB,MAAM,CAAC,UAAU,EAAE,IAAI;IACrC,SAAA,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;AACtC,CAAC;AAFD,QAAA,MAAA,GAAA,OAEC;AAED,WAAA,OAAO,CAAC,MAAM,EAAE,SAAA,MAAM,CAAC,CAAC;AAOxB,MAAM,CAAC,SAAS,CAAC,IAAI,GAAG;IACtB,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAC"}},
    {"offset": {"line": 2547, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@segment/facade/dist/index.js","sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/facade/lib/index.js"],"sourcesContent":["\"use strict\";\n\nimport { Facade } from \"./facade\";\nimport { Alias } from \"./alias\";\nimport { Group } from \"./group\";\nimport { Identify } from \"./identify\";\nimport { Track } from \"./track\";\nimport { Page } from \"./page\";\nimport { Screen } from \"./screen\";\nimport { Delete } from \"./delete\";\n\nexport default {\n  ...Facade,\n  Alias,\n  Group,\n  Identify,\n  Track,\n  Page,\n  Screen,\n  Delete,\n};\n\nexport { Facade, Alias, Group, Identify, Track, Page, Screen, Delete };\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAEA,IAAA,+BAAkC;AAoBzB,OAAA,cAAA,CAAA,SAAA,UAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OApBA,SAAA,MAAM;IAAA;AAAA,GAoBA;AAnBf,IAAA,6BAAgC;AAmBf,OAAA,cAAA,CAAA,SAAA,SAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAnBR,QAAA,KAAK;IAAA;AAAA,GAmBQ;AAlBtB,IAAA,6BAAgC;AAkBR,OAAA,cAAA,CAAA,SAAA,SAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAlBf,QAAA,KAAK;IAAA;AAAA,GAkBe;AAjB7B,IAAA,mCAAsC;AAiBP,OAAA,cAAA,CAAA,SAAA,YAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAjBtB,WAAA,QAAQ;IAAA;AAAA,GAiBsB;AAhBvC,IAAA,6BAAgC;AAgBS,OAAA,cAAA,CAAA,SAAA,SAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAhBhC,QAAA,KAAK;IAAA;AAAA,GAgBgC;AAf9C,IAAA,2BAA8B;AAekB,OAAA,cAAA,CAAA,SAAA,QAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAfvC,OAAA,IAAI;IAAA;AAAA,GAeuC;AAdpD,IAAA,+BAAkC;AAcoB,OAAA,cAAA,CAAA,SAAA,UAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAd7C,SAAA,MAAM;IAAA;AAAA,GAc6C;AAb5D,IAAA,+BAAkC;AAa4B,OAAA,cAAA,CAAA,SAAA,UAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAbrD,SAAA,MAAM;IAAA;AAAA,GAaqD;AAXpE,QAAA,OAAA,GAAA,SAAA,SAAA,CAAA,GACK,SAAA,MAAM,GAAA;IACT,KAAK,EAAA,QAAA,KAAA;IACL,KAAK,EAAA,QAAA,KAAA;IACL,QAAQ,EAAA,WAAA,QAAA;IACR,KAAK,EAAA,QAAA,KAAA;IACL,IAAI,EAAA,OAAA,IAAA;IACJ,MAAM,EAAA,SAAA,MAAA;IACN,MAAM,EAAA,SAAA,MAAA;AAAA,GACN"}},
    {"offset": {"line": 2630, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/isodate/lib/index.js"],"sourcesContent":["'use strict';\n\n/**\n * Matcher, slightly modified from:\n *\n * https://github.com/csnover/js-iso8601/blob/lax/iso8601.js\n */\n\nvar matcher = /^(\\d{4})(?:-?(\\d{2})(?:-?(\\d{2}))?)?(?:([ T])(\\d{2}):?(\\d{2})(?::?(\\d{2})(?:[,\\.](\\d{1,}))?)?(?:(Z)|([+\\-])(\\d{2})(?::?(\\d{2}))?)?)?$/;\n\n/**\n * Convert an ISO date string to a date. Fallback to native `Date.parse`.\n *\n * https://github.com/csnover/js-iso8601/blob/lax/iso8601.js\n *\n * @param {String} iso\n * @return {Date}\n */\n\nexports.parse = function(iso) {\n  var numericKeys = [1, 5, 6, 7, 11, 12];\n  var arr = matcher.exec(iso);\n  var offset = 0;\n\n  // fallback to native parsing\n  if (!arr) {\n    return new Date(iso);\n  }\n\n  /* eslint-disable no-cond-assign */\n  // remove undefined values\n  for (var i = 0, val; val = numericKeys[i]; i++) {\n    arr[val] = parseInt(arr[val], 10) || 0;\n  }\n  /* eslint-enable no-cond-assign */\n\n  // allow undefined days and months\n  arr[2] = parseInt(arr[2], 10) || 1;\n  arr[3] = parseInt(arr[3], 10) || 1;\n\n  // month is 0-11\n  arr[2]--;\n\n  // allow abitrary sub-second precision\n  arr[8] = arr[8] ? (arr[8] + '00').substring(0, 3) : 0;\n\n  // apply timezone if one exists\n  if (arr[4] === ' ') {\n    offset = new Date().getTimezoneOffset();\n  } else if (arr[9] !== 'Z' && arr[10]) {\n    offset = arr[11] * 60 + arr[12];\n    if (arr[10] === '+') {\n      offset = 0 - offset;\n    }\n  }\n\n  var millis = Date.UTC(arr[1], arr[2], arr[3], arr[5], arr[6] + offset, arr[7], arr[8]);\n  return new Date(millis);\n};\n\n\n/**\n * Checks whether a `string` is an ISO date string. `strict` mode requires that\n * the date string at least have a year, month and date.\n *\n * @param {String} string\n * @param {Boolean} strict\n * @return {Boolean}\n */\n\nexports.is = function(string, strict) {\n  if (typeof string !== 'string') {\n    return false;\n  }\n  if (strict && (/^\\d{4}-\\d{2}-\\d{2}/).test(string) === false) {\n    return false;\n  }\n  return matcher.test(string);\n};\n"],"names":[],"mappings":"AAEA;;;;CAIC,GAED,IAAI,UAAU;AAEd;;;;;;;CAOC,GAED,QAAQ,KAAK,GAAG,SAAS,GAAG;IAC1B,IAAI,cAAc;QAAC;QAAG;QAAG;QAAG;QAAG;QAAI;KAAG;IACtC,IAAI,MAAM,QAAQ,IAAI,CAAC;IACvB,IAAI,SAAS;IAEb,6BAA6B;IAC7B,IAAI,CAAC,KAAK;QACR,OAAO,IAAI,KAAK;IAClB;IAEA,iCAAiC,GACjC,0BAA0B;IAC1B,IAAK,IAAI,IAAI,GAAG,KAAK,MAAM,WAAW,CAAC,EAAE,EAAE,IAAK;QAC9C,GAAG,CAAC,IAAI,GAAG,SAAS,GAAG,CAAC,IAAI,EAAE,OAAO;IACvC;IACA,gCAAgC,GAEhC,kCAAkC;IAClC,GAAG,CAAC,EAAE,GAAG,SAAS,GAAG,CAAC,EAAE,EAAE,OAAO;IACjC,GAAG,CAAC,EAAE,GAAG,SAAS,GAAG,CAAC,EAAE,EAAE,OAAO;IAEjC,gBAAgB;IAChB,GAAG,CAAC,EAAE;IAEN,sCAAsC;IACtC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,IAAI,EAAE,SAAS,CAAC,GAAG,KAAK;IAEpD,+BAA+B;IAC/B,IAAI,GAAG,CAAC,EAAE,KAAK,KAAK;QAClB,SAAS,IAAI,OAAO,iBAAiB;IACvC,OAAO,IAAI,GAAG,CAAC,EAAE,KAAK,OAAO,GAAG,CAAC,GAAG,EAAE;QACpC,SAAS,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG,CAAC,GAAG;QAC/B,IAAI,GAAG,CAAC,GAAG,KAAK,KAAK;YACnB,SAAS,IAAI;QACf;IACF;IAEA,IAAI,SAAS,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,GAAG,QAAQ,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE;IACrF,OAAO,IAAI,KAAK;AAClB;AAGA;;;;;;;CAOC,GAED,QAAQ,EAAE,GAAG,SAAS,MAAM,EAAE,MAAM;IAClC,IAAI,OAAO,WAAW,UAAU;QAC9B,OAAO;IACT;IACA,IAAI,UAAU,AAAC,qBAAsB,IAAI,CAAC,YAAY,OAAO;QAC3D,OAAO;IACT;IACA,OAAO,QAAQ,IAAI,CAAC;AACtB","ignoreList":[0]}},
    {"offset": {"line": 2700, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40segment/isodate-traverse/lib/index.js"],"sourcesContent":["'use strict';\n\nvar isodate = require('@segment/isodate');\n\n/**\n * Expose `traverse`.\n */\nmodule.exports = traverse;\n\n/**\n * Recursively traverse an object or array, and convert\n * all ISO date strings parse into Date objects.\n *\n * @param {Object} input - object, array, or string to convert\n * @param {Boolean} strict - only convert strings with year, month, and date\n * @return {Object}\n */\nfunction traverse(input, strict) {\n  if (strict === undefined) strict = true;\n  if (input && typeof input === 'object') {\n    return traverseObject(input, strict);\n  } else if (Array.isArray(input)) {\n    return traverseArray(input, strict);\n  } else if (isodate.is(input, strict)) {\n    return isodate.parse(input);\n  }\n  return input;\n}\n\n/**\n * Object traverser helper function.\n *\n * @param {Object} obj - object to traverse\n * @param {Boolean} strict - only convert strings with year, month, and date\n * @return {Object}\n */\nfunction traverseObject(obj, strict) {\n  Object.keys(obj).forEach(function(key) {\n    obj[key] = traverse(obj[key], strict);\n  });\n  return obj;\n}\n\n/**\n * Array traverser helper function\n *\n * @param {Array} arr - array to traverse\n * @param {Boolean} strict - only convert strings with year, month, and date\n * @return {Array}\n */\nfunction traverseArray(arr, strict) {\n  arr.forEach(function(value, index) {\n    arr[index] = traverse(value, strict);\n  });\n  return arr;\n}\n"],"names":[],"mappings":"AAEA,IAAI;AAEJ;;CAEC,GACD,OAAO,OAAO,GAAG;AAEjB;;;;;;;CAOC,GACD,SAAS,SAAS,KAAK,EAAE,MAAM;IAC7B,IAAI,WAAW,WAAW,SAAS;IACnC,IAAI,SAAS,OAAO,UAAU,UAAU;QACtC,OAAO,eAAe,OAAO;IAC/B,OAAO,IAAI,MAAM,OAAO,CAAC,QAAQ;QAC/B,OAAO,cAAc,OAAO;IAC9B,OAAO,IAAI,QAAQ,EAAE,CAAC,OAAO,SAAS;QACpC,OAAO,QAAQ,KAAK,CAAC;IACvB;IACA,OAAO;AACT;AAEA;;;;;;CAMC,GACD,SAAS,eAAe,GAAG,EAAE,MAAM;IACjC,OAAO,IAAI,CAAC,KAAK,OAAO,CAAC,SAAS,GAAG;QACnC,GAAG,CAAC,IAAI,GAAG,SAAS,GAAG,CAAC,IAAI,EAAE;IAChC;IACA,OAAO;AACT;AAEA;;;;;;CAMC,GACD,SAAS,cAAc,GAAG,EAAE,MAAM;IAChC,IAAI,OAAO,CAAC,SAAS,KAAK,EAAE,KAAK;QAC/B,GAAG,CAAC,MAAM,GAAG,SAAS,OAAO;IAC/B;IACA,OAAO;AACT","ignoreList":[0]}}]
}