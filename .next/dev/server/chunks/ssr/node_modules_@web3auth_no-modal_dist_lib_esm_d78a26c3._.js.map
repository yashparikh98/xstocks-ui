{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/config.js"],"sourcesContent":["import { getSiteIcon, getSiteName } from '../utils.js';\nimport { SOLANA_CAIP_CHAIN_MAP } from '../../base/constants.js';\nimport { CHAIN_NAMESPACES } from '@toruslabs/base-controllers';\n\nlet DEFAULT_EIP155_METHODS = /*#__PURE__*/function (DEFAULT_EIP155_METHODS) {\n  DEFAULT_EIP155_METHODS[\"ETH_SEND_TRANSACTION\"] = \"eth_sendTransaction\";\n  DEFAULT_EIP155_METHODS[\"ETH_SIGN_TRANSACTION\"] = \"eth_signTransaction\";\n  DEFAULT_EIP155_METHODS[\"ETH_SIGN\"] = \"eth_sign\";\n  DEFAULT_EIP155_METHODS[\"PERSONAL_SIGN\"] = \"personal_sign\";\n  DEFAULT_EIP155_METHODS[\"ETH_SIGN_TYPED_DATA\"] = \"eth_signTypedData\";\n  DEFAULT_EIP155_METHODS[\"ETH_SIGN_TYPED_DATA_V3\"] = \"eth_signTypedData_v3\";\n  DEFAULT_EIP155_METHODS[\"ETH_SIGN_TYPED_DATA_V4\"] = \"eth_signTypedData_v4\";\n  DEFAULT_EIP155_METHODS[\"ADD_ETHEREUM_CHAIN\"] = \"wallet_addEthereumChain\";\n  DEFAULT_EIP155_METHODS[\"SWITCH_ETHEREUM_CHAIN\"] = \"wallet_switchEthereumChain\";\n  return DEFAULT_EIP155_METHODS;\n}({});\nlet DEFAULT_SOLANA_METHODS = /*#__PURE__*/function (DEFAULT_SOLANA_METHODS) {\n  DEFAULT_SOLANA_METHODS[\"SIGN_TRANSACTION\"] = \"solana_signTransaction\";\n  DEFAULT_SOLANA_METHODS[\"SIGN_MESSAGE\"] = \"solana_signMessage\";\n  return DEFAULT_SOLANA_METHODS;\n}({});\nlet DEFAULT_EIP_155_EVENTS = /*#__PURE__*/function (DEFAULT_EIP_155_EVENTS) {\n  DEFAULT_EIP_155_EVENTS[\"ETH_CHAIN_CHANGED\"] = \"chainChanged\";\n  DEFAULT_EIP_155_EVENTS[\"ETH_ACCOUNTS_CHANGED\"] = \"accountsChanged\";\n  return DEFAULT_EIP_155_EVENTS;\n}({});\nlet DEFAULT_SOLANA_EVENTS = /*#__PURE__*/function (DEFAULT_SOLANA_EVENTS) {\n  DEFAULT_SOLANA_EVENTS[\"SOL_CHAIN_CHANGED\"] = \"chainChanged\";\n  DEFAULT_SOLANA_EVENTS[\"SOL_ACCOUNTS_CHANGED\"] = \"accountsChanged\";\n  return DEFAULT_SOLANA_EVENTS;\n}({});\n\n/**\n * Gets site metadata and returns it\n *\n */\nconst getSiteMetadata = async () => ({\n  name: getSiteName(window),\n  icon: await getSiteIcon(window)\n});\nconst getNamespacesFromChains = chains => {\n  const supportedNamespaces = [];\n  chains.forEach(chainId => {\n    const [namespace] = chainId.split(\":\");\n    if (!supportedNamespaces.includes(namespace)) {\n      supportedNamespaces.push(namespace);\n    }\n  });\n  return supportedNamespaces;\n};\nconst getSupportedMethodsByNamespace = namespace => {\n  switch (namespace) {\n    case CHAIN_NAMESPACES.EIP155:\n      return Object.values(DEFAULT_EIP155_METHODS);\n    case CHAIN_NAMESPACES.SOLANA:\n      return Object.values(DEFAULT_SOLANA_METHODS);\n    default:\n      throw new Error(`No default methods for namespace: ${namespace}`);\n  }\n};\nconst getSupportedEventsByNamespace = namespace => {\n  switch (namespace) {\n    case CHAIN_NAMESPACES.EIP155:\n      return Object.values(DEFAULT_EIP_155_EVENTS);\n    case CHAIN_NAMESPACES.SOLANA:\n      return Object.values(DEFAULT_SOLANA_EVENTS);\n    default:\n      throw new Error(`No default events for namespace: ${namespace}`);\n  }\n};\nconst getRequiredNamespaces = chains => {\n  const selectedNamespaces = getNamespacesFromChains(chains);\n  return Object.fromEntries(selectedNamespaces.map(namespace => [namespace, {\n    methods: getSupportedMethodsByNamespace(namespace),\n    chains: chains.filter(chain => chain.startsWith(namespace)),\n    events: getSupportedEventsByNamespace(namespace)\n  }]));\n};\nconst getWalletConnectV2Settings = async (chains, projectID) => {\n  const appMetadata = await getSiteMetadata();\n  const connectorSettings = {\n    walletConnectInitOptions: {\n      projectId: projectID,\n      relayUrl: \"wss://relay.walletconnect.com\",\n      metadata: {\n        name: appMetadata.name,\n        description: appMetadata.name,\n        url: window.location.origin,\n        icons: [appMetadata.icon || \"\"]\n      }\n    }\n  };\n  const chainNamespaces = chains.map(chain => {\n    if (chain.chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n      return `${chain.chainNamespace}:${SOLANA_CAIP_CHAIN_MAP[chain.chainId]}`;\n    } else if (chain.chainNamespace === CHAIN_NAMESPACES.EIP155) {\n      return `${chain.chainNamespace}:${parseInt(chain.chainId, 16)}`;\n    }\n    throw new Error(`Unsupported chain namespace: ${chain.chainNamespace}`);\n  });\n  const loginSettings = {\n    optionalNamespaces: getRequiredNamespaces(chainNamespaces)\n  };\n  return {\n    connectorSettings,\n    loginSettings\n  };\n};\n\nexport { DEFAULT_EIP155_METHODS, DEFAULT_EIP_155_EVENTS, DEFAULT_SOLANA_EVENTS, DEFAULT_SOLANA_METHODS, getNamespacesFromChains, getRequiredNamespaces, getSupportedEventsByNamespace, getSupportedMethodsByNamespace, getWalletConnectV2Settings };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/utils.js"],"sourcesContent":["import '@babel/runtime/helpers/objectSpread2';\n\nconst formatChainId = chainId => {\n  if (typeof chainId === \"number\") {\n    return `0x${chainId.toString(16)}`;\n  } else if (typeof chainId === \"string\") {\n    return chainId.startsWith(\"0x\") ? chainId : `0x${parseInt(chainId, 10).toString(16)}`;\n  }\n  throw new Error(`Invalid chainId: ${chainId}`);\n};\n\nexport { formatChainId };\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,gBAAgB,CAAA;IACpB,IAAI,OAAO,YAAY,UAAU;QAC/B,OAAO,CAAC,EAAE,EAAE,QAAQ,QAAQ,CAAC,KAAK;IACpC,OAAO,IAAI,OAAO,YAAY,UAAU;QACtC,OAAO,QAAQ,UAAU,CAAC,QAAQ,UAAU,CAAC,EAAE,EAAE,SAAS,SAAS,IAAI,QAAQ,CAAC,KAAK;IACvF;IACA,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,SAAS;AAC/C","ignoreList":[0]}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/walletConnectV2Utils.js"],"sourcesContent":["import _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport { bs58 } from '@toruslabs/bs58';\nimport { getAccountsFromNamespaces, parseAccountId } from '@walletconnect/utils';\nimport { providerErrors, rpcErrors } from '@web3auth/auth';\nimport { EVM_METHOD_TYPES, SOLANA_METHOD_TYPES } from '@web3auth/ws-embed';\nimport { formatChainId } from './utils.js';\nimport { WalletLoginError } from '../../base/errors/index.js';\nimport { SOLANA_CAIP_CHAIN_MAP } from '../../base/constants.js';\n\nasync function getLastActiveSession(signClient) {\n  if (signClient.session.length) {\n    const lastKeyIndex = signClient.session.keys.length - 1;\n    return signClient.session.get(signClient.session.keys[lastKeyIndex]);\n  }\n  return null;\n}\nfunction isMobileDevice() {\n  return /Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent);\n}\nfunction isSolanaChain(chainId) {\n  return chainId.startsWith(\"solana:\");\n}\nasync function sendJrpcRequest(signClient, chainId, method, params) {\n  const session = await getLastActiveSession(signClient);\n  if (!session) {\n    throw providerErrors.disconnected();\n  }\n  if (typeof window !== \"undefined\" && isMobileDevice()) {\n    if (session.peer.metadata.redirect && session.peer.metadata.redirect.native) {\n      window.open(session.peer.metadata.redirect.native, \"_blank\");\n    }\n  }\n  return signClient.request({\n    topic: session.topic,\n    chainId,\n    request: {\n      method,\n      params: isSolanaChain(chainId) ? _objectSpread(_objectSpread({}, params), {}, {\n        pubkey: session.self.publicKey\n      }) : params\n    }\n  });\n}\nasync function getAccounts(signClient) {\n  const session = await getLastActiveSession(signClient);\n  if (!session) {\n    throw providerErrors.disconnected();\n  }\n  const accounts = getAccountsFromNamespaces(session.namespaces);\n  if (accounts && accounts.length) {\n    return [...new Set(accounts.map(add => {\n      return parseAccountId(add).address;\n    }))];\n  }\n  throw WalletLoginError.connectionError(\"Failed to get accounts\");\n}\nfunction getEthProviderHandlers({\n  connector,\n  chainId\n}) {\n  return {\n    getPrivateKey: async () => {\n      throw rpcErrors.methodNotSupported();\n    },\n    getPublicKey: async () => {\n      throw rpcErrors.methodNotSupported();\n    },\n    getAccounts: async _ => {\n      return getAccounts(connector);\n    },\n    processTransaction: async (txParams, _) => {\n      const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, EVM_METHOD_TYPES.ETH_TRANSACTION, [txParams]);\n      return methodRes;\n    },\n    processSignTransaction: async (txParams, _) => {\n      const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, \"eth_signTransaction\", [txParams]);\n      return methodRes;\n    },\n    processEthSignMessage: async (msgParams, _) => {\n      const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, EVM_METHOD_TYPES.ETH_SIGN, [msgParams.from, msgParams.data]);\n      return methodRes;\n    },\n    processPersonalMessage: async (msgParams, _) => {\n      const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, EVM_METHOD_TYPES.PERSONAL_SIGN, [msgParams.data, msgParams.from]);\n      return methodRes;\n    },\n    processTypedMessageV4: async msgParams => {\n      const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, EVM_METHOD_TYPES.ETH_SIGN_TYPED_DATA_V4, [msgParams.from, msgParams.data]);\n      return methodRes;\n    }\n  };\n}\nfunction getSolProviderHandlers({\n  connector,\n  chainId\n}) {\n  return {\n    requestAccounts: async _ => {\n      return getAccounts(connector);\n    },\n    getPrivateKey: async () => {\n      throw rpcErrors.methodNotSupported();\n    },\n    getSecretKey: async () => {\n      throw rpcErrors.methodNotSupported();\n    },\n    getPublicKey: async () => {\n      throw rpcErrors.methodNotSupported();\n    },\n    getAccounts: async _ => {\n      return getAccounts(connector);\n    },\n    signAllTransactions: async _ => {\n      throw rpcErrors.methodNotSupported();\n    },\n    signAndSendTransaction: async _ => {\n      throw rpcErrors.methodNotSupported();\n    },\n    signMessage: async req => {\n      const methodRes = await sendJrpcRequest(connector, `solana:${SOLANA_CAIP_CHAIN_MAP[chainId]}`, SOLANA_METHOD_TYPES.SIGN_MESSAGE, {\n        message: bs58.encode(Buffer.from(req.params.data, \"utf-8\"))\n      });\n      return methodRes.signature;\n    },\n    signTransaction: async req => {\n      const accounts = await getAccounts(connector);\n      if (accounts.length === 0) {\n        throw providerErrors.disconnected();\n      }\n      const methodRes = await sendJrpcRequest(connector, `solana:${SOLANA_CAIP_CHAIN_MAP[chainId]}`, SOLANA_METHOD_TYPES.SIGN_TRANSACTION, {\n        transaction: req.params.message\n      });\n      return methodRes.signature;\n    }\n  };\n}\nasync function switchChain({\n  connector,\n  chainId,\n  newChainId\n}) {\n  await sendJrpcRequest(connector, `eip155:${chainId}`, \"wallet_switchEthereumChain\", [{\n    chainId: newChainId\n  }]);\n}\nasync function addChain({\n  connector,\n  chainId,\n  chainConfig\n}) {\n  if (!chainConfig) {\n    throw providerErrors.custom({\n      message: \"Chain config is required\",\n      code: 4902\n    });\n  }\n  const formattedChainId = formatChainId(chainConfig.chainId);\n  const formattedChainConfig = _objectSpread(_objectSpread({}, chainConfig), {}, {\n    chainId: formattedChainId\n  });\n  await sendJrpcRequest(connector, `eip155:${chainId}`, \"wallet_addEthereumChain\", [formattedChainConfig]);\n}\n\nexport { addChain, getAccounts, getEthProviderHandlers, getSolProviderHandlers, sendJrpcRequest, switchChain };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/providers/ethereum-provider/rpc/walletMidddleware.js"],"sourcesContent":["import _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport { createScaffoldMiddleware, createAsyncMiddleware, rpcErrors } from '@web3auth/auth';\n\nfunction createWalletMiddleware({\n  getAccounts,\n  getPrivateKey,\n  getPublicKey,\n  processEthSignMessage,\n  processPersonalMessage,\n  processTransaction,\n  processSignTransaction,\n  processTypedMessageV4\n}) {\n  if (!getAccounts) {\n    throw new Error(\"opts.getAccounts is required\");\n  }\n\n  //\n  // utility\n  //\n\n  /**\n   * Validates the keyholder address, and returns a normalized (i.e. lowercase)\n   * copy of it.\n   *\n   * an error\n   */\n  async function validateAndNormalizeKeyholder(address, req) {\n    if (typeof address === \"string\" && address.length > 0) {\n      // ensure address is included in provided accounts\n      const accounts = await getAccounts(req);\n      const normalizedAccounts = accounts.map(_address => _address.toLowerCase());\n      const normalizedAddress = address.toLowerCase();\n      if (normalizedAccounts.includes(normalizedAddress)) {\n        return normalizedAddress;\n      }\n    }\n    throw rpcErrors.invalidParams({\n      message: `Invalid parameters: must provide an Ethereum address.`\n    });\n  }\n\n  //\n  // account lookups\n  //\n\n  async function lookupAccounts(req, res) {\n    res.result = await getAccounts(req);\n  }\n\n  //\n  // transaction signatures\n  //\n\n  async function sendTransaction(req, res) {\n    if (!processTransaction) {\n      throw rpcErrors.methodNotSupported();\n    }\n    const txParams = req.params[0] || {\n      from: \"\"\n    };\n    txParams.from = await validateAndNormalizeKeyholder(txParams.from, req);\n    res.result = await processTransaction(txParams, req);\n  }\n  async function signTransaction(req, res) {\n    if (!processSignTransaction) {\n      throw rpcErrors.methodNotSupported();\n    }\n    const txParams = req.params[0] || {\n      from: \"\"\n    };\n    txParams.from = await validateAndNormalizeKeyholder(txParams.from, req);\n    res.result = await processSignTransaction(txParams, req);\n  }\n\n  //\n  // message signatures\n  //\n\n  async function ethSign(req, res) {\n    if (!processEthSignMessage) {\n      throw rpcErrors.methodNotSupported();\n    }\n    let msgParams = req.params;\n    const extraParams = req.params[2] || {};\n    if (Array.isArray(req.params)) {\n      if (!(req.params.length === 2)) throw new Error(`WalletMiddleware - incorrect params for ${req.method} method. expected [address, message]`);\n      const params = req.params;\n      const address = params[0];\n      const message = params[1];\n      msgParams = {\n        from: address,\n        data: message\n      };\n    }\n    msgParams = _objectSpread(_objectSpread({}, extraParams), msgParams);\n    res.result = await processEthSignMessage(msgParams, req);\n  }\n  async function signTypedDataV4(req, res) {\n    if (!processTypedMessageV4) {\n      throw rpcErrors.methodNotSupported();\n    }\n    if (!(req !== null && req !== void 0 && req.params)) throw new Error(\"WalletMiddleware - missing params\");\n    let msgParams = req.params;\n    if (Array.isArray(req.params)) {\n      if (!(req.params.length === 2)) throw new Error(`WalletMiddleware - incorrect params for ${req.method} method. expected [address, typedData]`);\n      const params = req.params;\n      const address = params[0];\n      const message = params[1];\n      msgParams = {\n        from: address,\n        data: message\n      };\n    }\n    res.result = await processTypedMessageV4(msgParams, req);\n  }\n  async function personalSign(req, res) {\n    if (!processPersonalMessage) {\n      throw rpcErrors.methodNotSupported();\n    }\n    let msgParams = req.params;\n    const extraParams = req.params[2] || {};\n    if (Array.isArray(req.params)) {\n      if (!(req.params.length >= 2)) throw new Error(`WalletMiddleware - incorrect params for ${req.method} method. expected [message, address]`);\n      const params = req.params;\n      if (typeof params[0] === \"object\") {\n        const {\n          challenge,\n          address\n        } = params[0];\n        msgParams = {\n          from: address,\n          data: challenge\n        };\n      } else {\n        const message = params[0];\n        const address = params[1];\n        msgParams = {\n          from: address,\n          data: message\n        };\n      }\n    }\n    msgParams = _objectSpread(_objectSpread({}, extraParams), msgParams);\n    res.result = await processPersonalMessage(msgParams, req);\n  }\n  async function fetchPrivateKey(req, res) {\n    if (!getPrivateKey) {\n      throw rpcErrors.methodNotSupported();\n    }\n    res.result = await getPrivateKey(req);\n  }\n  async function fetchPublicKey(req, res) {\n    if (!getPublicKey) {\n      throw rpcErrors.methodNotSupported();\n    }\n    res.result = await getPublicKey(req);\n  }\n  return createScaffoldMiddleware({\n    // account lookups\n    eth_accounts: createAsyncMiddleware(lookupAccounts),\n    eth_requestAccounts: createAsyncMiddleware(lookupAccounts),\n    eth_private_key: createAsyncMiddleware(fetchPrivateKey),\n    eth_public_key: createAsyncMiddleware(fetchPublicKey),\n    public_key: createAsyncMiddleware(fetchPublicKey),\n    private_key: createAsyncMiddleware(fetchPrivateKey),\n    // tx signatures\n    eth_sendTransaction: createAsyncMiddleware(sendTransaction),\n    eth_signTransaction: createAsyncMiddleware(signTransaction),\n    // message signatures\n    eth_sign: createAsyncMiddleware(ethSign),\n    eth_signTypedData_v4: createAsyncMiddleware(signTypedDataV4),\n    personal_sign: createAsyncMiddleware(personalSign)\n  });\n}\n\nexport { createWalletMiddleware };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/providers/ethereum-provider/rpc/ethRpcMiddlewares.js"],"sourcesContent":["import { mergeMiddleware, createScaffoldMiddleware, createAsyncMiddleware, rpcErrors } from '@web3auth/auth';\nimport { createWalletMiddleware } from './walletMidddleware.js';\n\nfunction createEthMiddleware(providerHandlers) {\n  const {\n    getAccounts,\n    getPrivateKey,\n    getPublicKey,\n    processTransaction,\n    processSignTransaction,\n    processEthSignMessage,\n    processTypedMessageV4,\n    processPersonalMessage\n  } = providerHandlers;\n  const ethMiddleware = mergeMiddleware([createScaffoldMiddleware({\n    eth_syncing: false\n  }), createWalletMiddleware({\n    getAccounts,\n    getPrivateKey,\n    getPublicKey,\n    processTransaction,\n    processEthSignMessage,\n    processSignTransaction,\n    processTypedMessageV4,\n    processPersonalMessage\n  })]);\n  return ethMiddleware;\n}\nfunction createEthChainSwitchMiddleware({\n  switchChain,\n  addChain\n}) {\n  async function updateChain(req, res) {\n    var _req$params;\n    const chainParams = (_req$params = req.params) !== null && _req$params !== void 0 && _req$params.length ? req.params[0] : undefined;\n    if (!chainParams) throw rpcErrors.invalidParams(\"Missing chainId\");\n    res.result = await switchChain(chainParams);\n  }\n  async function addChainConfig(req, res) {\n    var _req$params2;\n    const chainConfig = (_req$params2 = req.params) !== null && _req$params2 !== void 0 && _req$params2.length ? req.params[0] : undefined;\n    if (!chainConfig) throw rpcErrors.invalidParams(\"Missing chainConfig\");\n    res.result = await addChain(chainConfig);\n  }\n  return createScaffoldMiddleware({\n    wallet_switchEthereumChain: createAsyncMiddleware(updateChain),\n    wallet_addEthereumChain: createAsyncMiddleware(addChainConfig)\n  });\n}\n\nexport { createEthChainSwitchMiddleware, createEthMiddleware };\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AACA;;;AAEA,SAAS,oBAAoB,gBAAgB;IAC3C,MAAM,EACJ,WAAW,EACX,aAAa,EACb,YAAY,EACZ,kBAAkB,EAClB,sBAAsB,EACtB,qBAAqB,EACrB,qBAAqB,EACrB,sBAAsB,EACvB,GAAG;IACJ,MAAM,gBAAgB,IAAA,8OAAe,EAAC;QAAC,IAAA,iPAAwB,EAAC;YAC9D,aAAa;QACf;QAAI,IAAA,0PAAsB,EAAC;YACzB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;KAAG;IACH,OAAO;AACT;AACA,SAAS,+BAA+B,EACtC,WAAW,EACX,QAAQ,EACT;IACC,eAAe,YAAY,GAAG,EAAE,GAAG;QACjC,IAAI;QACJ,MAAM,cAAc,CAAC,cAAc,IAAI,MAAM,MAAM,QAAQ,gBAAgB,KAAK,KAAK,YAAY,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,GAAG;QAC1H,IAAI,CAAC,aAAa,MAAM,8OAAS,CAAC,aAAa,CAAC;QAChD,IAAI,MAAM,GAAG,MAAM,YAAY;IACjC;IACA,eAAe,eAAe,GAAG,EAAE,GAAG;QACpC,IAAI;QACJ,MAAM,cAAc,CAAC,eAAe,IAAI,MAAM,MAAM,QAAQ,iBAAiB,KAAK,KAAK,aAAa,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,GAAG;QAC7H,IAAI,CAAC,aAAa,MAAM,8OAAS,CAAC,aAAa,CAAC;QAChD,IAAI,MAAM,GAAG,MAAM,SAAS;IAC9B;IACA,OAAO,IAAA,iPAAwB,EAAC;QAC9B,4BAA4B,IAAA,8OAAqB,EAAC;QAClD,yBAAyB,IAAA,8OAAqB,EAAC;IACjD;AACF","ignoreList":[0]}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/providers/ethereum-provider/rpc/jrpcClient.js"],"sourcesContent":["import { createFetchMiddleware } from '@toruslabs/base-controllers';\nimport { mergeMiddleware } from '@web3auth/auth';\n\nfunction createEthChainIdMiddleware(chainId) {\n  return (req, res, next, end) => {\n    if (req.method === \"eth_chainId\") {\n      res.result = chainId;\n      return end();\n    }\n    return next();\n  };\n}\nfunction createEthProviderConfigMiddleware(providerConfig) {\n  return (req, res, next, end) => {\n    if (req.method === \"eth_provider_config\") {\n      res.result = providerConfig;\n      return end();\n    }\n    return next();\n  };\n}\nfunction createEthJsonRpcClient(providerConfig) {\n  const {\n    chainId,\n    rpcTarget\n  } = providerConfig;\n  const fetchMiddleware = createFetchMiddleware({\n    rpcTarget\n  });\n  const networkMiddleware = mergeMiddleware([createEthChainIdMiddleware(chainId), createEthProviderConfigMiddleware(providerConfig), fetchMiddleware]);\n  return {\n    networkMiddleware,\n    fetchMiddleware\n  };\n}\n\nexport { createEthChainIdMiddleware, createEthJsonRpcClient, createEthProviderConfigMiddleware };\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEA,SAAS,2BAA2B,OAAO;IACzC,OAAO,CAAC,KAAK,KAAK,MAAM;QACtB,IAAI,IAAI,MAAM,KAAK,eAAe;YAChC,IAAI,MAAM,GAAG;YACb,OAAO;QACT;QACA,OAAO;IACT;AACF;AACA,SAAS,kCAAkC,cAAc;IACvD,OAAO,CAAC,KAAK,KAAK,MAAM;QACtB,IAAI,IAAI,MAAM,KAAK,uBAAuB;YACxC,IAAI,MAAM,GAAG;YACb,OAAO;QACT;QACA,OAAO;IACT;AACF;AACA,SAAS,uBAAuB,cAAc;IAC5C,MAAM,EACJ,OAAO,EACP,SAAS,EACV,GAAG;IACJ,MAAM,kBAAkB,IAAA,kRAAqB,EAAC;QAC5C;IACF;IACA,MAAM,oBAAoB,IAAA,8OAAe,EAAC;QAAC,2BAA2B;QAAU,kCAAkC;QAAiB;KAAgB;IACnJ,OAAO;QACL;QACA;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 628, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/providers/solana-provider/rpc/solanaRpcMiddlewares.js"],"sourcesContent":["import { createAsyncMiddleware, mergeMiddleware } from '@web3auth/auth';\nimport { SOLANA_METHOD_TYPES } from '@web3auth/ws-embed';\n\nfunction createGetAccountsMiddleware({\n  getAccounts\n}) {\n  return createAsyncMiddleware(async (request, response, next) => {\n    const {\n      method\n    } = request;\n    if (method !== SOLANA_METHOD_TYPES.GET_ACCOUNTS) return next();\n    if (!getAccounts) throw new Error(\"WalletMiddleware - opts.getAccounts not provided\");\n    // This calls from the prefs controller\n    const accounts = await getAccounts(request);\n    response.result = accounts;\n    return undefined;\n  });\n}\nfunction createGetPublicKeyMiddleware({\n  getPublicKey\n}) {\n  return createAsyncMiddleware(async (request, response, next) => {\n    const {\n      method\n    } = request;\n    if (method !== \"getPublicKey\") return next();\n    if (!getPublicKey) throw new Error(\"WalletMiddleware - opts.getPublicKey not provided\");\n    const publicKey = await getPublicKey(request);\n    response.result = publicKey;\n    return undefined;\n  });\n}\nfunction createRequestAccountsMiddleware({\n  requestAccounts\n}) {\n  return createAsyncMiddleware(async (request, response, next) => {\n    const {\n      method\n    } = request;\n    if (method !== SOLANA_METHOD_TYPES.SOLANA_REQUEST_ACCOUNTS) return next();\n    if (!requestAccounts) throw new Error(\"WalletMiddleware - opts.requestAccounts not provided\");\n    // This calls the UI login function\n    const accounts = await requestAccounts(request);\n    response.result = accounts;\n    return undefined;\n  });\n}\nfunction createGenericJRPCMiddleware(targetMethod, handler) {\n  return createAsyncMiddleware(async (request, response, next) => {\n    const {\n      method\n    } = request;\n    if (method !== targetMethod) return next();\n    if (!handler) throw new Error(`WalletMiddleware - ${targetMethod} not provided`);\n    const result = await handler(request);\n    response.result = result;\n    return undefined;\n  });\n}\nfunction createSolanaMiddleware(providerHandlers) {\n  const {\n    getAccounts,\n    requestAccounts,\n    signTransaction,\n    signAndSendTransaction,\n    signAllTransactions,\n    signMessage,\n    getPrivateKey,\n    getSecretKey,\n    getPublicKey\n  } = providerHandlers;\n  return mergeMiddleware([createRequestAccountsMiddleware({\n    requestAccounts\n  }), createGetAccountsMiddleware({\n    getAccounts\n  }), createGenericJRPCMiddleware(SOLANA_METHOD_TYPES.SIGN_TRANSACTION, signTransaction), createGenericJRPCMiddleware(SOLANA_METHOD_TYPES.SEND_TRANSACTION, signAndSendTransaction), createGenericJRPCMiddleware(SOLANA_METHOD_TYPES.SIGN_ALL_TRANSACTIONS, signAllTransactions), createGenericJRPCMiddleware(SOLANA_METHOD_TYPES.SIGN_MESSAGE, signMessage), createGenericJRPCMiddleware(SOLANA_METHOD_TYPES.SOLANA_PRIVATE_KEY, getPrivateKey), createGenericJRPCMiddleware(SOLANA_METHOD_TYPES.PRIVATE_KEY, getPrivateKey), createGenericJRPCMiddleware(\"public_key\", getPublicKey), createGenericJRPCMiddleware(\"solanaPublicKey\", getPublicKey), createGenericJRPCMiddleware(\"solanaSecretKey\", getSecretKey)]);\n}\nfunction createSolanaChainSwitchMiddleware({\n  switchSolanaChain\n}) {\n  return mergeMiddleware([createGenericJRPCMiddleware(\"switchSolanaChain\", switchSolanaChain)]);\n}\nfunction createSolanaAccountMiddleware({\n  updatePrivatekey\n}) {\n  return mergeMiddleware([createGenericJRPCMiddleware(\"updateAccount\", updatePrivatekey)]);\n}\n\nexport { createGenericJRPCMiddleware, createGetAccountsMiddleware, createGetPublicKeyMiddleware, createRequestAccountsMiddleware, createSolanaAccountMiddleware, createSolanaChainSwitchMiddleware, createSolanaMiddleware };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AAAA;AACA;;;AAEA,SAAS,4BAA4B,EACnC,WAAW,EACZ;IACC,OAAO,IAAA,8OAAqB,EAAC,OAAO,SAAS,UAAU;QACrD,MAAM,EACJ,MAAM,EACP,GAAG;QACJ,IAAI,WAAW,mMAAmB,CAAC,YAAY,EAAE,OAAO;QACxD,IAAI,CAAC,aAAa,MAAM,IAAI,MAAM;QAClC,uCAAuC;QACvC,MAAM,WAAW,MAAM,YAAY;QACnC,SAAS,MAAM,GAAG;QAClB,OAAO;IACT;AACF;AACA,SAAS,6BAA6B,EACpC,YAAY,EACb;IACC,OAAO,IAAA,8OAAqB,EAAC,OAAO,SAAS,UAAU;QACrD,MAAM,EACJ,MAAM,EACP,GAAG;QACJ,IAAI,WAAW,gBAAgB,OAAO;QACtC,IAAI,CAAC,cAAc,MAAM,IAAI,MAAM;QACnC,MAAM,YAAY,MAAM,aAAa;QACrC,SAAS,MAAM,GAAG;QAClB,OAAO;IACT;AACF;AACA,SAAS,gCAAgC,EACvC,eAAe,EAChB;IACC,OAAO,IAAA,8OAAqB,EAAC,OAAO,SAAS,UAAU;QACrD,MAAM,EACJ,MAAM,EACP,GAAG;QACJ,IAAI,WAAW,mMAAmB,CAAC,uBAAuB,EAAE,OAAO;QACnE,IAAI,CAAC,iBAAiB,MAAM,IAAI,MAAM;QACtC,mCAAmC;QACnC,MAAM,WAAW,MAAM,gBAAgB;QACvC,SAAS,MAAM,GAAG;QAClB,OAAO;IACT;AACF;AACA,SAAS,4BAA4B,YAAY,EAAE,OAAO;IACxD,OAAO,IAAA,8OAAqB,EAAC,OAAO,SAAS,UAAU;QACrD,MAAM,EACJ,MAAM,EACP,GAAG;QACJ,IAAI,WAAW,cAAc,OAAO;QACpC,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,aAAa,aAAa,CAAC;QAC/E,MAAM,SAAS,MAAM,QAAQ;QAC7B,SAAS,MAAM,GAAG;QAClB,OAAO;IACT;AACF;AACA,SAAS,uBAAuB,gBAAgB;IAC9C,MAAM,EACJ,WAAW,EACX,eAAe,EACf,eAAe,EACf,sBAAsB,EACtB,mBAAmB,EACnB,WAAW,EACX,aAAa,EACb,YAAY,EACZ,YAAY,EACb,GAAG;IACJ,OAAO,IAAA,8OAAe,EAAC;QAAC,gCAAgC;YACtD;QACF;QAAI,4BAA4B;YAC9B;QACF;QAAI,4BAA4B,mMAAmB,CAAC,gBAAgB,EAAE;QAAkB,4BAA4B,mMAAmB,CAAC,gBAAgB,EAAE;QAAyB,4BAA4B,mMAAmB,CAAC,qBAAqB,EAAE;QAAsB,4BAA4B,mMAAmB,CAAC,YAAY,EAAE;QAAc,4BAA4B,mMAAmB,CAAC,kBAAkB,EAAE;QAAgB,4BAA4B,mMAAmB,CAAC,WAAW,EAAE;QAAgB,4BAA4B,cAAc;QAAe,4BAA4B,mBAAmB;QAAe,4BAA4B,mBAAmB;KAAc;AACnrB;AACA,SAAS,kCAAkC,EACzC,iBAAiB,EAClB;IACC,OAAO,IAAA,8OAAe,EAAC;QAAC,4BAA4B,qBAAqB;KAAmB;AAC9F;AACA,SAAS,8BAA8B,EACrC,gBAAgB,EACjB;IACC,OAAO,IAAA,8OAAe,EAAC;QAAC,4BAA4B,iBAAiB;KAAkB;AACzF","ignoreList":[0]}},
    {"offset": {"line": 726, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/providers/solana-provider/rpc/JrpcClient.js"],"sourcesContent":["import { createFetchMiddleware } from '@toruslabs/base-controllers';\nimport { mergeMiddleware } from '@web3auth/auth';\n\nfunction createSolanaChainIdMiddleware(chainId) {\n  return (req, res, next, end) => {\n    if (req.method === \"solana_chainId\") {\n      res.result = chainId;\n      return end();\n    }\n    return next();\n  };\n}\nfunction createSolanaProviderConfigMiddleware(providerConfig) {\n  return (req, res, next, end) => {\n    if (req.method === \"solana_provider_config\") {\n      res.result = providerConfig;\n      return end();\n    }\n    return next();\n  };\n}\nfunction createConfigMiddleware(providerConfig) {\n  const {\n    chainId\n  } = providerConfig;\n  return mergeMiddleware([createSolanaChainIdMiddleware(chainId), createSolanaProviderConfigMiddleware(providerConfig)]);\n}\nfunction createSolanaJsonRpcClient(providerConfig) {\n  const {\n    rpcTarget\n  } = providerConfig;\n  const fetchMiddleware = createFetchMiddleware({\n    rpcTarget\n  });\n  const networkMiddleware = mergeMiddleware([createConfigMiddleware(providerConfig), fetchMiddleware]);\n  return {\n    networkMiddleware,\n    fetchMiddleware\n  };\n}\n\nexport { createConfigMiddleware, createSolanaChainIdMiddleware, createSolanaJsonRpcClient, createSolanaProviderConfigMiddleware };\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEA,SAAS,8BAA8B,OAAO;IAC5C,OAAO,CAAC,KAAK,KAAK,MAAM;QACtB,IAAI,IAAI,MAAM,KAAK,kBAAkB;YACnC,IAAI,MAAM,GAAG;YACb,OAAO;QACT;QACA,OAAO;IACT;AACF;AACA,SAAS,qCAAqC,cAAc;IAC1D,OAAO,CAAC,KAAK,KAAK,MAAM;QACtB,IAAI,IAAI,MAAM,KAAK,0BAA0B;YAC3C,IAAI,MAAM,GAAG;YACb,OAAO;QACT;QACA,OAAO;IACT;AACF;AACA,SAAS,uBAAuB,cAAc;IAC5C,MAAM,EACJ,OAAO,EACR,GAAG;IACJ,OAAO,IAAA,8OAAe,EAAC;QAAC,8BAA8B;QAAU,qCAAqC;KAAgB;AACvH;AACA,SAAS,0BAA0B,cAAc;IAC/C,MAAM,EACJ,SAAS,EACV,GAAG;IACJ,MAAM,kBAAkB,IAAA,kRAAqB,EAAC;QAC5C;IACF;IACA,MAAM,oBAAoB,IAAA,8OAAe,EAAC;QAAC,uBAAuB;QAAiB;KAAgB;IACnG,OAAO;QACL;QACA;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 784, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/WalletConnectV2Provider.js"],"sourcesContent":["import _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { getAccountsFromNamespaces, parseAccountId } from '@walletconnect/utils';\nimport { providerErrors, JRPCEngine, providerFromEngine } from '@web3auth/auth';\nimport { formatChainId } from './utils.js';\nimport { switchChain, addChain, getAccounts, getEthProviderHandlers, getSolProviderHandlers } from './walletConnectV2Utils.js';\nimport { createEthMiddleware, createEthChainSwitchMiddleware } from '../../providers/ethereum-provider/rpc/ethRpcMiddlewares.js';\nimport { createEthJsonRpcClient } from '../../providers/ethereum-provider/rpc/jrpcClient.js';\nimport { createSolanaMiddleware } from '../../providers/solana-provider/rpc/solanaRpcMiddlewares.js';\nimport { createSolanaJsonRpcClient } from '../../providers/solana-provider/rpc/JrpcClient.js';\nimport { BaseProvider } from '../../providers/base-provider/baseProvider.js';\nimport { WalletLoginError } from '../../base/errors/index.js';\nimport { CHAIN_NAMESPACES } from '@toruslabs/base-controllers';\nimport { log } from '../../base/loglevel.js';\n\nvar _WalletConnectV2Provider;\nclass WalletConnectV2Provider extends BaseProvider {\n  constructor({\n    config,\n    state,\n    connector\n  }) {\n    super({\n      config: {\n        chain: config.chain,\n        chains: config.chains,\n        skipLookupNetwork: !!config.skipLookupNetwork\n      },\n      state: _objectSpread(_objectSpread({}, state || {}), {}, {\n        chainId: \"loading\",\n        accounts: []\n      })\n    });\n    _defineProperty(this, \"connector\", null);\n    this.connector = connector || null;\n  }\n  async enable() {\n    if (!this.connector) throw providerErrors.custom({\n      message: \"Connector is not initialized, pass wallet connect connector in constructor\",\n      code: 4902\n    });\n    await this.setupProvider(this.connector);\n    return this._providerEngineProxy.request({\n      method: \"eth_accounts\"\n    });\n  }\n  async setupProvider(connector) {\n    this.onConnectorStateUpdate(connector);\n    await this.setupEngine(connector, this.config.chain.chainId);\n  }\n  async switchChain({\n    chainId\n  }) {\n    if (!this.connector) throw providerErrors.custom({\n      message: \"Connector is not initialized, pass wallet connect connector in constructor\",\n      code: 4902\n    });\n    const newChainConfig = this.getChain(chainId);\n    if (!newChainConfig) throw WalletLoginError.connectionError(\"Chain config is not available\");\n    const currentNumChainId = parseInt(this.getCurrentChainId(), 16);\n    await switchChain({\n      connector: this.connector,\n      chainId: currentNumChainId,\n      newChainId: chainId\n    });\n    await this.setupEngine(this.connector, chainId);\n    this.lookupNetwork(this.connector, chainId);\n    this.update({\n      chainId\n    });\n  }\n  async addChain(chainConfig) {\n    if (!this.connector) throw providerErrors.custom({\n      message: \"Connector is not initialized, pass wallet connect connector in constructor\",\n      code: 4902\n    });\n    const currentNumChainId = parseInt(this.getCurrentChainId(), 16);\n    await addChain({\n      connector: this.connector,\n      chainId: currentNumChainId,\n      chainConfig\n    });\n  }\n\n  // no need to implement this method in wallet connect v2.\n  async lookupNetwork(_, chainId) {\n    return chainId;\n  }\n  async setupEngine(connector, chainId) {\n    const chain = this.getChain(chainId);\n    if (chain.chainNamespace === CHAIN_NAMESPACES.EIP155) {\n      await this.setupEthEngine(connector, chainId);\n    } else if (chain.chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n      await this.setupSolEngine(connector, chainId);\n    } else {\n      throw new Error(`Unsupported chainNamespace: ${chain.chainNamespace}`);\n    }\n    this.emit(\"chainChanged\", chainId);\n    this.emit(\"connect\", {\n      chainId\n    });\n    this.update({\n      chainId\n    });\n  }\n  async setupEthEngine(connector, chainId) {\n    const chain = this.getChain(chainId);\n    const numChainId = parseInt(chainId, 16);\n    const providerHandlers = getEthProviderHandlers({\n      connector,\n      chainId: numChainId\n    });\n    const jrpcRes = await getAccounts(connector);\n    this.update({\n      accounts: jrpcRes || []\n    });\n    const ethMiddleware = createEthMiddleware(providerHandlers);\n    const chainSwitchMiddleware = this.getEthChainSwitchMiddleware();\n    const engine = new JRPCEngine();\n    const {\n      networkMiddleware\n    } = createEthJsonRpcClient(chain);\n    engine.push(ethMiddleware);\n    engine.push(chainSwitchMiddleware);\n    engine.push(networkMiddleware);\n    const provider = providerFromEngine(engine);\n    this.updateProviderEngineProxy(provider);\n  }\n  async setupSolEngine(connector, chainId) {\n    const chain = this.getChain(chainId);\n    const providerHandlers = getSolProviderHandlers({\n      connector,\n      chainId\n    });\n    const jrpcRes = await getAccounts(connector);\n    this.update({\n      accounts: jrpcRes || []\n    });\n    const solMiddleware = createSolanaMiddleware(providerHandlers);\n    const engine = new JRPCEngine();\n    const {\n      networkMiddleware\n    } = createSolanaJsonRpcClient(chain);\n    engine.push(solMiddleware);\n    engine.push(networkMiddleware);\n    const provider = providerFromEngine(engine);\n    this.updateProviderEngineProxy(provider);\n  }\n  getEthChainSwitchMiddleware() {\n    const chainSwitchHandlers = {\n      switchChain: async params => {\n        const {\n          chainId\n        } = params;\n        await this.switchChain({\n          chainId\n        });\n      },\n      addChain: async params => {\n        await this.addChain(params);\n      }\n    };\n    const chainSwitchMiddleware = createEthChainSwitchMiddleware(chainSwitchHandlers);\n    return chainSwitchMiddleware;\n  }\n  connectedTopic() {\n    var _this$connector;\n    if (!this.connector) throw WalletLoginError.notConnectedError(\"Wallet connect connector is not connected\");\n    if ((_this$connector = this.connector) !== null && _this$connector !== void 0 && (_this$connector = _this$connector.session) !== null && _this$connector !== void 0 && _this$connector.length) {\n      var _this$connector$sessi;\n      // currently we are supporting only 1 active session\n      const lastKeyIndex = this.connector.session.keys.length - 1;\n      return (_this$connector$sessi = this.connector.session.get(this.connector.session.keys[lastKeyIndex])) === null || _this$connector$sessi === void 0 ? void 0 : _this$connector$sessi.topic;\n    }\n    return undefined;\n  }\n  checkIfAccountAllowed(address) {\n    if (!this.connector || !this.connectedTopic()) return false;\n    const sessionData = this.connector.session.get(this.connectedTopic());\n    const allAccounts = getAccountsFromNamespaces(sessionData.namespaces);\n    let accountAllowed = false;\n    for (const account of allAccounts) {\n      var _parsedAccount$addres;\n      const parsedAccount = parseAccountId(account);\n      if (((_parsedAccount$addres = parsedAccount.address) === null || _parsedAccount$addres === void 0 ? void 0 : _parsedAccount$addres.toLowerCase()) === (address === null || address === void 0 ? void 0 : address.toLowerCase())) {\n        accountAllowed = true;\n        break;\n      }\n    }\n    return accountAllowed;\n  }\n  async onConnectorStateUpdate(connector) {\n    connector.events.on(\"session_event\", async payload => {\n      log.debug(\"session_event data\", payload);\n      if (!this.provider) throw WalletLoginError.notConnectedError(\"Wallet connect connector is not connected\");\n      const {\n        event\n      } = payload.params;\n      const {\n        name,\n        data\n      } = event || {};\n      // Check if accounts changed and trigger event\n      if (name === \"accountsChanged\" && data !== null && data !== void 0 && data.length && this.state.accounts[0] !== data[0] && this.checkIfAccountAllowed(data[0])) {\n        this.update({\n          accounts: data\n        });\n        this.emit(\"accountsChanged\", data);\n      }\n      if (event.name === \"chainChanged\") {\n        if (!data) return;\n        const connectedChainId = data;\n        const formattedChainId = formatChainId(connectedChainId);\n        // Check if chainId changed and trigger event\n        const {\n          currentChain\n        } = this;\n        if (formattedChainId && currentChain.chainId !== formattedChainId) {\n          // Handle rpcUrl update\n          await this.setupEngine(connector, formattedChainId);\n        }\n      }\n    });\n  }\n  getCurrentChainId() {\n    const currentChain = this.state.chainId;\n    if (!currentChain || currentChain === \"loading\") {\n      return this.config.chains[0].chainId;\n    }\n    return currentChain;\n  }\n}\n_WalletConnectV2Provider = WalletConnectV2Provider;\n_defineProperty(WalletConnectV2Provider, \"getProviderInstance\", async params => {\n  const providerFactory = new _WalletConnectV2Provider({\n    config: {\n      chain: params.chain,\n      chains: params.chains,\n      skipLookupNetwork: params.skipLookupNetwork\n    }\n  });\n  await providerFactory.setupProvider(params.connector);\n  return providerFactory;\n});\n\nexport { WalletConnectV2Provider };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1031, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashparikh/projects/xstocks-ui/node_modules/%40web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/walletConnectV2Connector.js"],"sourcesContent":["import _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { CHAIN_NAMESPACES, getErrorAnalyticsProperties, signChallenge, verifySignedChallenge } from '@toruslabs/base-controllers';\nimport Client from '@walletconnect/sign-client';\nimport { isValidArray, getSdkError } from '@walletconnect/utils';\nimport { EVM_METHOD_TYPES, SOLANA_METHOD_TYPES } from '@web3auth/ws-embed';\nimport deepmerge from 'deepmerge';\nimport { getWalletConnectV2Settings } from './config.js';\nimport { WalletConnectV2Provider } from './WalletConnectV2Provider.js';\nimport { BaseConnector } from '../../base/connector/baseConnector.js';\nimport { WALLET_CONNECTORS } from '../../base/wallet/index.js';\nimport { CONNECTOR_NAMESPACES } from '../../base/chain/IChainInterface.js';\nimport { CONNECTOR_CATEGORY, CONNECTOR_STATUS, CONNECTOR_EVENTS } from '../../base/connector/constants.js';\nimport { WalletInitializationError, WalletLoginError, Web3AuthError } from '../../base/errors/index.js';\nimport { log } from '../../base/loglevel.js';\nimport { getCaipChainId } from '../../base/utils.js';\nimport { ANALYTICS_EVENTS } from '../../base/analytics.js';\nimport { getSavedToken, checkIfTokenIsExpired, saveToken } from '../../base/connector/utils.js';\n\nclass WalletConnectV2Connector extends BaseConnector {\n  constructor(options) {\n    var _this$connectorOption, _this$connectorOption2, _this$connectorOption3, _this$connectorOption4, _this$connectorOption5;\n    super(options);\n    _defineProperty(this, \"name\", WALLET_CONNECTORS.WALLET_CONNECT_V2);\n    _defineProperty(this, \"connectorNamespace\", CONNECTOR_NAMESPACES.MULTICHAIN);\n    _defineProperty(this, \"currentChainNamespace\", CHAIN_NAMESPACES.OTHER);\n    _defineProperty(this, \"type\", CONNECTOR_CATEGORY.EXTERNAL);\n    _defineProperty(this, \"connectorOptions\", void 0);\n    _defineProperty(this, \"status\", CONNECTOR_STATUS.NOT_READY);\n    _defineProperty(this, \"connectorData\", {\n      uri: \"\"\n    });\n    _defineProperty(this, \"connector\", null);\n    _defineProperty(this, \"activeSession\", null);\n    _defineProperty(this, \"wcProvider\", null);\n    _defineProperty(this, \"analytics\", void 0);\n    this.connectorOptions = _objectSpread({}, options);\n    const {\n      qrcodeModal,\n      walletConnectInitOptions\n    } = (options === null || options === void 0 ? void 0 : options.connectorSettings) || {};\n    this.connectorOptions = _objectSpread(_objectSpread({}, this.connectorOptions), {}, {\n      connectorSettings: (_this$connectorOption = (_this$connectorOption2 = this.connectorOptions) === null || _this$connectorOption2 === void 0 ? void 0 : _this$connectorOption2.connectorSettings) !== null && _this$connectorOption !== void 0 ? _this$connectorOption : {},\n      loginSettings: (_this$connectorOption3 = (_this$connectorOption4 = this.connectorOptions) === null || _this$connectorOption4 === void 0 ? void 0 : _this$connectorOption4.loginSettings) !== null && _this$connectorOption3 !== void 0 ? _this$connectorOption3 : {}\n    });\n    this.analytics = options.analytics;\n    if (qrcodeModal) this.connectorOptions.connectorSettings.qrcodeModal = qrcodeModal;\n    if (walletConnectInitOptions) this.connectorOptions.connectorSettings.walletConnectInitOptions = _objectSpread(_objectSpread({}, (_this$connectorOption5 = this.connectorOptions.connectorSettings.walletConnectInitOptions) !== null && _this$connectorOption5 !== void 0 ? _this$connectorOption5 : {}), walletConnectInitOptions);\n    const {\n      loginSettings\n    } = options;\n    if (loginSettings) this.connectorOptions.loginSettings = _objectSpread(_objectSpread({}, this.connectorOptions.loginSettings || {}), loginSettings);\n  }\n  get connected() {\n    return !!this.activeSession;\n  }\n  get provider() {\n    if (this.status !== CONNECTOR_STATUS.NOT_READY && this.wcProvider) {\n      return this.wcProvider;\n    }\n    return null;\n  }\n  set provider(_) {\n    throw new Error(\"Not implemented\");\n  }\n  async init(options) {\n    var _this$connectorOption6;\n    const chainConfig = this.coreOptions.chains.find(x => x.chainId === options.chainId);\n    super.checkInitializationRequirements({\n      chainConfig\n    });\n    const projectId = (_this$connectorOption6 = this.connectorOptions.connectorSettings) === null || _this$connectorOption6 === void 0 || (_this$connectorOption6 = _this$connectorOption6.walletConnectInitOptions) === null || _this$connectorOption6 === void 0 ? void 0 : _this$connectorOption6.projectId;\n    const filteredChains = this.coreOptions.chains.filter(x => x.chainNamespace === CHAIN_NAMESPACES.EIP155 || x.chainNamespace === CHAIN_NAMESPACES.SOLANA);\n    if (filteredChains.length === 0) {\n      throw WalletInitializationError.invalidParams(\"No supported chains found\");\n    }\n    const wc2Settings = await getWalletConnectV2Settings(filteredChains, projectId);\n    if (!this.connectorOptions.loginSettings || Object.keys(this.connectorOptions.loginSettings).length === 0) {\n      this.connectorOptions.loginSettings = wc2Settings.loginSettings;\n    }\n    this.connectorOptions.connectorSettings = deepmerge(wc2Settings.connectorSettings || {}, this.connectorOptions.connectorSettings || {});\n    const {\n      connectorSettings\n    } = this.connectorOptions;\n    this.connector = await Client.init(connectorSettings === null || connectorSettings === void 0 ? void 0 : connectorSettings.walletConnectInitOptions);\n    this.wcProvider = new WalletConnectV2Provider({\n      config: {\n        chain: chainConfig,\n        chains: this.coreOptions.chains\n      },\n      connector: this.connector\n    });\n    this.emit(CONNECTOR_EVENTS.READY, WALLET_CONNECTORS.WALLET_CONNECT_V2);\n    this.status = CONNECTOR_STATUS.READY;\n    log.debug(\"initializing wallet connect v2 connector\");\n    if (options.autoConnect) {\n      await this.checkForPersistedSession();\n      if (this.connected) {\n        this.rehydrated = true;\n        try {\n          await this.onConnectHandler({\n            chain: chainConfig,\n            getIdentityToken: options.getIdentityToken\n          });\n        } catch (error) {\n          log.error(\"wallet auto connect\", error);\n          this.emit(CONNECTOR_EVENTS.REHYDRATION_ERROR, error);\n        }\n      } else {\n        this.status = CONNECTOR_STATUS.NOT_READY;\n        this.emit(CONNECTOR_EVENTS.CACHE_CLEAR);\n      }\n    }\n  }\n  async connect({\n    chainId,\n    getIdentityToken\n  }) {\n    super.checkConnectionRequirements();\n    const chainConfig = this.coreOptions.chains.find(x => x.chainId === chainId);\n    if (!chainConfig) throw WalletLoginError.connectionError(\"Chain config is not available\");\n    if (!this.connector) throw WalletInitializationError.notReady(\"Wallet connector is not ready yet\");\n\n    // Skip tracking for rehydration since only new connections are tracked\n    // Track when connection completes since it auto-initializes to generate QR code\n    const shouldTrack = !this.connected && !this.rehydrated;\n    const startTime = Date.now();\n    let eventData = {\n      connector: this.name,\n      connector_type: this.type,\n      is_injected: this.isInjected,\n      is_wallet_connect: true,\n      chain_id: getCaipChainId(chainConfig),\n      chain_name: chainConfig === null || chainConfig === void 0 ? void 0 : chainConfig.displayName,\n      chain_namespace: chainConfig === null || chainConfig === void 0 ? void 0 : chainConfig.chainNamespace\n    };\n    try {\n      const trackCompletionEvents = () => {\n        // track connection events\n        if (shouldTrack) {\n          var _this$activeSession, _this$analytics, _this$analytics2;\n          const {\n            name,\n            url,\n            redirect\n          } = ((_this$activeSession = this.activeSession) === null || _this$activeSession === void 0 || (_this$activeSession = _this$activeSession.peer) === null || _this$activeSession === void 0 ? void 0 : _this$activeSession.metadata) || {};\n          const {\n            native,\n            universal,\n            linkMode\n          } = redirect || {};\n          eventData = _objectSpread(_objectSpread({}, eventData), {}, {\n            connector: name || this.name,\n            wallet_url: url,\n            redirect_native: native,\n            redirect_universal: universal,\n            redirect_link_mode_enabled: linkMode\n          });\n          (_this$analytics = this.analytics) === null || _this$analytics === void 0 || _this$analytics.track(ANALYTICS_EVENTS.CONNECTION_STARTED, eventData);\n          (_this$analytics2 = this.analytics) === null || _this$analytics2 === void 0 || _this$analytics2.track(ANALYTICS_EVENTS.CONNECTION_COMPLETED, _objectSpread(_objectSpread({}, eventData), {}, {\n            duration: Date.now() - startTime\n          }));\n        }\n      };\n\n      // if already connected\n      if (this.connected) {\n        await this.onConnectHandler({\n          chain: chainConfig,\n          getIdentityToken\n        });\n        return this.provider;\n      }\n      if (this.status !== CONNECTOR_STATUS.CONNECTING) {\n        await this.createNewSession({\n          chainConfig,\n          trackCompletionEvents,\n          getIdentityToken\n        });\n      }\n      return this.provider;\n    } catch (error) {\n      log.error(\"Wallet connect v2 connector error while connecting\", error);\n      // ready again to be connected\n      this.status = CONNECTOR_STATUS.READY;\n      this.rehydrated = true;\n      this.emit(CONNECTOR_EVENTS.ERRORED, error);\n\n      // track connection events\n      if (shouldTrack) {\n        var _this$analytics3, _this$analytics4;\n        (_this$analytics3 = this.analytics) === null || _this$analytics3 === void 0 || _this$analytics3.track(ANALYTICS_EVENTS.CONNECTION_STARTED, eventData);\n        (_this$analytics4 = this.analytics) === null || _this$analytics4 === void 0 || _this$analytics4.track(ANALYTICS_EVENTS.CONNECTION_FAILED, _objectSpread(_objectSpread(_objectSpread({}, eventData), getErrorAnalyticsProperties(error)), {}, {\n          duration: Date.now() - startTime\n        }));\n      }\n      const finalError = error instanceof Web3AuthError ? error : WalletLoginError.connectionError(`Failed to login with wallet connect: ${(error === null || error === void 0 ? void 0 : error.message) || \"\"}`, error);\n      throw finalError;\n    }\n  }\n  async switchChain(params, init = false) {\n    super.checkSwitchChainRequirements(params, init);\n    if (!this.wcProvider) throw WalletInitializationError.notReady(\"Wallet Connect provider is not ready yet\");\n    try {\n      await this.wcProvider.switchChain({\n        chainId: params.chainId\n      });\n    } catch (error) {\n      log.error(\"error while switching chain\", error);\n      throw error;\n    }\n  }\n  async getUserInfo() {\n    if (!this.canAuthorize) throw WalletLoginError.notConnectedError(\"Not connected with wallet, Please login/connect first\");\n    return {};\n  }\n  async disconnect(options = {\n    cleanup: false,\n    sessionRemovedByWallet: false\n  }) {\n    var _this$activeSession2, _this$activeSession3;\n    const {\n      cleanup\n    } = options;\n    if (!this.connector || !this.connected || !((_this$activeSession2 = this.activeSession) !== null && _this$activeSession2 !== void 0 && _this$activeSession2.topic)) throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n    if (!options.sessionRemovedByWallet) await this.connector.disconnect({\n      topic: (_this$activeSession3 = this.activeSession) === null || _this$activeSession3 === void 0 ? void 0 : _this$activeSession3.topic,\n      reason: getSdkError(\"USER_DISCONNECTED\")\n    });\n    this.rehydrated = false;\n    if (cleanup) {\n      this.connector = null;\n      this.status = CONNECTOR_STATUS.NOT_READY;\n      this.wcProvider = null;\n    } else {\n      // ready to connect again\n      this.status = CONNECTOR_STATUS.READY;\n    }\n    this.activeSession = null;\n    this.emit(CONNECTOR_EVENTS.DISCONNECTED);\n  }\n  async getIdentityToken() {\n    if (!this.provider || !this.canAuthorize) throw WalletLoginError.notConnectedError();\n    this.status = CONNECTOR_STATUS.AUTHORIZING;\n    this.emit(CONNECTOR_EVENTS.AUTHORIZING, {\n      connector: WALLET_CONNECTORS.WALLET_CONNECT_V2\n    });\n    const {\n      chainId\n    } = this.provider;\n    const currentChainConfig = this.coreOptions.chains.find(x => x.chainId === chainId);\n    if (!currentChainConfig) throw WalletLoginError.connectionError(\"Chain config is not available\");\n    const {\n      chainNamespace\n    } = currentChainConfig;\n    const accounts = await this.provider.request({\n      method: chainNamespace === CHAIN_NAMESPACES.EIP155 ? EVM_METHOD_TYPES.GET_ACCOUNTS : SOLANA_METHOD_TYPES.GET_ACCOUNTS\n    });\n    if (accounts && accounts.length > 0) {\n      const existingToken = getSavedToken(accounts[0], this.name);\n      if (existingToken) {\n        const isExpired = checkIfTokenIsExpired(existingToken);\n        if (!isExpired) {\n          this.status = CONNECTOR_STATUS.AUTHORIZED;\n          this.emit(CONNECTOR_EVENTS.AUTHORIZED, {\n            connector: WALLET_CONNECTORS.WALLET_CONNECT_V2,\n            identityTokenInfo: {\n              idToken: existingToken\n            }\n          });\n          return {\n            idToken: existingToken\n          };\n        }\n      }\n      const payload = {\n        domain: window.location.origin,\n        uri: window.location.href,\n        address: accounts[0],\n        chainId: parseInt(chainId, 16),\n        version: \"1\",\n        nonce: Math.random().toString(36).slice(2),\n        issuedAt: new Date().toISOString()\n      };\n      const challenge = await signChallenge(payload, chainNamespace);\n      const signedMessage = await this._getSignedMessage(challenge, accounts, chainNamespace);\n      const idToken = await verifySignedChallenge(chainNamespace, signedMessage, challenge, this.name, this.coreOptions.sessionTime, this.coreOptions.clientId, this.coreOptions.web3AuthNetwork);\n      saveToken(accounts[0], this.name, idToken);\n      this.status = CONNECTOR_STATUS.AUTHORIZED;\n      this.emit(CONNECTOR_EVENTS.AUTHORIZED, {\n        connector: WALLET_CONNECTORS.WALLET_CONNECT_V2,\n        identityTokenInfo: {\n          idToken\n        }\n      });\n      return {\n        idToken\n      };\n    }\n    throw WalletLoginError.notConnectedError(\"Not connected with wallet, Please login/connect first\");\n  }\n  async enableMFA() {\n    throw new Error(\"Method Not implemented\");\n  }\n  async manageMFA() {\n    throw new Error(\"Method Not implemented\");\n  }\n  cleanupPendingPairings() {\n    if (!this.connector) throw WalletInitializationError.notReady(\"Wallet connector is not ready yet\");\n    const inactivePairings = this.connector.pairing.getAll({\n      active: false\n    });\n    if (!isValidArray(inactivePairings)) return;\n    inactivePairings.forEach(pairing => {\n      if (this.connector) {\n        this.connector.pairing.delete(pairing.topic, getSdkError(\"USER_DISCONNECTED\"));\n      }\n    });\n  }\n  async checkForPersistedSession() {\n    if (!this.connector) throw WalletInitializationError.notReady(\"Wallet connector is not ready yet\");\n    if (this.connector.session.length) {\n      const lastKeyIndex = this.connector.session.keys.length - 1;\n      this.activeSession = this.connector.session.get(this.connector.session.keys[lastKeyIndex]);\n    }\n    return this.activeSession;\n  }\n  async createNewSession({\n    forceNewSession = false,\n    chainConfig,\n    trackCompletionEvents,\n    getIdentityToken\n  }) {\n    try {\n      var _this$activeSession4, _this$connectorOption7;\n      if (!this.connector) throw WalletInitializationError.notReady(\"Wallet connector is not ready yet\");\n      if (!this.connectorOptions.loginSettings || Object.keys(this.connectorOptions.loginSettings).length === 0) throw WalletInitializationError.notReady(\"login settings are not set yet\");\n      this.status = CONNECTOR_STATUS.CONNECTING;\n      this.emit(CONNECTOR_EVENTS.CONNECTING, {\n        connector: WALLET_CONNECTORS.WALLET_CONNECT_V2\n      });\n      if (forceNewSession && (_this$activeSession4 = this.activeSession) !== null && _this$activeSession4 !== void 0 && _this$activeSession4.topic) {\n        var _this$activeSession5;\n        await this.connector.disconnect({\n          topic: (_this$activeSession5 = this.activeSession) === null || _this$activeSession5 === void 0 ? void 0 : _this$activeSession5.topic,\n          reason: getSdkError(\"USER_DISCONNECTED\")\n        });\n      }\n      const {\n        uri,\n        approval\n      } = await this.connector.connect(this.connectorOptions.loginSettings);\n      const qrcodeModal = (_this$connectorOption7 = this.connectorOptions) === null || _this$connectorOption7 === void 0 || (_this$connectorOption7 = _this$connectorOption7.connectorSettings) === null || _this$connectorOption7 === void 0 ? void 0 : _this$connectorOption7.qrcodeModal;\n      // Open QRCode modal if a URI was returned (i.e. we're not connecting with an existing pairing).\n      if (uri) {\n        if (qrcodeModal) {\n          try {\n            await qrcodeModal.openModal({\n              uri\n            });\n            log.debug(\"EVENT\", \"QR Code Modal closed\");\n            this.status = CONNECTOR_STATUS.READY;\n            this.emit(CONNECTOR_EVENTS.READY, WALLET_CONNECTORS.WALLET_CONNECT_V2);\n          } catch (error) {\n            log.error(\"unable to open qr code modal\", error);\n          }\n        } else {\n          this.updateConnectorData({\n            uri\n          });\n        }\n      }\n      log.info(\"awaiting session approval from wallet\");\n\n      // Await session approval from the wallet.\n      const session = await approval();\n      this.activeSession = session;\n      // Handle the returned session (e.g. update UI to \"connected\" state).\n      await this.onConnectHandler({\n        chain: chainConfig,\n        trackCompletionEvents,\n        getIdentityToken\n      });\n      if (qrcodeModal) {\n        qrcodeModal.closeModal();\n      }\n    } catch (error) {\n      var _message;\n      if ((_message = error.message) !== null && _message !== void 0 && _message.toLowerCase().includes(\"proposal expired\")) {\n        // Retry if connector status is still connecting\n        log.info(\"current connector status: \", this.status);\n        if (this.status === CONNECTOR_STATUS.CONNECTING) {\n          log.info(\"retrying to create new wallet connect session since proposal expired\");\n          return this.createNewSession({\n            forceNewSession: true,\n            chainConfig,\n            getIdentityToken\n          });\n        }\n        if (this.status === CONNECTOR_STATUS.READY) {\n          log.info(\"ignoring proposal expired error since some other connector is connected\");\n          return;\n        }\n      }\n      log.error(\"error while creating new wallet connect session\", error);\n      this.emit(CONNECTOR_EVENTS.ERRORED, error);\n      throw error;\n    }\n  }\n  async onConnectHandler({\n    chain,\n    trackCompletionEvents,\n    getIdentityToken\n  }) {\n    var _this$connectorOption8;\n    if (!this.connector || !this.wcProvider) throw WalletInitializationError.notReady(\"Wallet connect connector is not ready yet\");\n    this.subscribeEvents();\n    if ((_this$connectorOption8 = this.connectorOptions.connectorSettings) !== null && _this$connectorOption8 !== void 0 && _this$connectorOption8.qrcodeModal) {\n      this.wcProvider = new WalletConnectV2Provider({\n        config: {\n          chain,\n          chains: this.coreOptions.chains,\n          skipLookupNetwork: true\n        },\n        connector: this.connector\n      });\n    }\n    await this.wcProvider.setupProvider(this.connector);\n    this.cleanupPendingPairings();\n    this.status = CONNECTOR_STATUS.CONNECTED;\n\n    // track connection events\n    if (trackCompletionEvents) trackCompletionEvents();\n    let identityTokenInfo;\n    this.emit(CONNECTOR_EVENTS.CONNECTED, {\n      connector: WALLET_CONNECTORS.WALLET_CONNECT_V2,\n      reconnected: this.rehydrated,\n      provider: this.provider,\n      identityTokenInfo\n    });\n    if (getIdentityToken) {\n      identityTokenInfo = await this.getIdentityToken();\n    }\n  }\n  subscribeEvents() {\n    if (!this.connector) throw WalletInitializationError.notReady(\"Wallet connector is not ready yet\");\n    this.connector.events.on(\"session_update\", ({\n      topic,\n      params\n    }) => {\n      if (!this.connector) return;\n      const {\n        namespaces\n      } = params;\n      const _session = this.connector.session.get(topic);\n      // Overwrite the `namespaces` of the existing session with the incoming one.\n      const updatedSession = _objectSpread(_objectSpread({}, _session), {}, {\n        namespaces\n      });\n      // Integrate the updated session state into your dapp state.\n      this.activeSession = updatedSession;\n    });\n    this.connector.events.on(\"session_delete\", () => {\n      // Session was deleted -> reset the dapp state, clean up from user session, etc.\n      this.disconnect({\n        sessionRemovedByWallet: true\n      });\n    });\n    this.connector.events.on(\"session_expire\", ({\n      topic\n    }) => {\n      var _this$activeSession6;\n      // Session has expired -> clean up the session\n      log.info(\"Session expired event received for topic:\", topic);\n      if (((_this$activeSession6 = this.activeSession) === null || _this$activeSession6 === void 0 ? void 0 : _this$activeSession6.topic) === topic) {\n        this.disconnect({\n          sessionRemovedByWallet: true\n        }).catch(error => {\n          log.error(\"Failed to disconnect expired session\", error);\n        });\n      }\n    });\n  }\n  async _getSignedMessage(challenge, accounts, chainNamespace) {\n    const signedMessage = await this.provider.request({\n      method: chainNamespace === CHAIN_NAMESPACES.EIP155 ? EVM_METHOD_TYPES.PERSONAL_SIGN : SOLANA_METHOD_TYPES.SIGN_MESSAGE,\n      params: chainNamespace === CHAIN_NAMESPACES.EIP155 ? [challenge, accounts[0]] : {\n        data: challenge\n      }\n    });\n    return signedMessage;\n  }\n}\nconst walletConnectV2Connector = params => {\n  return ({\n    coreOptions,\n    projectConfig,\n    analytics\n  }) => {\n    var _params$walletConnect;\n    const projectId = (params === null || params === void 0 || (_params$walletConnect = params.walletConnectInitOptions) === null || _params$walletConnect === void 0 ? void 0 : _params$walletConnect.projectId) || (projectConfig === null || projectConfig === void 0 ? void 0 : projectConfig.walletConnectProjectId);\n    const connectorSettings = _objectSpread(_objectSpread({}, params), {}, {\n      walletConnectInitOptions: _objectSpread(_objectSpread({}, params === null || params === void 0 ? void 0 : params.walletConnectInitOptions), {}, {\n        projectId: projectId\n      })\n    });\n    return new WalletConnectV2Connector({\n      connectorSettings,\n      coreOptions,\n      analytics\n    });\n  };\n};\n\nexport { walletConnectV2Connector };\n"],"names":[],"mappings":"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","ignoreList":[0]}}]
}