module.exports = [
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/wallet/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CONNECTOR_NAMES",
    ()=>CONNECTOR_NAMES,
    "EVM_CONNECTORS",
    ()=>EVM_CONNECTORS,
    "MULTI_CHAIN_CONNECTORS",
    ()=>MULTI_CHAIN_CONNECTORS,
    "SOLANA_CONNECTORS",
    ()=>SOLANA_CONNECTORS,
    "WALLET_CONNECTORS",
    ()=>WALLET_CONNECTORS
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
;
const MULTI_CHAIN_CONNECTORS = {
    AUTH: "auth",
    WALLET_CONNECT_V2: "wallet-connect-v2",
    METAMASK: "metamask"
};
const SOLANA_CONNECTORS = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, MULTI_CHAIN_CONNECTORS);
const EVM_CONNECTORS = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({
    COINBASE: "coinbase"
}, MULTI_CHAIN_CONNECTORS);
const WALLET_CONNECTORS = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, EVM_CONNECTORS), SOLANA_CONNECTORS);
const CONNECTOR_NAMES = {
    [MULTI_CHAIN_CONNECTORS.AUTH]: "Auth",
    [MULTI_CHAIN_CONNECTORS.WALLET_CONNECT_V2]: "Wallet Connect v2",
    [EVM_CONNECTORS.COINBASE]: "Coinbase Smart Wallet",
    [EVM_CONNECTORS.METAMASK]: "MetaMask"
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/constants.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "LOGIN_MODE",
    ()=>LOGIN_MODE,
    "MODAL_SIGN_IN_METHODS",
    ()=>MODAL_SIGN_IN_METHODS,
    "SMART_ACCOUNT_WALLET_SCOPE",
    ()=>SMART_ACCOUNT_WALLET_SCOPE,
    "SOLANA_CAIP_CHAIN_MAP",
    ()=>SOLANA_CAIP_CHAIN_MAP,
    "WALLET_REGISTRY_URL",
    ()=>WALLET_REGISTRY_URL,
    "WEB3AUTH_STATE_STORAGE_KEY",
    ()=>WEB3AUTH_STATE_STORAGE_KEY,
    "WIDGET_TYPE",
    ()=>WIDGET_TYPE
]);
const SMART_ACCOUNT_WALLET_SCOPE = {
    EMBEDDED: "embedded",
    ALL: "all"
};
const MODAL_SIGN_IN_METHODS = {
    SOCIAL: "social",
    PASSWORDLESS: "passwordless",
    EXTERNAL_WALLETS: "externalWallets"
};
const WIDGET_TYPE = {
    MODAL: "modal",
    EMBED: "embed"
};
const WEB3AUTH_STATE_STORAGE_KEY = "Web3Auth-state";
const LOGIN_MODE = {
    MODAL: "modal",
    NO_MODAL: "no-modal"
};
const SOLANA_CAIP_CHAIN_MAP = {
    "0x65": "5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",
    "0x66": "4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",
    "0x67": "EtWTRABZaYq6iMfeYKouRu166VU2xqa1"
};
const WALLET_REGISTRY_URL = "https://assets.web3auth.io/v2/wallet-registry.json";
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/deserialize.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "deserialize",
    ()=>deserialize
]);
function deserialize(value, reviver) {
    return JSON.parse(value, (key, value_)=>{
        var _value, _value2, _reviver;
        let value = value_;
        if (((_value = value) === null || _value === void 0 ? void 0 : _value.__type) === "bigint") value = BigInt(value.value);
        if (((_value2 = value) === null || _value2 === void 0 ? void 0 : _value2.__type) === "Map") value = new Map(value.value);
        return (_reviver = void 0) !== null && _reviver !== void 0 ? _reviver : value;
    });
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/cookie.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "cookieStorage",
    ()=>cookieStorage,
    "cookieToWeb3AuthState",
    ()=>cookieToWeb3AuthState,
    "parseCookie",
    ()=>parseCookie
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$deserialize$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/deserialize.js [app-ssr] (ecmascript)");
;
;
const cookieStorage = (options)=>({
        getItem (key) {
            if ("TURBOPACK compile-time truthy", 1) return null;
            //TURBOPACK unreachable
            ;
            const value = undefined;
        },
        setItem (key, value) {
            if ("TURBOPACK compile-time truthy", 1) return;
            //TURBOPACK unreachable
            ;
            let cookieString;
        },
        removeItem (key) {
            if ("TURBOPACK compile-time truthy", 1) return;
            //TURBOPACK unreachable
            ;
        }
    });
function cookieToWeb3AuthState(cookie) {
    if (!cookie) return undefined;
    const parsed = parseCookie(cookie, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WEB3AUTH_STATE_STORAGE_KEY"]);
    if (!parsed) return undefined;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$deserialize$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deserialize"])(parsed);
}
function parseCookie(cookie, key) {
    const keyValue = cookie.split("; ").find((x)=>x.startsWith(`${key}=`));
    if (!keyValue) return undefined;
    return keyValue.substring(key.length + 1);
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/loglevel.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "log",
    ()=>log
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$loglevel$2d$sentry$2f$dist$2f$lib$2e$esm$2f$loglevel$2d$sentry$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/loglevel-sentry/dist/lib.esm/loglevel-sentry.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-ssr] (ecmascript)");
;
;
const log = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].getLogger("web3auth-logger");
const loglevelPlugin = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$loglevel$2d$sentry$2f$dist$2f$lib$2e$esm$2f$loglevel$2d$sentry$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["LoglevelSentry"]();
loglevelPlugin.install(log);
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/analytics.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ANALYTICS_EVENTS",
    ()=>ANALYTICS_EVENTS,
    "ANALYTICS_INTEGRATION_TYPE",
    ()=>ANALYTICS_INTEGRATION_TYPE,
    "ANALYTICS_SDK_TYPE",
    ()=>ANALYTICS_SDK_TYPE,
    "Analytics",
    ()=>Analytics
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$browser$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/browser/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/loglevel.js [app-ssr] (ecmascript)");
;
;
;
;
const SEGMENT_WRITE_KEY = "f6LbNqCeVRf512ggdME4b6CyflhF1tsX";
class Analytics {
    constructor(){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "segment", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "globalProperties", {});
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "enabled", true);
    }
    init() {
        if (this.isSkipped()) {
            return;
        }
        if (this.segment) {
            throw new Error("Analytics already initialized");
        }
        this.segment = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$browser$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AnalyticsBrowser"]();
        this.segment.load({
            writeKey: SEGMENT_WRITE_KEY
        }, {
            user: {
                cookie: {
                    key: "web3auth_ajs_user_id"
                },
                localStorage: {
                    key: "web3auth_ajs_user_traits"
                }
            },
            globalAnalyticsKey: "web3auth_analytics"
        }).then(()=>{
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("Analytics initialized");
            return true;
        }).catch((error)=>{
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Failed to initialize Analytics", error);
        });
    }
    enable() {
        this.enabled = true;
    }
    disable() {
        this.enabled = false;
    }
    setGlobalProperties(properties) {
        this.globalProperties = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, this.globalProperties), properties);
    }
    async identify(userId, traits) {
        if (!this.enabled) return;
        if (this.isSkipped()) return;
        try {
            return this.getSegment().identify(userId, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, traits));
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(`Failed to identify user ${userId} in analytics`, error);
        }
    }
    async track(event, properties) {
        if (!this.enabled) return;
        if (this.isSkipped()) return;
        try {
            return this.getSegment().track(event, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, properties), this.globalProperties));
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(`Failed to track event ${event}`, error);
        }
    }
    getSegment() {
        if (!this.segment) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Analytics not initialized. Call Analytics.init() first.");
            throw new Error("Analytics not initialized. Call Analytics.init() first.");
        }
        return this.segment;
    }
    isSkipped() {
        const dappOrigin = window.location.origin;
        // skip if the protocol is not http or https
        if (dappOrigin.startsWith("http://")) {
            return true;
        }
        // skip if dapp contains localhost
        if (dappOrigin.includes("localhost")) {
            return true;
        }
        return false;
    }
}
const ANALYTICS_EVENTS = {
    // SDK Initialization
    SDK_INITIALIZATION_COMPLETED: "SDK Initialization Completed",
    SDK_INITIALIZATION_FAILED: "SDK Initialization Failed",
    // Connection
    CONNECTION_STARTED: "Connection Started",
    CONNECTION_COMPLETED: "Connection Completed",
    CONNECTION_FAILED: "Connection Failed",
    // Identity Token
    IDENTITY_TOKEN_STARTED: "Identity Token Started",
    IDENTITY_TOKEN_COMPLETED: "Identity Token Completed",
    IDENTITY_TOKEN_FAILED: "Identity Token Failed",
    // MFA
    MFA_ENABLEMENT_STARTED: "MFA Enablement Started",
    MFA_ENABLEMENT_COMPLETED: "MFA Enablement Completed",
    MFA_ENABLEMENT_FAILED: "MFA Enablement Failed",
    MFA_MANAGEMENT_SELECTED: "MFA Management Selected",
    MFA_MANAGEMENT_FAILED: "MFA Management Failed",
    // Login Modal
    LOGIN_MODAL_OPENED: "Login Modal Opened",
    LOGIN_MODAL_CLOSED: "Login Modal Closed",
    SOCIAL_LOGIN_SELECTED: "Social Login Selected",
    EXTERNAL_WALLET_SELECTED: "External Wallet Selected",
    EXTERNAL_WALLET_LIST_EXPANDED: "External Wallet List Expanded",
    // Wallet Plugin
    WALLET_UI_CLICKED: "Wallet UI Clicked",
    WALLET_CONNECT_SCANNER_CLICKED: "Wallet Connect Scanner Clicked",
    WALLET_FUNDING_CLICKED: "Wallet Funding Clicked",
    WALLET_CHECKOUT_CLICKED: "Wallet Checkout Clicked",
    WALLET_RECEIVE_CLICKED: "Wallet Receive Clicked",
    WALLET_SWAP_CLICKED: "Wallet Swap Clicked"
};
const ANALYTICS_INTEGRATION_TYPE = {
    REACT_HOOKS: "React Hooks",
    VUE_COMPOSABLES: "Vue Composables",
    NATIVE_SDK: "Native SDK"
};
const ANALYTICS_SDK_TYPE = {
    WEB_NO_MODAL: "Web NoModal",
    WEB_MODAL: "Web Modal"
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/constants.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CONNECTOR_CATEGORY",
    ()=>CONNECTOR_CATEGORY,
    "CONNECTOR_EVENTS",
    ()=>CONNECTOR_EVENTS,
    "CONNECTOR_INITIAL_AUTHENTICATION_MODE",
    ()=>CONNECTOR_INITIAL_AUTHENTICATION_MODE,
    "CONNECTOR_STATUS",
    ()=>CONNECTOR_STATUS
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
;
const CONNECTOR_STATUS = {
    NOT_READY: "not_ready",
    READY: "ready",
    CONNECTING: "connecting",
    CONNECTED: "connected",
    DISCONNECTING: "disconnecting",
    DISCONNECTED: "disconnected",
    ERRORED: "errored",
    AUTHORIZED: "authorized",
    AUTHORIZING: "authorizing"
};
const CONNECTOR_EVENTS = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, CONNECTOR_STATUS), {}, {
    CONNECTOR_DATA_UPDATED: "connector_data_updated",
    CACHE_CLEAR: "cache_clear",
    CONNECTORS_UPDATED: "connectors_updated",
    MFA_ENABLED: "mfa_enabled",
    REHYDRATION_ERROR: "rehydration_error"
});
const CONNECTOR_CATEGORY = {
    EXTERNAL: "external",
    IN_APP: "in_app"
};
const CONNECTOR_INITIAL_AUTHENTICATION_MODE = {
    CONNECT_ONLY: "connect-only",
    CONNECT_AND_SIGN: "connect-and-sign"
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "WalletInitializationError",
    ()=>WalletInitializationError,
    "WalletLoginError",
    ()=>WalletLoginError,
    "WalletOperationsError",
    ()=>WalletOperationsError,
    "WalletProviderError",
    ()=>WalletProviderError,
    "Web3AuthError",
    ()=>Web3AuthError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ts$2d$custom$2d$error$2f$dist$2f$custom$2d$error$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ts-custom-error/dist/custom-error.mjs [app-ssr] (ecmascript)");
;
;
// @flow
class Web3AuthError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ts$2d$custom$2d$error$2f$dist$2f$custom$2d$error$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CustomError"] {
    constructor(code, message, cause){
        // takes care of stack and proto
        super(message);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "code", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "message", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "cause", void 0);
        this.code = code;
        this.message = message || "";
        this.cause = cause;
        // Set name explicitly as minification can mangle class names
        Object.defineProperty(this, "name", {
            value: "Web3AuthError"
        });
    }
    toJSON() {
        return {
            name: this.name,
            code: this.code,
            message: this.message,
            cause: this.cause
        };
    }
    toString() {
        return JSON.stringify(this.toJSON());
    }
}
class WalletInitializationError extends Web3AuthError {
    constructor(code, message, cause){
        // takes care of stack and proto
        super(code, message, cause);
        // Set name explicitly as minification can mangle class names
        Object.defineProperty(this, "name", {
            value: "WalletInitializationError"
        });
    }
    static fromCode(code, extraMessage = "", cause) {
        return new WalletInitializationError(code, `${WalletInitializationError.messages[code]}, ${extraMessage}`, cause);
    }
    // Custom methods
    static notFound(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5001, extraMessage, cause);
    }
    static notInstalled(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5002, extraMessage, cause);
    }
    static notReady(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5003, extraMessage, cause);
    }
    static windowBlocked(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5004, extraMessage, cause);
    }
    static windowClosed(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5005, extraMessage, cause);
    }
    static incompatibleChainNameSpace(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5006, extraMessage, cause);
    }
    static duplicateConnectorError(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5007, extraMessage, cause);
    }
    static invalidProviderConfigError(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5008, extraMessage, cause);
    }
    static providerNotReadyError(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5009, extraMessage, cause);
    }
    static rpcConnectionError(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5010, extraMessage, cause);
    }
    static invalidParams(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5011, extraMessage, cause);
    }
    static invalidNetwork(extraMessage = "", cause) {
        return WalletInitializationError.fromCode(5013, extraMessage, cause);
    }
}
/**
 * wallet login errors
 */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(WalletInitializationError, "messages", {
    5000: "Custom",
    5001: "Wallet is not found",
    5002: "Wallet is not installed",
    5003: "Wallet is not ready yet",
    5004: "Wallet window is blocked",
    5005: "Wallet window has been closed by the user",
    5006: "Incompatible chain namespace provided",
    5007: "Connector has already been included",
    5008: "Invalid provider Config",
    5009: "Provider is not ready yet",
    5010: "Failed to connect with rpc url",
    5011: "Invalid params passed in",
    5013: "Invalid network provided"
});
class WalletLoginError extends Web3AuthError {
    constructor(code, message, cause){
        // takes care of stack and proto
        super(code, message, cause);
        // Set name explicitly as minification can mangle class names
        Object.defineProperty(this, "name", {
            value: "WalletLoginError"
        });
    }
    static fromCode(code, extraMessage = "", cause) {
        return new WalletLoginError(code, `${WalletLoginError.messages[code]}. ${extraMessage}`, cause);
    }
    static connectionError(extraMessage = "", cause) {
        return WalletLoginError.fromCode(5111, extraMessage, cause);
    }
    static disconnectionError(extraMessage = "", cause) {
        return WalletLoginError.fromCode(5112, extraMessage, cause);
    }
    static notConnectedError(extraMessage = "", cause) {
        return WalletLoginError.fromCode(5113, extraMessage, cause);
    }
    static popupClosed(extraMessage = "", cause) {
        return WalletLoginError.fromCode(5114, extraMessage, cause);
    }
    static mfaEnabled(extraMessage = "", cause) {
        return WalletLoginError.fromCode(5115, extraMessage, cause);
    }
    static chainConfigNotAdded(extraMessage = "", cause) {
        return WalletLoginError.fromCode(5116, extraMessage, cause);
    }
    static unsupportedOperation(extraMessage = "", cause) {
        return WalletLoginError.fromCode(5117, extraMessage, cause);
    }
    static sfaKeyNotFound(extraMessage = "", cause) {
        return WalletLoginError.fromCode(5118, extraMessage, cause);
    }
    static userNotLoggedIn(extraMessage = "", cause) {
        return WalletLoginError.fromCode(5119, extraMessage, cause);
    }
}
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(WalletLoginError, "messages", {
    5000: "Custom",
    5111: "Failed to connect with wallet",
    5112: "Failed to disconnect from wallet",
    5113: "Wallet is not connected",
    5114: "Wallet popup has been closed by the user",
    5115: "User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",
    5116: "Chain config has not been added. Please add the chain config before calling switchChain",
    5117: "Unsupported operation",
    5118: "useSFAKey flag is enabled but SFA key is not available",
    5119: "User not logged in."
});
class WalletOperationsError extends Web3AuthError {
    constructor(code, message, cause){
        // takes care of stack and proto
        super(code, message, cause);
        // Set name explicitly as minification can mangle class names
        Object.defineProperty(this, "name", {
            value: "WalletOperationsError"
        });
    }
    static fromCode(code, extraMessage = "", cause) {
        return new WalletOperationsError(code, `${WalletOperationsError.messages[code]}, ${extraMessage}`, cause);
    }
    // Custom methods
    static chainIDNotAllowed(extraMessage = "", cause) {
        return WalletOperationsError.fromCode(5201, extraMessage, cause);
    }
    static operationNotAllowed(extraMessage = "", cause) {
        return WalletOperationsError.fromCode(5202, extraMessage, cause);
    }
    static chainNamespaceNotAllowed(extraMessage = "", cause) {
        return WalletOperationsError.fromCode(5203, extraMessage, cause);
    }
}
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(WalletOperationsError, "messages", {
    5000: "Custom",
    5201: "Provided chainId is not allowed",
    5202: "This operation is not allowed"
});
class WalletProviderError extends Web3AuthError {
    constructor(code, message, cause){
        // takes care of stack and proto
        super(code, message, cause);
        // Set name explicitly as minification can mangle class names
        Object.defineProperty(this, "name", {
            value: "WalletProviderError"
        });
    }
    static fromCode(code, extraMessage = "", cause) {
        return new WalletOperationsError(code, `${WalletProviderError.messages[code]}, ${extraMessage}`, cause);
    }
    // Custom methods
    static invalidRequestArgs(extraMessage = "", cause) {
        return WalletOperationsError.fromCode(5301, extraMessage, cause);
    }
    static invalidRequestMethod(extraMessage = "", cause) {
        return WalletOperationsError.fromCode(5302, extraMessage, cause);
    }
    static invalidRequestParams(extraMessage = "", cause) {
        return WalletOperationsError.fromCode(5303, extraMessage, cause);
    }
}
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(WalletProviderError, "messages", {
    5000: "Custom",
    5301: "Expected a single, non-array, object argument.",
    5302: "'args.method' must be a non-empty string.",
    5303: "'args.params' must be an object or array if provided."
});
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/utils.js [app-ssr] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "fetchProjectConfig",
    ()=>fetchProjectConfig,
    "fetchWalletRegistry",
    ()=>fetchWalletRegistry,
    "fromViemChain",
    ()=>fromViemChain,
    "fromWagmiChain",
    ()=>fromWagmiChain,
    "getAaAnalyticsProperties",
    ()=>getAaAnalyticsProperties,
    "getCaipChainId",
    ()=>getCaipChainId,
    "getErrorAnalyticsProperties",
    ()=>getErrorAnalyticsProperties,
    "getHostname",
    ()=>getHostname,
    "getWalletServicesAnalyticsProperties",
    ()=>getWalletServicesAnalyticsProperties,
    "getWhitelabelAnalyticsProperties",
    ()=>getWhitelabelAnalyticsProperties,
    "isBrowser",
    ()=>isBrowser,
    "isHexStrict",
    ()=>isHexStrict,
    "normalizeWalletName",
    ()=>normalizeWalletName,
    "sdkVersion",
    ()=>sdkVersion,
    "signerHost",
    ()=>signerHost,
    "withAbort",
    ()=>withAbort
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/constants/dist/lib.esm/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/constants.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
const isHexStrict = (hex)=>{
    return (typeof hex === "string" || typeof hex === "number") && /^(-)?0x[0-9a-f]*$/i.test(hex);
};
const signerHost = (web3AuthNetwork = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WEB3AUTH_NETWORK"].SAPPHIRE_MAINNET)=>{
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SIGNER_MAP"][web3AuthNetwork];
};
const fetchProjectConfig = async ({ clientId, web3AuthNetwork, aaProvider, authBuildEnv })=>{
    const url = new URL(`${signerHost(web3AuthNetwork)}/api/v2/configuration`);
    url.searchParams.append("project_id", clientId);
    url.searchParams.append("network", web3AuthNetwork);
    if (authBuildEnv) url.searchParams.append("build_env", authBuildEnv);
    if (aaProvider) url.searchParams.append("aa_provider", aaProvider);
    const res = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["get"])(url.href);
    return res;
};
const fetchWalletRegistry = async (url)=>{
    const res = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["get"])(url || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_REGISTRY_URL"]);
    return res;
};
// Normalize wallet name to a standard format, used for external wallets that are auto-detected by MIPD (EIP-6963 and Wallet Standard)
const normalizeWalletName = (name)=>{
    let normalizedName = name.toLowerCase();
    // remove decriptive part after | e.g. "Crypto.com | Defi Wallet" => "Crypto.com"
    normalizedName = normalizedName.split("|")[0];
    // replace -  with space e.g. "Trust - Wallet" => "Trust Wallet"
    normalizedName = normalizedName.replace(/-/g, " ");
    // replace multiple spaces with single space
    normalizedName = normalizedName.replace(/\s+/g, " ");
    // remove trailing "wallet" e.g. "Trust Wallet" => "Trust", "GateWallet" => "Gate"
    normalizedName = normalizedName.replace(/wallet$/i, "").trim();
    // replace space with -
    normalizedName = normalizedName.replace(/\s/g, "-");
    return normalizedName;
};
const fromWagmiChain = (chain)=>{
    var _chain$blockExplorers, _chain$rpcUrls$defaul;
    return {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        chainId: `0x${chain.id.toString(16)}`,
        rpcTarget: chain.rpcUrls.default.http[0],
        displayName: chain.name,
        blockExplorerUrl: ((_chain$blockExplorers = chain.blockExplorers) === null || _chain$blockExplorers === void 0 ? void 0 : _chain$blockExplorers.default.url) || "",
        ticker: chain.nativeCurrency.symbol,
        tickerName: chain.nativeCurrency.name,
        logo: "",
        decimals: chain.nativeCurrency.decimals,
        isTestnet: chain.testnet,
        wsTarget: (_chain$rpcUrls$defaul = chain.rpcUrls.default.webSocket) === null || _chain$rpcUrls$defaul === void 0 ? void 0 : _chain$rpcUrls$defaul[0]
    };
};
function withAbort(fn, signal, onAbort) {
    if (!signal) return fn();
    if (signal.aborted) return Promise.reject(new DOMException("Aborted", "AbortError"));
    return new Promise((resolve, reject)=>{
        const abort = ()=>{
            onAbort === null || onAbort === void 0 || onAbort();
            reject(new DOMException("Aborted", "AbortError"));
        };
        signal.addEventListener("abort", abort);
        return Promise.resolve().then(()=>fn()).then(resolve, reject).finally(()=>{
            signal.removeEventListener("abort", abort);
        });
    });
}
const isBrowser = ()=>("TURBOPACK compile-time value", "undefined") !== "undefined" && typeof document !== "undefined";
const fromViemChain = fromWagmiChain;
const getWhitelabelAnalyticsProperties = (uiConfig)=>{
    var _uiConfig$theme, _uiConfig$theme2;
    return {
        whitelabel_app_name: uiConfig === null || uiConfig === void 0 ? void 0 : uiConfig.appName,
        whitelabel_app_url: uiConfig === null || uiConfig === void 0 ? void 0 : uiConfig.appUrl,
        whitelabel_logo_light_enabled: Boolean(uiConfig === null || uiConfig === void 0 ? void 0 : uiConfig.logoLight),
        whitelabel_logo_dark_enabled: Boolean(uiConfig === null || uiConfig === void 0 ? void 0 : uiConfig.logoDark),
        whitelabel_default_language: uiConfig === null || uiConfig === void 0 ? void 0 : uiConfig.defaultLanguage,
        whitelabel_theme_mode: uiConfig === null || uiConfig === void 0 ? void 0 : uiConfig.mode,
        whitelabel_use_logo_loader: uiConfig === null || uiConfig === void 0 ? void 0 : uiConfig.useLogoLoader,
        whitelabel_theme_primary: uiConfig === null || uiConfig === void 0 || (_uiConfig$theme = uiConfig.theme) === null || _uiConfig$theme === void 0 ? void 0 : _uiConfig$theme.primary,
        whitelabel_theme_on_primary: uiConfig === null || uiConfig === void 0 || (_uiConfig$theme2 = uiConfig.theme) === null || _uiConfig$theme2 === void 0 ? void 0 : _uiConfig$theme2.onPrimary,
        whitelabel_tnc_link_enabled: Boolean(uiConfig === null || uiConfig === void 0 ? void 0 : uiConfig.tncLink),
        whitelabel_privacy_policy_enabled: Boolean(uiConfig === null || uiConfig === void 0 ? void 0 : uiConfig.privacyPolicy)
    };
};
const getAaAnalyticsProperties = (accountAbstractionConfig)=>{
    var _accountAbstractionCo, _accountAbstractionCo2, _accountAbstractionCo3, _accountAbstractionCo4, _accountAbstractionCo5;
    const bundlerHostnames = Array.from(new Set(accountAbstractionConfig === null || accountAbstractionConfig === void 0 || (_accountAbstractionCo = accountAbstractionConfig.chains) === null || _accountAbstractionCo === void 0 ? void 0 : _accountAbstractionCo.map((chain)=>{
        var _chain$bundlerConfig;
        return getHostname((_chain$bundlerConfig = chain.bundlerConfig) === null || _chain$bundlerConfig === void 0 ? void 0 : _chain$bundlerConfig.url);
    }).filter(Boolean)));
    const paymasterHostnames = Array.from(new Set(accountAbstractionConfig === null || accountAbstractionConfig === void 0 || (_accountAbstractionCo2 = accountAbstractionConfig.chains) === null || _accountAbstractionCo2 === void 0 ? void 0 : _accountAbstractionCo2.map((chain)=>{
        var _chain$paymasterConfi;
        return getHostname((_chain$paymasterConfi = chain.paymasterConfig) === null || _chain$paymasterConfi === void 0 ? void 0 : _chain$paymasterConfi.url);
    }).filter(Boolean)));
    return {
        aa_smart_account_type: accountAbstractionConfig === null || accountAbstractionConfig === void 0 ? void 0 : accountAbstractionConfig.smartAccountType,
        aa_chain_ids: accountAbstractionConfig === null || accountAbstractionConfig === void 0 || (_accountAbstractionCo3 = accountAbstractionConfig.chains) === null || _accountAbstractionCo3 === void 0 ? void 0 : _accountAbstractionCo3.map((chain)=>getCaipChainId({
                chainId: chain.chainId,
                chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155
            })),
        aa_bundler_urls: bundlerHostnames,
        aa_paymaster_urls: paymasterHostnames,
        aa_paymaster_enabled: paymasterHostnames.length > 0,
        aa_paymaster_context_enabled: accountAbstractionConfig === null || accountAbstractionConfig === void 0 || (_accountAbstractionCo4 = accountAbstractionConfig.chains) === null || _accountAbstractionCo4 === void 0 ? void 0 : _accountAbstractionCo4.some((chain)=>{
            var _chain$bundlerConfig2;
            return (_chain$bundlerConfig2 = chain.bundlerConfig) === null || _chain$bundlerConfig2 === void 0 ? void 0 : _chain$bundlerConfig2.paymasterContext;
        }),
        aa_erc20_paymaster_enabled: accountAbstractionConfig === null || accountAbstractionConfig === void 0 || (_accountAbstractionCo5 = accountAbstractionConfig.chains) === null || _accountAbstractionCo5 === void 0 ? void 0 : _accountAbstractionCo5.some((chain)=>{
            var _chain$bundlerConfig3;
            return (_chain$bundlerConfig3 = chain.bundlerConfig) === null || _chain$bundlerConfig3 === void 0 || (_chain$bundlerConfig3 = _chain$bundlerConfig3.paymasterContext) === null || _chain$bundlerConfig3 === void 0 ? void 0 : _chain$bundlerConfig3.token;
        })
    };
};
const getWalletServicesAnalyticsProperties = (walletServicesConfig)=>{
    var _walletServicesConfig, _walletServicesConfig2, _walletServicesConfig3, _walletServicesConfig4, _walletServicesConfig5, _walletServicesConfig6, _walletServicesConfig7, _walletServicesConfig8, _walletServicesConfig9, _walletServicesConfig0, _walletServicesConfig1, _walletServicesConfig10;
    return {
        ws_confirmation_strategy: walletServicesConfig === null || walletServicesConfig === void 0 ? void 0 : walletServicesConfig.confirmationStrategy,
        ws_enable_key_export: walletServicesConfig === null || walletServicesConfig === void 0 ? void 0 : walletServicesConfig.enableKeyExport,
        ws_show_widget_button: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig = walletServicesConfig.whiteLabel) === null || _walletServicesConfig === void 0 ? void 0 : _walletServicesConfig.showWidgetButton,
        ws_button_position: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig2 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig2 === void 0 ? void 0 : _walletServicesConfig2.buttonPosition,
        ws_hide_nft_display: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig3 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig3 === void 0 ? void 0 : _walletServicesConfig3.hideNftDisplay,
        ws_hide_token_display: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig4 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig4 === void 0 ? void 0 : _walletServicesConfig4.hideTokenDisplay,
        ws_hide_transfers: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig5 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig5 === void 0 ? void 0 : _walletServicesConfig5.hideTransfers,
        ws_hide_topup: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig6 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig6 === void 0 ? void 0 : _walletServicesConfig6.hideTopup,
        ws_hide_receive: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig7 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig7 === void 0 ? void 0 : _walletServicesConfig7.hideReceive,
        ws_hide_swap: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig8 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig8 === void 0 ? void 0 : _walletServicesConfig8.hideSwap,
        ws_hide_show_all_tokens: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig9 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig9 === void 0 ? void 0 : _walletServicesConfig9.hideShowAllTokens,
        ws_hide_wallet_connect: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig0 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig0 === void 0 ? void 0 : _walletServicesConfig0.hideWalletConnect,
        ws_hide_defi_positions_display: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig1 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig1 === void 0 ? void 0 : _walletServicesConfig1.hideDefiPositionsDisplay,
        ws_default_portfolio: walletServicesConfig === null || walletServicesConfig === void 0 || (_walletServicesConfig10 = walletServicesConfig.whiteLabel) === null || _walletServicesConfig10 === void 0 ? void 0 : _walletServicesConfig10.defaultPortfolio
    };
};
const sdkVersion = "10.11.0";
const getErrorAnalyticsProperties = (error)=>{
    try {
        const code = error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Web3AuthError"] ? error.code : error === null || error === void 0 ? void 0 : error.code;
        const message = error instanceof Error ? error.message : (error === null || error === void 0 ? void 0 : error.message) || (error === null || error === void 0 ? void 0 : error.toString());
        return {
            error_message: message,
            error_code: code
        };
    } catch  {
        return {
            error_message: "Unknown error",
            error_code: undefined
        };
    }
};
const getHostname = (url)=>{
    try {
        return new URL(url).hostname;
    } catch  {
        return "";
    }
};
const getCaipChainId = (chain)=>{
    if (chain.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155) {
        return `${chain.chainNamespace}:${parseInt(chain.chainId, 16)}`;
    }
    if (chain.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA) {
        return `${chain.chainNamespace}:${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SOLANA_CAIP_CHAIN_MAP"][chain.chainId]}`;
    }
    // for other chain namespaces, we just return the chainId as is
    return `${chain.chainNamespace}:${chain.chainId}`;
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/utils.js [app-ssr] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "EIP1193_EVENTS",
    ()=>EIP1193_EVENTS,
    "createRandomId",
    ()=>createRandomId
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$rpc$2d$random$2d$id$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/json-rpc-random-id/index.js [app-ssr] (ecmascript)");
;
;
const createRandomId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$rpc$2d$random$2d$id$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])();
let EIP1193_EVENTS = /*#__PURE__*/ function(EIP1193_EVENTS) {
    EIP1193_EVENTS["ACCOUNTS_CHANGED"] = "accountsChanged";
    EIP1193_EVENTS["CHAIN_CHANGED"] = "chainChanged";
    EIP1193_EVENTS["CONNECT"] = "connect";
    EIP1193_EVENTS["DISCONNECT"] = "disconnect";
    EIP1193_EVENTS["MESSAGE"] = "message";
    return EIP1193_EVENTS;
}({});
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/baseProvider.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BaseProvider",
    ()=>BaseProvider
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$createEventEmitterProxy$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/createEventEmitterProxy.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/utils.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
class BaseProvider extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BaseController"] {
    constructor({ config, state }){
        super({
            config,
            state
        });
        // should be Assigned in setupProvider
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "_providerEngineProxy", null);
        // set to true when the keyExportEnabled flag is set by code.
        // This is to prevent the flag from being overridden by the dashboard config.
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "keyExportFlagSetByCode", false);
        const { chain } = config;
        if (!chain) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidProviderConfigError("Please provide chain");
        if (!chain.chainId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidProviderConfigError("Please provide chainId inside chain");
        if (!chain.rpcTarget) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidProviderConfigError("Please provide rpcTarget inside chain");
        if (typeof config.keyExportEnabled === "boolean") this.keyExportFlagSetByCode = true;
        this.defaultState = {
            chainId: "loading"
        };
        this.defaultConfig = {
            chain: config.chain,
            chains: config.chains,
            keyExportEnabled: typeof config.keyExportEnabled === "boolean" ? config.keyExportEnabled : true
        };
        super.initialize();
    }
    get currentChain() {
        return this.config.chains.find((chain)=>chain.chainId === this.state.chainId);
    }
    get provider() {
        return this._providerEngineProxy;
    }
    get chainId() {
        return this.state.chainId;
    }
    set provider(_) {
        throw new Error("Method not implemented.");
    }
    async request(args) {
        var _this$provider;
        if (!args || typeof args !== "object" || Array.isArray(args)) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["rpcErrors"].invalidRequest({
                message: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletProviderError"].invalidRequestArgs().message,
                data: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, args || {}), {}, {
                    cause: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletProviderError"].invalidRequestArgs().message
                })
            });
        }
        const { method, params } = args;
        if (typeof method !== "string" || method.length === 0) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["rpcErrors"].invalidRequest({
                message: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletProviderError"].invalidRequestMethod().message,
                data: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, args || {}), {}, {
                    cause: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletProviderError"].invalidRequestMethod().message
                })
            });
        }
        if (params !== undefined && !Array.isArray(params) && (typeof params !== "object" || params === null)) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["rpcErrors"].invalidRequest({
                message: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletProviderError"].invalidRequestParams().message,
                data: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, args || {}), {}, {
                    cause: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletProviderError"].invalidRequestParams().message
                })
            });
        }
        return (_this$provider = this.provider) === null || _this$provider === void 0 ? void 0 : _this$provider.request(args);
    }
    sendAsync(req, callback) {
        if (callback) return this.send(req, callback);
        return this.request(req);
    }
    send(req, callback) {
        this.request(req).then((res)=>callback(null, {
                result: res
            })).catch((err)=>callback(err, null));
    }
    updateProviderEngineProxy(provider) {
        if (this._providerEngineProxy) {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            this._providerEngineProxy.setTarget(provider);
            // we want events to propagate from Ethereum provider -> wrapper provider (e.g. CommonJRPC provider) -> SDK -> dapp
            // ensure that only one handler is added for each event
            const reEmitHandler = (event)=>{
                // skip newListener event
                if (event === "newListener") return;
                // listen to the event from the Ethereum provider
                provider.on(event, (...args)=>{
                    // handle chainChanged event: update chainId state
                    if (event === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["EIP1193_EVENTS"].CHAIN_CHANGED) {
                        const chainId = args[0];
                        this.update({
                            chainId
                        });
                    }
                    // re-emit the event
                    // eslint-disable-next-line @typescript-eslint/no-explicit-any
                    this.emit(event, ...args);
                });
            };
            // handle existing events
            this.eventNames().forEach((event)=>{
                reEmitHandler(event);
            });
            // handle when a new listener is added
            this.on("newListener", (event)=>{
                // skip if the event already exists
                if (this.listenerCount(event) > 0) return;
                reEmitHandler(event);
            });
        } else {
            this._providerEngineProxy = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$createEventEmitterProxy$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createEventEmitterProxy"])(provider);
        }
    }
    setKeyExportFlag(flag) {
        if (!this.keyExportFlagSetByCode) {
            this.configure({
                keyExportEnabled: flag
            });
        }
    }
    getProviderEngineProxy() {
        return this._providerEngineProxy;
    }
    getChain(chainId) {
        return this.config.chains.find((chain)=>chain.chainId === chainId);
    }
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/jrpcClient.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createChainIdMiddleware",
    ()=>createChainIdMiddleware,
    "createJsonRpcClient",
    ()=>createJsonRpcClient,
    "createProviderConfigMiddleware",
    ()=>createProviderConfigMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createFetchMiddleware.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-ssr] (ecmascript)");
;
;
function createChainIdMiddleware(chainId) {
    return (req, res, next, end)=>{
        if (req.method === "chainId") {
            res.result = chainId;
            return end();
        }
        return next();
    };
}
function createProviderConfigMiddleware(providerConfig) {
    return (req, res, next, end)=>{
        if (req.method === "provider_config") {
            res.result = providerConfig;
            return end();
        }
        return next();
    };
}
function createJsonRpcClient(providerConfig) {
    const { chainId, rpcTarget } = providerConfig;
    const fetchMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createFetchMiddleware"])({
        rpcTarget
    });
    const networkMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["mergeMiddleware"])([
        createChainIdMiddleware(chainId),
        createProviderConfigMiddleware(providerConfig),
        fetchMiddleware
    ]);
    return {
        networkMiddleware,
        fetchMiddleware
    };
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/CommonJRPCProvider.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CommonJRPCProvider",
    ()=>CommonJRPCProvider
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$baseProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/baseProvider.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$jrpcClient$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/jrpcClient.js [app-ssr] (ecmascript)");
;
;
;
;
var _CommonJRPCProvider;
class CommonJRPCProvider extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$baseProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BaseProvider"] {
    constructor({ config, state }){
        super({
            config,
            state
        });
    }
    async setupProvider(chainId) {
        const chain = this.getChain(chainId);
        if (!chain) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["providerErrors"].custom({
            message: "Chain not found",
            code: 4902
        });
        const { networkMiddleware } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$jrpcClient$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createJsonRpcClient"])(chain);
        const engine = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["JRPCEngine"]();
        engine.push(networkMiddleware);
        const provider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["providerFromEngine"])(engine);
        this.updateProviderEngineProxy(provider);
        this.emit("chainChanged", chainId);
        this.emit("connect", {
            chainId
        });
        this.update({
            chainId
        });
    }
    async switchChain(params) {
        if (!this._providerEngineProxy) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["providerErrors"].custom({
            message: "Provider is not initialized",
            code: 4902
        });
        const newChainId = params.chainId;
        if (this.chainId === newChainId) return;
        this.update({
            chainId: "loading"
        });
        await this.setupProvider(newChainId);
    }
    getProviderEngineProxy() {
        return this._providerEngineProxy;
    }
    lookupNetwork() {
        throw new Error("Method not implemented.");
    }
}
_CommonJRPCProvider = CommonJRPCProvider;
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(CommonJRPCProvider, "getProviderInstance", async (params)=>{
    const providerFactory = new _CommonJRPCProvider({
        config: {
            chain: params.chain,
            chains: params.chains
        }
    });
    const { chainId } = params.chain;
    await providerFactory.setupProvider(chainId);
    return providerFactory;
});
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/utils.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getSiteIcon",
    ()=>getSiteIcon,
    "getSiteName",
    ()=>getSiteName,
    "parseToken",
    ()=>parseToken
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/utils.js [app-ssr] (ecmascript)");
;
/**
 * Extracts a name for the site from the DOM
 */ const getSiteName = (window)=>{
    const { document: document1 } = window;
    const siteName = document1.querySelector('head > meta[property="og:site_name"]');
    if (siteName) {
        return siteName.content;
    }
    const metaTitle = document1.querySelector('head > meta[name="title"]');
    if (metaTitle) {
        return metaTitle.content;
    }
    if (document1.title && document1.title.length > 0) {
        return document1.title;
    }
    return window.location.hostname;
};
/**
 * Returns whether the given image URL exists
 * @param url - the url of the image
 * @returns - whether the image exists
 */ function imgExists(url) {
    return new Promise((resolve, reject)=>{
        try {
            const img = document.createElement("img");
            img.onload = ()=>resolve(true);
            img.onerror = ()=>resolve(false);
            img.src = url;
        } catch (e) {
            reject(e);
        }
    });
}
/**
 * Extracts an icon for the site from the DOM
 */ async function getSiteIcon(window) {
    const { document: document1 } = window;
    // Use the site's favicon if it exists
    let icon = document1.querySelector('head > link[rel="shortcut icon"]');
    if (icon && await imgExists(icon.href)) {
        return icon.href;
    }
    // Search through available icons in no particular order
    icon = Array.from(document1.querySelectorAll('head > link[rel="icon"]')).find((_icon)=>Boolean(_icon.href)) || null;
    if (icon && await imgExists(icon.href)) {
        return icon.href;
    }
    return undefined;
}
function parseToken(token) {
    const [header, payload] = token.split(".");
    return {
        header: JSON.parse((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["safeatob"])(header)),
        payload: JSON.parse((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["safeatob"])(payload))
    };
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/chain/IChainInterface.js [app-ssr] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CONNECTOR_NAMESPACES",
    ()=>CONNECTOR_NAMESPACES
]);
;
const CONNECTOR_NAMESPACES = {
    EIP155: "eip155",
    SOLANA: "solana",
    CASPER: "casper",
    XRPL: "xrpl",
    MULTICHAIN: "multichain"
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/connectorStatus.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CAN_AUTHORIZE_STATUSES",
    ()=>CAN_AUTHORIZE_STATUSES,
    "CONNECTED_STATUSES",
    ()=>CONNECTED_STATUSES
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/constants.js [app-ssr] (ecmascript)");
;
const CONNECTED_STATUSES = [
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTED,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZED
];
const CAN_AUTHORIZE_STATUSES = [
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZING,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZED,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTED
];
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/baseConnector.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BaseConnector",
    ()=>BaseConnector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/chain/IChainInterface.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/wallet/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/connectorStatus.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
class BaseConnector extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SafeEventEmitter"] {
    constructor(options){
        super();
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "connectorData", {});
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "isInjected", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "icon", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "coreOptions", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "rehydrated", false);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "connectorNamespace", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "type", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "name", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "status", void 0);
        this.coreOptions = options.coreOptions;
    }
    get connected() {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTED_STATUSES"].includes(this.status);
    }
    get canAuthorize() {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CAN_AUTHORIZE_STATUSES"].includes(this.status);
    }
    checkConnectionRequirements() {
        // we reconnect without killing existing Wallet Connect or Metamask Connect session on calling connect again.
        if (this.name === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].WALLET_CONNECT_V2 && this.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING) return;
        if (this.name === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].METAMASK && !this.isInjected && this.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING) return;
        if (this.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Already connecting");
        if (this.connected) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Already connected");
        if (this.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function");
    }
    checkInitializationRequirements({ chainConfig }) {
        if (!this.coreOptions.clientId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("Please initialize Web3Auth with a valid clientId in constructor");
        if (!chainConfig) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("chainConfig is required before initialization");
        if (!chainConfig.rpcTarget && chainConfig.chainNamespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].OTHER) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("rpcTarget is required in chainConfig");
        }
        if (!chainConfig.chainId && chainConfig.chainNamespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].OTHER) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("chainID is required in chainConfig");
        }
        if (this.connectorNamespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["CONNECTOR_NAMESPACES"].MULTICHAIN && this.connectorNamespace !== chainConfig.chainNamespace) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("Connector doesn't support this chain namespace");
        if (this.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY) return;
        if (this.connected) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Already connected");
        if (this.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Connector is already initialized");
    }
    checkDisconnectionRequirements() {
        if (!this.connected) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].disconnectionError("Not connected with wallet");
    }
    checkSwitchChainRequirements(params, init = false) {
        if (!init && !this.provider) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet.");
        if (!this.coreOptions.chains) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("chainConfigs is required");
        const doesChainExist = this.coreOptions.chains.some((x)=>x.chainId === params.chainId && (x.chainNamespace === this.connectorNamespace || this.connectorNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["CONNECTOR_NAMESPACES"].MULTICHAIN));
        if (!doesChainExist) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("Invalid chainId");
    }
    updateConnectorData(data) {
        this.connectorData = data;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTOR_DATA_UPDATED, {
            connectorName: this.name,
            data
        });
    }
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/auth-connector/authConnector.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "authConnector",
    ()=>authConnector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$secure$2d$pub$2d$sub$2f$dist$2f$lib$2e$esm$2f$SecurePubSub$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/secure-pub-sub/dist/lib.esm/SecurePubSub.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/enums.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$auth$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/auth.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/helpers.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/utils.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$handlers$2f$HandlerFactory$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/handlers/HandlerFactory.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$PopupHandler$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/PopupHandler.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/deepmerge/dist/cjs.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/utils.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$baseConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/baseConnector.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/wallet/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/chain/IChainInterface.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/loglevel.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/connectorStatus.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/lodashUtils.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
class AuthConnector extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$baseConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BaseConnector"] {
    constructor(params){
        super(params);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "connectorNamespace", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["CONNECTOR_NAMESPACES"].MULTICHAIN);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "type", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_CATEGORY"].IN_APP);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "authInstance", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "status", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "privateKeyProvider", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "authOptions", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "loginSettings", {
            authConnection: ""
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "wsSettings", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "wsEmbedInstance", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "authConnectionConfig", []);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "wsEmbedInstancePromise", null);
        this.authOptions = params.connectorSettings;
        this.loginSettings = params.loginSettings || {
            authConnection: ""
        };
        this.wsSettings = params.walletServicesSettings || {};
        this.authConnectionConfig = params.authConnectionConfig || [];
    }
    get provider() {
        if (this.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY) {
            var _this$wsEmbedInstance;
            if ((_this$wsEmbedInstance = this.wsEmbedInstance) !== null && _this$wsEmbedInstance !== void 0 && _this$wsEmbedInstance.provider) {
                return this.wsEmbedInstance.provider;
            } else if (this.privateKeyProvider) return this.privateKeyProvider;
        }
        return null;
    }
    get wsEmbed() {
        return this.wsEmbedInstance;
    }
    set provider(_) {
        throw new Error("Not implemented");
    }
    async init(options) {
        const { chains } = this.coreOptions;
        const { chainId } = options;
        const chainConfig = chains.find((x)=>x.chainId === chainId);
        super.checkInitializationRequirements({
            chainConfig
        });
        if (!this.coreOptions.clientId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("clientId is required before auth's initialization");
        if (!this.authOptions) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("authOptions is required before auth's initialization");
        if (this.authConnectionConfig.length === 0) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("authConnectionConfig is required before auth's initialization");
        const isRedirectResult = this.authOptions.uxMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT;
        this.authOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, this.authOptions), {}, {
            replaceUrlOnRedirect: isRedirectResult,
            useCoreKitKey: this.coreOptions.useSFAKey
        });
        this.authInstance = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$auth$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Auth"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, this.authOptions), {}, {
            clientId: this.coreOptions.clientId,
            network: this.coreOptions.web3AuthNetwork,
            sdkMode: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SDK_MODE"].IFRAME,
            authConnectionConfig: this.authConnectionConfig.filter((x)=>!x.isDefault),
            mfaSettings: this.coreOptions.mfaSettings
        }));
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("initializing auth connector init", this.authOptions);
        // making it async here to initialize provider.
        const authInstancePromise = this.authInstance.init();
        // Use this for xrpl, mpc cases
        if (this.coreOptions.privateKeyProvider) {
            this.privateKeyProvider = this.coreOptions.privateKeyProvider;
        } else {
            // initialize ws embed or private key provider based on chain namespace
            switch(chainConfig.chainNamespace){
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155:
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA:
                    {
                        const { default: WsEmbed } = await __turbopack_context__.A("[project]/node_modules/@web3auth/ws-embed/dist/lib.esm/index.js [app-ssr] (ecmascript, async loader)");
                        this.wsEmbedInstance = new WsEmbed({
                            web3AuthClientId: this.coreOptions.clientId,
                            web3AuthNetwork: this.coreOptions.web3AuthNetwork,
                            modalZIndex: this.wsSettings.modalZIndex
                        });
                        const wsSupportedChains = chains.filter((x)=>x.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155 || x.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA);
                        this.wsEmbedInstancePromise = this.wsEmbedInstance.init((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, this.wsSettings), {}, {
                            chains: wsSupportedChains,
                            chainId,
                            whiteLabel: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, this.authOptions.whiteLabel), this.wsSettings.whiteLabel)
                        })).then(()=>{
                            this.wsEmbedInstancePromise = null;
                            return;
                        });
                        break;
                    }
                case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].XRPL:
                    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Private key provider is required for XRPL");
                default:
                    {
                        const { CommonPrivateKeyProvider } = await __turbopack_context__.A("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/index.js [app-ssr] (ecmascript, async loader)");
                        this.privateKeyProvider = new CommonPrivateKeyProvider({
                            config: {
                                chain: chainConfig,
                                chains: this.coreOptions.chains
                            }
                        });
                    }
            }
        }
        // wait for auth instance to be ready.
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("initializing auth connector");
        await authInstancePromise;
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].READY, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH);
        try {
            const { sessionId } = this.authInstance || {};
            // connect only if it is redirect result or if connect (connector is cached/already connected in same session) is true
            if (sessionId && (options.autoConnect || isRedirectResult)) {
                this.rehydrated = true;
                await this.connect({
                    chainId: options.chainId,
                    getIdentityToken: options.getIdentityToken
                });
            } else if (!sessionId && options.autoConnect) {
                // if here, this means that the connector is cached but the sessionId is not available.
                // this can happen if the sessionId has expired.
                // we are throwing an error to reset the cached state.
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Failed to rehydrate");
            }
        } catch (error) {
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].REHYDRATION_ERROR, error);
        }
    }
    async connect(params) {
        super.checkConnectionRequirements();
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTING, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, params), {}, {
            connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH
        }));
        try {
            await this.connectWithProvider(params);
            return this.provider;
        } catch (error) {
            var _message;
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Failed to connect with auth provider", error);
            // ready again to be connected
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].ERRORED, error);
            if (error !== null && error !== void 0 && (_message = error.message) !== null && _message !== void 0 && _message.includes("user closed popup")) {
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].popupClosed();
            } else if (error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Web3AuthError"]) {
                throw error;
            }
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Failed to login with auth", error);
        }
    }
    async enableMFA(params = {
        authConnection: ""
    }) {
        if (!this.connected) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet");
        if (!this.authInstance) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("authInstance is not ready");
        try {
            const result = await this.authInstance.enableMFA(params);
            // In redirect mode, the result is not available immediately, so we emit the event when the result is available.
            if (result) this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].MFA_ENABLED, result);
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Failed to enable MFA with auth provider", error);
            if (error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Web3AuthError"]) {
                throw error;
            }
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Failed to enable MFA with auth", error);
        }
    }
    async manageMFA(params = {
        authConnection: ""
    }) {
        if (!this.connected) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet");
        if (!this.authInstance) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("authInstance is not ready");
        try {
            await this.authInstance.manageMFA(params);
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Failed to manage MFA with auth provider", error);
            if (error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Web3AuthError"]) {
                throw error;
            }
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Failed to manage MFA with auth", error);
        }
    }
    async disconnect(options = {
        cleanup: false
    }) {
        if (!this.connected) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet");
        if (!this.authInstance) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("authInstance is not ready");
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].DISCONNECTING;
        await this.authInstance.logout();
        if (this.wsEmbedInstance) await this.wsEmbedInstance.logout();
        if (options.cleanup) {
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY;
            this.authInstance = null;
            if (this.wsEmbedInstance) this.wsEmbedInstance = null;
            if (this.privateKeyProvider) this.privateKeyProvider = null;
        } else {
            // ready to be connected again
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
        }
        this.rehydrated = false;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].DISCONNECTED);
    }
    async getIdentityToken() {
        if (!this.canAuthorize) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet, Please login/connect first");
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZING;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZING, {
            connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH
        });
        const userInfo = await this.getUserInfo();
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZED;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZED, {
            connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH,
            identityTokenInfo: {
                idToken: userInfo.idToken
            }
        });
        return {
            idToken: userInfo.idToken
        };
    }
    async getUserInfo() {
        if (!this.canAuthorize) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet");
        if (!this.authInstance) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("authInstance is not ready");
        const userInfo = this.authInstance.getUserInfo();
        return userInfo;
    }
    // we don't support switching between different namespaces, except for solana and evm
    async switchChain(params, init = false) {
        super.checkSwitchChainRequirements(params, init);
        // get chains and namespaces
        const { chainId: newChainId } = params;
        const { chainId: currentChainId } = this.provider;
        const { chainNamespace: currentNamespace } = this.getChain(currentChainId);
        const { chainNamespace: newNamespace } = this.getChain(newChainId);
        // skip if chainId is the same
        if (currentChainId === newChainId) return;
        if (currentNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA || currentNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155) {
            var _this$wsEmbedInstance2;
            // can only switch to solana or evm
            if (newNamespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA && newNamespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Cannot switch to other chain namespace");
            const fullChainId = `${newNamespace}:${Number(params.chainId)}`;
            await ((_this$wsEmbedInstance2 = this.wsEmbedInstance.provider) === null || _this$wsEmbedInstance2 === void 0 ? void 0 : _this$wsEmbedInstance2.request({
                method: "wallet_switchChain",
                params: {
                    chainId: fullChainId
                }
            }));
        } else {
            var _this$privateKeyProvi;
            // cannot switch to other namespaces
            if (currentNamespace !== newNamespace) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Cannot switch to other chain namespace");
            await ((_this$privateKeyProvi = this.privateKeyProvider) === null || _this$privateKeyProvi === void 0 ? void 0 : _this$privateKeyProvi.switchChain(params));
        }
    }
    async cleanup() {
        if (!this.authInstance) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("authInstance is not ready");
        await this.authInstance.cleanup();
        if (this.wsEmbedInstance) {
            this.wsEmbedInstance.clearInit();
        }
    }
    getOAuthProviderConfig(params) {
        const { authConnection, authConnectionId, groupedAuthConnectionId } = params;
        const providerConfig = this.authConnectionConfig.find((x)=>{
            if (groupedAuthConnectionId && authConnectionId) {
                return x.authConnection === authConnection && x.groupedAuthConnectionId === groupedAuthConnectionId && x.authConnectionId === authConnectionId;
            }
            if (authConnectionId) {
                return x.authConnection === authConnection && x.authConnectionId === authConnectionId;
            }
            // return the default auth connection, if not found, return undefined
            return x.authConnection === authConnection && x.isDefault;
        });
        return providerConfig;
    }
    getChain(chainId) {
        return this.coreOptions.chains.find((x)=>x.chainId === chainId);
    }
    _getFinalPrivKey() {
        if (!this.authInstance) return "";
        let finalPrivKey = this.authInstance.privKey;
        // coreKitKey is available only for custom connections by default
        if (this.coreOptions.useSFAKey) {
            // this is to check if the user has already logged in but coreKitKey is not available.
            // when useSFAKey is set to true.
            // This is to ensure that when there is no user session active, we don't throw an exception.
            if (this.authInstance.privKey && !this.authInstance.coreKitKey) {
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].sfaKeyNotFound();
            }
            finalPrivKey = this.authInstance.coreKitKey;
        }
        return finalPrivKey;
    }
    async connectWithProvider(params) {
        var _this$authInstance, _params$extraLoginOpt;
        if (!this.authInstance) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("authInstance is not ready");
        const chainConfig = this.coreOptions.chains.find((x)=>x.chainId === params.chainId);
        if (!chainConfig) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Chain config is not available");
        const { chainNamespace } = chainConfig;
        // if not logged in then login
        const keyAvailable = chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155 || chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA ? (_this$authInstance = this.authInstance) === null || _this$authInstance === void 0 ? void 0 : _this$authInstance.sessionId : this._getFinalPrivKey();
        if (params.idToken) params.extraLoginOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, params.extraLoginOptions), {}, {
            id_token: params.idToken
        });
        if (!keyAvailable || (_params$extraLoginOpt = params.extraLoginOptions) !== null && _params$extraLoginOpt !== void 0 && _params$extraLoginOpt.id_token) {
            var _params$extraLoginOpt2;
            // always use "other" curve to return token with all keys encoded so wallet service can switch between evm and solana namespace
            this.loginSettings.curve = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SUPPORTED_KEY_CURVES"].OTHER;
            const loginParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this.loginSettings, params);
            if ((_params$extraLoginOpt2 = params.extraLoginOptions) !== null && _params$extraLoginOpt2 !== void 0 && _params$extraLoginOpt2.id_token) {
                await this.connectWithJwtLogin(loginParams);
            } else {
                await this.connectWithSocialLogin(loginParams);
            }
        }
        // setup WS embed if chainNamespace is EIP155 or SOLANA
        if (chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155 || chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA) {
            // wait for ws embed instance to be ready.
            if (this.wsEmbedInstancePromise) await this.wsEmbedInstancePromise;
            const { sessionId, sessionNamespace } = this.authInstance || {};
            if (sessionId) {
                const isLoggedIn = await this.wsEmbedInstance.loginWithSessionId({
                    sessionId,
                    sessionNamespace
                });
                if (isLoggedIn) {
                    var _this$wsEmbedInstance3;
                    // if getIdentityToken is true, then get the identity token
                    // No need to get the identity token for auth connector as it is already handled
                    let identityTokenInfo;
                    this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTED;
                    this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTED, {
                        connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH,
                        reconnected: this.rehydrated,
                        provider: this.provider,
                        identityTokenInfo
                    });
                    if (params.getIdentityToken) {
                        identityTokenInfo = await this.getIdentityToken();
                    }
                    // handle disconnect from ws embed
                    (_this$wsEmbedInstance3 = this.wsEmbedInstance) === null || _this$wsEmbedInstance3 === void 0 || _this$wsEmbedInstance3.provider.on("accountsChanged", (accounts = [])=>{
                        if (accounts.length === 0 && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTED_STATUSES"].includes(this.status)) this.disconnect({
                            cleanup: false
                        });
                    });
                }
            }
        } else {
            // setup private key provider if chainNamespace is other
            const finalPrivKey = this._getFinalPrivKey();
            if (finalPrivKey) {
                await this.privateKeyProvider.setupProvider(finalPrivKey, params.chainId);
                this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTED;
                this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTED, {
                    connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH,
                    reconnected: this.rehydrated,
                    provider: this.provider
                });
            }
        }
    }
    async connectWithSocialLogin(params) {
        var _params$extraLoginOpt3, _params$extraLoginOpt4;
        const providerConfig = this.getOAuthProviderConfig({
            authConnection: params.authConnection,
            authConnectionId: params.authConnectionId,
            groupedAuthConnectionId: params.groupedAuthConnectionId
        });
        if (!(providerConfig !== null && providerConfig !== void 0 && providerConfig.authConnection)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Invalid auth connection.");
        const jwtParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, providerConfig.jwtParameters || {}), params.extraLoginOptions || {}), {}, {
            login_hint: params.loginHint || ((_params$extraLoginOpt3 = params.extraLoginOptions) === null || _params$extraLoginOpt3 === void 0 ? void 0 : _params$extraLoginOpt3.login_hint)
        });
        const nonce = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["randomId"])();
        // post a message to the auth provider to indicate that login has been initiated.
        const loginParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cloneDeep"])(params);
        loginParams.extraLoginOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, loginParams.extraLoginOptions || {}), {}, {
            login_hint: params.loginHint || ((_params$extraLoginOpt4 = params.extraLoginOptions) === null || _params$extraLoginOpt4 === void 0 ? void 0 : _params$extraLoginOpt4.login_hint)
        });
        delete loginParams.chainId;
        const popupParams = {
            authConnection: params.authConnection,
            authConnectionId: providerConfig.authConnectionId,
            clientId: providerConfig.clientId || jwtParams.client_id,
            groupedAuthConnectionId: providerConfig.groupedAuthConnectionId,
            redirect_uri: `${this.authInstance.options.sdkUrl}/auth`,
            jwtParams,
            customState: {
                nonce,
                appState: params.appState,
                // use the default settings from the auth instance.
                dapp_redirect_url: this.authInstance.options.redirectUrl,
                uxMode: this.authInstance.options.uxMode,
                whiteLabel: JSON.stringify(this.authInstance.options.whiteLabel),
                loginParams: JSON.stringify(loginParams),
                version: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["version"].split(".")[0],
                web3AuthNetwork: this.coreOptions.web3AuthNetwork,
                web3AuthClientId: this.coreOptions.clientId,
                originData: this.authInstance.options.originData ? JSON.stringify(this.authInstance.options.originData) : undefined
            },
            web3AuthClientId: this.coreOptions.clientId,
            web3AuthNetwork: this.coreOptions.web3AuthNetwork
        };
        const loginHandler = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$handlers$2f$HandlerFactory$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createHandler"])(popupParams);
        const verifierWindow = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$PopupHandler$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PopupHandler"]({
            url: loginHandler.finalURL,
            timeout: 0
        });
        if (this.authOptions.uxMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT) return verifierWindow.redirect(this.authOptions.replaceUrlOnRedirect);
        let isClosedWindow = false;
        return new Promise((resolve, reject)=>{
            verifierWindow.open().catch((error)=>{
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Error during login with social", error);
                this.authInstance.postLoginCancelledMessage(nonce);
                reject(error);
            });
            // this is to close the popup when the login is finished.
            const securePubSub = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$secure$2d$pub$2d$sub$2f$dist$2f$lib$2e$esm$2f$SecurePubSub$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SecurePubSub"]({
                sameIpCheck: true
            });
            securePubSub.subscribe(`web3auth-login-${nonce}`).then((data)=>{
                const parsedData = JSON.parse(data || "{}");
                if ((parsedData === null || parsedData === void 0 ? void 0 : parsedData.message) === "login_finished") {
                    if (parsedData !== null && parsedData !== void 0 && parsedData.error) {
                        this.authInstance.postLoginCancelledMessage(nonce);
                        reject(parsedData.error);
                    }
                    isClosedWindow = true;
                    securePubSub.cleanup();
                    verifierWindow.close();
                }
                return true;
            }).catch((error)=>{
                // swallow the error, dont need to throw.
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Error during login with social", error);
            });
            verifierWindow.once("close", ()=>{
                if (!isClosedWindow) {
                    securePubSub.cleanup();
                    this.authInstance.postLoginCancelledMessage(nonce);
                    reject(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].popupClosed());
                }
            });
            this.authInstance.postLoginInitiatedMessage(loginParams, nonce).then(resolve).catch((error)=>{
                if (error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Web3AuthError"]) {
                    throw error;
                }
                reject(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError(error instanceof Error ? error.message : error || "Failed to login with social"));
            });
        });
    }
    connectWithJwtLogin(params) {
        var _params$extraLoginOpt5, _params$extraLoginOpt7;
        const loginConfig = this.getOAuthProviderConfig({
            authConnection: params.authConnection,
            authConnectionId: params.authConnectionId,
            groupedAuthConnectionId: params.groupedAuthConnectionId
        });
        // throw error only when we cannot find the login config and authConnectionId is not provided in the params.
        // otherwise, we will use the params to create a new auth connection config in the auth instance.
        if (!(loginConfig !== null && loginConfig !== void 0 && loginConfig.authConnection) && !params.authConnectionId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Invalid auth connection.");
        if (!(loginConfig !== null && loginConfig !== void 0 && loginConfig.authConnection)) {
            this.authInstance.options.authConnectionConfig.push({
                authConnection: params.authConnection,
                authConnectionId: params.authConnectionId,
                groupedAuthConnectionId: params.groupedAuthConnectionId
            });
        }
        const loginParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cloneDeep"])(params);
        const finalExtraLoginOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, (loginConfig === null || loginConfig === void 0 ? void 0 : loginConfig.jwtParameters) || {}), params.extraLoginOptions || {});
        let finalUserId;
        if (params.loginHint || (_params$extraLoginOpt5 = params.extraLoginOptions) !== null && _params$extraLoginOpt5 !== void 0 && _params$extraLoginOpt5.login_hint) {
            var _params$extraLoginOpt6;
            finalUserId = params.loginHint || ((_params$extraLoginOpt6 = params.extraLoginOptions) === null || _params$extraLoginOpt6 === void 0 ? void 0 : _params$extraLoginOpt6.login_hint);
        } else if ((_params$extraLoginOpt7 = params.extraLoginOptions) !== null && _params$extraLoginOpt7 !== void 0 && _params$extraLoginOpt7.id_token) {
            const { payload } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseToken"])(params.extraLoginOptions.id_token);
            finalUserId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getUserId"])(payload, loginParams.authConnection, finalExtraLoginOptions.userIdField, finalExtraLoginOptions.isUserIdCaseSensitive);
        } else {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Invalid login hint or id_token");
        }
        // Adds the login_hint to the extraLoginOptions.
        loginParams.extraLoginOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, finalExtraLoginOptions), {}, {
            login_hint: finalUserId
        });
        delete loginParams.chainId;
        return this.authInstance.postLoginInitiatedMessage(loginParams);
    }
}
const authConnector = (params)=>{
    return ({ projectConfig, coreOptions })=>{
        var _coreOptions$uiConfig, _coreOptions$walletSe, _coreOptions$walletSe2, _coreOptions$walletSe3;
        // Connector settings
        const connectorSettings = {};
        const { whitelist, sessionTime } = projectConfig;
        if (whitelist) connectorSettings.originData = whitelist.signed_urls;
        // If sessionTime is provided in the coreOptions, it takes precedence over the sessionTime in the projectConfig.
        if (coreOptions.sessionTime) {
            connectorSettings.sessionTime = coreOptions.sessionTime;
        } else if (sessionTime) {
            connectorSettings.sessionTime = sessionTime;
        }
        if ((_coreOptions$uiConfig = coreOptions.uiConfig) !== null && _coreOptions$uiConfig !== void 0 && _coreOptions$uiConfig.uxMode) connectorSettings.uxMode = coreOptions.uiConfig.uxMode;
        const uiConfig = coreOptions.uiConfig || {};
        connectorSettings.whiteLabel = uiConfig;
        const finalConnectorSettings = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].all([
            {
                uxMode: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["UX_MODE"].POPUP,
                buildEnv: coreOptions.authBuildEnv || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BUILD_ENV"].PRODUCTION
            },
            // default settings
            connectorSettings,
            (params === null || params === void 0 ? void 0 : params.connectorSettings) || {}
        ]);
        // WS settings
        const whiteLabel = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].all([
            uiConfig,
            ((_coreOptions$walletSe = coreOptions.walletServicesConfig) === null || _coreOptions$walletSe === void 0 ? void 0 : _coreOptions$walletSe.whiteLabel) || {}
        ]);
        const finalWsSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, coreOptions.walletServicesConfig), {}, {
            whiteLabel,
            accountAbstractionConfig: coreOptions.accountAbstractionConfig,
            enableLogging: coreOptions.enableLogging
        });
        // Core options
        const isKeyExportEnabled = (_coreOptions$walletSe2 = (_coreOptions$walletSe3 = coreOptions.walletServicesConfig) === null || _coreOptions$walletSe3 === void 0 ? void 0 : _coreOptions$walletSe3.enableKeyExport) !== null && _coreOptions$walletSe2 !== void 0 ? _coreOptions$walletSe2 : true;
        if (coreOptions.privateKeyProvider) coreOptions.privateKeyProvider.setKeyExportFlag(isKeyExportEnabled);
        return new AuthConnector({
            connectorSettings: finalConnectorSettings,
            walletServicesSettings: finalWsSettings,
            loginSettings: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, (params === null || params === void 0 ? void 0 : params.loginSettings) || {}), {}, {
                mfaLevel: coreOptions.mfaLevel
            }),
            coreOptions,
            authConnectionConfig: projectConfig.embeddedWalletAuth
        });
    };
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/plugin/IPlugin.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "EVM_PLUGINS",
    ()=>EVM_PLUGINS,
    "PLUGIN_EVENTS",
    ()=>PLUGIN_EVENTS,
    "PLUGIN_NAMESPACES",
    ()=>PLUGIN_NAMESPACES,
    "PLUGIN_STATUS",
    ()=>PLUGIN_STATUS,
    "SOLANA_PLUGINS",
    ()=>SOLANA_PLUGINS,
    "WALLET_PLUGINS",
    ()=>WALLET_PLUGINS
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-ssr] (ecmascript)");
;
;
const PLUGIN_NAMESPACES = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"]), {}, {
    MULTICHAIN: "multichain"
});
const PLUGIN_STATUS = {
    READY: "ready",
    CONNECTING: "connecting",
    CONNECTED: "connected",
    DISCONNECTED: "disconnected",
    ERRORED: "errored"
};
const PLUGIN_EVENTS = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, PLUGIN_STATUS);
const EVM_PLUGINS = {
    WALLET_SERVICES: "wallet-services"
};
const SOLANA_PLUGINS = {
    SOLANA: "solana"
};
const WALLET_PLUGINS = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, EVM_PLUGINS), SOLANA_PLUGINS);
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/plugin/errors.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "WalletServicesPluginError",
    ()=>WalletServicesPluginError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-ssr] (ecmascript)");
;
;
class WalletServicesPluginError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Web3AuthError"] {
    constructor(code, message, cause){
        // takes care of stack and proto
        super(code, message, cause);
        // Set name explicitly as minification can mangle class names
        Object.defineProperty(this, "name", {
            value: "WalletServicesPluginError"
        });
    }
    static fromCode(code, extraMessage = "", cause) {
        return new WalletServicesPluginError(code, `${WalletServicesPluginError.messages[code]}${extraMessage}`, cause);
    }
    static notInitialized(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5210, extraMessage, cause);
    }
    static unsupportedConnector(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5211, extraMessage, cause);
    }
    static providerRequired(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5212, extraMessage, cause);
    }
    static web3authRequired(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5213, extraMessage, cause);
    }
    static web3AuthNotConnected(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5214, extraMessage, cause);
    }
    static alreadyInitialized(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5216, extraMessage, cause);
    }
    static unsupportedChainNamespace(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5218, extraMessage, cause);
    }
    static differentWeb3AuthNetwork(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5219, extraMessage, cause);
    }
    static invalidParams(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5220, extraMessage, cause);
    }
    static web3authNotInitialized(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5221, extraMessage, cause);
    }
    static invalidSession(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5222, extraMessage, cause);
    }
    static walletPluginNotConnected(extraMessage = "", cause) {
        return WalletServicesPluginError.fromCode(5223, extraMessage, cause);
    }
}
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(WalletServicesPluginError, "messages", {
    5210: "Wallet Services Plugin is not initialized",
    5211: "Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",
    5212: "Provider is required..",
    5213: "Web3Auth instance is required while initialization.",
    5214: "Web3Auth is not connected.",
    5216: "Plugin is already initialized",
    5218: "Unsupported chain namespace.",
    5219: "Plugin network different than web3auth instance network.",
    5221: "Web3Auth is not initialized",
    5222: "Invalid session inside wallet services. Please report this issue.",
    5223: "Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"
});
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/plugins/wallet-services-plugin/plugin.js [app-ssr] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "walletServicesPlugin",
    ()=>walletServicesPlugin
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/plugin/IPlugin.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/plugin/errors.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/connectorStatus.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/wallet/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/loglevel.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/analytics.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
class WalletServicesPlugin extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SafeEventEmitter"] {
    constructor(...args){
        super(...args);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EVM_PLUGINS"].WALLET_SERVICES);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "status", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_STATUS"].DISCONNECTED);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "SUPPORTED_CONNECTORS", [
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH
        ]);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "pluginNamespace", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_NAMESPACES"].MULTICHAIN);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "wsEmbedInstance", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "provider", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "web3auth", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "isInitialized", false);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "analytics", void 0);
    }
    get proxyProvider() {
        var _this$wsEmbedInstance;
        return (_this$wsEmbedInstance = this.wsEmbedInstance) !== null && _this$wsEmbedInstance !== void 0 && _this$wsEmbedInstance.provider ? this.wsEmbedInstance.provider : null;
    }
    async initWithWeb3Auth(web3auth, _whiteLabel, analytics) {
        if (this.isInitialized) return;
        if (!web3auth) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].web3authRequired();
        if (web3auth.provider && !this.SUPPORTED_CONNECTORS.includes(web3auth.connectedConnectorName)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].notInitialized();
        const currentChainConfig = web3auth.currentChain;
        if (![
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA
        ].includes(currentChainConfig === null || currentChainConfig === void 0 ? void 0 : currentChainConfig.chainNamespace)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].unsupportedChainNamespace();
        // Not connected yet to auth
        if (web3auth.provider) {
            this.provider = web3auth.provider;
        }
        this.web3auth = web3auth;
        this.analytics = analytics;
        // Auth connector uses WS embed
        const authInstance = web3auth.getConnector(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH);
        if (!authInstance || !authInstance.wsEmbed) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].web3AuthNotConnected();
        this.wsEmbedInstance = authInstance.wsEmbed;
        this.isInitialized = true;
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_STATUS"].READY;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_EVENTS"].READY);
    }
    initWithProvider() {
        throw new Error("Method not implemented.");
    }
    async connect() {
        // if web3auth is being used and connected to unsupported connector throw error
        if (!this.isInitialized) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].notInitialized();
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_EVENTS"].CONNECTING);
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_STATUS"].CONNECTING;
        if (!this.provider) {
            var _this$web3auth;
            if ((_this$web3auth = this.web3auth) !== null && _this$web3auth !== void 0 && _this$web3auth.provider) {
                this.provider = this.web3auth.provider;
            }
        }
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CAN_AUTHORIZE_STATUSES"].includes(this.web3auth.status)) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].web3AuthNotConnected();
        } else if (!this.web3auth.provider) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].providerRequired();
        }
        try {
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_EVENTS"].CONNECTED);
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_STATUS"].CONNECTED;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(error);
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_STATUS"].ERRORED;
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_EVENTS"].ERRORED, {
                error: error.message || "Something went wrong"
            });
        }
    }
    async showWalletConnectScanner(showWalletConnectParams) {
        var _this$wsEmbedInstance2, _this$analytics;
        if (!((_this$wsEmbedInstance2 = this.wsEmbedInstance) !== null && _this$wsEmbedInstance2 !== void 0 && _this$wsEmbedInstance2.isLoggedIn)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].walletPluginNotConnected();
        // analytics
        (_this$analytics = this.analytics) === null || _this$analytics === void 0 || _this$analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].WALLET_CONNECT_SCANNER_CLICKED, {
            is_visible: showWalletConnectParams === null || showWalletConnectParams === void 0 ? void 0 : showWalletConnectParams.show
        });
        return this.wsEmbedInstance.showWalletConnectScanner(showWalletConnectParams);
    }
    async showFunding(showFundingParams) {
        var _this$wsEmbedInstance3, _this$analytics2;
        if (!((_this$wsEmbedInstance3 = this.wsEmbedInstance) !== null && _this$wsEmbedInstance3 !== void 0 && _this$wsEmbedInstance3.isLoggedIn)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].walletPluginNotConnected();
        // analytics
        (_this$analytics2 = this.analytics) === null || _this$analytics2 === void 0 || _this$analytics2.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].WALLET_FUNDING_CLICKED, {
            is_visible: showFundingParams === null || showFundingParams === void 0 ? void 0 : showFundingParams.show
        });
        return this.wsEmbedInstance.showFunding(showFundingParams);
    }
    async showCheckout(showCheckoutParams) {
        var _this$wsEmbedInstance4, _this$analytics3;
        if (!((_this$wsEmbedInstance4 = this.wsEmbedInstance) !== null && _this$wsEmbedInstance4 !== void 0 && _this$wsEmbedInstance4.isLoggedIn)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].walletPluginNotConnected();
        // analytics
        (_this$analytics3 = this.analytics) === null || _this$analytics3 === void 0 || _this$analytics3.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].WALLET_CHECKOUT_CLICKED, {
            is_visible: showCheckoutParams === null || showCheckoutParams === void 0 ? void 0 : showCheckoutParams.show,
            receive_wallet_address_enabled: !!(showCheckoutParams !== null && showCheckoutParams !== void 0 && showCheckoutParams.receiveWalletAddress),
            token_list: showCheckoutParams === null || showCheckoutParams === void 0 ? void 0 : showCheckoutParams.tokenList,
            fiat_list: showCheckoutParams === null || showCheckoutParams === void 0 ? void 0 : showCheckoutParams.fiatList,
            crypto: showCheckoutParams === null || showCheckoutParams === void 0 ? void 0 : showCheckoutParams.crypto,
            fiat: showCheckoutParams === null || showCheckoutParams === void 0 ? void 0 : showCheckoutParams.fiat,
            fiat_amount: showCheckoutParams === null || showCheckoutParams === void 0 ? void 0 : showCheckoutParams.fiatAmount,
            crypto_amount: showCheckoutParams === null || showCheckoutParams === void 0 ? void 0 : showCheckoutParams.cryptoAmount
        });
        return this.wsEmbedInstance.showCheckout(showCheckoutParams);
    }
    async showReceive(showReceiveParams) {
        var _this$wsEmbedInstance5, _this$analytics4;
        if (!((_this$wsEmbedInstance5 = this.wsEmbedInstance) !== null && _this$wsEmbedInstance5 !== void 0 && _this$wsEmbedInstance5.isLoggedIn)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].walletPluginNotConnected();
        // analytics
        (_this$analytics4 = this.analytics) === null || _this$analytics4 === void 0 || _this$analytics4.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].WALLET_RECEIVE_CLICKED, {
            is_visible: showReceiveParams === null || showReceiveParams === void 0 ? void 0 : showReceiveParams.show
        });
        return this.wsEmbedInstance.showReceive(showReceiveParams);
    }
    async showWalletUi(showWalletUiParams) {
        var _this$wsEmbedInstance6, _this$analytics5;
        if (!((_this$wsEmbedInstance6 = this.wsEmbedInstance) !== null && _this$wsEmbedInstance6 !== void 0 && _this$wsEmbedInstance6.isLoggedIn)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].walletPluginNotConnected();
        // analytics
        (_this$analytics5 = this.analytics) === null || _this$analytics5 === void 0 || _this$analytics5.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].WALLET_UI_CLICKED, {
            is_visible: showWalletUiParams === null || showWalletUiParams === void 0 ? void 0 : showWalletUiParams.show,
            path: showWalletUiParams === null || showWalletUiParams === void 0 ? void 0 : showWalletUiParams.path
        });
        return this.wsEmbedInstance.showWalletUi(showWalletUiParams);
    }
    async showSwap(showSwapParams) {
        var _this$wsEmbedInstance7, _this$analytics6;
        if (!((_this$wsEmbedInstance7 = this.wsEmbedInstance) !== null && _this$wsEmbedInstance7 !== void 0 && _this$wsEmbedInstance7.isLoggedIn)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].walletPluginNotConnected();
        // analytics
        (_this$analytics6 = this.analytics) === null || _this$analytics6 === void 0 || _this$analytics6.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].WALLET_SWAP_CLICKED, {
            is_visible: showSwapParams === null || showSwapParams === void 0 ? void 0 : showSwapParams.show,
            from_token: showSwapParams === null || showSwapParams === void 0 ? void 0 : showSwapParams.fromToken,
            to_token: showSwapParams === null || showSwapParams === void 0 ? void 0 : showSwapParams.toToken,
            from_value_enabled: !!(showSwapParams !== null && showSwapParams !== void 0 && showSwapParams.fromValue),
            to_address_enabled: !!(showSwapParams !== null && showSwapParams !== void 0 && showSwapParams.toAddress)
        });
        return this.wsEmbedInstance.showSwap(showSwapParams);
    }
    async cleanup() {
        var _this$wsEmbedInstance8;
        return (_this$wsEmbedInstance8 = this.wsEmbedInstance) === null || _this$wsEmbedInstance8 === void 0 ? void 0 : _this$wsEmbedInstance8.cleanUp();
    }
    async disconnect() {
        var _this$wsEmbedInstance9;
        if (this.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_STATUS"].CONNECTED) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletServicesPluginError"].invalidSession("Wallet Services plugin is not connected");
        if ((_this$wsEmbedInstance9 = this.wsEmbedInstance) !== null && _this$wsEmbedInstance9 !== void 0 && _this$wsEmbedInstance9.isLoggedIn) {
            await this.wsEmbedInstance.logout();
        }
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_EVENTS"].DISCONNECTED);
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_STATUS"].DISCONNECTED;
    }
}
const walletServicesPlugin = ()=>{
    return ()=>{
        return new WalletServicesPlugin();
    };
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/utils.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "checkIfTokenIsExpired",
    ()=>checkIfTokenIsExpired,
    "clearToken",
    ()=>clearToken,
    "getSavedToken",
    ()=>getSavedToken,
    "saveToken",
    ()=>saveToken,
    "storageAvailable",
    ()=>storageAvailable
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$jwt$2d$decode$2f$build$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/jwt-decode/build/esm/index.js [app-ssr] (ecmascript)");
;
function storageAvailable(type) {
    let storageExists = false;
    let storageLength = 0;
    let storage;
    try {
        storage = window[type];
        storageExists = true;
        storageLength = storage.length;
        const x = "__storage_test__";
        storage.setItem(x, x);
        storage.removeItem(x);
        return true;
    } catch (err) {
        const error = err;
        return !!(error && (// everything except Firefox
        error.code === 22 || // Firefox
        error.code === 1014 || // test name field too, because code might not be present
        // everything except Firefox
        error.name === "QuotaExceededError" || // Firefox
        error.name === "NS_ERROR_DOM_QUOTA_REACHED") && // acknowledge QuotaExceededError only if there's something already stored
        storageExists && storageLength !== 0);
    }
}
const checkIfTokenIsExpired = (token)=>{
    const decoded = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$jwt$2d$decode$2f$build$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jwtDecode"])(token);
    if (!decoded.exp) {
        return true;
    }
    if (decoded.exp < Math.floor(Date.now() / 1000)) {
        return true;
    }
    return false;
};
const getSavedToken = (userAddress, issuer)=>{
    if (storageAvailable("localStorage")) {
        return localStorage.getItem(`${userAddress.toLowerCase()}_${issuer}`);
    }
    return null;
};
const saveToken = (userAddress, issuer, token)=>{
    if (storageAvailable("localStorage")) {
        return localStorage.setItem(`${userAddress.toLowerCase()}_${issuer}`, token);
    }
    return null;
};
const clearToken = (userAddress, issuer)=>{
    if (storageAvailable("localStorage")) {
        return localStorage.removeItem(`${userAddress.toLowerCase()}_${issuer}`);
    }
    return null;
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/base-evm-connector/baseEvmConnector.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BaseEvmConnector",
    ()=>BaseEvmConnector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$signingUtils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/signingUtils.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/ws-embed/dist/lib.esm/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/utils.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$baseConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/baseConnector.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/constants.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
class BaseEvmConnector extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$baseConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BaseConnector"] {
    async init(_) {}
    async getIdentityToken() {
        if (!this.provider || !this.canAuthorize) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError();
        if (!this.coreOptions) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("Please initialize Web3Auth with valid options");
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZING;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZING, {
            connector: this.name
        });
        const accounts = await this.provider.request({
            method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EVM_METHOD_TYPES"].GET_ACCOUNTS
        });
        if (accounts && accounts.length > 0) {
            const existingToken = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getSavedToken"])(accounts[0], this.name);
            if (existingToken) {
                const isExpired = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["checkIfTokenIsExpired"])(existingToken);
                if (!isExpired) {
                    this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZED;
                    this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZED, {
                        connector: this.name,
                        identityTokenInfo: {
                            idToken: existingToken
                        }
                    });
                    return {
                        idToken: existingToken
                    };
                }
            }
            const chainId = await this.provider.request({
                method: "eth_chainId"
            });
            const currentChainConfig = this.coreOptions.chains.find((x)=>x.chainId === chainId);
            if (!currentChainConfig) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("chainConfig is required before authentication");
            const { chainNamespace } = currentChainConfig;
            const payload = {
                domain: window.location.origin,
                uri: window.location.href,
                address: accounts[0],
                chainId: parseInt(chainId, 16),
                version: "1",
                nonce: Math.random().toString(36).slice(2),
                issuedAt: new Date().toISOString()
            };
            const challenge = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$signingUtils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["signChallenge"])(payload, chainNamespace);
            const hexChallenge = `0x${Buffer.from(challenge, "utf8").toString("hex")}`;
            const signedMessage = await this.provider.request({
                method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["EVM_METHOD_TYPES"].PERSONAL_SIGN,
                params: [
                    hexChallenge,
                    accounts[0]
                ]
            });
            const idToken = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$signingUtils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["verifySignedChallenge"])(chainNamespace, signedMessage, challenge, this.name, this.coreOptions.sessionTime, this.coreOptions.clientId, this.coreOptions.web3AuthNetwork);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["saveToken"])(accounts[0], this.name, idToken);
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZED;
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZED, {
                connector: this.name,
                identityTokenInfo: {
                    idToken
                }
            });
            return {
                idToken
            };
        }
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet, Please login/connect first");
    }
    async disconnectSession() {
        super.checkDisconnectionRequirements();
        const accounts = await this.provider.request({
            method: "eth_accounts"
        });
        if (accounts && accounts.length > 0) {
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["clearToken"])(accounts[0], this.name);
        }
    }
    async disconnect() {
        this.rehydrated = false;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].DISCONNECTED);
    }
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/metamask-connector/metamaskConnector.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "metaMaskConnector",
    ()=>metaMaskConnector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$metamask$2f$sdk$2f$dist$2f$browser$2f$es$2f$metamask$2d$sdk$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@metamask/sdk/dist/browser/es/metamask-sdk.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/deepmerge/dist/cjs.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/utils.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/utils.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/analytics.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$base$2d$evm$2d$connector$2f$baseEvmConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/base-evm-connector/baseEvmConnector.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/chain/IChainInterface.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/wallet/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
class MetaMaskConnector extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$base$2d$evm$2d$connector$2f$baseEvmConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BaseEvmConnector"] {
    constructor(connectorOptions){
        super(connectorOptions);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "connectorNamespace", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["CONNECTOR_NAMESPACES"].EIP155);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "currentChainNamespace", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "type", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_CATEGORY"].EXTERNAL);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].METAMASK);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "status", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "metamaskProvider", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "metamaskSDK", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "metamaskOptions", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "analytics", void 0);
        this.metamaskOptions = connectorOptions.connectorSettings;
        this.analytics = connectorOptions.analytics;
    }
    get provider() {
        if (this.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY && this.metamaskProvider) {
            return this.metamaskProvider;
        }
        return null;
    }
    set provider(_) {
        throw new Error("Not implemented");
    }
    async init(options) {
        await super.init(options);
        const chainConfig = this.coreOptions.chains.find((x)=>x.chainId === options.chainId);
        super.checkInitializationRequirements({
            chainConfig
        });
        // Detect app metadata
        const iconUrl = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getSiteIcon"])(window);
        // TODO: handle ssr
        const appMetadata = {
            name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getSiteName"])(window) || "web3auth",
            url: window.location.origin || "https://web3auth.io",
            iconUrl: iconUrl !== null && iconUrl !== void 0 ? iconUrl : undefined
        };
        // initialize the MetaMask SDK
        const metamaskOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this.metamaskOptions || {}, {
            dappMetadata: appMetadata
        });
        this.metamaskSDK = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$metamask$2f$sdk$2f$dist$2f$browser$2f$es$2f$metamask$2d$sdk$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MetaMaskSDK"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, metamaskOptions), {}, {
            _source: "web3auth",
            preferDesktop: true
        }));
        // Work around: in case there is an existing SDK instance in memory (window.mmsdk exists), it won't initialize the new SDK instance again
        // and return the existing instance instead of undefined (this is an assumption, not sure if it's a bug or feature of the MetaMask SDK)
        const initResult = await this.metamaskSDK.init();
        if (initResult) {
            this.metamaskSDK = initResult;
        }
        this.isInjected = this.metamaskSDK.isExtensionActive();
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].READY, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].METAMASK);
        try {
            if (options.autoConnect) {
                this.rehydrated = true;
                const provider = await this.connect({
                    chainId: options.chainId,
                    getIdentityToken: options.getIdentityToken
                });
                if (!provider) {
                    this.rehydrated = false;
                    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Failed to rehydrate.");
                }
            }
        } catch (error) {
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].REHYDRATION_ERROR, error);
        }
    }
    async connect({ chainId, getIdentityToken }) {
        super.checkConnectionRequirements();
        if (!this.metamaskSDK) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Connector is not initialized");
        const chainConfig = this.coreOptions.chains.find((x)=>x.chainId === chainId);
        if (!chainConfig) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Chain config is not available");
        // Skip tracking for injected MetaMask since it's handled in connectTo
        // Skip tracking for rehydration since only new connections are tracked
        // Only track non-injected MetaMask when connection completes since it auto-initializes to generate QR code
        const shouldTrack = !this.isInjected && !this.rehydrated;
        const startTime = Date.now();
        const eventData = {
            connector: this.name,
            connector_type: this.type,
            is_injected: this.isInjected,
            chain_id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getCaipChainId"])(chainConfig),
            chain_name: chainConfig === null || chainConfig === void 0 ? void 0 : chainConfig.displayName,
            chain_namespace: chainConfig === null || chainConfig === void 0 ? void 0 : chainConfig.chainNamespace
        };
        try {
            if (this.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING) {
                var _this$metamaskOptions;
                this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING;
                this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTING, {
                    connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].METAMASK
                });
                if (!this.metamaskSDK.isExtensionActive() && (_this$metamaskOptions = this.metamaskOptions) !== null && _this$metamaskOptions !== void 0 && _this$metamaskOptions.headless) {
                    // when metamask is not injected and headless is true, broadcast the uri to the login modal
                    this.metamaskSDK.getProvider().on("display_uri", (uri)=>{
                        this.updateConnectorData({
                            uri
                        });
                    });
                }
                await this.metamaskSDK.connect();
            }
            this.metamaskProvider = this.metamaskSDK.getProvider();
            if (!this.metamaskProvider) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Failed to connect with provider");
            // switch chain if not connected to the right chain
            const currentChainId = await this.metamaskProvider.request({
                method: "eth_chainId"
            });
            if (currentChainId !== chainConfig.chainId) {
                await this.switchChain(chainConfig, true);
            }
            // handle disconnect event
            const accountDisconnectHandler = (accounts)=>{
                if (accounts.length === 0) this.disconnect();
            };
            this.metamaskProvider.on("accountsChanged", accountDisconnectHandler);
            this.metamaskProvider.once("disconnect", ()=>{
                this.disconnect();
            });
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTED;
            // track connection events
            if (shouldTrack) {
                var _this$analytics, _this$analytics2;
                (_this$analytics = this.analytics) === null || _this$analytics === void 0 || _this$analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_STARTED, eventData);
                (_this$analytics2 = this.analytics) === null || _this$analytics2 === void 0 || _this$analytics2.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_COMPLETED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, eventData), {}, {
                    duration: Date.now() - startTime
                }));
            }
            let identityTokenInfo;
            if (getIdentityToken) {
                identityTokenInfo = await this.getIdentityToken();
            }
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTED, {
                connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].METAMASK,
                reconnected: this.rehydrated,
                provider: this.metamaskProvider,
                identityTokenInfo
            });
            return this.metamaskProvider;
        } catch (error) {
            // ready again to be connected
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
            if (!this.rehydrated) this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].ERRORED, error);
            this.rehydrated = false;
            // track connection events
            if (shouldTrack) {
                var _this$analytics3, _this$analytics4;
                (_this$analytics3 = this.analytics) === null || _this$analytics3 === void 0 || _this$analytics3.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_STARTED, eventData);
                (_this$analytics4 = this.analytics) === null || _this$analytics4 === void 0 || _this$analytics4.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_FAILED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, eventData), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getErrorAnalyticsProperties"])(error)), {}, {
                    duration: Date.now() - startTime
                }));
            }
            if (error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Web3AuthError"]) throw error;
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Failed to login with MetaMask wallet", error);
        }
    }
    async disconnect(options = {
        cleanup: false
    }) {
        if (!this.metamaskProvider) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("MetaMask provider is not available");
        await super.disconnectSession();
        if (typeof this.metamaskProvider.removeAllListeners !== "undefined") this.metamaskProvider.removeAllListeners();
        await this.metamaskSDK.terminate();
        if (options.cleanup) {
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY;
            this.metamaskProvider = null;
        } else {
            // ready to be connected again
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
        }
        await super.disconnect();
    }
    async getUserInfo() {
        if (!this.canAuthorize) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet, Please login/connect first");
        return {};
    }
    async switchChain(params, init = false) {
        super.checkSwitchChainRequirements(params, init);
        const requestSwitchChain = ()=>this.metamaskProvider.request({
                method: "wallet_switchEthereumChain",
                params: [
                    {
                        chainId: params.chainId
                    }
                ]
            });
        try {
            await requestSwitchChain();
        } catch (error) {
            // If the error code is 4902, the network needs to be added
            if ((error === null || error === void 0 ? void 0 : error.code) === 4902) {
                const chainConfig = this.coreOptions.chains.find((x)=>x.chainId === params.chainId && [
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155
                    ].includes(x.chainNamespace));
                await this.addChain(chainConfig);
                await requestSwitchChain();
            } else {
                throw error;
            }
        }
    }
    async enableMFA() {
        throw new Error("Method Not implemented");
    }
    async manageMFA() {
        throw new Error("Method Not implemented");
    }
    async addChain(chainConfig) {
        if (!this.metamaskProvider) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Injected provider is not available");
        await this.metamaskProvider.request({
            method: "wallet_addEthereumChain",
            params: [
                {
                    chainId: chainConfig.chainId,
                    chainName: chainConfig.displayName,
                    rpcUrls: [
                        chainConfig.rpcTarget
                    ],
                    blockExplorerUrls: [
                        chainConfig.blockExplorerUrl
                    ],
                    nativeCurrency: {
                        name: chainConfig.tickerName,
                        symbol: chainConfig.ticker,
                        decimals: chainConfig.decimals || 18
                    },
                    iconUrls: [
                        chainConfig.logo
                    ]
                }
            ]
        });
    }
}
const metaMaskConnector = (params)=>{
    return ({ coreOptions, analytics })=>{
        return new MetaMaskConnector({
            connectorSettings: params,
            coreOptions,
            analytics
        });
    };
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/noModal.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Web3AuthNoModal",
    ()=>Web3AuthNoModal
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectWithoutProperties$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/objectWithoutProperties.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Embed$2f$IEmbedController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Embed/IEmbedController.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/error.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/enums.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/utils.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$browserStorage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/browserStorage.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/deepmerge/dist/cjs.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$cookie$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/cookie.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$deserialize$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/deserialize.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/analytics.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/utils.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$CommonJRPCProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/CommonJRPCProvider.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$auth$2d$connector$2f$authConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/auth-connector/authConnector.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$plugins$2f$wallet$2d$services$2d$plugin$2f$plugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/plugins/wallet-services-plugin/plugin.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/utils.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$metamask$2d$connector$2f$metamaskConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/metamask-connector/metamaskConnector.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/loglevel.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/wallet/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/chain/IChainInterface.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/connectorStatus.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/plugin/IPlugin.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const _excluded = [
    "walletScope"
];
class Web3AuthNoModal extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SafeEventEmitter"] {
    constructor(options, initialState){
        super();
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "coreOptions", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "status", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "aaProvider", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "connectors", []);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "commonJRPCProvider", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "analytics", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "plugins", {});
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "storage", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "state", {
            connectedConnectorName: null,
            cachedConnector: null,
            currentChainId: null,
            idToken: null
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, "loginMode", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["LOGIN_MODE"].NO_MODAL);
        if (!options.clientId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("Please provide a valid clientId in constructor");
        if (options.enableLogging) __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].enableAll();
        else __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].setLevel("error");
        if (!options.storageType) options.storageType = "local";
        this.coreOptions = options;
        this.storage = this.getStorageMethod();
        this.analytics = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Analytics"]();
        this.analytics.setGlobalProperties({
            integration_type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_INTEGRATION_TYPE"].NATIVE_SDK
        });
        this.loadState(initialState);
        if (this.state.idToken && this.coreOptions.ssr) {
            // connect-only is the default authentication mode, so we need to set the status to connected if the idToken is present and ssr is enabled
            this.status = this.coreOptions.initialAuthenticationMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_INITIAL_AUTHENTICATION_MODE"].CONNECT_AND_SIGN ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZED : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTED;
        }
    }
    get currentChain() {
        var _this$coreOptions$cha;
        if (!this.currentChainId) return undefined;
        return (_this$coreOptions$cha = this.coreOptions.chains) === null || _this$coreOptions$cha === void 0 ? void 0 : _this$coreOptions$cha.find((chain)=>chain.chainId === this.currentChainId);
    }
    get connected() {
        return Boolean(this.connectedConnector);
    }
    get provider() {
        if (this.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY && this.commonJRPCProvider) {
            return this.commonJRPCProvider;
        }
        return null;
    }
    get connectedConnectorName() {
        return this.state.connectedConnectorName;
    }
    get cachedConnector() {
        return this.state.cachedConnector;
    }
    get currentChainId() {
        var _this$coreOptions$cha2;
        return this.state.currentChainId || this.coreOptions.defaultChainId || ((_this$coreOptions$cha2 = this.coreOptions.chains) === null || _this$coreOptions$cha2 === void 0 || (_this$coreOptions$cha2 = _this$coreOptions$cha2[0]) === null || _this$coreOptions$cha2 === void 0 ? void 0 : _this$coreOptions$cha2.chainId) || null;
    }
    get connectedConnector() {
        var _this$currentChain;
        return this.getConnector(this.connectedConnectorName, (_this$currentChain = this.currentChain) === null || _this$currentChain === void 0 ? void 0 : _this$currentChain.chainNamespace);
    }
    get accountAbstractionProvider() {
        return this.aaProvider;
    }
    get idToken() {
        return this.state.idToken || null;
    }
    set provider(_) {
        throw new Error("Not implemented");
    }
    async init(options) {
        // init analytics
        const startTime = Date.now();
        this.analytics.init();
        this.analytics.identify(this.coreOptions.clientId, {
            web3auth_client_id: this.coreOptions.clientId,
            web3auth_network: this.coreOptions.web3AuthNetwork
        });
        this.analytics.setGlobalProperties({
            dapp_url: window.location.origin,
            sdk_name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_SDK_TYPE"].WEB_NO_MODAL,
            sdk_version: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["sdkVersion"],
            // Required for organization analytics
            web3auth_client_id: this.coreOptions.clientId,
            web3auth_network: this.coreOptions.web3AuthNetwork
        });
        let trackData = {};
        try {
            var _authConnector$authIn, _this$coreOptions$uiC;
            const { signal } = options || {};
            // get project config
            let projectConfig;
            try {
                var _this$coreOptions$acc;
                projectConfig = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["fetchProjectConfig"])({
                    clientId: this.coreOptions.clientId,
                    web3AuthNetwork: this.coreOptions.web3AuthNetwork,
                    aaProvider: (_this$coreOptions$acc = this.coreOptions.accountAbstractionConfig) === null || _this$coreOptions$acc === void 0 ? void 0 : _this$coreOptions$acc.smartAccountType,
                    authBuildEnv: this.coreOptions.authBuildEnv
                });
            } catch (e) {
                const error = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["serializeError"])(e);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Failed to fetch project configurations", error);
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("failed to fetch project configurations", error);
            }
            // init config
            this.initAccountAbstractionConfig(projectConfig);
            this.initChainsConfig(projectConfig);
            this.initCachedConnectorAndChainId();
            this.initUIConfig(projectConfig);
            this.initWalletServicesConfig(projectConfig);
            this.initSessionTimeConfig(projectConfig);
            this.analytics.setGlobalProperties({
                team_id: projectConfig.teamId
            });
            trackData = this.getInitializationTrackData();
            // setup common JRPC provider
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["withAbort"])(()=>this.setupCommonJRPCProvider(), signal);
            // initialize connectors
            this.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTORS_UPDATED, async ({ connectors: newConnectors })=>{
                const onAbortHandler = ()=>{
                    var _this$connectors;
                    if (((_this$connectors = this.connectors) === null || _this$connectors === void 0 ? void 0 : _this$connectors.length) > 0) {
                        this.cleanup();
                    }
                };
                await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["withAbort"])(()=>Promise.all(newConnectors.map(this.setupConnector.bind(this))), signal, onAbortHandler);
                // emit connector ready event
                if (this.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY) {
                    this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
                    this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].READY);
                }
            });
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["withAbort"])(()=>this.loadConnectors({
                    projectConfig
                }), signal);
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["withAbort"])(()=>this.initPlugins(), signal);
            // track completion event
            const authConnector = this.getConnector(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH);
            trackData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, trackData), {}, {
                connectors: this.connectors.map((connector)=>connector.name),
                plugins: Object.keys(this.plugins),
                auth_ux_mode: (authConnector === null || authConnector === void 0 || (_authConnector$authIn = authConnector.authInstance) === null || _authConnector$authIn === void 0 || (_authConnector$authIn = _authConnector$authIn.options) === null || _authConnector$authIn === void 0 ? void 0 : _authConnector$authIn.uxMode) || ((_this$coreOptions$uiC = this.coreOptions.uiConfig) === null || _this$coreOptions$uiC === void 0 ? void 0 : _this$coreOptions$uiC.uxMode)
            });
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].SDK_INITIALIZATION_COMPLETED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, trackData), {}, {
                duration: Date.now() - startTime
            }));
        } catch (error) {
            if (error instanceof DOMException && error.name === "AbortError") return;
            // track failure event
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].SDK_INITIALIZATION_FAILED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, trackData), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getErrorAnalyticsProperties"])(error)), {}, {
                duration: Date.now() - startTime
            }));
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Failed to initialize modal", error);
            throw error;
        }
    }
    // we need to take into account the chainNamespace as for external connectors, same connector name can be used for multiple chain namespaces
    getConnector(connectorName, chainNamespace) {
        return this.connectors.find((connector)=>{
            if (connector.name !== connectorName) return false;
            if (chainNamespace) {
                if (connector.connectorNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["CONNECTOR_NAMESPACES"].MULTICHAIN) return true;
                return connector.connectorNamespace === chainNamespace;
            }
            return true;
        }) || null;
    }
    clearCache() {
        this.setState({
            connectedConnectorName: null,
            cachedConnector: null,
            currentChainId: null,
            idToken: null
        });
    }
    async cleanup() {
        for (const connector of this.connectors){
            if (connector.cleanup) await connector.cleanup();
        }
    }
    async switchChain(params) {
        var _this$currentChain2;
        if (params.chainId === ((_this$currentChain2 = this.currentChain) === null || _this$currentChain2 === void 0 ? void 0 : _this$currentChain2.chainId)) return;
        const newChainConfig = this.coreOptions.chains.find((x)=>x.chainId === params.chainId);
        if (!newChainConfig) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("Invalid chainId");
        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTED_STATUSES"].includes(this.status) && this.connectedConnector) {
            await this.connectedConnector.switchChain(params);
            return;
        }
        if (this.commonJRPCProvider) {
            await this.commonJRPCProvider.switchChain(params);
            return;
        }
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady(`No wallet is ready`);
    }
    /**
   * Connect to a specific wallet connector
   * @param connectorName - Key of the wallet connector to use.
   */ async connectTo(connectorName, loginParams, loginMode) {
        this.loginMode = loginMode || "no-modal";
        const connector = this.getConnector(connectorName, loginParams === null || loginParams === void 0 ? void 0 : loginParams.chainNamespace);
        if (!connector || !this.commonJRPCProvider) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notFound(`Please add wallet connector for ${connectorName} wallet, before connecting`);
        const initialChain = this.getInitialChainIdForConnector(connector);
        const finalLoginParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, loginParams), {}, {
            chainId: initialChain.chainId,
            getIdentityToken: this.coreOptions.initialAuthenticationMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_INITIAL_AUTHENTICATION_MODE"].CONNECT_AND_SIGN
        });
        // track connection started event
        const startTime = Date.now();
        let eventData;
        if (connectorName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH) {
            var _authInstance;
            const authLoginParams = loginParams;
            const authConnectionConfig = connector.getOAuthProviderConfig({
                authConnection: authLoginParams.authConnection,
                authConnectionId: authLoginParams.authConnectionId,
                groupedAuthConnectionId: authLoginParams.groupedAuthConnectionId
            });
            eventData = {
                connector: connectorName,
                connector_type: connector.type,
                chain_id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getCaipChainId"])(initialChain),
                chain_name: initialChain.displayName,
                chain_namespace: initialChain.chainNamespace,
                auth_connection: authLoginParams.authConnection,
                auth_connection_id: authLoginParams.authConnectionId,
                group_auth_connection_id: authLoginParams.groupedAuthConnectionId,
                mfa_level: authLoginParams.mfaLevel,
                wallet_key_enabled: authLoginParams.getWalletKey,
                extra_login_options_enabled: Boolean(authLoginParams.extraLoginOptions),
                dapp_share_enabled: Boolean(authLoginParams.dappShare),
                curve: authLoginParams.curve,
                auth_dapp_url: authLoginParams.dappUrl,
                is_sfa: Boolean(authLoginParams.idToken),
                is_default_auth_connection: authConnectionConfig === null || authConnectionConfig === void 0 ? void 0 : authConnectionConfig.isDefault,
                auth_ux_mode: (_authInstance = connector.authInstance) === null || _authInstance === void 0 || (_authInstance = _authInstance.options) === null || _authInstance === void 0 ? void 0 : _authInstance.uxMode
            };
        } else {
            eventData = {
                connector: connectorName,
                connector_type: connector.type,
                is_injected: connector.isInjected,
                chain_id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getCaipChainId"])(initialChain),
                chain_name: initialChain.displayName,
                chain_namespace: initialChain.chainNamespace
            };
        }
        // track connection started event
        this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_STARTED, eventData);
        return new Promise((resolve, reject)=>{
            let connectedEventCompleted = false;
            let authorizedEventReceived = false;
            const cleanup = ()=>{
                this.removeListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTED, onConnected);
                this.removeListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].ERRORED, onErrored);
                this.removeListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZED, onAuthorized);
            };
            const checkCompletion = async ()=>{
                // In CONNECT_AND_SIGN mode, wait for both connected event and authorized event
                if (finalLoginParams.getIdentityToken) {
                    if (connectedEventCompleted && authorizedEventReceived) {
                        await completeConnection();
                    }
                } else {
                    // In CONNECT_ONLY mode, just wait for connected event
                    if (connectedEventCompleted) {
                        await completeConnection();
                    }
                }
            };
            const completeConnection = async ()=>{
                try {
                    // track connection completed event
                    const userInfo = await connector.getUserInfo();
                    this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_COMPLETED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, eventData), {}, {
                        is_mfa_enabled: userInfo === null || userInfo === void 0 ? void 0 : userInfo.isMfaEnabled,
                        duration: Date.now() - startTime
                    }));
                    cleanup();
                    resolve(this.provider);
                } catch (error) {
                    cleanup();
                    reject(error);
                }
            };
            const onConnected = async ()=>{
                connectedEventCompleted = true;
                await checkCompletion();
            };
            const onAuthorized = async ()=>{
                authorizedEventReceived = true;
                await checkCompletion();
            };
            const onErrored = async (err)=>{
                // track connection failed event
                this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_FAILED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, eventData), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getErrorAnalyticsProperties"])(err)), {}, {
                    duration: Date.now() - startTime
                }));
                cleanup();
                reject(err);
            };
            this.once(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTED, onConnected);
            if (finalLoginParams.getIdentityToken) {
                this.once(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZED, onAuthorized);
            }
            this.once(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].ERRORED, onErrored);
            connector.connect(finalLoginParams);
            this.setCurrentChain(initialChain.chainId);
        });
    }
    async logout(options = {
        cleanup: false
    }) {
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTED_STATUSES"].includes(this.status) || !this.connectedConnector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError(`No wallet is connected`);
        if (this.connectedConnector.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].DISCONNECTING) return;
        await this.connectedConnector.disconnect(options);
    }
    async getUserInfo() {
        var _this$connectedConnec;
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("Getting user info", this.status, (_this$connectedConnec = this.connectedConnector) === null || _this$connectedConnec === void 0 ? void 0 : _this$connectedConnec.name);
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CAN_AUTHORIZE_STATUSES"].includes(this.status) || !this.connectedConnector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError(`No wallet is connected`);
        return this.connectedConnector.getUserInfo();
    }
    async enableMFA(loginParams) {
        var _authConnector$authIn2;
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTED_STATUSES"].includes(this.status) || !this.connectedConnector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError(`No wallet is connected`);
        if (this.connectedConnector.name !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].unsupportedOperation(`EnableMFA is not supported for this connector.`);
        const authConnector = this.connectedConnector;
        const trackData = {
            connector: this.connectedConnector.name,
            auth_ux_mode: (_authConnector$authIn2 = authConnector.authInstance) === null || _authConnector$authIn2 === void 0 || (_authConnector$authIn2 = _authConnector$authIn2.options) === null || _authConnector$authIn2 === void 0 ? void 0 : _authConnector$authIn2.uxMode
        };
        try {
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].MFA_ENABLEMENT_STARTED, trackData);
            await this.connectedConnector.enableMFA(loginParams);
        } catch (error) {
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].MFA_ENABLEMENT_FAILED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, trackData), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getErrorAnalyticsProperties"])(error)));
            throw error;
        }
    }
    async manageMFA(loginParams) {
        var _authConnector$authIn3;
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTED_STATUSES"].includes(this.status) || !this.connectedConnector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError(`No wallet is connected`);
        if (this.connectedConnector.name !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].unsupportedOperation(`ManageMFA is not supported for this connector.`);
        const authConnector = this.connectedConnector;
        const trackData = {
            connector: this.connectedConnector.name,
            auth_ux_mode: (_authConnector$authIn3 = authConnector.authInstance) === null || _authConnector$authIn3 === void 0 || (_authConnector$authIn3 = _authConnector$authIn3.options) === null || _authConnector$authIn3 === void 0 ? void 0 : _authConnector$authIn3.uxMode
        };
        try {
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].MFA_MANAGEMENT_SELECTED, trackData);
            await this.connectedConnector.manageMFA(loginParams);
        } catch (error) {
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].MFA_MANAGEMENT_FAILED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, trackData), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getErrorAnalyticsProperties"])(error)));
            throw error;
        }
    }
    async getIdentityToken() {
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$connectorStatus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CAN_AUTHORIZE_STATUSES"].includes(this.status) || !this.connectedConnector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError(`No wallet is connected`);
        const trackData = {
            connector: this.connectedConnector.name
        };
        try {
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].IDENTITY_TOKEN_STARTED, trackData);
            const identityToken = await this.connectedConnector.getIdentityToken();
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].IDENTITY_TOKEN_COMPLETED, trackData);
            return identityToken;
        } catch (error) {
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].IDENTITY_TOKEN_FAILED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, trackData), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getErrorAnalyticsProperties"])(error)));
            throw error;
        }
    }
    getPlugin(name) {
        return this.plugins[name] || null;
    }
    setAnalyticsProperties(properties) {
        this.analytics.setGlobalProperties(properties);
    }
    initChainsConfig(projectConfig) {
        // merge chains from project config with core options, core options chains will take precedence over project config chains
        const chainMap = new Map();
        const allChains = [
            ...projectConfig.chains || [],
            ...this.coreOptions.chains || []
        ];
        for (const chain of allChains){
            const existingChain = chainMap.get(chain.chainId);
            if (!existingChain) chainMap.set(chain.chainId, chain);
            else chainMap.set(chain.chainId, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, existingChain), chain));
        }
        this.coreOptions.chains = Array.from(chainMap.values());
        // validate chains and namespaces
        if (this.coreOptions.chains.length === 0) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io");
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");
        }
        const validChainNamespaces = new Set(Object.values(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"]));
        for (const chain of this.coreOptions.chains){
            if (!chain.chainNamespace || !validChainNamespaces.has(chain.chainNamespace)) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(`Please provide a valid chainNamespace in chains for chain ${chain.chainId}`);
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams(`Please provide a valid chainNamespace in chains for chain ${chain.chainId}`);
            }
            if (chain.chainNamespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].OTHER && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isHexStrict"])(chain.chainId)) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(`Please provide a valid chainId in chains for chain ${chain.chainId}`);
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams(`Please provide a valid chainId as hex string in chains for chain ${chain.chainId}`);
            }
            if (chain.chainNamespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].OTHER) {
                try {
                    new URL(chain.rpcTarget);
                } catch (error) {
                    // TODO: add support for chain.wsTarget
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(`Please provide a valid rpcTarget in chains for chain ${chain.chainId}`, error);
                    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams(`Please provide a valid rpcTarget in chains for chain ${chain.chainId}`);
                }
            }
        }
        // if AA is enabled, filter out chains that are not AA-supported
        if (this.coreOptions.accountAbstractionConfig) {
            // write a for loop over accountAbstractionConfig.chains and check if the chainId is valid
            if (this.coreOptions.accountAbstractionConfig.chains.length === 0) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");
            }
            for (const chain of this.coreOptions.accountAbstractionConfig.chains){
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isHexStrict"])(chain.chainId)) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${chain.chainId}`);
                    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${chain.chainId}`);
                }
                try {
                    var _chain$bundlerConfig;
                    new URL((_chain$bundlerConfig = chain.bundlerConfig) === null || _chain$bundlerConfig === void 0 ? void 0 : _chain$bundlerConfig.url);
                } catch (error) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${chain.chainId}`, error);
                    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${chain.chainId}`);
                }
                if (!chainMap.has(chain.chainId)) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${chain.chainId}`);
                    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${chain.chainId}`);
                }
            }
        // const aaSupportedChainIds = new Set(
        //   this.coreOptions.accountAbstractionConfig?.chains
        //     ?.filter((chain) => chain.chainId && chain.bundlerConfig?.url)
        //     .map((chain) => chain.chainId) || []
        // );
        // this.coreOptions.chains = this.coreOptions.chains.filter(
        //   (chain) => chain.chainNamespace !== CHAIN_NAMESPACES.EIP155 || aaSupportedChainIds.has(chain.chainId)
        // );
        // if (this.coreOptions.chains.length === 0) {
        //   log.error("Account Abstraction is enabled but no supported chains found");
        //   throw WalletInitializationError.invalidParams("Account Abstraction is enabled but no supported chains found");
        // }
        }
    }
    initAccountAbstractionConfig(projectConfig) {
        var _this$coreOptions$acc2;
        const isAAEnabled = Boolean(this.coreOptions.accountAbstractionConfig || (projectConfig === null || projectConfig === void 0 ? void 0 : projectConfig.smartAccounts));
        if (!isAAEnabled) return;
        // merge smart account config from project config with core options, core options will take precedence over project config
        const _ref = (projectConfig === null || projectConfig === void 0 ? void 0 : projectConfig.smartAccounts) || {}, { walletScope } = _ref, configWithoutWalletScope = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectWithoutProperties$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_ref, _excluded);
        const aaChainMap = new Map();
        const allAaChains = [
            ...(configWithoutWalletScope === null || configWithoutWalletScope === void 0 ? void 0 : configWithoutWalletScope.chains) || [],
            ...((_this$coreOptions$acc2 = this.coreOptions.accountAbstractionConfig) === null || _this$coreOptions$acc2 === void 0 ? void 0 : _this$coreOptions$acc2.chains) || []
        ];
        for (const chain of allAaChains){
            const existingChain = aaChainMap.get(chain.chainId);
            if (!existingChain) aaChainMap.set(chain.chainId, chain);
            else aaChainMap.set(chain.chainId, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, existingChain), chain));
        }
        this.coreOptions.accountAbstractionConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(configWithoutWalletScope || {}, this.coreOptions.accountAbstractionConfig || {})), {}, {
            chains: Array.from(aaChainMap.values())
        });
        // determine if we should use AA with external wallet
        if (this.coreOptions.useAAWithExternalWallet === undefined) {
            this.coreOptions.useAAWithExternalWallet = walletScope === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SMART_ACCOUNT_WALLET_SCOPE"].ALL;
        }
    }
    initUIConfig(projectConfig) {
        this.coreOptions.uiConfig = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].all([
            {
                mode: "light",
                uxMode: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["UX_MODE"].POPUP
            },
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cloneDeep"])(projectConfig.whitelabel || {}),
            this.coreOptions.uiConfig || {}
        ]);
    }
    initSessionTimeConfig(projectConfig) {
        if (this.coreOptions.sessionTime) return;
        if (projectConfig.sessionTime) this.coreOptions.sessionTime = projectConfig.sessionTime;
    }
    initCachedConnectorAndChainId() {
        // init chainId using cached chainId if it exists and is valid, otherwise use the defaultChainId or the first chain
        const cachedChainId = this.state.currentChainId;
        const isCachedChainIdValid = cachedChainId && this.coreOptions.chains.some((chain)=>chain.chainId === cachedChainId);
        if (this.coreOptions.defaultChainId && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isHexStrict"])(this.coreOptions.defaultChainId)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("Please provide a valid defaultChainId in constructor");
        const currentChainId = isCachedChainIdValid ? cachedChainId : this.coreOptions.defaultChainId || this.coreOptions.chains[0].chainId;
        this.setState({
            currentChainId
        });
    }
    initWalletServicesConfig(projectConfig) {
        var _this$coreOptions$wal, _this$coreOptions$wal2, _this$coreOptions$wal3, _ref2, _this$coreOptions$wal4, _this$coreOptions$wal5;
        const { enableKeyExport, walletUi } = projectConfig;
        const { enablePortfolioWidget = false, enableTokenDisplay = true, enableNftDisplay = true, enableWalletConnect = true, enableBuyButton = true, enableSendButton = true, enableSwapButton = true, enableReceiveButton = true, enableShowAllTokensButton = true, enableConfirmationModal = false, enableDefiPositionsDisplay = true, portfolioWidgetPosition = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Embed$2f$IEmbedController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BUTTON_POSITION"].BOTTOM_LEFT, defaultPortfolio = "token" } = walletUi || {};
        const projectConfigWhiteLabel = {
            showWidgetButton: enablePortfolioWidget,
            hideNftDisplay: !enableNftDisplay,
            hideTokenDisplay: !enableTokenDisplay,
            hideTransfers: !enableSendButton,
            hideTopup: !enableBuyButton,
            hideReceive: !enableReceiveButton,
            hideSwap: !enableSwapButton,
            hideShowAllTokens: !enableShowAllTokensButton,
            hideWalletConnect: !enableWalletConnect,
            hideDefiPositionsDisplay: !enableDefiPositionsDisplay,
            buttonPosition: portfolioWidgetPosition,
            defaultPortfolio
        };
        const whiteLabel = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].all([
            projectConfigWhiteLabel,
            ((_this$coreOptions$wal = this.coreOptions.walletServicesConfig) === null || _this$coreOptions$wal === void 0 ? void 0 : _this$coreOptions$wal.whiteLabel) || {}
        ]);
        const confirmationStrategy = (_this$coreOptions$wal2 = (_this$coreOptions$wal3 = this.coreOptions.walletServicesConfig) === null || _this$coreOptions$wal3 === void 0 ? void 0 : _this$coreOptions$wal3.confirmationStrategy) !== null && _this$coreOptions$wal2 !== void 0 ? _this$coreOptions$wal2 : enableConfirmationModal ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Embed$2f$IEmbedController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONFIRMATION_STRATEGY"].MODAL : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Embed$2f$IEmbedController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONFIRMATION_STRATEGY"].AUTO_APPROVE;
        const isKeyExportEnabled = (_ref2 = (_this$coreOptions$wal4 = (_this$coreOptions$wal5 = this.coreOptions.walletServicesConfig) === null || _this$coreOptions$wal5 === void 0 ? void 0 : _this$coreOptions$wal5.enableKeyExport) !== null && _this$coreOptions$wal4 !== void 0 ? _this$coreOptions$wal4 : enableKeyExport) !== null && _ref2 !== void 0 ? _ref2 : true;
        this.coreOptions.walletServicesConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, this.coreOptions.walletServicesConfig), {}, {
            confirmationStrategy,
            whiteLabel,
            enableKeyExport: isKeyExportEnabled
        });
    }
    getInitializationTrackData() {
        try {
            var _this$coreOptions$cha3, _this$coreOptions$cha4, _this$coreOptions$cha5, _this$coreOptions$cha6, _this$coreOptions$uiC2;
            const defaultChain = (_this$coreOptions$cha3 = this.coreOptions.chains) === null || _this$coreOptions$cha3 === void 0 ? void 0 : _this$coreOptions$cha3.find((chain)=>chain.chainId === this.coreOptions.defaultChainId);
            const rpcHostnames = Array.from(new Set((_this$coreOptions$cha4 = this.coreOptions.chains) === null || _this$coreOptions$cha4 === void 0 ? void 0 : _this$coreOptions$cha4.map((chain)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getHostname"])(chain.rpcTarget)))).filter(Boolean);
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({
                chain_ids: (_this$coreOptions$cha5 = this.coreOptions.chains) === null || _this$coreOptions$cha5 === void 0 ? void 0 : _this$coreOptions$cha5.map((chain)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getCaipChainId"])(chain)),
                chain_names: (_this$coreOptions$cha6 = this.coreOptions.chains) === null || _this$coreOptions$cha6 === void 0 ? void 0 : _this$coreOptions$cha6.map((chain)=>chain.displayName),
                chain_rpc_targets: rpcHostnames,
                default_chain_id: defaultChain ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getCaipChainId"])(defaultChain) : undefined,
                default_chain_name: defaultChain === null || defaultChain === void 0 ? void 0 : defaultChain.displayName,
                logging_enabled: this.coreOptions.enableLogging,
                storage_type: this.coreOptions.storageType,
                session_time: this.coreOptions.sessionTime,
                sfa_key_enabled: this.coreOptions.useSFAKey,
                mipd_enabled: this.coreOptions.multiInjectedProviderDiscovery,
                private_key_provider_enabled: Boolean(this.coreOptions.privateKeyProvider),
                ssr_enabled: this.coreOptions.ssr,
                auth_build_env: this.coreOptions.authBuildEnv,
                auth_ux_mode: (_this$coreOptions$uiC2 = this.coreOptions.uiConfig) === null || _this$coreOptions$uiC2 === void 0 ? void 0 : _this$coreOptions$uiC2.uxMode,
                auth_mfa_level: this.coreOptions.mfaLevel,
                auth_mfa_settings: Object.keys(this.coreOptions.mfaSettings || {}),
                aa_enabled_for_external_wallets: this.coreOptions.accountAbstractionConfig ? this.coreOptions.useAAWithExternalWallet : undefined
            }, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getWhitelabelAnalyticsProperties"])(this.coreOptions.uiConfig)), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getAaAnalyticsProperties"])(this.coreOptions.accountAbstractionConfig)), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getWalletServicesAnalyticsProperties"])(this.coreOptions.walletServicesConfig));
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error("Failed to get initialization track data", error);
            return {};
        }
    }
    async setupCommonJRPCProvider() {
        this.commonJRPCProvider = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$CommonJRPCProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CommonJRPCProvider"].getProviderInstance({
            chain: this.currentChain,
            chains: this.coreOptions.chains
        });
        // sync chainId
        this.commonJRPCProvider.on("chainChanged", (chainId)=>this.setCurrentChain(chainId));
    }
    async setupConnector(connector) {
        this.subscribeToConnectorEvents(connector);
        try {
            const initialChain = this.getInitialChainIdForConnector(connector);
            const autoConnect = this.checkIfAutoConnect(connector);
            await connector.init({
                autoConnect,
                chainId: initialChain.chainId,
                getIdentityToken: this.coreOptions.initialAuthenticationMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_INITIAL_AUTHENTICATION_MODE"].CONNECT_AND_SIGN
            });
        } catch (e) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(e, connector.name);
        }
    }
    async loadConnectors({ projectConfig, modalMode }) {
        var _this$coreOptions$mul;
        // always add auth connector
        const connectorFns = [
            ...this.coreOptions.connectors || [],
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$auth$2d$connector$2f$authConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["authConnector"])()
        ];
        const config = {
            projectConfig,
            coreOptions: this.coreOptions,
            analytics: this.analytics
        };
        // add injected connectors
        const isExternalWalletEnabled = Boolean(projectConfig.externalWalletAuth);
        const isMipdEnabled = isExternalWalletEnabled && ((_this$coreOptions$mul = this.coreOptions.multiInjectedProviderDiscovery) !== null && _this$coreOptions$mul !== void 0 ? _this$coreOptions$mul : true);
        const chainNamespaces = new Set(this.coreOptions.chains.map((chain)=>chain.chainNamespace));
        // prioritize using MM connector over injected connector for EVM chains
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isBrowser"])() && chainNamespaces.has(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155)) {
            // only set headless to true if modal SDK is used, otherwise just use the modal from native Metamask SDK
            connectorFns.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$metamask$2d$connector$2f$metamaskConnector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["metaMaskConnector"])(modalMode ? {
                headless: true
            } : undefined));
        }
        if (isMipdEnabled && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isBrowser"])()) {
            // Solana chains
            if (chainNamespaces.has(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA)) {
                const { createSolanaMipd, hasSolanaWalletStandardFeatures, walletStandardConnector } = await __turbopack_context__.A("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/injected-solana-connector/index.js [app-ssr] (ecmascript, async loader)");
                const solanaMipd = createSolanaMipd();
                // subscribe to new injected connectors
                solanaMipd.on("register", async (...wallets)=>{
                    const newConnectors = wallets.filter(hasSolanaWalletStandardFeatures).map((wallet)=>walletStandardConnector(wallet)(config));
                    this.setConnectors(newConnectors);
                });
                connectorFns.push(...solanaMipd.get().filter((wallet)=>hasSolanaWalletStandardFeatures(wallet)).map(walletStandardConnector));
            }
            // EVM chains
            if (chainNamespaces.has(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155)) {
                const { createMipd, injectedEvmConnector } = await __turbopack_context__.A("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/injected-evm-connector/index.js [app-ssr] (ecmascript, async loader)");
                const evmMipd = createMipd();
                // subscribe to new injected connectors
                evmMipd.subscribe((providerDetails)=>{
                    const newConnectors = providerDetails.map((providerDetail)=>injectedEvmConnector(providerDetail)(config));
                    this.setConnectors(newConnectors);
                });
                connectorFns.push(...evmMipd.getProviders().map(injectedEvmConnector));
            }
        }
        // add WalletConnectV2 connector if external wallets are enabled
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isBrowser"])() && isExternalWalletEnabled && (chainNamespaces.has(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA) || chainNamespaces.has(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155))) {
            const { walletConnectV2Connector } = await __turbopack_context__.A("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/index.js [app-ssr] (ecmascript, async loader)");
            connectorFns.push(walletConnectV2Connector());
        }
        const connectors = connectorFns.map((connectorFn)=>connectorFn(config));
        this.setConnectors(connectors);
    }
    async initPlugins() {
        const { chains, plugins } = this.coreOptions;
        const pluginFns = plugins || [];
        const isWsSupportedChain = chains.some((x)=>x.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155 || x.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA);
        if (isWsSupportedChain) {
            pluginFns.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$plugins$2f$wallet$2d$services$2d$plugin$2f$plugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["walletServicesPlugin"])());
        }
        for (const pluginFn of pluginFns){
            const plugin = pluginFn();
            if (!this.plugins[plugin.name]) this.plugins[plugin.name] = plugin;
        }
    }
    setConnectors(connectors) {
        const getConnectorKey = (connector)=>`${connector.connectorNamespace}-${connector.name}`;
        const connectorSet = new Set(this.connectors.map(getConnectorKey));
        const newConnectors = connectors.map((connector)=>{
            const key = getConnectorKey(connector);
            if (connectorSet.has(key)) return null;
            connectorSet.add(key);
            return connector;
        }).filter((connector)=>connector !== null);
        if (newConnectors.length > 0) {
            this.connectors = [
                ...this.connectors,
                ...newConnectors
            ];
            // only emit new connectors
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTORS_UPDATED, {
                connectors: newConnectors
            });
        }
    }
    subscribeToConnectorEvents(connector) {
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTED, async (data)=>{
            var _this$currentChain3, _accountAbstractionCo;
            if (!this.commonJRPCProvider) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notFound(`CommonJrpcProvider not found`);
            const { provider, identityTokenInfo } = data;
            if (identityTokenInfo) {
                this.setState({
                    idToken: identityTokenInfo.idToken
                });
            }
            // when ssr is enabled, we need to get the idToken from the connector.
            if (this.coreOptions.ssr) {
                try {
                    const data = await connector.getIdentityToken();
                    if (!data.idToken) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("No idToken found");
                    this.setState({
                        idToken: data.idToken
                    });
                } catch (error) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(error);
                    this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].ERRORED;
                    this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].ERRORED, error, this.loginMode);
                    return;
                }
            }
            let finalProvider = provider.provider || provider;
            // setup AA provider if AA is enabled
            const { accountAbstractionConfig } = this.coreOptions;
            const isAaSupportedForCurrentChain = ((_this$currentChain3 = this.currentChain) === null || _this$currentChain3 === void 0 ? void 0 : _this$currentChain3.chainNamespace) === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155 && (accountAbstractionConfig === null || accountAbstractionConfig === void 0 || (_accountAbstractionCo = accountAbstractionConfig.chains) === null || _accountAbstractionCo === void 0 ? void 0 : _accountAbstractionCo.some((chain)=>{
                var _this$currentChain4;
                return chain.chainId === ((_this$currentChain4 = this.currentChain) === null || _this$currentChain4 === void 0 ? void 0 : _this$currentChain4.chainId);
            }));
            if (isAaSupportedForCurrentChain && (data.connector === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH || this.coreOptions.useAAWithExternalWallet)) {
                var _accountAbstractionCo2;
                const { accountAbstractionProvider, toEoaProvider } = await __turbopack_context__.A("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/account-abstraction-provider/index.js [app-ssr] (ecmascript, async loader)");
                // for embedded wallets, we use ws-embed provider which is AA provider, need to derive EOA provider
                const eoaProvider = data.connector === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH ? await toEoaProvider(provider) : provider;
                const aaChainIds = new Set((accountAbstractionConfig === null || accountAbstractionConfig === void 0 || (_accountAbstractionCo2 = accountAbstractionConfig.chains) === null || _accountAbstractionCo2 === void 0 ? void 0 : _accountAbstractionCo2.map((chain)=>chain.chainId)) || []);
                const aaProvider = await accountAbstractionProvider({
                    accountAbstractionConfig,
                    provider: eoaProvider,
                    chain: this.currentChain,
                    chains: this.coreOptions.chains.filter((chain)=>aaChainIds.has(chain.chainId)),
                    useProviderAsTransport: data.connector === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH
                });
                this.aaProvider = aaProvider;
                // if external wallet is used and AA is enabled for external wallets, use AA provider
                // for embedded wallets, we use ws-embed provider which already supports AA
                if (data.connector !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].AUTH && this.coreOptions.useAAWithExternalWallet) {
                    finalProvider = this.aaProvider;
                }
            }
            this.commonJRPCProvider.updateProviderEngineProxy(finalProvider);
            this.setState({
                connectedConnectorName: data.connector
            });
            this.cacheWallet(data.connector);
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTED;
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("connected", this.status, this.connectedConnectorName);
            this.connectToPlugins((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, data), {}, {
                connector: data.connector
            }));
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, data), {}, {
                loginMode: this.loginMode
            }));
        });
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].DISCONNECTED, async ()=>{
            // re-setup commonJRPCProvider
            this.commonJRPCProvider.removeAllListeners();
            this.setupCommonJRPCProvider();
            // get back to ready state for rehydrating.
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
            const cachedConnector = this.state.cachedConnector;
            if (this.connectedConnectorName === cachedConnector) {
                this.clearCache();
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("disconnected", this.status, this.connectedConnectorName);
            await Promise.all(Object.values(this.plugins).map(async (plugin)=>{
                if (!plugin.SUPPORTED_CONNECTORS.includes(connector.name)) return;
                if (plugin.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_STATUS"].CONNECTED) return;
                return plugin.disconnect().catch((error)=>{
                    // swallow error if connector doesn't supports this plugin.
                    if (error.code === 5211) {
                        return;
                    }
                    // throw error;
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(error);
                });
            }));
            this.setState({
                connectedConnectorName: null
            });
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].DISCONNECTED);
        });
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTING, (data)=>{
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING;
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTING, data);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("connecting", this.status, this.connectedConnectorName);
        });
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].ERRORED, (data)=>{
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].ERRORED;
            this.clearCache();
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].ERRORED, data, this.loginMode);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("errored", this.status, this.connectedConnectorName);
        });
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].REHYDRATION_ERROR, (error)=>{
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
            this.clearCache();
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].REHYDRATION_ERROR, error);
        });
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTOR_DATA_UPDATED, (data)=>{
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("connector data updated", data);
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTOR_DATA_UPDATED, data);
        });
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CACHE_CLEAR, (data)=>{
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("connector cache clear", data);
            this.clearCache();
        });
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].MFA_ENABLED, (isMFAEnabled)=>{
            var _authConnector$authIn4;
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("mfa enabled", isMFAEnabled);
            const authConnector = this.connectedConnector;
            // mfa_enabled event is only emitted when using "popup" ux_mode
            // TODO: handle mfa_enabled event when using "redirect" ux_mode
            this.analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].MFA_ENABLEMENT_COMPLETED, {
                connector: this.connectedConnector.name,
                auth_ux_mode: (_authConnector$authIn4 = authConnector.authInstance) === null || _authConnector$authIn4 === void 0 || (_authConnector$authIn4 = _authConnector$authIn4.options) === null || _authConnector$authIn4 === void 0 ? void 0 : _authConnector$authIn4.uxMode,
                is_mfa_enabled: isMFAEnabled
            });
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].MFA_ENABLED, isMFAEnabled);
        });
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZING, (data)=>{
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZING;
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZING, data);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("authorizing", this.status, this.connectedConnectorName);
        });
        connector.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZED, (data)=>{
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZED;
            this.setState({
                idToken: data.identityTokenInfo.idToken
            });
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZED, data);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].debug("authorized", this.status, this.connectedConnectorName);
        });
    }
    checkInitRequirements() {
        if (this.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Connector is already initialized");
    }
    checkIfAutoConnect(connector) {
        var _this$currentChain5;
        let autoConnect = this.cachedConnector === connector.name;
        if (autoConnect && (_this$currentChain5 = this.currentChain) !== null && _this$currentChain5 !== void 0 && _this$currentChain5.chainNamespace) {
            if (connector.connectorNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["CONNECTOR_NAMESPACES"].MULTICHAIN) autoConnect = true;
            else autoConnect = connector.connectorNamespace === this.currentChain.chainNamespace;
        }
        return autoConnect;
    }
    /**
   * Gets the initial chain configuration for a connector
   * @throws WalletInitializationError If no chain is found for the connector's namespace
   */ getInitialChainIdForConnector(connector) {
        var _initialChain;
        let initialChain = this.currentChain;
        if (((_initialChain = initialChain) === null || _initialChain === void 0 ? void 0 : _initialChain.chainNamespace) !== connector.connectorNamespace && connector.connectorNamespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["CONNECTOR_NAMESPACES"].MULTICHAIN) {
            initialChain = this.coreOptions.chains.find((x)=>x.chainNamespace === connector.connectorNamespace);
            if (!initialChain) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams(`No chain found for ${connector.connectorNamespace}`);
        }
        return initialChain;
    }
    cacheWallet(walletName) {
        this.setState({
            cachedConnector: walletName
        });
    }
    setCurrentChain(chainId) {
        if (chainId === this.currentChainId) return;
        const newChain = this.coreOptions.chains.find((chain)=>chain.chainId === chainId);
        if (!newChain) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams(`Invalid chainId: ${chainId}`);
        this.setState({
            currentChainId: chainId
        });
    }
    connectToPlugins(data) {
        Object.values(this.plugins).map(async (plugin)=>{
            try {
                var _this$currentChain6;
                // skip if it's not compatible with the connector
                if (!plugin.SUPPORTED_CONNECTORS.includes(data.connector)) return;
                // skip if it's not compatible with the current chain
                if (plugin.pluginNamespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_NAMESPACES"].MULTICHAIN && plugin.pluginNamespace !== ((_this$currentChain6 = this.currentChain) === null || _this$currentChain6 === void 0 ? void 0 : _this$currentChain6.chainNamespace)) return;
                // skip if it's already connected
                if (plugin.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$plugin$2f$IPlugin$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLUGIN_STATUS"].CONNECTED) return;
                await plugin.initWithWeb3Auth(this, this.coreOptions.uiConfig, this.analytics);
                await plugin.connect();
            } catch (error) {
                // swallow error if connector connector doesn't supports this plugin.
                if (error.code === 5211) {
                    return;
                }
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["log"].error(error);
            }
        });
    }
    setState(newState) {
        this.state = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, this.state), newState);
        this.storage.setItem(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WEB3AUTH_STATE_STORAGE_KEY"], JSON.stringify(this.state));
    }
    loadState(initialState) {
        if (initialState) {
            this.state = initialState;
            return;
        }
        const state = this.storage.getItem(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WEB3AUTH_STATE_STORAGE_KEY"]);
        if (!state) return;
        this.state = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$deserialize$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deserialize"])(state);
    }
    getStorageMethod() {
        if (this.coreOptions.ssr || this.coreOptions.storageType === "cookies") return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$cookie$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cookieStorage"])({
            expiry: this.coreOptions.sessionTime
        });
        if (this.coreOptions.storageType === "session" && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["storageAvailable"])("sessionStorage")) return window.sessionStorage;
        if (this.coreOptions.storageType === "local" && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["storageAvailable"])("localStorage")) return window.localStorage;
        // If no storage is available, use a memory store.
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$browserStorage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MemoryStore"]();
    }
}
;
}),
];

//# sourceMappingURL=node_modules_%40web3auth_no-modal_dist_lib_esm_7914ea09._.js.map