module.exports = [
"[project]/node_modules/@segment/analytics-core/dist/esm/validation/helpers.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "exists",
    ()=>exists,
    "isFunction",
    ()=>isFunction,
    "isNumber",
    ()=>isNumber,
    "isPlainObject",
    ()=>isPlainObject,
    "isString",
    ()=>isString
]);
function isString(obj) {
    return typeof obj === 'string';
}
function isNumber(obj) {
    return typeof obj === 'number';
}
function isFunction(obj) {
    return typeof obj === 'function';
}
function exists(val) {
    return val !== undefined && val !== null;
}
function isPlainObject(obj) {
    return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase() === 'object';
} //# sourceMappingURL=helpers.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/logger/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CoreLogger",
    ()=>CoreLogger
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
;
var CoreLogger = function() {
    function CoreLogger() {
        this._logs = [];
    }
    CoreLogger.prototype.log = function(level, message, extras) {
        var time = new Date();
        this._logs.push({
            level: level,
            message: message,
            time: time,
            extras: extras
        });
    };
    Object.defineProperty(CoreLogger.prototype, "logs", {
        get: function() {
            return this._logs;
        },
        enumerable: false,
        configurable: true
    });
    CoreLogger.prototype.flush = function() {
        if (this.logs.length > 1) {
            var formatted = this._logs.reduce(function(logs, log) {
                var _a;
                var _b, _c;
                var line = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, log), {
                    json: JSON.stringify(log.extras, null, ' '),
                    extras: log.extras
                });
                delete line['time'];
                var key = (_c = (_b = log.time) === null || _b === void 0 ? void 0 : _b.toISOString()) !== null && _c !== void 0 ? _c : '';
                if (logs[key]) {
                    key = "".concat(key, "-").concat(Math.random());
                }
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, logs), (_a = {}, _a[key] = line, _a));
            }, {});
            // ie doesn't like console.table
            if (console.table) {
                console.table(formatted);
            } else {
                console.log(formatted);
            }
        } else {
            this.logs.forEach(function(logEntry) {
                var level = logEntry.level, message = logEntry.message, extras = logEntry.extras;
                if (level === 'info' || level === 'debug') {
                    console.log(message, extras !== null && extras !== void 0 ? extras : '');
                } else {
                    console[level](message, extras !== null && extras !== void 0 ? extras : '');
                }
            });
        }
        this._logs = [];
    };
    return CoreLogger;
}();
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/stats/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CoreStats",
    ()=>CoreStats,
    "NullStats",
    ()=>NullStats
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
;
var compactMetricType = function(type) {
    var enums = {
        gauge: 'g',
        counter: 'c'
    };
    return enums[type];
};
var CoreStats = function() {
    function CoreStats() {
        this.metrics = [];
    }
    CoreStats.prototype.increment = function(metric, by, tags) {
        if (by === void 0) {
            by = 1;
        }
        this.metrics.push({
            metric: metric,
            value: by,
            tags: tags !== null && tags !== void 0 ? tags : [],
            type: 'counter',
            timestamp: Date.now()
        });
    };
    CoreStats.prototype.gauge = function(metric, value, tags) {
        this.metrics.push({
            metric: metric,
            value: value,
            tags: tags !== null && tags !== void 0 ? tags : [],
            type: 'gauge',
            timestamp: Date.now()
        });
    };
    CoreStats.prototype.flush = function() {
        var formatted = this.metrics.map(function(m) {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, m), {
                tags: m.tags.join(',')
            });
        });
        // ie doesn't like console.table
        if (console.table) {
            console.table(formatted);
        } else {
            console.log(formatted);
        }
        this.metrics = [];
    };
    /**
     * compact keys for smaller payload
     */ CoreStats.prototype.serialize = function() {
        return this.metrics.map(function(m) {
            return {
                m: m.metric,
                v: m.value,
                t: m.tags,
                k: compactMetricType(m.type),
                e: m.timestamp
            };
        });
    };
    return CoreStats;
}();
;
var NullStats = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__extends"])(NullStats, _super);
    function NullStats() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NullStats.prototype.gauge = function() {
        var _args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            _args[_i] = arguments[_i];
        }
    };
    NullStats.prototype.increment = function() {
        var _args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            _args[_i] = arguments[_i];
        }
    };
    NullStats.prototype.flush = function() {
        var _args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            _args[_i] = arguments[_i];
        }
    };
    NullStats.prototype.serialize = function() {
        var _args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            _args[_i] = arguments[_i];
        }
        return [];
    };
    return NullStats;
}(CoreStats);
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/context/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ContextCancelation",
    ()=>ContextCancelation,
    "CoreContext",
    ()=>CoreContext
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lukeed$2f$uuid$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lukeed/uuid/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$dset$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/dset/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$logger$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/logger/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$stats$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/stats/index.js [app-ssr] (ecmascript)");
;
;
;
;
var ContextCancelation = function() {
    function ContextCancelation(options) {
        var _a, _b, _c;
        this.retry = (_a = options.retry) !== null && _a !== void 0 ? _a : true;
        this.type = (_b = options.type) !== null && _b !== void 0 ? _b : 'plugin Error';
        this.reason = (_c = options.reason) !== null && _c !== void 0 ? _c : '';
    }
    return ContextCancelation;
}();
;
var CoreContext = function() {
    function CoreContext(event, id, stats, logger) {
        if (id === void 0) {
            id = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lukeed$2f$uuid$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["v4"])();
        }
        if (stats === void 0) {
            stats = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$stats$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["NullStats"]();
        }
        if (logger === void 0) {
            logger = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$logger$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CoreLogger"]();
        }
        this.attempts = 0;
        this.event = event;
        this._id = id;
        this.logger = logger;
        this.stats = stats;
    }
    CoreContext.system = function() {
    // This should be overridden by the subclass to return an instance of the subclass.
    };
    CoreContext.prototype.isSame = function(other) {
        return other.id === this.id;
    };
    CoreContext.prototype.cancel = function(error) {
        if (error) {
            throw error;
        }
        throw new ContextCancelation({
            reason: 'Context Cancel'
        });
    };
    CoreContext.prototype.log = function(level, message, extras) {
        this.logger.log(level, message, extras);
    };
    Object.defineProperty(CoreContext.prototype, "id", {
        get: function() {
            return this._id;
        },
        enumerable: false,
        configurable: true
    });
    CoreContext.prototype.updateEvent = function(path, val) {
        var _a;
        // Don't allow integrations that are set to false to be overwritten with integration settings.
        if (path.split('.')[0] === 'integrations') {
            var integrationName = path.split('.')[1];
            if (((_a = this.event.integrations) === null || _a === void 0 ? void 0 : _a[integrationName]) === false) {
                return this.event;
            }
        }
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$dset$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["dset"])(this.event, path, val);
        return this.event;
    };
    CoreContext.prototype.failedDelivery = function() {
        return this._failedDelivery;
    };
    CoreContext.prototype.setFailedDelivery = function(options) {
        this._failedDelivery = options;
    };
    CoreContext.prototype.logs = function() {
        return this.logger.logs;
    };
    CoreContext.prototype.flush = function() {
        this.logger.flush();
        this.stats.flush();
    };
    CoreContext.prototype.toJSON = function() {
        return {
            id: this._id,
            event: this.event,
            logs: this.logger.logs,
            metrics: this.stats.metrics
        };
    };
    return CoreContext;
}();
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/callback/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "invokeCallback",
    ()=>invokeCallback,
    "pTimeout",
    ()=>pTimeout,
    "sleep",
    ()=>sleep
]);
function pTimeout(promise, timeout) {
    return new Promise(function(resolve, reject) {
        var timeoutId = setTimeout(function() {
            reject(Error('Promise timed out'));
        }, timeout);
        promise.then(function(val) {
            clearTimeout(timeoutId);
            return resolve(val);
        }).catch(reject);
    });
}
function sleep(timeoutInMs) {
    return new Promise(function(resolve) {
        return setTimeout(resolve, timeoutInMs);
    });
}
function invokeCallback(ctx, callback, delay) {
    var cb = function() {
        try {
            return Promise.resolve(callback(ctx));
        } catch (err) {
            return Promise.reject(err);
        }
    };
    return sleep(delay)// pTimeout ensures that the callback can't cause the context to hang
    .then(function() {
        return pTimeout(cb(), 1000);
    }).catch(function(err) {
        ctx === null || ctx === void 0 ? void 0 : ctx.log('warn', 'Callback Error', {
            error: err
        });
        ctx === null || ctx === void 0 ? void 0 : ctx.stats.increment('callback_error');
    }).then(function() {
        return ctx;
    });
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/analytics/dispatch.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "dispatch",
    ()=>dispatch,
    "getDelay",
    ()=>getDelay
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$callback$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/callback/index.js [app-ssr] (ecmascript)");
;
;
var getDelay = function(startTimeInEpochMS, timeoutInMS) {
    var elapsedTime = Date.now() - startTimeInEpochMS;
    // increasing the timeout increases the delay by almost the same amount -- this is weird legacy behavior.
    return Math.max((timeoutInMS !== null && timeoutInMS !== void 0 ? timeoutInMS : 300) - elapsedTime, 0);
};
function dispatch(ctx, queue, emitter, options) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        var startTime, dispatched;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            switch(_a.label){
                case 0:
                    emitter.emit('dispatch_start', ctx);
                    startTime = Date.now();
                    if (!queue.isEmpty()) return [
                        3 /*break*/ ,
                        2
                    ];
                    return [
                        4 /*yield*/ ,
                        queue.dispatchSingle(ctx)
                    ];
                case 1:
                    dispatched = _a.sent();
                    return [
                        3 /*break*/ ,
                        4
                    ];
                case 2:
                    return [
                        4 /*yield*/ ,
                        queue.dispatch(ctx)
                    ];
                case 3:
                    dispatched = _a.sent();
                    _a.label = 4;
                case 4:
                    if (!(options === null || options === void 0 ? void 0 : options.callback)) return [
                        3 /*break*/ ,
                        6
                    ];
                    return [
                        4 /*yield*/ ,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$callback$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["invokeCallback"])(dispatched, options.callback, getDelay(startTime, options.timeout))
                    ];
                case 5:
                    dispatched = _a.sent();
                    _a.label = 6;
                case 6:
                    if (options === null || options === void 0 ? void 0 : options.debug) {
                        dispatched.flush();
                    }
                    return [
                        2 /*return*/ ,
                        dispatched
                    ];
            }
        });
    });
} //# sourceMappingURL=dispatch.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/utils/pick.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "pickBy",
    ()=>pickBy
]);
var pickBy = function(obj, fn) {
    return Object.keys(obj).filter(function(k) {
        return fn(k, obj[k]);
    }).reduce(function(acc, key) {
        return acc[key] = obj[key], acc;
    }, {});
}; //# sourceMappingURL=pick.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/validation/errors.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ValidationError",
    ()=>ValidationError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
;
var ValidationError = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__extends"])(ValidationError, _super);
    function ValidationError(field, message) {
        var _this = _super.call(this, "".concat(field, " ").concat(message)) || this;
        _this.field = field;
        return _this;
    }
    return ValidationError;
}(Error);
;
 //# sourceMappingURL=errors.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/validation/assertions.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "assertEventExists",
    ()=>assertEventExists,
    "assertEventType",
    ()=>assertEventType,
    "assertMessageId",
    ()=>assertMessageId,
    "assertTrackEventName",
    ()=>assertTrackEventName,
    "assertTrackEventProperties",
    ()=>assertTrackEventProperties,
    "assertTraits",
    ()=>assertTraits,
    "assertUserIdentity",
    ()=>assertUserIdentity,
    "validateEvent",
    ()=>validateEvent
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/validation/errors.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/validation/helpers.js [app-ssr] (ecmascript)");
;
;
var stringError = 'is not a string';
var objError = 'is not an object';
var nilError = 'is nil';
function assertUserIdentity(event) {
    var USER_FIELD_NAME = '.userId/anonymousId/previousId/groupId';
    var getAnyUserId = function(event) {
        var _a, _b, _c;
        return (_c = (_b = (_a = event.userId) !== null && _a !== void 0 ? _a : event.anonymousId) !== null && _b !== void 0 ? _b : event.groupId) !== null && _c !== void 0 ? _c : event.previousId;
    };
    var id = getAnyUserId(event);
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["exists"])(id)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValidationError"](USER_FIELD_NAME, nilError);
    } else if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isString"])(id)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValidationError"](USER_FIELD_NAME, stringError);
    }
}
function assertEventExists(event) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["exists"])(event)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValidationError"]('Event', nilError);
    }
    if (typeof event !== 'object') {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValidationError"]('Event', objError);
    }
}
function assertEventType(event) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isString"])(event.type)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValidationError"]('.type', stringError);
    }
}
function assertTrackEventName(event) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isString"])(event.event)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValidationError"]('.event', stringError);
    }
}
function assertTrackEventProperties(event) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPlainObject"])(event.properties)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValidationError"]('.properties', objError);
    }
}
function assertTraits(event) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPlainObject"])(event.traits)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValidationError"]('.traits', objError);
    }
}
function assertMessageId(event) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isString"])(event.messageId)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$errors$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValidationError"]('.messageId', stringError);
    }
}
function validateEvent(event) {
    assertEventExists(event);
    assertEventType(event);
    assertMessageId(event);
    if (event.type === 'track') {
        assertTrackEventName(event);
        assertTrackEventProperties(event);
    }
    if ([
        'group',
        'identify'
    ].includes(event.type)) {
        assertTraits(event);
    }
} //# sourceMappingURL=assertions.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/events/index.js [app-ssr] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CoreEventFactory",
    ()=>CoreEventFactory
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$dset$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/dset/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$utils$2f$pick$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/utils/pick.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$assertions$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/validation/assertions.js [app-ssr] (ecmascript)");
;
;
;
;
;
/**
 * Internal settings object that is used internally by the factory
 */ var InternalEventFactorySettings = function() {
    function InternalEventFactorySettings(settings) {
        var _a, _b;
        this.settings = settings;
        this.createMessageId = settings.createMessageId;
        this.onEventMethodCall = (_a = settings.onEventMethodCall) !== null && _a !== void 0 ? _a : function() {};
        this.onFinishedEvent = (_b = settings.onFinishedEvent) !== null && _b !== void 0 ? _b : function() {};
    }
    return InternalEventFactorySettings;
}();
var CoreEventFactory = function() {
    function CoreEventFactory(settings) {
        this.settings = new InternalEventFactorySettings(settings);
    }
    CoreEventFactory.prototype.track = function(event, properties, options, integrationOptions) {
        this.settings.onEventMethodCall({
            type: 'track',
            options: options
        });
        return this.normalize((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, this.baseEvent()), {
            event: event,
            type: 'track',
            properties: properties !== null && properties !== void 0 ? properties : {},
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, options),
            integrations: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, integrationOptions)
        }));
    };
    CoreEventFactory.prototype.page = function(category, page, properties, options, integrationOptions) {
        var _a;
        this.settings.onEventMethodCall({
            type: 'page',
            options: options
        });
        var event = {
            type: 'page',
            properties: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, properties),
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, options),
            integrations: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, integrationOptions)
        };
        if (category !== null) {
            event.category = category;
            event.properties = (_a = event.properties) !== null && _a !== void 0 ? _a : {};
            event.properties.category = category;
        }
        if (page !== null) {
            event.name = page;
        }
        return this.normalize((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, this.baseEvent()), event));
    };
    CoreEventFactory.prototype.screen = function(category, screen, properties, options, integrationOptions) {
        this.settings.onEventMethodCall({
            type: 'screen',
            options: options
        });
        var event = {
            type: 'screen',
            properties: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, properties),
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, options),
            integrations: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, integrationOptions)
        };
        if (category !== null) {
            event.category = category;
        }
        if (screen !== null) {
            event.name = screen;
        }
        return this.normalize((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, this.baseEvent()), event));
    };
    CoreEventFactory.prototype.identify = function(userId, traits, options, integrationsOptions) {
        this.settings.onEventMethodCall({
            type: 'identify',
            options: options
        });
        return this.normalize((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, this.baseEvent()), {
            type: 'identify',
            userId: userId,
            traits: traits !== null && traits !== void 0 ? traits : {},
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, options),
            integrations: integrationsOptions
        }));
    };
    CoreEventFactory.prototype.group = function(groupId, traits, options, integrationOptions) {
        this.settings.onEventMethodCall({
            type: 'group',
            options: options
        });
        return this.normalize((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, this.baseEvent()), {
            type: 'group',
            traits: traits !== null && traits !== void 0 ? traits : {},
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, options),
            integrations: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, integrationOptions),
            groupId: groupId
        }));
    };
    CoreEventFactory.prototype.alias = function(to, from, options, integrationOptions) {
        this.settings.onEventMethodCall({
            type: 'alias',
            options: options
        });
        var base = {
            userId: to,
            type: 'alias',
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, options),
            integrations: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, integrationOptions)
        };
        if (from !== null) {
            base.previousId = from;
        }
        if (to === undefined) {
            return this.normalize((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, base), this.baseEvent()));
        }
        return this.normalize((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, this.baseEvent()), base));
    };
    CoreEventFactory.prototype.baseEvent = function() {
        return {
            integrations: {},
            options: {}
        };
    };
    /**
     * Builds the context part of an event based on "foreign" keys that
     * are provided in the `Options` parameter for an Event
     */ CoreEventFactory.prototype.context = function(options) {
        var _a;
        /**
         * If the event options are known keys from this list, we move them to the top level of the event.
         * Any other options are moved to context.
         */ var eventOverrideKeys = [
            'userId',
            'anonymousId',
            'timestamp',
            'messageId'
        ];
        delete options['integrations'];
        var providedOptionsKeys = Object.keys(options);
        var context = (_a = options.context) !== null && _a !== void 0 ? _a : {};
        var eventOverrides = {};
        providedOptionsKeys.forEach(function(key) {
            if (key === 'context') {
                return;
            }
            if (eventOverrideKeys.includes(key)) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$dset$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["dset"])(eventOverrides, key, options[key]);
            } else {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$dset$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["dset"])(context, key, options[key]);
            }
        });
        return [
            context,
            eventOverrides
        ];
    };
    CoreEventFactory.prototype.normalize = function(event) {
        var _a, _b;
        var integrationBooleans = Object.keys((_a = event.integrations) !== null && _a !== void 0 ? _a : {}).reduce(function(integrationNames, name) {
            var _a;
            var _b;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, integrationNames), (_a = {}, _a[name] = Boolean((_b = event.integrations) === null || _b === void 0 ? void 0 : _b[name]), _a));
        }, {});
        // filter out any undefined options
        event.options = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$utils$2f$pick$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["pickBy"])(event.options || {}, function(_, value) {
            return value !== undefined;
        });
        // This is pretty trippy, but here's what's going on:
        // - a) We don't pass initial integration options as part of the event, only if they're true or false
        // - b) We do accept per integration overrides (like integrations.Amplitude.sessionId) at the event level
        // Hence the need to convert base integration options to booleans, but maintain per event integration overrides
        var allIntegrations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, integrationBooleans), (_b = event.options) === null || _b === void 0 ? void 0 : _b.integrations);
        var _c = event.options ? this.context(event.options) : [], context = _c[0], overrides = _c[1];
        var options = event.options, rest = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__rest"])(event, [
            "options"
        ]);
        var evt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({
            timestamp: new Date()
        }, rest), {
            context: context,
            integrations: allIntegrations
        }), overrides), {
            messageId: options.messageId || this.settings.createMessageId()
        });
        this.settings.onFinishedEvent(evt);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$assertions$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["validateEvent"])(evt);
        return evt;
    };
    return CoreEventFactory;
}();
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/priority-queue/backoff.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "backoff",
    ()=>backoff
]);
function backoff(params) {
    var random = Math.random() + 1;
    var _a = params.minTimeout, minTimeout = _a === void 0 ? 500 : _a, _b = params.factor, factor = _b === void 0 ? 2 : _b, attempt = params.attempt, _c = params.maxTimeout, maxTimeout = _c === void 0 ? Infinity : _c;
    return Math.min(random * minTimeout * Math.pow(factor, attempt), maxTimeout);
} //# sourceMappingURL=backoff.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ON_REMOVE_FROM_FUTURE",
    ()=>ON_REMOVE_FROM_FUTURE,
    "PriorityQueue",
    ()=>PriorityQueue
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$emitter$2f$emitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-generic-utils/dist/esm/emitter/emitter.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$backoff$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/priority-queue/backoff.js [app-ssr] (ecmascript)");
;
;
;
var ON_REMOVE_FROM_FUTURE = 'onRemoveFromFuture';
var PriorityQueue = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__extends"])(PriorityQueue, _super);
    function PriorityQueue(maxAttempts, queue, seen) {
        var _this = _super.call(this) || this;
        _this.future = [];
        _this.maxAttempts = maxAttempts;
        _this.queue = queue;
        _this.seen = seen !== null && seen !== void 0 ? seen : {};
        return _this;
    }
    PriorityQueue.prototype.push = function() {
        var _this = this;
        var items = [];
        for(var _i = 0; _i < arguments.length; _i++){
            items[_i] = arguments[_i];
        }
        var accepted = items.map(function(operation) {
            var attempts = _this.updateAttempts(operation);
            if (attempts > _this.maxAttempts || _this.includes(operation)) {
                return false;
            }
            _this.queue.push(operation);
            return true;
        });
        this.queue = this.queue.sort(function(a, b) {
            return _this.getAttempts(a) - _this.getAttempts(b);
        });
        return accepted;
    };
    PriorityQueue.prototype.pushWithBackoff = function(item, minTimeout) {
        var _this = this;
        if (minTimeout === void 0) {
            minTimeout = 0;
        }
        // One immediate retry unless we have a minimum timeout (e.g. for rate limiting)
        if (minTimeout == 0 && this.getAttempts(item) === 0) {
            return this.push(item)[0];
        }
        var attempt = this.updateAttempts(item);
        if (attempt > this.maxAttempts || this.includes(item)) {
            return false;
        }
        var timeout = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$backoff$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["backoff"])({
            attempt: attempt - 1
        });
        if (minTimeout > 0 && timeout < minTimeout) {
            timeout = minTimeout;
        }
        setTimeout(function() {
            _this.queue.push(item);
            // remove from future list
            _this.future = _this.future.filter(function(f) {
                return f.id !== item.id;
            });
            // Lets listeners know that a 'future' message is now available in the queue
            _this.emit(ON_REMOVE_FROM_FUTURE);
        }, timeout);
        this.future.push(item);
        return true;
    };
    PriorityQueue.prototype.getAttempts = function(item) {
        var _a;
        return (_a = this.seen[item.id]) !== null && _a !== void 0 ? _a : 0;
    };
    PriorityQueue.prototype.updateAttempts = function(item) {
        this.seen[item.id] = this.getAttempts(item) + 1;
        return this.getAttempts(item);
    };
    PriorityQueue.prototype.includes = function(item) {
        return this.queue.includes(item) || this.future.includes(item) || Boolean(this.queue.find(function(i) {
            return i.id === item.id;
        })) || Boolean(this.future.find(function(i) {
            return i.id === item.id;
        }));
    };
    PriorityQueue.prototype.pop = function() {
        return this.queue.shift();
    };
    Object.defineProperty(PriorityQueue.prototype, "length", {
        get: function() {
            return this.queue.length;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(PriorityQueue.prototype, "todo", {
        get: function() {
            return this.queue.length + this.future.length;
        },
        enumerable: false,
        configurable: true
    });
    return PriorityQueue;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$emitter$2f$emitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Emitter"]);
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/utils/group-by.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "groupBy",
    ()=>groupBy
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
;
function groupBy(collection, grouper) {
    var results = {};
    collection.forEach(function(item) {
        var _a;
        var key = undefined;
        if (typeof grouper === 'string') {
            var suggestedKey = item[grouper];
            key = typeof suggestedKey !== 'string' ? JSON.stringify(suggestedKey) : suggestedKey;
        } else if (grouper instanceof Function) {
            key = grouper(item);
        }
        if (key === undefined) {
            return;
        }
        results[key] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__spreadArray"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__spreadArray"])([], (_a = results[key]) !== null && _a !== void 0 ? _a : [], true), [
            item
        ], false);
    });
    return results;
} //# sourceMappingURL=group-by.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/utils/is-thenable.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 *  Check if  thenable
 *  (instanceof Promise doesn't respect realms)
 */ __turbopack_context__.s([
    "isThenable",
    ()=>isThenable
]);
var isThenable = function(value) {
    return typeof value === 'object' && value !== null && 'then' in value && typeof value.then === 'function';
}; //# sourceMappingURL=is-thenable.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/task/task-group.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createTaskGroup",
    ()=>createTaskGroup
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$utils$2f$is$2d$thenable$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/utils/is-thenable.js [app-ssr] (ecmascript)");
;
var createTaskGroup = function() {
    var taskCompletionPromise;
    var resolvePromise;
    var count = 0;
    return {
        done: function() {
            return taskCompletionPromise;
        },
        run: function(op) {
            var returnValue = op();
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$utils$2f$is$2d$thenable$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isThenable"])(returnValue)) {
                if (++count === 1) {
                    taskCompletionPromise = new Promise(function(res) {
                        return resolvePromise = res;
                    });
                }
                returnValue.finally(function() {
                    return --count === 0 && resolvePromise();
                });
            }
            return returnValue;
        }
    };
}; //# sourceMappingURL=task-group.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/queue/delivery.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "attempt",
    ()=>attempt,
    "ensure",
    ()=>ensure
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/context/index.js [app-ssr] (ecmascript)");
;
;
function tryAsync(fn) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        var err_1;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            switch(_a.label){
                case 0:
                    _a.trys.push([
                        0,
                        2,
                        ,
                        3
                    ]);
                    return [
                        4 /*yield*/ ,
                        fn()
                    ];
                case 1:
                    return [
                        2 /*return*/ ,
                        _a.sent()
                    ];
                case 2:
                    err_1 = _a.sent();
                    return [
                        2 /*return*/ ,
                        Promise.reject(err_1)
                    ];
                case 3:
                    return [
                        2 /*return*/ 
                    ];
            }
        });
    });
}
function attempt(ctx, plugin) {
    ctx.log('debug', 'plugin', {
        plugin: plugin.name
    });
    var start = new Date().getTime();
    var hook = plugin[ctx.event.type];
    if (hook === undefined) {
        return Promise.resolve(ctx);
    }
    var newCtx = tryAsync(function() {
        return hook.apply(plugin, [
            ctx
        ]);
    }).then(function(ctx) {
        var done = new Date().getTime() - start;
        ctx.stats.gauge('plugin_time', done, [
            "plugin:".concat(plugin.name)
        ]);
        return ctx;
    }).catch(function(err) {
        if (err instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ContextCancelation"] && err.type === 'middleware_cancellation') {
            throw err;
        }
        if (err instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ContextCancelation"]) {
            ctx.log('warn', err.type, {
                plugin: plugin.name,
                error: err
            });
            return err;
        }
        ctx.log('error', 'plugin Error', {
            plugin: plugin.name,
            error: err
        });
        ctx.stats.increment('plugin_error', 1, [
            "plugin:".concat(plugin.name)
        ]);
        return err;
    });
    return newCtx;
}
function ensure(ctx, plugin) {
    return attempt(ctx, plugin).then(function(newContext) {
        if (newContext instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CoreContext"]) {
            return newContext;
        }
        ctx.log('debug', 'Context canceled');
        ctx.stats.increment('context_canceled');
        ctx.cancel(newContext);
    });
} //# sourceMappingURL=delivery.js.map
}),
"[project]/node_modules/@segment/analytics-core/dist/esm/queue/event-queue.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CoreEventQueue",
    ()=>CoreEventQueue
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$utils$2f$group$2d$by$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/utils/group-by.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/context/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$emitter$2f$emitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-generic-utils/dist/esm/emitter/emitter.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$task$2f$task$2d$group$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/task/task-group.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$queue$2f$delivery$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/queue/delivery.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
var CoreEventQueue = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__extends"])(CoreEventQueue, _super);
    function CoreEventQueue(priorityQueue) {
        var _this = _super.call(this) || this;
        /**
         * All event deliveries get suspended until all the tasks in this task group are complete.
         * For example: a middleware that augments the event object should be loaded safely as a
         * critical task, this way, event queue will wait for it to be ready before sending events.
         *
         * This applies to all the events already in the queue, and the upcoming ones
         */ _this.criticalTasks = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$task$2f$task$2d$group$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createTaskGroup"])();
        _this.plugins = [];
        _this.failedInitializations = [];
        _this.flushing = false;
        _this.queue = priorityQueue;
        _this.queue.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ON_REMOVE_FROM_FUTURE"], function() {
            _this.scheduleFlush(0);
        });
        return _this;
    }
    CoreEventQueue.prototype.register = function(ctx, plugin, instance) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var handleLoadError, err_1;
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        this.plugins.push(plugin);
                        handleLoadError = function(err) {
                            _this.failedInitializations.push(plugin.name);
                            _this.emit('initialization_failure', plugin);
                            console.warn(plugin.name, err);
                            ctx.log('warn', 'Failed to load destination', {
                                plugin: plugin.name,
                                error: err
                            });
                            // Filter out the failed plugin by excluding it from the list
                            _this.plugins = _this.plugins.filter(function(p) {
                                return p !== plugin;
                            });
                        };
                        if (!(plugin.type === 'destination' && plugin.name !== 'Segment.io')) return [
                            3 /*break*/ ,
                            1
                        ];
                        plugin.load(ctx, instance).catch(handleLoadError);
                        return [
                            3 /*break*/ ,
                            4
                        ];
                    case 1:
                        _a.trys.push([
                            1,
                            3,
                            ,
                            4
                        ]);
                        return [
                            4 /*yield*/ ,
                            plugin.load(ctx, instance)
                        ];
                    case 2:
                        _a.sent();
                        return [
                            3 /*break*/ ,
                            4
                        ];
                    case 3:
                        err_1 = _a.sent();
                        handleLoadError(err_1);
                        return [
                            3 /*break*/ ,
                            4
                        ];
                    case 4:
                        return [
                            2 /*return*/ 
                        ];
                }
            });
        });
    };
    CoreEventQueue.prototype.deregister = function(ctx, plugin, instance) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var e_1;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        _a.trys.push([
                            0,
                            3,
                            ,
                            4
                        ]);
                        if (!plugin.unload) return [
                            3 /*break*/ ,
                            2
                        ];
                        return [
                            4 /*yield*/ ,
                            Promise.resolve(plugin.unload(ctx, instance))
                        ];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.plugins = this.plugins.filter(function(p) {
                            return p.name !== plugin.name;
                        });
                        return [
                            3 /*break*/ ,
                            4
                        ];
                    case 3:
                        e_1 = _a.sent();
                        ctx.log('warn', 'Failed to unload destination', {
                            plugin: plugin.name,
                            error: e_1
                        });
                        return [
                            3 /*break*/ ,
                            4
                        ];
                    case 4:
                        return [
                            2 /*return*/ 
                        ];
                }
            });
        });
    };
    CoreEventQueue.prototype.dispatch = function(ctx) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var willDeliver;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                ctx.log('debug', 'Dispatching');
                ctx.stats.increment('message_dispatched');
                this.queue.push(ctx);
                willDeliver = this.subscribeToDelivery(ctx);
                this.scheduleFlush(0);
                return [
                    2 /*return*/ ,
                    willDeliver
                ];
            });
        });
    };
    CoreEventQueue.prototype.subscribeToDelivery = function(ctx) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                return [
                    2 /*return*/ ,
                    new Promise(function(resolve) {
                        var onDeliver = function(flushed, delivered) {
                            if (flushed.isSame(ctx)) {
                                _this.off('flush', onDeliver);
                                if (delivered) {
                                    resolve(flushed);
                                } else {
                                    resolve(flushed);
                                }
                            }
                        };
                        _this.on('flush', onDeliver);
                    })
                ];
            });
        });
    };
    CoreEventQueue.prototype.dispatchSingle = function(ctx) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                ctx.log('debug', 'Dispatching');
                ctx.stats.increment('message_dispatched');
                this.queue.updateAttempts(ctx);
                ctx.attempts = 1;
                return [
                    2 /*return*/ ,
                    this.deliver(ctx).catch(function(err) {
                        var accepted = _this.enqueuRetry(err, ctx);
                        if (!accepted) {
                            ctx.setFailedDelivery({
                                reason: err
                            });
                            return ctx;
                        }
                        return _this.subscribeToDelivery(ctx);
                    })
                ];
            });
        });
    };
    CoreEventQueue.prototype.isEmpty = function() {
        return this.queue.length === 0;
    };
    CoreEventQueue.prototype.scheduleFlush = function(timeout) {
        var _this = this;
        if (timeout === void 0) {
            timeout = 500;
        }
        if (this.flushing) {
            return;
        }
        this.flushing = true;
        setTimeout(function() {
            // eslint-disable-next-line @typescript-eslint/no-floating-promises
            _this.flush().then(function() {
                setTimeout(function() {
                    _this.flushing = false;
                    if (_this.queue.length) {
                        _this.scheduleFlush(0);
                    }
                }, 0);
            });
        }, timeout);
    };
    CoreEventQueue.prototype.deliver = function(ctx) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var start, done, err_2, error;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        return [
                            4 /*yield*/ ,
                            this.criticalTasks.done()
                        ];
                    case 1:
                        _a.sent();
                        start = Date.now();
                        _a.label = 2;
                    case 2:
                        _a.trys.push([
                            2,
                            4,
                            ,
                            5
                        ]);
                        return [
                            4 /*yield*/ ,
                            this.flushOne(ctx)
                        ];
                    case 3:
                        ctx = _a.sent();
                        done = Date.now() - start;
                        this.emit('delivery_success', ctx);
                        ctx.stats.gauge('delivered', done);
                        ctx.log('debug', 'Delivered', ctx.event);
                        return [
                            2 /*return*/ ,
                            ctx
                        ];
                    case 4:
                        err_2 = _a.sent();
                        error = err_2;
                        ctx.log('error', 'Failed to deliver', error);
                        this.emit('delivery_failure', ctx, error);
                        ctx.stats.increment('delivery_failed');
                        throw err_2;
                    case 5:
                        return [
                            2 /*return*/ 
                        ];
                }
            });
        });
    };
    CoreEventQueue.prototype.enqueuRetry = function(err, ctx) {
        var retriable = !(err instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ContextCancelation"]) || err.retry;
        if (!retriable) {
            return false;
        }
        return this.queue.pushWithBackoff(ctx);
    };
    CoreEventQueue.prototype.flush = function() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var ctx, err_3, accepted;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        if (this.queue.length === 0) {
                            return [
                                2 /*return*/ ,
                                []
                            ];
                        }
                        ctx = this.queue.pop();
                        if (!ctx) {
                            return [
                                2 /*return*/ ,
                                []
                            ];
                        }
                        ctx.attempts = this.queue.getAttempts(ctx);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([
                            1,
                            3,
                            ,
                            4
                        ]);
                        return [
                            4 /*yield*/ ,
                            this.deliver(ctx)
                        ];
                    case 2:
                        ctx = _a.sent();
                        this.emit('flush', ctx, true);
                        return [
                            3 /*break*/ ,
                            4
                        ];
                    case 3:
                        err_3 = _a.sent();
                        accepted = this.enqueuRetry(err_3, ctx);
                        if (!accepted) {
                            ctx.setFailedDelivery({
                                reason: err_3
                            });
                            this.emit('flush', ctx, false);
                        }
                        return [
                            2 /*return*/ ,
                            []
                        ];
                    case 4:
                        return [
                            2 /*return*/ ,
                            [
                                ctx
                            ]
                        ];
                }
            });
        });
    };
    CoreEventQueue.prototype.isReady = function() {
        // return this.plugins.every((p) => p.isLoaded())
        // should we wait for every plugin to load?
        return true;
    };
    CoreEventQueue.prototype.availableExtensions = function(denyList) {
        var available = this.plugins.filter(function(p) {
            var _a, _b, _c;
            // Only filter out destination plugins or the Segment.io plugin
            if (p.type !== 'destination' && p.name !== 'Segment.io') {
                return true;
            }
            var alternativeNameMatch = undefined;
            (_a = p.alternativeNames) === null || _a === void 0 ? void 0 : _a.forEach(function(name) {
                if (denyList[name] !== undefined) {
                    alternativeNameMatch = denyList[name];
                }
            });
            // Explicit integration option takes precedence, `All: false` does not apply to Segment.io
            return (_c = (_b = denyList[p.name]) !== null && _b !== void 0 ? _b : alternativeNameMatch) !== null && _c !== void 0 ? _c : (p.name === 'Segment.io' ? true : denyList.All) !== false;
        });
        var _a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$utils$2f$group$2d$by$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["groupBy"])(available, 'type'), _b = _a.before, before = _b === void 0 ? [] : _b, _c = _a.enrichment, enrichment = _c === void 0 ? [] : _c, _d = _a.destination, destination = _d === void 0 ? [] : _d, _e = _a.after, after = _e === void 0 ? [] : _e;
        return {
            before: before,
            enrichment: enrichment,
            destinations: destination,
            after: after
        };
    };
    CoreEventQueue.prototype.flushOne = function(ctx) {
        var _a, _b;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var _c, before, enrichment, _i, before_1, beforeWare, temp, _d, enrichment_1, enrichmentWare, temp, _e, destinations, after, afterCalls;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__generator"])(this, function(_f) {
                switch(_f.label){
                    case 0:
                        if (!this.isReady()) {
                            throw new Error('Not ready');
                        }
                        if (ctx.attempts > 1) {
                            this.emit('delivery_retry', ctx);
                        }
                        _c = this.availableExtensions((_a = ctx.event.integrations) !== null && _a !== void 0 ? _a : {}), before = _c.before, enrichment = _c.enrichment;
                        _i = 0, before_1 = before;
                        _f.label = 1;
                    case 1:
                        if (!(_i < before_1.length)) return [
                            3 /*break*/ ,
                            4
                        ];
                        beforeWare = before_1[_i];
                        return [
                            4 /*yield*/ ,
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$queue$2f$delivery$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ensure"])(ctx, beforeWare)
                        ];
                    case 2:
                        temp = _f.sent();
                        if (temp instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CoreContext"]) {
                            ctx = temp;
                        }
                        this.emit('message_enriched', ctx, beforeWare);
                        _f.label = 3;
                    case 3:
                        _i++;
                        return [
                            3 /*break*/ ,
                            1
                        ];
                    case 4:
                        _d = 0, enrichment_1 = enrichment;
                        _f.label = 5;
                    case 5:
                        if (!(_d < enrichment_1.length)) return [
                            3 /*break*/ ,
                            8
                        ];
                        enrichmentWare = enrichment_1[_d];
                        return [
                            4 /*yield*/ ,
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$queue$2f$delivery$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["attempt"])(ctx, enrichmentWare)
                        ];
                    case 6:
                        temp = _f.sent();
                        if (temp instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CoreContext"]) {
                            ctx = temp;
                        }
                        this.emit('message_enriched', ctx, enrichmentWare);
                        _f.label = 7;
                    case 7:
                        _d++;
                        return [
                            3 /*break*/ ,
                            5
                        ];
                    case 8:
                        _e = this.availableExtensions((_b = ctx.event.integrations) !== null && _b !== void 0 ? _b : {}), destinations = _e.destinations, after = _e.after;
                        return [
                            4 /*yield*/ ,
                            new Promise(function(resolve, reject) {
                                setTimeout(function() {
                                    var attempts = destinations.map(function(destination) {
                                        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$queue$2f$delivery$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["attempt"])(ctx, destination);
                                    });
                                    Promise.all(attempts).then(resolve).catch(reject);
                                }, 0);
                            })
                        ];
                    case 9:
                        _f.sent();
                        ctx.stats.increment('message_delivered');
                        this.emit('message_delivered', ctx);
                        afterCalls = after.map(function(after) {
                            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$queue$2f$delivery$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["attempt"])(ctx, after);
                        });
                        return [
                            4 /*yield*/ ,
                            Promise.all(afterCalls)
                        ];
                    case 10:
                        _f.sent();
                        return [
                            2 /*return*/ ,
                            ctx
                        ];
                }
            });
        });
    };
    return CoreEventQueue;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$emitter$2f$emitter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Emitter"]);
;
 //# sourceMappingURL=event-queue.js.map
}),
"[project]/node_modules/@segment/analytics-generic-utils/dist/esm/emitter/emitter.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Emitter",
    ()=>Emitter
]);
/**
 * Event Emitter that takes the expected contract as a generic
 * @example
 * ```ts
 *  type Contract = {
 *    delivery_success: [DeliverySuccessResponse, Metrics],
 *    delivery_failure: [DeliveryError]
 * }
 *  new Emitter<Contract>()
 *  .on('delivery_success', (res, metrics) => ...)
 *  .on('delivery_failure', (err) => ...)
 * ```
 */ var Emitter = function() {
    function Emitter(options) {
        var _a;
        this.callbacks = {};
        this.warned = false;
        this.maxListeners = (_a = options === null || options === void 0 ? void 0 : options.maxListeners) !== null && _a !== void 0 ? _a : 10;
    }
    Emitter.prototype.warnIfPossibleMemoryLeak = function(event) {
        if (this.warned) {
            return;
        }
        if (this.maxListeners && this.callbacks[event].length > this.maxListeners) {
            console.warn("Event Emitter: Possible memory leak detected; ".concat(String(event), " has exceeded ").concat(this.maxListeners, " listeners."));
            this.warned = true;
        }
    };
    Emitter.prototype.on = function(event, callback) {
        if (!this.callbacks[event]) {
            this.callbacks[event] = [
                callback
            ];
        } else {
            this.callbacks[event].push(callback);
            this.warnIfPossibleMemoryLeak(event);
        }
        return this;
    };
    Emitter.prototype.once = function(event, callback) {
        var _this = this;
        var on = function() {
            var args = [];
            for(var _i = 0; _i < arguments.length; _i++){
                args[_i] = arguments[_i];
            }
            _this.off(event, on);
            callback.apply(_this, args);
        };
        this.on(event, on);
        return this;
    };
    Emitter.prototype.off = function(event, callback) {
        var _a;
        var fns = (_a = this.callbacks[event]) !== null && _a !== void 0 ? _a : [];
        var without = fns.filter(function(fn) {
            return fn !== callback;
        });
        this.callbacks[event] = without;
        return this;
    };
    Emitter.prototype.emit = function(event) {
        var _this = this;
        var _a;
        var args = [];
        for(var _i = 1; _i < arguments.length; _i++){
            args[_i - 1] = arguments[_i];
        }
        var callbacks = (_a = this.callbacks[event]) !== null && _a !== void 0 ? _a : [];
        callbacks.forEach(function(callback) {
            callback.apply(_this, args);
        });
        return this;
    };
    return Emitter;
}();
;
 //# sourceMappingURL=emitter.js.map
}),
"[project]/node_modules/@segment/analytics-generic-utils/dist/esm/create-deferred/create-deferred.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Return a promise that can be externally resolved
 */ __turbopack_context__.s([
    "createDeferred",
    ()=>createDeferred
]);
var createDeferred = function() {
    var resolve;
    var reject;
    var settled = false;
    var promise = new Promise(function(_resolve, _reject) {
        resolve = function() {
            var args = [];
            for(var _i = 0; _i < arguments.length; _i++){
                args[_i] = arguments[_i];
            }
            settled = true;
            _resolve.apply(void 0, args);
        };
        reject = function() {
            var args = [];
            for(var _i = 0; _i < arguments.length; _i++){
                args[_i] = arguments[_i];
            }
            settled = true;
            _reject.apply(void 0, args);
        };
    });
    return {
        resolve: resolve,
        reject: reject,
        promise: promise,
        isSettled: function() {
            return settled;
        }
    };
}; //# sourceMappingURL=create-deferred.js.map
}),
"[project]/node_modules/@segment/analytics-page-tools/dist/esm/index.mjs [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BufferedPageContextDiscriminant",
    ()=>BufferedPageContextDiscriminant,
    "createBufferedPageContext",
    ()=>createBufferedPageContext,
    "createPageContext",
    ()=>createPageContext,
    "getDefaultBufferedPageContext",
    ()=>getDefaultBufferedPageContext,
    "getDefaultPageContext",
    ()=>getDefaultPageContext,
    "isBufferedPageContext",
    ()=>isBufferedPageContext
]);
// src/page-context.ts
function isPlainObject(obj) {
    return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase() === "object";
}
var BufferedPageContextDiscriminant = "bpc";
var createBufferedPageContext = function(url, canonicalUrl, search, path, title, referrer) {
    return {
        __t: BufferedPageContextDiscriminant,
        c: canonicalUrl,
        p: path,
        u: url,
        s: search,
        t: title,
        r: referrer
    };
};
var BUFFERED_PAGE_CONTEXT_KEYS = Object.keys(createBufferedPageContext("", "", "", "", "", ""));
function isBufferedPageContext(bufferedPageCtx) {
    if (!isPlainObject(bufferedPageCtx)) return false;
    if (bufferedPageCtx.__t !== BufferedPageContextDiscriminant) return false;
    for(var k in bufferedPageCtx){
        if (!BUFFERED_PAGE_CONTEXT_KEYS.includes(k)) {
            return false;
        }
    }
    return true;
}
var createCanonicalURL = function(canonicalUrl, searchParams) {
    return canonicalUrl.indexOf("?") > -1 ? canonicalUrl : canonicalUrl + searchParams;
};
var removeHash = function(href) {
    var hashIdx = href.indexOf("#");
    return hashIdx === -1 ? href : href.slice(0, hashIdx);
};
var parseCanonicalPath = function(canonicalUrl) {
    try {
        return new URL(canonicalUrl).pathname;
    } catch (_e) {
        return canonicalUrl[0] === "/" ? canonicalUrl : "/" + canonicalUrl;
    }
};
var createPageContext = function(param) {
    var canonicalUrl = param.c, pathname = param.p, search = param.s, url = param.u, referrer = param.r, title = param.t;
    var newPath = canonicalUrl ? parseCanonicalPath(canonicalUrl) : pathname;
    var newUrl = canonicalUrl ? createCanonicalURL(canonicalUrl, search) : removeHash(url);
    return {
        path: newPath,
        referrer: referrer,
        search: search,
        title: title,
        url: newUrl
    };
};
var getDefaultBufferedPageContext = function() {
    var c = document.querySelector("link[rel='canonical']");
    return createBufferedPageContext(location.href, c && c.getAttribute("href") || void 0, location.search, location.pathname, document.title, document.referrer);
};
var getDefaultPageContext = function() {
    return createPageContext(getDefaultBufferedPageContext());
};
;
}),
"[project]/node_modules/@segment/facade/dist/address.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __importDefault = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
var obj_case_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/obj-case/index.js [app-ssr] (ecmascript)"));
function trait(a, b) {
    return function() {
        var traits = this.traits();
        var props = this.properties ? this.properties() : {};
        return obj_case_1.default(traits, "address." + a) || obj_case_1.default(traits, a) || (b ? obj_case_1.default(traits, "address." + b) : null) || (b ? obj_case_1.default(traits, b) : null) || obj_case_1.default(props, "address." + a) || obj_case_1.default(props, a) || (b ? obj_case_1.default(props, "address." + b) : null) || (b ? obj_case_1.default(props, b) : null);
    };
}
function default_1(proto) {
    proto.zip = trait("postalCode", "zip");
    proto.country = trait("country");
    proto.street = trait("street");
    proto.state = trait("state");
    proto.city = trait("city");
    proto.region = trait("region");
}
exports.default = default_1; //# sourceMappingURL=address.js.map
}),
"[project]/node_modules/@segment/facade/dist/clone.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.clone = void 0;
function clone(properties) {
    if (typeof properties !== 'object') return properties;
    if (Object.prototype.toString.call(properties) === '[object Object]') {
        var temp = {};
        for(var key in properties){
            if (Object.prototype.hasOwnProperty.call(properties, key)) {
                temp[key] = clone(properties[key]);
            }
        }
        return temp;
    } else if (Array.isArray(properties)) {
        return properties.map(clone);
    } else {
        return properties;
    }
}
exports.clone = clone; //# sourceMappingURL=clone.js.map
}),
"[project]/node_modules/@segment/facade/dist/is-enabled.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
var disabled = {
    Salesforce: true
};
function default_1(integration) {
    return !disabled[integration];
}
exports.default = default_1; //# sourceMappingURL=is-enabled.js.map
}),
"[project]/node_modules/@segment/facade/dist/facade.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __importDefault = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Facade = void 0;
var address_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/@segment/facade/dist/address.js [app-ssr] (ecmascript)"));
var clone_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/clone.js [app-ssr] (ecmascript)");
var is_enabled_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/@segment/facade/dist/is-enabled.js [app-ssr] (ecmascript)"));
var new_date_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/new-date/lib/index.js [app-ssr] (ecmascript)"));
var obj_case_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/obj-case/index.js [app-ssr] (ecmascript)"));
var isodate_traverse_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/@segment/isodate-traverse/lib/index.js [app-ssr] (ecmascript)"));
function Facade(obj, opts) {
    opts = opts || {};
    this.raw = clone_1.clone(obj);
    if (!("clone" in opts)) opts.clone = true;
    if (opts.clone) obj = clone_1.clone(obj);
    if (!("traverse" in opts)) opts.traverse = true;
    if (!("timestamp" in obj)) obj.timestamp = new Date();
    else obj.timestamp = new_date_1.default(obj.timestamp);
    if (opts.traverse) isodate_traverse_1.default(obj);
    this.opts = opts;
    this.obj = obj;
}
exports.Facade = Facade;
var f = Facade.prototype;
f.proxy = function(field) {
    var fields = field.split(".");
    field = fields.shift();
    var obj = this[field] || this.obj[field];
    if (!obj) return obj;
    if (typeof obj === "function") obj = obj.call(this) || {};
    if (fields.length === 0) return this.opts.clone ? transform(obj) : obj;
    obj = obj_case_1.default(obj, fields.join("."));
    return this.opts.clone ? transform(obj) : obj;
};
f.field = function(field) {
    var obj = this.obj[field];
    return this.opts.clone ? transform(obj) : obj;
};
Facade.proxy = function(field) {
    return function() {
        return this.proxy(field);
    };
};
Facade.field = function(field) {
    return function() {
        return this.field(field);
    };
};
Facade.multi = function(path) {
    return function() {
        var multi = this.proxy(path + "s");
        if (Array.isArray(multi)) return multi;
        var one = this.proxy(path);
        if (one) one = [
            this.opts.clone ? clone_1.clone(one) : one
        ];
        return one || [];
    };
};
Facade.one = function(path) {
    return function() {
        var one = this.proxy(path);
        if (one) return one;
        var multi = this.proxy(path + "s");
        if (Array.isArray(multi)) return multi[0];
    };
};
f.json = function() {
    var ret = this.opts.clone ? clone_1.clone(this.obj) : this.obj;
    if (this.type) ret.type = this.type();
    return ret;
};
f.rawEvent = function() {
    return this.raw;
};
f.options = function(integration) {
    var obj = this.obj.options || this.obj.context || {};
    var options = this.opts.clone ? clone_1.clone(obj) : obj;
    if (!integration) return options;
    if (!this.enabled(integration)) return;
    var integrations = this.integrations();
    var value = integrations[integration] || obj_case_1.default(integrations, integration);
    if (typeof value !== "object") value = obj_case_1.default(this.options(), integration);
    return typeof value === "object" ? value : {};
};
f.context = f.options;
f.enabled = function(integration) {
    var allEnabled = this.proxy("options.providers.all");
    if (typeof allEnabled !== "boolean") allEnabled = this.proxy("options.all");
    if (typeof allEnabled !== "boolean") allEnabled = this.proxy("integrations.all");
    if (typeof allEnabled !== "boolean") allEnabled = true;
    var enabled = allEnabled && is_enabled_1.default(integration);
    var options = this.integrations();
    if (options.providers && options.providers.hasOwnProperty(integration)) {
        enabled = options.providers[integration];
    }
    if (options.hasOwnProperty(integration)) {
        var settings = options[integration];
        if (typeof settings === "boolean") {
            enabled = settings;
        } else {
            enabled = true;
        }
    }
    return !!enabled;
};
f.integrations = function() {
    return this.obj.integrations || this.proxy("options.providers") || this.options();
};
f.active = function() {
    var active = this.proxy("options.active");
    if (active === null || active === undefined) active = true;
    return active;
};
f.anonymousId = function() {
    return this.field("anonymousId") || this.field("sessionId");
};
f.sessionId = f.anonymousId;
f.groupId = Facade.proxy("options.groupId");
f.traits = function(aliases) {
    var ret = this.proxy("options.traits") || {};
    var id = this.userId();
    aliases = aliases || {};
    if (id) ret.id = id;
    for(var alias in aliases){
        if (Object.prototype.hasOwnProperty.call(aliases, alias)) {
            var value = this[alias] == null ? this.proxy("options.traits." + alias) : this[alias]();
            if (value == null) continue;
            ret[aliases[alias]] = value;
            delete ret[alias];
        }
    }
    return ret;
};
f.library = function() {
    var library = this.proxy("options.library");
    if (!library) return {
        name: "unknown",
        version: null
    };
    if (typeof library === "string") return {
        name: library,
        version: null
    };
    return library;
};
f.device = function() {
    var device = this.proxy("context.device");
    if (typeof device !== "object" || device === null) {
        device = {};
    }
    var library = this.library().name;
    if (device.type) return device;
    if (library.indexOf("ios") > -1) device.type = "ios";
    if (library.indexOf("android") > -1) device.type = "android";
    return device;
};
f.userAgent = Facade.proxy("context.userAgent");
f.timezone = Facade.proxy("context.timezone");
f.timestamp = Facade.field("timestamp");
f.channel = Facade.field("channel");
f.ip = Facade.proxy("context.ip");
f.userId = Facade.field("userId");
address_1.default(f);
function transform(obj) {
    return clone_1.clone(obj);
} //# sourceMappingURL=facade.js.map
}),
"[project]/node_modules/@segment/facade/dist/alias.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __importDefault = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Alias = void 0;
var inherits_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/inherits/inherits.js [app-ssr] (ecmascript)"));
var facade_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/facade.js [app-ssr] (ecmascript)");
function Alias(dictionary, opts) {
    facade_1.Facade.call(this, dictionary, opts);
}
exports.Alias = Alias;
inherits_1.default(Alias, facade_1.Facade);
Alias.prototype.action = function() {
    return "alias";
};
Alias.prototype.type = Alias.prototype.action;
Alias.prototype.previousId = function() {
    return this.field("previousId") || this.field("from");
};
Alias.prototype.from = Alias.prototype.previousId;
Alias.prototype.userId = function() {
    return this.field("userId") || this.field("to");
};
Alias.prototype.to = Alias.prototype.userId; //# sourceMappingURL=alias.js.map
}),
"[project]/node_modules/@segment/facade/dist/is-email.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
var matcher = /.+\@.+\..+/;
function isEmail(string) {
    return matcher.test(string);
}
exports.default = isEmail; //# sourceMappingURL=is-email.js.map
}),
"[project]/node_modules/@segment/facade/dist/group.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __importDefault = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Group = void 0;
var inherits_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/inherits/inherits.js [app-ssr] (ecmascript)"));
var is_email_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/@segment/facade/dist/is-email.js [app-ssr] (ecmascript)"));
var new_date_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/new-date/lib/index.js [app-ssr] (ecmascript)"));
var facade_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/facade.js [app-ssr] (ecmascript)");
function Group(dictionary, opts) {
    facade_1.Facade.call(this, dictionary, opts);
}
exports.Group = Group;
inherits_1.default(Group, facade_1.Facade);
var g = Group.prototype;
g.action = function() {
    return "group";
};
g.type = g.action;
g.groupId = facade_1.Facade.field("groupId");
g.created = function() {
    var created = this.proxy("traits.createdAt") || this.proxy("traits.created") || this.proxy("properties.createdAt") || this.proxy("properties.created");
    if (created) return new_date_1.default(created);
};
g.email = function() {
    var email = this.proxy("traits.email");
    if (email) return email;
    var groupId = this.groupId();
    if (is_email_1.default(groupId)) return groupId;
};
g.traits = function(aliases) {
    var ret = this.properties();
    var id = this.groupId();
    aliases = aliases || {};
    if (id) ret.id = id;
    for(var alias in aliases){
        if (Object.prototype.hasOwnProperty.call(aliases, alias)) {
            var value = this[alias] == null ? this.proxy("traits." + alias) : this[alias]();
            if (value == null) continue;
            ret[aliases[alias]] = value;
            delete ret[alias];
        }
    }
    return ret;
};
g.name = facade_1.Facade.proxy("traits.name");
g.industry = facade_1.Facade.proxy("traits.industry");
g.employees = facade_1.Facade.proxy("traits.employees");
g.properties = function() {
    return this.field("traits") || this.field("properties") || {};
}; //# sourceMappingURL=group.js.map
}),
"[project]/node_modules/@segment/facade/dist/identify.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __importDefault = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Identify = void 0;
var facade_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/facade.js [app-ssr] (ecmascript)");
var obj_case_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/obj-case/index.js [app-ssr] (ecmascript)"));
var inherits_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/inherits/inherits.js [app-ssr] (ecmascript)"));
var is_email_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/@segment/facade/dist/is-email.js [app-ssr] (ecmascript)"));
var new_date_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/new-date/lib/index.js [app-ssr] (ecmascript)"));
var trim = function(str) {
    return str.trim();
};
function Identify(dictionary, opts) {
    facade_1.Facade.call(this, dictionary, opts);
}
exports.Identify = Identify;
inherits_1.default(Identify, facade_1.Facade);
var i = Identify.prototype;
i.action = function() {
    return "identify";
};
i.type = i.action;
i.traits = function(aliases) {
    var ret = this.field("traits") || {};
    var id = this.userId();
    aliases = aliases || {};
    if (id) ret.id = id;
    for(var alias in aliases){
        var value = this[alias] == null ? this.proxy("traits." + alias) : this[alias]();
        if (value == null) continue;
        ret[aliases[alias]] = value;
        if (alias !== aliases[alias]) delete ret[alias];
    }
    return ret;
};
i.email = function() {
    var email = this.proxy("traits.email");
    if (email) return email;
    var userId = this.userId();
    if (is_email_1.default(userId)) return userId;
};
i.created = function() {
    var created = this.proxy("traits.created") || this.proxy("traits.createdAt");
    if (created) return new_date_1.default(created);
};
i.companyCreated = function() {
    var created = this.proxy("traits.company.created") || this.proxy("traits.company.createdAt");
    if (created) {
        return new_date_1.default(created);
    }
};
i.companyName = function() {
    return this.proxy("traits.company.name");
};
i.name = function() {
    var name = this.proxy("traits.name");
    if (typeof name === "string") {
        return trim(name);
    }
    var firstName = this.firstName();
    var lastName = this.lastName();
    if (firstName && lastName) {
        return trim(firstName + " " + lastName);
    }
};
i.firstName = function() {
    var firstName = this.proxy("traits.firstName");
    if (typeof firstName === "string") {
        return trim(firstName);
    }
    var name = this.proxy("traits.name");
    if (typeof name === "string") {
        return trim(name).split(" ")[0];
    }
};
i.lastName = function() {
    var lastName = this.proxy("traits.lastName");
    if (typeof lastName === "string") {
        return trim(lastName);
    }
    var name = this.proxy("traits.name");
    if (typeof name !== "string") {
        return;
    }
    var space = trim(name).indexOf(" ");
    if (space === -1) {
        return;
    }
    return trim(name.substr(space + 1));
};
i.uid = function() {
    return this.userId() || this.username() || this.email();
};
i.description = function() {
    return this.proxy("traits.description") || this.proxy("traits.background");
};
i.age = function() {
    var date = this.birthday();
    var age = obj_case_1.default(this.traits(), "age");
    if (age != null) return age;
    if (!(date instanceof Date)) return;
    var now = new Date();
    return now.getFullYear() - date.getFullYear();
};
i.avatar = function() {
    var traits = this.traits();
    return obj_case_1.default(traits, "avatar") || obj_case_1.default(traits, "photoUrl") || obj_case_1.default(traits, "avatarUrl");
};
i.position = function() {
    var traits = this.traits();
    return obj_case_1.default(traits, "position") || obj_case_1.default(traits, "jobTitle");
};
i.username = facade_1.Facade.proxy("traits.username");
i.website = facade_1.Facade.one("traits.website");
i.websites = facade_1.Facade.multi("traits.website");
i.phone = facade_1.Facade.one("traits.phone");
i.phones = facade_1.Facade.multi("traits.phone");
i.address = facade_1.Facade.proxy("traits.address");
i.gender = facade_1.Facade.proxy("traits.gender");
i.birthday = facade_1.Facade.proxy("traits.birthday"); //# sourceMappingURL=identify.js.map
}),
"[project]/node_modules/@segment/facade/dist/track.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __importDefault = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Track = void 0;
var inherits_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/inherits/inherits.js [app-ssr] (ecmascript)"));
var facade_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/facade.js [app-ssr] (ecmascript)");
var identify_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/identify.js [app-ssr] (ecmascript)");
var is_email_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/@segment/facade/dist/is-email.js [app-ssr] (ecmascript)"));
var obj_case_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/obj-case/index.js [app-ssr] (ecmascript)"));
function Track(dictionary, opts) {
    facade_1.Facade.call(this, dictionary, opts);
}
exports.Track = Track;
inherits_1.default(Track, facade_1.Facade);
var t = Track.prototype;
t.action = function() {
    return "track";
};
t.type = t.action;
t.event = facade_1.Facade.field("event");
t.value = facade_1.Facade.proxy("properties.value");
t.category = facade_1.Facade.proxy("properties.category");
t.id = facade_1.Facade.proxy("properties.id");
t.productId = function() {
    return this.proxy("properties.product_id") || this.proxy("properties.productId");
};
t.promotionId = function() {
    return this.proxy("properties.promotion_id") || this.proxy("properties.promotionId");
};
t.cartId = function() {
    return this.proxy("properties.cart_id") || this.proxy("properties.cartId");
};
t.checkoutId = function() {
    return this.proxy("properties.checkout_id") || this.proxy("properties.checkoutId");
};
t.paymentId = function() {
    return this.proxy("properties.payment_id") || this.proxy("properties.paymentId");
};
t.couponId = function() {
    return this.proxy("properties.coupon_id") || this.proxy("properties.couponId");
};
t.wishlistId = function() {
    return this.proxy("properties.wishlist_id") || this.proxy("properties.wishlistId");
};
t.reviewId = function() {
    return this.proxy("properties.review_id") || this.proxy("properties.reviewId");
};
t.orderId = function() {
    return this.proxy("properties.id") || this.proxy("properties.order_id") || this.proxy("properties.orderId");
};
t.sku = facade_1.Facade.proxy("properties.sku");
t.tax = facade_1.Facade.proxy("properties.tax");
t.name = facade_1.Facade.proxy("properties.name");
t.price = facade_1.Facade.proxy("properties.price");
t.total = facade_1.Facade.proxy("properties.total");
t.repeat = facade_1.Facade.proxy("properties.repeat");
t.coupon = facade_1.Facade.proxy("properties.coupon");
t.shipping = facade_1.Facade.proxy("properties.shipping");
t.discount = facade_1.Facade.proxy("properties.discount");
t.shippingMethod = function() {
    return this.proxy("properties.shipping_method") || this.proxy("properties.shippingMethod");
};
t.paymentMethod = function() {
    return this.proxy("properties.payment_method") || this.proxy("properties.paymentMethod");
};
t.description = facade_1.Facade.proxy("properties.description");
t.plan = facade_1.Facade.proxy("properties.plan");
t.subtotal = function() {
    var subtotal = obj_case_1.default(this.properties(), "subtotal");
    var total = this.total() || this.revenue();
    if (subtotal) return subtotal;
    if (!total) return 0;
    if (this.total()) {
        var n = this.tax();
        if (n) total -= n;
        n = this.shipping();
        if (n) total -= n;
        n = this.discount();
        if (n) total += n;
    }
    return total;
};
t.products = function() {
    var props = this.properties();
    var products = obj_case_1.default(props, "products");
    if (Array.isArray(products)) {
        return products.filter(function(item) {
            return item !== null;
        });
    }
    return [];
};
t.quantity = function() {
    var props = this.obj.properties || {};
    return props.quantity || 1;
};
t.currency = function() {
    var props = this.obj.properties || {};
    return props.currency || "USD";
};
t.referrer = function() {
    return this.proxy("context.referrer.url") || this.proxy("context.page.referrer") || this.proxy("properties.referrer");
};
t.query = facade_1.Facade.proxy("options.query");
t.properties = function(aliases) {
    var ret = this.field("properties") || {};
    aliases = aliases || {};
    for(var alias in aliases){
        if (Object.prototype.hasOwnProperty.call(aliases, alias)) {
            var value = this[alias] == null ? this.proxy("properties." + alias) : this[alias]();
            if (value == null) continue;
            ret[aliases[alias]] = value;
            delete ret[alias];
        }
    }
    return ret;
};
t.username = function() {
    return this.proxy("traits.username") || this.proxy("properties.username") || this.userId() || this.sessionId();
};
t.email = function() {
    var email = this.proxy("traits.email") || this.proxy("properties.email") || this.proxy("options.traits.email");
    if (email) return email;
    var userId = this.userId();
    if (is_email_1.default(userId)) return userId;
};
t.revenue = function() {
    var revenue = this.proxy("properties.revenue");
    var event = this.event();
    var orderCompletedRegExp = /^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;
    if (!revenue && event && event.match(orderCompletedRegExp)) {
        revenue = this.proxy("properties.total");
    }
    return currency(revenue);
};
t.cents = function() {
    var revenue = this.revenue();
    return typeof revenue !== "number" ? this.value() || 0 : revenue * 100;
};
t.identify = function() {
    var json = this.json();
    json.traits = this.traits();
    return new identify_1.Identify(json, this.opts);
};
function currency(val) {
    if (!val) return;
    if (typeof val === "number") {
        return val;
    }
    if (typeof val !== "string") {
        return;
    }
    val = val.replace(/\$/g, "");
    val = parseFloat(val);
    if (!isNaN(val)) {
        return val;
    }
} //# sourceMappingURL=track.js.map
}),
"[project]/node_modules/@segment/facade/dist/page.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __importDefault = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Page = void 0;
var inherits_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/inherits/inherits.js [app-ssr] (ecmascript)"));
var facade_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/facade.js [app-ssr] (ecmascript)");
var track_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/track.js [app-ssr] (ecmascript)");
var is_email_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/@segment/facade/dist/is-email.js [app-ssr] (ecmascript)"));
function Page(dictionary, opts) {
    facade_1.Facade.call(this, dictionary, opts);
}
exports.Page = Page;
inherits_1.default(Page, facade_1.Facade);
var p = Page.prototype;
p.action = function() {
    return "page";
};
p.type = p.action;
p.category = facade_1.Facade.field("category");
p.name = facade_1.Facade.field("name");
p.title = facade_1.Facade.proxy("properties.title");
p.path = facade_1.Facade.proxy("properties.path");
p.url = facade_1.Facade.proxy("properties.url");
p.referrer = function() {
    return this.proxy("context.referrer.url") || this.proxy("context.page.referrer") || this.proxy("properties.referrer");
};
p.properties = function(aliases) {
    var props = this.field("properties") || {};
    var category = this.category();
    var name = this.name();
    aliases = aliases || {};
    if (category) props.category = category;
    if (name) props.name = name;
    for(var alias in aliases){
        if (Object.prototype.hasOwnProperty.call(aliases, alias)) {
            var value = this[alias] == null ? this.proxy("properties." + alias) : this[alias]();
            if (value == null) continue;
            props[aliases[alias]] = value;
            if (alias !== aliases[alias]) delete props[alias];
        }
    }
    return props;
};
p.email = function() {
    var email = this.proxy("context.traits.email") || this.proxy("properties.email");
    if (email) return email;
    var userId = this.userId();
    if (is_email_1.default(userId)) return userId;
};
p.fullName = function() {
    var category = this.category();
    var name = this.name();
    return name && category ? category + " " + name : name;
};
p.event = function(name) {
    return name ? "Viewed " + name + " Page" : "Loaded a Page";
};
p.track = function(name) {
    var json = this.json();
    json.event = this.event(name);
    json.timestamp = this.timestamp();
    json.properties = this.properties();
    return new track_1.Track(json, this.opts);
}; //# sourceMappingURL=page.js.map
}),
"[project]/node_modules/@segment/facade/dist/screen.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __importDefault = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Screen = void 0;
var inherits_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/inherits/inherits.js [app-ssr] (ecmascript)"));
var page_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/page.js [app-ssr] (ecmascript)");
var track_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/track.js [app-ssr] (ecmascript)");
function Screen(dictionary, opts) {
    page_1.Page.call(this, dictionary, opts);
}
exports.Screen = Screen;
inherits_1.default(Screen, page_1.Page);
Screen.prototype.action = function() {
    return "screen";
};
Screen.prototype.type = Screen.prototype.action;
Screen.prototype.event = function(name) {
    return name ? "Viewed " + name + " Screen" : "Loaded a Screen";
};
Screen.prototype.track = function(name) {
    var json = this.json();
    json.event = this.event(name);
    json.timestamp = this.timestamp();
    json.properties = this.properties();
    return new track_1.Track(json, this.opts);
}; //# sourceMappingURL=screen.js.map
}),
"[project]/node_modules/@segment/facade/dist/delete.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __importDefault = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Delete = void 0;
var inherits_1 = __importDefault(__turbopack_context__.r("[project]/node_modules/inherits/inherits.js [app-ssr] (ecmascript)"));
var facade_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/facade.js [app-ssr] (ecmascript)");
function Delete(dictionary, opts) {
    facade_1.Facade.call(this, dictionary, opts);
}
exports.Delete = Delete;
inherits_1.default(Delete, facade_1.Facade);
Delete.prototype.type = function() {
    return "delete";
}; //# sourceMappingURL=delete.js.map
}),
"[project]/node_modules/@segment/facade/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var __assign = /*TURBOPACK member replacement*/ __turbopack_context__.e && /*TURBOPACK member replacement*/ __turbopack_context__.e.__assign || function() {
    __assign = Object.assign || function(t) {
        for(var s, i = 1, n = arguments.length; i < n; i++){
            s = arguments[i];
            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Delete = exports.Screen = exports.Page = exports.Track = exports.Identify = exports.Group = exports.Alias = exports.Facade = void 0;
var facade_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/facade.js [app-ssr] (ecmascript)");
Object.defineProperty(exports, "Facade", {
    enumerable: true,
    get: function() {
        return facade_1.Facade;
    }
});
var alias_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/alias.js [app-ssr] (ecmascript)");
Object.defineProperty(exports, "Alias", {
    enumerable: true,
    get: function() {
        return alias_1.Alias;
    }
});
var group_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/group.js [app-ssr] (ecmascript)");
Object.defineProperty(exports, "Group", {
    enumerable: true,
    get: function() {
        return group_1.Group;
    }
});
var identify_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/identify.js [app-ssr] (ecmascript)");
Object.defineProperty(exports, "Identify", {
    enumerable: true,
    get: function() {
        return identify_1.Identify;
    }
});
var track_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/track.js [app-ssr] (ecmascript)");
Object.defineProperty(exports, "Track", {
    enumerable: true,
    get: function() {
        return track_1.Track;
    }
});
var page_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/page.js [app-ssr] (ecmascript)");
Object.defineProperty(exports, "Page", {
    enumerable: true,
    get: function() {
        return page_1.Page;
    }
});
var screen_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/screen.js [app-ssr] (ecmascript)");
Object.defineProperty(exports, "Screen", {
    enumerable: true,
    get: function() {
        return screen_1.Screen;
    }
});
var delete_1 = __turbopack_context__.r("[project]/node_modules/@segment/facade/dist/delete.js [app-ssr] (ecmascript)");
Object.defineProperty(exports, "Delete", {
    enumerable: true,
    get: function() {
        return delete_1.Delete;
    }
});
exports.default = __assign(__assign({}, facade_1.Facade), {
    Alias: alias_1.Alias,
    Group: group_1.Group,
    Identify: identify_1.Identify,
    Track: track_1.Track,
    Page: page_1.Page,
    Screen: screen_1.Screen,
    Delete: delete_1.Delete
}); //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/isodate/lib/index.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

/**
 * Matcher, slightly modified from:
 *
 * https://github.com/csnover/js-iso8601/blob/lax/iso8601.js
 */ var matcher = /^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;
/**
 * Convert an ISO date string to a date. Fallback to native `Date.parse`.
 *
 * https://github.com/csnover/js-iso8601/blob/lax/iso8601.js
 *
 * @param {String} iso
 * @return {Date}
 */ exports.parse = function(iso) {
    var numericKeys = [
        1,
        5,
        6,
        7,
        11,
        12
    ];
    var arr = matcher.exec(iso);
    var offset = 0;
    // fallback to native parsing
    if (!arr) {
        return new Date(iso);
    }
    /* eslint-disable no-cond-assign */ // remove undefined values
    for(var i = 0, val; val = numericKeys[i]; i++){
        arr[val] = parseInt(arr[val], 10) || 0;
    }
    /* eslint-enable no-cond-assign */ // allow undefined days and months
    arr[2] = parseInt(arr[2], 10) || 1;
    arr[3] = parseInt(arr[3], 10) || 1;
    // month is 0-11
    arr[2]--;
    // allow abitrary sub-second precision
    arr[8] = arr[8] ? (arr[8] + '00').substring(0, 3) : 0;
    // apply timezone if one exists
    if (arr[4] === ' ') {
        offset = new Date().getTimezoneOffset();
    } else if (arr[9] !== 'Z' && arr[10]) {
        offset = arr[11] * 60 + arr[12];
        if (arr[10] === '+') {
            offset = 0 - offset;
        }
    }
    var millis = Date.UTC(arr[1], arr[2], arr[3], arr[5], arr[6] + offset, arr[7], arr[8]);
    return new Date(millis);
};
/**
 * Checks whether a `string` is an ISO date string. `strict` mode requires that
 * the date string at least have a year, month and date.
 *
 * @param {String} string
 * @param {Boolean} strict
 * @return {Boolean}
 */ exports.is = function(string, strict) {
    if (typeof string !== 'string') {
        return false;
    }
    if (strict && /^\d{4}-\d{2}-\d{2}/.test(string) === false) {
        return false;
    }
    return matcher.test(string);
};
}),
"[project]/node_modules/@segment/isodate-traverse/lib/index.js [app-ssr] (ecmascript)", ((__turbopack_context__, module, exports) => {
"use strict";

var isodate = __turbopack_context__.r("[project]/node_modules/@segment/isodate/lib/index.js [app-ssr] (ecmascript)");
/**
 * Expose `traverse`.
 */ module.exports = traverse;
/**
 * Recursively traverse an object or array, and convert
 * all ISO date strings parse into Date objects.
 *
 * @param {Object} input - object, array, or string to convert
 * @param {Boolean} strict - only convert strings with year, month, and date
 * @return {Object}
 */ function traverse(input, strict) {
    if (strict === undefined) strict = true;
    if (input && typeof input === 'object') {
        return traverseObject(input, strict);
    } else if (Array.isArray(input)) {
        return traverseArray(input, strict);
    } else if (isodate.is(input, strict)) {
        return isodate.parse(input);
    }
    return input;
}
/**
 * Object traverser helper function.
 *
 * @param {Object} obj - object to traverse
 * @param {Boolean} strict - only convert strings with year, month, and date
 * @return {Object}
 */ function traverseObject(obj, strict) {
    Object.keys(obj).forEach(function(key) {
        obj[key] = traverse(obj[key], strict);
    });
    return obj;
}
/**
 * Array traverser helper function
 *
 * @param {Array} arr - array to traverse
 * @param {Boolean} strict - only convert strings with year, month, and date
 * @return {Array}
 */ function traverseArray(arr, strict) {
    arr.forEach(function(value, index) {
        arr[index] = traverse(value, strict);
    });
    return arr;
}
}),
];

//# sourceMappingURL=node_modules_%40segment_aa20c157._.js.map