(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([]);
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/abis.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "erc1155Abi",
    ()=>erc1155Abi,
    "erc20Abi",
    ()=>erc20Abi,
    "erc721Abi",
    ()=>erc721Abi,
    "singleBalanceCheckerAbi",
    ()=>singleBalanceCheckerAbi
]);
const erc20Abi = [
    {
        constant: true,
        inputs: [],
        name: "name",
        outputs: [
            {
                name: "",
                type: "string"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        constant: false,
        inputs: [
            {
                name: "_spender",
                type: "address"
            },
            {
                name: "_value",
                type: "uint256"
            }
        ],
        name: "approve",
        outputs: [
            {
                name: "success",
                type: "bool"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        constant: true,
        inputs: [],
        name: "totalSupply",
        outputs: [
            {
                name: "",
                type: "uint256"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        constant: false,
        inputs: [
            {
                name: "_from",
                type: "address"
            },
            {
                name: "_to",
                type: "address"
            },
            {
                name: "_value",
                type: "uint256"
            }
        ],
        name: "transferFrom",
        outputs: [
            {
                name: "success",
                type: "bool"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        constant: true,
        inputs: [],
        name: "decimals",
        outputs: [
            {
                name: "",
                type: "uint256"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        constant: true,
        inputs: [
            {
                name: "_owner",
                type: "address"
            }
        ],
        name: "balanceOf",
        outputs: [
            {
                name: "balance",
                type: "uint256"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        constant: true,
        inputs: [],
        name: "symbol",
        outputs: [
            {
                name: "",
                type: "string"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        constant: false,
        inputs: [
            {
                name: "_to",
                type: "address"
            },
            {
                name: "_value",
                type: "uint256"
            }
        ],
        name: "transfer",
        outputs: [
            {
                name: "success",
                type: "bool"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        constant: false,
        inputs: [
            {
                name: "_spender",
                type: "address"
            },
            {
                name: "_value",
                type: "uint256"
            },
            {
                name: "_extraData",
                type: "bytes"
            }
        ],
        name: "approveAndCall",
        outputs: [
            {
                name: "success",
                type: "bool"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        constant: true,
        inputs: [
            {
                name: "_owner",
                type: "address"
            },
            {
                name: "_spender",
                type: "address"
            }
        ],
        name: "allowance",
        outputs: [
            {
                name: "remaining",
                type: "uint256"
            }
        ],
        payable: false,
        type: "function"
    },
    {
        inputs: [
            {
                name: "_initialAmount",
                type: "uint256"
            },
            {
                name: "_tokenName",
                type: "string"
            },
            {
                name: "_decimalUnits",
                type: "uint8"
            },
            {
                name: "_tokenSymbol",
                type: "string"
            }
        ],
        type: "constructor"
    },
    {
        payable: false,
        type: "fallback"
    }
];
const erc721Abi = [
    {
        constant: true,
        inputs: [
            {
                name: "interfaceID",
                type: "bytes4"
            }
        ],
        name: "supportsInterface",
        outputs: [
            {
                name: "",
                type: "bool"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: true,
        inputs: [],
        name: "name",
        outputs: [
            {
                name: "_name",
                type: "string"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: true,
        inputs: [
            {
                name: "_tokenId",
                type: "uint256"
            }
        ],
        name: "getApproved",
        outputs: [
            {
                name: "",
                type: "address"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: false,
        inputs: [
            {
                name: "_approved",
                type: "address"
            },
            {
                name: "_tokenId",
                type: "uint256"
            }
        ],
        name: "approve",
        outputs: [],
        payable: true,
        stateMutability: "payable",
        type: "function"
    },
    {
        constant: true,
        inputs: [],
        name: "totalSupply",
        outputs: [
            {
                name: "",
                type: "uint256"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: false,
        inputs: [
            {
                name: "_from",
                type: "address"
            },
            {
                name: "_to",
                type: "address"
            },
            {
                name: "_tokenId",
                type: "uint256"
            }
        ],
        name: "transferFrom",
        outputs: [],
        payable: true,
        stateMutability: "payable",
        type: "function"
    },
    {
        constant: true,
        inputs: [
            {
                name: "_owner",
                type: "address"
            },
            {
                name: "_index",
                type: "uint256"
            }
        ],
        name: "tokenOfOwnerByIndex",
        outputs: [
            {
                name: "",
                type: "uint256"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: false,
        inputs: [
            {
                name: "_from",
                type: "address"
            },
            {
                name: "_to",
                type: "address"
            },
            {
                name: "_tokenId",
                type: "uint256"
            }
        ],
        name: "safeTransferFrom",
        outputs: [],
        payable: true,
        stateMutability: "payable",
        type: "function"
    },
    {
        constant: true,
        inputs: [
            {
                name: "_index",
                type: "uint256"
            }
        ],
        name: "tokenByIndex",
        outputs: [
            {
                name: "",
                type: "uint256"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: true,
        inputs: [
            {
                name: "_tokenId",
                type: "uint256"
            }
        ],
        name: "ownerOf",
        outputs: [
            {
                name: "",
                type: "address"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: true,
        inputs: [
            {
                name: "_owner",
                type: "address"
            }
        ],
        name: "balanceOf",
        outputs: [
            {
                name: "",
                type: "uint256"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: true,
        inputs: [],
        name: "symbol",
        outputs: [
            {
                name: "_symbol",
                type: "string"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: true,
        inputs: [
            {
                name: "_tokenId",
                type: "uint256"
            }
        ],
        name: "tokenURI",
        outputs: [
            {
                name: "",
                type: "string"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    }
];
const erc1155Abi = [
    {
        inputs: [
            {
                internalType: "address",
                name: "_owner",
                type: "address"
            },
            {
                internalType: "uint256",
                name: "_id",
                type: "uint256"
            }
        ],
        name: "balanceOf",
        outputs: [
            {
                internalType: "uint256",
                name: "",
                type: "uint256"
            }
        ],
        stateMutability: "view",
        type: "function"
    },
    {
        inputs: [
            {
                internalType: "address[]",
                name: "_owners",
                type: "address[]"
            },
            {
                internalType: "uint256[]",
                name: "_ids",
                type: "uint256[]"
            }
        ],
        name: "balanceOfBatch",
        outputs: [
            {
                internalType: "uint256[]",
                name: "",
                type: "uint256[]"
            }
        ],
        stateMutability: "view",
        type: "function"
    },
    {
        inputs: [
            {
                internalType: "address",
                name: "_owner",
                type: "address"
            },
            {
                internalType: "address",
                name: "_operator",
                type: "address"
            }
        ],
        name: "isApprovedForAll",
        outputs: [
            {
                internalType: "bool",
                name: "isOperator",
                type: "bool"
            }
        ],
        stateMutability: "view",
        type: "function"
    },
    {
        inputs: [
            {
                internalType: "address",
                name: "_from",
                type: "address"
            },
            {
                internalType: "address",
                name: "_to",
                type: "address"
            },
            {
                internalType: "uint256",
                name: "_id",
                type: "uint256"
            },
            {
                internalType: "uint256",
                name: "_amount",
                type: "uint256"
            },
            {
                internalType: "bytes",
                name: "_data",
                type: "bytes"
            }
        ],
        name: "safeTransferFrom",
        outputs: [],
        stateMutability: "nonpayable",
        type: "function"
    },
    {
        inputs: [
            {
                internalType: "address",
                name: "_operator",
                type: "address"
            },
            {
                internalType: "bool",
                name: "_approved",
                type: "bool"
            }
        ],
        name: "setApprovalForAll",
        outputs: [],
        stateMutability: "nonpayable",
        type: "function"
    },
    {
        inputs: [
            {
                internalType: "bytes4",
                name: "_interfaceID",
                type: "bytes4"
            }
        ],
        name: "supportsInterface",
        outputs: [
            {
                internalType: "bool",
                name: "",
                type: "bool"
            }
        ],
        stateMutability: "pure",
        type: "function"
    },
    {
        inputs: [
            {
                internalType: "uint256",
                name: "_id",
                type: "uint256"
            }
        ],
        name: "uri",
        outputs: [
            {
                internalType: "string",
                name: "",
                type: "string"
            }
        ],
        stateMutability: "view",
        type: "function"
    }
];
const singleBalanceCheckerAbi = [
    {
        payable: true,
        stateMutability: "payable",
        type: "fallback"
    },
    {
        constant: true,
        inputs: [
            {
                name: "user",
                type: "address"
            },
            {
                name: "token",
                type: "address"
            }
        ],
        name: "tokenBalance",
        outputs: [
            {
                name: "",
                type: "uint256"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    },
    {
        constant: true,
        inputs: [
            {
                name: "users",
                type: "address[]"
            },
            {
                name: "tokens",
                type: "address[]"
            }
        ],
        name: "balances",
        outputs: [
            {
                name: "",
                type: "uint256[]"
            }
        ],
        payable: false,
        stateMutability: "view",
        type: "function"
    }
];
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ARBITRUM_MAINNET_CHAIN_ID",
    ()=>ARBITRUM_MAINNET_CHAIN_ID,
    "ARBITRUM_TESTNET_CHAIN_ID",
    ()=>ARBITRUM_TESTNET_CHAIN_ID,
    "AVALANCHE_MAINNET_CHAIN_ID",
    ()=>AVALANCHE_MAINNET_CHAIN_ID,
    "AVALANCHE_TESTNET_CHAIN_ID",
    ()=>AVALANCHE_TESTNET_CHAIN_ID,
    "BASE_CHAIN_ID",
    ()=>BASE_CHAIN_ID,
    "BASE_TESTNET_CHAIN_ID",
    ()=>BASE_TESTNET_CHAIN_ID,
    "BSC_MAINNET_CHAIN_ID",
    ()=>BSC_MAINNET_CHAIN_ID,
    "BSC_TESTNET_CHAIN_ID",
    ()=>BSC_TESTNET_CHAIN_ID,
    "BUNDLER_METHOD_TYPES",
    ()=>BUNDLER_METHOD_TYPES,
    "CELO_MAINNET_CHAIN_ID",
    ()=>CELO_MAINNET_CHAIN_ID,
    "CHAIN_ID_TO_GAS_LIMIT_BUFFER_MAP",
    ()=>CHAIN_ID_TO_GAS_LIMIT_BUFFER_MAP,
    "COINGECKO_PLATFORMS_CHAIN_CODE_MAP",
    ()=>COINGECKO_PLATFORMS_CHAIN_CODE_MAP,
    "COINGECKO_SUPPORTED_CURRENCIES",
    ()=>COINGECKO_SUPPORTED_CURRENCIES,
    "CONTRACT_TYPE_ERC1155",
    ()=>CONTRACT_TYPE_ERC1155,
    "CONTRACT_TYPE_ERC20",
    ()=>CONTRACT_TYPE_ERC20,
    "CONTRACT_TYPE_ERC721",
    ()=>CONTRACT_TYPE_ERC721,
    "CONTRACT_TYPE_ETH",
    ()=>CONTRACT_TYPE_ETH,
    "ERC1155_INTERFACE_ID",
    ()=>ERC1155_INTERFACE_ID,
    "ERC721_ENUMERABLE_INTERFACE_ID",
    ()=>ERC721_ENUMERABLE_INTERFACE_ID,
    "ERC721_INTERFACE_ID",
    ()=>ERC721_INTERFACE_ID,
    "ERC721_METADATA_INTERFACE_ID",
    ()=>ERC721_METADATA_INTERFACE_ID,
    "GAS_ESTIMATE_TYPES",
    ()=>GAS_ESTIMATE_TYPES,
    "LINEA_CHAIN_ID",
    ()=>LINEA_CHAIN_ID,
    "LINEA_SEPOLIA_CHAIN_ID",
    ()=>LINEA_SEPOLIA_CHAIN_ID,
    "LOCALHOST",
    ()=>LOCALHOST,
    "MAINNET_CHAIN_ID",
    ()=>MAINNET_CHAIN_ID,
    "METHOD_TYPES",
    ()=>METHOD_TYPES,
    "MM_NFT_API_SUPPORTED_CHAINS",
    ()=>MM_NFT_API_SUPPORTED_CHAINS,
    "MM_TOKEN_API_SUPPORTED_CHAINS",
    ()=>MM_TOKEN_API_SUPPORTED_CHAINS,
    "OLD_ERC721_LIST",
    ()=>OLD_ERC721_LIST,
    "OPTIMISM_MAINNET_CHAIN_ID",
    ()=>OPTIMISM_MAINNET_CHAIN_ID,
    "OPTIMISM_TESTNET_CHAIN_ID",
    ()=>OPTIMISM_TESTNET_CHAIN_ID,
    "PAYMASTER_METHOD_TYPES",
    ()=>PAYMASTER_METHOD_TYPES,
    "POLYGON_AMOY_CHAIN_ID",
    ()=>POLYGON_AMOY_CHAIN_ID,
    "POLYGON_CHAIN_ID",
    ()=>POLYGON_CHAIN_ID,
    "SEPOLIA_CHAIN_ID",
    ()=>SEPOLIA_CHAIN_ID,
    "SMART_ACCOUNT",
    ()=>SMART_ACCOUNT,
    "SUPPORTED_NETWORKS",
    ()=>SUPPORTED_NETWORKS,
    "TEST_CHAINS",
    ()=>TEST_CHAINS,
    "TRANSACTION_ENVELOPE_TYPES",
    ()=>TRANSACTION_ENVELOPE_TYPES,
    "XDAI_CHAIN_ID",
    ()=>XDAI_CHAIN_ID
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
;
const LOCALHOST = "localhost";
const CONTRACT_TYPE_ETH = "eth";
const CONTRACT_TYPE_ERC20 = "erc20";
const CONTRACT_TYPE_ERC721 = "erc721";
const CONTRACT_TYPE_ERC1155 = "erc1155";
const ERC1155_INTERFACE_ID = "0xd9b67a26";
const ERC721_INTERFACE_ID = "0x80ac58cd";
const ERC721_METADATA_INTERFACE_ID = "0x5b5e139f";
const ERC721_ENUMERABLE_INTERFACE_ID = "0x780e9d63";
const MAINNET_CHAIN_ID = "0x1";
const POLYGON_CHAIN_ID = "0x89";
const BSC_MAINNET_CHAIN_ID = "0x38";
const AVALANCHE_MAINNET_CHAIN_ID = "0xa86a";
const XDAI_CHAIN_ID = "0x64";
const ARBITRUM_MAINNET_CHAIN_ID = "0xa4b1";
const OPTIMISM_MAINNET_CHAIN_ID = "0xa";
const CELO_MAINNET_CHAIN_ID = "0xa4ec";
const BASE_CHAIN_ID = "0x2105";
const LINEA_CHAIN_ID = "0xe708";
const SEPOLIA_CHAIN_ID = "0xaa36a7";
const POLYGON_AMOY_CHAIN_ID = "0x13882";
const BSC_TESTNET_CHAIN_ID = "0x61";
const AVALANCHE_TESTNET_CHAIN_ID = "0xa869";
const ARBITRUM_TESTNET_CHAIN_ID = "0x66eee";
const OPTIMISM_TESTNET_CHAIN_ID = "0xaa37dc";
const BASE_TESTNET_CHAIN_ID = "0x14a34";
const LINEA_SEPOLIA_CHAIN_ID = "0xe705";
// Don't change this. It will break production builds.
// We use this syntax because if both injections fail, we replace the "process.env.VITE_APP_INFURA_PROJECT_KEY" using define replacement
const INFURA_KEY = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getEnvVariable"])("VITE_APP_INFURA_PROJECT_KEY") || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.VITE_APP_INFURA_PROJECT_KEY;
const SUPPORTED_NETWORKS = {
    [MAINNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://etherscan.io",
        chainId: MAINNET_CHAIN_ID,
        displayName: "Ethereum",
        logo: "eth.svg",
        rpcTarget: `https://mainnet.infura.io/v3/${INFURA_KEY}`,
        ticker: "ETH",
        tickerName: "Ethereum"
    },
    [POLYGON_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://polygonscan.com",
        chainId: POLYGON_CHAIN_ID,
        displayName: "Polygon",
        logo: "polygon.svg",
        rpcTarget: `https://polygon-mainnet.infura.io/v3/${INFURA_KEY}`,
        ticker: "POL",
        tickerName: "Polygon Ecosystem Token"
    },
    [BSC_MAINNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://bscscan.com",
        chainId: BSC_MAINNET_CHAIN_ID,
        displayName: "Binance Smart Chain (BSC)",
        logo: "bnb_logo.svg",
        rpcTarget: `https://bsc-dataseed.binance.org`,
        ticker: "BNB",
        tickerName: "Binance Coin"
    },
    [AVALANCHE_MAINNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://snowtrace.io",
        chainId: AVALANCHE_MAINNET_CHAIN_ID,
        displayName: "Avalanche",
        logo: "avax.svg",
        rpcTarget: `https://api.avax.network/ext/bc/C/rpc`,
        ticker: "AVAX",
        tickerName: "Avalanche"
    },
    [OPTIMISM_MAINNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://optimistic.etherscan.io",
        chainId: OPTIMISM_MAINNET_CHAIN_ID,
        displayName: "Optimism",
        logo: "optimism.svg",
        rpcTarget: `https://optimism-mainnet.infura.io/v3/${INFURA_KEY}`,
        ticker: "ETH",
        tickerName: "Ethereum"
    },
    [CELO_MAINNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://explorer.celo.org",
        chainId: CELO_MAINNET_CHAIN_ID,
        displayName: "Celo Mainnet",
        logo: "celo.svg",
        rpcTarget: `https://celo-mainnet.infura.io/v3/${INFURA_KEY}`,
        ticker: "CELO",
        tickerName: "Celo"
    },
    [ARBITRUM_MAINNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://arbiscan.io",
        chainId: ARBITRUM_MAINNET_CHAIN_ID,
        displayName: "Arbitrum One",
        logo: "arbitrum.svg",
        rpcTarget: `https://arbitrum-mainnet.infura.io/v3/${INFURA_KEY}`,
        ticker: "ETH",
        tickerName: "Ethereum"
    },
    [BASE_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://basescan.org",
        chainId: BASE_CHAIN_ID,
        displayName: "Base",
        logo: "base.svg",
        rpcTarget: `https://mainnet.base.org`,
        ticker: "ETH",
        tickerName: "Ethereum"
    },
    [LINEA_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://lineascan.build",
        chainId: LINEA_CHAIN_ID,
        displayName: "Linea",
        logo: "linea.svg",
        rpcTarget: `https://linea-mainnet.infura.io/v3/${INFURA_KEY}`,
        ticker: "ETH",
        tickerName: "Ethereum"
    },
    [SEPOLIA_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://sepolia.etherscan.io",
        chainId: SEPOLIA_CHAIN_ID,
        displayName: "Sepolia Test Network",
        logo: "eth.svg",
        rpcTarget: `https://sepolia.infura.io/v3/${INFURA_KEY}`,
        ticker: "ETH",
        tickerName: "Ethereum",
        isTestnet: true
    },
    [LINEA_SEPOLIA_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://sepolia.lineascan.build",
        chainId: LINEA_SEPOLIA_CHAIN_ID,
        displayName: "Linea Sepolia Testnet",
        logo: "linea.svg",
        rpcTarget: `https://linea-sepolia.infura.io/v3/${INFURA_KEY}`,
        ticker: "ETH",
        tickerName: "Ethereum",
        isTestnet: true
    },
    [POLYGON_AMOY_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://amoy.polygonscan.com",
        chainId: POLYGON_AMOY_CHAIN_ID,
        displayName: "Polygon Amoy",
        logo: "polygon.svg",
        rpcTarget: `https://polygon-amoy.infura.io/v3/${INFURA_KEY}`,
        ticker: "POL",
        tickerName: "Polygon Ecosystem Token",
        isTestnet: true
    },
    [BSC_TESTNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://testnet.bscscan.com",
        chainId: BSC_TESTNET_CHAIN_ID,
        displayName: "Binance Smart Chain Testnet",
        logo: "bnb_logo.svg",
        rpcTarget: `https://data-seed-prebsc-1-s1.binance.org:8545`,
        ticker: "BNB",
        tickerName: "Binance Coin",
        isTestnet: true
    },
    [AVALANCHE_TESTNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://testnet.snowtrace.io",
        chainId: AVALANCHE_TESTNET_CHAIN_ID,
        displayName: "Avalanche Testnet C-Chain",
        logo: "avax.svg",
        rpcTarget: `https://api.avax-test.network/ext/bc/C/rpc`,
        ticker: "AVAX",
        tickerName: "Avalanche",
        isTestnet: true
    },
    [ARBITRUM_TESTNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://sepolia.arbiscan.io",
        chainId: ARBITRUM_TESTNET_CHAIN_ID,
        displayName: "Arbitrum Sepolia",
        logo: "arbitrum.svg",
        rpcTarget: `https://arbitrum-sepolia.infura.io/v3/${INFURA_KEY}`,
        ticker: "ETH",
        tickerName: "Ethereum",
        isTestnet: true
    },
    [OPTIMISM_TESTNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://sepolia-optimistic.etherscan.io",
        chainId: OPTIMISM_TESTNET_CHAIN_ID,
        displayName: "Optimism Sepolia",
        logo: "optimism.svg",
        rpcTarget: `https://optimism-sepolia.infura.io/v3/${INFURA_KEY}`,
        ticker: "ETH",
        tickerName: "Ethereum",
        isTestnet: true
    },
    [BASE_TESTNET_CHAIN_ID]: {
        chainNamespace: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155,
        decimals: 18,
        blockExplorerUrl: "https://sepolia.basescan.org",
        chainId: BASE_TESTNET_CHAIN_ID,
        displayName: "Base Sepolia",
        logo: "base.svg",
        rpcTarget: `https://sepolia.base.org`,
        ticker: "ETH",
        tickerName: "Ethereum",
        isTestnet: true
    }
};
const METHOD_TYPES = {
    GET_ACCOUNTS: "eth_accounts",
    ETH_TRANSACTION: "eth_sendTransaction",
    ETH_SIGN_TRANSACTION: "eth_signTransaction",
    // In TransferToken UI of WS, we call this method via JRPC provider to get gas estimation for a user op. Renamed to avoid conflict with bundler's gas estimation method
    ETH_ESTIMATE_AA_TRANSACTION_GAS: "eth_estimateAATransactionGas",
    // start bundler methods
    ETH_ESTIMATE_USER_OPERATION_GAS: "eth_estimateUserOperationGas",
    ETH_GET_SUPPORTED_ENTRY_POINTS: "eth_supportedEntryPoints",
    ETH_GET_USER_OPERATION: "eth_getUserOperationByHash",
    ETH_GET_USER_OPERATION_RECEIPT: "eth_getUserOperationReceipt",
    ETH_SEND_USER_OPERATION: "eth_sendUserOperation",
    PIMLICO_GET_USER_OPERATION_GAS_PRICE: "pimlico_getUserOperationGasPrice",
    PIMLICO_GET_USER_OPERATION_STATUS: "pimlico_getUserOperationStatus",
    PIMLICO_SIMULATE_ASSET_CHANGES: "pimlico_simulateAssetChanges",
    BICONOMY_GET_GAS_FEE_VALUES: "biconomy_getGasFeeValues",
    BICONOMY_GET_USER_OPERATION_STATUS: "biconomy_getUserOperationStatus",
    // end bundler methods
    // start paymaster methods
    ETH_GET_PAYMASTER_DATA: "pm_getPaymasterData",
    ETH_GET_PAYMASTER_STUB_DATA: "pm_getPaymasterStubData",
    ETH_SPONSOR_USER_OPERATION: "pm_sponsorUserOperation",
    ETH_GET_FEE_QUOTE_OR_DATA: "pm_getFeeQuoteOrData",
    PIMLICO_GET_TOKEN_QUOTES: "pimlico_getTokenQuotes",
    // end paymaster methods
    ETH_REQUEST_ACCOUNTS: "eth_requestAccounts",
    ETH_SEND_RAW_TRANSACTION: "eth_sendRawTransaction",
    ETH_SIGN: "eth_sign",
    ETH_SIGN_TYPED_DATA_V4: "eth_signTypedData_v4",
    PERSONAL_SIGN: "personal_sign",
    ETH_GET_TRANSACTION_COUNT: "eth_getTransactionCount",
    ETH_GET_TRANSACTION_BY_HASH: "eth_getTransactionByHash",
    ETH_GET_TRANSACTION_RECEIPT: "eth_getTransactionReceipt",
    WATCH_ASSET: "wallet_watchAsset",
    ETH_GET_BLOCK_BY_HASH: "eth_getBlockByHash",
    ETH_GET_CODE: "eth_getCode",
    ETH_GET_GAS_PRICE: "eth_gasPrice",
    ETH_PRIVATE_KEY: "eth_privateKey",
    PRIVATE_KEY: "private_key",
    ETH_PUBLIC_KEY: "eth_publicKey",
    PUBLIC_KEY: "public_key",
    SWITCH_CHAIN: "wallet_switchEthereumChain",
    ADD_CHAIN: "wallet_addEthereumChain"
};
const BUNDLER_METHOD_TYPES = [
    METHOD_TYPES.ETH_ESTIMATE_USER_OPERATION_GAS,
    METHOD_TYPES.ETH_GET_SUPPORTED_ENTRY_POINTS,
    METHOD_TYPES.ETH_GET_USER_OPERATION,
    METHOD_TYPES.ETH_GET_USER_OPERATION_RECEIPT,
    METHOD_TYPES.ETH_SEND_USER_OPERATION,
    METHOD_TYPES.PIMLICO_GET_USER_OPERATION_GAS_PRICE,
    METHOD_TYPES.PIMLICO_GET_USER_OPERATION_STATUS,
    METHOD_TYPES.PIMLICO_SIMULATE_ASSET_CHANGES,
    METHOD_TYPES.BICONOMY_GET_GAS_FEE_VALUES,
    METHOD_TYPES.BICONOMY_GET_USER_OPERATION_STATUS
];
const PAYMASTER_METHOD_TYPES = [
    METHOD_TYPES.ETH_GET_PAYMASTER_DATA,
    METHOD_TYPES.ETH_GET_PAYMASTER_STUB_DATA,
    METHOD_TYPES.ETH_SPONSOR_USER_OPERATION,
    METHOD_TYPES.PIMLICO_GET_TOKEN_QUOTES,
    METHOD_TYPES.ETH_GET_FEE_QUOTE_OR_DATA
];
const TRANSACTION_ENVELOPE_TYPES = {
    LEGACY: "0x0",
    ACCESS_LIST: "0x1",
    FEE_MARKET: "0x2"
};
const GAS_ESTIMATE_TYPES = {
    // Fee Market describes the way gas is set after the london hardfork, and was
    // defined by EIP-1559.
    FEE_MARKET: "fee-market",
    // Legacy describes gasPrice estimates from before london hardfork, when the
    // user is connected to mainnet and are presented with fast/average/slow
    // estimate levels to choose from.
    LEGACY: "legacy",
    // EthGasPrice describes a gasPrice estimate received from eth_gasPrice. Post
    // london this value should only be used for legacy type transactions when on
    // networks that support EIP-1559. This type of estimate is the most accurate
    // to display on custom networks that don't support EIP-1559.
    ETH_GASPRICE: "eth_gasPrice",
    // NoEstimate describes the state of the controller before receiving its first
    // estimate.
    NONE: "none"
};
// https://help.optimism.io/hc/en-us/articles/4411895794715-Transaction-fees
const CHAIN_ID_TO_GAS_LIMIT_BUFFER_MAP = {
    [OPTIMISM_MAINNET_CHAIN_ID]: 1,
    [OPTIMISM_TESTNET_CHAIN_ID]: 1
};
const OLD_ERC721_LIST = {
    "0x06012c8cf97bead5deae237070f9587f8e7a266d": {
        name: "Cryptokitties",
        logo: "dapp-cryptokitty.svg",
        erc20: true,
        symbol: "CK",
        decimals: 0
    }
};
const TEST_CHAINS = [
    SEPOLIA_CHAIN_ID
];
const MM_TOKEN_API_SUPPORTED_CHAINS = [
    MAINNET_CHAIN_ID,
    SEPOLIA_CHAIN_ID,
    BSC_MAINNET_CHAIN_ID,
    BSC_TESTNET_CHAIN_ID,
    OPTIMISM_MAINNET_CHAIN_ID,
    OPTIMISM_TESTNET_CHAIN_ID,
    AVALANCHE_MAINNET_CHAIN_ID,
    AVALANCHE_TESTNET_CHAIN_ID,
    ARBITRUM_MAINNET_CHAIN_ID,
    ARBITRUM_TESTNET_CHAIN_ID,
    POLYGON_CHAIN_ID,
    POLYGON_AMOY_CHAIN_ID,
    CELO_MAINNET_CHAIN_ID,
    BASE_CHAIN_ID,
    BASE_TESTNET_CHAIN_ID,
    LINEA_CHAIN_ID,
    LINEA_SEPOLIA_CHAIN_ID
];
const MM_NFT_API_SUPPORTED_CHAINS = [
    MAINNET_CHAIN_ID,
    POLYGON_CHAIN_ID,
    BSC_MAINNET_CHAIN_ID,
    AVALANCHE_MAINNET_CHAIN_ID,
    LINEA_CHAIN_ID,
    BASE_CHAIN_ID
];
const COINGECKO_SUPPORTED_CURRENCIES = new Set([
    "btc",
    "eth",
    "ltc",
    "bch",
    "bnb",
    "eos",
    "xrp",
    "xlm",
    "link",
    "dot",
    "yfi",
    "usd",
    "aed",
    "ars",
    "aud",
    "bdt",
    "bhd",
    "bmd",
    "brl",
    "cad",
    "chf",
    "clp",
    "cny",
    "czk",
    "dkk",
    "eur",
    "gbp",
    "hkd",
    "huf",
    "idr",
    "ils",
    "inr",
    "jpy",
    "krw",
    "kwd",
    "lkr",
    "mmk",
    "mxn",
    "myr",
    "ngn",
    "nok",
    "nzd",
    "php",
    "pkr",
    "pln",
    "rub",
    "sar",
    "sek",
    "sgd",
    "thb",
    "try",
    "twd",
    "uah",
    "vef",
    "vnd",
    "zar",
    "xdr",
    "xag",
    "xau",
    "bits",
    "sats"
]);
const COINGECKO_PLATFORMS_CHAIN_CODE_MAP = {
    [POLYGON_CHAIN_ID]: {
        platform: "polygon-pos",
        currency: "pol"
    },
    [BSC_MAINNET_CHAIN_ID]: {
        platform: "binance-smart-chain",
        currency: "bnb"
    },
    [MAINNET_CHAIN_ID]: {
        platform: "ethereum",
        currency: "eth"
    },
    [ARBITRUM_MAINNET_CHAIN_ID]: {
        platform: "arbitrum-one",
        currency: "eth"
    },
    [OPTIMISM_MAINNET_CHAIN_ID]: {
        platform: "optimistic-ethereum",
        currency: "eth"
    },
    [CELO_MAINNET_CHAIN_ID]: {
        platform: "celo",
        currency: "celo"
    },
    [XDAI_CHAIN_ID]: {
        platform: "xdai",
        currency: "xDAI"
    },
    [AVALANCHE_MAINNET_CHAIN_ID]: {
        platform: "avalanche",
        currency: "avax"
    },
    [BASE_CHAIN_ID]: {
        platform: "base",
        currency: "eth"
    }
};
const SMART_ACCOUNT = {
    BICONOMY: "biconomy",
    KERNEL: "kernel",
    SAFE: "safe",
    TRUST: "trust",
    // TODO: disabled because of pimlico issues
    LIGHT: "light",
    SIMPLE: "simple",
    NEXUS: "nexus",
    METAMASK: "metamask"
};
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/contractAddresses.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SINGLE_CALL_BALANCES_ADDRESSES",
    ()=>SINGLE_CALL_BALANCES_ADDRESSES
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
const SINGLE_CALL_BALANCES_ADDRESSES = {
    [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MAINNET_CHAIN_ID"]]: "0xb1f8e55c7f64d203c1400b9d8555d050f94adf39",
    // [SEPOLIA_CHAIN_ID]: SINGLE_CALL_BALANCES_ADDRESS_SEPOLIA,
    // [FANTOM_CHAIN_ID]: "0x07f697424ABe762bB808c109860c04eA488ff92B",
    [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BSC_MAINNET_CHAIN_ID"]]: "0x2352c63A83f9Fd126af8676146721Fa00924d7e4",
    [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["OPTIMISM_MAINNET_CHAIN_ID"]]: "0xB1c568e9C3E6bdaf755A60c7418C269eb11524FC",
    [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["POLYGON_CHAIN_ID"]]: "0x2352c63A83f9Fd126af8676146721Fa00924d7e4",
    [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AVALANCHE_MAINNET_CHAIN_ID"]]: "0xD023D153a0DFa485130ECFdE2FAA7e612EF94818",
    [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ARBITRUM_MAINNET_CHAIN_ID"]]: "0x151E24A486D7258dd7C33Fb67E4bB01919B7B32c"
};
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Account/AccountTrackerController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AccountTrackerController",
    ()=>AccountTrackerController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$async$2d$mutex$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/async-mutex/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$providers$2f$provider$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/providers/provider-browser.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$maths$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/utils/maths.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/contract/contract.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/abis.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$contractAddresses$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/contractAddresses.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
const ZERO_ADDRESS = "0x0000000000000000000000000000000000000000";
/**
 * Tracks accounts based on blocks.
 * If block tracker provides latest block, we query accounts from it.
 * Preferences state changes also retrigger accounts update.
 * Network state changes also retrigger accounts update.
 */ class AccountTrackerController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseController"] {
    constructor({ config, state, provider, blockTracker, getIdentities, onPreferencesStateChange, getCurrentChainId }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "blockTracker", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "mutex", new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$async$2d$mutex$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Mutex"]());
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "ethersProvider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getIdentities", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getCurrentChainId", void 0);
        this.defaultState = {
            accounts: {}
        };
        this.initialize();
        this.provider = provider;
        this.blockTracker = blockTracker;
        this.ethersProvider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$providers$2f$provider$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BrowserProvider"](this.provider, "any");
        this.getIdentities = getIdentities;
        this.getCurrentChainId = getCurrentChainId;
        onPreferencesStateChange(()=>{
            const refreshNeeded = this.syncAccounts();
            if (refreshNeeded) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info("onPreferencesStateChange called");
                this.refresh();
            }
        });
        this.blockTrackerListener = this.blockTrackerListener.bind(this);
    }
    blockTrackerListener() {
        this.refresh();
    }
    startPolling() {
        this.stopPolling();
        // Initiate block tracker internal tracking.
        if (Object.keys(this.state.accounts).length > 0) {
            // Adding this listener on block tracker triggers it to start polling.
            this.blockTracker.on("latest", this.blockTrackerListener);
        }
    }
    stopPolling() {
        this.blockTracker.removeListener("latest", this.blockTrackerListener);
    }
    syncAccounts() {
        const { accounts } = this.state;
        const addresses = Object.keys(this.getIdentities());
        const existing = Object.keys(accounts);
        const newAddresses = addresses.filter((address)=>existing.indexOf(address) === -1);
        const oldAddresses = existing.filter((address)=>addresses.indexOf(address) === -1);
        let isUpdated = false;
        newAddresses.forEach((address)=>{
            isUpdated = true;
            accounts[address] = {
                balance: "0x0"
            };
        });
        oldAddresses.forEach((address)=>{
            isUpdated = true;
            delete accounts[address];
        });
        this.update({
            accounts: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, accounts)
        });
        return isUpdated;
    }
    async refresh() {
        const releaseLock = await this.mutex.acquire();
        try {
            this._updateAccounts();
        } catch  {
        // do nothing
        } finally{
            releaseLock();
        }
    }
    async _updateAccounts() {
        const { accounts } = this.state;
        const addresses = Object.keys(accounts);
        const chainId = this.getCurrentChainId();
        if (chainId === "loading") return;
        if (addresses.length > 0) {
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$contractAddresses$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SINGLE_CALL_BALANCES_ADDRESSES"][chainId]) {
                await this._updateAccountsViaBalanceChecker(addresses, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$contractAddresses$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SINGLE_CALL_BALANCES_ADDRESSES"][chainId]);
                return;
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info("falling back to ethQuery.getBalance");
            await Promise.all(addresses.map((x)=>this._updateAccount(x)));
        }
    }
    async _updateAccount(address) {
        const balance = await this.provider.request({
            method: "eth_getBalance",
            params: [
                address,
                "latest"
            ]
        });
        const { accounts } = this.state;
        if (!accounts[address]) return;
        accounts[address] = {
            balance: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$maths$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toQuantity"])(balance)
        };
        this.update({
            accounts
        });
    }
    async _updateAccountsViaBalanceChecker(addresses, deployedContractAddress) {
        const ethContract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Contract"](deployedContractAddress, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["singleBalanceCheckerAbi"], this.ethersProvider);
        try {
            const result = await ethContract.balances(addresses, [
                ZERO_ADDRESS
            ]);
            const { accounts } = this.state;
            addresses.forEach((address, index)=>{
                const balance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$maths$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toQuantity"])(result[index]);
                if (!accounts[address]) return;
                accounts[address] = {
                    balance
                };
            });
            return this.update({
                accounts
            });
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].warn("Torus - Account Tracker single call balance fetch failed", error);
            return Promise.all(addresses.map((x)=>this._updateAccount(x)));
        }
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/AccountAbstractionController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AccountAbstractionController",
    ()=>AccountAbstractionController,
    "eoaInterceptorMiddleware",
    ()=>eoaInterceptorMiddleware,
    "eoaProviderAsMiddleware",
    ()=>eoaProviderAsMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Transaction/ITransactionController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/utils/data.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$chain$2f$defineChain$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/chain/defineChain.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$createPublicClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/clients/createPublicClient.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/clients/transports/http.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$createWalletClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/clients/createWalletClient.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$custom$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/clients/transports/custom.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseEther$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/parseEther.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$encoding$2f$toHex$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/encoding/toHex.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$clients$2f$createPaymasterClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/account-abstraction/clients/createPaymasterClient.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$clients$2f$createBundlerClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/account-abstraction/clients/createBundlerClient.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
const eoaInterceptorMiddleware = (eoaAddress)=>(req, res, next, end)=>{
        req.isAAProviderRequest = true;
        if (req.method === "eth_accounts" || req.method === "eth_requestAccounts") {
            res.result = [
                eoaAddress
            ];
            end();
            return;
        }
        next();
    };
function eoaProviderAsMiddleware(provider) {
    return async (req, res, _next, end)=>{
        // send request to provider
        try {
            const providerRes = await provider.request(req);
            res.result = providerRes;
            return end();
        } catch (error) {
            return end(error);
        }
    };
}
class AccountAbstractionController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseController"] {
    constructor({ config, state, getProviderConfig, onNetworkStateChange }){
        super({
            state,
            config
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_smartAccount", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_publicClient", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_bundlerClient", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_paymasterClient", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getProviderConfig", void 0);
        this.initialize();
        this.getProviderConfig = getProviderConfig;
        // TODO: handle network change in torus controller & call setupProvider
        onNetworkStateChange((networkState)=>{
            if (networkState.chainId !== this.config.chainId) {
                this.configure({
                    chainId: networkState.chainId
                });
            }
        });
    }
    get smartAccount() {
        return this._smartAccount;
    }
    get bundlerClient() {
        return this._bundlerClient;
    }
    async setupProvider(eoaProvider, eoaAddress) {
        const providerConfig = this.getProviderConfig();
        const chain = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$chain$2f$defineChain$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["defineChain"])({
            id: Number.parseInt(providerConfig.chainId, 16),
            // id in number form
            name: providerConfig.displayName,
            rpcUrls: {
                default: {
                    http: [
                        providerConfig.rpcTarget
                    ],
                    webSocket: [
                        providerConfig.wsTarget
                    ]
                }
            },
            blockExplorers: providerConfig.blockExplorerUrl ? {
                default: {
                    name: "explorer",
                    // TODO: correct name if chain config has it
                    url: providerConfig.blockExplorerUrl
                }
            } : undefined,
            nativeCurrency: {
                name: providerConfig.tickerName,
                symbol: providerConfig.ticker,
                decimals: providerConfig.decimals || 18
            }
        });
        this._publicClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$createPublicClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createPublicClient"])({
            chain,
            transport: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["http"])(providerConfig.rpcTarget)
        });
        // viem wallet client using json-rpc account from eoaProvider
        const aaEngine = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPCEngine"]();
        aaEngine.push(eoaInterceptorMiddleware(eoaAddress));
        aaEngine.push(eoaProviderAsMiddleware(eoaProvider));
        const provider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerFromEngine"])(aaEngine);
        // need to hoist the account address https://viem.sh/docs/clients/wallet#optional-hoist-the-account
        const eoaWalletClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$createWalletClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createWalletClient"])({
            account: eoaAddress,
            chain,
            transport: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$custom$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["custom"])(provider)
        });
        this._smartAccount = await this.config.smartAccountInit.getSmartAccount({
            walletClient: eoaWalletClient,
            client: this._publicClient
        });
        if (this.config.paymasterConfig) {
            this._paymasterClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$clients$2f$createPaymasterClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createPaymasterClient"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.config.paymasterConfig), {}, {
                transport: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$custom$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["custom"])(provider)
            }));
        }
        this._bundlerClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$clients$2f$createBundlerClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createBundlerClient"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.config.bundlerConfig), {}, {
            account: this.smartAccount,
            client: this._publicClient,
            transport: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$custom$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["custom"])(provider),
            paymaster: this._paymasterClient
        }));
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info("check: this._smartAccount", this.smartAccount.address);
        this.update({
            smartAccountAddress: this.smartAccount.address
        });
    }
    async sendTransaction(id, tx, address) {
        var _txParams$chainId, _txReceipt$receipt, _txReceipt$nonce, _txReceipt$receipt2, _txReceipt$receipt3, _txReceipt$receipt4;
        if (address.toLowerCase() !== this.smartAccount.address.toLowerCase()) {
            throw new Error("Invalid address");
        }
        const txParams = tx;
        // @ts-expect-error TODO: viem types are too deep
        const userOperationParams = {
            account: this.smartAccount,
            calls: [
                {
                    to: txParams.to,
                    // Explicit conversation required to avoid value being passed as hex
                    value: txParams.value ? BigInt(txParams.value) : undefined,
                    data: txParams.data
                }
            ],
            maxFeePerGas: txParams.maxFeePerGas ? BigInt(txParams.maxFeePerGas) : undefined,
            maxPriorityFeePerGas: txParams.maxPriorityFeePerGas ? BigInt(txParams.maxPriorityFeePerGas) : undefined,
            callGasLimit: txParams.callGasLimit ? BigInt(txParams.callGasLimit) : undefined,
            preVerificationGas: txParams.preVerificationGas ? BigInt(txParams.preVerificationGas) : undefined,
            verificationGasLimit: txParams.verificationGasLimit ? BigInt(txParams.verificationGasLimit) : undefined,
            paymasterVerificationGasLimit: txParams.paymasterVerificationGasLimit ? BigInt(txParams.paymasterVerificationGasLimit) : undefined,
            paymasterPostOpGasLimit: txParams.paymasterPostOpGasLimit ? BigInt(txParams.paymasterPostOpGasLimit) : undefined
        };
        const userOpMeta = {
            transactionParams: txParams,
            chainId: (_txParams$chainId = txParams.chainId) !== null && _txParams$chainId !== void 0 ? _txParams$chainId : this.getProviderConfig().chainId,
            createdAt: new Date(),
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].approved
        };
        this.updateUserOpMeta(id, userOpMeta);
        const userOpHash = await this.bundlerClient.sendUserOperation(userOperationParams);
        this.updateUserOpMeta(id, {
            userOpHash,
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].submitted
        });
        const txReceipt = await this.bundlerClient.waitForUserOperationReceipt({
            hash: userOpHash
        });
        this.updateUserOpMeta(id, {
            receipt: {
                transactionHash: (_txReceipt$receipt = txReceipt.receipt) === null || _txReceipt$receipt === void 0 ? void 0 : _txReceipt$receipt.transactionHash,
                nonce: (_txReceipt$nonce = txReceipt.nonce) === null || _txReceipt$nonce === void 0 ? void 0 : _txReceipt$nonce.toString(),
                gasUsed: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])((_txReceipt$receipt2 = txReceipt.receipt) === null || _txReceipt$receipt2 === void 0 || (_txReceipt$receipt2 = _txReceipt$receipt2.gasUsed) === null || _txReceipt$receipt2 === void 0 ? void 0 : _txReceipt$receipt2.toString(16)),
                effectiveGasPrice: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])((_txReceipt$receipt3 = txReceipt.receipt) === null || _txReceipt$receipt3 === void 0 || (_txReceipt$receipt3 = _txReceipt$receipt3.effectiveGasPrice) === null || _txReceipt$receipt3 === void 0 ? void 0 : _txReceipt$receipt3.toString(16)),
                type: (_txReceipt$receipt4 = txReceipt.receipt) === null || _txReceipt$receipt4 === void 0 ? void 0 : _txReceipt$receipt4.type,
                reason: txReceipt.reason
            },
            status: txReceipt.success ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].confirmed : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].failed
        });
        return txReceipt.receipt.transactionHash;
    }
    async signTransaction(id, tx, address) {
        var _txParams$chainId2;
        if (address.toLowerCase() !== this.smartAccount.address.toLowerCase()) {
            throw new Error("Invalid address");
        }
        const txParams = tx;
        const userOpMeta = {
            transactionParams: txParams,
            chainId: (_txParams$chainId2 = txParams.chainId) !== null && _txParams$chainId2 !== void 0 ? _txParams$chainId2 : this.getProviderConfig().chainId,
            createdAt: new Date(),
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].approved
        };
        this.updateUserOpMeta(id, userOpMeta);
        const request = await this.bundlerClient.prepareUserOperation({
            account: this.smartAccount,
            calls: [
                {
                    to: txParams.to,
                    // Explicit conversation required to avoid value being passed as hex
                    value: txParams.value ? BigInt(txParams.value) : undefined,
                    data: txParams.data
                }
            ],
            maxFeePerGas: txParams.maxFeePerGas ? BigInt(txParams.maxFeePerGas) : undefined,
            maxPriorityFeePerGas: txParams.maxPriorityFeePerGas ? BigInt(txParams.maxPriorityFeePerGas) : undefined,
            callGasLimit: txParams.callGasLimit ? BigInt(txParams.callGasLimit) : undefined,
            preVerificationGas: txParams.preVerificationGas ? BigInt(txParams.preVerificationGas) : undefined,
            verificationGasLimit: txParams.verificationGasLimit ? BigInt(txParams.verificationGasLimit) : undefined,
            paymasterVerificationGasLimit: txParams.paymasterVerificationGasLimit ? BigInt(txParams.paymasterVerificationGasLimit) : undefined,
            paymasterPostOpGasLimit: txParams.paymasterPostOpGasLimit ? BigInt(txParams.paymasterPostOpGasLimit) : undefined
        });
        const signature = await this.smartAccount.signUserOperation(request);
        this.updateUserOpMeta(id, {
            signature,
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].signed
        });
        return signature;
    }
    async estimateGas(txParams, address) {
        if (address.toLowerCase() !== this.smartAccount.address.toLowerCase()) throw new Error("Invalid address");
        const calls = [
            {
                to: txParams.to,
                value: txParams.value ? BigInt(txParams.value) : undefined,
                data: txParams.data
            }
        ];
        const maxFeePerGas = txParams.maxFeePerGas ? BigInt(txParams.maxFeePerGas) : undefined;
        const maxPriorityFeePerGas = txParams.maxPriorityFeePerGas ? BigInt(txParams.maxPriorityFeePerGas) : undefined;
        // estimate gas: maxFeePerGas and maxPriorityFeePerGas are not required
        const estimateGasParams = {
            account: this.smartAccount,
            calls,
            maxFeePerGas,
            maxPriorityFeePerGas,
            stateOverride: [
                // override state to estimate gas for an ERC-20 transfer without causing a RPC error due to insufficient funds
                // ref: https://docs.cometh.io/connect-4337/bundler/bundler-api/eth_estimateuseroperationgas#optional-state-override-set
                {
                    address: this.smartAccount.address,
                    balance: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseEther$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseEther"])("1")
                }
            ]
        };
        // bundler only support factoryArgs for estimate user operation gas in entryPoint v0.7
        let factoryArgs;
        if (this.smartAccount.entryPoint.version !== "0.6") {
            factoryArgs = await this.smartAccount.getFactoryArgs(); // will return undefined if smart account already deployed
        }
        if (factoryArgs) {
            // using object spread here will cause type error because of viem's excessively deep types
            // TODO: currently using single property assignment, check again when viem types are updated
            if (factoryArgs.factory) {
                estimateGasParams.factory = factoryArgs.factory;
            }
            if (factoryArgs.factoryData) {
                estimateGasParams.factoryData = factoryArgs.factoryData;
            }
        }
        const result = await this.bundlerClient.estimateUserOperationGas(estimateGasParams);
        const gasData = {
            callGasLimit: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$encoding$2f$toHex$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toHex"])(result.callGasLimit),
            preVerificationGas: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$encoding$2f$toHex$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toHex"])(result.preVerificationGas),
            verificationGasLimit: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$encoding$2f$toHex$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toHex"])(result.verificationGasLimit)
        };
        // NOTE: paymasterVerificationGasLimit and paymasterPostOpGasLimit are optional don't include it in the object otherwise bundler rpc call will throw error (depend on bundler)
        if (result.paymasterVerificationGasLimit) {
            gasData.paymasterVerificationGasLimit = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$encoding$2f$toHex$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toHex"])(result.paymasterVerificationGasLimit);
        }
        if (result.paymasterPostOpGasLimit) {
            gasData.paymasterPostOpGasLimit = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$encoding$2f$toHex$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toHex"])(result.paymasterPostOpGasLimit);
        }
        return gasData;
    }
    async signMessage(message, address) {
        if (address.toLowerCase() !== this.smartAccount.address.toLowerCase()) {
            throw new Error("Invalid address");
        }
        return this.smartAccount.sign({
            hash: message
        });
    }
    async signPersonalMessage(message, address) {
        var _this$smartAccount;
        if (address.toLowerCase() !== this.smartAccount.address.toLowerCase()) {
            throw new Error("Invalid address");
        }
        return (_this$smartAccount = this.smartAccount) === null || _this$smartAccount === void 0 ? void 0 : _this$smartAccount.signMessage({
            message: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isHexString"])(message) ? {
                raw: message
            } : message
        });
    }
    async signTypedData(data, address) {
        var _this$smartAccount2;
        if (address.toLowerCase() !== this.smartAccount.address.toLowerCase()) {
            throw new Error("Invalid address");
        }
        return (_this$smartAccount2 = this.smartAccount) === null || _this$smartAccount2 === void 0 ? void 0 : _this$smartAccount2.signTypedData({
            domain: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, data.domain), {}, {
                verifyingContract: data.domain.verifyingContract,
                salt: data.domain.salt,
                chainId: Number(data.domain.chainId)
            }),
            primaryType: data.primaryType,
            types: data.types,
            message: data.message
        });
    }
    updateUserOpMeta(id, data) {
        const userOp = this.state.userOperations[id];
        this.update({
            userOperations: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.state.userOperations), {}, {
                [id]: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, userOp), data)
            })
        });
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Block/PollingBlockTracker.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PollingBlockTracker",
    ()=>PollingBlockTracker
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Block$2f$BaseBlockTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Block/BaseBlockTracker.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/PollingManager.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
;
;
;
const DEFAULT_POLLING_INTERVAL = 20;
const DEFAULT_RETRY_TIMEOUT = 2;
const SEC = 1000;
class PollingBlockTracker extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Block$2f$BaseBlockTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseBlockTracker"] {
    constructor({ config, state = {}, idleTimeTracker }){
        if (!config.provider) {
            throw new Error("PollingBlockTracker - no provider specified.");
        }
        if (!idleTimeTracker) {
            throw new Error("PollingBlockTracker - no idleTimeTracker specified.");
        }
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "pollingManager", void 0);
        const pollingInterval = config.pollingInterval || DEFAULT_POLLING_INTERVAL;
        const retryTimeout = config.retryTimeout || DEFAULT_RETRY_TIMEOUT;
        // merge default + provided config.
        this.defaultConfig = {
            provider: config.provider,
            pollingInterval: pollingInterval * SEC,
            retryTimeout: retryTimeout * SEC,
            setSkipCacheFlag: config.setSkipCacheFlag || false
        };
        this.initialize();
        this.pollingManager = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PollingManager"](idleTimeTracker, pollingInterval);
    }
    async checkForLatestBlock() {
        await this._updateLatestBlock();
        return this.getLatestBlock();
    }
    // overrides the BaseBlockTracker._start method.
    _start() {
        this.pollingManager.start(async ()=>{
            await this._synchronize().catch((err)=>{
                this.emit("error", err);
            });
        });
    }
    _end() {
        this.pollingManager.stop();
    }
    async _synchronize() {
        try {
            await this._updateLatestBlock();
        } catch (err) {
            const newErr = new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${err.stack}`);
            try {
                this.emit("error", newErr);
            } catch  {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(newErr);
            }
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["timeout"])(this.config.retryTimeout);
        }
    }
    async _updateLatestBlock() {
        // fetch + set latest block
        const latestBlock = await this._fetchLatestBlock();
        this._newPotentialLatest(latestBlock);
    }
    async _fetchLatestBlock() {
        try {
            const block = await this.config.provider.request({
                method: "eth_getBlockByNumber",
                params: [
                    "latest",
                    false
                ]
            });
            return {
                blockHash: block.hash,
                idempotencyKey: block.number,
                timestamp: block.timestamp,
                baseFeePerGas: block.baseFeePerGas,
                gasLimit: block.gasLimit
            };
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("Polling Block Tracker: ", error);
            throw new Error(`PollingBlockTracker - encountered error fetching block:\n${error.message}`);
        }
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Currency/CurrencyController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CurrencyController",
    ()=>CurrencyController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Currency$2f$BaseCurrencyController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Currency/BaseCurrencyController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/PollingManager.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
;
;
;
;
;
class CurrencyController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Currency$2f$BaseCurrencyController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseCurrencyController"] {
    constructor({ config, state, idleTimeTracker, onNetworkChanged }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "pollingManager", void 0);
        this.defaultState = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.defaultState), {}, {
            commonDenomination: "USD",
            commonDenominatorPrice: 0
        });
        this.initialize();
        onNetworkChanged((networkState)=>{
            // to be called as (listener) => this.networkController.on('networkDidChange', listener);
            if (networkState.providerConfig.ticker.toUpperCase() !== this.state.nativeCurrency.toUpperCase()) {
                this.setNativeCurrency(networkState.providerConfig.ticker);
                this.updateConversionRate();
            }
        });
        this.pollingManager = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PollingManager"](idleTimeTracker, this.config.pollInterval);
    }
    setCommonDenomination(commonDenomination) {
        this.update({
            commonDenomination
        });
    }
    getCommonDenomination() {
        return this.state.commonDenomination;
    }
    setCommonDenominatorPrice(commonDenominatorPrice) {
        this.update({
            commonDenominatorPrice
        });
    }
    getCommonDenominatorPrice() {
        return this.state.commonDenominatorPrice;
    }
    /**
   * Creates a new poll, using setInterval, to periodically call updateConversionRate. The id of the interval is
   * stored at the controller's conversionInterval property. If it is called and such an id already exists, the
   * previous interval is clear and a new one is created.
   */ async scheduleConversionInterval() {
        this.pollingManager.start(this.updateConversionRate.bind(this));
    }
    /**
   * Updates the conversionRate and conversionDate properties associated with the currentCurrency. Updated info is
   * fetched from an external API
   */ async updateConversionRate() {
        const currentCurrency = this.getCurrentCurrency();
        const nativeCurrency = this.getNativeCurrency();
        const commonDenomination = this.getCommonDenomination();
        const conversionRate = await this.retrieveConversionRate(nativeCurrency, currentCurrency, commonDenomination);
        const currentCurrencyRate = Number.parseFloat(conversionRate[currentCurrency.toUpperCase()]);
        const commonDenominationRate = Number.parseFloat(conversionRate[commonDenomination.toUpperCase()]);
        // set conversion rate
        if (currentCurrencyRate || commonDenominationRate) {
            // ETC
            this.setConversionRate(currentCurrencyRate);
            this.setConversionDate(Math.floor(Date.now() / 1000).toString());
            if (currentCurrency.toUpperCase() === commonDenomination.toUpperCase()) {
                this.setCommonDenominatorPrice(currentCurrencyRate);
            } else {
                this.setCommonDenominatorPrice(commonDenominationRate);
            }
        } else {
            this.setConversionRate(0);
            this.setConversionDate("N/A");
        }
    }
    async retrieveConversionRate(fromCurrency, toCurrency, commonDenomination) {
        try {
            let apiUrl = `${this.config.api}/currency?fsym=${fromCurrency.toUpperCase()}&tsyms=${toCurrency.toUpperCase()}`;
            if (commonDenomination && commonDenomination.toUpperCase() !== toCurrency.toUpperCase()) {
                apiUrl += `,${commonDenomination.toUpperCase()}`;
            }
            const parsedResponse = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["get"])(apiUrl);
            return parsedResponse;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error, `CurrencyController - updateCommonDenominatorPrice: Failed to query rate for currency: ${fromCurrency}/ ${toCurrency}`);
        }
        return {
            [toCurrency.toUpperCase()]: "0",
            [commonDenomination.toUpperCase()]: "0"
        };
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/conversionUtils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "addCurrencies",
    ()=>addCurrencies,
    "conversionGTE",
    ()=>conversionGTE,
    "conversionGreaterThan",
    ()=>conversionGreaterThan,
    "conversionLTE",
    ()=>conversionLTE,
    "conversionLessThan",
    ()=>conversionLessThan,
    "conversionMax",
    ()=>conversionMax,
    "conversionUtil",
    ()=>conversionUtil,
    "decGWEIToHexWEI",
    ()=>decGWEIToHexWEI,
    "getBigNumber",
    ()=>getBigNumber,
    "hexWEIToDecGWEI",
    ()=>hexWEIToDecGWEI,
    "multiplyCurrencies",
    ()=>multiplyCurrencies,
    "subtractCurrencies",
    ()=>subtractCurrencies,
    "toNegative",
    ()=>toNegative
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectWithoutProperties$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/bignumber.js/bignumber.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bn$2e$js$2f$lib$2f$bn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/bn.js/lib/bn.js [app-client] (ecmascript)");
;
;
;
;
;
;
const _excluded = [
    "aBase",
    "bBase"
], _excluded2 = [
    "aBase",
    "bBase"
], _excluded3 = [
    "multiplicandBase",
    "multiplierBase"
];
// Big Number Constants
const BIG_NUMBER_WEI_MULTIPLIER = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]("1000000000000000000");
const BIG_NUMBER_GWEI_MULTIPLIER = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]("1000000000");
const BIG_NUMBER_ETH_MULTIPLIER = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]("1");
// Setter Maps
const toBigNumber = {
    hex: (n)=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(n), 16),
    dec: (n)=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](String(n), 10),
    BN: (n)=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](n.toString(16), 16)
};
const toNormalizedDenomination = {
    WEI: (bigNumber)=>bigNumber.div(BIG_NUMBER_WEI_MULTIPLIER),
    GWEI: (bigNumber)=>bigNumber.div(BIG_NUMBER_GWEI_MULTIPLIER),
    ETH: (bigNumber)=>bigNumber.div(BIG_NUMBER_ETH_MULTIPLIER)
};
const toSpecifiedDenomination = {
    WEI: (bigNumber)=>bigNumber.times(BIG_NUMBER_WEI_MULTIPLIER).dp(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"].ROUND_HALF_UP),
    GWEI: (bigNumber)=>bigNumber.times(BIG_NUMBER_GWEI_MULTIPLIER).dp(9, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"].ROUND_HALF_UP),
    ETH: (bigNumber)=>bigNumber.times(BIG_NUMBER_ETH_MULTIPLIER).dp(9, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"].ROUND_HALF_UP)
};
const baseChange = {
    hex: (n)=>n.toString(16),
    dec: (n)=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](n).toString(10),
    BN: (n)=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bn$2e$js$2f$lib$2f$bn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"](n.toString(16))
};
// Utility function for checking base types
const isValidBase = (base)=>Number.isInteger(base) && base > 1;
/**
 * Utility method to convert a value between denominations, formats and currencies.
 */ const converter = ({ value, fromNumericBase, fromDenomination, fromCurrency, toNumericBase, toDenomination, toCurrency, numberOfDecimals, conversionRate, invertConversionRate, roundDown })=>{
    let convertedValue = fromNumericBase ? toBigNumber[fromNumericBase](value) : value;
    if (fromDenomination) {
        convertedValue = toNormalizedDenomination[fromDenomination](convertedValue);
    }
    if (fromCurrency !== toCurrency) {
        if (conversionRate === null || conversionRate === undefined) {
            throw new Error(`Converting from ${fromCurrency} to ${toCurrency} requires a conversionRate, but one was not provided`);
        }
        let rate = toBigNumber.dec(conversionRate);
        if (invertConversionRate) {
            rate = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](1).div(conversionRate);
        }
        convertedValue = convertedValue.times(rate);
    }
    if (toDenomination) {
        convertedValue = toSpecifiedDenomination[toDenomination](convertedValue);
    }
    if (numberOfDecimals) {
        convertedValue = convertedValue.dp(numberOfDecimals, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"].ROUND_HALF_DOWN);
    }
    if (roundDown) {
        convertedValue = convertedValue.dp(roundDown, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"].ROUND_DOWN);
    }
    if (toNumericBase) {
        convertedValue = baseChange[toNumericBase](convertedValue);
    }
    return convertedValue;
};
const conversionUtil = (value, { fromCurrency = null, toCurrency = fromCurrency, fromNumericBase, toNumericBase, fromDenomination, toDenomination, numberOfDecimals, conversionRate, invertConversionRate })=>{
    if (fromCurrency !== toCurrency && !conversionRate) {
        return 0;
    }
    return converter({
        fromCurrency,
        toCurrency,
        fromNumericBase,
        toNumericBase,
        fromDenomination,
        toDenomination,
        numberOfDecimals,
        conversionRate,
        invertConversionRate,
        value
    });
};
const getBigNumber = (value, base)=>{
    if (!isValidBase(base)) {
        throw new Error("Must specificy valid base");
    }
    // We don't include 'number' here, because BigNumber will throw if passed
    // a number primitive it considers unsafe.
    if (typeof value === "string" || value instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]) {
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](value, base);
    }
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](String(value), base);
};
const addCurrencies = (a, b, options = {})=>{
    const { aBase, bBase } = options, conversionOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectWithoutProperties$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(options, _excluded);
    if (!isValidBase(aBase) || !isValidBase(bBase)) {
        throw new Error("Must specify valid aBase and bBase");
    }
    const value = getBigNumber(a, aBase).plus(getBigNumber(b, bBase));
    return converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({
        value
    }, conversionOptions));
};
const subtractCurrencies = (a, b, options = {})=>{
    const { aBase, bBase } = options, conversionOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectWithoutProperties$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(options, _excluded2);
    if (!isValidBase(aBase) || !isValidBase(bBase)) {
        throw new Error("Must specify valid aBase and bBase");
    }
    const value = getBigNumber(a, aBase).minus(getBigNumber(b, bBase));
    return converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({
        value
    }, conversionOptions));
};
const multiplyCurrencies = (a, b, options = {})=>{
    const { multiplicandBase, multiplierBase } = options, conversionOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectWithoutProperties$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(options, _excluded3);
    if (!isValidBase(multiplicandBase) || !isValidBase(multiplierBase)) {
        throw new Error("Must specify valid multiplicandBase and multiplierBase");
    }
    const value = getBigNumber(a, multiplicandBase).times(getBigNumber(b, multiplierBase));
    return converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({
        value
    }, conversionOptions));
};
const conversionGreaterThan = (_ref, _ref2)=>{
    let secondProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref2), _ref2));
    let firstProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref), _ref));
    const firstValue = converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, firstProps));
    const secondValue = converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, secondProps));
    return firstValue.gt(secondValue);
};
const conversionLessThan = (_ref3, _ref4)=>{
    let secondProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref4), _ref4));
    let firstProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref3), _ref3));
    const firstValue = converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, firstProps));
    const secondValue = converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, secondProps));
    return firstValue.lt(secondValue);
};
const conversionMax = (_ref5, _ref6)=>{
    let secondProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref6), _ref6));
    let firstProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref5), _ref5));
    const firstIsGreater = conversionGreaterThan((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, firstProps), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, secondProps));
    return firstIsGreater ? firstProps.value : secondProps.value;
};
const conversionGTE = (_ref7, _ref8)=>{
    let secondProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref8), _ref8));
    let firstProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref7), _ref7));
    const firstValue = converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, firstProps));
    const secondValue = converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, secondProps));
    return firstValue.isGreaterThanOrEqualTo(secondValue);
};
const conversionLTE = (_ref9, _ref0)=>{
    let secondProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref0), _ref0));
    let firstProps = Object.assign({}, ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectDestructuringEmpty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_ref9), _ref9));
    const firstValue = converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, firstProps));
    const secondValue = converter((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, secondProps));
    return firstValue.isLessThanOrEqualTo(secondValue);
};
const toNegative = (n, options = {})=>multiplyCurrencies(n, -1, options);
const decGWEIToHexWEI = (decGWEI)=>{
    return conversionUtil(decGWEI, {
        fromNumericBase: "dec",
        toNumericBase: "hex",
        fromDenomination: "GWEI",
        toDenomination: "WEI"
    });
};
const hexWEIToDecGWEI = (decGWEI)=>{
    return conversionUtil(decGWEI, {
        fromNumericBase: "hex",
        toNumericBase: "dec",
        fromDenomination: "WEI",
        toDenomination: "GWEI"
    });
};
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Gas/gasUtil.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "calculateTimeEstimate",
    ()=>calculateTimeEstimate,
    "fetchEthGasPriceEstimate",
    ()=>fetchEthGasPriceEstimate,
    "fetchGasEstimates",
    ()=>fetchGasEstimates,
    "fetchGasEstimatesViaEthFeeHistory",
    ()=>fetchGasEstimatesViaEthFeeHistory,
    "fetchLegacyGasPriceEstimates",
    ()=>fetchLegacyGasPriceEstimates,
    "normalizeGWEIDecimalNumbers",
    ()=>normalizeGWEIDecimalNumbers
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/bignumber.js/bignumber.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/conversionUtils.js [app-client] (ecmascript)");
;
;
;
;
;
function normalizeGWEIDecimalNumbers(n) {
    const numberAsWEIHex = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](n));
    const numberAsGWEI = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"])(numberAsWEIHex);
    return numberAsGWEI;
}
async function fetchGasEstimates(url) {
    const estimates = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["get"])(url);
    const normalizedEstimates = {
        estimatedBaseFee: normalizeGWEIDecimalNumbers(estimates.estimatedBaseFee).toString(10),
        low: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, estimates.low), {}, {
            suggestedMaxPriorityFeePerGas: normalizeGWEIDecimalNumbers(estimates.low.suggestedMaxPriorityFeePerGas).toString(10),
            suggestedMaxFeePerGas: normalizeGWEIDecimalNumbers(estimates.low.suggestedMaxFeePerGas).toString(10)
        }),
        medium: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, estimates.medium), {}, {
            suggestedMaxPriorityFeePerGas: normalizeGWEIDecimalNumbers(estimates.medium.suggestedMaxPriorityFeePerGas).toString(10),
            suggestedMaxFeePerGas: normalizeGWEIDecimalNumbers(estimates.medium.suggestedMaxFeePerGas).toString(10)
        }),
        high: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, estimates.high), {}, {
            suggestedMaxPriorityFeePerGas: normalizeGWEIDecimalNumbers(estimates.high.suggestedMaxPriorityFeePerGas).toString(10),
            suggestedMaxFeePerGas: normalizeGWEIDecimalNumbers(estimates.high.suggestedMaxFeePerGas).toString(10)
        })
    };
    return normalizedEstimates;
}
async function fetchGasEstimatesViaEthFeeHistory(provider) {
    const noOfBlocks = 10;
    const newestBlock = "latest";
    // get the 10, 50 and 95th percentile of the tip fees from the last 10 blocks
    const percentileValues = [
        10,
        50,
        95
    ];
    const feeHistory = await provider.request({
        method: "eth_feeHistory",
        params: [
            noOfBlocks,
            newestBlock,
            percentileValues
        ]
    });
    // this is in hex wei
    const finalBaseFeePerGas = feeHistory.baseFeePerGas[feeHistory.baseFeePerGas.length - 1];
    // this is in hex wei
    const rewardList = feeHistory.reward.filter((reward)=>reward[0] !== "0x0" || reward[1] !== "0x0" || reward[2] !== "0x0");
    let priorityFeeCalcs;
    let numberOfRewards;
    if (rewardList.length > 0) {
        priorityFeeCalcs = rewardList.reduce((acc, curr)=>{
            return {
                slow: acc.slow.plus(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](curr[0], 16)),
                average: acc.average.plus(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](curr[1], 16)),
                fast: acc.fast.plus(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](curr[2], 16))
            };
        }, {
            slow: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](0),
            average: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](0),
            fast: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](0)
        });
        numberOfRewards = rewardList.length;
    } else {
        // fallback to eth_maxPriorityFeePerGas if there are no rewards
        const maxPriorityFeePerGasResult = await provider.request({
            method: "eth_maxPriorityFeePerGas"
        });
        const maxPriorityFeePerGas = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](maxPriorityFeePerGasResult, 16);
        priorityFeeCalcs = {
            slow: maxPriorityFeePerGas,
            average: maxPriorityFeePerGas.multipliedBy(1.1),
            fast: maxPriorityFeePerGas.multipliedBy(1.5)
        };
        numberOfRewards = 1;
    }
    return {
        estimatedBaseFee: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"])(finalBaseFeePerGas).toString(10),
        high: {
            maxWaitTimeEstimate: 30000,
            minWaitTimeEstimate: 15000,
            suggestedMaxFeePerGas: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"])(priorityFeeCalcs.fast.div(numberOfRewards).plus(finalBaseFeePerGas).toString(16)).toString(),
            suggestedMaxPriorityFeePerGas: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"])(priorityFeeCalcs.fast.div(numberOfRewards).toString(16)).toString()
        },
        medium: {
            maxWaitTimeEstimate: 45000,
            minWaitTimeEstimate: 15000,
            suggestedMaxFeePerGas: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"])(priorityFeeCalcs.average.div(numberOfRewards).plus(finalBaseFeePerGas).toString(16)).toString(),
            suggestedMaxPriorityFeePerGas: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"])(priorityFeeCalcs.average.div(numberOfRewards).toString(16)).toString()
        },
        low: {
            maxWaitTimeEstimate: 60000,
            minWaitTimeEstimate: 15000,
            suggestedMaxFeePerGas: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"])(priorityFeeCalcs.slow.div(numberOfRewards).plus(finalBaseFeePerGas).toString(16)).toString(),
            suggestedMaxPriorityFeePerGas: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"])(priorityFeeCalcs.slow.div(numberOfRewards).toString(16)).toString()
        }
    };
}
/**
 * Hit the legacy MetaSwaps gasPrices estimate api and return the low, medium
 * high values from that API.
 */ async function fetchLegacyGasPriceEstimates(url) {
    const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["get"])(url, {
        referrer: url,
        referrerPolicy: "no-referrer-when-downgrade",
        method: "GET"
    });
    // this returns decimal gwei
    return {
        low: result.SafeGasPrice,
        medium: result.ProposeGasPrice,
        high: result.FastGasPrice
    };
}
async function fetchEthGasPriceEstimate(provider) {
    const gasPrice = await provider.request({
        method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_GAS_PRICE
    });
    return {
        gasPrice: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"])(gasPrice).toString()
    };
}
function calculateTimeEstimate(maxPriorityFeePerGas, maxFeePerGas, gasFeeEstimates) {
    // all are in dec gwei
    const { low, medium, high, estimatedBaseFee } = gasFeeEstimates;
    const maxPriorityFeePerGasInWEI = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](maxPriorityFeePerGas)), 16);
    const maxFeePerGasInWEI = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](maxFeePerGas)), 16);
    const estimatedBaseFeeInWEI = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](estimatedBaseFee)), 16);
    const effectiveMaxPriorityFee = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"].min(maxPriorityFeePerGasInWEI, maxFeePerGasInWEI.minus(estimatedBaseFeeInWEI));
    const lowMaxPriorityFeeInWEI = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](low.suggestedMaxPriorityFeePerGas)), 16);
    const mediumMaxPriorityFeeInWEI = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](medium.suggestedMaxPriorityFeePerGas)), 16);
    const highMaxPriorityFeeInWEI = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](high.suggestedMaxPriorityFeePerGas)), 16);
    let lowerTimeBound;
    let upperTimeBound;
    if (effectiveMaxPriorityFee.lt(lowMaxPriorityFeeInWEI)) {
        lowerTimeBound = null;
        upperTimeBound = "unknown";
    } else if (effectiveMaxPriorityFee.gte(lowMaxPriorityFeeInWEI) && effectiveMaxPriorityFee.lt(mediumMaxPriorityFeeInWEI)) {
        lowerTimeBound = low.minWaitTimeEstimate;
        upperTimeBound = low.maxWaitTimeEstimate;
    } else if (effectiveMaxPriorityFee.gte(mediumMaxPriorityFeeInWEI) && effectiveMaxPriorityFee.lt(highMaxPriorityFeeInWEI)) {
        lowerTimeBound = medium.minWaitTimeEstimate;
        upperTimeBound = medium.maxWaitTimeEstimate;
    } else if (effectiveMaxPriorityFee.eq(highMaxPriorityFeeInWEI)) {
        lowerTimeBound = high.minWaitTimeEstimate;
        upperTimeBound = high.maxWaitTimeEstimate;
    } else {
        lowerTimeBound = 0;
        upperTimeBound = high.maxWaitTimeEstimate;
    }
    return {
        lowerTimeBound,
        upperTimeBound
    };
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Gas/GasFeeController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GasFeeController",
    ()=>GasFeeController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/PollingManager.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/lodashUtils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Gas$2f$gasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Gas/gasUtil.js [app-client] (ecmascript)");
;
;
;
;
;
;
const GAS_FEE_API = "https://mock-gas-server.herokuapp.com/";
const LEGACY_GAS_PRICES_API_URL = "https://api.metaswap.codefi.network/gasPrices";
/**
 * Returns gas prices in dec gwei
 */ class GasFeeController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseController"] {
    constructor({ config, state, idleTimeTracker, getNetworkIdentifier, getProvider, fetchGasEstimates: fetchGasEstimates$1 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Gas$2f$gasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetchGasEstimates"], fetchEthGasPriceEstimate: fetchEthGasPriceEstimate$1 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Gas$2f$gasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetchEthGasPriceEstimate"], fetchLegacyGasPriceEstimates: fetchLegacyGasPriceEstimates$1 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Gas$2f$gasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetchLegacyGasPriceEstimates"], fetchGasEstimatesViaEthFeeHistory: fetchGasEstimatesViaEthFeeHistory$1 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Gas$2f$gasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetchGasEstimatesViaEthFeeHistory"], getCurrentNetworkLegacyGasAPICompatibility, getCurrentNetworkEIP1559Compatibility, getCurrentAccountEIP1559Compatibility, onNetworkStateChange }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", "GasFeeController");
        // https://0x.org/docs/introduction/0x-cheat-sheet#swap-api-endpoints
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "API_SUPPORTED_CHAINIDS", new Set([
            "0x1",
            "0x5",
            "0xa4b1",
            "0xa86a",
            "0x2105",
            "0x38",
            "0xfa",
            "0xa",
            "0x89"
        ]));
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "currentChainId", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getNetworkIdentifier", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getProvider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "fetchGasEstimates", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "fetchGasEstimatesViaEthFeeHistory", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "fetchEthGasPriceEstimate", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "fetchLegacyGasPriceEstimates", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getCurrentNetworkEIP1559Compatibility", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getCurrentAccountEIP1559Compatibility", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getCurrentNetworkLegacyGasAPICompatibility", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "pollingManager", void 0);
        this.getNetworkIdentifier = getNetworkIdentifier;
        this.getProvider = getProvider;
        this.fetchGasEstimates = fetchGasEstimates$1;
        this.fetchEthGasPriceEstimate = fetchEthGasPriceEstimate$1;
        this.fetchLegacyGasPriceEstimates = fetchLegacyGasPriceEstimates$1;
        this.getCurrentNetworkEIP1559Compatibility = getCurrentNetworkEIP1559Compatibility;
        this.getCurrentNetworkLegacyGasAPICompatibility = getCurrentNetworkLegacyGasAPICompatibility;
        this.getCurrentAccountEIP1559Compatibility = getCurrentAccountEIP1559Compatibility;
        this.fetchGasEstimatesViaEthFeeHistory = fetchGasEstimatesViaEthFeeHistory$1;
        this.defaultConfig = {
            interval: 30000,
            legacyAPIEndpoint: LEGACY_GAS_PRICES_API_URL,
            EIP1559APIEndpoint: GAS_FEE_API
        };
        this.defaultState = {
            gasFeeEstimates: {},
            estimatedGasFeeTimeBounds: {},
            gasEstimateType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_ESTIMATE_TYPES"].NONE
        };
        // Initialize.
        this.currentChainId = this.getNetworkIdentifier();
        this.provider = this.getProvider();
        this.initialize();
        onNetworkStateChange(()=>{
            this.onNetworkStateChange();
        });
        this.pollingManager = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PollingManager"](idleTimeTracker, this.config.interval);
    }
    async onNetworkStateChange() {
        this.provider = this.getProvider();
        const newChainId = this.getNetworkIdentifier();
        if (this.currentChainId !== newChainId) {
            this.currentChainId = newChainId;
            await this.fetchGasFeeEstimates();
        }
    }
    async resetPolling() {
        this.stopPolling();
        await this.getGasFeeEstimatesAndStartPolling();
    }
    async fetchGasFeeEstimates() {
        return this._fetchGasFeeEstimateData();
    }
    async getGasFeeEstimatesAndStartPolling() {
        await this._fetchGasFeeEstimateData();
        this._startPolling();
    }
    disconnectPoller() {
        this.stopPolling();
    }
    /**
   * Prepare to discard this controller.
   *
   * This stops any active polling.
   */ destroy() {
        this.stopPolling();
    }
    stopPolling() {
        this.resetState();
    }
    /**
   * Gets and sets gasFeeEstimates in state
   *
   * @returns GasFeeEstimates
   */ async _fetchGasFeeEstimateData() {
        let isEIP1559Compatible;
        const isLegacyGasAPICompatible = this.getCurrentNetworkLegacyGasAPICompatibility();
        const chainId = this.getNetworkIdentifier();
        if (chainId === "loading") return;
        let chainIdInt;
        if (typeof chainId === "string" && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isHexString"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(chainId))) {
            chainIdInt = Number.parseInt(chainId, 16);
        }
        try {
            isEIP1559Compatible = await this.getEIP1559Compatibility();
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info("eip1559 compatible", isEIP1559Compatible);
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].warn(error);
            isEIP1559Compatible = false;
        }
        let newState = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cloneDeep"])(this.defaultState);
        try {
            if (isEIP1559Compatible) {
                let estimates;
                try {
                    if (this.API_SUPPORTED_CHAINIDS.has(chainId)) {
                        estimates = await this.fetchGasEstimates(this.config.EIP1559APIEndpoint.replace("<chain_id>", `${chainIdInt}`));
                    } else {
                        throw new Error("ChainId not supported by api");
                    }
                } catch  {
                    estimates = await this.fetchGasEstimatesViaEthFeeHistory(this.provider);
                }
                const { suggestedMaxPriorityFeePerGas, suggestedMaxFeePerGas } = estimates.medium;
                const estimatedGasFeeTimeBounds = this.getTimeEstimate(suggestedMaxPriorityFeePerGas, suggestedMaxFeePerGas);
                newState = {
                    gasFeeEstimates: estimates,
                    estimatedGasFeeTimeBounds,
                    gasEstimateType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_ESTIMATE_TYPES"].FEE_MARKET
                };
            } else if (isLegacyGasAPICompatible) {
                const estimates = await this.fetchLegacyGasPriceEstimates(this.config.legacyAPIEndpoint.replace("<chain_id>", `${chainIdInt}`));
                newState = {
                    gasFeeEstimates: estimates,
                    estimatedGasFeeTimeBounds: {},
                    gasEstimateType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_ESTIMATE_TYPES"].LEGACY
                };
            } else {
                throw new Error("Main gas fee/price estimation failed. Use fallback");
            }
        } catch  {
            try {
                const estimates = await this.fetchEthGasPriceEstimate(this.provider);
                newState = {
                    gasFeeEstimates: estimates,
                    estimatedGasFeeTimeBounds: {},
                    gasEstimateType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_ESTIMATE_TYPES"].ETH_GASPRICE
                };
            } catch (error) {
                throw new Error(`Gas fee/price estimation failed. Message: ${error.message}`);
            }
        }
        this.update(newState);
        return newState;
    }
    async _startPolling() {
        this.pollingManager.start(async ()=>{
            await this._fetchGasFeeEstimateData();
        });
    }
    resetState() {
        this.update((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cloneDeep"])(this.defaultState));
    }
    async getEIP1559Compatibility() {
        var _this$getCurrentAccou, _this$getCurrentAccou2;
        const currentNetworkIsEIP1559Compatible = await this.getCurrentNetworkEIP1559Compatibility();
        const currentAccountIsEIP1559Compatible = (_this$getCurrentAccou = (_this$getCurrentAccou2 = this.getCurrentAccountEIP1559Compatibility) === null || _this$getCurrentAccou2 === void 0 ? void 0 : _this$getCurrentAccou2.call(this)) !== null && _this$getCurrentAccou !== void 0 ? _this$getCurrentAccou : true;
        return currentNetworkIsEIP1559Compatible && currentAccountIsEIP1559Compatible;
    }
    getTimeEstimate(maxPriorityFeePerGas, maxFeePerGas) {
        if (!this.state.gasFeeEstimates || this.state.gasEstimateType !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_ESTIMATE_TYPES"].FEE_MARKET) {
            return {};
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Gas$2f$gasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["calculateTimeEstimate"])(maxPriorityFeePerGas, maxFeePerGas, this.state.gasFeeEstimates);
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Keyring/KeyringController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "KeyringController",
    ()=>KeyringController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/compiled/buffer/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/account.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Keyring$2f$BaseKeyringController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Keyring/BaseKeyringController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$crypto$2f$signing$2d$key$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/crypto/signing-key.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$hash$2f$message$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/hash/message.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$hash$2f$typed$2d$data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/hash/typed-data.js [app-client] (ecmascript)");
;
;
;
class KeyringController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Keyring$2f$BaseKeyringController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseKeyringController"] {
    constructor({ config, state }){
        super({
            config,
            state
        });
        this.defaultState = {
            wallets: []
        };
        this.initialize();
    }
    async signTransaction(tx, address) {
        const wallet = this._getWalletForAccount(address);
        const privKey = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$crypto$2f$signing$2d$key$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SigningKey"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(wallet.privateKey));
        const localTx = tx;
        localTx.signature = privKey.sign(localTx.unsignedHash);
        return localTx;
    }
    getAccounts() {
        return this.state.wallets.map((w)=>w.publicKey);
    }
    importAccount(accountPrivateKey) {
        const hexPrivateKey = accountPrivateKey.padStart(64, "0");
        const bufferPrivKey = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(hexPrivateKey, "hex");
        const publicKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bytesToHex"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["privateToPublic"])(bufferPrivKey));
        const address = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toChecksumAddress"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bytesToHex"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["privateToAddress"])(bufferPrivKey)));
        const existingWallet = this.state.wallets.find((w)=>w.address === address);
        if (existingWallet) return existingWallet.address;
        this.update({
            wallets: [
                ...this.state.wallets,
                {
                    publicKey,
                    privateKey: accountPrivateKey,
                    address
                }
            ]
        });
        return address;
    }
    removeAccount(address) {
        const newWallets = [
            ...this.state.wallets
        ];
        const idx = newWallets.findIndex((w)=>w.address === address);
        if (idx !== -1) {
            newWallets.splice(idx, 1);
            this.update({
                wallets: newWallets
            });
        }
    }
    getBufferPrivateKey(privateKey) {
        const stripped = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(privateKey);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(stripped, "hex");
    }
    // For eth_sign, we need to sign arbitrary data:
    async signMessage(data, address) {
        const wallet = this._getWalletForAccount(address);
        const privKey = this.getBufferPrivateKey(wallet.privateKey);
        const messageSig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ecsignature"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(data), "hex"), privKey);
        const sig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["concatSig"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bigIntToBytes"])(messageSig.v)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(messageSig.r), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(messageSig.s));
        return sig;
    }
    async signPersonalMessage(data, address) {
        const wallet = this._getWalletForAccount(address);
        const privKey = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$crypto$2f$signing$2d$key$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SigningKey"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(wallet.privateKey));
        // we need to check if the data is hex or not
        // For historical reasons, you must submit the message to sign in hex-encoded UTF-8.
        // https://docs.metamask.io/wallet/how-to/sign-data/#use-personal_sign
        const message = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isHexString"])(data) ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(data), "hex") : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(data);
        const signature = privKey.sign((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$hash$2f$message$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hashMessage"])(message)).serialized;
        return signature;
    }
    // personal_signTypedData, signs data along with the schema
    async signTypedData(typedData, address) {
        const wallet = this._getWalletForAccount(address);
        const privKey = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$crypto$2f$signing$2d$key$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SigningKey"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(wallet.privateKey));
        delete typedData.types.EIP712Domain;
        const signature = privKey.sign(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$hash$2f$typed$2d$data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TypedDataEncoder"].hash(typedData.domain, typedData.types, typedData.message)).serialized;
        return signature;
    }
    _getWalletForAccount(account) {
        const address = account.toLowerCase();
        const wallet = this.state.wallets.find((w)=>w.address.toLowerCase() === address);
        if (!wallet) throw new Error("Torus Keyring - Unable to find matching address.");
        return wallet;
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/utils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "normalizeMessageData",
    ()=>normalizeMessageData,
    "validateAddChainData",
    ()=>validateAddChainData,
    "validateAddress",
    ()=>validateAddress,
    "validateSignMessageData",
    ()=>validateSignMessageData,
    "validateSwitchChainData",
    ()=>validateSwitchChainData,
    "validateTypedSignMessageDataV4",
    ()=>validateTypedSignMessageDataV4
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/compiled/buffer/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/account.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/utils/data.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$providers$2f$provider$2d$jsonrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/providers/provider-jsonrpc.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$maths$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/utils/maths.js [app-client] (ecmascript)");
;
;
;
const hexRe = /^[0-9A-Fa-f]+$/gu;
function validateAddress(address, propertyName) {
    if (!address || typeof address !== "string" || !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isValidAddress"])(address)) {
        throw new Error(`Invalid "${propertyName}" address: ${address} must be a valid string.`);
    }
}
function validateSignMessageData(messageData) {
    const { from, data } = messageData;
    validateAddress(from, "from");
    if (!data || typeof data !== "string") {
        throw new Error(`Invalid message "data": ${data} must be a valid string.`);
    }
}
function normalizeMessageData(data) {
    try {
        const stripped = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(data);
        if (stripped.match(hexRe)) {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(stripped);
        }
    } catch  {
    // do nothing
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bytesToHex"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(data, "utf8"));
}
async function validateTypedSignMessageDataV4(messageData, currentChainId) {
    validateAddress(messageData.from, "from");
    if (!messageData.data || Array.isArray(messageData.data) || typeof messageData.data !== "object" && typeof messageData.data !== "string") {
        throw new Error(`Invalid message "data": Must be a valid string or object.`);
    }
    let data;
    if (typeof messageData.data === "object") {
        data = messageData.data;
    } else {
        try {
            data = JSON.parse(messageData.data);
        } catch  {
            throw new Error("Data must be passed as a valid JSON string.");
        }
    }
    if (!currentChainId) {
        throw new Error("Current chainId cannot be null or undefined.");
    }
    let { chainId } = data.domain;
    if (chainId) {
        if (typeof chainId === "string") {
            chainId = parseInt(chainId, chainId.startsWith("0x") ? 16 : 10);
        }
        const activeChainId = parseInt(currentChainId, 16);
        if (Number.isNaN(activeChainId)) {
            throw new Error(`Cannot sign messages for chainId "${chainId}", because MetaMask is switching networks.`);
        }
        if (chainId !== activeChainId) {
            throw new Error(`Provided chainId "${chainId}" must match the active chainId "${activeChainId}"`);
        }
    }
}
async function validateAddChainData(data) {
    const { chainId, rpcUrls, nativeCurrency } = data || {};
    if (!chainId) {
        throw new Error("Invalid add chain params: please pass chainId in params");
    }
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isHexString"])(chainId)) {
        throw new Error("Invalid add chain params: please pass a valid hex chainId in params, for: ex: 0x1");
    }
    if (!rpcUrls || rpcUrls.length === 0) throw new Error("params.rpcUrls not provided");
    if (!nativeCurrency) throw new Error("params.nativeCurrency not provided");
    const { name, symbol, decimals } = nativeCurrency;
    if (!name) throw new Error("params.nativeCurrency.name not provided");
    if (!symbol) throw new Error("params.nativeCurrency.symbol not provided");
    if (decimals === undefined) throw new Error("params.nativeCurrency.decimals not provided");
    const _web3 = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$providers$2f$provider$2d$jsonrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JsonRpcProvider"](rpcUrls[0], "any");
    const { chainId: networkChainID } = await _web3.getNetwork();
    if (Number.parseInt(networkChainID.toString()) !== Number.parseInt(chainId, 16)) {
        throw new Error(`Provided rpc url's chainId version is not matching with provided chainId, expected: ${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$maths$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toQuantity"])(networkChainID)}, received: ${chainId}`);
    }
}
function validateSwitchChainData(data) {
    const { chainId: fullChainId } = data || {};
    if (!fullChainId) {
        throw new Error("Invalid switch chain params: please pass chainId in params");
    }
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$data$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isHexString"])(fullChainId)) {
        const [namespace, chainId] = fullChainId.split(":");
        if (namespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA && namespace !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155) {
            throw new Error("Invalid switch chain params: invalid namespace");
        }
        if (!chainId || isNaN(Number(chainId))) {
            throw new Error("Invalid switch chain params: invalid chainId");
        }
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/AddChainController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AddChainController",
    ()=>AddChainController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/AbstractMessagecontroller.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/utils.js [app-client] (ecmascript)");
;
;
;
;
;
;
class AddChainController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AbstractMessageController"] {
    constructor({ config, state, addChain }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", "AddChainController");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "addChain", void 0);
        this.addChain = addChain;
        this.initialize();
    }
    async processAddChain(messageId) {
        const msgObject = this.getMessage(messageId);
        if (!msgObject) {
            throw new Error("Message not found");
        }
        try {
            await this.approveMessage(messageId, msgObject.messageParams);
            await this.addChain(msgObject.messageParams);
            this.updateMessage((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, msgObject), {}, {
                rawSig: JSON.stringify(msgObject.messageParams)
            }));
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].SIGNED);
            return null;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
            msgObject.error = (error === null || error === void 0 ? void 0 : error.message) || (error === null || error === void 0 ? void 0 : error.toString());
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].FAILED);
        }
    }
    async addNewUnapprovedMessage(messageParams, req) {
        await this.addUnapprovedMessage(messageParams, req);
        return this.waitForFinishStatus(messageParams, this.name);
    }
    async addUnapprovedMessage(messageParams, req) {
        // set message params origin first to satisfy the eslint rule (origin won't be checked by validateAddChainData)
        // for "Possible race condition: `messageParams.origin` might be assigned based on an outdated state of `messageParams`"
        if (req) {
            messageParams.origin = req.origin;
        }
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateAddChainData"])(messageParams);
        const messageId = messageParams.id || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["randomId"])();
        const messageData = {
            id: messageId,
            messageParams,
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].UNAPPROVED,
            time: Date.now(),
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ADD_CHAIN
        };
        await this.addMessage(messageData);
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MESSAGE_EVENTS"].UNAPPROVED_MESSAGE, {
            messageData,
            req
        });
        return messageId;
    }
    prepMessageForSigning(messageParams) {
        return Promise.resolve(messageParams);
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/MessageController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MessageController",
    ()=>MessageController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/AbstractMessagecontroller.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/utils.js [app-client] (ecmascript)");
;
;
;
;
;
;
class MessageController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AbstractMessageController"] {
    constructor({ config, state, signMessage }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", "MessageController");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "signMessage", void 0);
        this.signMessage = signMessage;
        this.initialize();
    }
    async processSignMessage(messageId) {
        const msgObject = this.getMessage(messageId);
        if (!msgObject) {
            throw new Error(`Message not found`);
        }
        try {
            const cleanMsgParams = await this.approveMessage(messageId, msgObject.messageParams);
            const rawSig = await this.signMessage(cleanMsgParams.data, cleanMsgParams.from);
            this.updateMessage((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, msgObject), {}, {
                rawSig
            }));
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].SIGNED);
            return rawSig;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
            msgObject.error = (error === null || error === void 0 ? void 0 : error.message) || (error === null || error === void 0 ? void 0 : error.toString());
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].FAILED);
        }
    }
    async addNewUnapprovedMessage(messageParams, req) {
        await this.addUnapprovedMessage(messageParams, req);
        return this.waitForFinishStatus(messageParams, this.name);
    }
    async addUnapprovedMessage(messageParams, req) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateSignMessageData"])(messageParams);
        if (req) {
            messageParams.origin = req.origin;
        }
        messageParams.data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["normalizeMessageData"])(messageParams.data);
        const messageId = messageParams.id || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["randomId"])();
        const messageData = {
            id: messageId,
            messageParams,
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].UNAPPROVED,
            time: Date.now(),
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_SIGN
        };
        await this.addMessage(messageData);
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MESSAGE_EVENTS"].UNAPPROVED_MESSAGE, {
            messageData,
            req
        });
        return messageId;
    }
    prepMessageForSigning(messageParams) {
        return Promise.resolve(messageParams);
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/PersonalMessageController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PersonalMessageController",
    ()=>PersonalMessageController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/AbstractMessagecontroller.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/utils.js [app-client] (ecmascript)");
;
;
;
;
;
;
class PersonalMessageController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AbstractMessageController"] {
    constructor({ config, state, signPersonalMessage }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", "PersonalMessageController");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "signPersonalMessage", void 0);
        this.signPersonalMessage = signPersonalMessage;
        this.initialize();
    }
    async processSignPersonalMessage(messageId) {
        const msgObject = this.getMessage(messageId);
        if (!msgObject) {
            throw new Error(`Message not found`);
        }
        try {
            const cleanMsgParams = await this.approveMessage(messageId, msgObject.messageParams);
            const rawSig = await this.signPersonalMessage(cleanMsgParams.data, cleanMsgParams.from);
            this.updateMessage((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, msgObject), {}, {
                rawSig
            }));
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].SIGNED);
            return rawSig;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
            msgObject.error = (error === null || error === void 0 ? void 0 : error.message) || (error === null || error === void 0 ? void 0 : error.toString());
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].FAILED);
        }
    }
    async addNewUnapprovedMessage(messageParams, req) {
        await this.addUnapprovedMessage(messageParams, req);
        return this.waitForFinishStatus(messageParams, this.name);
    }
    async addUnapprovedMessage(messageParams, req) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateSignMessageData"])(messageParams);
        if (req) {
            messageParams.origin = req.origin;
        }
        messageParams.data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["normalizeMessageData"])(messageParams.data);
        const messageId = messageParams.id || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["randomId"])();
        const messageData = {
            id: messageId,
            messageParams,
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].UNAPPROVED,
            time: Date.now(),
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].PERSONAL_SIGN
        };
        await this.addMessage(messageData);
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MESSAGE_EVENTS"].UNAPPROVED_MESSAGE, {
            messageData,
            req
        });
        return messageId;
    }
    prepMessageForSigning(messageParams) {
        return Promise.resolve(messageParams);
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/SwitchChainController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SwitchChainController",
    ()=>SwitchChainController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/AbstractMessagecontroller.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/utils.js [app-client] (ecmascript)");
;
;
;
;
;
;
class SwitchChainController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AbstractMessageController"] {
    constructor({ config, state, switchChain }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", "SwitchChainController");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "switchChain", void 0);
        this.switchChain = switchChain;
        this.initialize();
    }
    async processSwitchChain(messageId) {
        const msgObject = this.getMessage(messageId);
        if (!msgObject) {
            throw new Error(`Message not found`);
        }
        try {
            await this.approveMessage(messageId, msgObject.messageParams);
            this.switchChain({
                chainId: msgObject.messageParams.chainId
            });
            this.updateMessage((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, msgObject), {}, {
                rawSig: JSON.stringify(msgObject.messageParams)
            }));
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].SIGNED);
            return null;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
            msgObject.error = (error === null || error === void 0 ? void 0 : error.message) || (error === null || error === void 0 ? void 0 : error.toString());
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].FAILED);
        }
    }
    async addNewUnapprovedMessage(messageParams, req) {
        await this.addUnapprovedMessage(messageParams, req);
        return this.waitForFinishStatus(messageParams, this.name);
    }
    async addUnapprovedMessage(messageParams, req) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateSwitchChainData"])(messageParams);
        if (req) {
            messageParams.origin = req.origin;
        }
        const messageId = messageParams.id || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["randomId"])();
        const messageData = {
            id: messageId,
            messageParams,
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].UNAPPROVED,
            time: Date.now(),
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].SWITCH_CHAIN
        };
        await this.addMessage(messageData);
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MESSAGE_EVENTS"].UNAPPROVED_MESSAGE, {
            messageData,
            req
        });
        return messageId;
    }
    prepMessageForSigning(messageParams) {
        return Promise.resolve(messageParams);
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/TypedMessageController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TypedMessageController",
    ()=>TypedMessageController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/AbstractMessagecontroller.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Message/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/utils.js [app-client] (ecmascript)");
;
;
;
;
;
;
class TypedMessageController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AbstractMessagecontroller$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AbstractMessageController"] {
    constructor({ config, state, signTypedData, getNetworkIdentifier }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", "TypedMessageController");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "signTypedData", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getNetworkIdentifier", void 0);
        this.signTypedData = signTypedData;
        this.getNetworkIdentifier = getNetworkIdentifier;
        this.initialize();
    }
    async processSignTypedMessage(messageId) {
        const msgObject = this.getMessage(messageId);
        if (!msgObject) {
            throw new Error(`Message not found`);
        }
        try {
            const cleanMsgParams = await this.approveMessage(messageId, msgObject.messageParams);
            const msgData = JSON.parse(cleanMsgParams.data);
            const rawSig = await this.signTypedData(msgData, cleanMsgParams.from);
            this.updateMessage((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, msgObject), {}, {
                rawSig
            }));
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].SIGNED);
            return rawSig;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
            msgObject.error = (error === null || error === void 0 ? void 0 : error.message) || (error === null || error === void 0 ? void 0 : error.toString());
            this.setMessageStatus(messageId, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].FAILED);
        }
    }
    async addNewUnapprovedMessage(messageParams, req) {
        await this.addUnapprovedMessage(messageParams, req);
        return this.waitForFinishStatus(messageParams, this.name);
    }
    async addUnapprovedMessage(messageParams, req) {
        const currentChainId = this.getNetworkIdentifier();
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateTypedSignMessageDataV4"])(messageParams, currentChainId);
        if (typeof messageParams.data !== "string") {
            messageParams.data = JSON.stringify(messageParams.data);
        }
        if (req) {
            messageParams.origin = req.origin;
        }
        const messageId = messageParams.id || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["randomId"])();
        const messageData = {
            id: messageId,
            messageParams,
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageStatus"].UNAPPROVED,
            time: Date.now(),
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_SIGN_TYPED_DATA_V4
        };
        await this.addMessage(messageData);
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MESSAGE_EVENTS"].UNAPPROVED_MESSAGE, {
            messageData,
            req
        });
        return messageId;
    }
    prepMessageForSigning(messageParams) {
        return Promise.resolve(messageParams);
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/createEthereumMiddleware.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createAAMiddleware",
    ()=>createAAMiddleware,
    "createEthereumMiddleware",
    ()=>createEthereumMiddleware,
    "createGetAccountsMiddleware",
    ()=>createGetAccountsMiddleware,
    "createPendingNonceMiddleware",
    ()=>createPendingNonceMiddleware,
    "createPendingTxMiddleware",
    ()=>createPendingTxMiddleware,
    "createProcessAddEthereumChain",
    ()=>createProcessAddEthereumChain,
    "createProcessEstimateUserOperationGasMiddleware",
    ()=>createProcessEstimateUserOperationGasMiddleware,
    "createProcessEthSignMessage",
    ()=>createProcessEthSignMessage,
    "createProcessPersonalMessage",
    ()=>createProcessPersonalMessage,
    "createProcessSignTransactionMiddleware",
    ()=>createProcessSignTransactionMiddleware,
    "createProcessSwitchEthereumChain",
    ()=>createProcessSwitchEthereumChain,
    "createProcessTransactionMiddleware",
    ()=>createProcessTransactionMiddleware,
    "createProcessTypedMessageV4",
    ()=>createProcessTypedMessageV4,
    "createProcessWalletSwitchChain",
    ()=>createProcessWalletSwitchChain,
    "createRequestAccountsMiddleware",
    ()=>createRequestAccountsMiddleware,
    "formatTxMetaForRpcResult",
    ()=>formatTxMetaForRpcResult
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/enums.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createFetchMiddleware.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Embed$2f$CommunicationMethodMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Embed/CommunicationMethodMiddleware.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpc.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
function createGetAccountsMiddleware({ getAccounts }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].GET_ACCOUNTS) return next();
        if (!getAccounts) throw new Error("WalletMiddleware - opts.getAccounts not provided");
        const accounts = await getAccounts(request);
        response.result = accounts;
    });
}
function createProcessTransactionMiddleware({ processTransaction }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_TRANSACTION) return next();
        if (!processTransaction) throw new Error("WalletMiddleware - opts.processTransaction not provided");
        response.result = await processTransaction(request.params, request);
    });
}
function createProcessSignTransactionMiddleware({ processSignTransaction }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_SIGN_TRANSACTION) return next();
        if (!processSignTransaction) throw new Error("WalletMiddleware - opts.processSignTransaction not provided");
        response.result = await processSignTransaction(request.params, request);
    });
}
function createProcessEstimateUserOperationGasMiddleware({ processEstimateUserOperationGas }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_ESTIMATE_AA_TRANSACTION_GAS) return next();
        if (!processEstimateUserOperationGas) throw new Error("WalletMiddleware - opts.processEstimateUserOperationGas not provided");
        response.result = await processEstimateUserOperationGas(request.params, request);
    });
}
function createProcessEthSignMessage({ processEthSignMessage }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_SIGN) return next();
        if (!processEthSignMessage) throw new Error("WalletMiddleware - opts.processEthSignMessage not provided");
        if (!(request !== null && request !== void 0 && request.params)) throw new Error("WalletMiddleware - missing params");
        let msgParams = request.params;
        if (Array.isArray(request.params)) {
            if (!(request.params.length === 2)) throw new Error(`WalletMiddleware - incorrect params for ${method} method. expected [address, message]`);
            const params = request.params;
            const address = params[0];
            const message = params[1];
            msgParams = {
                from: address,
                data: message
            };
        }
        response.result = await processEthSignMessage(msgParams, request);
    });
}
function createProcessTypedMessageV4({ processTypedMessageV4 }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_SIGN_TYPED_DATA_V4) return next();
        if (!processTypedMessageV4) throw new Error("WalletMiddleware - opts.processTypedMessageV4 is not provided");
        if (!(request !== null && request !== void 0 && request.params)) throw new Error("WalletMiddleware - missing params");
        let msgParams = request.params;
        if (Array.isArray(request.params)) {
            if (!(request.params.length === 2)) throw new Error(`WalletMiddleware - incorrect params for ${method} method. expected [address, typedData]`);
            const params = request.params;
            const address = params[0];
            const message = params[1];
            msgParams = {
                from: address,
                data: message
            };
        }
        response.result = await processTypedMessageV4(msgParams, request);
    });
}
function createProcessPersonalMessage({ processPersonalMessage }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].PERSONAL_SIGN) return next();
        if (!processPersonalMessage) throw new Error("WalletMiddleware - opts.processPersonalMessage is not provided");
        if (!(request !== null && request !== void 0 && request.params)) throw new Error("WalletMiddleware - missing params");
        let msgParams = request.params;
        if (Array.isArray(request.params)) {
            if (!(request.params.length >= 2)) throw new Error(`WalletMiddleware - incorrect params for ${method} method. expected [message, address]`);
            const params = request.params;
            if (typeof params[0] === "object") {
                const { challenge, address } = params[0];
                msgParams = {
                    from: address,
                    data: challenge
                };
            } else {
                const message = params[0];
                const address = params[1];
                msgParams = {
                    from: address,
                    data: message
                };
            }
        }
        response.result = await processPersonalMessage(msgParams, request);
    });
}
function createPendingNonceMiddleware({ getPendingNonce }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { params, method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_TRANSACTION_COUNT) return next();
        const { blockReference } = params;
        if (blockReference !== "pending") return next();
        response.result = await getPendingNonce(params, request);
    });
}
function formatTxMetaForRpcResult(txMeta) {
    const { r, s, v, txReceipt, transaction, transactionHash, accessList } = txMeta;
    const { to, data, nonce, gas, from, value, gasPrice, maxFeePerGas, maxPriorityFeePerGas } = transaction;
    const formattedTxMeta = {
        v,
        r,
        s,
        to,
        gas,
        from,
        hash: transactionHash,
        nonce,
        input: data || "0x",
        value: value || "0x0",
        accessList: accessList || null,
        blockHash: (txReceipt === null || txReceipt === void 0 ? void 0 : txReceipt.blockHash) || null,
        blockNumber: (txReceipt === null || txReceipt === void 0 ? void 0 : txReceipt.blockNumber) || null,
        transactionIndex: (txReceipt === null || txReceipt === void 0 ? void 0 : txReceipt.transactionIndex) || null,
        type: null
    };
    if (maxFeePerGas && maxPriorityFeePerGas) {
        formattedTxMeta.maxFeePerGas = maxFeePerGas;
        formattedTxMeta.maxPriorityFeePerGas = maxPriorityFeePerGas;
        formattedTxMeta.type = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_ENVELOPE_TYPES"].FEE_MARKET;
    } else {
        formattedTxMeta.gasPrice = gasPrice;
        formattedTxMeta.type = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_ENVELOPE_TYPES"].LEGACY;
    }
    return formattedTxMeta;
}
function createPendingTxMiddleware({ getPendingTransactionByHash }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { params, method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_TRANSACTION_BY_HASH) return next();
        if (!getPendingTransactionByHash) throw new Error("WalletMiddleware - opts.getPendingTransactionByHash not provided");
        const txMeta = await getPendingTransactionByHash(params, request);
        if (!txMeta) {
            return next();
        }
        response.result = formatTxMetaForRpcResult(txMeta);
        return undefined;
    });
}
function createProcessSwitchEthereumChain({ processSwitchEthereumChain }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].SWITCH_CHAIN) return next();
        if (!processSwitchEthereumChain) throw new Error("WalletMiddleware - opts.processSwitchEthereumChain not provided");
        if (!(request !== null && request !== void 0 && request.params)) throw new Error("WalletMiddleware - missing params");
        let msgParams = request.params;
        if (Array.isArray(request.params)) {
            if (!(request.params.length === 1)) throw new Error(`WalletMiddleware - incorrect params for ${method} method. expected [data]`);
            const [message] = request.params;
            msgParams = message;
        }
        response.result = await processSwitchEthereumChain(msgParams, request);
    });
}
function createProcessWalletSwitchChain({ processWalletSwitchChain }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PROVIDER_JRPC_METHODS"].WALLET_SWITCH_CHAIN) return next();
        if (!processWalletSwitchChain) throw new Error("WalletMiddleware - opts.processWalletSwitchChain not provided");
        if (!(request !== null && request !== void 0 && request.params)) throw new Error("WalletMiddleware - missing params");
        let msgParams = request.params;
        if (Array.isArray(request.params)) {
            if (!(request.params.length === 1)) throw new Error(`WalletMiddleware - incorrect params for ${method} method. expected [data]`);
            const [message] = request.params;
            msgParams = message;
        }
        response.result = await processWalletSwitchChain(msgParams, request);
    });
}
function createProcessAddEthereumChain({ processAddEthereumChain }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ADD_CHAIN) return next();
        if (!processAddEthereumChain) throw new Error("WalletMiddleware - opts.processAddEthereumChain not provided");
        if (!(request !== null && request !== void 0 && request.params)) throw new Error("WalletMiddleware - missing params");
        let msgParams = request.params;
        if (Array.isArray(request.params)) {
            if (!(request.params.length === 1)) throw new Error(`WalletMiddleware - incorrect params for ${method} method. expected [data]`);
            const [message] = request.params;
            msgParams = message;
        }
        response.result = await processAddEthereumChain(msgParams, request);
    });
}
function createRequestAccountsMiddleware({ requestAccounts }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== "eth_requestAccounts") return next();
        if (!requestAccounts) throw new Error("WalletMiddleware - opts.requestAccounts not provided");
        // This calls the UI login function
        const accounts = await requestAccounts(request);
        response.result = accounts;
        return undefined;
    });
}
/**
 * Middleware to handle bundler/paymaster rpc method
 */ function createAAMiddleware({ bundlerUrl, paymasterUrl, providerConfig, analytics }) {
    // forward request to bundler/paymaster
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const middlewares = [];
    // NOTE: bundler/paymaster rpc only accept number as request id, we need to handle that here if client doesn't handle request id themselves
    const idNumberRemapMiddleware = (req, res, next, _end)=>{
        // skip if not bundler/paymaster methods
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUNDLER_METHOD_TYPES"].includes(req.method) && !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PAYMASTER_METHOD_TYPES"].includes(req.method)) {
            return next();
        }
        const originalId = req.id;
        const newId = Math.floor(Math.random() * 1000000);
        req.id = newId;
        res.id = newId;
        next((done)=>{
            req.id = originalId;
            res.id = originalId;
            done();
        });
    };
    const bundlerFetchMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createFetchMiddleware"])({
        rpcTarget: bundlerUrl,
        providerConfig,
        analytics
    });
    middlewares.push(idNumberRemapMiddleware);
    middlewares.push((request, response, next, end)=>{
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUNDLER_METHOD_TYPES"].includes(request.method)) {
            return next();
        }
        bundlerFetchMiddleware(request, response, next, end);
    });
    if (paymasterUrl) {
        const paymasterFetchMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createFetchMiddleware"])({
            rpcTarget: paymasterUrl,
            providerConfig,
            analytics
        });
        middlewares.push((request, response, next, end)=>{
            if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PAYMASTER_METHOD_TYPES"].includes(request.method)) {
                return next();
            }
            paymasterFetchMiddleware(request, response, next, end);
        });
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])(middlewares);
}
function createEthereumMiddleware(providerHandlers, providerConfig, analytics) {
    const { requestAccounts, getAccounts, getPrivateKey, getPublicKey, processTransaction, processSignTransaction, processEstimateUserOperationGas, processEthSignMessage, processTypedMessageV4, processPersonalMessage, getPendingNonce, getPendingTransactionByHash, processSwitchEthereumChain, processWalletSwitchChain, processAddEthereumChain, getProviderState, aaConfig, version } = providerHandlers;
    const middlewares = [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createScaffoldMiddleware"])({
            version,
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PROVIDER_JRPC_METHODS"].GET_PROVIDER_STATE]: getProviderState
        }),
        createRequestAccountsMiddleware({
            requestAccounts
        }),
        createGetAccountsMiddleware({
            getAccounts
        }),
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Embed$2f$CommunicationMethodMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createGenericJRPCMiddleware"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_PRIVATE_KEY, getPrivateKey),
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Embed$2f$CommunicationMethodMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createGenericJRPCMiddleware"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].PRIVATE_KEY, getPrivateKey),
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Embed$2f$CommunicationMethodMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createGenericJRPCMiddleware"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_PUBLIC_KEY, getPublicKey),
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Embed$2f$CommunicationMethodMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createGenericJRPCMiddleware"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].PUBLIC_KEY, getPublicKey),
        createProcessTransactionMiddleware({
            processTransaction
        }),
        createProcessSignTransactionMiddleware({
            processSignTransaction
        }),
        createProcessEstimateUserOperationGasMiddleware({
            processEstimateUserOperationGas
        }),
        createProcessEthSignMessage({
            processEthSignMessage
        }),
        createProcessTypedMessageV4({
            processTypedMessageV4
        }),
        createProcessPersonalMessage({
            processPersonalMessage
        }),
        createPendingNonceMiddleware({
            getPendingNonce
        }),
        createPendingTxMiddleware({
            getPendingTransactionByHash
        }),
        createProcessSwitchEthereumChain({
            processSwitchEthereumChain
        }),
        createProcessWalletSwitchChain({
            processWalletSwitchChain
        }),
        createProcessAddEthereumChain({
            processAddEthereumChain
        })
    ];
    if (aaConfig) {
        middlewares.push(createAAMiddleware({
            bundlerUrl: aaConfig.bundlerUrl,
            paymasterUrl: aaConfig.paymasterUrl,
            providerConfig,
            analytics
        }));
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])(middlewares);
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/cacheIdentifier.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CacheStrategy",
    ()=>CacheStrategy,
    "blockTagParamIndex",
    ()=>blockTagParamIndex,
    "cacheIdentifierForRequest",
    ()=>cacheIdentifierForRequest,
    "cacheTypeForMethod",
    ()=>cacheTypeForMethod
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$safe$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/fast-safe-stringify/index.js [app-client] (ecmascript)");
;
let CacheStrategy = /*#__PURE__*/ function(CacheStrategy) {
    /**
   * Cache per-block.
   */ CacheStrategy["Block"] = "block";
    /**
   * Cache until a chain reorganization occurs.
   */ CacheStrategy["Fork"] = "fork";
    /**
   * Never cache.
   */ CacheStrategy["Never"] = "never";
    /**
   * Permanently cache.
   */ CacheStrategy["Permanent"] = "perma";
    return CacheStrategy;
}({});
function blockTagParamIndex(method) {
    switch(method){
        // blockTag is at index 2
        case "eth_getStorageAt":
            return 2;
        // blockTag is at index 1
        case "eth_getBalance":
        case "eth_getCode":
        case "eth_getTransactionCount":
        case "eth_call":
            return 1;
        // blockTag is at index 0
        case "eth_getBlockByNumber":
            return 0;
        // there is no blockTag
        default:
            return undefined;
    }
}
function cacheTypeForMethod(method) {
    switch(method){
        // cache permanently
        case "web3_clientVersion":
        case "web3_sha3":
        case "eth_protocolVersion":
        case "eth_getBlockTransactionCountByHash":
        case "eth_getUncleCountByBlockHash":
        case "eth_getCode":
        case "eth_getBlockByHash":
        case "eth_getTransactionByHash":
        case "eth_getTransactionByBlockHashAndIndex":
        case "eth_getTransactionReceipt":
        case "eth_getUncleByBlockHashAndIndex":
        case "eth_getCompilers":
        case "eth_compileLLL":
        case "eth_compileSolidity":
        case "eth_compileSerpent":
        case "shh_version":
        case "test_permaCache":
            return CacheStrategy.Permanent;
        // cache until fork
        case "eth_getBlockByNumber":
        case "eth_getBlockTransactionCountByNumber":
        case "eth_getUncleCountByBlockNumber":
        case "eth_getTransactionByBlockNumberAndIndex":
        case "eth_getUncleByBlockNumberAndIndex":
        case "test_forkCache":
            return CacheStrategy.Fork;
        // cache for block
        case "eth_gasPrice":
        case "eth_blockNumber":
        case "eth_getBalance":
        case "eth_getStorageAt":
        case "eth_getTransactionCount":
        case "eth_call":
        case "eth_estimateGas":
        case "eth_getFilterLogs":
        case "eth_getLogs":
        case "test_blockCache":
            return CacheStrategy.Block;
        // never cache
        default:
            return CacheStrategy.Never;
    }
}
function canCache(method) {
    return cacheTypeForMethod(method) !== CacheStrategy.Never;
}
function paramsWithoutBlockTag(request) {
    if (!request.params) {
        return [];
    }
    const index = blockTagParamIndex(request.method);
    // Block tag param not passed.
    if (index === undefined || !Array.isArray(request.params) || index >= request.params.length) {
        return request.params;
    }
    // eth_getBlockByNumber has the block tag first, then the optional includeTx? param
    if (request.method === "eth_getBlockByNumber") {
        return request.params.slice(1);
    }
    return request.params.slice(0, index);
}
function cacheIdentifierForRequest(request, skipBlockRef) {
    var _request$params;
    const simpleParams = skipBlockRef ? paramsWithoutBlockTag(request) : (_request$params = request.params) !== null && _request$params !== void 0 ? _request$params : [];
    if (canCache(request.method)) {
        return `${request.method}:${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$safe$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(simpleParams)}`;
    }
    return null;
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/createJsonRpcClient.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createChainIdMiddleware",
    ()=>createChainIdMiddleware,
    "createJsonRpcClient",
    ()=>createJsonRpcClient,
    "createProviderConfigMiddleware",
    ()=>createProviderConfigMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createFetchMiddleware.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createInflightCacheMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createInflightCacheMiddleware.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Block$2f$PollingBlockTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Block/PollingBlockTracker.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$cacheIdentifier$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/cacheIdentifier.js [app-client] (ecmascript)");
;
;
;
;
;
function createChainIdMiddleware(chainId) {
    return (req, res, next, end)=>{
        if (req.method === "eth_chainId") {
            res.result = chainId;
            return end();
        }
        if (req.method === "net_version") {
            // convert to decimal
            res.result = Number.parseInt(chainId, 16).toString(10);
            return end();
        }
        return next();
    };
}
function createProviderConfigMiddleware(providerConfig) {
    return (req, res, next, end)=>{
        if (req.method === "eth_provider_config") {
            res.result = providerConfig;
            return end();
        }
        return next();
    };
}
function createJsonRpcClient(providerConfig, networkConfig, idleTimeTracker, analytics) {
    const { chainId, rpcTarget } = providerConfig;
    const fetchMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createFetchMiddleware"])({
        rpcTarget,
        providerConfig,
        analytics
    });
    const blockProvider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerFromMiddleware"])(fetchMiddleware);
    const blockTracker = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Block$2f$PollingBlockTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PollingBlockTracker"]({
        config: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, networkConfig), {}, {
            provider: blockProvider
        }),
        state: {},
        idleTimeTracker
    });
    const networkMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])([
        createChainIdMiddleware(chainId),
        createProviderConfigMiddleware(providerConfig),
        // No need for the following middlewares for web because all browser sessions are quite short lived and each session is limited to scope of a window/tab
        // createBlockRefRewriteMiddleware({ blockTracker }),
        // createBlockCacheMiddleware({ blockTracker }),
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createInflightCacheMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createInflightCacheMiddleware"])({
            cacheIdentifierForRequest: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$cacheIdentifier$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cacheIdentifierForRequest"]
        }),
        // createBlockTrackerInspectorMiddleware({ blockTracker }),
        fetchMiddleware
    ]);
    return {
        networkMiddleware,
        blockTracker
    };
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/NetworkController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NetworkController",
    ()=>NetworkController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectWithoutProperties$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createAnalyticsMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createAnalyticsMiddleware.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$createSwappableProxy$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/createSwappableProxy.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$createEventEmitterProxy$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/createEventEmitterProxy.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$async$2d$mutex$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/async-mutex/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/createEthereumMiddleware.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createJsonRpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/createJsonRpcClient.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
const _excluded = [
    "chainId",
    "rpcTarget"
];
class NetworkController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseController"] {
    constructor({ config, state, idleTimeTracker, analytics }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", "NetworkController");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "providerProxy", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "blockTrackerProxy", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "mutex", new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$async$2d$mutex$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Mutex"]());
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "blockTracker", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "baseProviderHandlers", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "idleTimeTracker", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "analytics", void 0);
        this.defaultState = {
            chainId: "loading",
            properties: {
                EIPS_1559: undefined
            },
            providerConfig: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"][__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MAINNET_CHAIN_ID"]]
        };
        this.analytics = analytics;
        // when a new network is set,
        // we set to loading first and
        // then when connection succeeds,
        // we update the network
        this.initialize();
        this.idleTimeTracker = idleTimeTracker;
    }
    getNetworkIdentifier() {
        return this.state.chainId;
    }
    getNetworkRPCUrl() {
        return this.state.providerConfig.rpcTarget;
    }
    /**
   * Called by orchestrator once while initializing the class
   * @param providerHandlers - JRPC handlers for provider
   * @returns - provider - Returns the providerProxy
   */ initializeProvider(providerHandlers) {
        this.baseProviderHandlers = providerHandlers;
        this.configureProvider();
        this.lookupNetwork(); // Not awaiting this, because we don't want to block the initialization
        return this.providerProxy;
    }
    getProvider() {
        return this.providerProxy;
    }
    getBlockTracker() {
        return this.blockTrackerProxy;
    }
    getProviderConfig() {
        return this.state.providerConfig;
    }
    setProviderConfig(config) {
        this.update({
            providerConfig: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, config)
        });
        this.refreshNetwork();
    }
    async getEIP1559Compatibility() {
        const { EIPS_1559 } = this.state.properties;
        // log.info('checking eip 1559 compatibility')
        if (EIPS_1559 !== undefined) {
            return EIPS_1559;
        }
        const latestBlock = await this.blockTracker.getLatestBlock();
        const supportsEIP1559 = latestBlock && latestBlock.baseFeePerGas !== undefined;
        this.update({
            properties: {
                EIPS_1559: supportsEIP1559
            }
        });
        return supportsEIP1559;
    }
    /**
   * Refreshes the current network code
   */ async lookupNetwork() {
        const { chainId, rpcTarget } = this.getProviderConfig();
        if (!chainId || !rpcTarget || !this.provider) {
            this.update({
                chainId: "loading",
                properties: {}
            });
            return;
        }
        const releaseLock = await this.mutex.acquire();
        try {
            // use eth_chainId
            const [networkChainId] = await Promise.all([
                this.provider.request({
                    method: "eth_chainId"
                }),
                this.getEIP1559Compatibility()
            ]);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info("network fetched chain id", networkChainId);
            // update chain ID
            this.update({
                chainId: networkChainId
            });
            this.emit("networkDidChange");
        } catch  {
            this.update({
                chainId: "loading"
            });
        } finally{
            releaseLock();
        }
    }
    configureProvider() {
        const _this$getProviderConf = this.getProviderConfig(), { chainId, rpcTarget } = _this$getProviderConf, rest = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectWithoutProperties$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_this$getProviderConf, _excluded);
        if (!chainId || !rpcTarget) {
            throw new Error("chainId and rpcTarget must be provided in providerConfig");
        }
        this.configureStandardProvider((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({
            chainId,
            rpcTarget
        }, rest));
    }
    setNetworkClient({ networkMiddleware, blockTracker }) {
        const ethereumMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createEthereumMiddleware"])(this.baseProviderHandlers, this.getProviderConfig(), this.analytics);
        const engine = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPCEngine"]();
        engine.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createAnalyticsMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAnalyticsMiddleware"])({
            providerConfig: this.getProviderConfig(),
            analytics: this.analytics
        }));
        engine.push(ethereumMiddleware);
        engine.push(networkMiddleware);
        const provider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerFromEngine"])(engine);
        this.setProvider({
            provider,
            blockTracker
        });
    }
    setProvider({ provider, blockTracker }) {
        if (this.providerProxy) {
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            this.providerProxy.setTarget(provider);
        } else {
            this.providerProxy = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$createSwappableProxy$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createSwappableProxy"])(provider);
        }
        if (this.blockTrackerProxy) {
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            this.blockTrackerProxy.setTarget(blockTracker);
        } else {
            this.blockTrackerProxy = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$createEventEmitterProxy$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createEventEmitterProxy"])(blockTracker, {
                eventFilter: "skipInternal"
            });
        }
        // set new provider and blockTracker
        this.provider = provider;
        provider.setMaxListeners(10);
        this.blockTracker = blockTracker;
    }
    configureStandardProvider(providerConfig) {
        const networkClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createJsonRpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createJsonRpcClient"])(providerConfig, this.config, this.idleTimeTracker, this.analytics);
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info("networkClient", networkClient);
        this.setNetworkClient(networkClient);
    }
    refreshNetwork() {
        this.update({
            chainId: "loading",
            properties: {}
        });
        this.configureProvider();
        this.lookupNetwork();
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionUtils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "determineTransactionType",
    ()=>determineTransactionType,
    "ensureFieldIsString",
    ()=>ensureFieldIsString,
    "ensureMutuallyExclusiveFieldsNotProvided",
    ()=>ensureMutuallyExclusiveFieldsNotProvided,
    "getFinalStates",
    ()=>getFinalStates,
    "isEIP1559Transaction",
    ()=>isEIP1559Transaction,
    "isLegacyTransaction",
    ()=>isLegacyTransaction,
    "normalizeAndValidateTxParams",
    ()=>normalizeAndValidateTxParams,
    "normalizeTxParameters",
    ()=>normalizeTxParameters,
    "parseStandardTokenTransactionData",
    ()=>parseStandardTokenTransactionData,
    "readAddressAsContract",
    ()=>readAddressAsContract,
    "transactionMatchesNetwork",
    ()=>transactionMatchesNetwork,
    "validateFrom",
    ()=>validateFrom,
    "validateRecipient",
    ()=>validateRecipient,
    "validateTxParameters",
    ()=>validateTxParameters
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/account.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Transaction/ITransactionController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$abi$2f$interface$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/abi/interface.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/abis.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
const erc20Interface = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$abi$2f$interface$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Interface"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc20Abi"]);
const erc721Interface = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$abi$2f$interface$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Interface"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc721Abi"]);
const erc1155Interface = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$abi$2f$interface$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Interface"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc1155Abi"]);
// functions that handle normalizing of that key in txParams
const normalizers = {
    from: (from, LowerCase = true)=>LowerCase ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(from).toLowerCase() : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(from),
    to: (to, LowerCase = true)=>LowerCase ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(to).toLowerCase() : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(to),
    nonce: (nonce)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(nonce),
    customNonceValue: (nonce)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(nonce),
    value: (value)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(value),
    data: (data)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(data),
    gas: (gas)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(gas),
    gasPrice: (gasPrice)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(gasPrice),
    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"],
    maxFeePerGas: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"],
    maxPriorityFeePerGas: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"],
    callGasLimit: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"],
    preVerificationGas: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"],
    verificationGasLimit: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"],
    paymasterVerificationGasLimit: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"],
    paymasterPostOpGasLimit: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"]
};
/**
 * normalizes txParams
 */ function normalizeTxParameters(txParameters, lowerCase = true) {
    // apply only keys in the normalizers
    const normalizedTxParameters = {
        id: txParameters.id || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["randomId"])(),
        from: txParameters.from
    };
    for(const key in normalizers){
        const currentKey = key;
        if (txParameters[currentKey]) // eslint-disable-next-line @typescript-eslint/no-explicit-any
        normalizedTxParameters[currentKey] = normalizers[currentKey](txParameters[currentKey], lowerCase);
    }
    return normalizedTxParameters;
}
function transactionMatchesNetwork(transaction, chainId) {
    if (typeof transaction.chainId !== "undefined") {
        return transaction.chainId === chainId;
    }
    return false;
}
/**
 * Determines if the maxFeePerGas and maxPriorityFeePerGas fields are supplied
 * and valid inputs. This will return false for non hex string inputs.
 *  the transaction to check
 * @returns true if transaction uses valid EIP1559 fields
 */ function isEIP1559Transaction(transaction) {
    var _transaction$transact, _transaction$transact2;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isHexString"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(transaction === null || transaction === void 0 || (_transaction$transact = transaction.transaction) === null || _transaction$transact === void 0 ? void 0 : _transaction$transact.maxFeePerGas)) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isHexString"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(transaction === null || transaction === void 0 || (_transaction$transact2 = transaction.transaction) === null || _transaction$transact2 === void 0 ? void 0 : _transaction$transact2.maxPriorityFeePerGas));
}
/**
 * Determine if the maxFeePerGas and maxPriorityFeePerGas fields are not
 * supplied and that the gasPrice field is valid if it is provided. This will
 * return false if gasPrice is a non hex string.
 * transaction -
 *  the transaction to check
 * @returns true if transaction uses valid Legacy fields OR lacks
 *  EIP1559 fields
 */ function isLegacyTransaction(transaction) {
    return typeof transaction.transaction.maxFeePerGas === "undefined" && typeof transaction.transaction.maxPriorityFeePerGas === "undefined" && (typeof transaction.transaction.gasPrice === "undefined" || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isHexString"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(transaction.transaction.gasPrice)));
}
/**
 * Given two fields, ensure that the second field is not included in txParams,
 * and if it is throw an invalidParams error.
 */ function ensureMutuallyExclusiveFieldsNotProvided(txParams, fieldBeingValidated, mutuallyExclusiveField) {
    if (typeof txParams[mutuallyExclusiveField] !== "undefined") {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams(`Invalid transaction params: specified ${fieldBeingValidated} but also included ${mutuallyExclusiveField}, these cannot be mixed`);
    }
}
/**
 * Ensures that the provided value for field is a string, throws an
 * invalidParams error if field is not a string.
 */ function ensureFieldIsString(txParams, field) {
    if (typeof txParams[field] !== "string") {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams(`Invalid transaction params: ${field} is not a string. got: (${txParams[field]})`);
    }
}
/**
 * Ensures that the provided txParams has the proper 'type' specified for the
 * given field, if it is provided. If types do not match throws an
 * invalidParams error.
 */ function ensureProperTransactionEnvelopeTypeProvided(txParams, field) {
    switch(field){
        case "maxFeePerGas":
        case "maxPriorityFeePerGas":
            if (txParams.type && txParams.type !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_ENVELOPE_TYPES"].FEE_MARKET) {
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams(`Invalid transaction envelope type: specified type "${txParams.type}" but ` + `including maxFeePerGas and maxPriorityFeePerGas requires type: "${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_ENVELOPE_TYPES"].FEE_MARKET}"`);
            }
            break;
        case "gasPrice":
        default:
            if (txParams.type && txParams.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_ENVELOPE_TYPES"].FEE_MARKET) {
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams(`Invalid transaction envelope type: specified type "${txParams.type}" but ` + "included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas");
            }
    }
}
/**
 * validates the from field in  txParams
 */ function validateFrom(txParams) {
    if (!(typeof txParams.from === "string")) {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams(`Invalid "from" address "${txParams.from}": not a string.`);
    }
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isValidAddress"])(txParams.from)) {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams('Invalid "from" address.');
    }
}
/**
 * validates the to field in  txParams
 */ function validateRecipient(txParameters) {
    if (txParameters.to === "0x" || txParameters.to === null) {
        if (txParameters.data) {
            delete txParameters.to;
        } else {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams('Invalid "to" address.');
        }
    } else if (txParameters.to !== undefined && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isValidAddress"])(txParameters.to)) {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams('Invalid "to" address.');
    }
    return txParameters;
}
/**
 * Validates the given tx parameters
 * @throws if the tx params contains invalid fields
 */ function validateTxParameters(txParams, eip1559Compatibility = true) {
    if (!txParams || typeof txParams !== "object" || Array.isArray(txParams)) {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams("Invalid transaction params: must be an object.");
    }
    if (!txParams.to && !txParams.data) {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams('Invalid transaction params: must specify "data" for contract deployments, or "to" (and optionally "data") for all other types of transactions.');
    }
    if (isEIP1559Transaction({
        transaction: txParams
    }) && !eip1559Compatibility) {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559");
    }
    Object.entries(txParams).forEach(([key, value])=>{
        // validate types
        switch(key){
            case "from":
                validateFrom(txParams);
                break;
            case "to":
                validateRecipient(txParams);
                break;
            case "gasPrice":
                ensureProperTransactionEnvelopeTypeProvided(txParams, "gasPrice");
                ensureMutuallyExclusiveFieldsNotProvided(txParams, "gasPrice", "maxFeePerGas");
                ensureMutuallyExclusiveFieldsNotProvided(txParams, "gasPrice", "maxPriorityFeePerGas");
                ensureFieldIsString(txParams, "gasPrice");
                break;
            case "maxFeePerGas":
                ensureProperTransactionEnvelopeTypeProvided(txParams, "maxFeePerGas");
                ensureMutuallyExclusiveFieldsNotProvided(txParams, "maxFeePerGas", "gasPrice");
                ensureFieldIsString(txParams, "maxFeePerGas");
                break;
            case "maxPriorityFeePerGas":
                ensureProperTransactionEnvelopeTypeProvided(txParams, "maxPriorityFeePerGas");
                ensureMutuallyExclusiveFieldsNotProvided(txParams, "maxPriorityFeePerGas", "gasPrice");
                ensureFieldIsString(txParams, "maxPriorityFeePerGas");
                break;
            case "value":
                ensureFieldIsString(txParams, "value");
                if (value.toString().includes("-")) {
                    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams(`Invalid transaction value "${value}": not a positive number.`);
                }
                if (value.toString().includes(".")) {
                    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams(`Invalid transaction value of "${value}": number must be in wei.`);
                }
                break;
            case "chainId":
                if (typeof value !== "number" && typeof value !== "string") {
                    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams(`Invalid transaction params: ${key} is not a Number or hex string. got: (${value})`);
                }
                break;
            default:
                ensureFieldIsString(txParams, key);
        }
    });
}
function normalizeAndValidateTxParams(txParams, lowerCase = true) {
    const normalizedTxParams = normalizeTxParameters(txParams, lowerCase);
    validateTxParameters(normalizedTxParams);
    return normalizedTxParams;
}
/**
 * @returns an array of states that can be considered final
 */ function getFinalStates() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].rejected,
        // the user has responded no!
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].confirmed,
        // the tx has been included in a block.
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].failed,
        // the tx failed for some reason, included on tx data.
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].dropped // the tx nonce was already used
    ];
}
function parseStandardTokenTransactionData(data) {
    try {
        const txDesc = erc20Interface.parseTransaction({
            data
        });
        if (txDesc) return {
            name: txDesc.name,
            methodParams: txDesc.args.toArray(),
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC20"]
        };
    } catch  {
    // ignore and next try to parse with erc721 ABI
    }
    try {
        const txDesc = erc721Interface.parseTransaction({
            data
        });
        if (txDesc) return {
            name: txDesc.name,
            methodParams: txDesc.args.toArray(),
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"]
        };
    } catch  {
    // ignore and next try to parse with erc1155 ABI
    }
    try {
        const txDesc = erc1155Interface.parseTransaction({
            data
        });
        if (txDesc) return {
            name: txDesc.name,
            methodParams: txDesc.args.toArray(),
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"]
        };
    } catch  {
    // ignore and return undefined
    }
    return undefined;
}
const readAddressAsContract = async (provider, address)=>{
    let contractCode;
    try {
        contractCode = await provider.request({
            method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_CODE,
            params: [
                address,
                "latest"
            ]
        });
    } catch  {
        contractCode = null;
    }
    const isContractAddress = contractCode ? contractCode !== "0x" && contractCode !== "0x0" : false;
    return {
        contractCode,
        isContractAddress
    };
};
async function determineTransactionType(txParams, provider) {
    const { data, to } = txParams;
    let name = "";
    let methodParams = [];
    let type = "";
    try {
        ({ name, methodParams, type } = data && parseStandardTokenTransactionData(data) || {});
    } catch (error) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].debug("Failed to parse transaction data", error);
    }
    let result;
    let contractCode = "";
    if (data && !to) {
        result = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_TYPES"].DEPLOY_CONTRACT;
    } else {
        const { contractCode: resultCode, isContractAddress } = await readAddressAsContract(provider, to);
        contractCode = resultCode;
        if (isContractAddress) {
            const valueExists = txParams.value && Number(txParams.value) !== 0;
            const tokenMethodName = [
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_TYPES"].TOKEN_METHOD_APPROVE,
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_TYPES"].TOKEN_METHOD_TRANSFER,
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_TYPES"].TOKEN_METHOD_TRANSFER_FROM,
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_TYPES"].COLLECTIBLE_METHOD_SAFE_TRANSFER_FROM,
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_TYPES"].SET_APPROVAL_FOR_ALL
            ].find((x)=>{
                var _name;
                return x.toLowerCase() === ((_name = name) === null || _name === void 0 ? void 0 : _name.toLowerCase());
            });
            result = data && tokenMethodName && !valueExists ? tokenMethodName : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_TYPES"].CONTRACT_INTERACTION;
        } else {
            result = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_TYPES"].SENT_ETHER;
        }
    }
    return {
        type: type || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ETH"],
        category: result,
        methodParams,
        getCodeResponse: contractCode
    };
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/helpers.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BNToHex",
    ()=>BNToHex,
    "GAS_LIMITS",
    ()=>GAS_LIMITS,
    "addEtherscanTransactions",
    ()=>addEtherscanTransactions,
    "bnLessThan",
    ()=>bnLessThan,
    "formatDate",
    ()=>formatDate,
    "formatPastTx",
    ()=>formatPastTx,
    "formatTime",
    ()=>formatTime,
    "getChainType",
    ()=>getChainType,
    "getEthTxStatus",
    ()=>getEthTxStatus,
    "getEtherScanHashLink",
    ()=>getEtherScanHashLink,
    "getIpfsEndpoint",
    ()=>getIpfsEndpoint,
    "hexToBn",
    ()=>hexToBn,
    "isAddressByChainId",
    ()=>isAddressByChainId,
    "sanitizeNftMetdataUrl",
    ()=>sanitizeNftMetdataUrl,
    "toChecksumAddressByChainId",
    ()=>toChecksumAddressByChainId
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/account.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/enums.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Transaction/ITransactionController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/bignumber.js/bignumber.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionUtils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
function hexToBn(hex) {
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(hex), 16);
}
function BNToHex(bn) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(bn.toString(16));
}
function getEtherScanHashLink(txHash, chainId) {
    if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"][chainId]) return "";
    return `${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"][chainId].blockExplorerUrl}/tx/${txHash}`;
}
const formatPastTx = (params)=>{
    var _transaction$to;
    const { transaction, lowerCaseSelectedAddress, blockExplorerUrl } = params;
    let totalAmountString = "";
    if (transaction.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"] || transaction.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"]) totalAmountString = transaction.symbol;
    else if (transaction.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC20"]) totalAmountString = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatSmallNumbers"])(Number.parseFloat(transaction.total_amount), transaction.symbol, true);
    else totalAmountString = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatSmallNumbers"])(Number.parseFloat(transaction.total_amount), transaction.type_name, true);
    const currencyAmountString = transaction.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"] || transaction.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"] || transaction.isEtherscan ? "" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatSmallNumbers"])(Number.parseFloat(transaction.currency_amount), transaction.selected_currency, true);
    const finalObject = {
        id: transaction.created_at.toString(),
        date: new Date(transaction.created_at).toString(),
        from: transaction.from,
        from_aa_address: transaction.from_aa_address,
        slicedFrom: typeof transaction.from === "string" ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addressSlicer"])(transaction.from) : "",
        to: transaction.to,
        slicedTo: typeof transaction.to === "string" ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addressSlicer"])(transaction.to) : "",
        action: lowerCaseSelectedAddress === ((_transaction$to = transaction.to) === null || _transaction$to === void 0 ? void 0 : _transaction$to.toLowerCase()) || "" ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ACTIVITY_ACTION_RECEIVE"] : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ACTIVITY_ACTION_SEND"],
        totalAmount: transaction.total_amount,
        totalAmountString,
        currencyAmount: transaction.currency_amount,
        currencyAmountString,
        amount: `${totalAmountString} / ${currencyAmountString}`,
        status: transaction.status,
        etherscanLink: blockExplorerUrl ? `${blockExplorerUrl}/tx/${transaction.transaction_hash}` : "",
        chainId: transaction.chain_id,
        ethRate: Number.parseFloat(transaction === null || transaction === void 0 ? void 0 : transaction.total_amount) && Number.parseFloat(transaction === null || transaction === void 0 ? void 0 : transaction.currency_amount) ? `1 ${transaction.symbol} = ${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["significantDigits"])(Number.parseFloat(transaction.currency_amount) / Number.parseFloat(transaction.total_amount))}` : "",
        currencyUsed: transaction.selected_currency,
        type: transaction.type,
        type_name: transaction.type_name,
        type_image_link: transaction.type_image_link,
        transaction_hash: transaction.transaction_hash,
        transaction_category: transaction.transaction_category,
        isEtherscan: transaction.isEtherscan,
        input: transaction.input || "",
        token_id: transaction.token_id || "",
        contract_address: transaction.contract_address || "",
        nonce: transaction.nonce || "",
        is_cancel: !!transaction.is_cancel || false,
        gas: transaction.gas || "",
        gasPrice: transaction.gasPrice || ""
    };
    return finalObject;
};
/**
 * Ref - https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_gettransactionreceipt
 */ const getEthTxStatus = async (hash, provider)=>{
    try {
        const result = await provider.request({
            method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_TRANSACTION_RECEIPT,
            params: [
                hash
            ]
        });
        if (result === null) return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].submitted;
        if (result && result.status === "0x1") return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].confirmed;
        if (result && result.status === "0x0") return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].rejected;
        return undefined;
    } catch (err) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].warn("unable to fetch transaction status", err);
        return undefined;
    }
};
function formatDate(inputDate) {
    const monthList = [
        "Jan",
        "Feb",
        "Mar",
        "Apr",
        "May",
        "Jun",
        "Jul",
        "Aug",
        "Sep",
        "Oct",
        "Nov",
        "Dec"
    ];
    const date = new Date(inputDate);
    const day = date.getDate();
    const month = monthList[date.getMonth()];
    const year = date.getFullYear();
    return `${day} ${month} ${year}`;
}
function formatTime(time) {
    return new Date(time).toTimeString().slice(0, 8);
}
function isAddressByChainId(address, _chainId) {
    // TOOD: add rsk network checks.
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isValidAddress"])(address);
}
function toChecksumAddressByChainId(address, chainId) {
    // TOOD: add rsk network checks.
    if (!isAddressByChainId(address)) return address;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$account$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toChecksumAddress"])(address);
}
const GAS_LIMITS = {
    // maximum gasLimit of a simple send
    SIMPLE: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(21000..toString(16)),
    // a base estimate for token transfers.
    BASE_TOKEN_ESTIMATE: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(100000..toString(16))
};
function bnLessThan(a, b) {
    if (a === null || a === undefined || b === null || b === undefined) {
        return null;
    }
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](a, 10).lt(b, 10);
}
const getIpfsEndpoint = (path)=>`https://infura-ipfs.io/${path}`;
function sanitizeNftMetdataUrl(url) {
    let finalUri = url;
    if (url !== null && url !== void 0 && url.startsWith("ipfs")) {
        const ipfsPath = url.split("ipfs://")[1];
        finalUri = getIpfsEndpoint(ipfsPath);
    }
    return finalUri;
}
function getChainType(chainId) {
    if (chainId === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MAINNET_CHAIN_ID"]) {
        return "mainnet";
    } else if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TEST_CHAINS"].includes(chainId)) {
        return "testnet";
    }
    return "custom";
}
const addEtherscanTransactions = async (params)=>{
    const { txn, lowerCaseSelectedAddress, provider, chainId, blockExplorerUrl } = params;
    const transactionPromises = await Promise.all(txn.map(async (tx)=>{
        var _SUPPORTED_NETWORKS$c, _SUPPORTED_NETWORKS$c2;
        const { category, type } = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["determineTransactionType"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, tx), {}, {
            data: tx.input
        }), provider);
        tx.transaction_category = tx.transaction_category || category;
        tx.type_image_link = ((_SUPPORTED_NETWORKS$c = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"][chainId]) === null || _SUPPORTED_NETWORKS$c === void 0 ? void 0 : _SUPPORTED_NETWORKS$c.logo) || "";
        tx.type_name = (_SUPPORTED_NETWORKS$c2 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"][chainId]) === null || _SUPPORTED_NETWORKS$c2 === void 0 ? void 0 : _SUPPORTED_NETWORKS$c2.ticker;
        tx.type = type;
        return tx;
    }));
    const finalTxs = transactionPromises.reduce((accumulator, x)=>{
        var _SUPPORTED_NETWORKS$c3, _SUPPORTED_NETWORKS$c4;
        let totalAmountString = x.value ? new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](x.value).div(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](10).pow(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](x.tokenDecimal || 18))).toString() : "";
        let type = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ETH"];
        if (x.contractAddress !== "") {
            if (x.tokenID) {
                type = x.tokenValue ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"] : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"];
            } else {
                type = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC20"];
            }
        }
        if (type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"]) {
            totalAmountString = x.tokenValue;
        }
        const etherscanTransaction = {
            type,
            type_image_link: x.type_image_link || "n/a",
            type_name: x.tokenName || ((_SUPPORTED_NETWORKS$c3 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"][chainId]) === null || _SUPPORTED_NETWORKS$c3 === void 0 ? void 0 : _SUPPORTED_NETWORKS$c3.ticker) || "n/a",
            symbol: x.tokenSymbol || ((_SUPPORTED_NETWORKS$c4 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"][chainId]) === null || _SUPPORTED_NETWORKS$c4 === void 0 ? void 0 : _SUPPORTED_NETWORKS$c4.ticker),
            token_id: x.tokenID || "",
            total_amount: totalAmountString,
            created_at: new Date(Number(x.timeStamp) * 1000),
            from: x.from,
            to: x.to,
            transaction_hash: x.hash,
            status: x.txreceipt_status && x.txreceipt_status === "0" ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].failed : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].confirmed,
            isEtherscan: true,
            input: x.input,
            contract_address: x.contractAddress,
            transaction_category: x.transaction_category,
            gas: `0x${new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](x.gasUsed || 0, 10).toString(16)}`,
            gasPrice: `0x${new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](x.gasPrice || 0, 10).toString(16)}`,
            chain_id: chainId,
            currency_amount: "",
            nonce: x.nonce,
            from_aa_address: "",
            is_cancel: false,
            selected_currency: ""
        };
        accumulator.push(formatPastTx({
            transaction: etherscanTransaction,
            lowerCaseSelectedAddress,
            blockExplorerUrl
        }));
        return accumulator;
    }, []);
    return finalTxs;
};
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Nfts/NftHandler.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NftHandler",
    ()=>NftHandler
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/contract/contract.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/abis.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/helpers.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
class NftHandler {
    constructor({ chainId, contractAddress, contractImage, contractName, contractSymbol, nftStandard, provider, contractDescription, contractFallbackLogo, contractSupply }){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "contractAddress", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "contractName", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "contractSymbol", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "contractImage", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "contractSupply", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "contractFallbackLogo", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "nftStandard", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "contractDescription", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "chainId", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "isSpecial", void 0);
        this.chainId = chainId;
        this.contractAddress = contractAddress;
        this.contractImage = contractImage;
        this.contractName = contractName;
        this.contractSymbol = contractSymbol;
        this.nftStandard = nftStandard;
        this.provider = provider;
        this.contractDescription = contractDescription;
        this.contractFallbackLogo = contractFallbackLogo;
        this.contractSupply = contractSupply;
    }
    async getNftMetadata(userAddress, tokenInfo) {
        const returnNftItem = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({
            description: "",
            image: "",
            name: "",
            tokenBalance: "",
            tokenId: "",
            decimals: "1"
        }, tokenInfo);
        const [tokenURI, balance] = await Promise.all([
            this.getCollectibleTokenURI(returnNftItem.tokenId, this.nftStandard),
            !returnNftItem.tokenBalance ? this.fetchNftBalance(userAddress, returnNftItem.tokenId) : Promise.resolve("0")
        ]);
        returnNftItem.tokenBalance = returnNftItem.tokenBalance || balance;
        // some people put full json object in uri
        try {
            const object = JSON.parse(tokenURI);
            returnNftItem.image = returnNftItem.image || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sanitizeNftMetdataUrl"])(object.image);
            returnNftItem.name = returnNftItem.name || object.name;
            returnNftItem.description = returnNftItem.description || object.description;
            returnNftItem.decimals = returnNftItem.decimals || object.decimals;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].warn("Token uri is not a valid json object", error);
        }
        const finalTokenMetaUri = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sanitizeNftMetdataUrl"])(tokenURI);
        try {
            if (!returnNftItem.description || !returnNftItem.image || !returnNftItem.name) {
                // this call might fail, if metadata url available in smart contract is not reachable
                const object = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["get"])(finalTokenMetaUri);
                returnNftItem.image = returnNftItem.image || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sanitizeNftMetdataUrl"])(object.image);
                returnNftItem.name = returnNftItem.name || object.name;
                returnNftItem.description = returnNftItem.description || object.description;
                returnNftItem.decimals = returnNftItem.decimals || object.decimals;
            }
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("Failed to fetch nft metadata", error);
        }
        return returnNftItem;
    }
    async getContractMetadata() {
        const returnNft = {
            chainId: this.chainId,
            contractAddress: this.contractAddress,
            contractName: this.contractName,
            contractSymbol: this.contractSymbol,
            nftStandard: this.nftStandard,
            contractImage: this.contractImage,
            contractDescription: this.contractDescription,
            contractFallbackLogo: this.contractFallbackLogo,
            contractSupply: this.contractSupply
        };
        if (!this.nftStandard) {
            const { standard, isSpecial } = await this.checkNftStandard();
            returnNft.nftStandard = standard;
            this.nftStandard = standard;
            this.isSpecial = isSpecial;
        }
        if (!this.contractName || !this.contractSymbol || !this.contractDescription) {
            const abi = this.nftStandard === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"] ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc721Abi"] : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc1155Abi"];
            const contract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Contract"](this.contractAddress, abi, this.provider);
            const [name, symbol] = await Promise.all([
                contract.name(),
                contract.symbol()
            ]);
            returnNft.contractName = name;
            returnNft.contractSymbol = symbol;
            if (!this.contractName) this.contractName = name;
            if (!this.contractSymbol) this.contractSymbol = symbol;
        }
        return returnNft;
    }
    async fetchNftBalance(userAddress, tokenId) {
        const { standard } = await this.checkNftStandard();
        const abi = standard === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"] ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc721Abi"] : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc1155Abi"];
        const contract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Contract"](this.contractAddress, abi, this.provider);
        if (standard === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"]) {
            const balance = await contract.balanceOf(userAddress, tokenId);
            return balance;
        }
        let owner = "";
        try {
            owner = await contract.ownerOf(tokenId);
        } catch  {
            throw new Error("Token id doesn't exists");
        }
        if (owner.toLowerCase() === userAddress.toLowerCase()) {
            return "1";
        }
        return "0";
    }
    async checkNftStandard() {
        // For Cryptokitties
        if (this.nftStandard && this.isSpecial !== undefined) return;
        if (Object.prototype.hasOwnProperty.call(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["OLD_ERC721_LIST"], this.contractAddress.toLowerCase())) {
            this.nftStandard = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"];
            this.isSpecial = true;
            return {
                standard: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"],
                isSpecial: true
            };
        }
        const isErc721 = await this.contractSupportsInterface(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"], __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ERC721_INTERFACE_ID"]);
        if (isErc721) {
            this.nftStandard = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"];
            this.isSpecial = false;
            return {
                standard: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"],
                isSpecial: false
            };
        }
        const isErc1155 = await this.contractSupportsInterface(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"], __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ERC1155_INTERFACE_ID"]);
        if (isErc1155) {
            this.nftStandard = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"];
            this.isSpecial = false;
            return {
                standard: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"],
                isSpecial: false
            };
        }
        throw new Error("Unsupported nft standard");
    }
    async contractSupportsInterface(standard, interfaceId) {
        const abi = standard === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"] ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc721Abi"] : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc1155Abi"];
        const contract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Contract"](this.contractAddress, abi, this.provider);
        return contract.supportsInterface(interfaceId);
    }
    async getCollectibleTokenURI(tokenId, standard = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"]) {
        const method = standard === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"] ? "tokenURI" : "uri";
        const abi = standard === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"] ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc721Abi"] : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc1155Abi"];
        const contract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Contract"](this.contractAddress, abi, this.provider);
        return contract[method](tokenId);
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Nfts/NftsController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NftsController",
    ()=>NftsController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/PollingManager.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/deepmerge/dist/cjs.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$providers$2f$provider$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/providers/provider-browser.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Nfts$2f$NftHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Nfts/NftHandler.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
const DEFAULT_INTERVAL = 180 * 1000;
class NftsController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseController"] {
    constructor({ config, state, provider, getCustomNfts, getSimpleHashNfts, onPreferencesStateChange, onNetworkStateChange, idleTimeTracker }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", "NftsController");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "ethersProvider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getCustomNfts", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getSimpleHashNfts", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "pollingManager", void 0);
        this.provider = provider;
        this.ethersProvider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$providers$2f$provider$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BrowserProvider"](this.provider, "any");
        this.getCustomNfts = getCustomNfts;
        this.getSimpleHashNfts = getSimpleHashNfts;
        this.defaultConfig = {
            interval: DEFAULT_INTERVAL,
            selectedAddress: "",
            chainId: ""
        };
        this.defaultState = {
            nfts: {}
        };
        this.initialize();
        onPreferencesStateChange((preferencesState)=>{
            if (preferencesState.selectedAddress !== this.config.selectedAddress) {
                this.configure({
                    selectedAddress: preferencesState.selectedAddress
                });
                this.restartNftDetection();
            }
        });
        onNetworkStateChange((networkState)=>{
            const { chainId } = networkState.providerConfig;
            if (chainId !== this.config.chainId) {
                this.configure({
                    chainId
                });
                this.restartNftDetection();
            }
        });
        this.pollingManager = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PollingManager"](idleTimeTracker, this.config.interval);
    }
    get userSelectedAddress() {
        return this.config.selectedAddress;
    }
    get userNfts() {
        var _this$state$nfts$this;
        if (!this.userSelectedAddress) return [];
        return (_this$state$nfts$this = this.state.nfts[this.userSelectedAddress]) !== null && _this$state$nfts$this !== void 0 ? _this$state$nfts$this : [];
    }
    startNftDetection(selectedAddress) {
        this.configure({
            selectedAddress
        });
        this.restartNftDetection();
    }
    /**
   * Restart nft detection polling period and call detectNewNfts
   * in case of address change or user session initialization.
   *
   */ restartNftDetection() {
        if (!this.userSelectedAddress) {
            return;
        }
        this.pollingManager.start(()=>{
            this.detectNewNfts();
            this.refreshNftBalances();
        });
    }
    detectNewNfts() {
        const userAddress = this.userSelectedAddress;
        if (!userAddress) return;
        const currentChainId = this.config.chainId;
        const nftsToDetect = []; // object[]
        if (!currentChainId) {
            this.update({
                nfts: {
                    [userAddress]: [
                        ...nftsToDetect
                    ]
                }
            });
            return;
        }
        if (this.getCustomNfts) {
            const customNfts = this.getCustomNfts(userAddress);
            const reducedNfts = customNfts.reduce((acc, x)=>{
                // first aggregate by contract address
                if (x.network === currentChainId) {
                    const newAsset = {
                        description: "",
                        image: "",
                        name: "",
                        tokenBalance: "",
                        tokenId: x.nft_id,
                        customNftId: x.id.toString()
                    };
                    if (acc[x.nft_address]) {
                        acc[x.nft_address].assets.push(newAsset);
                    } else {
                        const objToPush = {
                            assets: [
                                newAsset
                            ],
                            chainId: x.network,
                            contractAddress: x.nft_address,
                            contractName: "",
                            contractSymbol: "",
                            contractImage: "",
                            nftStandard: x.nft_contract_standard,
                            contractDescription: ""
                        };
                        acc[x.nft_address] = objToPush;
                    }
                }
                return acc;
            }, {});
            nftsToDetect.push(...Object.values(reducedNfts));
        }
        this.update({
            nfts: {
                [userAddress]: [
                    ...nftsToDetect
                ]
            }
        });
    }
    async refreshNftBalances(skipCache) {
        const userAddress = this.userSelectedAddress;
        if (userAddress === "") return;
        const oldNfts = [
            ...this.userNfts
        ];
        const nonZeroNfts = [];
        try {
            const currentChainId = this.config.chainId;
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MM_NFT_API_SUPPORTED_CHAINS"].includes(currentChainId)) {
                const simpleHashBalances = await this.getSimpleHashNfts(userAddress, currentChainId, skipCache);
                nonZeroNfts.push(...simpleHashBalances);
                this.update({
                    nfts: {
                        [userAddress]: nonZeroNfts
                    }
                });
            }
            if (oldNfts.length > 0) {
                this.getNftBalancesUsingHandler(oldNfts);
            }
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error, "unable to fetch nft balances");
        }
    }
    async getNftBalancesUsingHandler(customNfts) {
        if (!this.userSelectedAddress) return;
        const userAddress = this.userSelectedAddress;
        const currentNetworkNfts = customNfts;
        const promiseSettledResult = await Promise.allSettled(currentNetworkNfts.map(async (x)=>{
            try {
                const tokenInstance = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Nfts$2f$NftHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NftHandler"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, x), {}, {
                    provider: this.ethersProvider
                }));
                const contractData = await tokenInstance.getContractMetadata();
                const assetData = await Promise.allSettled(x.assets.map((y)=>tokenInstance.getNftMetadata(userAddress, y)));
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, contractData), {}, {
                    assets: assetData.filter((z)=>z.status === "fulfilled").map((z)=>z.value)
                });
            } catch (error) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].warn("Invalid contract address while fetching", error);
                return undefined;
            }
        }));
        const nonZeroTokens = promiseSettledResult.filter((x)=>x.status === "fulfilled" && x.value).map((x)=>x.value);
        this.update({
            nfts: {
                [userAddress]: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this.userNfts, nonZeroTokens)
            }
        });
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Preferences/PreferencesController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PreferencesController",
    ()=>PreferencesController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Preferences$2f$BasePreferencesController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Preferences/BasePreferencesController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Transaction/ITransactionController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$async$2d$mutex$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/async-mutex/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/helpers.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
class PreferencesController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Preferences$2f$BasePreferencesController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BasePreferencesController"] {
    constructor({ config, state, provider, signAuthMessage, getProviderConfig, setProviderConfig, validateSignMessage }){
        super({
            config,
            state,
            defaultPreferences: {
                formattedPastTransactions: [],
                fetchedPastTx: [],
                paymentTx: [],
                etherscanTransactions: []
            },
            signAuthMessage,
            validateSignMessage
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "chainNamespace", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_handle", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_mutex", new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$async$2d$mutex$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Mutex"]());
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getProviderConfig", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "setProviderConfig", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        this.provider = provider;
        this.getProviderConfig = getProviderConfig;
        this.setProviderConfig = setProviderConfig;
    }
    async poll(interval) {
        var _this$getAddressState;
        const releaseLock = await this._mutex.acquire();
        if (interval) this.configure({
            pollInterval: interval
        });
        if (this._handle) window.clearTimeout(this._handle);
        // call here
        const storeSelectedAddress = this.state.selectedAddress;
        if (!storeSelectedAddress) return;
        if (!((_this$getAddressState = this.getAddressState(storeSelectedAddress)) !== null && _this$getAddressState !== void 0 && _this$getAddressState.jwtToken)) return;
        // This should never throw
        await this.sync(storeSelectedAddress);
        releaseLock();
        this._handle = window.setTimeout(()=>{
            this.poll(this.config.pollInterval);
        }, this.config.pollInterval);
    }
    async initPreferences(params) {
        const { address, jwtToken, calledFromEmbed, userInfo, rehydrate, locale = "en", type, signatures, web3AuthClientId, web3AuthNetwork, loginMode, sessionPubKey, aaProvider, eoaAddress, mainAddress } = params;
        const { chainId } = this.getProviderConfig();
        await super.init({
            address,
            userInfo,
            idToken: jwtToken,
            type,
            metadata: {
                email: userInfo.email,
                signatures,
                network: web3AuthNetwork,
                eoa_address: eoaAddress,
                aa_provider: aaProvider,
                chain_id: chainId,
                main_address: mainAddress
            }
        });
        const { groupedAuthConnectionId, authConnectionId, userId } = userInfo || {};
        const userExists = await this.sync(address);
        if (!userExists) {
            const accountState = this.getAddressState(address);
            await this.createUser({
                selectedCurrency: accountState.selectedCurrency,
                theme: accountState.theme,
                groupedAuthConnectionId,
                authConnectionId,
                userId,
                locale,
                address,
                type,
                web3AuthNetwork,
                metadata: {
                    aa_provider: aaProvider,
                    chain_id: chainId,
                    eoa_address: eoaAddress
                }
            });
        }
        if (eoaAddress) this.updateState({
            eoaAddress
        }, address);
        this.storeUserLogin({
            groupedAuthConnectionId,
            authConnectionId,
            userId,
            options: {
                calledFromEmbed,
                rehydrate
            },
            address,
            web3AuthClientId,
            web3AuthNetwork,
            sessionPubKey,
            loginMode
        });
    }
    getSelectedAddress() {
        return this.state.selectedAddress;
    }
    async sync(address) {
        try {
            const user = await this.getUser(address);
            if (user) {
                const { default_currency: defaultCurrency, contacts, theme, locale, public_address: userPublicAddress, default_public_address: defaultPublicAddress, customNetworks, customTokens, customNfts, account_type: accountType } = user || {};
                // update latest data in state.
                this.updateState({
                    contacts,
                    theme,
                    selectedCurrency: defaultCurrency,
                    locale,
                    defaultPublicAddress: defaultPublicAddress || userPublicAddress,
                    customTokens,
                    customNfts,
                    customNetworks,
                    accountType: accountType
                }, address);
                return true;
            }
            return false;
        } catch (error) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isUnauthorizedError"])(error)) {
                throw error;
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
            return false;
        } finally{
            this.getWalletOrders(address).then((walletTx)=>{
                // eslint-disable-next-line promise/always-return
                if (walletTx && walletTx.length > 0) {
                    this.updateState({
                        fetchedPastTx: [
                            ...walletTx
                        ]
                    }, address);
                    this.calculatePastTx(walletTx, address);
                }
            }).catch((error)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error));
        }
    }
    async patchNewTx(tx, address) {
        var _this$getAddressState2;
        const formattedTx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPastTx"])({
            transaction: tx,
            blockExplorerUrl: this.getBlockExplorerUrl()
        });
        const storePastTx = ((_this$getAddressState2 = this.getAddressState(address)) === null || _this$getAddressState2 === void 0 ? void 0 : _this$getAddressState2.formattedPastTransactions) || [];
        const duplicateIndex = storePastTx.findIndex((x)=>x.transaction_hash === tx.transaction_hash && x.chainId === tx.chain_id);
        if (tx.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].submitted || tx.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].confirmed) {
            if (duplicateIndex === -1) {
                var _tx$to;
                // No duplicate found
                const finalTx = this.cancelTxCalculate([
                    ...storePastTx,
                    formattedTx
                ]);
                tx.is_cancel = formattedTx.is_cancel;
                tx.to = (_tx$to = tx.to) === null || _tx$to === void 0 ? void 0 : _tx$to.toLowerCase();
                tx.from = tx.from.toLowerCase();
                this.updateState({
                    formattedPastTransactions: finalTx
                }, address);
                this.postPastTx(tx, address);
            } else {
                // avoid overriding is_cancel
                formattedTx.is_cancel = storePastTx[duplicateIndex].is_cancel;
                storePastTx[duplicateIndex] = formattedTx;
                this.updateState({
                    formattedPastTransactions: this.cancelTxCalculate([
                        ...storePastTx
                    ])
                }, address);
            }
        }
    }
    recalculatePastTx(address) {
        // This triggers store update which calculates past Tx status for that network
        const selectedAddress = address || this.state.selectedAddress;
        const state = this.getAddressState(selectedAddress);
        if (!(state !== null && state !== void 0 && state.fetchedPastTx)) return;
        this.calculatePastTx(state.fetchedPastTx, selectedAddress);
    }
    async refetchEtherscanTx(address) {
        var _this$getAddressState3;
        const selectedAddress = address || this.state.selectedAddress;
        if (!selectedAddress) return [];
        const lowerCaseSelectedAddress = selectedAddress === null || selectedAddress === void 0 ? void 0 : selectedAddress.toLowerCase();
        if ((_this$getAddressState3 = this.getAddressState(selectedAddress)) !== null && _this$getAddressState3 !== void 0 && _this$getAddressState3.jwtToken) {
            const { chainId } = this.getProviderConfig();
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MM_TOKEN_API_SUPPORTED_CHAINS"].includes(chainId)) {
                const etherscanTxn = await this.fetchEtherscanTx({
                    selectedAddress,
                    chainId: this.getProviderConfig().chainId
                });
                const finalEthScanTxn = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addEtherscanTransactions"])({
                    txn: etherscanTxn,
                    lowerCaseSelectedAddress,
                    provider: this.provider,
                    chainId,
                    blockExplorerUrl: this.getBlockExplorerUrl()
                });
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info("Formatted Etherscan Response", finalEthScanTxn);
                this.updateState({
                    etherscanTransactions: finalEthScanTxn
                });
                return etherscanTxn;
            }
        }
    }
    async fetchEtherscanTx(parameters) {
        try {
            const response = await this.wsApiClient.authGet(`etherscan?chainId=${parameters.chainId}`, this.authCredentials(parameters.selectedAddress));
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info("Etherscan Response API", response);
            return response.success ? response.data : [];
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("unable to fetch etherscan tx", error);
            return [];
        }
    }
    async fetchQuote(parameters) {
        try {
            const response = await this.wsApiClient.authPost("quote", parameters, this.authCredentials());
            return response.success ? response.data : [];
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("unable to get swap quote", error);
            return [];
        }
    }
    async getEtherScanTokens(address, chainId, skipCache) {
        const selectedAddress = address;
        let path = `tokens?chainId=${chainId}&address=${selectedAddress}`;
        if (skipCache) {
            path += `&skipCache=true`;
        }
        const result = await this.wsApiClient.authGet(path, this.authCredentials());
        return result.data;
    }
    async getSimpleHashNfts(address, chainId, skipCache) {
        const selectedAddress = address;
        let path = `nfts?chainId=${chainId}&address=${selectedAddress}`;
        if (skipCache) {
            path += `&skipCache=true`;
        }
        const result = await this.wsApiClient.authGet(path, this.authCredentials());
        return result.data;
    }
    getCustomTokens(address) {
        var _this$getAddressState4, _this$getAddressState5;
        return (_this$getAddressState4 = (_this$getAddressState5 = this.getAddressState(address)) === null || _this$getAddressState5 === void 0 ? void 0 : _this$getAddressState5.customTokens) !== null && _this$getAddressState4 !== void 0 ? _this$getAddressState4 : [];
    }
    getCustomNfts(address) {
        var _this$getAddressState6, _this$getAddressState7;
        return (_this$getAddressState6 = (_this$getAddressState7 = this.getAddressState(address)) === null || _this$getAddressState7 === void 0 ? void 0 : _this$getAddressState7.customNfts) !== null && _this$getAddressState6 !== void 0 ? _this$getAddressState6 : [];
    }
    isChainIdSupported(address, chainId) {
        const approveChainOptions = this.getChainOptions(address);
        const providerConfig = approveChainOptions.find((x)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(x.chainId) === chainId);
        return !!providerConfig;
    }
    async addChain(network) {
        const approveChainOptions = this.getChainOptions();
        const providerConfig = approveChainOptions.find((x)=>x.chainId === network.chainId);
        if (providerConfig) return;
        const newNetwork = {
            displayName: network.chainName,
            rpcTarget: network.rpcUrls[0],
            ticker: network.nativeCurrency.symbol,
            chainId: network.chainId,
            blockExplorerUrl: network.blockExplorerUrls[0],
            tickerName: network.nativeCurrency.name,
            logo: network.nativeCurrency.symbol
        };
        const isSuccess = await this.addCustomNetwork({
            network: newNetwork
        });
        if (!isSuccess) throw new Error("unable to add custom network");
    }
    switchChain(data) {
        const chainOptions = this.getChainOptions();
        const providerConfig = chainOptions.find((x)=>x.chainId === data.chainId);
        if (providerConfig) {
            this.setProviderConfig(providerConfig);
        } else {
            throw new Error(`chainId ${data.chainId} is not supported`);
        }
    }
    // Custom Network methods
    async addCustomNetwork({ network }) {
        try {
            const { selectedAddress } = this.state;
            const payload = {
                network_name: network.displayName,
                rpc_url: network.rpcTarget,
                chain_id: network.chainId,
                symbol: network.ticker,
                block_explorer_url: network.blockExplorerUrl || undefined,
                is_testnet: network.isTestnet || false,
                logo: network.logo,
                symbol_name: network.tickerName
            };
            const res = await this.wsApiClient.authPost("customnetwork", payload, this.authCredentials(selectedAddress), {
                useAPIKey: true
            });
            await this.sync(selectedAddress);
            return res.data.id;
        } catch  {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("error adding custom network");
            return null;
        }
    }
    async deleteCustomNetwork(id) {
        try {
            const { selectedAddress } = this.state;
            await this.wsApiClient.authRemove(`customnetwork/${id}`, {}, this.authCredentials(selectedAddress), {
                useAPIKey: true
            });
            await this.sync(selectedAddress);
            return true;
        } catch  {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("error deleting custom network");
            return false;
        }
    }
    async editCustomNetwork({ network, id }) {
        try {
            const { selectedAddress } = this.state;
            const payload = {
                network_name: network.displayName,
                rpc_url: network.rpcTarget,
                chain_id: network.chainId,
                symbol: network.ticker || undefined,
                block_explorer_url: network.blockExplorerUrl || undefined,
                is_testnet: network.isTestnet || false
            };
            await this.wsApiClient.authPatch(`customnetwork/${id}`, payload, this.authCredentials(selectedAddress), {
                useAPIKey: true
            });
            await this.sync(selectedAddress);
            return true;
        } catch  {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("error editing custom network");
            return false;
        }
    }
    getChainOptions(address = this.state.selectedAddress) {
        var _identities$address$c, _identities$address;
        const { identities } = this.state;
        const customNetworks = (_identities$address$c = (_identities$address = identities[address]) === null || _identities$address === void 0 ? void 0 : _identities$address.customNetworks) !== null && _identities$address$c !== void 0 ? _identities$address$c : [];
        const custom = Object.values(customNetworks).reduce((chains, network)=>{
            const networkItem = {
                blockExplorerUrl: network.block_explorer_url,
                chainId: network.chain_id,
                displayName: network.network_name,
                logo: "eth.svg",
                rpcTarget: network.rpc_url,
                ticker: network.symbol,
                tickerName: network.symbol.toUpperCase(),
                isCustom: true,
                id: network.id
            };
            if (Object.keys(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"]).includes(networkItem.chainId)) return chains;
            chains.push(networkItem);
            return chains;
        }, []);
        const supported = Object.values(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"]).reduce((chains, network)=>{
            chains.push(network);
            return chains;
        }, []);
        return [
            ...supported,
            ...custom
        ];
    }
    getBlockExplorerUrl() {
        const supportedNetworks = this.getChainOptions();
        const network = supportedNetworks.find((x)=>x.chainId === this.getProviderConfig().chainId);
        if (!network) return "";
        return `${network.blockExplorerUrl}`;
    }
    async calculatePastTx(txs, address) {
        const pastTx = [];
        const pendingTx = [];
        const lowerCaseSelectedAddress = address.toLowerCase();
        const supportedNetworks = this.getChainOptions(address);
        const supportedNetwork = supportedNetworks.find((x)=>x.chainId === this.getProviderConfig().chainId);
        for (const x of txs){
            var _x$to;
            if ((supportedNetwork === null || supportedNetwork === void 0 ? void 0 : supportedNetwork.chainId) === x.chain_id && x.to && x.from && (lowerCaseSelectedAddress === x.from.toLowerCase() || lowerCaseSelectedAddress === ((_x$to = x.to) === null || _x$to === void 0 ? void 0 : _x$to.toLowerCase()))) {
                if (x.status !== "confirmed") {
                    pendingTx.push(x);
                } else {
                    const finalObject = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPastTx"])({
                        transaction: x,
                        lowerCaseSelectedAddress,
                        blockExplorerUrl: this.getBlockExplorerUrl()
                    });
                    pastTx.push(finalObject);
                }
            }
        }
        const pendingTxPromises = pendingTx.map((x)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getEthTxStatus"])(x.transaction_hash, this.provider).catch((error)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error)));
        const resolvedTxStatuses = await Promise.all(pendingTxPromises);
        for (const [index, element] of pendingTx.entries()){
            const finalObject = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPastTx"])({
                transaction: element,
                lowerCaseSelectedAddress,
                blockExplorerUrl: this.getBlockExplorerUrl()
            });
            finalObject.status = resolvedTxStatuses[index] || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].submitted;
            pastTx.push(finalObject);
            if (lowerCaseSelectedAddress === element.from.toLowerCase() && finalObject.status && finalObject.status !== element.status) this.patchPastTx({
                id: element.id,
                status: finalObject.status
            }, address);
        }
        const finalTx = this.cancelTxCalculate(pastTx);
        this.updateState({
            formattedPastTransactions: [
                ...finalTx
            ]
        }, address);
    }
    cancelTxCalculate(pastTx) {
        const nonceMap = {};
        for (const x of pastTx){
            if (!nonceMap[x.nonce]) nonceMap[x.nonce] = [
                x
            ];
            else {
                nonceMap[x.nonce].push(x);
            }
        }
        for (const [, value] of Object.entries(nonceMap)){
            // has duplicate
            if (value.length > 1) {
                // get latest and mark it as is_cancel
                const latestTxs = value.sort((a, b)=>{
                    const aDate = new Date(a.date).getTime();
                    const bDate = new Date(b.date).getTime();
                    return bDate - aDate;
                });
                const latestCancelTx = latestTxs[0];
                latestCancelTx.is_cancel = true;
                latestTxs.slice(1).forEach((x)=>{
                    x.hasCancel = true;
                    x.status = latestCancelTx.status === "confirmed" ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].cancelled : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].cancelling;
                    x.cancelDateInitiated = `${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatTime"])(new Date(latestCancelTx.date).getTime())} - ${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatDate"])(latestCancelTx.date)}`;
                    x.etherscanLink = latestCancelTx.etherscanLink;
                    x.cancelGas = latestCancelTx.gas;
                    x.cancelGasPrice = latestCancelTx.gasPrice;
                });
            }
        }
        return pastTx;
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Tokens/TokenHandler.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TokenHandler",
    ()=>TokenHandler
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/contract/contract.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/abis.js [app-client] (ecmascript)");
;
;
;
;
class TokenHandler {
    constructor({ address, symbol, decimals, name, provider }){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "address", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "symbol", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "decimals", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "contract", void 0);
        this.address = address;
        this.contract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Contract"](address, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc20Abi"], provider);
        this.symbol = symbol;
        this.decimals = decimals;
        this.name = name;
    }
    async getSymbol() {
        if (!this.symbol || this.symbol === "ERC20") this.symbol = await this.contract.symbol();
        return this.symbol;
    }
    async getDecimals() {
        try {
            if (!this.decimals) this.decimals = await this.contract.decimals();
            return this.decimals;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].warn(`Could not get decimals for token ${this.address}`, error);
            return 0;
        }
    }
    async getName() {
        if (!this.name) this.name = await this.contract.name();
        return this.name;
    }
    async getUserBalance(userAddress) {
        if (!this.decimals) await this.getDecimals();
        const balance = await this.contract.balanceOf(userAddress);
        return balance.toString(16);
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Tokens/TokenRatesController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "DEFAULT_CURRENCY",
    ()=>DEFAULT_CURRENCY,
    "TokenRatesController",
    ()=>TokenRatesController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/PollingManager.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/http-helpers/dist/lib.esm/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
;
;
const DEFAULT_CURRENCY = "eth";
// eslint-disable-next-line @typescript-eslint/no-empty-object-type
class TokenRatesController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseController"] {
    constructor({ config, state, idleTimeTracker, onPreferencesStateChange, onNetworkStateChange, onTokensStateChange }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "pollingManager", void 0);
        this.defaultState = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.defaultState), {}, {
            contractExchangeRates: {}
        });
        this.initialize();
        onPreferencesStateChange((preferencesState)=>{
            const { selectedAddress } = preferencesState;
            this.configure({
                selectedAddress
            });
        });
        onNetworkStateChange((networkState)=>{
            const { chainId, ticker } = networkState.providerConfig;
            this.configure({
                chainId,
                nativeCurrency: ticker
            });
        });
        onTokensStateChange((tokensState)=>{
            const { tokens } = tokensState;
            const currentUserTokens = tokens[this.config.selectedAddress];
            if ((currentUserTokens === null || currentUserTokens === void 0 ? void 0 : currentUserTokens.length) > 0 && this.config.tokens !== tokens[this.config.selectedAddress]) {
                this.configure({
                    tokens: tokens[this.config.selectedAddress]
                });
                this.updateExchangeRates();
            }
        });
        this.pollingManager = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PollingManager"](idleTimeTracker, this.config.pollInterval);
    }
    /**
   * Creates a new poll, using setInterval, to periodically call updateConversionRate. The id of the interval is
   * stored at the controller's conversionInterval property. If it is called and such an id already exists, the
   * previous interval is clear and a new one is created.
   */ async scheduleConversionInterval() {
        this.pollingManager.start(this.updateExchangeRates.bind(this));
    }
    async updateExchangeRates() {
        const chainCodes = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["COINGECKO_PLATFORMS_CHAIN_CODE_MAP"][this.config.chainId];
        let newContractExchangeRates = {};
        if (!chainCodes) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info(`ChainId ${this.config.chainId} not supported by coingecko`);
            this.config.tokens.forEach((token)=>{
                newContractExchangeRates[token.tokenAddress] = undefined;
            });
        } else {
            newContractExchangeRates = await this.fetchExchangeRates(this.config.nativeCurrency, chainCodes);
        }
        this.update({
            contractExchangeRates: newContractExchangeRates
        });
    }
    async fetchExchangeRates(nativeCurrency, chainCodes) {
        const contractAddresses = this.config.tokens.map((token)=>token.tokenAddress);
        const isNativeCurrencySupported = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["COINGECKO_SUPPORTED_CURRENCIES"].has(nativeCurrency.toLowerCase());
        if (isNativeCurrencySupported) {
            const response = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["get"])(`${this.config.currencyApi}/currency/exchange-rates?platform=${chainCodes.platform}&contract_addresses=${contractAddresses.join(",")}&vs_currencies=${nativeCurrency.toLowerCase()}`);
            const newContractExchangeRates = {};
            Object.keys(response).forEach((contractAddress)=>{
                newContractExchangeRates[contractAddress] = response[contractAddress][nativeCurrency.toLowerCase()] || 0;
            });
            return newContractExchangeRates;
        }
        const [response, currencyResponse] = await Promise.all([
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["get"])(`${this.config.currencyApi}/currency/exchange-rates?platform=${chainCodes.platform}&contract_addresses=${contractAddresses.join(",")}&vs_currencies=${DEFAULT_CURRENCY}`),
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$http$2d$helpers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["get"])(`${this.config.currencyApi}/currency?fsym=${nativeCurrency.toUpperCase()}&tsyms=${DEFAULT_CURRENCY.toUpperCase()}`)
        ]);
        const newContractExchangeRates = {};
        Object.keys(response).forEach((contractAddress)=>{
            newContractExchangeRates[contractAddress] = response[contractAddress][DEFAULT_CURRENCY] * Number.parseFloat(currencyResponse[DEFAULT_CURRENCY]) || 0;
        });
        return newContractExchangeRates;
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Tokens/TokensController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TokensController",
    ()=>TokensController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/BaseController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/PollingManager.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$providers$2f$provider$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/providers/provider-browser.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/contract/contract.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$maths$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/utils/maths.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/abis.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$contractAddresses$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/contractAddresses.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Tokens$2f$TokenHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Tokens/TokenHandler.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
const DEFAULT_INTERVAL = 180 * 1000;
class TokensController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$BaseController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseController"] {
    constructor({ config, state, provider, idleTimeTracker, getCustomTokens, getEtherScanTokens, getProviderConfig, onPreferencesStateChange, onNetworkStateChange }){
        super({
            config,
            state
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", "TokensController");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "ethersProvider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "pollingManager", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getProviderConfig", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getCustomTokens", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getEtherScanTokens", void 0);
        this.provider = provider;
        this.ethersProvider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$providers$2f$provider$2d$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BrowserProvider"](this.provider, "any");
        this.getCustomTokens = getCustomTokens;
        this.getEtherScanTokens = getEtherScanTokens;
        this.getProviderConfig = getProviderConfig;
        this.defaultConfig = {
            interval: DEFAULT_INTERVAL,
            selectedAddress: "",
            chainId: ""
        };
        this.defaultState = {
            tokens: {}
        };
        this.initialize();
        onPreferencesStateChange((preferencesState)=>{
            if (preferencesState.selectedAddress !== this.config.selectedAddress) {
                this.configure({
                    selectedAddress: preferencesState.selectedAddress
                });
                this.restartTokenDetection();
            }
        });
        onNetworkStateChange((networkState)=>{
            const { chainId } = networkState.providerConfig;
            if (chainId !== this.config.chainId) {
                this.configure({
                    chainId
                });
                this.restartTokenDetection();
            }
        });
        this.pollingManager = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$PollingManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PollingManager"](idleTimeTracker, this.config.interval);
    }
    get userSelectedAddress() {
        return this.config.selectedAddress;
    }
    get userTokens() {
        var _this$state$tokens$th;
        if (!this.userSelectedAddress) return [];
        return (_this$state$tokens$th = this.state.tokens[this.userSelectedAddress]) !== null && _this$state$tokens$th !== void 0 ? _this$state$tokens$th : [];
    }
    startTokenDetection(selectedAddress) {
        this.configure({
            selectedAddress
        });
        this.restartTokenDetection();
    }
    /**
   * Restart token detection polling period and call detectNewTokens
   * in case of address change or user session initialization.
   *
   */ restartTokenDetection() {
        if (!this.userSelectedAddress) {
            return;
        }
        this.pollingManager.start(async ()=>{
            this.detectNewTokens();
            await this.refreshTokenBalances();
        });
    }
    detectNewTokens() {
        const userAddress = this.userSelectedAddress;
        if (!userAddress) return;
        const currentChainId = this.config.chainId;
        const tokens = []; // object[]
        if (!currentChainId) {
            this.update({
                tokens: {
                    [userAddress]: [
                        ...tokens
                    ]
                }
            });
            return;
        }
        const networkConfig = this.getProviderConfig();
        if (networkConfig !== null && networkConfig !== void 0 && networkConfig.isErc20 && networkConfig !== null && networkConfig !== void 0 && networkConfig.tokenAddress) {
            tokens.push({
                tokenAddress: networkConfig.tokenAddress,
                name: networkConfig.tickerName,
                logo: networkConfig.logo,
                erc20: true,
                symbol: networkConfig.ticker,
                decimals: "18",
                chainId: currentChainId
            });
        }
        if (this.getCustomTokens) {
            const customTokens = this.getCustomTokens(userAddress);
            tokens.push(...customTokens.reduce((acc, x)=>{
                if (x.network === currentChainId) acc.push({
                    tokenAddress: x.token_address,
                    name: x.token_name,
                    logo: "eth.svg",
                    erc20: true,
                    symbol: x.token_symbol,
                    decimals: x.decimals,
                    balance: "",
                    customTokenId: x.id.toString(),
                    chainId: x.network
                });
                return acc;
            }, []));
        }
        this.update({
            tokens: {
                [userAddress]: [
                    ...tokens
                ]
            }
        });
    }
    async refreshTokenBalances(skipCache) {
        const userAddress = this.userSelectedAddress;
        if (userAddress === "") return;
        const oldTokens = [
            ...this.userTokens
        ];
        // - fetch from Etherscan, if failed then fetch from TokenHandler
        // - if there are remaining tokens, fetch either from SingleAddressContract (if failed then use TokenHandler) or TokenHandler
        try {
            const nonZeroTokens = [];
            const currentChainId = this.config.chainId;
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MM_TOKEN_API_SUPPORTED_CHAINS"].includes(currentChainId)) {
                const etherscanBalances = await this.getEtherScanTokens(userAddress, currentChainId, skipCache);
                nonZeroTokens.push(...etherscanBalances);
            }
            // only fetch balances for tokens that are not already in the nonZeroTokens array
            const remainingTokens = oldTokens.filter((x)=>!nonZeroTokens.find((y)=>{
                    var _y$tokenAddress, _x$tokenAddress;
                    return ((_y$tokenAddress = y.tokenAddress) === null || _y$tokenAddress === void 0 ? void 0 : _y$tokenAddress.toLocaleLowerCase()) === ((_x$tokenAddress = x.tokenAddress) === null || _x$tokenAddress === void 0 ? void 0 : _x$tokenAddress.toLocaleLowerCase());
                }));
            if (remainingTokens.length > 0) {
                const remainingTokensAddresses = remainingTokens.map((x)=>x.tokenAddress);
                const currentSingleCallAddress = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$contractAddresses$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SINGLE_CALL_BALANCES_ADDRESSES"][currentChainId];
                if (currentSingleCallAddress) {
                    const ethContract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$contract$2f$contract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Contract"](currentSingleCallAddress, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["singleBalanceCheckerAbi"], this.ethersProvider);
                    const result = await ethContract.balances([
                        userAddress
                    ], remainingTokensAddresses);
                    remainingTokensAddresses.forEach((_, index)=>{
                        const balance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$utils$2f$maths$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toQuantity"])(result[index]);
                        if (balance && balance !== "0x0") {
                            nonZeroTokens.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, remainingTokens[index]), {}, {
                                balance,
                                chainId: currentChainId
                            }));
                        }
                    });
                } else {
                    const fetchedRemainingTokens = await this.getTokenBalancesUsingHandler(remainingTokens);
                    nonZeroTokens.push(...fetchedRemainingTokens);
                }
            }
            this.update({
                tokens: {
                    [userAddress]: nonZeroTokens
                }
            });
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error, "unable to fetch token balances using single call balance address");
            const fetchedTokens = await this.getTokenBalancesUsingHandler(oldTokens);
            this.update({
                tokens: {
                    [userAddress]: fetchedTokens
                }
            });
        }
    }
    async getTokenBalancesUsingHandler(customTokens) {
        if (!this.userSelectedAddress) return [];
        const currentNetworkTokens = customTokens;
        const promiseSettledResult = await Promise.allSettled(currentNetworkTokens.map(async (x)=>{
            try {
                const tokenInstance = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Tokens$2f$TokenHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TokenHandler"]({
                    address: x.tokenAddress,
                    decimals: Number.parseInt(x.decimals),
                    name: x.name,
                    symbol: x.symbol,
                    provider: this.ethersProvider
                });
                const balance = await tokenInstance.getUserBalance(this.userSelectedAddress);
                return {
                    decimals: tokenInstance.decimals.toString(),
                    erc20: true,
                    logo: x.logo || "eth.svg",
                    name: tokenInstance.name,
                    symbol: tokenInstance.symbol,
                    tokenAddress: tokenInstance.address,
                    balance: `0x${balance}`,
                    customTokenId: x.customTokenId,
                    network: x.chainId,
                    chainId: x.chainId
                };
            } catch (error) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].warn("could not fetch user token balance", error);
                return undefined;
            }
        }));
        const nonZeroTokens = promiseSettledResult.reduce((acc, x)=>{
            if (x.status === "fulfilled" && x.value) acc.push(x.value);
            return acc;
        }, []);
        return nonZeroTokens;
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/NonceTracker.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NonceTracker",
    ()=>NonceTracker
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$async$2d$mutex$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/async-mutex/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
class NonceTracker {
    constructor({ provider, blockTracker, getPendingTransactions, getConfirmedTransactions }){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "blockTracker", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getPendingTransactions", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getConfirmedTransactions", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "lockMap", void 0);
        this.provider = provider;
        this.blockTracker = blockTracker;
        this.getPendingTransactions = getPendingTransactions;
        this.getConfirmedTransactions = getConfirmedTransactions;
        this.lockMap = {};
    }
    async getGlobalLock() {
        const globalMutex = this._lookupMutex("global");
        // await global mutex free
        const releaseLock = await globalMutex.acquire();
        return {
            releaseLock
        };
    }
    /**
    this will return an object with the `nextNonce` 
    `nonceDetails`, and the releaseLock.
    Note: releaseLock must be called after adding a signed tx 
    to pending transactions (or discarding).
  */ async getNonceLock(address) {
        // await global mutex free
        await this._globalMutexFree();
        // await lock free, then take lock
        const releaseLock = await this._takeMutex(address);
        try {
            // evaluate multiple nextNonce strategies
            const nonceDetails = {};
            const networkNonceResult = await this._getNetworkNextNonce(address);
            const highestLocallyConfirmed = this._getHighestLocallyConfirmed(address);
            const nextNetworkNonce = networkNonceResult.nonce;
            const highestSuggested = Math.max(nextNetworkNonce, highestLocallyConfirmed);
            const pendingTxs = this.getPendingTransactions(address);
            const localNonceResult = this._getHighestContinuousFrom(pendingTxs, highestSuggested);
            nonceDetails.params = {
                highestLocallyConfirmed,
                highestSuggested,
                nextNetworkNonce
            };
            nonceDetails.local = localNonceResult;
            nonceDetails.network = networkNonceResult;
            const nextNonce = Math.max(networkNonceResult.nonce, localNonceResult.nonce);
            // return nonce and release cb
            return {
                nextNonce,
                nonceDetails,
                releaseLock
            };
        } catch (error) {
            // release lock if we encounter an error
            releaseLock();
            throw error;
        }
    }
    async _globalMutexFree() {
        const globalMutex = this._lookupMutex("global");
        const releaseLock = await globalMutex.acquire();
        releaseLock();
    }
    async _takeMutex(lockId) {
        const mutex = this._lookupMutex(lockId);
        const releaseLock = await mutex.acquire();
        return releaseLock;
    }
    _lookupMutex(lockId) {
        let mutex = this.lockMap[lockId];
        if (!mutex) {
            mutex = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$async$2d$mutex$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Mutex"]();
            this.lockMap[lockId] = mutex;
        }
        return mutex;
    }
    async _getNetworkNextNonce(address) {
        // calculate next nonce
        // we need to make sure our base count
        // and pending count are from the same block
        const block = await this.blockTracker.getLatestBlock();
        const baseCountStr = await this.provider.request({
            method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_TRANSACTION_COUNT,
            params: [
                address,
                block.idempotencyKey
            ]
        });
        const baseCount = Number.parseInt(baseCountStr, 16);
        const nonceDetails = {
            block,
            baseCount
        };
        return {
            name: "network",
            nonce: baseCount,
            details: nonceDetails
        };
    }
    _getHighestLocallyConfirmed(address) {
        const confirmedTransactions = this.getConfirmedTransactions(address);
        const highest = this._getHighestNonce(confirmedTransactions);
        return Number.isInteger(highest) ? highest + 1 : 0;
    }
    _getHighestNonce(txList) {
        const nonces = txList.map((txMeta)=>{
            const { nonce } = txMeta.transaction;
            return Number.parseInt(nonce, 16);
        });
        const highestNonce = Math.max.apply(null, nonces);
        return highestNonce;
    }
    _getHighestContinuousFrom(txList, startPoint) {
        const nonces = new Set(txList.map((txMeta)=>{
            const { nonce } = txMeta.transaction;
            return Number.parseInt(nonce, 16);
        }));
        let highest = startPoint;
        while(nonces.has(highest)){
            highest += 1;
        }
        return {
            name: "local",
            nonce: highest,
            details: {
                startPoint,
                highest
            }
        };
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/PendingTransactionTracker.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PendingTransactionTracker",
    ()=>PendingTransactionTracker
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Transaction/ITransactionController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
;
class PendingTransactionTracker extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SafeEventEmitter"] {
    constructor({ provider, nonceTracker, approveTransaction, publishTransaction, getPendingTransactions, getConfirmedTransactions }){
        super();
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "DROPPED_BUFFER_COUNT", 3);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "nonceTracker", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "approveTransaction", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "droppedBlocksBufferByHash", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getConfirmedTransactions", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getPendingTransactions", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "publishTransaction", void 0);
        this.provider = provider;
        this.nonceTracker = nonceTracker;
        this.approveTransaction = approveTransaction;
        this.publishTransaction = publishTransaction;
        this.getPendingTransactions = getPendingTransactions;
        this.getConfirmedTransactions = getConfirmedTransactions;
        this.droppedBlocksBufferByHash = new Map();
    }
    /**
    checks the network for signed txs and releases the nonce global lock if it is
  */ async updatePendingTxs() {
        // in order to keep the nonceTracker accurate we block it while updating pending transactions
        const nonceGlobalLock = await this.nonceTracker.getGlobalLock();
        try {
            const pendingTxs = this.getPendingTransactions();
            await Promise.all(pendingTxs.map((txMeta)=>this._checkPendingTx(txMeta)));
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("PendingTransactionTracker - Error updating pending transactions");
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
        }
        nonceGlobalLock.releaseLock();
    }
    async resubmitPendingTxs(block) {
        const pending = this.getPendingTransactions();
        // only try resubmitting if their are transactions to resubmit
        if (pending.length === 0) return;
        // Keep this as a for loop because we want to wait for each item to be submitted
        for (const txMeta of pending){
            try {
                await this._resubmitTx(txMeta, block.idempotencyKey);
            } catch (error) {
                var _value;
                /*
        Dont marked as failed if the error is a "known" transaction warning
        "there is already a transaction with the same sender-nonce
        but higher/same gas price"
        Also don't mark as failed if it has ever been broadcast successfully.
        A successful broadcast means it may still be mined.
        */ const errorMessage = ((_value = error.value) === null || _value === void 0 || (_value = _value.message) === null || _value === void 0 ? void 0 : _value.toLowerCase()) || error.message.toLowerCase();
                const isKnownTx = // geth
                errorMessage.includes("replacement transaction underpriced") || errorMessage.includes("known transaction") || // parity
                errorMessage.includes("gas price too low to replace") || errorMessage.includes("transaction with the same hash was already imported") || // other
                errorMessage.includes("gateway timeout") || errorMessage.includes("nonce too low");
                // ignore resubmit warnings, return early
                if (isKnownTx) return;
                // encountered real error - transition to error state
                txMeta.warning = {
                    error: errorMessage,
                    message: "There was an error when resubmitting this transaction."
                };
                this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_WARNING, {
                    txMeta,
                    txId: txMeta.id
                });
            }
        }
    }
    async _resubmitTx(txMeta, latestBlockNumber) {
        if (txMeta.userOpHash) return;
        if (!txMeta.firstRetryBlockNumber) {
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_BLOCK_UPDATE, {
                txMeta,
                latestBlockNumber,
                txId: txMeta.id
            });
        }
        const firstRetryBlockNumber = txMeta.firstRetryBlockNumber || latestBlockNumber;
        const txBlockDistance = Number.parseInt(latestBlockNumber, 16) - Number.parseInt(firstRetryBlockNumber, 16);
        const retryCount = txMeta.retryCount || 0;
        // Exponential backoff to limit retries at publishing (capped at last 15 mins)
        if (txBlockDistance <= Math.min(50, 2 ** retryCount)) return undefined;
        // Only auto-submit already-signed txs:
        if (!("rawTransaction" in txMeta)) return this.approveTransaction(txMeta.id);
        const { rawTransaction } = txMeta;
        const txHash = await this.publishTransaction(rawTransaction);
        // Increment successful tries:
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_RETRY, {
            txMeta,
            txId: txMeta.id
        });
        return txHash;
    }
    async _checkPendingTx(foundTx) {
        const txMeta = foundTx;
        const txHash = txMeta.transactionHash;
        const txId = txMeta.id;
        // Only check submitted txs
        if (txMeta.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].submitted || txMeta.isUserOperation) return;
        // extra check in case there was an uncaught error during the
        // signature and submission process
        if (!txHash) {
            const noTxHashError = new Error("We had an error while submitting this transaction, please try again.");
            noTxHashError.name = "NoTxHashError";
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_FAILED, {
                txId,
                error: noTxHashError
            });
            return;
        }
        // If another tx with the same nonce is mined, set as failed.
        if (this._checkIfNonceIsTaken(txMeta)) {
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_DROPPED, {
                txId
            });
            return;
        }
        try {
            const transactionReceipt = await this.provider.request({
                method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_TRANSACTION_RECEIPT,
                params: [
                    txHash
                ]
            });
            if (transactionReceipt !== null && transactionReceipt !== void 0 && transactionReceipt.blockNumber) {
                const { baseFeePerGas, timestamp } = await this.provider.request({
                    method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_BLOCK_BY_HASH,
                    params: [
                        transactionReceipt.blockHash,
                        false
                    ]
                });
                this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_CONFIRMED, {
                    txId,
                    txReceipt: transactionReceipt,
                    baseFeePerGas,
                    blockTimestamp: timestamp
                });
                return;
            }
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("error while loading tx", error);
            txMeta.warning = {
                error: error.message,
                message: "There was a problem loading this transaction."
            };
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_WARNING, {
                txMeta,
                txId
            });
        }
        if (await this._checkIfTxWasDropped(txMeta)) {
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_DROPPED, {
                txId
            });
        }
    }
    async _checkIfTxWasDropped(txMeta) {
        const { transactionHash: txHash, transaction: { nonce, from } } = txMeta;
        const networkNextNonce = await this.provider.request({
            method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_TRANSACTION_COUNT,
            params: [
                from,
                "latest"
            ]
        });
        if (Number.parseInt(nonce, 16) >= Number.parseInt(networkNextNonce, 16)) {
            return false;
        }
        if (!this.droppedBlocksBufferByHash.has(txHash)) {
            this.droppedBlocksBufferByHash.set(txHash, 0);
        }
        const currentBlockBuffer = this.droppedBlocksBufferByHash.get(txHash);
        if (currentBlockBuffer < this.DROPPED_BUFFER_COUNT) {
            this.droppedBlocksBufferByHash.set(txHash, currentBlockBuffer + 1);
            return false;
        }
        this.droppedBlocksBufferByHash.delete(txHash);
        return true;
    }
    _checkIfNonceIsTaken(txMeta) {
        const address = txMeta.transaction.from;
        const completed = this.getConfirmedTransactions(address);
        return completed.some((otherMeta)=>{
            if (otherMeta.id === txMeta.id) {
                return false;
            }
            return otherMeta.transaction.nonce === txMeta.transaction.nonce;
        });
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionGasUtil.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TransactionGasUtil",
    ()=>TransactionGasUtil
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/lodashUtils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bn$2e$js$2f$lib$2f$bn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/bn.js/lib/bn.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
;
;
;
;
;
class TransactionGasUtil {
    constructor(provider, blockTracker){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "blockTracker", void 0);
        this.provider = provider;
        this.blockTracker = blockTracker;
    }
    async analyzeGasUsage(txMeta) {
        const block = await this.blockTracker.getLatestBlock();
        // fallback to block gasLimit
        const blockGasLimitBN = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bn$2e$js$2f$lib$2f$bn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BN"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(block.gasLimit), 16);
        const saferGasLimitBN = blockGasLimitBN.mul(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bn$2e$js$2f$lib$2f$bn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BN"](19)).div(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bn$2e$js$2f$lib$2f$bn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BN"](20));
        let estimatedGasHex = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(saferGasLimitBN.toString("hex"));
        let simulationFails;
        try {
            estimatedGasHex = await this.estimateTxGas(txMeta);
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].warn(error);
            simulationFails = {
                reason: error.message,
                errorKey: error.errorKey,
                debug: {
                    blockNumber: block.idempotencyKey,
                    blockGasLimit: block.gasLimit
                }
            };
        }
        return {
            blockGasLimit: block.gasLimit,
            estimatedGasHex,
            simulationFails
        };
    }
    /**
    Adds a gas buffer with out exceeding the block gas limit
  */ addGasBuffer(initialGasLimitHex, blockGasLimitHex, multiplier = 1.5) {
        const initialGasLimitBn = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bn$2e$js$2f$lib$2f$bn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BN"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(initialGasLimitHex), 16);
        const blockGasLimitBn = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bn$2e$js$2f$lib$2f$bn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BN"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(blockGasLimitHex), 16);
        const upperGasLimitBn = blockGasLimitBn.muln(0.9);
        const bufferedGasLimitBn = initialGasLimitBn.muln(multiplier);
        // if initialGasLimit is above blockGasLimit, dont modify it
        if (initialGasLimitBn.gt(upperGasLimitBn)) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(initialGasLimitBn.toString("hex"));
        // if bufferedGasLimit is below blockGasLimit, use bufferedGasLimit
        if (bufferedGasLimitBn.lt(upperGasLimitBn)) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(bufferedGasLimitBn.toString("hex"));
        // otherwise use blockGasLimit
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(upperGasLimitBn.toString("hex"));
    }
    /**
    Estimates the tx's gas usage
  */ async estimateTxGas(txMeta) {
        const txParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cloneDeep"])(txMeta.transaction);
        // `eth_estimateGas` can fail if the user has insufficient balance for the
        // value being sent, or for the gas cost. We don't want to check their
        // balance here, we just want the gas estimate. The gas price is removed
        // to skip those balance checks. We check balance elsewhere. We also delete
        // maxFeePerGas and maxPriorityFeePerGas to support EIP-1559 txs.
        delete txParams.gasPrice;
        delete txParams.maxFeePerGas;
        delete txParams.maxPriorityFeePerGas;
        return this.provider.request({
            method: "eth_estimateGas",
            params: [
                txParams
            ]
        });
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionStateHistoryHelper.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "generateHistoryEntry",
    ()=>generateHistoryEntry,
    "replayHistory",
    ()=>replayHistory,
    "snapshotFromTxMeta",
    ()=>snapshotFromTxMeta
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/lodashUtils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$json$2d$patch$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/fast-json-patch/index.mjs [app-client] (ecmascript) <locals>");
;
;
;
/**
  Generates an array of history objects sense the previous state.
  The object has the keys
    op (the operation performed),
    path (the key and if a nested object then each key will be seperated with a `/`)
    value
  with the first entry having the note and a timestamp when the change took place
*/ function generateHistoryEntry(previousState, newState, note) {
    const entry = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$json$2d$patch$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].compare(previousState, newState);
    // Add a note to the first op, since it breaks if we append it to the entry
    if (entry[0]) {
        if (note) {
            entry[0].note = note;
        }
        entry[0].timestamp = Date.now();
    }
    return entry;
}
/**
  Recovers previous txMeta state obj
*/ function replayHistory(_shortHistory) {
    const shortHistory = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cloneDeep"])(_shortHistory);
    return shortHistory.reduce((val, entry)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$fast$2d$json$2d$patch$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"].applyPatch(val, entry).newDocument);
}
function snapshotFromTxMeta(txMeta) {
    const shallow = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, txMeta);
    delete shallow.history;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cloneDeep"])(shallow);
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionStateManager.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TransactionStateManager",
    ()=>TransactionStateManager
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$BaseTransactionStateController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Transaction/BaseTransactionStateController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Transaction/ITransactionController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/lodashUtils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateHistoryHelper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionStateHistoryHelper.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionUtils.js [app-client] (ecmascript)");
;
;
;
;
class TransactionStateManager extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$BaseTransactionStateController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseTransactionStateManager"] {
    constructor({ config, state, getCurrentChainId }){
        super({
            config,
            state,
            getCurrentChainId
        });
    }
    generateTxMeta(opts = {}) {
        var _opts$transaction;
        const chainId = this.getCurrentChainId();
        if (chainId === "loading") throw new Error("Torus is having trouble connecting to the network");
        let dappSuggestedGasFees = null;
        // If we are dealing with a transaction suggested by a dapp and not
        // an internally created transaction, we need to keep record of
        // the originally submitted gasParams.
        if (opts.transaction && typeof opts.origin === "string" && opts.origin !== "torus") {
            if (typeof opts.transaction.gasPrice !== "undefined") {
                dappSuggestedGasFees = {
                    gasPrice: opts.transaction.gasPrice
                };
            } else if (typeof opts.transaction.maxFeePerGas !== "undefined" || typeof opts.transaction.maxPriorityFeePerGas !== "undefined") {
                dappSuggestedGasFees = {
                    maxPriorityFeePerGas: opts.transaction.maxPriorityFeePerGas,
                    maxFeePerGas: opts.transaction.maxFeePerGas
                };
            }
            if (typeof opts.transaction.gas !== "undefined") {
                dappSuggestedGasFees = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, dappSuggestedGasFees), {}, {
                    gas: opts.transaction.gas
                });
            }
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({
            id: ((_opts$transaction = opts.transaction) === null || _opts$transaction === void 0 ? void 0 : _opts$transaction.id) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["randomId"])(),
            time: Date.now(),
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].unapproved,
            loadingDefaults: true,
            chainId,
            dappSuggestedGasFees
        }, opts);
    }
    addTransactionToState(txMeta) {
        if (txMeta.transaction) {
            txMeta.transaction = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["normalizeAndValidateTxParams"])(txMeta.transaction, false);
        }
        this.once(`${txMeta.id}:signed`, ()=>{
            this.removeAllListeners(`${txMeta.id}:rejected`);
        });
        this.once(`${txMeta.id}:rejected`, ()=>{
            this.removeAllListeners(`${txMeta.id}:signed`);
        });
        // initialize history
        txMeta.history = [];
        // capture initial snapshot of txMeta for history
        const snapshot = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateHistoryHelper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["snapshotFromTxMeta"])(txMeta);
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        txMeta.history.push(snapshot);
        const transactions = this.getTransactions({
            filterToCurrentNetwork: false
        });
        const { txHistoryLimit } = this.config;
        // checks if the length of the tx history is longer then desired persistence
        // limit and then if it is removes the oldest confirmed or rejected tx.
        // Pending or unapproved transactions will not be removed by this
        // operation. For safety of presenting a fully functional transaction UI
        // representation, this function will not break apart transactions with the
        // same nonce, per network. Not accounting for transactions of the same
        // nonce and network combo can result in confusing or broken experiences
        // in the UI.
        //
        // we will send UI only collected groups of transactions *per page* so at
        // some point in the future, this persistence limit can be adjusted. When
        // we do that I think we should figure out a better storage solution for
        // transaction history entries.
        const nonceNetworkSet = new Set();
        const txsToDelete = transactions.reverse().filter((tx)=>{
            const { nonce } = tx.transaction;
            const { chainId, status } = tx;
            const key = `${nonce}-${chainId}`;
            if (nonceNetworkSet.has(key)) {
                return false;
            }
            if (nonceNetworkSet.size < txHistoryLimit - 1 || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getFinalStates"])().includes(status) === false) {
                nonceNetworkSet.add(key);
                return false;
            }
            return true;
        }).map((tx)=>tx.id);
        this._deleteTransactions(txsToDelete);
        this._addTransactionsToState([
            txMeta
        ]);
        return txMeta;
    }
    /**
    Removes transaction from the given address for the current network
    from the txList
  */ wipeTransactions(address) {
        const { transactions } = this.state;
        const chainId = this.getCurrentChainId();
        this.update({
            transactions: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["omitBy"])(transactions, (txMeta)=>{
                const transactionMatch = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["transactionMatchesNetwork"])(txMeta, chainId);
                return txMeta.transaction.from === address && transactionMatch;
            })
        });
    }
    getTransactions({ searchCriteria = {}, initialList = undefined, filterToCurrentNetwork = true, limit = undefined } = {}) {
        const chainId = this.getCurrentChainId();
        // searchCriteria is an object that might have values that aren't predicate
        // methods. When providing any other value type (string, number, etc), we
        // consider this shorthand for "check the value at key for strict equality
        // with the provided value". To conform this object to be only methods, we
        // mapValues (lodash) such that every value on the object is a method that
        // returns a boolean.
        const predicateMethods = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mapValues"])(searchCriteria, (predicate)=>typeof predicate === "function" ? predicate : (v)=>v === predicate);
        // If an initial list is provided we need to change it back into an object
        // first, so that it matches the shape of our state. This is done by the
        // lodash keyBy method. This is the edge case for this method, typically
        // initialList will be undefined.
        const transactionsToFilter = initialList ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keyBy"])(initialList, "id") : this.state.transactions;
        // Combine sortBy and pickBy to transform our state object into an array of
        // matching transactions that are sorted by time.
        const filteredTransactions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sortBy"])(Object.values((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pickBy"])(transactionsToFilter, (txMeta)=>{
            // default matchesCriteria to the value of transactionMatchesNetwork
            // when filterToCurrentNetwork is true.
            const transactionMatches = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["transactionMatchesNetwork"])(txMeta, chainId);
            if (filterToCurrentNetwork && !transactionMatches) {
                return false;
            }
            // iterate over the predicateMethods keys to check if the transaction
            // matches the searchCriteria
            for (const [key, predicate] of Object.entries(predicateMethods)){
                // We return false early as soon as we know that one of the specified
                // search criteria do not match the transaction. This prevents
                // needlessly checking all criteria when we already know the criteria
                // are not fully satisfied. We check both txParams and the base
                // object as predicate keys can be either.
                if (key in txMeta.transaction) {
                    if (predicate(txMeta.transaction[key]) === false) {
                        return false;
                    }
                } else if (predicate(txMeta[key]) === false) {
                    return false;
                }
            }
            return true;
        })), "time");
        if (limit !== undefined) {
            // We need to have all transactions of a given nonce in order to display
            // necessary details in the UI. We use the size of this set to determine
            // whether we have reached the limit provided, thus ensuring that all
            // transactions of nonces we include will be sent to the UI.
            const nonces = new Set();
            const txs = [];
            // By default, the transaction list we filter from is sorted by time ASC.
            // To ensure that filtered results prefers the newest transactions we
            // iterate from right to left, inserting transactions into front of a new
            // array. The original order is preserved, but we ensure that newest txs
            // are preferred.
            for(let i = filteredTransactions.length - 1; i > -1; i -= 1){
                const txMeta = filteredTransactions[i];
                const { nonce } = txMeta.transaction;
                if (!nonces.has(nonce)) {
                    if (nonces.size < limit) {
                        nonces.add(nonce);
                    } else {
                        continue;
                    }
                }
                // Push transaction into the beginning of our array to ensure the
                // original order is preserved.
                txs.unshift(txMeta);
            }
            return txs;
        }
        return filteredTransactions;
    }
    getApprovedTransactions(address) {
        const searchCriteria = {
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].approved
        };
        if (address) {
            searchCriteria.from = address;
        }
        return this.getTransactions({
            searchCriteria
        });
    }
    getSubmittedTransactions(address) {
        const searchCriteria = {
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].submitted
        };
        if (address) {
            searchCriteria.from = address;
        }
        return this.getTransactions({
            searchCriteria
        });
    }
    getPendingTransactions(address) {
        const submitted = this.getSubmittedTransactions(address);
        const approved = this.getApprovedTransactions(address);
        return [
            ...submitted,
            ...approved
        ];
    }
    getConfirmedTransactions(address) {
        const searchCriteria = {
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].confirmed
        };
        if (address) {
            searchCriteria.from = address;
        }
        return this.getTransactions({
            searchCriteria
        });
    }
    getUnapprovedTxList() {
        const chainId = this.getCurrentChainId();
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$lodashUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pickBy"])(this.state.transactions, (transaction)=>{
            const transactionMatches = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["transactionMatchesNetwork"])(transaction, chainId);
            return transaction.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].unapproved && transactionMatches;
        });
    }
    updateTransactionInState(txMeta, note) {
        // validate txParams
        if (txMeta.transaction) {
            txMeta.transaction = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["normalizeAndValidateTxParams"])(txMeta.transaction, false);
        }
        // create txMeta snapshot for history
        const currentState = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateHistoryHelper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["snapshotFromTxMeta"])(txMeta);
        // recover previous tx state obj
        const previousState = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateHistoryHelper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["replayHistory"])(txMeta.history);
        // generate history entry and add to history
        const entry = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateHistoryHelper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateHistoryEntry"])(previousState, currentState, note);
        if (entry.length > 0) {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            txMeta.history.push(entry);
        }
        // commit txMeta to state
        this.updateTransaction(txMeta);
    }
    _setTransactionStatus(txId, status, isFinalStep) {
        const txMeta = this.getTransaction(txId);
        if (!txMeta) {
            return;
        }
        txMeta.status = status;
        this.updateTransactionInState(txMeta);
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_STATUS_UPDATE, {
            txId,
            status
        });
        if (this.isFinalState(status) || isFinalStep) {
            this.emit(`${txMeta.id}:finished`, txMeta);
        } else {
            this.emit(`${txMeta.id}:${status}`, txId);
        }
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionController.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TransactionController",
    ()=>TransactionController
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@toruslabs/base-controllers/dist/lib.esm/Transaction/ITransactionController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/bignumber.js/bignumber.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$transaction$2f$transaction$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/transaction/transaction.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$crypto$2f$keccak$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/crypto/keccak.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/conversionUtils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/helpers.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$NonceTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/NonceTracker.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$PendingTransactionTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/PendingTransactionTracker.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionGasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionGasUtil.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionStateManager.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionUtils.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
class TransactionController extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStateManager"] {
    constructor({ config, state, provider, blockTracker, signEthTx, getCurrentChainId, getCurrentNetworkEIP1559Compatibility, getCurrentAccountEIP1559Compatibility, getSelectedAddress, getEIP1559GasFeeEstimates }){
        super({
            config,
            state,
            getCurrentChainId
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getSelectedAddress", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getEIP1559GasFeeEstimates", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "nonceTracker", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "pendingTxTracker", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "txGasUtil", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_getCurrentNetworkEIP1559Compatibility", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_getCurrentAccountEIP1559Compatibility", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "signEthTx", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "provider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "blockTracker", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "inProcessOfSigning", new Set());
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getUnapprovedTxCount", ()=>Object.keys(this.getUnapprovedTxList()).length);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "getPendingTxCount", (account)=>this.getPendingTransactions(account).length);
        this.blockTracker = blockTracker;
        this._getCurrentNetworkEIP1559Compatibility = getCurrentNetworkEIP1559Compatibility;
        this._getCurrentAccountEIP1559Compatibility = getCurrentAccountEIP1559Compatibility;
        this.getSelectedAddress = getSelectedAddress;
        this.getEIP1559GasFeeEstimates = getEIP1559GasFeeEstimates;
        this.signEthTx = signEthTx;
        this.provider = provider;
        this.txGasUtil = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionGasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionGasUtil"](this.provider, this.blockTracker);
        this.nonceTracker = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$NonceTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NonceTracker"]({
            provider,
            blockTracker,
            getConfirmedTransactions: this.getConfirmedTransactions.bind(this),
            getPendingTransactions: this.getSubmittedTransactions.bind(this) // nonce tracker should only care about submitted transactions
        });
        this.pendingTxTracker = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$PendingTransactionTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PendingTransactionTracker"]({
            provider,
            nonceTracker: this.nonceTracker,
            getPendingTransactions: this.getPendingTransactions.bind(this),
            // pending tx tracker should only care about submitted and approved transactions
            getConfirmedTransactions: this.getConfirmedTransactions.bind(this),
            approveTransaction: this.approveTransaction.bind(this),
            publishTransaction: (rawTx)=>this.provider.request({
                    method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_SEND_RAW_TRANSACTION,
                    params: [
                        rawTx
                    ]
                })
        });
        this._setupListeners();
    }
    addTransactionUnapproved(txMeta) {
        this.addTransactionToState(txMeta);
        this.emit(`${txMeta.id}:unapproved`, txMeta);
    }
    async addNewUnapprovedTransaction(txParams, req) {
        const txMeta = await this.createTransaction(txParams, req);
        return this.processApproval(txMeta);
    }
    async processApproval(txMeta) {
        return new Promise((resolve, reject)=>{
            const handleFinished = (msg)=>{
                if (msg.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].rejected) {
                    return reject(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerErrors"].userRejectedRequest(`Transaction Signature: User denied message signature`));
                }
                if (msg.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].failed) {
                    return reject(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].internal(`Transaction Signature: failed to sign message ${msg.error}`));
                }
                if (msg.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].signed && msg.isSignOnly) {
                    return resolve(msg.rawTransaction);
                }
                if (msg.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].submitted) {
                    return resolve(msg.transactionHash);
                }
                return reject(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].internal(`Transaction Signature: Unknown problem: ${JSON.stringify(txMeta.transaction)}`));
            };
            this.once(`${txMeta.id}:finished`, handleFinished);
        });
    }
    async approveTransaction(transactionID) {
        const txMeta = this.getTransaction(transactionID);
        if (this.inProcessOfSigning.has(transactionID)) {
            return;
        }
        this.inProcessOfSigning.add(transactionID);
        let nonceLock;
        try {
            this.setTxStatusApproved(transactionID);
            const fromAddress = txMeta.transaction.from;
            const { customNonceValue } = txMeta.transaction;
            const customNonceValueNumber = Number(customNonceValue);
            nonceLock = await this.nonceTracker.getNonceLock(fromAddress);
            // add nonce to txParams
            // if txMeta has previousGasParams then it is a retry at same nonce with
            // higher gas settings and therefor the nonce should not be recalculated
            const nonce = nonceLock.nextNonce;
            const customOrNonce = customNonceValueNumber === 0 ? customNonceValue : customNonceValue || nonce;
            txMeta.transaction.nonce = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(customOrNonce.toString(16));
            // add nonce debugging information to txMeta
            txMeta.nonceDetails = nonceLock.nonceDetails;
            this.updateTransactionInState(txMeta, "transactions#approveTransaction");
            // sign transaction
            await this.signTransaction(transactionID, txMeta.isSignOnly);
            // publish if not signOnly
            if (!txMeta.isSignOnly) {
                await this.publishTransaction(transactionID);
            }
            nonceLock.releaseLock();
        } catch (err) {
            try {
                this.setTxStatusFailed(transactionID, err);
            } catch (err2) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(err2);
            }
            // must set transaction to submitted/failed before releasing lock
            if (nonceLock) {
                nonceLock.releaseLock();
            }
            // continue with error chain
            throw err;
        } finally{
            this.inProcessOfSigning.delete(transactionID);
        }
    }
    async signTransaction(txId, isSignOnly) {
        const txMeta = this.getTransaction(txId);
        const chainId = this.getCurrentChainId();
        const type = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isEIP1559Transaction"])(txMeta) ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_ENVELOPE_TYPES"].FEE_MARKET : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_ENVELOPE_TYPES"].LEGACY;
        const txParams = {
            type: Number.parseInt(type, 16),
            chainId,
            gasLimit: txMeta.transaction.gas,
            accessList: txMeta.transaction.accessList,
            data: txMeta.transaction.data,
            gasPrice: txMeta.transaction.gasPrice,
            maxFeePerGas: txMeta.transaction.maxFeePerGas,
            maxPriorityFeePerGas: txMeta.transaction.maxPriorityFeePerGas,
            nonce: Number.parseInt(txMeta.transaction.nonce, 16),
            to: txMeta.transaction.to,
            value: txMeta.transaction.value
        };
        const fromAddress = txMeta.transaction.from;
        const tx = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$transaction$2f$transaction$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Transaction"].from(txParams);
        const signedEthTx = await this.signEthTx(tx, fromAddress);
        txMeta.r = signedEthTx.signature.r;
        txMeta.s = signedEthTx.signature.s;
        txMeta.v = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(signedEthTx.signature.v.toString(16));
        const rawTx = signedEthTx.serialized;
        txMeta.rawTransaction = rawTx;
        this.updateTransactionInState(txMeta, "transactions#signTransaction: add r, s, v values and rawTx");
        this.setTxStatusSigned(txId, isSignOnly);
        return rawTx;
    }
    async publishTransaction(txId) {
        const txMeta = this.getTransaction(txId);
        const rawTx = txMeta.rawTransaction;
        let txHash;
        try {
            txHash = await this.provider.request({
                method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_SEND_RAW_TRANSACTION,
                params: [
                    rawTx
                ]
            });
        } catch (error) {
            if (error.message.toLowerCase().includes("known transaction")) {
                txHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$crypto$2f$keccak$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(rawTx));
                txHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(txHash);
            } else {
                throw error;
            }
        }
        this.setTxHash(txId, txHash);
        this.setTxStatusSubmitted(txId);
    }
    async confirmTransaction(params) {
        const { txId, txReceipt } = params;
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].info(params, "confirm params");
        const txMeta = this.getTransaction(txId);
        if (!txMeta) return;
        try {
            txMeta.txReceipt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, txReceipt);
            this.setTxStatusConfirmed(txId);
            this.markNonceDuplicatesDropped(txId);
            this.updateTransactionInState(txMeta, "transactions#confirmTransaction - add txReceipt");
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
        }
    }
    cancelTransaction(transactionID) {
        throw new Error(`Method not implemented. ${transactionID}`);
    }
    async getEIP1559Compatibility(fromAddress) {
        const currentNetworkIsCompatible = await this._getCurrentNetworkEIP1559Compatibility();
        const fromAccountIsCompatible = await this._getCurrentAccountEIP1559Compatibility(fromAddress);
        return currentNetworkIsCompatible && fromAccountIsCompatible;
    }
    async addTransactionGasDefaults(txMeta) {
        // for user operation, if the dapp doesn't provide gas and fee, let bundler estimate them
        // bundlers unfortunately have strict rules on fee prechecks  we will need to set a generous buffer
        if (txMeta.isUserOperation) return txMeta;
        let updateTxMeta = txMeta;
        try {
            updateTxMeta = await this.addTxGasDefaults(txMeta);
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].warn(error);
            updateTxMeta = this.getTransaction(txMeta.id);
            updateTxMeta.loadingDefaults = false;
            this.updateTransactionInState(txMeta, "Failed to calculate gas defaults.");
            throw error;
        }
        updateTxMeta.loadingDefaults = false;
        this.updateTransactionInState(updateTxMeta, "Added new unapproved transaction.");
        return updateTxMeta;
    }
    async addTxGasDefaults(txMeta) {
        const eip1559Compatibility = txMeta.transaction.type !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_ENVELOPE_TYPES"].LEGACY && await this.getEIP1559Compatibility();
        const { gasPrice: defaultGasPrice, maxFeePerGas: defaultMaxFeePerGas, maxPriorityFeePerGas: defaultMaxPriorityFeePerGas } = await this.getDefaultGasFees(txMeta, eip1559Compatibility);
        const { gasLimit: defaultGasLimit, simulationFails } = await this.getDefaultGasLimit(txMeta);
        txMeta = this.getTransaction(txMeta.id);
        if (simulationFails) {
            txMeta.simulationFails = simulationFails;
        }
        if (eip1559Compatibility) {
            // If the dapp has suggested a gas price, but no maxFeePerGas or maxPriorityFeePerGas
            //  then we set maxFeePerGas and maxPriorityFeePerGas to the suggested gasPrice.
            if (txMeta.transaction.gasPrice && !txMeta.transaction.maxFeePerGas && !txMeta.transaction.maxPriorityFeePerGas) {
                txMeta.transaction.maxFeePerGas = txMeta.transaction.gasPrice;
                // If the dapp has suggested a gas price, but no maxFeePerGas or maxPriorityFeePerGas
                // then we set maxFeePerGas to the suggested gasPrice.
                txMeta.transaction.maxPriorityFeePerGas = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bnLessThan"])(typeof defaultMaxPriorityFeePerGas === "string" ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(defaultMaxPriorityFeePerGas) : defaultMaxPriorityFeePerGas, typeof txMeta.transaction.gasPrice === "string" ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$internal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["stripHexPrefix"])(txMeta.transaction.gasPrice) : txMeta.transaction.gasPrice) ? defaultMaxPriorityFeePerGas : txMeta.transaction.gasPrice;
            } else {
                if (defaultMaxFeePerGas && !txMeta.transaction.maxFeePerGas) {
                    // If the dapp has not set the gasPrice or the maxFeePerGas, then we set maxFeePerGas
                    // with the one returned by the gasFeeController, if that is available.
                    txMeta.transaction.maxFeePerGas = defaultMaxFeePerGas;
                }
                if (defaultMaxPriorityFeePerGas && !txMeta.transaction.maxPriorityFeePerGas) {
                    // If the dapp has not set the gasPrice or the maxPriorityFeePerGas, then we set maxPriorityFeePerGas
                    // with the one returned by the gasFeeController, if that is available.
                    txMeta.transaction.maxPriorityFeePerGas = defaultMaxPriorityFeePerGas;
                }
                if (defaultGasPrice && !txMeta.transaction.maxFeePerGas) {
                    // If the dapp has not set the gasPrice or the maxFeePerGas, and no maxFeePerGas is available
                    // from the gasFeeController, then we set maxFeePerGas to the defaultGasPrice, assuming it is
                    // available.
                    txMeta.transaction.maxFeePerGas = defaultGasPrice;
                }
                if (txMeta.transaction.maxFeePerGas && !txMeta.transaction.maxPriorityFeePerGas) {
                    // If the dapp has not set the gasPrice or the maxPriorityFeePerGas, and no maxPriorityFeePerGas is
                    // available from the gasFeeController, then we set maxPriorityFeePerGas to
                    // txMeta.transaction.maxFeePerGas, which will either be the gasPrice from the controller, the maxFeePerGas
                    // set by the dapp, or the maxFeePerGas from the controller.
                    txMeta.transaction.maxPriorityFeePerGas = txMeta.transaction.maxFeePerGas;
                }
            }
            // We remove the gasPrice param entirely when on an eip1559 compatible network
            delete txMeta.transaction.gasPrice;
        } else {
            // We ensure that maxFeePerGas and maxPriorityFeePerGas are not in the transaction params
            // when not on a EIP1559 compatible network
            delete txMeta.transaction.maxPriorityFeePerGas;
            delete txMeta.transaction.maxFeePerGas;
        }
        // If we have gotten to this point, and none of gasPrice, maxPriorityFeePerGas or maxFeePerGas are
        // set on transaction, it means that either we are on a non-EIP1559 network and the dapp didn't suggest
        // a gas price, or we are on an EIP1559 network, and none of gasPrice, maxPriorityFeePerGas or maxFeePerGas
        // were available from either the dapp or the network.
        if (defaultGasPrice && !txMeta.transaction.gasPrice && !txMeta.transaction.maxPriorityFeePerGas && !txMeta.transaction.maxFeePerGas) {
            txMeta.transaction.gasPrice = defaultGasPrice;
        }
        if (defaultGasLimit && !txMeta.transaction.gas) {
            txMeta.transaction.gas = defaultGasLimit;
        }
        return txMeta;
    }
    setTxHash(txId, txHash) {
        // Add the tx hash to the persisted meta-tx object
        const txMeta = this.getTransaction(txId);
        txMeta.transactionHash = txHash;
        this.updateTransactionInState(txMeta, "transactions#setTxHash");
    }
    async getDefaultGasFees(txMeta, eip1559Compatibility) {
        if (!eip1559Compatibility && txMeta.transaction.gasPrice || eip1559Compatibility && txMeta.transaction.maxFeePerGas && txMeta.transaction.maxPriorityFeePerGas) {
            return {};
        }
        try {
            const { gasFeeEstimates, gasEstimateType } = await this.getEIP1559GasFeeEstimates();
            if (eip1559Compatibility && gasEstimateType === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_ESTIMATE_TYPES"].FEE_MARKET) {
                // this is in dec gwei
                const { medium: { suggestedMaxPriorityFeePerGas, suggestedMaxFeePerGas } = {} } = gasFeeEstimates;
                if (suggestedMaxPriorityFeePerGas && suggestedMaxFeePerGas) {
                    return {
                        // send to controller in hex wei
                        maxFeePerGas: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](suggestedMaxFeePerGas)).toString(16)),
                        maxPriorityFeePerGas: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](suggestedMaxPriorityFeePerGas)).toString(16))
                    };
                }
            } else if (gasEstimateType === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_ESTIMATE_TYPES"].LEGACY) {
                const { medium } = gasFeeEstimates;
                // The LEGACY type includes low, medium and high estimates of
                // gas price values.
                return {
                    gasPrice: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](medium)).toString(16))
                };
            } else if (gasEstimateType === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_ESTIMATE_TYPES"].ETH_GASPRICE) {
                const { gasPrice } = gasFeeEstimates;
                // The ETH_GASPRICE type just includes a single gas price property,
                // which we can assume was retrieved from eth_gasPrice
                return {
                    gasPrice: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"])(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bignumber$2e$js$2f$bignumber$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BigNumber"](gasPrice)).toString(16))
                };
            }
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
        }
        const gasPrice = await this.provider.request({
            method: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"].ETH_GET_GAS_PRICE
        });
        return {
            gasPrice: gasPrice && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(gasPrice)
        };
    }
    async getDefaultGasLimit(txMeta) {
        const chainId = this.getCurrentChainId();
        const customNetworkGasBuffer = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_ID_TO_GAS_LIMIT_BUFFER_MAP"][chainId];
        const chainType = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getChainType"])(chainId);
        if (txMeta.transaction.gas) {
            return {};
        }
        if (txMeta.transaction.to && txMeta.transactionCategory === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_TYPES"].SENT_ETHER && chainType !== "custom" && !txMeta.transaction.data) {
            // This is a standard ether simple send, gas requirement is exactly 21k
            return {
                gasLimit: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_LIMITS"].SIMPLE
            };
        }
        const { blockGasLimit, estimatedGasHex, simulationFails } = await this.txGasUtil.analyzeGasUsage(txMeta);
        // add additional gas buffer to our estimation for safety
        const gasLimit = this.txGasUtil.addGasBuffer((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(estimatedGasHex), blockGasLimit, customNetworkGasBuffer);
        return {
            gasLimit,
            simulationFails
        };
    }
    async createTransaction(txParameters, req) {
        const normalizedTxParameters = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["normalizeTxParameters"])(txParameters);
        const eip1559Compatibility = await this.getEIP1559Compatibility(txParameters.from);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateTxParameters"])(normalizedTxParameters, eip1559Compatibility);
        let txMeta = this.generateTxMeta({
            transaction: normalizedTxParameters,
            origin: req.origin
        });
        const { type, category, methodParams } = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["determineTransactionType"])(txParameters, this.provider);
        txMeta.contractType = type;
        txMeta.transactionCategory = category;
        txMeta.methodParams = methodParams;
        txMeta.isUserOperation = req.isUserOperation;
        txMeta.isSignOnly = req.isSignOnly;
        txMeta.transaction.value = txMeta.transaction.value ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$ethereumjs$2f$util$2f$dist$2f$esm$2f$bytes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addHexPrefix"])(txMeta.transaction.value) : "0x0";
        this.emit(`${txMeta.id}:unapproved`, txMeta);
        txMeta = this.addTransactionToState(txMeta);
        txMeta = await this.addTransactionGasDefaults(txMeta);
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_UNAPPROVED, {
            txMeta,
            req
        });
        return txMeta;
    }
    _setupListeners() {
        this.setupBlockTrackerListener();
        this.pendingTxTracker.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_WARNING, (data)=>{
            this.updateTransactionInState(data.txMeta);
        });
        this.pendingTxTracker.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_DROPPED, (data)=>this.setTxStatusDropped(data.txId));
        this.pendingTxTracker.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_BLOCK_UPDATE, ({ txMeta, latestBlockNumber })=>{
            if (!txMeta.firstRetryBlockNumber) {
                txMeta.firstRetryBlockNumber = latestBlockNumber;
                this.updateTransactionInState(txMeta);
            }
        });
        this.pendingTxTracker.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_RETRY, (data)=>{
            if (!("retryCount" in data.txMeta)) {
                data.txMeta.retryCount = 0;
            }
            data.txMeta.retryCount += 1;
            this.updateTransactionInState(data.txMeta);
        });
        this.pendingTxTracker.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_FAILED, (data)=>{
            this.setTxStatusFailed(data.txId, data.error);
        });
        this.pendingTxTracker.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_CONFIRMED, (data)=>this.confirmTransaction(data));
    }
    setupBlockTrackerListener() {
        let listenersAreActive = false;
        const latestBlockHandler = this.onLatestBlock.bind(this);
        this.on(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TX_EVENTS"].TX_STATUS_UPDATE, ()=>{
            const pendingTxs = this.getPendingTransactions();
            if (!listenersAreActive && pendingTxs.length > 0) {
                this.blockTracker.on("latest", latestBlockHandler);
                listenersAreActive = true;
            } else if (listenersAreActive && !pendingTxs.length) {
                this.blockTracker.removeListener("latest", latestBlockHandler);
                listenersAreActive = false;
            }
        });
    }
    async onLatestBlock(blockNumber) {
        try {
            await this.pendingTxTracker.updatePendingTxs();
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
        }
        try {
            await this.pendingTxTracker.resubmitPendingTxs(blockNumber);
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error(error);
        }
    }
    markNonceDuplicatesDropped(txId) {
        const txMeta = this.getTransaction(txId);
        const { nonce, from } = txMeta.transaction;
        const sameNonceTxs = this.getTransactions({
            searchCriteria: {
                from,
                nonce
            }
        });
        if (!sameNonceTxs.length) return;
        sameNonceTxs.forEach((tx)=>{
            if (tx.id === txId) return;
            this.updateTransactionInState(txMeta, "transactions/pending-tx-tracker#event: tx:confirmed reference to confirmed txHash with same nonce");
            if (tx.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$ITransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStatus"].failed) this.setTxStatusDropped(tx.id);
        });
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/BiconomySmartAccount.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BiconomySmartAccount",
    ()=>BiconomySmartAccount
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$biconomy$2f$toBiconomySmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/permissionless/_esm/accounts/biconomy/toBiconomySmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$constants$2f$address$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/account-abstraction/constants/address.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
;
class BiconomySmartAccount {
    constructor(options){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SMART_ACCOUNT"].BICONOMY);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "options", void 0);
        this.options = options;
    }
    async getSmartAccount(params) {
        var _this$options, _this$options2;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$biconomy$2f$toBiconomySmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toBiconomySmartAccount"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options || {}), {}, {
            entryPoint: {
                address: ((_this$options = this.options) === null || _this$options === void 0 || (_this$options = _this$options.entryPoint) === null || _this$options === void 0 ? void 0 : _this$options.address) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$constants$2f$address$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["entryPoint06Address"],
                version: ((_this$options2 = this.options) === null || _this$options2 === void 0 || (_this$options2 = _this$options2.entryPoint) === null || _this$options2 === void 0 ? void 0 : _this$options2.version) || "0.6"
            }
        }, params), {}, {
            owners: [
                params.walletClient
            ],
            client: params.client
        }));
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/KernelSmartAccount.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "KernelSmartAccount",
    ()=>KernelSmartAccount
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$kernel$2f$toEcdsaKernelSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/permissionless/_esm/accounts/kernel/toEcdsaKernelSmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
class KernelSmartAccount {
    constructor(options){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SMART_ACCOUNT"].KERNEL);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "options", void 0);
        this.options = options;
    }
    async getSmartAccount(params) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$kernel$2f$toEcdsaKernelSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toEcdsaKernelSmartAccount"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options || {}), params), {}, {
            owners: [
                params.walletClient
            ],
            client: params.client
        }));
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/MetamaskSmartAccount.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MetamaskSmartAccount",
    ()=>MetamaskSmartAccount
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$metamask$2f$delegation$2d$toolkit$2f$dist$2f$chunk$2d$NV2Z25GV$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@metamask/delegation-toolkit/dist/chunk-NV2Z25GV.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$metamask$2f$delegation$2d$toolkit$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@metamask/delegation-toolkit/dist/index.mjs [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
class MetamaskSmartAccount {
    constructor(options){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SMART_ACCOUNT"].METAMASK);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "options", void 0);
        this.options = options;
    }
    async getSmartAccount(input) {
        var _this$options, _this$options2, _this$options3, _this$options4, _this$options5, _this$options6, _this$options7, _this$options$multiSi, _this$options8, _this$options9, _this$options$deployS, _this$options0, _this$options$impleme, _this$options1;
        const hybridSignatory = {
            walletClient: input.walletClient,
            webAuthnAccount: (_this$options = this.options) === null || _this$options === void 0 || (_this$options = _this$options.hybridParams) === null || _this$options === void 0 ? void 0 : _this$options.webAuthnAccount,
            keyId: (_this$options2 = this.options) === null || _this$options2 === void 0 || (_this$options2 = _this$options2.hybridParams) === null || _this$options2 === void 0 ? void 0 : _this$options2.keyId
        };
        const multiSigSignatory = [
            {
                walletClient: input.walletClient
            },
            ...((_this$options3 = this.options) === null || _this$options3 === void 0 || (_this$options3 = _this$options3.multiSigParams) === null || _this$options3 === void 0 ? void 0 : _this$options3.additionalSignerWalletClients) || []
        ];
        const [eoaAddress] = await input.walletClient.getAddresses();
        const hybridDeployParams = [
            eoaAddress,
            [
                ...((_this$options4 = this.options) === null || _this$options4 === void 0 || (_this$options4 = _this$options4.hybridParams) === null || _this$options4 === void 0 ? void 0 : _this$options4.p256KeyIds) || []
            ],
            [
                ...((_this$options5 = this.options) === null || _this$options5 === void 0 || (_this$options5 = _this$options5.hybridParams) === null || _this$options5 === void 0 ? void 0 : _this$options5.p256XValues) || []
            ],
            [
                ...((_this$options6 = this.options) === null || _this$options6 === void 0 || (_this$options6 = _this$options6.hybridParams) === null || _this$options6 === void 0 ? void 0 : _this$options6.p256YValues) || []
            ]
        ];
        const multiSigDeployParams = [
            [
                eoaAddress,
                ...((_this$options7 = this.options) === null || _this$options7 === void 0 || (_this$options7 = _this$options7.multiSigParams) === null || _this$options7 === void 0 ? void 0 : _this$options7.additionalSignerAddresses) || []
            ],
            (_this$options$multiSi = (_this$options8 = this.options) === null || _this$options8 === void 0 || (_this$options8 = _this$options8.multiSigParams) === null || _this$options8 === void 0 ? void 0 : _this$options8.threshold) !== null && _this$options$multiSi !== void 0 ? _this$options$multiSi : BigInt(1 + (((_this$options9 = this.options) === null || _this$options9 === void 0 || (_this$options9 = _this$options9.multiSigParams) === null || _this$options9 === void 0 || (_this$options9 = _this$options9.additionalSignerWalletClients) === null || _this$options9 === void 0 ? void 0 : _this$options9.length) || 0))
        ];
        const baseParams = {
            client: input.client,
            deploySalt: (_this$options$deployS = (_this$options0 = this.options) === null || _this$options0 === void 0 ? void 0 : _this$options0.deploySalt) !== null && _this$options$deployS !== void 0 ? _this$options$deployS : "0x0"
        };
        const implementation = (_this$options$impleme = (_this$options1 = this.options) === null || _this$options1 === void 0 ? void 0 : _this$options1.implementation) !== null && _this$options$impleme !== void 0 ? _this$options$impleme : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$metamask$2f$delegation$2d$toolkit$2f$dist$2f$chunk$2d$NV2Z25GV$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Implementation"].Hybrid;
        if (implementation === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$metamask$2f$delegation$2d$toolkit$2f$dist$2f$chunk$2d$NV2Z25GV$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Implementation"].Hybrid) {
            const params = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, baseParams), {}, {
                implementation,
                deployParams: hybridDeployParams,
                signer: hybridSignatory
            });
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$metamask$2f$delegation$2d$toolkit$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["toMetaMaskSmartAccount"])(params);
        } else if (implementation === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$metamask$2f$delegation$2d$toolkit$2f$dist$2f$chunk$2d$NV2Z25GV$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Implementation"].MultiSig) {
            const params = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, baseParams), {}, {
                implementation,
                deployParams: multiSigDeployParams,
                signer: multiSigSignatory
            });
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$metamask$2f$delegation$2d$toolkit$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["toMetaMaskSmartAccount"])(params);
        } else {
            throw new Error(`MetamaskSmartAccount - unsupported implementation: ${implementation}`);
        }
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/NexusSmartAccount.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NexusSmartAccount",
    ()=>NexusSmartAccount
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$nexus$2f$toNexusSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/permissionless/_esm/accounts/nexus/toNexusSmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$constants$2f$address$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/account-abstraction/constants/address.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
;
class NexusSmartAccount {
    constructor(options){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SMART_ACCOUNT"].NEXUS);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "options", void 0);
        this.options = options;
    }
    async getSmartAccount(params) {
        var _this$options, _this$options2, _this$options3;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$nexus$2f$toNexusSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toNexusSmartAccount"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options || {}), {}, {
            entryPoint: {
                address: ((_this$options = this.options) === null || _this$options === void 0 || (_this$options = _this$options.entryPoint) === null || _this$options === void 0 ? void 0 : _this$options.address) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$constants$2f$address$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["entryPoint07Address"],
                version: ((_this$options2 = this.options) === null || _this$options2 === void 0 || (_this$options2 = _this$options2.entryPoint) === null || _this$options2 === void 0 ? void 0 : _this$options2.version) || "0.7"
            },
            version: ((_this$options3 = this.options) === null || _this$options3 === void 0 ? void 0 : _this$options3.version) || "1.0.0"
        }, params), {}, {
            owners: [
                params.walletClient
            ],
            client: params.client
        }));
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/SafeSmartAccount.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SafeSmartAccount",
    ()=>SafeSmartAccount
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$safe$2f$toSafeSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/permissionless/_esm/accounts/safe/toSafeSmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$constants$2f$address$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/account-abstraction/constants/address.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
;
class SafeSmartAccount {
    constructor(options){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SMART_ACCOUNT"].SAFE);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "options", void 0);
        this.options = options;
    }
    async getSmartAccount(params) {
        var _this$options, _this$options2, _this$options3;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$safe$2f$toSafeSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toSafeSmartAccount"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options || {}), {}, {
            entryPoint: {
                address: ((_this$options = this.options) === null || _this$options === void 0 || (_this$options = _this$options.entryPoint) === null || _this$options === void 0 ? void 0 : _this$options.address) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$constants$2f$address$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["entryPoint07Address"],
                version: ((_this$options2 = this.options) === null || _this$options2 === void 0 || (_this$options2 = _this$options2.entryPoint) === null || _this$options2 === void 0 ? void 0 : _this$options2.version) || "0.7"
            },
            version: ((_this$options3 = this.options) === null || _this$options3 === void 0 ? void 0 : _this$options3.version) || "1.4.1"
        }, params), {}, {
            owners: [
                params.walletClient
            ],
            client: params.client
        }));
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/TrustSmartAccount.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TrustSmartAccount",
    ()=>TrustSmartAccount
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$trust$2f$toTrustSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/permissionless/_esm/accounts/trust/toTrustSmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$constants$2f$address$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/account-abstraction/constants/address.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
;
;
;
;
;
class TrustSmartAccount {
    constructor(options){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SMART_ACCOUNT"].TRUST);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "options", void 0);
        this.options = options;
    }
    async getSmartAccount(params) {
        var _this$options, _this$options2;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$permissionless$2f$_esm$2f$accounts$2f$trust$2f$toTrustSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toTrustSmartAccount"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options || {}), {}, {
            entryPoint: {
                address: ((_this$options = this.options) === null || _this$options === void 0 || (_this$options = _this$options.entryPoint) === null || _this$options === void 0 ? void 0 : _this$options.address) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$account$2d$abstraction$2f$constants$2f$address$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["entryPoint06Address"],
                version: ((_this$options2 = this.options) === null || _this$options2 === void 0 || (_this$options2 = _this$options2.entryPoint) === null || _this$options2 === void 0 ? void 0 : _this$options2.version) || "0.6"
            }
        }, params), {}, {
            owner: params.walletClient,
            client: params.client
        }));
    }
}
;
}),
"[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ARBITRUM_MAINNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ARBITRUM_MAINNET_CHAIN_ID"],
    "ARBITRUM_TESTNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ARBITRUM_TESTNET_CHAIN_ID"],
    "AVALANCHE_MAINNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AVALANCHE_MAINNET_CHAIN_ID"],
    "AVALANCHE_TESTNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AVALANCHE_TESTNET_CHAIN_ID"],
    "AccountAbstractionController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$AccountAbstractionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AccountAbstractionController"],
    "AccountTrackerController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Account$2f$AccountTrackerController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AccountTrackerController"],
    "AddChainController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AddChainController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AddChainController"],
    "BASE_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BASE_CHAIN_ID"],
    "BASE_TESTNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BASE_TESTNET_CHAIN_ID"],
    "BNToHex",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BNToHex"],
    "BSC_MAINNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BSC_MAINNET_CHAIN_ID"],
    "BSC_TESTNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BSC_TESTNET_CHAIN_ID"],
    "BUNDLER_METHOD_TYPES",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUNDLER_METHOD_TYPES"],
    "BiconomySmartAccount",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$BiconomySmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BiconomySmartAccount"],
    "CELO_MAINNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CELO_MAINNET_CHAIN_ID"],
    "CHAIN_ID_TO_GAS_LIMIT_BUFFER_MAP",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_ID_TO_GAS_LIMIT_BUFFER_MAP"],
    "COINGECKO_PLATFORMS_CHAIN_CODE_MAP",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["COINGECKO_PLATFORMS_CHAIN_CODE_MAP"],
    "COINGECKO_SUPPORTED_CURRENCIES",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["COINGECKO_SUPPORTED_CURRENCIES"],
    "CONTRACT_TYPE_ERC1155",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC1155"],
    "CONTRACT_TYPE_ERC20",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC20"],
    "CONTRACT_TYPE_ERC721",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ERC721"],
    "CONTRACT_TYPE_ETH",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONTRACT_TYPE_ETH"],
    "CurrencyController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Currency$2f$CurrencyController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CurrencyController"],
    "DEFAULT_CURRENCY",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Tokens$2f$TokenRatesController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DEFAULT_CURRENCY"],
    "ERC1155_INTERFACE_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ERC1155_INTERFACE_ID"],
    "ERC721_ENUMERABLE_INTERFACE_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ERC721_ENUMERABLE_INTERFACE_ID"],
    "ERC721_INTERFACE_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ERC721_INTERFACE_ID"],
    "ERC721_METADATA_INTERFACE_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ERC721_METADATA_INTERFACE_ID"],
    "GAS_ESTIMATE_TYPES",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_ESTIMATE_TYPES"],
    "GAS_LIMITS",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GAS_LIMITS"],
    "GasFeeController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Gas$2f$GasFeeController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GasFeeController"],
    "KernelSmartAccount",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$KernelSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KernelSmartAccount"],
    "KeyringController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Keyring$2f$KeyringController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyringController"],
    "LINEA_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LINEA_CHAIN_ID"],
    "LINEA_SEPOLIA_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LINEA_SEPOLIA_CHAIN_ID"],
    "LOCALHOST",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LOCALHOST"],
    "MAINNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MAINNET_CHAIN_ID"],
    "METHOD_TYPES",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["METHOD_TYPES"],
    "MM_NFT_API_SUPPORTED_CHAINS",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MM_NFT_API_SUPPORTED_CHAINS"],
    "MM_TOKEN_API_SUPPORTED_CHAINS",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MM_TOKEN_API_SUPPORTED_CHAINS"],
    "MessageController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$MessageController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MessageController"],
    "MetamaskSmartAccount",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$MetamaskSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MetamaskSmartAccount"],
    "NetworkController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$NetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NetworkController"],
    "NexusSmartAccount",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$NexusSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NexusSmartAccount"],
    "NftHandler",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Nfts$2f$NftHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NftHandler"],
    "NftsController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Nfts$2f$NftsController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NftsController"],
    "NonceTracker",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$NonceTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NonceTracker"],
    "OLD_ERC721_LIST",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["OLD_ERC721_LIST"],
    "OPTIMISM_MAINNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["OPTIMISM_MAINNET_CHAIN_ID"],
    "OPTIMISM_TESTNET_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["OPTIMISM_TESTNET_CHAIN_ID"],
    "PAYMASTER_METHOD_TYPES",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PAYMASTER_METHOD_TYPES"],
    "POLYGON_AMOY_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["POLYGON_AMOY_CHAIN_ID"],
    "POLYGON_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["POLYGON_CHAIN_ID"],
    "PendingTransactionTracker",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$PendingTransactionTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PendingTransactionTracker"],
    "PersonalMessageController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$PersonalMessageController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PersonalMessageController"],
    "PollingBlockTracker",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Block$2f$PollingBlockTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PollingBlockTracker"],
    "PreferencesController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Preferences$2f$PreferencesController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PreferencesController"],
    "SEPOLIA_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SEPOLIA_CHAIN_ID"],
    "SMART_ACCOUNT",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SMART_ACCOUNT"],
    "SUPPORTED_NETWORKS",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPORTED_NETWORKS"],
    "SafeSmartAccount",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$SafeSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SafeSmartAccount"],
    "SwitchChainController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$SwitchChainController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SwitchChainController"],
    "TEST_CHAINS",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TEST_CHAINS"],
    "TRANSACTION_ENVELOPE_TYPES",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TRANSACTION_ENVELOPE_TYPES"],
    "TokenHandler",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Tokens$2f$TokenHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TokenHandler"],
    "TokenRatesController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Tokens$2f$TokenRatesController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TokenRatesController"],
    "TokensController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Tokens$2f$TokensController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TokensController"],
    "TransactionController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionController"],
    "TransactionGasUtil",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionGasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionGasUtil"],
    "TransactionStateManager",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TransactionStateManager"],
    "TrustSmartAccount",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$TrustSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TrustSmartAccount"],
    "TypedMessageController",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$TypedMessageController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TypedMessageController"],
    "XDAI_CHAIN_ID",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["XDAI_CHAIN_ID"],
    "addCurrencies",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addCurrencies"],
    "addEtherscanTransactions",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addEtherscanTransactions"],
    "bnLessThan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bnLessThan"],
    "conversionGTE",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["conversionGTE"],
    "conversionGreaterThan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["conversionGreaterThan"],
    "conversionLTE",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["conversionLTE"],
    "conversionLessThan",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["conversionLessThan"],
    "conversionMax",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["conversionMax"],
    "conversionUtil",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["conversionUtil"],
    "createAAMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAAMiddleware"],
    "createChainIdMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createJsonRpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createChainIdMiddleware"],
    "createEthereumMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createEthereumMiddleware"],
    "createGetAccountsMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createGetAccountsMiddleware"],
    "createJsonRpcClient",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createJsonRpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createJsonRpcClient"],
    "createPendingNonceMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createPendingNonceMiddleware"],
    "createPendingTxMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createPendingTxMiddleware"],
    "createProcessAddEthereumChain",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProcessAddEthereumChain"],
    "createProcessEstimateUserOperationGasMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProcessEstimateUserOperationGasMiddleware"],
    "createProcessEthSignMessage",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProcessEthSignMessage"],
    "createProcessPersonalMessage",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProcessPersonalMessage"],
    "createProcessSignTransactionMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProcessSignTransactionMiddleware"],
    "createProcessSwitchEthereumChain",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProcessSwitchEthereumChain"],
    "createProcessTransactionMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProcessTransactionMiddleware"],
    "createProcessTypedMessageV4",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProcessTypedMessageV4"],
    "createProcessWalletSwitchChain",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProcessWalletSwitchChain"],
    "createProviderConfigMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createJsonRpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createProviderConfigMiddleware"],
    "createRequestAccountsMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createRequestAccountsMiddleware"],
    "decGWEIToHexWEI",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decGWEIToHexWEI"],
    "determineTransactionType",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["determineTransactionType"],
    "ensureFieldIsString",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ensureFieldIsString"],
    "ensureMutuallyExclusiveFieldsNotProvided",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ensureMutuallyExclusiveFieldsNotProvided"],
    "eoaInterceptorMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$AccountAbstractionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["eoaInterceptorMiddleware"],
    "eoaProviderAsMiddleware",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$AccountAbstractionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["eoaProviderAsMiddleware"],
    "erc1155Abi",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc1155Abi"],
    "erc20Abi",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc20Abi"],
    "erc721Abi",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["erc721Abi"],
    "formatDate",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatDate"],
    "formatPastTx",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPastTx"],
    "formatTime",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatTime"],
    "formatTxMetaForRpcResult",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatTxMetaForRpcResult"],
    "generateHistoryEntry",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateHistoryHelper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateHistoryEntry"],
    "getBigNumber",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getBigNumber"],
    "getChainType",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getChainType"],
    "getEthTxStatus",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getEthTxStatus"],
    "getEtherScanHashLink",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getEtherScanHashLink"],
    "getFinalStates",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getFinalStates"],
    "getIpfsEndpoint",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getIpfsEndpoint"],
    "hexToBn",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexToBn"],
    "hexWEIToDecGWEI",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["hexWEIToDecGWEI"],
    "isAddressByChainId",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isAddressByChainId"],
    "isEIP1559Transaction",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isEIP1559Transaction"],
    "isLegacyTransaction",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isLegacyTransaction"],
    "multiplyCurrencies",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["multiplyCurrencies"],
    "normalizeAndValidateTxParams",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["normalizeAndValidateTxParams"],
    "normalizeMessageData",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["normalizeMessageData"],
    "normalizeTxParameters",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["normalizeTxParameters"],
    "parseStandardTokenTransactionData",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseStandardTokenTransactionData"],
    "readAddressAsContract",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["readAddressAsContract"],
    "replayHistory",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateHistoryHelper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["replayHistory"],
    "sanitizeNftMetdataUrl",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sanitizeNftMetdataUrl"],
    "singleBalanceCheckerAbi",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["singleBalanceCheckerAbi"],
    "snapshotFromTxMeta",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateHistoryHelper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["snapshotFromTxMeta"],
    "subtractCurrencies",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["subtractCurrencies"],
    "toChecksumAddressByChainId",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toChecksumAddressByChainId"],
    "toNegative",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toNegative"],
    "transactionMatchesNetwork",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["transactionMatchesNetwork"],
    "validateAddChainData",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateAddChainData"],
    "validateAddress",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateAddress"],
    "validateFrom",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateFrom"],
    "validateRecipient",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateRecipient"],
    "validateSignMessageData",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateSignMessageData"],
    "validateSwitchChainData",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateSwitchChainData"],
    "validateTxParameters",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateTxParameters"],
    "validateTypedSignMessageDataV4",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["validateTypedSignMessageDataV4"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Account$2f$AccountTrackerController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Account/AccountTrackerController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$AccountAbstractionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/AccountAbstractionController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Block$2f$PollingBlockTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Block/PollingBlockTracker.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Currency$2f$CurrencyController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Currency/CurrencyController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Gas$2f$GasFeeController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Gas/GasFeeController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Keyring$2f$KeyringController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Keyring/KeyringController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$AddChainController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/AddChainController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$MessageController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/MessageController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$PersonalMessageController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/PersonalMessageController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$SwitchChainController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/SwitchChainController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$TypedMessageController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/TypedMessageController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Message$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Message/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createEthereumMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/createEthereumMiddleware.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createJsonRpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/createJsonRpcClient.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$NetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Network/NetworkController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Nfts$2f$NftHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Nfts/NftHandler.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Nfts$2f$NftsController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Nfts/NftsController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Preferences$2f$PreferencesController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Preferences/PreferencesController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Tokens$2f$TokenHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Tokens/TokenHandler.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Tokens$2f$TokenRatesController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Tokens/TokenRatesController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Tokens$2f$TokensController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Tokens/TokensController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$NonceTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/NonceTracker.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$PendingTransactionTracker$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/PendingTransactionTracker.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionGasUtil$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionGasUtil.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateHistoryHelper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionStateHistoryHelper.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionStateManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionStateManager.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Transaction$2f$TransactionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/Transaction/TransactionUtils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$abis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/abis.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$conversionUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/conversionUtils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/utils/helpers.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$BiconomySmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/BiconomySmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$KernelSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/KernelSmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$MetamaskSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/MetamaskSmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$NexusSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/NexusSmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$SafeSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/SafeSmartAccount.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$ethereum$2d$controllers$2f$dist$2f$lib$2e$esm$2f$AccountAbstraction$2f$smartAccounts$2f$TrustSmartAccount$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/ethereum-controllers/dist/lib.esm/AccountAbstraction/smartAccounts/TrustSmartAccount.js [app-client] (ecmascript)");
}),
]);

//# sourceMappingURL=node_modules_%40toruslabs_ethereum-controllers_dist_lib_esm_2d1d20df._.js.map