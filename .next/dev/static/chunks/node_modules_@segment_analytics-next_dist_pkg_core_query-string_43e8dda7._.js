(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/query-string/pickPrefix.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Returns an object containing only the properties prefixed by the input
 * string.
 * Ex: prefix('ajs_traits_', { ajs_traits_address: '123 St' })
 * will return { address: '123 St' }
 **/ __turbopack_context__.s([
    "pickPrefix",
    ()=>pickPrefix
]);
function pickPrefix(prefix, object) {
    return Object.keys(object).reduce(function(acc, key) {
        if (key.startsWith(prefix)) {
            var field = key.substr(prefix.length);
            acc[field] = object[key];
        }
        return acc;
    }, {});
} //# sourceMappingURL=pickPrefix.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/query-string/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "queryString",
    ()=>queryString
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$query$2d$string$2f$pickPrefix$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/query-string/pickPrefix.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$query$2d$string$2f$gracefulDecodeURIComponent$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/query-string/gracefulDecodeURIComponent.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/validation/helpers.js [app-client] (ecmascript)");
;
;
;
function queryString(analytics, query) {
    var a = document.createElement('a');
    a.href = query;
    var parsed = a.search.slice(1);
    var params = parsed.split('&').reduce(function(acc, str) {
        var _a = str.split('='), k = _a[0], v = _a[1];
        acc[k] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$query$2d$string$2f$gracefulDecodeURIComponent$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["gracefulDecodeURIComponent"])(v);
        return acc;
    }, {});
    var calls = [];
    var ajs_uid = params.ajs_uid, ajs_event = params.ajs_event, ajs_aid = params.ajs_aid;
    var _a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(analytics.options.useQueryString) ? analytics.options.useQueryString : {}, _b = _a.aid, aidPattern = _b === void 0 ? /.+/ : _b, _c = _a.uid, uidPattern = _c === void 0 ? /.+/ : _c;
    if (ajs_aid) {
        var anonId = Array.isArray(params.ajs_aid) ? params.ajs_aid[0] : params.ajs_aid;
        if (aidPattern.test(anonId)) {
            analytics.setAnonymousId(anonId);
        }
    }
    if (ajs_uid) {
        var uid = Array.isArray(params.ajs_uid) ? params.ajs_uid[0] : params.ajs_uid;
        if (uidPattern.test(uid)) {
            var traits = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$query$2d$string$2f$pickPrefix$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pickPrefix"])('ajs_trait_', params);
            calls.push(analytics.identify(uid, traits));
        }
    }
    if (ajs_event) {
        var event_1 = Array.isArray(params.ajs_event) ? params.ajs_event[0] : params.ajs_event;
        var props = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$query$2d$string$2f$pickPrefix$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pickPrefix"])('ajs_prop_', params);
        calls.push(analytics.track(event_1, props));
    }
    return Promise.all(calls);
} //# sourceMappingURL=index.js.map
}),
]);

//# sourceMappingURL=node_modules_%40segment_analytics-next_dist_pkg_core_query-string_43e8dda7._.js.map