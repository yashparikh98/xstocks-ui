(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([]);
;
;
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/config.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "DEFAULT_EIP155_METHODS",
    ()=>DEFAULT_EIP155_METHODS,
    "DEFAULT_EIP_155_EVENTS",
    ()=>DEFAULT_EIP_155_EVENTS,
    "DEFAULT_SOLANA_EVENTS",
    ()=>DEFAULT_SOLANA_EVENTS,
    "DEFAULT_SOLANA_METHODS",
    ()=>DEFAULT_SOLANA_METHODS,
    "getNamespacesFromChains",
    ()=>getNamespacesFromChains,
    "getRequiredNamespaces",
    ()=>getRequiredNamespaces,
    "getSupportedEventsByNamespace",
    ()=>getSupportedEventsByNamespace,
    "getSupportedMethodsByNamespace",
    ()=>getSupportedMethodsByNamespace,
    "getWalletConnectV2Settings",
    ()=>getWalletConnectV2Settings
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-client] (ecmascript)");
;
;
;
let DEFAULT_EIP155_METHODS = /*#__PURE__*/ function(DEFAULT_EIP155_METHODS) {
    DEFAULT_EIP155_METHODS["ETH_SEND_TRANSACTION"] = "eth_sendTransaction";
    DEFAULT_EIP155_METHODS["ETH_SIGN_TRANSACTION"] = "eth_signTransaction";
    DEFAULT_EIP155_METHODS["ETH_SIGN"] = "eth_sign";
    DEFAULT_EIP155_METHODS["PERSONAL_SIGN"] = "personal_sign";
    DEFAULT_EIP155_METHODS["ETH_SIGN_TYPED_DATA"] = "eth_signTypedData";
    DEFAULT_EIP155_METHODS["ETH_SIGN_TYPED_DATA_V3"] = "eth_signTypedData_v3";
    DEFAULT_EIP155_METHODS["ETH_SIGN_TYPED_DATA_V4"] = "eth_signTypedData_v4";
    DEFAULT_EIP155_METHODS["ADD_ETHEREUM_CHAIN"] = "wallet_addEthereumChain";
    DEFAULT_EIP155_METHODS["SWITCH_ETHEREUM_CHAIN"] = "wallet_switchEthereumChain";
    return DEFAULT_EIP155_METHODS;
}({});
let DEFAULT_SOLANA_METHODS = /*#__PURE__*/ function(DEFAULT_SOLANA_METHODS) {
    DEFAULT_SOLANA_METHODS["SIGN_TRANSACTION"] = "solana_signTransaction";
    DEFAULT_SOLANA_METHODS["SIGN_MESSAGE"] = "solana_signMessage";
    return DEFAULT_SOLANA_METHODS;
}({});
let DEFAULT_EIP_155_EVENTS = /*#__PURE__*/ function(DEFAULT_EIP_155_EVENTS) {
    DEFAULT_EIP_155_EVENTS["ETH_CHAIN_CHANGED"] = "chainChanged";
    DEFAULT_EIP_155_EVENTS["ETH_ACCOUNTS_CHANGED"] = "accountsChanged";
    return DEFAULT_EIP_155_EVENTS;
}({});
let DEFAULT_SOLANA_EVENTS = /*#__PURE__*/ function(DEFAULT_SOLANA_EVENTS) {
    DEFAULT_SOLANA_EVENTS["SOL_CHAIN_CHANGED"] = "chainChanged";
    DEFAULT_SOLANA_EVENTS["SOL_ACCOUNTS_CHANGED"] = "accountsChanged";
    return DEFAULT_SOLANA_EVENTS;
}({});
/**
 * Gets site metadata and returns it
 *
 */ const getSiteMetadata = async ()=>({
        name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSiteName"])(window),
        icon: await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSiteIcon"])(window)
    });
const getNamespacesFromChains = (chains)=>{
    const supportedNamespaces = [];
    chains.forEach((chainId)=>{
        const [namespace] = chainId.split(":");
        if (!supportedNamespaces.includes(namespace)) {
            supportedNamespaces.push(namespace);
        }
    });
    return supportedNamespaces;
};
const getSupportedMethodsByNamespace = (namespace)=>{
    switch(namespace){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155:
            return Object.values(DEFAULT_EIP155_METHODS);
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA:
            return Object.values(DEFAULT_SOLANA_METHODS);
        default:
            throw new Error(`No default methods for namespace: ${namespace}`);
    }
};
const getSupportedEventsByNamespace = (namespace)=>{
    switch(namespace){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155:
            return Object.values(DEFAULT_EIP_155_EVENTS);
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA:
            return Object.values(DEFAULT_SOLANA_EVENTS);
        default:
            throw new Error(`No default events for namespace: ${namespace}`);
    }
};
const getRequiredNamespaces = (chains)=>{
    const selectedNamespaces = getNamespacesFromChains(chains);
    return Object.fromEntries(selectedNamespaces.map((namespace)=>[
            namespace,
            {
                methods: getSupportedMethodsByNamespace(namespace),
                chains: chains.filter((chain)=>chain.startsWith(namespace)),
                events: getSupportedEventsByNamespace(namespace)
            }
        ]));
};
const getWalletConnectV2Settings = async (chains, projectID)=>{
    const appMetadata = await getSiteMetadata();
    const connectorSettings = {
        walletConnectInitOptions: {
            projectId: projectID,
            relayUrl: "wss://relay.walletconnect.com",
            metadata: {
                name: appMetadata.name,
                description: appMetadata.name,
                url: window.location.origin,
                icons: [
                    appMetadata.icon || ""
                ]
            }
        }
    };
    const chainNamespaces = chains.map((chain)=>{
        if (chain.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA) {
            return `${chain.chainNamespace}:${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_CAIP_CHAIN_MAP"][chain.chainId]}`;
        } else if (chain.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155) {
            return `${chain.chainNamespace}:${parseInt(chain.chainId, 16)}`;
        }
        throw new Error(`Unsupported chain namespace: ${chain.chainNamespace}`);
    });
    const loginSettings = {
        optionalNamespaces: getRequiredNamespaces(chainNamespaces)
    };
    return {
        connectorSettings,
        loginSettings
    };
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/utils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "formatChainId",
    ()=>formatChainId
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
;
const formatChainId = (chainId)=>{
    if (typeof chainId === "number") {
        return `0x${chainId.toString(16)}`;
    } else if (typeof chainId === "string") {
        return chainId.startsWith("0x") ? chainId : `0x${parseInt(chainId, 10).toString(16)}`;
    }
    throw new Error(`Invalid chainId: ${chainId}`);
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/walletConnectV2Utils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "addChain",
    ()=>addChain,
    "getAccounts",
    ()=>getAccounts,
    "getEthProviderHandlers",
    ()=>getEthProviderHandlers,
    "getSolProviderHandlers",
    ()=>getSolProviderHandlers,
    "sendJrpcRequest",
    ()=>sendJrpcRequest,
    "switchChain",
    ()=>switchChain
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/compiled/buffer/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$bs58$2f$dist$2f$lib$2e$esm$2f$bs58$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/bs58/dist/lib.esm/bs58.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@walletconnect/utils/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/ws-embed/dist/lib.esm/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/constants.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
async function getLastActiveSession(signClient) {
    if (signClient.session.length) {
        const lastKeyIndex = signClient.session.keys.length - 1;
        return signClient.session.get(signClient.session.keys[lastKeyIndex]);
    }
    return null;
}
function isMobileDevice() {
    return /Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent);
}
function isSolanaChain(chainId) {
    return chainId.startsWith("solana:");
}
async function sendJrpcRequest(signClient, chainId, method, params) {
    const session = await getLastActiveSession(signClient);
    if (!session) {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerErrors"].disconnected();
    }
    if (typeof window !== "undefined" && isMobileDevice()) {
        if (session.peer.metadata.redirect && session.peer.metadata.redirect.native) {
            window.open(session.peer.metadata.redirect.native, "_blank");
        }
    }
    return signClient.request({
        topic: session.topic,
        chainId,
        request: {
            method,
            params: isSolanaChain(chainId) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, params), {}, {
                pubkey: session.self.publicKey
            }) : params
        }
    });
}
async function getAccounts(signClient) {
    const session = await getLastActiveSession(signClient);
    if (!session) {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerErrors"].disconnected();
    }
    const accounts = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getAccountsFromNamespaces"])(session.namespaces);
    if (accounts && accounts.length) {
        return [
            ...new Set(accounts.map((add)=>{
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseAccountId"])(add).address;
            }))
        ];
    }
    throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Failed to get accounts");
}
function getEthProviderHandlers({ connector, chainId }) {
    return {
        getPrivateKey: async ()=>{
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        },
        getPublicKey: async ()=>{
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        },
        getAccounts: async (_)=>{
            return getAccounts(connector);
        },
        processTransaction: async (txParams, _)=>{
            const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EVM_METHOD_TYPES"].ETH_TRANSACTION, [
                txParams
            ]);
            return methodRes;
        },
        processSignTransaction: async (txParams, _)=>{
            const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, "eth_signTransaction", [
                txParams
            ]);
            return methodRes;
        },
        processEthSignMessage: async (msgParams, _)=>{
            const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EVM_METHOD_TYPES"].ETH_SIGN, [
                msgParams.from,
                msgParams.data
            ]);
            return methodRes;
        },
        processPersonalMessage: async (msgParams, _)=>{
            const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EVM_METHOD_TYPES"].PERSONAL_SIGN, [
                msgParams.data,
                msgParams.from
            ]);
            return methodRes;
        },
        processTypedMessageV4: async (msgParams)=>{
            const methodRes = await sendJrpcRequest(connector, `eip155:${chainId}`, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EVM_METHOD_TYPES"].ETH_SIGN_TYPED_DATA_V4, [
                msgParams.from,
                msgParams.data
            ]);
            return methodRes;
        }
    };
}
function getSolProviderHandlers({ connector, chainId }) {
    return {
        requestAccounts: async (_)=>{
            return getAccounts(connector);
        },
        getPrivateKey: async ()=>{
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        },
        getSecretKey: async ()=>{
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        },
        getPublicKey: async ()=>{
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        },
        getAccounts: async (_)=>{
            return getAccounts(connector);
        },
        signAllTransactions: async (_)=>{
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        },
        signAndSendTransaction: async (_)=>{
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        },
        signMessage: async (req)=>{
            const methodRes = await sendJrpcRequest(connector, `solana:${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_CAIP_CHAIN_MAP"][chainId]}`, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].SIGN_MESSAGE, {
                message: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$bs58$2f$dist$2f$lib$2e$esm$2f$bs58$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bs58"].encode(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(req.params.data, "utf-8"))
            });
            return methodRes.signature;
        },
        signTransaction: async (req)=>{
            const accounts = await getAccounts(connector);
            if (accounts.length === 0) {
                throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerErrors"].disconnected();
            }
            const methodRes = await sendJrpcRequest(connector, `solana:${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_CAIP_CHAIN_MAP"][chainId]}`, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].SIGN_TRANSACTION, {
                transaction: req.params.message
            });
            return methodRes.signature;
        }
    };
}
async function switchChain({ connector, chainId, newChainId }) {
    await sendJrpcRequest(connector, `eip155:${chainId}`, "wallet_switchEthereumChain", [
        {
            chainId: newChainId
        }
    ]);
}
async function addChain({ connector, chainId, chainConfig }) {
    if (!chainConfig) {
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerErrors"].custom({
            message: "Chain config is required",
            code: 4902
        });
    }
    const formattedChainId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatChainId"])(chainConfig.chainId);
    const formattedChainConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, chainConfig), {}, {
        chainId: formattedChainId
    });
    await sendJrpcRequest(connector, `eip155:${chainId}`, "wallet_addEthereumChain", [
        formattedChainConfig
    ]);
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/ethereum-provider/rpc/walletMidddleware.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createWalletMiddleware",
    ()=>createWalletMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpc.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-client] (ecmascript)");
;
;
function createWalletMiddleware({ getAccounts, getPrivateKey, getPublicKey, processEthSignMessage, processPersonalMessage, processTransaction, processSignTransaction, processTypedMessageV4 }) {
    if (!getAccounts) {
        throw new Error("opts.getAccounts is required");
    }
    //
    // utility
    //
    /**
   * Validates the keyholder address, and returns a normalized (i.e. lowercase)
   * copy of it.
   *
   * an error
   */ async function validateAndNormalizeKeyholder(address, req) {
        if (typeof address === "string" && address.length > 0) {
            // ensure address is included in provided accounts
            const accounts = await getAccounts(req);
            const normalizedAccounts = accounts.map((_address)=>_address.toLowerCase());
            const normalizedAddress = address.toLowerCase();
            if (normalizedAccounts.includes(normalizedAddress)) {
                return normalizedAddress;
            }
        }
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams({
            message: `Invalid parameters: must provide an Ethereum address.`
        });
    }
    //
    // account lookups
    //
    async function lookupAccounts(req, res) {
        res.result = await getAccounts(req);
    }
    //
    // transaction signatures
    //
    async function sendTransaction(req, res) {
        if (!processTransaction) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        }
        const txParams = req.params[0] || {
            from: ""
        };
        txParams.from = await validateAndNormalizeKeyholder(txParams.from, req);
        res.result = await processTransaction(txParams, req);
    }
    async function signTransaction(req, res) {
        if (!processSignTransaction) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        }
        const txParams = req.params[0] || {
            from: ""
        };
        txParams.from = await validateAndNormalizeKeyholder(txParams.from, req);
        res.result = await processSignTransaction(txParams, req);
    }
    //
    // message signatures
    //
    async function ethSign(req, res) {
        if (!processEthSignMessage) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        }
        let msgParams = req.params;
        const extraParams = req.params[2] || {};
        if (Array.isArray(req.params)) {
            if (!(req.params.length === 2)) throw new Error(`WalletMiddleware - incorrect params for ${req.method} method. expected [address, message]`);
            const params = req.params;
            const address = params[0];
            const message = params[1];
            msgParams = {
                from: address,
                data: message
            };
        }
        msgParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, extraParams), msgParams);
        res.result = await processEthSignMessage(msgParams, req);
    }
    async function signTypedDataV4(req, res) {
        if (!processTypedMessageV4) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        }
        if (!(req !== null && req !== void 0 && req.params)) throw new Error("WalletMiddleware - missing params");
        let msgParams = req.params;
        if (Array.isArray(req.params)) {
            if (!(req.params.length === 2)) throw new Error(`WalletMiddleware - incorrect params for ${req.method} method. expected [address, typedData]`);
            const params = req.params;
            const address = params[0];
            const message = params[1];
            msgParams = {
                from: address,
                data: message
            };
        }
        res.result = await processTypedMessageV4(msgParams, req);
    }
    async function personalSign(req, res) {
        if (!processPersonalMessage) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        }
        let msgParams = req.params;
        const extraParams = req.params[2] || {};
        if (Array.isArray(req.params)) {
            if (!(req.params.length >= 2)) throw new Error(`WalletMiddleware - incorrect params for ${req.method} method. expected [message, address]`);
            const params = req.params;
            if (typeof params[0] === "object") {
                const { challenge, address } = params[0];
                msgParams = {
                    from: address,
                    data: challenge
                };
            } else {
                const message = params[0];
                const address = params[1];
                msgParams = {
                    from: address,
                    data: message
                };
            }
        }
        msgParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, extraParams), msgParams);
        res.result = await processPersonalMessage(msgParams, req);
    }
    async function fetchPrivateKey(req, res) {
        if (!getPrivateKey) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        }
        res.result = await getPrivateKey(req);
    }
    async function fetchPublicKey(req, res) {
        if (!getPublicKey) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].methodNotSupported();
        }
        res.result = await getPublicKey(req);
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createScaffoldMiddleware"])({
        // account lookups
        eth_accounts: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(lookupAccounts),
        eth_requestAccounts: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(lookupAccounts),
        eth_private_key: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(fetchPrivateKey),
        eth_public_key: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(fetchPublicKey),
        public_key: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(fetchPublicKey),
        private_key: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(fetchPrivateKey),
        // tx signatures
        eth_sendTransaction: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(sendTransaction),
        eth_signTransaction: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(signTransaction),
        // message signatures
        eth_sign: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(ethSign),
        eth_signTypedData_v4: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(signTypedDataV4),
        personal_sign: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(personalSign)
    });
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/ethereum-provider/rpc/ethRpcMiddlewares.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createEthChainSwitchMiddleware",
    ()=>createEthChainSwitchMiddleware,
    "createEthMiddleware",
    ()=>createEthMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpc.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$ethereum$2d$provider$2f$rpc$2f$walletMidddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/ethereum-provider/rpc/walletMidddleware.js [app-client] (ecmascript)");
;
;
function createEthMiddleware(providerHandlers) {
    const { getAccounts, getPrivateKey, getPublicKey, processTransaction, processSignTransaction, processEthSignMessage, processTypedMessageV4, processPersonalMessage } = providerHandlers;
    const ethMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])([
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createScaffoldMiddleware"])({
            eth_syncing: false
        }),
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$ethereum$2d$provider$2f$rpc$2f$walletMidddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createWalletMiddleware"])({
            getAccounts,
            getPrivateKey,
            getPublicKey,
            processTransaction,
            processEthSignMessage,
            processSignTransaction,
            processTypedMessageV4,
            processPersonalMessage
        })
    ]);
    return ethMiddleware;
}
function createEthChainSwitchMiddleware({ switchChain, addChain }) {
    async function updateChain(req, res) {
        var _req$params;
        const chainParams = (_req$params = req.params) !== null && _req$params !== void 0 && _req$params.length ? req.params[0] : undefined;
        if (!chainParams) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams("Missing chainId");
        res.result = await switchChain(chainParams);
    }
    async function addChainConfig(req, res) {
        var _req$params2;
        const chainConfig = (_req$params2 = req.params) !== null && _req$params2 !== void 0 && _req$params2.length ? req.params[0] : undefined;
        if (!chainConfig) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].invalidParams("Missing chainConfig");
        res.result = await addChain(chainConfig);
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createScaffoldMiddleware"])({
        wallet_switchEthereumChain: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(updateChain),
        wallet_addEthereumChain: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(addChainConfig)
    });
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/ethereum-provider/rpc/jrpcClient.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createEthChainIdMiddleware",
    ()=>createEthChainIdMiddleware,
    "createEthJsonRpcClient",
    ()=>createEthJsonRpcClient,
    "createEthProviderConfigMiddleware",
    ()=>createEthProviderConfigMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createFetchMiddleware.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)");
;
;
function createEthChainIdMiddleware(chainId) {
    return (req, res, next, end)=>{
        if (req.method === "eth_chainId") {
            res.result = chainId;
            return end();
        }
        return next();
    };
}
function createEthProviderConfigMiddleware(providerConfig) {
    return (req, res, next, end)=>{
        if (req.method === "eth_provider_config") {
            res.result = providerConfig;
            return end();
        }
        return next();
    };
}
function createEthJsonRpcClient(providerConfig) {
    const { chainId, rpcTarget } = providerConfig;
    const fetchMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createFetchMiddleware"])({
        rpcTarget
    });
    const networkMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])([
        createEthChainIdMiddleware(chainId),
        createEthProviderConfigMiddleware(providerConfig),
        fetchMiddleware
    ]);
    return {
        networkMiddleware,
        fetchMiddleware
    };
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/solana-provider/rpc/solanaRpcMiddlewares.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createGenericJRPCMiddleware",
    ()=>createGenericJRPCMiddleware,
    "createGetAccountsMiddleware",
    ()=>createGetAccountsMiddleware,
    "createGetPublicKeyMiddleware",
    ()=>createGetPublicKeyMiddleware,
    "createRequestAccountsMiddleware",
    ()=>createRequestAccountsMiddleware,
    "createSolanaAccountMiddleware",
    ()=>createSolanaAccountMiddleware,
    "createSolanaChainSwitchMiddleware",
    ()=>createSolanaChainSwitchMiddleware,
    "createSolanaMiddleware",
    ()=>createSolanaMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpc.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/ws-embed/dist/lib.esm/constants.js [app-client] (ecmascript)");
;
;
function createGetAccountsMiddleware({ getAccounts }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].GET_ACCOUNTS) return next();
        if (!getAccounts) throw new Error("WalletMiddleware - opts.getAccounts not provided");
        // This calls from the prefs controller
        const accounts = await getAccounts(request);
        response.result = accounts;
        return undefined;
    });
}
function createGetPublicKeyMiddleware({ getPublicKey }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== "getPublicKey") return next();
        if (!getPublicKey) throw new Error("WalletMiddleware - opts.getPublicKey not provided");
        const publicKey = await getPublicKey(request);
        response.result = publicKey;
        return undefined;
    });
}
function createRequestAccountsMiddleware({ requestAccounts }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].SOLANA_REQUEST_ACCOUNTS) return next();
        if (!requestAccounts) throw new Error("WalletMiddleware - opts.requestAccounts not provided");
        // This calls the UI login function
        const accounts = await requestAccounts(request);
        response.result = accounts;
        return undefined;
    });
}
function createGenericJRPCMiddleware(targetMethod, handler) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpc$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createAsyncMiddleware"])(async (request, response, next)=>{
        const { method } = request;
        if (method !== targetMethod) return next();
        if (!handler) throw new Error(`WalletMiddleware - ${targetMethod} not provided`);
        const result = await handler(request);
        response.result = result;
        return undefined;
    });
}
function createSolanaMiddleware(providerHandlers) {
    const { getAccounts, requestAccounts, signTransaction, signAndSendTransaction, signAllTransactions, signMessage, getPrivateKey, getSecretKey, getPublicKey } = providerHandlers;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])([
        createRequestAccountsMiddleware({
            requestAccounts
        }),
        createGetAccountsMiddleware({
            getAccounts
        }),
        createGenericJRPCMiddleware(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].SIGN_TRANSACTION, signTransaction),
        createGenericJRPCMiddleware(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].SEND_TRANSACTION, signAndSendTransaction),
        createGenericJRPCMiddleware(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].SIGN_ALL_TRANSACTIONS, signAllTransactions),
        createGenericJRPCMiddleware(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].SIGN_MESSAGE, signMessage),
        createGenericJRPCMiddleware(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].SOLANA_PRIVATE_KEY, getPrivateKey),
        createGenericJRPCMiddleware(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].PRIVATE_KEY, getPrivateKey),
        createGenericJRPCMiddleware("public_key", getPublicKey),
        createGenericJRPCMiddleware("solanaPublicKey", getPublicKey),
        createGenericJRPCMiddleware("solanaSecretKey", getSecretKey)
    ]);
}
function createSolanaChainSwitchMiddleware({ switchSolanaChain }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])([
        createGenericJRPCMiddleware("switchSolanaChain", switchSolanaChain)
    ]);
}
function createSolanaAccountMiddleware({ updatePrivatekey }) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])([
        createGenericJRPCMiddleware("updateAccount", updatePrivatekey)
    ]);
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/solana-provider/rpc/JrpcClient.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createConfigMiddleware",
    ()=>createConfigMiddleware,
    "createSolanaChainIdMiddleware",
    ()=>createSolanaChainIdMiddleware,
    "createSolanaJsonRpcClient",
    ()=>createSolanaJsonRpcClient,
    "createSolanaProviderConfigMiddleware",
    ()=>createSolanaProviderConfigMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/createFetchMiddleware.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)");
;
;
function createSolanaChainIdMiddleware(chainId) {
    return (req, res, next, end)=>{
        if (req.method === "solana_chainId") {
            res.result = chainId;
            return end();
        }
        return next();
    };
}
function createSolanaProviderConfigMiddleware(providerConfig) {
    return (req, res, next, end)=>{
        if (req.method === "solana_provider_config") {
            res.result = providerConfig;
            return end();
        }
        return next();
    };
}
function createConfigMiddleware(providerConfig) {
    const { chainId } = providerConfig;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])([
        createSolanaChainIdMiddleware(chainId),
        createSolanaProviderConfigMiddleware(providerConfig)
    ]);
}
function createSolanaJsonRpcClient(providerConfig) {
    const { rpcTarget } = providerConfig;
    const fetchMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$createFetchMiddleware$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createFetchMiddleware"])({
        rpcTarget
    });
    const networkMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMiddleware"])([
        createConfigMiddleware(providerConfig),
        fetchMiddleware
    ]);
    return {
        networkMiddleware,
        fetchMiddleware
    };
}
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/WalletConnectV2Provider.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "WalletConnectV2Provider",
    ()=>WalletConnectV2Provider
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@walletconnect/utils/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$walletConnectV2Utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/walletConnectV2Utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$ethereum$2d$provider$2f$rpc$2f$ethRpcMiddlewares$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/ethereum-provider/rpc/ethRpcMiddlewares.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$ethereum$2d$provider$2f$rpc$2f$jrpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/ethereum-provider/rpc/jrpcClient.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$solana$2d$provider$2f$rpc$2f$solanaRpcMiddlewares$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/solana-provider/rpc/solanaRpcMiddlewares.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$solana$2d$provider$2f$rpc$2f$JrpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/solana-provider/rpc/JrpcClient.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$baseProvider$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/providers/base-provider/baseProvider.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/loglevel.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
var _WalletConnectV2Provider;
class WalletConnectV2Provider extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$base$2d$provider$2f$baseProvider$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseProvider"] {
    constructor({ config, state, connector }){
        super({
            config: {
                chain: config.chain,
                chains: config.chains,
                skipLookupNetwork: !!config.skipLookupNetwork
            },
            state: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, state || {}), {}, {
                chainId: "loading",
                accounts: []
            })
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "connector", null);
        this.connector = connector || null;
    }
    async enable() {
        if (!this.connector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerErrors"].custom({
            message: "Connector is not initialized, pass wallet connect connector in constructor",
            code: 4902
        });
        await this.setupProvider(this.connector);
        return this._providerEngineProxy.request({
            method: "eth_accounts"
        });
    }
    async setupProvider(connector) {
        this.onConnectorStateUpdate(connector);
        await this.setupEngine(connector, this.config.chain.chainId);
    }
    async switchChain({ chainId }) {
        if (!this.connector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerErrors"].custom({
            message: "Connector is not initialized, pass wallet connect connector in constructor",
            code: 4902
        });
        const newChainConfig = this.getChain(chainId);
        if (!newChainConfig) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Chain config is not available");
        const currentNumChainId = parseInt(this.getCurrentChainId(), 16);
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$walletConnectV2Utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["switchChain"])({
            connector: this.connector,
            chainId: currentNumChainId,
            newChainId: chainId
        });
        await this.setupEngine(this.connector, chainId);
        this.lookupNetwork(this.connector, chainId);
        this.update({
            chainId
        });
    }
    async addChain(chainConfig) {
        if (!this.connector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerErrors"].custom({
            message: "Connector is not initialized, pass wallet connect connector in constructor",
            code: 4902
        });
        const currentNumChainId = parseInt(this.getCurrentChainId(), 16);
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$walletConnectV2Utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addChain"])({
            connector: this.connector,
            chainId: currentNumChainId,
            chainConfig
        });
    }
    // no need to implement this method in wallet connect v2.
    async lookupNetwork(_, chainId) {
        return chainId;
    }
    async setupEngine(connector, chainId) {
        const chain = this.getChain(chainId);
        if (chain.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155) {
            await this.setupEthEngine(connector, chainId);
        } else if (chain.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA) {
            await this.setupSolEngine(connector, chainId);
        } else {
            throw new Error(`Unsupported chainNamespace: ${chain.chainNamespace}`);
        }
        this.emit("chainChanged", chainId);
        this.emit("connect", {
            chainId
        });
        this.update({
            chainId
        });
    }
    async setupEthEngine(connector, chainId) {
        const chain = this.getChain(chainId);
        const numChainId = parseInt(chainId, 16);
        const providerHandlers = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$walletConnectV2Utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getEthProviderHandlers"])({
            connector,
            chainId: numChainId
        });
        const jrpcRes = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$walletConnectV2Utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getAccounts"])(connector);
        this.update({
            accounts: jrpcRes || []
        });
        const ethMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$ethereum$2d$provider$2f$rpc$2f$ethRpcMiddlewares$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createEthMiddleware"])(providerHandlers);
        const chainSwitchMiddleware = this.getEthChainSwitchMiddleware();
        const engine = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPCEngine"]();
        const { networkMiddleware } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$ethereum$2d$provider$2f$rpc$2f$jrpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createEthJsonRpcClient"])(chain);
        engine.push(ethMiddleware);
        engine.push(chainSwitchMiddleware);
        engine.push(networkMiddleware);
        const provider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerFromEngine"])(engine);
        this.updateProviderEngineProxy(provider);
    }
    async setupSolEngine(connector, chainId) {
        const chain = this.getChain(chainId);
        const providerHandlers = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$walletConnectV2Utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSolProviderHandlers"])({
            connector,
            chainId
        });
        const jrpcRes = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$walletConnectV2Utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getAccounts"])(connector);
        this.update({
            accounts: jrpcRes || []
        });
        const solMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$solana$2d$provider$2f$rpc$2f$solanaRpcMiddlewares$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createSolanaMiddleware"])(providerHandlers);
        const engine = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPCEngine"]();
        const { networkMiddleware } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$solana$2d$provider$2f$rpc$2f$JrpcClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createSolanaJsonRpcClient"])(chain);
        engine.push(solMiddleware);
        engine.push(networkMiddleware);
        const provider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$jrpcEngine$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["providerFromEngine"])(engine);
        this.updateProviderEngineProxy(provider);
    }
    getEthChainSwitchMiddleware() {
        const chainSwitchHandlers = {
            switchChain: async (params)=>{
                const { chainId } = params;
                await this.switchChain({
                    chainId
                });
            },
            addChain: async (params)=>{
                await this.addChain(params);
            }
        };
        const chainSwitchMiddleware = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$providers$2f$ethereum$2d$provider$2f$rpc$2f$ethRpcMiddlewares$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createEthChainSwitchMiddleware"])(chainSwitchHandlers);
        return chainSwitchMiddleware;
    }
    connectedTopic() {
        var _this$connector;
        if (!this.connector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Wallet connect connector is not connected");
        if ((_this$connector = this.connector) !== null && _this$connector !== void 0 && (_this$connector = _this$connector.session) !== null && _this$connector !== void 0 && _this$connector.length) {
            var _this$connector$sessi;
            // currently we are supporting only 1 active session
            const lastKeyIndex = this.connector.session.keys.length - 1;
            return (_this$connector$sessi = this.connector.session.get(this.connector.session.keys[lastKeyIndex])) === null || _this$connector$sessi === void 0 ? void 0 : _this$connector$sessi.topic;
        }
        return undefined;
    }
    checkIfAccountAllowed(address) {
        if (!this.connector || !this.connectedTopic()) return false;
        const sessionData = this.connector.session.get(this.connectedTopic());
        const allAccounts = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getAccountsFromNamespaces"])(sessionData.namespaces);
        let accountAllowed = false;
        for (const account of allAccounts){
            var _parsedAccount$addres;
            const parsedAccount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseAccountId"])(account);
            if (((_parsedAccount$addres = parsedAccount.address) === null || _parsedAccount$addres === void 0 ? void 0 : _parsedAccount$addres.toLowerCase()) === (address === null || address === void 0 ? void 0 : address.toLowerCase())) {
                accountAllowed = true;
                break;
            }
        }
        return accountAllowed;
    }
    async onConnectorStateUpdate(connector) {
        connector.events.on("session_event", async (payload)=>{
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].debug("session_event data", payload);
            if (!this.provider) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Wallet connect connector is not connected");
            const { event } = payload.params;
            const { name, data } = event || {};
            // Check if accounts changed and trigger event
            if (name === "accountsChanged" && data !== null && data !== void 0 && data.length && this.state.accounts[0] !== data[0] && this.checkIfAccountAllowed(data[0])) {
                this.update({
                    accounts: data
                });
                this.emit("accountsChanged", data);
            }
            if (event.name === "chainChanged") {
                if (!data) return;
                const connectedChainId = data;
                const formattedChainId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatChainId"])(connectedChainId);
                // Check if chainId changed and trigger event
                const { currentChain } = this;
                if (formattedChainId && currentChain.chainId !== formattedChainId) {
                    // Handle rpcUrl update
                    await this.setupEngine(connector, formattedChainId);
                }
            }
        });
    }
    getCurrentChainId() {
        const currentChain = this.state.chainId;
        if (!currentChain || currentChain === "loading") {
            return this.config.chains[0].chainId;
        }
        return currentChain;
    }
}
_WalletConnectV2Provider = WalletConnectV2Provider;
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(WalletConnectV2Provider, "getProviderInstance", async (params)=>{
    const providerFactory = new _WalletConnectV2Provider({
        config: {
            chain: params.chain,
            chains: params.chains,
            skipLookupNetwork: params.skipLookupNetwork
        }
    });
    await providerFactory.setupProvider(params.connector);
    return providerFactory;
});
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/walletConnectV2Connector.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "walletConnectV2Connector",
    ()=>walletConnectV2Connector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/Network/INetworkController.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$signingUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/base-controllers/dist/lib.esm/utils/signingUtils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$sign$2d$client$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@walletconnect/sign-client/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@walletconnect/utils/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/ws-embed/dist/lib.esm/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/deepmerge/dist/cjs.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/config.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$WalletConnectV2Provider$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/WalletConnectV2Provider.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$baseConnector$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/baseConnector.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/wallet/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/chain/IChainInterface.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/errors/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/loglevel.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/utils.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/analytics.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/base/connector/utils.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
class WalletConnectV2Connector extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$baseConnector$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BaseConnector"] {
    constructor(options){
        var _this$connectorOption, _this$connectorOption2, _this$connectorOption3, _this$connectorOption4, _this$connectorOption5;
        super(options);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "name", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].WALLET_CONNECT_V2);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "connectorNamespace", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$chain$2f$IChainInterface$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["CONNECTOR_NAMESPACES"].MULTICHAIN);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "currentChainNamespace", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].OTHER);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "type", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_CATEGORY"].EXTERNAL);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "connectorOptions", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "status", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "connectorData", {
            uri: ""
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "connector", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "activeSession", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "wcProvider", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "analytics", void 0);
        this.connectorOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, options);
        const { qrcodeModal, walletConnectInitOptions } = (options === null || options === void 0 ? void 0 : options.connectorSettings) || {};
        this.connectorOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.connectorOptions), {}, {
            connectorSettings: (_this$connectorOption = (_this$connectorOption2 = this.connectorOptions) === null || _this$connectorOption2 === void 0 ? void 0 : _this$connectorOption2.connectorSettings) !== null && _this$connectorOption !== void 0 ? _this$connectorOption : {},
            loginSettings: (_this$connectorOption3 = (_this$connectorOption4 = this.connectorOptions) === null || _this$connectorOption4 === void 0 ? void 0 : _this$connectorOption4.loginSettings) !== null && _this$connectorOption3 !== void 0 ? _this$connectorOption3 : {}
        });
        this.analytics = options.analytics;
        if (qrcodeModal) this.connectorOptions.connectorSettings.qrcodeModal = qrcodeModal;
        if (walletConnectInitOptions) this.connectorOptions.connectorSettings.walletConnectInitOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, (_this$connectorOption5 = this.connectorOptions.connectorSettings.walletConnectInitOptions) !== null && _this$connectorOption5 !== void 0 ? _this$connectorOption5 : {}), walletConnectInitOptions);
        const { loginSettings } = options;
        if (loginSettings) this.connectorOptions.loginSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.connectorOptions.loginSettings || {}), loginSettings);
    }
    get connected() {
        return !!this.activeSession;
    }
    get provider() {
        if (this.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY && this.wcProvider) {
            return this.wcProvider;
        }
        return null;
    }
    set provider(_) {
        throw new Error("Not implemented");
    }
    async init(options) {
        var _this$connectorOption6;
        const chainConfig = this.coreOptions.chains.find((x)=>x.chainId === options.chainId);
        super.checkInitializationRequirements({
            chainConfig
        });
        const projectId = (_this$connectorOption6 = this.connectorOptions.connectorSettings) === null || _this$connectorOption6 === void 0 || (_this$connectorOption6 = _this$connectorOption6.walletConnectInitOptions) === null || _this$connectorOption6 === void 0 ? void 0 : _this$connectorOption6.projectId;
        const filteredChains = this.coreOptions.chains.filter((x)=>x.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155 || x.chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].SOLANA);
        if (filteredChains.length === 0) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletInitializationError"].invalidParams("No supported chains found");
        }
        const wc2Settings = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getWalletConnectV2Settings"])(filteredChains, projectId);
        if (!this.connectorOptions.loginSettings || Object.keys(this.connectorOptions.loginSettings).length === 0) {
            this.connectorOptions.loginSettings = wc2Settings.loginSettings;
        }
        this.connectorOptions.connectorSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$deepmerge$2f$dist$2f$cjs$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(wc2Settings.connectorSettings || {}, this.connectorOptions.connectorSettings || {});
        const { connectorSettings } = this.connectorOptions;
        this.connector = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$sign$2d$client$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].init(connectorSettings === null || connectorSettings === void 0 ? void 0 : connectorSettings.walletConnectInitOptions);
        this.wcProvider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$WalletConnectV2Provider$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletConnectV2Provider"]({
            config: {
                chain: chainConfig,
                chains: this.coreOptions.chains
            },
            connector: this.connector
        });
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].READY, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].WALLET_CONNECT_V2);
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].debug("initializing wallet connect v2 connector");
        if (options.autoConnect) {
            await this.checkForPersistedSession();
            if (this.connected) {
                this.rehydrated = true;
                try {
                    await this.onConnectHandler({
                        chain: chainConfig,
                        getIdentityToken: options.getIdentityToken
                    });
                } catch (error) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error("wallet auto connect", error);
                    this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].REHYDRATION_ERROR, error);
                }
            } else {
                this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY;
                this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CACHE_CLEAR);
            }
        }
    }
    async connect({ chainId, getIdentityToken }) {
        super.checkConnectionRequirements();
        const chainConfig = this.coreOptions.chains.find((x)=>x.chainId === chainId);
        if (!chainConfig) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Chain config is not available");
        if (!this.connector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Wallet connector is not ready yet");
        // Skip tracking for rehydration since only new connections are tracked
        // Track when connection completes since it auto-initializes to generate QR code
        const shouldTrack = !this.connected && !this.rehydrated;
        const startTime = Date.now();
        let eventData = {
            connector: this.name,
            connector_type: this.type,
            is_injected: this.isInjected,
            is_wallet_connect: true,
            chain_id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getCaipChainId"])(chainConfig),
            chain_name: chainConfig === null || chainConfig === void 0 ? void 0 : chainConfig.displayName,
            chain_namespace: chainConfig === null || chainConfig === void 0 ? void 0 : chainConfig.chainNamespace
        };
        try {
            const trackCompletionEvents = ()=>{
                // track connection events
                if (shouldTrack) {
                    var _this$activeSession, _this$analytics, _this$analytics2;
                    const { name, url, redirect } = ((_this$activeSession = this.activeSession) === null || _this$activeSession === void 0 || (_this$activeSession = _this$activeSession.peer) === null || _this$activeSession === void 0 ? void 0 : _this$activeSession.metadata) || {};
                    const { native, universal, linkMode } = redirect || {};
                    eventData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, eventData), {}, {
                        connector: name || this.name,
                        wallet_url: url,
                        redirect_native: native,
                        redirect_universal: universal,
                        redirect_link_mode_enabled: linkMode
                    });
                    (_this$analytics = this.analytics) === null || _this$analytics === void 0 || _this$analytics.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_STARTED, eventData);
                    (_this$analytics2 = this.analytics) === null || _this$analytics2 === void 0 || _this$analytics2.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_COMPLETED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, eventData), {}, {
                        duration: Date.now() - startTime
                    }));
                }
            };
            // if already connected
            if (this.connected) {
                await this.onConnectHandler({
                    chain: chainConfig,
                    getIdentityToken
                });
                return this.provider;
            }
            if (this.status !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING) {
                await this.createNewSession({
                    chainConfig,
                    trackCompletionEvents,
                    getIdentityToken
                });
            }
            return this.provider;
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error("Wallet connect v2 connector error while connecting", error);
            // ready again to be connected
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
            this.rehydrated = true;
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].ERRORED, error);
            // track connection events
            if (shouldTrack) {
                var _this$analytics3, _this$analytics4;
                (_this$analytics3 = this.analytics) === null || _this$analytics3 === void 0 || _this$analytics3.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_STARTED, eventData);
                (_this$analytics4 = this.analytics) === null || _this$analytics4 === void 0 || _this$analytics4.track(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$analytics$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ANALYTICS_EVENTS"].CONNECTION_FAILED, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, eventData), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getErrorAnalyticsProperties"])(error)), {}, {
                    duration: Date.now() - startTime
                }));
            }
            const finalError = error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Web3AuthError"] ? error : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError(`Failed to login with wallet connect: ${(error === null || error === void 0 ? void 0 : error.message) || ""}`, error);
            throw finalError;
        }
    }
    async switchChain(params, init = false) {
        super.checkSwitchChainRequirements(params, init);
        if (!this.wcProvider) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Wallet Connect provider is not ready yet");
        try {
            await this.wcProvider.switchChain({
                chainId: params.chainId
            });
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error("error while switching chain", error);
            throw error;
        }
    }
    async getUserInfo() {
        if (!this.canAuthorize) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet, Please login/connect first");
        return {};
    }
    async disconnect(options = {
        cleanup: false,
        sessionRemovedByWallet: false
    }) {
        var _this$activeSession2, _this$activeSession3;
        const { cleanup } = options;
        if (!this.connector || !this.connected || !((_this$activeSession2 = this.activeSession) !== null && _this$activeSession2 !== void 0 && _this$activeSession2.topic)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet");
        if (!options.sessionRemovedByWallet) await this.connector.disconnect({
            topic: (_this$activeSession3 = this.activeSession) === null || _this$activeSession3 === void 0 ? void 0 : _this$activeSession3.topic,
            reason: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSdkError"])("USER_DISCONNECTED")
        });
        this.rehydrated = false;
        if (cleanup) {
            this.connector = null;
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].NOT_READY;
            this.wcProvider = null;
        } else {
            // ready to connect again
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
        }
        this.activeSession = null;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].DISCONNECTED);
    }
    async getIdentityToken() {
        if (!this.provider || !this.canAuthorize) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError();
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZING;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZING, {
            connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].WALLET_CONNECT_V2
        });
        const { chainId } = this.provider;
        const currentChainConfig = this.coreOptions.chains.find((x)=>x.chainId === chainId);
        if (!currentChainConfig) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].connectionError("Chain config is not available");
        const { chainNamespace } = currentChainConfig;
        const accounts = await this.provider.request({
            method: chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155 ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EVM_METHOD_TYPES"].GET_ACCOUNTS : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].GET_ACCOUNTS
        });
        if (accounts && accounts.length > 0) {
            const existingToken = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSavedToken"])(accounts[0], this.name);
            if (existingToken) {
                const isExpired = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["checkIfTokenIsExpired"])(existingToken);
                if (!isExpired) {
                    this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZED;
                    this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZED, {
                        connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].WALLET_CONNECT_V2,
                        identityTokenInfo: {
                            idToken: existingToken
                        }
                    });
                    return {
                        idToken: existingToken
                    };
                }
            }
            const payload = {
                domain: window.location.origin,
                uri: window.location.href,
                address: accounts[0],
                chainId: parseInt(chainId, 16),
                version: "1",
                nonce: Math.random().toString(36).slice(2),
                issuedAt: new Date().toISOString()
            };
            const challenge = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$signingUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["signChallenge"])(payload, chainNamespace);
            const signedMessage = await this._getSignedMessage(challenge, accounts, chainNamespace);
            const idToken = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$utils$2f$signingUtils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["verifySignedChallenge"])(chainNamespace, signedMessage, challenge, this.name, this.coreOptions.sessionTime, this.coreOptions.clientId, this.coreOptions.web3AuthNetwork);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["saveToken"])(accounts[0], this.name, idToken);
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].AUTHORIZED;
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].AUTHORIZED, {
                connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].WALLET_CONNECT_V2,
                identityTokenInfo: {
                    idToken
                }
            });
            return {
                idToken
            };
        }
        throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletLoginError"].notConnectedError("Not connected with wallet, Please login/connect first");
    }
    async enableMFA() {
        throw new Error("Method Not implemented");
    }
    async manageMFA() {
        throw new Error("Method Not implemented");
    }
    cleanupPendingPairings() {
        if (!this.connector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Wallet connector is not ready yet");
        const inactivePairings = this.connector.pairing.getAll({
            active: false
        });
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isValidArray"])(inactivePairings)) return;
        inactivePairings.forEach((pairing)=>{
            if (this.connector) {
                this.connector.pairing.delete(pairing.topic, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSdkError"])("USER_DISCONNECTED"));
            }
        });
    }
    async checkForPersistedSession() {
        if (!this.connector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Wallet connector is not ready yet");
        if (this.connector.session.length) {
            const lastKeyIndex = this.connector.session.keys.length - 1;
            this.activeSession = this.connector.session.get(this.connector.session.keys[lastKeyIndex]);
        }
        return this.activeSession;
    }
    async createNewSession({ forceNewSession = false, chainConfig, trackCompletionEvents, getIdentityToken }) {
        try {
            var _this$activeSession4, _this$connectorOption7;
            if (!this.connector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Wallet connector is not ready yet");
            if (!this.connectorOptions.loginSettings || Object.keys(this.connectorOptions.loginSettings).length === 0) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("login settings are not set yet");
            this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING;
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTING, {
                connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].WALLET_CONNECT_V2
            });
            if (forceNewSession && (_this$activeSession4 = this.activeSession) !== null && _this$activeSession4 !== void 0 && _this$activeSession4.topic) {
                var _this$activeSession5;
                await this.connector.disconnect({
                    topic: (_this$activeSession5 = this.activeSession) === null || _this$activeSession5 === void 0 ? void 0 : _this$activeSession5.topic,
                    reason: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$walletconnect$2f$utils$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSdkError"])("USER_DISCONNECTED")
                });
            }
            const { uri, approval } = await this.connector.connect(this.connectorOptions.loginSettings);
            const qrcodeModal = (_this$connectorOption7 = this.connectorOptions) === null || _this$connectorOption7 === void 0 || (_this$connectorOption7 = _this$connectorOption7.connectorSettings) === null || _this$connectorOption7 === void 0 ? void 0 : _this$connectorOption7.qrcodeModal;
            // Open QRCode modal if a URI was returned (i.e. we're not connecting with an existing pairing).
            if (uri) {
                if (qrcodeModal) {
                    try {
                        await qrcodeModal.openModal({
                            uri
                        });
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].debug("EVENT", "QR Code Modal closed");
                        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY;
                        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].READY, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].WALLET_CONNECT_V2);
                    } catch (error) {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error("unable to open qr code modal", error);
                    }
                } else {
                    this.updateConnectorData({
                        uri
                    });
                }
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].info("awaiting session approval from wallet");
            // Await session approval from the wallet.
            const session = await approval();
            this.activeSession = session;
            // Handle the returned session (e.g. update UI to "connected" state).
            await this.onConnectHandler({
                chain: chainConfig,
                trackCompletionEvents,
                getIdentityToken
            });
            if (qrcodeModal) {
                qrcodeModal.closeModal();
            }
        } catch (error) {
            var _message;
            if ((_message = error.message) !== null && _message !== void 0 && _message.toLowerCase().includes("proposal expired")) {
                // Retry if connector status is still connecting
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].info("current connector status: ", this.status);
                if (this.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTING) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].info("retrying to create new wallet connect session since proposal expired");
                    return this.createNewSession({
                        forceNewSession: true,
                        chainConfig,
                        getIdentityToken
                    });
                }
                if (this.status === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].READY) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].info("ignoring proposal expired error since some other connector is connected");
                    return;
                }
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error("error while creating new wallet connect session", error);
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].ERRORED, error);
            throw error;
        }
    }
    async onConnectHandler({ chain, trackCompletionEvents, getIdentityToken }) {
        var _this$connectorOption8;
        if (!this.connector || !this.wcProvider) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Wallet connect connector is not ready yet");
        this.subscribeEvents();
        if ((_this$connectorOption8 = this.connectorOptions.connectorSettings) !== null && _this$connectorOption8 !== void 0 && _this$connectorOption8.qrcodeModal) {
            this.wcProvider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$WalletConnectV2Provider$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletConnectV2Provider"]({
                config: {
                    chain,
                    chains: this.coreOptions.chains,
                    skipLookupNetwork: true
                },
                connector: this.connector
            });
        }
        await this.wcProvider.setupProvider(this.connector);
        this.cleanupPendingPairings();
        this.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_STATUS"].CONNECTED;
        // track connection events
        if (trackCompletionEvents) trackCompletionEvents();
        let identityTokenInfo;
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$connector$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CONNECTOR_EVENTS"].CONNECTED, {
            connector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$wallet$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WALLET_CONNECTORS"].WALLET_CONNECT_V2,
            reconnected: this.rehydrated,
            provider: this.provider,
            identityTokenInfo
        });
        if (getIdentityToken) {
            identityTokenInfo = await this.getIdentityToken();
        }
    }
    subscribeEvents() {
        if (!this.connector) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$errors$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletInitializationError"].notReady("Wallet connector is not ready yet");
        this.connector.events.on("session_update", ({ topic, params })=>{
            if (!this.connector) return;
            const { namespaces } = params;
            const _session = this.connector.session.get(topic);
            // Overwrite the `namespaces` of the existing session with the incoming one.
            const updatedSession = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, _session), {}, {
                namespaces
            });
            // Integrate the updated session state into your dapp state.
            this.activeSession = updatedSession;
        });
        this.connector.events.on("session_delete", ()=>{
            // Session was deleted -> reset the dapp state, clean up from user session, etc.
            this.disconnect({
                sessionRemovedByWallet: true
            });
        });
        this.connector.events.on("session_expire", ({ topic })=>{
            var _this$activeSession6;
            // Session has expired -> clean up the session
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].info("Session expired event received for topic:", topic);
            if (((_this$activeSession6 = this.activeSession) === null || _this$activeSession6 === void 0 ? void 0 : _this$activeSession6.topic) === topic) {
                this.disconnect({
                    sessionRemovedByWallet: true
                }).catch((error)=>{
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$base$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error("Failed to disconnect expired session", error);
                });
            }
        });
    }
    async _getSignedMessage(challenge, accounts, chainNamespace) {
        const signedMessage = await this.provider.request({
            method: chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155 ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EVM_METHOD_TYPES"].PERSONAL_SIGN : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$ws$2d$embed$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SOLANA_METHOD_TYPES"].SIGN_MESSAGE,
            params: chainNamespace === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$base$2d$controllers$2f$dist$2f$lib$2e$esm$2f$Network$2f$INetworkController$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAIN_NAMESPACES"].EIP155 ? [
                challenge,
                accounts[0]
            ] : {
                data: challenge
            }
        });
        return signedMessage;
    }
}
const walletConnectV2Connector = (params)=>{
    return ({ coreOptions, projectConfig, analytics })=>{
        var _params$walletConnect;
        const projectId = (params === null || params === void 0 || (_params$walletConnect = params.walletConnectInitOptions) === null || _params$walletConnect === void 0 ? void 0 : _params$walletConnect.projectId) || (projectConfig === null || projectConfig === void 0 ? void 0 : projectConfig.walletConnectProjectId);
        const connectorSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, params), {}, {
            walletConnectInitOptions: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, params === null || params === void 0 ? void 0 : params.walletConnectInitOptions), {}, {
                projectId: projectId
            })
        });
        return new WalletConnectV2Connector({
            connectorSettings,
            coreOptions,
            analytics
        });
    };
};
;
}),
"[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "DEFAULT_EIP155_METHODS",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DEFAULT_EIP155_METHODS"],
    "DEFAULT_EIP_155_EVENTS",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DEFAULT_EIP_155_EVENTS"],
    "DEFAULT_SOLANA_EVENTS",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DEFAULT_SOLANA_EVENTS"],
    "DEFAULT_SOLANA_METHODS",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DEFAULT_SOLANA_METHODS"],
    "WalletConnectV2Provider",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$WalletConnectV2Provider$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WalletConnectV2Provider"],
    "getNamespacesFromChains",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getNamespacesFromChains"],
    "getRequiredNamespaces",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getRequiredNamespaces"],
    "getSupportedEventsByNamespace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSupportedEventsByNamespace"],
    "getSupportedMethodsByNamespace",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSupportedMethodsByNamespace"],
    "getWalletConnectV2Settings",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getWalletConnectV2Settings"],
    "walletConnectV2Connector",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$walletConnectV2Connector$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["walletConnectV2Connector"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$config$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/config.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$walletConnectV2Connector$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/walletConnectV2Connector.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$dist$2f$lib$2e$esm$2f$connectors$2f$wallet$2d$connect$2d$v2$2d$connector$2f$WalletConnectV2Provider$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/dist/lib.esm/connectors/wallet-connect-v2-connector/WalletConnectV2Provider.js [app-client] (ecmascript)");
}),
]);

//# sourceMappingURL=node_modules_%40web3auth_no-modal_dist_lib_esm_dd2196ae._.js.map