(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SafeEventEmitter",
    ()=>SafeEventEmitter
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$events$2f$events$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/events/events.js [app-client] (ecmascript)");
;
/* eslint-disable @typescript-eslint/no-explicit-any */ function safeApply(handler, context, args) {
    try {
        Reflect.apply(handler, context, args);
    } catch (err) {
        // Throw error after timeout so as not to interrupt the stack
        setTimeout(()=>{
            throw err;
        });
    }
}
function arrayClone(arr) {
    const n = arr.length;
    const copy = new Array(n);
    for(let i = 0; i < n; i += 1){
        copy[i] = arr[i];
    }
    return copy;
}
class SafeEventEmitter extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$events$2f$events$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EventEmitter"] {
    emit(type, ...args) {
        let doError = type === "error";
        const events = this._events;
        if (events !== undefined) {
            doError = doError && events.error === undefined;
        } else if (!doError) {
            return false;
        }
        // If there is no 'error' event listener then throw.
        if (doError) {
            let er;
            if (args.length > 0) {
                [er] = args;
            }
            if (er instanceof Error) {
                // Note: The comments on the `throw` lines are intentional, they show
                // up in Node's output if this results in an unhandled exception.
                throw er; // Unhandled 'error' event
            }
            // At least give some kind of context to the user
            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ""}`);
            err.context = er;
            throw err; // Unhandled 'error' event
        }
        const handler = events[type];
        if (handler === undefined) {
            return false;
        }
        if (typeof handler === "function") {
            safeApply(handler, this, args);
        } else {
            const len = handler.length;
            const listeners = arrayClone(handler);
            for(let i = 0; i < len; i += 1){
                safeApply(listeners[i], this, args);
            }
        }
        return true;
    }
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/utils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "base64toJSON",
    ()=>base64toJSON,
    "base64url",
    ()=>base64url,
    "cloneDeep",
    ()=>cloneDeep,
    "htmlToElement",
    ()=>htmlToElement,
    "jsonToBase64",
    ()=>jsonToBase64,
    "safeatob",
    ()=>safeatob,
    "safebtoa",
    ()=>safebtoa
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$base64url$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/base64url/index.js [app-client] (ecmascript)");
;
const base64url = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$base64url$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"];
function safebtoa(str) {
    return base64url.encode(str);
}
function safeatob(str) {
    // Going backwards: from bytestream, to percent-encoding, to original string.
    return base64url.decode(str);
}
function base64toJSON(b64str) {
    return JSON.parse(base64url.decode(b64str));
}
function jsonToBase64(json) {
    return base64url.encode(JSON.stringify(json));
}
const htmlToElement = (html)=>{
    const template = window.document.createElement("template");
    const trimmedHtml = html.trim(); // Never return a text node of whitespace as the result
    template.innerHTML = trimmedHtml;
    return template.content.firstChild;
};
function cloneDeep(object) {
    try {
        return structuredClone(object);
    } catch  {
        return JSON.parse(JSON.stringify(object));
    }
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/browserStorage.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BrowserStorage",
    ()=>BrowserStorage,
    "MemoryStore",
    ()=>MemoryStore
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/helpers.js [app-client] (ecmascript)");
;
;
class MemoryStore {
    constructor(){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "store", new Map());
    }
    getItem(key) {
        return this.store.get(key) || null;
    }
    setItem(key, value) {
        this.store.set(key, value);
    }
    removeItem(key) {
        this.store.delete(key);
    }
}
class BrowserStorage {
    constructor(storeKey, storage){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "storage", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_storeKey", void 0);
        this.storage = storage;
        this._storeKey = storeKey;
        try {
            if (!storage.getItem(storeKey)) {
                this.resetStore();
            }
        } catch  {
        // Storage is not available
        }
    }
    static getInstance(key, storageKey = "local") {
        if (!this.instanceMap.has(key)) {
            let storage;
            if (storageKey === "local" && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["storageAvailable"])("localStorage")) {
                storage = window.localStorage;
            } else if (storageKey === "session" && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["storageAvailable"])("sessionStorage")) {
                storage = window.sessionStorage;
            } else {
                storage = new MemoryStore();
            }
            this.instanceMap.set(key, new this(key, storage));
        }
        return this.instanceMap.get(key);
    }
    toJSON() {
        return this.storage.getItem(this._storeKey);
    }
    resetStore() {
        const currStore = this.getStore();
        this.storage.removeItem(this._storeKey);
        return currStore;
    }
    getStore() {
        return JSON.parse(this.storage.getItem(this._storeKey) || "{}");
    }
    get(key) {
        const store = JSON.parse(this.storage.getItem(this._storeKey) || "{}");
        return store[key];
    }
    set(key, value) {
        const store = JSON.parse(this.storage.getItem(this._storeKey) || "{}");
        store[key] = value;
        this.storage.setItem(this._storeKey, JSON.stringify(store));
    }
}
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(BrowserStorage, "instanceMap", new Map());
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/constants.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AUTH_ACTIONS",
    ()=>AUTH_ACTIONS,
    "AUTH_DASHBOARD_DEVELOPMENT_URL",
    ()=>AUTH_DASHBOARD_DEVELOPMENT_URL,
    "AUTH_DASHBOARD_PRODUCTION_URL",
    ()=>AUTH_DASHBOARD_PRODUCTION_URL,
    "AUTH_DASHBOARD_STAGING_URL",
    ()=>AUTH_DASHBOARD_STAGING_URL,
    "AUTH_DASHBOARD_TESTING_URL",
    ()=>AUTH_DASHBOARD_TESTING_URL,
    "AUTH_SERVICE_DEVELOPMENT_URL",
    ()=>AUTH_SERVICE_DEVELOPMENT_URL,
    "AUTH_SERVICE_PRODUCTION_URL",
    ()=>AUTH_SERVICE_PRODUCTION_URL,
    "AUTH_SERVICE_STAGING_URL",
    ()=>AUTH_SERVICE_STAGING_URL,
    "AUTH_SERVICE_TESTING_URL",
    ()=>AUTH_SERVICE_TESTING_URL,
    "BUILD_ENV",
    ()=>BUILD_ENV,
    "IFRAME_MODAL_ID",
    ()=>IFRAME_MODAL_ID,
    "JRPC_METHODS",
    ()=>JRPC_METHODS,
    "MFA_LEVELS",
    ()=>MFA_LEVELS,
    "POPUP_TIMEOUT",
    ()=>POPUP_TIMEOUT,
    "SDK_MODE",
    ()=>SDK_MODE,
    "SUPPORTED_KEY_CURVES",
    ()=>SUPPORTED_KEY_CURVES,
    "WEB3AUTH_LEGACY_NETWORK",
    ()=>WEB3AUTH_LEGACY_NETWORK,
    "WEB3AUTH_NETWORK",
    ()=>WEB3AUTH_NETWORK,
    "WEB3AUTH_SAPPHIRE_NETWORK",
    ()=>WEB3AUTH_SAPPHIRE_NETWORK,
    "storeKey",
    ()=>storeKey
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/constants/dist/lib.esm/constants.js [app-client] (ecmascript)");
;
;
const storeKey = "auth_store";
const WEB3AUTH_LEGACY_NETWORK = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TORUS_LEGACY_NETWORK"];
const WEB3AUTH_SAPPHIRE_NETWORK = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TORUS_SAPPHIRE_NETWORK"];
const WEB3AUTH_NETWORK = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, WEB3AUTH_SAPPHIRE_NETWORK), WEB3AUTH_LEGACY_NETWORK);
const SUPPORTED_KEY_CURVES = {
    SECP256K1: "secp256k1",
    ED25519: "ed25519",
    OTHER: "other"
};
const MFA_LEVELS = {
    DEFAULT: "default",
    OPTIONAL: "optional",
    MANDATORY: "mandatory",
    NONE: "none"
};
const AUTH_ACTIONS = {
    LOGIN: "login",
    ENABLE_MFA: "enable_mfa",
    MANAGE_MFA: "manage_mfa",
    ADD_SOCIAL_FACTOR: "add_social_factor",
    MODIFY_SOCIAL_FACTOR: "modify_social_factor",
    ADD_AUTHENTICATOR_FACTOR: "add_authenticator_factor",
    ADD_PASSKEY_FACTOR: "add_passkey_factor"
};
const BUILD_ENV = {
    PRODUCTION: "production",
    DEVELOPMENT: "development",
    STAGING: "staging",
    TESTING: "testing"
};
const SDK_MODE = {
    DEFAULT: "default",
    IFRAME: "iframe"
};
const JRPC_METHODS = {
    SETUP_COMPLETE: "setup_complete",
    INIT_DAPP: "init_dapp",
    LOGIN_INITIATED: "login_initiated",
    LOGIN_CANCELLED: "login_cancelled",
    LOGIN_FAILED: "login_failed",
    LOGIN_SUCCESS: "login_success",
    DISPLAY_IFRAME: "display_iframe",
    HIDE_IFRAME: "hide_iframe"
};
const IFRAME_MODAL_ID = "auth-iframe";
// Auth service urls
const AUTH_SERVICE_DEVELOPMENT_URL = "http://localhost:3000";
const AUTH_SERVICE_STAGING_URL = "https://staging-auth.web3auth.io";
const AUTH_SERVICE_TESTING_URL = "https://develop-auth.web3auth.io";
const AUTH_SERVICE_PRODUCTION_URL = "https://auth.web3auth.io";
// Auth Dashboard urls
const AUTH_DASHBOARD_DEVELOPMENT_URL = "http://localhost:5173";
const AUTH_DASHBOARD_STAGING_URL = "https://staging-account.web3auth.io";
const AUTH_DASHBOARD_TESTING_URL = "https://develop-account.web3auth.io";
const AUTH_DASHBOARD_PRODUCTION_URL = "https://account.web3auth.io";
// 10 seconds
const POPUP_TIMEOUT = 1000 * 10;
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-constants.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "errorCodes",
    ()=>errorCodes,
    "errorValues",
    ()=>errorValues
]);
const errorCodes = {
    rpc: {
        invalidInput: -32e3,
        resourceNotFound: -32001,
        resourceUnavailable: -32002,
        transactionRejected: -32003,
        methodNotSupported: -32004,
        limitExceeded: -32005,
        parse: -32700,
        invalidRequest: -32600,
        methodNotFound: -32601,
        invalidParams: -32602,
        internal: -32603
    },
    provider: {
        userRejectedRequest: 4001,
        unauthorized: 4100,
        unsupportedMethod: 4200,
        disconnected: 4900,
        chainDisconnected: 4901
    }
};
const errorValues = {
    "-32700": {
        standard: "JSON RPC 2.0",
        message: "Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."
    },
    "-32600": {
        standard: "JSON RPC 2.0",
        message: "The JSON sent is not a valid Request object."
    },
    "-32601": {
        standard: "JSON RPC 2.0",
        message: "The method does not exist / is not available."
    },
    "-32602": {
        standard: "JSON RPC 2.0",
        message: "Invalid method parameter(s)."
    },
    "-32603": {
        standard: "JSON RPC 2.0",
        message: "Internal JSON-RPC error."
    },
    "-32000": {
        standard: "EIP-1474",
        message: "Invalid input."
    },
    "-32001": {
        standard: "EIP-1474",
        message: "Resource not found."
    },
    "-32002": {
        standard: "EIP-1474",
        message: "Resource unavailable."
    },
    "-32003": {
        standard: "EIP-1474",
        message: "Transaction rejected."
    },
    "-32004": {
        standard: "EIP-1474",
        message: "Method not supported."
    },
    "-32005": {
        standard: "EIP-1474",
        message: "Request limit exceeded."
    },
    "4001": {
        standard: "EIP-1193",
        message: "User rejected the request."
    },
    "4100": {
        standard: "EIP-1193",
        message: "The requested account and/or method has not been authorized by the user."
    },
    "4200": {
        standard: "EIP-1193",
        message: "The requested method is not supported by this Ethereum provider."
    },
    "4900": {
        standard: "EIP-1193",
        message: "The provider is disconnected from all chains."
    },
    "4901": {
        standard: "EIP-1193",
        message: "The provider is disconnected from the specified chain."
    }
};
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/utils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "JSON_RPC_SERVER_ERROR_MESSAGE",
    ()=>JSON_RPC_SERVER_ERROR_MESSAGE,
    "dataHasCause",
    ()=>dataHasCause,
    "getMessageFromCode",
    ()=>getMessageFromCode,
    "isObject",
    ()=>isObject,
    "isPlainObject",
    ()=>isPlainObject,
    "isValidCode",
    ()=>isValidCode,
    "isValidString",
    ()=>isValidString,
    "serializeCause",
    ()=>serializeCause,
    "serializeJrpcError",
    ()=>serializeJrpcError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-constants.js [app-client] (ecmascript)");
;
;
var _objectHasOwn = function(object, property) {
    if (typeof object === 'undefined' || object === null) {
        throw new TypeError('Cannot convert undefined or null to object');
    }
    return Object.prototype.hasOwnProperty.call(Object(object), property);
};
const FALLBACK_ERROR_CODE = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.internal;
const FALLBACK_MESSAGE = "Unspecified error message. This is a bug, please report it.";
const JSON_RPC_SERVER_ERROR_MESSAGE = "Unspecified server error.";
/**
 * Returns whether the given code is valid.
 * A code is valid if it is an integer.
 *
 * @param code - The error code.
 * @returns Whether the given code is valid.
 */ function isValidCode(code) {
    return Number.isInteger(code);
}
function isValidString(value) {
    return typeof value === "string" && value.length > 0;
}
/**
 * A type guard for {@link RuntimeObject}.
 *
 * @param value - The value to check.
 * @returns Whether the specified value has a runtime type of `object` and is
 * neither `null` nor an `Array`.
 */ function isObject(value) {
    return Boolean(value) && typeof value === "object" && !Array.isArray(value);
}
/**
 * Check if the value is plain object.
 *
 * @param value - Value to be checked.
 * @returns True if an object is the plain JavaScript object,
 * false if the object is not plain (e.g. function).
 */ function isPlainObject(value) {
    if (typeof value !== "object" || value === null) {
        return false;
    }
    try {
        let proto = value;
        while(Object.getPrototypeOf(proto) !== null){
            proto = Object.getPrototypeOf(proto);
        }
        return Object.getPrototypeOf(value) === proto;
    } catch  {
        return false;
    }
}
/**
 * Check if the given code is a valid JSON-RPC server error code.
 *
 * @param code - The error code.
 * @returns Whether the given code is a valid JSON-RPC server error code.
 */ function isJsonRpcServerError(code) {
    return code >= -32099 && code <= -32e3;
}
function isJsonRpcError(value) {
    const castValue = value;
    if (!castValue) return false;
    if (!isValidCode(castValue.code) || !isValidString(castValue.message)) return false;
    if (castValue.stack && !isValidString(castValue.stack)) return false;
    return true;
}
/**
 * Gets the message for a given code, or a fallback message if the code has
 * no corresponding message.
 *
 * @param code - The error code.
 * @param fallbackMessage - The fallback message to use if the code has no
 * corresponding message.
 * @returns The message for the given code, or the fallback message if the code
 * has no corresponding message.
 */ function getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {
    if (isValidCode(code)) {
        const codeString = code.toString();
        if (_objectHasOwn(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorValues"], codeString)) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorValues"][codeString].message;
        }
        if (isJsonRpcServerError(code)) {
            return JSON_RPC_SERVER_ERROR_MESSAGE;
        }
    }
    return fallbackMessage;
}
const FALLBACK_ERROR = {
    code: FALLBACK_ERROR_CODE,
    message: getMessageFromCode(FALLBACK_ERROR_CODE)
};
function isValidJson(str) {
    try {
        JSON.parse(JSON.stringify(str, (strKey, strVal)=>{
            if (strKey === "__proto__" || strKey === "constructor") {
                throw new Error("Not valid json");
            }
            if (typeof strVal === "function" || typeof strVal === "symbol") {
                throw new Error("Not valid json");
            }
            return strVal;
        }), (propKey, propValue)=>{
            // Strip __proto__ and constructor properties to prevent prototype pollution.
            if (propKey === "__proto__" || propKey === "constructor") {
                return undefined;
            }
            return propValue;
        });
    // this means, it's a valid json so far
    } catch  {
        return false;
    }
    return true;
}
/**
 * Extracts all JSON-serializable properties from an object.
 *
 * @param object - The object in question.
 * @returns An object containing all the JSON-serializable properties.
 */ function serializeObject(object) {
    return Object.getOwnPropertyNames(object).reduce((acc, key)=>{
        const value = object[key];
        if (isValidJson(value)) {
            acc[key] = value;
        }
        return acc;
    }, {});
}
/**
 * Serializes an unknown error to be used as the `cause` in a fallback error.
 *
 * @param error - The unknown error.
 * @returns A JSON-serializable object containing as much information about the original error as possible.
 */ function serializeCause(error) {
    if (Array.isArray(error)) {
        return error.map((entry)=>{
            if (isValidJson(entry)) {
                return entry;
            } else if (isObject(entry)) {
                return serializeObject(entry);
            }
            return null;
        });
    } else if (isObject(error)) {
        return serializeObject(error);
    }
    if (isValidJson(error)) {
        return error;
    }
    return null;
}
/**
 * Construct a JSON-serializable object given an error and a JSON serializable `fallbackError`
 *
 * @param error - The error in question.
 * @param fallbackError - A JSON serializable fallback error.
 * @returns A JSON serializable error object.
 */ function buildError(error, fallbackError) {
    // If an error specifies a `serialize` function, we call it and return the result.
    if (error && typeof error === "object" && "serialize" in error && typeof error.serialize === "function") {
        return error.serialize();
    }
    if (isJsonRpcError(error)) {
        return error;
    }
    // If the error does not match the JsonRpcError type, use the fallback error, but try to include the original error as `cause`.
    const cause = serializeCause(error);
    const fallbackWithCause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, fallbackError), {}, {
        data: {
            cause
        }
    });
    return fallbackWithCause;
}
/**
 * Serializes the given error to an Ethereum JSON RPC-compatible error object.
 * If the given error is not fully compatible, it will be preserved on the
 * returned object's data.cause property.
 *
 * @param error - The error to serialize.
 * @param options - Options bag.
 * @param options.fallbackError - The error to return if the given error is
 * not compatible. Should be a JSON serializable value.
 * @param options.shouldIncludeStack - Whether to include the error's stack
 * on the returned object.
 * @returns The serialized error.
 */ function serializeJrpcError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = true } = {}) {
    if (!isJsonRpcError(fallbackError)) {
        throw new Error("Must provide fallback error with integer number code and string message.");
    }
    const serialized = buildError(error, fallbackError);
    if (!shouldIncludeStack) {
        delete serialized.stack;
    }
    return serialized;
}
/**
 * Returns true if supplied error data has a usable `cause` property; false otherwise.
 *
 * @param data - Optional data to validate.
 * @returns Whether cause property is present and an object.
 */ function dataHasCause(data) {
    return isObject(data) && _objectHasOwn(data, "cause") && isObject(data.cause);
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-classes.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "EthereumProviderError",
    ()=>EthereumProviderError,
    "JsonRpcError",
    ()=>JsonRpcError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$stable$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/json-stable-stringify/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/utils.js [app-client] (ecmascript)");
;
;
;
var _objectHasOwn = function(object, property) {
    if (typeof object === 'undefined' || object === null) {
        throw new TypeError('Cannot convert undefined or null to object');
    }
    return Object.prototype.hasOwnProperty.call(Object(object), property);
};
/**
 * Check if the given code is a valid JSON-RPC error code.
 *
 * @param code - The code to check.
 * @returns Whether the code is valid.
 */ function isValidEthProviderCode(code) {
    return Number.isInteger(code) && code >= 1000 && code <= 4999;
}
/**
 * A JSON replacer function that omits circular references.
 *
 * @param _ - The key being replaced.
 * @param value - The value being replaced.
 * @returns The value to use in place of the original value.
 */ function stringifyReplacer(_, value) {
    if (value === "[Circular]") {
        return undefined;
    }
    return value;
}
/**
 * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors
 * per EIP-1474.
 *
 * Permits any integer error code.
 */ class JsonRpcError extends Error {
    constructor(code, message, data){
        if (!Number.isInteger(code)) {
            throw new Error('"code" must be an integer.');
        }
        if (!message || typeof message !== "string") {
            throw new Error('"message" must be a non-empty string.');
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["dataHasCause"])(data)) {
            super(message, {
                cause: data.cause
            });
            // Browser backwards-compatibility fallback
            // The `cause` definition can be removed when tsconfig lib and/or target have changed to >=es2022
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "cause", void 0);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "code", void 0);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "data", void 0);
            if (!_objectHasOwn(this, "cause")) {
                Object.assign(this, {
                    cause: data.cause
                });
            }
        } else {
            super(message);
            // The `cause` definition can be removed when tsconfig lib and/or target have changed to >=es2022
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "cause", void 0);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "code", void 0);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "data", void 0);
        }
        if (data !== undefined) {
            this.data = data;
        }
        this.code = code;
        this.cause = data === null || data === void 0 ? void 0 : data.cause;
    }
    /**
   * Get the error as JSON-serializable object.
   *
   * @returns A plain object with all public class properties.
   */ serialize() {
        const serialized = {
            code: this.code,
            message: this.message
        };
        if (this.data !== undefined) {
            // `this.data` is not guaranteed to be a plain object, but this simplifies
            // the type guard below. We can safely cast it because we know it's a
            // JSON-serializable value.
            serialized.data = this.data;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(this.data)) {
                serialized.data.cause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeCause"])(this.data.cause);
            }
        }
        if (this.stack) {
            serialized.stack = this.stack;
        }
        return serialized;
    }
    /**
   * Get a string representation of the serialized error, omitting any circular
   * references.
   *
   * @returns A string representation of the serialized error.
   */ toString() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$stable$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this.serialize(), {
            replacer: stringifyReplacer,
            space: 2
        });
    }
}
/**
 * Error subclass implementing Ethereum Provider errors per EIP-1193.
 * Permits integer error codes in the [ 1000 <= 4999 ] range.
 */ class EthereumProviderError extends JsonRpcError {
    /**
   * Create an Ethereum Provider JSON-RPC error.
   *
   * @param code - The JSON-RPC error code. Must be an integer in the
   * `1000 <= n <= 4999` range.
   * @param message - The JSON-RPC error message.
   * @param data - Optional data to include in the error.
   */ constructor(code, message, data){
        if (!isValidEthProviderCode(code)) {
            throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');
        }
        super(code, message, data);
    }
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "providerErrors",
    ()=>providerErrors,
    "rpcErrors",
    ()=>rpcErrors
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-classes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/utils.js [app-client] (ecmascript)");
;
;
;
/**
 * Get an error message and optional data from an options bag.
 *
 * @param arg - The error message or options bag.
 * @returns A tuple containing the error message and optional data.
 */ function parseOpts(arg) {
    if (arg) {
        if (typeof arg === "string") {
            return [
                arg
            ];
        } else if (typeof arg === "object" && !Array.isArray(arg)) {
            const { message, data } = arg;
            if (message && typeof message !== "string") {
                throw new Error("Must specify string message.");
            }
            return [
                message !== null && message !== void 0 ? message : undefined,
                data
            ];
        }
    }
    return [];
}
/**
 * Get a generic JSON-RPC error class instance.
 *
 * @param code - The error code.
 * @param arg - The error message or options bag.
 * @returns An instance of the {@link JsonRpcError} class.
 */ function getJsonRpcError(code, arg) {
    const [message, data] = parseOpts(arg);
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JsonRpcError"](code, message !== null && message !== void 0 ? message : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getMessageFromCode"])(code), data);
}
/**
 * Get an Ethereum Provider error class instance.
 *
 * @param code - The error code.
 * @param arg - The error message or options bag.
 * @returns An instance of the {@link EthereumProviderError} class.
 */ function getEthProviderError(code, arg) {
    const [message, data] = parseOpts(arg);
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EthereumProviderError"](code, message !== null && message !== void 0 ? message : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getMessageFromCode"])(code), data);
}
const rpcErrors = {
    /**
   * Get a JSON RPC 2.0 Parse (-32700) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ parse: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.parse, arg),
    /**
   * Get a JSON RPC 2.0 Invalid Request (-32600) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ invalidRequest: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.invalidRequest, arg),
    /**
   * Get a JSON RPC 2.0 Invalid Params (-32602) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ invalidParams: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.invalidParams, arg),
    /**
   * Get a JSON RPC 2.0 Method Not Found (-32601) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ methodNotFound: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.methodNotFound, arg),
    /**
   * Get a JSON RPC 2.0 Internal (-32603) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ internal: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.internal, arg),
    /**
   * Get a JSON RPC 2.0 Server error.
   * Permits integer error codes in the [ -32099 <= -32005 ] range.
   * Codes -32000 through -32004 are reserved by EIP-1474.
   *
   * @param opts - The error options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ server: (opts)=>{
        if (!opts || typeof opts !== "object" || Array.isArray(opts)) {
            throw new Error("Ethereum RPC Server errors must provide single object argument.");
        }
        const { code } = opts;
        if (!Number.isInteger(code) || code > -32005 || code < -32099) {
            throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');
        }
        return getJsonRpcError(code, opts);
    },
    /**
   * Get an Ethereum JSON RPC Invalid Input (-32000) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ invalidInput: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.invalidInput, arg),
    /**
   * Get an Ethereum JSON RPC Resource Not Found (-32001) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ resourceNotFound: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.resourceNotFound, arg),
    /**
   * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ resourceUnavailable: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.resourceUnavailable, arg),
    /**
   * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ transactionRejected: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.transactionRejected, arg),
    /**
   * Get an Ethereum JSON RPC Method Not Supported (-32004) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ methodNotSupported: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.methodNotSupported, arg),
    /**
   * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ limitExceeded: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.limitExceeded, arg)
};
const providerErrors = {
    /**
   * Get an Ethereum Provider User Rejected Request (4001) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ userRejectedRequest: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.userRejectedRequest, arg);
    },
    /**
   * Get an Ethereum Provider Unauthorized (4100) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ unauthorized: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.unauthorized, arg);
    },
    /**
   * Get an Ethereum Provider Unsupported Method (4200) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ unsupportedMethod: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.unsupportedMethod, arg);
    },
    /**
   * Get an Ethereum Provider Not Connected (4900) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ disconnected: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.disconnected, arg);
    },
    /**
   * Get an Ethereum Provider Chain Not Connected (4901) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ chainDisconnected: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.chainDisconnected, arg);
    },
    /**
   * Get a custom Ethereum Provider error.
   *
   * @param opts - The error options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ custom: (opts)=>{
        if (!opts || typeof opts !== "object" || Array.isArray(opts)) {
            throw new Error("Ethereum Provider custom errors must provide single object argument.");
        }
        const { code, message, data } = opts;
        if (!message || typeof message !== "string") {
            throw new Error('"message" must be a nonempty string');
        }
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EthereumProviderError"](code, message, data);
    }
};
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/logger.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "log",
    ()=>log
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
;
const log = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].getLogger("auth");
log.setLevel("error");
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/serializableError.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SerializableError",
    ()=>SerializableError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$stable$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/json-stable-stringify/index.js [app-client] (ecmascript)");
;
;
class SerializableError extends Error {
    constructor({ code, message, data }){
        if (!Number.isInteger(code)) {
            throw new Error("code must be an integer");
        }
        if (!message || typeof message !== "string") {
            throw new Error("message must be string");
        }
        super(message);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "code", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "data", void 0);
        this.code = code;
        if (data !== undefined) {
            this.data = data;
        }
    }
    toString() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$stable$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({
            code: this.code,
            message: this.message,
            data: this.data,
            stack: this.stack
        });
    }
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "JRPCEngine",
    ()=>JRPCEngine,
    "createEngineStream",
    ()=>createEngineStream,
    "mergeMiddleware",
    ()=>mergeMiddleware,
    "providerAsMiddleware",
    ()=>providerAsMiddleware,
    "providerFromEngine",
    ()=>providerFromEngine,
    "providerFromMiddleware",
    ()=>providerFromMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$readable$2d$stream$2f$lib$2f$ours$2f$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/readable-stream/lib/ours/browser.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/logger.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/serializableError.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-classes.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
function constructFallbackError(error) {
    const { message = "", code = -32603, stack = "Stack trace is not available.", data = "" } = error;
    const codeNumber = parseInt((code === null || code === void 0 ? void 0 : code.toString()) || "-32603");
    return {
        message: message || (error === null || error === void 0 ? void 0 : error.toString()) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getMessageFromCode"])(codeNumber),
        code: codeNumber,
        stack,
        data: data || message || (error === null || error === void 0 ? void 0 : error.toString())
    };
}
/**
 * A JSON-RPC request and response processor.
 * Give it a stack of middleware, pass it requests, and get back responses.
 */ class JRPCEngine extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SafeEventEmitter"] {
    constructor(){
        super();
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_middleware", void 0);
        this._middleware = [];
    }
    /**
   * Serially executes the given stack of middleware.
   *
   * @returns An array of any error encountered during middleware execution,
   * a boolean indicating whether the request was completed, and an array of
   * middleware-defined return handlers.
   */ static async _runAllMiddleware(req, res, middlewareStack) {
        const returnHandlers = [];
        let error = null;
        let isComplete = false;
        // Go down stack of middleware, call and collect optional returnHandlers
        for (const middleware of middlewareStack){
            [error, isComplete] = await JRPCEngine._runMiddleware(req, res, middleware, returnHandlers);
            if (isComplete) {
                break;
            }
        }
        return [
            error,
            isComplete,
            returnHandlers.reverse()
        ];
    }
    /**
   * Runs an individual middleware.
   *
   * @returns An array of any error encountered during middleware execution,
   * and a boolean indicating whether the request should end.
   */ static _runMiddleware(req, res, middleware, returnHandlers) {
        return new Promise((resolve)=>{
            const end = (err)=>{
                const error = err || res.error;
                if (error) {
                    if (typeof error === "object" && Object.keys(error).includes("stack") === false) error.stack = "Stack trace is not available.";
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error(error);
                    res.error = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeJrpcError"])(error, {
                        shouldIncludeStack: true,
                        fallbackError: constructFallbackError(error)
                    });
                }
                // True indicates that the request should end
                resolve([
                    error,
                    true
                ]);
            };
            const next = (returnHandler)=>{
                if (res.error) {
                    end(res.error);
                } else {
                    if (returnHandler) {
                        if (typeof returnHandler !== "function") {
                            end(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                                code: -32603,
                                message: "JRPCEngine: 'next' return handlers must be functions"
                            }));
                        }
                        returnHandlers.push(returnHandler);
                    }
                    // False indicates that the request should not end
                    resolve([
                        null,
                        false
                    ]);
                }
            };
            try {
                middleware(req, res, next, end);
            } catch (error) {
                end(error);
            }
        });
    }
    /**
   * Serially executes array of return handlers. The request and response are
   * assumed to be in their scope.
   */ static async _runReturnHandlers(handlers) {
        for (const handler of handlers){
            await new Promise((resolve, reject)=>{
                handler((err)=>err ? reject(err) : resolve());
            });
        }
    }
    /**
   * Throws an error if the response has neither a result nor an error, or if
   * the "isComplete" flag is falsy.
   */ static _checkForCompletion(_req, res, isComplete) {
        if (!("result" in res) && !("error" in res)) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: "Response has no error or result for request"
            });
        }
        if (!isComplete) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: "Nothing ended request"
            });
        }
    }
    /**
   * Add a middleware function to the engine's middleware stack.
   *
   * @param middleware - The middleware function to add.
   */ push(middleware) {
        this._middleware.push(middleware);
    }
    /**
   * Handle a JSON-RPC request, and return a response.
   *
   * @param request - The request to handle.
   * @param callback - An error-first callback that will receive the response.
   */ /**
   * Handle an array of JSON-RPC requests, and return an array of responses.
   *
   * @param request - The requests to handle.
   * @param callback - An error-first callback that will receive the array of
   * responses.
   */ /**
   * Handle a JSON-RPC request, and return a response.
   *
   * @param request - The request to handle.
   * @returns A promise that resolves with the response, or rejects with an
   * error.
   */ /**
   * Handle an array of JSON-RPC requests, and return an array of responses.
   *
   * @param request - The requests to handle.
   * @returns A promise that resolves with the array of responses, or rejects
   * with an error.
   */ // eslint-disable-next-line @typescript-eslint/no-explicit-any
    handle(req, cb) {
        if (cb && typeof cb !== "function") {
            throw new Error('"callback" must be a function if provided.');
        }
        if (Array.isArray(req)) {
            if (cb) {
                return this._handleBatch(req, cb);
            }
            return this._handleBatch(req);
        }
        if (cb) {
            return this._handle(req, cb);
        }
        return this._promiseHandle(req);
    }
    /**
   * Returns this engine as a middleware function that can be pushed to other
   * engines.
   *
   * @returns This engine as a middleware function.
   */ asMiddleware() {
        return async (req, res, next, end)=>{
            try {
                const [middlewareError, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);
                if (isComplete) {
                    await JRPCEngine._runReturnHandlers(returnHandlers);
                    return end(middlewareError);
                }
                return next(async (handlerCallback)=>{
                    try {
                        await JRPCEngine._runReturnHandlers(returnHandlers);
                    } catch (error) {
                        return handlerCallback(error);
                    }
                    return handlerCallback();
                });
            } catch (error) {
                return end(error);
            }
        };
    }
    /**
   * Like _handle, but for batch requests.
   */ /**
   * Like _handle, but for batch requests.
   */ async _handleBatch(reqs, cb) {
        // The order here is important
        try {
            // 2. Wait for all requests to finish, or throw on some kind of fatal
            // error
            const responses = await Promise.all(// 1. Begin executing each request in the order received
            reqs.map(this._promiseHandle.bind(this)));
            // 3. Return batch response
            if (cb) {
                return cb(null, responses);
            }
            return responses;
        } catch (error) {
            if (cb) {
                return cb(error);
            }
            throw error;
        }
    }
    /**
   * A promise-wrapped _handle.
   */ _promiseHandle(req) {
        return new Promise((resolve, reject)=>{
            this._handle(req, (_err, res)=>{
                // There will always be a response, and it will always have any error
                // that is caught and propagated.
                if (_err && res === undefined) {
                    reject(_err);
                } else resolve(res);
            }).catch(reject);
        });
    }
    /**
   * Ensures that the request object is valid, processes it, and passes any
   * error and the response object to the given callback.
   *
   * Does not reject.
   */ async _handle(callerReq, cb) {
        if (!callerReq || Array.isArray(callerReq) || typeof callerReq !== "object") {
            const error = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: "request must be plain object"
            });
            return cb(error, {
                id: undefined,
                jsonrpc: "2.0",
                error
            });
        }
        if (typeof callerReq.method !== "string") {
            const error = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: "method must be string"
            });
            return cb(error, {
                id: callerReq.id,
                jsonrpc: "2.0",
                error
            });
        }
        const req = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, callerReq);
        const res = {
            id: req.id,
            jsonrpc: req.jsonrpc
        };
        let error = null;
        try {
            await this._processRequest(req, res);
        } catch (_error) {
            // A request handler error, a re-thrown middleware error, or something
            // unexpected.
            error = _error;
        }
        if (error) {
            // Ensure no result is present on an errored response
            delete res.result;
            if (!res.error) {
                if (typeof error === "object" && Object.keys(error).includes("stack") === false) error.stack = "Stack trace is not available.";
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error(error);
                res.error = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeJrpcError"])(error, {
                    shouldIncludeStack: true,
                    fallbackError: constructFallbackError(error)
                });
            }
        }
        return cb(error, res);
    }
    /**
   * For the given request and response, runs all middleware and their return
   * handlers, if any, and ensures that internal request processing semantics
   * are satisfied.
   */ async _processRequest(req, res) {
        const [error, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);
        // Throw if "end" was not called, or if the response has neither a result
        // nor an error.
        JRPCEngine._checkForCompletion(req, res, isComplete);
        // The return handlers should run even if an error was encountered during
        // middleware processing.
        await JRPCEngine._runReturnHandlers(returnHandlers);
        // Now we re-throw the middleware processing error, if any, to catch it
        // further up the call chain.
        if (error) {
            throw error;
        }
    }
}
function mergeMiddleware(middlewareStack) {
    const engine = new JRPCEngine();
    middlewareStack.forEach((middleware)=>{
        engine.push(middleware);
    });
    return engine.asMiddleware();
}
function createEngineStream(opts) {
    if (!opts || !opts.engine) {
        throw new Error("Missing engine parameter!");
    }
    const { engine } = opts;
    // eslint-disable-next-line prefer-const
    let stream;
    function read() {
        return undefined;
    }
    function write(req, _encoding, cb) {
        engine.handle(req, (_err, res)=>{
            stream.push(res);
        });
        cb();
    }
    stream = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$readable$2d$stream$2f$lib$2f$ours$2f$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Duplex"]({
        objectMode: true,
        read,
        write
    });
    // forward notifications
    if (engine.on) {
        engine.on("notification", (message)=>{
            stream.push(message);
        });
    }
    return stream;
}
function providerFromEngine(engine) {
    const provider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SafeEventEmitter"]();
    // handle both rpc send methods
    provider.sendAsync = async (req)=>{
        const res = await engine.handle(req);
        if (res.error) {
            var _err$code, _err$message;
            if (typeof res.error === "object" && Object.keys(res.error).includes("stack") === false) res.error.stack = "Stack trace is not available.";
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error(res.error);
            const err = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeJrpcError"])(res.error, {
                fallbackError: constructFallbackError(res.error),
                shouldIncludeStack: true
            });
            const errorCode = (_err$code = err === null || err === void 0 ? void 0 : err.code) !== null && _err$code !== void 0 ? _err$code : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.internal;
            const error = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JsonRpcError"](errorCode, (_err$message = err === null || err === void 0 ? void 0 : err.message) !== null && _err$message !== void 0 ? _err$message : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getMessageFromCode"])(errorCode), err === null || err === void 0 ? void 0 : err.data);
            throw error;
        }
        return res.result;
    };
    provider.send = (req, callback)=>{
        if (typeof callback !== "function") {
            throw new Error('Must provide callback to "send" method.');
        }
        engine.handle(req, callback);
    };
    // forward notifications
    if (engine.on) {
        engine.on("notification", (message)=>{
            provider.emit("data", null, message);
        });
    }
    provider.request = async (args)=>{
        const req = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, args), {}, {
            id: Math.random().toString(36).slice(2),
            jsonrpc: "2.0"
        });
        const res = await provider.sendAsync(req);
        return res;
    };
    return provider;
}
function providerFromMiddleware(middleware) {
    const engine = new JRPCEngine();
    engine.push(middleware);
    const provider = providerFromEngine(engine);
    return provider;
}
function providerAsMiddleware(provider) {
    return async (req, res, _next, end)=>{
        // send request to provider
        try {
            const providerRes = await provider.sendAsync(req);
            res.result = providerRes;
            return end();
        } catch (error) {
            return end(error);
        }
    };
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpc.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createAsyncMiddleware",
    ()=>createAsyncMiddleware,
    "createErrorMiddleware",
    ()=>createErrorMiddleware,
    "createIdRemapMiddleware",
    ()=>createIdRemapMiddleware,
    "createLoggerMiddleware",
    ()=>createLoggerMiddleware,
    "createScaffoldMiddleware",
    ()=>createScaffoldMiddleware,
    "createStreamMiddleware",
    ()=>createStreamMiddleware,
    "getRpcPromiseCallback",
    ()=>getRpcPromiseCallback
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$readable$2d$stream$2f$lib$2f$ours$2f$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/readable-stream/lib/ours/browser.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/serializableError.js [app-client] (ecmascript)");
;
;
;
const getRpcPromiseCallback = (resolve, reject, unwrapResult = true)=>(error, response)=>{
        if (error || response.error) {
            reject(error || response.error);
        } else if (!unwrapResult || Array.isArray(response)) {
            resolve(response);
        } else {
            resolve(response.result);
        }
    };
function createErrorMiddleware(log) {
    return (req, res, next, end)=>{
        try {
            // json-rpc-engine will terminate the request when it notices this error
            if (typeof req.method !== "string" || !req.method) {
                res.error = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                    code: -32603,
                    message: "invalid method"
                });
                end();
                return;
            }
            next((done)=>{
                const { error } = res;
                if (!error) {
                    return done();
                }
                log.error(`Auth - RPC Error: ${error.message}`, error);
                return done();
            });
        } catch (error) {
            log.error(`Auth - RPC Error thrown: ${error.message}`, error);
            res.error = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: error.message
            });
            end();
        }
    };
}
function createStreamMiddleware() {
    const idMap = {};
    function readNoop() {
        return false;
    }
    const events = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SafeEventEmitter"]();
    function processResponse(res) {
        const context = idMap[res.id];
        if (!context) {
            throw new Error(`StreamMiddleware - Unknown response id "${res.id}"`);
        }
        delete idMap[res.id];
        // copy whole res onto original res
        Object.assign(context.res, res);
        // run callback on empty stack,
        // prevent internal stream-handler from catching errors
        setTimeout(context.end);
    }
    function processNotification(res) {
        events.emit("notification", res);
    }
    function processMessage(res, _encoding, cb) {
        let err;
        try {
            const isNotification = !res.id;
            if (isNotification) {
                processNotification(res);
            } else {
                processResponse(res);
            }
        } catch (_err) {
            err = _err;
        }
        // continue processing stream
        cb(err);
    }
    const stream = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$readable$2d$stream$2f$lib$2f$ours$2f$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Duplex"]({
        objectMode: true,
        read: readNoop,
        write: processMessage
    });
    const middleware = (req, res, next, end)=>{
        // write req to stream
        stream.push(req);
        // register request on id map
        idMap[req.id] = {
            req,
            res,
            next,
            end
        };
    };
    return {
        events,
        middleware,
        stream
    };
}
function createScaffoldMiddleware(handlers) {
    return (req, res, next, end)=>{
        const handler = handlers[req.method];
        // if no handler, return
        if (handler === undefined) {
            return next();
        }
        // if handler is fn, call as middleware
        if (typeof handler === "function") {
            return handler(req, res, next, end);
        }
        // if handler is some other value, use as result
        res.result = handler;
        return end();
    };
}
function createIdRemapMiddleware() {
    return (req, res, next, _end)=>{
        const originalId = req.id;
        const newId = Math.random().toString(36).slice(2);
        req.id = newId;
        res.id = newId;
        next((done)=>{
            req.id = originalId;
            res.id = originalId;
            done();
        });
    };
}
function createLoggerMiddleware(logger) {
    return (req, res, next, _)=>{
        logger.debug("REQ", req, "RES", res);
        next();
    };
}
function createAsyncMiddleware(asyncMiddleware) {
    return async (req, res, next, end)=>{
        // nextPromise is the key to the implementation
        // it is resolved by the return handler passed to the
        // "next" function
        let resolveNextPromise;
        const nextPromise = new Promise((resolve)=>{
            resolveNextPromise = resolve;
        });
        let returnHandlerCallback = null;
        let nextWasCalled = false;
        // This will be called by the consumer's async middleware.
        const asyncNext = async ()=>{
            nextWasCalled = true;
            // We pass a return handler to next(). When it is called by the engine,
            // the consumer's async middleware will resume executing.
            next((runReturnHandlersCallback)=>{
                // This callback comes from JRPCEngine._runReturnHandlers
                returnHandlerCallback = runReturnHandlersCallback;
                resolveNextPromise();
            });
            await nextPromise;
        };
        try {
            await asyncMiddleware(req, res, asyncNext);
            if (nextWasCalled) {
                await nextPromise; // we must wait until the return handler is called
                returnHandlerCallback(null);
            } else {
                end(null);
            }
        } catch (err) {
            const error = err;
            if (returnHandlerCallback) {
                returnHandlerCallback(error);
            } else {
                end(error);
            }
        }
    };
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/interfaces.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "LANGUAGES",
    ()=>LANGUAGES,
    "LANGUAGE_MAP",
    ()=>LANGUAGE_MAP,
    "MFA_FACTOR",
    ()=>MFA_FACTOR,
    "THEME_MODES",
    ()=>THEME_MODES
]);
// autocomplete workaround https://github.com/microsoft/TypeScript/issues/29729
const LANGUAGES = {
    en: "en",
    ja: "ja",
    ko: "ko",
    de: "de",
    zh: "zh",
    es: "es",
    fr: "fr",
    pt: "pt",
    nl: "nl",
    tr: "tr",
    am: "am"
};
const LANGUAGE_MAP = {
    en: "english",
    ja: "japanese",
    ko: "korean",
    de: "german",
    zh: "mandarin",
    es: "spanish",
    fr: "french",
    pt: "portuguese",
    nl: "dutch",
    tr: "turkish",
    am: "amharic"
};
const THEME_MODES = {
    light: "light",
    dark: "dark",
    auto: "auto"
};
const MFA_FACTOR = {
    DEVICE: "deviceShareFactor",
    BACKUP_SHARE: "backUpShareFactor",
    SOCIAL_BACKUP: "socialBackupFactor",
    PASSWORD: "passwordFactor",
    PASSKEYS: "passkeysFactor",
    AUTHENTICATOR: "authenticatorFactor"
};
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/AuthProvider.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AuthProvider",
    ()=>AuthProvider
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/helpers.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$interfaces$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/interfaces.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/logger.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
;
;
;
;
;
;
const authServiceIframeMap = new Map();
function getTheme(theme) {
    if (theme === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$interfaces$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["THEME_MODES"].light) return "light";
    if (theme === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$interfaces$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["THEME_MODES"].dark) return "dark";
    return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
}
class AuthProvider {
    constructor({ sdkUrl, whiteLabel }){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "sdkUrl", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "whiteLabel", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "initialized", false);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "loginCallbackSuccess", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "loginCallbackFailed", null);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "embedNonce", (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["randomId"])());
        this.sdkUrl = sdkUrl;
        this.whiteLabel = whiteLabel;
    }
    get targetOrigin() {
        return new URL(this.sdkUrl).origin;
    }
    getAuthServiceIframe() {
        return authServiceIframeMap.get(this.embedNonce);
    }
    registerAuthServiceIframe(iframe) {
        authServiceIframeMap.set(this.embedNonce, iframe);
    }
    cleanup() {
        const iframe = authServiceIframeMap.get(this.embedNonce);
        if (iframe && iframe.parentNode) {
            iframe.parentNode.removeChild(iframe);
            authServiceIframeMap.delete(this.embedNonce);
        }
    }
    async init({ network, clientId }) {
        if (typeof window === "undefined" || typeof document === "undefined") throw new Error("window or document is not available");
        if (this.initialized) throw new Error("AuthProvider already initialized");
        const authIframeUrl = new URL(this.sdkUrl);
        if (authIframeUrl.pathname.endsWith("/")) authIframeUrl.pathname += "frame";
        else authIframeUrl.pathname += "/frame";
        const hashParams = new URLSearchParams();
        hashParams.append("origin", window.location.origin);
        hashParams.append("nonce", this.embedNonce);
        authIframeUrl.hash = hashParams.toString();
        const colorScheme = getTheme(this.whiteLabel.mode || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$interfaces$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["THEME_MODES"].light);
        const authServiceIframe = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["htmlToElement"])(`<iframe
        id="${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["IFRAME_MODAL_ID"]}-${this.embedNonce}"
        class="${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["IFRAME_MODAL_ID"]}-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${authIframeUrl.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;
        height: 100%; border: none; border-radius: 0; color-scheme: ${colorScheme};"
        allow="clipboard-write"
      ></iframe>`);
        this.registerAuthServiceIframe(authServiceIframe);
        return new Promise((resolve, reject)=>{
            try {
                window.document.body.appendChild(authServiceIframe);
                const handleMessage = (event)=>{
                    var _this$getAuthServiceI, _this$loginCallbackFa, _this$loginCallbackSu;
                    if (event.origin !== this.targetOrigin) return;
                    const { data } = event;
                    const { type, nonce } = data;
                    // dont do anything if the nonce is not the same.
                    if (nonce !== this.embedNonce) return;
                    const messageData = data.data;
                    switch(type){
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPC_METHODS"].SETUP_COMPLETE:
                            (_this$getAuthServiceI = this.getAuthServiceIframe()) === null || _this$getAuthServiceI === void 0 || (_this$getAuthServiceI = _this$getAuthServiceI.contentWindow) === null || _this$getAuthServiceI === void 0 || _this$getAuthServiceI.postMessage({
                                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPC_METHODS"].INIT_DAPP,
                                data: {
                                    network,
                                    clientId
                                }
                            }, this.targetOrigin);
                            this.initialized = true;
                            resolve();
                            break;
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPC_METHODS"].LOGIN_FAILED:
                            (_this$loginCallbackFa = this.loginCallbackFailed) === null || _this$loginCallbackFa === void 0 || _this$loginCallbackFa.call(this, (messageData === null || messageData === void 0 ? void 0 : messageData.error) || "Login failed, reason: unknown");
                            break;
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPC_METHODS"].DISPLAY_IFRAME:
                            this.getAuthServiceIframe().style.display = "block";
                            break;
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPC_METHODS"].HIDE_IFRAME:
                            this.getAuthServiceIframe().style.display = "none";
                            break;
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPC_METHODS"].LOGIN_SUCCESS:
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].info("LOGIN_SUCCESS", messageData);
                            this.getAuthServiceIframe().style.display = "none";
                            if (messageData !== null && messageData !== void 0 && messageData.sessionId) (_this$loginCallbackSu = this.loginCallbackSuccess) === null || _this$loginCallbackSu === void 0 || _this$loginCallbackSu.call(this, messageData);
                            break;
                        default:
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].warn(`Unknown message type: ${type}`);
                            break;
                    }
                };
                window.addEventListener("message", handleMessage);
            } catch (error) {
                reject(error);
            }
        });
    }
    postLoginInitiatedMessage(loginConfig, nonce) {
        var _this$getAuthServiceI2;
        if (!this.initialized) throw new Error("Iframe not initialized");
        (_this$getAuthServiceI2 = this.getAuthServiceIframe().contentWindow) === null || _this$getAuthServiceI2 === void 0 || _this$getAuthServiceI2.postMessage({
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPC_METHODS"].LOGIN_INITIATED,
            data: {
                loginConfig,
                nonce
            }
        }, this.targetOrigin);
        return new Promise((resolve, reject)=>{
            this.loginCallbackSuccess = resolve;
            this.loginCallbackFailed = reject;
        });
    }
    postLoginCancelledMessage(nonce) {
        var _this$getAuthServiceI3;
        if (!this.initialized) throw new Error("Iframe not initialized");
        (_this$getAuthServiceI3 = this.getAuthServiceIframe().contentWindow) === null || _this$getAuthServiceI3 === void 0 || _this$getAuthServiceI3.postMessage({
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JRPC_METHODS"].LOGIN_CANCELLED,
            data: {
                nonce
            }
        }, this.targetOrigin);
    }
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/errors.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AuthError",
    ()=>AuthError,
    "InitializationError",
    ()=>InitializationError,
    "LoginError",
    ()=>LoginError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ts$2d$custom$2d$error$2f$dist$2f$custom$2d$error$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ts-custom-error/dist/custom-error.mjs [app-client] (ecmascript)");
;
;
class AuthError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ts$2d$custom$2d$error$2f$dist$2f$custom$2d$error$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CustomError"] {
    constructor(code, message){
        // takes care of stack and proto
        super(message);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "code", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "message", void 0);
        this.code = code;
        this.message = message || "";
        // Set name explicitly as minification can mangle class names
        Object.defineProperty(this, "name", {
            value: "AuthError"
        });
    }
    toJSON() {
        return {
            name: this.name,
            code: this.code,
            message: this.message
        };
    }
    toString() {
        return JSON.stringify(this.toJSON());
    }
}
class InitializationError extends AuthError {
    constructor(code, message){
        // takes care of stack and proto
        super(code, message);
        // Set name explicitly as minification can mangle class names
        Object.defineProperty(this, "name", {
            value: "InitializationError"
        });
    }
    static fromCode(code, extraMessage = "") {
        return new InitializationError(code, `${InitializationError.messages[code]}, ${extraMessage}`);
    }
    static invalidParams(extraMessage = "") {
        return InitializationError.fromCode(5001, extraMessage);
    }
    static notInitialized(extraMessage = "") {
        return InitializationError.fromCode(5002, extraMessage);
    }
}
/**
 * login errors
 */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(InitializationError, "messages", {
    5000: "Custom",
    5001: "Invalid constructor params",
    5002: "SDK not initialized. please call init first"
});
class LoginError extends AuthError {
    constructor(code, message){
        // takes care of stack and proto
        super(code, message);
        // Set name explicitly as minification can mangle class names
        Object.defineProperty(this, "name", {
            value: "LoginError"
        });
    }
    static fromCode(code, extraMessage = "") {
        return new LoginError(code, `${LoginError.messages[code]}, ${extraMessage}`);
    }
    static invalidLoginParams(extraMessage = "") {
        return LoginError.fromCode(5111, extraMessage);
    }
    static userNotLoggedIn(extraMessage = "") {
        return LoginError.fromCode(5112, extraMessage);
    }
    static popupClosed(extraMessage = "") {
        return LoginError.fromCode(5113, extraMessage);
    }
    static loginFailed(extraMessage = "") {
        return LoginError.fromCode(5114, extraMessage);
    }
    static popupBlocked(extraMessage = "") {
        return LoginError.fromCode(5115, extraMessage);
    }
    static mfaAlreadyEnabled(extraMessage = "") {
        return LoginError.fromCode(5116, extraMessage);
    }
    static mfaNotEnabled(extraMessage = "") {
        return LoginError.fromCode(5117, extraMessage);
    }
}
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(LoginError, "messages", {
    5000: "Custom",
    5111: "Invalid login params",
    5112: "User not logged in.",
    5113: "login popup has been closed by the user",
    5114: "Login failed",
    5115: "Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",
    5116: "MFA already enabled",
    5117: "MFA not yet enabled. Please call `enableMFA` first"
});
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/PopupHandler.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>PopupHandler
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/constants/dist/lib.esm/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/helpers.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$secure$2d$pub$2d$sub$2f$dist$2f$lib$2e$esm$2f$SecurePubSub$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/secure-pub-sub/dist/lib.esm/SecurePubSub.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$events$2f$events$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/events/events.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/errors.js [app-client] (ecmascript)");
;
;
;
;
;
;
class PopupHandler extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$events$2f$events$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EventEmitter"] {
    constructor({ url, target, features, timeout = 30000, sessionSocketUrl, sessionServerUrl }){
        // Disabling the rule here, as it is a false positive.
        super();
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "url", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "target", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "features", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "window", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "windowTimer", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "iClosedWindow", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "timeout", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "sessionSocketUrl", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "sessionServerUrl", void 0);
        this.url = url;
        this.target = target || "_blank";
        this.features = features || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getPopupFeatures"])();
        this.window = undefined;
        this.windowTimer = undefined;
        this.iClosedWindow = false;
        this.timeout = timeout;
        this.sessionServerUrl = sessionServerUrl || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SESSION_SERVER_API_URL"];
        this.sessionSocketUrl = sessionSocketUrl || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SESSION_SERVER_SOCKET_URL"];
        this._setupTimer();
    }
    _setupTimer() {
        this.windowTimer = Number(setInterval(()=>{
            if (this.window && this.window.closed) {
                clearInterval(this.windowTimer);
                setTimeout(()=>{
                    if (!this.iClosedWindow) {
                        this.emit("close");
                    }
                    this.iClosedWindow = false;
                    this.window = undefined;
                }, this.timeout);
            }
            if (this.window === undefined) clearInterval(this.windowTimer);
        }, 500));
    }
    open() {
        var _this$window;
        this.window = window.open(this.url, this.target, this.features);
        if (!this.window) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].popupBlocked();
        if ((_this$window = this.window) !== null && _this$window !== void 0 && _this$window.focus) this.window.focus();
    }
    close() {
        this.iClosedWindow = true;
        if (this.window) this.window.close();
    }
    redirect(locationReplaceOnRedirect) {
        if (locationReplaceOnRedirect) {
            window.location.replace(this.url);
        } else {
            window.location.href = this.url;
        }
    }
    async listenOnChannel(loginId) {
        const securePubSub = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$secure$2d$pub$2d$sub$2f$dist$2f$lib$2e$esm$2f$SecurePubSub$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SecurePubSub"]({
            serverUrl: this.sessionServerUrl,
            socketUrl: this.sessionSocketUrl,
            sameIpCheck: true,
            allowedOrigin: true
        });
        const data = await securePubSub.subscribe(loginId);
        this.close();
        securePubSub.cleanup();
        const parsedData = JSON.parse(data);
        if (parsedData.error) {
            return {
                error: parsedData.error,
                state: parsedData.state
            };
        }
        return parsedData.data;
    }
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/utils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getHashQueryParams",
    ()=>getHashQueryParams,
    "version",
    ()=>version
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/logger.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
;
;
;
// don't use destructuring for process.env cause it messes up webpack env plugin
const version = "10.8.0";
function getHashQueryParams(replaceUrl = false) {
    const result = {};
    const queryUrlParams = new URLSearchParams(window.location.search.slice(1));
    queryUrlParams.forEach((value, key)=>{
        if (key !== "b64Params") {
            result[key] = value;
        }
    });
    const queryResult = queryUrlParams.get("b64Params");
    if (queryResult) {
        try {
            const queryParams = JSON.parse((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["safeatob"])(queryResult));
            Object.keys(queryParams).forEach((key)=>{
                result[key] = queryParams[key];
            });
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error(error);
        }
    }
    const hashUrlParams = new URLSearchParams(window.location.hash.substring(1));
    hashUrlParams.forEach((value, key)=>{
        if (key !== "b64Params") {
            result[key] = value;
        }
    });
    const hashResult = hashUrlParams.get("b64Params");
    if (hashResult) {
        try {
            const hashParams = JSON.parse((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["safeatob"])(hashResult));
            Object.keys(hashParams).forEach((key)=>{
                result[key] = hashParams[key];
            });
        } catch (error) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error(error);
        }
    }
    if (replaceUrl) {
        const cleanUrl = new URL(window.location.origin + window.location.pathname);
        // https://dapp.com/#b64Params=asacsdnvdfv&state=sldjvndfkjvn&dappValue=sdjvndf
        // NB: `params.size !== 0` evaluates to true even if `.size` isn't implemented and returns `undefined`, like in Safari <17 and Chrome <113.
        if (queryUrlParams.size !== 0) {
            queryUrlParams.delete("error");
            queryUrlParams.delete("state");
            queryUrlParams.delete("b64Params");
            queryUrlParams.delete("sessionNamespace");
            cleanUrl.search = queryUrlParams.toString();
        }
        if (hashUrlParams.size !== 0) {
            hashUrlParams.delete("error");
            hashUrlParams.delete("state");
            hashUrlParams.delete("b64Params");
            hashUrlParams.delete("sessionNamespace");
            cleanUrl.hash = hashUrlParams.toString();
        }
        window.history.replaceState((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, window.history.state), {}, {
            as: cleanUrl.href,
            url: cleanUrl.href
        }), "", cleanUrl.href);
    }
    return result;
}
;
}),
"[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/auth.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Auth",
    ()=>Auth
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/constants/dist/lib.esm/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/enums.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/customauth/dist/lib.esm/utils/helpers.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$session$2d$manager$2f$dist$2f$lib$2e$esm$2f$sessionManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@toruslabs/session-manager/dist/lib.esm/sessionManager.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/logger.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$AuthProvider$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/AuthProvider.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/errors.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$PopupHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/PopupHandler.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/core/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$browserStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/browserStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/no-modal/node_modules/@web3auth/auth/dist/lib.esm/utils/utils.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
class Auth {
    constructor(options){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "state", {});
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "options", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "sessionManager", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "currentStorage", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_storageBaseKey", "auth_store");
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "dappState", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "addVersionInUrls", true);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "authProvider", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "authProviderPromise", void 0);
        if (!options.clientId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["InitializationError"].invalidParams("clientId is required");
        if (!options.network) options.network = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WEB3AUTH_NETWORK"].SAPPHIRE_MAINNET;
        if (!options.buildEnv) options.buildEnv = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUILD_ENV"].PRODUCTION;
        if (!options.sdkMode) options.sdkMode = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SDK_MODE"].DEFAULT;
        if (options.buildEnv === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUILD_ENV"].DEVELOPMENT || options.buildEnv === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUILD_ENV"].TESTING || options.sdkUrl) this.addVersionInUrls = false;
        if (!options.sdkUrl && !options.useMpc) {
            if (options.buildEnv === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUILD_ENV"].DEVELOPMENT) {
                options.sdkUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_SERVICE_DEVELOPMENT_URL"];
                options.dashboardUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_DASHBOARD_DEVELOPMENT_URL"];
            } else if (options.buildEnv === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUILD_ENV"].STAGING) {
                options.sdkUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_SERVICE_STAGING_URL"];
                options.dashboardUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_DASHBOARD_STAGING_URL"];
            } else if (options.buildEnv === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUILD_ENV"].TESTING) {
                options.sdkUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_SERVICE_TESTING_URL"];
                options.dashboardUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_DASHBOARD_TESTING_URL"];
            } else {
                options.sdkUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_SERVICE_PRODUCTION_URL"];
                options.dashboardUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_DASHBOARD_PRODUCTION_URL"];
            }
        }
        if (!options.redirectUrl && typeof window !== "undefined") {
            options.redirectUrl = `${window.location.protocol}//${window.location.host}${window.location.pathname}`;
        }
        if (!options.uxMode) options.uxMode = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT;
        if (typeof options.replaceUrlOnRedirect !== "boolean") options.replaceUrlOnRedirect = true;
        if (typeof options.includeUserDataInToken !== "boolean") options.includeUserDataInToken = true;
        if (!options.originData) options.originData = {};
        if (!options.whiteLabel) options.whiteLabel = {};
        if (!options.authConnectionConfig) options.authConnectionConfig = [];
        if (!options.mfaSettings) options.mfaSettings = {};
        if (!options.storageServerUrl) options.storageServerUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SESSION_SERVER_API_URL"];
        if (!options.sessionSocketUrl) options.sessionSocketUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SESSION_SERVER_SOCKET_URL"];
        if (!options.storage) options.storage = "local";
        if (!options.sessionTime) options.sessionTime = 86400;
        this.options = options;
    }
    get privKey() {
        if (this.options.useMpc) return this.state.factorKey || "";
        return this.state.privKey ? this.state.privKey.padStart(64, "0") : "";
    }
    get coreKitKey() {
        return this.state.coreKitKey ? this.state.coreKitKey.padStart(64, "0") : "";
    }
    get ed25519PrivKey() {
        return this.state.ed25519PrivKey ? this.state.ed25519PrivKey.padStart(128, "0") : "";
    }
    get coreKitEd25519Key() {
        return this.state.coreKitEd25519PrivKey ? this.state.coreKitEd25519PrivKey.padStart(128, "0") : "";
    }
    get sessionId() {
        return this.state.sessionId || "";
    }
    get sessionNamespace() {
        return this.options.sessionNamespace || "";
    }
    get appState() {
        return this.state.userInfo.appState || this.dappState || "";
    }
    get baseUrl() {
        // testing and develop don't have versioning
        if (!this.addVersionInUrls) return `${this.options.sdkUrl}`;
        return `${this.options.sdkUrl}/v${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["version"].split(".")[0]}`;
    }
    get dashboardUrl() {
        // testing and develop don't have versioning
        if (!this.addVersionInUrls) return `${this.options.dashboardUrl}`;
        return `${this.options.dashboardUrl}/v${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["version"].split(".")[0]}`;
    }
    async init() {
        // get sessionNamespace from the redirect result.
        const params = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getHashQueryParams"])(this.options.replaceUrlOnRedirect);
        if (params.sessionNamespace) this.options.sessionNamespace = params.sessionNamespace;
        const storageKey = this.options.sessionKey || (this.options.sessionNamespace ? `${this._storageBaseKey}_${this.options.sessionNamespace}` : this._storageBaseKey);
        this.currentStorage = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$browserStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BrowserStorage"].getInstance(storageKey, this.options.storage);
        const sessionId = this.currentStorage.get("sessionId");
        this.sessionManager = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$session$2d$manager$2f$dist$2f$lib$2e$esm$2f$sessionManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SessionManager"]({
            sessionServerBaseUrl: this.options.storageServerUrl,
            sessionNamespace: this.options.sessionNamespace,
            sessionTime: this.options.sessionTime,
            sessionId,
            allowedOrigin: this.options.sdkUrl
        });
        if (this.options.network === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WEB3AUTH_NETWORK"].TESTNET || this.options.network === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WEB3AUTH_NETWORK"].SAPPHIRE_DEVNET) {
            // using console log because it shouldn't be affected by loglevel config
            // eslint-disable-next-line no-console
            console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`, "color: #FF0000");
        }
        if (this.options.buildEnv !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BUILD_ENV"].PRODUCTION) {
            // using console log because it shouldn't be affected by loglevel config
            // eslint-disable-next-line no-console
            console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`, "color: #FF0000");
        }
        if (params.error) {
            this.dappState = params.state;
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].loginFailed(params.error);
        }
        if (params.sessionId) {
            this.currentStorage.set("sessionId", params.sessionId);
            this.sessionManager.sessionId = params.sessionId;
        }
        if (this.sessionManager.sessionId) {
            const data = await this._authorizeSession();
            // Fill state with correct info from session
            // If session is invalid all the data is unset here.
            this.updateState(data);
            if (Object.keys(data).length === 0) {
                // If session is invalid, unset the sessionId from localStorage.
                this.currentStorage.set("sessionId", "");
            } else {
                this.updateState({
                    sessionId: this.sessionManager.sessionId
                });
            }
        }
        if (this.options.sdkMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SDK_MODE"].IFRAME) {
            this.authProvider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$AuthProvider$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AuthProvider"]({
                sdkUrl: this.baseUrl,
                whiteLabel: this.options.whiteLabel
            });
            if (!this.state.sessionId) {
                this.authProviderPromise = this.authProvider.init({
                    network: this.options.network,
                    clientId: this.options.clientId
                });
                if (params.nonce) {
                    await this.authProviderPromise;
                    await this.postLoginInitiatedMessage(JSON.parse(params.loginParams), params.nonce);
                }
            }
        }
    }
    async login(params) {
        if (!params.authConnection && (!params.authConnectionId || !params.groupedAuthConnectionId)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].invalidLoginParams(`AuthConnection is required`);
        const loginParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, params);
        const dataObject = {
            actionType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_ACTIONS"].LOGIN,
            options: this.options,
            params: loginParams
        };
        const result = await this.authHandler(`${this.baseUrl}/start`, dataObject, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getTimeout"])(params.authConnection));
        if (this.options.uxMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT) return null;
        if (result.error) {
            this.dappState = result.state;
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].loginFailed(result.error);
        }
        this.sessionManager.sessionId = result.sessionId;
        this.options.sessionNamespace = result.sessionNamespace;
        this.currentStorage.set("sessionId", result.sessionId);
        await this.rehydrateSession();
        return {
            privKey: this.privKey
        };
    }
    async postLoginInitiatedMessage(params, nonce) {
        var _this$authProvider;
        if (this.options.sdkMode !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SDK_MODE"].IFRAME) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].invalidLoginParams("Cannot perform this action in default mode.");
        // This is to ensure that the auth provider is initialized before calling postLoginInitiatedMessage
        // This is setup in the init method, if there is no active session.
        if (this.authProviderPromise) await this.authProviderPromise;
        // if there is an active session, we dont load the auth provider in the init method.
        // so we need to initialize it here, if user logged out and then login in again.
        if (!((_this$authProvider = this.authProvider) !== null && _this$authProvider !== void 0 && _this$authProvider.initialized)) {
            await this.authProvider.init({
                network: this.options.network,
                clientId: this.options.clientId
            });
        }
        const result = await this.authProvider.postLoginInitiatedMessage({
            actionType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_ACTIONS"].LOGIN,
            params,
            options: this.options
        }, nonce);
        if (result.error) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].loginFailed(result.error);
        this.sessionManager.sessionId = result.sessionId;
        this.options.sessionNamespace = result.sessionNamespace;
        this.currentStorage.set("sessionId", result.sessionId);
        await this.rehydrateSession();
    }
    async postLoginCancelledMessage(nonce) {
        var _this$authProvider2;
        if (this.options.sdkMode !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SDK_MODE"].IFRAME) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].invalidLoginParams("Cannot perform this action in default mode.");
        if (this.authProviderPromise) await this.authProviderPromise;
        if (!((_this$authProvider2 = this.authProvider) !== null && _this$authProvider2 !== void 0 && _this$authProvider2.initialized)) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["InitializationError"].notInitialized();
        this.authProvider.postLoginCancelledMessage(nonce);
    }
    async logout() {
        if (!this.sessionManager.sessionId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].userNotLoggedIn();
        await this.sessionManager.invalidateSession();
        this.updateState({
            privKey: "",
            coreKitKey: "",
            coreKitEd25519PrivKey: "",
            ed25519PrivKey: "",
            walletKey: "",
            oAuthPrivateKey: "",
            tKey: "",
            metadataNonce: "",
            keyMode: undefined,
            userInfo: {
                name: "",
                profileImage: "",
                dappShare: "",
                idToken: "",
                oAuthIdToken: "",
                oAuthAccessToken: "",
                appState: "",
                email: "",
                authConnectionId: "",
                userId: "",
                groupedAuthConnectionId: "",
                authConnection: "",
                isMfaEnabled: false
            },
            authToken: "",
            sessionId: "",
            factorKey: "",
            signatures: [],
            tssShareIndex: -1,
            tssPubKey: "",
            tssShare: "",
            tssNonce: -1
        });
        this.currentStorage.set("sessionId", "");
    }
    async enableMFA(params) {
        var _this$state$userInfo;
        if (!this.sessionId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].userNotLoggedIn();
        if (this.state.userInfo.isMfaEnabled) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].mfaAlreadyEnabled();
        const dataObject = {
            actionType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_ACTIONS"].ENABLE_MFA,
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options), {}, {
                sdkMode: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SDK_MODE"].DEFAULT
            }),
            params: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, params), {}, {
                authConnection: this.state.userInfo.authConnection,
                authConnectionId: this.state.userInfo.authConnectionId,
                groupedAuthConnectionId: this.state.userInfo.groupedAuthConnectionId,
                extraLoginOptions: {
                    login_hint: this.state.userInfo.userId
                },
                mfaLevel: "mandatory"
            }),
            sessionId: this.sessionId
        };
        const result = await this.authHandler(`${this.baseUrl}/start`, dataObject, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["POPUP_TIMEOUT"]);
        if (this.options.uxMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT) return null;
        if (result.error) {
            this.dappState = result.state;
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].loginFailed(result.error);
        }
        this.sessionManager.sessionId = result.sessionId;
        this.options.sessionNamespace = result.sessionNamespace;
        this.currentStorage.set("sessionId", result.sessionId);
        await this.rehydrateSession();
        return Boolean((_this$state$userInfo = this.state.userInfo) === null || _this$state$userInfo === void 0 ? void 0 : _this$state$userInfo.isMfaEnabled);
    }
    async manageMFA(params) {
        if (!this.sessionId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].userNotLoggedIn();
        if (!this.state.userInfo.isMfaEnabled) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].mfaNotEnabled();
        // in case of redirect mode, redirect url will be dapp specified
        // in case of popup mode, redirect url will be sdk specified
        const defaultParams = {
            dappUrl: `${window.location.origin}${window.location.pathname}`
        };
        const loginId = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$session$2d$manager$2f$dist$2f$lib$2e$esm$2f$sessionManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SessionManager"].generateRandomSessionKey();
        const dataObject = {
            actionType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_ACTIONS"].MANAGE_MFA,
            // manage mfa always opens in a new tab, so need to fix the uxMode to redirect.
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options), {}, {
                uxMode: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT,
                sdkMode: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SDK_MODE"].DEFAULT,
                redirectUrl: `${this.dashboardUrl}/wallet/account`
            }),
            params: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, defaultParams), params), {}, {
                authConnection: this.state.userInfo.authConnection,
                authConnectionId: this.state.userInfo.authConnectionId,
                groupedAuthConnectionId: this.state.userInfo.groupedAuthConnectionId,
                extraLoginOptions: {
                    login_hint: this.state.userInfo.userId
                },
                appState: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsonToBase64"])({
                    loginId
                })
            }),
            sessionId: this.sessionId
        };
        this.createLoginSession(loginId, dataObject, dataObject.options.sessionTime, true);
        const configParams = {
            loginId,
            sessionNamespace: this.options.sessionNamespace,
            storageServerUrl: this.options.storageServerUrl
        };
        const loginUrl = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["constructURL"])({
            baseURL: `${this.baseUrl}/start`,
            hash: {
                b64Params: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsonToBase64"])(configParams)
            }
        });
        window.open(loginUrl, "_blank");
    }
    async manageSocialFactor(actionType, params) {
        if (!this.sessionId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].userNotLoggedIn();
        const dataObject = {
            actionType,
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options), {}, {
                sdkMode: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SDK_MODE"].DEFAULT
            }),
            params: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, params),
            sessionId: this.sessionId
        };
        const result = await this.authHandler(`${this.baseUrl}/start`, dataObject);
        if (this.options.uxMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT) return undefined;
        if (result.error) return false;
        return true;
    }
    async addAuthenticatorFactor(params) {
        if (!this.sessionId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].userNotLoggedIn();
        const dataObject = {
            actionType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_ACTIONS"].ADD_AUTHENTICATOR_FACTOR,
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options), {}, {
                sdkMode: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SDK_MODE"].DEFAULT
            }),
            params: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, params), {}, {
                authConnection: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_CONNECTION"].AUTHENTICATOR
            }),
            sessionId: this.sessionId
        };
        const result = await this.authHandler(`${this.baseUrl}/start`, dataObject);
        if (this.options.uxMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT) return undefined;
        if (result.error) return false;
        return true;
    }
    async addPasskeyFactor(params) {
        if (!this.sessionId) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].userNotLoggedIn();
        const dataObject = {
            actionType: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_ACTIONS"].ADD_PASSKEY_FACTOR,
            options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.options), {}, {
                sdkMode: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SDK_MODE"].DEFAULT
            }),
            params: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, params), {}, {
                authConnection: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AUTH_CONNECTION"].PASSKEYS
            }),
            sessionId: this.sessionId
        };
        const result = await this.authHandler(`${this.baseUrl}/start`, dataObject);
        if (this.options.uxMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT) return undefined;
        if (result.error) return false;
        return true;
    }
    async cleanup() {
        if (this.authProvider) this.authProvider.cleanup();
    }
    getUserInfo() {
        if (!this.sessionManager.sessionId) {
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].userNotLoggedIn();
        }
        return this.state.userInfo;
    }
    async createLoginSession(loginId, data, timeout = 600, skipAwait = false) {
        if (!this.sessionManager) throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["InitializationError"].notInitialized();
        const loginSessionMgr = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$session$2d$manager$2f$dist$2f$lib$2e$esm$2f$sessionManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SessionManager"]({
            sessionServerBaseUrl: data.options.storageServerUrl,
            sessionNamespace: data.options.sessionNamespace,
            sessionTime: timeout,
            // each login key must be used with 10 mins (might be used at the end of popup redirect)
            sessionId: loginId,
            allowedOrigin: this.options.sdkUrl
        });
        const promise = loginSessionMgr.createSession(JSON.parse(JSON.stringify(data)));
        if (data.options.uxMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT && !skipAwait) {
            await promise;
        }
    }
    async _authorizeSession() {
        try {
            if (!this.sessionManager.sessionId) return {};
            const result = await this.sessionManager.authorizeSession();
            return result;
        } catch (err) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["log"].error("authorization failed", err);
            return {};
        }
    }
    updateState(data) {
        this.state = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, this.state), data);
    }
    async rehydrateSession() {
        const result = await this._authorizeSession();
        this.updateState(result);
    }
    async authHandler(url, dataObject, popupTimeout = 1000 * 10) {
        const loginId = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$toruslabs$2f$session$2d$manager$2f$dist$2f$lib$2e$esm$2f$sessionManager$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SessionManager"].generateRandomSessionKey();
        await this.createLoginSession(loginId, dataObject);
        const configParams = {
            loginId,
            sessionNamespace: this.options.sessionNamespace,
            storageServerUrl: this.options.storageServerUrl
        };
        if (this.options.uxMode === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$enums$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UX_MODE"].REDIRECT) {
            const loginUrl = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["constructURL"])({
                baseURL: url,
                hash: {
                    b64Params: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsonToBase64"])(configParams)
                }
            });
            window.location.href = loginUrl;
            return undefined;
        }
        const loginUrl = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$customauth$2f$dist$2f$lib$2e$esm$2f$utils$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["constructURL"])({
            baseURL: url,
            hash: {
                b64Params: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsonToBase64"])(configParams)
            }
        });
        const currentWindow = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$PopupHandler$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]({
            url: loginUrl,
            timeout: popupTimeout,
            sessionServerUrl: this.options.storageServerUrl,
            sessionSocketUrl: this.options.sessionSocketUrl
        });
        return new Promise((resolve, reject)=>{
            currentWindow.on("close", ()=>{
                reject(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$no$2d$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$core$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LoginError"].popupClosed());
            });
            currentWindow.listenOnChannel(loginId).then(resolve).catch(reject);
            try {
                currentWindow.open();
            } catch (error) {
                reject(error);
            }
        });
    }
}
;
}),
"[project]/node_modules/@web3auth/modal/node_modules/@web3auth/auth/dist/lib.esm/utils/constants.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AUTH_ACTIONS",
    ()=>AUTH_ACTIONS,
    "AUTH_DASHBOARD_DEVELOPMENT_URL",
    ()=>AUTH_DASHBOARD_DEVELOPMENT_URL,
    "AUTH_DASHBOARD_PRODUCTION_URL",
    ()=>AUTH_DASHBOARD_PRODUCTION_URL,
    "AUTH_DASHBOARD_STAGING_URL",
    ()=>AUTH_DASHBOARD_STAGING_URL,
    "AUTH_DASHBOARD_TESTING_URL",
    ()=>AUTH_DASHBOARD_TESTING_URL,
    "AUTH_SERVICE_DEVELOPMENT_URL",
    ()=>AUTH_SERVICE_DEVELOPMENT_URL,
    "AUTH_SERVICE_PRODUCTION_URL",
    ()=>AUTH_SERVICE_PRODUCTION_URL,
    "AUTH_SERVICE_STAGING_URL",
    ()=>AUTH_SERVICE_STAGING_URL,
    "AUTH_SERVICE_TESTING_URL",
    ()=>AUTH_SERVICE_TESTING_URL,
    "BUILD_ENV",
    ()=>BUILD_ENV,
    "IFRAME_MODAL_ID",
    ()=>IFRAME_MODAL_ID,
    "JRPC_METHODS",
    ()=>JRPC_METHODS,
    "MFA_LEVELS",
    ()=>MFA_LEVELS,
    "POPUP_TIMEOUT",
    ()=>POPUP_TIMEOUT,
    "SDK_MODE",
    ()=>SDK_MODE,
    "SUPPORTED_KEY_CURVES",
    ()=>SUPPORTED_KEY_CURVES,
    "WEB3AUTH_LEGACY_NETWORK",
    ()=>WEB3AUTH_LEGACY_NETWORK,
    "WEB3AUTH_NETWORK",
    ()=>WEB3AUTH_NETWORK,
    "WEB3AUTH_SAPPHIRE_NETWORK",
    ()=>WEB3AUTH_SAPPHIRE_NETWORK,
    "storeKey",
    ()=>storeKey
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/modal/node_modules/@web3auth/auth/node_modules/@toruslabs/constants/dist/lib.esm/constants.js [app-client] (ecmascript)");
;
;
const storeKey = "auth_store";
const WEB3AUTH_LEGACY_NETWORK = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TORUS_LEGACY_NETWORK"];
const WEB3AUTH_SAPPHIRE_NETWORK = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$modal$2f$node_modules$2f40$web3auth$2f$auth$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TORUS_SAPPHIRE_NETWORK"];
const WEB3AUTH_NETWORK = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, WEB3AUTH_SAPPHIRE_NETWORK), WEB3AUTH_LEGACY_NETWORK);
const SUPPORTED_KEY_CURVES = {
    SECP256K1: "secp256k1",
    ED25519: "ed25519",
    OTHER: "other"
};
const MFA_LEVELS = {
    DEFAULT: "default",
    OPTIONAL: "optional",
    MANDATORY: "mandatory",
    NONE: "none"
};
const AUTH_ACTIONS = {
    LOGIN: "login",
    ENABLE_MFA: "enable_mfa",
    MANAGE_MFA: "manage_mfa",
    ADD_SOCIAL_FACTOR: "add_social_factor",
    MODIFY_SOCIAL_FACTOR: "modify_social_factor",
    ADD_AUTHENTICATOR_FACTOR: "add_authenticator_factor",
    ADD_PASSKEY_FACTOR: "add_passkey_factor"
};
const BUILD_ENV = {
    PRODUCTION: "production",
    DEVELOPMENT: "development",
    STAGING: "staging",
    TESTING: "testing"
};
const SDK_MODE = {
    DEFAULT: "default",
    IFRAME: "iframe"
};
const JRPC_METHODS = {
    SETUP_COMPLETE: "setup_complete",
    INIT_DAPP: "init_dapp",
    LOGIN_INITIATED: "login_initiated",
    LOGIN_CANCELLED: "login_cancelled",
    LOGIN_FAILED: "login_failed",
    LOGIN_SUCCESS: "login_success",
    DISPLAY_IFRAME: "display_iframe",
    HIDE_IFRAME: "hide_iframe"
};
const IFRAME_MODAL_ID = "auth-iframe";
// Auth service urls
const AUTH_SERVICE_DEVELOPMENT_URL = "http://localhost:3000";
const AUTH_SERVICE_STAGING_URL = "https://staging-auth.web3auth.io";
const AUTH_SERVICE_TESTING_URL = "https://develop-auth.web3auth.io";
const AUTH_SERVICE_PRODUCTION_URL = "https://auth.web3auth.io";
// Auth Dashboard urls
const AUTH_DASHBOARD_DEVELOPMENT_URL = "http://localhost:5173";
const AUTH_DASHBOARD_STAGING_URL = "https://staging-account.web3auth.io";
const AUTH_DASHBOARD_TESTING_URL = "https://develop-account.web3auth.io";
const AUTH_DASHBOARD_PRODUCTION_URL = "https://account.web3auth.io";
// 10 seconds
const POPUP_TIMEOUT = 1000 * 10;
;
}),
"[project]/node_modules/@web3auth/modal/node_modules/@web3auth/auth/dist/lib.esm/utils/interfaces.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "LANGUAGES",
    ()=>LANGUAGES,
    "LANGUAGE_MAP",
    ()=>LANGUAGE_MAP,
    "MFA_FACTOR",
    ()=>MFA_FACTOR,
    "THEME_MODES",
    ()=>THEME_MODES
]);
// autocomplete workaround https://github.com/microsoft/TypeScript/issues/29729
const LANGUAGES = {
    en: "en",
    ja: "ja",
    ko: "ko",
    de: "de",
    zh: "zh",
    es: "es",
    fr: "fr",
    pt: "pt",
    nl: "nl",
    tr: "tr",
    am: "am"
};
const LANGUAGE_MAP = {
    en: "english",
    ja: "japanese",
    ko: "korean",
    de: "german",
    zh: "mandarin",
    es: "spanish",
    fr: "french",
    pt: "portuguese",
    nl: "dutch",
    tr: "turkish",
    am: "amharic"
};
const THEME_MODES = {
    light: "light",
    dark: "dark",
    auto: "auto"
};
const MFA_FACTOR = {
    DEVICE: "deviceShareFactor",
    BACKUP_SHARE: "backUpShareFactor",
    SOCIAL_BACKUP: "socialBackupFactor",
    PASSWORD: "passwordFactor",
    PASSKEYS: "passkeysFactor",
    AUTHENTICATOR: "authenticatorFactor"
};
;
}),
"[project]/node_modules/@web3auth/modal/node_modules/@web3auth/auth/dist/lib.esm/utils/whitelabel.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "applyWhiteLabelTheme",
    ()=>applyWhiteLabelTheme,
    "generateWhiteLabelTheme",
    ()=>generateWhiteLabelTheme,
    "getColorsList",
    ()=>getColorsList
]);
function getColorsList(colorPackage, colorsAmount = 3, colorsShiftAmount = 50, mixColor = "black", rotate = 0, saturation = 20, mainColor = "#0346ff") {
    const colorsList = [];
    let step;
    for(step = 0; step < colorsAmount; step += 1){
        colorsList.push(colorPackage(mainColor).rotate((step + 1) / colorsAmount * -rotate).saturate((step + 1) / colorsAmount * (saturation / 100)).mix(colorPackage(mixColor), colorsShiftAmount / 100 * (step + 1) / colorsAmount).hex());
    }
    return colorsList;
}
function generateWhiteLabelTheme(colorPackage, primary) {
    const darkSet = getColorsList(colorPackage, 3, 50, "black", 0, 20, primary);
    const lightSet = getColorsList(colorPackage, 6, 85, "white", 0, 20, primary);
    return [
        ...darkSet.reverse(),
        primary,
        ...lightSet
    ];
}
function applyWhiteLabelTheme(colorPackage, rootElement, theme) {
    if (theme.primary) {
        const themeSet = generateWhiteLabelTheme(colorPackage, theme.primary);
        rootElement.style.setProperty("--app-primary-900", themeSet[0]);
        rootElement.style.setProperty("--app-primary-800", themeSet[1]);
        rootElement.style.setProperty("--app-primary-700", themeSet[2]);
        rootElement.style.setProperty("--app-primary-600", themeSet[3]);
        rootElement.style.setProperty("--app-primary-500", themeSet[4]);
        rootElement.style.setProperty("--app-primary-400", themeSet[5]);
        rootElement.style.setProperty("--app-primary-300", themeSet[6]);
        rootElement.style.setProperty("--app-primary-200", themeSet[7]);
        rootElement.style.setProperty("--app-primary-100", themeSet[8]);
        rootElement.style.setProperty("--app-primary-50", themeSet[9]);
    }
    if (theme.onPrimary) {
        rootElement.style.setProperty("--app-on-primary", theme.onPrimary);
    }
}
;
}),
"[project]/node_modules/@web3auth/modal/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SafeEventEmitter",
    ()=>SafeEventEmitter
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$events$2f$events$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/events/events.js [app-client] (ecmascript)");
;
/* eslint-disable @typescript-eslint/no-explicit-any */ function safeApply(handler, context, args) {
    try {
        Reflect.apply(handler, context, args);
    } catch (err) {
        // Throw error after timeout so as not to interrupt the stack
        setTimeout(()=>{
            throw err;
        });
    }
}
function arrayClone(arr) {
    const n = arr.length;
    const copy = new Array(n);
    for(let i = 0; i < n; i += 1){
        copy[i] = arr[i];
    }
    return copy;
}
class SafeEventEmitter extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$events$2f$events$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EventEmitter"] {
    emit(type, ...args) {
        let doError = type === "error";
        const events = this._events;
        if (events !== undefined) {
            doError = doError && events.error === undefined;
        } else if (!doError) {
            return false;
        }
        // If there is no 'error' event listener then throw.
        if (doError) {
            let er;
            if (args.length > 0) {
                [er] = args;
            }
            if (er instanceof Error) {
                // Note: The comments on the `throw` lines are intentional, they show
                // up in Node's output if this results in an unhandled exception.
                throw er; // Unhandled 'error' event
            }
            // At least give some kind of context to the user
            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ""}`);
            err.context = er;
            throw err; // Unhandled 'error' event
        }
        const handler = events[type];
        if (handler === undefined) {
            return false;
        }
        if (typeof handler === "function") {
            safeApply(handler, this, args);
        } else {
            const len = handler.length;
            const listeners = arrayClone(handler);
            for(let i = 0; i < len; i += 1){
                safeApply(listeners[i], this, args);
            }
        }
        return true;
    }
}
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/utils/constants.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AUTH_ACTIONS",
    ()=>AUTH_ACTIONS,
    "BUILD_ENV",
    ()=>BUILD_ENV,
    "LOGIN_PROVIDER",
    ()=>LOGIN_PROVIDER,
    "MFA_LEVELS",
    ()=>MFA_LEVELS,
    "SUPPORTED_KEY_CURVES",
    ()=>SUPPORTED_KEY_CURVES,
    "UX_MODE",
    ()=>UX_MODE,
    "WEB3AUTH_LEGACY_NETWORK",
    ()=>WEB3AUTH_LEGACY_NETWORK,
    "WEB3AUTH_NETWORK",
    ()=>WEB3AUTH_NETWORK,
    "WEB3AUTH_SAPPHIRE_NETWORK",
    ()=>WEB3AUTH_SAPPHIRE_NETWORK,
    "storeKey",
    ()=>storeKey
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/node_modules/@toruslabs/constants/dist/lib.esm/constants.js [app-client] (ecmascript)");
;
;
const storeKey = "auth_store";
const WEB3AUTH_LEGACY_NETWORK = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TORUS_LEGACY_NETWORK"];
const WEB3AUTH_SAPPHIRE_NETWORK = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$node_modules$2f40$toruslabs$2f$constants$2f$dist$2f$lib$2e$esm$2f$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TORUS_SAPPHIRE_NETWORK"];
const UX_MODE = {
    POPUP: "popup",
    REDIRECT: "redirect"
};
const WEB3AUTH_NETWORK = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, WEB3AUTH_SAPPHIRE_NETWORK), WEB3AUTH_LEGACY_NETWORK);
const SUPPORTED_KEY_CURVES = {
    SECP256K1: "secp256k1",
    ED25519: "ed25519",
    OTHER: "other"
};
const LOGIN_PROVIDER = {
    GOOGLE: "google",
    FACEBOOK: "facebook",
    REDDIT: "reddit",
    DISCORD: "discord",
    TWITCH: "twitch",
    APPLE: "apple",
    LINE: "line",
    GITHUB: "github",
    KAKAO: "kakao",
    LINKEDIN: "linkedin",
    TWITTER: "twitter",
    WEIBO: "weibo",
    WECHAT: "wechat",
    FARCASTER: "farcaster",
    EMAIL_PASSWORDLESS: "email_passwordless",
    SMS_PASSWORDLESS: "sms_passwordless",
    WEBAUTHN: "webauthn",
    JWT: "jwt",
    PASSKEYS: "passkeys",
    AUTHENTICATOR: "authenticator"
};
const MFA_LEVELS = {
    DEFAULT: "default",
    OPTIONAL: "optional",
    MANDATORY: "mandatory",
    NONE: "none"
};
const AUTH_ACTIONS = {
    LOGIN: "login",
    ENABLE_MFA: "enable_mfa",
    MANAGE_MFA: "manage_mfa",
    ADD_SOCIAL_FACTOR: "add_social_factor",
    MODIFY_SOCIAL_FACTOR: "modify_social_factor",
    ADD_AUTHENTICATOR_FACTOR: "add_authenticator_factor",
    ADD_PASSKEY_FACTOR: "add_passkey_factor"
};
const BUILD_ENV = {
    PRODUCTION: "production",
    DEVELOPMENT: "development",
    STAGING: "staging",
    TESTING: "testing"
};
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-constants.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "errorCodes",
    ()=>errorCodes,
    "errorValues",
    ()=>errorValues
]);
const errorCodes = {
    rpc: {
        invalidInput: -32000,
        resourceNotFound: -32001,
        resourceUnavailable: -32002,
        transactionRejected: -32003,
        methodNotSupported: -32004,
        limitExceeded: -32005,
        parse: -32700,
        invalidRequest: -32600,
        methodNotFound: -32601,
        invalidParams: -32602,
        internal: -32603
    },
    provider: {
        userRejectedRequest: 4001,
        unauthorized: 4100,
        unsupportedMethod: 4200,
        disconnected: 4900,
        chainDisconnected: 4901
    }
};
const errorValues = {
    "-32700": {
        standard: "JSON RPC 2.0",
        message: "Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."
    },
    "-32600": {
        standard: "JSON RPC 2.0",
        message: "The JSON sent is not a valid Request object."
    },
    "-32601": {
        standard: "JSON RPC 2.0",
        message: "The method does not exist / is not available."
    },
    "-32602": {
        standard: "JSON RPC 2.0",
        message: "Invalid method parameter(s)."
    },
    "-32603": {
        standard: "JSON RPC 2.0",
        message: "Internal JSON-RPC error."
    },
    "-32000": {
        standard: "EIP-1474",
        message: "Invalid input."
    },
    "-32001": {
        standard: "EIP-1474",
        message: "Resource not found."
    },
    "-32002": {
        standard: "EIP-1474",
        message: "Resource unavailable."
    },
    "-32003": {
        standard: "EIP-1474",
        message: "Transaction rejected."
    },
    "-32004": {
        standard: "EIP-1474",
        message: "Method not supported."
    },
    "-32005": {
        standard: "EIP-1474",
        message: "Request limit exceeded."
    },
    "4001": {
        standard: "EIP-1193",
        message: "User rejected the request."
    },
    "4100": {
        standard: "EIP-1193",
        message: "The requested account and/or method has not been authorized by the user."
    },
    "4200": {
        standard: "EIP-1193",
        message: "The requested method is not supported by this Ethereum provider."
    },
    "4900": {
        standard: "EIP-1193",
        message: "The provider is disconnected from all chains."
    },
    "4901": {
        standard: "EIP-1193",
        message: "The provider is disconnected from the specified chain."
    }
};
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/utils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "JSON_RPC_SERVER_ERROR_MESSAGE",
    ()=>JSON_RPC_SERVER_ERROR_MESSAGE,
    "dataHasCause",
    ()=>dataHasCause,
    "getMessageFromCode",
    ()=>getMessageFromCode,
    "isObject",
    ()=>isObject,
    "isPlainObject",
    ()=>isPlainObject,
    "isValidCode",
    ()=>isValidCode,
    "isValidString",
    ()=>isValidString,
    "serializeCause",
    ()=>serializeCause,
    "serializeError",
    ()=>serializeError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-constants.js [app-client] (ecmascript)");
;
;
const FALLBACK_ERROR_CODE = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.internal;
const FALLBACK_MESSAGE = "Unspecified error message. This is a bug, please report it.";
const JSON_RPC_SERVER_ERROR_MESSAGE = "Unspecified server error.";
/**
 * Returns whether the given code is valid.
 * A code is valid if it is an integer.
 *
 * @param code - The error code.
 * @returns Whether the given code is valid.
 */ function isValidCode(code) {
    return Number.isInteger(code);
}
function isValidString(value) {
    return typeof value === "string" && value.length > 0;
}
/**
 * A type guard for {@link RuntimeObject}.
 *
 * @param value - The value to check.
 * @returns Whether the specified value has a runtime type of `object` and is
 * neither `null` nor an `Array`.
 */ function isObject(value) {
    return Boolean(value) && typeof value === "object" && !Array.isArray(value);
}
/**
 * Check if the value is plain object.
 *
 * @param value - Value to be checked.
 * @returns True if an object is the plain JavaScript object,
 * false if the object is not plain (e.g. function).
 */ function isPlainObject(value) {
    if (typeof value !== "object" || value === null) {
        return false;
    }
    try {
        let proto = value;
        while(Object.getPrototypeOf(proto) !== null){
            proto = Object.getPrototypeOf(proto);
        }
        return Object.getPrototypeOf(value) === proto;
    } catch (_) {
        return false;
    }
}
/**
 * Check if the given code is a valid JSON-RPC server error code.
 *
 * @param code - The error code.
 * @returns Whether the given code is a valid JSON-RPC server error code.
 */ function isJsonRpcServerError(code) {
    return code >= -32099 && code <= -32000;
}
function isJsonRpcError(value) {
    const castValue = value;
    if (!castValue) return false;
    if (!isValidCode(castValue.code) || !isValidString(castValue.message)) return false;
    if (castValue.stack && !isValidString(castValue.stack)) return false;
    return true;
}
/**
 * Gets the message for a given code, or a fallback message if the code has
 * no corresponding message.
 *
 * @param code - The error code.
 * @param fallbackMessage - The fallback message to use if the code has no
 * corresponding message.
 * @returns The message for the given code, or the fallback message if the code
 * has no corresponding message.
 */ function getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {
    if (isValidCode(code)) {
        const codeString = code.toString();
        if (Object.hasOwn(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorValues"], codeString)) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorValues"][codeString].message;
        }
        if (isJsonRpcServerError(code)) {
            return JSON_RPC_SERVER_ERROR_MESSAGE;
        }
    }
    return fallbackMessage;
}
const FALLBACK_ERROR = {
    code: FALLBACK_ERROR_CODE,
    message: getMessageFromCode(FALLBACK_ERROR_CODE)
};
function isValidJson(str) {
    try {
        JSON.parse(JSON.stringify(str, (strKey, strVal)=>{
            if (strKey === "__proto__" || strKey === "constructor") {
                throw new Error("Not valid json");
            }
            if (typeof strVal === "function" || typeof strVal === "symbol") {
                throw new Error("Not valid json");
            }
            return strVal;
        }), (propKey, propValue)=>{
            // Strip __proto__ and constructor properties to prevent prototype pollution.
            if (propKey === "__proto__" || propKey === "constructor") {
                return undefined;
            }
            return propValue;
        });
    // this means, it's a valid json so far
    } catch (e) {
        return false;
    }
    return true;
}
/**
 * Extracts all JSON-serializable properties from an object.
 *
 * @param object - The object in question.
 * @returns An object containing all the JSON-serializable properties.
 */ function serializeObject(object) {
    return Object.getOwnPropertyNames(object).reduce((acc, key)=>{
        const value = object[key];
        if (isValidJson(value)) {
            acc[key] = value;
        }
        return acc;
    }, {});
}
/**
 * Serializes an unknown error to be used as the `cause` in a fallback error.
 *
 * @param error - The unknown error.
 * @returns A JSON-serializable object containing as much information about the original error as possible.
 */ function serializeCause(error) {
    if (Array.isArray(error)) {
        return error.map((entry)=>{
            if (isValidJson(entry)) {
                return entry;
            } else if (isObject(entry)) {
                return serializeObject(entry);
            }
            return null;
        });
    } else if (isObject(error)) {
        return serializeObject(error);
    }
    if (isValidJson(error)) {
        return error;
    }
    return null;
}
/**
 * Construct a JSON-serializable object given an error and a JSON serializable `fallbackError`
 *
 * @param error - The error in question.
 * @param fallbackError - A JSON serializable fallback error.
 * @returns A JSON serializable error object.
 */ function buildError(error, fallbackError) {
    // If an error specifies a `serialize` function, we call it and return the result.
    if (error && typeof error === "object" && "serialize" in error && typeof error.serialize === "function") {
        return error.serialize();
    }
    if (isJsonRpcError(error)) {
        return error;
    }
    // If the error does not match the JsonRpcError type, use the fallback error, but try to include the original error as `cause`.
    const cause = serializeCause(error);
    const fallbackWithCause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, fallbackError), {}, {
        data: {
            cause
        }
    });
    return fallbackWithCause;
}
/**
 * Serializes the given error to an Ethereum JSON RPC-compatible error object.
 * If the given error is not fully compatible, it will be preserved on the
 * returned object's data.cause property.
 *
 * @param error - The error to serialize.
 * @param options - Options bag.
 * @param options.fallbackError - The error to return if the given error is
 * not compatible. Should be a JSON serializable value.
 * @param options.shouldIncludeStack - Whether to include the error's stack
 * on the returned object.
 * @returns The serialized error.
 */ function serializeError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = true } = {}) {
    if (!isJsonRpcError(fallbackError)) {
        throw new Error("Must provide fallback error with integer number code and string message.");
    }
    const serialized = buildError(error, fallbackError);
    if (!shouldIncludeStack) {
        delete serialized.stack;
    }
    return serialized;
}
/**
 * Returns true if supplied error data has a usable `cause` property; false otherwise.
 *
 * @param data - Optional data to validate.
 * @returns Whether cause property is present and an object.
 */ function dataHasCause(data) {
    return isObject(data) && Object.hasOwn(data, "cause") && isObject(data.cause);
}
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-classes.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "EthereumProviderError",
    ()=>EthereumProviderError,
    "JsonRpcError",
    ()=>JsonRpcError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$stable$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/json-stable-stringify/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/utils.js [app-client] (ecmascript)");
;
;
;
/**
 * Check if the given code is a valid JSON-RPC error code.
 *
 * @param code - The code to check.
 * @returns Whether the code is valid.
 */ function isValidEthProviderCode(code) {
    return Number.isInteger(code) && code >= 1000 && code <= 4999;
}
/**
 * A JSON replacer function that omits circular references.
 *
 * @param _ - The key being replaced.
 * @param value - The value being replaced.
 * @returns The value to use in place of the original value.
 */ function stringifyReplacer(_, value) {
    if (value === "[Circular]") {
        return undefined;
    }
    return value;
}
/**
 * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors
 * per EIP-1474.
 *
 * Permits any integer error code.
 */ class JsonRpcError extends Error {
    constructor(code, message, data){
        if (!Number.isInteger(code)) {
            throw new Error('"code" must be an integer.');
        }
        if (!message || typeof message !== "string") {
            throw new Error('"message" must be a non-empty string.');
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["dataHasCause"])(data)) {
            super(message, {
                cause: data.cause
            });
            // Browser backwards-compatibility fallback
            // The `cause` definition can be removed when tsconfig lib and/or target have changed to >=es2022
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "cause", void 0);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "code", void 0);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "data", void 0);
            if (!Object.hasOwn(this, "cause")) {
                Object.assign(this, {
                    cause: data.cause
                });
            }
        } else {
            super(message);
            // The `cause` definition can be removed when tsconfig lib and/or target have changed to >=es2022
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "cause", void 0);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "code", void 0);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "data", void 0);
        }
        if (data !== undefined) {
            this.data = data;
        }
        this.code = code;
        this.cause = data === null || data === void 0 ? void 0 : data.cause;
    }
    /**
   * Get the error as JSON-serializable object.
   *
   * @returns A plain object with all public class properties.
   */ serialize() {
        const serialized = {
            code: this.code,
            message: this.message
        };
        if (this.data !== undefined) {
            // `this.data` is not guaranteed to be a plain object, but this simplifies
            // the type guard below. We can safely cast it because we know it's a
            // JSON-serializable value.
            serialized.data = this.data;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(this.data)) {
                serialized.data.cause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeCause"])(this.data.cause);
            }
        }
        if (this.stack) {
            serialized.stack = this.stack;
        }
        return serialized;
    }
    /**
   * Get a string representation of the serialized error, omitting any circular
   * references.
   *
   * @returns A string representation of the serialized error.
   */ toString() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$stable$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this.serialize(), {
            replacer: stringifyReplacer,
            space: 2
        });
    }
}
/**
 * Error subclass implementing Ethereum Provider errors per EIP-1193.
 * Permits integer error codes in the [ 1000 <= 4999 ] range.
 */ class EthereumProviderError extends JsonRpcError {
    /**
   * Create an Ethereum Provider JSON-RPC error.
   *
   * @param code - The JSON-RPC error code. Must be an integer in the
   * `1000 <= n <= 4999` range.
   * @param message - The JSON-RPC error message.
   * @param data - Optional data to include in the error.
   */ constructor(code, message, data){
        if (!isValidEthProviderCode(code)) {
            throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');
        }
        super(code, message, data);
    }
}
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "providerErrors",
    ()=>providerErrors,
    "rpcErrors",
    ()=>rpcErrors
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-classes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/error-constants.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/utils.js [app-client] (ecmascript)");
;
;
;
/**
 * Get an error message and optional data from an options bag.
 *
 * @param arg - The error message or options bag.
 * @returns A tuple containing the error message and optional data.
 */ function parseOpts(arg) {
    if (arg) {
        if (typeof arg === "string") {
            return [
                arg
            ];
        } else if (typeof arg === "object" && !Array.isArray(arg)) {
            const { message, data } = arg;
            if (message && typeof message !== "string") {
                throw new Error("Must specify string message.");
            }
            return [
                message !== null && message !== void 0 ? message : undefined,
                data
            ];
        }
    }
    return [];
}
/**
 * Get a generic JSON-RPC error class instance.
 *
 * @param code - The error code.
 * @param arg - The error message or options bag.
 * @returns An instance of the {@link JsonRpcError} class.
 */ function getJsonRpcError(code, arg) {
    const [message, data] = parseOpts(arg);
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["JsonRpcError"](code, message !== null && message !== void 0 ? message : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getMessageFromCode"])(code), data);
}
/**
 * Get an Ethereum Provider error class instance.
 *
 * @param code - The error code.
 * @param arg - The error message or options bag.
 * @returns An instance of the {@link EthereumProviderError} class.
 */ function getEthProviderError(code, arg) {
    const [message, data] = parseOpts(arg);
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EthereumProviderError"](code, message !== null && message !== void 0 ? message : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getMessageFromCode"])(code), data);
}
const rpcErrors = {
    /**
   * Get a JSON RPC 2.0 Parse (-32700) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ parse: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.parse, arg),
    /**
   * Get a JSON RPC 2.0 Invalid Request (-32600) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ invalidRequest: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.invalidRequest, arg),
    /**
   * Get a JSON RPC 2.0 Invalid Params (-32602) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ invalidParams: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.invalidParams, arg),
    /**
   * Get a JSON RPC 2.0 Method Not Found (-32601) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ methodNotFound: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.methodNotFound, arg),
    /**
   * Get a JSON RPC 2.0 Internal (-32603) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ internal: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.internal, arg),
    /**
   * Get a JSON RPC 2.0 Server error.
   * Permits integer error codes in the [ -32099 <= -32005 ] range.
   * Codes -32000 through -32004 are reserved by EIP-1474.
   *
   * @param opts - The error options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ server: (opts)=>{
        if (!opts || typeof opts !== "object" || Array.isArray(opts)) {
            throw new Error("Ethereum RPC Server errors must provide single object argument.");
        }
        const { code } = opts;
        if (!Number.isInteger(code) || code > -32005 || code < -32099) {
            throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');
        }
        return getJsonRpcError(code, opts);
    },
    /**
   * Get an Ethereum JSON RPC Invalid Input (-32000) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ invalidInput: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.invalidInput, arg),
    /**
   * Get an Ethereum JSON RPC Resource Not Found (-32001) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ resourceNotFound: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.resourceNotFound, arg),
    /**
   * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ resourceUnavailable: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.resourceUnavailable, arg),
    /**
   * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ transactionRejected: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.transactionRejected, arg),
    /**
   * Get an Ethereum JSON RPC Method Not Supported (-32004) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ methodNotSupported: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.methodNotSupported, arg),
    /**
   * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link JsonRpcError} class.
   */ limitExceeded: (arg)=>getJsonRpcError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].rpc.limitExceeded, arg)
};
const providerErrors = {
    /**
   * Get an Ethereum Provider User Rejected Request (4001) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ userRejectedRequest: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.userRejectedRequest, arg);
    },
    /**
   * Get an Ethereum Provider Unauthorized (4100) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ unauthorized: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.unauthorized, arg);
    },
    /**
   * Get an Ethereum Provider Unsupported Method (4200) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ unsupportedMethod: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.unsupportedMethod, arg);
    },
    /**
   * Get an Ethereum Provider Not Connected (4900) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ disconnected: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.disconnected, arg);
    },
    /**
   * Get an Ethereum Provider Chain Not Connected (4901) error.
   *
   * @param arg - The error message or options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ chainDisconnected: (arg)=>{
        return getEthProviderError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$constants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["errorCodes"].provider.chainDisconnected, arg);
    },
    /**
   * Get a custom Ethereum Provider error.
   *
   * @param opts - The error options bag.
   * @returns An instance of the {@link EthereumProviderError} class.
   */ custom: (opts)=>{
        if (!opts || typeof opts !== "object" || Array.isArray(opts)) {
            throw new Error("Ethereum Provider custom errors must provide single object argument.");
        }
        const { code, message, data } = opts;
        if (!message || typeof message !== "string") {
            throw new Error('"message" must be a nonempty string');
        }
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$error$2d$classes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EthereumProviderError"](code, message, data);
    }
};
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/ed25519/utils.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getED25519Key",
    ()=>getED25519Key
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/compiled/buffer/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$tweetnacl$2d$js$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@toruslabs/tweetnacl-js/nacl-fast.js [app-client] (ecmascript)");
;
// eslint-disable-next-line @typescript-eslint/no-explicit-any
const l = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$toruslabs$2f$tweetnacl$2d$js$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].lowlevel;
function getED25519Key(privateKey) {
    let privKey;
    if (typeof privateKey === "string") {
        privKey = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(privateKey, "hex");
    } else {
        privKey = privateKey;
    }
    // Implementation copied from tweetnacl
    const d = new Uint8Array(64);
    const p = [
        l.gf(),
        l.gf(),
        l.gf(),
        l.gf()
    ];
    const sk = new Uint8Array([
        ...new Uint8Array(privKey),
        ...new Uint8Array(32)
    ]);
    const pk = new Uint8Array(32);
    l.crypto_hash(d, sk, 32);
    d[0] &= 248;
    d[31] &= 127;
    d[31] |= 64;
    l.scalarbase(p, d);
    l.pack(pk, p);
    for(let i = 0; i < 32; i += 1)sk[i + 32] = pk[i];
    return {
        sk: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(sk),
        pk: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(pk)
    };
}
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/utils/logger.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "loglevel",
    ()=>loglevel
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/loglevel/lib/loglevel.js [app-client] (ecmascript)");
;
const loglevel = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$loglevel$2f$lib$2f$loglevel$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].getLogger("auth");
loglevel.setLevel("error");
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SafeEventEmitter",
    ()=>SafeEventEmitter
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$events$2f$events$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/events/events.js [app-client] (ecmascript)");
;
/* eslint-disable @typescript-eslint/no-explicit-any */ function safeApply(handler, context, args) {
    try {
        Reflect.apply(handler, context, args);
    } catch (err) {
        // Throw error after timeout so as not to interrupt the stack
        setTimeout(()=>{
            throw err;
        });
    }
}
function arrayClone(arr) {
    const n = arr.length;
    const copy = new Array(n);
    for(let i = 0; i < n; i += 1){
        copy[i] = arr[i];
    }
    return copy;
}
class SafeEventEmitter extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$events$2f$events$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EventEmitter"] {
    emit(type, ...args) {
        let doError = type === "error";
        const events = this._events;
        if (events !== undefined) {
            doError = doError && events.error === undefined;
        } else if (!doError) {
            return false;
        }
        // If there is no 'error' event listener then throw.
        if (doError) {
            let er;
            if (args.length > 0) {
                [er] = args;
            }
            if (er instanceof Error) {
                // Note: The comments on the `throw` lines are intentional, they show
                // up in Node's output if this results in an unhandled exception.
                throw er; // Unhandled 'error' event
            }
            // At least give some kind of context to the user
            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ""}`);
            err.context = er;
            throw err; // Unhandled 'error' event
        }
        const handler = events[type];
        if (handler === undefined) {
            return false;
        }
        if (typeof handler === "function") {
            safeApply(handler, this, args);
        } else {
            const len = handler.length;
            const listeners = arrayClone(handler);
            for(let i = 0; i < len; i += 1){
                safeApply(listeners[i], this, args);
            }
        }
        return true;
    }
}
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/serializableError.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SerializableError",
    ()=>SerializableError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$stable$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/json-stable-stringify/index.js [app-client] (ecmascript)");
;
;
class SerializableError extends Error {
    constructor({ code, message, data }){
        if (!Number.isInteger(code)) {
            throw new Error("code must be an integer");
        }
        if (!message || typeof message !== "string") {
            throw new Error("message must be string");
        }
        super(message);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "code", void 0);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "data", void 0);
        this.code = code;
        if (data !== undefined) {
            this.data = data;
        }
    }
    toString() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$json$2d$stable$2d$stringify$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({
            code: this.code,
            message: this.message,
            data: this.data,
            stack: this.stack
        });
    }
}
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpcEngine.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "JRPCEngine",
    ()=>JRPCEngine,
    "createEngineStream",
    ()=>createEngineStream,
    "mergeMiddleware",
    ()=>mergeMiddleware,
    "providerAsMiddleware",
    ()=>providerAsMiddleware,
    "providerFromEngine",
    ()=>providerFromEngine,
    "providerFromMiddleware",
    ()=>providerFromMiddleware
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/objectSpread2.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@babel/runtime/helpers/esm/defineProperty.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$readable$2d$stream$2f$lib$2f$ours$2f$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/readable-stream/lib/ours/browser.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/utils/logger.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/errors.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/errors/utils.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/serializableError.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
function constructFallbackError(error) {
    const { message = "", code = -32603, stack = "Stack trace is not available.", data = "" } = error;
    const codeNumber = parseInt((code === null || code === void 0 ? void 0 : code.toString()) || "-32603");
    return {
        message: message || (error === null || error === void 0 ? void 0 : error.toString()) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getMessageFromCode"])(codeNumber),
        code: codeNumber,
        stack,
        data: data || message || (error === null || error === void 0 ? void 0 : error.toString())
    };
}
/**
 * A JSON-RPC request and response processor.
 * Give it a stack of middleware, pass it requests, and get back responses.
 */ class JRPCEngine extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SafeEventEmitter"] {
    constructor(){
        super();
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$defineProperty$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this, "_middleware", void 0);
        this._middleware = [];
    }
    /**
   * Serially executes the given stack of middleware.
   *
   * @returns An array of any error encountered during middleware execution,
   * a boolean indicating whether the request was completed, and an array of
   * middleware-defined return handlers.
   */ static async _runAllMiddleware(req, res, middlewareStack) {
        const returnHandlers = [];
        let error = null;
        let isComplete = false;
        // Go down stack of middleware, call and collect optional returnHandlers
        for (const middleware of middlewareStack){
            [error, isComplete] = await JRPCEngine._runMiddleware(req, res, middleware, returnHandlers);
            if (isComplete) {
                break;
            }
        }
        return [
            error,
            isComplete,
            returnHandlers.reverse()
        ];
    }
    /**
   * Runs an individual middleware.
   *
   * @returns An array of any error encountered during middleware execution,
   * and a boolean indicating whether the request should end.
   */ static _runMiddleware(req, res, middleware, returnHandlers) {
        return new Promise((resolve)=>{
            const end = (err)=>{
                const error = err || res.error;
                if (error) {
                    if (typeof error === "object" && Object.keys(error).includes("stack") === false) error.stack = "Stack trace is not available.";
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["loglevel"].error(error);
                    res.error = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeError"])(error, {
                        shouldIncludeStack: true,
                        fallbackError: constructFallbackError(error)
                    });
                }
                // True indicates that the request should end
                resolve([
                    error,
                    true
                ]);
            };
            const next = (returnHandler)=>{
                if (res.error) {
                    end(res.error);
                } else {
                    if (returnHandler) {
                        if (typeof returnHandler !== "function") {
                            end(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                                code: -32603,
                                message: "JRPCEngine: 'next' return handlers must be functions"
                            }));
                        }
                        returnHandlers.push(returnHandler);
                    }
                    // False indicates that the request should not end
                    resolve([
                        null,
                        false
                    ]);
                }
            };
            try {
                middleware(req, res, next, end);
            } catch (error) {
                end(error);
            }
        });
    }
    /**
   * Serially executes array of return handlers. The request and response are
   * assumed to be in their scope.
   */ static async _runReturnHandlers(handlers) {
        for (const handler of handlers){
            await new Promise((resolve, reject)=>{
                handler((err)=>err ? reject(err) : resolve());
            });
        }
    }
    /**
   * Throws an error if the response has neither a result nor an error, or if
   * the "isComplete" flag is falsy.
   */ static _checkForCompletion(_req, res, isComplete) {
        if (!("result" in res) && !("error" in res)) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: "Response has no error or result for request"
            });
        }
        if (!isComplete) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: "Nothing ended request"
            });
        }
    }
    /**
   * Add a middleware function to the engine's middleware stack.
   *
   * @param middleware - The middleware function to add.
   */ push(middleware) {
        this._middleware.push(middleware);
    }
    /**
   * Handle a JSON-RPC request, and return a response.
   *
   * @param request - The request to handle.
   * @param callback - An error-first callback that will receive the response.
   */ /**
   * Handle an array of JSON-RPC requests, and return an array of responses.
   *
   * @param request - The requests to handle.
   * @param callback - An error-first callback that will receive the array of
   * responses.
   */ /**
   * Handle a JSON-RPC request, and return a response.
   *
   * @param request - The request to handle.
   * @returns A promise that resolves with the response, or rejects with an
   * error.
   */ /**
   * Handle an array of JSON-RPC requests, and return an array of responses.
   *
   * @param request - The requests to handle.
   * @returns A promise that resolves with the array of responses, or rejects
   * with an error.
   */ // eslint-disable-next-line @typescript-eslint/no-explicit-any
    handle(req, cb) {
        if (cb && typeof cb !== "function") {
            throw new Error('"callback" must be a function if provided.');
        }
        if (Array.isArray(req)) {
            if (cb) {
                return this._handleBatch(req, cb);
            }
            return this._handleBatch(req);
        }
        if (cb) {
            return this._handle(req, cb);
        }
        return this._promiseHandle(req);
    }
    /**
   * Returns this engine as a middleware function that can be pushed to other
   * engines.
   *
   * @returns This engine as a middleware function.
   */ asMiddleware() {
        return async (req, res, next, end)=>{
            try {
                const [middlewareError, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);
                if (isComplete) {
                    await JRPCEngine._runReturnHandlers(returnHandlers);
                    return end(middlewareError);
                }
                return next(async (handlerCallback)=>{
                    try {
                        await JRPCEngine._runReturnHandlers(returnHandlers);
                    } catch (error) {
                        return handlerCallback(error);
                    }
                    return handlerCallback();
                });
            } catch (error) {
                return end(error);
            }
        };
    }
    /**
   * Like _handle, but for batch requests.
   */ /**
   * Like _handle, but for batch requests.
   */ async _handleBatch(reqs, cb) {
        // The order here is important
        try {
            // 2. Wait for all requests to finish, or throw on some kind of fatal
            // error
            const responses = await Promise.all(// 1. Begin executing each request in the order received
            reqs.map(this._promiseHandle.bind(this)));
            // 3. Return batch response
            if (cb) {
                return cb(null, responses);
            }
            return responses;
        } catch (error) {
            if (cb) {
                return cb(error);
            }
            throw error;
        }
    }
    /**
   * A promise-wrapped _handle.
   */ _promiseHandle(req) {
        return new Promise((resolve, reject)=>{
            this._handle(req, (_err, res)=>{
                // There will always be a response, and it will always have any error
                // that is caught and propagated.
                if (_err && res === undefined) {
                    reject(_err);
                } else resolve(res);
            }).catch(reject);
        });
    }
    /**
   * Ensures that the request object is valid, processes it, and passes any
   * error and the response object to the given callback.
   *
   * Does not reject.
   */ async _handle(callerReq, cb) {
        if (!callerReq || Array.isArray(callerReq) || typeof callerReq !== "object") {
            const error = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: "request must be plain object"
            });
            return cb(error, {
                id: undefined,
                jsonrpc: "2.0",
                error
            });
        }
        if (typeof callerReq.method !== "string") {
            const error = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: "method must be string"
            });
            return cb(error, {
                id: callerReq.id,
                jsonrpc: "2.0",
                error
            });
        }
        const req = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, callerReq);
        const res = {
            id: req.id,
            jsonrpc: req.jsonrpc
        };
        let error = null;
        try {
            await this._processRequest(req, res);
        } catch (_error) {
            // A request handler error, a re-thrown middleware error, or something
            // unexpected.
            error = _error;
        }
        if (error) {
            // Ensure no result is present on an errored response
            delete res.result;
            if (!res.error) {
                if (typeof error === "object" && Object.keys(error).includes("stack") === false) error.stack = "Stack trace is not available.";
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["loglevel"].error(error);
                res.error = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeError"])(error, {
                    shouldIncludeStack: true,
                    fallbackError: constructFallbackError(error)
                });
            }
        }
        return cb(error, res);
    }
    /**
   * For the given request and response, runs all middleware and their return
   * handlers, if any, and ensures that internal request processing semantics
   * are satisfied.
   */ async _processRequest(req, res) {
        const [error, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);
        // Throw if "end" was not called, or if the response has neither a result
        // nor an error.
        JRPCEngine._checkForCompletion(req, res, isComplete);
        // The return handlers should run even if an error was encountered during
        // middleware processing.
        await JRPCEngine._runReturnHandlers(returnHandlers);
        // Now we re-throw the middleware processing error, if any, to catch it
        // further up the call chain.
        if (error) {
            throw error;
        }
    }
}
function mergeMiddleware(middlewareStack) {
    const engine = new JRPCEngine();
    middlewareStack.forEach((middleware)=>{
        engine.push(middleware);
    });
    return engine.asMiddleware();
}
function createEngineStream(opts) {
    if (!opts || !opts.engine) {
        throw new Error("Missing engine parameter!");
    }
    const { engine } = opts;
    // eslint-disable-next-line prefer-const
    let stream;
    function read() {
        return undefined;
    }
    function write(req, _encoding, cb) {
        engine.handle(req, (_err, res)=>{
            stream.push(res);
        });
        cb();
    }
    stream = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$readable$2d$stream$2f$lib$2f$ours$2f$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Duplex"]({
        objectMode: true,
        read,
        write
    });
    // forward notifications
    if (engine.on) {
        engine.on("notification", (message)=>{
            stream.push(message);
        });
    }
    return stream;
}
function providerFromEngine(engine) {
    const provider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SafeEventEmitter"]();
    // handle both rpc send methods
    provider.sendAsync = async (req)=>{
        const res = await engine.handle(req);
        if (res.error) {
            if (typeof res.error === "object" && Object.keys(res.error).includes("stack") === false) res.error.stack = "Stack trace is not available.";
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$utils$2f$logger$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["loglevel"].error(res.error);
            const err = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$utils$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeError"])(res.error, {
                fallbackError: constructFallbackError(res.error),
                shouldIncludeStack: true
            });
            throw __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$errors$2f$errors$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["rpcErrors"].internal(err);
        }
        return res.result;
    };
    provider.send = (req, callback)=>{
        if (typeof callback !== "function") {
            throw new Error('Must provide callback to "send" method.');
        }
        engine.handle(req, callback);
    };
    // forward notifications
    if (engine.on) {
        engine.on("notification", (message)=>{
            provider.emit("data", null, message);
        });
    }
    provider.request = async (args)=>{
        const req = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$esm$2f$objectSpread2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])({}, args), {}, {
            id: Math.random().toString(36).slice(2),
            jsonrpc: "2.0"
        });
        const res = await provider.sendAsync(req);
        return res;
    };
    return provider;
}
function providerFromMiddleware(middleware) {
    const engine = new JRPCEngine();
    engine.push(middleware);
    const provider = providerFromEngine(engine);
    return provider;
}
function providerAsMiddleware(provider) {
    return async (req, res, _next, end)=>{
        // send request to provider
        try {
            const providerRes = await provider.sendAsync(req);
            res.result = providerRes;
            return end();
        } catch (error) {
            return end(error);
        }
    };
}
;
}),
"[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/jrpc.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createAsyncMiddleware",
    ()=>createAsyncMiddleware,
    "createErrorMiddleware",
    ()=>createErrorMiddleware,
    "createIdRemapMiddleware",
    ()=>createIdRemapMiddleware,
    "createLoggerMiddleware",
    ()=>createLoggerMiddleware,
    "createScaffoldMiddleware",
    ()=>createScaffoldMiddleware,
    "createStreamMiddleware",
    ()=>createStreamMiddleware,
    "getRpcPromiseCallback",
    ()=>getRpcPromiseCallback
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$readable$2d$stream$2f$lib$2f$ours$2f$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/readable-stream/lib/ours/browser.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/safeEventEmitter.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@web3auth/auth/dist/lib.esm/jrpc/serializableError.js [app-client] (ecmascript)");
;
;
;
const getRpcPromiseCallback = (resolve, reject, unwrapResult = true)=>(error, response)=>{
        if (error || response.error) {
            reject(error || response.error);
        } else if (!unwrapResult || Array.isArray(response)) {
            resolve(response);
        } else {
            resolve(response.result);
        }
    };
function createErrorMiddleware(log) {
    return (req, res, next, end)=>{
        try {
            // json-rpc-engine will terminate the request when it notices this error
            if (typeof req.method !== "string" || !req.method) {
                res.error = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                    code: -32603,
                    message: "invalid method"
                });
                end();
                return;
            }
            next((done)=>{
                const { error } = res;
                if (!error) {
                    return done();
                }
                log.error(`Auth - RPC Error: ${error.message}`, error);
                return done();
            });
        } catch (error) {
            log.error(`Auth - RPC Error thrown: ${error.message}`, error);
            res.error = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$serializableError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SerializableError"]({
                code: -32603,
                message: error.message
            });
            end();
        }
    };
}
function createStreamMiddleware() {
    const idMap = {};
    function readNoop() {
        return false;
    }
    const events = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$web3auth$2f$auth$2f$dist$2f$lib$2e$esm$2f$jrpc$2f$safeEventEmitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SafeEventEmitter"]();
    function processResponse(res) {
        const context = idMap[res.id];
        if (!context) {
            throw new Error(`StreamMiddleware - Unknown response id "${res.id}"`);
        }
        delete idMap[res.id];
        // copy whole res onto original res
        Object.assign(context.res, res);
        // run callback on empty stack,
        // prevent internal stream-handler from catching errors
        setTimeout(context.end);
    }
    function processNotification(res) {
        events.emit("notification", res);
    }
    function processMessage(res, _encoding, cb) {
        let err;
        try {
            const isNotification = !res.id;
            if (isNotification) {
                processNotification(res);
            } else {
                processResponse(res);
            }
        } catch (_err) {
            err = _err;
        }
        // continue processing stream
        cb(err);
    }
    const stream = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$readable$2d$stream$2f$lib$2f$ours$2f$browser$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Duplex"]({
        objectMode: true,
        read: readNoop,
        write: processMessage
    });
    const middleware = (req, res, next, end)=>{
        // write req to stream
        stream.push(req);
        // register request on id map
        idMap[req.id] = {
            req,
            res,
            next,
            end
        };
    };
    return {
        events,
        middleware,
        stream
    };
}
function createScaffoldMiddleware(handlers) {
    return (req, res, next, end)=>{
        const handler = handlers[req.method];
        // if no handler, return
        if (handler === undefined) {
            return next();
        }
        // if handler is fn, call as middleware
        if (typeof handler === "function") {
            return handler(req, res, next, end);
        }
        // if handler is some other value, use as result
        res.result = handler;
        return end();
    };
}
function createIdRemapMiddleware() {
    return (req, res, next, _end)=>{
        const originalId = req.id;
        const newId = Math.random().toString(36).slice(2);
        req.id = newId;
        res.id = newId;
        next((done)=>{
            req.id = originalId;
            res.id = originalId;
            done();
        });
    };
}
function createLoggerMiddleware(logger) {
    return (req, res, next, _)=>{
        logger.debug("REQ", req, "RES", res);
        next();
    };
}
function createAsyncMiddleware(asyncMiddleware) {
    return async (req, res, next, end)=>{
        // nextPromise is the key to the implementation
        // it is resolved by the return handler passed to the
        // "next" function
        let resolveNextPromise;
        const nextPromise = new Promise((resolve)=>{
            resolveNextPromise = resolve;
        });
        let returnHandlerCallback = null;
        let nextWasCalled = false;
        // This will be called by the consumer's async middleware.
        const asyncNext = async ()=>{
            nextWasCalled = true;
            // We pass a return handler to next(). When it is called by the engine,
            // the consumer's async middleware will resume executing.
            next((runReturnHandlersCallback)=>{
                // This callback comes from JRPCEngine._runReturnHandlers
                returnHandlerCallback = runReturnHandlersCallback;
                resolveNextPromise();
            });
            await nextPromise;
        };
        try {
            await asyncMiddleware(req, res, asyncNext);
            if (nextWasCalled) {
                await nextPromise; // we must wait until the return handler is called
                returnHandlerCallback(null);
            } else {
                end(null);
            }
        } catch (err) {
            const error = err;
            if (returnHandlerCallback) {
                returnHandlerCallback(error);
            } else {
                end(error);
            }
        }
    };
}
;
}),
]);

//# sourceMappingURL=node_modules_%40web3auth_afa79b32._.js.map