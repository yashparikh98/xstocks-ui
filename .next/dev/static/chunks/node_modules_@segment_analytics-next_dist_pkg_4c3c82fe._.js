(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/get-process-env.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Returns `process.env` if it is available in the environment.
 * Always returns an object make it similarly easy to use as `process.env`.
 */ __turbopack_context__.s([
    "getProcessEnv",
    ()=>getProcessEnv
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
function getProcessEnv() {
    if (typeof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"] === 'undefined' || !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env) {
        return {};
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env;
} //# sourceMappingURL=get-process-env.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/global-analytics-helper.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getGlobalAnalytics",
    ()=>getGlobalAnalytics,
    "setGlobalAnalytics",
    ()=>setGlobalAnalytics,
    "setGlobalAnalyticsKey",
    ()=>setGlobalAnalyticsKey
]);
/**
 * Stores the global window analytics key
 */ var _globalAnalyticsKey = 'analytics';
function getGlobalAnalytics() {
    return window[_globalAnalyticsKey];
}
function setGlobalAnalyticsKey(key) {
    _globalAnalyticsKey = key;
}
function setGlobalAnalytics(analytics) {
    ;
    window[_globalAnalyticsKey] = analytics;
} //# sourceMappingURL=global-analytics-helper.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/embedded-write-key.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "embeddedWriteKey",
    ()=>embeddedWriteKey
]);
// This variable is used as an optional fallback for when customers
// host or proxy their own analytics.js.
try {
    window.analyticsWriteKey = '__WRITE_KEY__';
} catch (_) {
// @ eslint-disable-next-line
}
function embeddedWriteKey() {
    if (window.analyticsWriteKey === undefined) {
        return undefined;
    }
    // this is done so that we don't accidentally override every reference to __write_key__
    return window.analyticsWriteKey !== [
        '__',
        'WRITE',
        '_',
        'KEY',
        '__'
    ].join('') ? window.analyticsWriteKey : undefined;
} //# sourceMappingURL=embedded-write-key.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/parse-cdn.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getCDN",
    ()=>getCDN,
    "getLegacyAJSPath",
    ()=>getLegacyAJSPath,
    "getNextIntegrationsURL",
    ()=>getNextIntegrationsURL,
    "setGlobalCDNUrl",
    ()=>setGlobalCDNUrl
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/global-analytics-helper.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$embedded$2d$write$2d$key$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/embedded-write-key.js [app-client] (ecmascript)");
;
;
var analyticsScriptRegex = /(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/;
var getCDNUrlFromScriptTag = function() {
    var cdn;
    var scripts = Array.prototype.slice.call(document.querySelectorAll('script'));
    scripts.forEach(function(s) {
        var _a;
        var src = (_a = s.getAttribute('src')) !== null && _a !== void 0 ? _a : '';
        var result = analyticsScriptRegex.exec(src);
        if (result && result[1]) {
            cdn = result[1];
        }
    });
    return cdn;
};
var _globalCDN; // set globalCDN as in-memory singleton
var getGlobalCDNUrl = function() {
    var _a;
    var result = _globalCDN !== null && _globalCDN !== void 0 ? _globalCDN : (_a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getGlobalAnalytics"])()) === null || _a === void 0 ? void 0 : _a._cdn;
    return result;
};
var setGlobalCDNUrl = function(cdn) {
    var globalAnalytics = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getGlobalAnalytics"])();
    if (globalAnalytics) {
        globalAnalytics._cdn = cdn;
    }
    _globalCDN = cdn;
};
var getCDN = function() {
    var globalCdnUrl = getGlobalCDNUrl();
    if (globalCdnUrl) return globalCdnUrl;
    var cdnFromScriptTag = getCDNUrlFromScriptTag();
    if (cdnFromScriptTag) {
        return cdnFromScriptTag;
    } else {
        // it's possible that the CDN is not found in the page because:
        // - the script is loaded through a proxy
        // - the script is removed after execution
        // in this case, we fall back to the default Segment CDN
        return "https://cdn.segment.com";
    }
};
var getNextIntegrationsURL = function() {
    var cdn = getCDN();
    return "".concat(cdn, "/next-integrations");
};
function getLegacyAJSPath() {
    var _a, _b, _c;
    var writeKey = (_a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$embedded$2d$write$2d$key$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["embeddedWriteKey"])()) !== null && _a !== void 0 ? _a : (_b = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getGlobalAnalytics"])()) === null || _b === void 0 ? void 0 : _b._writeKey;
    var scripts = Array.prototype.slice.call(document.querySelectorAll('script'));
    var path = undefined;
    for(var _i = 0, scripts_1 = scripts; _i < scripts_1.length; _i++){
        var s = scripts_1[_i];
        var src = (_c = s.getAttribute('src')) !== null && _c !== void 0 ? _c : '';
        var result = analyticsScriptRegex.exec(src);
        if (result && result[1]) {
            path = src;
            break;
        }
    }
    if (path) {
        return path.replace('analytics.min.js', 'analytics.classic.js');
    }
    return "https://cdn.segment.com/analytics.js/v1/".concat(writeKey, "/analytics.classic.js");
} //# sourceMappingURL=parse-cdn.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/arguments-resolver/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "resolveAliasArguments",
    ()=>resolveAliasArguments,
    "resolveArguments",
    ()=>resolveArguments,
    "resolvePageArguments",
    ()=>resolvePageArguments,
    "resolveUserArguments",
    ()=>resolveUserArguments
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/validation/helpers.js [app-client] (ecmascript)");
;
function resolveArguments(eventName, properties, options, callback) {
    var _a;
    var args = [
        eventName,
        properties,
        options,
        callback
    ];
    var name = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(eventName) ? eventName.event : eventName;
    if (!name || !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isString"])(name)) {
        throw new Error('Event missing');
    }
    var data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(eventName) ? (_a = eventName.properties) !== null && _a !== void 0 ? _a : {} : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(properties) ? properties : {};
    var opts = {};
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isFunction"])(options)) {
        opts = options !== null && options !== void 0 ? options : {};
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(eventName) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isFunction"])(properties)) {
        opts = properties !== null && properties !== void 0 ? properties : {};
    }
    var cb = args.find(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isFunction"]);
    return [
        name,
        data,
        opts,
        cb
    ];
}
function resolvePageArguments(category, name, properties, options, callback) {
    var resolvedProperties;
    var resolvedOptions;
    var resolvedCategory = null;
    var resolvedName = null;
    var args = [
        category,
        name,
        properties,
        options,
        callback
    ];
    // The legacy logic is basically:
    // - If there is a string, it's the name
    // - If there are two strings, it's category and name
    var strings = args.filter(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isString"]);
    if (strings.length === 1) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isString"])(args[1])) {
            resolvedName = args[1];
            resolvedCategory = null;
        } else {
            resolvedName = strings[0];
            resolvedCategory = null;
        }
    } else if (strings.length === 2) {
        if (typeof args[0] === 'string') {
            resolvedCategory = args[0];
        }
        if (typeof args[1] === 'string') {
            resolvedName = args[1];
        }
    }
    // handle: analytics.page('category', 'name', properties, options, callback)
    var resolvedCallback = args.find(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isFunction"]);
    // handle:
    // - analytics.page('name')
    // - analytics.page('category', 'name')
    // - analytics.page(properties)
    // - analytics.page(properties, options)
    // - analytics.page('name', properties)
    // - analytics.page('name', properties, options)
    // - analytics.page('category', 'name', properties, options)
    // - analytics.page('category', 'name', properties, options, callback)
    // - analytics.page('category', 'name', callback)
    // - analytics.page(callback), etc
    // The legacy logic is basically:
    // - If there is a plain object, it's the properties
    // - If there are two plain objects, it's properties and options
    var objects = args.filter(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"]);
    if (objects.length === 1) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(args[2])) {
            resolvedOptions = {};
            resolvedProperties = args[2];
        } else if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(args[3])) {
            resolvedProperties = {};
            resolvedOptions = args[3];
        } else {
            resolvedProperties = objects[0];
            resolvedOptions = {};
        }
    } else if (objects.length === 2) {
        resolvedProperties = objects[0];
        resolvedOptions = objects[1];
    }
    return [
        resolvedCategory,
        resolvedName,
        resolvedProperties !== null && resolvedProperties !== void 0 ? resolvedProperties : resolvedProperties = {},
        resolvedOptions !== null && resolvedOptions !== void 0 ? resolvedOptions : resolvedOptions = {},
        resolvedCallback
    ];
}
var resolveUserArguments = function(user) {
    return function() {
        var _a, _b, _c;
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        var values = {};
        // It's a stack so it's reversed so that we go through each of the expected arguments
        var orderStack = [
            'callback',
            'options',
            'traits',
            'id'
        ];
        // Read each argument and eval the possible values here
        for(var _d = 0, args_1 = args; _d < args_1.length; _d++){
            var arg = args_1[_d];
            var current = orderStack.pop();
            if (current === 'id') {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isString"])(arg) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isNumber"])(arg)) {
                    values.id = arg.toString();
                    continue;
                }
                if (arg === null || arg === undefined) {
                    continue;
                }
                // First argument should always be the id, if it is not a valid value we can skip it
                current = orderStack.pop();
            }
            // Traits and Options
            if ((current === 'traits' || current === 'options') && (arg === null || arg === undefined || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])(arg))) {
                values[current] = arg;
            }
            // Callback
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isFunction"])(arg)) {
                values.callback = arg;
                break; // This is always the last argument
            }
        }
        return [
            (_a = values.id) !== null && _a !== void 0 ? _a : user.id(),
            (_b = values.traits) !== null && _b !== void 0 ? _b : {},
            (_c = values.options) !== null && _c !== void 0 ? _c : {},
            values.callback
        ];
    };
};
function resolveAliasArguments(to, from, options, callback) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isNumber"])(to)) to = to.toString(); // Legacy behaviour - allow integers for alias calls
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isNumber"])(from)) from = from.toString();
    var args = [
        to,
        from,
        options,
        callback
    ];
    var _a = args.filter(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isString"]), _b = _a[0], aliasTo = _b === void 0 ? to : _b, _c = _a[1], aliasFrom = _c === void 0 ? null : _c;
    var _d = args.filter(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isPlainObject"])[0], opts = _d === void 0 ? {} : _d;
    var resolvedCallback = args.find(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$validation$2f$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isFunction"]);
    return [
        aliasTo,
        aliasFrom,
        opts,
        resolvedCallback
    ];
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/environment/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "isBrowser",
    ()=>isBrowser,
    "isServer",
    ()=>isServer
]);
function isBrowser() {
    return typeof window !== 'undefined';
}
function isServer() {
    return !isBrowser();
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/connection/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "isOffline",
    ()=>isOffline,
    "isOnline",
    ()=>isOnline
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$environment$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/environment/index.js [app-client] (ecmascript)");
;
function isOnline() {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$environment$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isBrowser"])()) {
        return window.navigator.onLine;
    }
    return true;
}
function isOffline() {
    return !isOnline();
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/get-global.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// This an imperfect polyfill for globalThis
__turbopack_context__.s([
    "getGlobal",
    ()=>getGlobal
]);
var getGlobal = function() {
    if (typeof globalThis !== 'undefined') {
        return globalThis;
    }
    if (typeof self !== 'undefined') {
        return self;
    }
    if (typeof window !== 'undefined') {
        return window;
    }
    if ("TURBOPACK compile-time truthy", 1) {
        return /*TURBOPACK member replacement*/ __turbopack_context__.g;
    }
    //TURBOPACK unreachable
    ;
}; //# sourceMappingURL=get-global.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/fetch.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "fetch",
    ()=>fetch
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$fetch$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/fetch/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$get$2d$global$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/get-global.js [app-client] (ecmascript)");
;
;
var fetch = function() {
    var args = [];
    for(var _i = 0; _i < arguments.length; _i++){
        args[_i] = arguments[_i];
    }
    var global = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$get$2d$global$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getGlobal"])();
    return (global && global.fetch || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$fetch$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]).apply(void 0, args);
}; //# sourceMappingURL=fetch.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/generated/version.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// This file is generated.
__turbopack_context__.s([
    "version",
    ()=>version
]);
var version = '1.81.1'; //# sourceMappingURL=version.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/version-type.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getVersionType",
    ()=>getVersionType,
    "setVersionType",
    ()=>setVersionType
]);
// Default value will be updated to 'web' in `bundle-umd.ts` for web build.
var _version = 'npm';
function setVersionType(version) {
    _version = version;
}
function getVersionType() {
    return _version;
} //# sourceMappingURL=version-type.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/constants/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SEGMENT_API_HOST",
    ()=>SEGMENT_API_HOST
]);
var SEGMENT_API_HOST = 'api.segment.io/v1'; //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/stats/remote-metrics.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "RemoteMetrics",
    ()=>RemoteMetrics
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$fetch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/fetch.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$generated$2f$version$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/generated/version.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$version$2d$type$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/version-type.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$constants$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/constants/index.js [app-client] (ecmascript)");
;
;
;
;
;
var createRemoteMetric = function(metric, tags, versionType) {
    var formattedTags = tags.reduce(function(acc, t) {
        var _a = t.split(':'), k = _a[0], v = _a[1];
        acc[k] = v;
        return acc;
    }, {});
    return {
        type: 'Counter',
        metric: metric,
        value: 1,
        tags: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, formattedTags), {
            library: 'analytics.js',
            library_version: versionType === 'web' ? "next-".concat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$generated$2f$version$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["version"]) : "npm:next-".concat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$generated$2f$version$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["version"])
        })
    };
};
function logError(err) {
    console.error('Error sending segment performance metrics', err);
}
var RemoteMetrics = function() {
    function RemoteMetrics(options) {
        var _this = this;
        var _a, _b, _c, _d, _e;
        this.host = (_a = options === null || options === void 0 ? void 0 : options.host) !== null && _a !== void 0 ? _a : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$constants$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SEGMENT_API_HOST"];
        this.sampleRate = (_b = options === null || options === void 0 ? void 0 : options.sampleRate) !== null && _b !== void 0 ? _b : 1;
        this.flushTimer = (_c = options === null || options === void 0 ? void 0 : options.flushTimer) !== null && _c !== void 0 ? _c : 30 * 1000; /* 30s */ 
        this.maxQueueSize = (_d = options === null || options === void 0 ? void 0 : options.maxQueueSize) !== null && _d !== void 0 ? _d : 20;
        this.protocol = (_e = options === null || options === void 0 ? void 0 : options.protocol) !== null && _e !== void 0 ? _e : 'https';
        this.queue = [];
        if (this.sampleRate > 0) {
            var flushing_1 = false;
            var run_1 = function() {
                if (flushing_1) {
                    return;
                }
                flushing_1 = true;
                _this.flush().catch(logError);
                flushing_1 = false;
                setTimeout(run_1, _this.flushTimer);
            };
            run_1();
        }
    }
    RemoteMetrics.prototype.increment = function(metric, tags) {
        // All metrics are part of an allow list in Tracking API
        if (!metric.includes('analytics_js.')) {
            return;
        }
        // /m doesn't like empty tags
        if (tags.length === 0) {
            return;
        }
        if (Math.random() > this.sampleRate) {
            return;
        }
        if (this.queue.length >= this.maxQueueSize) {
            return;
        }
        var remoteMetric = createRemoteMetric(metric, tags, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$version$2d$type$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getVersionType"])());
        this.queue.push(remoteMetric);
        if (metric.includes('error')) {
            this.flush().catch(logError);
        }
    };
    RemoteMetrics.prototype.flush = function() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        if (this.queue.length <= 0) {
                            return [
                                2 /*return*/ 
                            ];
                        }
                        return [
                            4 /*yield*/ ,
                            this.send().catch(function(error) {
                                logError(error);
                                _this.sampleRate = 0;
                            })
                        ];
                    case 1:
                        _a.sent();
                        return [
                            2 /*return*/ 
                        ];
                }
            });
        });
    };
    RemoteMetrics.prototype.send = function() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var payload, headers, url;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                payload = {
                    series: this.queue
                };
                this.queue = [];
                headers = {
                    'Content-Type': 'text/plain'
                };
                url = "".concat(this.protocol, "://").concat(this.host, "/m");
                return [
                    2 /*return*/ ,
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$fetch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetch"])(url, {
                        headers: headers,
                        body: JSON.stringify(payload),
                        method: 'POST'
                    })
                ];
            });
        });
    };
    return RemoteMetrics;
}();
;
 //# sourceMappingURL=remote-metrics.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/stats/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Stats",
    ()=>Stats
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$stats$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/stats/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$remote$2d$metrics$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/stats/remote-metrics.js [app-client] (ecmascript)");
;
;
;
var remoteMetrics;
var Stats = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(Stats, _super);
    function Stats() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Stats.initRemoteMetrics = function(options) {
        remoteMetrics = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$remote$2d$metrics$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RemoteMetrics"](options);
    };
    Stats.prototype.increment = function(metric, by, tags) {
        _super.prototype.increment.call(this, metric, by, tags);
        remoteMetrics === null || remoteMetrics === void 0 ? void 0 : remoteMetrics.increment(metric, tags !== null && tags !== void 0 ? tags : []);
    };
    return Stats;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$stats$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CoreStats"]);
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Context",
    ()=>Context
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/context/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/stats/index.js [app-client] (ecmascript)");
;
;
;
var Context = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(Context, _super);
    function Context(event, id) {
        return _super.call(this, event, id, new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Stats"]()) || this;
    }
    Context.system = function() {
        return new this({
            type: 'track',
            event: 'system'
        });
    };
    return Context;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CoreContext"]);
;
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/pick.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "pick",
    ()=>pick
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
;
function pick(object, keys) {
    return Object.assign.apply(Object, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([
        {}
    ], keys.map(function(key) {
        var _a;
        if (object && Object.prototype.hasOwnProperty.call(object, key)) {
            return _a = {}, _a[key] = object[key], _a;
        }
    }), false));
} //# sourceMappingURL=pick.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/page/add-page-context.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "addPageContext",
    ()=>addPageContext
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$pick$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/pick.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$page$2d$tools$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-page-tools/dist/esm/index.mjs [app-client] (ecmascript)");
;
;
;
var addPageContext = function(event, pageCtx) {
    if (pageCtx === void 0) {
        pageCtx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$page$2d$tools$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getDefaultPageContext"])();
    }
    var evtCtx = event.context; // Context should be set earlier in the flow
    var pageContextFromEventProps;
    if (event.type === 'page') {
        pageContextFromEventProps = event.properties && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$pick$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pick"])(event.properties, Object.keys(pageCtx));
        event.properties = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, pageCtx), event.properties), event.name ? {
            name: event.name
        } : {});
    }
    evtCtx.page = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, pageCtx), pageContextFromEventProps), evtCtx.page);
}; //# sourceMappingURL=add-page-context.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/events/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "EventFactory",
    ()=>EventFactory
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lukeed$2f$uuid$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lukeed/uuid/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$page$2f$add$2d$page$2d$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/page/add-page-context.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$events$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/events/index.js [app-client] (ecmascript) <locals>");
;
;
;
;
;
var EventFactory = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(EventFactory, _super);
    function EventFactory(user) {
        var _this = _super.call(this, {
            createMessageId: function() {
                return "ajs-next-".concat(Date.now(), "-").concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lukeed$2f$uuid$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["v4"])());
            },
            onEventMethodCall: function(_a) {
                var options = _a.options;
                _this.maybeUpdateAnonId(options);
            },
            onFinishedEvent: function(event) {
                _this.addIdentity(event);
                return event;
            }
        }) || this;
        _this.user = user;
        return _this;
    }
    /**
     * Updates the anonymousId *globally* if it's provided in the options.
     * This should generally be done in the identify method, but some customers rely on this.
     */ EventFactory.prototype.maybeUpdateAnonId = function(options) {
        (options === null || options === void 0 ? void 0 : options.anonymousId) && this.user.anonymousId(options.anonymousId);
    };
    /**
     * add user id / anonymous id to the event
     */ EventFactory.prototype.addIdentity = function(event) {
        if (this.user.id()) {
            event.userId = this.user.id();
        }
        if (this.user.anonymousId()) {
            event.anonymousId = this.user.anonymousId();
        }
    };
    EventFactory.prototype.track = function(event, properties, options, integrationsOptions, pageCtx) {
        var ev = _super.prototype.track.call(this, event, properties, options, integrationsOptions);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$page$2f$add$2d$page$2d$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addPageContext"])(ev, pageCtx);
        return ev;
    };
    EventFactory.prototype.page = function(category, page, properties, options, integrationsOptions, pageCtx) {
        var ev = _super.prototype.page.call(this, category, page, properties, options, integrationsOptions);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$page$2f$add$2d$page$2d$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addPageContext"])(ev, pageCtx);
        return ev;
    };
    EventFactory.prototype.screen = function(category, screen, properties, options, integrationsOptions, pageCtx) {
        var ev = _super.prototype.screen.call(this, category, screen, properties, options, integrationsOptions);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$page$2f$add$2d$page$2d$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addPageContext"])(ev, pageCtx);
        return ev;
    };
    EventFactory.prototype.identify = function(userId, traits, options, integrationsOptions, pageCtx) {
        var ev = _super.prototype.identify.call(this, userId, traits, options, integrationsOptions);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$page$2f$add$2d$page$2d$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addPageContext"])(ev, pageCtx);
        return ev;
    };
    EventFactory.prototype.group = function(groupId, traits, options, integrationsOptions, pageCtx) {
        var ev = _super.prototype.group.call(this, groupId, traits, options, integrationsOptions);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$page$2f$add$2d$page$2d$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addPageContext"])(ev, pageCtx);
        return ev;
    };
    EventFactory.prototype.alias = function(to, from, options, integrationsOptions, pageCtx) {
        var ev = _super.prototype.alias.call(this, to, from, options, integrationsOptions);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$page$2f$add$2d$page$2d$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addPageContext"])(ev, pageCtx);
        return ev;
    };
    return EventFactory;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$events$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["CoreEventFactory"]);
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/plugin/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "isDestinationPluginWithAddMiddleware",
    ()=>isDestinationPluginWithAddMiddleware
]);
var isDestinationPluginWithAddMiddleware = function(plugin) {
    // FYI: segment's plugin does not currently have an 'addMiddleware' method
    return 'addMiddleware' in plugin && plugin.type === 'destination';
}; //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/priority-queue/persisted.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PersistedPriorityQueue",
    ()=>PersistedPriorityQueue
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$environment$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/environment/index.js [app-client] (ecmascript)");
;
;
;
;
var loc = {
    getItem: function() {},
    setItem: function() {},
    removeItem: function() {}
};
try {
    loc = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$environment$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isBrowser"])() && window.localStorage ? window.localStorage : loc;
} catch (err) {
    console.warn('Unable to access localStorage', err);
}
function persisted(key) {
    var items = loc.getItem(key);
    return (items ? JSON.parse(items) : []).map(function(p) {
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Context"](p.event, p.id);
    });
}
function persistItems(key, items) {
    var existing = persisted(key);
    var all = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([], items, true), existing, true);
    var merged = all.reduce(function(acc, item) {
        var _a;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, acc), (_a = {}, _a[item.id] = item, _a));
    }, {});
    loc.setItem(key, JSON.stringify(Object.values(merged)));
}
function seen(key) {
    var stored = loc.getItem(key);
    return stored ? JSON.parse(stored) : {};
}
function persistSeen(key, memory) {
    var stored = seen(key);
    loc.setItem(key, JSON.stringify((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, stored), memory)));
}
function remove(key) {
    loc.removeItem(key);
}
var now = function() {
    return new Date().getTime();
};
function mutex(key, onUnlock, attempt) {
    if (attempt === void 0) {
        attempt = 0;
    }
    var lockTimeout = 50;
    var lockKey = "persisted-queue:v1:".concat(key, ":lock");
    var expired = function(lock) {
        return new Date().getTime() > lock;
    };
    var rawLock = loc.getItem(lockKey);
    var lock = rawLock ? JSON.parse(rawLock) : null;
    var allowed = lock === null || expired(lock);
    if (allowed) {
        loc.setItem(lockKey, JSON.stringify(now() + lockTimeout));
        onUnlock();
        loc.removeItem(lockKey);
        return;
    }
    if (!allowed && attempt < 3) {
        setTimeout(function() {
            mutex(key, onUnlock, attempt + 1);
        }, lockTimeout);
    } else {
        console.error('Unable to retrieve lock');
    }
}
var PersistedPriorityQueue = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(PersistedPriorityQueue, _super);
    function PersistedPriorityQueue(maxAttempts, key) {
        var _this = _super.call(this, maxAttempts, []) || this;
        var itemsKey = "persisted-queue:v1:".concat(key, ":items");
        var seenKey = "persisted-queue:v1:".concat(key, ":seen");
        var saved = [];
        var lastSeen = {};
        mutex(key, function() {
            try {
                saved = persisted(itemsKey);
                lastSeen = seen(seenKey);
                remove(itemsKey);
                remove(seenKey);
                _this.queue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([], saved, true), _this.queue, true);
                _this.seen = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, lastSeen), _this.seen);
            } catch (err) {
                console.error(err);
            }
        });
        window.addEventListener('pagehide', function() {
            // we deliberately want to use the less powerful 'pagehide' API to only persist on events where the analytics instance gets destroyed, and not on tab away.
            if (_this.todo > 0) {
                var items_1 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([], _this.queue, true), _this.future, true);
                try {
                    mutex(key, function() {
                        persistItems(itemsKey, items_1);
                        persistSeen(seenKey, _this.seen);
                    });
                } catch (err) {
                    console.error(err);
                }
            }
        });
        return _this;
    }
    return PersistedPriorityQueue;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PriorityQueue"]);
;
 //# sourceMappingURL=persisted.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/queue/event-queue.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "EventQueue",
    ()=>EventQueue
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$priority$2d$queue$2f$persisted$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/priority-queue/persisted.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$queue$2f$event$2d$queue$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/queue/event-queue.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$connection$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/connection/index.js [app-client] (ecmascript)");
;
;
;
;
var EventQueue = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(EventQueue, _super);
    function EventQueue(nameOrQueue) {
        return _super.call(this, typeof nameOrQueue === 'string' ? new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$priority$2d$queue$2f$persisted$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PersistedPriorityQueue"](4, nameOrQueue) : nameOrQueue) || this;
    }
    EventQueue.prototype.flush = function() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$connection$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isOffline"])()) return [
                    2 /*return*/ ,
                    []
                ];
                return [
                    2 /*return*/ ,
                    _super.prototype.flush.call(this)
                ];
            });
        });
    };
    return EventQueue;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$queue$2f$event$2d$queue$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CoreEventQueue"]);
;
 //# sourceMappingURL=event-queue.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/bind-all.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>bindAll
]);
function bindAll(obj) {
    var proto = obj.constructor.prototype;
    for(var _i = 0, _a = Object.getOwnPropertyNames(proto); _i < _a.length; _i++){
        var key = _a[_i];
        if (key !== 'constructor') {
            var desc = Object.getOwnPropertyDescriptor(obj.constructor.prototype, key);
            if (!!desc && typeof desc.value === 'function') {
                obj[key] = obj[key].bind(obj);
            }
        }
    }
    return obj;
} //# sourceMappingURL=bind-all.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/universalStorage.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "UniversalStorage",
    ()=>UniversalStorage
]);
// not adding to private method because those method names do not get minified atm, and does not use 'this'
var _logStoreKeyError = function(store, action, key, err) {
    console.warn("".concat(store.constructor.name, ": Can't ").concat(action, " key \"").concat(key, "\" | Err: ").concat(err));
};
/**
 * Uses multiple storages in a priority list to get/set values in the order they are specified.
 */ var UniversalStorage = function() {
    function UniversalStorage(stores) {
        this.stores = stores;
    }
    UniversalStorage.prototype.get = function(key) {
        var val = null;
        for(var _i = 0, _a = this.stores; _i < _a.length; _i++){
            var store = _a[_i];
            try {
                val = store.get(key);
                if (val !== undefined && val !== null) {
                    return val;
                }
            } catch (e) {
                _logStoreKeyError(store, 'get', key, e);
            }
        }
        return null;
    };
    UniversalStorage.prototype.set = function(key, value) {
        this.stores.forEach(function(store) {
            try {
                store.set(key, value);
            } catch (e) {
                _logStoreKeyError(store, 'set', key, e);
            }
        });
    };
    UniversalStorage.prototype.clear = function(key) {
        this.stores.forEach(function(store) {
            try {
                store.remove(key);
            } catch (e) {
                _logStoreKeyError(store, 'remove', key, e);
            }
        });
    };
    /*
      This is to support few scenarios where:
      - value exist in one of the stores ( as a result of other stores being cleared from browser ) and we want to resync them
      - read values in AJS 1.0 format ( for customers after 1.0 --> 2.0 migration ) and then re-write them in AJS 2.0 format
    */ UniversalStorage.prototype.getAndSync = function(key) {
        var val = this.get(key);
        // legacy behavior, getAndSync can change the type of a value from number to string (AJS 1.0 stores numerical values as a number)
        var coercedValue = typeof val === 'number' ? val.toString() : val;
        this.set(key, coercedValue);
        return coercedValue;
    };
    return UniversalStorage;
}();
;
 //# sourceMappingURL=universalStorage.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/memoryStorage.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MemoryStorage",
    ()=>MemoryStorage
]);
/**
 * Data Storage using in memory object
 */ var MemoryStorage = function() {
    function MemoryStorage() {
        this.cache = {};
    }
    MemoryStorage.prototype.get = function(key) {
        var _a;
        return (_a = this.cache[key]) !== null && _a !== void 0 ? _a : null;
    };
    MemoryStorage.prototype.set = function(key, value) {
        this.cache[key] = value;
    };
    MemoryStorage.prototype.remove = function(key) {
        delete this.cache[key];
    };
    return MemoryStorage;
}();
;
 //# sourceMappingURL=memoryStorage.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/types.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "StoreType",
    ()=>StoreType
]);
var StoreType = {
    Cookie: 'cookie',
    LocalStorage: 'localStorage',
    Memory: 'memory'
}; //# sourceMappingURL=types.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/user/tld.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "tld",
    ()=>tld
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/js-cookie/dist/js.cookie.mjs [app-client] (ecmascript)");
;
/**
 * Levels returns all levels of the given url.
 *
 * @param {string} url
 * @return {Array}
 * @api public
 */ function levels(url) {
    var host = url.hostname;
    var parts = host.split('.');
    var last = parts[parts.length - 1];
    var levels = [];
    // Ip address.
    if (parts.length === 4 && parseInt(last, 10) > 0) {
        return levels;
    }
    // Localhost.
    if (parts.length <= 1) {
        return levels;
    }
    // Create levels.
    for(var i = parts.length - 2; i >= 0; --i){
        levels.push(parts.slice(i).join('.'));
    }
    return levels;
}
function parseUrl(url) {
    try {
        return new URL(url);
    } catch (_a) {
        return;
    }
}
function tld(url) {
    var parsedUrl = parseUrl(url);
    if (!parsedUrl) return;
    var lvls = levels(parsedUrl);
    // Lookup the real top level one.
    for(var i = 0; i < lvls.length; ++i){
        var cname = '__tld__';
        var domain = lvls[i];
        var opts = {
            domain: '.' + domain
        };
        try {
            // cookie access throw an error if the library is ran inside a sandboxed environment (e.g. sandboxed iframe)
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].set(cname, '1', opts);
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].get(cname)) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].remove(cname, opts);
                return domain;
            }
        } catch (_) {
            return;
        }
    }
} //# sourceMappingURL=tld.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/cookieStorage.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CookieStorage",
    ()=>CookieStorage
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/js-cookie/dist/js.cookie.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$user$2f$tld$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/user/tld.js [app-client] (ecmascript)");
;
;
;
var ONE_YEAR = 365;
/**
 * Data storage using browser cookies
 */ var CookieStorage = function() {
    function CookieStorage(options) {
        if (options === void 0) {
            options = CookieStorage.defaults;
        }
        this.options = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, CookieStorage.defaults), options);
    }
    Object.defineProperty(CookieStorage, "defaults", {
        get: function() {
            return {
                maxage: ONE_YEAR,
                domain: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$user$2f$tld$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["tld"])(window.location.href),
                path: '/',
                sameSite: 'Lax'
            };
        },
        enumerable: false,
        configurable: true
    });
    CookieStorage.prototype.opts = function() {
        return {
            sameSite: this.options.sameSite,
            expires: this.options.maxage,
            domain: this.options.domain,
            path: this.options.path,
            secure: this.options.secure
        };
    };
    CookieStorage.prototype.get = function(key) {
        var _a;
        try {
            var value = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].get(key);
            if (value === undefined || value === null) {
                return null;
            }
            try {
                return (_a = JSON.parse(value)) !== null && _a !== void 0 ? _a : null;
            } catch (e) {
                return value !== null && value !== void 0 ? value : null;
            }
        } catch (e) {
            return null;
        }
    };
    CookieStorage.prototype.set = function(key, value) {
        if (typeof value === 'string') {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].set(key, value, this.opts());
        } else if (value === null) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].remove(key, this.opts());
        } else {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].set(key, JSON.stringify(value), this.opts());
        }
    };
    CookieStorage.prototype.remove = function(key) {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].remove(key, this.opts());
    };
    return CookieStorage;
}();
;
 //# sourceMappingURL=cookieStorage.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/localStorage.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "LocalStorage",
    ()=>LocalStorage
]);
/**
 * Data storage using browser's localStorage
 */ var LocalStorage = function() {
    function LocalStorage() {}
    LocalStorage.prototype.localStorageWarning = function(key, state) {
        console.warn("Unable to access ".concat(key, ", localStorage may be ").concat(state));
    };
    LocalStorage.prototype.get = function(key) {
        var _a;
        try {
            var val = localStorage.getItem(key);
            if (val === null) {
                return null;
            }
            try {
                return (_a = JSON.parse(val)) !== null && _a !== void 0 ? _a : null;
            } catch (e) {
                return val !== null && val !== void 0 ? val : null;
            }
        } catch (err) {
            this.localStorageWarning(key, 'unavailable');
            return null;
        }
    };
    LocalStorage.prototype.set = function(key, value) {
        try {
            localStorage.setItem(key, JSON.stringify(value));
        } catch (_a) {
            this.localStorageWarning(key, 'full');
        }
    };
    LocalStorage.prototype.remove = function(key) {
        try {
            return localStorage.removeItem(key);
        } catch (err) {
            this.localStorageWarning(key, 'unavailable');
        }
    };
    return LocalStorage;
}();
;
 //# sourceMappingURL=localStorage.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/settings.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "isArrayOfStoreType",
    ()=>isArrayOfStoreType,
    "isStoreTypeWithSettings",
    ()=>isStoreTypeWithSettings
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/types.js [app-client] (ecmascript)");
;
function isArrayOfStoreType(s) {
    return s && s.stores && Array.isArray(s.stores) && s.stores.every(function(e) {
        return Object.values(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"]).includes(e);
    });
}
function isStoreTypeWithSettings(s) {
    return typeof s === 'object' && s.name !== undefined;
} //# sourceMappingURL=settings.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/index.js [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "applyCookieOptions",
    ()=>applyCookieOptions,
    "initializeStorages",
    ()=>initializeStorages
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$cookieStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/cookieStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$localStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/localStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$memoryStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/memoryStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/settings.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/types.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
function initializeStorages(args) {
    var storages = args.map(function(s) {
        var type;
        var settings;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isStoreTypeWithSettings"])(s)) {
            type = s.name;
            settings = s.settings;
        } else {
            type = s;
        }
        switch(type){
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].Cookie:
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$cookieStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CookieStorage"](settings);
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].LocalStorage:
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$localStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LocalStorage"]();
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].Memory:
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$memoryStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MemoryStorage"]();
            default:
                throw new Error("Unknown Store Type: ".concat(s));
        }
    });
    return storages;
}
function applyCookieOptions(storeTypes, cookieOptions) {
    return storeTypes.map(function(s) {
        if (cookieOptions && s === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].Cookie) {
            return {
                name: s,
                settings: cookieOptions
            };
        }
        return s;
    });
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/user/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Group",
    ()=>Group,
    "User",
    ()=>User
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lukeed$2f$uuid$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@lukeed/uuid/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$bind$2d$all$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/bind-all.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/universalStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$memoryStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/memoryStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/types.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/settings.js [app-client] (ecmascript)");
;
;
;
;
var defaults = {
    persist: true,
    cookie: {
        key: 'ajs_user_id',
        oldKey: 'ajs_user'
    },
    localStorage: {
        key: 'ajs_user_traits'
    }
};
var User = function() {
    function User(options, cookieOptions) {
        if (options === void 0) {
            options = defaults;
        }
        var _this = this;
        var _a, _b, _c, _d;
        this.options = {};
        this.id = function(id) {
            if (_this.options.disable) {
                return null;
            }
            var prevId = _this.identityStore.getAndSync(_this.idKey);
            if (id !== undefined) {
                _this.identityStore.set(_this.idKey, id);
                var changingIdentity = id !== prevId && prevId !== null && id !== null;
                if (changingIdentity) {
                    _this.anonymousId(null);
                }
            }
            var retId = _this.identityStore.getAndSync(_this.idKey);
            if (retId) return retId;
            var retLeg = _this.legacyUserStore.get(defaults.cookie.oldKey);
            return retLeg ? typeof retLeg === 'object' ? retLeg.id : retLeg : null;
        };
        this.anonymousId = function(id) {
            var _a, _b;
            if (_this.options.disable) {
                return null;
            }
            if (id === undefined) {
                var val = (_a = _this.identityStore.getAndSync(_this.anonKey)) !== null && _a !== void 0 ? _a : (_b = _this.legacySIO()) === null || _b === void 0 ? void 0 : _b[0];
                if (val) {
                    return val;
                }
            }
            if (id === null) {
                _this.identityStore.set(_this.anonKey, null);
                return _this.identityStore.getAndSync(_this.anonKey);
            }
            _this.identityStore.set(_this.anonKey, id !== null && id !== void 0 ? id : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$lukeed$2f$uuid$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["v4"])());
            return _this.identityStore.getAndSync(_this.anonKey);
        };
        this.traits = function(traits) {
            var _a;
            if (_this.options.disable) {
                return;
            }
            if (traits === null) {
                traits = {};
            }
            if (traits) {
                _this.traitsStore.set(_this.traitsKey, traits !== null && traits !== void 0 ? traits : {});
            }
            return (_a = _this.traitsStore.get(_this.traitsKey)) !== null && _a !== void 0 ? _a : {};
        };
        this.options = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, defaults), options);
        this.cookieOptions = cookieOptions;
        this.idKey = (_b = (_a = options.cookie) === null || _a === void 0 ? void 0 : _a.key) !== null && _b !== void 0 ? _b : defaults.cookie.key;
        this.traitsKey = (_d = (_c = options.localStorage) === null || _c === void 0 ? void 0 : _c.key) !== null && _d !== void 0 ? _d : defaults.localStorage.key;
        this.anonKey = 'ajs_anonymous_id';
        this.identityStore = this.createStorage(this.options, cookieOptions);
        // using only cookies for legacy user store
        this.legacyUserStore = this.createStorage(this.options, cookieOptions, function(s) {
            return s === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].Cookie;
        });
        // using only localStorage / memory for traits store
        this.traitsStore = this.createStorage(this.options, cookieOptions, function(s) {
            return s !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].Cookie;
        });
        var legacyUser = this.legacyUserStore.get(defaults.cookie.oldKey);
        if (legacyUser && typeof legacyUser === 'object') {
            legacyUser.id && this.id(legacyUser.id);
            legacyUser.traits && this.traits(legacyUser.traits);
        }
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$bind$2d$all$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(this);
    }
    User.prototype.legacySIO = function() {
        var val = this.legacyUserStore.get('_sio');
        if (!val) {
            return null;
        }
        var _a = val.split('----'), anon = _a[0], user = _a[1];
        return [
            anon,
            user
        ];
    };
    User.prototype.identify = function(id, traits) {
        if (this.options.disable) {
            return;
        }
        traits = traits !== null && traits !== void 0 ? traits : {};
        var currentId = this.id();
        if (currentId === null || currentId === id) {
            traits = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, this.traits()), traits);
        }
        if (id) {
            this.id(id);
        }
        this.traits(traits);
    };
    User.prototype.logout = function() {
        this.anonymousId(null);
        this.id(null);
        this.traits({});
    };
    User.prototype.reset = function() {
        this.logout();
        this.identityStore.clear(this.idKey);
        this.identityStore.clear(this.anonKey);
        this.traitsStore.clear(this.traitsKey);
    };
    User.prototype.load = function() {
        return new User(this.options, this.cookieOptions);
    };
    User.prototype.save = function() {
        return true;
    };
    /**
     * Creates the right storage system applying all the user options, cookie options and particular filters
     * @param options UserOptions
     * @param cookieOpts CookieOptions
     * @param filterStores filter function to apply to any StoreTypes (skipped if options specify using a custom storage)
     * @returns a Storage object
     */ User.prototype.createStorage = function(options, cookieOpts, filterStores) {
        var stores = [
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].LocalStorage,
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].Cookie,
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].Memory
        ];
        // If disabled we won't have any storage functionality
        if (options.disable) {
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UniversalStorage"]([]);
        }
        // If persistance is disabled we will always fallback to Memory Storage
        if (!options.persist) {
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UniversalStorage"]([
                new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$memoryStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MemoryStorage"]()
            ]);
        }
        if (options.storage !== undefined && options.storage !== null) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isArrayOfStoreType"])(options.storage)) {
                // If the user only specified order of stores we will still apply filters and transformations e.g. not using localStorage if localStorageFallbackDisabled
                stores = options.storage.stores;
            }
        }
        // Disable LocalStorage
        if (options.localStorageFallbackDisabled) {
            stores = stores.filter(function(s) {
                return s !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].LocalStorage;
            });
        }
        // Apply Additional filters
        if (filterStores) {
            stores = stores.filter(filterStores);
        }
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UniversalStorage"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["initializeStorages"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["applyCookieOptions"])(stores, cookieOpts)));
    };
    User.defaults = defaults;
    return User;
}();
;
var groupDefaults = {
    persist: true,
    cookie: {
        key: 'ajs_group_id'
    },
    localStorage: {
        key: 'ajs_group_properties'
    }
};
var Group = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(Group, _super);
    function Group(options, cookie) {
        if (options === void 0) {
            options = groupDefaults;
        }
        var _this = _super.call(this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, groupDefaults), options), cookie) || this;
        _this.anonymousId = function(_id) {
            return undefined;
        };
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$bind$2d$all$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_this);
        return _this;
    }
    return Group;
}(User);
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/is-thenable.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 *  Check if  thenable
 *  (instanceof Promise doesn't respect realms)
 */ __turbopack_context__.s([
    "isThenable",
    ()=>isThenable
]);
var isThenable = function(value) {
    return typeof value === 'object' && value !== null && 'then' in value && typeof value.then === 'function';
}; //# sourceMappingURL=is-thenable.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/buffer/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AnalyticsBuffered",
    ()=>AnalyticsBuffered,
    "PreInitMethodCall",
    ()=>PreInitMethodCall,
    "PreInitMethodCallBuffer",
    ()=>PreInitMethodCallBuffer,
    "callAnalyticsMethod",
    ()=>callAnalyticsMethod,
    "flushAddSourceMiddleware",
    ()=>flushAddSourceMiddleware,
    "flushAnalyticsCallsInNewTask",
    ()=>flushAnalyticsCallsInNewTask,
    "flushOn",
    ()=>flushOn,
    "flushRegister",
    ()=>flushRegister,
    "flushSetAnonymousID",
    ()=>flushSetAnonymousID,
    "hasBufferedPageContextAsLastArg",
    ()=>hasBufferedPageContextAsLastArg,
    "popPageContext",
    ()=>popPageContext
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$is$2d$thenable$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/is-thenable.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$generated$2f$version$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/generated/version.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/global-analytics-helper.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$page$2d$tools$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-page-tools/dist/esm/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$version$2d$type$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/version-type.js [app-client] (ecmascript)");
;
;
;
;
;
;
var flushSyncAnalyticsCalls = function(name, analytics, buffer) {
    buffer.getAndRemove(name).forEach(function(c) {
        // While the underlying methods are synchronous, the callAnalyticsMethod returns a promise,
        // which normalizes success and error states between async and non-async methods, with no perf penalty.
        callAnalyticsMethod(analytics, c).catch(console.error);
    });
};
var flushAddSourceMiddleware = function(analytics, buffer) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(void 0, void 0, void 0, function() {
        var _i, _a, c;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
            switch(_b.label){
                case 0:
                    _i = 0, _a = buffer.getAndRemove('addSourceMiddleware');
                    _b.label = 1;
                case 1:
                    if (!(_i < _a.length)) return [
                        3 /*break*/ ,
                        4
                    ];
                    c = _a[_i];
                    return [
                        4 /*yield*/ ,
                        callAnalyticsMethod(analytics, c).catch(console.error)
                    ];
                case 2:
                    _b.sent();
                    _b.label = 3;
                case 3:
                    _i++;
                    return [
                        3 /*break*/ ,
                        1
                    ];
                case 4:
                    return [
                        2 /*return*/ 
                    ];
            }
        });
    });
};
var flushRegister = function(analytics, buffer) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(void 0, void 0, void 0, function() {
        var _i, _a, c;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
            switch(_b.label){
                case 0:
                    _i = 0, _a = buffer.getAndRemove('register');
                    _b.label = 1;
                case 1:
                    if (!(_i < _a.length)) return [
                        3 /*break*/ ,
                        4
                    ];
                    c = _a[_i];
                    return [
                        4 /*yield*/ ,
                        callAnalyticsMethod(analytics, c).catch(console.error)
                    ];
                case 2:
                    _b.sent();
                    _b.label = 3;
                case 3:
                    _i++;
                    return [
                        3 /*break*/ ,
                        1
                    ];
                case 4:
                    return [
                        2 /*return*/ 
                    ];
            }
        });
    });
};
var flushOn = flushSyncAnalyticsCalls.bind(("TURBOPACK compile-time value", void 0), 'on');
var flushSetAnonymousID = flushSyncAnalyticsCalls.bind(("TURBOPACK compile-time value", void 0), 'setAnonymousId');
var flushAnalyticsCallsInNewTask = function(analytics, buffer) {
    ;
    Object.keys(buffer.calls).forEach(function(m) {
        buffer.getAndRemove(m).forEach(function(c) {
            // No one remembers why this event loop optimization is/was neccessary. Lost to history.
            setTimeout(function() {
                callAnalyticsMethod(analytics, c).catch(console.error);
            }, 0);
        });
    });
};
var popPageContext = function(args) {
    if (hasBufferedPageContextAsLastArg(args)) {
        var ctx = args.pop();
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$page$2d$tools$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createPageContext"])(ctx);
    }
};
var hasBufferedPageContextAsLastArg = function(args) {
    var lastArg = args[args.length - 1];
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$page$2d$tools$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isBufferedPageContext"])(lastArg);
};
/**
 *  Represents a buffered method call that occurred before initialization.
 */ var PreInitMethodCall = function() {
    function PreInitMethodCall(method, args, resolve, reject) {
        if (resolve === void 0) {
            resolve = function() {};
        }
        if (reject === void 0) {
            reject = console.error;
        }
        this.method = method;
        this.resolve = resolve;
        this.reject = reject;
        this.called = false;
        this.args = args;
    }
    return PreInitMethodCall;
}();
;
/**
 *  Represents any and all the buffered method calls that occurred before initialization.
 */ var PreInitMethodCallBuffer = function() {
    function PreInitMethodCallBuffer() {
        var calls = [];
        for(var _i = 0; _i < arguments.length; _i++){
            calls[_i] = arguments[_i];
        }
        this._callMap = {};
        this.add.apply(this, calls);
    }
    Object.defineProperty(PreInitMethodCallBuffer.prototype, "calls", {
        /**
         * Pull any buffered method calls from the window object, and use them to hydrate the instance buffer.
         */ get: function() {
            this._pushSnippetWindowBuffer();
            return this._callMap;
        },
        set: function(calls) {
            this._callMap = calls;
        },
        enumerable: false,
        configurable: true
    });
    PreInitMethodCallBuffer.prototype.get = function(methodName) {
        var _a;
        return (_a = this.calls[methodName]) !== null && _a !== void 0 ? _a : [];
    };
    /**
     * Get all buffered method calls for a given method name, and clear them from the buffer.
     */ PreInitMethodCallBuffer.prototype.getAndRemove = function(methodName) {
        var calls = this.get(methodName);
        this.calls[methodName] = [];
        return calls;
    };
    PreInitMethodCallBuffer.prototype.add = function() {
        var _this = this;
        var calls = [];
        for(var _i = 0; _i < arguments.length; _i++){
            calls[_i] = arguments[_i];
        }
        calls.forEach(function(call) {
            var eventsExpectingPageContext = [
                'track',
                'screen',
                'alias',
                'group',
                'page',
                'identify'
            ];
            if (eventsExpectingPageContext.includes(call.method) && !hasBufferedPageContextAsLastArg(call.args)) {
                call.args = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([], call.args, true), [
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$page$2d$tools$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getDefaultBufferedPageContext"])()
                ], false);
            }
            if (_this.calls[call.method]) {
                _this.calls[call.method].push(call);
            } else {
                _this.calls[call.method] = [
                    call
                ];
            }
        });
    };
    PreInitMethodCallBuffer.prototype.clear = function() {
        // clear calls in the global snippet buffered array.
        this._pushSnippetWindowBuffer();
        // clear calls in this instance
        this.calls = {};
    };
    PreInitMethodCallBuffer.prototype.toArray = function() {
        var _a;
        return (_a = []).concat.apply(_a, Object.values(this.calls));
    };
    /**
     * Fetch the buffered method calls from the window object,
     * normalize them, and use them to hydrate the buffer.
     * This removes existing buffered calls from the window object.
     */ PreInitMethodCallBuffer.prototype._pushSnippetWindowBuffer = function() {
        // if this is the npm version, we don't want to read from the window object.
        // This avoids namespace conflicts if there is a seperate analytics library on the page.
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$version$2d$type$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getVersionType"])() === 'npm') {
            return undefined;
        }
        var wa = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getGlobalAnalytics"])();
        if (!Array.isArray(wa)) return undefined;
        var buffered = wa.splice(0, wa.length);
        var calls = buffered.map(function(_a) {
            var methodName = _a[0], args = _a.slice(1);
            return new PreInitMethodCall(methodName, args);
        });
        this.add.apply(this, calls);
    };
    return PreInitMethodCallBuffer;
}();
;
function callAnalyticsMethod(analytics, call) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        var result, err_1;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            switch(_a.label){
                case 0:
                    _a.trys.push([
                        0,
                        3,
                        ,
                        4
                    ]);
                    if (call.called) {
                        return [
                            2 /*return*/ ,
                            undefined
                        ];
                    }
                    call.called = true;
                    result = analytics[call.method].apply(analytics, call.args);
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$is$2d$thenable$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isThenable"])(result)) return [
                        3 /*break*/ ,
                        2
                    ];
                    // do not defer for non-async methods
                    return [
                        4 /*yield*/ ,
                        result
                    ];
                case 1:
                    // do not defer for non-async methods
                    _a.sent();
                    _a.label = 2;
                case 2:
                    call.resolve(result);
                    return [
                        3 /*break*/ ,
                        4
                    ];
                case 3:
                    err_1 = _a.sent();
                    call.reject(err_1);
                    return [
                        3 /*break*/ ,
                        4
                    ];
                case 4:
                    return [
                        2 /*return*/ 
                    ];
            }
        });
    });
}
var AnalyticsBuffered = function() {
    function AnalyticsBuffered(loader) {
        var _this = this;
        this.trackSubmit = this._createMethod('trackSubmit');
        this.trackClick = this._createMethod('trackClick');
        this.trackLink = this._createMethod('trackLink');
        this.pageView = this._createMethod('pageview');
        this.identify = this._createMethod('identify');
        this.reset = this._createMethod('reset');
        this.group = this._createMethod('group');
        this.track = this._createMethod('track');
        this.ready = this._createMethod('ready');
        this.alias = this._createMethod('alias');
        this.debug = this._createChainableMethod('debug');
        this.page = this._createMethod('page');
        this.once = this._createChainableMethod('once');
        this.off = this._createChainableMethod('off');
        this.on = this._createChainableMethod('on');
        this.addSourceMiddleware = this._createMethod('addSourceMiddleware');
        this.setAnonymousId = this._createMethod('setAnonymousId');
        this.addDestinationMiddleware = this._createMethod('addDestinationMiddleware');
        this.screen = this._createMethod('screen');
        this.register = this._createMethod('register');
        this.deregister = this._createMethod('deregister');
        this.user = this._createMethod('user');
        this.VERSION = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$generated$2f$version$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["version"];
        this._preInitBuffer = new PreInitMethodCallBuffer();
        this._promise = loader(this._preInitBuffer);
        this._promise.then(function(_a) {
            var ajs = _a[0], ctx = _a[1];
            _this.instance = ajs;
            _this.ctx = ctx;
        }).catch(function() {
        // intentionally do nothing...
        // this result of this promise will be caught by the 'catch' block on this class.
        });
    }
    AnalyticsBuffered.prototype.then = function() {
        var _a;
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (_a = this._promise).then.apply(_a, args);
    };
    AnalyticsBuffered.prototype.catch = function() {
        var _a;
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (_a = this._promise).catch.apply(_a, args);
    };
    AnalyticsBuffered.prototype.finally = function() {
        var _a;
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (_a = this._promise).finally.apply(_a, args);
    };
    AnalyticsBuffered.prototype._createMethod = function(methodName) {
        var _this = this;
        return function() {
            var _a;
            var args = [];
            for(var _i = 0; _i < arguments.length; _i++){
                args[_i] = arguments[_i];
            }
            if (_this.instance) {
                var result = (_a = _this.instance)[methodName].apply(_a, args);
                return Promise.resolve(result);
            }
            return new Promise(function(resolve, reject) {
                _this._preInitBuffer.add(new PreInitMethodCall(methodName, args, resolve, reject));
            });
        };
    };
    /**
     *  These are for methods that where determining when the method gets "flushed" is not important.
     *  These methods will resolve when analytics is fully initialized, and return type (other than Analytics)will not be available.
     */ AnalyticsBuffered.prototype._createChainableMethod = function(methodName) {
        var _this = this;
        return function() {
            var _a;
            var args = [];
            for(var _i = 0; _i < arguments.length; _i++){
                args[_i] = arguments[_i];
            }
            if (_this.instance) {
                void (_a = _this.instance)[methodName].apply(_a, args);
                return _this;
            } else {
                _this._preInitBuffer.add(new PreInitMethodCall(methodName, args));
            }
            return _this;
        };
    };
    return AnalyticsBuffered;
}();
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/to-facade.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "toFacade",
    ()=>toFacade
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$facade$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/facade/dist/index.js [app-client] (ecmascript)");
;
function toFacade(evt, options) {
    var fcd = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$facade$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Facade"](evt, options);
    if (evt.type === 'track') {
        fcd = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$facade$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Track"](evt, options);
    }
    if (evt.type === 'identify') {
        fcd = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$facade$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Identify"](evt, options);
    }
    if (evt.type === 'page') {
        fcd = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$facade$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Page"](evt, options);
    }
    if (evt.type === 'alias') {
        fcd = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$facade$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Alias"](evt, options);
    }
    if (evt.type === 'group') {
        fcd = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$facade$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Group"](evt, options);
    }
    if (evt.type === 'screen') {
        fcd = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$facade$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Screen"](evt, options);
    }
    Object.defineProperty(fcd, 'obj', {
        value: evt,
        writable: true
    });
    return fcd;
} //# sourceMappingURL=to-facade.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/on-page-change.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Register event listener on document that fires when:
 * * tab change or tab close (in mobile or desktop)
 * * click back / forward button
 * * click any link or perform any other navigation action
 * * soft refresh / hard refresh
 *
 * adapted from https://stackoverflow.com/questions/3239834/window-onbeforeunload-not-working-on-the-ipad/52864508#52864508,
 */ __turbopack_context__.s([
    "onPageChange",
    ()=>onPageChange
]);
var onPageChange = function(cb) {
    var unloaded = false; // prevents double firing if both are supported
    window.addEventListener('pagehide', function() {
        if (unloaded) return;
        unloaded = true;
        cb(unloaded);
    });
    // using document instead of window because of bug affecting browsers before safari 14 (detail in footnotes https://caniuse.com/?search=visibilitychange)
    document.addEventListener('visibilitychange', function() {
        if (document.visibilityState == 'hidden') {
            if (unloaded) return;
            unloaded = true;
        } else {
            unloaded = false;
        }
        cb(unloaded);
    });
}; //# sourceMappingURL=on-page-change.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/ratelimit-error.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "RateLimitError",
    ()=>RateLimitError
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
;
var RateLimitError = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(RateLimitError, _super);
    function RateLimitError(message, retryTimeout) {
        var _this = _super.call(this, message) || this;
        _this.retryTimeout = retryTimeout;
        _this.name = 'RateLimitError';
        return _this;
    }
    return RateLimitError;
}(Error);
;
 //# sourceMappingURL=ratelimit-error.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/shared-dispatcher.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createHeaders",
    ()=>createHeaders
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
;
var createHeaders = function(headerSettings) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({
        'Content-Type': 'text/plain'
    }, typeof headerSettings === 'function' ? headerSettings() : headerSettings);
}; //# sourceMappingURL=shared-dispatcher.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/batched-dispatcher.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>batch
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$fetch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/fetch.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$on$2d$page$2d$change$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/on-page-change.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$ratelimit$2d$error$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/ratelimit-error.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$shared$2d$dispatcher$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/shared-dispatcher.js [app-client] (ecmascript)");
;
;
;
;
;
;
var MAX_PAYLOAD_SIZE = 500;
var MAX_KEEPALIVE_SIZE = 64;
function kilobytes(buffer) {
    var size = encodeURI(JSON.stringify(buffer)).split(/%..|./).length - 1;
    return size / 1024;
}
/**
 * Checks if the payload is over or close to
 * the maximum payload size allowed by tracking
 * API.
 */ function approachingTrackingAPILimit(buffer) {
    return kilobytes(buffer) >= MAX_PAYLOAD_SIZE - 50;
}
/**
 * Checks if payload is over or approaching the limit for keepalive
 * requests. If keepalive is enabled we want to avoid
 * going over this to prevent data loss.
 */ function passedKeepaliveLimit(buffer) {
    return kilobytes(buffer) >= MAX_KEEPALIVE_SIZE - 10;
}
function chunks(batch) {
    var result = [];
    var index = 0;
    batch.forEach(function(item) {
        var size = kilobytes(result[index]);
        if (size >= 64) {
            index++;
        }
        if (result[index]) {
            result[index].push(item);
        } else {
            result[index] = [
                item
            ];
        }
    });
    return result;
}
function batch(apiHost, config) {
    var _a, _b;
    var buffer = [];
    var pageUnloaded = false;
    var limit = (_a = config === null || config === void 0 ? void 0 : config.size) !== null && _a !== void 0 ? _a : 10;
    var timeout = (_b = config === null || config === void 0 ? void 0 : config.timeout) !== null && _b !== void 0 ? _b : 5000;
    var rateLimitTimeout = 0;
    function sendBatch(batch) {
        var _a;
        if (batch.length === 0) {
            return;
        }
        var writeKey = (_a = batch[0]) === null || _a === void 0 ? void 0 : _a.writeKey;
        // Remove sentAt from every event as batching only needs a single timestamp
        var updatedBatch = batch.map(function(event) {
            var _a = event, sentAt = _a.sentAt, newEvent = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__rest"])(_a, [
                "sentAt"
            ]);
            return newEvent;
        });
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$fetch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetch"])("https://".concat(apiHost, "/b"), {
            credentials: config === null || config === void 0 ? void 0 : config.credentials,
            keepalive: (config === null || config === void 0 ? void 0 : config.keepalive) || pageUnloaded,
            headers: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$shared$2d$dispatcher$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createHeaders"])(config === null || config === void 0 ? void 0 : config.headers),
            method: 'post',
            body: JSON.stringify({
                writeKey: writeKey,
                batch: updatedBatch,
                sentAt: new Date().toISOString()
            }),
            // @ts-ignore - not in the ts lib yet
            priority: config === null || config === void 0 ? void 0 : config.priority
        }).then(function(res) {
            var _a;
            if (res.status >= 500) {
                throw new Error("Bad response from server: ".concat(res.status));
            }
            if (res.status === 429) {
                var retryTimeoutStringSecs = (_a = res.headers) === null || _a === void 0 ? void 0 : _a.get('x-ratelimit-reset');
                var retryTimeoutMS = typeof retryTimeoutStringSecs == 'string' ? parseInt(retryTimeoutStringSecs) * 1000 : timeout;
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$ratelimit$2d$error$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RateLimitError"]("Rate limit exceeded: ".concat(res.status), retryTimeoutMS);
            }
        });
    }
    function flush(attempt) {
        var _a;
        if (attempt === void 0) {
            attempt = 1;
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var batch_1;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                if (buffer.length) {
                    batch_1 = buffer;
                    buffer = [];
                    return [
                        2 /*return*/ ,
                        (_a = sendBatch(batch_1)) === null || _a === void 0 ? void 0 : _a.catch(function(error) {
                            var _a;
                            var ctx = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Context"].system();
                            ctx.log('error', 'Error sending batch', error);
                            if (attempt <= ((_a = config === null || config === void 0 ? void 0 : config.maxRetries) !== null && _a !== void 0 ? _a : 10)) {
                                if (error.name === 'RateLimitError') {
                                    rateLimitTimeout = error.retryTimeout;
                                }
                                buffer.push.apply(buffer, batch_1);
                                buffer.map(function(event) {
                                    if ('_metadata' in event) {
                                        var segmentEvent = event;
                                        segmentEvent._metadata = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, segmentEvent._metadata), {
                                            retryCount: attempt
                                        });
                                    }
                                });
                                scheduleFlush(attempt + 1);
                            }
                        })
                    ];
                }
                return [
                    2 /*return*/ 
                ];
            });
        });
    }
    var schedule;
    function scheduleFlush(attempt) {
        if (attempt === void 0) {
            attempt = 1;
        }
        if (schedule) {
            return;
        }
        schedule = setTimeout(function() {
            schedule = undefined;
            flush(attempt).catch(console.error);
        }, rateLimitTimeout ? rateLimitTimeout : timeout);
        rateLimitTimeout = 0;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$on$2d$page$2d$change$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["onPageChange"])(function(unloaded) {
        pageUnloaded = unloaded;
        if (pageUnloaded && buffer.length) {
            var reqs = chunks(buffer).map(sendBatch);
            Promise.all(reqs).catch(console.error);
        }
    });
    function dispatch(_url, body) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var bufferOverflow;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                buffer.push(body);
                bufferOverflow = buffer.length >= limit || approachingTrackingAPILimit(buffer) || (config === null || config === void 0 ? void 0 : config.keepalive) && passedKeepaliveLimit(buffer);
                return [
                    2 /*return*/ ,
                    bufferOverflow || pageUnloaded ? flush() : scheduleFlush()
                ];
            });
        });
    }
    return {
        dispatch: dispatch
    };
} //# sourceMappingURL=batched-dispatcher.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/fetch-dispatcher.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$fetch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/fetch.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$ratelimit$2d$error$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/ratelimit-error.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$shared$2d$dispatcher$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/shared-dispatcher.js [app-client] (ecmascript)");
;
;
;
function __TURBOPACK__default__export__(config) {
    function dispatch(url, body) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$fetch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetch"])(url, {
            credentials: config === null || config === void 0 ? void 0 : config.credentials,
            keepalive: config === null || config === void 0 ? void 0 : config.keepalive,
            headers: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$shared$2d$dispatcher$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createHeaders"])(config === null || config === void 0 ? void 0 : config.headers),
            method: 'post',
            body: JSON.stringify(body),
            // @ts-ignore - not in the ts lib yet
            priority: config === null || config === void 0 ? void 0 : config.priority
        }).then(function(res) {
            var _a;
            if (res.status >= 500) {
                throw new Error("Bad response from server: ".concat(res.status));
            }
            if (res.status === 429) {
                var retryTimeoutStringSecs = (_a = res.headers) === null || _a === void 0 ? void 0 : _a.get('x-ratelimit-reset');
                var retryTimeoutMS = retryTimeoutStringSecs ? parseInt(retryTimeoutStringSecs) * 1000 : 5000;
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$ratelimit$2d$error$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RateLimitError"]("Rate limit exceeded: ".concat(res.status), retryTimeoutMS);
            }
        });
    }
    return {
        dispatch: dispatch
    };
} //# sourceMappingURL=fetch-dispatcher.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/normalize.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "normalize",
    ()=>normalize
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
;
function normalize(analytics, json, settings, integrations, ctx) {
    var _a;
    var user = analytics.user();
    delete json.options;
    json.writeKey = settings === null || settings === void 0 ? void 0 : settings.apiKey;
    json.userId = json.userId || user.id();
    json.anonymousId = json.anonymousId || user.anonymousId();
    json.sentAt = new Date();
    var failed = analytics.queue.failedInitializations || [];
    if (failed.length > 0) {
        json._metadata = {
            failedInitializations: failed
        };
    }
    if (ctx != null) {
        if (ctx.attempts > 1) {
            json._metadata = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, json._metadata), {
                retryCount: ctx.attempts
            });
        }
        ctx.attempts++;
    }
    var bundled = [];
    var unbundled = [];
    for(var key in integrations){
        var integration = integrations[key];
        if (key === 'Segment.io') {
            bundled.push(key);
        }
        if (integration.bundlingStatus === 'bundled') {
            bundled.push(key);
        }
        if (integration.bundlingStatus === 'unbundled') {
            unbundled.push(key);
        }
    }
    // This will make sure that the disabled cloud mode destinations will be
    // included in the unbundled list.
    for(var _i = 0, _b = (settings === null || settings === void 0 ? void 0 : settings.unbundledIntegrations) || []; _i < _b.length; _i++){
        var settingsUnbundled = _b[_i];
        if (!unbundled.includes(settingsUnbundled)) {
            unbundled.push(settingsUnbundled);
        }
    }
    var configIds = (_a = settings === null || settings === void 0 ? void 0 : settings.maybeBundledConfigIds) !== null && _a !== void 0 ? _a : {};
    var bundledConfigIds = [];
    bundled.sort().forEach(function(name) {
        var _a;
        ;
        ((_a = configIds[name]) !== null && _a !== void 0 ? _a : []).forEach(function(id) {
            bundledConfigIds.push(id);
        });
    });
    if ((settings === null || settings === void 0 ? void 0 : settings.addBundledMetadata) !== false) {
        json._metadata = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, json._metadata), {
            bundled: bundled.sort(),
            unbundled: unbundled.sort(),
            bundledIds: bundledConfigIds
        });
    }
    return json;
} //# sourceMappingURL=normalize.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/p-while.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "pWhile",
    ()=>pWhile
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
;
var pWhile = function(condition, action) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(void 0, void 0, void 0, function() {
        var loop;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            loop = function(actionResult) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(void 0, void 0, void 0, function() {
                    var _a;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                        switch(_b.label){
                            case 0:
                                if (!condition(actionResult)) return [
                                    3 /*break*/ ,
                                    2
                                ];
                                _a = loop;
                                return [
                                    4 /*yield*/ ,
                                    action()
                                ];
                            case 1:
                                return [
                                    2 /*return*/ ,
                                    _a.apply(void 0, [
                                        _b.sent()
                                    ])
                                ];
                            case 2:
                                return [
                                    2 /*return*/ 
                                ];
                        }
                    });
                });
            };
            return [
                2 /*return*/ ,
                loop(undefined)
            ];
        });
    });
}; //# sourceMappingURL=p-while.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/schedule-flush.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "scheduleFlush",
    ()=>scheduleFlush
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$connection$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/connection/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$queue$2f$delivery$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/queue/delivery.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$p$2d$while$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/p-while.js [app-client] (ecmascript)");
;
;
;
;
;
function flushQueue(xt, queue) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        var failedQueue;
        var _this = this;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            switch(_a.label){
                case 0:
                    failedQueue = [];
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$connection$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isOffline"])()) {
                        return [
                            2 /*return*/ ,
                            queue
                        ];
                    }
                    return [
                        4 /*yield*/ ,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$p$2d$while$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["pWhile"])(function() {
                            return queue.length > 0 && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$connection$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isOffline"])();
                        }, function() {
                            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(_this, void 0, void 0, function() {
                                var ctx, result, success;
                                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                                    switch(_a.label){
                                        case 0:
                                            ctx = queue.pop();
                                            if (!ctx) {
                                                return [
                                                    2 /*return*/ 
                                                ];
                                            }
                                            return [
                                                4 /*yield*/ ,
                                                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$queue$2f$delivery$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["attempt"])(ctx, xt)
                                            ];
                                        case 1:
                                            result = _a.sent();
                                            success = result instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Context"];
                                            if (!success) {
                                                failedQueue.push(ctx);
                                            }
                                            return [
                                                2 /*return*/ 
                                            ];
                                    }
                                });
                            });
                        })
                    ];
                case 1:
                    _a.sent();
                    // re-add failed tasks
                    failedQueue.map(function(failed) {
                        return queue.pushWithBackoff(failed);
                    });
                    return [
                        2 /*return*/ ,
                        queue
                    ];
            }
        });
    });
}
function scheduleFlush(flushing, buffer, xt, scheduleFlush) {
    var _this = this;
    if (flushing) {
        return;
    }
    // eslint-disable-next-line @typescript-eslint/no-misused-promises
    setTimeout(function() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(_this, void 0, void 0, function() {
            var isFlushing, newBuffer;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        isFlushing = true;
                        return [
                            4 /*yield*/ ,
                            flushQueue(xt, buffer)
                        ];
                    case 1:
                        newBuffer = _a.sent();
                        isFlushing = false;
                        if (buffer.todo > 0) {
                            scheduleFlush(isFlushing, newBuffer, xt, scheduleFlush);
                        }
                        return [
                            2 /*return*/ 
                        ];
                }
            });
        });
    }, Math.random() * 5000);
} //# sourceMappingURL=schedule-flush.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "isSegmentPlugin",
    ()=>isSegmentPlugin,
    "segmentio",
    ()=>segmentio
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$connection$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/connection/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$priority$2d$queue$2f$persisted$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/priority-queue/persisted.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$to$2d$facade$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/to-facade.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$batched$2d$dispatcher$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/batched-dispatcher.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$fetch$2d$dispatcher$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/fetch-dispatcher.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$normalize$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/normalize.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$schedule$2d$flush$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/schedule-flush.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$constants$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/constants/index.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
function onAlias(analytics, json) {
    var _a, _b, _c, _d;
    var user = analytics.user();
    json.previousId = (_c = (_b = (_a = json.previousId) !== null && _a !== void 0 ? _a : json.from) !== null && _b !== void 0 ? _b : user.id()) !== null && _c !== void 0 ? _c : user.anonymousId();
    json.userId = (_d = json.userId) !== null && _d !== void 0 ? _d : json.to;
    delete json.from;
    delete json.to;
    return json;
}
var isSegmentPlugin = function(plugin) {
    return plugin.name === 'Segment.io';
};
function segmentio(analytics, settings, integrations) {
    var _a, _b, _c;
    // Attach `pagehide` before buffer is created so that inflight events are added
    // to the buffer before the buffer persists events in its own `pagehide` handler.
    window.addEventListener('pagehide', function() {
        buffer.push.apply(buffer, Array.from(inflightEvents));
        inflightEvents.clear();
    });
    var writeKey = (_a = settings === null || settings === void 0 ? void 0 : settings.apiKey) !== null && _a !== void 0 ? _a : '';
    var buffer = analytics.options.disableClientPersistence ? new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PriorityQueue"](analytics.queue.queue.maxAttempts, []) : new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$priority$2d$queue$2f$persisted$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PersistedPriorityQueue"](analytics.queue.queue.maxAttempts, "".concat(writeKey, ":dest-Segment.io"));
    var inflightEvents = new Set();
    var flushing = false;
    var apiHost = (_b = settings === null || settings === void 0 ? void 0 : settings.apiHost) !== null && _b !== void 0 ? _b : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$constants$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SEGMENT_API_HOST"];
    var protocol = (_c = settings === null || settings === void 0 ? void 0 : settings.protocol) !== null && _c !== void 0 ? _c : 'https';
    var remote = "".concat(protocol, "://").concat(apiHost);
    var deliveryStrategy = settings === null || settings === void 0 ? void 0 : settings.deliveryStrategy;
    var client = deliveryStrategy && 'strategy' in deliveryStrategy && deliveryStrategy.strategy === 'batching' ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$batched$2d$dispatcher$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(apiHost, deliveryStrategy.config) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$fetch$2d$dispatcher$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(deliveryStrategy === null || deliveryStrategy === void 0 ? void 0 : deliveryStrategy.config);
    function send(ctx) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var path, json;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$connection$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isOffline"])()) {
                    buffer.push(ctx);
                    // eslint-disable-next-line @typescript-eslint/no-use-before-define
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$schedule$2d$flush$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["scheduleFlush"])(flushing, buffer, segmentio, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$schedule$2d$flush$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["scheduleFlush"]);
                    return [
                        2 /*return*/ ,
                        ctx
                    ];
                }
                inflightEvents.add(ctx);
                path = ctx.event.type.charAt(0);
                json = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$to$2d$facade$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toFacade"])(ctx.event).json();
                if (ctx.event.type === 'track') {
                    delete json.traits;
                }
                if (ctx.event.type === 'alias') {
                    json = onAlias(analytics, json);
                }
                if (buffer.getAttempts(ctx) >= buffer.maxAttempts) {
                    inflightEvents.delete(ctx);
                    return [
                        2 /*return*/ ,
                        ctx
                    ];
                }
                return [
                    2 /*return*/ ,
                    client.dispatch("".concat(remote, "/").concat(path), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$normalize$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["normalize"])(analytics, json, settings, integrations, ctx)).then(function() {
                        return ctx;
                    }).catch(function(error) {
                        ctx.log('error', 'Error sending event', error);
                        if (error.name === 'RateLimitError') {
                            var timeout = error.retryTimeout;
                            buffer.pushWithBackoff(ctx, timeout);
                        } else {
                            buffer.pushWithBackoff(ctx);
                        }
                        // eslint-disable-next-line @typescript-eslint/no-use-before-define
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$schedule$2d$flush$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["scheduleFlush"])(flushing, buffer, segmentio, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$schedule$2d$flush$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["scheduleFlush"]);
                        return ctx;
                    }).finally(function() {
                        inflightEvents.delete(ctx);
                    })
                ];
            });
        });
    }
    var segmentio = {
        metadata: {
            writeKey: writeKey,
            apiHost: apiHost,
            protocol: protocol
        },
        name: 'Segment.io',
        type: 'destination',
        version: '0.1.0',
        isLoaded: function() {
            return true;
        },
        load: function() {
            return Promise.resolve();
        },
        track: send,
        identify: send,
        page: send,
        alias: send,
        group: send,
        screen: send
    };
    // Buffer may already have items if they were previously stored in localStorage.
    // Start flushing them immediately.
    if (buffer.todo) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$schedule$2d$flush$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["scheduleFlush"])(flushing, buffer, segmentio, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$schedule$2d$flush$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["scheduleFlush"]);
    }
    return segmentio;
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/analytics/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Analytics",
    ()=>Analytics,
    "AnalyticsInstanceSettings",
    ()=>AnalyticsInstanceSettings,
    "NullAnalytics",
    ()=>NullAnalytics
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$arguments$2d$resolver$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/arguments-resolver/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$connection$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/connection/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$analytics$2f$dispatch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/analytics/dispatch.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$emitter$2f$emitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-generic-utils/dist/esm/emitter/emitter.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$events$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/events/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$plugin$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/plugin/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$queue$2f$event$2d$queue$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/queue/event-queue.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$user$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/user/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$bind$2d$all$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/bind-all.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$priority$2d$queue$2f$persisted$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/priority-queue/persisted.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$generated$2f$version$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/generated/version.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$get$2d$global$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/get-global.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$memoryStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/memoryStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/universalStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/types.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/settings.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/global-analytics-helper.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/buffer/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/index.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
var deprecationWarning = 'This is being deprecated and will be not be available in future releases of Analytics JS';
// reference any pre-existing "analytics" object so a user can restore the reference
var global = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$get$2d$global$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getGlobal"])();
var _analytics = global === null || global === void 0 ? void 0 : global.analytics;
function createDefaultQueue(name, retryQueue, disablePersistance) {
    if (retryQueue === void 0) {
        retryQueue = false;
    }
    if (disablePersistance === void 0) {
        disablePersistance = false;
    }
    var maxAttempts = retryQueue ? 10 : 1;
    var priorityQueue = disablePersistance ? new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$priority$2d$queue$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PriorityQueue"](maxAttempts, []) : new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$priority$2d$queue$2f$persisted$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PersistedPriorityQueue"](maxAttempts, name);
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$queue$2f$event$2d$queue$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EventQueue"](priorityQueue);
}
/**
 * The public settings that are set on the analytics instance
 */ var AnalyticsInstanceSettings = function() {
    function AnalyticsInstanceSettings(settings, queue) {
        var _a;
        /**
         * Auto-track specific timeout setting for legacy purposes.
         */ this.timeout = 300;
        this._getSegmentPluginMetadata = function() {
            var _a;
            return (_a = queue.plugins.find(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isSegmentPlugin"])) === null || _a === void 0 ? void 0 : _a.metadata;
        };
        this.writeKey = settings.writeKey;
        // this is basically just to satisfy typescript / so we don't need to change the function sig of every test.
        // when loadAnalytics is called, cdnSettings will always be available.
        var emptyCDNSettings = {
            integrations: {
                'Segment.io': {
                    apiKey: ''
                }
            }
        };
        this.cdnSettings = (_a = settings.cdnSettings) !== null && _a !== void 0 ? _a : emptyCDNSettings;
        this.cdnURL = settings.cdnURL;
    }
    Object.defineProperty(AnalyticsInstanceSettings.prototype, "apiHost", {
        get: function() {
            var _a, _b;
            return (_b = (_a = this._getSegmentPluginMetadata) === null || _a === void 0 ? void 0 : _a.call(this)) === null || _b === void 0 ? void 0 : _b.apiHost;
        },
        enumerable: false,
        configurable: true
    });
    return AnalyticsInstanceSettings;
}();
;
/* analytics-classic stubs */ function _stub() {
    console.warn(deprecationWarning);
}
var Analytics = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(Analytics, _super);
    function Analytics(settings, options, queue, user, group) {
        var _this = this;
        var _a, _b;
        _this = _super.call(this) || this;
        _this._debug = false;
        _this.initialized = false;
        _this.user = function() {
            return _this._user;
        };
        _this.init = _this.initialize.bind(_this);
        _this.log = _stub;
        _this.addIntegrationMiddleware = _stub;
        _this.listeners = _stub;
        _this.addEventListener = _stub;
        _this.removeAllListeners = _stub;
        _this.removeListener = _stub;
        _this.removeEventListener = _stub;
        _this.hasListeners = _stub;
        _this.add = _stub;
        _this.addIntegration = _stub;
        var cookieOptions = options === null || options === void 0 ? void 0 : options.cookie;
        var disablePersistance = (_a = options === null || options === void 0 ? void 0 : options.disableClientPersistence) !== null && _a !== void 0 ? _a : false;
        _this.queue = queue !== null && queue !== void 0 ? queue : createDefaultQueue("".concat(settings.writeKey, ":event-queue"), options === null || options === void 0 ? void 0 : options.retryQueue, disablePersistance);
        _this.settings = new AnalyticsInstanceSettings(settings, _this.queue);
        var storageSetting = options === null || options === void 0 ? void 0 : options.storage;
        _this._universalStorage = _this.createStore(disablePersistance, storageSetting, cookieOptions);
        _this._user = user !== null && user !== void 0 ? user : new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$user$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["User"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({
            persist: !disablePersistance,
            storage: options === null || options === void 0 ? void 0 : options.storage
        }, options === null || options === void 0 ? void 0 : options.user), cookieOptions).load();
        _this._group = group !== null && group !== void 0 ? group : new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$user$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Group"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({
            persist: !disablePersistance,
            storage: options === null || options === void 0 ? void 0 : options.storage
        }, options === null || options === void 0 ? void 0 : options.group), cookieOptions).load();
        _this.eventFactory = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$events$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["EventFactory"](_this._user);
        _this.integrations = (_b = options === null || options === void 0 ? void 0 : options.integrations) !== null && _b !== void 0 ? _b : {};
        _this.options = options !== null && options !== void 0 ? options : {};
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$bind$2d$all$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(_this);
        return _this;
    }
    /**
     * Creates the storage system based on the settings received
     * @returns Storage
     */ Analytics.prototype.createStore = function(disablePersistance, storageSetting, cookieOptions) {
        // DisablePersistance option overrides all, no storage will be used outside of memory even if specified
        if (disablePersistance) {
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UniversalStorage"]([
                new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$memoryStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MemoryStorage"]()
            ]);
        } else {
            if (storageSetting) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isArrayOfStoreType"])(storageSetting)) {
                    // We will create the store with the priority for customer settings
                    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UniversalStorage"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["initializeStorages"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["applyCookieOptions"])(storageSetting.stores, cookieOptions)));
                }
            }
        }
        // We default to our multi storage with priority
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UniversalStorage"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["initializeStorages"])([
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].LocalStorage,
            {
                name: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].Cookie,
                settings: cookieOptions
            },
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$types$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["StoreType"].Memory
        ]));
    };
    Object.defineProperty(Analytics.prototype, "storage", {
        get: function() {
            return this._universalStorage;
        },
        enumerable: false,
        configurable: true
    });
    Analytics.prototype.track = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var pageCtx, _a, name, data, opts, cb, segmentEvent;
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                pageCtx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["popPageContext"])(args);
                _a = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$arguments$2d$resolver$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["resolveArguments"].apply(void 0, args), name = _a[0], data = _a[1], opts = _a[2], cb = _a[3];
                segmentEvent = this.eventFactory.track(name, data, opts, this.integrations, pageCtx);
                return [
                    2 /*return*/ ,
                    this._dispatch(segmentEvent, cb).then(function(ctx) {
                        _this.emit('track', name, ctx.event.properties, ctx.event.options);
                        return ctx;
                    })
                ];
            });
        });
    };
    Analytics.prototype.page = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var pageCtx, _a, category, page, properties, options, callback, segmentEvent;
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                pageCtx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["popPageContext"])(args);
                _a = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$arguments$2d$resolver$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["resolvePageArguments"].apply(void 0, args), category = _a[0], page = _a[1], properties = _a[2], options = _a[3], callback = _a[4];
                segmentEvent = this.eventFactory.page(category, page, properties, options, this.integrations, pageCtx);
                return [
                    2 /*return*/ ,
                    this._dispatch(segmentEvent, callback).then(function(ctx) {
                        _this.emit('page', category, page, ctx.event.properties, ctx.event.options);
                        return ctx;
                    })
                ];
            });
        });
    };
    Analytics.prototype.identify = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var pageCtx, _a, id, _traits, options, callback, segmentEvent;
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                pageCtx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["popPageContext"])(args);
                _a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$arguments$2d$resolver$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["resolveUserArguments"])(this._user).apply(void 0, args), id = _a[0], _traits = _a[1], options = _a[2], callback = _a[3];
                this._user.identify(id, _traits);
                segmentEvent = this.eventFactory.identify(this._user.id(), this._user.traits(), options, this.integrations, pageCtx);
                return [
                    2 /*return*/ ,
                    this._dispatch(segmentEvent, callback).then(function(ctx) {
                        _this.emit('identify', ctx.event.userId, ctx.event.traits, ctx.event.options);
                        return ctx;
                    })
                ];
            });
        });
    };
    Analytics.prototype.group = function() {
        var _this = this;
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        var pageCtx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["popPageContext"])(args);
        if (args.length === 0) {
            return this._group;
        }
        var _a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$arguments$2d$resolver$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["resolveUserArguments"])(this._group).apply(void 0, args), id = _a[0], _traits = _a[1], options = _a[2], callback = _a[3];
        this._group.identify(id, _traits);
        var groupId = this._group.id();
        var groupTraits = this._group.traits();
        var segmentEvent = this.eventFactory.group(groupId, groupTraits, options, this.integrations, pageCtx);
        return this._dispatch(segmentEvent, callback).then(function(ctx) {
            _this.emit('group', ctx.event.groupId, ctx.event.traits, ctx.event.options);
            return ctx;
        });
    };
    Analytics.prototype.alias = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var pageCtx, _a, to, from, options, callback, segmentEvent;
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                pageCtx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["popPageContext"])(args);
                _a = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$arguments$2d$resolver$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["resolveAliasArguments"].apply(void 0, args), to = _a[0], from = _a[1], options = _a[2], callback = _a[3];
                segmentEvent = this.eventFactory.alias(to, from, options, this.integrations, pageCtx);
                return [
                    2 /*return*/ ,
                    this._dispatch(segmentEvent, callback).then(function(ctx) {
                        _this.emit('alias', to, from, ctx.event.options);
                        return ctx;
                    })
                ];
            });
        });
    };
    Analytics.prototype.screen = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var pageCtx, _a, category, page, properties, options, callback, segmentEvent;
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                pageCtx = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["popPageContext"])(args);
                _a = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$arguments$2d$resolver$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["resolvePageArguments"].apply(void 0, args), category = _a[0], page = _a[1], properties = _a[2], options = _a[3], callback = _a[4];
                segmentEvent = this.eventFactory.screen(category, page, properties, options, this.integrations, pageCtx);
                return [
                    2 /*return*/ ,
                    this._dispatch(segmentEvent, callback).then(function(ctx) {
                        _this.emit('screen', category, page, ctx.event.properties, ctx.event.options);
                        return ctx;
                    })
                ];
            });
        });
    };
    Analytics.prototype.trackClick = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var autotrack;
            var _a;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                switch(_b.label){
                    case 0:
                        return [
                            4 /*yield*/ ,
                            __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/core/auto-track.js [app-client] (ecmascript, async loader)")
                        ];
                    case 1:
                        autotrack = _b.sent();
                        return [
                            2 /*return*/ ,
                            (_a = autotrack.link).call.apply(_a, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([
                                this
                            ], args, false))
                        ];
                }
            });
        });
    };
    Analytics.prototype.trackLink = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var autotrack;
            var _a;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                switch(_b.label){
                    case 0:
                        return [
                            4 /*yield*/ ,
                            __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/core/auto-track.js [app-client] (ecmascript, async loader)")
                        ];
                    case 1:
                        autotrack = _b.sent();
                        return [
                            2 /*return*/ ,
                            (_a = autotrack.link).call.apply(_a, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([
                                this
                            ], args, false))
                        ];
                }
            });
        });
    };
    Analytics.prototype.trackSubmit = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var autotrack;
            var _a;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                switch(_b.label){
                    case 0:
                        return [
                            4 /*yield*/ ,
                            __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/core/auto-track.js [app-client] (ecmascript, async loader)")
                        ];
                    case 1:
                        autotrack = _b.sent();
                        return [
                            2 /*return*/ ,
                            (_a = autotrack.form).call.apply(_a, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([
                                this
                            ], args, false))
                        ];
                }
            });
        });
    };
    Analytics.prototype.trackForm = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var autotrack;
            var _a;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                switch(_b.label){
                    case 0:
                        return [
                            4 /*yield*/ ,
                            __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/core/auto-track.js [app-client] (ecmascript, async loader)")
                        ];
                    case 1:
                        autotrack = _b.sent();
                        return [
                            2 /*return*/ ,
                            (_a = autotrack.form).call.apply(_a, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([
                                this
                            ], args, false))
                        ];
                }
            });
        });
    };
    Analytics.prototype.register = function() {
        var plugins = [];
        for(var _i = 0; _i < arguments.length; _i++){
            plugins[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var ctx, registrations;
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        ctx = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Context"].system();
                        registrations = plugins.map(function(xt) {
                            return _this.queue.register(ctx, xt, _this);
                        });
                        return [
                            4 /*yield*/ ,
                            Promise.all(registrations)
                        ];
                    case 1:
                        _a.sent();
                        return [
                            2 /*return*/ ,
                            ctx
                        ];
                }
            });
        });
    };
    Analytics.prototype.deregister = function() {
        var plugins = [];
        for(var _i = 0; _i < arguments.length; _i++){
            plugins[_i] = arguments[_i];
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var ctx, deregistrations;
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        ctx = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Context"].system();
                        deregistrations = plugins.map(function(pl) {
                            var plugin = _this.queue.plugins.find(function(p) {
                                return p.name === pl;
                            });
                            if (plugin) {
                                return _this.queue.deregister(ctx, plugin, _this);
                            } else {
                                ctx.log('warn', "plugin ".concat(pl, " not found"));
                            }
                        });
                        return [
                            4 /*yield*/ ,
                            Promise.all(deregistrations)
                        ];
                    case 1:
                        _a.sent();
                        return [
                            2 /*return*/ ,
                            ctx
                        ];
                }
            });
        });
    };
    Analytics.prototype.debug = function(toggle) {
        // Make sure legacy ajs debug gets turned off if it was enabled before upgrading.
        if (toggle === false && localStorage.getItem('debug')) {
            localStorage.removeItem('debug');
        }
        this._debug = toggle;
        return this;
    };
    Analytics.prototype.reset = function() {
        this._user.reset();
        this._group.reset();
        this.emit('reset');
    };
    Analytics.prototype.timeout = function(timeout) {
        this.settings.timeout = timeout;
    };
    Analytics.prototype._dispatch = function(event, callback) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var ctx;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                ctx = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Context"](event);
                ctx.stats.increment('analytics_js.invoke', 1, [
                    event.type
                ]);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$connection$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isOffline"])() && !this.options.retryQueue) {
                    return [
                        2 /*return*/ ,
                        ctx
                    ];
                }
                return [
                    2 /*return*/ ,
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$analytics$2f$dispatch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["dispatch"])(ctx, this.queue, this, {
                        callback: callback,
                        debug: this._debug,
                        timeout: this.settings.timeout
                    })
                ];
            });
        });
    };
    Analytics.prototype.addSourceMiddleware = function(fn) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var _this = this;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        return [
                            4 /*yield*/ ,
                            this.queue.criticalTasks.run(function() {
                                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(_this, void 0, void 0, function() {
                                    var sourceMiddlewarePlugin, integrations, plugin;
                                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                                        switch(_a.label){
                                            case 0:
                                                return [
                                                    4 /*yield*/ ,
                                                    __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/middleware/index.js [app-client] (ecmascript, async loader)")
                                                ];
                                            case 1:
                                                sourceMiddlewarePlugin = _a.sent().sourceMiddlewarePlugin;
                                                integrations = {};
                                                this.queue.plugins.forEach(function(plugin) {
                                                    if (plugin.type === 'destination') {
                                                        return integrations[plugin.name] = true;
                                                    }
                                                });
                                                plugin = sourceMiddlewarePlugin(fn, integrations);
                                                return [
                                                    4 /*yield*/ ,
                                                    this.register(plugin)
                                                ];
                                            case 2:
                                                _a.sent();
                                                return [
                                                    2 /*return*/ 
                                                ];
                                        }
                                    });
                                });
                            })
                        ];
                    case 1:
                        _a.sent();
                        return [
                            2 /*return*/ ,
                            this
                        ];
                }
            });
        });
    };
    /* TODO: This does not have to return a promise? */ Analytics.prototype.addDestinationMiddleware = function(integrationName) {
        var middlewares = [];
        for(var _i = 1; _i < arguments.length; _i++){
            middlewares[_i - 1] = arguments[_i];
        }
        this.queue.plugins.filter(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$plugin$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isDestinationPluginWithAddMiddleware"]).forEach(function(p) {
            if (integrationName === '*' || p.name.toLowerCase() === integrationName.toLowerCase()) {
                p.addMiddleware.apply(p, middlewares);
            }
        });
        return Promise.resolve(this);
    };
    Analytics.prototype.setAnonymousId = function(id) {
        return this._user.anonymousId(id);
    };
    Analytics.prototype.queryString = function(query) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var queryString;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        if (this.options.useQueryString === false) {
                            return [
                                2 /*return*/ ,
                                []
                            ];
                        }
                        return [
                            4 /*yield*/ ,
                            __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/core/query-string/index.js [app-client] (ecmascript, async loader)")
                        ];
                    case 1:
                        queryString = _a.sent().queryString;
                        return [
                            2 /*return*/ ,
                            queryString(this, query)
                        ];
                }
            });
        });
    };
    /**
     * @deprecated This function does not register a destination plugin.
     *
     * Instantiates a legacy Analytics.js destination.
     *
     * This function does not register the destination as an Analytics.JS plugin,
     * all the it does it to invoke the factory function back.
     */ Analytics.prototype.use = function(legacyPluginFactory) {
        legacyPluginFactory(this);
        return this;
    };
    Analytics.prototype.ready = function(callback) {
        if (callback === void 0) {
            callback = function(res) {
                return res;
            };
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                return [
                    2 /*return*/ ,
                    Promise.all(this.queue.plugins.map(function(i) {
                        return i.ready ? i.ready() : Promise.resolve();
                    })).then(function(res) {
                        callback(res);
                        return res;
                    })
                ];
            });
        });
    };
    // analytics-classic api
    Analytics.prototype.noConflict = function() {
        console.warn(deprecationWarning);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["setGlobalAnalytics"])(_analytics !== null && _analytics !== void 0 ? _analytics : this);
        return this;
    };
    Analytics.prototype.normalize = function(msg) {
        console.warn(deprecationWarning);
        return this.eventFactory['normalize'](msg);
    };
    Object.defineProperty(Analytics.prototype, "failedInitializations", {
        get: function() {
            console.warn(deprecationWarning);
            return this.queue.failedInitializations;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Analytics.prototype, "VERSION", {
        get: function() {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$generated$2f$version$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["version"];
        },
        enumerable: false,
        configurable: true
    });
    /* @deprecated - noop */ Analytics.prototype.initialize = function(_settings, _options) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                console.warn(deprecationWarning);
                return [
                    2 /*return*/ ,
                    Promise.resolve(this)
                ];
            });
        });
    };
    Analytics.prototype.pageview = function(url) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        console.warn(deprecationWarning);
                        return [
                            4 /*yield*/ ,
                            this.page({
                                path: url
                            })
                        ];
                    case 1:
                        _a.sent();
                        return [
                            2 /*return*/ ,
                            this
                        ];
                }
            });
        });
    };
    Object.defineProperty(Analytics.prototype, "plugins", {
        get: function() {
            var _a;
            console.warn(deprecationWarning);
            // @ts-expect-error
            return (_a = this._plugins) !== null && _a !== void 0 ? _a : {};
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Analytics.prototype, "Integrations", {
        get: function() {
            console.warn(deprecationWarning);
            var integrations = this.queue.plugins.filter(function(plugin) {
                return plugin.type === 'destination';
            }).reduce(function(acc, plugin) {
                var name = "".concat(plugin.name.toLowerCase().replace('.', '').split(' ').join('-'), "Integration");
                // @ts-expect-error
                var integration = window[name];
                if (!integration) {
                    return acc;
                }
                var nested = integration.Integration; // hack - Google Analytics function resides in the "Integration" field
                if (nested) {
                    acc[plugin.name] = nested;
                    return acc;
                }
                acc[plugin.name] = integration;
                return acc;
            }, {});
            return integrations;
        },
        enumerable: false,
        configurable: true
    });
    // snippet function
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    Analytics.prototype.push = function(args) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        var an = this;
        var method = args.shift();
        if (method) {
            if (!an[method]) return;
        }
        an[method].apply(this, args);
    };
    return Analytics;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$emitter$2f$emitter$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Emitter"]);
;
/**
 * @returns a no-op analytics instance that does not create cookies or localstorage, or send any events to segment.
 */ var NullAnalytics = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(NullAnalytics, _super);
    function NullAnalytics() {
        var _this = _super.call(this, {
            writeKey: ''
        }, {
            disableClientPersistence: true
        }) || this;
        _this.initialized = true;
        return _this;
    }
    return NullAnalytics;
}(Analytics);
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/merged-options.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "mergedOptions",
    ()=>mergedOptions
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
;
function mergedOptions(cdnSettings, options) {
    var _a;
    var optionOverrides = Object.entries((_a = options.integrations) !== null && _a !== void 0 ? _a : {}).reduce(function(overrides, _a) {
        var _b, _c;
        var integration = _a[0], options = _a[1];
        if (typeof options === 'object') {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, overrides), (_b = {}, _b[integration] = options, _b));
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, overrides), (_c = {}, _c[integration] = {}, _c));
    }, {});
    return Object.entries(cdnSettings.integrations).reduce(function(integrationSettings, _a) {
        var _b;
        var integration = _a[0], settings = _a[1];
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, integrationSettings), (_b = {}, _b[integration] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, settings), optionOverrides[integration]), _b));
    }, {});
} //# sourceMappingURL=merged-options.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/query-string/gracefulDecodeURIComponent.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Tries to gets the unencoded version of an encoded component of a
 * Uniform Resource Identifier (URI). If input string is malformed,
 * returns it back as-is.
 *
 * Note: All occurences of the `+` character become ` ` (spaces).
 **/ __turbopack_context__.s([
    "gracefulDecodeURIComponent",
    ()=>gracefulDecodeURIComponent
]);
function gracefulDecodeURIComponent(encodedURIComponent) {
    try {
        return decodeURIComponent(encodedURIComponent.replace(/\+/g, ' '));
    } catch (_a) {
        return encodedURIComponent;
    }
} //# sourceMappingURL=gracefulDecodeURIComponent.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/client-hints/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "clientHints",
    ()=>clientHints
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
;
function clientHints(hints) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        var userAgentData;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            userAgentData = navigator.userAgentData;
            if (!userAgentData) return [
                2 /*return*/ ,
                undefined
            ];
            if (!hints) return [
                2 /*return*/ ,
                userAgentData.toJSON()
            ];
            return [
                2 /*return*/ ,
                userAgentData.getHighEntropyValues(hints).catch(function() {
                    return userAgentData.toJSON();
                })
            ];
        });
    });
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/env-enrichment/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ampId",
    ()=>ampId,
    "envEnrichment",
    ()=>envEnrichment,
    "utm",
    ()=>utm
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/js-cookie/dist/js.cookie.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$generated$2f$version$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/generated/version.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$version$2d$type$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/version-type.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$user$2f$tld$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/user/tld.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$query$2d$string$2f$gracefulDecodeURIComponent$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/query-string/gracefulDecodeURIComponent.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$cookieStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/cookieStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/storage/universalStorage.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$client$2d$hints$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/client-hints/index.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
var cookieOptions;
function getCookieOptions() {
    if (cookieOptions) {
        return cookieOptions;
    }
    var domain = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$user$2f$tld$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["tld"])(window.location.href);
    cookieOptions = {
        expires: 31536000000,
        secure: false,
        path: '/'
    };
    if (domain) {
        cookieOptions.domain = domain;
    }
    return cookieOptions;
}
function ads(query) {
    var queryIds = {
        btid: 'dataxu',
        urid: 'millennial-media'
    };
    if (query.startsWith('?')) {
        query = query.substring(1);
    }
    query = query.replace(/\?/g, '&');
    var parts = query.split('&');
    for(var _i = 0, parts_1 = parts; _i < parts_1.length; _i++){
        var part = parts_1[_i];
        var _a = part.split('='), k = _a[0], v = _a[1];
        if (queryIds[k]) {
            return {
                id: v,
                type: queryIds[k]
            };
        }
    }
}
function utm(query) {
    if (query.startsWith('?')) {
        query = query.substring(1);
    }
    query = query.replace(/\?/g, '&');
    return query.split('&').reduce(function(acc, str) {
        var _a = str.split('='), k = _a[0], _b = _a[1], v = _b === void 0 ? '' : _b;
        if (k.includes('utm_') && k.length > 4) {
            var utmParam = k.slice(4);
            if (utmParam === 'campaign') {
                utmParam = 'name';
            }
            acc[utmParam] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$query$2d$string$2f$gracefulDecodeURIComponent$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["gracefulDecodeURIComponent"])(v);
        }
        return acc;
    }, {});
}
function ampId() {
    var ampId = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$js$2d$cookie$2f$dist$2f$js$2e$cookie$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].get('_ga');
    if (ampId && ampId.startsWith('amp')) {
        return ampId;
    }
}
function referrerId(query, ctx, disablePersistance) {
    var _a;
    var storage = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$universalStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UniversalStorage"](disablePersistance ? [] : [
        new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$storage$2f$cookieStorage$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CookieStorage"](getCookieOptions())
    ]);
    var stored = storage.get('s:context.referrer');
    var ad = (_a = ads(query)) !== null && _a !== void 0 ? _a : stored;
    if (!ad) {
        return;
    }
    if (ctx) {
        ctx.referrer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, ctx.referrer), ad);
    }
    storage.set('s:context.referrer', ad);
}
/**
 *
 * @param obj e.g. { foo: 'b', bar: 'd', baz: ['123', '456']}
 * @returns e.g. 'foo=b&bar=d&baz=123&baz=456'
 */ var objectToQueryString = function(obj) {
    try {
        var searchParams_1 = new URLSearchParams();
        Object.entries(obj).forEach(function(_a) {
            var k = _a[0], v = _a[1];
            if (Array.isArray(v)) {
                v.forEach(function(value) {
                    return searchParams_1.append(k, value);
                });
            } else {
                searchParams_1.append(k, v);
            }
        });
        return searchParams_1.toString();
    } catch (_a) {
        return '';
    }
};
var EnvironmentEnrichmentPlugin = function() {
    function EnvironmentEnrichmentPlugin() {
        var _this = this;
        this.name = 'Page Enrichment';
        this.type = 'before';
        this.version = '0.1.0';
        this.isLoaded = function() {
            return true;
        };
        this.load = function(_ctx, instance) {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(_this, void 0, void 0, function() {
                var _a, _1;
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                    switch(_b.label){
                        case 0:
                            this.instance = instance;
                            _b.label = 1;
                        case 1:
                            _b.trys.push([
                                1,
                                3,
                                ,
                                4
                            ]);
                            _a = this;
                            return [
                                4 /*yield*/ ,
                                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$client$2d$hints$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["clientHints"])(this.instance.options.highEntropyValuesClientHints)
                            ];
                        case 2:
                            _a.userAgentData = _b.sent();
                            return [
                                3 /*break*/ ,
                                4
                            ];
                        case 3:
                            _1 = _b.sent();
                            return [
                                3 /*break*/ ,
                                4
                            ];
                        case 4:
                            return [
                                2 /*return*/ ,
                                Promise.resolve()
                            ];
                    }
                });
            });
        };
        this.enrich = function(ctx) {
            var _a, _b;
            // Note: Types are off - context should never be undefined here, since it is set as part of event creation.
            var evtCtx = ctx.event.context;
            var search = evtCtx.page.search || '';
            var query = typeof search === 'object' ? objectToQueryString(search) : search;
            evtCtx.userAgent = navigator.userAgent;
            evtCtx.userAgentData = _this.userAgentData;
            // @ts-ignore
            var locale = navigator.userLanguage || navigator.language;
            if (typeof evtCtx.locale === 'undefined' && typeof locale !== 'undefined') {
                evtCtx.locale = locale;
            }
            (_a = evtCtx.library) !== null && _a !== void 0 ? _a : evtCtx.library = {
                name: 'analytics.js',
                version: "".concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$version$2d$type$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getVersionType"])() === 'web' ? 'next' : 'npm:next', "-").concat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$generated$2f$version$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["version"])
            };
            if (query && !evtCtx.campaign) {
                evtCtx.campaign = utm(query);
            }
            var amp = ampId();
            if (amp) {
                evtCtx.amp = {
                    id: amp
                };
            }
            referrerId(query, evtCtx, (_b = _this.instance.options.disableClientPersistence) !== null && _b !== void 0 ? _b : false);
            try {
                evtCtx.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            } catch (_) {
            // If browser doesn't have support leave timezone undefined
            }
            return ctx;
        };
        this.track = this.enrich;
        this.identify = this.enrich;
        this.page = this.enrich;
        this.group = this.enrich;
        this.alias = this.enrich;
        this.screen = this.enrich;
    }
    return EnvironmentEnrichmentPlugin;
}();
var envEnrichment = new EnvironmentEnrichmentPlugin(); //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/lib/load-script.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "loadScript",
    ()=>loadScript,
    "unloadScript",
    ()=>unloadScript
]);
function findScript(src) {
    var scripts = Array.prototype.slice.call(window.document.querySelectorAll('script'));
    return scripts.find(function(s) {
        return s.src === src;
    });
}
function loadScript(src, attributes) {
    var found = findScript(src);
    if (found !== undefined) {
        var status_1 = found === null || found === void 0 ? void 0 : found.getAttribute('status');
        if (status_1 === 'loaded') {
            return Promise.resolve(found);
        }
        if (status_1 === 'loading') {
            return new Promise(function(resolve, reject) {
                found.addEventListener('load', function() {
                    return resolve(found);
                });
                found.addEventListener('error', function(err) {
                    return reject(err);
                });
            });
        }
    }
    return new Promise(function(resolve, reject) {
        var _a;
        var script = window.document.createElement('script');
        script.type = 'text/javascript';
        script.src = src;
        script.async = true;
        script.setAttribute('status', 'loading');
        for(var _i = 0, _b = Object.entries(attributes !== null && attributes !== void 0 ? attributes : {}); _i < _b.length; _i++){
            var _c = _b[_i], k = _c[0], v = _c[1];
            script.setAttribute(k, v);
        }
        script.onload = function() {
            script.onerror = script.onload = null;
            script.setAttribute('status', 'loaded');
            resolve(script);
        };
        script.onerror = function() {
            script.onerror = script.onload = null;
            script.setAttribute('status', 'error');
            reject(new Error("Failed to load ".concat(src)));
        };
        var firstExistingScript = window.document.querySelector('script');
        if (!firstExistingScript) {
            window.document.head.appendChild(script);
        } else {
            (_a = firstExistingScript.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(script, firstExistingScript);
        }
    });
}
function unloadScript(src) {
    var found = findScript(src);
    if (found !== undefined) {
        found.remove();
    }
    return Promise.resolve();
} //# sourceMappingURL=load-script.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/middleware/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "applyDestinationMiddleware",
    ()=>applyDestinationMiddleware,
    "sourceMiddlewarePlugin",
    ()=>sourceMiddlewarePlugin
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/context/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$to$2d$facade$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/to-facade.js [app-client] (ecmascript)");
;
;
;
function applyDestinationMiddleware(destination, evt, middleware) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        function applyMiddleware(event, fn) {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
                var nextCalled, returnedEvent;
                var _a;
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                    switch(_b.label){
                        case 0:
                            nextCalled = false;
                            returnedEvent = null;
                            return [
                                4 /*yield*/ ,
                                fn({
                                    payload: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$to$2d$facade$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toFacade"])(event, {
                                        clone: true,
                                        traverse: false
                                    }),
                                    integration: destination,
                                    next: function(evt) {
                                        nextCalled = true;
                                        if (evt === null) {
                                            returnedEvent = null;
                                        }
                                        if (evt) {
                                            returnedEvent = evt.obj;
                                        }
                                    }
                                })
                            ];
                        case 1:
                            _b.sent();
                            if (!nextCalled && returnedEvent !== null) {
                                returnedEvent = returnedEvent;
                                returnedEvent.integrations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, event.integrations), (_a = {}, _a[destination] = false, _a));
                            }
                            return [
                                2 /*return*/ ,
                                returnedEvent
                            ];
                    }
                });
            });
        }
        var modifiedEvent, _i, middleware_1, md, result;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            switch(_a.label){
                case 0:
                    modifiedEvent = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$to$2d$facade$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toFacade"])(evt, {
                        clone: true,
                        traverse: false
                    }).rawEvent();
                    _i = 0, middleware_1 = middleware;
                    _a.label = 1;
                case 1:
                    if (!(_i < middleware_1.length)) return [
                        3 /*break*/ ,
                        4
                    ];
                    md = middleware_1[_i];
                    return [
                        4 /*yield*/ ,
                        applyMiddleware(modifiedEvent, md)
                    ];
                case 2:
                    result = _a.sent();
                    if (result === null) {
                        return [
                            2 /*return*/ ,
                            null
                        ];
                    }
                    modifiedEvent = result;
                    _a.label = 3;
                case 3:
                    _i++;
                    return [
                        3 /*break*/ ,
                        1
                    ];
                case 4:
                    return [
                        2 /*return*/ ,
                        modifiedEvent
                    ];
            }
        });
    });
}
function sourceMiddlewarePlugin(fn, integrations) {
    function apply(ctx) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var nextCalled;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        nextCalled = false;
                        return [
                            4 /*yield*/ ,
                            fn({
                                payload: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$to$2d$facade$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toFacade"])(ctx.event, {
                                    clone: true,
                                    traverse: false
                                }),
                                integrations: integrations !== null && integrations !== void 0 ? integrations : {},
                                next: function(evt) {
                                    nextCalled = true;
                                    if (evt) {
                                        ctx.event = evt.obj;
                                    }
                                }
                            })
                        ];
                    case 1:
                        _a.sent();
                        if (!nextCalled) {
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextCancelation"]({
                                retry: false,
                                type: 'middleware_cancellation',
                                reason: 'Middleware `next` function skipped'
                            });
                        }
                        return [
                            2 /*return*/ ,
                            ctx
                        ];
                }
            });
        });
    }
    return {
        name: "Source Middleware ".concat(fn.name),
        type: 'before',
        version: '0.1.0',
        isLoaded: function() {
            return true;
        },
        load: function(ctx) {
            return Promise.resolve(ctx);
        },
        track: apply,
        page: apply,
        screen: apply,
        identify: apply,
        alias: apply,
        group: apply
    };
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/stats/metric-helpers.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "recordIntegrationMetric",
    ()=>recordIntegrationMetric
]);
function recordIntegrationMetric(ctx, _a) {
    var methodName = _a.methodName, integrationName = _a.integrationName, type = _a.type, _b = _a.didError, didError = _b === void 0 ? false : _b;
    ctx.stats.increment("analytics_js.integration.invoke".concat(didError ? '.error' : ''), 1, [
        "method:".concat(methodName),
        "integration_name:".concat(integrationName),
        "type:".concat(type)
    ]);
} //# sourceMappingURL=metric-helpers.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/remote-loader/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ActionDestination",
    ()=>ActionDestination,
    "remoteLoader",
    ()=>remoteLoader
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$load$2d$script$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/load-script.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$parse$2d$cdn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/parse-cdn.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$middleware$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/middleware/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-core/dist/esm/context/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$metric$2d$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/stats/metric-helpers.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$create$2d$deferred$2f$create$2d$deferred$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-generic-utils/dist/esm/create-deferred/create-deferred.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
var ActionDestination = function() {
    function ActionDestination(name, action) {
        this.version = '1.0.0';
        this.alternativeNames = [];
        this.loadPromise = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$create$2d$deferred$2f$create$2d$deferred$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createDeferred"])();
        this.middleware = [];
        this.alias = this._createMethod('alias');
        this.group = this._createMethod('group');
        this.identify = this._createMethod('identify');
        this.page = this._createMethod('page');
        this.screen = this._createMethod('screen');
        this.track = this._createMethod('track');
        this.action = action;
        this.name = name;
        this.type = action.type;
        this.alternativeNames.push(action.name);
    }
    ActionDestination.prototype.addMiddleware = function() {
        var _a;
        var fn = [];
        for(var _i = 0; _i < arguments.length; _i++){
            fn[_i] = arguments[_i];
        }
        /** Make sure we only apply destination filters to actions of the "destination" type to avoid causing issues for hybrid destinations */ if (this.type === 'destination') {
            (_a = this.middleware).push.apply(_a, fn);
        }
    };
    ActionDestination.prototype.transform = function(ctx) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var modifiedEvent;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                switch(_a.label){
                    case 0:
                        return [
                            4 /*yield*/ ,
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$middleware$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["applyDestinationMiddleware"])(this.name, ctx.event, this.middleware)
                        ];
                    case 1:
                        modifiedEvent = _a.sent();
                        if (modifiedEvent === null) {
                            ctx.cancel(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$core$2f$dist$2f$esm$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextCancelation"]({
                                retry: false,
                                reason: 'dropped by destination middleware'
                            }));
                        }
                        return [
                            2 /*return*/ ,
                            new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Context"](modifiedEvent)
                        ];
                }
            });
        });
    };
    ActionDestination.prototype._createMethod = function(methodName) {
        var _this = this;
        return function(ctx) {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(_this, void 0, void 0, function() {
                var transformedContext, error_1;
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
                    switch(_a.label){
                        case 0:
                            if (!this.action[methodName]) return [
                                2 /*return*/ ,
                                ctx
                            ];
                            transformedContext = ctx;
                            if (!(this.type === 'destination')) return [
                                3 /*break*/ ,
                                2
                            ];
                            return [
                                4 /*yield*/ ,
                                this.transform(ctx)
                            ];
                        case 1:
                            transformedContext = _a.sent();
                            _a.label = 2;
                        case 2:
                            _a.trys.push([
                                2,
                                5,
                                ,
                                6
                            ]);
                            return [
                                4 /*yield*/ ,
                                this.ready()
                            ];
                        case 3:
                            if (!_a.sent()) {
                                throw new Error('Something prevented the destination from getting ready');
                            }
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$metric$2d$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["recordIntegrationMetric"])(ctx, {
                                integrationName: this.action.name,
                                methodName: methodName,
                                type: 'action'
                            });
                            return [
                                4 /*yield*/ ,
                                this.action[methodName](transformedContext)
                            ];
                        case 4:
                            _a.sent();
                            return [
                                3 /*break*/ ,
                                6
                            ];
                        case 5:
                            error_1 = _a.sent();
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$metric$2d$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["recordIntegrationMetric"])(ctx, {
                                integrationName: this.action.name,
                                methodName: methodName,
                                type: 'action',
                                didError: true
                            });
                            throw error_1;
                        case 6:
                            return [
                                2 /*return*/ ,
                                ctx
                            ];
                    }
                });
            });
        };
    };
    /* --- PASSTHROUGH METHODS --- */ ActionDestination.prototype.isLoaded = function() {
        return this.action.isLoaded();
    };
    ActionDestination.prototype.ready = function() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var _a;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                switch(_b.label){
                    case 0:
                        _b.trys.push([
                            0,
                            2,
                            ,
                            3
                        ]);
                        return [
                            4 /*yield*/ ,
                            this.loadPromise.promise
                        ];
                    case 1:
                        _b.sent();
                        return [
                            2 /*return*/ ,
                            true
                        ];
                    case 2:
                        _a = _b.sent();
                        return [
                            2 /*return*/ ,
                            false
                        ];
                    case 3:
                        return [
                            2 /*return*/ 
                        ];
                }
            });
        });
    };
    ActionDestination.prototype.load = function(ctx, analytics) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
            var loadP, _a, _b, error_2;
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_c) {
                switch(_c.label){
                    case 0:
                        if (this.loadPromise.isSettled()) {
                            return [
                                2 /*return*/ ,
                                this.loadPromise.promise
                            ];
                        }
                        _c.label = 1;
                    case 1:
                        _c.trys.push([
                            1,
                            3,
                            ,
                            4
                        ]);
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$metric$2d$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["recordIntegrationMetric"])(ctx, {
                            integrationName: this.action.name,
                            methodName: 'load',
                            type: 'action'
                        });
                        loadP = this.action.load(ctx, analytics);
                        _b = (_a = this.loadPromise).resolve;
                        return [
                            4 /*yield*/ ,
                            loadP
                        ];
                    case 2:
                        _b.apply(_a, [
                            _c.sent()
                        ]);
                        return [
                            2 /*return*/ ,
                            loadP
                        ];
                    case 3:
                        error_2 = _c.sent();
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$metric$2d$helpers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["recordIntegrationMetric"])(ctx, {
                            integrationName: this.action.name,
                            methodName: 'load',
                            type: 'action',
                            didError: true
                        });
                        this.loadPromise.reject(error_2);
                        throw error_2;
                    case 4:
                        return [
                            2 /*return*/ 
                        ];
                }
            });
        });
    };
    ActionDestination.prototype.unload = function(ctx, analytics) {
        var _a, _b;
        return (_b = (_a = this.action).unload) === null || _b === void 0 ? void 0 : _b.call(_a, ctx, analytics);
    };
    return ActionDestination;
}();
;
function validate(pluginLike) {
    if (!Array.isArray(pluginLike)) {
        throw new Error('Not a valid list of plugins');
    }
    var required = [
        'load',
        'isLoaded',
        'name',
        'version',
        'type'
    ];
    pluginLike.forEach(function(plugin) {
        required.forEach(function(method) {
            var _a;
            if (plugin[method] === undefined) {
                throw new Error("Plugin: ".concat((_a = plugin.name) !== null && _a !== void 0 ? _a : 'unknown', " missing required function ").concat(method));
            }
        });
    });
    return true;
}
function isPluginDisabled(userIntegrations, remotePlugin) {
    var creationNameEnabled = userIntegrations[remotePlugin.creationName];
    var currentNameEnabled = userIntegrations[remotePlugin.name];
    // Check that the plugin isn't explicitly enabled when All: false
    if (userIntegrations.All === false && !creationNameEnabled && !currentNameEnabled) {
        return true;
    }
    // Check that the plugin isn't explicitly disabled
    if (creationNameEnabled === false || currentNameEnabled === false) {
        return true;
    }
    return false;
}
function loadPluginFactory(remotePlugin, obfuscate) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        var defaultCdn, cdn, urlSplit, name_1, obfuscatedURL, error_3, err_1;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            switch(_a.label){
                case 0:
                    _a.trys.push([
                        0,
                        9,
                        ,
                        10
                    ]);
                    defaultCdn = new RegExp('https://cdn.segment.(com|build)');
                    cdn = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$parse$2d$cdn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getCDN"])();
                    if (!obfuscate) return [
                        3 /*break*/ ,
                        6
                    ];
                    urlSplit = remotePlugin.url.split('/');
                    name_1 = urlSplit[urlSplit.length - 2];
                    obfuscatedURL = remotePlugin.url.replace(name_1, btoa(name_1).replace(/=/g, ''));
                    _a.label = 1;
                case 1:
                    _a.trys.push([
                        1,
                        3,
                        ,
                        5
                    ]);
                    return [
                        4 /*yield*/ ,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$load$2d$script$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["loadScript"])(obfuscatedURL.replace(defaultCdn, cdn))
                    ];
                case 2:
                    _a.sent();
                    return [
                        3 /*break*/ ,
                        5
                    ];
                case 3:
                    error_3 = _a.sent();
                    // Due to syncing concerns it is possible that the obfuscated action destination (or requested version) might not exist.
                    // We should use the unobfuscated version as a fallback.
                    return [
                        4 /*yield*/ ,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$load$2d$script$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["loadScript"])(remotePlugin.url.replace(defaultCdn, cdn))
                    ];
                case 4:
                    // Due to syncing concerns it is possible that the obfuscated action destination (or requested version) might not exist.
                    // We should use the unobfuscated version as a fallback.
                    _a.sent();
                    return [
                        3 /*break*/ ,
                        5
                    ];
                case 5:
                    return [
                        3 /*break*/ ,
                        8
                    ];
                case 6:
                    return [
                        4 /*yield*/ ,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$load$2d$script$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["loadScript"])(remotePlugin.url.replace(defaultCdn, cdn))
                    ];
                case 7:
                    _a.sent();
                    _a.label = 8;
                case 8:
                    // @ts-expect-error
                    if (typeof window[remotePlugin.libraryName] === 'function') {
                        // @ts-expect-error
                        return [
                            2 /*return*/ ,
                            window[remotePlugin.libraryName]
                        ];
                    }
                    return [
                        3 /*break*/ ,
                        10
                    ];
                case 9:
                    err_1 = _a.sent();
                    console.error('Failed to create PluginFactory', remotePlugin);
                    throw err_1;
                case 10:
                    return [
                        2 /*return*/ 
                    ];
            }
        });
    });
}
function remoteLoader(settings, integrations, mergedIntegrations, options, routingMiddleware, pluginSources) {
    var _a, _b, _c;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        var allPlugins, routingRules, pluginPromises;
        var _this = this;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_d) {
            switch(_d.label){
                case 0:
                    allPlugins = [];
                    routingRules = (_b = (_a = settings.middlewareSettings) === null || _a === void 0 ? void 0 : _a.routingRules) !== null && _b !== void 0 ? _b : [];
                    pluginPromises = ((_c = settings.remotePlugins) !== null && _c !== void 0 ? _c : []).map(function(remotePlugin) {
                        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(_this, void 0, void 0, function() {
                            var pluginFactory, _a, intg, plugin, plugins, routing_1, error_4;
                            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                                switch(_b.label){
                                    case 0:
                                        if (isPluginDisabled(integrations, remotePlugin)) return [
                                            2 /*return*/ 
                                        ];
                                        _b.label = 1;
                                    case 1:
                                        _b.trys.push([
                                            1,
                                            6,
                                            ,
                                            7
                                        ]);
                                        _a = pluginSources === null || pluginSources === void 0 ? void 0 : pluginSources.find(function(_a) {
                                            var pluginName = _a.pluginName;
                                            return pluginName === remotePlugin.name;
                                        });
                                        if (_a) return [
                                            3 /*break*/ ,
                                            3
                                        ];
                                        return [
                                            4 /*yield*/ ,
                                            loadPluginFactory(remotePlugin, options === null || options === void 0 ? void 0 : options.obfuscate)
                                        ];
                                    case 2:
                                        _a = _b.sent();
                                        _b.label = 3;
                                    case 3:
                                        pluginFactory = _a;
                                        if (!pluginFactory) return [
                                            3 /*break*/ ,
                                            5
                                        ];
                                        intg = mergedIntegrations[remotePlugin.name];
                                        return [
                                            4 /*yield*/ ,
                                            pluginFactory((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, remotePlugin.settings), intg))
                                        ];
                                    case 4:
                                        plugin = _b.sent();
                                        plugins = Array.isArray(plugin) ? plugin : [
                                            plugin
                                        ];
                                        validate(plugins);
                                        routing_1 = routingRules.filter(function(rule) {
                                            return rule.destinationName === remotePlugin.creationName;
                                        });
                                        plugins.forEach(function(plugin) {
                                            var wrapper = new ActionDestination(remotePlugin.creationName, plugin);
                                            if (routing_1.length && routingMiddleware) {
                                                wrapper.addMiddleware(routingMiddleware);
                                            }
                                            allPlugins.push(wrapper);
                                        });
                                        _b.label = 5;
                                    case 5:
                                        return [
                                            3 /*break*/ ,
                                            7
                                        ];
                                    case 6:
                                        error_4 = _b.sent();
                                        console.warn('Failed to load Remote Plugin', error_4);
                                        return [
                                            3 /*break*/ ,
                                            7
                                        ];
                                    case 7:
                                        return [
                                            2 /*return*/ 
                                        ];
                                }
                            });
                        });
                    });
                    return [
                        4 /*yield*/ ,
                        Promise.all(pluginPromises)
                    ];
                case 1:
                    _d.sent();
                    return [
                        2 /*return*/ ,
                        allPlugins.filter(Boolean)
                    ];
            }
        });
    });
} //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/core/inspector/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "attachInspector",
    ()=>attachInspector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$get$2d$global$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/get-global.js [app-client] (ecmascript)");
var _a;
var _b;
;
var env = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$get$2d$global$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getGlobal"])();
// The code below assumes the inspector extension will use Object.assign
// to add the inspect interface on to this object reference (unless the
// extension code ran first and has already set up the variable)
var inspectorHost = (_a = (_b = env)['__SEGMENT_INSPECTOR__']) !== null && _a !== void 0 ? _a : _b['__SEGMENT_INSPECTOR__'] = {};
var attachInspector = function(analytics) {
    var _a;
    return (_a = inspectorHost.attach) === null || _a === void 0 ? void 0 : _a.call(inspectorHost, analytics);
}; //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@segment/analytics-next/dist/pkg/browser/index.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AnalyticsBrowser",
    ()=>AnalyticsBrowser,
    "loadCDNSettings",
    ()=>loadCDNSettings
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$get$2d$process$2d$env$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/get-process-env.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$parse$2d$cdn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/parse-cdn.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$analytics$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/analytics/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$merged$2d$options$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/merged-options.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$create$2d$deferred$2f$create$2d$deferred$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-generic-utils/dist/esm/create-deferred/create-deferred.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$env$2d$enrichment$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/env-enrichment/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$remote$2d$loader$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/remote-loader/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/segmentio/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/buffer/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$inspector$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/inspector/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/core/stats/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/global-analytics-helper.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$fetch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@segment/analytics-next/dist/pkg/lib/fetch.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
function loadCDNSettings(writeKey, baseUrl) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$fetch$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetch"])("".concat(baseUrl, "/v1/projects/").concat(writeKey, "/settings")).then(function(res) {
        if (!res.ok) {
            return res.text().then(function(errorResponseMessage) {
                throw new Error(errorResponseMessage);
            });
        }
        return res.json();
    }).catch(function(err) {
        console.error(err.message);
        throw err;
    });
}
function hasLegacyDestinations(settings) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$get$2d$process$2d$env$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getProcessEnv"])().NODE_ENV !== 'test' && // just one integration means segmentio
    Object.keys(settings.integrations).length > 1;
}
function hasTsubMiddleware(settings) {
    var _a, _b, _c;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$get$2d$process$2d$env$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getProcessEnv"])().NODE_ENV !== 'test' && ((_c = (_b = (_a = settings.middlewareSettings) === null || _a === void 0 ? void 0 : _a.routingRules) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0) > 0;
}
/**
 * With AJS classic, we allow users to call setAnonymousId before the library initialization.
 * This is important because some of the destinations will use the anonymousId during the initialization,
 * and if we set anonId afterwards, that wouldnt impact the destination.
 *
 * Also Ensures events can be registered before library initialization.
 * This is important so users can register to 'initialize' and any events that may fire early during setup.
 */ function flushPreBuffer(analytics, buffer) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["flushSetAnonymousID"])(analytics, buffer);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["flushOn"])(analytics, buffer);
}
/**
 * Finish flushing buffer and cleanup.
 */ function flushFinalBuffer(analytics, queryString, buffer) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            switch(_a.label){
                case 0:
                    return [
                        4 /*yield*/ ,
                        flushQueryString(analytics, queryString)
                    ];
                case 1:
                    _a.sent();
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["flushAnalyticsCallsInNewTask"])(analytics, buffer);
                    return [
                        2 /*return*/ 
                    ];
            }
        });
    });
}
var getQueryString = function() {
    var _a, _b;
    var hash = (_a = window.location.hash) !== null && _a !== void 0 ? _a : '';
    var search = (_b = window.location.search) !== null && _b !== void 0 ? _b : '';
    var term = search.length ? search : hash.replace(/(?=#).*(?=\?)/, '');
    return term;
};
var flushQueryString = function(analytics, queryString) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(void 0, void 0, void 0, function() {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_a) {
            switch(_a.label){
                case 0:
                    if (!queryString.includes('ajs_')) return [
                        3 /*break*/ ,
                        2
                    ];
                    return [
                        4 /*yield*/ ,
                        analytics.queryString(queryString).catch(console.error)
                    ];
                case 1:
                    _a.sent();
                    _a.label = 2;
                case 2:
                    return [
                        2 /*return*/ 
                    ];
            }
        });
    });
};
function registerPlugins(writeKey, cdnSettings, analytics, options, pluginLikes, legacyIntegrationSources, preInitBuffer) {
    var _a, _b, _c;
    if (pluginLikes === void 0) {
        pluginLikes = [];
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        var pluginsFromSettings, pluginSources, tsubMiddleware, _d, legacyDestinations, _e, schemaFilter, _f, mergedSettings, remotePlugins, basePlugins, shouldIgnoreSegmentio, _g, _h, ctx;
        var _this = this;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_j) {
            switch(_j.label){
                case 0:
                    flushPreBuffer(analytics, preInitBuffer);
                    pluginsFromSettings = pluginLikes === null || pluginLikes === void 0 ? void 0 : pluginLikes.filter(function(pluginLike) {
                        return typeof pluginLike === 'object';
                    });
                    pluginSources = pluginLikes === null || pluginLikes === void 0 ? void 0 : pluginLikes.filter(function(pluginLike) {
                        return typeof pluginLike === 'function' && typeof pluginLike.pluginName === 'string';
                    });
                    if (!hasTsubMiddleware(cdnSettings)) return [
                        3 /*break*/ ,
                        2
                    ];
                    return [
                        4 /*yield*/ ,
                        __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/routing-middleware/index.js [app-client] (ecmascript, async loader)").then(function(mod) {
                            return mod.tsubMiddleware(cdnSettings.middlewareSettings.routingRules);
                        })
                    ];
                case 1:
                    _d = _j.sent();
                    return [
                        3 /*break*/ ,
                        3
                    ];
                case 2:
                    _d = undefined;
                    _j.label = 3;
                case 3:
                    tsubMiddleware = _d;
                    if (!(hasLegacyDestinations(cdnSettings) || legacyIntegrationSources.length > 0)) return [
                        3 /*break*/ ,
                        5
                    ];
                    return [
                        4 /*yield*/ ,
                        __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/ajs-destination/index.js [app-client] (ecmascript, async loader)").then(function(mod) {
                            return mod.ajsDestinations(writeKey, cdnSettings, analytics.integrations, options, tsubMiddleware, legacyIntegrationSources);
                        })
                    ];
                case 4:
                    _e = _j.sent();
                    return [
                        3 /*break*/ ,
                        6
                    ];
                case 5:
                    _e = [];
                    _j.label = 6;
                case 6:
                    legacyDestinations = _e;
                    if (!cdnSettings.legacyVideoPluginsEnabled) return [
                        3 /*break*/ ,
                        8
                    ];
                    return [
                        4 /*yield*/ ,
                        __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/legacy-video-plugins/index.js [app-client] (ecmascript, async loader)").then(function(mod) {
                            return mod.loadLegacyVideoPlugins(analytics);
                        })
                    ];
                case 7:
                    _j.sent();
                    _j.label = 8;
                case 8:
                    if (!((_a = options.plan) === null || _a === void 0 ? void 0 : _a.track)) return [
                        3 /*break*/ ,
                        10
                    ];
                    return [
                        4 /*yield*/ ,
                        __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/schema-filter/index.js [app-client] (ecmascript, async loader)").then(function(mod) {
                            var _a;
                            return mod.schemaFilter((_a = options.plan) === null || _a === void 0 ? void 0 : _a.track, cdnSettings);
                        })
                    ];
                case 9:
                    _f = _j.sent();
                    return [
                        3 /*break*/ ,
                        11
                    ];
                case 10:
                    _f = undefined;
                    _j.label = 11;
                case 11:
                    schemaFilter = _f;
                    mergedSettings = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$merged$2d$options$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergedOptions"])(cdnSettings, options);
                    return [
                        4 /*yield*/ ,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$remote$2d$loader$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["remoteLoader"])(cdnSettings, analytics.integrations, mergedSettings, options, tsubMiddleware, pluginSources).catch(function() {
                            return [];
                        })
                    ];
                case 12:
                    remotePlugins = _j.sent();
                    basePlugins = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$env$2d$enrichment$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["envEnrichment"]
                    ], legacyDestinations, true), remotePlugins, true);
                    if (schemaFilter) {
                        basePlugins.push(schemaFilter);
                    }
                    shouldIgnoreSegmentio = ((_b = options.integrations) === null || _b === void 0 ? void 0 : _b.All) === false && !options.integrations['Segment.io'] || options.integrations && options.integrations['Segment.io'] === false;
                    if (!!shouldIgnoreSegmentio) return [
                        3 /*break*/ ,
                        14
                    ];
                    _h = (_g = basePlugins).push;
                    return [
                        4 /*yield*/ ,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$plugins$2f$segmentio$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["segmentio"])(analytics, mergedSettings['Segment.io'], cdnSettings.integrations)
                    ];
                case 13:
                    _h.apply(_g, [
                        _j.sent()
                    ]);
                    _j.label = 14;
                case 14:
                    return [
                        4 /*yield*/ ,
                        analytics.register.apply(analytics, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__spreadArray"])([], basePlugins, false), pluginsFromSettings, false))
                    ];
                case 15:
                    ctx = _j.sent();
                    // register user-defined plugins registered via analytics.register()
                    return [
                        4 /*yield*/ ,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["flushRegister"])(analytics, preInitBuffer)
                    ];
                case 16:
                    // register user-defined plugins registered via analytics.register()
                    _j.sent();
                    if (!Object.entries((_c = cdnSettings.enabledMiddleware) !== null && _c !== void 0 ? _c : {}).some(function(_a) {
                        var enabled = _a[1];
                        return enabled;
                    })) return [
                        3 /*break*/ ,
                        18
                    ];
                    return [
                        4 /*yield*/ ,
                        __turbopack_context__.A("[project]/node_modules/@segment/analytics-next/dist/pkg/plugins/remote-middleware/index.js [app-client] (ecmascript, async loader)").then(function(_a) {
                            var remoteMiddlewares = _a.remoteMiddlewares;
                            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(_this, void 0, void 0, function() {
                                var middleware, promises;
                                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_b) {
                                    switch(_b.label){
                                        case 0:
                                            return [
                                                4 /*yield*/ ,
                                                remoteMiddlewares(ctx, cdnSettings, options.obfuscate)
                                            ];
                                        case 1:
                                            middleware = _b.sent();
                                            promises = middleware.map(function(mdw) {
                                                return analytics.addSourceMiddleware(mdw);
                                            });
                                            return [
                                                2 /*return*/ ,
                                                Promise.all(promises)
                                            ];
                                    }
                                });
                            });
                        })
                    ];
                case 17:
                    _j.sent();
                    _j.label = 18;
                case 18:
                    // register any user-defined plugins added via analytics.addSourceMiddleware()
                    return [
                        4 /*yield*/ ,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["flushAddSourceMiddleware"])(analytics, preInitBuffer)
                    ];
                case 19:
                    // register any user-defined plugins added via analytics.addSourceMiddleware()
                    _j.sent();
                    return [
                        2 /*return*/ ,
                        ctx
                    ];
            }
        });
    });
}
function loadAnalytics(settings, options, preInitBuffer) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    if (options === void 0) {
        options = {};
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__awaiter"])(this, void 0, void 0, function() {
        var queryString, cdnURL, cdnSettings, _k, disabled, retryQueue, analytics, plugins, classicIntegrations, segmentLoadOptions, ctx;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__generator"])(this, function(_l) {
            switch(_l.label){
                case 0:
                    // return no-op analytics instance if disabled
                    if (options.disable === true) {
                        return [
                            2 /*return*/ ,
                            [
                                new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$analytics$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NullAnalytics"](),
                                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Context"].system()
                            ]
                        ];
                    }
                    if (options.globalAnalyticsKey) (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$global$2d$analytics$2d$helper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["setGlobalAnalyticsKey"])(options.globalAnalyticsKey);
                    // this is an ugly side-effect, but it's for the benefits of the plugins that get their cdn via getCDN()
                    if (settings.cdnURL) (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$parse$2d$cdn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["setGlobalCDNUrl"])(settings.cdnURL);
                    if (options.initialPageview) {
                        // capture the page context early, so it's always up-to-date
                        preInitBuffer.add(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PreInitMethodCall"]('page', []));
                    }
                    queryString = getQueryString();
                    cdnURL = (_a = settings.cdnURL) !== null && _a !== void 0 ? _a : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$lib$2f$parse$2d$cdn$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getCDN"])();
                    if (!((_b = settings.cdnSettings) !== null && _b !== void 0)) return [
                        3 /*break*/ ,
                        1
                    ];
                    _k = _b;
                    return [
                        3 /*break*/ ,
                        3
                    ];
                case 1:
                    return [
                        4 /*yield*/ ,
                        loadCDNSettings(settings.writeKey, cdnURL)
                    ];
                case 2:
                    _k = _l.sent();
                    _l.label = 3;
                case 3:
                    cdnSettings = _k;
                    if (options.updateCDNSettings) {
                        cdnSettings = options.updateCDNSettings(cdnSettings);
                    }
                    if (!(typeof options.disable === 'function')) return [
                        3 /*break*/ ,
                        5
                    ];
                    return [
                        4 /*yield*/ ,
                        options.disable(cdnSettings)
                    ];
                case 4:
                    disabled = _l.sent();
                    if (disabled) {
                        return [
                            2 /*return*/ ,
                            [
                                new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$analytics$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NullAnalytics"](),
                                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$context$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Context"].system()
                            ]
                        ];
                    }
                    _l.label = 5;
                case 5:
                    retryQueue = (_d = (_c = cdnSettings.integrations['Segment.io']) === null || _c === void 0 ? void 0 : _c.retryQueue) !== null && _d !== void 0 ? _d : true;
                    options = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({
                        retryQueue: retryQueue
                    }, options);
                    analytics = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$analytics$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Analytics"]((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, settings), {
                        cdnSettings: cdnSettings,
                        cdnURL: cdnURL
                    }), options);
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$inspector$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["attachInspector"])(analytics);
                    plugins = (_e = settings.plugins) !== null && _e !== void 0 ? _e : [];
                    classicIntegrations = (_f = settings.classicIntegrations) !== null && _f !== void 0 ? _f : [];
                    segmentLoadOptions = (_g = options.integrations) === null || _g === void 0 ? void 0 : _g['Segment.io'];
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$stats$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Stats"].initRemoteMetrics((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__assign"])({}, cdnSettings.metrics), {
                        host: (_h = segmentLoadOptions === null || segmentLoadOptions === void 0 ? void 0 : segmentLoadOptions.apiHost) !== null && _h !== void 0 ? _h : (_j = cdnSettings.metrics) === null || _j === void 0 ? void 0 : _j.host,
                        protocol: segmentLoadOptions === null || segmentLoadOptions === void 0 ? void 0 : segmentLoadOptions.protocol
                    }));
                    return [
                        4 /*yield*/ ,
                        registerPlugins(settings.writeKey, cdnSettings, analytics, options, plugins, classicIntegrations, preInitBuffer)
                    ];
                case 6:
                    ctx = _l.sent();
                    analytics.initialized = true;
                    analytics.emit('initialize', settings, options);
                    return [
                        4 /*yield*/ ,
                        flushFinalBuffer(analytics, queryString, preInitBuffer)
                    ];
                case 7:
                    _l.sent();
                    return [
                        2 /*return*/ ,
                        [
                            analytics,
                            ctx
                        ]
                    ];
            }
        });
    });
}
/**
 * The public browser interface for Segment Analytics
 *
 * @example
 * ```ts
 *  export const analytics = new AnalyticsBrowser()
 *  analytics.load({ writeKey: 'foo' })
 * ```
 * @link https://github.com/segmentio/analytics-next/#readme
 */ var AnalyticsBrowser = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["__extends"])(AnalyticsBrowser, _super);
    function AnalyticsBrowser() {
        var _this = this;
        var _a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$generic$2d$utils$2f$dist$2f$esm$2f$create$2d$deferred$2f$create$2d$deferred$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createDeferred"])(), loadStart = _a.promise, resolveLoadStart = _a.resolve;
        _this = _super.call(this, function(buffer) {
            return loadStart.then(function(_a) {
                var settings = _a[0], options = _a[1];
                return loadAnalytics(settings, options, buffer);
            });
        }) || this;
        _this._resolveLoadStart = function(settings, options) {
            return resolveLoadStart([
                settings,
                options
            ]);
        };
        return _this;
    }
    /**
     * Fully initialize an analytics instance, including:
     *
     * * Fetching settings from the segment CDN (by default).
     * * Fetching all remote destinations configured by the user (if applicable).
     * * Flushing buffered analytics events.
     * * Loading all middleware.
     *
     * Note:  This method should only be called *once* in your application.
     *
     * @example
     * ```ts
     * export const analytics = new AnalyticsBrowser()
     * analytics.load({ writeKey: 'foo' })
     * ```
     */ AnalyticsBrowser.prototype.load = function(settings, options) {
        if (options === void 0) {
            options = {};
        }
        this._resolveLoadStart(settings, options);
        return this;
    };
    /**
     * Instantiates an object exposing Analytics methods.
     *
     * @example
     * ```ts
     * const ajs = AnalyticsBrowser.load({ writeKey: '<YOUR_WRITE_KEY>' })
     *
     * ajs.track("foo")
     * ...
     * ```
     */ AnalyticsBrowser.load = function(settings, options) {
        if (options === void 0) {
            options = {};
        }
        return new AnalyticsBrowser().load(settings, options);
    };
    AnalyticsBrowser.standalone = function(writeKey, options) {
        return AnalyticsBrowser.load({
            writeKey: writeKey
        }, options).then(function(res) {
            return res[0];
        });
    };
    return AnalyticsBrowser;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$segment$2f$analytics$2d$next$2f$dist$2f$pkg$2f$core$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AnalyticsBuffered"]);
;
 //# sourceMappingURL=index.js.map
}),
]);

//# sourceMappingURL=node_modules_%40segment_analytics-next_dist_pkg_4c3c82fe._.js.map