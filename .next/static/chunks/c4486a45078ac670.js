(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81665,59544,39964,3812,32098,88442,e=>{"use strict";var t=e.i(43476),n=e.i(49838),r=e.i(71645);let s=(0,r.forwardRef)(({className:e,variant:r="primary",size:s="md",loading:i=!1,disabled:a,children:o,...l},u)=>(0,t.jsxs)("button",{ref:u,disabled:a||i,className:(0,n.cn)("inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{"bg-primary-600 text-white hover:bg-primary-700":"primary"===r,"bg-surface-200 text-surface-900 hover:bg-surface-300":"secondary"===r,"bg-transparent text-surface-700 hover:bg-surface-100":"ghost"===r,"px-3 py-1.5 text-sm":"sm"===s,"px-4 py-2 text-base":"md"===s,"px-6 py-3 text-lg":"lg"===s},e),...l,children:[i?(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,o]}));function i({className:e,children:r,...s}){return(0,t.jsx)("div",{className:(0,n.cn)("bg-white rounded-2xl border border-surface-200 shadow-sm",e),...s,children:r})}function a({className:e,children:r,...s}){return(0,t.jsx)("div",{className:(0,n.cn)("px-6 py-4",e),...s,children:r})}s.displayName="Button",e.s(["Button",0,s],59544),e.s(["Card",()=>i,"CardContent",()=>a],39964);let o=(0,r.forwardRef)(({className:e,error:r,...s},i)=>(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("input",{ref:i,className:(0,n.cn)("w-full px-4 py-3 text-lg bg-surface-50 border border-surface-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",r&&"border-red-500 focus:ring-red-500",e),...s}),r&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:r})]}));function l({isOpen:e,onClose:s,title:i,children:a,className:o}){let l=(0,r.useRef)(null);return((0,r.useEffect)(()=>{let t=e=>{"Escape"===e.key&&s()};return e&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow=""}},[e,s]),e)?(0,t.jsx)("div",{ref:l,className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e=>{e.target===l.current&&s()},children:(0,t.jsxs)("div",{className:(0,n.cn)("bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[85vh] overflow-hidden",o),children:[i&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-200",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:i}),(0,t.jsx)("button",{onClick:s,className:"p-1 rounded-lg hover:bg-surface-100 transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"overflow-y-auto max-h-[calc(85vh-60px)]",children:a})]})}):null}function u({className:e,...r}){return(0,t.jsx)("div",{className:(0,n.cn)("animate-pulse bg-surface-200 rounded",e),...r})}o.displayName="Input",e.s(["Input",0,o],3812),e.s(["Modal",()=>l],32098),e.s(["Skeleton",()=>u],88442),e.s([],81665)},87025,e=>{"use strict";let t=[{symbol:"NVDAx",name:"NVIDIA Corporation",mint:"Xsc9qvGR1efVDFGLrVsmkzv3qi45LTBjeUKSPmx9qEh",decimals:9,ticker:"NVDA",category:"stocks"},{symbol:"xAAPL",name:"Apple Inc.",mint:"HLm32fkK51wSi8TM9DvFmPuKjNbKzPkCTrXPnygsMVUp",decimals:9,ticker:"AAPL",category:"stocks"},{symbol:"xTSLA",name:"Tesla, Inc.",mint:"3n3LPMZ4PTLpKqTxkHfrAtqdqFKUxzGbrBhi7qKHnipG",decimals:9,ticker:"TSLA",category:"stocks"},{symbol:"xMSFT",name:"Microsoft Corporation",mint:"ANNmJmGxHwUsVRnqfLfbcH3eH1f1YuBDGoMbgeAt9zLP",decimals:9,ticker:"MSFT",category:"stocks"},{symbol:"xAMZN",name:"Amazon.com, Inc.",mint:"7VDEsKBXWSjVVaVzqz5vfuU2G5xCXvVRjTHqP9Kjqwn1",decimals:9,ticker:"AMZN",category:"stocks"},{symbol:"xGOOGL",name:"Alphabet Inc.",mint:"67So6HhEkba1cPTJ2KUQGCE2t5M9YnJLCBq4gQ1NyLAn",decimals:9,ticker:"GOOGL",category:"stocks"},{symbol:"xMETA",name:"Meta Platforms, Inc.",mint:"METADDFL6wWMWEoKTFJwcThTbUmtarRJZjRpzUvkxhr",decimals:9,ticker:"META",category:"stocks"},{symbol:"xCOIN",name:"Coinbase Global, Inc.",mint:"CbNYA9n3927sKrDffRomi6jkJn2ULL5NWP9mpt3hprvL",decimals:9,ticker:"COIN",category:"stocks"}],n=[{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9,ticker:"SOL",category:"crypto"},{symbol:"BTC",name:"Bitcoin",mint:"3NZ9JMVBmGAqocybic2c7LQCJScmgsAZ6vQqTDzcqmJh",decimals:8,ticker:"BTC",category:"crypto"},{symbol:"ETH",name:"Ethereum",mint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",decimals:8,ticker:"ETH",category:"crypto"}],r=[{symbol:"xSPACEX",name:"SpaceX",mint:"SpaceXMintAddress111111111111111111111111111",decimals:9,ticker:"SPACEX",category:"pre-ipo"},{symbol:"xSTRIPE",name:"Stripe",mint:"StripeMintAddress1111111111111111111111111111",decimals:9,ticker:"STRIPE",category:"pre-ipo"},{symbol:"xOPENAI",name:"OpenAI",mint:"OpenAIMintAddress11111111111111111111111111111",decimals:9,ticker:"OPENAI",category:"pre-ipo"}],s=[{symbol:"xSPY",name:"S&P 500 ETF",mint:"SPY500MintAddress111111111111111111111111111",decimals:9,ticker:"SPY",category:"index"},{symbol:"xQQQ",name:"Nasdaq 100 ETF",mint:"QQQNasdaqMintAddress1111111111111111111111111",decimals:9,ticker:"QQQ",category:"index"},{symbol:"xDIA",name:"Dow Jones ETF",mint:"DIADowJonesMintAddress11111111111111111111111",decimals:9,ticker:"DIA",category:"index"}],i=[{symbol:"xGLD",name:"Gold",mint:"GoldMintAddress111111111111111111111111111111",decimals:9,ticker:"GLD",category:"commodities"},{symbol:"xSLV",name:"Silver",mint:"SilverMintAddress1111111111111111111111111111",decimals:9,ticker:"SLV",category:"commodities"}],a=[...t,...n,...r,...s,...i];function o(e){return a.find(t=>t.mint===e)}function l(e){let t=e.toLowerCase();return a.filter(e=>e.symbol.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)||e.ticker.toLowerCase().includes(t))}e.s(["ALL_ASSETS",0,a,"CATEGORY_LABELS",0,{stocks:"US Stocks",crypto:"Crypto","pre-ipo":"Pre-IPO",index:"Indices",commodities:"Commodities"},"COMMODITIES",0,i,"CRYPTO",0,n,"INDICES",0,s,"PRE_IPO",0,r,"STOCKS",0,t,"getAssetByMint",()=>o,"searchAssets",()=>l])},2888,e=>{"use strict";let t={symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},n={symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"},r=[t,n];e.s(["BASE_TOKENS",0,r,"SOL",0,t,"USDC",0,n])},66027,22876,e=>{"use strict";let t;var n=e.i(75555),r=e.i(40143),s=e.i(86491),i=e.i(15823),a=e.i(93803),o=e.i(19273),l=e.i(80166),u=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#n=(0,a.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#s=void 0;#i=void 0;#a;#o;#n;#t;#l;#u;#c;#d;#p;#m;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),c(this.#r,this.options)?this.#f():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#g(),this.#r.removeObserver(this)}setOptions(e){let t=this.options,n=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.resolveEnabled)(this.options.enabled,this.#r))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#r.setOptions(this.options),t._defaulted&&!(0,o.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let r=this.hasListeners();r&&p(this.#r,n,this.options,t)&&this.#f(),this.updateResult(),r&&(this.#r!==n||(0,o.resolveEnabled)(this.options.enabled,this.#r)!==(0,o.resolveEnabled)(t.enabled,this.#r)||(0,o.resolveStaleTime)(this.options.staleTime,this.#r)!==(0,o.resolveStaleTime)(t.staleTime,this.#r))&&this.#v();let s=this.#w();r&&(this.#r!==n||(0,o.resolveEnabled)(this.options.enabled,this.#r)!==(0,o.resolveEnabled)(t.enabled,this.#r)||s!==this.#m)&&this.#S(s)}getOptimisticResult(e){var t,n;let r=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(r,e);return t=this,n=s,(0,o.shallowEqualObjects)(t.getCurrentResult(),n)||(this.#i=s,this.#o=this.options,this.#a=this.#r.state),s}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),t?.(n),"promise"===n&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#n.status||this.#n.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,n))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(e){this.#x();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(o.noop)),t}#v(){this.#b();let e=(0,o.resolveStaleTime)(this.options.staleTime,this.#r);if(o.isServer||this.#i.isStale||!(0,o.isValidTimeout)(e))return;let t=(0,o.timeUntilStale)(this.#i.dataUpdatedAt,e);this.#d=l.timeoutManager.setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#S(e){this.#g(),this.#m=e,!o.isServer&&!1!==(0,o.resolveEnabled)(this.options.enabled,this.#r)&&(0,o.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#p=l.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||n.focusManager.isFocused())&&this.#f()},this.#m))}#y(){this.#v(),this.#S(this.#w())}#b(){this.#d&&(l.timeoutManager.clearTimeout(this.#d),this.#d=void 0)}#g(){this.#p&&(l.timeoutManager.clearInterval(this.#p),this.#p=void 0)}createResult(e,t){let n,r=this.#r,i=this.options,l=this.#i,u=this.#a,d=this.#o,h=e!==r?e.state:this.#s,{state:f}=e,y={...f},b=!1;if(t._optimisticResults){let n=this.hasListeners(),a=!n&&c(e,t),o=n&&p(e,r,t,i);(a||o)&&(y={...y,...(0,s.fetchState)(f.data,e.options)}),"isRestoring"===t._optimisticResults&&(y.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:v}=y;n=y.data;let w=!1;if(void 0!==t.placeholderData&&void 0===n&&"pending"===v){let e;l?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(e=l.data,w=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,void 0!==e&&(v="success",n=(0,o.replaceData)(l?.data,e,t),b=!0)}if(t.select&&void 0!==n&&!w)if(l&&n===u?.data&&t.select===this.#l)n=this.#u;else try{this.#l=t.select,n=t.select(n),n=(0,o.replaceData)(l?.data,n,t),this.#u=n,this.#t=null}catch(e){this.#t=e}this.#t&&(g=this.#t,n=this.#u,x=Date.now(),v="error");let S="fetching"===y.fetchStatus,T="pending"===v,R="error"===v,A=T&&S,k=void 0!==n,j={status:v,fetchStatus:y.fetchStatus,isPending:T,isSuccess:"success"===v,isError:R,isInitialLoading:A,isLoading:A,data:n,dataUpdatedAt:y.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!T,isLoadingError:R&&!k,isPaused:"paused"===y.fetchStatus,isPlaceholderData:b,isRefetchError:R&&k,isStale:m(e,t),refetch:this.refetch,promise:this.#n,isEnabled:!1!==(0,o.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===j.status?e.reject(j.error):void 0!==j.data&&e.resolve(j.data)},n=()=>{t(this.#n=j.promise=(0,a.pendingThenable)())},s=this.#n;switch(s.status){case"pending":e.queryHash===r.queryHash&&t(s);break;case"fulfilled":("error"===j.status||j.data!==s.value)&&n();break;case"rejected":("error"!==j.status||j.error!==s.reason)&&n()}}return j}updateResult(){let e=this.#i,t=this.createResult(this.#r,this.options);if(this.#a=this.#r.state,this.#o=this.options,void 0!==this.#a.data&&(this.#c=this.#r),(0,o.shallowEqualObjects)(t,e))return;this.#i=t;let n=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!this.#h.size)return!0;let r=new Set(n??this.#h);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(t=>this.#i[t]!==e[t]&&r.has(t))};this.#T({listeners:n()})}#x(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#T(e){r.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function c(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,n){if(!1!==(0,o.resolveEnabled)(t.enabled,e)&&"static"!==(0,o.resolveStaleTime)(t.staleTime,e)){let r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&m(e,t)}return!1}function p(e,t,n,r){return(e!==t||!1===(0,o.resolveEnabled)(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&m(e,n)}function m(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,o.resolveStaleTime)(t.staleTime,e))}e.i(47167);var h=e.i(71645),f=e.i(12598);e.i(43476);var y=h.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),b=h.createContext(!1);b.Provider;var g=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function x(e,t){return function(e,t,n){let s,i=h.useContext(b),a=h.useContext(y),l=(0,f.useQueryClient)(n),u=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(u);let c=l.getQueryCache().get(u.queryHash);if(u._optimisticResults=i?"isRestoring":"optimistic",u.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=u.staleTime;u.staleTime="function"==typeof t?(...n)=>e(t(...n)):e(t),"number"==typeof u.gcTime&&(u.gcTime=Math.max(u.gcTime,1e3))}s=c?.state.error&&"function"==typeof u.throwOnError?(0,o.shouldThrowError)(u.throwOnError,[c.state.error,c]):u.throwOnError,(u.suspense||u.experimental_prefetchInRender||s)&&!a.isReset()&&(u.retryOnMount=!1),h.useEffect(()=>{a.clearReset()},[a]);let d=!l.getQueryCache().get(u.queryHash),[p]=h.useState(()=>new t(l,u)),m=p.getOptimisticResult(u),x=!i&&!1!==e.subscribed;if(h.useSyncExternalStore(h.useCallback(e=>{let t=x?p.subscribe(r.notifyManager.batchCalls(e)):o.noop;return p.updateResult(),t},[p,x]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),h.useEffect(()=>{p.setOptions(u)},[u,p]),u?.suspense&&m.isPending)throw g(u,p,a);if((({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&void 0===e.data||(0,o.shouldThrowError)(n,[e.error,r])))({result:m,errorResetBoundary:a,throwOnError:u.throwOnError,query:c,suspense:u.suspense}))throw m.error;if(l.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!o.isServer&&m.isLoading&&m.isFetching&&!i){let e=d?g(u,p,a):c?.promise;e?.catch(o.noop).finally(()=>{p.updateResult()})}return u.notifyOnChangeProps?m:p.trackResult(m)}(e,u,t)}e.s(["useQuery",()=>x],66027);var v=e.i(27261);let w=new v.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),S=new v.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new v.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new v.PublicKey("So11111111111111111111111111111111111111112"),new v.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),e.s(["TOKEN_2022_PROGRAM_ID",0,S,"TOKEN_PROGRAM_ID",0,w],22876)},68040,32036,e=>{"use strict";var t=e.i(66027),n=e.i(48774),r=e.i(67762),s=e.i(22876),i=e.i(27261),a=e.i(2888);function o(){let{connection:e}=(0,n.useConnection)(),{publicKey:o,connected:l}=(0,r.useWallet)();return(0,t.useQuery)({queryKey:["tokenBalances",o?.toBase58(),l],queryFn:async()=>{if(!o)return{};let t={};try{let n=await e.getBalance(o);for(let{account:r}of(t[a.SOL.mint]={mint:a.SOL.mint,amount:n.toString(),uiAmount:n/i.LAMPORTS_PER_SOL,decimals:9},(await e.getParsedTokenAccountsByOwner(o,{programId:s.TOKEN_PROGRAM_ID})).value)){let e=r.data.parsed.info;t[e.mint]={mint:e.mint,amount:e.tokenAmount.amount,uiAmount:e.tokenAmount.uiAmount??0,decimals:e.tokenAmount.decimals}}for(let{account:n}of(await e.getParsedTokenAccountsByOwner(o,{programId:s.TOKEN_2022_PROGRAM_ID})).value){let e=n.data.parsed.info;t[e.mint]={mint:e.mint,amount:e.tokenAmount.amount,uiAmount:e.tokenAmount.uiAmount??0,decimals:e.tokenAmount.decimals}}}catch(e){console.error("Error fetching balances:",e)}return t},enabled:!!o&&l,staleTime:1e4,refetchInterval:3e4,refetchOnWindowFocus:!0,retry:3})}function l(e){let{data:t}=o();return t?.[e]?.uiAmount??0}function u(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function c(e,t=4){var n;return 0===e?"0":e<1e-4?"<0.0001":(n={minimumFractionDigits:0,maximumFractionDigits:t},new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2,...n}).format(e))}e.s(["useTokenBalance",()=>l,"useTokenBalances",()=>o],68040),e.s(["formatCurrency",()=>u,"formatTokenAmount",()=>c],32036)},4444,e=>{"use strict";let t;var n=e.i(43476),r=e.i(18566),s=e.i(71645),i=e.i(67762),a=e.i(86614);e.i(81665);var o=e.i(39964),l=e.i(59544),u=e.i(32098),c=e.i(3812),d=e.i(87025),p=e.i(2888),m=e.i(68040),h=e.i(32036);function f({isOpen:e,onClose:t,onSelect:r,selectedMint:i,showBaseTokens:a=!0}){let[o,l]=(0,s.useState)(""),{data:f}=(0,m.useTokenBalances)(),y=(0,s.useMemo)(()=>{let e=a?[...p.BASE_TOKENS,...d.ALL_ASSETS]:d.ALL_ASSETS;if(!o)return e;let t=o.toLowerCase();return e.filter(e=>e.symbol.toLowerCase().includes(t)||e.name.toLowerCase().includes(t))},[o,a]);return(0,n.jsx)(u.Modal,{isOpen:e,onClose:t,title:"Select Token",children:(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)(c.Input,{placeholder:"Search tokens...",value:o,onChange:e=>l(e.target.value),className:"mb-4"}),(0,n.jsxs)("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:[y.map(e=>{let s=f?.[e.mint]?.uiAmount??0,a=e.mint===i,o="category"in e?e.category:null;return(0,n.jsxs)("button",{onClick:()=>{r(e),t(),l("")},disabled:a,className:`w-full flex items-center justify-between p-3 rounded-xl transition-colors ${a?"bg-primary-50 cursor-default":"hover:bg-surface-50"}`,children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-full bg-surface-200 flex items-center justify-center text-sm font-medium",children:e.symbol.slice(0,2)}),(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsx)("p",{className:"font-medium",children:e.symbol}),(0,n.jsxs)("p",{className:"text-sm text-surface-600",children:[e.name,o&&(0,n.jsxs)("span",{className:"text-xs text-surface-400 ml-1",children:["(",d.CATEGORY_LABELS[o],")"]})]})]})]}),s>0&&(0,n.jsx)("span",{className:"text-sm text-surface-600",children:(0,h.formatTokenAmount)(s)})]},e.mint)}),0===y.length&&(0,n.jsx)("p",{className:"text-center text-surface-500 py-8",children:"No tokens found"})]})]})})}function y({label:e,mint:t,amount:r,onMintChange:i,onAmountChange:a,disabled:o=!1,readOnly:l=!1}){let[u,c]=(0,s.useState)(!1),y=(0,m.useTokenBalance)(t),b=p.BASE_TOKENS.find(e=>e.mint===t)||d.ALL_ASSETS.find(e=>e.mint===t);return(0,n.jsxs)("div",{className:"bg-surface-50 rounded-2xl p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("span",{className:"text-sm text-surface-600",children:e}),b&&(0,n.jsxs)("span",{className:"text-sm text-surface-600",children:["Balance: ",(0,h.formatTokenAmount)(y)," ",!l&&(0,n.jsx)("button",{onClick:()=>{y>0&&a(y.toString())},className:"text-primary-600 hover:text-primary-700 font-medium",disabled:o,children:"MAX"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("input",{type:"number",value:r,onChange:e=>a(e.target.value),placeholder:"0.00",disabled:o||l,className:"flex-1 bg-transparent text-2xl font-medium outline-none placeholder:text-surface-400 disabled:text-surface-600"}),(0,n.jsxs)("button",{onClick:()=>c(!0),disabled:o,className:"flex items-center gap-2 px-3 py-2 bg-white rounded-xl border border-surface-200 hover:bg-surface-50 transition-colors disabled:opacity-50",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded-full bg-surface-200 flex items-center justify-center text-xs font-medium",children:b?.symbol.slice(0,2)??"??"}),(0,n.jsx)("span",{className:"font-medium",children:b?.symbol??"Select"}),(0,n.jsx)("svg",{className:"w-4 h-4 text-surface-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,n.jsx)(f,{isOpen:u,onClose:()=>c(!1),onSelect:e=>{i(e.mint)},selectedMint:t})]})}function b({quote:e,outputMint:t}){if(!e)return null;let r=p.BASE_TOKENS.find(e=>e.mint===t)||d.ALL_ASSETS.find(e=>e.mint===t),s=r?.decimals??9,i=Number(e.outAmount)/Math.pow(10,s),a=parseFloat(e.priceImpactPct??"0"),o=i*(1-(e.slippageBps??100)/1e4);return(0,n.jsxs)("div",{className:"mt-4 p-4 bg-surface-50 rounded-xl text-sm space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-surface-600",children:"Expected Output"}),(0,n.jsxs)("span",{className:"font-medium",children:[(0,h.formatTokenAmount)(i)," ",r?.symbol]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-surface-600",children:"Minimum Received"}),(0,n.jsxs)("span",{className:"font-medium",children:[(0,h.formatTokenAmount)(o)," ",r?.symbol]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-surface-600",children:"Price Impact"}),(0,n.jsxs)("span",{className:`font-medium ${a>1?"text-red-600":a>.5?"text-yellow-600":"text-green-600"}`,children:[a.toFixed(2),"%"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-surface-600",children:"Slippage Tolerance"}),(0,n.jsxs)("span",{className:"font-medium",children:[(e.slippageBps??100)/100,"%"]})]})]})}let g=e=>{let t,n=new Set,r=(e,r)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach(n=>n(t,e))}},s=()=>t,i={setState:r,getState:s,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,s,i);return i},x=e=>{let t=e?g(e):g,n=e=>(function(e,t=e=>e){let n=s.default.useSyncExternalStore(e.subscribe,s.default.useCallback(()=>t(e.getState()),[e,t]),s.default.useCallback(()=>t(e.getInitialState()),[e,t]));return s.default.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},v=(t=e=>({inputMint:p.USDC.mint,outputMint:d.STOCKS[0]?.mint||"",inputAmount:"",slippageBps:100,setInputMint:t=>e({inputMint:t}),setOutputMint:t=>e({outputMint:t}),setInputAmount:t=>e({inputAmount:t}),setSlippageBps:t=>e({slippageBps:t}),flipTokens:()=>e(e=>({inputMint:e.outputMint,outputMint:e.inputMint,inputAmount:""})),reset:()=>e({inputMint:p.USDC.mint,outputMint:d.STOCKS[0]?.mint||"",inputAmount:""})}))?x(t):x;var w=e.i(66027),S=Object.defineProperty,T=Object.defineProperties,R=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))k.call(t,n)&&M(e,n,t[n]);if(A)for(var n of A(t))j.call(t,n)&&M(e,n,t[n]);return e},C=(e,t,n)=>new Promise((r,s)=>{var i=e=>{try{o(n.next(e))}catch(e){s(e)}},a=e=>{try{o(n.throw(e))}catch(e){s(e)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);o((n=n.apply(e,t)).next())}),E="https://api.jup.ag/swap/v1".replace(/\/+$/,""),P=class{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:E}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t,n=""){return Object.keys(t).map(r=>(function t(n,r,s=""){let i=s+(s.length?`[${n}]`:n);if(r instanceof Array){let e=r.map(e=>encodeURIComponent(String(e))).join(`&${encodeURIComponent(i)}=`);return`${encodeURIComponent(i)}=${e}`}return r instanceof Set?t(n,Array.from(r),s):r instanceof Date?`${encodeURIComponent(i)}=${encodeURIComponent(r.toISOString())}`:r instanceof Object?e(r,i):`${encodeURIComponent(i)}=${encodeURIComponent(String(r))}`})(r,t[r],n)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:()=>C(this,null,function*(){return e})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}},L=new P,O=class e{constructor(e=L){this.configuration=e,this.fetchApi=(e,t)=>C(this,null,function*(){let n,r={url:e,init:t};for(let e of this.middleware)e.pre&&(r=(yield e.pre(I({fetch:this.fetchApi},r)))||r);try{n=yield(this.configuration.fetchApi||fetch)(r.url,r.init)}catch(e){for(let t of this.middleware)t.onError&&(n=(yield t.onError({fetch:this.fetchApi,url:r.url,init:r.init,error:e,response:n?n.clone():void 0}))||n);if(void 0===n)if(e instanceof Error)throw new Q(e,"The request failed and the interceptors did not return an alternative response");else throw e}for(let e of this.middleware)e.post&&(n=(yield e.post({fetch:this.fetchApi,url:r.url,init:r.init,response:n.clone()}))||n);return n}),this.middleware=e.middleware}withMiddleware(...e){let t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){let t=e.map(e=>({pre:e}));return this.withMiddleware(...t)}withPostMiddleware(...e){let t=e.map(e=>({post:e}));return this.withMiddleware(...t)}isJsonMime(t){return!!t&&e.jsonRegex.test(t)}request(e,t){return C(this,null,function*(){let{url:n,init:r}=yield this.createFetchParams(e,t),s=yield this.fetchApi(n,r);if(s&&s.status>=200&&s.status<300)return s;throw new q(s,"Response returned an error code")})}createFetchParams(e,t){return C(this,null,function*(){var n,r;let s,i=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(i+="?"+this.configuration.queryParamsStringify(e.query));let a=Object.assign({},this.configuration.headers,e.headers);Object.keys(a).forEach(e=>void 0===a[e]?delete a[e]:{});let o={method:e.method,headers:a,body:e.body,credentials:this.configuration.credentials},l=I(I({},o),(yield("function"==typeof t?t:()=>C(this,null,function*(){return t}))({init:o,context:e})));return n=l.body,s="undefined"!=typeof FormData&&n instanceof FormData||l.body instanceof URLSearchParams||(r=l.body,"undefined"!=typeof Blob&&r instanceof Blob)?l.body:this.isJsonMime(a["Content-Type"])?JSON.stringify(l.body):l.body,{url:i,init:T(I({},l),R({body:s}))}})}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}};O.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");var N=O,q=class extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}},Q=class extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}},B=class extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}};function D(e,t){return null!=e[t]}var F=class{constructor(e,t=e=>e){this.raw=e,this.transformer=t}value(){return C(this,null,function*(){return this.transformer((yield this.raw.json()))})}};function U(e){var t;return null==(t=e)?t:{pubkey:t.pubkey,isSigner:t.isSigner,isWritable:t.isWritable}}function G(e){var t;return null==(t=e)?t:{programId:t.programId,accounts:t.accounts.map(U),data:t.data}}function K(e){var t,n=e;if(null==n)return n;return{swapInfo:(t=n.swapInfo,null==t?t:{ammKey:t.ammKey,label:D(t,"label")?t.label:void 0,inputMint:t.inputMint,outputMint:t.outputMint,inAmount:t.inAmount,outAmount:t.outAmount}),percent:D(n,"percent")?n.percent:void 0,bps:D(n,"bps")?n.bps:void 0}}function _(e){if(void 0!==e)return null===e?null:{swapInfo:function(e){if(void 0!==e)return null===e?null:{ammKey:e.ammKey,label:e.label,inputMint:e.inputMint,outputMint:e.outputMint,inAmount:e.inAmount,outAmount:e.outAmount}}(e.swapInfo),percent:e.percent,bps:e.bps}}function V(e){if(void 0!==e)return null===e?null:{userPublicKey:e.userPublicKey,payer:e.payer,wrapAndUnwrapSol:e.wrapAndUnwrapSol,useSharedAccounts:e.useSharedAccounts,feeAccount:e.feeAccount,trackingAccount:e.trackingAccount,prioritizationFeeLamports:function(e){if(void 0!==e){if(null===e)return null;if("jitoTipLamports"in e)return void 0!==e?null===e?null:{jitoTipLamports:e.jitoTipLamports}:void 0;if("jitoTipLamportsWithPayer"in e)return void 0!==e?null===e?null:{jitoTipLamportsWithPayer:function(e){if(void 0!==e)return null===e?null:{lamports:e.lamports,payer:e.payer}}(e.jitoTipLamportsWithPayer)}:void 0;if("priorityLevelWithMaxLamports"in e)return void 0!==e?null===e?null:{priorityLevelWithMaxLamports:function(e){if(void 0!==e)return null===e?null:{priorityLevel:e.priorityLevel,maxLamports:e.maxLamports,global:e.global}}(e.priorityLevelWithMaxLamports)}:void 0;return{}}}(e.prioritizationFeeLamports),asLegacyTransaction:e.asLegacyTransaction,destinationTokenAccount:e.destinationTokenAccount,nativeDestinationAccount:e.nativeDestinationAccount,dynamicComputeUnitLimit:e.dynamicComputeUnitLimit,skipUserAccountsRpcCalls:e.skipUserAccountsRpcCalls,dynamicSlippage:e.dynamicSlippage,computeUnitPriceMicroLamports:e.computeUnitPriceMicroLamports,blockhashSlotsToExpiry:e.blockhashSlotsToExpiry,quoteResponse:function(e){if(void 0!==e)return null===e?null:{inputMint:e.inputMint,inAmount:e.inAmount,outputMint:e.outputMint,outAmount:e.outAmount,otherAmountThreshold:e.otherAmountThreshold,instructionVersion:e.instructionVersion,swapMode:e.swapMode,slippageBps:e.slippageBps,platformFee:function(e){if(void 0!==e)return null===e?null:{amount:e.amount,feeBps:e.feeBps}}(e.platformFee),priceImpactPct:e.priceImpactPct,routePlan:e.routePlan.map(_),contextSlot:e.contextSlot,timeTaken:e.timeTaken}}(e.quoteResponse)}}let W=new class extends N{programIdToLabelGetRaw(e){return C(this,null,function*(){return new F((yield this.request({path:"/program-id-to-label",method:"GET",headers:{},query:{}},e)))})}programIdToLabelGet(e){return C(this,null,function*(){let t=yield this.programIdToLabelGetRaw(e);return yield t.value()})}quoteGetRaw(e,t){return C(this,null,function*(){if(null===e.inputMint||void 0===e.inputMint)throw new B("inputMint","Required parameter requestParameters.inputMint was null or undefined when calling quoteGet.");if(null===e.outputMint||void 0===e.outputMint)throw new B("outputMint","Required parameter requestParameters.outputMint was null or undefined when calling quoteGet.");if(null===e.amount||void 0===e.amount)throw new B("amount","Required parameter requestParameters.amount was null or undefined when calling quoteGet.");let n={};return void 0!==e.inputMint&&(n.inputMint=e.inputMint),void 0!==e.outputMint&&(n.outputMint=e.outputMint),void 0!==e.amount&&(n.amount=e.amount),void 0!==e.slippageBps&&(n.slippageBps=e.slippageBps),void 0!==e.swapMode&&(n.swapMode=e.swapMode),e.dexes&&(n.dexes=e.dexes),e.excludeDexes&&(n.excludeDexes=e.excludeDexes),void 0!==e.restrictIntermediateTokens&&(n.restrictIntermediateTokens=e.restrictIntermediateTokens),void 0!==e.onlyDirectRoutes&&(n.onlyDirectRoutes=e.onlyDirectRoutes),void 0!==e.asLegacyTransaction&&(n.asLegacyTransaction=e.asLegacyTransaction),void 0!==e.platformFeeBps&&(n.platformFeeBps=e.platformFeeBps),void 0!==e.maxAccounts&&(n.maxAccounts=e.maxAccounts),void 0!==e.instructionVersion&&(n.instructionVersion=e.instructionVersion),void 0!==e.dynamicSlippage&&(n.dynamicSlippage=e.dynamicSlippage),new F((yield this.request({path:"/quote",method:"GET",headers:{},query:n},t)),e=>(function(e,t){var n,r,s,i;if(null==e)return e;return{inputMint:e.inputMint,inAmount:e.inAmount,outputMint:e.outputMint,outAmount:e.outAmount,otherAmountThreshold:e.otherAmountThreshold,instructionVersion:D(e,"instructionVersion")?e.instructionVersion:void 0,swapMode:(n=e.swapMode,r=0,n),slippageBps:e.slippageBps,platformFee:D(e,"platformFee")?(s=e.platformFee,i=0,null==s?s:{amount:D(s,"amount")?s.amount:void 0,feeBps:D(s,"feeBps")?s.feeBps:void 0}):void 0,priceImpactPct:e.priceImpactPct,routePlan:e.routePlan.map(K),contextSlot:D(e,"contextSlot")?e.contextSlot:void 0,timeTaken:D(e,"timeTaken")?e.timeTaken:void 0}})(e,0))})}quoteGet(e,t){return C(this,null,function*(){let n=yield this.quoteGetRaw(e,t);return yield n.value()})}swapInstructionsPostRaw(e,t){return C(this,null,function*(){if(null===e.swapRequest||void 0===e.swapRequest)throw new B("swapRequest","Required parameter requestParameters.swapRequest was null or undefined when calling swapInstructionsPost.");let n={};return n["Content-Type"]="application/json",new F((yield this.request({path:"/swap-instructions",method:"POST",headers:n,query:{},body:V(e.swapRequest)},t)),e=>{var t,n;return n=0,null==(t=e)?t:{otherInstructions:t.otherInstructions.map(G),computeBudgetInstructions:t.computeBudgetInstructions.map(G),setupInstructions:t.setupInstructions.map(G),swapInstruction:G(t.swapInstruction),cleanupInstruction:D(t,"cleanupInstruction")?G(t.cleanupInstruction):void 0,addressLookupTableAddresses:t.addressLookupTableAddresses}})})}swapInstructionsPost(e,t){return C(this,null,function*(){let n=yield this.swapInstructionsPostRaw(e,t);return yield n.value()})}swapPostRaw(e,t){return C(this,null,function*(){if(null===e.swapRequest||void 0===e.swapRequest)throw new B("swapRequest","Required parameter requestParameters.swapRequest was null or undefined when calling swapPost.");let n={};return n["Content-Type"]="application/json",new F((yield this.request({path:"/swap",method:"POST",headers:n,query:{},body:V(e.swapRequest)},t)),e=>{var t,n;return n=0,null==(t=e)?t:{swapTransaction:t.swapTransaction,lastValidBlockHeight:t.lastValidBlockHeight,prioritizationFeeLamports:D(t,"prioritizationFeeLamports")?t.prioritizationFeeLamports:void 0}})})}swapPost(e,t){return C(this,null,function*(){let n=yield this.swapPostRaw(e,t);return yield n.value()})}}(new P(T(I({},void 0),R({basePath:"https://lite-api.jup.ag/swap/v1",headers:void 0}))));var z=e.i(67034),H=e.i(48774),J=e.i(12598),X=e.i(27261);function $(e){return p.BASE_TOKENS.find(t=>t.mint===e)||d.ALL_ASSETS.find(t=>t.mint===e)}function Y(){let{connected:e}=(0,i.useWallet)(),{setVisible:t}=(0,a.useWalletModal)(),{inputMint:r,outputMint:u,inputAmount:c,slippageBps:d,setInputMint:p,setOutputMint:h,setInputAmount:f,flipTokens:g}=v(),x=$(r),S=(0,m.useTokenBalance)(r),{data:T,isLoading:R,error:A}=function({inputMint:e,outputMint:t,amount:n,slippageBps:r,decimals:s}){let i=n?Math.floor(parseFloat(n)*Math.pow(10,s)):0;return(0,w.useQuery)({queryKey:["jupiterQuote",e,t,i,r],queryFn:async()=>{if(!e||!t||!n||0>=parseFloat(n))return null;try{return await W.quoteGet({inputMint:e,outputMint:t,amount:i,slippageBps:r})}catch(e){throw console.error("Failed to fetch quote:",e),e}},enabled:!!e&&!!t&&!!n&&parseFloat(n)>0&&e!==t,staleTime:1e4,refetchInterval:15e3,retry:2})}({inputMint:r,outputMint:u,amount:c,slippageBps:d,decimals:x?.decimals??9}),{swap:k,status:j,error:M,reset:I}=function(){let{connection:e}=(0,H.useConnection)(),{publicKey:t,signTransaction:n}=(0,i.useWallet)(),r=(0,J.useQueryClient)(),[a,o]=(0,s.useState)("idle"),[l,u]=(0,s.useState)(null),c=(0,s.useCallback)(()=>{o("idle"),u(null)},[]);return{swap:(0,s.useCallback)(async s=>{if(!t||!n)return u("Wallet not connected"),o("error"),null;try{o("preparing"),u(null),console.log("Fetching fresh quote...");let i=await W.quoteGet({inputMint:s.inputMint,outputMint:s.outputMint,amount:s.amount,slippageBps:s.slippageBps});if(!i)throw Error("Failed to get quote");console.log("Got fresh quote, getting swap transaction...");let a=await W.swapPost({swapRequest:{quoteResponse:i,userPublicKey:t.toBase58(),dynamicComputeUnitLimit:!0}}),l=z.Buffer.from(a.swapTransaction,"base64"),c=X.VersionedTransaction.deserialize(l);o("signing"),console.log("Requesting signature...");let d=await n(c);o("confirming"),console.log("Sending transaction...");let p=d.serialize(),m=await e.sendRawTransaction(p,{skipPreflight:!0,maxRetries:2});console.log("Transaction sent:",m);let h=await e.getLatestBlockhash("confirmed");if((await e.confirmTransaction({signature:m,blockhash:h.blockhash,lastValidBlockHeight:h.lastValidBlockHeight},"confirmed")).value.err)throw Error("Transaction failed on chain");return console.log("Transaction confirmed!"),o("success"),r.invalidateQueries({queryKey:["tokenBalances"]}),m}catch(t){console.error("Swap failed:",t);let e=t instanceof Error?t.message:"Swap failed";return e.includes("block height exceeded")?u("Transaction expired. Please try again."):e.includes("insufficient")?u("Insufficient balance for this swap."):u(e),o("error"),null}},[t,n,e,r]),status:a,error:l,reset:c}}(),C=(0,s.useMemo)(()=>{if(!T)return"";let e=$(u),t=e?.decimals??9;return(Number(T.outAmount)/Math.pow(10,t)).toString()},[T,u]),E=async()=>{if(!T||!x)return;let e=Math.floor(parseFloat(c)*Math.pow(10,x.decimals));await k({inputMint:r,outputMint:u,amount:e,slippageBps:d})&&(f(""),setTimeout(I,3e3))},P=R||"preparing"===j||"signing"===j||"confirming"===j,L=parseFloat(c||"0")>S,O=(0,s.useMemo)(()=>e?"preparing"===j?"Preparing...":"signing"===j?"Confirm in Wallet...":"confirming"===j?"Confirming...":"success"===j?"Swap Successful!":"error"===j?"Swap Failed":!c||0>=parseFloat(c)?"Enter Amount":L?"Insufficient Balance":R?"Fetching Quote...":A?"Unable to Quote":"Swap":"Connect Wallet",[e,j,c,L,R,A]),N=!e||P||!c||0>=parseFloat(c)||L||!T||"success"===j;return(0,n.jsx)(o.Card,{className:"max-w-md mx-auto",children:(0,n.jsxs)(o.CardContent,{className:"p-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(y,{label:"You Pay",mint:r,amount:c,onMintChange:p,onAmountChange:f,disabled:P}),(0,n.jsx)("div",{className:"flex justify-center -my-1 relative z-10",children:(0,n.jsx)("button",{onClick:g,disabled:P,className:"p-2 bg-white border border-surface-200 rounded-xl hover:bg-surface-50 transition-colors disabled:opacity-50",children:(0,n.jsx)("svg",{className:"w-5 h-5 text-surface-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})})}),(0,n.jsx)(y,{label:"You Receive",mint:u,amount:C,onMintChange:h,onAmountChange:()=>{},readOnly:!0,disabled:P})]}),(0,n.jsx)(b,{quote:T??null,outputMint:u}),M&&(0,n.jsx)("p",{className:"mt-4 text-sm text-red-600 text-center",children:M}),(0,n.jsx)(l.Button,{className:"w-full mt-6",size:"lg",disabled:N&&e,loading:P,onClick:e?E:()=>t(!0),children:O})]})})}function Z(){let e=(0,r.useSearchParams)().get("asset"),{setOutputMint:t}=v();return(0,s.useEffect)(()=>{e&&(0,d.getAssetByMint)(e)&&t(e)},[e,t]),(0,n.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-6",children:[(0,n.jsxs)("div",{className:"text-center mb-6",children:[(0,n.jsx)("h1",{className:"text-xl font-bold",children:"Trade"}),(0,n.jsx)("p",{className:"text-surface-600 text-sm mt-1",children:"Swap USDC for tokenized assets"})]}),(0,n.jsx)(Y,{})]})}function ee(){return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{className:"max-w-lg mx-auto px-4 py-6",children:"Loading..."}),children:(0,n.jsx)(Z,{})})}e.s(["default",()=>ee],4444)}]);