(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62228,16994,e=>{"use strict";var t=e.i(9428);let r={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},n={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};e.s(["errorCodes",()=>r,"errorValues",()=>n],16994);var i=function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};let o=r.rpc.internal;function a(e){return Number.isInteger(e)}function s(e){return"string"==typeof e&&e.length>0}function l(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function f(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}function d(e){return!!e&&!!a(e.code)&&!!s(e.message)&&(!e.stack||!!s(e.stack))}function u(e,t="Unspecified error message. This is a bug, please report it."){if(a(e)){let t=e.toString();if(i(n,t))return n[t].message;if(e>=-32099&&e<=-32e3)return"Unspecified server error."}return t}let c={code:o,message:u(o)};function h(e){try{JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"===e||"constructor"===e||"function"==typeof t||"symbol"==typeof t)throw Error("Not valid json");return t}),(e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})}catch{return!1}return!0}function g(e){return Object.getOwnPropertyNames(e).reduce((t,r)=>{let n=e[r];return h(n)&&(t[r]=n),t},{})}function p(e){return Array.isArray(e)?e.map(e=>h(e)?e:l(e)?g(e):null):l(e)?g(e):h(e)?e:null}function m(e,{fallbackError:r=c,shouldIncludeStack:n=!0}={}){if(!d(r))throw Error("Must provide fallback error with integer number code and string message.");let i=function(e,r){if(e&&"object"==typeof e&&"serialize"in e&&"function"==typeof e.serialize)return e.serialize();if(d(e))return e;let n=p(e);return(0,t.default)((0,t.default)({},r),{},{data:{cause:n}})}(e,r);return n||delete i.stack,i}function y(e){return l(e)&&i(e,"cause")&&l(e.cause)}e.s(["dataHasCause",()=>y,"getMessageFromCode",()=>u,"isPlainObject",()=>f,"serializeCause",()=>p,"serializeJrpcError",()=>m],62228)},90101,e=>{"use strict";var t=e.i(11577),r=e.i(84723),n=e.i(62228),i=function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};function o(e,t){if("[Circular]"!==t)return t}class a extends Error{constructor(e,r,o){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!r||"string"!=typeof r)throw Error('"message" must be a non-empty string.');(0,n.dataHasCause)(o)?(super(r,{cause:o.cause}),(0,t.default)(this,"cause",void 0),(0,t.default)(this,"code",void 0),(0,t.default)(this,"data",void 0),i(this,"cause")||Object.assign(this,{cause:o.cause})):(super(r),(0,t.default)(this,"cause",void 0),(0,t.default)(this,"code",void 0),(0,t.default)(this,"data",void 0)),void 0!==o&&(this.data=o),this.code=e,this.cause=null==o?void 0:o.cause}serialize(){let e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,(0,n.isPlainObject)(this.data)&&(e.data.cause=(0,n.serializeCause)(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,r.default)(this.serialize(),{replacer:o,space:2})}}class s extends a{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}e.s(["EthereumProviderError",()=>s,"JsonRpcError",()=>a])},4521,e=>{"use strict";var t=e.i(90101),r=e.i(16994),n=e.i(62228);function i(e){if(e){if("string"==typeof e)return[e];else if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[null!=t?t:void 0,r]}}return[]}function o(e,r){let[o,a]=i(r);return new t.JsonRpcError(e,null!=o?o:(0,n.getMessageFromCode)(e),a)}function a(e,r){let[o,a]=i(r);return new t.EthereumProviderError(e,null!=o?o:(0,n.getMessageFromCode)(e),a)}let s={parse:e=>o(r.errorCodes.rpc.parse,e),invalidRequest:e=>o(r.errorCodes.rpc.invalidRequest,e),invalidParams:e=>o(r.errorCodes.rpc.invalidParams,e),methodNotFound:e=>o(r.errorCodes.rpc.methodNotFound,e),internal:e=>o(r.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return o(t,e)},invalidInput:e=>o(r.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>o(r.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>o(r.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>o(r.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>o(r.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>o(r.errorCodes.rpc.limitExceeded,e)},l={userRejectedRequest:e=>a(r.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(r.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(r.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(r.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(r.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:r,message:n,data:i}=e;if(!n||"string"!=typeof n)throw Error('"message" must be a nonempty string');return new t.EthereumProviderError(r,n,i)}};e.s(["providerErrors",()=>l,"rpcErrors",()=>s])},71901,e=>{"use strict";let t=e.i(86325).default.getLogger("auth");t.setLevel("error"),e.s(["log",()=>t])},69228,e=>{"use strict";var t=e.i(11577),r=e.i(84723);class n extends Error{constructor({code:e,message:r,data:n}){if(!Number.isInteger(e))throw Error("code must be an integer");if(!r||"string"!=typeof r)throw Error("message must be string");super(r),(0,t.default)(this,"code",void 0),(0,t.default)(this,"data",void 0),this.code=e,void 0!==n&&(this.data=n)}toString(){return(0,r.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}}e.s(["SerializableError",()=>n])},71488,e=>{"use strict";var t=e.i(9428),r=e.i(11577);e.i(56227);var n=e.i(71901),i=e.i(62228),o=e.i(31317),a=e.i(69228),s=e.i(16994),l=e.i(90101);function f(e){let{message:t="",code:r=-32603,stack:n="Stack trace is not available.",data:o=""}=e,a=parseInt((null==r?void 0:r.toString())||"-32603");return{message:t||(null==e?void 0:e.toString())||(0,i.getMessageFromCode)(a),code:a,stack:n,data:o||t||(null==e?void 0:e.toString())}}class d extends o.SafeEventEmitter{constructor(){super(),(0,r.default)(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,r){let n=[],i=null,o=!1;for(let a of r)if([i,o]=await d._runMiddleware(e,t,a,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,o){return new Promise(s=>{let l=e=>{let r=e||t.error;r&&("object"==typeof r&&!1===Object.keys(r).includes("stack")&&(r.stack="Stack trace is not available."),n.log.error(r),t.error=(0,i.serializeJrpcError)(r,{shouldIncludeStack:!0,fallbackError:f(r)})),s([r,!0])};try{r(e,t,e=>{t.error?l(t.error):(e&&("function"!=typeof e&&l(new a.SerializableError({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),o.push(e)),s([null,!1]))},l)}catch(e){l(e)}})}static async _runReturnHandlers(e){for(let t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new a.SerializableError({code:-32603,message:"Response has no error or result for request"});if(!r)throw new a.SerializableError({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{let[i,o,a]=await d._runAllMiddleware(e,t,this._middleware);if(o)return await d._runReturnHandlers(a),n(i);return r(async e=>{try{await d._runReturnHandlers(a)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));if(t)return t(null,r);return r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t,r)=>{this._handle(e,(e,n)=>{e&&void 0===n?r(e):t(n)}).catch(r)})}async _handle(e,r){if(!e||Array.isArray(e)||"object"!=typeof e){let e=new a.SerializableError({code:-32603,message:"request must be plain object"});return r(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!=typeof e.method){let t=new a.SerializableError({code:-32603,message:"method must be string"});return r(t,{id:e.id,jsonrpc:"2.0",error:t})}let o=(0,t.default)({},e),s={id:o.id,jsonrpc:o.jsonrpc},l=null;try{await this._processRequest(o,s)}catch(e){l=e}return l&&(delete s.result,s.error||("object"==typeof l&&!1===Object.keys(l).includes("stack")&&(l.stack="Stack trace is not available."),n.log.error(l),s.error=(0,i.serializeJrpcError)(l,{shouldIncludeStack:!0,fallbackError:f(l)}))),r(l,s)}async _processRequest(e,t){let[r,n,i]=await d._runAllMiddleware(e,t,this._middleware);if(d._checkForCompletion(e,t,n),await d._runReturnHandlers(i),r)throw r}}function u(e){let t=new d;return e.forEach(e=>{t.push(e)}),t.asMiddleware()}function c(e){let r=new o.SafeEventEmitter;return r.sendAsync=async t=>{let r=await e.handle(t);if(r.error){var o,a;"object"==typeof r.error&&!1===Object.keys(r.error).includes("stack")&&(r.error.stack="Stack trace is not available."),n.log.error(r.error);let e=(0,i.serializeJrpcError)(r.error,{fallbackError:f(r.error),shouldIncludeStack:!0}),t=null!=(o=null==e?void 0:e.code)?o:s.errorCodes.rpc.internal;throw new l.JsonRpcError(t,null!=(a=null==e?void 0:e.message)?a:(0,i.getMessageFromCode)(t),null==e?void 0:e.data)}return r.result},r.send=(t,r)=>{if("function"!=typeof r)throw Error('Must provide callback to "send" method.');e.handle(t,r)},e.on&&e.on("notification",e=>{r.emit("data",null,e)}),r.request=async e=>{let n=(0,t.default)((0,t.default)({},e),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await r.sendAsync(n)},r}e.s(["JRPCEngine",()=>d,"mergeMiddleware",()=>u,"providerFromEngine",()=>c])},22873,5132,e=>{"use strict";var t=e.i(9428),r=e.i(11577),n=e.i(31317);class i extends n.SafeEventEmitter{constructor({config:e={},state:t={}}){super(),(0,r.default)(this,"defaultConfig",{}),(0,r.default)(this,"defaultState",{}),(0,r.default)(this,"disabled",!1),(0,r.default)(this,"name","BaseController"),(0,r.default)(this,"initialConfig",void 0),(0,r.default)(this,"initialState",void 0),(0,r.default)(this,"internalConfig",this.defaultConfig),(0,r.default)(this,"internalState",this.defaultState),this.initialState=t,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,r=!0){if(r)for(let r in this.internalConfig=t?e:Object.assign(this.internalConfig,e),this.internalConfig)void 0!==this.internalConfig[r]&&(this[r]=this.internalConfig[r]);else for(let t in e)void 0!==this.internalConfig[t]&&(this.internalConfig[t]=e[t],this[t]=e[t])}update(e,r=!1){this.internalState=r?(0,t.default)({},e):(0,t.default)((0,t.default)({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}e.s(["BaseController",()=>i],22873);let o=()=>!0,a=["newListener","removeListener"],s=e=>!a.includes(e);function l(e,t){let r=(t||{}).eventFilter||o;if("string"==typeof r&&"skipInternal"===r&&(r=s),"function"!=typeof r)throw Error("createEventEmitterProxy - Invalid eventFilter");let n=e,i=e=>{if(n===e)return;let t=n;n=e,t.eventNames().filter(r).forEach(r=>{(void 0!==t.rawListeners?t.rawListeners(r):t.listeners(r)).forEach(t=>{e.on(r,t)})}),t.removeAllListeners()};return new Proxy({},{get:(e,t)=>"setTarget"===t?i:n[t],set:(e,t,r)=>("setTarget"===t?i=r:n[t]=r,!0),has:(e,t)=>"_"!==t[0]&&t in n})}e.s(["createEventEmitterProxy",()=>l],5132)},22942,(e,t,r)=>{t.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},61690,62155,e=>{"use strict";var t,r=e.i(9428),n=e.i(11577),i=e.i(22873),o=e.i(5132),a=e.i(4521);let s=(0,e.i(22942).default)(),l=((t={}).ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.CONNECT="connect",t.DISCONNECT="disconnect",t.MESSAGE="message",t);e.s(["EIP1193_EVENTS",()=>l,"createRandomId",()=>s],62155);var f=e.i(69146);class d extends i.BaseController{constructor({config:e,state:t}){super({config:e,state:t}),(0,n.default)(this,"_providerEngineProxy",null),(0,n.default)(this,"keyExportFlagSetByCode",!1);const{chain:r}=e;if(!r)throw f.WalletInitializationError.invalidProviderConfigError("Please provide chain");if(!r.chainId)throw f.WalletInitializationError.invalidProviderConfigError("Please provide chainId inside chain");if(!r.rpcTarget)throw f.WalletInitializationError.invalidProviderConfigError("Please provide rpcTarget inside chain");"boolean"==typeof e.keyExportEnabled&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:"boolean"!=typeof e.keyExportEnabled||e.keyExportEnabled},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw Error("Method not implemented.")}async request(e){var t;if(!e||"object"!=typeof e||Array.isArray(e))throw a.rpcErrors.invalidRequest({message:f.WalletProviderError.invalidRequestArgs().message,data:(0,r.default)((0,r.default)({},e||{}),{},{cause:f.WalletProviderError.invalidRequestArgs().message})});let{method:n,params:i}=e;if("string"!=typeof n||0===n.length)throw a.rpcErrors.invalidRequest({message:f.WalletProviderError.invalidRequestMethod().message,data:(0,r.default)((0,r.default)({},e||{}),{},{cause:f.WalletProviderError.invalidRequestMethod().message})});if(void 0!==i&&!Array.isArray(i)&&("object"!=typeof i||null===i))throw a.rpcErrors.invalidRequest({message:f.WalletProviderError.invalidRequestParams().message,data:(0,r.default)((0,r.default)({},e||{}),{},{cause:f.WalletProviderError.invalidRequestParams().message})});return null==(t=this.provider)?void 0:t.request(e)}sendAsync(e,t){return t?this.send(e,t):this.request(e)}send(e,t){this.request(e).then(e=>t(null,{result:e})).catch(e=>t(e,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);let t=t=>{"newListener"!==t&&e.on(t,(...e)=>{if(t===l.CHAIN_CHANGED){let t=e[0];this.update({chainId:t})}this.emit(t,...e)})};this.eventNames().forEach(e=>{t(e)}),this.on("newListener",e=>{this.listenerCount(e)>0||t(e)})}else this._providerEngineProxy=(0,o.createEventEmitterProxy)(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(t=>t.chainId===e)}}e.s(["BaseProvider",()=>d],61690)},3589,e=>{"use strict";function t(e){return(t,r,n,i)=>{let o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}function r(e){return async(t,r,n,i)=>{let o,a=new Promise(e=>{o=e}),s=null,l=!1,f=async()=>{l=!0,n(e=>{s=e,o()}),await a};try{await e(t,r,f),l?(await a,s(null)):i(null)}catch(e){s?s(e):i(e)}}}e.i(56227),e.i(31317),e.i(69228),e.s(["createAsyncMiddleware",()=>r,"createScaffoldMiddleware",()=>t])},52537,88818,61219,99240,22232,46976,70459,e=>{"use strict";let t,r,n;e.s([],88818);var i,o,a=e.i(44314),s=e.i(70525),l=e.i(40965);let f=BigInt(0),d=BigInt(1);function u(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function c(e){if(!u(e))throw Error("Uint8Array expected")}function h(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function g(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function p(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?f:BigInt("0x"+e)}let m="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,y=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function b(e){if(c(e),m)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=y[e[r]];return t}function w(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function E(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(m)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=w(e.charCodeAt(i)),o=w(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function v(e){return p(b(e))}function B(e){return c(e),p(b(Uint8Array.from(e).reverse()))}function x(e,t){return E(e.toString(16).padStart(2*t,"0"))}function I(e,t){return x(e,t).reverse()}function S(e,t,r){let n;if("string"==typeof t)try{n=E(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(u(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function A(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];c(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let R=e=>"bigint"==typeof e&&f<=e;function O(e,t,r){return R(e)&&R(t)&&R(r)&&t<=e&&e<r}function C(e,t,r,n){if(!O(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let P=e=>(d<<BigInt(e))-d,N=e=>new Uint8Array(e),q={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||u(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function T(e,t,r={}){let n=(t,r,n)=>{let i=q[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function U(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let k=BigInt(0),j=BigInt(1),_=BigInt(2),z=BigInt(3),M=BigInt(4),F=BigInt(5),H=BigInt(8);function L(e,t){let r=e%t;return r>=k?r:t+r}function Z(e,t,r){let n=e;for(;t-- >k;)n*=n,n%=r;return n}function D(e,t){if(e===k)throw Error("invert: expected non-zero number");if(t<=k)throw Error("invert: expected positive modulus, got "+t);let r=L(e,t),n=t,i=k,o=j,a=j,s=k;for(;r!==k;){let e=n/r,t=n%r,l=i-a*e,f=o-s*e;n=r,r=t,i=a,o=s,a=l,s=f}if(n!==j)throw Error("invert: does not exist");return L(i,t)}let V=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function W(e){return T(e,V.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function $(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function J(e,t){let r=function(e,t){let r=(e.ORDER-j)/_,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw Error("Cannot find square root: probably non-prime P");return i?1:o?0:-1}(e,t);return 0===r||1===r}function K(e,t){void 0!==t&&(0,s.anumber)(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function G(e,t,r=!1,n={}){let i;if(e<=k)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:a}=K(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let s=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:a,MASK:P(o),ZERO:k,ONE:j,create:t=>L(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return k<=t&&t<e},is0:e=>e===k,isOdd:e=>(e&j)===j,neg:t=>L(-t,e),eql:(e,t)=>e===t,sqr:t=>L(t*t,e),add:(t,r)=>L(t+r,e),sub:(t,r)=>L(t-r,e),mul:(t,r)=>L(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<k)throw Error("invalid exponent, negatives unsupported");if(r===k)return e.ONE;if(r===j)return t;let n=e.ONE,i=t;for(;r>k;)r&j&&(n=e.mul(n,i)),i=e.sqr(i),r>>=j;return n})(s,e,t),div:(t,r)=>L(t*D(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>D(t,e),sqrt:n.sqrt||(t=>(i||(i=e%M===z?function(t,r){let n=t.pow(r,(e+j)/M);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}:e%H===F?function(t,r){let n=t.mul(r,_),i=t.pow(n,(e-F)/H),o=t.mul(r,i),a=t.mul(t.mul(o,_),i),s=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(s),r))throw Error("Cannot find square root");return s}:function(e){let t=e-j,r=0;for(;t%_===k;)t/=_,r++;let n=_,i=G(e);for(;n<e&&J(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r){let t=(e+j)/M;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(t+j)/_;return function(e,i){if(!J(e,i))throw Error("Cannot find square root");let a=r,s=e.pow(e.mul(e.ONE,n),t),l=e.pow(i,o),f=e.pow(i,t);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(f);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(s,j<<BigInt(a-t-1));s=e.sqr(r),l=e.mul(l,r),f=e.mul(f,s),a=t}return l}}(e)),i(s,t))),toBytes:e=>r?I(e,a):x(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?B(e):v(e)},invertBatch:e=>$(s,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(s)}function Y(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function X(e){let t=Y(e);return t+Math.ceil(t/2)}let Q=BigInt(0),ee=BigInt(1);function et(e,t){let r=t.negate();return e?r:t}function er(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function en(e,t){er(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:P(e),maxNumber:i,shiftBy:BigInt(e)}}function ei(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(e&i),l=e>>a;s>n&&(s-=o,l+=ee);let f=t*n,d=f+Math.abs(s)-1,u=0===s;return{nextN:l,offset:d,isZero:u,isNeg:s<0,isNegF:t%2!=0,offsetF:f}}let eo=new WeakMap,ea=new WeakMap;function es(e){return ea.get(e)||1}function el(e){return W(e.Fp),T(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...K(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}function ef(e){void 0!==e.lowS&&h("lowS",e.lowS),void 0!==e.prehash&&h("prehash",e.prehash)}let ed={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=ed;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=g(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?g(i.length/2|128):"";return g(e)+o+i+t},decode(e,t){let{Err:r}=ed,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ed;if(e<eu)throw new t("integer: negative integers are not allowed");let r=g(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ed;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ed,i=S("signature",e),{v:o,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:s,l:l}=n.decode(2,o),{v:f,l:d}=n.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(f)}},hexFromSig(e){let{_tlv:t,_int:r}=ed,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},eu=BigInt(0),ec=BigInt(1),eh=BigInt(2),eg=BigInt(3),ep=BigInt(4),em=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ey=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eb=BigInt(1),ew=BigInt(2),eE=(e,t)=>(e+t/ew)/t,ev=G(em,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),l=e*e*e%em,f=l*l*e%em,d=Z(f,t,em)*f%em,u=Z(d,t,em)*f%em,c=Z(u,ew,em)*l%em,h=Z(c,n,em)*c%em,g=Z(h,i,em)*h%em,p=Z(g,a,em)*g%em,m=Z(p,s,em)*p%em,y=Z(m,a,em)*g%em,b=Z(y,t,em)*f%em,w=Z(b,o,em)*h%em,E=Z(w,r,em)*l%em,v=Z(E,ew,em);if(!ev.eql(ev.sqr(v),e))throw Error("Cannot find square root");return v}}),eB=(i={a:BigInt(0),b:BigInt(7),Fp:ev,n:ey,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eb*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=eE(t*e,ey),a=eE(-r*e,ey),s=L(e-o*t-a*n,ey),l=L(-o*r-a*t,ey),f=s>i,d=l>i;if(f&&(s=ey-s),d&&(l=ey-l),s>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:s,k2neg:d,k2:l}}}},o=a.sha256,{...(t=e=>(function(e){let t,r=(T(t=el(e),{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})),{Fp:n,n:i}=r,o=n.BYTES+1,a=2*n.BYTES+1;function s(e){return L(e,i)}let{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:g,isWithinCurveOrder:p}=function(e){var t;let r=function(e){let t=el(e);T(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=r,i=G(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return A(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){let{a:t,b:i}=r,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,t)),i)}if(!n.eql(n.sqr(r.Gy),s(r.Gx)))throw Error("bad generator point: equation left != right");function l(e){let t,{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:a}=r;if(n&&"bigint"!=typeof e){if(u(e)&&(e=b(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:v(S("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=L(t,a)),C("private key",t,ec,a),t}function c(e){if(!(e instanceof m))throw Error("ProjectivePoint expected")}let g=U((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));let s=n.mul(r,t),l=n.mul(i,t),f=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(f,n.ONE))throw Error("invZ was invalid");return{x:s,y:l}}),p=U(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");let o=n.sqr(i),a=s(t);if(!n.eql(o,a))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class m{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof m)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?m.ZERO:new m(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=$(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(m.fromAffine)}static fromHex(e){let t=m.fromAffine(a(S("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return m.BASE.multiply(l(e))}static msm(e,t){return function(e,t,r,n){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(n))throw Error("array of scalars expected");if(n.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)}),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,o=function(e){let t;for(t=0;e>f;e>>=d,t+=1);return t}(BigInt(r.length)),a=o>12?o-3:o>4?o-2:o?2:1,s=P(a),l=Array(Number(s)+1).fill(i),u=Math.floor((t.BITS-1)/a)*a,c=i;for(let e=u;e>=0;e-=a){l.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&s);l[i]=l[i].add(r[t])}let t=i;for(let e=l.length-1,r=i;e>0;e--)r=r.add(l[e]),t=t.add(r);if(c=c.add(t),0!==e)for(let e=0;e<a;e++)c=c.double()}return c}(m,i,e,t)}_setWindowSize(e){w.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);let{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,l=n.eql(n.mul(t,s),n.mul(o,i)),f=n.eql(n.mul(r,s),n.mul(a,i));return l&&f}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,eg),{px:o,py:a,pz:s}=this,l=n.ZERO,f=n.ZERO,d=n.ZERO,u=n.mul(o,o),c=n.mul(a,a),h=n.mul(s,s),g=n.mul(o,a);return g=n.add(g,g),d=n.mul(o,s),d=n.add(d,d),l=n.mul(e,d),f=n.mul(i,h),f=n.add(l,f),l=n.sub(c,f),f=n.add(c,f),f=n.mul(l,f),l=n.mul(g,l),d=n.mul(i,d),h=n.mul(e,h),g=n.sub(u,h),g=n.mul(e,g),g=n.add(g,d),d=n.add(u,u),u=n.add(d,u),u=n.add(u,h),u=n.mul(u,g),f=n.add(f,u),h=n.mul(a,s),h=n.add(h,h),u=n.mul(h,g),l=n.sub(l,u),d=n.mul(h,c),d=n.add(d,d),new m(l,f,d=n.add(d,d))}add(e){c(e);let{px:t,py:i,pz:o}=this,{px:a,py:s,pz:l}=e,f=n.ZERO,d=n.ZERO,u=n.ZERO,h=r.a,g=n.mul(r.b,eg),p=n.mul(t,a),y=n.mul(i,s),b=n.mul(o,l),w=n.add(t,i),E=n.add(a,s);w=n.mul(w,E),E=n.add(p,y),w=n.sub(w,E),E=n.add(t,o);let v=n.add(a,l);return E=n.mul(E,v),v=n.add(p,b),E=n.sub(E,v),v=n.add(i,o),f=n.add(s,l),v=n.mul(v,f),f=n.add(y,b),v=n.sub(v,f),u=n.mul(h,E),f=n.mul(g,b),u=n.add(f,u),f=n.sub(y,u),u=n.add(y,u),d=n.mul(f,u),y=n.add(p,p),y=n.add(y,p),b=n.mul(h,b),E=n.mul(g,E),y=n.add(y,b),b=n.sub(p,b),b=n.mul(h,b),E=n.add(E,b),p=n.mul(y,E),d=n.add(d,p),p=n.mul(v,E),f=n.mul(w,f),f=n.sub(f,p),p=n.mul(w,y),u=n.mul(v,u),new m(f,d,u=n.add(u,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(m.ZERO)}wNAF(e){return w.wNAFCached(this,e,m.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;C("scalar",e,eu,i);let o=m.ZERO;if(e===eu)return o;if(this.is0()||e===ec)return this;if(!t||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,e,m.normalizeZ);let{k1neg:a,k1:s,k2neg:l,k2:f}=t.splitScalar(e),d=o,u=o,c=this;for(;s>eu||f>eu;)s&ec&&(d=d.add(c)),f&ec&&(u=u.add(c)),c=c.double(),s>>=ec,f>>=ec;return a&&(d=d.negate()),l&&(u=u.negate()),u=new m(n.mul(u.px,t.beta),u.py,u.pz),d.add(u)}multiply(e){let t,i,{endo:o,n:a}=r;if(C("scalar",e,ec,a),o){let{k1neg:r,k1:a,k2neg:s,k2:l}=o.splitScalar(e),{p:f,f:d}=this.wNAF(a),{p:u,f:c}=this.wNAF(l);f=w.constTimeNegate(r,f),u=w.constTimeNegate(s,u),u=new m(n.mul(u.px,o.beta),u.py,u.pz),t=f.add(u),i=d.add(c)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return m.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=m.BASE,i=(e,t)=>t!==eu&&t!==ec&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return g(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===ec)return!0;if(t)return t(m,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===ec?this:t?t(m,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return h("isCompressed",e),this.assertValidity(),o(m,this,e)}toHex(e=!0){return h("isCompressed",e),b(this.toRawBytes(e))}}m.BASE=new m(r.Gx,r.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);let y=r.nBitLength,w=(t=r.endo?Math.ceil(y/2):y,{constTimeNegate:et,hasPrecomputes:e=>1!==es(e),unsafeLadder(e,t,r=m.ZERO){let n=e;for(;t>Q;)t&ee&&(r=r.add(n)),n=n.double(),t>>=ee;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=en(r,t),o=[],a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(e,r,n){let i=m.ZERO,o=m.BASE,a=en(e,t);for(let e=0;e<a.windows;e++){let{nextN:t,offset:s,isZero:l,isNeg:f,isNegF:d,offsetF:u}=ei(n,e,a);n=t,l?o=o.add(et(d,r[u])):i=i.add(et(f,r[s]))}return{p:i,f:o}},wNAFUnsafe(e,r,n,i=m.ZERO){let o=en(e,t);for(let e=0;e<o.windows&&n!==Q;e++){let{nextN:t,offset:a,isZero:s,isNeg:l}=ei(n,e,o);if(n=t,!s){let e=r[a];i=i.add(l?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=eo.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&eo.set(t,r(n))),n},wNAFCached(e,t,r){let n=es(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=es(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){er(r,t),ea.set(e,r),eo.delete(e)}});return{CURVE:r,ProjectivePoint:m,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:function(e){return O(e,ec,r.n)}}}({...r,toBytes(e,t,r){let i=t.toAffine(),o=n.toBytes(i.x);return(h("isCompressed",r),r)?A(Uint8Array.from([t.hasEvenY()?2:3]),o):A(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){let t=e.length,r=e[0],i=e.subarray(1);if(t===o&&(2===r||3===r)){let e,t=v(i);if(!O(t,ec,n.ORDER))throw Error("Point is not on curve");let o=g(t);try{e=n.sqrt(o)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&r)==1!=((e&ec)===ec)&&(e=n.neg(e)),{x:t,y:e}}if(t===a&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw Error("invalid Point, expected length of "+o+", or uncompressed "+a+", got "+t)}}),m=e=>b(x(e,r.nByteLength)),y=(e,t,r)=>v(e.slice(t,r));class w{constructor(e,t,r){C("r",e,ec,i),C("s",t,ec,i),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let t=r.nByteLength;return new w(y(e=S("compactSignature",e,2*t),0,t),y(e,t,2*t))}static fromDER(e){let{r:t,s:r}=ed.toSig(S("DER",e));return new w(t,r)}assertValidity(){}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(e){let{r:t,s:o,recovery:a}=this,f=k(S("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let d=2===a||3===a?t+r.n:t;if(d>=n.ORDER)throw Error("recovery id 2 or 3 invalid");let u=(1&a)==0?"02":"03",c=l.fromHex(u+m(d)),h=D(d,i),g=s(-f*h),p=s(o*h),y=l.BASE.multiplyAndAddUnsafe(c,g,p);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>i>>ec}normalizeS(){return this.hasHighS()?new w(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return E(this.toDERHex())}toDERHex(){return ed.hexFromSig(this)}toCompactRawBytes(){return E(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}function R(e){let t=u(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===o||n===a:r?n===2*o||n===2*a:e instanceof l}let q=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),n=8*e.length-r.nBitLength;return n>0?t>>BigInt(n):t},k=r.bits2int_modN||function(e){return s(q(e))},_=P(r.nBitLength);function z(e){return C("num < 2^"+r.nBitLength,e,eu,_),x(e,r.nByteLength)}let M={lowS:r.lowS,prehash:!1},F={lowS:r.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(R(e))throw Error("first arg must be private key");if(!R(t))throw Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,t,o=M){let{seed:a,k2sig:f}=function(e,t,o=M){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:a,randomBytes:f}=r,{lowS:d,prehash:u,extraEntropy:h}=o;null==d&&(d=!0),e=S("msgHash",e),ef(o),u&&(e=S("prehashed msgHash",a(e)));let g=k(e),m=c(t),y=[z(m),z(g)];if(null!=h&&!1!==h){let e=!0===h?f(n.BYTES):h;y.push(S("extraEntropy",e))}return{seed:A(...y),k2sig:function(e){var t;let r=q(e);if(!p(r))return;let n=D(r,i),o=l.BASE.multiply(r).toAffine(),a=s(o.x);if(a===eu)return;let f=s(n*s(g+a*m));if(f===eu)return;let u=2*(o.x!==a)|Number(o.y&ec),c=f;return d&&f>i>>ec&&(c=(t=f)>i>>ec?s(-t):t,u^=1),new w(a,c,u)}}}(e,t,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=N(e),i=N(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),l=(e=N(0))=>{let t;if(i=s((t=[0],Uint8Array.from(t)),e),n=s(),0!==e.length){let t;i=s((t=[1],Uint8Array.from(t)),e),n=s()}},f=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=s()).slice();r.push(t),e+=n.length}return A(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(f()));)l();return a(),r}})(r.hash.outputLen,r.nByteLength,r.hmac)(a,f)},verify:function(e,t,n,o=F){let a,f;t=S("msgHash",t),n=S("publicKey",n);let{lowS:d,prehash:c,format:h}=o;if(ef(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw Error("format must be compact or der");let g="string"==typeof e||u(e),p=!g&&!h&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!g&&!p)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(p&&(f=new w(e.r,e.s)),g){try{"compact"!==h&&(f=w.fromDER(e))}catch(e){if(!(e instanceof ed.Err))throw e}f||"der"===h||(f=w.fromCompact(e))}a=l.fromHex(n)}catch(e){return!1}if(!f||d&&f.hasHighS())return!1;c&&(t=r.hash(t));let{r:m,s:y}=f,b=k(t),E=D(y,i),v=s(b*E),B=s(m*E),x=l.BASE.multiplyAndAddUnsafe(a,v,B)?.toAffine();return!!x&&s(x.x)===m},ProjectivePoint:l,Signature:w,utils:{isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=X(r.n);return function(e,t,r=!1){let n=e.length,i=Y(t),o=X(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let a=L(r?B(e):v(e),t-j)+j;return r?I(a,i):x(a,i)}(r.randomBytes(e),r.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...i,...{hash:e,hmac:(t,...r)=>(0,l.hmac)(e,t,(0,s.concatBytes)(...r)),randomBytes:s.randomBytes}}))(o),create:t}),ex=(BigInt(0),{});eB.ProjectivePoint;let eI=(r=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[n,i,o,a]=r.map(t=>t.reduce((t,r)=>ev.add(ev.mul(t,e),r))),[s,l]=$(ev,[i,a],!0);return e=ev.mul(n,s),t=ev.mul(t,ev.mul(o,l)),{x:e,y:t}}),eS=function(e,t){if(W(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(e,t){let r=e.ORDER,n=eu;for(let e=r-ec;e%eh===eu;e/=eh)n+=ec;let i=n,o=eh<<i-ec-ec,a=o*eh,s=(r-ec)/a,l=(s-ec)/eh,f=a-ec,d=e.pow(t,s),u=e.pow(t,(s+ec)/eh),c=(t,r)=>{let n=d,a=e.pow(r,f),s=e.sqr(a);s=e.mul(s,r);let c=e.mul(t,s);c=e.pow(c,l),c=e.mul(c,a),a=e.mul(c,r),s=e.mul(c,t);let h=e.mul(s,a);c=e.pow(h,o);let g=e.eql(c,e.ONE);a=e.mul(s,u),c=e.mul(h,n),s=e.cmov(a,s,g),h=e.cmov(c,h,g);for(let t=i;t>ec;t--){let r=t-eh;r=eh<<r-ec;let i=e.pow(h,r),o=e.eql(i,e.ONE);a=e.mul(s,n),n=e.mul(n,n),i=e.mul(h,n),s=e.cmov(a,s,o),h=e.cmov(i,h,o)}return{isValid:g,value:s}};if(e.ORDER%ep===eg){let r=(e.ORDER-eg)/ep,n=e.sqrt(e.neg(t));c=(t,i)=>{let o=e.sqr(i),a=e.mul(t,i);o=e.mul(o,a);let s=e.pow(o,r);s=e.mul(s,a);let l=e.mul(s,n),f=e.mul(e.sqr(s),i),d=e.eql(f,t),u=e.cmov(l,s,d);return{isValid:d,value:u}}}return c}(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let i,o,a,s,l,f,d,u;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),a=e.add(o,e.ONE),a=e.mul(a,t.B),s=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),s=e.mul(s,t.A),o=e.sqr(a),f=e.sqr(s),l=e.mul(f,t.A),o=e.add(o,l),o=e.mul(o,a),f=e.mul(f,s),l=e.mul(f,t.B),o=e.add(o,l),d=e.mul(i,a);let{isValid:c,value:h}=r(o,f);u=e.mul(i,n),u=e.mul(u,h),d=e.cmov(d,a,c),u=e.cmov(u,h,c);let g=e.isOdd(n)===e.isOdd(u);u=e.cmov(e.neg(u),u,g);let p=$(e,[s],!0)[0];return{x:d=e.mul(d,p),y:u}}}(ev,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ev.create(BigInt("-11"))});(function(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined")})(eB.ProjectivePoint,e=>{let{x:t,y:r}=eS(ev.create(e[0]));return eI(t,r)},(ev.ORDER,a.sha256)),e.s(["secp256k1",0,eB],61219);var eA=e.i(74891);function eR(e){let t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)}function eO(e){return t=>((0,eA.abytes)(t),e(t))}let eC=eO(a.sha256);e.s(["addHexPrefix",()=>e4,"bigInt64ToBytes",()=>td,"bigIntMax",()=>e7,"bigIntMin",()=>te,"bigIntToAddressBytes",()=>tr,"bigIntToBytes",()=>eJ,"bigIntToHex",()=>e9,"bigIntToUnpaddedBytes",()=>tt,"bitsToBytes",()=>th,"bytesToBigInt",()=>eD,"bytesToBigInt64",()=>tl,"bytesToBits",()=>tc,"bytesToHex",()=>eL,"bytesToInt",()=>eV,"bytesToInt32",()=>ts,"bytesToUnprefixedHex",()=>eM,"compareBytes",()=>ti,"concatBytes",()=>ta,"equalsBits",()=>tm,"fromSigned",()=>e8,"hexToBigInt",()=>tu,"hexToBytes",()=>eF,"int32ToBytes",()=>tf,"intToBytes",()=>e$,"intToHex",()=>eW,"intToUnpaddedBytes",()=>tn,"matchingBitsLength",()=>tp,"matchingBytesLength",()=>tg,"randomBytes",()=>to,"setLengthLeft",()=>eG,"setLengthRight",()=>eY,"short",()=>e6,"toBytes",()=>e1,"toUnsigned",()=>e3,"unpadArray",()=>e0,"unpadBytes",()=>eQ,"unpadHex",()=>e2,"unprefixedHexToBytes",()=>eH,"validateNoLeadingZeroes",()=>e5],8528);class eP extends Error{constructor(e,t,r){super(t??e.code),this.type=e,void 0!==r&&(this.stack=r)}getMetadata(){return this.type}toObject(){return{type:this.getMetadata(),message:this.message??"",stack:this.stack??"",className:this.constructor.name}}}function eN(e,t){return new eP({code:"ETHEREUMJS_DEFAULT_ERROR_CODE"},e,t)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eq(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(void 0===t||!(t>0)||e.length===2+2*t)}e.s(["isHexString",()=>eq,"padToEven",()=>eU,"stripHexPrefix",()=>eT],99240);let eT=e=>{if("string"!=typeof e)throw eN(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return eq(e)?e.slice(2):e};function eU(e){let t=e;if("string"!=typeof t)throw eN(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}let ek=function(e){if(!eq(e))throw eN(`This method only supports 0x-prefixed hex strings but input was: ${e}`)},ej=function(e){if(!(e instanceof Uint8Array))throw eN(`This method only supports Uint8Array but input was: ${e}`)},e_=function(e){if(!Array.isArray(e))throw eN(`This method only supports number arrays but input was: ${e}`)},ez=BigInt(0),eM=s.bytesToHex,eF=e=>{if(!e.startsWith("0x"))throw eN("input string must be 0x prefixed");return eR(eU(eT(e)))},eH=e=>{if(e.startsWith("0x"))throw eN("input string cannot be 0x prefixed");return eR(eU(e))},eL=e=>{let t=eM(e);return`0x${t}`},eZ=[];for(let e=0;e<=65535;e++)eZ[e]=BigInt(e);let eD=(e,t=!1)=>{t&&e.reverse();let r=eL(e);return"0x"===r?ez:4===r.length?eZ[e[0]]:6===r.length?eZ[256*e[0]+e[1]]:BigInt(r)},eV=e=>{let t=Number(eD(e));if(!Number.isSafeInteger(t))throw eN("Number exceeds 53 bits");return t},eW=e=>{if(!Number.isSafeInteger(e)||e<0)throw eN(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},e$=e=>eF(eW(e)),eJ=(e,t=!1)=>{let r=eF(`0x${eU(e.toString(16))}`);return t?r.reverse():r},eK=(e,t,r)=>r?e.length<t?new Uint8Array([...e,...new Uint8Array(t-e.length)]):e.subarray(0,t):e.length<t?new Uint8Array([...new Uint8Array(t-e.length),...e]):e.subarray(-t),eG=(e,t)=>(ej(e),eK(e,t,!1)),eY=(e,t)=>(ej(e),eK(e,t,!0)),eX=e=>{let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},eQ=e=>(ej(e),eX(e)),e0=e=>(e_(e),eX(e)),e2=e=>(ek(e),`0x${eX(eT(e))}`),e1=e=>{if(null==e)return new Uint8Array;if(Array.isArray(e)||e instanceof Uint8Array)return Uint8Array.from(e);if("string"==typeof e){if(!eq(e))throw eN(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${e}`);return eF(e)}if("number"==typeof e)return e$(e);if("bigint"==typeof e){if(e<ez)throw eN(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),eH(t)}if(void 0!==e.toBytes)return e.toBytes();throw eN("invalid type")},e8=e=>BigInt.asIntN(256,eD(e)),e3=e=>eJ(BigInt.asUintN(256,e)),e4=e=>"string"!=typeof e||eq(e)?e:`0x${e}`,e6=(e,t=50)=>{let r=e instanceof Uint8Array?eL(e):e,n="0x"===r.slice(0,2)?t+2:t;return r.length<=n?r:r.slice(0,n)+"â€¦"},e5=e=>{for(let[t,r]of Object.entries(e))if(void 0!==r&&r.length>0&&0===r[0])throw eN(`${t} cannot have leading zeroes, received: ${eL(r)}`)},e9=e=>`0x${e.toString(16)}`,e7=(...e)=>e.reduce((e,t)=>t>e?t:e),te=(...e)=>e.reduce((e,t)=>t<e?t:e),tt=e=>eQ(eJ(e)),tr=(e,t=!0)=>{let r=eJ(e);if(t&&r.length>20)throw Error(`Invalid address bytes length=${r.length} strict=${t}`);return eG(r,20)},tn=e=>eQ(e$(e)),ti=(e,t)=>{let r=eD(e),n=eD(t);return r>n?1:r<n?-1:0},to=e=>(0,s.randomBytes)(e),ta=(...e)=>{if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));for(let r=0,n=0;r<e.length;r++){let i=e[r];t.set(i,n),n+=i.length}return t};function ts(e,t=!1){return e.length<4&&(e=eK(e,4,t)),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(0,t)}function tl(e,t=!1){return e.length<8&&(e=eK(e,8,t)),new DataView(e.buffer,e.byteOffset,e.byteLength).getBigUint64(0,t)}function tf(e,t=!1){let r=new ArrayBuffer(4);return new DataView(r).setUint32(0,e,t),new Uint8Array(r)}function td(e,t=!1){let r=new ArrayBuffer(8);return new DataView(r).setBigUint64(0,e,t),new Uint8Array(r)}function tu(e){return eD(eF(eq(e)?e:`0x${e}`))}function tc(e,t){let r=[];for(let n=0;n<(t??8*e.length);n++){let t=Math.floor(n/8),i=7-n%8;r.push(e[t]>>i&1)}return r}function th(e){let t=new Uint8Array(Math.ceil(e.length/8));for(let r=0;r<e.length;r++){let n=Math.floor(r/8),i=7-r%8;t[n]|=e[r]<<i}return t}function tg(e,t){let r=0,n=Math.min(e.length,t.length);for(let i=0;i<n;i++)if(e[i]===t[i])r++;else break;return r}function tp(e,t){let r=0,n=Math.min(e.length,t.length);for(let i=0;i<n;i++)if(e[i]===t[i])r++;else break;return r}function tm(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),eB.CURVE.n,eB.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),eF("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),eF("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),eF("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),eC(new Uint8Array),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(1e9),BigInt(1e18);var ty=e.i(45535);eO(ty.keccak_224);let tb=((n=eO(ty.keccak_256)).create=ty.keccak_256.create,n);eO(ty.keccak_384),eO(ty.keccak_512),e.s(["keccak256",0,tb],22232),new Uint8Array(0),e.s(["hashPersonalMessage",0,function(e){return ej(e),tb(ta((0,s.utf8ToBytes)(`\u0019Ethereum Signed Message:
${e.length}`),e))}],46976),eF("0x05");e$(0),e$(1),BigInt(256),BigInt(31),e.s([],52537),e.i(8528),e.s(["addHexPrefix",0,e4,"bigIntToBytes",0,eJ,"bigIntToHex",0,e9,"bytesToBigInt",0,eD,"fromSigned",0,e8,"toUnsigned",0,e3],70459)}]);