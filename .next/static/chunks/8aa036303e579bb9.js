(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90571,t=>{"use strict";var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,r)};function r(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)0>e.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function i(t,e,r,n){return new(r||(r=Promise))(function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(a,s)}u((n=n.apply(t,e||[])).next())})}function a(t,e){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){var p=[s,u];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,p[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&p[0]?n.return:p[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,p[1])).done)return o;switch(n=0,o&&(p=[2&p[0],o.value]),p[0]){case 0:case 1:o=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,n=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===p[0]||2===p[0])){i=0;continue}if(3===p[0]&&(!o||p[1]>o[0]&&p[1]<o[3])){i.label=p[1];break}if(6===p[0]&&i.label<o[1]){i.label=o[1],o=p;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(p);break}o[2]&&i.ops.pop(),i.trys.pop();continue}p=e.call(t,i)}catch(t){p=[6,t],n=0}finally{r=o=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}}function s(t,e,r){if(r||2==arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError,t.s(["__assign",()=>n,"__awaiter",()=>i,"__extends",()=>r,"__generator",()=>a,"__rest",()=>o,"__spreadArray",()=>s])},88935,(t,e,r)=>{"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},7941,(t,e,r)=>{function n(t){return function(e,r,n,o){var i,s=o&&"function"==typeof o.normalizer?o.normalizer:a;r=s(r);for(var u=!1;!u;)!function(){for(i in e){var t=s(i);if(0===r.indexOf(t)){var n=r.substr(t.length);if("."===n.charAt(0)||0===n.length){r=n.substr(1);var o=e[i];if(null==o||!r.length){u=!0;return}e=o;return}}}i=void 0,u=!0}();if(i)return null==e?e:t(e,i,n)}}function o(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function i(t,e,r){return t.hasOwnProperty(e)&&(t[e]=r),t}function a(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}e.exports=n(function(t,e){if(t.hasOwnProperty(e))return t[e]}),e.exports.find=e.exports,e.exports.replace=function(t,e,r,o){return n(i).call(this,t,e,r,o),t},e.exports.del=function(t,e,r){return n(o).call(this,t,e,null,r),t}},64560,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var o=n(t.r(7941));function i(t,e){return function(){var r=this.traits(),n=this.properties?this.properties():{};return o.default(r,"address."+t)||o.default(r,t)||(e?o.default(r,"address."+e):null)||(e?o.default(r,e):null)||o.default(n,"address."+t)||o.default(n,t)||(e?o.default(n,"address."+e):null)||(e?o.default(n,e):null)}}r.default=function(t){t.zip=i("postalCode","zip"),t.country=i("country"),t.street=i("street"),t.state=i("state"),t.city=i("city"),t.region=i("region")}},31094,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.clone=void 0,r.clone=function t(e){if("object"!=typeof e)return e;if("[object Object]"===Object.prototype.toString.call(e)){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=t(e[n]));return r}return Array.isArray(e)?e.map(t):e}},71762,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={Salesforce:!0};r.default=function(t){return!n[t]}},44635,(t,e,r)=>{"use strict";var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;r.parse=function(t){var e=[1,5,6,7,11,12],r=n.exec(t),o=0;if(!r)return new Date(t);for(var i,a=0;i=e[a];a++)r[i]=parseInt(r[i],10)||0;return r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?o=new Date().getTimezoneOffset():"Z"!==r[9]&&r[10]&&(o=60*r[11]+r[12],"+"===r[10]&&(o=0-o)),new Date(Date.UTC(r[1],r[2],r[3],r[5],r[6]+o,r[7],r[8]))},r.is=function(t,e){return"string"==typeof t&&(!e||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&n.test(t)}},35530,(t,e,r)=>{"use strict";var n=/\d{13}/;r.is=function(t){return n.test(t)},r.parse=function(t){return new Date(t=parseInt(t,10))}},15175,(t,e,r)=>{"use strict";var n=/\d{10}/;r.is=function(t){return n.test(t)},r.parse=function(t){return new Date(1e3*parseInt(t,10))}},80100,(t,e,r)=>{"use strict";var n=t.r(44635),o=t.r(35530),i=t.r(15175),a=Object.prototype.toString;e.exports=function(t){var e;if("[object Date]"===a.call(t))return t;return"[object Number]"===a.call(t)?new Date((e=t)<315576e5?1e3*e:e):n.is(t)?n.parse(t):o.is(t)?o.parse(t):i.is(t)?i.parse(t):new Date(t)}},14214,(t,e,r)=>{"use strict";var n=t.r(44635);e.exports=function t(e,r){var o,i,a,s;if(void 0===r&&(r=!0),e&&"object"==typeof e){return o=e,i=r,Object.keys(o).forEach(function(e){o[e]=t(o[e],i)}),o}if(Array.isArray(e)){return a=e,s=r,a.forEach(function(e,r){a[r]=t(e,s)}),a}return n.is(e,r)?n.parse(e):e}},8431,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Facade=void 0;var o=n(t.r(64560)),i=t.r(31094),a=n(t.r(71762)),s=n(t.r(80100)),u=n(t.r(7941)),p=n(t.r(14214));function c(t,e){e=e||{},this.raw=i.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=i.clone(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=s.default(t.timestamp):t.timestamp=new Date,e.traverse&&p.default(t),this.opts=e,this.obj=t}r.Facade=c;var l=c.prototype;function f(t){return i.clone(t)}l.proxy=function(t){var e=t.split("."),r=this[t=e.shift()]||this.obj[t];return r?("function"==typeof r&&(r=r.call(this)||{}),0===e.length||(r=u.default(r,e.join("."))),this.opts.clone?f(r):r):r},l.field=function(t){var e=this.obj[t];return this.opts.clone?f(e):e},c.proxy=function(t){return function(){return this.proxy(t)}},c.field=function(t){return function(){return this.field(t)}},c.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var r=this.proxy(t);return r&&(r=[this.opts.clone?i.clone(r):r]),r||[]}},c.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var r=this.proxy(t+"s");if(Array.isArray(r))return r[0]}},l.json=function(){var t=this.opts.clone?i.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t},l.rawEvent=function(){return this.raw},l.options=function(t){var e=this.obj.options||this.obj.context||{},r=this.opts.clone?i.clone(e):e;if(!t)return r;if(this.enabled(t)){var n=this.integrations(),o=n[t]||u.default(n,t);return"object"!=typeof o&&(o=u.default(this.options(),t)),"object"==typeof o?o:{}}},l.context=l.options,l.enabled=function(t){var e=this.proxy("options.providers.all");"boolean"!=typeof e&&(e=this.proxy("options.all")),"boolean"!=typeof e&&(e=this.proxy("integrations.all")),"boolean"!=typeof e&&(e=!0);var r=e&&a.default(t),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)&&(r=n.providers[t]),n.hasOwnProperty(t)){var o=n[t];r="boolean"!=typeof o||o}return!!r},l.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},l.active=function(){var t=this.proxy("options.active");return null==t&&(t=!0),t},l.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},l.sessionId=l.anonymousId,l.groupId=c.proxy("options.groupId"),l.traits=function(t){var e=this.proxy("options.traits")||{},r=this.userId();for(var n in t=t||{},r&&(e.id=r),t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=null==this[n]?this.proxy("options.traits."+n):this[n]();if(null==o)continue;e[t[n]]=o,delete e[n]}return e},l.library=function(){var t=this.proxy("options.library");return t?"string"==typeof t?{name:t,version:null}:t:{name:"unknown",version:null}},l.device=function(){var t=this.proxy("context.device");("object"!=typeof t||null===t)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t},l.userAgent=c.proxy("context.userAgent"),l.timezone=c.proxy("context.timezone"),l.timestamp=c.field("timestamp"),l.channel=c.field("channel"),l.ip=c.proxy("context.ip"),l.userId=c.field("userId"),o.default(l)},94446,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Alias=void 0;var o=n(t.r(88935)),i=t.r(8431);function a(t,e){i.Facade.call(this,t,e)}r.Alias=a,o.default(a,i.Facade),a.prototype.action=function(){return"alias"},a.prototype.type=a.prototype.action,a.prototype.previousId=function(){return this.field("previousId")||this.field("from")},a.prototype.from=a.prototype.previousId,a.prototype.userId=function(){return this.field("userId")||this.field("to")},a.prototype.to=a.prototype.userId},13427,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=/.+\@.+\..+/;r.default=function(t){return n.test(t)}},46577,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Group=void 0;var o=n(t.r(88935)),i=n(t.r(13427)),a=n(t.r(80100)),s=t.r(8431);function u(t,e){s.Facade.call(this,t,e)}r.Group=u,o.default(u,s.Facade);var p=u.prototype;p.action=function(){return"group"},p.type=p.action,p.groupId=s.Facade.field("groupId"),p.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return a.default(t)},p.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(i.default(e))return e},p.traits=function(t){var e=this.properties(),r=this.groupId();for(var n in t=t||{},r&&(e.id=r),t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=null==this[n]?this.proxy("traits."+n):this[n]();if(null==o)continue;e[t[n]]=o,delete e[n]}return e},p.name=s.Facade.proxy("traits.name"),p.industry=s.Facade.proxy("traits.industry"),p.employees=s.Facade.proxy("traits.employees"),p.properties=function(){return this.field("traits")||this.field("properties")||{}}},56770,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Identify=void 0;var o=t.r(8431),i=n(t.r(7941)),a=n(t.r(88935)),s=n(t.r(13427)),u=n(t.r(80100)),p=function(t){return t.trim()};function c(t,e){o.Facade.call(this,t,e)}r.Identify=c,a.default(c,o.Facade);var l=c.prototype;l.action=function(){return"identify"},l.type=l.action,l.traits=function(t){var e=this.field("traits")||{},r=this.userId();for(var n in t=t||{},r&&(e.id=r),t){var o=null==this[n]?this.proxy("traits."+n):this[n]();null!=o&&(e[t[n]]=o,n!==t[n]&&delete e[n])}return e},l.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(s.default(e))return e},l.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return u.default(t)},l.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return u.default(t)},l.companyName=function(){return this.proxy("traits.company.name")},l.name=function(){var t=this.proxy("traits.name");if("string"==typeof t)return p(t);var e=this.firstName(),r=this.lastName();if(e&&r)return p(e+" "+r)},l.firstName=function(){var t=this.proxy("traits.firstName");if("string"==typeof t)return p(t);var e=this.proxy("traits.name");if("string"==typeof e)return p(e).split(" ")[0]},l.lastName=function(){var t=this.proxy("traits.lastName");if("string"==typeof t)return p(t);var e=this.proxy("traits.name");if("string"==typeof e){var r=p(e).indexOf(" ");if(-1!==r)return p(e.substr(r+1))}},l.uid=function(){return this.userId()||this.username()||this.email()},l.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},l.age=function(){var t=this.birthday(),e=i.default(this.traits(),"age");return null!=e?e:t instanceof Date?new Date().getFullYear()-t.getFullYear():void 0},l.avatar=function(){var t=this.traits();return i.default(t,"avatar")||i.default(t,"photoUrl")||i.default(t,"avatarUrl")},l.position=function(){var t=this.traits();return i.default(t,"position")||i.default(t,"jobTitle")},l.username=o.Facade.proxy("traits.username"),l.website=o.Facade.one("traits.website"),l.websites=o.Facade.multi("traits.website"),l.phone=o.Facade.one("traits.phone"),l.phones=o.Facade.multi("traits.phone"),l.address=o.Facade.proxy("traits.address"),l.gender=o.Facade.proxy("traits.gender"),l.birthday=o.Facade.proxy("traits.birthday")},11410,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Track=void 0;var o=n(t.r(88935)),i=t.r(8431),a=t.r(56770),s=n(t.r(13427)),u=n(t.r(7941));function p(t,e){i.Facade.call(this,t,e)}r.Track=p,o.default(p,i.Facade);var c=p.prototype;c.action=function(){return"track"},c.type=c.action,c.event=i.Facade.field("event"),c.value=i.Facade.proxy("properties.value"),c.category=i.Facade.proxy("properties.category"),c.id=i.Facade.proxy("properties.id"),c.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},c.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},c.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},c.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},c.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},c.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},c.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},c.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},c.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},c.sku=i.Facade.proxy("properties.sku"),c.tax=i.Facade.proxy("properties.tax"),c.name=i.Facade.proxy("properties.name"),c.price=i.Facade.proxy("properties.price"),c.total=i.Facade.proxy("properties.total"),c.repeat=i.Facade.proxy("properties.repeat"),c.coupon=i.Facade.proxy("properties.coupon"),c.shipping=i.Facade.proxy("properties.shipping"),c.discount=i.Facade.proxy("properties.discount"),c.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},c.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},c.description=i.Facade.proxy("properties.description"),c.plan=i.Facade.proxy("properties.plan"),c.subtotal=function(){var t=u.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var r=this.tax();r&&(e-=r),(r=this.shipping())&&(e-=r),(r=this.discount())&&(e+=r)}return e},c.products=function(){var t=this.properties(),e=u.default(t,"products");return Array.isArray(e)?e.filter(function(t){return null!==t}):[]},c.quantity=function(){return(this.obj.properties||{}).quantity||1},c.currency=function(){return(this.obj.properties||{}).currency||"USD"},c.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},c.query=i.Facade.proxy("options.query"),c.properties=function(t){var e=this.field("properties")||{};for(var r in t=t||{})if(Object.prototype.hasOwnProperty.call(t,r)){var n=null==this[r]?this.proxy("properties."+r):this[r]();if(null==n)continue;e[t[r]]=n,delete e[r]}return e},c.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},c.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(s.default(e))return e},c.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event();return!t&&e&&e.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(t=this.proxy("properties.total")),function(t){if(t&&("number"==typeof t||"string"==typeof t&&!isNaN(t=parseFloat(t=t.replace(/\$/g,"")))))return t}(t)},c.cents=function(){var t=this.revenue();return"number"!=typeof t?this.value()||0:100*t},c.identify=function(){var t=this.json();return t.traits=this.traits(),new a.Identify(t,this.opts)}},38289,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Page=void 0;var o=n(t.r(88935)),i=t.r(8431),a=t.r(11410),s=n(t.r(13427));function u(t,e){i.Facade.call(this,t,e)}r.Page=u,o.default(u,i.Facade);var p=u.prototype;p.action=function(){return"page"},p.type=p.action,p.category=i.Facade.field("category"),p.name=i.Facade.field("name"),p.title=i.Facade.proxy("properties.title"),p.path=i.Facade.proxy("properties.path"),p.url=i.Facade.proxy("properties.url"),p.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},p.properties=function(t){var e=this.field("properties")||{},r=this.category(),n=this.name();for(var o in t=t||{},r&&(e.category=r),n&&(e.name=n),t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=null==this[o]?this.proxy("properties."+o):this[o]();if(null==i)continue;e[t[o]]=i,o!==t[o]&&delete e[o]}return e},p.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(s.default(e))return e},p.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e},p.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"},p.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new a.Track(e,this.opts)}},92635,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Screen=void 0;var o=n(t.r(88935)),i=t.r(38289),a=t.r(11410);function s(t,e){i.Page.call(this,t,e)}r.Screen=s,o.default(s,i.Page),s.prototype.action=function(){return"screen"},s.prototype.type=s.prototype.action,s.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"},s.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new a.Track(e,this.opts)}},63248,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Delete=void 0;var o=n(t.r(88935)),i=t.r(8431);function a(t,e){i.Facade.call(this,t,e)}r.Delete=a,o.default(a,i.Facade),a.prototype.type=function(){return"delete"}},31078,(t,e,r)=>{"use strict";var n=t.e&&t.e.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.Delete=r.Screen=r.Page=r.Track=r.Identify=r.Group=r.Alias=r.Facade=void 0;var o=t.r(8431);Object.defineProperty(r,"Facade",{enumerable:!0,get:function(){return o.Facade}});var i=t.r(94446);Object.defineProperty(r,"Alias",{enumerable:!0,get:function(){return i.Alias}});var a=t.r(46577);Object.defineProperty(r,"Group",{enumerable:!0,get:function(){return a.Group}});var s=t.r(56770);Object.defineProperty(r,"Identify",{enumerable:!0,get:function(){return s.Identify}});var u=t.r(11410);Object.defineProperty(r,"Track",{enumerable:!0,get:function(){return u.Track}});var p=t.r(38289);Object.defineProperty(r,"Page",{enumerable:!0,get:function(){return p.Page}});var c=t.r(92635);Object.defineProperty(r,"Screen",{enumerable:!0,get:function(){return c.Screen}});var l=t.r(63248);Object.defineProperty(r,"Delete",{enumerable:!0,get:function(){return l.Delete}}),r.default=n(n({},o.Facade),{Alias:i.Alias,Group:a.Group,Identify:s.Identify,Track:u.Track,Page:p.Page,Screen:c.Screen,Delete:l.Delete})},24124,10991,8721,82580,82420,19045,t=>{"use strict";for(var e,r=t.i(90571),n=256,o=[];n--;)o[n]=(n+256).toString(16).substring(1);function i(){var t,r=0,i="";if(!e||n+16>256){for(e=Array(r=256);r--;)e[r]=256*Math.random()|0;r=n=0}for(;r<16;r++)t=e[n+r],6==r?i+=o[15&t|64]:8==r?i+=o[63&t|128]:i+=o[t],1&r&&r>1&&r<11&&(i+="-");return n++,i}function a(t,e,r){e.split&&(e=e.split("."));for(var n,o,i=0,a=e.length,s=t;i<a&&"__proto__"!=(o=""+e[i++])&&"constructor"!==o&&"prototype"!==o;)s=s[o]=i===a?r:typeof(n=s[o])==typeof e?n:0*e[i]!=0||~(""+e[i]).indexOf(".")?{}:[]}t.s(["v4",()=>i],10991),t.s(["dset",()=>a],8721);var s=function(){function t(){this._logs=[]}return t.prototype.log=function(t,e,r){var n=new Date;this._logs.push({level:t,message:e,time:n,extras:r})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var t=this._logs.reduce(function(t,e){var n,o,i,a=(0,r.__assign)((0,r.__assign)({},e),{json:JSON.stringify(e.extras,null," "),extras:e.extras});delete a.time;var s=null!=(i=null==(o=e.time)?void 0:o.toISOString())?i:"";return t[s]&&(s="".concat(s,"-").concat(Math.random())),(0,r.__assign)((0,r.__assign)({},t),((n={})[s]=a,n))},{});console.table?console.table(t):console.log(t)}else this.logs.forEach(function(t){var e=t.level,r=t.message,n=t.extras;"info"===e||"debug"===e?console.log(r,null!=n?n:""):console[e](r,null!=n?n:"")});this._logs=[]},t}(),u=function(){function t(){this.metrics=[]}return t.prototype.increment=function(t,e,r){void 0===e&&(e=1),this.metrics.push({metric:t,value:e,tags:null!=r?r:[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(t,e,r){this.metrics.push({metric:t,value:e,tags:null!=r?r:[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var t=this.metrics.map(function(t){return(0,r.__assign)((0,r.__assign)({},t),{tags:t.tags.join(",")})});console.table?console.table(t):console.log(t),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(t){return{m:t.metric,v:t.value,t:t.tags,k:({gauge:"g",counter:"c"})[t.type],e:t.timestamp}})},t}(),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.gauge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.increment=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.flush=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.serialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return[]},e}(u);t.s(["CoreStats",()=>u,"NullStats",()=>p],82580);var c=function(t){var e,r,n;this.retry=null==(e=t.retry)||e,this.type=null!=(r=t.type)?r:"plugin Error",this.reason=null!=(n=t.reason)?n:""},l=function(){function t(t,e,r,n){void 0===e&&(e=i()),void 0===r&&(r=new p),void 0===n&&(n=new s),this.attempts=0,this.event=t,this._id=e,this.logger=n,this.stats=r}return t.system=function(){},t.prototype.isSame=function(t){return t.id===this.id},t.prototype.cancel=function(t){if(t)throw t;throw new c({reason:"Context Cancel"})},t.prototype.log=function(t,e,r){this.logger.log(t,e,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(t,e){var r;if("integrations"===t.split(".")[0]){var n=t.split(".")[1];if((null==(r=this.event.integrations)?void 0:r[n])===!1)return this.event}return a(this.event,t,e),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(t){this._failedDelivery=t},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}();t.s(["ContextCancelation",()=>c,"CoreContext",()=>l],82420);var f=t.i(31078);function d(t,e){var r=new f.Facade(t,e);return"track"===t.type&&(r=new f.Track(t,e)),"identify"===t.type&&(r=new f.Identify(t,e)),"page"===t.type&&(r=new f.Page(t,e)),"alias"===t.type&&(r=new f.Alias(t,e)),"group"===t.type&&(r=new f.Group(t,e)),"screen"===t.type&&(r=new f.Screen(t,e)),Object.defineProperty(r,"obj",{value:t,writable:!0}),r}function y(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var o,i,a,s,u;return(0,r.__generator)(this,function(p){switch(p.label){case 0:o=d(e,{clone:!0,traverse:!1}).rawEvent(),i=0,a=n,p.label=1;case 1:if(!(i<a.length))return[3,4];return s=a[i],[4,function(e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var o,i,a;return(0,r.__generator)(this,function(s){switch(s.label){case 0:return o=!1,i=null,[4,n({payload:d(e,{clone:!0,traverse:!1}),integration:t,next:function(t){o=!0,null===t&&(i=null),t&&(i=t.obj)}})];case 1:return s.sent(),o||null===i||(i.integrations=(0,r.__assign)((0,r.__assign)({},e.integrations),((a={})[t]=!1,a))),[2,i]}})})}(o,s)];case 2:if(null===(u=p.sent()))return[2,null];o=u,p.label=3;case 3:return i++,[3,1];case 4:return[2,o]}})})}function h(t,e){function n(n){return(0,r.__awaiter)(this,void 0,void 0,function(){var o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return o=!1,[4,t({payload:d(n.event,{clone:!0,traverse:!1}),integrations:null!=e?e:{},next:function(t){o=!0,t&&(n.event=t.obj)}})];case 1:if(r.sent(),!o)throw new c({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(t){return Promise.resolve(t)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}t.s(["toFacade",()=>d],19045),t.s(["applyDestinationMiddleware",()=>y,"sourceMiddlewarePlugin",()=>h],24124)}]);