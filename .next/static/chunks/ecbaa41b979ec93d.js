(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47584,t=>{"use strict";function n(t,n){var e,i;return"boolean"==typeof(null==n?void 0:n.enabled)?n.enabled:null==(i=null==(e=null==t?void 0:t.__default)?void 0:e.enabled)||i}t.s(["isPlanEventEnabled",()=>n])},25820,t=>{"use strict";var n=t.i(90571),e=t.i(31078),i=t.i(8991),r=t.i(83049),o=t.i(82420),a=t.i(63957),s=t.i(87603),u=t.i(47584),l=t.i(52977),c=t.i(85630),d=t.i(59912),h=t.i(93783),f=t.i(24124),v=t.i(55605),g=t.i(80924);function p(t){return t.toLowerCase().replace(".","").replace(/\s+/g,"-")}function _(t,n){return void 0===n&&(n=!1),n?btoa(t).replace(/=/g,""):void 0}var y=t.i(45493),m=function(t,n){var e,i=n.type,r=n.bundlingStatus,o=n.versionSettings,a="unbundled"!==r&&("browser"===i||(null==(e=null==o?void 0:o.componentTypes)?void 0:e.includes("browser")));return!t.startsWith("Segment")&&"Iterable"!==t&&a},w=function(t,n){var e=!1===n.All&&void 0===n[t];return!1===n[t]||e},b=t.i(31320),P=t.i(81473),S=function(){function t(t,e,i,r,o,a){void 0===r&&(r={});var s=this;this.options={},this.type="destination",this.middleware=[],this.initializePromise=(0,P.createDeferred)(),this.flushing=!1,this.name=t,this.version=e,this.settings=(0,n.__assign)({},r),this.disableAutoISOConversion=o.disableAutoISOConversion||!1,this.integrationSource=a,this.settings.type&&"browser"===this.settings.type&&delete this.settings.type,this.initializePromise.promise.then(function(t){return s._initialized=t},function(){}),this.options=o,this.buffer=o.disableClientPersistence?new d.PriorityQueue(4,[]):new h.PersistedPriorityQueue(4,"".concat(i,":dest-").concat(t)),this.scheduleFlush()}return t.prototype.isLoaded=function(){return!!this._ready},t.prototype.ready=function(){var t=this;return this.initializePromise.promise.then(function(){var n;return null!=(n=t.onReady)?n:Promise.resolve()})},t.prototype.load=function(t,e){var i;return(0,n.__awaiter)(this,void 0,void 0,function(){var r,o,a=this;return(0,n.__generator)(this,function(s){switch(s.label){case 0:if(this._ready||void 0!==this.onReady)return[2];if(null==(i=this.integrationSource))return[3,1];return o=i,[3,3];case 1:return[4,function(t,e,i,r){return(0,n.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,l;return(0,n.__generator)(this,function(c){switch(c.label){case 0:a=_(o=p(e),r),s=(0,v.getNextIntegrationsURL)(),u="".concat(s,"/integrations/").concat(null!=a?a:o,"/").concat(i,"/").concat(null!=a?a:o,".dynamic.js.gz"),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,(0,g.loadScript)(u)];case 2:c.sent();var d,h,f=u;try{var y=(null!=(h=null==(d=null==window?void 0:window.performance)?void 0:d.getEntriesByName(f,"resource"))?h:[])[0];y&&t.stats.gauge("legacy_destination_time",Math.round(y.duration),(0,n.__spreadArray)([e],y.duration<100?["cached"]:[],!0))}catch(t){}return[3,4];case 3:throw l=c.sent(),t.stats.gauge("legacy_destination_time",-1,["plugin:".concat(e),"failed"]),l;case 4:return[4,Promise.all(window["".concat(o,"Deps")].map(function(t){return(0,g.loadScript)(s+t+".gz")}))];case 5:return c.sent(),window["".concat(o,"Loader")](),[2,window["".concat(o,"Integration")]]}})})}(t,this.name,this.version,this.options.obfuscate)];case 2:o=s.sent(),s.label=3;case 3:r=o,this.integration=function(t,n,e){if("Integration"in t){var i;t({user:function(){return e.user()},addIntegration:function(){}}),i=t.Integration}else i=t;var r=new i(n);return r.analytics=e,r}(r,this.settings,e),this.onReady=new Promise(function(t){a.integration.once("ready",function(){a._ready=!0,t(!0)})}),this.integration.on("initialize",function(){a.initializePromise.resolve(!0)});try{(0,b.recordIntegrationMetric)(t,{integrationName:this.name,methodName:"initialize",type:"classic"}),this.integration.initialize()}catch(n){throw(0,b.recordIntegrationMetric)(t,{integrationName:this.name,methodName:"initialize",type:"classic",didError:!0}),this.initializePromise.resolve(!1),n}return[2]}})})},t.prototype.unload=function(t,e){return function(t,e,i){return(0,n.__awaiter)(this,void 0,void 0,function(){var r,o,a,s;return(0,n.__generator)(this,function(n){return r=(0,v.getNextIntegrationsURL)(),o=p(t),a=_(t,i),s="".concat(r,"/integrations/").concat(null!=a?a:o,"/").concat(e,"/").concat(null!=a?a:o,".dynamic.js.gz"),[2,(0,g.unloadScript)(s)]})})}(this.name,this.version,this.options.obfuscate)},t.prototype.addMiddleware=function(){for(var t,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this.middleware=(t=this.middleware).concat.apply(t,n)},t.prototype.shouldBuffer=function(t){return"page"!==t.event.type&&((0,i.isOffline)()||!0!==this._ready||!0!==this._initialized)},t.prototype.send=function(t,e,i){var r,a;return(0,n.__awaiter)(this,void 0,void 0,function(){var s,l,c,d,h,v;return(0,n.__generator)(this,function(g){switch(g.label){case 0:if(this.shouldBuffer(t))return this.buffer.push(t),this.scheduleFlush(),[2,t];return s=null==(a=null==(r=this.options)?void 0:r.plan)?void 0:a.track,l=t.event.event,s&&l&&"Segment.io"!==this.name&&(c=s[l],(0,u.isPlanEventEnabled)(s,c)?t.updateEvent("integrations",(0,n.__assign)((0,n.__assign)({},t.event.integrations),null==c?void 0:c.integrations)):(t.updateEvent("integrations",(0,n.__assign)((0,n.__assign)({},t.event.integrations),{All:!1,"Segment.io":!0})),t.cancel(new o.ContextCancelation({retry:!1,reason:"Event ".concat(l," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),(null==c?void 0:c.enabled)&&(null==c?void 0:c.integrations[this.name])===!1&&t.cancel(new o.ContextCancelation({retry:!1,reason:"Event ".concat(l," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),[4,(0,f.applyDestinationMiddleware)(this.name,t.event,this.middleware)];case 1:if(null===(d=g.sent()))return[2,t];h=new e(d,{traverse:!this.disableAutoISOConversion}),(0,b.recordIntegrationMetric)(t,{integrationName:this.name,methodName:i,type:"classic"}),g.label=2;case 2:if(g.trys.push([2,5,,6]),!this.integration)return[3,4];return[4,this.integration.invoke.call(this.integration,i,h)];case 3:g.sent(),g.label=4;case 4:return[3,6];case 5:throw v=g.sent(),(0,b.recordIntegrationMetric)(t,{integrationName:this.name,methodName:i,type:"classic",didError:!0}),v;case 6:return[2,t]}})})},t.prototype.track=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(n){return[2,this.send(t,e.Track,"track")]})})},t.prototype.page=function(t){var i;return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(n){switch(n.label){case 0:return(null==(i=this.integration)?void 0:i._assumesPageview)&&!this._initialized&&this.integration.initialize(),[4,this.initializePromise.promise];case 1:return n.sent(),[2,this.send(t,e.Page,"page")]}})})},t.prototype.identify=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(n){return[2,this.send(t,e.Identify,"identify")]})})},t.prototype.alias=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(n){return[2,this.send(t,e.Alias,"alias")]})})},t.prototype.group=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(n){return[2,this.send(t,e.Group,"group")]})})},t.prototype.scheduleFlush=function(){var t=this;this.flushing||setTimeout(function(){return(0,n.__awaiter)(t,void 0,void 0,function(){var t;return(0,n.__generator)(this,function(e){switch(e.label){case 0:if((0,i.isOffline)()||!0!==this._ready||!0!==this._initialized)return this.scheduleFlush(),[2];return this.flushing=!0,t=this,[4,function(t,e){return(0,n.__awaiter)(this,void 0,void 0,function(){var o,a=this;return(0,n.__generator)(this,function(u){switch(u.label){case 0:if(o=[],(0,i.isOffline)())return[2,e];return[4,(0,c.pWhile)(function(){return e.length>0&&(0,i.isOnline)()},function(){return(0,n.__awaiter)(a,void 0,void 0,function(){var i;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(!(i=e.pop()))return[2];return[4,(0,s.attempt)(i,t)];case 1:return n.sent()instanceof r.Context||o.push(i),[2]}})})})];case 1:return u.sent(),o.map(function(t){return e.pushWithBackoff(t)}),[2,e]}})})}(this,this.buffer)];case 1:return t.buffer=e.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}})})},5e3*Math.random())},t}();function z(t,e,i,r,o,s){if(void 0===i&&(i={}),void 0===r&&(r={}),(0,a.isServer)())return[];e.plan&&((r=null!=r?r:{}).plan=e.plan);var u,c,d=null!=(c=null==(u=e.middlewareSettings)?void 0:u.routingRules)?c:[],h=e.integrations,f=r.integrations,v=(0,l.mergedOptions)(e,null!=r?r:{}),g=null==s?void 0:s.reduce(function(t,e){var i;return(0,n.__assign)((0,n.__assign)({},t),((i={})[("Integration"in e?e.Integration:e).prototype.name]=e,i))},{});return Array.from(new Set((0,n.__spreadArray)((0,n.__spreadArray)([],Object.keys(h).filter(function(t){return m(t,h[t])}),!0),Object.keys(g||{}).filter(function(t){return(0,y.isPlainObject)(h[t])||(0,y.isPlainObject)(null==f?void 0:f[t])}),!0))).filter(function(t){return!w(t,i)}).map(function(n){var e,i,a,s,u,l=null!=(u=null!=(a=null==(i=null==(e=h[n])?void 0:e.versionSettings)?void 0:i.override)?a:null==(s=null==e?void 0:e.versionSettings)?void 0:s.version)?u:"latest",c=new S(n,l,t,v[n],r,null==g?void 0:g[n]);return d.filter(function(t){return t.destinationName===n}).length>0&&o&&c.addMiddleware(o),c})}t.s(["LegacyDestination",()=>S,"ajsDestinations",()=>z],25820)}]);