(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23184,t=>{"use strict";var e,n,r=t.i(9428),i=t.i(11577),o=t.i(90571),a=t.i(47167);function s(){return void 0!==a.default&&a.default.env?a.default.env:{}}var u=t.i(55605),c=t.i(45493);function l(t,e,n,r){var i,o=[t,e,n,r],a=(0,c.isPlainObject)(t)?t.event:t;if(!a||!(0,c.isString)(a))throw Error("Event missing");var s=(0,c.isPlainObject)(t)?null!=(i=t.properties)?i:{}:(0,c.isPlainObject)(e)?e:{},u={};return(0,c.isFunction)(n)||(u=null!=n?n:{}),(0,c.isPlainObject)(t)&&!(0,c.isFunction)(e)&&(u=null!=e?e:{}),[a,s,u,o.find(c.isFunction)]}function d(t,e,n,r,i){var o,a,s=null,u=null,l=[t,e,n,r,i],d=l.filter(c.isString);1===d.length?(u=(0,c.isString)(l[1])?l[1]:d[0],s=null):2===d.length&&("string"==typeof l[0]&&(s=l[0]),"string"==typeof l[1]&&(u=l[1]));var h=l.find(c.isFunction),f=l.filter(c.isPlainObject);return 1===f.length?(0,c.isPlainObject)(l[2])?(a={},o=l[2]):(0,c.isPlainObject)(l[3])?(o={},a=l[3]):(o=f[0],a={}):2===f.length&&(o=f[0],a=f[1]),[s,u,null!=o?o:o={},null!=a?a:a={},h]}var h=function(t){return function(){for(var e,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var a={},s=["callback","options","traits","id"],u=0;u<i.length;u++){var l=i[u],d=s.pop();if("id"===d){if((0,c.isString)(l)||(0,c.isNumber)(l)){a.id=l.toString();continue}if(null==l)continue;d=s.pop()}if(("traits"===d||"options"===d)&&(null==l||(0,c.isPlainObject)(l))&&(a[d]=l),(0,c.isFunction)(l)){a.callback=l;break}}return[null!=(e=a.id)?e:t.id(),null!=(n=a.traits)?n:{},null!=(r=a.options)?r:{},a.callback]}};function f(t,e,n,r){(0,c.isNumber)(t)&&(t=t.toString()),(0,c.isNumber)(e)&&(e=e.toString());var i=[t,e,n,r],o=i.filter(c.isString),a=o[0],s=void 0===a?t:a,u=o[1],l=i.filter(c.isPlainObject)[0];return[s,void 0===u?null:u,void 0===l?{}:l,i.find(c.isFunction)]}var p=t.i(8991),g=t.i(83049),v=t.i(2471),_=t.i(16997),y=t.i(10991),m=function(t,e,n,r,i,o){return{__t:"bpc",c:e,p:r,u:t,s:n,t:i,r:o}},b=Object.keys(m("","","","","","")),w=function(t){var e=t.indexOf("#");return -1===e?t:t.slice(0,e)},S=function(t){try{return new URL(t).pathname}catch(e){return"/"===t[0]?t:"/"+t}},E=function(t){var e=t.c,n=t.p,r=t.s,i=t.u,o=t.r,a=t.t,s=e?S(e):n,u=e?e.indexOf("?")>-1?e:e+r:w(i);return{path:s,referrer:o,search:r,title:a,url:u}},A=function(){var t=document.querySelector("link[rel='canonical']");return m(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},I=function(t,e){void 0===e&&(e=E(A()));var n,r,i,a=t.context;"page"===t.type&&(i=t.properties&&(n=t.properties,r=Object.keys(e),Object.assign.apply(Object,(0,o.__spreadArray)([{}],r.map(function(t){var e;if(n&&Object.prototype.hasOwnProperty.call(n,t))return(e={})[t]=n[t],e}),!1))),t.properties=(0,o.__assign)((0,o.__assign)((0,o.__assign)({},e),t.properties),t.name?{name:t.name}:{})),a.page=(0,o.__assign)((0,o.__assign)((0,o.__assign)({},e),i),a.page)},C=t.i(8721),k=function(t){function e(e,n){var r=t.call(this,"".concat(e," ").concat(n))||this;return r.field=e,r}return(0,o.__extends)(e,t),e}(Error),M="is not a string",O="is not an object",N=function(t){var e,n;this.settings=t,this.createMessageId=t.createMessageId,this.onEventMethodCall=null!=(e=t.onEventMethodCall)?e:function(){},this.onFinishedEvent=null!=(n=t.onFinishedEvent)?n:function(){}},L=function(t){function e(e){var n=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat((0,y.v4)())},onEventMethodCall:function(t){var e=t.options;n.maybeUpdateAnonId(e)},onFinishedEvent:function(t){return n.addIdentity(t),t}})||this;return n.user=e,n}return(0,o.__extends)(e,t),e.prototype.maybeUpdateAnonId=function(t){(null==t?void 0:t.anonymousId)&&this.user.anonymousId(t.anonymousId)},e.prototype.addIdentity=function(t){this.user.id()&&(t.userId=this.user.id()),this.user.anonymousId()&&(t.anonymousId=this.user.anonymousId())},e.prototype.track=function(e,n,r,i,o){var a=t.prototype.track.call(this,e,n,r,i);return I(a,o),a},e.prototype.page=function(e,n,r,i,o,a){var s=t.prototype.page.call(this,e,n,r,i,o);return I(s,a),s},e.prototype.screen=function(e,n,r,i,o,a){var s=t.prototype.screen.call(this,e,n,r,i,o);return I(s,a),s},e.prototype.identify=function(e,n,r,i,o){var a=t.prototype.identify.call(this,e,n,r,i);return I(a,o),a},e.prototype.group=function(e,n,r,i,o){var a=t.prototype.group.call(this,e,n,r,i);return I(a,o),a},e.prototype.alias=function(e,n,r,i,o){var a=t.prototype.alias.call(this,e,n,r,i);return I(a,o),a},e}(function(){function t(t){this.settings=new N(t)}return t.prototype.track=function(t,e,n,r){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize((0,o.__assign)((0,o.__assign)({},this.baseEvent()),{event:t,type:"track",properties:null!=e?e:{},options:(0,o.__assign)({},n),integrations:(0,o.__assign)({},r)}))},t.prototype.page=function(t,e,n,r,i){this.settings.onEventMethodCall({type:"page",options:r});var a,s={type:"page",properties:(0,o.__assign)({},n),options:(0,o.__assign)({},r),integrations:(0,o.__assign)({},i)};return null!==t&&(s.category=t,s.properties=null!=(a=s.properties)?a:{},s.properties.category=t),null!==e&&(s.name=e),this.normalize((0,o.__assign)((0,o.__assign)({},this.baseEvent()),s))},t.prototype.screen=function(t,e,n,r,i){this.settings.onEventMethodCall({type:"screen",options:r});var a={type:"screen",properties:(0,o.__assign)({},n),options:(0,o.__assign)({},r),integrations:(0,o.__assign)({},i)};return null!==t&&(a.category=t),null!==e&&(a.name=e),this.normalize((0,o.__assign)((0,o.__assign)({},this.baseEvent()),a))},t.prototype.identify=function(t,e,n,r){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize((0,o.__assign)((0,o.__assign)({},this.baseEvent()),{type:"identify",userId:t,traits:null!=e?e:{},options:(0,o.__assign)({},n),integrations:r}))},t.prototype.group=function(t,e,n,r){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize((0,o.__assign)((0,o.__assign)({},this.baseEvent()),{type:"group",traits:null!=e?e:{},options:(0,o.__assign)({},n),integrations:(0,o.__assign)({},r),groupId:t}))},t.prototype.alias=function(t,e,n,r){this.settings.onEventMethodCall({type:"alias",options:n});var i={userId:t,type:"alias",options:(0,o.__assign)({},n),integrations:(0,o.__assign)({},r)};return(null!==e&&(i.previousId=e),void 0===t)?this.normalize((0,o.__assign)((0,o.__assign)({},i),this.baseEvent())):this.normalize((0,o.__assign)((0,o.__assign)({},this.baseEvent()),i))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(t){var e,n=["userId","anonymousId","timestamp","messageId"];delete t.integrations;var r=Object.keys(t),i=null!=(e=t.context)?e:{},o={};return r.forEach(function(e){"context"!==e&&(n.includes(e)?(0,C.dset)(o,e,t[e]):(0,C.dset)(i,e,t[e]))}),[i,o]},t.prototype.normalize=function(t){var e,n,r,i=Object.keys(null!=(n=t.integrations)?n:{}).reduce(function(e,n){var r,i;return(0,o.__assign)((0,o.__assign)({},e),((r={})[n]=!!(null==(i=t.integrations)?void 0:i[n]),r))},{});e=t.options||{},t.options=Object.keys(e).filter(function(t){return function(t,e){return void 0!==e}(t,e[t])}).reduce(function(t,n){return t[n]=e[n],t},{});var a=(0,o.__assign)((0,o.__assign)({},i),null==(r=t.options)?void 0:r.integrations),s=t.options?this.context(t.options):[],u=s[0],l=s[1],d=t.options,h=(0,o.__rest)(t,["options"]),f=(0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)({timestamp:new Date},h),{context:u,integrations:a}),l),{messageId:d.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),!function(t){if(!(0,c.exists)(t))throw new k("Event","is nil");if("object"!=typeof t)throw new k("Event",O);if(!(0,c.isString)(t.type))throw new k(".type",M);if(!(0,c.isString)(t.messageId))throw new k(".messageId",M);if("track"===t.type){if(!(0,c.isString)(t.event))throw new k(".event",M);if(!(0,c.isPlainObject)(t.properties))throw new k(".properties",O)}["group","identify"].includes(t.type)&&function(t){if(!(0,c.isPlainObject)(t.traits))throw new k(".traits",O)}(t)}(f),f},t}()),T=function(t){return"addMiddleware"in t&&"destination"===t.type},P=t.i(93783),D=t.i(59912),j=t.i(82420),x=function(){var t,e,n=0;return{done:function(){return t},run:function(r){var i=r();return"object"==typeof i&&null!==i&&"then"in i&&"function"==typeof i.then&&(1==++n&&(t=new Promise(function(t){return e=t})),i.finally(function(){return 0==--n&&e()})),i}}},F=t.i(87603),R=function(t){function e(e){return t.call(this,"string"==typeof e?new P.PersistedPriorityQueue(4,e):e)||this}return(0,o.__extends)(e,t),e.prototype.flush=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(e){return(0,p.isOffline)()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}(function(t){function e(e){var n=t.call(this)||this;return n.criticalTasks=x(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=e,n.queue.on(D.ON_REMOVE_FROM_FUTURE,function(){n.scheduleFlush(0)}),n}return(0,o.__extends)(e,t),e.prototype.register=function(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,function(){var r,i,a=this;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(this.plugins.push(e),r=function(n){a.failedInitializations.push(e.name),a.emit("initialization_failure",e),console.warn(e.name,n),t.log("warn","Failed to load destination",{plugin:e.name,error:n}),a.plugins=a.plugins.filter(function(t){return t!==e})},"destination"!==e.type||"Segment.io"===e.name)return[3,1];return e.load(t,n).catch(r),[3,4];case 1:return o.trys.push([1,3,,4]),[4,e.load(t,n)];case 2:return o.sent(),[3,4];case 3:return i=o.sent(),r(i),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,function(){var r;return(0,o.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),!e.unload)return[3,2];return[4,Promise.resolve(e.unload(t,n))];case 1:i.sent(),i.label=2;case 2:return this.plugins=this.plugins.filter(function(t){return t.name!==e.name}),[3,4];case 3:return r=i.sent(),t.log("warn","Failed to unload destination",{plugin:e.name,error:r}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(t){return(0,o.__awaiter)(this,void 0,void 0,function(){var e;return(0,o.__generator)(this,function(n){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.push(t),e=this.subscribeToDelivery(t),this.scheduleFlush(0),[2,e]})})},e.prototype.subscribeToDelivery=function(t){return(0,o.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,o.__generator)(this,function(n){return[2,new Promise(function(n){var r=function(i,o){i.isSame(t)&&(e.off("flush",r),n(i))};e.on("flush",r)})]})})},e.prototype.dispatchSingle=function(t){return(0,o.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,o.__generator)(this,function(n){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.updateAttempts(t),t.attempts=1,[2,this.deliver(t).catch(function(n){return e.enqueuRetry(n,t)?e.subscribeToDelivery(t):(t.setFailedDelivery({reason:n}),t)})]})})},e.prototype.isEmpty=function(){return 0===this.queue.length},e.prototype.scheduleFlush=function(t){var e=this;void 0===t&&(t=500),this.flushing||(this.flushing=!0,setTimeout(function(){e.flush().then(function(){setTimeout(function(){e.flushing=!1,e.queue.length&&e.scheduleFlush(0)},0)})},t))},e.prototype.deliver=function(t){return(0,o.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return[4,this.criticalTasks.done()];case 1:o.sent(),e=Date.now(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.flushOne(t)];case 3:return t=o.sent(),n=Date.now()-e,this.emit("delivery_success",t),t.stats.gauge("delivered",n),t.log("debug","Delivered",t.event),[2,t];case 4:throw i=r=o.sent(),t.log("error","Failed to deliver",i),this.emit("delivery_failure",t,i),t.stats.increment("delivery_failed"),r;case 5:return[2]}})})},e.prototype.enqueuRetry=function(t,e){return!!(!(t instanceof j.ContextCancelation)||t.retry)&&this.queue.pushWithBackoff(e)},e.prototype.flush=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,o.__generator)(this,function(n){switch(n.label){case 0:if(0===this.queue.length||!(t=this.queue.pop()))return[2,[]];t.attempts=this.queue.getAttempts(t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.deliver(t)];case 2:return t=n.sent(),this.emit("flush",t,!0),[3,4];case 3:return e=n.sent(),this.enqueuRetry(e,t)||(t.setFailedDelivery({reason:e}),this.emit("flush",t,!1)),[2,[]];case 4:return[2,[t]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(t){var e,n,r=(e="type",n={},this.plugins.filter(function(e){if("destination"!==e.type&&"Segment.io"!==e.name)return!0;var n,r,i,o=void 0;return null==(n=e.alternativeNames)||n.forEach(function(e){void 0!==t[e]&&(o=t[e])}),null!=(i=null!=(r=t[e.name])?r:o)?i:!1!==("Segment.io"===e.name||t.All)}).forEach(function(t){var r,i=void 0;if("string"==typeof e){var a=t[e];i="string"!=typeof a?JSON.stringify(a):a}else e instanceof Function&&(i=e(t));void 0!==i&&(n[i]=(0,o.__spreadArray)((0,o.__spreadArray)([],null!=(r=n[i])?r:[],!0),[t],!1))}),n),i=r.before,a=r.enrichment,s=r.destination,u=r.after;return{before:void 0===i?[]:i,enrichment:void 0===a?[]:a,destinations:void 0===s?[]:s,after:void 0===u?[]:u}},e.prototype.flushOne=function(t){var e,n;return(0,o.__awaiter)(this,void 0,void 0,function(){var r,i,a,s,u,c,l,d,h,f,p,g,v;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(!this.isReady())throw Error("Not ready");t.attempts>1&&this.emit("delivery_retry",t),i=(r=this.availableExtensions(null!=(e=t.event.integrations)?e:{})).before,a=r.enrichment,s=0,u=i,o.label=1;case 1:if(!(s<u.length))return[3,4];return c=u[s],[4,(0,F.ensure)(t,c)];case 2:(l=o.sent())instanceof j.CoreContext&&(t=l),this.emit("message_enriched",t,c),o.label=3;case 3:return s++,[3,1];case 4:d=0,h=a,o.label=5;case 5:if(!(d<h.length))return[3,8];return f=h[d],[4,(0,F.attempt)(t,f)];case 6:(l=o.sent())instanceof j.CoreContext&&(t=l),this.emit("message_enriched",t,f),o.label=7;case 7:return d++,[3,5];case 8:return g=(p=this.availableExtensions(null!=(n=t.event.integrations)?n:{})).destinations,v=p.after,[4,new Promise(function(e,n){setTimeout(function(){Promise.all(g.map(function(e){return(0,F.attempt)(t,e)})).then(e).catch(n)},0)})];case 9:return o.sent(),t.stats.increment("message_delivered"),this.emit("message_delivered",t),[4,Promise.all(v.map(function(e){return(0,F.attempt)(t,e)}))];case 10:return o.sent(),[2,t]}})})},e}(_.Emitter));function K(t){for(var e=t.constructor.prototype,n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var i=r[n];if("constructor"!==i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);o&&"function"==typeof o.value&&(t[i]=t[i].bind(t))}}return t}var q=function(t,e,n,r){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(n,'" | Err: ').concat(r))},W=function(){function t(t){this.stores=t}return t.prototype.get=function(t){for(var e=null,n=0,r=this.stores;n<r.length;n++){var i=r[n];try{if(null!=(e=i.get(t)))return e}catch(e){q(i,"get",t,e)}}return null},t.prototype.set=function(t,e){this.stores.forEach(function(n){try{n.set(t,e)}catch(e){q(n,"set",t,e)}})},t.prototype.clear=function(t){this.stores.forEach(function(e){try{e.remove(t)}catch(n){q(e,"remove",t,n)}})},t.prototype.getAndSync=function(t){var e=this.get(t),n="number"==typeof e?e.toString():e;return this.set(t,n),n},t}(),U=function(){function t(){this.cache={}}return t.prototype.get=function(t){var e;return null!=(e=this.cache[t])?e:null},t.prototype.set=function(t,e){this.cache[t]=e},t.prototype.remove=function(t){delete this.cache[t]},t}(),z={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var V=function t(e,n){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=B({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+o}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=e.read(a,s),t===s)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",B({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,B({},this.attributes,e))},withConverter:function(e){return t(B({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function G(t){var e=function(t){try{return new URL(t)}catch(t){return}}(t);if(e)for(var n=function(t){var e=t.hostname.split("."),n=e[e.length-1],r=[];if(4===e.length&&parseInt(n,10)>0||e.length<=1)return r;for(var i=e.length-2;i>=0;--i)r.push(e.slice(i).join("."));return r}(e),r=0;r<n.length;++r){var i="__tld__",o=n[r],a={domain:"."+o};try{if(V.set(i,"1",a),V.get(i))return V.remove(i,a),o}catch(t){return}}}var J=function(){function t(e){void 0===e&&(e=t.defaults),this.options=(0,o.__assign)((0,o.__assign)({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:365,domain:G(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(t){var e;try{var n=V.get(t);if(null==n)return null;try{return null!=(e=JSON.parse(n))?e:null}catch(t){return null!=n?n:null}}catch(t){return null}},t.prototype.set=function(t,e){"string"==typeof e?V.set(t,e,this.opts()):null===e?V.remove(t,this.opts()):V.set(t,JSON.stringify(e),this.opts())},t.prototype.remove=function(t){return V.remove(t,this.opts())},t}(),H=function(){function t(){}return t.prototype.localStorageWarning=function(t,e){console.warn("Unable to access ".concat(t,", localStorage may be ").concat(e))},t.prototype.get=function(t){var e;try{var n=localStorage.getItem(t);if(null===n)return null;try{return null!=(e=JSON.parse(n))?e:null}catch(t){return null!=n?n:null}}catch(e){return this.localStorageWarning(t,"unavailable"),null}},t.prototype.set=function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(e){this.localStorageWarning(t,"full")}},t.prototype.remove=function(t){try{return localStorage.removeItem(t)}catch(e){this.localStorageWarning(t,"unavailable")}},t}();function Q(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(t){return Object.values(z).includes(t)})}function Y(t){return t.map(function(t){var e,n;switch("object"==typeof t&&void 0!==t.name?(e=t.name,n=t.settings):e=t,e){case z.Cookie:return new J(n);case z.LocalStorage:return new H;case z.Memory:return new U;default:throw Error("Unknown Store Type: ".concat(t))}})}function X(t,e){return t.map(function(t){return e&&t===z.Cookie?{name:t,settings:e}:t})}var Z={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},$=function(){function t(t,e){void 0===t&&(t=Z);var n,r,i,a,s=this;this.options={},this.id=function(t){if(s.options.disable)return null;var e=s.identityStore.getAndSync(s.idKey);void 0!==t&&(s.identityStore.set(s.idKey,t),t!==e&&null!==e&&null!==t&&s.anonymousId(null));var n=s.identityStore.getAndSync(s.idKey);if(n)return n;var r=s.legacyUserStore.get(Z.cookie.oldKey);return r?"object"==typeof r?r.id:r:null},this.anonymousId=function(t){var e,n;if(s.options.disable)return null;if(void 0===t){var r=null!=(e=s.identityStore.getAndSync(s.anonKey))?e:null==(n=s.legacySIO())?void 0:n[0];if(r)return r}return null===t?s.identityStore.set(s.anonKey,null):s.identityStore.set(s.anonKey,null!=t?t:(0,y.v4)()),s.identityStore.getAndSync(s.anonKey)},this.traits=function(t){var e;if(!s.options.disable)return null===t&&(t={}),t&&s.traitsStore.set(s.traitsKey,null!=t?t:{}),null!=(e=s.traitsStore.get(s.traitsKey))?e:{}},this.options=(0,o.__assign)((0,o.__assign)({},Z),t),this.cookieOptions=e,this.idKey=null!=(r=null==(n=t.cookie)?void 0:n.key)?r:Z.cookie.key,this.traitsKey=null!=(a=null==(i=t.localStorage)?void 0:i.key)?a:Z.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,e),this.legacyUserStore=this.createStorage(this.options,e,function(t){return t===z.Cookie}),this.traitsStore=this.createStorage(this.options,e,function(t){return t!==z.Cookie});var u=this.legacyUserStore.get(Z.cookie.oldKey);u&&"object"==typeof u&&(u.id&&this.id(u.id),u.traits&&this.traits(u.traits)),K(this)}return t.prototype.legacySIO=function(){var t=this.legacyUserStore.get("_sio");if(!t)return null;var e=t.split("----");return[e[0],e[1]]},t.prototype.identify=function(t,e){if(!this.options.disable){e=null!=e?e:{};var n=this.id();(null===n||n===t)&&(e=(0,o.__assign)((0,o.__assign)({},this.traits()),e)),t&&this.id(t),this.traits(e)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(t,e,n){var r=[z.LocalStorage,z.Cookie,z.Memory];return t.disable?new W([]):t.persist?(void 0!==t.storage&&null!==t.storage&&Q(t.storage)&&(r=t.storage.stores),t.localStorageFallbackDisabled&&(r=r.filter(function(t){return t!==z.LocalStorage})),n&&(r=r.filter(n)),new W(Y(X(r,e)))):new W([new U])},t.defaults=Z,t}(),tt={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},te=function(t){function e(e,n){void 0===e&&(e=tt);var r=t.call(this,(0,o.__assign)((0,o.__assign)({},tt),e),n)||this;return r.anonymousId=function(t){},K(r),r}return(0,o.__extends)(e,t),e}($),tn=t.i(30694),tr=t.i(20611),ti=t.i(13113),to=t.i(34621),ta=function(t,e,n){n.getAndRemove(t).forEach(function(t){tp(e,t).catch(console.error)})},ts=ta.bind(void 0,"on"),tu=ta.bind(void 0,"setAnonymousId"),tc=function(t,e){Object.keys(e.calls).forEach(function(n){e.getAndRemove(n).forEach(function(e){setTimeout(function(){tp(t,e).catch(console.error)},0)})})},tl=function(t){if(td(t))return E(t.pop())},td=function(t){var e=t[t.length-1];if("object"!==Object.prototype.toString.call(e).slice(8,-1).toLowerCase()||"bpc"!==e.__t)return!1;for(var n in e)if(!b.includes(n))return!1;return!0},th=function(t,e,n,r){void 0===n&&(n=function(){}),void 0===r&&(r=console.error),this.method=t,this.resolve=n,this.reject=r,this.called=!1,this.args=e},tf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._callMap={},this.add.apply(this,t)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(t){this._callMap=t},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e;return null!=(e=this.calls[t])?e:[]},t.prototype.getAndRemove=function(t){var e=this.get(t);return this.calls[t]=[],e},t.prototype.add=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach(function(e){["track","screen","alias","group","page","identify"].includes(e.method)&&!td(e.args)&&(e.args=(0,o.__spreadArray)((0,o.__spreadArray)([],e.args,!0),[A()],!1)),t.calls[e.method]?t.calls[e.method].push(e):t.calls[e.method]=[e]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var t;return(t=[]).concat.apply(t,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){if("npm"!==(0,to.getVersionType)()){var t=(0,ti.getGlobalAnalytics)();if(Array.isArray(t)){var e=t.splice(0,t.length).map(function(t){return new th(t[0],t.slice(1))});this.add.apply(this,e)}}},t}();function tp(t,e){return(0,o.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,o.__generator)(this,function(i){switch(i.label){case 0:var o;if(i.trys.push([0,3,,4]),e.called)return[2,void 0];if(e.called=!0,!("object"==typeof(o=n=t[e.method].apply(t,e.args))&&null!==o&&"then"in o&&"function"==typeof o.then))return[3,2];return[4,n];case 1:i.sent(),i.label=2;case 2:return e.resolve(n),[3,4];case 3:return r=i.sent(),e.reject(r),[3,4];case 4:return[2]}})})}var tg=function(){function t(t){var e=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=tn.version,this._preInitBuffer=new tf,this._promise=t(this._preInitBuffer),this._promise.then(function(t){var n=t[0],r=t[1];e.instance=n,e.ctx=r}).catch(function(){})}return t.prototype.then=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._promise).then.apply(t,e)},t.prototype.catch=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._promise).catch.apply(t,e)},t.prototype.finally=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._promise).finally.apply(t,e)},t.prototype._createMethod=function(t){var e=this;return function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.instance?Promise.resolve((n=e.instance)[t].apply(n,r)):new Promise(function(n,i){e._preInitBuffer.add(new th(t,r,n,i))})}},t.prototype._createChainableMethod=function(t){var e=this;return function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.instance?(n=e.instance)[t].apply(n,r):e._preInitBuffer.add(new th(t,r)),e}},t}(),tv=t.i(19045),t_=t.i(70541),ty=function(t){var e=!1;window.addEventListener("pagehide",function(){e||t(e=!0)}),document.addEventListener("visibilitychange",function(){if("hidden"==document.visibilityState){if(e)return;e=!0}else e=!1;t(e)})},tm=function(t){function e(e,n){var r=t.call(this,e)||this;return r.retryTimeout=n,r.name="RateLimitError",r}return(0,o.__extends)(e,t),e}(Error),tb=function(t){return(0,o.__assign)({"Content-Type":"text/plain"},"function"==typeof t?t():t)};function tw(t){return(encodeURI(JSON.stringify(t)).split(/%..|./).length-1)/1024}var tS=t.i(85630);function tE(t,e,n,r){var i=this;t||setTimeout(function(){return(0,o.__awaiter)(i,void 0,void 0,function(){var t,i;return(0,o.__generator)(this,function(a){switch(a.label){case 0:return t=!0,[4,function(t,e){return(0,o.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,o.__generator)(this,function(i){switch(i.label){case 0:if(n=[],(0,p.isOffline)())return[2,e];return[4,(0,tS.pWhile)(function(){return e.length>0&&!(0,p.isOffline)()},function(){return(0,o.__awaiter)(r,void 0,void 0,function(){var r;return(0,o.__generator)(this,function(i){switch(i.label){case 0:if(!(r=e.pop()))return[2];return[4,(0,F.attempt)(r,t)];case 1:return i.sent()instanceof g.Context||n.push(r),[2]}})})})];case 1:return i.sent(),n.map(function(t){return e.pushWithBackoff(t)}),[2,e]}})})}(n,e)];case 1:return i=a.sent(),t=!1,e.todo>0&&r(t,i,n,r),[2]}})})},5e3*Math.random())}var tA=t.i(33041),tI=function(t){return"Segment.io"===t.name},tC="This is being deprecated and will be not be available in future releases of Analytics JS",tk=(0,tr.getGlobal)(),tM=null==tk?void 0:tk.analytics,tO=function(){function t(t,e){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var t;return null==(t=e.plugins.find(tI))?void 0:t.metadata},this.writeKey=t.writeKey,this.cdnSettings=null!=(n=t.cdnSettings)?n:{integrations:{"Segment.io":{apiKey:""}}},this.cdnURL=t.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var t,e;return null==(e=null==(t=this._getSegmentPluginMetadata)?void 0:t.call(this))?void 0:e.apiHost},enumerable:!1,configurable:!0}),t}();function tN(){console.warn(tC)}var tL=function(e){function n(t,n,r,i,a){var s,u,c,l,d,h,f=this;(f=e.call(this)||this)._debug=!1,f.initialized=!1,f.user=function(){return f._user},f.init=f.initialize.bind(f),f.log=tN,f.addIntegrationMiddleware=tN,f.listeners=tN,f.addEventListener=tN,f.removeAllListeners=tN,f.removeListener=tN,f.removeEventListener=tN,f.hasListeners=tN,f.add=tN,f.addIntegration=tN;var p=null==n?void 0:n.cookie,g=null!=(d=null==n?void 0:n.disableClientPersistence)&&d;f.queue=null!=r?r:(s="".concat(t.writeKey,":event-queue"),void 0===(u=null==n?void 0:n.retryQueue)&&(u=!1),void 0===(c=g)&&(c=!1),l=u?10:1,new R(c?new D.PriorityQueue(l,[]):new P.PersistedPriorityQueue(l,s))),f.settings=new tO(t,f.queue);var v=null==n?void 0:n.storage;return f._universalStorage=f.createStore(g,v,p),f._user=null!=i?i:new $((0,o.__assign)({persist:!g,storage:null==n?void 0:n.storage},null==n?void 0:n.user),p).load(),f._group=null!=a?a:new te((0,o.__assign)({persist:!g,storage:null==n?void 0:n.storage},null==n?void 0:n.group),p).load(),f.eventFactory=new L(f._user),f.integrations=null!=(h=null==n?void 0:n.integrations)?h:{},f.options=null!=n?n:{},K(f),f}return(0,o.__extends)(n,e),n.prototype.createStore=function(t,e,n){return new W(t?[new U]:e&&Q(e)?Y(X(e.stores,n)):Y([z.LocalStorage,{name:z.Cookie,settings:n},z.Memory]))},Object.defineProperty(n.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),n.prototype.track=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,a,s,u,c=this;return(0,o.__generator)(this,function(o){return e=tl(t),r=(n=l.apply(void 0,t))[0],i=n[1],a=n[2],s=n[3],u=this.eventFactory.track(r,i,a,this.integrations,e),[2,this._dispatch(u,s).then(function(t){return c.emit("track",r,t.event.properties,t.event.options),t})]})})},n.prototype.page=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,a,s,u,c,l=this;return(0,o.__generator)(this,function(o){return e=tl(t),r=(n=d.apply(void 0,t))[0],i=n[1],a=n[2],s=n[3],u=n[4],c=this.eventFactory.page(r,i,a,s,this.integrations,e),[2,this._dispatch(c,u).then(function(t){return l.emit("page",r,i,t.event.properties,t.event.options),t})]})})},n.prototype.identify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,a,s,u,c=this;return(0,o.__generator)(this,function(o){return e=tl(t),r=(n=h(this._user).apply(void 0,t))[0],i=n[1],a=n[2],s=n[3],this._user.identify(r,i),u=this.eventFactory.identify(this._user.id(),this._user.traits(),a,this.integrations,e),[2,this._dispatch(u,s).then(function(t){return c.emit("identify",t.event.userId,t.event.traits,t.event.options),t})]})})},n.prototype.group=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=tl(e);if(0===e.length)return this._group;var i=h(this._group).apply(void 0,e),o=i[0],a=i[1],s=i[2],u=i[3];this._group.identify(o,a);var c=this._group.id(),l=this._group.traits(),d=this.eventFactory.group(c,l,s,this.integrations,r);return this._dispatch(d,u).then(function(e){return t.emit("group",e.event.groupId,e.event.traits,e.event.options),e})},n.prototype.alias=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,a,s,u,c=this;return(0,o.__generator)(this,function(o){return e=tl(t),r=(n=f.apply(void 0,t))[0],i=n[1],a=n[2],s=n[3],u=this.eventFactory.alias(r,i,a,this.integrations,e),[2,this._dispatch(u,s).then(function(t){return c.emit("alias",r,i,t.event.options),t})]})})},n.prototype.screen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,a,s,u,c,l=this;return(0,o.__generator)(this,function(o){return e=tl(t),r=(n=d.apply(void 0,t))[0],i=n[1],a=n[2],s=n[3],u=n[4],c=this.eventFactory.screen(r,i,a,s,this.integrations,e),[2,this._dispatch(c,u).then(function(t){return l.emit("screen",r,i,t.event.properties,t.event.options),t})]})})},n.prototype.trackClick=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,o.__awaiter)(this,void 0,void 0,function(){var n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,t.A(4098)];case 1:return[2,(n=r.sent().link).call.apply(n,(0,o.__spreadArray)([this],e,!1))]}})})},n.prototype.trackLink=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,o.__awaiter)(this,void 0,void 0,function(){var n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,t.A(4098)];case 1:return[2,(n=r.sent().link).call.apply(n,(0,o.__spreadArray)([this],e,!1))]}})})},n.prototype.trackSubmit=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,o.__awaiter)(this,void 0,void 0,function(){var n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,t.A(4098)];case 1:return[2,(n=r.sent().form).call.apply(n,(0,o.__spreadArray)([this],e,!1))]}})})},n.prototype.trackForm=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,o.__awaiter)(this,void 0,void 0,function(){var n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,t.A(4098)];case 1:return[2,(n=r.sent().form).call.apply(n,(0,o.__spreadArray)([this],e,!1))]}})})},n.prototype.register=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return e=g.Context.system(),[4,Promise.all(t.map(function(t){return n.queue.register(e,t,n)}))];case 1:return r.sent(),[2,e]}})})},n.prototype.deregister=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return e=g.Context.system(),[4,Promise.all(t.map(function(t){var r=n.queue.plugins.find(function(e){return e.name===t});if(r)return n.queue.deregister(e,r,n);e.log("warn","plugin ".concat(t," not found"))}))];case 1:return r.sent(),[2,e]}})})},n.prototype.debug=function(t){return!1===t&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=t,this},n.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},n.prototype.timeout=function(t){this.settings.timeout=t},n.prototype._dispatch=function(t,e){return(0,o.__awaiter)(this,void 0,void 0,function(){var n;return(0,o.__generator)(this,function(r){return((n=new g.Context(t)).stats.increment("analytics_js.invoke",1,[t.type]),(0,p.isOffline)()&&!this.options.retryQueue)?[2,n]:[2,function(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,function(){var i,a;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(n.emit("dispatch_start",t),i=Date.now(),!e.isEmpty())return[3,2];return[4,e.dispatchSingle(t)];case 1:return a=o.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:a=o.sent(),o.label=4;case 4:var s,u;if(!(null==r?void 0:r.callback))return[3,6];return[4,(0,v.invokeCallback)(a,r.callback,(s=i,Math.max((null!=(u=r.timeout)?u:300)-(Date.now()-s),0)))];case 5:a=o.sent(),o.label=6;case 6:return(null==r?void 0:r.debug)&&a.flush(),[2,a]}})})}(n,this.queue,this,{callback:e,debug:this._debug,timeout:this.settings.timeout})]})})},n.prototype.addSourceMiddleware=function(e){return(0,o.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,this.queue.criticalTasks.run(function(){return(0,o.__awaiter)(n,void 0,void 0,function(){var n,r,i;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return[4,t.A(71106)];case 1:return n=o.sent().sourceMiddlewarePlugin,r={},this.queue.plugins.forEach(function(t){if("destination"===t.type)return r[t.name]=!0}),i=n(e,r),[4,this.register(i)];case 2:return o.sent(),[2]}})})})];case 1:return r.sent(),[2,this]}})})},n.prototype.addDestinationMiddleware=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.queue.plugins.filter(T).forEach(function(n){("*"===t||n.name.toLowerCase()===t.toLowerCase())&&n.addMiddleware.apply(n,e)}),Promise.resolve(this)},n.prototype.setAnonymousId=function(t){return this._user.anonymousId(t)},n.prototype.queryString=function(e){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(n){switch(n.label){case 0:if(!1===this.options.useQueryString)return[2,[]];return[4,t.A(16332)];case 1:return[2,(0,n.sent().queryString)(this,e)]}})})},n.prototype.use=function(t){return t(this),this},n.prototype.ready=function(t){return void 0===t&&(t=function(t){return t}),(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(e){return[2,Promise.all(this.queue.plugins.map(function(t){return t.ready?t.ready():Promise.resolve()})).then(function(e){return t(e),e})]})})},n.prototype.noConflict=function(){return console.warn(tC),(0,ti.setGlobalAnalytics)(null!=tM?tM:this),this},n.prototype.normalize=function(t){return console.warn(tC),this.eventFactory.normalize(t)},Object.defineProperty(n.prototype,"failedInitializations",{get:function(){return console.warn(tC),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"VERSION",{get:function(){return tn.version},enumerable:!1,configurable:!0}),n.prototype.initialize=function(t,e){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(t){return console.warn(tC),[2,Promise.resolve(this)]})})},n.prototype.pageview=function(t){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(e){switch(e.label){case 0:return console.warn(tC),[4,this.page({path:t})];case 1:return e.sent(),[2,this]}})})},Object.defineProperty(n.prototype,"plugins",{get:function(){var t;return console.warn(tC),null!=(t=this._plugins)?t:{}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Integrations",{get:function(){return console.warn(tC),this.queue.plugins.filter(function(t){return"destination"===t.type}).reduce(function(t,e){var n="".concat(e.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),r=window[n];if(!r)return t;var i=r.Integration;return i?t[e.name]=i:t[e.name]=r,t},{})},enumerable:!1,configurable:!0}),n.prototype.push=function(t){var e=t.shift();(!e||this[e])&&this[e].apply(this,t)},n}(_.Emitter),tT=function(t){function e(){var e=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return e.initialized=!0,e}return(0,o.__extends)(e,t),e}(tL),tP=t.i(52977),tD=t.i(81473),tj=t.i(45955),tx=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(t){var n=t[0],r=t[1];Array.isArray(r)?r.forEach(function(t){return e.append(n,t)}):e.append(n,r)}),e.toString()}catch(t){return""}},tF=new function(){var t=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(e,n){return(0,o.__awaiter)(t,void 0,void 0,function(){var t;return(0,o.__generator)(this,function(e){switch(e.label){case 0:this.instance=n,e.label=1;case 1:return e.trys.push([1,3,,4]),t=this,[4,function(t){return(0,o.__awaiter)(this,void 0,void 0,function(){var e;return(0,o.__generator)(this,function(n){return(e=navigator.userAgentData)?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}(this.instance.options.highEntropyValuesClientHints)];case 2:return t.userAgentData=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(n){var r,i,a,s,u,c,l=n.event.context,d=l.page.search||"",h="object"==typeof d?tx(d):d;l.userAgent=navigator.userAgent,l.userAgentData=t.userAgentData;var f=navigator.userLanguage||navigator.language;void 0===l.locale&&void 0!==f&&(l.locale=f),null!=l.library||(l.library={name:"analytics.js",version:"".concat("web"===(0,to.getVersionType)()?"next":"npm:next","-").concat(tn.version)}),h&&!l.campaign&&((r=h).startsWith("?")&&(r=r.substring(1)),l.campaign=(r=r.replace(/\?/g,"&")).split("&").reduce(function(t,e){var n=e.split("="),r=n[0],i=n[1];if(r.includes("utm_")&&r.length>4){var o=r.slice(4);"campaign"===o&&(o="name"),t[o]=(0,tj.gracefulDecodeURIComponent)(void 0===i?"":i)}return t},{}));var p=function(){var t=V.get("_ga");if(t&&t.startsWith("amp"))return t}();p&&(l.amp={id:p}),s=(a=new W(null!=(c=t.instance.options.disableClientPersistence)&&c?[]:[new J(function(){if(e)return e;var t=G(window.location.href);return e={expires:31536e6,secure:!1,path:"/"},t&&(e.domain=t),e}())])).get("s:context.referrer"),(u=null!=(i=function(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1));for(var n=(t=t.replace(/\?/g,"&")).split("&"),r=0;r<n.length;r++){var i=n[r].split("="),o=i[0],a=i[1];if(e[o])return{id:a,type:e[o]}}}(h))?i:s)&&(l&&(l.referrer=(0,o.__assign)((0,o.__assign)({},l.referrer),u)),a.set("s:context.referrer",u));try{l.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){}return n},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich},tR=t.i(80924),tK=t.i(24124),tq=t.i(31320),tW=function(){function t(t,e){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=(0,tD.createDeferred)(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=e,this.name=t,this.type=e.type,this.alternativeNames.push(e.name)}return t.prototype.addMiddleware=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];"destination"===this.type&&(t=this.middleware).push.apply(t,e)},t.prototype.transform=function(t){return(0,o.__awaiter)(this,void 0,void 0,function(){var e;return(0,o.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,tK.applyDestinationMiddleware)(this.name,t.event,this.middleware)];case 1:return null===(e=n.sent())&&t.cancel(new j.ContextCancelation({retry:!1,reason:"dropped by destination middleware"})),[2,new g.Context(e)]}})})},t.prototype._createMethod=function(t){var e=this;return function(n){return(0,o.__awaiter)(e,void 0,void 0,function(){var e,r;return(0,o.__generator)(this,function(i){switch(i.label){case 0:if(!this.action[t])return[2,n];if(e=n,"destination"!==this.type)return[3,2];return[4,this.transform(n)];case 1:e=i.sent(),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!i.sent())throw Error("Something prevented the destination from getting ready");return(0,tq.recordIntegrationMetric)(n,{integrationName:this.action.name,methodName:t,type:"action"}),[4,this.action[t](e)];case 4:return i.sent(),[3,6];case 5:throw r=i.sent(),(0,tq.recordIntegrationMetric)(n,{integrationName:this.action.name,methodName:t,type:"action",didError:!0}),r;case 6:return[2,n]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return t.sent(),[2,!0];case 2:return t.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(t,e){return(0,o.__awaiter)(this,void 0,void 0,function(){var n,r,i,a;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];o.label=1;case 1:return o.trys.push([1,3,,4]),(0,tq.recordIntegrationMetric)(t,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(t,e),i=(r=this.loadPromise).resolve,[4,n];case 2:return i.apply(r,[o.sent()]),[2,n];case 3:throw a=o.sent(),(0,tq.recordIntegrationMetric)(t,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(a),a;case 4:return[2]}})})},t.prototype.unload=function(t,e){var n,r;return null==(r=(n=this.action).unload)?void 0:r.call(n,t,e)},t}(),tU=(0,tr.getGlobal)(),tz=null!=(n=tU.__SEGMENT_INSPECTOR__)?n:tU.__SEGMENT_INSPECTOR__={},tB=function(t){var e;return null==(e=tz.attach)?void 0:e.call(tz,t)},tV=t.i(78302),tG=function(){var t,e,n=null!=(t=window.location.hash)?t:"",r=null!=(e=window.location.search)?e:"";return r.length?r:n.replace(/(?=#).*(?=\?)/,"")},tJ=function(e){function n(){var n=this,r=(0,tD.createDeferred)(),i=r.promise,a=r.resolve;return(n=e.call(this,function(e){return i.then(function(n){return function(e,n,r){var i,a,c,l,d,h,f,v,_;return void 0===n&&(n={}),(0,o.__awaiter)(this,void 0,void 0,function(){var y,m,b,w,S,E,A,I,C,k;return(0,o.__generator)(this,function(M){switch(M.label){case 0:if(!0===n.disable)return[2,[new tT,g.Context.system()]];if(n.globalAnalyticsKey&&(0,ti.setGlobalAnalyticsKey)(n.globalAnalyticsKey),e.cdnURL&&(0,u.setGlobalCDNUrl)(e.cdnURL),n.initialPageview&&r.add(new th("page",[])),y=tG(),m=null!=(i=e.cdnURL)?i:(0,u.getCDN)(),null==(a=e.cdnSettings))return[3,1];return w=a,[3,3];case 1:var O,N;return[4,(O=e.writeKey,N=m,(0,t_.fetch)("".concat(N,"/v1/projects/").concat(O,"/settings")).then(function(t){return t.ok?t.json():t.text().then(function(t){throw Error(t)})}).catch(function(t){throw console.error(t.message),t}))];case 2:w=M.sent(),M.label=3;case 3:if(b=w,n.updateCDNSettings&&(b=n.updateCDNSettings(b)),"function"!=typeof n.disable)return[3,5];return[4,n.disable(b)];case 4:if(M.sent())return[2,[new tT,g.Context.system()]];M.label=5;case 5:return S=null==(l=null==(c=b.integrations["Segment.io"])?void 0:c.retryQueue)||l,n=(0,o.__assign)({retryQueue:S},n),tB(E=new tL((0,o.__assign)((0,o.__assign)({},e),{cdnSettings:b,cdnURL:m}),n)),A=null!=(d=e.plugins)?d:[],I=null!=(h=e.classicIntegrations)?h:[],C=null==(f=n.integrations)?void 0:f["Segment.io"],tV.Stats.initRemoteMetrics((0,o.__assign)((0,o.__assign)({},b.metrics),{host:null!=(v=null==C?void 0:C.apiHost)?v:null==(_=b.metrics)?void 0:_.host,protocol:null==C?void 0:C.protocol})),[4,function(e,n,r,i,a,c,l){var d,h,f;return void 0===a&&(a=[]),(0,o.__awaiter)(this,void 0,void 0,function(){var v,_,y,m,b,w,S,E,A,I,C,k,M,O,N=this;return(0,o.__generator)(this,function(L){var T,j,x;switch(L.label){case 0:if(tu(r,l),ts(r,l),v=null==a?void 0:a.filter(function(t){return"object"==typeof t}),_=null==a?void 0:a.filter(function(t){return"function"==typeof t&&"string"==typeof t.pluginName}),"test"===s().NODE_ENV||!((null!=(x=null==(j=null==(T=n.middlewareSettings)?void 0:T.routingRules)?void 0:j.length)?x:0)>0))return[3,2];return[4,t.A(69583).then(function(t){return t.tsubMiddleware(n.middlewareSettings.routingRules)})];case 1:return m=L.sent(),[3,3];case 2:m=void 0,L.label=3;case 3:if(y=m,("test"===s().NODE_ENV||!(Object.keys(n.integrations).length>1))&&!(c.length>0))return[3,5];return[4,t.A(49122).then(function(t){return t.ajsDestinations(e,n,r.integrations,i,y,c)})];case 4:return w=L.sent(),[3,6];case 5:w=[],L.label=6;case 6:if(b=w,!n.legacyVideoPluginsEnabled)return[3,8];return[4,t.A(73470).then(function(t){return t.loadLegacyVideoPlugins(r)})];case 7:L.sent(),L.label=8;case 8:if(!(null==(d=i.plan)?void 0:d.track))return[3,10];return[4,t.A(28089).then(function(t){var e;return t.schemaFilter(null==(e=i.plan)?void 0:e.track,n)})];case 9:return E=L.sent(),[3,11];case 10:E=void 0,L.label=11;case 11:return S=E,A=(0,tP.mergedOptions)(n,i),[4,(function(t,e,n,r,i,a){var s,c,l;return(0,o.__awaiter)(this,void 0,void 0,function(){var d,h,f=this;return(0,o.__generator)(this,function(p){switch(p.label){case 0:return d=[],h=null!=(c=null==(s=t.middlewareSettings)?void 0:s.routingRules)?c:[],[4,Promise.all((null!=(l=t.remotePlugins)?l:[]).map(function(t){return(0,o.__awaiter)(f,void 0,void 0,function(){var s,c,l,f,p,g;return(0,o.__generator)(this,function(v){switch(v.label){case 0:var _,y;if(_=e[t.creationName],y=e[t.name],!1===e.All&&!_&&!y||!1===_||!1===y||0)return[2];v.label=1;case 1:if(v.trys.push([1,6,,7]),c=null==a?void 0:a.find(function(e){return e.pluginName===t.name}))return[3,3];return[4,function(t,e){return(0,o.__awaiter)(this,void 0,void 0,function(){var n,r,i,a,s,c;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,9,,10]),n=RegExp("https://cdn.segment.(com|build)"),r=(0,u.getCDN)(),!e)return[3,6];a=(i=t.url.split("/"))[i.length-2],s=t.url.replace(a,btoa(a).replace(/=/g,"")),o.label=1;case 1:return o.trys.push([1,3,,5]),[4,(0,tR.loadScript)(s.replace(n,r))];case 2:case 4:return o.sent(),[3,5];case 3:return o.sent(),[4,(0,tR.loadScript)(t.url.replace(n,r))];case 5:return[3,8];case 6:return[4,(0,tR.loadScript)(t.url.replace(n,r))];case 7:o.sent(),o.label=8;case 8:if("function"==typeof window[t.libraryName])return[2,window[t.libraryName]];return[3,10];case 9:throw c=o.sent(),console.error("Failed to create PluginFactory",t),c;case 10:return[2]}})})}(t,null==r?void 0:r.obfuscate)];case 2:c=v.sent(),v.label=3;case 3:if(!(s=c))return[3,5];return l=n[t.name],[4,s((0,o.__assign)((0,o.__assign)({},t.settings),l))];case 4:!function(t){if(!Array.isArray(t))throw Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];t.forEach(function(t){e.forEach(function(e){var n;if(void 0===t[e])throw Error("Plugin: ".concat(null!=(n=t.name)?n:"unknown"," missing required function ").concat(e))})})}(p=Array.isArray(f=v.sent())?f:[f]),g=h.filter(function(e){return e.destinationName===t.creationName}),p.forEach(function(e){var n=new tW(t.creationName,e);g.length&&i&&n.addMiddleware(i),d.push(n)}),v.label=5;case 5:return[3,7];case 6:return console.warn("Failed to load Remote Plugin",v.sent()),[3,7];case 7:return[2]}})})}))];case 1:return p.sent(),[2,d.filter(Boolean)]}})})})(n,r.integrations,A,i,y,_).catch(function(){return[]})];case 12:if(I=L.sent(),C=(0,o.__spreadArray)((0,o.__spreadArray)([tF],b,!0),I,!0),S&&C.push(S),(null==(h=i.integrations)?void 0:h.All)===!1&&!i.integrations["Segment.io"]||i.integrations&&!1===i.integrations["Segment.io"])return[3,14];return M=(k=C).push,[4,function(t,e,n){window.addEventListener("pagehide",function(){c.push.apply(c,Array.from(l)),l.clear()});var r,i,a,s,u=null!=(i=null==e?void 0:e.apiKey)?i:"",c=t.options.disableClientPersistence?new D.PriorityQueue(t.queue.queue.maxAttempts,[]):new P.PersistedPriorityQueue(t.queue.queue.maxAttempts,"".concat(u,":dest-Segment.io")),l=new Set,d=null!=(a=null==e?void 0:e.apiHost)?a:tA.SEGMENT_API_HOST,h=null!=(s=null==e?void 0:e.protocol)?s:"https",f="".concat(h,"://").concat(d),v=null==e?void 0:e.deliveryStrategy,_=v&&"strategy"in v&&"batching"===v.strategy?function(t,e){var n,r,i,a=[],s=!1,u=null!=(n=null==e?void 0:e.size)?n:10,c=null!=(r=null==e?void 0:e.timeout)?r:5e3,l=0;function d(n){if(0!==n.length){var r,i=null==(r=n[0])?void 0:r.writeKey,a=n.map(function(t){return t.sentAt,(0,o.__rest)(t,["sentAt"])});return(0,t_.fetch)("https://".concat(t,"/b"),{credentials:null==e?void 0:e.credentials,keepalive:(null==e?void 0:e.keepalive)||s,headers:tb(null==e?void 0:e.headers),method:"post",body:JSON.stringify({writeKey:i,batch:a,sentAt:new Date().toISOString()}),priority:null==e?void 0:e.priority}).then(function(t){var e;if(t.status>=500)throw Error("Bad response from server: ".concat(t.status));if(429===t.status){var n=null==(e=t.headers)?void 0:e.get("x-ratelimit-reset"),r="string"==typeof n?1e3*parseInt(n):c;throw new tm("Rate limit exceeded: ".concat(t.status),r)}})}}function h(t){var n;return void 0===t&&(t=1),(0,o.__awaiter)(this,void 0,void 0,function(){var r;return(0,o.__generator)(this,function(i){return a.length?(r=a,a=[],[2,null==(n=d(r))?void 0:n.catch(function(n){var i;g.Context.system().log("error","Error sending batch",n),t<=(null!=(i=null==e?void 0:e.maxRetries)?i:10)&&("RateLimitError"===n.name&&(l=n.retryTimeout),a.push.apply(a,r),a.map(function(e){"_metadata"in e&&(e._metadata=(0,o.__assign)((0,o.__assign)({},e._metadata),{retryCount:t}))}),f(t+1))})]):[2]})})}function f(t){void 0===t&&(t=1),i||(i=setTimeout(function(){i=void 0,h(t).catch(console.error)},l||c),l=0)}return ty(function(t){if((s=t)&&a.length){var e,n;Promise.all((e=[],n=0,a.forEach(function(t){tw(e[n])>=64&&n++,e[n]?e[n].push(t):e[n]=[t]}),e).map(d)).catch(console.error)}}),{dispatch:function(t,n){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(t){return a.push(n),[2,a.length>=u||tw(a)>=450||(null==e?void 0:e.keepalive)&&tw(a)>=54||s?h():f()]})})}}}(d,v.config):(r=null==v?void 0:v.config,{dispatch:function(t,e){return(0,t_.fetch)(t,{credentials:null==r?void 0:r.credentials,keepalive:null==r?void 0:r.keepalive,headers:tb(null==r?void 0:r.headers),method:"post",body:JSON.stringify(e),priority:null==r?void 0:r.priority}).then(function(t){var e;if(t.status>=500)throw Error("Bad response from server: ".concat(t.status));if(429===t.status){var n=null==(e=t.headers)?void 0:e.get("x-ratelimit-reset"),r=n?1e3*parseInt(n):5e3;throw new tm("Rate limit exceeded: ".concat(t.status),r)}})}});function y(r){return(0,o.__awaiter)(this,void 0,void 0,function(){var i,a;return(0,o.__generator)(this,function(s){var u,d,h,g,v,y;return(0,p.isOffline)()?(c.push(r),tE(!1,c,m,tE),[2,r]):(l.add(r),i=r.event.type.charAt(0),a=(0,tv.toFacade)(r.event).json(),"track"===r.event.type&&delete a.traits,"alias"===r.event.type&&(u=a,y=t.user(),u.previousId=null!=(g=null!=(h=null!=(d=u.previousId)?d:u.from)?h:y.id())?g:y.anonymousId(),u.userId=null!=(v=u.userId)?v:u.to,delete u.from,delete u.to,a=u),c.getAttempts(r)>=c.maxAttempts)?(l.delete(r),[2,r]):[2,_.dispatch("".concat(f,"/").concat(i),function(t,e,n,r,i){var a,s=t.user();delete e.options,e.writeKey=null==n?void 0:n.apiKey,e.userId=e.userId||s.id(),e.anonymousId=e.anonymousId||s.anonymousId(),e.sentAt=new Date;var u=t.queue.failedInitializations||[];u.length>0&&(e._metadata={failedInitializations:u}),null!=i&&(i.attempts>1&&(e._metadata=(0,o.__assign)((0,o.__assign)({},e._metadata),{retryCount:i.attempts})),i.attempts++);var c=[],l=[];for(var d in r){var h=r[d];"Segment.io"===d&&c.push(d),"bundled"===h.bundlingStatus&&c.push(d),"unbundled"===h.bundlingStatus&&l.push(d)}for(var f=0,p=(null==n?void 0:n.unbundledIntegrations)||[];f<p.length;f++){var g=p[f];l.includes(g)||l.push(g)}var v=null!=(a=null==n?void 0:n.maybeBundledConfigIds)?a:{},_=[];return c.sort().forEach(function(t){var e;(null!=(e=v[t])?e:[]).forEach(function(t){_.push(t)})}),(null==n?void 0:n.addBundledMetadata)!==!1&&(e._metadata=(0,o.__assign)((0,o.__assign)({},e._metadata),{bundled:c.sort(),unbundled:l.sort(),bundledIds:_})),e}(t,a,e,n,r)).then(function(){return r}).catch(function(t){if(r.log("error","Error sending event",t),"RateLimitError"===t.name){var e=t.retryTimeout;c.pushWithBackoff(r,e)}else c.pushWithBackoff(r);return tE(!1,c,m,tE),r}).finally(function(){l.delete(r)})]})})}var m={metadata:{writeKey:u,apiHost:d,protocol:h},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:y,identify:y,page:y,alias:y,group:y,screen:y};return c.todo&&tE(!1,c,m,tE),m}(r,A["Segment.io"],n.integrations)];case 13:M.apply(k,[L.sent()]),L.label=14;case 14:return[4,r.register.apply(r,(0,o.__spreadArray)((0,o.__spreadArray)([],C,!1),v,!1))];case 15:return O=L.sent(),[4,(0,o.__awaiter)(void 0,void 0,void 0,function(){var t,e;return(0,o.__generator)(this,function(n){switch(n.label){case 0:t=0,e=l.getAndRemove("register"),n.label=1;case 1:if(!(t<e.length))return[3,4];return[4,tp(r,e[t]).catch(console.error)];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})})];case 16:if(L.sent(),!Object.entries(null!=(f=n.enabledMiddleware)?f:{}).some(function(t){return t[1]}))return[3,18];return[4,t.A(14800).then(function(t){var e=t.remoteMiddlewares;return(0,o.__awaiter)(N,void 0,void 0,function(){return(0,o.__generator)(this,function(t){switch(t.label){case 0:return[4,e(O,n,i.obfuscate)];case 1:return[2,Promise.all(t.sent().map(function(t){return r.addSourceMiddleware(t)}))]}})})})];case 17:L.sent(),L.label=18;case 18:return[4,(0,o.__awaiter)(void 0,void 0,void 0,function(){var t,e;return(0,o.__generator)(this,function(n){switch(n.label){case 0:t=0,e=l.getAndRemove("addSourceMiddleware"),n.label=1;case 1:if(!(t<e.length))return[3,4];return[4,tp(r,e[t]).catch(console.error)];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})})];case 19:return L.sent(),[2,O]}})})}(e.writeKey,b,E,n,A,I,r)];case 6:return k=M.sent(),E.initialized=!0,E.emit("initialize",e,n),[4,function(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(r){switch(r.label){case 0:var i,a;return[4,(i=t,a=e,(0,o.__awaiter)(void 0,void 0,void 0,function(){return(0,o.__generator)(this,function(t){switch(t.label){case 0:if(!a.includes("ajs_"))return[3,2];return[4,i.queryString(a).catch(console.error)];case 1:t.sent(),t.label=2;case 2:return[2]}})}))];case 1:return r.sent(),tc(t,n),[2]}})})}(E,y,r)];case 7:return M.sent(),[2,[E,k]]}})})}(n[0],n[1],e)})})||this)._resolveLoadStart=function(t,e){return a([t,e])},n}return(0,o.__extends)(n,e),n.prototype.load=function(t,e){return void 0===e&&(e={}),this._resolveLoadStart(t,e),this},n.load=function(t,e){return void 0===e&&(e={}),new n().load(t,e)},n.standalone=function(t,e){return n.load({writeKey:t},e).then(function(t){return t[0]})},n}(tg),tH=t.i(11810);class tQ{constructor(){(0,i.default)(this,"segment",void 0),(0,i.default)(this,"globalProperties",{}),(0,i.default)(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw Error("Analytics already initialized");this.segment=new tJ,this.segment.load({writeKey:"f6LbNqCeVRf512ggdME4b6CyflhF1tsX"},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>(tH.log.debug("Analytics initialized"),!0)).catch(t=>{tH.log.error("Failed to initialize Analytics",t)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(t){this.globalProperties=(0,r.default)((0,r.default)({},this.globalProperties),t)}async identify(t,e){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(t,(0,r.default)({},e))}catch(e){tH.log.error(`Failed to identify user ${t} in analytics`,e)}}async track(t,e){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(t,(0,r.default)((0,r.default)({},e),this.globalProperties))}catch(e){tH.log.error(`Failed to track event ${t}`,e)}}getSegment(){if(!this.segment)throw tH.log.error("Analytics not initialized. Call Analytics.init() first."),Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){let t=window.location.origin;return!!(t.startsWith("http://")||t.includes("localhost"))}}let tY={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_FUNDING_CLICKED:"Wallet Funding Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_RECEIVE_CLICKED:"Wallet Receive Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},tX={REACT_HOOKS:"React Hooks",VUE_COMPOSABLES:"Vue Composables",NATIVE_SDK:"Native SDK"},tZ={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"};t.s(["ANALYTICS_EVENTS",()=>tY,"ANALYTICS_INTEGRATION_TYPE",()=>tX,"ANALYTICS_SDK_TYPE",()=>tZ,"Analytics",()=>tQ],23184)},94964,t=>{"use strict";var e=t.i(14863);let n=t=>{let{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;let r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:t.location.hostname};function r(t){return new Promise((e,n)=>{try{let n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(t){n(t)}})}async function i(t){let{document:e}=t,n=e.querySelector('head > link[rel="shortcut icon"]');if(n&&await r(n.href)||(n=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(t=>!!t.href)||null)&&await r(n.href))return n.href}function o(t){let[n,r]=t.split(".");return{header:JSON.parse((0,e.safeatob)(n)),payload:JSON.parse((0,e.safeatob)(r))}}t.s(["getSiteIcon",()=>i,"getSiteName",()=>n,"parseToken",()=>o])}]);