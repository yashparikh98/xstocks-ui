module.exports=[93694,(a,b,c)=>{b.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},61796,(a,b,c)=>{let d,e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];c.getSymbolSize=function(a){if(!a)throw Error('"version" cannot be null or undefined');if(a<1||a>40)throw Error('"version" should be in range from 1 to 40');return 4*a+17},c.getSymbolTotalCodewords=function(a){return e[a]},c.getBCHDigit=function(a){let b=0;for(;0!==a;)b++,a>>>=1;return b},c.setToSJISFunction=function(a){if("function"!=typeof a)throw Error('"toSJISFunc" is not a valid function.');d=a},c.isKanjiModeEnabled=function(){return void 0!==d},c.toSJIS=function(a){return d(a)}},47925,(a,b,c)=>{c.L={bit:1},c.M={bit:0},c.Q={bit:3},c.H={bit:2},c.isValid=function(a){return a&&void 0!==a.bit&&a.bit>=0&&a.bit<4},c.from=function(a,b){if(c.isValid(a))return a;try{if("string"!=typeof a)throw Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return c.L;case"m":case"medium":return c.M;case"q":case"quartile":return c.Q;case"h":case"high":return c.H;default:throw Error("Unknown EC Level: "+a)}}catch(a){return b}}},14263,(a,b,c)=>{function d(){this.buffer=[],this.length=0}d.prototype={get:function(a){let b=Math.floor(a/8);return(this.buffer[b]>>>7-a%8&1)==1},put:function(a,b){for(let c=0;c<b;c++)this.putBit((a>>>b-c-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(a){let b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}},b.exports=d},73085,(a,b,c)=>{function d(a){if(!a||a<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}d.prototype.set=function(a,b,c,d){let e=a*this.size+b;this.data[e]=c,d&&(this.reservedBit[e]=!0)},d.prototype.get=function(a,b){return this.data[a*this.size+b]},d.prototype.xor=function(a,b,c){this.data[a*this.size+b]^=c},d.prototype.isReserved=function(a,b){return this.reservedBit[a*this.size+b]},b.exports=d},69177,(a,b,c)=>{let d=a.r(61796).getSymbolSize;c.getRowColCoords=function(a){if(1===a)return[];let b=Math.floor(a/7)+2,c=d(a),e=145===c?26:2*Math.ceil((c-13)/(2*b-2)),f=[c-7];for(let a=1;a<b-1;a++)f[a]=f[a-1]-e;return f.push(6),f.reverse()},c.getPositions=function(a){let b=[],d=c.getRowColCoords(a),e=d.length;for(let a=0;a<e;a++)for(let c=0;c<e;c++)(0!==a||0!==c)&&(0!==a||c!==e-1)&&(a!==e-1||0!==c)&&b.push([d[a],d[c]]);return b}},82078,(a,b,c)=>{let d=a.r(61796).getSymbolSize;c.getPositions=function(a){let b=d(a);return[[0,0],[b-7,0],[0,b-7]]}},39101,(a,b,c)=>{c.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};c.isValid=function(a){return null!=a&&""!==a&&!isNaN(a)&&a>=0&&a<=7},c.from=function(a){return c.isValid(a)?parseInt(a,10):void 0},c.getPenaltyN1=function(a){let b=a.size,c=0,d=0,e=0,f=null,g=null;for(let h=0;h<b;h++){d=e=0,f=g=null;for(let i=0;i<b;i++){let b=a.get(h,i);b===f?d++:(d>=5&&(c+=3+(d-5)),f=b,d=1),(b=a.get(i,h))===g?e++:(e>=5&&(c+=3+(e-5)),g=b,e=1)}d>=5&&(c+=3+(d-5)),e>=5&&(c+=3+(e-5))}return c},c.getPenaltyN2=function(a){let b=a.size,c=0;for(let d=0;d<b-1;d++)for(let e=0;e<b-1;e++){let b=a.get(d,e)+a.get(d,e+1)+a.get(d+1,e)+a.get(d+1,e+1);(4===b||0===b)&&c++}return 3*c},c.getPenaltyN3=function(a){let b=a.size,c=0,d=0,e=0;for(let f=0;f<b;f++){d=e=0;for(let g=0;g<b;g++)d=d<<1&2047|a.get(f,g),g>=10&&(1488===d||93===d)&&c++,e=e<<1&2047|a.get(g,f),g>=10&&(1488===e||93===e)&&c++}return 40*c},c.getPenaltyN4=function(a){let b=0,c=a.data.length;for(let d=0;d<c;d++)b+=a.data[d];return 10*Math.abs(Math.ceil(100*b/c/5)-10)},c.applyMask=function(a,b){let d=b.size;for(let e=0;e<d;e++)for(let f=0;f<d;f++)b.isReserved(f,e)||b.xor(f,e,function(a,b,d){switch(a){case c.Patterns.PATTERN000:return(b+d)%2==0;case c.Patterns.PATTERN001:return b%2==0;case c.Patterns.PATTERN010:return d%3==0;case c.Patterns.PATTERN011:return(b+d)%3==0;case c.Patterns.PATTERN100:return(Math.floor(b/2)+Math.floor(d/3))%2==0;case c.Patterns.PATTERN101:return b*d%2+b*d%3==0;case c.Patterns.PATTERN110:return(b*d%2+b*d%3)%2==0;case c.Patterns.PATTERN111:return(b*d%3+(b+d)%2)%2==0;default:throw Error("bad maskPattern:"+a)}}(a,f,e))},c.getBestMask=function(a,b){let d=Object.keys(c.Patterns).length,e=0,f=1/0;for(let g=0;g<d;g++){b(g),c.applyMask(g,a);let d=c.getPenaltyN1(a)+c.getPenaltyN2(a)+c.getPenaltyN3(a)+c.getPenaltyN4(a);c.applyMask(g,a),d<f&&(f=d,e=g)}return e}},62632,(a,b,c)=>{let d=a.r(47925),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],f=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];c.getBlocksCount=function(a,b){switch(b){case d.L:return e[(a-1)*4+0];case d.M:return e[(a-1)*4+1];case d.Q:return e[(a-1)*4+2];case d.H:return e[(a-1)*4+3];default:return}},c.getTotalCodewordsCount=function(a,b){switch(b){case d.L:return f[(a-1)*4+0];case d.M:return f[(a-1)*4+1];case d.Q:return f[(a-1)*4+2];case d.H:return f[(a-1)*4+3];default:return}}},16086,(a,b,c)=>{let d=new Uint8Array(512),e=new Uint8Array(256),f=1;for(let a=0;a<255;a++)d[a]=f,e[f]=a,256&(f<<=1)&&(f^=285);for(let a=255;a<512;a++)d[a]=d[a-255];c.log=function(a){if(a<1)throw Error("log("+a+")");return e[a]},c.exp=function(a){return d[a]},c.mul=function(a,b){return 0===a||0===b?0:d[e[a]+e[b]]}},38451,(a,b,c)=>{let d=a.r(16086);c.mul=function(a,b){let c=new Uint8Array(a.length+b.length-1);for(let e=0;e<a.length;e++)for(let f=0;f<b.length;f++)c[e+f]^=d.mul(a[e],b[f]);return c},c.mod=function(a,b){let c=new Uint8Array(a);for(;c.length-b.length>=0;){let a=c[0];for(let e=0;e<b.length;e++)c[e]^=d.mul(b[e],a);let e=0;for(;e<c.length&&0===c[e];)e++;c=c.slice(e)}return c},c.generateECPolynomial=function(a){let b=new Uint8Array([1]);for(let e=0;e<a;e++)b=c.mul(b,new Uint8Array([1,d.exp(e)]));return b}},12529,(a,b,c)=>{let d=a.r(38451);function e(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}e.prototype.initialize=function(a){this.degree=a,this.genPoly=d.generateECPolynomial(this.degree)},e.prototype.encode=function(a){if(!this.genPoly)throw Error("Encoder not initialized");let b=new Uint8Array(a.length+this.degree);b.set(a);let c=d.mod(b,this.genPoly),e=this.degree-c.length;if(e>0){let a=new Uint8Array(this.degree);return a.set(c,e),a}return c},b.exports=e},62071,(a,b,c)=>{c.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}},67522,(a,b,c)=>{let d="[0-9]+",e="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",f="(?:(?![A-Z0-9 $%*+\\-./:]|"+(e=e.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";c.KANJI=RegExp(e,"g"),c.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),c.BYTE=RegExp(f,"g"),c.NUMERIC=RegExp(d,"g"),c.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let g=RegExp("^"+e+"$"),h=RegExp("^"+d+"$"),i=RegExp("^[A-Z0-9 $%*+\\-./:]+$");c.testKanji=function(a){return g.test(a)},c.testNumeric=function(a){return h.test(a)},c.testAlphanumeric=function(a){return i.test(a)}},66989,(a,b,c)=>{let d=a.r(62071),e=a.r(67522);c.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},c.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},c.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},c.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},c.MIXED={bit:-1},c.getCharCountIndicator=function(a,b){if(!a.ccBits)throw Error("Invalid mode: "+a);if(!d.isValid(b))throw Error("Invalid version: "+b);return b>=1&&b<10?a.ccBits[0]:b<27?a.ccBits[1]:a.ccBits[2]},c.getBestModeForData=function(a){return e.testNumeric(a)?c.NUMERIC:e.testAlphanumeric(a)?c.ALPHANUMERIC:e.testKanji(a)?c.KANJI:c.BYTE},c.toString=function(a){if(a&&a.id)return a.id;throw Error("Invalid mode")},c.isValid=function(a){return a&&a.bit&&a.ccBits},c.from=function(a,b){if(c.isValid(a))return a;try{if("string"!=typeof a)throw Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return c.NUMERIC;case"alphanumeric":return c.ALPHANUMERIC;case"kanji":return c.KANJI;case"byte":return c.BYTE;default:throw Error("Unknown mode: "+a)}}catch(a){return b}}},99108,(a,b,c)=>{let d=a.r(61796),e=a.r(62632),f=a.r(47925),g=a.r(66989),h=a.r(62071),i=d.getBCHDigit(7973);function j(a,b){return g.getCharCountIndicator(a,b)+4}c.from=function(a,b){return h.isValid(a)?parseInt(a,10):b},c.getCapacity=function(a,b,c){if(!h.isValid(a))throw Error("Invalid QR Code version");void 0===c&&(c=g.BYTE);let f=(d.getSymbolTotalCodewords(a)-e.getTotalCodewordsCount(a,b))*8;if(c===g.MIXED)return f;let i=f-j(c,a);switch(c){case g.NUMERIC:return Math.floor(i/10*3);case g.ALPHANUMERIC:return Math.floor(i/11*2);case g.KANJI:return Math.floor(i/13);case g.BYTE:default:return Math.floor(i/8)}},c.getBestVersionForData=function(a,b){let d,e=f.from(b,f.M);if(Array.isArray(a)){if(a.length>1){for(let b=1;b<=40;b++)if(function(a,b){let c=0;return a.forEach(function(a){let d=j(a.mode,b);c+=d+a.getBitsLength()}),c}(a,b)<=c.getCapacity(b,e,g.MIXED))return b;return}if(0===a.length)return 1;d=a[0]}else d=a;return function(a,b,d){for(let e=1;e<=40;e++)if(b<=c.getCapacity(e,d,a))return e}(d.mode,d.getLength(),e)},c.getEncodedBits=function(a){if(!h.isValid(a)||a<7)throw Error("Invalid QR Code version");let b=a<<12;for(;d.getBCHDigit(b)-i>=0;)b^=7973<<d.getBCHDigit(b)-i;return a<<12|b}},58829,(a,b,c)=>{let d=a.r(61796),e=d.getBCHDigit(1335);c.getEncodedBits=function(a,b){let c=a.bit<<3|b,f=c<<10;for(;d.getBCHDigit(f)-e>=0;)f^=1335<<d.getBCHDigit(f)-e;return(c<<10|f)^21522}},34084,(a,b,c)=>{let d=a.r(66989);function e(a){this.mode=d.NUMERIC,this.data=a.toString()}e.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(a){let b,c;for(b=0;b+3<=this.data.length;b+=3)c=parseInt(this.data.substr(b,3),10),a.put(c,10);let d=this.data.length-b;d>0&&(c=parseInt(this.data.substr(b),10),a.put(c,3*d+1))},b.exports=e},73422,(a,b,c)=>{let d=a.r(66989),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function f(a){this.mode=d.ALPHANUMERIC,this.data=a}f.getBitsLength=function(a){return 11*Math.floor(a/2)+a%2*6},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLength=function(){return f.getBitsLength(this.data.length)},f.prototype.write=function(a){let b;for(b=0;b+2<=this.data.length;b+=2){let c=45*e.indexOf(this.data[b]);c+=e.indexOf(this.data[b+1]),a.put(c,11)}this.data.length%2&&a.put(e.indexOf(this.data[b]),6)},b.exports=f},38771,(a,b,c)=>{let d=a.r(66989);function e(a){this.mode=d.BYTE,"string"==typeof a?this.data=new TextEncoder().encode(a):this.data=new Uint8Array(a)}e.getBitsLength=function(a){return 8*a},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(a){for(let b=0,c=this.data.length;b<c;b++)a.put(this.data[b],8)},b.exports=e},29057,(a,b,c)=>{let d=a.r(66989),e=a.r(61796);function f(a){this.mode=d.KANJI,this.data=a}f.getBitsLength=function(a){return 13*a},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLength=function(){return f.getBitsLength(this.data.length)},f.prototype.write=function(a){let b;for(b=0;b<this.data.length;b++){let c=e.toSJIS(this.data[b]);if(c>=33088&&c<=40956)c-=33088;else if(c>=57408&&c<=60351)c-=49472;else throw Error("Invalid SJIS character: "+this.data[b]+"\nMake sure your charset is UTF-8");c=(c>>>8&255)*192+(255&c),a.put(c,13)}},b.exports=f},79542,(a,b,c)=>{"use strict";var d={single_source_shortest_paths:function(a,b,c){var e,f,g,h,i,j,k,l={},m={};m[b]=0;var n=d.PriorityQueue.make();for(n.push(b,0);!n.empty();)for(g in f=(e=n.pop()).value,h=e.cost,i=a[f]||{})i.hasOwnProperty(g)&&(j=h+i[g],k=m[g],(void 0===m[g]||k>j)&&(m[g]=j,n.push(g,j),l[g]=f));if(void 0!==c&&void 0===m[c])throw Error("Could not find a path from "+b+" to "+c+".");return l},extract_shortest_path_from_predecessor_list:function(a,b){for(var c=[],d=b;d;)c.push(d),a[d],d=a[d];return c.reverse(),c},find_path:function(a,b,c){var e=d.single_source_shortest_paths(a,b,c);return d.extract_shortest_path_from_predecessor_list(e,c)},PriorityQueue:{make:function(a){var b,c=d.PriorityQueue,e={};for(b in a=a||{},c)c.hasOwnProperty(b)&&(e[b]=c[b]);return e.queue=[],e.sorter=a.sorter||c.default_sorter,e},default_sorter:function(a,b){return a.cost-b.cost},push:function(a,b){this.queue.push({value:a,cost:b}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};b.exports=d},43058,(a,b,c)=>{let d=a.r(66989),e=a.r(34084),f=a.r(73422),g=a.r(38771),h=a.r(29057),i=a.r(67522),j=a.r(61796),k=a.r(79542);function l(a){return unescape(encodeURIComponent(a)).length}function m(a,b,c){let d,e=[];for(;null!==(d=a.exec(c));)e.push({data:d[0],index:d.index,mode:b,length:d[0].length});return e}function n(a){let b,c,e=m(i.NUMERIC,d.NUMERIC,a),f=m(i.ALPHANUMERIC,d.ALPHANUMERIC,a);return j.isKanjiModeEnabled()?(b=m(i.BYTE,d.BYTE,a),c=m(i.KANJI,d.KANJI,a)):(b=m(i.BYTE_KANJI,d.BYTE,a),c=[]),e.concat(f,b,c).sort(function(a,b){return a.index-b.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function o(a,b){switch(b){case d.NUMERIC:return e.getBitsLength(a);case d.ALPHANUMERIC:return f.getBitsLength(a);case d.KANJI:return h.getBitsLength(a);case d.BYTE:return g.getBitsLength(a)}}function p(a,b){let c,i=d.getBestModeForData(a);if((c=d.from(b,i))!==d.BYTE&&c.bit<i.bit)throw Error('"'+a+'" cannot be encoded with mode '+d.toString(c)+".\n Suggested mode is: "+d.toString(i));switch(c===d.KANJI&&!j.isKanjiModeEnabled()&&(c=d.BYTE),c){case d.NUMERIC:return new e(a);case d.ALPHANUMERIC:return new f(a);case d.KANJI:return new h(a);case d.BYTE:return new g(a)}}c.fromArray=function(a){return a.reduce(function(a,b){return"string"==typeof b?a.push(p(b,null)):b.data&&a.push(p(b.data,b.mode)),a},[])},c.fromString=function(a,b){let e=function(a,b){let c={},e={start:{}},f=["start"];for(let g=0;g<a.length;g++){let h=a[g],i=[];for(let a=0;a<h.length;a++){let j=h[a],k=""+g+a;i.push(k),c[k]={node:j,lastCount:0},e[k]={};for(let a=0;a<f.length;a++){let g=f[a];c[g]&&c[g].node.mode===j.mode?(e[g][k]=o(c[g].lastCount+j.length,j.mode)-o(c[g].lastCount,j.mode),c[g].lastCount+=j.length):(c[g]&&(c[g].lastCount=j.length),e[g][k]=o(j.length,j.mode)+4+d.getCharCountIndicator(j.mode,b))}}f=i}for(let a=0;a<f.length;a++)e[f[a]].end=0;return{map:e,table:c}}(function(a){let b=[];for(let c=0;c<a.length;c++){let e=a[c];switch(e.mode){case d.NUMERIC:b.push([e,{data:e.data,mode:d.ALPHANUMERIC,length:e.length},{data:e.data,mode:d.BYTE,length:e.length}]);break;case d.ALPHANUMERIC:b.push([e,{data:e.data,mode:d.BYTE,length:e.length}]);break;case d.KANJI:b.push([e,{data:e.data,mode:d.BYTE,length:l(e.data)}]);break;case d.BYTE:b.push([{data:e.data,mode:d.BYTE,length:l(e.data)}])}}return b}(n(a,j.isKanjiModeEnabled())),b),f=k.find_path(e.map,"start","end"),g=[];for(let a=1;a<f.length-1;a++)g.push(e.table[f[a]].node);return c.fromArray(g.reduce(function(a,b){let c=a.length-1>=0?a[a.length-1]:null;return c&&c.mode===b.mode?a[a.length-1].data+=b.data:a.push(b),a},[]))},c.rawSplit=function(a){return c.fromArray(n(a,j.isKanjiModeEnabled()))}},8984,(a,b,c)=>{let d=a.r(61796),e=a.r(47925),f=a.r(14263),g=a.r(73085),h=a.r(69177),i=a.r(82078),j=a.r(39101),k=a.r(62632),l=a.r(12529),m=a.r(99108),n=a.r(58829),o=a.r(66989),p=a.r(43058);function q(a,b,c){let d,e,f=a.size,g=n.getEncodedBits(b,c);for(d=0;d<15;d++)e=(g>>d&1)==1,d<6?a.set(d,8,e,!0):d<8?a.set(d+1,8,e,!0):a.set(f-15+d,8,e,!0),d<8?a.set(8,f-d-1,e,!0):d<9?a.set(8,15-d-1+1,e,!0):a.set(8,15-d-1,e,!0);a.set(f-8,8,1,!0)}c.create=function(a,b){let c,n;if(void 0===a||""===a)throw Error("No input text");let r=e.M;return void 0!==b&&(r=e.from(b.errorCorrectionLevel,e.M),c=m.from(b.version),n=j.from(b.maskPattern),b.toSJISFunc&&d.setToSJISFunction(b.toSJISFunc)),function(a,b,c,e){let n;if(Array.isArray(a))n=p.fromArray(a);else if("string"==typeof a){let d=b;if(!d){let b=p.rawSplit(a);d=m.getBestVersionForData(b,c)}n=p.fromString(a,d||40)}else throw Error("Invalid data");let r=m.getBestVersionForData(n,c);if(!r)throw Error("The amount of data is too big to be stored in a QR Code");if(b){if(b<r)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+r+".\n")}else b=r;let s=function(a,b,c){let e=new f;c.forEach(function(b){e.put(b.mode.bit,4),e.put(b.getLength(),o.getCharCountIndicator(b.mode,a)),b.write(e)});let g=(d.getSymbolTotalCodewords(a)-k.getTotalCodewordsCount(a,b))*8;for(e.getLengthInBits()+4<=g&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(0);let h=(g-e.getLengthInBits())/8;for(let a=0;a<h;a++)e.put(a%2?17:236,8);return function(a,b,c){let e,f,g=d.getSymbolTotalCodewords(b),h=g-k.getTotalCodewordsCount(b,c),i=k.getBlocksCount(b,c),j=g%i,m=i-j,n=Math.floor(g/i),o=Math.floor(h/i),p=o+1,q=n-o,r=new l(q),s=0,t=Array(i),u=Array(i),v=0,w=new Uint8Array(a.buffer);for(let a=0;a<i;a++){let b=a<m?o:p;t[a]=w.slice(s,s+b),u[a]=r.encode(t[a]),s+=b,v=Math.max(v,b)}let x=new Uint8Array(g),y=0;for(e=0;e<v;e++)for(f=0;f<i;f++)e<t[f].length&&(x[y++]=t[f][e]);for(e=0;e<q;e++)for(f=0;f<i;f++)x[y++]=u[f][e];return x}(e,a,b)}(b,c,n),t=new g(d.getSymbolSize(b));!function(a,b){let c=a.size,d=i.getPositions(b);for(let b=0;b<d.length;b++){let e=d[b][0],f=d[b][1];for(let b=-1;b<=7;b++)if(!(e+b<=-1)&&!(c<=e+b))for(let d=-1;d<=7;d++)f+d<=-1||c<=f+d||(b>=0&&b<=6&&(0===d||6===d)||d>=0&&d<=6&&(0===b||6===b)||b>=2&&b<=4&&d>=2&&d<=4?a.set(e+b,f+d,!0,!0):a.set(e+b,f+d,!1,!0))}}(t,b);let u=t.size;for(let a=8;a<u-8;a++){let b=a%2==0;t.set(a,6,b,!0),t.set(6,a,b,!0)}return!function(a,b){let c=h.getPositions(b);for(let b=0;b<c.length;b++){let d=c[b][0],e=c[b][1];for(let b=-2;b<=2;b++)for(let c=-2;c<=2;c++)-2===b||2===b||-2===c||2===c||0===b&&0===c?a.set(d+b,e+c,!0,!0):a.set(d+b,e+c,!1,!0)}}(t,b),q(t,c,0),b>=7&&function(a,b){let c,d,e,f=a.size,g=m.getEncodedBits(b);for(let b=0;b<18;b++)c=Math.floor(b/3),d=b%3+f-8-3,e=(g>>b&1)==1,a.set(c,d,e,!0),a.set(d,c,e,!0)}(t,b),!function(a,b){let c=a.size,d=-1,e=c-1,f=7,g=0;for(let h=c-1;h>0;h-=2)for(6===h&&h--;;){for(let c=0;c<2;c++)if(!a.isReserved(e,h-c)){let d=!1;g<b.length&&(d=(b[g]>>>f&1)==1),a.set(e,h-c,d),-1==--f&&(g++,f=7)}if((e+=d)<0||c<=e){e-=d,d=-d;break}}}(t,s),isNaN(e)&&(e=j.getBestMask(t,q.bind(null,t,c))),j.applyMask(e,t),q(t,c,e),{modules:t,version:b,errorCorrectionLevel:c,maskPattern:e,segments:n}}(a,c,r,n)}},63391,(a,b,c)=>{function d(a){if("number"==typeof a&&(a=a.toString()),"string"!=typeof a)throw Error("Color should be defined as hex string");let b=a.slice().replace("#","").split("");if(b.length<3||5===b.length||b.length>8)throw Error("Invalid hex color: "+a);(3===b.length||4===b.length)&&(b=Array.prototype.concat.apply([],b.map(function(a){return[a,a]}))),6===b.length&&b.push("F","F");let c=parseInt(b.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:255&c,hex:"#"+b.slice(0,6).join("")}}c.getOptions=function(a){a||(a={}),a.color||(a.color={});let b=void 0===a.margin||null===a.margin||a.margin<0?4:a.margin,c=a.width&&a.width>=21?a.width:void 0,e=a.scale||4;return{width:c,scale:c?4:e,margin:b,color:{dark:d(a.color.dark||"#000000ff"),light:d(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},c.getScale=function(a,b){return b.width&&b.width>=a+2*b.margin?b.width/(a+2*b.margin):b.scale},c.getImageWidth=function(a,b){let d=c.getScale(a,b);return Math.floor((a+2*b.margin)*d)},c.qrToImageData=function(a,b,d){let e=b.modules.size,f=b.modules.data,g=c.getScale(e,d),h=Math.floor((e+2*d.margin)*g),i=d.margin*g,j=[d.color.light,d.color.dark];for(let b=0;b<h;b++)for(let c=0;c<h;c++){let k=(b*h+c)*4,l=d.color.light;b>=i&&c>=i&&b<h-i&&c<h-i&&(l=j[+!!f[Math.floor((b-i)/g)*e+Math.floor((c-i)/g)]]),a[k++]=l.r,a[k++]=l.g,a[k++]=l.b,a[k]=l.a}}},94266,(a,b,c)=>{let d=a.r(63391);c.render=function(a,b,c){var e;let f=c,g=b;void 0!==f||b&&b.getContext||(f=b,b=void 0),b||(g=function(){try{return document.createElement("canvas")}catch(a){throw Error("You need to specify a canvas element")}}()),f=d.getOptions(f);let h=d.getImageWidth(a.modules.size,f),i=g.getContext("2d"),j=i.createImageData(h,h);return d.qrToImageData(j.data,a,f),e=g,i.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=h,e.width=h,e.style.height=h+"px",e.style.width=h+"px",i.putImageData(j,0,0),g},c.renderToDataURL=function(a,b,d){let e=d;void 0!==e||b&&b.getContext||(e=b,b=void 0),e||(e={});let f=c.render(a,b,e),g=e.type||"image/png",h=e.rendererOpts||{};return f.toDataURL(g,h.quality)}},96223,(a,b,c)=>{let d=a.r(63391);function e(a,b){let c=a.a/255,d=b+'="'+a.hex+'"';return c<1?d+" "+b+'-opacity="'+c.toFixed(2).slice(1)+'"':d}function f(a,b,c){let d=a+b;return void 0!==c&&(d+=" "+c),d}c.render=function(a,b,c){let g=d.getOptions(b),h=a.modules.size,i=a.modules.data,j=h+2*g.margin,k=g.color.light.a?"<path "+e(g.color.light,"fill")+' d="M0 0h'+j+"v"+j+'H0z"/>':"",l="<path "+e(g.color.dark,"stroke")+' d="'+function(a,b,c){let d="",e=0,g=!1,h=0;for(let i=0;i<a.length;i++){let j=Math.floor(i%b),k=Math.floor(i/b);j||g||(g=!0),a[i]?(h++,i>0&&j>0&&a[i-1]||(d+=g?f("M",j+c,.5+k+c):f("m",e,0),e=0,g=!1),j+1<b&&a[i+1]||(d+=f("h",h),h=0)):e++}return d}(i,h,g.margin)+'"/>',m='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+('viewBox="0 0 '+j+" ")+j+'" shape-rendering="crispEdges">'+k+l+"</svg>\n";return"function"==typeof c&&c(null,m),m}},88717,(a,b,c)=>{let d=a.r(93694),e=a.r(8984),f=a.r(94266),g=a.r(96223);function h(a,b,c,f,g){let h=[].slice.call(arguments,1),i=h.length,j="function"==typeof h[i-1];if(!j&&!d())throw Error("Callback required as last argument");if(j){if(i<2)throw Error("Too few arguments provided");2===i?(g=c,c=b,b=f=void 0):3===i&&(b.getContext&&void 0===g?(g=f,f=void 0):(g=f,f=c,c=b,b=void 0))}else{if(i<1)throw Error("Too few arguments provided");return 1===i?(c=b,b=f=void 0):2!==i||b.getContext||(f=c,c=b,b=void 0),new Promise(function(d,g){try{let g=e.create(c,f);d(a(g,b,f))}catch(a){g(a)}})}try{let d=e.create(c,f);g(null,a(d,b,f))}catch(a){g(a)}}c.create=e.create,c.toCanvas=h.bind(null,f.render),c.toDataURL=h.bind(null,f.renderToDataURL),c.toString=h.bind(null,function(a,b,c){return g.render(a,c)})},8858,(a,b,c)=>{"use strict";let d=a.r(24361),e=a.r(88947),f=b.exports=function(){e.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};d.inherits(f,e),f.prototype.read=function(a,b){this._reads.push({length:Math.abs(a),allowLess:a<0,func:b}),process.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},f.prototype.write=function(a,b){let c;return this.writable?(c=Buffer.isBuffer(a)?a:Buffer.from(a,b||this._encoding),this._buffers.push(c),this._buffered+=c.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",Error("Stream not writable")),!1)},f.prototype.end=function(a,b){a&&this.write(a,b),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},f.prototype.destroySoon=f.prototype.end,f.prototype._end=function(){this._reads.length>0&&this.emit("error",Error("Unexpected end of input")),this.destroy()},f.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},f.prototype._processReadAllowingLess=function(a){this._reads.shift();let b=this._buffers[0];b.length>a.length?(this._buffered-=a.length,this._buffers[0]=b.slice(a.length),a.func.call(this,b.slice(0,a.length))):(this._buffered-=b.length,this._buffers.shift(),a.func.call(this,b))},f.prototype._processRead=function(a){this._reads.shift();let b=0,c=0,d=Buffer.alloc(a.length);for(;b<a.length;){let e=this._buffers[c++],f=Math.min(e.length,a.length-b);e.copy(d,b,0,f),b+=f,f!==e.length&&(this._buffers[--c]=e.slice(f))}c>0&&this._buffers.splice(0,c),this._buffered-=a.length,a.func.call(this,d)},f.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let a=this._reads[0];if(a.allowLess)this._processReadAllowingLess(a);else if(this._buffered>=a.length)this._processRead(a);else break}this._buffers&&!this.writable&&this._end()}catch(a){this.emit("error",a)}}},6807,(a,b,c)=>{"use strict";let d=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];c.getImagePasses=function(a,b){let c=[],e=a%8,f=b%8,g=(a-e)/8,h=(b-f)/8;for(let a=0;a<d.length;a++){let b=d[a],i=g*b.x.length,j=h*b.y.length;for(let a=0;a<b.x.length;a++)if(b.x[a]<e)i++;else break;for(let a=0;a<b.y.length;a++)if(b.y[a]<f)j++;else break;i>0&&j>0&&c.push({width:i,height:j,index:a})}return c},c.getInterlaceIterator=function(a){return function(b,c,e){let f=b%d[e].x.length,g=(b-f)/d[e].x.length*8+d[e].x[f],h=c%d[e].y.length;return 4*g+((c-h)/d[e].y.length*8+d[e].y[h])*a*4}}},9125,(a,b,c)=>{"use strict";b.exports=function(a,b,c){let d=a+b-c,e=Math.abs(d-a),f=Math.abs(d-b),g=Math.abs(d-c);return e<=f&&e<=g?a:f<=g?b:c}},61205,(a,b,c)=>{"use strict";let d=a.r(6807),e=a.r(9125);function f(a,b,c){let d=a*b;return 8!==c&&(d=Math.ceil(d/(8/c))),d}let g=b.exports=function(a,b){let c=a.width,e=a.height,g=a.interlace,h=a.bpp,i=a.depth;if(this.read=b.read,this.write=b.write,this.complete=b.complete,this._imageIndex=0,this._images=[],g){let a=d.getImagePasses(c,e);for(let b=0;b<a.length;b++)this._images.push({byteWidth:f(a[b].width,h,i),height:a[b].height,lineIndex:0})}else this._images.push({byteWidth:f(c,h,i),height:e,lineIndex:0});8===i?this._xComparison=h:16===i?this._xComparison=2*h:this._xComparison=1};g.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},g.prototype._unFilterType1=function(a,b,c){let d=this._xComparison,e=d-1;for(let f=0;f<c;f++){let c=a[1+f],g=f>e?b[f-d]:0;b[f]=c+g}},g.prototype._unFilterType2=function(a,b,c){let d=this._lastLine;for(let e=0;e<c;e++){let c=a[1+e],f=d?d[e]:0;b[e]=c+f}},g.prototype._unFilterType3=function(a,b,c){let d=this._xComparison,e=d-1,f=this._lastLine;for(let g=0;g<c;g++){let c=a[1+g],h=f?f[g]:0,i=Math.floor(((g>e?b[g-d]:0)+h)/2);b[g]=c+i}},g.prototype._unFilterType4=function(a,b,c){let d=this._xComparison,f=d-1,g=this._lastLine;for(let h=0;h<c;h++){let c=a[1+h],i=g?g[h]:0,j=e(h>f?b[h-d]:0,i,h>f&&g?g[h-d]:0);b[h]=c+j}},g.prototype._reverseFilterLine=function(a){let b,c=a[0],d=this._images[this._imageIndex],e=d.byteWidth;if(0===c)b=a.slice(1,e+1);else switch(b=Buffer.alloc(e),c){case 1:this._unFilterType1(a,b,e);break;case 2:this._unFilterType2(a,b,e);break;case 3:this._unFilterType3(a,b,e);break;case 4:this._unFilterType4(a,b,e);break;default:throw Error("Unrecognised filter type - "+c)}this.write(b),d.lineIndex++,d.lineIndex>=d.height?(this._lastLine=null,this._imageIndex++,d=this._images[this._imageIndex]):this._lastLine=b,d?this.read(d.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}},42131,(a,b,c)=>{"use strict";let d=a.r(24361),e=a.r(8858),f=a.r(61205),g=b.exports=function(a){e.call(this);let b=[],c=this;this._filter=new f(a,{read:this.read.bind(this),write:function(a){b.push(a)},complete:function(){c.emit("complete",Buffer.concat(b))}}),this._filter.start()};d.inherits(g,e)},51181,(a,b,c)=>{"use strict";b.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:0x49484452,TYPE_IEND:0x49454e44,TYPE_IDAT:0x49444154,TYPE_PLTE:0x504c5445,TYPE_tRNS:0x74524e53,TYPE_gAMA:0x67414d41,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},14734,(a,b,c)=>{"use strict";let d=[];for(let a=0;a<256;a++){let b=a;for(let a=0;a<8;a++)1&b?b=0xedb88320^b>>>1:b>>>=1;d[a]=b}let e=b.exports=function(){this._crc=-1};e.prototype.write=function(a){for(let b=0;b<a.length;b++)this._crc=d[(this._crc^a[b])&255]^this._crc>>>8;return!0},e.prototype.crc32=function(){return -1^this._crc},e.crc32=function(a){let b=-1;for(let c=0;c<a.length;c++)b=d[(b^a[c])&255]^b>>>8;return -1^b}},71173,(a,b,c)=>{"use strict";let d=a.r(51181),e=a.r(14734),f=b.exports=function(a,b){this._options=a,a.checkCRC=!1!==a.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[d.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[d.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[d.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[d.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[d.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[d.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=b.read,this.error=b.error,this.metadata=b.metadata,this.gamma=b.gamma,this.transColor=b.transColor,this.palette=b.palette,this.parsed=b.parsed,this.inflateData=b.inflateData,this.finished=b.finished,this.simpleTransparency=b.simpleTransparency,this.headersFinished=b.headersFinished||function(){}};f.prototype.start=function(){this.read(d.PNG_SIGNATURE.length,this._parseSignature.bind(this))},f.prototype._parseSignature=function(a){let b=d.PNG_SIGNATURE;for(let c=0;c<b.length;c++)if(a[c]!==b[c])return void this.error(Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},f.prototype._parseChunkBegin=function(a){let b=a.readUInt32BE(0),c=a.readUInt32BE(4),f="";for(let b=4;b<8;b++)f+=String.fromCharCode(a[b]);let g=!!(32&a[4]);return this._hasIHDR||c===d.TYPE_IHDR?(this._crc=new e,this._crc.write(Buffer.from(f)),this._chunks[c])?this._chunks[c](b):g?void this.read(b+4,this._skipChunk.bind(this)):void this.error(Error("Unsupported critical chunk type "+f)):void this.error(Error("Expected IHDR on beggining"))},f.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},f.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},f.prototype._parseChunkEnd=function(a){let b=a.readInt32BE(0),c=this._crc.crc32();this._options.checkCRC&&c!==b?this.error(Error("Crc error - "+b+" - "+c)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},f.prototype._handleIHDR=function(a){this.read(a,this._parseIHDR.bind(this))},f.prototype._parseIHDR=function(a){this._crc.write(a);let b=a.readUInt32BE(0),c=a.readUInt32BE(4),e=a[8],f=a[9],g=a[10],h=a[11],i=a[12];if(8!==e&&4!==e&&2!==e&&1!==e&&16!==e)return void this.error(Error("Unsupported bit depth "+e));if(!(f in d.COLORTYPE_TO_BPP_MAP))return void this.error(Error("Unsupported color type"));if(0!==g)return void this.error(Error("Unsupported compression method"));if(0!==h)return void this.error(Error("Unsupported filter method"));if(0!==i&&1!==i)return void this.error(Error("Unsupported interlace method"));this._colorType=f;let j=d.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:b,height:c,depth:e,interlace:!!i,palette:!!(f&d.COLORTYPE_PALETTE),color:!!(f&d.COLORTYPE_COLOR),alpha:!!(f&d.COLORTYPE_ALPHA),bpp:j,colorType:f}),this._handleChunkEnd()},f.prototype._handlePLTE=function(a){this.read(a,this._parsePLTE.bind(this))},f.prototype._parsePLTE=function(a){this._crc.write(a);let b=Math.floor(a.length/3);for(let c=0;c<b;c++)this._palette.push([a[3*c],a[3*c+1],a[3*c+2],255]);this.palette(this._palette),this._handleChunkEnd()},f.prototype._handleTRNS=function(a){this.simpleTransparency(),this.read(a,this._parseTRNS.bind(this))},f.prototype._parseTRNS=function(a){if(this._crc.write(a),this._colorType===d.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(Error("Transparency chunk must be after palette"));if(a.length>this._palette.length)return void this.error(Error("More transparent colors than palette size"));for(let b=0;b<a.length;b++)this._palette[b][3]=a[b];this.palette(this._palette)}this._colorType===d.COLORTYPE_GRAYSCALE&&this.transColor([a.readUInt16BE(0)]),this._colorType===d.COLORTYPE_COLOR&&this.transColor([a.readUInt16BE(0),a.readUInt16BE(2),a.readUInt16BE(4)]),this._handleChunkEnd()},f.prototype._handleGAMA=function(a){this.read(a,this._parseGAMA.bind(this))},f.prototype._parseGAMA=function(a){this._crc.write(a),this.gamma(a.readUInt32BE(0)/d.GAMMA_DIVISION),this._handleChunkEnd()},f.prototype._handleIDAT=function(a){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-a,this._parseIDAT.bind(this,a))},f.prototype._parseIDAT=function(a,b){if(this._crc.write(b),this._colorType===d.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw Error("Expected palette not found");this.inflateData(b);let c=a-b.length;c>0?this._handleIDAT(c):this._handleChunkEnd()},f.prototype._handleIEND=function(a){this.read(a,this._parseIEND.bind(this))},f.prototype._parseIEND=function(a){this._crc.write(a),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}},42744,(a,b,c)=>{"use strict";let d=a.r(6807),e=[function(){},function(a,b,c,d){if(d===b.length)throw Error("Ran out of data");let e=b[d];a[c]=e,a[c+1]=e,a[c+2]=e,a[c+3]=255},function(a,b,c,d){if(d+1>=b.length)throw Error("Ran out of data");let e=b[d];a[c]=e,a[c+1]=e,a[c+2]=e,a[c+3]=b[d+1]},function(a,b,c,d){if(d+2>=b.length)throw Error("Ran out of data");a[c]=b[d],a[c+1]=b[d+1],a[c+2]=b[d+2],a[c+3]=255},function(a,b,c,d){if(d+3>=b.length)throw Error("Ran out of data");a[c]=b[d],a[c+1]=b[d+1],a[c+2]=b[d+2],a[c+3]=b[d+3]}],f=[function(){},function(a,b,c,d){let e=b[0];a[c]=e,a[c+1]=e,a[c+2]=e,a[c+3]=d},function(a,b,c){let d=b[0];a[c]=d,a[c+1]=d,a[c+2]=d,a[c+3]=b[1]},function(a,b,c,d){a[c]=b[0],a[c+1]=b[1],a[c+2]=b[2],a[c+3]=d},function(a,b,c){a[c]=b[0],a[c+1]=b[1],a[c+2]=b[2],a[c+3]=b[3]}];c.dataToBitMap=function(a,b){let c,g,h,i,j,k,l=b.width,m=b.height,n=b.depth,o=b.bpp,p=b.interlace;8!==n&&(c=[],g=0,h={get:function(b){for(;c.length<b;)!function(){let b,d,e,f;if(g===a.length)throw Error("Ran out of data");let h=a[g];switch(g++,n){default:throw Error("unrecognised depth");case 16:e=a[g],g++,c.push((h<<8)+e);break;case 4:e=15&h,f=h>>4,c.push(f,e);break;case 2:b=3&h,d=h>>2&3,e=h>>4&3,f=h>>6&3,c.push(f,e,d,b);break;case 1:b=h>>4&1,d=h>>5&1,e=h>>6&1,f=h>>7&1,c.push(f,e,d,b,h>>3&1,h>>2&1,h>>1&1,1&h)}}();let d=c.slice(0,b);return c=c.slice(b),d},resetAfterLine:function(){c.length=0},end:function(){if(g!==a.length)throw Error("extra data found")}}),i=n<=8?Buffer.alloc(l*m*4):new Uint16Array(l*m*4);let q=Math.pow(2,n)-1,r=0;if(p)j=d.getImagePasses(l,m),k=d.getInterlaceIterator(l,m);else{let a=0;k=function(){let b=a;return a+=4,b},j=[{width:l,height:m}]}for(let b=0;b<j.length;b++)8===n?r=function(a,b,c,d,f,g){let h=a.width,i=a.height,j=a.index;for(let a=0;a<i;a++)for(let i=0;i<h;i++){let h=c(i,a,j);e[d](b,f,h,g),g+=d}return g}(j[b],i,k,o,a,r):function(a,b,c,d,e,g){let h=a.width,i=a.height,j=a.index;for(let a=0;a<i;a++){for(let i=0;i<h;i++){let h=e.get(d),k=c(i,a,j);f[d](b,h,k,g)}e.resetAfterLine()}}(j[b],i,k,o,h,q);if(8===n){if(r!==a.length)throw Error("extra data found")}else h.end();return i}},14606,(a,b,c)=>{"use strict";b.exports=function(a,b){let c=b.depth,d=b.width,e=b.height,f=b.colorType,g=b.transColor,h=b.palette,i=a;return 3===f?!function(a,b,c,d,e){let f=0;for(let g=0;g<d;g++)for(let d=0;d<c;d++){let c=e[a[f]];if(!c)throw Error("index "+a[f]+" not in palette");for(let a=0;a<4;a++)b[f+a]=c[a];f+=4}}(a,i,d,e,h):(g&&function(a,b,c,d,e){let f=0;for(let g=0;g<d;g++)for(let d=0;d<c;d++){let c=!1;if(1===e.length?e[0]===a[f]&&(c=!0):e[0]===a[f]&&e[1]===a[f+1]&&e[2]===a[f+2]&&(c=!0),c)for(let a=0;a<4;a++)b[f+a]=0;f+=4}}(a,i,d,e,g),8!==c&&(16===c&&(i=Buffer.alloc(d*e*4)),!function(a,b,c,d,e){let f=Math.pow(2,e)-1,g=0;for(let e=0;e<d;e++)for(let d=0;d<c;d++){for(let c=0;c<4;c++)b[g+c]=Math.floor(255*a[g+c]/f+.5);g+=4}}(a,i,d,e,c))),i}},940,(a,b,c)=>{"use strict";let d=a.r(24361),e=a.r(6461),f=a.r(8858),g=a.r(42131),h=a.r(71173),i=a.r(42744),j=a.r(14606),k=b.exports=function(a){f.call(this),this._parser=new h(a,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=a,this.writable=!0,this._parser.start()};d.inherits(k,f),k.prototype._handleError=function(a){this.emit("error",a),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},k.prototype._inflateData=function(a){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=e.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let a=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,b=Math.max(a,e.Z_MIN_CHUNK);this._inflate=e.createInflate({chunkSize:b});let c=a,d=this.emit.bind(this,"error");this._inflate.on("error",function(a){c&&d(a)}),this._filter.on("complete",this._complete.bind(this));let f=this._filter.write.bind(this._filter);this._inflate.on("data",function(a){c&&(a.length>c&&(a=a.slice(0,c)),c-=a.length,f(a))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(a)},k.prototype._handleMetaData=function(a){this._metaData=a,this._bitmapInfo=Object.create(a),this._filter=new g(this._bitmapInfo)},k.prototype._handleTransColor=function(a){this._bitmapInfo.transColor=a},k.prototype._handlePalette=function(a){this._bitmapInfo.palette=a},k.prototype._simpleTransparency=function(){this._metaData.alpha=!0},k.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},k.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},k.prototype._complete=function(a){let b;if(!this.errord){try{let c=i.dataToBitMap(a,this._bitmapInfo);b=j(c,this._bitmapInfo),c=null}catch(a){this._handleError(a);return}this.emit("parsed",b)}}},77162,(a,b,c)=>{"use strict";let d=a.r(51181);b.exports=function(a,b,c,e){let f=-1!==[d.COLORTYPE_COLOR_ALPHA,d.COLORTYPE_ALPHA].indexOf(e.colorType);if(e.colorType===e.inputColorType){let b,c=(new DataView(b=new ArrayBuffer(2)).setInt16(0,256,!0),256!==new Int16Array(b)[0]);if(8===e.bitDepth||16===e.bitDepth&&c)return a}let g=16!==e.bitDepth?a:new Uint16Array(a.buffer),h=255,i=d.COLORTYPE_TO_BPP_MAP[e.inputColorType];4!==i||e.inputHasAlpha||(i=3);let j=d.COLORTYPE_TO_BPP_MAP[e.colorType];16===e.bitDepth&&(h=65535,j*=2);let k=Buffer.alloc(b*c*j),l=0,m=0,n=e.bgColor||{};void 0===n.red&&(n.red=h),void 0===n.green&&(n.green=h),void 0===n.blue&&(n.blue=h);for(let a=0;a<c;a++)for(let a=0;a<b;a++){let a=function(){let a,b,c,i=h;switch(e.inputColorType){case d.COLORTYPE_COLOR_ALPHA:i=g[l+3],a=g[l],b=g[l+1],c=g[l+2];break;case d.COLORTYPE_COLOR:a=g[l],b=g[l+1],c=g[l+2];break;case d.COLORTYPE_ALPHA:i=g[l+1],b=a=g[l],c=a;break;case d.COLORTYPE_GRAYSCALE:b=a=g[l],c=a;break;default:throw Error("input color type:"+e.inputColorType+" is not supported at present")}return e.inputHasAlpha&&!f&&(i/=h,a=Math.min(Math.max(Math.round((1-i)*n.red+i*a),0),h),b=Math.min(Math.max(Math.round((1-i)*n.green+i*b),0),h),c=Math.min(Math.max(Math.round((1-i)*n.blue+i*c),0),h)),{red:a,green:b,blue:c,alpha:i}}(g,l);switch(e.colorType){case d.COLORTYPE_COLOR_ALPHA:case d.COLORTYPE_COLOR:8===e.bitDepth?(k[m]=a.red,k[m+1]=a.green,k[m+2]=a.blue,f&&(k[m+3]=a.alpha)):(k.writeUInt16BE(a.red,m),k.writeUInt16BE(a.green,m+2),k.writeUInt16BE(a.blue,m+4),f&&k.writeUInt16BE(a.alpha,m+6));break;case d.COLORTYPE_ALPHA:case d.COLORTYPE_GRAYSCALE:{let b=(a.red+a.green+a.blue)/3;8===e.bitDepth?(k[m]=b,f&&(k[m+1]=a.alpha)):(k.writeUInt16BE(b,m),f&&k.writeUInt16BE(a.alpha,m+2));break}default:throw Error("unrecognised color Type "+e.colorType)}l+=i,m+=j}return k}},73004,(a,b,c)=>{"use strict";let d=a.r(9125),e={0:function(a,b,c,d,e){for(let f=0;f<c;f++)d[e+f]=a[b+f]},1:function(a,b,c,d,e,f){for(let g=0;g<c;g++){let c=g>=f?a[b+g-f]:0,h=a[b+g]-c;d[e+g]=h}},2:function(a,b,c,d,e){for(let f=0;f<c;f++){let g=b>0?a[b+f-c]:0,h=a[b+f]-g;d[e+f]=h}},3:function(a,b,c,d,e,f){for(let g=0;g<c;g++){let h=g>=f?a[b+g-f]:0,i=b>0?a[b+g-c]:0,j=a[b+g]-(h+i>>1);d[e+g]=j}},4:function(a,b,c,e,f,g){for(let h=0;h<c;h++){let i=h>=g?a[b+h-g]:0,j=b>0?a[b+h-c]:0,k=b>0&&h>=g?a[b+h-(c+g)]:0,l=a[b+h]-d(i,j,k);e[f+h]=l}}},f={0:function(a,b,c){let d=0,e=b+c;for(let c=b;c<e;c++)d+=Math.abs(a[c]);return d},1:function(a,b,c,d){let e=0;for(let f=0;f<c;f++){let c=f>=d?a[b+f-d]:0;e+=Math.abs(a[b+f]-c)}return e},2:function(a,b,c){let d=0,e=b+c;for(let f=b;f<e;f++){let e=b>0?a[f-c]:0;d+=Math.abs(a[f]-e)}return d},3:function(a,b,c,d){let e=0;for(let f=0;f<c;f++){let g=f>=d?a[b+f-d]:0,h=b>0?a[b+f-c]:0;e+=Math.abs(a[b+f]-(g+h>>1))}return e},4:function(a,b,c,e){let f=0;for(let g=0;g<c;g++){let h=g>=e?a[b+g-e]:0,i=b>0?a[b+g-c]:0,j=b>0&&g>=e?a[b+g-(c+e)]:0;f+=Math.abs(a[b+g]-d(h,i,j))}return f}};b.exports=function(a,b,c,d,g){let h;if("filterType"in d&&-1!==d.filterType)if("number"==typeof d.filterType)h=[d.filterType];else throw Error("unrecognised filter types");else h=[0,1,2,3,4];16===d.bitDepth&&(g*=2);let i=b*g,j=0,k=0,l=Buffer.alloc((i+1)*c),m=h[0];for(let b=0;b<c;b++){if(h.length>1){let b=1/0;for(let c=0;c<h.length;c++){let d=f[h[c]](a,k,i,g);d<b&&(m=h[c],b=d)}}l[j]=m,j++,e[m](a,k,i,l,j,g),j+=i,k+=i}return l}},5587,(a,b,c)=>{"use strict";let d=a.r(51181),e=a.r(14734),f=a.r(77162),g=a.r(73004),h=a.r(6461),i=b.exports=function(a){if(this._options=a,a.deflateChunkSize=a.deflateChunkSize||32768,a.deflateLevel=null!=a.deflateLevel?a.deflateLevel:9,a.deflateStrategy=null!=a.deflateStrategy?a.deflateStrategy:3,a.inputHasAlpha=null==a.inputHasAlpha||a.inputHasAlpha,a.deflateFactory=a.deflateFactory||h.createDeflate,a.bitDepth=a.bitDepth||8,a.colorType="number"==typeof a.colorType?a.colorType:d.COLORTYPE_COLOR_ALPHA,a.inputColorType="number"==typeof a.inputColorType?a.inputColorType:d.COLORTYPE_COLOR_ALPHA,-1===[d.COLORTYPE_GRAYSCALE,d.COLORTYPE_COLOR,d.COLORTYPE_COLOR_ALPHA,d.COLORTYPE_ALPHA].indexOf(a.colorType))throw Error("option color type:"+a.colorType+" is not supported at present");if(-1===[d.COLORTYPE_GRAYSCALE,d.COLORTYPE_COLOR,d.COLORTYPE_COLOR_ALPHA,d.COLORTYPE_ALPHA].indexOf(a.inputColorType))throw Error("option input color type:"+a.inputColorType+" is not supported at present");if(8!==a.bitDepth&&16!==a.bitDepth)throw Error("option bit depth:"+a.bitDepth+" is not supported at present")};i.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},i.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},i.prototype.filterData=function(a,b,c){let e=f(a,b,c,this._options),h=d.COLORTYPE_TO_BPP_MAP[this._options.colorType];return g(e,b,c,this._options,h)},i.prototype._packChunk=function(a,b){let c=b?b.length:0,d=Buffer.alloc(c+12);return d.writeUInt32BE(c,0),d.writeUInt32BE(a,4),b&&b.copy(d,8),d.writeInt32BE(e.crc32(d.slice(4,d.length-4)),d.length-4),d},i.prototype.packGAMA=function(a){let b=Buffer.alloc(4);return b.writeUInt32BE(Math.floor(a*d.GAMMA_DIVISION),0),this._packChunk(d.TYPE_gAMA,b)},i.prototype.packIHDR=function(a,b){let c=Buffer.alloc(13);return c.writeUInt32BE(a,0),c.writeUInt32BE(b,4),c[8]=this._options.bitDepth,c[9]=this._options.colorType,c[10]=0,c[11]=0,c[12]=0,this._packChunk(d.TYPE_IHDR,c)},i.prototype.packIDAT=function(a){return this._packChunk(d.TYPE_IDAT,a)},i.prototype.packIEND=function(){return this._packChunk(d.TYPE_IEND,null)}},54438,(a,b,c)=>{"use strict";let d=a.r(24361),e=a.r(88947),f=a.r(51181),g=a.r(5587),h=b.exports=function(a){e.call(this),this._packer=new g(a||{}),this._deflate=this._packer.createDeflate(),this.readable=!0};d.inherits(h,e),h.prototype.pack=function(a,b,c,d){this.emit("data",Buffer.from(f.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(b,c)),d&&this.emit("data",this._packer.packGAMA(d));let e=this._packer.filterData(a,b,c);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(a){this.emit("data",this._packer.packIDAT(a))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(e)}},49719,(a,b,c)=>{b.exports=a.x("assert",()=>require("assert"))},17706,(a,b,c)=>{"use strict";let d=a.r(49719).ok,e=a.r(6461),f=a.r(24361),g=a.r(874).kMaxLength;function h(a){if(!(this instanceof h))return new h(a);a&&a.chunkSize<e.Z_MIN_CHUNK&&(a.chunkSize=e.Z_MIN_CHUNK),e.Inflate.call(this,a),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,a&&null!=a.maxLength&&(this._maxLength=a.maxLength)}function i(a,b){b&&process.nextTick(b),a._handle&&(a._handle.close(),a._handle=null)}function j(a,b){var c=new h(b),d=a;if("string"==typeof d&&(d=Buffer.from(d)),!(d instanceof Buffer))throw TypeError("Not a string or buffer");let f=c._finishFlushFlag;return null==f&&(f=e.Z_FINISH),c._processChunk(d,f)}h.prototype._processChunk=function(a,b,c){let f,h;if("function"==typeof c)return e.Inflate._processChunk.call(this,a,b,c);let j=this,k=a&&a.length,l=this._chunkSize-this._offset,m=this._maxLength,n=0,o=[],p=0;this.on("error",function(a){f=a}),d(this._handle,"zlib binding closed");do h=(h=this._handle.writeSync(b,a,n,k,this._buffer,this._offset,l))||this._writeState;while(!this._hadError&&function(a,b){if(j._hadError)return;let c=l-b;if(d(c>=0,"have should not go down"),c>0){let a=j._buffer.slice(j._offset,j._offset+c);if(j._offset+=c,a.length>m&&(a=a.slice(0,m)),o.push(a),p+=a.length,0==(m-=a.length))return!1}return(0===b||j._offset>=j._chunkSize)&&(l=j._chunkSize,j._offset=0,j._buffer=Buffer.allocUnsafe(j._chunkSize)),0===b&&(n+=k-a,k=a,!0)}(h[0],h[1]))if(this._hadError)throw f;if(p>=g)throw i(this),RangeError("Cannot create final Buffer. It would be larger than 0x"+g.toString(16)+" bytes");let q=Buffer.concat(o,p);return i(this),q},f.inherits(h,e.Inflate),b.exports=c=j,c.Inflate=h,c.createInflate=function(a){return new h(a)},c.inflateSync=j},96766,(a,b,c)=>{"use strict";let d=b.exports=function(a){this._buffer=a,this._reads=[]};d.prototype.read=function(a,b){this._reads.push({length:Math.abs(a),allowLess:a<0,func:b})},d.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let a=this._reads[0];if(this._buffer.length&&(this._buffer.length>=a.length||a.allowLess)){this._reads.shift();let b=this._buffer;this._buffer=b.slice(a.length),a.func.call(this,b.slice(0,a.length))}else break}return this._reads.length>0?Error("There are some read requests waitng on finished stream"):this._buffer.length>0?Error("unrecognised content at end of stream"):void 0}},90109,(a,b,c)=>{"use strict";let d=a.r(96766),e=a.r(61205);c.process=function(a,b){let c=[],f=new d(a);return new e(b,{read:f.read.bind(f),write:function(a){c.push(a)},complete:function(){}}).start(),f.process(),Buffer.concat(c)}},92621,(a,b,c)=>{"use strict";let d=!0,e=a.r(6461),f=a.r(17706);e.deflateSync||(d=!1);let g=a.r(96766),h=a.r(90109),i=a.r(71173),j=a.r(42744),k=a.r(14606);b.exports=function(a,b){let c,l,m,n;if(!d)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let o=[],p=new g(a);if(new i(b,{read:p.read.bind(p),error:function(a){c=a},metadata:function(a){l=a},gamma:function(a){m=a},palette:function(a){l.palette=a},transColor:function(a){l.transColor=a},inflateData:function(a){o.push(a)},simpleTransparency:function(){l.alpha=!0}}).start(),p.process(),c)throw c;let q=Buffer.concat(o);if(o.length=0,l.interlace)n=e.inflateSync(q);else{let a=((l.width*l.bpp*l.depth+7>>3)+1)*l.height;n=f(q,{chunkSize:a,maxLength:a})}if(q=null,!n||!n.length)throw Error("bad png - invalid inflate data response");let r=h.process(n,l);q=null;let s=j.dataToBitMap(r,l);r=null;let t=k(s,l);return l.data=t,l.gamma=m||0,l}},60147,(a,b,c)=>{"use strict";let d=!0,e=a.r(6461);e.deflateSync||(d=!1);let f=a.r(51181),g=a.r(5587);b.exports=function(a,b){if(!d)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let c=new g(b||{}),h=[];h.push(Buffer.from(f.PNG_SIGNATURE)),h.push(c.packIHDR(a.width,a.height)),a.gamma&&h.push(c.packGAMA(a.gamma));let i=c.filterData(a.data,a.width,a.height),j=e.deflateSync(i,c.getDeflateOptions());if(i=null,!j||!j.length)throw Error("bad png - invalid compressed data response");return h.push(c.packIDAT(j)),h.push(c.packIEND()),Buffer.concat(h)}},81593,(a,b,c)=>{"use strict";let d=a.r(92621),e=a.r(60147);c.read=function(a,b){return d(a,b||{})},c.write=function(a,b){return e(a,b)}},46612,(a,b,c)=>{"use strict";let d=a.r(24361),e=a.r(88947),f=a.r(940),g=a.r(54438),h=a.r(81593),i=c.PNG=function(a){e.call(this),a=a||{},this.width=0|a.width,this.height=0|a.height,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,a.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new f(a),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(a){this.data=a,this.emit("parsed",a)}).bind(this)),this._packer=new g(a),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};d.inherits(i,e),i.sync=h,i.prototype.pack=function(){return this.data&&this.data.length?process.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)):this.emit("error","No data provided"),this},i.prototype.parse=function(a,b){if(b){let a,c;a=(function(a){this.removeListener("error",c),this.data=a,b(null,this)}).bind(this),c=(function(c){this.removeListener("parsed",a),b(c,null)}).bind(this),this.once("parsed",a),this.once("error",c)}return this.end(a),this},i.prototype.write=function(a){return this._parser.write(a),!0},i.prototype.end=function(a){this._parser.end(a)},i.prototype._metadata=function(a){this.width=a.width,this.height=a.height,this.emit("metadata",a)},i.prototype._gamma=function(a){this.gamma=a},i.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},i.bitblt=function(a,b,c,d,e,f,g,h){if(d|=0,e|=0,f|=0,g|=0,h|=0,(c|=0)>a.width||d>a.height||c+e>a.width||d+f>a.height)throw Error("bitblt reading outside image");if(g>b.width||h>b.height||g+e>b.width||h+f>b.height)throw Error("bitblt writing outside image");for(let i=0;i<f;i++)a.data.copy(b.data,(h+i)*b.width+g<<2,(d+i)*a.width+c<<2,(d+i)*a.width+c+e<<2)},i.prototype.bitblt=function(a,b,c,d,e,f,g){return i.bitblt(this,a,b,c,d,e,f,g),this},i.adjustGamma=function(a){if(a.gamma){for(let b=0;b<a.height;b++)for(let c=0;c<a.width;c++){let d=a.width*b+c<<2;for(let b=0;b<3;b++){let c=a.data[d+b]/255;c=Math.pow(c,1/2.2/a.gamma),a.data[d+b]=Math.round(255*c)}}a.gamma=0}},i.prototype.adjustGamma=function(){i.adjustGamma(this)}},94132,(a,b,c)=>{let d=a.r(22734),e=a.r(46612).PNG,f=a.r(63391);c.render=function(a,b){let c=f.getOptions(b),d=c.rendererOpts,g=f.getImageWidth(a.modules.size,c);d.width=g,d.height=g;let h=new e(d);return f.qrToImageData(h.data,a,c),h},c.renderToDataURL=function(a,b,d){void 0===d&&(d=b,b=void 0),c.renderToBuffer(a,b,function(a,b){a&&d(a);let c="data:image/png;base64,";c+=b.toString("base64"),d(null,c)})},c.renderToBuffer=function(a,b,d){void 0===d&&(d=b,b=void 0);let e=c.render(a,b),f=[];e.on("error",d),e.on("data",function(a){f.push(a)}),e.on("end",function(){d(null,Buffer.concat(f))}),e.pack()},c.renderToFile=function(a,b,e,f){void 0===f&&(f=e,e=void 0);let g=!1,h=(...a)=>{g||(g=!0,f.apply(null,a))},i=d.createWriteStream(a);i.on("error",h),i.on("close",h),c.renderToFileStream(i,b,e)},c.renderToFileStream=function(a,b,d){c.render(b,d).pack().pipe(a)}},65965,(a,b,c)=>{let d=a.r(63391),e={WW:" ",WB:"",BB:"",BW:""},f={BB:" ",BW:"",WW:"",WB:""};c.render=function(a,b,c){let g=d.getOptions(b),h=e;("#ffffff"===g.color.dark.hex||"#000000"===g.color.light.hex)&&(h=f);let i=a.modules.size,j=a.modules.data,k="",l=Array(i+2*g.margin+1).join(h.WW);l=Array(g.margin/2+1).join(l+"\n");let m=Array(g.margin+1).join(h.WW);k+=l;for(let a=0;a<i;a+=2){k+=m;for(let b=0;b<i;b++){var n;let c=j[a*i+b],d=j[(a+1)*i+b];k+=(n=h,c&&d?n.BB:c&&!d?n.BW:!c&&d?n.WB:n.WW)}k+=m+"\n"}return k+=l.slice(0,-1),"function"==typeof c&&c(null,k),k},c.renderToFile=function(b,d,e,f){void 0===f&&(f=e,e=void 0);let g=a.r(22734),h=c.render(d,e);g.writeFile(b,h,f)}},60844,(a,b,c)=>{c.render=function(a,b,c){let d=a.modules.size,e=a.modules.data,f="\x1b[47m  \x1b[0m",g="",h=Array(d+3).join(f),i=[,,].join(f);g+=h+"\n";for(let a=0;a<d;++a){g+=f;for(let b=0;b<d;b++)g+=e[a*d+b]?"\x1b[40m  \x1b[0m":f;g+=i+"\n"}return g+=h+"\n","function"==typeof c&&c(null,g),g}},59949,(a,b,c)=>{let d="\x1b[37m",e="\x1b[30m",f="\x1b[0m",g="\x1b[47m"+e,h="\x1b[40m"+d,i=function(a,b,c,d){let e=b+1;return c>=e||d>=e||d<-1||c<-1?"0":c>=b||d>=b||d<0||c<0?"1":a[d*b+c]?"2":"1"},j=function(a,b,c,d){return i(a,b,c,d)+i(a,b,c,d+1)};c.render=function(a,b,c){var i,k;let l=a.modules.size,m=a.modules.data,n=!!(b&&b.inverse),o=b&&b.inverse?h:g,p={"00":f+" "+o,"01":f+(i=n?e:d)+""+o,"02":f+(k=n?d:e)+""+o,10:f+i+""+o,11:" ",12:"",20:f+k+""+o,21:"",22:""},q=f+"\n"+o,r=o;for(let a=-1;a<l+1;a+=2){for(let b=-1;b<l;b++)r+=p[j(m,l,b,a)];r+=p[j(m,l,l,a)]+q}return r+=f,"function"==typeof c&&c(null,r),r}},23450,(a,b,c)=>{let d=a.r(60844),e=a.r(59949);c.render=function(a,b,c){return b&&b.small?e.render(a,b,c):d.render(a,b,c)}},12458,(a,b,c)=>{c.render=a.r(96223).render,c.renderToFile=function(b,d,e,f){void 0===f&&(f=e,e=void 0);let g=a.r(22734),h=c.render(d,e);g.writeFile(b,'<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+h,f)}},26374,(a,b,c)=>{let d=a.r(93694),e=a.r(8984),f=a.r(94132),g=a.r(65965),h=a.r(23450),i=a.r(12458);function j(a,b,c){if(void 0===a)throw Error("String required as first argument");if(void 0===c&&(c=b,b={}),"function"!=typeof c)if(d())b=c||{},c=null;else throw Error("Callback required as last argument");return{opts:b,cb:c}}function k(a){switch(a){case"svg":return i;case"txt":case"utf8":return g;default:return f}}function l(a,b,c){if(!c.cb)return new Promise(function(d,f){try{let g=e.create(b,c.opts);return a(g,c.opts,function(a,b){return a?f(a):d(b)})}catch(a){f(a)}});try{let d=e.create(b,c.opts);return a(d,c.opts,c.cb)}catch(a){c.cb(a)}}c.create=e.create,c.toCanvas=a.r(88717).toCanvas,c.toString=function(a,b,c){let d=j(a,b,c);return l(function(a){switch(a){case"svg":return i;case"terminal":return h;default:return g}}(d.opts?d.opts.type:void 0).render,a,d)},c.toDataURL=function(a,b,c){let d=j(a,b,c);return l(k(d.opts.type).renderToDataURL,a,d)},c.toBuffer=function(a,b,c){let d=j(a,b,c);return l(k(d.opts.type).renderToBuffer,a,d)},c.toFile=function(a,b,c,e){if("string"!=typeof a||"string"!=typeof b&&"object"!=typeof b)throw Error("Invalid argument");if(arguments.length<3&&!d())throw Error("Too few arguments provided");let f=j(b,c,e);return l(k(f.opts.type||a.slice((a.lastIndexOf(".")-1>>>0)+2).toLowerCase()).renderToFile.bind(null,a),b,f)},c.toFileStream=function(a,b,c){if(arguments.length<2)throw Error("Too few arguments provided");let d=j(b,c,a.emit.bind(a,"error"));l(k("png").renderToFileStream.bind(null,a),b,d)}},94954,(a,b,c)=>{b.exports=a.r(26374)},80782,(a,b,c)=>{"use strict";b.exports=function(a){if(a.length>=255)throw TypeError("Alphabet too long");for(var b=new Uint8Array(256),c=0;c<b.length;c++)b[c]=255;for(var d=0;d<a.length;d++){var e=a.charAt(d),f=e.charCodeAt(0);if(255!==b[f])throw TypeError(e+" is ambiguous");b[f]=d}var g=a.length,h=a.charAt(0),i=Math.log(g)/Math.log(256),j=Math.log(256)/Math.log(g);function k(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;for(var c=0,d=0,e=0;a[c]===h;)d++,c++;for(var f=(a.length-c)*i+1>>>0,j=new Uint8Array(f);a[c];){var k=a.charCodeAt(c);if(k>255)return;var l=b[k];if(255===l)return;for(var m=0,n=f-1;(0!==l||m<e)&&-1!==n;n--,m++)l+=g*j[n]>>>0,j[n]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");e=m,c++}for(var o=f-e;o!==f&&0===j[o];)o++;for(var p=new Uint8Array(d+(f-o)),q=d;o!==f;)p[q++]=j[o++];return p}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var i=(f-e)*j+1>>>0,k=new Uint8Array(i);e!==f;){for(var l=b[e],m=0,n=i-1;(0!==l||m<d)&&-1!==n;n--,m++)l+=256*k[n]>>>0,k[n]=l%g>>>0,l=l/g>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var o=i-d;o!==i&&0===k[o];)o++;for(var p=h.repeat(c);o<i;++o)p+=a.charAt(k[o]);return p},decodeUnsafe:k,decode:function(a){var b=k(a);if(b)return b;throw Error("Non-base"+g+" character")}}}},6765,(a,b,c)=>{b.exports=a.r(80782)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},72765,(a,b,c)=>{let d=a.r(71277),e=d.default||d,f=function(a,b){return/^\/\//.test(a)&&(a="https:"+a),e.call(this,a,b)};f.ponyfill=!0,b.exports=c=f,c.fetch=f,c.Headers=d.Headers,c.Request=d.Request,c.Response=d.Response,c.default=f},36629,(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={},i={createFinalURL:()=>x,createPathBasedClient:()=>q,createQuerySerializer:()=>u,default:()=>m,defaultBodySerializer:()=>w,defaultPathSerializer:()=>v,mergeHeaders:()=>y,randomID:()=>l,removeTrailingSlash:()=>z,serializeArrayParam:()=>t,serializeObjectParam:()=>s,serializePrimitiveParam:()=>r,wrapAsPathBasedClient:()=>p};for(var j in i)d(h,j,{get:i[j],enumerable:!0});b.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var k=/\{[^{}]+\}/g;function l(){return Math.random().toString(36).slice(2,11)}function m(a){let{baseUrl:b="",Request:c=globalThis.Request,fetch:d=globalThis.fetch,querySerializer:e,bodySerializer:f,headers:g,requestInitExt:h,...i}={...a};h="object"==typeof process&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici?h:void 0,b=z(b);let j=[];async function k(a,k){let m,n,o,{baseUrl:p,fetch:q=d,Request:r=c,headers:s,params:t={},parseAs:v="json",querySerializer:A,bodySerializer:B=f??w,body:C,...D}=k||{},E=b;p&&(E=z(p)??b);let F="function"==typeof e?e:u(e);A&&(F="function"==typeof A?A:u({..."object"==typeof e?e:{},...A}));let G=void 0===C?void 0:B(C,y(g,s,t.header)),H=y(void 0===G||G instanceof FormData?{}:{"Content-Type":"application/json"},g,s,t.header),I={redirect:"follow",...i,...D,body:G,headers:H},J=new c(x(a,{baseUrl:E,params:t,querySerializer:F}),I);for(let a in D)a in J||(J[a]=D[a]);if(j.length){for(let b of(m=l(),n=Object.freeze({baseUrl:E,fetch:q,parseAs:v,querySerializer:F,bodySerializer:B}),j))if(b&&"object"==typeof b&&"function"==typeof b.onRequest){let d=await b.onRequest({request:J,schemaPath:a,params:t,options:n,id:m});if(d)if(d instanceof c)J=d;else if(d instanceof Response){o=d;break}else throw Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!o){try{o=await q(J,h)}catch(c){let b=c;if(j.length)for(let c=j.length-1;c>=0;c--){let d=j[c];if(d&&"object"==typeof d&&"function"==typeof d.onError){let c=await d.onError({request:J,error:b,schemaPath:a,params:t,options:n,id:m});if(c){if(c instanceof Response){b=void 0,o=c;break}if(c instanceof Error){b=c;continue}throw Error("onError: must return new Response() or instance of Error")}}}if(b)throw b}if(j.length)for(let b=j.length-1;b>=0;b--){let c=j[b];if(c&&"object"==typeof c&&"function"==typeof c.onResponse){let b=await c.onResponse({request:J,response:o,schemaPath:a,params:t,options:n,id:m});if(b){if(!(b instanceof Response))throw Error("onResponse: must return new Response() when modifying the response");o=b}}}}if(204===o.status||"HEAD"===J.method||"0"===o.headers.get("Content-Length"))return o.ok?{data:void 0,response:o}:{error:void 0,response:o};if(o.ok)return"stream"===v?{data:o.body,response:o}:{data:await o[v](),response:o};let K=await o.text();try{K=JSON.parse(K)}catch{}return{error:K,response:o}}return{request:(a,b,c)=>k(b,{...c,method:a.toUpperCase()}),GET:(a,b)=>k(a,{...b,method:"GET"}),PUT:(a,b)=>k(a,{...b,method:"PUT"}),POST:(a,b)=>k(a,{...b,method:"POST"}),DELETE:(a,b)=>k(a,{...b,method:"DELETE"}),OPTIONS:(a,b)=>k(a,{...b,method:"OPTIONS"}),HEAD:(a,b)=>k(a,{...b,method:"HEAD"}),PATCH:(a,b)=>k(a,{...b,method:"PATCH"}),TRACE:(a,b)=>k(a,{...b,method:"TRACE"}),use(...a){for(let b of a)if(b){if("object"!=typeof b||!("onRequest"in b||"onResponse"in b||"onError"in b))throw Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");j.push(b)}},eject(...a){for(let b of a){let a=j.indexOf(b);-1!==a&&j.splice(a,1)}}}}var n=class{constructor(a,b){this.client=a,this.url=b}GET=a=>this.client.GET(this.url,a);PUT=a=>this.client.PUT(this.url,a);POST=a=>this.client.POST(this.url,a);DELETE=a=>this.client.DELETE(this.url,a);OPTIONS=a=>this.client.OPTIONS(this.url,a);HEAD=a=>this.client.HEAD(this.url,a);PATCH=a=>this.client.PATCH(this.url,a);TRACE=a=>this.client.TRACE(this.url,a)},o=class{constructor(){this.client=null}get(a,b){let c=new n(a,b);return this.client[b]=c,c}};function p(a){let b=new o;function c(){}c.prototype=new Proxy(a,b);let d=new c;return b.client=d,d}function q(a){return p(m(a))}function r(a,b,c){if(null==b)return"";if("object"==typeof b)throw Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${a}=${c?.allowReserved===!0?b:encodeURIComponent(b)}`}function s(a,b,c){if(!b||"object"!=typeof b)return"";let d=[],e={simple:",",label:".",matrix:";"}[c.style]||"&";if("deepObject"!==c.style&&!1===c.explode){for(let a in b)d.push(a,!0===c.allowReserved?b[a]:encodeURIComponent(b[a]));let e=d.join(",");switch(c.style){case"form":return`${a}=${e}`;case"label":return`.${e}`;case"matrix":return`;${a}=${e}`;default:return e}}for(let e in b){let f="deepObject"===c.style?`${a}[${e}]`:e;d.push(r(f,b[e],c))}let f=d.join(e);return"label"===c.style||"matrix"===c.style?`${e}${f}`:f}function t(a,b,c){if(!Array.isArray(b))return"";if(!1===c.explode){let d={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[c.style]||",",e=(!0===c.allowReserved?b:b.map(a=>encodeURIComponent(a))).join(d);switch(c.style){case"simple":return e;case"label":return`.${e}`;case"matrix":return`;${a}=${e}`;default:return`${a}=${e}`}}let d={simple:",",label:".",matrix:";"}[c.style]||"&",e=[];for(let d of b)"simple"===c.style||"label"===c.style?e.push(!0===c.allowReserved?d:encodeURIComponent(d)):e.push(r(a,d,c));return"label"===c.style||"matrix"===c.style?`${d}${e.join(d)}`:e.join(d)}function u(a){return function(b){let c=[];if(b&&"object"==typeof b)for(let d in b){let e=b[d];if(null!=e){if(Array.isArray(e)){if(0===e.length)continue;c.push(t(d,e,{style:"form",explode:!0,...a?.array,allowReserved:a?.allowReserved||!1}));continue}if("object"==typeof e){c.push(s(d,e,{style:"deepObject",explode:!0,...a?.object,allowReserved:a?.allowReserved||!1}));continue}c.push(r(d,e,a))}}return c.join("&")}}function v(a,b){let c=a;for(let d of a.match(k)??[]){let a=d.substring(1,d.length-1),e=!1,f="simple";if(a.endsWith("*")&&(e=!0,a=a.substring(0,a.length-1)),a.startsWith(".")?(f="label",a=a.substring(1)):a.startsWith(";")&&(f="matrix",a=a.substring(1)),!b||void 0===b[a]||null===b[a])continue;let g=b[a];if(Array.isArray(g)){c=c.replace(d,t(a,g,{style:f,explode:e}));continue}if("object"==typeof g){c=c.replace(d,s(a,g,{style:f,explode:e}));continue}if("matrix"===f){c=c.replace(d,`;${r(a,g)}`);continue}c=c.replace(d,"label"===f?`.${encodeURIComponent(g)}`:encodeURIComponent(g))}return c}function w(a,b){return a instanceof FormData?a:b&&"application/x-www-form-urlencoded"===(b.get instanceof Function?b.get("Content-Type")??b.get("content-type"):b["Content-Type"]??b["content-type"])?new URLSearchParams(a).toString():JSON.stringify(a)}function x(a,b){let c=`${b.baseUrl}${a}`;b.params?.path&&(c=v(c,b.params.path));let d=b.querySerializer(b.params.query??{});return d.startsWith("?")&&(d=d.substring(1)),d&&(c+=`?${d}`),c}function y(...a){let b=new Headers;for(let c of a)if(c&&"object"==typeof c)for(let[a,d]of c instanceof Headers?c.entries():Object.entries(c))if(null===d)b.delete(a);else if(Array.isArray(d))for(let c of d)b.append(a,c);else void 0!==d&&b.set(a,d);return b}function z(a){return a.endsWith("/")?a.substring(0,a.length-1):a}},82232,(a,b,c)=>{"use strict";let d,e,f;var g,h,i=Object.create,j=Object.defineProperty,k=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,m=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,o=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of l(b))n.call(a,e)||e===c||j(a,e,{get:()=>b[e],enumerable:!(d=k(b,e))||d.enumerable});return a},p={},q={analytics:()=>v};for(var r in q)j(p,r,{get:q[r],enumerable:!0});b.exports=o(j({},"__esModule",{value:!0}),p);var s=(f=null!=(d=a.r(36629))?i(m(d)):{},o(!e&&d&&d.__esModule?f:j(f,"default",{value:d,enumerable:!0}),d)),t=class{constructor(a){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=a.batchSize,this.baseTimeoutMs=a.baseTimeoutMs,this.currentTimeoutMs=a.baseTimeoutMs,this.sendFn=a.sendFn}enqueue(a){this.batch.push(a),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||0===this.batch.length)return;this.isSending=!0;let a=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(a),this.currentTimeoutMs=this.baseTimeoutMs}catch(b){console.error("Sender: Failed to send batch",b),this.batch=[...a,...this.batch],this.currentTimeoutMs=Math.min(2*this.currentTimeoutMs,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},u=class{constructor(a){this.enabled=!1,this.properties={};const b=(0,s.default)({baseUrl:a}),c=async a=>{let c=await b.POST("/v1/events",{body:a});if(200!==c.response.status)throw Error(c.error)};this.sender=new t({batchSize:100,baseTimeoutMs:200,sendFn:c})}enable(){this.enabled=!0}setGlobalProperty(a,b){this.properties[a]=b}track(a,b){if(!this.enabled)return;let c={name:a,...this.properties,...b};this.sender.enqueue(c)}};"undefined"!=typeof process&&process.env&&(g=null!=(h=process.env.METAMASK_ANALYTICS_ENDPOINT)?h:process.env.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var v=new u(null!=g?g:"https://mm-sdk-analytics.api.cx.metamask.io/")},87356,(a,b,c)=>{!function(c){var d=Object.hasOwnProperty,e=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},f="object"==typeof process&&"function"==typeof process.nextTick,g="function"==typeof Symbol,h="object"==typeof Reflect,i="function"==typeof setImmediate?setImmediate:setTimeout,j=g?h&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(a){var b=Object.getOwnPropertyNames(a);return b.push.apply(b,Object.getOwnPropertySymbols(a)),b}:Object.keys;function k(){this._events={},this._conf&&l.call(this,this._conf)}function l(a){a&&(this._conf=a,a.delimiter&&(this.delimiter=a.delimiter),a.maxListeners!==c&&(this._maxListeners=a.maxListeners),a.wildcard&&(this.wildcard=a.wildcard),a.newListener&&(this._newListener=a.newListener),a.removeListener&&(this._removeListener=a.removeListener),a.verboseMemoryLeak&&(this.verboseMemoryLeak=a.verboseMemoryLeak),a.ignoreErrors&&(this.ignoreErrors=a.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function m(a,b){var c="(node) warning: possible EventEmitter memory leak detected. "+a+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(c+=" Event name: "+b+"."),"undefined"!=typeof process&&process.emitWarning){var d=Error(c);d.name="MaxListenersExceededWarning",d.emitter=this,d.count=a,process.emitWarning(d)}else console.error(c),console.trace&&console.trace()}var n=function(a,b,c){var d=arguments.length;switch(d){case 0:return[];case 1:return[a];case 2:return[a,b];case 3:return[a,b,c];default:for(var e=Array(d);d--;)e[d]=arguments[d];return e}};function o(a,b){for(var d={},e=a.length,f=b?b.length:0,g=0;g<e;g++)d[a[g]]=g<f?b[g]:c;return d}function p(a,b,c){if(this._emitter=a,this._target=b,this._listeners={},this._listenersCount=0,(c.on||c.off)&&(d=c.on,e=c.off),b.addEventListener?(d=b.addEventListener,e=b.removeEventListener):b.addListener?(d=b.addListener,e=b.removeListener):b.on&&(d=b.on,e=b.off),!d&&!e)throw Error("target does not implement any known event API");if("function"!=typeof d)throw TypeError("on method must be a function");if("function"!=typeof e)throw TypeError("off method must be a function");this._on=d,this._off=e;var d,e,f=a._observers;f?f.push(this):a._observers=[this]}function q(a,b,e,f){var g,h,i,j=Object.assign({},b);if(!a)return j;if("object"!=typeof a)throw TypeError("options must be an object");var k=Object.keys(a),l=k.length;function m(a){throw Error('Invalid "'+g+'" option value'+(a?". Reason: "+a:""))}for(var n=0;n<l;n++){if(g=k[n],!f&&!d.call(b,g))throw Error('Unknown "'+g+'" option');c!==(h=a[g])&&(i=e[g],j[g]=i?i(h,m):h)}return j}function r(a,b){return"function"==typeof a&&a.hasOwnProperty("prototype")||b("value must be a constructor"),a}function s(a){var b="value must be type of "+a.join("|"),c=a.length,d=a[0],e=a[1];return 1===c?function(a,c){if(typeof a===d)return a;c(b)}:2===c?function(a,c){var f=typeof a;if(f===d||f===e)return a;c(b)}:function(d,e){for(var f=typeof d,g=c;g-- >0;)if(f===a[g])return d;e(b)}}Object.assign(p.prototype,{subscribe:function(a,b,c){var d=this,e=this._target,f=this._emitter,g=this._listeners,h=function(){var d=n.apply(null,arguments),g={data:d,name:b,original:a};if(c){!1!==c.call(e,g)&&f.emit.apply(f,[g.name].concat(d));return}f.emit.apply(f,[b].concat(d))};if(g[a])throw Error("Event '"+a+"' is already listening");this._listenersCount++,f._newListener&&f._removeListener&&!d._onNewListener?(this._onNewListener=function(c){c===b&&null===g[a]&&(g[a]=h,d._on.call(e,a,h))},f.on("newListener",this._onNewListener),this._onRemoveListener=function(c){c===b&&!f.hasListeners(c)&&g[a]&&(g[a]=null,d._off.call(e,a,h))},g[a]=null,f.on("removeListener",this._onRemoveListener)):(g[a]=h,d._on.call(e,a,h))},unsubscribe:function(a){var b,c,d,e=this,f=this._listeners,g=this._emitter,h=this._off,i=this._target;if(a&&"string"!=typeof a)throw TypeError("event must be a string");function k(){e._onNewListener&&(g.off("newListener",e._onNewListener),g.off("removeListener",e._onRemoveListener),e._onNewListener=null,e._onRemoveListener=null);var a=w.call(g,e);g._observers.splice(a,1)}if(a){if(!(b=f[a]))return;h.call(i,a,b),delete f[a],--this._listenersCount||k()}else{for(d=(c=j(f)).length;d-- >0;)a=c[d],h.call(i,a,f[a]);this._listeners={},this._listenersCount=0,k()}}});var t=s(["function"]),u=s(["object","function"]);function v(a,b,c){var d,e,f,g=0,h=new a(function(i,j,k){function l(){e&&(e=null),g&&(clearTimeout(g),g=0)}d=!(c=q(c,{timeout:0,overload:!1},{timeout:function(a,b){return("number"!=typeof(a*=1)||a<0||!Number.isFinite(a))&&b("timeout must be a positive number"),a}})).overload&&"function"==typeof a.prototype.cancel&&"function"==typeof k;var m=function(a){l(),i(a)},n=function(a){l(),j(a)};d?b(m,n,k):(e=[function(a){n(a||Error("canceled"))}],b(m,n,function(a){if(f)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof a)throw TypeError("onCancel callback must be a function");e.push(a)}),f=!0),c.timeout>0&&(g=setTimeout(function(){var a=Error("timeout");a.code="ETIMEDOUT",g=0,h.cancel(a),j(a)},c.timeout))});return d||(h.cancel=function(a){if(e){for(var b=e.length,c=1;c<b;c++)e[c](a);e[0](a),e=null}}),h}function w(a){var b=this._observers;if(!b)return -1;for(var c=b.length,d=0;d<c;d++)if(b[d]._target===a)return d;return -1}function x(a,b,c,d,e){if(!c)return null;if(0===d){var f=typeof b;if("string"===f){var g,h,i=0,k=0,l=this.delimiter,m=l.length;if(-1!==(h=b.indexOf(l))){g=[,,,,,];do g[i++]=b.slice(k,h),k=h+m;while(-1!==(h=b.indexOf(l,k)))g[i++]=b.slice(k),b=g,e=i}else b=[b],e=1}else"object"===f?e=b.length:(b=[b],e=1)}var n,o,p,q,r,s,t,u=null,v=b[d],w=b[d+1];if(d===e)c._listeners&&("function"==typeof c._listeners?a&&a.push(c._listeners):a&&a.push.apply(a,c._listeners),u=[c]);else if("*"===v){for(h=(s=j(c)).length;h-- >0;)"_listeners"!==(n=s[h])&&(t=x(a,b,c[n],d+1,e))&&(u?u.push.apply(u,t):u=t);return u}else if("**"===v){for((r=d+1===e||d+2===e&&"*"===w)&&c._listeners&&(u=x(a,b,c,e,e)),h=(s=j(c)).length;h-- >0;)"_listeners"!==(n=s[h])&&("*"===n||"**"===n?(c[n]._listeners&&!r&&(t=x(a,b,c[n],e,e))&&(u?u.push.apply(u,t):u=t),t=x(a,b,c[n],d,e)):t=n===w?x(a,b,c[n],d+2,e):x(a,b,c[n],d,e),t&&(u?u.push.apply(u,t):u=t));return u}else c[v]&&(u=x(a,b,c[v],d+1,e));if((o=c["*"])&&x(a,b,o,d+1,e),p=c["**"])if(d<e)for(p._listeners&&x(a,b,p,e,e),h=(s=j(p)).length;h-- >0;)"_listeners"!==(n=s[h])&&(n===w?x(a,b,p[n],d+2,e):n===v?x(a,b,p[n],d+1,e):((q={})[n]=p[n],x(a,b,{"**":q},d+1,e)));else p._listeners?x(a,b,p,e,e):p["*"]&&p["*"]._listeners&&x(a,b,p["*"],e,e);return u}function y(a,b,c){var d,e,f=0,g=0,h=this.delimiter,i=h.length;if("string"==typeof a)if(-1!==(d=a.indexOf(h))){e=[,,,,,];do e[f++]=a.slice(g,d),g=d+i;while(-1!==(d=a.indexOf(h,g)))e[f++]=a.slice(g)}else e=[a],f=1;else e=a,f=a.length;if(f>1){for(d=0;d+1<f;d++)if("**"===e[d]&&"**"===e[d+1])return}var j,k=this.listenerTree;for(d=0;d<f;d++)if(k=k[j=e[d]]||(k[j]={}),d===f-1){k._listeners?("function"==typeof k._listeners&&(k._listeners=[k._listeners]),c?k._listeners.unshift(b):k._listeners.push(b),!k._listeners.warned&&this._maxListeners>0&&k._listeners.length>this._maxListeners&&(k._listeners.warned=!0,m.call(this,k._listeners.length,j))):k._listeners=b;break}return!0}function z(a,b,c,d){for(var e,f,g,h,i=j(a),k=i.length,l=a._listeners;k-- >0;)e=a[f=i[k]],g="_listeners"===f?c:c?c.concat(f):[f],h=d||"symbol"==typeof f,l&&b.push(h?g:g.join(this.delimiter)),"object"==typeof e&&z.call(this,e,b,g,h);return b}function A(a){for(var b,c,d,e=j(a),f=e.length;f-- >0;)(b=a[c=e[f]])&&(d=!0,"_listeners"===c||A(b)||delete a[c]);return d}function B(a,b,c){this.emitter=a,this.event=b,this.listener=c}function C(a,b,d){if(!0===d)g=!0;else if(!1===d)e=!0;else{if(!d||"object"!=typeof d)throw TypeError("options should be an object or true");var e=d.async,g=d.promisify,h=d.nextTick,j=d.objectify}if(e||h||g){var k=b,l=b._origin||b;if(h&&!f)throw Error("process.nextTick is not supported");c===g&&(g="AsyncFunction"===b.constructor.name),(b=function(){var a=arguments,b=this,c=this.event;return g?h?Promise.resolve():new Promise(function(a){i(a)}).then(function(){return b.event=c,k.apply(b,a)}):(h?process.nextTick:i)(function(){b.event=c,k.apply(b,a)})})._async=!0,b._origin=l}return[b,j?new B(this,a,b):this]}function D(a){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,l.call(this,a)}B.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},D.EventEmitter2=D,D.prototype.listenTo=function(a,b,d){if("object"!=typeof a)throw TypeError("target musts be an object");var f=this;return d=q(d,{on:c,off:c,reducers:c},{on:t,off:t,reducers:u}),function(b){if("object"!=typeof b)throw TypeError("events must be an object");var c,e,g=d.reducers,h=w.call(f,a);c=-1===h?new p(f,a,d):f._observers[h];for(var i=j(b),k=i.length,l="function"==typeof g,m=0;m<k;m++)e=i[m],c.subscribe(e,b[e]||e,l?g:g&&g[e])}(e(b)?o(b):"string"==typeof b?o(b.split(/\s+/)):b),this},D.prototype.stopListeningTo=function(a,b){var c,d=this._observers;if(!d)return!1;var e=d.length,f=!1;if(a&&"object"!=typeof a)throw TypeError("target should be an object");for(;e-- >0;)c=d[e],a&&c._target!==a||(c.unsubscribe(b),f=!0);return f},D.prototype.delimiter=".",D.prototype.setMaxListeners=function(a){c!==a&&(this._maxListeners=a,this._conf||(this._conf={}),this._conf.maxListeners=a)},D.prototype.getMaxListeners=function(){return this._maxListeners},D.prototype.event="",D.prototype.once=function(a,b,c){return this._once(a,b,!1,c)},D.prototype.prependOnceListener=function(a,b,c){return this._once(a,b,!0,c)},D.prototype._once=function(a,b,c,d){return this._many(a,1,b,c,d)},D.prototype.many=function(a,b,c,d){return this._many(a,b,c,!1,d)},D.prototype.prependMany=function(a,b,c,d){return this._many(a,b,c,!0,d)},D.prototype._many=function(a,b,c,d,e){var f=this;if("function"!=typeof c)throw Error("many only accepts instances of Function");function g(){return 0==--b&&f.off(a,g),c.apply(this,arguments)}return g._origin=c,this._on(a,g,d,e)},D.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||k.call(this);var a,b,c,d,e,f,h,i=arguments[0],j=this.wildcard;if("newListener"===i&&!this._newListener&&!this._events.newListener)return!1;if(j&&(h=i,"newListener"!==i&&"removeListener"!==i&&"object"==typeof i)){if(b=i.length,g){for(c=0;c<b;c++)if("symbol"==typeof i[c]){e=!0;break}}e||(i=i.join(this.delimiter))}var l=arguments.length;if(this._all&&this._all.length)for(c=0,b=(f=this._all.slice()).length;c<b;c++)switch(this.event=i,l){case 1:f[c].call(this,i);break;case 2:f[c].call(this,i,arguments[1]);break;case 3:f[c].call(this,i,arguments[1],arguments[2]);break;default:f[c].apply(this,arguments)}if(j)f=[],x.call(this,f,h,this.listenerTree,0,b);else{if("function"==typeof(f=this._events[i])){switch(this.event=i,l){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:for(d=1,a=Array(l-1);d<l;d++)a[d-1]=arguments[d];f.apply(this,a)}return!0}f&&(f=f.slice())}if(f&&f.length){if(l>3)for(d=1,a=Array(l-1);d<l;d++)a[d-1]=arguments[d];for(c=0,b=f.length;c<b;c++)switch(this.event=i,l){case 1:f[c].call(this);break;case 2:f[c].call(this,arguments[1]);break;case 3:f[c].call(this,arguments[1],arguments[2]);break;default:f[c].apply(this,a)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===i)if(arguments[1]instanceof Error)throw arguments[1];else throw Error("Uncaught, unspecified 'error' event.");return!!this._all},D.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||k.call(this);var a,b,c,d,e,f,h,i=arguments[0],j=this.wildcard;if("newListener"===i&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(j&&(f=i,"newListener"!==i&&"removeListener"!==i&&"object"==typeof i)){if(b=i.length,g){for(c=0;c<b;c++)if("symbol"==typeof i[c]){h=!0;break}}h||(i=i.join(this.delimiter))}var l=[],m=arguments.length;if(this._all)for(c=0,b=this._all.length;c<b;c++)switch(this.event=i,m){case 1:l.push(this._all[c].call(this,i));break;case 2:l.push(this._all[c].call(this,i,arguments[1]));break;case 3:l.push(this._all[c].call(this,i,arguments[1],arguments[2]));break;default:l.push(this._all[c].apply(this,arguments))}if(j?(e=[],x.call(this,e,f,this.listenerTree,0)):e=this._events[i],"function"==typeof e)switch(this.event=i,m){case 1:l.push(e.call(this));break;case 2:l.push(e.call(this,arguments[1]));break;case 3:l.push(e.call(this,arguments[1],arguments[2]));break;default:for(d=1,a=Array(m-1);d<m;d++)a[d-1]=arguments[d];l.push(e.apply(this,a))}else if(e&&e.length){if(e=e.slice(),m>3)for(d=1,a=Array(m-1);d<m;d++)a[d-1]=arguments[d];for(c=0,b=e.length;c<b;c++)switch(this.event=i,m){case 1:l.push(e[c].call(this));break;case 2:l.push(e[c].call(this,arguments[1]));break;case 3:l.push(e[c].call(this,arguments[1],arguments[2]));break;default:l.push(e[c].apply(this,a))}}else if(!this.ignoreErrors&&!this._all&&"error"===i)if(arguments[1]instanceof Error)return Promise.reject(arguments[1]);else return Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(l)},D.prototype.on=function(a,b,c){return this._on(a,b,!1,c)},D.prototype.prependListener=function(a,b,c){return this._on(a,b,!0,c)},D.prototype.onAny=function(a){return this._onAny(a,!1)},D.prototype.prependAny=function(a){return this._onAny(a,!0)},D.prototype.addListener=D.prototype.on,D.prototype._onAny=function(a,b){if("function"!=typeof a)throw Error("onAny only accepts instances of Function");return this._all||(this._all=[]),b?this._all.unshift(a):this._all.push(a),this},D.prototype._on=function(a,b,d,e){if("function"==typeof a)return this._onAny(a,b),this;if("function"!=typeof b)throw Error("on only accepts instances of Function");this._events||k.call(this);var f,g=this;return(c!==e&&(b=(f=C.call(this,a,b,e))[0],g=f[1]),this._newListener&&this.emit("newListener",a,b),this.wildcard)?y.call(this,a,b,d):this._events[a]?("function"==typeof this._events[a]&&(this._events[a]=[this._events[a]]),d?this._events[a].unshift(b):this._events[a].push(b),!this._events[a].warned&&this._maxListeners>0&&this._events[a].length>this._maxListeners&&(this._events[a].warned=!0,m.call(this,this._events[a].length,a))):this._events[a]=b,g},D.prototype.off=function(a,b){if("function"!=typeof b)throw Error("removeListener only takes instances of Function");var c,d=[];if(this.wildcard){var f="string"==typeof a?a.split(this.delimiter):a.slice();if(!(d=x.call(this,null,f,this.listenerTree,0)))return this}else{if(!this._events[a])return this;c=this._events[a],d.push({_listeners:c})}for(var g=0;g<d.length;g++){var h=d[g];if(e(c=h._listeners)){for(var i=-1,j=0,k=c.length;j<k;j++)if(c[j]===b||c[j].listener&&c[j].listener===b||c[j]._origin&&c[j]._origin===b){i=j;break}if(i<0)continue;return this.wildcard?h._listeners.splice(i,1):this._events[a].splice(i,1),0===c.length&&(this.wildcard?delete h._listeners:delete this._events[a]),this._removeListener&&this.emit("removeListener",a,b),this}(c===b||c.listener&&c.listener===b||c._origin&&c._origin===b)&&(this.wildcard?delete h._listeners:delete this._events[a],this._removeListener&&this.emit("removeListener",a,b))}return this.listenerTree&&A(this.listenerTree),this},D.prototype.offAny=function(a){var b,c=0,d=0;if(a&&this._all&&this._all.length>0){for(c=0,d=(b=this._all).length;c<d;c++)if(a===b[c]){b.splice(c,1),this._removeListener&&this.emit("removeListenerAny",a);break}}else{if(b=this._all,this._removeListener)for(c=0,d=b.length;c<d;c++)this.emit("removeListenerAny",b[c]);this._all=[]}return this},D.prototype.removeListener=D.prototype.off,D.prototype.removeAllListeners=function(a){if(c===a)return this._events&&k.call(this),this;if(this.wildcard){var b,d=x.call(this,null,a,this.listenerTree,0);if(!d)return this;for(b=0;b<d.length;b++)d[b]._listeners=null;this.listenerTree&&A(this.listenerTree)}else this._events&&(this._events[a]=null);return this},D.prototype.listeners=function(a){var b,d,e,f,g,h=this._events;if(c===a){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!h)return[];for(f=(b=j(h)).length,e=[];f-- >0;)"function"==typeof(d=h[b[f]])?e.push(d):e.push.apply(e,d);return e}if(this.wildcard){if(!(g=this.listenerTree))return[];var i=[],k="string"==typeof a?a.split(this.delimiter):a.slice();return x.call(this,i,k,g,0),i}return h&&(d=h[a])?"function"==typeof d?[d]:d:[]},D.prototype.eventNames=function(a){var b=this._events;return this.wildcard?z.call(this,this.listenerTree,[],null,a):b?j(b):[]},D.prototype.listenerCount=function(a){return this.listeners(a).length},D.prototype.hasListeners=function(a){if(this.wildcard){var b=[],d="string"==typeof a?a.split(this.delimiter):a.slice();return x.call(this,b,d,this.listenerTree,0),b.length>0}var e=this._events,f=this._all;return!!(f&&f.length||e&&(c===a?j(e).length:e[a]))},D.prototype.listenersAny=function(){return this._all?this._all:[]},D.prototype.waitFor=function(a,b){var d=this,e=typeof b;return"number"===e?b={timeout:b}:"function"===e&&(b={filter:b}),v((b=q(b,{timeout:0,filter:c,handleError:!1,Promise:Promise,overload:!1},{filter:t,Promise:r})).Promise,function(c,e,f){function g(){var f=b.filter;if(!f||f.apply(d,arguments))if(d.off(a,g),b.handleError){var h=arguments[0];h?e(h):c(n.apply(null,arguments).slice(1))}else c(n.apply(null,arguments))}f(function(){d.off(a,g)}),d._on(a,g,!1)},{timeout:b.timeout,overload:b.overload})};var E=D.prototype;if(Object.defineProperties(D,{defaultMaxListeners:{get:function(){return E._maxListeners},set:function(a){if("number"!=typeof a||a<0||Number.isNaN(a))throw TypeError("n must be a non-negative number");E._maxListeners=a},enumerable:!0},once:{value:function(a,b,c){return v((c=q(c,{Promise:Promise,timeout:0,overload:!1},{Promise:r})).Promise,function(c,d,e){if("function"==typeof a.addEventListener){f=function(){c(n.apply(null,arguments))},e(function(){a.removeEventListener(b,f)}),a.addEventListener(b,f,{once:!0});return}var f,g,h=function(){g&&a.removeListener("error",g),c(n.apply(null,arguments))};"error"!==b&&(g=function(c){a.removeListener(b,h),d(c)},a.once("error",g)),e(function(){g&&a.removeListener("error",g),a.removeListener(b,h)}),a.once(b,h)},{timeout:c.timeout,overload:c.overload})},writable:!0,configurable:!0}}),Object.defineProperties(E,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),"function"==typeof define&&define.amd)a.r,c!==D&&a.v(D);else b.exports=D}()},82512,(a,b,c)=>{"use strict";b.exports=a=>{if("[object Object]"!==Object.prototype.toString.call(a))return!1;let b=Object.getPrototypeOf(a);return null===b||b===Object.prototype}},94016,(a,b,c)=>{"use strict";let d=a.r(82512),{hasOwnProperty:e}=Object.prototype,{propertyIsEnumerable:f}=Object,g=(a,b,c)=>Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0}),h=a.e,i={concatArrays:!1,ignoreUndefined:!1},j=a=>{let b=[];for(let c in a)e.call(a,c)&&b.push(c);if(Object.getOwnPropertySymbols)for(let c of Object.getOwnPropertySymbols(a))f.call(a,c)&&b.push(c);return b};function k(a){var b,c;let e,f;return Array.isArray(a)?(e=(b=a).slice(0,0),j(b).forEach(a=>{g(e,a,k(b[a]))}),e):d(a)?(f=null===Object.getPrototypeOf(c=a)?Object.create(null):{},j(c).forEach(a=>{g(f,a,k(c[a]))}),f):a}let l=(a,b,c,d)=>(c.forEach(c=>{void 0===b[c]&&d.ignoreUndefined||(c in a&&a[c]!==Object.getPrototypeOf(a)?g(a,c,m(a[c],b[c],d)):g(a,c,k(b[c])))}),a);function m(a,b,c){if(c.concatArrays&&Array.isArray(a)&&Array.isArray(b)){let d,f;return d=a.slice(0,0),f=0,[a,b].forEach(b=>{let h=[];for(let c=0;c<b.length;c++)e.call(b,c)&&(h.push(String(c)),b===a?g(d,f++,b[c]):g(d,f++,k(b[c])));d=l(d,b,j(b).filter(a=>!h.includes(a)),c)}),d}return d(b)&&d(a)?l(a,b,j(b),c):k(b)}b.exports=function(...a){let b=m(k(i),this!==h&&this||{},i),c={_:{}};for(let e of a)if(void 0!==e){if(!d(e))throw TypeError("`"+e+"` is not an Option Object");c=m(c,{_:e},b)}return c._}},30538,a=>{"use strict";let b=a.i(94016).default.bind({concatArrays:!0,ignoreUndefined:!0});function c(a,b){return new Promise((c,d)=>{try{let d=a();null==b||b(null,d),c(d)}catch(a){null==b||b(a),d(a)}})}function d(a,b,c){return Promise.all(a).then(a=>{let d=(null==c?void 0:c(a))??null;return null==b||b(null,d),Promise.resolve(d)},a=>(null==b||b(a),Promise.reject(a)))}let e={getItem:(a,b)=>c(()=>window.localStorage.getItem(a),b),setItem:(a,b,d)=>c(()=>window.localStorage.setItem(a,b),d),removeItem:(a,b)=>c(()=>window.localStorage.removeItem(a),b),mergeItem:(a,d,e)=>c(()=>(function(a,c){let d=window.localStorage.getItem(a);if(d){let e=JSON.stringify(b(JSON.parse(d),JSON.parse(c)));window.localStorage.setItem(a,e)}else window.localStorage.setItem(a,c)})(a,d),e),clear:a=>c(()=>window.localStorage.clear(),a),getAllKeys:a=>c(()=>{let a=window.localStorage.length,b=[];for(let c=0;c<a;c+=1){let a=window.localStorage.key(c)||"";b.push(a)}return b},a),flushGetRequests:()=>void 0,multiGet:(a,b)=>d(a.map(a=>e.getItem(a)),b,b=>b.map((b,c)=>[a[c],b])),multiSet:(a,b)=>d(a.map(a=>e.setItem(a[0],a[1])),b),multiRemove:(a,b)=>d(a.map(a=>e.removeItem(a)),b),multiMerge:(a,b)=>d(a.map(a=>e.mergeItem(a[0],a[1])),b)};function f(a){return{getItem:(...b)=>e.getItem(a,...b),setItem:(...b)=>e.setItem(a,...b),mergeItem:(...b)=>e.mergeItem(a,...b),removeItem:(...b)=>e.removeItem(a,...b)}}a.s(["default",0,e],41353),a.i(41353),a.s(["default",0,e,"useAsyncStorage",()=>f],30538)},81070,(a,b,c)=>{"use strict";function d(a,b){var c=a.length;for(a.push(b);0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break}}function e(a){return 0===a.length?null:a[0]}function f(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;for(var d=0,e=a.length,f=e>>>1;d<f;){var h=2*(d+1)-1,i=a[h],j=h+1,k=a[j];if(0>g(i,c))j<e&&0>g(k,i)?(a[d]=k,a[j]=c,d=j):(a[d]=i,a[h]=c,d=h);else if(j<e&&0>g(k,c))a[d]=k,a[j]=c,d=j;else break}}return b}function g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(c.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var h,i=performance;c.unstable_now=function(){return i.now()}}else{var j=Date,k=j.now();c.unstable_now=function(){return j.now()-k}}var l=[],m=[],n=1,o=null,p=3,q=!1,r=!1,s=!1,t=!1,u="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function x(a){for(var b=e(m);null!==b;){if(null===b.callback)f(m);else if(b.startTime<=a)f(m),b.sortIndex=b.expirationTime,d(l,b);else break;b=e(m)}}function y(a){if(s=!1,x(a),!r)if(null!==e(l))r=!0,z||(z=!0,h());else{var b=e(m);null!==b&&H(y,b.startTime-a)}}var z=!1,A=-1,B=5,C=-1;function D(){return!!t||!(c.unstable_now()-C<B)}function E(){if(t=!1,z){var a=c.unstable_now();C=a;var b=!0;try{a:{r=!1,s&&(s=!1,v(A),A=-1),q=!0;var d=p;try{b:{for(x(a),o=e(l);null!==o&&!(o.expirationTime>a&&D());){var g=o.callback;if("function"==typeof g){o.callback=null,p=o.priorityLevel;var i=g(o.expirationTime<=a);if(a=c.unstable_now(),"function"==typeof i){o.callback=i,x(a),b=!0;break b}o===e(l)&&f(l),x(a)}else f(l);o=e(l)}if(null!==o)b=!0;else{var j=e(m);null!==j&&H(y,j.startTime-a),b=!1}}break a}finally{o=null,p=d,q=!1}}}finally{b?h():z=!1}}}if("function"==typeof w)h=function(){w(E)};else if("undefined"!=typeof MessageChannel){var F=new MessageChannel,G=F.port2;F.port1.onmessage=E,h=function(){G.postMessage(null)}}else h=function(){u(E,0)};function H(a,b){A=u(function(){a(c.unstable_now())},b)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(a){a.callback=null},c.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<a?Math.floor(1e3/a):5},c.unstable_getCurrentPriorityLevel=function(){return p},c.unstable_next=function(a){switch(p){case 1:case 2:case 3:var b=3;break;default:b=p}var c=p;p=b;try{return a()}finally{p=c}},c.unstable_requestPaint=function(){t=!0},c.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=p;p=a;try{return b()}finally{p=c}},c.unstable_scheduleCallback=function(a,b,f){var g=c.unstable_now();switch(f="object"==typeof f&&null!==f&&"number"==typeof(f=f.delay)&&0<f?g+f:g,a){case 1:var i=-1;break;case 2:i=250;break;case 5:i=0x3fffffff;break;case 4:i=1e4;break;default:i=5e3}return i=f+i,a={id:n++,callback:b,priorityLevel:a,startTime:f,expirationTime:i,sortIndex:-1},f>g?(a.sortIndex=f,d(m,a),null===e(l)&&a===e(m)&&(s?(v(A),A=-1):s=!0,H(y,f-g))):(a.sortIndex=i,d(l,a),r||q||(r=!0,z||(z=!0,h()))),a},c.unstable_shouldYield=D,c.unstable_wrapCallback=function(a){var b=p;return function(){var c=p;p=b;try{return a.apply(this,arguments)}finally{p=c}}}},833,(a,b,c)=>{"use strict";b.exports=a.r(81070)},80507,(a,b,c)=>{"use strict";var d=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),j=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),n=Symbol.for("react.lazy"),o=Symbol.for("react.activity"),p=Symbol.for("react.view_transition"),q=Symbol.iterator,r={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s=Object.assign,t={};function u(a,b,c){this.props=a,this.context=b,this.refs=t,this.updater=c||r}function v(){}function w(a,b,c){this.props=a,this.context=b,this.refs=t,this.updater=c||r}u.prototype.isReactComponent={},u.prototype.setState=function(a,b){if("object"!=typeof a&&"function"!=typeof a&&null!=a)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,b,"setState")},u.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},v.prototype=u.prototype;var x=w.prototype=new v;x.constructor=w,s(x,u.prototype),x.isPureReactComponent=!0;var y=Array.isArray;function z(){}var A={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function C(a,b,c){var e=c.ref;return{$$typeof:d,type:a,key:b,ref:void 0!==e?e:null,props:c}}function D(a){return"object"==typeof a&&null!==a&&a.$$typeof===d}var E=/\/+/g;function F(a,b){var c,d;return"object"==typeof a&&null!==a&&null!=a.key?(c=""+a.key,d={"=":"=0",":":"=2"},"$"+c.replace(/[=:]/g,function(a){return d[a]})):b.toString(36)}function G(a,b,c){if(null==a)return a;var f=[],g=0;return!function a(b,c,f,g,h){var i,j,k,l=typeof b;("undefined"===l||"boolean"===l)&&(b=null);var m=!1;if(null===b)m=!0;else switch(l){case"bigint":case"string":case"number":m=!0;break;case"object":switch(b.$$typeof){case d:case e:m=!0;break;case n:return a((m=b._init)(b._payload),c,f,g,h)}}if(m)return h=h(b),m=""===g?"."+F(b,0):g,y(h)?(f="",null!=m&&(f=m.replace(E,"$&/")+"/"),a(h,c,f,"",function(a){return a})):null!=h&&(D(h)&&(i=h,j=f+(null==h.key||b&&b.key===h.key?"":(""+h.key).replace(E,"$&/")+"/")+m,h=C(i.type,j,i.props)),c.push(h)),1;m=0;var o=""===g?".":g+":";if(y(b))for(var p=0;p<b.length;p++)l=o+F(g=b[p],p),m+=a(g,c,f,l,h);else if("function"==typeof(p=null===(k=b)||"object"!=typeof k?null:"function"==typeof(k=q&&k[q]||k["@@iterator"])?k:null))for(b=p.call(b),p=0;!(g=b.next()).done;)l=o+F(g=g.value,p++),m+=a(g,c,f,l,h);else if("object"===l){if("function"==typeof b.then)return a(function(a){switch(a.status){case"fulfilled":return a.value;case"rejected":throw a.reason;default:switch("string"==typeof a.status?a.then(z,z):(a.status="pending",a.then(function(b){"pending"===a.status&&(a.status="fulfilled",a.value=b)},function(b){"pending"===a.status&&(a.status="rejected",a.reason=b)})),a.status){case"fulfilled":return a.value;case"rejected":throw a.reason}}throw a}(b),c,f,g,h);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(c=String(b))?"object with keys {"+Object.keys(b).join(", ")+"}":c)+"). If you meant to render a collection of children, use an array instead.")}return m}(a,f,"","",function(a){return b.call(c,a,g++)}),f}function H(a){if(-1===a._status){var b=a._result;(b=b()).then(function(b){(0===a._status||-1===a._status)&&(a._status=1,a._result=b)},function(b){(0===a._status||-1===a._status)&&(a._status=2,a._result=b)}),-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result}var I="function"==typeof reportError?reportError:function(a){"object"==typeof process&&"function"==typeof process.emit?process.emit("uncaughtException",a):console.error(a)};function J(a){var b=A.T,c={};c.types=null!==b?b.types:null,A.T=c;try{var d=a(),e=A.S;null!==e&&e(c,d),"object"==typeof d&&null!==d&&"function"==typeof d.then&&d.then(z,I)}catch(a){I(a)}finally{null!==b&&null!==c.types&&(b.types=c.types),A.T=b}}function K(a){var b=A.T;if(null!==b){var c=b.types;null===c?b.types=[a]:-1===c.indexOf(a)&&c.push(a)}else J(K.bind(null,a))}c.Activity=o,c.Children={map:G,forEach:function(a,b,c){G(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;return G(a,function(){b++}),b},toArray:function(a){return G(a,function(a){return a})||[]},only:function(a){if(!D(a))throw Error("React.Children.only expected to receive a single React element child.");return a}},c.Component=u,c.Fragment=f,c.Profiler=h,c.PureComponent=w,c.StrictMode=g,c.Suspense=l,c.ViewTransition=p,c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,c.__COMPILER_RUNTIME={__proto__:null,c:function(a){return A.H.useMemoCache(a)}},c.addTransitionType=K,c.cache=function(a){return function(){return a.apply(null,arguments)}},c.cacheSignal=function(){return null},c.cloneElement=function(a,b,c){if(null==a)throw Error("The argument must be a React element, but you passed "+a+".");var d=s({},a.props),e=a.key;if(null!=b)for(f in void 0!==b.key&&(e=""+b.key),b)B.call(b,f)&&"key"!==f&&"__self"!==f&&"__source"!==f&&("ref"!==f||void 0!==b.ref)&&(d[f]=b[f]);var f=arguments.length-2;if(1===f)d.children=c;else if(1<f){for(var g=Array(f),h=0;h<f;h++)g[h]=arguments[h+2];d.children=g}return C(a.type,e,d)},c.createContext=function(a){return(a={$$typeof:j,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null}).Provider=a,a.Consumer={$$typeof:i,_context:a},a},c.createElement=function(a,b,c){var d,e={},f=null;if(null!=b)for(d in void 0!==b.key&&(f=""+b.key),b)B.call(b,d)&&"key"!==d&&"__self"!==d&&"__source"!==d&&(e[d]=b[d]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}if(a&&a.defaultProps)for(d in g=a.defaultProps)void 0===e[d]&&(e[d]=g[d]);return C(a,f,e)},c.createRef=function(){return{current:null}},c.forwardRef=function(a){return{$$typeof:k,render:a}},c.isValidElement=D,c.lazy=function(a){return{$$typeof:n,_payload:{_status:-1,_result:a},_init:H}},c.memo=function(a,b){return{$$typeof:m,type:a,compare:void 0===b?null:b}},c.startTransition=J,c.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},c.use=function(a){return A.H.use(a)},c.useActionState=function(a,b,c){return A.H.useActionState(a,b,c)},c.useCallback=function(a,b){return A.H.useCallback(a,b)},c.useContext=function(a){return A.H.useContext(a)},c.useDebugValue=function(){},c.useDeferredValue=function(a,b){return A.H.useDeferredValue(a,b)},c.useEffect=function(a,b){return A.H.useEffect(a,b)},c.useEffectEvent=function(a){return A.H.useEffectEvent(a)},c.useId=function(){return A.H.useId()},c.useImperativeHandle=function(a,b,c){return A.H.useImperativeHandle(a,b,c)},c.useInsertionEffect=function(a,b){return A.H.useInsertionEffect(a,b)},c.useLayoutEffect=function(a,b){return A.H.useLayoutEffect(a,b)},c.useMemo=function(a,b){return A.H.useMemo(a,b)},c.useOptimistic=function(a,b){return A.H.useOptimistic(a,b)},c.useReducer=function(a,b,c){return A.H.useReducer(a,b,c)},c.useRef=function(a){return A.H.useRef(a)},c.useState=function(a){return A.H.useState(a)},c.useSyncExternalStore=function(a,b,c){return A.H.useSyncExternalStore(a,b,c)},c.useTransition=function(){return A.H.useTransition()},c.version="19.3.0-canary-f93b9fd4-20251217"},11027,(a,b,c)=>{"use strict";b.exports=a.r(80507)},39369,(a,b,c)=>{"use strict";var d=a.r(11027);function e(a){var b="https://react.dev/errors/"+a;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var g={d:{f:f,r:function(){throw Error(e(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},h=Symbol.for("react.portal"),i=Symbol.for("react.optimistic_key"),j=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function k(a,b){return"font"===a?"":"string"==typeof b?"use-credentials"===b?b:"":void 0}c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=g,c.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType)throw Error(e(299));return function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:h,key:null==d?null:d===i?i:""+d,children:a,containerInfo:b,implementation:c}}(a,b,null,c)},c.flushSync=function(a){var b=j.T,c=g.p;try{if(j.T=null,g.p=2,a)return a()}finally{j.T=b,g.p=c,g.d.f()}},c.preconnect=function(a,b){"string"==typeof a&&(b=b?"string"==typeof(b=b.crossOrigin)?"use-credentials"===b?b:"":void 0:null,g.d.C(a,b))},c.prefetchDNS=function(a){"string"==typeof a&&g.d.D(a)},c.preinit=function(a,b){if("string"==typeof a&&b&&"string"==typeof b.as){var c=b.as,d=k(c,b.crossOrigin),e="string"==typeof b.integrity?b.integrity:void 0,f="string"==typeof b.fetchPriority?b.fetchPriority:void 0;"style"===c?g.d.S(a,"string"==typeof b.precedence?b.precedence:void 0,{crossOrigin:d,integrity:e,fetchPriority:f}):"script"===c&&g.d.X(a,{crossOrigin:d,integrity:e,fetchPriority:f,nonce:"string"==typeof b.nonce?b.nonce:void 0})}},c.preinitModule=function(a,b){if("string"==typeof a)if("object"==typeof b&&null!==b){if(null==b.as||"script"===b.as){var c=k(b.as,b.crossOrigin);g.d.M(a,{crossOrigin:c,integrity:"string"==typeof b.integrity?b.integrity:void 0,nonce:"string"==typeof b.nonce?b.nonce:void 0})}}else null==b&&g.d.M(a)},c.preload=function(a,b){if("string"==typeof a&&"object"==typeof b&&null!==b&&"string"==typeof b.as){var c=b.as,d=k(c,b.crossOrigin);g.d.L(a,c,{crossOrigin:d,integrity:"string"==typeof b.integrity?b.integrity:void 0,nonce:"string"==typeof b.nonce?b.nonce:void 0,type:"string"==typeof b.type?b.type:void 0,fetchPriority:"string"==typeof b.fetchPriority?b.fetchPriority:void 0,referrerPolicy:"string"==typeof b.referrerPolicy?b.referrerPolicy:void 0,imageSrcSet:"string"==typeof b.imageSrcSet?b.imageSrcSet:void 0,imageSizes:"string"==typeof b.imageSizes?b.imageSizes:void 0,media:"string"==typeof b.media?b.media:void 0})}},c.preloadModule=function(a,b){if("string"==typeof a)if(b){var c=k(b.as,b.crossOrigin);g.d.m(a,{as:"string"==typeof b.as&&"script"!==b.as?b.as:void 0,crossOrigin:c,integrity:"string"==typeof b.integrity?b.integrity:void 0})}else g.d.m(a)},c.requestFormReset=function(a){g.d.r(a)},c.unstable_batchedUpdates=function(a,b){return a(b)},c.useFormState=function(a,b,c){return j.H.useFormState(a,b,c)},c.useFormStatus=function(){return j.H.useHostTransitionStatus()},c.version="19.3.0-canary-f93b9fd4-20251217"},98947,(a,b,c)=>{"use strict";!function a(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(a){console.error(a)}}(),b.exports=a.r(39369)},62765,(a,b,c)=>{"use strict";var d=a.r(833),e=a.r(11027),f=a.r(98947);function g(a){var b="https://react.dev/errors/"+a;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function i(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do 0!=(4098&(b=a).flags)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function j(a){if(13===a.tag){var b=a.memoizedState;if(null===b&&null!==(a=a.alternate)&&(b=a.memoizedState),null!==b)return b.dehydrated}return null}function k(a){if(31===a.tag){var b=a.memoizedState;if(null===b&&null!==(a=a.alternate)&&(b=a.memoizedState),null!==b)return b.dehydrated}return null}function l(a){if(i(a)!==a)throw Error(g(188))}function m(a,b,c,d,e,f){for(;null!==a;){if(5===a.tag&&c(a,d,e,f)||(22!==a.tag||null===a.memoizedState)&&(b||5!==a.tag)&&m(a.child,b,c,d,e,f))return!0;a=a.sibling}return!1}function n(a){for(a=a.return;null!==a;){if(3===a.tag||5===a.tag)return a;a=a.return}return null}function o(a){switch(a.tag){case 5:return a.stateNode;case 3:return a.stateNode.containerInfo;default:throw Error(g(559))}}var p=null,q=null;function r(a){return p=a,!0}function s(a,b,c){return a===c||a===b&&(p=a,!0)}function t(a,b,c){return a===c?(q=a,!1):a===b&&(null!==q&&(p=a),!0)}function u(a){if(null===a)return null;do a=null===a?null:a.return;while(a&&5!==a.tag&&27!==a.tag&&3!==a.tag)return a||null}function v(a,b,c){for(var d=0,e=a;e;e=c(e))d++;e=0;for(var f=b;f;f=c(f))e++;for(;0<d-e;)a=c(a),d--;for(;0<e-d;)b=c(b),e--;for(;d--;){if(a===b||null!==b&&a===b.alternate)return a;a=c(a),b=c(b)}return null}var w=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),E=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),J=Symbol.for("react.lazy");Symbol.for("react.scope");var K=Symbol.for("react.activity"),L=Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.for("react.view_transition"),O=Symbol.iterator;function P(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=O&&a[O]||a["@@iterator"])?a:null}var Q=Symbol.for("react.client.reference"),R=Array.isArray,S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},V=[],W=-1;function X(a){return{current:a}}function Y(a){0>W||(a.current=V[W],V[W]=null,W--)}function Z(a,b){V[++W]=a.current,a.current=b}var $=X(null),_=X(null),aa=X(null),ab=X(null);function ac(a,b){switch(Z(aa,b),Z(_,a),Z($,null),b.nodeType){case 9:case 11:a=(a=b.documentElement)&&(a=a.namespaceURI)?j5(a):0;break;default:if(a=b.tagName,b=b.namespaceURI)a=j6(b=j5(b),a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y($),Z($,a)}function ad(){Y($),Y(_),Y(aa)}function ae(a){var b=a.memoizedState;null!==b&&(ld._currentValue=b.memoizedState,Z(ab,a));var c=j6(b=$.current,a.type);b!==c&&(Z(_,a),Z($,c))}function af(a){_.current===a&&(Y($),Y(_)),ab.current===a&&(Y(ab),ld._currentValue=U)}function ag(a){if(void 0===bS)try{throw Error()}catch(a){var b=a.stack.trim().match(/\n( *(at )?)/);bS=b&&b[1]||"",bT=-1<a.stack.indexOf("\n    at")?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+bS+a+bT}var ah=!1;function ai(a,b){if(!a||ah)return"";ah=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(b){var c=function(){throw Error()};if(Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(c,[])}catch(a){var d=a}Reflect.construct(a,[],c)}else{try{c.call()}catch(a){d=a}a.call(c.prototype)}}else{try{throw Error()}catch(a){d=a}(c=a())&&"function"==typeof c.catch&&c.catch(function(){})}}catch(a){if(a&&d&&"string"==typeof a.stack)return[a.stack,d.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var e=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");e&&e.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=d.DetermineComponentFrameRoot(),g=f[0],h=f[1];if(g&&h){var i=g.split("\n"),j=h.split("\n");for(e=d=0;d<i.length&&!i[d].includes("DetermineComponentFrameRoot");)d++;for(;e<j.length&&!j[e].includes("DetermineComponentFrameRoot");)e++;if(d===i.length||e===j.length)for(d=i.length-1,e=j.length-1;1<=d&&0<=e&&i[d]!==j[e];)e--;for(;1<=d&&0<=e;d--,e--)if(i[d]!==j[e]){if(1!==d||1!==e)do if(d--,e--,0>e||i[d]!==j[e]){var k="\n"+i[d].replace(" at new "," at ");return a.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",a.displayName)),k}while(1<=d&&0<=e)break}}}finally{ah=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ag(c):""}function aj(a){try{var b="",c=null;do b+=function(a,b){switch(a.tag){case 26:case 27:case 5:return ag(a.type);case 16:return ag("Lazy");case 13:return a.child!==b&&null!==b?ag("Suspense Fallback"):ag("Suspense");case 19:return ag("SuspenseList");case 0:case 15:return ai(a.type,!1);case 11:return ai(a.type.render,!1);case 1:return ai(a.type,!0);case 31:return ag("Activity");case 30:return ag("ViewTransition");default:return""}}(a,c),c=a,a=a.return;while(a)return b}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ak=Object.prototype.hasOwnProperty,al=d.unstable_scheduleCallback,am=d.unstable_cancelCallback,an=d.unstable_shouldYield,ao=d.unstable_requestPaint,ap=d.unstable_now,aq=d.unstable_getCurrentPriorityLevel,ar=d.unstable_ImmediatePriority,as=d.unstable_UserBlockingPriority,at=d.unstable_NormalPriority,au=d.unstable_LowPriority,av=d.unstable_IdlePriority,aw=(d.log,d.unstable_setDisableYieldValue,null),ax=null,ay=Math.clz32?Math.clz32:function(a){return 0==(a>>>=0)?32:31-(az(a)/aA|0)|0},az=Math.log,aA=Math.LN2,aB=256,aC=262144,aD=4194304;function aE(a){var b=42&a;if(0!==b)return b;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&a;case 262144:case 524288:case 1048576:case 2097152:return 3932160&a;case 4194304:case 8388608:case 0x1000000:case 0x2000000:return 0x3c00000&a;case 0x4000000:return 0x4000000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0;default:return a}}function aF(a,b,c){var d=a.pendingLanes;if(0===d)return 0;var e=0,f=a.suspendedLanes,g=a.pingedLanes;a=a.warmLanes;var h=0x7ffffff&d;return 0!==h?0!=(d=h&~f)?e=aE(d):0!=(g&=h)?e=aE(g):c||0!=(c=h&~a)&&(e=aE(c)):0!=(h=d&~f)?e=aE(h):0!==g?e=aE(g):c||0!=(c=d&~a)&&(e=aE(c)),0===e?0:0!==b&&b!==e&&0==(b&f)&&((f=e&-e)>=(c=b&-b)||32===f&&0!=(4194048&c))?b:e}function aG(a,b){return 0==(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&b)}function aH(){var a=aD;return 0==(0x3c00000&(aD<<=1))&&(aD=4194304),a}function aI(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}function aJ(a,b){a.pendingLanes|=b,0x10000000!==b&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function aK(a,b,c){a.pendingLanes|=b,a.suspendedLanes&=~b;var d=31-ay(b);a.entangledLanes|=b,a.entanglements[d]=0x40000000|a.entanglements[d]|261930&c}function aL(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-ay(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b),c&=~e}}function aM(a,b){var c=b&-b;return 0!=((c=0!=(42&c)?1:aN(c))&(a.suspendedLanes|b))?0:c}function aN(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:a=128;break;case 0x10000000:a=0x8000000;break;default:a=0}return a}function aO(a){return 2<(a&=-a)?8<a?0!=(0x7ffffff&a)?32:0x10000000:8:2}function aP(){var a=T.p;return 0!==a?a:void 0===(a=window.event)?32:ls(a.type)}function aQ(a,b){var c=T.p;try{return T.p=a,b()}finally{T.p=c}}var aR=Math.random().toString(36).slice(2),aS="__reactFiber$"+aR,aT="__reactProps$"+aR,aU="__reactContainer$"+aR,aV="__reactEvents$"+aR,aW="__reactListeners$"+aR,aX="__reactHandles$"+aR,aY="__reactResources$"+aR,aZ="__reactMarker$"+aR;function a$(a){delete a[aS],delete a[aT],delete a[aV],delete a[aW],delete a[aX]}function a_(a){var b;if(b=a[aS])return b;for(var c=a.parentNode;c;){if(b=c[aU]||c[aS]){if(c=b.alternate,null!==b.child||null!==c&&null!==c.child)for(a=kI(a);null!==a;){if(c=a[aS])return c;a=kI(a)}return b}c=(a=c).parentNode}return null}function a0(a){if(a=a[aS]||a[aU]){var b=a.tag;if(5===b||6===b||13===b||31===b||26===b||27===b||3===b)return a}return null}function a1(a){var b=a.tag;if(5===b||26===b||27===b||6===b)return a.stateNode;throw Error(g(33))}function a2(a){var b=a[aY];return b||(b=a[aY]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function a3(a){a[aZ]=!0}var a4=new Set,a5={};function a6(a,b){a7(a,b),a7(a+"Capture",b)}function a7(a,b){for(a5[a]=b,a=0;a<b.length;a++)a4.add(b[a])}var a8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),a9={},ba={},bb=!1;function bc(){var a=bb;return bb=!1,a}function bd(a,b,c){if(ak.call(ba,b)||!ak.call(a9,b)&&(a8.test(b)?ba[b]=!0:(a9[b]=!0,!1)))if(null===c)a.removeAttribute(b);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(b);return;case"boolean":var d=b.toLowerCase().slice(0,5);if("data-"!==d&&"aria-"!==d)return void a.removeAttribute(b)}a.setAttribute(b,""+c)}}function be(a,b,c){if(null===c)a.removeAttribute(b);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(b);return}a.setAttribute(b,""+c)}}function bf(a,b,c,d){if(null===d)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(b,c,""+d)}}function bg(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return a;default:return""}}function bh(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function bi(a){if(!a._valueTracker){var b=bh(a)?"checked":"value";a._valueTracker=function(a,b,c){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,b);if(!a.hasOwnProperty(b)&&void 0!==d&&"function"==typeof d.get&&"function"==typeof d.set){var e=d.get,f=d.set;return Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){c=""+a,f.call(this,a)}}),Object.defineProperty(a,b,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(a){c=""+a},stopTracking:function(){a._valueTracker=null,delete a[b]}}}}(a,b,""+a[b])}}function bj(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue(),d="";return a&&(d=bh(a)?a.checked?"true":"false":a.value),(a=d)!==c&&(b.setValue(a),!0)}function bk(a){if(void 0===(a=a||("undefined"!=typeof document?document:void 0)))return null;try{return a.activeElement||a.body}catch(b){return a.body}}var bl=/[\n"\\]/g;function bm(a){return a.replace(bl,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function bn(a,b,c,d,e,f,g,h){a.name="",null!=g&&"function"!=typeof g&&"symbol"!=typeof g&&"boolean"!=typeof g?a.type=g:a.removeAttribute("type"),null!=b?"number"===g?(0===b&&""===a.value||a.value!=b)&&(a.value=""+bg(b)):a.value!==""+bg(b)&&(a.value=""+bg(b)):"submit"!==g&&"reset"!==g||a.removeAttribute("value"),null!=b?bp(a,g,bg(b)):null!=c?bp(a,g,bg(c)):null!=d&&a.removeAttribute("value"),null==e&&null!=f&&(a.defaultChecked=!!f),null!=e&&(a.checked=e&&"function"!=typeof e&&"symbol"!=typeof e),null!=h&&"function"!=typeof h&&"symbol"!=typeof h&&"boolean"!=typeof h?a.name=""+bg(h):a.removeAttribute("name")}function bo(a,b,c,d,e,f,g,h){if(null!=f&&"function"!=typeof f&&"symbol"!=typeof f&&"boolean"!=typeof f&&(a.type=f),null!=b||null!=c){if(("submit"===f||"reset"===f)&&null==b)return void bi(a);c=null!=c?""+bg(c):"",b=null!=b?""+bg(b):c,h||b===a.value||(a.value=b),a.defaultValue=b}d="function"!=typeof(d=null!=d?d:e)&&"symbol"!=typeof d&&!!d,a.checked=h?a.checked:!!d,a.defaultChecked=!!d,null!=g&&"function"!=typeof g&&"symbol"!=typeof g&&"boolean"!=typeof g&&(a.name=g),bi(a)}function bp(a,b,c){"number"===b&&bk(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function bq(a,b,c,d){if(a=a.options,b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{for(e=0,c=""+bg(c),b=null;e<a.length;e++){if(a[e].value===c){a[e].selected=!0,d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function br(a,b,c){if(null!=b&&((b=""+bg(b))!==a.value&&(a.value=b),null==c)){a.defaultValue!==b&&(a.defaultValue=b);return}a.defaultValue=null!=c?""+bg(c):""}function bs(a,b,c,d){if(null==b){if(null!=d){if(null!=c)throw Error(g(92));if(R(d)){if(1<d.length)throw Error(g(93));d=d[0]}c=d}null==c&&(c=""),b=c}a.defaultValue=c=bg(b),(d=a.textContent)===c&&""!==d&&null!==d&&(a.value=d),bi(a)}function bt(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bv(a,b,c){var d=0===b.indexOf("--");null==c||"boolean"==typeof c||""===c?d?a.setProperty(b,""):"float"===b?a.cssFloat="":a[b]="":d?a.setProperty(b,c):"number"!=typeof c||0===c||bu.has(b)?"float"===b?a.cssFloat=c:a[b]=(""+c).trim():a[b]=c+"px"}function bw(a,b,c){if(null!=b&&"object"!=typeof b)throw Error(g(62));if(a=a.style,null!=c){for(var d in c)!c.hasOwnProperty(d)||null!=b&&b.hasOwnProperty(d)||(0===d.indexOf("--")?a.setProperty(d,""):"float"===d?a.cssFloat="":a[d]="",bb=!0);for(var e in b)d=b[e],b.hasOwnProperty(e)&&c[e]!==d&&(bv(a,e,d),bb=!0)}else for(var f in b)b.hasOwnProperty(f)&&bv(a,f,b[f])}function bx(a){if(-1===a.indexOf("-"))return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bA(a){return bz.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function bB(){}var bC=null;function bD(a){return(a=a.target||a.srcElement||window).correspondingUseElement&&(a=a.correspondingUseElement),3===a.nodeType?a.parentNode:a}var bE=null,bF=null;function bG(a){var b=a0(a);if(b&&(a=b.stateNode)){var c=a[aT]||null;switch(a=b.stateNode,b.type){case"input":if(bn(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),b=c.name,"radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+bm(""+b)+'"][type="radio"]'),b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=d[aT]||null;if(!e)throw Error(g(90));bn(d,e.value,e.defaultValue,e.defaultValue,e.checked,e.defaultChecked,e.type,e.name)}}for(b=0;b<c.length;b++)(d=c[b]).form===a.form&&bj(d)}break;case"textarea":br(a,c.value,c.defaultValue);break;case"select":null!=(b=c.value)&&bq(a,!!c.multiple,b,!1)}}}var bH=!1;function bI(a,b,c){if(bH)return a(b,c);bH=!0;try{return a(b)}finally{if(bH=!1,(null!==bE||null!==bF)&&(iZ(),bE&&(b=bE,a=bF,bF=bE=null,bG(b),a)))for(b=0;b<a.length;b++)bG(a[b])}}function bJ(a,b){var c=a.stateNode;if(null===c)return null;var d=c[aT]||null;if(null===d)return null;switch(c=d[b],b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(d="button"!==(a=a.type)&&"input"!==a&&"select"!==a&&"textarea"!==a),a=!d;break;default:a=!1}if(a)return null;if(c&&"function"!=typeof c)throw Error(g(231,b,typeof c));return c}var bK=null,bL=null,bM=null;function bN(){if(bM)return bM;var a,b,c=bL,d=c.length,e="value"in bK?bK.value:bK.textContent,f=e.length;for(a=0;a<d&&c[a]===e[a];a++);var g=d-a;for(b=1;b<=g&&c[d-b]===e[f-b];b++);return bM=e.slice(a,1<b?1-b:void 0)}function bO(a){var b=a.keyCode;return"charCode"in a?0===(a=a.charCode)&&13===b&&(a=13):a=b,10===a&&(a=13),32<=a||13===a?a:0}function bP(){return!0}function bQ(){return!1}function bR(a){function b(b,c,d,e,f){for(var g in this._reactName=b,this._targetInst=d,this.type=c,this.nativeEvent=e,this.target=f,this.currentTarget=null,a)a.hasOwnProperty(g)&&(b=a[g],this[g]=b?b(e):e[g]);return this.isDefaultPrevented=(null!=e.defaultPrevented?e.defaultPrevented:!1===e.returnValue)?bP:bQ,this.isPropagationStopped=bQ,this}return w(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!=typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=bP)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!=typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=bP)},persist:function(){},isPersistent:bP}),b}var bS,bT,bU,bV,bW,bX={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bY=bR(bX),bZ=w({},bX,{view:0,detail:0}),b$=bR(bZ),b_=w({},bZ,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==bW&&(bW&&"mousemove"===a.type?(bU=a.screenX-bW.screenX,bV=a.screenY-bW.screenY):bV=bU=0,bW=a),bU)},movementY:function(a){return"movementY"in a?a.movementY:bV}}),b0=bR(b_),b1=bR(w({},b_,{dataTransfer:0})),b2=bR(w({},bZ,{relatedTarget:0})),b3=bR(w({},bX,{animationName:0,elapsedTime:0,pseudoElement:0})),b4=bR(w({},bX,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}})),b5=bR(w({},bX,{data:0})),b6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b9(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):!!(a=b8[a])&&!!b[a]}function ca(){return b9}var cb=bR(w({},bZ,{key:function(a){if(a.key){var b=b6[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?13===(a=bO(a))?"Enter":String.fromCharCode(a):"keydown"===a.type||"keyup"===a.type?b7[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(a){return"keypress"===a.type?bO(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?bO(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}})),cc=bR(w({},b_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),cd=bR(w({},bZ,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca})),ce=bR(w({},bX,{propertyName:0,elapsedTime:0,pseudoElement:0})),cf=bR(w({},b_,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0})),cg=bR(w({},bX,{newState:0,oldState:0})),ch=[9,13,27,32];function ci(a,b){switch(a){case"keyup":return -1!==ch.indexOf(b.keyCode);case"keydown":return 229!==b.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}var cj=!1,ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cl(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!ck[a.type]:"textarea"===b}function cm(a,b,c,d){bE?bF?bF.push(d):bF=[d]:bE=d,0<(b=jT(b,"onChange")).length&&(c=new bY("onChange","change",null,c,d),a.push({event:c,listeners:b}))}var cn=null,co=null;function cp(a){jL(a,0)}function cq(a){if(bj(a1(a)))return a}function cr(a,b){if("change"===a)return b}function cs(){cn&&(cn.detachEvent("onpropertychange",ct),co=cn=null)}function ct(a){if("value"===a.propertyName&&cq(co)){var b=[];cm(b,co,a,bD(a)),bI(cp,b)}}function cu(a,b,c){"focusin"===a?(cs(),cn=b,co=c,cn.attachEvent("onpropertychange",ct)):"focusout"===a&&cs()}function cv(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return cq(co)}function cw(a,b){if("click"===a)return cq(b)}function cx(a,b){if("input"===a||"change"===a)return cq(b)}var cy="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b};function cz(a,b){if(cy(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ak.call(b,e)||!cy(a[e],b[e]))return!1}return!0}function cA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cB(a,b){var c,d=cA(a);for(a=0;d;){if(3===d.nodeType){if(c=a+d.textContent.length,a<=b&&c>=b)return{node:d,offset:b-a};a=c}a:{for(;d;){if(d.nextSibling){d=d.nextSibling;break a}d=d.parentNode}d=void 0}d=cA(d)}}function cC(a){a=null!=a&&null!=a.ownerDocument&&null!=a.ownerDocument.defaultView?a.ownerDocument.defaultView:window;for(var b=bk(a.document);b instanceof a.HTMLIFrameElement;){try{var c="string"==typeof b.contentWindow.location.href}catch(a){c=!1}if(c)a=b.contentWindow;else break;b=bk(a.document)}return b}function cD(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}var cE=null,cF=null,cG=null,cH=!1;function cI(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;cH||null==cE||cE!==bk(d)||(d="selectionStart"in(d=cE)&&cD(d)?{start:d.selectionStart,end:d.selectionEnd}:{anchorNode:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset},cG&&cz(cG,d)||(cG=d,0<(d=jT(cF,"onSelect")).length&&(b=new bY("onSelect","select",null,b,c),a.push({event:b,listeners:d}),b.target=cE)))}function cJ(a,b){var c={};return c[a.toLowerCase()]=b.toLowerCase(),c["Webkit"+a]="webkit"+b,c["Moz"+a]="moz"+b,c}var cK={animationend:cJ("Animation","AnimationEnd"),animationiteration:cJ("Animation","AnimationIteration"),animationstart:cJ("Animation","AnimationStart"),transitionrun:cJ("Transition","TransitionRun"),transitionstart:cJ("Transition","TransitionStart"),transitioncancel:cJ("Transition","TransitionCancel"),transitionend:cJ("Transition","TransitionEnd")},cL={},cM={};function cN(a){if(cL[a])return cL[a];if(!cK[a])return a;var b,c=cK[a];for(b in c)if(c.hasOwnProperty(b)&&b in cM)return cL[a]=c[b];return a}var cO=cN("animationend"),cP=cN("animationiteration"),cQ=cN("animationstart"),cR=cN("transitionrun"),cS=cN("transitionstart"),cT=cN("transitioncancel"),cU=cN("transitionend"),cV=new Map,cW="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cX(a,b){cV.set(a,b),a6(b,[a])}cW.push("scrollEnd");var cY=0;function cZ(a,b){return null!=a.name&&"auto"!==a.name?a.name:null!==b.autoName?b.autoName:b.autoName=a="_"+(a=iH.identifierPrefix)+"t_"+(cY++).toString(32)+"_"}function c$(a){if(null==a||"string"==typeof a)return a;var b=null,c=iP;if(null!==c)for(var d=0;d<c.length;d++){var e=a[c[d]];if(null!=e){if("none"===e)return"none";b=null==b?e:b+" "+e}}return null==b?a.default:b}function c_(a,b){return a=c$(a),null==(b=c$(b))?"auto"===a?null:a:"auto"===b?null:b}var c0="function"==typeof reportError?reportError:function(a){"object"==typeof process&&"function"==typeof process.emit?process.emit("uncaughtException",a):console.error(a)},c1=[],c2=0,c3=0;function c4(){for(var a=c2,b=c3=c2=0;b<a;){var c=c1[b];c1[b++]=null;var d=c1[b];c1[b++]=null;var e=c1[b];c1[b++]=null;var f=c1[b];if(c1[b++]=null,null!==d&&null!==e){var g=d.pending;null===g?e.next=e:(e.next=g.next,g.next=e),d.pending=e}0!==f&&c8(c,e,f)}}function c5(a,b,c,d){c1[c2++]=a,c1[c2++]=b,c1[c2++]=c,c1[c2++]=d,c3|=d,a.lanes|=d,null!==(a=a.alternate)&&(a.lanes|=d)}function c6(a,b,c,d){return c5(a,b,c,d),c9(a)}function c7(a,b){return c5(a,null,null,b),c9(a)}function c8(a,b,c){a.lanes|=c;var d=a.alternate;null!==d&&(d.lanes|=c);for(var e=!1,f=a.return;null!==f;)f.childLanes|=c,null!==(d=f.alternate)&&(d.childLanes|=c),22===f.tag&&(null===(a=f.stateNode)||1&a._visibility||(e=!0)),a=f,f=f.return;return 3===a.tag?(f=a.stateNode,e&&null!==b&&(e=31-ay(c),null===(d=(a=f.hiddenUpdates)[e])?a[e]=[b]:d.push(b),b.lane=0x20000000|c),f):null}function c9(a){if(50<iQ)throw iQ=0,iR=null,Error(g(185));for(var b=a.return;null!==b;)b=(a=b).return;return 3===a.tag?a.stateNode:null}var da={};function db(a,b,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dc(a,b,c,d){return new db(a,b,c,d)}function dd(a){return!(!(a=a.prototype)||!a.isReactComponent)}function de(a,b){var c=a.alternate;return null===c?((c=dc(a.tag,b,a.key,a.mode)).elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=0x7e00000&a.flags,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,b=a.dependencies,c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function df(a,b){a.flags&=0x7e00002;var c=a.alternate;return null===c?(a.childLanes=0,a.lanes=b,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,a.dependencies=null===(b=c.dependencies)?null:{lanes:b.lanes,firstContext:b.firstContext}),a}function dg(a,b,c,d,e,f){var h=0;if(d=a,"function"==typeof a)dd(a)&&(h=1);else if("string"==typeof a)h=!function(a,b,c){if(1===c||null!=b.itemProp)return!1;switch(a){case"meta":case"title":return!0;case"style":if("string"!=typeof b.precedence||"string"!=typeof b.href||""===b.href)break;return!0;case"link":if("string"!=typeof b.rel||"string"!=typeof b.href||""===b.href||b.onLoad||b.onError)break;if("stylesheet"===b.rel)return a=b.disabled,"string"==typeof b.precedence&&null==a;return!0;case"script":if(b.async&&"function"!=typeof b.async&&"symbol"!=typeof b.async&&!b.onLoad&&!b.onError&&b.src&&"string"==typeof b.src)return!0}return!1}(a,c,$.current)?"html"===a||"head"===a||"body"===a?27:5:26;else a:switch(a){case K:return(a=dc(31,c,b,e)).elementType=K,a.lanes=f,a;case A:return dh(c.children,e,f,b);case B:h=8,e|=24;break;case C:return(a=dc(12,c,b,2|e)).elementType=C,a.lanes=f,a;case G:return(a=dc(13,c,b,e)).elementType=G,a.lanes=f,a;case H:return(a=dc(19,c,b,e)).elementType=H,a.lanes=f,a;case L:case N:return(a=dc(30,c,b,a=32|e)).elementType=N,a.lanes=f,a.stateNode={autoName:null,paired:null,clones:null,ref:null},a;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case E:h=10;break a;case D:h=9;break a;case F:h=11;break a;case I:h=14;break a;case J:h=16,d=null;break a}h=29,c=Error(g(130,null===a?"null":typeof a,"")),d=null}return(b=dc(h,c,b,e)).elementType=a,b.type=d,b.lanes=f,b}function dh(a,b,c,d){return(a=dc(7,a,d,b)).lanes=c,a}function di(a,b,c){return(a=dc(6,a,null,b)).lanes=c,a}function dj(a){var b=dc(18,null,null,0);return b.stateNode=a,b}function dk(a,b,c){return(b=dc(4,null!==a.children?a.children:[],a.key,b)).lanes=c,b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},b}var dl=new WeakMap;function dm(a,b){if("object"==typeof a&&null!==a){var c=dl.get(a);return void 0!==c?c:(b={value:a,source:b,stack:aj(b)},dl.set(a,b),b)}return{value:a,source:b,stack:aj(b)}}var dn=[],dp=0,dq=null,dr=0,ds=[],dt=0,du=null,dv=1,dw="";function dx(a,b){dn[dp++]=dr,dn[dp++]=dq,dq=a,dr=b}function dy(a,b,c){ds[dt++]=dv,ds[dt++]=dw,ds[dt++]=du,du=a;var d=dv;a=dw;var e=32-ay(d)-1;d&=~(1<<e),c+=1;var f=32-ay(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32),d>>=g,e-=g,dv=1<<32-ay(b)+e|c<<e|d,dw=f+a}else dv=1<<f|c<<e|d,dw=a}function dz(a){null!==a.return&&(dx(a,1),dy(a,1,0))}function dA(a){for(;a===dq;)dq=dn[--dp],dn[dp]=null,dr=dn[--dp],dn[dp]=null;for(;a===du;)du=ds[--dt],ds[dt]=null,dw=ds[--dt],ds[dt]=null,dv=ds[--dt],ds[dt]=null}function dB(a,b){ds[dt++]=dv,ds[dt++]=dw,ds[dt++]=du,dv=b.id,dw=b.overflow,du=a}var dC=null,dD=null,dE=!1,dF=null,dG=!1,dH=Error(g(519));function dI(a){var b=Error(g(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML",""));throw dO(dm(b,a)),dH}function dJ(a){var b=a.stateNode,c=a.type,d=a.memoizedProps;switch(b[aS]=a,b[aT]=d,c){case"dialog":jM("cancel",b),jM("close",b);break;case"iframe":case"object":case"embed":jM("load",b);break;case"video":case"audio":for(c=0;c<jJ.length;c++)jM(jJ[c],b);break;case"source":jM("error",b);break;case"img":case"image":case"link":jM("error",b),jM("load",b);break;case"details":jM("toggle",b);break;case"input":jM("invalid",b),bo(b,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":jM("invalid",b);break;case"textarea":jM("invalid",b),bs(b,d.value,d.defaultValue,d.children)}"string"!=typeof(c=d.children)&&"number"!=typeof c&&"bigint"!=typeof c||b.textContent===""+c||!0===d.suppressHydrationWarning||jZ(b.textContent,c)?(null!=d.popover&&(jM("beforetoggle",b),jM("toggle",b)),null!=d.onScroll&&jM("scroll",b),null!=d.onScrollEnd&&jM("scrollend",b),null!=d.onClick&&(b.onclick=bB),b=!0):b=!1,b||dI(a,!0)}function dK(a){for(dC=a.return;dC;)switch(dC.tag){case 5:case 31:case 13:dG=!1;return;case 27:case 3:dG=!0;return;default:dC=dC.return}}function dL(a){if(a!==dC)return!1;if(!dE)return dK(a),dE=!0,!1;var b,c=a.tag;if((b=3!==c&&27!==c)&&((b=5===c)&&(b="form"===(b=a.type)||"button"===b||j7(a.type,a.memoizedProps)),b=!b),b&&dD&&dI(a),dK(a),13===c){if(!(a=null!==(a=a.memoizedState)?a.dehydrated:null))throw Error(g(317));dD=kH(a)}else if(31===c){if(!(a=null!==(a=a.memoizedState)?a.dehydrated:null))throw Error(g(317));dD=kH(a)}else 27===c?(c=dD,ke(a.type)?(a=kG,kG=null,dD=a):dD=c):dD=dC?kF(a.stateNode.nextSibling):null;return!0}function dM(){dD=dC=null,dE=!1}function dN(){var a=dF;return null!==a&&(null===iz?iz=a:iz.push.apply(iz,a),dF=null),a}function dO(a){null===dF?dF=[a]:dF.push(a)}var dP=X(null),dQ=null,dR=null;function dS(a,b,c){Z(dP,b._currentValue),b._currentValue=c}function dT(a){a._currentValue=dP.current,Y(dP)}function dU(a,b,c){for(;null!==a;){var d=a.alternate;if((a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b),a===c)break;a=a.return}}function dV(a,b,c,d){var e=a.child;for(null!==e&&(e.return=a);null!==e;){var f=e.dependencies;if(null!==f){var h=e.child;f=f.firstContext;a:for(;null!==f;){var i=f;f=e;for(var j=0;j<b.length;j++)if(i.context===b[j]){f.lanes|=c,null!==(i=f.alternate)&&(i.lanes|=c),dU(f.return,c,a),d||(h=null);break a}f=i.next}}else if(18===e.tag){if(null===(h=e.return))throw Error(g(341));h.lanes|=c,null!==(f=h.alternate)&&(f.lanes|=c),dU(h,c,a),h=null}else h=e.child;if(null!==h)h.return=e;else for(h=e;null!==h;){if(h===a){h=null;break}if(null!==(e=h.sibling)){e.return=h.return,h=e;break}h=h.return}e=h}}function dW(a,b,c,d){a=null;for(var e=b,f=!1;null!==e;){if(!f){if(0!=(524288&e.flags))f=!0;else if(0!=(262144&e.flags))break}if(10===e.tag){var h=e.alternate;if(null===h)throw Error(g(387));if(null!==(h=h.memoizedProps)){var i=e.type;cy(e.pendingProps.value,h.value)||(null!==a?a.push(i):a=[i])}}else if(e===ab.current){if(null===(h=e.alternate))throw Error(g(387));h.memoizedState.memoizedState!==e.memoizedState.memoizedState&&(null!==a?a.push(ld):a=[ld])}e=e.return}null!==a&&dV(b,a,c,d),b.flags|=262144}function dX(a){for(a=a.firstContext;null!==a;){if(!cy(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function dY(a){dQ=a,dR=null,null!==(a=a.dependencies)&&(a.firstContext=null)}function dZ(a){return d_(dQ,a)}function d$(a,b){return null===dQ&&dY(a),d_(a,b)}function d_(a,b){var c=b._currentValue;if(b={context:b,memoizedValue:c,next:null},null===dR){if(null===a)throw Error(g(308));dR=b,a.dependencies={lanes:0,firstContext:b},a.flags|=524288}else dR=dR.next=b;return c}var d0="undefined"!=typeof AbortController?AbortController:function(){var a=[],b=this.signal={aborted:!1,addEventListener:function(b,c){a.push(c)}};this.abort=function(){b.aborted=!0,a.forEach(function(a){return a()})}},d1=d.unstable_scheduleCallback,d2=d.unstable_NormalPriority,d3={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function d4(){return{controller:new d0,data:new Map,refCount:0}}function d5(a){a.refCount--,0===a.refCount&&d1(d2,function(){a.controller.abort()})}function d6(a,b){if(0!=(4194048&a.pendingLanes)){var c=a.transitionTypes;for(null===c&&(c=a.transitionTypes=[]),a=0;a<b.length;a++){var d=b[a];-1===c.indexOf(d)&&c.push(d)}}}var d7=null,d8=null,d9=0,ea=0,eb=null;function ec(){if(0==--d9&&(d7=null,null!==d8)){null!==eb&&(eb.status="fulfilled");var a=d8;d8=null,ea=0,eb=null;for(var b=0;b<a.length;b++)(0,a[b])()}}var ed=S.S;S.S=function(a,b){if(iC=ap(),"object"==typeof b&&null!==b&&"function"==typeof b.then&&function(a,b){if(null===d8){var c=d8=[];d9=0,ea=jE(),eb={status:"pending",value:void 0,then:function(a){c.push(a)}}}d9++,b.then(ec,ec)}(0,b),null!==d7)for(var c=jr;null!==c;)d6(c,d7),c=c.next;if(null!==(c=a.types)){for(var d=jr;null!==d;)d6(d,c),d=d.next;if(0!==ea){null===(d=d7)&&(d=d7=[]);for(var e=0;e<c.length;e++){var f=c[e];-1===d.indexOf(f)&&d.push(f)}}}null!==ed&&ed(a,b)};var ee=X(null);function ef(){var a=ee.current;return null!==a?a:ii.pooledCache}function eg(a,b){null===b?Z(ee,ee.current):Z(ee,b.pool)}function eh(){var a=ef();return null===a?null:{parent:d3._currentValue,pool:a}}var ei=Error(g(460)),ej=Error(g(474)),ek=Error(g(542)),el={then:function(){}};function em(a){return"fulfilled"===(a=a.status)||"rejected"===a}function en(a,b,c){switch(void 0===(c=a[c])?a.push(b):c!==b&&(b.then(bB,bB),b=c),b.status){case"fulfilled":return b.value;case"rejected":throw er(a=b.reason),a;default:if("string"==typeof b.status)b.then(bB,bB);else{if(null!==(a=ii)&&100<a.shellSuspendCounter)throw Error(g(482));(a=b).status="pending",a.then(function(a){if("pending"===b.status){var c=b;c.status="fulfilled",c.value=a}},function(a){if("pending"===b.status){var c=b;c.status="rejected",c.reason=a}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw er(a=b.reason),a}throw ep=b,ei}}function eo(a){try{return(0,a._init)(a._payload)}catch(a){if(null!==a&&"object"==typeof a&&"function"==typeof a.then)throw ep=a,ei;throw a}}var ep=null;function eq(){if(null===ep)throw Error(g(459));var a=ep;return ep=null,a}function er(a){if(a===ei||a===ek)throw Error(g(483))}var es=null,et=0;function eu(a){var b=et;return et+=1,null===es&&(es=[]),en(es,a,b)}function ev(a,b){a.ref=void 0!==(b=b.props.ref)?b:null}function ew(a,b){if(b.$$typeof===x)throw Error(g(525));throw Error(g(31,"[object Object]"===(a=Object.prototype.toString.call(b))?"object with keys {"+Object.keys(b).join(", ")+"}":a))}function ex(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a){for(var b=new Map;null!==a;)null===a.key?b.set(a.index,a):b.set(a.key,a),a=a.sibling;return b}function e(a,b){return(a=de(a,b)).index=0,a.sibling=null,a}function f(b,c,d){return(b.index=d,a)?null!==(d=b.alternate)?(d=d.index)<c?(b.flags|=0x8000002,c):d:(b.flags|=0x8000002,c):(b.flags|=1048576,c)}function h(b){return a&&null===b.alternate&&(b.flags|=0x8000002),b}function i(a,b,c,d){return null===b||6!==b.tag?(b=di(c,a.mode,d)).return=a:(b=e(b,c)).return=a,b}function j(a,b,c,d){var f=c.type;return f===A?(ev(a=l(a,b,c.props.children,d,c.key),c),a):(null!==b&&(b.elementType===f||"object"==typeof f&&null!==f&&f.$$typeof===J&&eo(f)===b.type)?ev(b=e(b,c.props),c):ev(b=dg(c.type,c.key,c.props,null,a.mode,d),c),b.return=a,b)}function k(a,b,c,d){return null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation?(b=dk(c,a.mode,d)).return=a:(b=e(b,c.children||[])).return=a,b}function l(a,b,c,d,f){return null===b||7!==b.tag?(b=dh(c,a.mode,d,f)).return=a:(b=e(b,c)).return=a,b}function m(a,b,c){if("string"==typeof b&&""!==b||"number"==typeof b||"bigint"==typeof b)return(b=di(""+b,a.mode,c)).return=a,b;if("object"==typeof b&&null!==b){switch(b.$$typeof){case y:return ev(c=dg(b.type,b.key,b.props,null,a.mode,c),b),c.return=a,c;case z:return(b=dk(b,a.mode,c)).return=a,b;case J:return m(a,b=eo(b),c)}if(R(b)||P(b))return(b=dh(b,a.mode,c,null)).return=a,b;if("function"==typeof b.then)return m(a,eu(b),c);if(b.$$typeof===E)return m(a,d$(a,b),c);ew(a,b)}return null}function n(a,b,c,d){var e=null!==b?b.key:null;if("string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c)return null!==e?null:i(a,b,""+c,d);if("object"==typeof c&&null!==c){switch(c.$$typeof){case y:return c.key===e?j(a,b,c,d):null;case z:return c.key===e?k(a,b,c,d):null;case J:return n(a,b,c=eo(c),d)}if(R(c)||P(c))return null!==e?null:l(a,b,c,d,null);if("function"==typeof c.then)return n(a,b,eu(c),d);if(c.$$typeof===E)return n(a,b,d$(a,c),d);ew(a,c)}return null}function o(a,b,c,d,e){if("string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d)return i(b,a=a.get(c)||null,""+d,e);if("object"==typeof d&&null!==d){switch(d.$$typeof){case y:return j(b,a=a.get(null===d.key?c:d.key)||null,d,e);case z:return k(b,a=a.get(null===d.key?c:d.key)||null,d,e);case J:return o(a,b,c,d=eo(d),e)}if(R(d)||P(d))return l(b,a=a.get(c)||null,d,e,null);if("function"==typeof d.then)return o(a,b,c,eu(d),e);if(d.$$typeof===E)return o(a,b,c,d$(b,d),e);ew(b,d)}return null}return function(i,j,k,l){try{et=0;var p=function i(j,k,l,p){if("object"==typeof l&&null!==l&&l.type===A&&null===l.key&&void 0===l.props.ref&&(l=l.props.children),"object"==typeof l&&null!==l){switch(l.$$typeof){case y:a:{for(var q=l.key;null!==k;){if(k.key===q){if((q=l.type)===A){if(7===k.tag){c(j,k.sibling),ev(p=e(k,l.props.children),l),p.return=j,j=p;break a}}else if(k.elementType===q||"object"==typeof q&&null!==q&&q.$$typeof===J&&eo(q)===k.type){c(j,k.sibling),ev(p=e(k,l.props),l),p.return=j,j=p;break a}c(j,k);break}b(j,k),k=k.sibling}l.type===A?ev(p=dh(l.props.children,j.mode,p,l.key),l):ev(p=dg(l.type,l.key,l.props,null,j.mode,p),l),p.return=j,j=p}return h(j);case z:a:{for(q=l.key;null!==k;){if(k.key===q)if(4===k.tag&&k.stateNode.containerInfo===l.containerInfo&&k.stateNode.implementation===l.implementation){c(j,k.sibling),(p=e(k,l.children||[])).return=j,j=p;break a}else{c(j,k);break}b(j,k),k=k.sibling}(p=dk(l,j.mode,p)).return=j,j=p}return h(j);case J:return i(j,k,l=eo(l),p)}if(R(l))return function(e,g,h,i){for(var j=null,k=null,l=g,p=g=0,q=null;null!==l&&p<h.length;p++){l.index>p?(q=l,l=null):q=l.sibling;var r=n(e,l,h[p],i);if(null===r){null===l&&(l=q);break}a&&l&&null===r.alternate&&b(e,l),g=f(r,g,p),null===k?j=r:k.sibling=r,k=r,l=q}if(p===h.length)return c(e,l),dE&&dx(e,p),j;if(null===l){for(;p<h.length;p++)null!==(l=m(e,h[p],i))&&(g=f(l,g,p),null===k?j=l:k.sibling=l,k=l);return dE&&dx(e,p),j}for(l=d(l);p<h.length;p++)null!==(q=o(l,e,p,h[p],i))&&(a&&null!==(r=q.alternate)&&l.delete(null===r.key?p:r.key),g=f(q,g,p),null===k?j=q:k.sibling=q,k=q);return a&&l.forEach(function(a){return b(e,a)}),dE&&dx(e,p),j}(j,k,l,p);if(P(l)){if("function"!=typeof(q=P(l)))throw Error(g(150));return function(e,h,i,j){if(null==i)throw Error(g(151));for(var k=null,l=null,p=h,q=h=0,r=null,s=i.next();null!==p&&!s.done;q++,s=i.next()){p.index>q?(r=p,p=null):r=p.sibling;var t=n(e,p,s.value,j);if(null===t){null===p&&(p=r);break}a&&p&&null===t.alternate&&b(e,p),h=f(t,h,q),null===l?k=t:l.sibling=t,l=t,p=r}if(s.done)return c(e,p),dE&&dx(e,q),k;if(null===p){for(;!s.done;q++,s=i.next())null!==(s=m(e,s.value,j))&&(h=f(s,h,q),null===l?k=s:l.sibling=s,l=s);return dE&&dx(e,q),k}for(p=d(p);!s.done;q++,s=i.next())null!==(s=o(p,e,q,s.value,j))&&(a&&null!==(r=s.alternate)&&p.delete(null===r.key?q:r.key),h=f(s,h,q),null===l?k=s:l.sibling=s,l=s);return a&&p.forEach(function(a){return b(e,a)}),dE&&dx(e,q),k}(j,k,l=q.call(l),p)}if("function"==typeof l.then)return i(j,k,eu(l),p);if(l.$$typeof===E)return i(j,k,d$(j,l),p);ew(j,l)}return"string"==typeof l&&""!==l||"number"==typeof l||"bigint"==typeof l?(l=""+l,null!==k&&6===k.tag?(c(j,k.sibling),(p=e(k,l)).return=j):(c(j,k),(p=di(l,j.mode,p)).return=j),h(j=p)):c(j,k)}(i,j,k,l);return es=null,p}catch(a){if(a===ei||a===ek)throw a;var q=dc(29,a,null,i.mode);return q.lanes=l,q.return=i,q}finally{}}}var ey=ex(!0),ez=ex(!1),eA=!1;function eB(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eC(a,b){a=a.updateQueue,b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function eD(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function eE(a,b,c){var d=a.updateQueue;if(null===d)return null;if(d=d.shared,0!=(2&ih)){var e=d.pending;return null===e?b.next=b:(b.next=e.next,e.next=b),d.pending=b,b=c9(a),c8(a,null,c),b}return c5(a,d,b,c),c9(a)}function eF(a,b,c){if(null!==(b=b.updateQueue)&&(b=b.shared,0!=(4194048&c))){var d=b.lanes;d&=a.pendingLanes,c|=d,b.lanes=c,aL(a,c)}}function eG(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&c===(d=d.updateQueue)){var e=null,f=null;if(null!==(c=c.firstBaseUpdate)){do{var g={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};null===f?e=f=g:f=f.next=g,c=c.next}while(null!==c)null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,callbacks:d.callbacks},a.updateQueue=c;return}null===(a=c.lastBaseUpdate)?c.firstBaseUpdate=b:a.next=b,c.lastBaseUpdate=b}var eH=!1;function eI(){if(eH){var a=eb;if(null!==a)throw a}}function eJ(a,b,c,d){eH=!1;var e=a.updateQueue;eA=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var i=h,j=i.next;i.next=null,null===g?f=j:g.next=j,g=i;var k=a.alternate;null!==k&&(h=(k=k.updateQueue).lastBaseUpdate)!==g&&(null===h?k.firstBaseUpdate=j:h.next=j,k.lastBaseUpdate=i)}if(null!==f){var l=e.baseState;for(g=0,k=j=i=null,h=f;;){var m=-0x20000001&h.lane,n=m!==h.lane;if(n?(ik&m)===m:(d&m)===m){0!==m&&m===ea&&(eH=!0),null!==k&&(k=k.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});a:{var o=a,p=h;switch(m=b,p.tag){case 1:if("function"==typeof(o=p.payload)){l=o.call(c,l,m);break a}l=o;break a;case 3:o.flags=-65537&o.flags|128;case 0:if(null==(m="function"==typeof(o=p.payload)?o.call(c,l,m):o))break a;l=w({},l,m);break a;case 2:eA=!0}}null!==(m=h.callback)&&(a.flags|=64,n&&(a.flags|=8192),null===(n=e.callbacks)?e.callbacks=[m]:n.push(m))}else n={lane:m,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===k?(j=k=n,i=l):k=k.next=n,g|=m;if(null===(h=h.next))if(null===(h=e.shared.pending))break;else h=(n=h).next,n.next=null,e.lastBaseUpdate=n,e.shared.pending=null}null===k&&(i=l),e.baseState=i,e.firstBaseUpdate=j,e.lastBaseUpdate=k,null===f&&(e.shared.lanes=0),it|=g,a.lanes=g,a.memoizedState=l}}function eK(a,b){if("function"!=typeof a)throw Error(g(191,a));a.call(b)}function eL(a,b){var c=a.callbacks;if(null!==c)for(a.callbacks=null,a=0;a<c.length;a++)eK(c[a],b)}var eM=X(null),eN=X(0);function eO(a,b){Z(eN,a=ir),Z(eM,b),ir=a|b.baseLanes}function eP(){Z(eN,ir),Z(eM,eM.current)}function eQ(){ir=eN.current,Y(eM),Y(eN)}var eR=X(null),eS=null;function eT(a){var b=a.alternate;Z(eY,1&eY.current),Z(eR,a),null===eS&&(null===b||null!==eM.current?eS=a:null!==b.memoizedState&&(eS=a))}function eU(a){Z(eY,eY.current),Z(eR,a),null===eS&&(eS=a)}function eV(a){22===a.tag?(Z(eY,eY.current),Z(eR,a),null===eS&&(eS=a)):eW()}function eW(){Z(eY,eY.current),Z(eR,eR.current)}function eX(a){Y(eR),eS===a&&(eS=null),Y(eY)}var eY=X(0);function eZ(a,b){Z(eR,eR.current),Z(eY,b)}function e$(a){Y(eY),Y(eR),eS===a&&(eS=null)}function e_(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(null===(c=c.dehydrated)||kD(c)||kE(c)))return b}else if(19===b.tag&&"independent"!==b.memoizedProps.revealOrder){if(0!=(128&b.flags))return b}else if(null!==b.child){b.child.return=b,b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var e0=0,e1=null,e2=null,e3=null,e4=!1,e5=!1,e6=!1,e7=0,e8=0,e9=null,fa=0;function fb(){throw Error(g(321))}function fc(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!cy(a[c],b[c]))return!1;return!0}function fd(a,b,c,d,e,f){return e0=f,e1=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,S.H=null===a||null===a.memoizedState?gj:gk,e6=!1,f=c(d,e),e6=!1,e5&&(f=ff(b,c,d,e)),fe(a),f}function fe(a){S.H=gi;var b=null!==e2&&null!==e2.next;if(e0=0,e3=e2=e1=null,e4=!1,e8=0,e9=null,b)throw Error(g(300));null===a||gA||null!==(a=a.dependencies)&&dX(a)&&(gA=!0)}function ff(a,b,c,d){e1=a;var e=0;do{if(e5&&(e9=null),e8=0,e5=!1,25<=e)throw Error(g(301));if(e+=1,e3=e2=null,null!=a.updateQueue){var f=a.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,null!=f.memoCache&&(f.memoCache.index=0)}S.H=gl,f=b(c,d)}while(e5)return f}function fg(){var a=S.H,b=a.useState()[0];return b="function"==typeof b.then?fn(b):b,a=a.useState()[0],(null!==e2?e2.memoizedState:null)!==a&&(e1.flags|=1024),b}function fh(){var a=0!==e7;return e7=0,a}function fi(a,b,c){b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~c}function fj(a){if(e4){for(a=a.memoizedState;null!==a;){var b=a.queue;null!==b&&(b.pending=null),a=a.next}e4=!1}e0=0,e3=e2=e1=null,e5=!1,e8=e7=0,e9=null}function fk(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===e3?e1.memoizedState=e3=a:e3=e3.next=a,e3}function fl(){if(null===e2){var a=e1.alternate;a=null!==a?a.memoizedState:null}else a=e2.next;var b=null===e3?e1.memoizedState:e3.next;if(null!==b)e3=b,e2=a;else{if(null===a){if(null===e1.alternate)throw Error(g(467));throw Error(g(310))}a={memoizedState:(e2=a).memoizedState,baseState:e2.baseState,baseQueue:e2.baseQueue,queue:e2.queue,next:null},null===e3?e1.memoizedState=e3=a:e3=e3.next=a}return e3}function fm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fn(a){var b=e8;return e8+=1,null===e9&&(e9=[]),a=en(e9,a,b),b=e1,null===(null===e3?b.memoizedState:e3.next)&&(S.H=null===(b=b.alternate)||null===b.memoizedState?gj:gk),a}function fo(a){if(null!==a&&"object"==typeof a){if("function"==typeof a.then)return fn(a);if(a.$$typeof===E)return dZ(a)}throw Error(g(438,String(a)))}function fp(a){var b=null,c=e1.updateQueue;if(null!==c&&(b=c.memoCache),null==b){var d=e1.alternate;null!==d&&null!==(d=d.updateQueue)&&null!=(d=d.memoCache)&&(b={data:d.data.map(function(a){return a.slice()}),index:0})}if(null==b&&(b={data:[],index:0}),null===c&&(c=fm(),e1.updateQueue=c),c.memoCache=b,void 0===(c=b.data[b.index]))for(c=b.data[b.index]=Array(a),d=0;d<a;d++)c[d]=M;return b.index++,c}function fq(a,b){return"function"==typeof b?b(a):b}function fr(a){return fs(fl(),e2,a)}function fs(a,b,c){var d=a.queue;if(null===d)throw Error(g(311));d.lastRenderedReducer=c;var e=a.baseQueue,f=d.pending;if(null!==f){if(null!==e){var h=e.next;e.next=f.next,f.next=h}b.baseQueue=e=f,d.pending=null}if(f=a.baseState,null===e)a.memoizedState=f;else{b=e.next;var i=h=null,j=null,k=b,l=!1;do{var m=-0x20000001&k.lane;if(m!==k.lane?(ik&m)===m:(e0&m)===m){var n=k.revertLane;if(0===n)null!==j&&(j=j.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),m===ea&&(l=!0);else if((e0&n)===n){k=k.next,n===ea&&(l=!0);continue}else m={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},null===j?(i=j=m,h=f):j=j.next=m,e1.lanes|=n,it|=n;m=k.action,e6&&c(f,m),f=k.hasEagerState?k.eagerState:c(f,m)}else n={lane:m,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},null===j?(i=j=n,h=f):j=j.next=n,e1.lanes|=m,it|=m;k=k.next}while(null!==k&&k!==b)if(null===j?h=f:j.next=i,!cy(f,a.memoizedState)&&(gA=!0,l&&null!==(c=eb)))throw c;a.memoizedState=f,a.baseState=h,a.baseQueue=j,d.lastRenderedState=f}return null===e&&(d.lanes=0),[a.memoizedState,d.dispatch]}function ft(a){var b=fl(),c=b.queue;if(null===c)throw Error(g(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var h=e=e.next;do f=a(f,h.action),h=h.next;while(h!==e)cy(f,b.memoizedState)||(gA=!0),b.memoizedState=f,null===b.baseQueue&&(b.baseState=f),c.lastRenderedState=f}return[f,d]}function fu(a,b,c){var d=e1,e=fl(),f=dE;if(f){if(void 0===c)throw Error(g(407));c=c()}else c=b();var h=!cy((e2||e).memoizedState,c);if(h&&(e.memoizedState=c,gA=!0),e=e.queue,fT(fx.bind(null,d,e,a),[a]),e.getSnapshot!==b||h||null!==e3&&1&e3.memoizedState.tag){if(d.flags|=2048,fO(9,{destroy:void 0},fw.bind(null,d,e,c,b),null),null===ii)throw Error(g(349));f||0!=(127&e0)||fv(d,b,c)}return c}function fv(a,b,c){a.flags|=16384,a={getSnapshot:b,value:c},null===(b=e1.updateQueue)?(b=fm(),e1.updateQueue=b,b.stores=[a]):null===(c=b.stores)?b.stores=[a]:c.push(a)}function fw(a,b,c,d){b.value=c,b.getSnapshot=d,fy(b)&&fz(a)}function fx(a,b,c){return c(function(){fy(b)&&fz(a)})}function fy(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!cy(a,c)}catch(a){return!0}}function fz(a){var b=c7(a,2);null!==b&&iV(b,a,2)}function fA(a){var b=fk();return"function"==typeof a&&(a=a()),b.memoizedState=b.baseState=a,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fq,lastRenderedState:a},b}function fB(a,b,c,d){return a.baseState=c,fs(a,e2,"function"==typeof d?d:fq)}function fC(a,b,c,d,e){if(gf(a))throw Error(g(485));if(null!==(a=b.action)){var f={payload:e,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){f.listeners.push(a)}};null!==S.T?c(!0):f.isTransition=!1,d(f),null===(c=b.pending)?(f.next=b.pending=f,fD(b,f)):(f.next=c.next,b.pending=c.next=f)}}function fD(a,b){var c=b.action,d=b.payload,e=a.state;if(b.isTransition){var f=S.T,g={};g.types=null!==f?f.types:null,S.T=g;try{var h=c(e,d),i=S.S;null!==i&&i(g,h),fE(a,b,h)}catch(c){fG(a,b,c)}finally{null!==f&&null!==g.types&&(f.types=g.types),S.T=f}}else try{f=c(e,d),fE(a,b,f)}catch(c){fG(a,b,c)}}function fE(a,b,c){null!==c&&"object"==typeof c&&"function"==typeof c.then?c.then(function(c){fF(a,b,c)},function(c){return fG(a,b,c)}):fF(a,b,c)}function fF(a,b,c){b.status="fulfilled",b.value=c,fH(b),a.state=c,null!==(b=a.pending)&&((c=b.next)===b?a.pending=null:(c=c.next,b.next=c,fD(a,c)))}function fG(a,b,c){var d=a.pending;if(a.pending=null,null!==d){d=d.next;do b.status="rejected",b.reason=c,fH(b),b=b.next;while(b!==d)}a.action=null}function fH(a){a=a.listeners;for(var b=0;b<a.length;b++)(0,a[b])()}function fI(a,b){return b}function fJ(a,b){if(dE){var c=ii.formState;if(null!==c){a:{var d=e1;if(dE){if(dD){b:{for(var e=dD,f=dG;8!==e.nodeType;)if(!f||null===(e=kF(e.nextSibling))){e=null;break b}e="F!"===(f=e.data)||"F"===f?e:null}if(e){dD=kF(e.nextSibling),d="F!"===e.data;break a}}dI(d)}d=!1}d&&(b=c[0])}}return(c=fk()).memoizedState=c.baseState=b,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fI,lastRenderedState:b},c.queue=d,c=gc.bind(null,e1,d),d.dispatch=c,d=fA(!1),f=ge.bind(null,e1,!1,d.queue),d=fk(),e={state:b,dispatch:null,action:a,pending:null},d.queue=e,c=fC.bind(null,e1,e,f,c),e.dispatch=c,d.memoizedState=a,[b,c,!1]}function fK(a){return fL(fl(),e2,a)}function fL(a,b,c){if(b=fs(a,b,fI)[0],a=fr(fq)[0],"object"==typeof b&&null!==b&&"function"==typeof b.then)try{var d=fn(b)}catch(a){if(a===ei)throw ek;throw a}else d=b;var e=(b=fl()).queue,f=e.dispatch;return c!==b.memoizedState&&(e1.flags|=2048,fO(9,{destroy:void 0},fM.bind(null,e,c),null)),[d,f,a]}function fM(a,b){a.action=b}function fN(a){var b=fl(),c=e2;if(null!==c)return fL(b,c,a);fl(),b=b.memoizedState;var d=(c=fl()).queue.dispatch;return c.memoizedState=a,[b,d,!1]}function fO(a,b,c,d){return a={tag:a,create:c,deps:d,inst:b,next:null},null===(b=e1.updateQueue)&&(b=fm(),e1.updateQueue=b),null===(c=b.lastEffect)?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a),a}function fP(){return fl().memoizedState}function fQ(a,b,c,d){var e=fk();e1.flags|=a,e.memoizedState=fO(1|b,{destroy:void 0},c,void 0===d?null:d)}function fR(a,b,c,d){var e=fl();d=void 0===d?null:d;var f=e.memoizedState.inst;null!==e2&&null!==d&&fc(d,e2.memoizedState.deps)?e.memoizedState=fO(b,f,c,d):(e1.flags|=a,e.memoizedState=fO(1|b,f,c,d))}function fS(a,b){fQ(8390656,8,a,b)}function fT(a,b){fR(2048,8,a,b)}function fU(a){var b=fl().memoizedState,c={ref:b,nextImpl:a};e1.flags|=4;var d=e1.updateQueue;if(null===d)d=fm(),e1.updateQueue=d,d.events=[c];else{var e=d.events;null===e?d.events=[c]:e.push(c)}return function(){if(0!=(2&ih))throw Error(g(440));return b.impl.apply(void 0,arguments)}}function fV(a,b){return fR(4,2,a,b)}function fW(a,b){return fR(4,4,a,b)}function fX(a,b){if("function"==typeof b){var c=b(a=a());return function(){"function"==typeof c?c():b(null)}}if(null!=b)return b.current=a=a(),function(){b.current=null}}function fY(a,b,c){c=null!=c?c.concat([a]):null,fR(4,4,fX.bind(null,b,a),c)}function fZ(){}function f$(a,b){var c=fl();b=void 0===b?null:b;var d=c.memoizedState;return null!==b&&fc(b,d[1])?d[0]:(c.memoizedState=[a,b],a)}function f_(a,b){var c=fl();b=void 0===b?null:b;var d=c.memoizedState;return null!==b&&fc(b,d[1])?d[0]:(c.memoizedState=[d=a(),b],d)}function f0(a,b,c){return void 0===c||0!=(0x40000000&e0)&&0==(261930&ik)?a.memoizedState=b:(a.memoizedState=c,a=iT(),e1.lanes|=a,it|=a,c)}function f1(a,b,c,d){return cy(c,b)?c:null!==eM.current?(cy(a=f0(a,c,d),b)||(gA=!0),a):0==(42&e0)||0!=(0x40000000&e0)&&0==(261930&ik)?(gA=!0,a.memoizedState=c):(a=iT(),e1.lanes|=a,it|=a,b)}function f2(a,b,c,d,e){var f=T.p;T.p=0!==f&&8>f?f:8;var g=S.T,h={};h.types=null!==g?g.types:null,S.T=h,ge(a,!1,b,c);try{var i=e(),j=S.S;if(null!==j&&j(h,i),null!==i&&"object"==typeof i&&"function"==typeof i.then){var k,l,m=(k=[],l={status:"pending",value:null,reason:null,then:function(a){k.push(a)}},i.then(function(){l.status="fulfilled",l.value=d;for(var a=0;a<k.length;a++)(0,k[a])(d)},function(a){for(l.status="rejected",l.reason=a,a=0;a<k.length;a++)(0,k[a])(void 0)}),l);gd(a,b,m,iS(a))}else gd(a,b,d,iS(a))}catch(c){gd(a,b,{then:function(){},status:"rejected",reason:c},iS())}finally{T.p=f,null!==g&&null!==h.types&&(g.types=h.types),S.T=g}}function f3(){}function f4(a,b,c,d){if(5!==a.tag)throw Error(g(476));var e=f5(a).queue;f2(a,e,b,U,null===c?f3:function(){return f6(a),c(d)})}function f5(a){var b=a.memoizedState;if(null!==b)return b;var c={};return(b={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fq,lastRenderedState:U},next:null}).next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fq,lastRenderedState:c},next:null},a.memoizedState=b,null!==(a=a.alternate)&&(a.memoizedState=b),b}function f6(a){var b=f5(a);null===b.next&&(b=a.alternate.memoizedState),gd(a,b.next.queue,{},iS())}function f7(){return dZ(ld)}function f8(){return fl().memoizedState}function f9(){return fl().memoizedState}function ga(a){for(var b=a.return;null!==b;){switch(b.tag){case 24:case 3:var c=iS(),d=eE(b,a=eD(c),c);null!==d&&(iV(d,b,c),eF(d,b,c)),b={cache:d4()},a.payload=b;return}b=b.return}}function gb(a,b,c){var d=iS();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},gf(a)?gg(b,c):null!==(c=c6(a,b,c,d))&&(iV(c,a,d),gh(c,b,d))}function gc(a,b,c){gd(a,b,c,iS())}function gd(a,b,c,d){var e={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(gf(a))gg(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&null!==(f=b.lastRenderedReducer))try{var g=b.lastRenderedState,h=f(g,c);if(e.hasEagerState=!0,e.eagerState=h,cy(h,g))return c5(a,b,e,0),null===ii&&c4(),!1}catch(a){}finally{}if(null!==(c=c6(a,b,e,d)))return iV(c,a,d),gh(c,b,d),!0}return!1}function ge(a,b,c,d){if(d={lane:2,revertLane:jE(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},gf(a)){if(b)throw Error(g(479))}else null!==(b=c6(a,c,d,2))&&iV(b,a,2)}function gf(a){var b=a.alternate;return a===e1||null!==b&&b===e1}function gg(a,b){e5=e4=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b),a.pending=b}function gh(a,b,c){if(0!=(4194048&c)){var d=b.lanes;d&=a.pendingLanes,b.lanes=c|=d,aL(a,c)}}var gi={readContext:dZ,use:fo,useCallback:fb,useContext:fb,useEffect:fb,useImperativeHandle:fb,useLayoutEffect:fb,useInsertionEffect:fb,useMemo:fb,useReducer:fb,useRef:fb,useState:fb,useDebugValue:fb,useDeferredValue:fb,useTransition:fb,useSyncExternalStore:fb,useId:fb,useHostTransitionStatus:fb,useFormState:fb,useActionState:fb,useOptimistic:fb,useMemoCache:fb,useCacheRefresh:fb};gi.useEffectEvent=fb;var gj={readContext:dZ,use:fo,useCallback:function(a,b){return fk().memoizedState=[a,void 0===b?null:b],a},useContext:dZ,useEffect:fS,useImperativeHandle:function(a,b,c){c=null!=c?c.concat([a]):null,fQ(4194308,4,fX.bind(null,b,a),c)},useLayoutEffect:function(a,b){return fQ(4194308,4,a,b)},useInsertionEffect:function(a,b){fQ(4,2,a,b)},useMemo:function(a,b){var c=fk();b=void 0===b?null:b;var d=a();return c.memoizedState=[d,b],d},useReducer:function(a,b,c){var d=fk();if(void 0!==c)var e=c(b);else e=b;return d.memoizedState=d.baseState=e,d.queue=a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:e},a=a.dispatch=gb.bind(null,e1,a),[d.memoizedState,a]},useRef:function(a){return fk().memoizedState={current:a}},useState:function(a){var b=(a=fA(a)).queue,c=gc.bind(null,e1,b);return b.dispatch=c,[a.memoizedState,c]},useDebugValue:fZ,useDeferredValue:function(a,b){return f0(fk(),a,b)},useTransition:function(){var a=fA(!1);return a=f2.bind(null,e1,a.queue,!0,!1),fk().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,b,c){var d=e1,e=fk();if(dE){if(void 0===c)throw Error(g(407));c=c()}else{if(c=b(),null===ii)throw Error(g(349));0!=(127&ik)||fv(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};return e.queue=f,fS(fx.bind(null,d,f,a),[a]),d.flags|=2048,fO(9,{destroy:void 0},fw.bind(null,d,f,c,b),null),c},useId:function(){var a=fk(),b=ii.identifierPrefix;if(dE){var c=dw,d=dv;b="_"+b+"R_"+(c=(d&~(1<<32-ay(d)-1)).toString(32)+c),0<(c=e7++)&&(b+="H"+c.toString(32)),b+="_"}else b="_"+b+"r_"+(c=fa++).toString(32)+"_";return a.memoizedState=b},useHostTransitionStatus:f7,useFormState:fJ,useActionState:fJ,useOptimistic:function(a){var b=fk();b.memoizedState=b.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=c,b=ge.bind(null,e1,!0,c),c.dispatch=b,[a,b]},useMemoCache:fp,useCacheRefresh:function(){return fk().memoizedState=ga.bind(null,e1)},useEffectEvent:function(a){var b=fk(),c={impl:a};return b.memoizedState=c,function(){if(0!=(2&ih))throw Error(g(440));return c.impl.apply(void 0,arguments)}}},gk={readContext:dZ,use:fo,useCallback:f$,useContext:dZ,useEffect:fT,useImperativeHandle:fY,useInsertionEffect:fV,useLayoutEffect:fW,useMemo:f_,useReducer:fr,useRef:fP,useState:function(){return fr(fq)},useDebugValue:fZ,useDeferredValue:function(a,b){return f1(fl(),e2.memoizedState,a,b)},useTransition:function(){var a=fr(fq)[0],b=fl().memoizedState;return["boolean"==typeof a?a:fn(a),b]},useSyncExternalStore:fu,useId:f8,useHostTransitionStatus:f7,useFormState:fK,useActionState:fK,useOptimistic:function(a,b){return fB(fl(),e2,a,b)},useMemoCache:fp,useCacheRefresh:f9};gk.useEffectEvent=fU;var gl={readContext:dZ,use:fo,useCallback:f$,useContext:dZ,useEffect:fT,useImperativeHandle:fY,useInsertionEffect:fV,useLayoutEffect:fW,useMemo:f_,useReducer:ft,useRef:fP,useState:function(){return ft(fq)},useDebugValue:fZ,useDeferredValue:function(a,b){var c=fl();return null===e2?f0(c,a,b):f1(c,e2.memoizedState,a,b)},useTransition:function(){var a=ft(fq)[0],b=fl().memoizedState;return["boolean"==typeof a?a:fn(a),b]},useSyncExternalStore:fu,useId:f8,useHostTransitionStatus:f7,useFormState:fN,useActionState:fN,useOptimistic:function(a,b){var c=fl();return null!==e2?fB(c,e2,a,b):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:fp,useCacheRefresh:f9};function gm(a,b,c,d){c=null==(c=c(d,b=a.memoizedState))?b:w({},b,c),a.memoizedState=c,0===a.lanes&&(a.updateQueue.baseState=c)}gl.useEffectEvent=fU;var gn={enqueueSetState:function(a,b,c){a=a._reactInternals;var d=iS(),e=eD(d);e.payload=b,null!=c&&(e.callback=c),null!==(b=eE(a,e,d))&&(iV(b,a,d),eF(b,a,d))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=iS(),e=eD(d);e.tag=1,e.payload=b,null!=c&&(e.callback=c),null!==(b=eE(a,e,d))&&(iV(b,a,d),eF(b,a,d))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=iS(),d=eD(c);d.tag=2,null!=b&&(d.callback=b),null!==(b=eE(a,d,c))&&(iV(b,a,c),eF(b,a,c))}};function go(a,b,c,d,e,f,g){return"function"==typeof(a=a.stateNode).shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):!b.prototype||!b.prototype.isPureReactComponent||!cz(c,d)||!cz(e,f)}function gp(a,b,c,d){a=b.state,"function"==typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d),"function"==typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d),b.state!==a&&gn.enqueueReplaceState(b,b.state,null)}function gq(a,b){var c=b;if("ref"in b)for(var d in c={},b)"ref"!==d&&(c[d]=b[d]);if(a=a.defaultProps)for(var e in c===b&&(c=w({},c)),a)void 0===c[e]&&(c[e]=a[e]);return c}function gr(a){c0(a)}function gs(a){console.error(a)}function gt(a){c0(a)}function gu(a,b){try{(0,a.onUncaughtError)(b.value,{componentStack:b.stack})}catch(a){setTimeout(function(){throw a})}}function gv(a,b,c){try{(0,a.onCaughtError)(c.value,{componentStack:c.stack,errorBoundary:1===b.tag?b.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function gw(a,b,c){return(c=eD(c)).tag=3,c.payload={element:null},c.callback=function(){gu(a,b)},c}function gx(a){return(a=eD(a)).tag=3,a}function gy(a,b,c,d){var e=c.type.getDerivedStateFromError;if("function"==typeof e){var f=d.value;a.payload=function(){return e(f)},a.callback=function(){gv(b,c,d)}}var g=c.stateNode;null!==g&&"function"==typeof g.componentDidCatch&&(a.callback=function(){gv(b,c,d),"function"!=typeof e&&(null===iF?iF=new Set([this]):iF.add(this));var a=d.stack;this.componentDidCatch(d.value,{componentStack:null!==a?a:""})})}var gz=Error(g(461)),gA=!1;function gB(a,b,c,d){b.child=null===a?ez(b,null,c,d):ey(b,a.child,c,d)}function gC(a,b,c,d,e){c=c.render;var f=b.ref;if("ref"in d){var g={};for(var h in d)"ref"!==h&&(g[h]=d[h])}else g=d;return(dY(b),d=fd(a,b,c,g,f,e),h=fh(),null===a||gA)?(dE&&h&&dz(b),b.flags|=1,gB(a,b,d,e),b.child):(fi(a,b,e),g_(a,b,e))}function gD(a,b,c,d,e){if(null===a){var f=c.type;return"function"!=typeof f||dd(f)||void 0!==f.defaultProps||null!==c.compare?((a=dg(c.type,null,d,b,b.mode,e)).ref=b.ref,a.return=b,b.child=a):(b.tag=15,b.type=f,gE(a,b,f,d,e))}if(f=a.child,!g0(a,e)){var g=f.memoizedProps;if((c=null!==(c=c.compare)?c:cz)(g,d)&&a.ref===b.ref)return g_(a,b,e)}return b.flags|=1,(a=de(f,d)).ref=b.ref,a.return=b,b.child=a}function gE(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(cz(f,d)&&a.ref===b.ref)if(gA=!1,b.pendingProps=d=f,!g0(a,e))return b.lanes=a.lanes,g_(a,b,e);else 0!=(131072&a.flags)&&(gA=!0)}return gL(a,b,c,d,e)}function gF(a,b,c,d){var e=d.children,f=null!==a?a.memoizedState:null;if(null===a&&null===b.stateNode&&(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===d.mode){if(0!=(128&b.flags)){if(f=null!==f?f.baseLanes|c:c,null!==a){for(e=0,d=b.child=a.child;null!==d;)e=e|d.lanes|d.childLanes,d=d.sibling;d=e&~f}else d=0,b.child=null;return gH(a,b,f,c,d)}if(0==(0x20000000&c))return d=b.lanes=0x20000000,gH(a,b,null!==f?f.baseLanes|c:c,c,d);b.memoizedState={baseLanes:0,cachePool:null},null!==a&&eg(b,null!==f?f.cachePool:null),null!==f?eO(b,f):eP(),eV(b)}else null!==f?(eg(b,f.cachePool),eO(b,f),eW(),b.memoizedState=null):(null!==a&&eg(b,null),eP(),eW());return gB(a,b,e,c),b.child}function gG(a,b){return null!==a&&22===a.tag||null!==b.stateNode||(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.sibling}function gH(a,b,c,d,e){var f=ef();return b.memoizedState={baseLanes:c,cachePool:f=null===f?null:{parent:d3._currentValue,pool:f}},null!==a&&eg(b,null),eP(),eV(b),null!==a&&dW(a,b,d,!0),b.childLanes=e,null}function gI(a,b){return(b=gU({mode:b.mode,children:b.children},a.mode)).ref=a.ref,a.child=b,b.return=a,b}function gJ(a,b,c){return ey(b,a.child,null,c),a=gI(b,b.pendingProps),a.flags|=2,eX(b),b.memoizedState=null,a}function gK(a,b){var c=b.ref;if(null===c)null!==a&&null!==a.ref&&(b.flags|=4194816);else{if("function"!=typeof c&&"object"!=typeof c)throw Error(g(284));(null===a||a.ref!==c)&&(b.flags|=4194816)}}function gL(a,b,c,d,e){return(dY(b),c=fd(a,b,c,d,void 0,e),d=fh(),null===a||gA)?(dE&&d&&dz(b),b.flags|=1,gB(a,b,c,e),b.child):(fi(a,b,e),g_(a,b,e))}function gM(a,b,c,d,e,f){return(dY(b),b.updateQueue=null,c=ff(b,d,c,e),fe(a),d=fh(),null===a||gA)?(dE&&d&&dz(b),b.flags|=1,gB(a,b,c,f),b.child):(fi(a,b,f),g_(a,b,f))}function gN(a,b,c,d,e){if(dY(b),null===b.stateNode){var f=da,g=c.contextType;"object"==typeof g&&null!==g&&(f=dZ(g)),b.memoizedState=null!==(f=new c(d,f)).state&&void 0!==f.state?f.state:null,f.updater=gn,b.stateNode=f,f._reactInternals=b,(f=b.stateNode).props=d,f.state=b.memoizedState,f.refs={},eB(b),g=c.contextType,f.context="object"==typeof g&&null!==g?dZ(g):da,f.state=b.memoizedState,"function"==typeof(g=c.getDerivedStateFromProps)&&(gm(b,c,g,d),f.state=b.memoizedState),"function"==typeof c.getDerivedStateFromProps||"function"==typeof f.getSnapshotBeforeUpdate||"function"!=typeof f.UNSAFE_componentWillMount&&"function"!=typeof f.componentWillMount||(g=f.state,"function"==typeof f.componentWillMount&&f.componentWillMount(),"function"==typeof f.UNSAFE_componentWillMount&&f.UNSAFE_componentWillMount(),g!==f.state&&gn.enqueueReplaceState(f,f.state,null),eJ(b,d,f,e),eI(),f.state=b.memoizedState),"function"==typeof f.componentDidMount&&(b.flags|=4194308),d=!0}else if(null===a){f=b.stateNode;var h=b.memoizedProps,i=gq(c,h);f.props=i;var j=f.context,k=c.contextType;g=da,"object"==typeof k&&null!==k&&(g=dZ(k));var l=c.getDerivedStateFromProps;k="function"==typeof l||"function"==typeof f.getSnapshotBeforeUpdate,h=b.pendingProps!==h,k||"function"!=typeof f.UNSAFE_componentWillReceiveProps&&"function"!=typeof f.componentWillReceiveProps||(h||j!==g)&&gp(b,f,d,g),eA=!1;var m=b.memoizedState;f.state=m,eJ(b,d,f,e),eI(),j=b.memoizedState,h||m!==j||eA?("function"==typeof l&&(gm(b,c,l,d),j=b.memoizedState),(i=eA||go(b,c,i,d,m,j,g))?(k||"function"!=typeof f.UNSAFE_componentWillMount&&"function"!=typeof f.componentWillMount||("function"==typeof f.componentWillMount&&f.componentWillMount(),"function"==typeof f.UNSAFE_componentWillMount&&f.UNSAFE_componentWillMount()),"function"==typeof f.componentDidMount&&(b.flags|=4194308)):("function"==typeof f.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=j),f.props=d,f.state=j,f.context=g,d=i):("function"==typeof f.componentDidMount&&(b.flags|=4194308),d=!1)}else{f=b.stateNode,eC(a,b),k=gq(c,g=b.memoizedProps),f.props=k,l=b.pendingProps,m=f.context,j=c.contextType,i=da,"object"==typeof j&&null!==j&&(i=dZ(j)),(j="function"==typeof(h=c.getDerivedStateFromProps)||"function"==typeof f.getSnapshotBeforeUpdate)||"function"!=typeof f.UNSAFE_componentWillReceiveProps&&"function"!=typeof f.componentWillReceiveProps||(g!==l||m!==i)&&gp(b,f,d,i),eA=!1,m=b.memoizedState,f.state=m,eJ(b,d,f,e),eI();var n=b.memoizedState;g!==l||m!==n||eA||null!==a&&null!==a.dependencies&&dX(a.dependencies)?("function"==typeof h&&(gm(b,c,h,d),n=b.memoizedState),(k=eA||go(b,c,k,d,m,n,i)||null!==a&&null!==a.dependencies&&dX(a.dependencies))?(j||"function"!=typeof f.UNSAFE_componentWillUpdate&&"function"!=typeof f.componentWillUpdate||("function"==typeof f.componentWillUpdate&&f.componentWillUpdate(d,n,i),"function"==typeof f.UNSAFE_componentWillUpdate&&f.UNSAFE_componentWillUpdate(d,n,i)),"function"==typeof f.componentDidUpdate&&(b.flags|=4),"function"==typeof f.getSnapshotBeforeUpdate&&(b.flags|=1024)):("function"!=typeof f.componentDidUpdate||g===a.memoizedProps&&m===a.memoizedState||(b.flags|=4),"function"!=typeof f.getSnapshotBeforeUpdate||g===a.memoizedProps&&m===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),f.props=d,f.state=n,f.context=i,d=k):("function"!=typeof f.componentDidUpdate||g===a.memoizedProps&&m===a.memoizedState||(b.flags|=4),"function"!=typeof f.getSnapshotBeforeUpdate||g===a.memoizedProps&&m===a.memoizedState||(b.flags|=1024),d=!1)}return f=d,gK(a,b),d=0!=(128&b.flags),f||d?(f=b.stateNode,c=d&&"function"!=typeof c.getDerivedStateFromError?null:f.render(),b.flags|=1,null!==a&&d?(b.child=ey(b,a.child,null,e),b.child=ey(b,null,c,e)):gB(a,b,c,e),b.memoizedState=f.state,a=b.child):a=g_(a,b,e),a}function gO(a,b,c,d){return dM(),b.flags|=256,gB(a,b,c,d),b.child}var gP={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gQ(a){return{baseLanes:a,cachePool:eh()}}function gR(a,b,c){return a=null!==a?a.childLanes&~c:0,b&&(a|=iw),a}function gS(a,b,c){var d,e=b.pendingProps,f=!1,h=0!=(128&b.flags);if((d=h)||(d=(null===a||null!==a.memoizedState)&&0!=(2&eY.current)),d&&(f=!0,b.flags&=-129),d=0!=(32&b.flags),b.flags&=-33,null===a){if(dE){if(f?eT(b):eW(),(a=dD)?null!==(a=null!==(a=kC(a,dG))&&"&"!==a.data?a:null)&&(b.memoizedState={dehydrated:a,treeContext:null!==du?{id:dv,overflow:dw}:null,retryLane:0x20000000,hydrationErrors:null},(c=dj(a)).return=b,b.child=c,dC=b,dD=null):a=null,null===a)throw dI(b);return kE(a)?b.lanes=32:b.lanes=0x20000000,null}var i=e.children;return(e=e.fallback,f)?(eW(),i=gU({mode:"hidden",children:i},f=b.mode),e=dh(e,f,c,null),i.return=b,e.return=b,i.sibling=e,b.child=i,(e=b.child).memoizedState=gQ(c),e.childLanes=gR(a,d,c),b.memoizedState=gP,gG(null,e)):(eT(b),gT(b,i))}var j=a.memoizedState;if(null!==j&&null!==(i=j.dehydrated)){if(h)256&b.flags?(eT(b),b.flags&=-257,b=gV(a,b,c)):null!==b.memoizedState?(eW(),b.child=a.child,b.flags|=128,b=null):(eW(),i=e.fallback,f=b.mode,e=gU({mode:"visible",children:e.children},f),i=dh(i,f,c,null),i.flags|=2,e.return=b,i.return=b,e.sibling=i,b.child=e,ey(b,a.child,null,c),(e=b.child).memoizedState=gQ(c),e.childLanes=gR(a,d,c),b.memoizedState=gP,b=gG(null,e));else if(eT(b),kE(i)){if(d=i.nextSibling&&i.nextSibling.dataset)var k=d.dgst;d=k,(e=Error(g(419))).stack="",e.digest=d,dO({value:e,source:null,stack:null}),b=gV(a,b,c)}else if(gA||dW(a,b,c,!1),d=0!=(c&a.childLanes),gA||d){if(null!==(d=ii)&&0!==(e=aM(d,c))&&e!==j.retryLane)throw j.retryLane=e,c7(a,e),iV(d,a,e),gz;kD(i)||i4(),b=gV(a,b,c)}else kD(i)?(b.flags|=192,b.child=a.child,b=null):(a=j.treeContext,dD=kF(i.nextSibling),dC=b,dE=!0,dF=null,dG=!1,null!==a&&dB(b,a),b=gT(b,e.children),b.flags|=4096);return b}return f?(eW(),i=e.fallback,f=b.mode,k=(j=a.child).sibling,(e=de(j,{mode:"hidden",children:e.children})).subtreeFlags=0x7e00000&j.subtreeFlags,null!==k?i=de(k,i):(i=dh(i,f,c,null),i.flags|=2),i.return=b,e.return=b,e.sibling=i,b.child=e,gG(null,e),e=b.child,null===(i=a.child.memoizedState)?i=gQ(c):(null!==(f=i.cachePool)?(j=d3._currentValue,f=f.parent!==j?{parent:j,pool:j}:f):f=eh(),i={baseLanes:i.baseLanes|c,cachePool:f}),e.memoizedState=i,e.childLanes=gR(a,d,c),b.memoizedState=gP,gG(a.child,e)):(eT(b),a=(c=a.child).sibling,(c=de(c,{mode:"visible",children:e.children})).return=b,c.sibling=null,null!==a&&(null===(d=b.deletions)?(b.deletions=[a],b.flags|=16):d.push(a)),b.child=c,b.memoizedState=null,c)}function gT(a,b){return(b=gU({mode:"visible",children:b},a.mode)).return=a,a.child=b}function gU(a,b){return(a=dc(22,a,null,b)).lanes=0,a}function gV(a,b,c){return ey(b,a.child,null,c),a=gT(b,b.pendingProps.children),a.flags|=2,b.memoizedState=null,a}function gW(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b),dU(a.return,b,c)}function gX(a){for(var b=null;null!==a;){var c=a.alternate;null!==c&&null===e_(c)&&(b=a),a=a.sibling}return b}function gY(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,treeForkCount:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.treeForkCount=f)}function gZ(a){var b=a.child;for(a.child=null;null!==b;){var c=b.sibling;b.sibling=a.child,a.child=b,b=c}}function g$(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;d=d.children;var g=eY.current;if(128&b.flags)return eZ(b,g),null;var h=0!=(2&g);if(h?(g=1&g|2,b.flags|=128):g&=1,eZ(b,g),"backwards"===e&&null!==a?(gZ(a),gB(a,b,d,c),gZ(a)):gB(a,b,d,c),d=dE?dr:0,!h&&null!==a&&0!=(128&a.flags))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&gW(a,c,b);else if(19===a.tag)gW(a,c,b);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===b)break;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(e){case"backwards":null===(c=gX(b.child))?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null,gZ(b)),gY(b,!0,e,null,f,d);break;case"unstable_legacy-backwards":for(c=null,e=b.child,b.child=null;null!==e;){if(null!==(a=e.alternate)&&null===e_(a)){b.child=e;break}a=e.sibling,e.sibling=c,c=e,e=a}gY(b,!0,c,null,f,d);break;case"together":gY(b,!1,null,null,void 0,d);break;case"independent":b.memoizedState=null;break;default:null===(c=gX(b.child))?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null),gY(b,!1,e,c,f,d)}return b.child}function g_(a,b,c){if(null!==a&&(b.dependencies=a.dependencies),it|=b.lanes,0==(c&b.childLanes)){if(null===a)return null;else if(dW(a,b,c,!1),0==(c&b.childLanes))return null}if(null!==a&&b.child!==a.child)throw Error(g(153));if(null!==b.child){for(c=de(a=b.child,a.pendingProps),b.child=c,c.return=b;null!==a.sibling;)a=a.sibling,(c=c.sibling=de(a,a.pendingProps)).return=b;c.sibling=null}return b.child}function g0(a,b){return 0!=(a.lanes&b)||!!(null!==(a=a.dependencies)&&dX(a))}function g1(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps)gA=!0;else{if(!g0(a,c)&&0==(128&b.flags))return gA=!1,function(a,b,c){switch(b.tag){case 3:ac(b,b.stateNode.containerInfo),dS(b,d3,a.memoizedState.cache),dM();break;case 27:case 5:ae(b);break;case 4:ac(b,b.stateNode.containerInfo);break;case 10:dS(b,b.type,b.memoizedProps.value);break;case 31:if(null!==b.memoizedState)return b.flags|=128,eU(b),null;break;case 13:var d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return eT(b),b.flags|=128,null;if(0!=(c&b.child.childLanes))return gS(a,b,c);return eT(b),null!==(a=g_(a,b,c))?a.sibling:null}eT(b);break;case 19:if(128&b.flags)return g$(a,b,c);var e=0!=(128&a.flags);if((d=0!=(c&b.childLanes))||(dW(a,b,c,!1),d=0!=(c&b.childLanes)),e){if(d)return g$(a,b,c);b.flags|=128}if(null!==(e=b.memoizedState)&&(e.rendering=null,e.tail=null,e.lastEffect=null),eZ(b,eY.current),!d)return null;break;case 22:return b.lanes=0,gF(a,b,c,b.pendingProps);case 24:dS(b,d3,a.memoizedState.cache)}return g_(a,b,c)}(a,b,c);gA=0!=(131072&a.flags)}else gA=!1,dE&&0!=(1048576&b.flags)&&dy(b,dr,b.index);switch(b.lanes=0,b.tag){case 16:a:{var d=b.pendingProps;if(a=eo(b.elementType),b.type=a,"function"==typeof a)dd(a)?(d=gq(a,d),b.tag=1,b=gN(null,b,a,d,c)):(b.tag=0,b=gL(null,b,a,d,c));else{if(null!=a){var e=a.$$typeof;if(e===F){b.tag=11,b=gC(null,b,a,d,c);break a}if(e===I){b.tag=14,b=gD(null,b,a,d,c);break a}}throw Error(g(306,b=function a(b){if(null==b)return null;if("function"==typeof b)return b.$$typeof===Q?null:b.displayName||b.name||null;if("string"==typeof b)return b;switch(b){case A:return"Fragment";case C:return"Profiler";case B:return"StrictMode";case G:return"Suspense";case H:return"SuspenseList";case K:return"Activity";case N:return"ViewTransition"}if("object"==typeof b)switch(b.$$typeof){case z:return"Portal";case E:return b.displayName||"Context";case D:return(b._context.displayName||"Context")+".Consumer";case F:var c=b.render;return(b=b.displayName)||(b=""!==(b=c.displayName||c.name||"")?"ForwardRef("+b+")":"ForwardRef"),b;case I:return null!==(c=b.displayName||null)?c:a(b.type)||"Memo";case J:c=b._payload,b=b._init;try{return a(b(c))}catch(a){}}return null}(a)||a,""))}}return b;case 0:return gL(a,b,b.type,b.pendingProps,c);case 1:return e=gq(d=b.type,b.pendingProps),gN(a,b,d,e,c);case 3:a:{if(ac(b,b.stateNode.containerInfo),null===a)throw Error(g(387));d=b.pendingProps;var f=b.memoizedState;e=f.element,eC(a,b),eJ(b,d,null,c);var h=b.memoizedState;if(dS(b,d3,d=h.cache),d!==f.cache&&dV(b,[d3],c,!0),eI(),d=h.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:h.cache},b.updateQueue.baseState=f,b.memoizedState=f,256&b.flags){b=gO(a,b,d,c);break a}else if(d!==e){dO(e=dm(Error(g(424)),b)),b=gO(a,b,d,c);break a}else for(dD=kF((a=9===(a=b.stateNode.containerInfo).nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).firstChild),dC=b,dE=!0,dF=null,dG=!0,c=ez(b,null,d,c),b.child=c;c;)c.flags=-3&c.flags|4096,c=c.sibling;else{if(dM(),d===e){b=g_(a,b,c);break a}gB(a,b,d,c)}b=b.child}return b;case 26:return gK(a,b),null===a?(c=kR(b.type,null,b.pendingProps,null))?b.memoizedState=c:dE||(c=b.type,a=b.pendingProps,(d=j4(aa.current).createElement(c))[aS]=b,d[aT]=a,j0(d,c,a),a3(d),b.stateNode=d):b.memoizedState=kR(b.type,a.memoizedProps,b.pendingProps,a.memoizedState),null;case 27:return ae(b),null===a&&dE&&(d=b.stateNode=kJ(b.type,b.pendingProps,aa.current),dC=b,dG=!0,e=dD,ke(b.type)?(kG=e,dD=kF(d.firstChild)):dD=e),gB(a,b,b.pendingProps.children,c),gK(a,b),null===a&&(b.flags|=4194304),b.child;case 5:return null===a&&dE&&((e=d=dD)&&(null!==(d=function(a,b,c,d){for(;1===a.nodeType;){if(a.nodeName.toLowerCase()!==b.toLowerCase()){if(!d&&("INPUT"!==a.nodeName||"hidden"!==a.type))break}else if(d){if(!a[aZ])switch(b){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if("stylesheet"===(e=a.getAttribute("rel"))&&a.hasAttribute("data-precedence")||e!==c.rel||a.getAttribute("href")!==(null==c.href||""===c.href?null:c.href)||a.getAttribute("crossorigin")!==(null==c.crossOrigin?null:c.crossOrigin)||a.getAttribute("title")!==(null==c.title?null:c.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(((e=a.getAttribute("src"))!==(null==c.src?null:c.src)||a.getAttribute("type")!==(null==c.type?null:c.type)||a.getAttribute("crossorigin")!==(null==c.crossOrigin?null:c.crossOrigin))&&e&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else{if("input"!==b||"hidden"!==a.type)return a;var e=null==c.name?null:""+c.name;if("hidden"===c.type&&a.getAttribute("name")===e)return a}if(null===(a=kF(a.nextSibling)))break}return null}(d,b.type,b.pendingProps,dG))?(b.stateNode=d,dC=b,dD=kF(d.firstChild),dG=!1,e=!0):e=!1),e||dI(b)),ae(b),e=b.type,f=b.pendingProps,h=null!==a?a.memoizedProps:null,d=f.children,j7(e,f)?d=null:null!==h&&j7(e,h)&&(b.flags|=32),null!==b.memoizedState&&(ld._currentValue=e=fd(a,b,fg,null,null,c)),gK(a,b),gB(a,b,d,c),b.child;case 6:return null===a&&dE&&((a=c=dD)&&(null!==(c=function(a,b,c){if(""===b)return null;for(;3!==a.nodeType;)if((1!==a.nodeType||"INPUT"!==a.nodeName||"hidden"!==a.type)&&!c||null===(a=kF(a.nextSibling)))return null;return a}(c,b.pendingProps,dG))?(b.stateNode=c,dC=b,dD=null,a=!0):a=!1),a||dI(b)),null;case 13:return gS(a,b,c);case 4:return ac(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=ey(b,null,d,c):gB(a,b,d,c),b.child;case 11:return gC(a,b,b.type,b.pendingProps,c);case 7:return d=b.pendingProps,gK(a,b),gB(a,b,d,c),b.child;case 8:case 12:return gB(a,b,b.pendingProps.children,c),b.child;case 10:return d=b.pendingProps,dS(b,b.type,d.value),gB(a,b,d.children,c),b.child;case 9:return e=b.type._context,d=b.pendingProps.children,dY(b),d=d(e=dZ(e)),b.flags|=1,gB(a,b,d,c),b.child;case 14:return gD(a,b,b.type,b.pendingProps,c);case 15:return gE(a,b,b.type,b.pendingProps,c);case 19:return g$(a,b,c);case 31:var i=a,j=b,k=c,l=j.pendingProps,m=0!=(128&j.flags);if(j.flags&=-129,null===i){if(dE){if("hidden"===l.mode)return i=gI(j,l),j.lanes=0x20000000,gG(null,i);if(eU(j),(i=dD)?null!==(i=null!==(i=kC(i,dG))&&"&"===i.data?i:null)&&(j.memoizedState={dehydrated:i,treeContext:null!==du?{id:dv,overflow:dw}:null,retryLane:0x20000000,hydrationErrors:null},(k=dj(i)).return=j,j.child=k,dC=j,dD=null):i=null,null===i)throw dI(j);return j.lanes=0x20000000,null}return gI(j,l)}var n=i.memoizedState;if(null!==n){var o=n.dehydrated;if(eU(j),m)if(256&j.flags)j.flags&=-257,j=gJ(i,j,k);else if(null!==j.memoizedState)j.child=i.child,j.flags|=128,j=null;else throw Error(g(558));else if(gA||dW(i,j,k,!1),m=0!=(k&i.childLanes),gA||m){if(null!==(l=ii)&&0!==(o=aM(l,k))&&o!==n.retryLane)throw n.retryLane=o,c7(i,o),iV(l,i,o),gz;i4(),j=gJ(i,j,k)}else i=n.treeContext,dD=kF(o.nextSibling),dC=j,dE=!0,dF=null,dG=!1,null!==i&&dB(j,i),j=gI(j,l),j.flags|=4096;return j}return(i=de(i.child,{mode:l.mode,children:l.children})).ref=j.ref,j.child=i,i.return=j,i;case 22:return gF(a,b,c,b.pendingProps);case 24:return dY(b),d=dZ(d3),null===a?(null===(e=ef())&&(e=ii,f=d4(),e.pooledCache=f,f.refCount++,null!==f&&(e.pooledCacheLanes|=c),e=f),b.memoizedState={parent:d,cache:e},eB(b),dS(b,d3,e)):(0!=(a.lanes&c)&&(eC(a,b),eJ(b,null,null,c),eI()),e=a.memoizedState,f=b.memoizedState,e.parent!==d?(e={parent:d,cache:d},b.memoizedState=e,0===b.lanes&&(b.memoizedState=b.updateQueue.baseState=e),dS(b,d3,d)):(dS(b,d3,d=f.cache),d!==e.cache&&dV(b,[d3],c,!0))),gB(a,b,b.pendingProps.children,c),b.child;case 30:return null!=(d=b.pendingProps).name&&"auto"!==d.name?b.flags|=null===a?0x1202000:0x1200000:dE&&dz(b),null!==a&&a.memoizedProps.name!==d.name?b.flags|=4194816:gK(a,b),gB(a,b,d.children,c),b.child;case 29:throw b.pendingProps}throw Error(g(156,b.tag))}function g2(a){a.flags|=4}function g3(a,b,c,d,e){var f;if((f=0!=(32&a.mode))&&(f=null===c?k2(b,d):k2(b,d)&&(d.src!==c.src||d.srcSet!==c.srcSet)),f){if(a.flags|=0x1000000,(0x13ffff40&e)===e)if(a.stateNode.complete)a.flags|=8192;else if(i1())a.flags|=8192;else throw ep=el,ej}else a.flags&=-0x1000001}function g4(a,b){if("stylesheet"!==b.type||0!=(4&b.state.loading))a.flags&=-0x1000001;else if(a.flags|=0x1000000,!k3(b))if(i1())a.flags|=8192;else throw ep=el,ej}function g5(a,b){null!==b&&(a.flags|=4),16384&a.flags&&(b=22!==a.tag?aH():0x20000000,a.lanes|=b,ix|=b)}function g6(a,b){if(!dE)switch(a.tailMode){case"visible":break;case"collapsed":for(var c=a.tail,d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null;break;default:for(c=null,b=a.tail;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null}}function g7(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=0x7e00000&e.subtreeFlags,d|=0x7e00000&e.flags,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;return a.subtreeFlags|=d,a.childLanes=c,b}function g8(a,b){switch(dA(b),b.tag){case 3:dT(d3),ad();break;case 26:case 27:case 5:af(b);break;case 4:ad();break;case 31:null!==b.memoizedState&&eX(b);break;case 13:eX(b);break;case 19:e$(b);break;case 10:dT(b.type);break;case 22:case 23:eX(b),eQ(),null!==a&&Y(ee);break;case 24:dT(d3)}}function g9(a,b){try{var c=b.updateQueue,d=null!==c?c.lastEffect:null;if(null!==d){var e=d.next;c=e;do{if((c.tag&a)===a){d=void 0;var f=c.create;c.inst.destroy=d=f()}c=c.next}while(c!==e)}}catch(a){jl(b,b.return,a)}}function ha(a,b,c){try{var d=b.updateQueue,e=null!==d?d.lastEffect:null;if(null!==e){var f=e.next;d=f;do{if((d.tag&a)===a){var g=d.inst,h=g.destroy;if(void 0!==h){g.destroy=void 0,e=b;try{h()}catch(a){jl(e,c,a)}}}d=d.next}while(d!==f)}}catch(a){jl(b,b.return,a)}}function hb(a){var b=a.updateQueue;if(null!==b){var c=a.stateNode;try{eL(b,c)}catch(b){jl(a,a.return,b)}}}function hc(a,b,c){c.props=gq(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(c){jl(a,b,c)}}function hd(a,b){try{var c=a.ref;if(null!==c){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:var e=a.stateNode,f=cZ(a.memoizedProps,e);(null===e.ref||e.ref.name!==f)&&(e.ref=ko(f)),d=e.ref;break;case 7:null===a.stateNode&&(a.stateNode=new kp(a)),d=a.stateNode;break;default:d=a.stateNode}"function"==typeof c?a.refCleanup=c(d):c.current=d}}catch(c){jl(a,b,c)}}function he(a,b){var c=a.ref,d=a.refCleanup;if(null!==c)if("function"==typeof d)try{d()}catch(c){jl(a,b,c)}finally{a.refCleanup=null,null!=(a=a.alternate)&&(a.refCleanup=null)}else if("function"==typeof c)try{c(null)}catch(c){jl(a,b,c)}else c.current=null}function hf(a){var b=a.type,c=a.memoizedProps,d=a.stateNode;try{switch(b){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(b){jl(a,a.return,b)}}function hg(a,b,c){try{var d=a.stateNode;(function(a,b,c,d){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var e=null,f=null,h=null,i=null,j=null,k=null,l=null;for(o in c){var m=c[o];if(c.hasOwnProperty(o)&&null!=m)switch(o){case"checked":case"value":break;case"defaultValue":j=m;default:d.hasOwnProperty(o)||j$(a,b,o,null,d,m)}}for(var n in d){var o=d[n];if(m=c[n],d.hasOwnProperty(n)&&(null!=o||null!=m))switch(n){case"type":o!==m&&(bb=!0),f=o;break;case"name":o!==m&&(bb=!0),e=o;break;case"checked":o!==m&&(bb=!0),k=o;break;case"defaultChecked":o!==m&&(bb=!0),l=o;break;case"value":o!==m&&(bb=!0),h=o;break;case"defaultValue":o!==m&&(bb=!0),i=o;break;case"children":case"dangerouslySetInnerHTML":if(null!=o)throw Error(g(137,b));break;default:o!==m&&j$(a,b,n,o,d,m)}}bn(a,h,i,j,k,l,f,e);return;case"select":for(f in o=h=i=n=null,c)if(j=c[f],c.hasOwnProperty(f)&&null!=j)switch(f){case"value":break;case"multiple":o=j;default:d.hasOwnProperty(f)||j$(a,b,f,null,d,j)}for(e in d)if(f=d[e],j=c[e],d.hasOwnProperty(e)&&(null!=f||null!=j))switch(e){case"value":f!==j&&(bb=!0),n=f;break;case"defaultValue":f!==j&&(bb=!0),i=f;break;case"multiple":f!==j&&(bb=!0),h=f;default:f!==j&&j$(a,b,e,f,d,j)}b=i,c=h,d=o,null!=n?bq(a,!!c,n,!1):!!d!=!!c&&(null!=b?bq(a,!!c,b,!0):bq(a,!!c,c?[]:"",!1));return;case"textarea":for(i in o=n=null,c)if(e=c[i],c.hasOwnProperty(i)&&null!=e&&!d.hasOwnProperty(i))switch(i){case"value":case"children":break;default:j$(a,b,i,null,d,e)}for(h in d)if(e=d[h],f=c[h],d.hasOwnProperty(h)&&(null!=e||null!=f))switch(h){case"value":e!==f&&(bb=!0),n=e;break;case"defaultValue":e!==f&&(bb=!0),o=e;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=e)throw Error(g(91));break;default:e!==f&&j$(a,b,h,e,d,f)}br(a,n,o);return;case"option":for(var p in c)n=c[p],c.hasOwnProperty(p)&&null!=n&&!d.hasOwnProperty(p)&&("selected"===p?a.selected=!1:j$(a,b,p,null,d,n));for(j in d)n=d[j],o=c[j],d.hasOwnProperty(j)&&n!==o&&(null!=n||null!=o)&&("selected"===j?(n!==o&&(bb=!0),a.selected=n&&"function"!=typeof n&&"symbol"!=typeof n):j$(a,b,j,n,d,o));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var q in c)n=c[q],c.hasOwnProperty(q)&&null!=n&&!d.hasOwnProperty(q)&&j$(a,b,q,null,d,n);for(k in d)if(n=d[k],o=c[k],d.hasOwnProperty(k)&&n!==o&&(null!=n||null!=o))switch(k){case"children":case"dangerouslySetInnerHTML":if(null!=n)throw Error(g(137,b));break;default:j$(a,b,k,n,d,o)}return;default:if(bx(b)){for(var r in c)n=c[r],c.hasOwnProperty(r)&&void 0!==n&&!d.hasOwnProperty(r)&&j_(a,b,r,void 0,d,n);for(l in d)n=d[l],o=c[l],d.hasOwnProperty(l)&&n!==o&&(void 0!==n||void 0!==o)&&j_(a,b,l,n,d,o);return}}for(var s in c)n=c[s],c.hasOwnProperty(s)&&null!=n&&!d.hasOwnProperty(s)&&j$(a,b,s,null,d,n);for(m in d)n=d[m],o=c[m],d.hasOwnProperty(m)&&n!==o&&(null!=n||null!=o)&&j$(a,b,m,n,d,o)})(d,a.type,c,b),d[aT]=b}catch(b){jl(a,a.return,b)}}function hh(a,b){if(5===a.tag&&null===a.alternate&&null!==b)for(var c=0;c<b.length;c++)kA(a.stateNode,b[c])}function hi(a){for(var b=a.return;null!==b;){if(hk(b)){var c=a.stateNode,d=b.stateNode._eventListeners;if(null!==d)for(var e=0;e<d.length;e++){var f=d[e];c.removeEventListener(f.type,f.listener,f.optionsOrUseCapture)}}if(hj(b))break;b=b.return}}function hj(a){return 5===a.tag||3===a.tag||26===a.tag||27===a.tag&&ke(a.type)||4===a.tag}function hk(a){return a&&7===a.tag&&null!==a.stateNode}function hl(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||hj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(27===a.tag&&ke(a.type)||2&a.flags||null===a.child||4===a.tag)continue a;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function hm(a,b,c,d){var e=a.tag;if(5===e||6===e)e=a.stateNode,b?c.insertBefore(e,b):c.appendChild(e),hh(a,d),bb=!0;else if(4!==e&&(27===e&&ke(a.type)&&(c=a.stateNode),null!==(a=a.child)))for(hm(a,b,c,d),a=a.sibling;null!==a;)hm(a,b,c,d),a=a.sibling}function hn(a){var b=a.stateNode,c=a.memoizedProps;try{for(var d=a.type,e=b.attributes;e.length;)b.removeAttributeNode(e[0]);j0(b,d,c),b[aS]=a,b[aT]=c}catch(b){jl(a,a.return,b)}}var ho=!1,hp=null;function hq(a){(30===a.tag||0!=(0x2000000&a.subtreeFlags))&&(ho=!0)}var hr=null;function hs(){var a=hr;return hr=null,a}var ht=0;function hu(a,b,c,d,e){return ht=0,function a(b,c,d,e,f){for(var g=!1;null!==b;){if(5===b.tag){var h=b.stateNode;if(null!==e){var i=kk(h);e.push(i),i.view&&(g=!0)}else g||kk(h).view&&(g=!0);ho=!0,kh(h,0===ht?c:c+"_"+ht,d),ht++}else(22!==b.tag||null===b.memoizedState)&&(30===b.tag&&f||a(b.child,c,d,e,f)&&(g=!0));b=b.sibling}return g}(a.child,b,c,d,e)}function hv(a,b){for(;null!==a;)5===a.tag?ki(a.stateNode,a.memoizedProps):(22!==a.tag||null===a.memoizedState)&&(30===a.tag&&b||hv(a.child,b)),a=a.sibling}function hw(a){if(0!=(0x1200000&a.subtreeFlags))for(a=a.child;null!==a;){if((22!==a.tag||null===a.memoizedState)&&(hw(a),30===a.tag&&0!=(0x1200000&a.flags)&&a.stateNode.paired)){var b=a.memoizedProps;if(null==b.name||"auto"===b.name)throw Error(g(544));var c=b.name;"none"!==(b=c_(b.default,b.share))&&(hu(a,c,b,null,!1)||hv(a.child,!1))}a=a.sibling}}function hx(a,b){if(30===a.tag){var c=a.stateNode,d=a.memoizedProps,e=cZ(d,c),f=c_(d.default,c.paired?d.share:d.enter);"none"!==f?hu(a,e,f,null,!1)?(hw(a),c.paired||b||iU(a,d.onEnter)):hv(a.child,!1):hw(a)}else if(0!=(0x2000000&a.subtreeFlags))for(a=a.child;null!==a;)hx(a,b),a=a.sibling;else hw(a)}function hy(a){if(null!==hp&&0!==hp.size){var b=hp;if(0!=(0x1200000&a.subtreeFlags))for(a=a.child;null!==a;){if(22!==a.tag||null===a.memoizedState){if(30===a.tag&&0!=(0x1200000&a.flags)){var c=a.memoizedProps,d=c.name;if(null!=d&&"auto"!==d){var e=b.get(d);if(void 0!==e){var f=c_(c.default,c.share);if("none"!==f&&(hu(a,d,f,null,!1)?(e.paired=f=a.stateNode,f.paired=e,iU(a,c.onShare)):hv(a.child,!1)),b.delete(d),0===b.size)break}}}hy(a)}a=a.sibling}}}function hz(a){if(30===a.tag){var b=a.memoizedProps,c=cZ(b,a.stateNode),d=null!==hp?hp.get(c):void 0,e=c_(b.default,void 0!==d?b.share:b.exit);"none"!==e&&(hu(a,c,e,null,!1)?void 0!==d?(d.paired=e=a.stateNode,e.paired=d,hp.delete(c),iU(a,b.onShare)):iU(a,b.onExit):hv(a.child,!1)),null!==hp&&hy(a)}else if(0!=(0x2000000&a.subtreeFlags))for(a=a.child;null!==a;)hz(a),a=a.sibling;else null!==hp&&hy(a)}function hA(a){if(0!=(0x1200000&a.subtreeFlags))for(a=a.child;null!==a;){if(22!==a.tag||null===a.memoizedState){if(30===a.tag&&0!=(0x1200000&a.flags)){var b=a.stateNode;null!==b.paired&&(b.paired=null,hv(a.child,!1))}hA(a)}a=a.sibling}}function hB(a){if(30===a.tag)a.stateNode.paired=null,hv(a.child,!1),hA(a);else if(0!=(0x2000000&a.subtreeFlags))for(a=a.child;null!==a;)hB(a),a=a.sibling;else hA(a)}function hC(a,b,c,d,e,f,g){for(var h=!1;null!==b;){if(5===b.tag){var i=b.stateNode;if(null!==f&&ht<f.length){var j,k=f[ht],l=kk(i);if((k.view||l.view)&&(h=!0),j=0==(4&a.flags))if(l.clip)j=!0;else{j=k.rect;var m=l.rect;j=j.y!==m.y||j.x!==m.x||j.height!==m.height||j.width!==m.width}j&&(a.flags|=4),l.abs?l=!k.abs:(k=k.rect,l=l.rect,l=k.height!==l.height||k.width!==l.width),l&&(a.flags|=32)}else a.flags|=32;0!=(4&a.flags)&&kh(i,0===ht?c:c+"_"+ht,e),h&&0!=(4&a.flags)||(null===hr&&(hr=[]),hr.push(i,d,b.memoizedProps)),ht++}else(22!==b.tag||null===b.memoizedState)&&(30===b.tag&&g?a.flags|=32&b.flags:hC(a,b.child,c,d,e,f,g)&&(h=!0));b=b.sibling}return h}var hD=!1,hE=!1,hF=!1,hG=!1,hH="function"==typeof WeakSet?WeakSet:Set,hI=null,hJ=!1,hK=!1,hL=!1,hM=!1;function hN(a){for(;null!==hI;){var b=hI,c=a,d=b.alternate,e=b.flags;switch(b.tag){case 0:case 11:case 15:if(0!=(4&e)&&null!==(d=null!==(d=b.updateQueue)?d.events:null))for(c=0;c<d.length;c++)(e=d[c]).ref.impl=e.nextImpl;break;case 1:if(0!=(1024&e)&&null!==d){c=void 0,e=d.memoizedProps,d=d.memoizedState;var f=b.stateNode;try{var h=gq(b.type,e);c=f.getSnapshotBeforeUpdate(h,d),f.__reactInternalSnapshotBeforeUpdate=c}catch(a){jl(b,b.return,a)}}break;case 3:if(0!=(1024&e)){if(9===(c=(d=b.stateNode.containerInfo).nodeType))kB(d);else if(1===c)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":kB(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;case 30:c&&null!==d&&(c=cZ(d.memoizedProps,d.stateNode),"none"!==(e=c_((e=b.memoizedProps).default,e.update))&&hu(d,c,e,d.memoizedState=[],!0));break;default:if(0!=(1024&e))throw Error(g(163))}if(null!==(d=b.sibling)){d.return=b.return,hI=d;break}hI=b.return}}function hO(a,b,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:h1(a,c),4&d&&g9(5,c);break;case 1:if(h1(a,c),4&d)if(a=c.stateNode,null===b)try{a.componentDidMount()}catch(a){jl(c,c.return,a)}else{var e=gq(c.type,b.memoizedProps);b=b.memoizedState;try{a.componentDidUpdate(e,b,a.__reactInternalSnapshotBeforeUpdate)}catch(a){jl(c,c.return,a)}}64&d&&hb(c),512&d&&hd(c,c.return);break;case 3:if(h1(a,c),64&d&&null!==(a=c.updateQueue)){if(b=null,null!==c.child)switch(c.child.tag){case 27:case 5:case 1:b=c.child.stateNode}try{eL(a,b)}catch(a){jl(c,c.return,a)}}break;case 27:null===b&&4&d&&hn(c);case 26:case 5:h1(a,c),null===b&&4&d&&hf(c),512&d&&hd(c,c.return);break;case 12:h1(a,c);break;case 31:h1(a,c),4&d&&hU(a,c);break;case 13:h1(a,c),4&d&&hV(a,c),64&d&&null!==(a=c.memoizedState)&&null!==(a=a.dehydrated)&&function(a,b){var c=a.ownerDocument;if("$~"===a.data)a._reactRetry=b;else if("$?"!==a.data||"loading"!==c.readyState)b();else{var d=function(){b(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}(a,c=jp.bind(null,c));break;case 22:if(!(d=null!==c.memoizedState||hD)){b=null!==b&&null!==b.memoizedState||hE,e=hD;var f=hE;hD=d,(hE=b)&&!f?function a(b,c,d){for(d=d&&0!=(8772&c.subtreeFlags),c=c.child;null!==c;){var e=c.alternate,f=b,g=c,h=g.flags;switch(g.tag){case 0:case 11:case 15:a(f,g,d),g9(4,g);break;case 1:if(a(f,g,d),"function"==typeof(f=(e=g).stateNode).componentDidMount)try{f.componentDidMount()}catch(a){jl(e,e.return,a)}if(null!==(f=(e=g).updateQueue)){var i=e.stateNode;try{var j=f.shared.hiddenCallbacks;if(null!==j)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)eK(j[f],i)}catch(a){jl(e,e.return,a)}}d&&64&h&&hb(g),hd(g,g.return);break;case 27:hn(g);case 26:case 5:if(5===g.tag){i=g;for(var k=i.return;null!==k&&(hk(k)&&kA(i.stateNode,k.stateNode),!hj(k));)k=k.return}a(f,g,d),d&&null===e&&4&h&&hf(g),hd(g,g.return);break;case 12:a(f,g,d);break;case 31:a(f,g,d),d&&4&h&&hU(f,g);break;case 13:a(f,g,d),d&&4&h&&hV(f,g);break;case 22:null===g.memoizedState&&a(f,g,d),hd(g,g.return);break;case 30:a(f,g,d),hd(g,g.return);break;case 7:hd(g,g.return);default:a(f,g,d)}c=c.sibling}}(a,c,0!=(8772&c.subtreeFlags)):h1(a,c),hD=e,hE=f}break;case 30:h1(a,c),512&d&&hd(c,c.return);break;case 7:512&d&&hd(c,c.return);default:h1(a,c)}}function hP(a,b){for(a=a.child;null!==a;)(function a(b,c){switch(b.tag){case 5:case 26:try{var d=b.stateNode;if(c){var e=d.style;"function"==typeof e.setProperty?e.setProperty("display","none","important"):e.display="none"}else{var f=b.stateNode,g=b.memoizedProps.style,h=null!=g&&g.hasOwnProperty("display")?g.display:null;f.style.display=null==h||"boolean"==typeof h?"":(""+h).trim()}}catch(a){jl(b,b.return,a)}!function b(c,d){if(0x4000000&c.subtreeFlags)for(c=c.child;null!==c;){a:{var e=c;switch(e.tag){case 4:a(e,d);break a;case 22:null===e.memoizedState&&b(e,d);break a;default:b(e,d)}}c=c.sibling}}(b,c);break;case 6:try{b.stateNode.nodeValue=c?"":b.memoizedProps,bb=!0}catch(a){jl(b,b.return,a)}break;case 18:try{var i=b.stateNode;c?kg(i,!0):kg(b.stateNode,!1)}catch(a){jl(b,b.return,a)}break;case 22:case 23:null===b.memoizedState&&hP(b,c);break;default:hP(b,c)}})(a,b),a=a.sibling}var hQ=null,hR=!1;function hS(a,b,c){for(c=c.child;null!==c;)hT(a,b,c),c=c.sibling}function hT(a,b,c){if(ax&&"function"==typeof ax.onCommitFiberUnmount)try{ax.onCommitFiberUnmount(aw,c)}catch(a){}switch(c.tag){case 26:hE||he(c,b),hS(a,b,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode).parentNode.removeChild(c);break;case 27:hE||he(c,b);var d=hQ,e=hR;ke(c.type)&&(hQ=c.stateNode,hR=!1),hS(a,b,c),kK(c.stateNode),hQ=d,hR=e;break;case 5:hE||he(c,b),5===c.tag&&hi(c);case 6:if(d=hQ,e=hR,hQ=null,hS(a,b,c),hQ=d,hR=e,null!==hQ)if(hR)try{(9===hQ.nodeType?hQ.body:"HTML"===hQ.nodeName?hQ.ownerDocument.body:hQ).removeChild(c.stateNode),bb=!0}catch(a){jl(c,b,a)}else try{hQ.removeChild(c.stateNode),bb=!0}catch(a){jl(c,b,a)}break;case 18:null!==hQ&&(hR?(kf(9===(a=hQ).nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a,c.stateNode),lK(a)):kf(hQ,c.stateNode));break;case 4:d=hQ,e=hR,hQ=c.stateNode.containerInfo,hR=!0,hS(a,b,c),hQ=d,hR=e;break;case 0:case 11:case 14:case 15:ha(2,c,b),hE||ha(4,c,b),hS(a,b,c);break;case 1:hE||(he(c,b),"function"==typeof(d=c.stateNode).componentWillUnmount&&hc(c,b,d)),hS(a,b,c);break;case 21:default:hS(a,b,c);break;case 22:hE=(d=hE)||null!==c.memoizedState,hS(a,b,c),hE=d;break;case 30:he(c,b),hS(a,b,c);break;case 7:hE||he(c,b),hS(a,b,c)}}function hU(a,b){if(null===b.memoizedState&&null!==(a=b.alternate)&&null!==(a=a.memoizedState)){a=a.dehydrated;try{lK(a)}catch(a){jl(b,b.return,a)}}}function hV(a,b){if(null===b.memoizedState&&null!==(a=b.alternate)&&null!==(a=a.memoizedState)&&null!==(a=a.dehydrated))try{lK(a)}catch(a){jl(b,b.return,a)}}function hW(a,b){var c=function(a){switch(a.tag){case 31:case 13:case 19:var b=a.stateNode;return null===b&&(b=a.stateNode=new hH),b;case 22:return null===(b=(a=a.stateNode)._retryCache)&&(b=a._retryCache=new hH),b;default:throw Error(g(435,a.tag))}}(a);b.forEach(function(b){if(!c.has(b)){c.add(b);var d=jq.bind(null,a,b);b.then(d,d)}})}function hX(a,b,c){var d=b.deletions;if(null!==d)for(var e=0;e<d.length;e++){var f=d[e],h=a,i=b,j=i;a:for(;null!==j;){switch(j.tag){case 27:if(ke(j.type)){hQ=j.stateNode,hR=!1;break a}break;case 5:hQ=j.stateNode,hR=!1;break a;case 3:case 4:hQ=j.stateNode.containerInfo,hR=!0;break a}j=j.return}if(null===hQ)throw Error(g(160));hT(h,i,f),hQ=null,hR=!1,null!==(h=f.alternate)&&(h.return=null),f.return=null}if(13886&b.subtreeFlags)for(b=b.child;null!==b;)hZ(b,a,c),b=b.sibling}var hY=null;function hZ(a,b,c){var d=a.alternate,e=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:hX(b,a,c),h$(a),4&e&&(ha(3,a,a.return),g9(3,a),ha(5,a,a.return));break;case 1:hX(b,a,c),h$(a),512&e&&(hE||null===d||he(d,d.return)),64&e&&hD&&null!==(a=a.updateQueue)&&null!==(d=a.callbacks)&&(b=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=null===b?d:b.concat(d));break;case 26:var f=hY;if(hX(b,a,c),h$(a),512&e&&(hE||null===d||he(d,d.return)),4&e)if(c=null!==d?d.memoizedState:null,b=a.memoizedState,null===d)if(null===b)if(null===a.stateNode){a:{d=a.type,b=a.memoizedProps,c=f.ownerDocument||f;b:switch(d){case"title":(!(e=c.getElementsByTagName("title")[0])||e[aZ]||e[aS]||"http://www.w3.org/2000/svg"===e.namespaceURI||e.hasAttribute("itemprop"))&&(e=c.createElement(d),c.head.insertBefore(e,c.querySelector("head > title"))),j0(e,d,b),e[aS]=a,a3(e),d=e;break a;case"link":if(f=k0("link","href",c).get(d+(b.href||""))){for(var h=0;h<f.length;h++)if((e=f[h]).getAttribute("href")===(null==b.href||""===b.href?null:b.href)&&e.getAttribute("rel")===(null==b.rel?null:b.rel)&&e.getAttribute("title")===(null==b.title?null:b.title)&&e.getAttribute("crossorigin")===(null==b.crossOrigin?null:b.crossOrigin)){f.splice(h,1);break b}}j0(e=c.createElement(d),d,b),c.head.appendChild(e);break;case"meta":if(f=k0("meta","content",c).get(d+(b.content||""))){for(h=0;h<f.length;h++)if((e=f[h]).getAttribute("content")===(null==b.content?null:""+b.content)&&e.getAttribute("name")===(null==b.name?null:b.name)&&e.getAttribute("property")===(null==b.property?null:b.property)&&e.getAttribute("http-equiv")===(null==b.httpEquiv?null:b.httpEquiv)&&e.getAttribute("charset")===(null==b.charSet?null:b.charSet)){f.splice(h,1);break b}}j0(e=c.createElement(d),d,b),c.head.appendChild(e);break;default:throw Error(g(468,d))}e[aS]=a,a3(e),d=e}a.stateNode=d}else k1(f,a.type,a.stateNode);else a.stateNode=kX(f,b,a.memoizedProps);else c!==b?(null===c?null!==d.stateNode&&(d=d.stateNode).parentNode.removeChild(d):c.count--,null===b?k1(f,a.type,a.stateNode):kX(f,b,a.memoizedProps)):null===b&&null!==a.stateNode&&hg(a,a.memoizedProps,d.memoizedProps);break;case 27:hX(b,a,c),h$(a),512&e&&(hE||null===d||he(d,d.return)),null!==d&&4&e&&hg(a,a.memoizedProps,d.memoizedProps);break;case 5:if(f=hF,hF=!1,hX(b,a,c),hF=f,h$(a),512&e&&(hE||null===d||he(d,d.return)),32&a.flags){b=a.stateNode;try{bt(b,""),bb=!0}catch(b){jl(a,a.return,b)}}4&e&&null!=a.stateNode&&(b=a.memoizedProps,hg(a,b,null!==d?d.memoizedProps:b)),1024&e&&(hG=!0);break;case 6:if(hX(b,a,c),h$(a),4&e){if(null===a.stateNode)throw Error(g(162));d=a.memoizedProps,b=a.stateNode;try{b.nodeValue=d,bb=!0}catch(b){jl(a,a.return,b)}}break;case 3:if(bb=!1,k_=null,f=hY,hY=kN(b.containerInfo),hX(b,a,c),hY=f,h$(a),4&e&&null!==d&&d.memoizedState.isDehydrated)try{lK(b.containerInfo)}catch(b){jl(a,a.return,b)}hG&&(hG=!1,function a(b){if(1024&b.subtreeFlags)for(b=b.child;null!==b;){var c=b;a(c),5===c.tag&&1024&c.flags&&c.stateNode.reset(),b=b.sibling}}(a)),bb=!1;break;case 4:d=hF,hF=hD,e=bc(),f=hY,hY=kN(a.stateNode.containerInfo),hX(b,a,c),h$(a),hY=f,bb&&hK&&(hL=!0),bb=e,hF=d;break;case 12:hX(b,a,c),h$(a);break;case 31:case 19:hX(b,a,c),h$(a),4&e&&null!==(d=a.updateQueue)&&(a.updateQueue=null,hW(a,d));break;case 13:hX(b,a,c),h$(a),8192&a.child.flags&&null!==a.memoizedState!=(null!==d&&null!==d.memoizedState)&&(iB=ap()),4&e&&null!==(d=a.updateQueue)&&(a.updateQueue=null,hW(a,d));break;case 22:f=null!==a.memoizedState,h=null!==d&&null!==d.memoizedState;var i=hD,j=hE,k=hF;hD=i||f,hF=k||f,hE=j||h,hX(b,a,c),hE=j,hF=k,hD=i,h$(a),8192&e&&((b=a.stateNode)._visibility=f?-2&b._visibility:1|b._visibility,f&&(null===d||h||hD||hE||function a(b){for(b=b.child;null!==b;){var c=b;switch(c.tag){case 0:case 11:case 14:case 15:ha(4,c,c.return),a(c);break;case 1:he(c,c.return);var d=c.stateNode;"function"==typeof d.componentWillUnmount&&hc(c,c.return,d),a(c);break;case 27:kK(c.stateNode);case 26:case 5:he(c,c.return),5===c.tag&&hi(c),a(c);break;case 22:null===c.memoizedState&&a(c);break;case 30:he(c,c.return),a(c);break;case 7:he(c,c.return);default:a(c)}b=b.sibling}}(a)),!f&&hF||hP(a,f)),4&e&&null!==(d=a.updateQueue)&&null!==(b=d.retryQueue)&&(d.retryQueue=null,hW(a,b));break;case 30:512&e&&(hE||null===d||he(d,d.return)),e=bc(),f=hK,h=(0x13ffff00&c)===c,i=a.memoizedProps,hK=h&&"none"!==c_(i.default,i.update),hX(b,a,c),h$(a),h&&null!==d&&bb&&(a.flags|=4),hK=f,bb=e;break;case 21:break;case 7:d&&null!==d.stateNode&&(d.stateNode._fragmentFiber=a);default:hX(b,a,c),h$(a)}}function h$(a){var b=a.flags;if(2&b){try{for(var c,d=null,e=a.return;null!==e;){if(hk(e)){var f=e.stateNode;null===d?d=[f]:d.push(f)}if(hj(e)){c=e;break}e=e.return}if(null==c)throw Error(g(160));switch(c.tag){case 27:var h=c.stateNode,i=hl(a);hm(a,i,h,d);break;case 5:var j=c.stateNode;32&c.flags&&(bt(j,""),c.flags&=-33);var k=hl(a);hm(a,k,j,d);break;case 3:case 4:var l=c.stateNode.containerInfo,m=hl(a);!function a(b,c,d,e){var f=b.tag;if(5===f||6===f)f=b.stateNode,c?(9===d.nodeType?d.body:"HTML"===d.nodeName?d.ownerDocument.body:d).insertBefore(f,c):((c=9===d.nodeType?d.body:"HTML"===d.nodeName?d.ownerDocument.body:d).appendChild(f),null!=(d=d._reactRootContainer)||null!==c.onclick||(c.onclick=bB)),hh(b,e),bb=!0;else if(4!==f&&(27===f&&ke(b.type)&&(d=b.stateNode,c=null),null!==(b=b.child)))for(a(b,c,d,e),b=b.sibling;null!==b;)a(b,c,d,e),b=b.sibling}(a,m,l,d);break;default:throw Error(g(161))}}catch(b){jl(a,a.return,b)}a.flags&=-3}4096&b&&(a.flags&=-4097)}function h_(a,b){if(9270&b.subtreeFlags)for(b=b.child;null!==b;)h0(b,a),b=b.sibling;else!function a(b,c){for(b=b.child;null!==b;){if(30===b.tag){var d=b.memoizedProps,e=b.stateNode,f=cZ(d,e),g=c_(d.default,d.update);if(c)var h=null===(e=e.clones)?null:e.map(kl);else h=b.memoizedState,b.memoizedState=null;e=b;var i=b.child;ht=0,f=hC(e,i,f,f,g,h,!1),0!=(4&b.flags)&&f&&(c||iU(b,d.onUpdate))}else 0!=(0x2000000&b.subtreeFlags)&&a(b,c);b=b.sibling}}(b,!1)}function h0(a,b){var c=a.alternate;if(null===c)hx(a,!1);else switch(a.tag){case 3:if(hM=hJ=!1,hs(),h_(b,a),!hJ&&!hL){if(null!==(a=hr))for(var d=0;d<a.length;d+=3){c=a[d];var e=a[d+1];ki(c,a[d+2]),null!==(c=c.ownerDocument.documentElement)&&c.animate({opacity:[0,0],pointerEvents:["none","none"]},{duration:0,fill:"forwards",pseudoElement:"::view-transition-group("+e+")"})}null!==(a=9===(a=b.containerInfo).nodeType?a.documentElement:a.ownerDocument.documentElement)&&""===a.style.viewTransitionName&&(a.style.viewTransitionName="none",a.animate({opacity:[0,0],pointerEvents:["none","none"]},{duration:0,fill:"forwards",pseudoElement:"::view-transition-group(root)"}),a.animate({width:[0,0],height:[0,0]},{duration:0,fill:"forwards",pseudoElement:"::view-transition"})),hM=!0}hr=null;break;case 5:default:h_(b,a);break;case 4:d=hJ,hJ=!1,h_(b,a),hJ&&(hL=!0),hJ=d;break;case 22:null===a.memoizedState&&(null!==c.memoizedState?hx(a,!1):h_(b,a));break;case 30:d=hJ,e=hs(),hJ=!1,h_(b,a),hJ&&(a.flags|=4);var f=a.memoizedProps,g=a.stateNode;b=cZ(f,g),g=cZ(c.memoizedProps,g);var h=c_(f.default,f.update);"none"===h?b=!1:(f=c.memoizedState,c.memoizedState=null,c=a.child,ht=0,b=hC(a,c,b,g,h,f,!0),ht!==(null===f?0:f.length)&&(a.flags|=32)),0!=(4&a.flags)&&b?(iU(a,a.memoizedProps.onUpdate),hr=e):null!==e&&(e.push.apply(e,hr),hr=e),hJ=0!=(32&a.flags)||d}}function h1(a,b){if(8772&b.subtreeFlags)for(b=b.child;null!==b;)hO(a,b.alternate,b),b=b.sibling}function h2(a,b){var c=null;null!==a&&null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(c=a.memoizedState.cachePool.pool),a=null,null!==b.memoizedState&&null!==b.memoizedState.cachePool&&(a=b.memoizedState.cachePool.pool),a!==c&&(null!=a&&a.refCount++,null!=c&&d5(c))}function h3(a,b){a=null,null!==b.alternate&&(a=b.alternate.memoizedState.cache),(b=b.memoizedState.cache)!==a&&(b.refCount++,null!=a&&d5(a))}function h4(a,b,c,d){var e=(0x13ffff00&c)===c;if(b.subtreeFlags&(e?10262:10256))for(b=b.child;null!==b;)h5(a,b,c,d),b=b.sibling;else e&&function a(b){for(b=b.child;null!==b;)30===b.tag?hv(b.child,!1):0!=(0x2000000&b.subtreeFlags)&&a(b),b=b.sibling}(b)}function h5(a,b,c,d){var e=(0x13ffff00&c)===c;e&&null===b.alternate&&null!==b.return&&null!==b.return.alternate&&hB(b);var f=b.flags;switch(b.tag){case 0:case 11:case 15:h4(a,b,c,d),2048&f&&g9(9,b);break;case 1:case 31:case 13:default:h4(a,b,c,d);break;case 3:h4(a,b,c,d),e&&hM&&("root"===(a=9===(a=a.containerInfo).nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).style.viewTransitionName&&(a.style.viewTransitionName=""),null!==(a=a.ownerDocument.documentElement)&&"none"===a.style.viewTransitionName&&(a.style.viewTransitionName="")),2048&f&&(f=null,null!==b.alternate&&(f=b.alternate.memoizedState.cache),(b=b.memoizedState.cache)!==f&&(b.refCount++,null!=f&&d5(f)));break;case 12:if(2048&f){h4(a,b,c,d),f=b.stateNode;try{var g=b.memoizedProps,h=g.id,i=g.onPostCommit;"function"==typeof i&&i(h,null===b.alternate?"mount":"update",f.passiveEffectDuration,-0)}catch(a){jl(b,b.return,a)}}else h4(a,b,c,d);break;case 23:break;case 22:g=b.stateNode,h=b.alternate,null!==b.memoizedState?(e&&null!==h&&null===h.memoizedState&&hB(h),2&g._visibility?h4(a,b,c,d):h6(a,b)):(e&&null!==h&&null!==h.memoizedState&&hB(b),2&g._visibility?h4(a,b,c,d):(g._visibility|=2,function a(b,c,d,e,f){for(f=f&&0!=(10256&c.subtreeFlags),c=c.child;null!==c;){var g=c,h=g.flags;switch(g.tag){case 0:case 11:case 15:a(b,g,d,e,f),g9(8,g);break;case 23:break;case 22:var i=g.stateNode;null!==g.memoizedState?2&i._visibility?a(b,g,d,e,f):h6(b,g):(i._visibility|=2,a(b,g,d,e,f)),f&&2048&h&&h2(g.alternate,g);break;case 24:a(b,g,d,e,f),f&&2048&h&&h3(g.alternate,g);break;default:a(b,g,d,e,f)}c=c.sibling}}(a,b,c,d,0!=(10256&b.subtreeFlags)))),2048&f&&h2(h,b);break;case 24:h4(a,b,c,d),2048&f&&h3(b.alternate,b);break;case 30:e&&null!==(f=b.alternate)&&(hv(f.child,!0),hv(b.child,!0)),h4(a,b,c,d)}}function h6(a,b){if(10256&b.subtreeFlags)for(b=b.child;null!==b;){var c=b,d=c.flags;switch(c.tag){case 22:h6(a,c),2048&d&&h2(c.alternate,c);break;case 24:h6(a,c),2048&d&&h3(c.alternate,c);break;default:h6(a,c)}b=b.sibling}}var h7=8192;function h8(a,b,c){if(a.subtreeFlags&h7)for(a=a.child;null!==a;)h9(a,b,c),a=a.sibling}function h9(a,b,c){switch(a.tag){case 26:h8(a,b,c),a.flags&h7&&(null!==a.memoizedState?function(a,b,c,d){if("stylesheet"===c.type&&("string"!=typeof d.media||!1!==matchMedia(d.media).matches)&&0==(4&c.state.loading)){if(null===c.instance){var e=kS(d.href),f=b.querySelector(kT(e));if(f){null!==(b=f._p)&&"object"==typeof b&&"function"==typeof b.then&&(a.count++,a=k8.bind(a),b.then(a,a)),c.state.loading|=4,c.instance=f,a3(f);return}f=b.ownerDocument||b,d=kU(d),(e=kL.get(e))&&kZ(d,e),a3(f=f.createElement("link"));var g=f;g._p=new Promise(function(a,b){g.onload=a,g.onerror=b}),j0(f,"link",d),c.instance=f}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(c,b),(b=c.state.preload)&&0==(3&c.state.loading)&&(a.count++,c=k8.bind(a),b.addEventListener("load",c),b.addEventListener("error",c))}}(c,hY,a.memoizedState,a.memoizedProps):(a=a.stateNode,(0x13ffff40&b)===b&&k5(c,a)));break;case 5:h8(a,b,c),a.flags&h7&&(a=a.stateNode,(0x13ffff40&b)===b&&k5(c,a));break;case 3:case 4:var d=hY;hY=kN(a.stateNode.containerInfo),h8(a,b,c),hY=d;break;case 22:null===a.memoizedState&&(null!==(d=a.alternate)&&null!==d.memoizedState?(d=h7,h7=0x1000000,h8(a,b,c),h7=d):h8(a,b,c));break;case 30:if(0!=(a.flags&h7)&&null!=(d=a.memoizedProps.name)&&"auto"!==d){var e=a.stateNode;e.paired=null,null===hp&&(hp=new Map),hp.set(d,e)}h8(a,b,c);break;default:h8(a,b,c)}}function ia(a){var b=a.alternate;if(null!==b&&null!==(a=b.child)){b.child=null;do b=a.sibling,a.sibling=null,a=b;while(null!==a)}}function ib(a){var b=a.deletions;if(0!=(16&a.flags)){if(null!==b)for(var c=0;c<b.length;c++){var d=b[c];hI=d,id(d,a)}ia(a)}if(10256&a.subtreeFlags)for(a=a.child;null!==a;)ic(a),a=a.sibling}function ic(a){switch(a.tag){case 0:case 11:case 15:ib(a),2048&a.flags&&ha(9,a,a.return);break;case 3:case 12:default:ib(a);break;case 22:var b=a.stateNode;null!==a.memoizedState&&2&b._visibility&&(null===a.return||13!==a.return.tag)?(b._visibility&=-3,function a(b){var c=b.deletions;if(0!=(16&b.flags)){if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];hI=e,id(e,b)}ia(b)}for(b=b.child;null!==b;){switch((c=b).tag){case 0:case 11:case 15:ha(8,c,c.return),a(c);break;case 22:2&(d=c.stateNode)._visibility&&(d._visibility&=-3,a(c));break;default:a(c)}b=b.sibling}}(a)):ib(a)}}function id(a,b){for(;null!==hI;){var c=hI;switch(c.tag){case 0:case 11:case 15:ha(8,c,b);break;case 23:case 22:if(null!==c.memoizedState&&null!==c.memoizedState.cachePool){var d=c.memoizedState.cachePool.pool;null!=d&&d.refCount++}break;case 24:d5(c.memoizedState.cache)}if(null!==(d=c.child))d.return=c,hI=d;else for(c=a;null!==hI;){var e=(d=hI).sibling,f=d.return;if(!function a(b){var c=b.alternate;null!==c&&(b.alternate=null,a(c)),b.child=null,b.deletions=null,b.sibling=null,5===b.tag&&null!==(c=b.stateNode)&&a$(c),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}(d),d===c){hI=null;break}if(null!==e){e.return=f,hI=e;break}hI=f}}}var ie={getCacheForType:function(a){var b=dZ(d3),c=b.data.get(a);return void 0===c&&(c=a(),b.data.set(a,c)),c},cacheSignal:function(){return dZ(d3).controller.signal}},ig="function"==typeof WeakMap?WeakMap:Map,ih=0,ii=null,ij=null,ik=0,il=0,im=null,io=!1,ip=!1,iq=!1,ir=0,is=0,it=0,iu=0,iv=0,iw=0,ix=0,iy=null,iz=null,iA=!1,iB=0,iC=0,iD=1/0,iE=null,iF=null,iG=0,iH=null,iI=null,iJ=0,iK=0,iL=null,iM=null,iN=null,iO=null,iP=null,iQ=0,iR=null;function iS(){return 0!=(2&ih)&&0!==ik?ik&-ik:null!==S.T?jE():aP()}function iT(){if(0===iw)if(0==(0x20000000&ik)||dE){var a=aC;0==(3932160&(aC<<=1))&&(aC=262144),iw=a}else iw=0x20000000;return null!==(a=eR.current)&&(a.flags|=32),iw}function iU(a,b){if(null!=b){var c=a.stateNode,d=c.ref;null===d&&(d=c.ref=ko(cZ(a.memoizedProps,c))),null===iO&&(iO=[]),iO.push(b.bind(null,d))}}function iV(a,b,c){(a===ii&&(2===il||9===il)||null!==a.cancelPendingCommit)&&(i_(a,0),iY(a,ik,iw,!1)),aJ(a,c),(0==(2&ih)||a!==ii)&&(a===ii&&(0==(2&ih)&&(iu|=c),4===is&&iY(a,ik,iw,!1)),jx(a))}function iW(a,b,c){if(0!=(6&ih))throw Error(g(327));for(var d=!c&&0==(127&b)&&0==(b&a.expiredLanes)||aG(a,b),e=d?function(a,b){var c=ih;ih|=2;var d=i2(),e=i3();ii!==a||ik!==b?(iE=null,iD=ap()+500,i_(a,b)):ip=aG(a,b);a:for(;;)try{if(0!==il&&null!==ij){b=ij;var f=im;b:switch(il){case 1:il=0,im=null,i8(a,b,f,1);break;case 2:case 9:if(em(f)){il=0,im=null,i7(b);break}b=function(){2!==il&&9!==il||ii!==a||(il=7),jx(a)},f.then(b,b);break a;case 3:il=7;break a;case 4:il=5;break a;case 7:em(f)?(il=0,im=null,i7(b)):(il=0,im=null,i8(a,b,f,7));break;case 5:var h=null;switch(ij.tag){case 26:h=ij.memoizedState;case 5:case 27:var i=ij;if(h?k3(h):i.stateNode.complete){il=0,im=null;var j=i.sibling;if(null!==j)ij=j;else{var k=i.return;null!==k?(ij=k,i9(k)):ij=null}break b}}il=0,im=null,i8(a,b,f,5);break;case 6:il=0,im=null,i8(a,b,f,6);break;case 8:i$(),is=6;break a;default:throw Error(g(462))}}for(;null!==ij&&!an();)i6(ij);break}catch(b){i0(a,b)}return(dR=dQ=null,S.H=d,S.A=e,ih=c,null!==ij)?0:(ii=null,ik=0,c4(),is)}(a,b):i5(a,b,!0),f=d;;){if(0===e)ip&&!d&&iY(a,b,0,!1);else{if(c=a.current.alternate,f&&!function(a){for(var b=a;;){var c=b.tag;if((0===c||11===c||15===c)&&16384&b.flags&&null!==(c=b.updateQueue)&&null!==(c=c.stores))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!cy(f(),e))return!1}catch(a){return!1}}if(c=b.child,16384&b.subtreeFlags&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}(c)){e=i5(a,b,!1),f=!1;continue}if(2===e){if(f=b,a.errorRecoveryDisabledLanes&f)var h=0;else h=0!=(h=-0x20000001&a.pendingLanes)?h:0x20000000&h?0x20000000:0;if(0!==h){b=h;a:{e=iy;var i=a.current.memoizedState.isDehydrated;if(i&&(i_(a,h).flags|=256),2!==(h=i5(a,h,!1))){if(iq&&!i){a.errorRecoveryDisabledLanes|=f,iu|=f,e=4;break a}f=iz,iz=e,null!==f&&(null===iz?iz=f:iz.push.apply(iz,f))}e=h}if(f=!1,2!==e)continue}}if(1===e){i_(a,0),iY(a,b,0,!0);break}a:{switch(d=a,f=e){case 0:case 1:throw Error(g(345));case 4:if((4194048&b)!==b&&(0x3c00000&b)!==b)break;case 6:iY(d,b,iw,!io);break a;case 2:iz=null;break;case 3:case 5:break;default:throw Error(g(329))}if((0x3c00000&b)===b&&10<(e=iB+300-ap())){if(iY(d,b,iw,!io),0!==aF(d,0,!0))break a;iJ=b,d.timeoutHandle=j9(iX.bind(null,d,c,iz,iE,iA,b,iw,iu,ix,io,f,"Throttled",-0,0),e);break a}iX(d,c,iz,iE,iA,b,iw,iu,ix,io,f,null,-0,0)}}break}jx(a)}function iX(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.timeoutHandle=-1;var o,p,q=b.subtreeFlags,r=(0x13ffff00&f)===f;if(l=null,(r||8192&q||0x1002000==(0x1002000&q))&&(hp=null,h9(b,f,l={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bB}),r&&(q=l,null!=(r=(9===(r=a.containerInfo).nodeType?r:r.ownerDocument).__reactViewTransition)&&(q.count++,q.waitingForViewTransition=!0,q=k8.bind(q),r.finished.then(q,q))),null!==(o=l,p=q=(0x3c00000&f)===f?iB-ap():(4194048&f)===f?iC-ap():0,o.stylesheets&&0===o.count&&lb(o,o.stylesheets),q=0<o.count||0<o.imgCount?function(a){var b=setTimeout(function(){if(o.stylesheets&&lb(o,o.stylesheets),o.unsuspend){var a=o.unsuspend;o.unsuspend=null,a()}},6e4+p);0<o.imgBytes&&0===k6&&(k6=62500*function(){if("function"==typeof performance.getEntriesByType){for(var a=0,b=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var e=c[d],f=e.transferSize,g=e.initiatorType,h=e.duration;if(f&&h&&j1(g)){for(g=0,h=e.responseEnd,d+=1;d<c.length;d++){var i=c[d],j=i.startTime;if(j>h)break;var k=i.transferSize,l=i.initiatorType;k&&j1(l)&&(g+=k*((i=i.responseEnd)<h?1:(h-j)/(i-j)))}if(--d,b+=8*(f+g)/(e.duration/1e3),10<++a)break}}if(0<a)return b/a/1e6}return navigator.connection&&"number"==typeof(a=navigator.connection.downlink)?a:5}());var c=setTimeout(function(){if(o.waitingForImages=!1,0===o.count&&(o.stylesheets&&lb(o,o.stylesheets),o.unsuspend)){var a=o.unsuspend;o.unsuspend=null,a()}},(o.imgBytes>k6?50:800)+p);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(b),clearTimeout(c)}}:null))){iJ=f,a.cancelPendingCommit=q(jb.bind(null,a,b,f,c,d,e,g,h,i,k,l,null,m,n)),iY(a,f,g,!j);return}jb(a,b,f,c,d,e,g,h,i,k,l)}function iY(a,b,c,d){b&=~iv,b&=~iu,a.suspendedLanes|=b,a.pingedLanes&=~b,d&&(a.warmLanes|=b),d=a.expirationTimes;for(var e=b;0<e;){var f=31-ay(e),g=1<<f;d[f]=-1,e&=~g}0!==c&&aK(a,c,b)}function iZ(){return 0!=(6&ih)||(jy(0,!1),!1)}function i$(){if(null!==ij){if(0===il)var a=ij.return;else a=ij,dR=dQ=null,fj(a),es=null,et=0,a=ij;for(;null!==a;)g8(a.alternate,a),a=a.return;ij=null}}function i_(a,b){var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,ka(c)),null!==(c=a.cancelPendingCommit)&&(a.cancelPendingCommit=null,c()),iJ=0,i$(),ii=a,ij=c=de(a.current,null),ik=b,il=0,im=null,io=!1,ip=aG(a,b),iq=!1,ix=iw=iv=iu=it=is=0,iz=iy=null,iA=!1,0!=(8&b)&&(b|=32&b);var d=a.entangledLanes;if(0!==d)for(a=a.entanglements,d&=b;0<d;){var e=31-ay(d),f=1<<e;b|=a[e],d&=~f}return ir=b,c4(),c}function i0(a,b){e1=null,S.H=gi,b===ei||b===ek?(b=eq(),il=3):b===ej?(b=eq(),il=4):il=b===gz?8:null!==b&&"object"==typeof b&&"function"==typeof b.then?6:1,im=b,null===ij&&(is=1,gu(a,dm(b,a.current)))}function i1(){var a=eR.current;return null===a||((4194048&ik)===ik?null===eS:((0x3c00000&ik)===ik||0!=(0x20000000&ik))&&a===eS)}function i2(){var a=S.H;return S.H=gi,null===a?gi:a}function i3(){var a=S.A;return S.A=ie,a}function i4(){is=4,io||(4194048&ik)!==ik&&null!==eR.current||(ip=!0),0==(0x7ffffff&it)&&0==(0x7ffffff&iu)||null===ii||iY(ii,ik,iw,!1)}function i5(a,b,c){var d=ih;ih|=2;var e=i2(),f=i3();(ii!==a||ik!==b)&&(iE=null,i_(a,b)),b=!1;var g=is;a:for(;;)try{if(0!==il&&null!==ij){var h=ij,i=im;switch(il){case 8:i$(),g=6;break a;case 3:case 2:case 9:case 6:null===eR.current&&(b=!0);var j=il;if(il=0,im=null,i8(a,h,i,j),c&&ip){g=0;break a}break;default:j=il,il=0,im=null,i8(a,h,i,j)}}(function(){for(;null!==ij;)i6(ij)})(),g=is;break}catch(b){i0(a,b)}return b&&a.shellSuspendCounter++,dR=dQ=null,ih=d,S.H=e,S.A=f,null===ij&&(ii=null,ik=0,c4()),g}function i6(a){var b=g1(a.alternate,a,ir);a.memoizedProps=a.pendingProps,null===b?i9(a):ij=b}function i7(a){var b=a,c=b.alternate;switch(b.tag){case 15:case 0:b=gM(c,b,b.pendingProps,b.type,void 0,ik);break;case 11:b=gM(c,b,b.pendingProps,b.type.render,b.ref,ik);break;case 5:fj(b);default:g8(c,b),b=g1(c,b=ij=df(b,ir),ir)}a.memoizedProps=a.pendingProps,null===b?i9(a):ij=b}function i8(a,b,c,d){dR=dQ=null,fj(b),es=null,et=0;var e=b.return;try{if(function(a,b,c,d,e){if(c.flags|=32768,null!==d&&"object"==typeof d&&"function"==typeof d.then){if(null!==(b=c.alternate)&&dW(b,c,e,!0),null!==(c=eR.current)){switch(c.tag){case 31:case 13:case 19:return null===eS?i4():null===c.alternate&&0===is&&(is=3),c.flags&=-257,c.flags|=65536,c.lanes=e,d===el?c.flags|=16384:(null===(b=c.updateQueue)?c.updateQueue=new Set([d]):b.add(d),jm(a,d,e)),!1;case 22:return c.flags|=65536,d===el?c.flags|=16384:(null===(b=c.updateQueue)?(b={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=b):null===(c=b.retryQueue)?b.retryQueue=new Set([d]):c.add(d),jm(a,d,e)),!1}throw Error(g(435,c.tag))}return jm(a,d,e),i4(),!1}if(dE)return null!==(b=eR.current)?(0==(65536&b.flags)&&(b.flags|=256),b.flags|=65536,b.lanes=e,d!==dH&&dO(dm(a=Error(g(422),{cause:d}),c))):(d!==dH&&dO(dm(b=Error(g(423),{cause:d}),c)),a=a.current.alternate,a.flags|=65536,e&=-e,a.lanes|=e,d=dm(d,c),e=gw(a.stateNode,d,e),eG(a,e),4!==is&&(is=2)),!1;var f=Error(g(520),{cause:d});if(f=dm(f,c),null===iy?iy=[f]:iy.push(f),4!==is&&(is=2),null===b)return!0;d=dm(d,c),c=b;do{switch(c.tag){case 3:return c.flags|=65536,a=e&-e,c.lanes|=a,a=gw(c.stateNode,d,a),eG(c,a),!1;case 1:if(b=c.type,f=c.stateNode,0==(128&c.flags)&&("function"==typeof b.getDerivedStateFromError||null!==f&&"function"==typeof f.componentDidCatch&&(null===iF||!iF.has(f))))return c.flags|=65536,e&=-e,c.lanes|=e,gy(e=gx(e),a,c,d),eG(c,e),!1;break;case 22:if(null!==c.memoizedState)return c.flags|=65536,!1}c=c.return}while(null!==c)return!1}(a,e,b,c,ik)){is=1,gu(a,dm(c,a.current)),ij=null;return}}catch(b){if(null!==e)throw ij=e,b;is=1,gu(a,dm(c,a.current)),ij=null;return}32768&b.flags?(dE||1===d?a=!0:ip||0!=(0x20000000&ik)?a=!1:(io=a=!0,(2===d||9===d||3===d||6===d)&&null!==(d=eR.current)&&13===d.tag&&(d.flags|=16384)),ja(b,a)):i9(b)}function i9(a){var b=a;do{if(0!=(32768&b.flags))return void ja(b,io);a=b.return;var c=function(a,b,c){var d=b.pendingProps;switch(dA(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return g7(b),null;case 3:return c=b.stateNode,d=null,null!==a&&(d=a.memoizedState.cache),b.memoizedState.cache!==d&&(b.flags|=2048),dT(d3),ad(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(null===a||null===a.child)&&(dL(b)?g2(b):null===a||a.memoizedState.isDehydrated&&0==(256&b.flags)||(b.flags|=1024,dN())),g7(b),null;case 26:var e=b.type,f=b.memoizedState;return null===a?(g2(b),null!==f?(g7(b),g4(b,f)):(g7(b),g3(b,e,null,d,c))):f?f!==a.memoizedState?(g2(b),g7(b),g4(b,f)):(g7(b),b.flags&=-0x1000001):((a=a.memoizedProps)!==d&&g2(b),g7(b),g3(b,e,a,d,c)),null;case 27:if(af(b),c=aa.current,e=b.type,null!==a&&null!=b.stateNode)a.memoizedProps!==d&&g2(b);else{if(!d){if(null===b.stateNode)throw Error(g(166));return g7(b),b.subtreeFlags&=-0x2000001,null}a=$.current,dL(b)?dJ(b,a):(b.stateNode=a=kJ(e,d,c),g2(b))}return g7(b),b.subtreeFlags&=-0x2000001,null;case 5:if(af(b),e=b.type,null!==a&&null!=b.stateNode)a.memoizedProps!==d&&g2(b);else{if(!d){if(null===b.stateNode)throw Error(g(166));return g7(b),b.subtreeFlags&=-0x2000001,null}if(f=$.current,dL(b))dJ(b,f);else{var h=j4(aa.current);switch(f){case 1:f=h.createElementNS("http://www.w3.org/2000/svg",e);break;case 2:f=h.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;default:switch(e){case"svg":f=h.createElementNS("http://www.w3.org/2000/svg",e);break;case"math":f=h.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;case"script":(f=h.createElement("div")).innerHTML="<script></script>",f=f.removeChild(f.firstChild);break;case"select":f="string"==typeof d.is?h.createElement("select",{is:d.is}):h.createElement("select"),d.multiple?f.multiple=!0:d.size&&(f.size=d.size);break;default:f="string"==typeof d.is?h.createElement(e,{is:d.is}):h.createElement(e)}}f[aS]=b,f[aT]=d;a:for(h=b.child;null!==h;){if(5===h.tag||6===h.tag)f.appendChild(h.stateNode);else if(4!==h.tag&&27!==h.tag&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===b)break;for(;null===h.sibling;){if(null===h.return||h.return===b)break a;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(b.stateNode=f,j0(f,e,d),e){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break;case"img":d=!0;break;default:d=!1}d&&g2(b)}}return g7(b),b.subtreeFlags&=-0x2000001,g3(b,b.type,null===a?null:a.memoizedProps,b.pendingProps,c),null;case 6:if(a&&null!=b.stateNode)a.memoizedProps!==d&&g2(b);else{if("string"!=typeof d&&null===b.stateNode)throw Error(g(166));if(a=aa.current,dL(b)){if(a=b.stateNode,c=b.memoizedProps,d=null,null!==(e=dC))switch(e.tag){case 27:case 5:d=e.memoizedProps}a[aS]=b,(a=!!(a.nodeValue===c||null!==d&&!0===d.suppressHydrationWarning||jZ(a.nodeValue,c)))||dI(b,!0)}else(a=j4(a).createTextNode(d))[aS]=b,b.stateNode=a}return g7(b),null;case 31:if(c=b.memoizedState,null===a||null!==a.memoizedState){if(d=dL(b),null!==c){if(null===a){if(!d)throw Error(g(318));if(!(a=null!==(a=b.memoizedState)?a.dehydrated:null))throw Error(g(557));a[aS]=b}else dM(),0==(128&b.flags)&&(b.memoizedState=null),b.flags|=4;g7(b),a=!1}else c=dN(),null!==a&&null!==a.memoizedState&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a){if(256&b.flags)return eX(b),b;return eX(b),null}if(0!=(128&b.flags))throw Error(g(558))}return g7(b),null;case 13:if(d=b.memoizedState,null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(e=dL(b),null!==d&&null!==d.dehydrated){if(null===a){if(!e)throw Error(g(318));if(!(e=null!==(e=b.memoizedState)?e.dehydrated:null))throw Error(g(317));e[aS]=b}else dM(),0==(128&b.flags)&&(b.memoizedState=null),b.flags|=4;g7(b),e=!1}else e=dN(),null!==a&&null!==a.memoizedState&&(a.memoizedState.hydrationErrors=e),e=!0;if(!e){if(256&b.flags)return eX(b),b;return eX(b),null}}if(eX(b),0!=(128&b.flags))return b.lanes=c,b;return c=null!==d,a=null!==a&&null!==a.memoizedState,c&&(d=b.child,e=null,null!==d.alternate&&null!==d.alternate.memoizedState&&null!==d.alternate.memoizedState.cachePool&&(e=d.alternate.memoizedState.cachePool.pool),f=null,null!==d.memoizedState&&null!==d.memoizedState.cachePool&&(f=d.memoizedState.cachePool.pool),f!==e&&(d.flags|=2048)),c!==a&&c&&(b.child.flags|=8192),g5(b,b.updateQueue),g7(b),null;case 4:return ad(),null===a&&jP(b.stateNode.containerInfo),b.flags|=0x4000000,g7(b),null;case 10:return dT(b.type),g7(b),null;case 19:if(e$(b),null===(d=b.memoizedState))return g7(b),null;if(e=0!=(128&b.flags),null===(f=d.rendering))if(e)g6(d,!1);else{if(0!==is||null!==a&&0!=(128&a.flags))for(a=b.child;null!==a;){if(null!==(f=e_(a))){for(b.flags|=128,g6(d,!1),b.updateQueue=a=f.updateQueue,g5(b,a),b.subtreeFlags=0,a=c,c=b.child;null!==c;)df(c,a),c=c.sibling;return eZ(b,1&eY.current|2),dE&&dx(b,d.treeForkCount),b.child}a=a.sibling}null!==d.tail&&ap()>iD&&(b.flags|=128,e=!0,g6(d,!1),b.lanes=4194304)}else{if(!e)if(null!==(a=e_(f))){if(b.flags|=128,e=!0,b.updateQueue=a=a.updateQueue,g5(b,a),g6(d,!0),null===d.tail&&"collapsed"!==d.tailMode&&"visible"!==d.tailMode&&!f.alternate&&!dE)return g7(b),null}else 2*ap()-d.renderingStartTime>iD&&0x20000000!==c&&(b.flags|=128,e=!0,g6(d,!1),b.lanes=4194304);d.isBackwards?(f.sibling=b.child,b.child=f):(null!==(a=d.last)?a.sibling=f:b.child=f,d.last=f)}if(null!==d.tail){a=d.tail;a:{for(c=a;null!==c;){if(null!==c.alternate){c=!1;break a}c=c.sibling}c=!0}return d.rendering=a,d.tail=a.sibling,d.renderingStartTime=ap(),a.sibling=null,f=eY.current,f=e?1&f|2:1&f,"visible"===d.tailMode||"collapsed"===d.tailMode||!c||dE?eZ(b,f):(c=f,Z(eR,b),Z(eY,c),null===eS&&(eS=b)),dE&&dx(b,d.treeForkCount),a}return g7(b),null;case 22:case 23:return eX(b),eQ(),d=null!==b.memoizedState,null!==a?null!==a.memoizedState!==d&&(b.flags|=8192):d&&(b.flags|=8192),d?0!=(0x20000000&c)&&0==(128&b.flags)&&(g7(b),6&b.subtreeFlags&&(b.flags|=8192)):g7(b),null!==(c=b.updateQueue)&&g5(b,c.retryQueue),c=null,null!==a&&null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(c=a.memoizedState.cachePool.pool),d=null,null!==b.memoizedState&&null!==b.memoizedState.cachePool&&(d=b.memoizedState.cachePool.pool),d!==c&&(b.flags|=2048),null!==a&&Y(ee),null;case 24:return c=null,null!==a&&(c=a.memoizedState.cache),b.memoizedState.cache!==c&&(b.flags|=2048),dT(d3),g7(b),null;case 25:return null;case 30:return b.flags|=0x2000000,g7(b),null}throw Error(g(156,b.tag))}(b.alternate,b,ir);if(null!==c){ij=c;return}if(null!==(b=b.sibling)){ij=b;return}ij=b=a}while(null!==b)0===is&&(is=5)}function ja(a,b){do{var c=function(a,b){switch(dA(b),b.tag){case 1:return 65536&(a=b.flags)?(b.flags=-65537&a|128,b):null;case 3:return dT(d3),ad(),0!=(65536&(a=b.flags))&&0==(128&a)?(b.flags=-65537&a|128,b):null;case 26:case 27:case 5:return af(b),null;case 31:if(null!==b.memoizedState){if(eX(b),null===b.alternate)throw Error(g(340));dM()}return 65536&(a=b.flags)?(b.flags=-65537&a|128,b):null;case 13:if(eX(b),null!==(a=b.memoizedState)&&null!==a.dehydrated){if(null===b.alternate)throw Error(g(340));dM()}return 65536&(a=b.flags)?(b.flags=-65537&a|128,b):null;case 19:return e$(b),65536&(a=b.flags)?(b.flags=-65537&a|128,null!==(a=b.memoizedState)&&(a.rendering=null,a.tail=null),b.flags|=4,b):null;case 4:return ad(),null;case 10:return dT(b.type),null;case 22:case 23:return eX(b),eQ(),null!==a&&Y(ee),65536&(a=b.flags)?(b.flags=-65537&a|128,b):null;case 24:return dT(d3),null;default:return null}}(a.alternate,a);if(null!==c){c.flags&=32767,ij=c;return}if(null!==(c=a.return)&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!b&&null!==(a=a.sibling)){ij=a;return}ij=a=c}while(null!==a)is=6,ij=null}function jb(a,b,c,d,e,f,h,i,j,k,l){a.cancelPendingCommit=null;do ji();while(0!==iG)if(0!=(6&ih))throw Error(g(327));if(null!==b){var m;if(b===a.current)throw Error(g(177));if(!function(a,b,c,d,e,f){var g=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var h=a.entanglements,i=a.expirationTimes,j=a.hiddenUpdates;for(c=g&~c;0<c;){var k=31-ay(c),l=1<<k;h[k]=0,i[k]=-1;var m=j[k];if(null!==m)for(j[k]=null,k=0;k<m.length;k++){var n=m[k];null!==n&&(n.lane&=-0x20000001)}c&=~l}0!==d&&aK(a,d,0),0!==f&&0===e&&0!==a.tag&&(a.suspendedLanes|=f&~(g&~b))}(a,c,f=b.lanes|b.childLanes|c3,h,i,j),a===ii&&(ij=ii=null,ik=0),iI=b,iH=a,iJ=c,iK=f,iL=e,iM=d,iO=null,(0x13ffff00&c)===c?(m=a.transitionTypes,a.transitionTypes=null,iP=m,d=10262):(iP=null,d=10256),0!=(b.subtreeFlags&d)||0!=(b.flags&d)?(a.callbackNode=null,a.callbackPriority=0,al(at,function(){return jj(),null})):(a.callbackNode=null,a.callbackPriority=0),ho=!1,d=0!=(13878&b.flags),0!=(13878&b.subtreeFlags)||d){d=S.T,S.T=null,e=T.p,T.p=2,h=ih,ih|=4;try{!function(a,b,c){if(a=a.containerInfo,j2=ll,cD(a=cC(a))){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else a:{var e=(d=(d=a.ownerDocument)&&d.defaultView||window).getSelection&&d.getSelection();if(e&&0!==e.rangeCount){d=e.anchorNode;var f,g=e.anchorOffset,h=e.focusNode;e=e.focusOffset;try{d.nodeType,h.nodeType}catch(a){d=null;break a}var i=0,j=-1,k=-1,l=0,m=0,n=a,o=null;b:for(;;){for(;n!==d||0!==g&&3!==n.nodeType||(j=i+g),n!==h||0!==e&&3!==n.nodeType||(k=i+e),3===n.nodeType&&(i+=n.nodeValue.length),null!==(f=n.firstChild);)o=n,n=f;for(;;){if(n===a)break b;if(o===d&&++l===g&&(j=i),o===h&&++m===e&&(k=i),null!==(f=n.nextSibling))break;o=(n=o).parentNode}n=f}d=-1===j||-1===k?null:{start:j,end:k}}else d=null}d=d||{start:0,end:0}}else d=null;for(j3={focusedElem:a,selectionRange:d},ll=!1,c=(0x13ffff00&c)===c,hI=b,b=c?9270:1028;null!==hI;){if(a=hI,c&&null!==(d=a.deletions))for(g=0;g<d.length;g++)c&&hz(d[g]);if(null===a.alternate&&0!=(2&a.flags))c&&hq(a),hN(c);else{if(22===a.tag){if(d=a.alternate,null!==a.memoizedState){null!==d&&null===d.memoizedState&&c&&hz(d),hN(c);continue}else if(null!==d&&null!==d.memoizedState){c&&hq(a),hN(c);continue}}d=a.child,0!=(a.subtreeFlags&b)&&null!==d?(d.return=a,hI=d):(c&&function a(b){for(b=b.child;null!==b;){if(30===b.tag){var c=b.memoizedProps,d=cZ(c,b.stateNode);c=c_(c.default,c.update),b.flags&=-5,"none"!==c&&hu(b,d,c,b.memoizedState=[],!1)}else 0!=(0x2000000&b.subtreeFlags)&&a(b);b=b.sibling}}(a),hN(c))}}hp=null}(a,b,c)}finally{ih=h,T.p=e,S.T=d}}iG=1,(b=ho)?iN=function(a,b,c,d,e,f,g,h,i){var j=9===b.nodeType?b:b.ownerDocument;try{var k=j.startViewTransition({update:function(){var b=j.defaultView,c=b.navigation&&b.navigation.transition,g=j.fonts.status;d();var h=[];if("loaded"===g&&(j.documentElement.clientHeight,"loading"===j.fonts.status&&h.push(j.fonts.ready)),g=h.length,null!==a)for(var i=a.suspenseyImages,k=0,l=0;l<i.length;l++){var m=i[l];if(!m.complete){var n=m.getBoundingClientRect();if(0<n.bottom&&0<n.right&&n.top<b.innerHeight&&n.left<b.innerWidth){if((k+=k4(m))>k6){h.length=g;break}m=new Promise(km.bind(m)),h.push(m)}}}return 0<h.length?(b=Promise.race([Promise.all(h),new Promise(function(a){return setTimeout(a,500)})]).then(e,e),(c?Promise.allSettled([c.finished,b]):b).then(f,f)):(e(),c)?c.finished.then(f,f):void f()},types:c});j.__reactViewTransition=k;var l=[];return k.ready.then(function(){for(var a=j.documentElement.getAnimations({subtree:!0}),b=0;b<a.length;b++){var c=a[b],d=c.effect,e=d.pseudoElement;if(null!=e&&e.startsWith("::view-transition")){l.push(c),c=d.getKeyframes();for(var f=e=void 0,h=!0,i=0;i<c.length;i++){var k=c[i],m=k.width;if(void 0===e)e=m;else if(e!==m){h=!1;break}if(m=k.height,void 0===f)f=m;else if(f!==m){h=!1;break}delete k.width,delete k.height,"none"===k.transform&&delete k.transform}h&&void 0!==e&&void 0!==f&&(d.setKeyframes(c),(h=getComputedStyle(d.target,d.pseudoElement)).width!==e||h.height!==f)&&((h=c[0]).width=e,h.height=f,(h=c[c.length-1]).width=e,h.height=f,d.setKeyframes(c))}}g()},function(a){j.__reactViewTransition===k&&(j.__reactViewTransition=null);try{"object"==typeof a&&null!==a&&"InvalidStateError"===a.name&&("View transition was skipped because document visibility state is hidden."===a.message||"Skipping view transition because document visibility state has become hidden."===a.message||"Skipping view transition because viewport size changed."===a.message||"Transition was aborted because of invalid state"===a.message)&&(a=null),null!==a&&i(a)}finally{d(),e(),g()}}),k.finished.finally(function(){for(var a=0;a<l.length;a++)l[a].cancel();j.__reactViewTransition===k&&(j.__reactViewTransition=null),h()}),k}catch(a){return d(),e(),g(),null}}(l,a.containerInfo,iP,je,jf,jd,jg,jj,jc,null,null):(je(),jf(),jg())}}function jc(a){0!==iG&&(0,iH.onRecoverableError)(a,{componentStack:null})}function jd(){3===iG&&(iG=0,h0(iI,iH),iG=4)}function je(){if(1===iG){iG=0;var a=iH,b=iI,c=iJ,d=0!=(13878&b.flags);if(0!=(13878&b.subtreeFlags)||d){d=S.T,S.T=null;var e=T.p;T.p=2;var f=ih;ih|=4;try{hK=hL=!1,hZ(b,a,c),c=j3;var g=cC(a.containerInfo),h=c.focusedElem,i=c.selectionRange;if(g!==h&&h&&h.ownerDocument&&function a(b,c){return!!b&&!!c&&(b===c||(!b||3!==b.nodeType)&&(c&&3===c.nodeType?a(b,c.parentNode):"contains"in b?b.contains(c):!!b.compareDocumentPosition&&!!(16&b.compareDocumentPosition(c))))}(h.ownerDocument.documentElement,h)){if(null!==i&&cD(h)){var j=i.start,k=i.end;if(void 0===k&&(k=j),"selectionStart"in h)h.selectionStart=j,h.selectionEnd=Math.min(k,h.value.length);else{var l=h.ownerDocument||document,m=l&&l.defaultView||window;if(m.getSelection){var n=m.getSelection(),o=h.textContent.length,p=Math.min(i.start,o),q=void 0===i.end?p:Math.min(i.end,o);!n.extend&&p>q&&(g=q,q=p,p=g);var r=cB(h,p),s=cB(h,q);if(r&&s&&(1!==n.rangeCount||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)){var t=l.createRange();t.setStart(r.node,r.offset),n.removeAllRanges(),p>q?(n.addRange(t),n.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),n.addRange(t))}}}}for(l=[],n=h;n=n.parentNode;)1===n.nodeType&&l.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"==typeof h.focus&&h.focus(),h=0;h<l.length;h++){var u=l[h];u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}ll=!!j2,j3=j2=null}finally{ih=f,T.p=e,S.T=d}}a.current=b,iG=2}}function jf(){if(2===iG){iG=0;var a=iH,b=iI,c=0!=(8772&b.flags);if(0!=(8772&b.subtreeFlags)||c){c=S.T,S.T=null;var d=T.p;T.p=2;var e=ih;ih|=4;try{hO(a,b.alternate,b)}finally{ih=e,T.p=d,S.T=c}}iG=3}}function jg(){if(4===iG||3===iG){iG=0,iN=null,ao();var a=iH,b=iI,c=iJ,d=iM,e=(0x13ffff00&c)===c?10262:10256;if(0!=(b.subtreeFlags&e)||0!=(b.flags&e)?iG=5:(iG=0,iI=iH=null,jh(a,a.pendingLanes)),0===(e=a.pendingLanes)&&(iF=null),aO(c),b=b.stateNode,ax&&"function"==typeof ax.onCommitFiberRoot)try{ax.onCommitFiberRoot(aw,b,void 0,128==(128&b.current.flags))}catch(a){}if(null!==d){b=S.T,e=T.p,T.p=2,S.T=null;try{for(var f=a.onRecoverableError,g=0;g<d.length;g++){var h=d[g];f(h.value,{componentStack:h.stack})}}finally{S.T=b,T.p=e}}if(d=iO,f=iP,iP=null,null!==d)for(iO=null,null===f&&(f=[]),h=0;h<d.length;h++)(0,d[h])(f);0!=(3&iJ)&&ji(),jx(a),e=a.pendingLanes,0!=(261930&c)&&0!=(42&e)?a===iR?iQ++:(iQ=0,iR=a):iQ=0,jy(0,!1)}}function jh(a,b){0==(a.pooledCacheLanes&=b)&&null!=(b=a.pooledCache)&&(a.pooledCache=null,d5(b))}function ji(){return null!==iN&&(iN.skipTransition(),iN=null),je(),jf(),jg(),jj()}function jj(){if(5!==iG)return!1;var a=iH,b=iK;iK=0;var c=aO(iJ),d=S.T,e=T.p;try{T.p=32>c?32:c,S.T=null,c=iL,iL=null;var f=iH,h=iJ;if(iG=0,iI=iH=null,iJ=0,0!=(6&ih))throw Error(g(331));var i=ih;if(ih|=4,ic(f.current),h5(f,f.current,h,c),ih=i,jy(0,!1),ax&&"function"==typeof ax.onPostCommitFiberRoot)try{ax.onPostCommitFiberRoot(aw,f)}catch(a){}return!0}finally{T.p=e,S.T=d,jh(a,b)}}function jk(a,b,c){b=dm(c,b),b=gw(a.stateNode,b,2),null!==(a=eE(a,b,2))&&(aJ(a,2),jx(a))}function jl(a,b,c){if(3===a.tag)jk(a,a,c);else for(;null!==b;){if(3===b.tag){jk(b,a,c);break}if(1===b.tag){var d=b.stateNode;if("function"==typeof b.type.getDerivedStateFromError||"function"==typeof d.componentDidCatch&&(null===iF||!iF.has(d))){a=dm(c,a),null!==(d=eE(b,c=gx(2),2))&&(gy(c,d,b,a),aJ(d,2),jx(d));break}}b=b.return}}function jm(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new ig;var e=new Set;d.set(b,e)}else void 0===(e=d.get(b))&&(e=new Set,d.set(b,e));e.has(c)||(iq=!0,e.add(c),a=jn.bind(null,a,b,c),b.then(a,a))}function jn(a,b,c){var d=a.pingCache;null!==d&&d.delete(b),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,ii===a&&(ik&c)===c&&(4===is||3===is&&(0x3c00000&ik)===ik&&300>ap()-iB?0==(2&ih)&&i_(a,0):iv|=c,ix===ik&&(ix=0)),jx(a)}function jo(a,b){0===b&&(b=aH()),null!==(a=c7(a,b))&&(aJ(a,b),jx(a))}function jp(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane),jo(a,c)}function jq(a,b){var c=0;switch(a.tag){case 31:case 13:var d=a.stateNode,e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(g(314))}null!==d&&d.delete(b),jo(a,c)}var jr=null,js=null,jt=!1,ju=!1,jv=!1,jw=0;function jx(a){a!==js&&null===a.next&&(null===js?jr=js=a:js=js.next=a),ju=!0,jt||(jt=!0,kc(function(){0!=(6&ih)?al(ar,jz):jA()}))}function jy(a,b){if(!jv&&ju){jv=!0;do for(var c=!1,d=jr;null!==d;){if(!b)if(0!==a){var e=d.pendingLanes;if(0===e)var f=0;else{var g=d.suspendedLanes,h=d.pingedLanes;f=0xc000095&(f=(1<<31-ay(42|a)+1)-1&(e&~(g&~h)))?0xc000095&f|1:f?2|f:0}0!==f&&(c=!0,jD(d,f))}else f=ik,0==(3&(f=aF(d,d===ii?f:0,null!==d.cancelPendingCommit||-1!==d.timeoutHandle)))||aG(d,f)||(c=!0,jD(d,f));d=d.next}while(c)jv=!1}}function jz(){jA()}function jA(){ju=jt=!1;var a,b=0;0===jw||((a=window.event)&&"popstate"===a.type?a===j8||(j8=a,0):(j8=null,1))||(b=jw);for(var c=ap(),d=null,e=jr;null!==e;){var f=e.next,g=jB(e,c);0===g?(e.next=null,null===d?jr=f:d.next=f,null===f&&(js=d)):(d=e,(0!==b||0!=(3&g))&&(ju=!0)),e=f}0!==iG&&5!==iG||jy(b,!1),0!==jw&&(jw=0)}function jB(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=-0x3c00001&a.pendingLanes;0<f;){var g=31-ay(f),h=1<<g,i=e[g];-1===i?(0==(h&c)||0!=(h&d))&&(e[g]=function(a,b){switch(a){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;default:return -1}}(h,b)):i<=b&&(a.expiredLanes|=h),f&=~h}if(b=ii,c=ik,c=aF(a,a===b?c:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle),d=a.callbackNode,0===c||a===b&&(2===il||9===il)||null!==a.cancelPendingCommit)return null!==d&&null!==d&&am(d),a.callbackNode=null,a.callbackPriority=0;if(0==(3&c)||aG(a,c)){if((b=c&-c)===a.callbackPriority)return b;switch(null!==d&&am(d),aO(c)){case 2:case 8:c=as;break;case 32:default:c=at;break;case 0x10000000:c=av}return c=al(c,d=jC.bind(null,a)),a.callbackPriority=b,a.callbackNode=c,b}return null!==d&&null!==d&&am(d),a.callbackPriority=2,a.callbackNode=null,2}function jC(a,b){if(0!==iG&&5!==iG)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(ji()&&a.callbackNode!==c)return null;var d=ik;return 0===(d=aF(a,a===ii?d:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle))?null:(iW(a,d,b),jB(a,ap()),null!=a.callbackNode&&a.callbackNode===c?jC.bind(null,a):null)}function jD(a,b){if(ji())return null;iW(a,b,!0)}function jE(){if(0===jw){var a=ea;0===a&&(a=aB,0==(261888&(aB<<=1))&&(aB=256)),jw=a}return jw}function jF(a){return null==a||"symbol"==typeof a||"boolean"==typeof a?null:"function"==typeof a?a:bA(""+a)}function jG(a,b){var c=b.ownerDocument.createElement("input");return c.name=b.name,c.value=b.value,a.id&&c.setAttribute("form",a.id),b.parentNode.insertBefore(c,b),a=new FormData(a),c.parentNode.removeChild(c),a}for(var jH=0;jH<cW.length;jH++){var jI=cW[jH];cX(jI.toLowerCase(),"on"+(jI[0].toUpperCase()+jI.slice(1)))}cX(cO,"onAnimationEnd"),cX(cP,"onAnimationIteration"),cX(cQ,"onAnimationStart"),cX("dblclick","onDoubleClick"),cX("focusin","onFocus"),cX("focusout","onBlur"),cX(cR,"onTransitionRun"),cX(cS,"onTransitionStart"),cX(cT,"onTransitionCancel"),cX(cU,"onTransitionEnd"),a7("onMouseEnter",["mouseout","mouseover"]),a7("onMouseLeave",["mouseout","mouseover"]),a7("onPointerEnter",["pointerout","pointerover"]),a7("onPointerLeave",["pointerout","pointerover"]),a6("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a6("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a6("onBeforeInput",["compositionend","keypress","textInput","paste"]),a6("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a6("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a6("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jJ="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jJ));function jL(a,b){b=0!=(4&b);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],i=h.instance,j=h.currentTarget;if(h=h.listener,i!==f&&e.isPropagationStopped())break a;f=h,e.currentTarget=j;try{f(e)}catch(a){c0(a)}e.currentTarget=null,f=i}else for(g=0;g<d.length;g++){if(i=(h=d[g]).instance,j=h.currentTarget,h=h.listener,i!==f&&e.isPropagationStopped())break a;f=h,e.currentTarget=j;try{f(e)}catch(a){c0(a)}e.currentTarget=null,f=i}}}}function jM(a,b){var c=b[aV];void 0===c&&(c=b[aV]=new Set);var d=a+"__bubble";c.has(d)||(jQ(b,a,2,!1),c.add(d))}function jN(a,b,c){var d=0;b&&(d|=4),jQ(c,a,d,b)}var jO="_reactListening"+Math.random().toString(36).slice(2);function jP(a){if(!a[jO]){a[jO]=!0,a4.forEach(function(b){"selectionchange"!==b&&(jK.has(b)||jN(b,!1,a),jN(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[jO]||(b[jO]=!0,jN("selectionchange",!1,b))}}function jQ(a,b,c,d){switch(ls(b)){case 2:var e=lm;break;case 8:e=ln;break;default:e=lo}c=e.bind(null,b,c,a),e=void 0,d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}function jR(a,b,c,d,e){var f=d;if(0==(1&b)&&0==(2&b)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e)break;if(4===g)for(g=d.return;null!==g;){var j=g.tag;if((3===j||4===j)&&g.stateNode.containerInfo===e)return;g=g.return}for(;null!==h;){if(null===(g=a_(h)))return;if(5===(j=g.tag)||6===j||26===j||27===j){d=f=g;continue a}h=h.parentNode}}d=d.return}bI(function(){var d=f,e=bD(c),g=[];a:{var h=cV.get(a);if(void 0!==h){var j=bY,k=a;switch(a){case"keypress":if(0===bO(c))break a;case"keydown":case"keyup":j=cb;break;case"focusin":k="focus",j=b2;break;case"focusout":k="blur",j=b2;break;case"beforeblur":case"afterblur":j=b2;break;case"click":if(2===c.button)break a;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=b0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=cd;break;case cO:case cP:case cQ:j=b3;break;case cU:j=ce;break;case"scroll":case"scrollend":j=b$;break;case"wheel":j=cf;break;case"copy":case"cut":case"paste":j=b4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=cc;break;case"toggle":case"beforetoggle":j=cg}var l=0!=(4&b),m=!l&&("scroll"===a||"scrollend"===a),n=l?null!==h?h+"Capture":null:h;l=[];for(var o,p=d;null!==p;){var q=p;if(o=q.stateNode,5!==(q=q.tag)&&26!==q&&27!==q||null===o||null===n||null!=(q=bJ(p,n))&&l.push(jS(p,q,o)),m)break;p=p.return}0<l.length&&(h=new j(h,k,null,c,e),g.push({event:h,listeners:l}))}}if(0==(7&b)){j="mouseover"===a||"pointerover"===a,h="mouseout"===a||"pointerout"===a,!(j&&c!==bC&&(k=c.relatedTarget||c.fromElement)&&(a_(k)||k[aU]))&&(h||j)&&(k=e.window===e?e:(j=e.ownerDocument)?j.defaultView||j.parentWindow:window,h?(j=c.relatedTarget||c.toElement,h=d,null!==(j=j?a_(j):null)&&(m=i(j),l=j.tag,j!==m||5!==l&&27!==l&&6!==l)&&(j=null)):(h=null,j=d),h!==j&&(l=b0,q="onMouseLeave",n="onMouseEnter",p="mouse",("pointerout"===a||"pointerover"===a)&&(l=cc,q="onPointerLeave",n="onPointerEnter",p="pointer"),m=null==h?k:a1(h),o=null==j?k:a1(j),(k=new l(q,p+"leave",h,c,e)).target=m,k.relatedTarget=o,q=null,a_(e)===d&&((l=new l(n,p+"enter",j,c,e)).target=o,l.relatedTarget=m,q=l),m=q,l=h&&j?v(h,j,jU):null,null!==h&&jV(g,k,h,l,!1),null!==j&&null!==m&&jV(g,m,j,l,!0)));a:{if("select"===(j=(h=d?a1(d):window).nodeName&&h.nodeName.toLowerCase())||"input"===j&&"file"===h.type)var r,s,t,u=cr;else if(cl(h))if(1){u=cv;var w=cu}else u=cx;else(j=h.nodeName)&&"input"===j.toLowerCase()&&("checkbox"===h.type||"radio"===h.type)?u=cw:d&&bx(d.elementType)&&(u=cr);if(u&&(u=u(a,d))){cm(g,u,c,e);break a}w&&w(a,h,d),"focusout"===a&&d&&"number"===h.type&&null!=d.memoizedProps.value&&bp(h,"number",h.value)}switch(w=d?a1(d):window,a){case"focusin":(cl(w)||"true"===w.contentEditable)&&(cE=w,cF=d,cG=null);break;case"focusout":cG=cF=cE=null;break;case"mousedown":cH=!0;break;case"contextmenu":case"mouseup":case"dragend":cH=!1,cI(g,c,e);break;case"selectionchange":0;case"keydown":case"keyup":cI(g,c,e)}cj?ci(a,c)&&(t="onCompositionEnd"):"keydown"===a&&229===c.keyCode&&(t="onCompositionStart"),t&&0<(w=jT(d,t)).length&&(t=new b5(t,a,null,c,e),g.push({event:t,listeners:w}),s?t.data=s:null!==(s="object"==typeof(r=(r=c).detail)&&"data"in r?r.data:null)&&(t.data=s)),(s=function(a,b){if(cj)return"compositionend"===a||ci(a,b)?(a=bN(),bM=bL=bK=null,cj=!1,a):null;switch(a){case"paste":default:return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return b.data}}(a,c))&&0<(t=jT(d,"onBeforeInput")).length&&(w=new b5("onBeforeInput","beforeinput",null,c,e),g.push({event:w,listeners:t}),w.data=s);var x=a;if("submit"===x&&d&&d.stateNode===e){var y=jF((e[aT]||null).action),z=c.submitter;z&&null!==(x=(x=z[aT]||null)?jF(x.formAction):z.getAttribute("formAction"))&&(y=x,z=null);var A=new bY("action","action",null,c,e);g.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(0!==jw){var a=z?jG(e,z):new FormData(e);f4(d,{pending:!0,data:a,method:e.method,action:y},null,a)}}else"function"==typeof y&&(A.preventDefault(),f4(d,{pending:!0,data:a=z?jG(e,z):new FormData(e),method:e.method,action:y},y,a))},currentTarget:e}]})}}jL(g,b)})}function jS(a,b,c){return{instance:a,listener:b,currentTarget:c}}function jT(a,b){for(var c=b+"Capture",d=[];null!==a;){var e=a,f=e.stateNode;if(5!==(e=e.tag)&&26!==e&&27!==e||null===f||(null!=(e=bJ(a,c))&&d.unshift(jS(a,e,f)),null!=(e=bJ(a,b))&&d.push(jS(a,e,f))),3===a.tag)return d;a=a.return}return[]}function jU(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag&&27!==a.tag)return a||null}function jV(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,i=h.alternate,j=h.stateNode;if(h=h.tag,null!==i&&i===d)break;5!==h&&26!==h&&27!==h||null===j||(i=j,e?null!=(j=bJ(c,f))&&g.unshift(jS(c,j,i)):e||null!=(j=bJ(c,f))&&g.push(jS(c,j,i))),c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var jW=/\r\n?/g,jX=/\u0000|\uFFFD/g;function jY(a){return("string"==typeof a?a:""+a).replace(jW,"\n").replace(jX,"")}function jZ(a,b){return b=jY(b),jY(a)===b}function j$(a,b,c,d,e,f){switch(c){case"children":if("string"==typeof d)"body"===b||"textarea"===b&&""===d||bt(a,d);else{if("number"!=typeof d&&"bigint"!=typeof d)return;"body"!==b&&bt(a,""+d)}break;case"className":be(a,"class",d);break;case"tabIndex":be(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":be(a,c,d);break;case"style":bw(a,d,f);return;case"data":if("object"!==b){be(a,"data",d);break}case"src":case"href":if(""===d&&("a"!==b||"href"!==c)||null==d||"function"==typeof d||"symbol"==typeof d||"boolean"==typeof d){a.removeAttribute(c);break}d=bA(""+d),a.setAttribute(c,d);break;case"action":case"formAction":if("function"==typeof d){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof f&&("formAction"===c?("input"!==b&&j$(a,b,"name",e.name,e,null),j$(a,b,"formEncType",e.formEncType,e,null),j$(a,b,"formMethod",e.formMethod,e,null),j$(a,b,"formTarget",e.formTarget,e,null)):(j$(a,b,"encType",e.encType,e,null),j$(a,b,"method",e.method,e,null),j$(a,b,"target",e.target,e,null))),null==d||"symbol"==typeof d||"boolean"==typeof d){a.removeAttribute(c);break}d=bA(""+d),a.setAttribute(c,d);break;case"onClick":null!=d&&(a.onclick=bB);return;case"onScroll":null!=d&&jM("scroll",a);return;case"onScrollEnd":null!=d&&jM("scrollend",a);return;case"dangerouslySetInnerHTML":if(null!=d){if("object"!=typeof d||!("__html"in d))throw Error(g(61));if(null!=(c=d.__html)){if(null!=e.children)throw Error(g(60));a.innerHTML=c}}break;case"multiple":a.multiple=d&&"function"!=typeof d&&"symbol"!=typeof d;break;case"muted":a.muted=d&&"function"!=typeof d&&"symbol"!=typeof d;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==d||"function"==typeof d||"boolean"==typeof d||"symbol"==typeof d){a.removeAttribute("xlink:href");break}c=bA(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=d&&"function"!=typeof d&&"symbol"!=typeof d?a.setAttribute(c,""+d):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&"function"!=typeof d&&"symbol"!=typeof d?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":!0===d?a.setAttribute(c,""):!1!==d&&null!=d&&"function"!=typeof d&&"symbol"!=typeof d?a.setAttribute(c,d):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":null!=d&&"function"!=typeof d&&"symbol"!=typeof d&&!isNaN(d)&&1<=d?a.setAttribute(c,d):a.removeAttribute(c);break;case"rowSpan":case"start":null==d||"function"==typeof d||"symbol"==typeof d||isNaN(d)?a.removeAttribute(c):a.setAttribute(c,d);break;case"popover":jM("beforetoggle",a),jM("toggle",a),bd(a,"popover",d);break;case"xlinkActuate":bf(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":bf(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":bf(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":bf(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":bf(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":bf(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":bf(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":bf(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":bf(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":bd(a,"is",d);break;case"innerText":case"textContent":return;default:if(2<c.length&&("o"===c[0]||"O"===c[0])&&("n"===c[1]||"N"===c[1]))return;bd(a,c=by.get(c)||c,d)}bb=!0}function j_(a,b,c,d,e,f){switch(c){case"style":bw(a,d,f);return;case"dangerouslySetInnerHTML":if(null!=d){if("object"!=typeof d||!("__html"in d))throw Error(g(61));if(null!=(c=d.__html)){if(null!=e.children)throw Error(g(60));a.innerHTML=c}}break;case"children":if("string"==typeof d)bt(a,d);else{if("number"!=typeof d&&"bigint"!=typeof d)return;bt(a,""+d)}break;case"onScroll":null!=d&&jM("scroll",a);return;case"onScrollEnd":null!=d&&jM("scrollend",a);return;case"onClick":null!=d&&(a.onclick=bB);return;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":return;default:if(!a5.hasOwnProperty(c))a:{if("o"===c[0]&&"n"===c[1]&&(e=c.endsWith("Capture"),b=c.slice(2,e?c.length-7:void 0),"function"==typeof(f=null!=(f=a[aT]||null)?f[c]:null)&&a.removeEventListener(b,f,e),"function"==typeof d)){"function"!=typeof f&&null!==f&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(b,d,e);break a}bb=!0,c in a?a[c]=d:!0===d?a.setAttribute(c,""):bd(a,c,d)}return}bb=!0}function j0(a,b,c){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jM("error",a),jM("load",a);var d,e=!1,f=!1;for(d in c)if(c.hasOwnProperty(d)){var h=c[d];if(null!=h)switch(d){case"src":e=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(g(137,b));default:j$(a,b,d,h,c,null)}}f&&j$(a,b,"srcSet",c.srcSet,c,null),e&&j$(a,b,"src",c.src,c,null);return;case"input":jM("invalid",a);var i=d=h=f=null,j=null,k=null;for(e in c)if(c.hasOwnProperty(e)){var l=c[e];if(null!=l)switch(e){case"name":f=l;break;case"type":h=l;break;case"checked":j=l;break;case"defaultChecked":k=l;break;case"value":d=l;break;case"defaultValue":i=l;break;case"children":case"dangerouslySetInnerHTML":if(null!=l)throw Error(g(137,b));break;default:j$(a,b,e,l,c,null)}}bo(a,d,i,j,k,h,f,!1);return;case"select":for(f in jM("invalid",a),e=h=d=null,c)if(c.hasOwnProperty(f)&&null!=(i=c[f]))switch(f){case"value":d=i;break;case"defaultValue":h=i;break;case"multiple":e=i;default:j$(a,b,f,i,c,null)}b=d,c=h,a.multiple=!!e,null!=b?bq(a,!!e,b,!1):null!=c&&bq(a,!!e,c,!0);return;case"textarea":for(h in jM("invalid",a),d=f=e=null,c)if(c.hasOwnProperty(h)&&null!=(i=c[h]))switch(h){case"value":e=i;break;case"defaultValue":f=i;break;case"children":d=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(g(91));break;default:j$(a,b,h,i,c,null)}bs(a,e,f,d);return;case"option":for(j in c)c.hasOwnProperty(j)&&null!=(e=c[j])&&("selected"===j?a.selected=e&&"function"!=typeof e&&"symbol"!=typeof e:j$(a,b,j,e,c,null));return;case"dialog":jM("beforetoggle",a),jM("toggle",a),jM("cancel",a),jM("close",a);break;case"iframe":case"object":jM("load",a);break;case"video":case"audio":for(e=0;e<jJ.length;e++)jM(jJ[e],a);break;case"image":jM("error",a),jM("load",a);break;case"details":jM("toggle",a);break;case"embed":case"source":case"link":jM("error",a),jM("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in c)if(c.hasOwnProperty(k)&&null!=(e=c[k]))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(g(137,b));default:j$(a,b,k,e,c,null)}return;default:if(bx(b)){for(l in c)c.hasOwnProperty(l)&&void 0!==(e=c[l])&&j_(a,b,l,e,c,void 0);return}}for(i in c)c.hasOwnProperty(i)&&null!=(e=c[i])&&j$(a,b,i,e,c,null)}function j1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var j2=null,j3=null;function j4(a){return 9===a.nodeType?a:a.ownerDocument}function j5(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j6(a,b){if(0===a)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return 1===a&&"foreignObject"===b?0:a}function j7(a,b){return"textarea"===a||"noscript"===a||"string"==typeof b.children||"number"==typeof b.children||"bigint"==typeof b.children||"object"==typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var j8=null,j9="function"==typeof setTimeout?setTimeout:void 0,ka="function"==typeof clearTimeout?clearTimeout:void 0,kb="function"==typeof Promise?Promise:void 0,kc="function"==typeof queueMicrotask?queueMicrotask:void 0!==kb?function(a){return kb.resolve(null).then(a).catch(kd)}:j9;function kd(a){setTimeout(function(){throw a})}function ke(a){return"head"===a}function kf(a,b){var c=b,d=0;do{var e=c.nextSibling;if(a.removeChild(c),e&&8===e.nodeType)if("/$"===(c=e.data)||"/&"===c){if(0===d){a.removeChild(e),lK(b);return}d--}else if("$"===c||"$?"===c||"$~"===c||"$!"===c||"&"===c)d++;else if("html"===c)kK(a.ownerDocument.documentElement);else if("head"===c){kK(c=a.ownerDocument.head);for(var f=c.firstChild;f;){var g=f.nextSibling,h=f.nodeName;f[aZ]||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===f.rel.toLowerCase()||c.removeChild(f),f=g}}else"body"===c&&kK(a.ownerDocument.body);c=e}while(c)lK(b)}function kg(a,b){var c=a;a=0;do{var d=c.nextSibling;if(1===c.nodeType?b?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",""===c.getAttribute("style")&&c.removeAttribute("style")):3===c.nodeType&&(b?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&8===d.nodeType)if("/$"===(c=d.data))if(0===a)break;else a--;else"$"!==c&&"$?"!==c&&"$~"!==c&&"$!"!==c||a++;c=d}while(c)}function kh(a,b,c){if(b=CSS.escape(b)!==b?"r-"+btoa(b).replace(/=/g,""):b,a.style.viewTransitionName=b,null!=c&&(a.style.viewTransitionClass=c),"inline"===(c=getComputedStyle(a)).display){if(1===(b=a.getClientRects()).length)var d=1;else for(var e=d=0;e<b.length;e++){var f=b[e];0<f.width&&0<f.height&&d++}1===d&&((a=a.style).display=1===b.length?"inline-block":"block",a.marginTop="-"+c.paddingTop,a.marginBottom="-"+c.paddingBottom)}}function ki(a,b){a=a.style;var c=null!=(b=b.style)?b.hasOwnProperty("viewTransitionName")?b.viewTransitionName:b.hasOwnProperty("view-transition-name")?b["view-transition-name"]:null:null;a.viewTransitionName=null==c||"boolean"==typeof c?"":(""+c).trim(),c=null!=b?b.hasOwnProperty("viewTransitionClass")?b.viewTransitionClass:b.hasOwnProperty("view-transition-class")?b["view-transition-class"]:null:null,a.viewTransitionClass=null==c||"boolean"==typeof c?"":(""+c).trim(),"inline-block"===a.display&&(null==b?a.display=a.margin="":(c=b.display,a.display=null==c||"boolean"==typeof c?"":c,null!=(c=b.margin)?a.margin=c:(c=b.hasOwnProperty("marginTop")?b.marginTop:b["margin-top"],a.marginTop=null==c||"boolean"==typeof c?"":c,b=b.hasOwnProperty("marginBottom")?b.marginBottom:b["margin-bottom"],a.marginBottom=null==b||"boolean"==typeof b?"":b)))}function kj(a,b,c){return c=c.ownerDocument.defaultView,{rect:a,abs:"absolute"===b.position||"fixed"===b.position,clip:"none"!==b.clipPath||"visible"!==b.overflow||"none"!==b.filter||"none"!==b.mask||"none"!==b.mask||"0px"!==b.borderRadius,view:0<=a.bottom&&0<=a.right&&a.top<=c.innerHeight&&a.left<=c.innerWidth}}function kk(a){return kj(a.getBoundingClientRect(),getComputedStyle(a),a)}function kl(a){var b=a.getBoundingClientRect();return kj(b=new DOMRect(b.x+2e4,b.y+2e4,b.width,b.height),getComputedStyle(a),a)}function km(a){this.addEventListener("load",a),this.addEventListener("error",a)}function kn(a,b){this._scope=document.documentElement,this._selector="::view-transition-"+a+"("+b+")"}function ko(a){return{name:a,group:new kn("group",a),imagePair:new kn("image-pair",a),old:new kn("old",a),new:new kn("new",a)}}function kp(a){this._fragmentFiber=a,this._observers=this._eventListeners=null}function kq(a,b,c,d){return o(a).addEventListener(b,c,d),!1}function kr(a,b,c,d){return o(a).removeEventListener(b,c,d),!1}function ks(a){return null==a?"0":"boolean"==typeof a?"c="+(a?"1":"0"):"c="+(a.capture?"1":"0")+"&o="+(a.once?"1":"0")+"&p="+(a.passive?"1":"0")}function kt(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e];if(f.type===b&&f.listener===c&&ks(f.optionsOrUseCapture)===ks(d))return e}return -1}function ku(a,b){var c=a=o(a),d=b;function e(){f=!0}var f=!1;try{c.addEventListener("focus",e),(c.focus||HTMLElement.prototype.focus).call(c,d)}finally{c.removeEventListener("focus",e)}return f}function kv(a,b){return b.push(a),!1}function kw(a){return(a=o(a))===a.ownerDocument.activeElement&&(a.blur(),!0)}function kx(a,b){return a=o(a),b.observe(a),!1}function ky(a,b){return a=o(a),b.unobserve(a),!1}function kz(a,b){return a=o(a),b.push.apply(b,a.getClientRects()),!1}function kA(a,b){var c=b._eventListeners;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];a.addEventListener(e.type,e.listener,e.optionsOrUseCapture)}null!==b._observers&&b._observers.forEach(function(b){b.observe(a)})}function kB(a){var b=a.firstChild;for(b&&10===b.nodeType&&(b=b.nextSibling);b;){var c=b;switch(b=b.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":kB(c),a$(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===c.rel.toLowerCase())continue}a.removeChild(c)}}function kC(a,b){for(;8!==a.nodeType;)if((1!==a.nodeType||"INPUT"!==a.nodeName||"hidden"!==a.type)&&!b||null===(a=kF(a.nextSibling)))return null;return a}function kD(a){return"$?"===a.data||"$~"===a.data}function kE(a){return"$!"===a.data||"$?"===a.data&&"loading"!==a.ownerDocument.readyState}function kF(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){if("$"===(b=a.data)||"$!"===b||"$?"===b||"$~"===b||"&"===b||"F!"===b||"F"===b)break;if("/$"===b||"/&"===b)return null}}return a}kn.prototype.animate=function(a,b){return(b="number"==typeof b?{duration:b}:w({},b)).pseudoElement=this._selector,this._scope.animate(a,b)},kn.prototype.getAnimations=function(){for(var a=this._scope,b=this._selector,c=a.getAnimations({subtree:!0}),d=[],e=0;e<c.length;e++){var f=c[e].effect;null!==f&&f.target===a&&f.pseudoElement===b&&d.push(c[e])}return d},kn.prototype.getComputedStyle=function(){return getComputedStyle(this._scope,this._selector)},kp.prototype.addEventListener=function(a,b,c){null===this._eventListeners&&(this._eventListeners=[]);var d=this._eventListeners;-1===kt(d,a,b,c)&&(d.push({type:a,listener:b,optionsOrUseCapture:c}),m(this._fragmentFiber.child,!1,kq,a,b,c)),this._eventListeners=d},kp.prototype.removeEventListener=function(a,b,c){var d=this._eventListeners;null!=d&&0<d.length&&(m(this._fragmentFiber.child,!1,kr,a,b,c),a=kt(d,a,b,c),null!==this._eventListeners&&this._eventListeners.splice(a,1))},kp.prototype.dispatchEvent=function(a){var b=n(this._fragmentFiber);if(null===b)return!0;b=o(b);var c=this._eventListeners;if(null!==c&&0<c.length||!a.bubbles){var d=document.createTextNode("");if(c)for(var e=0;e<c.length;e++){var f=c[e];d.addEventListener(f.type,f.listener,f.optionsOrUseCapture)}if(b.appendChild(d),a=d.dispatchEvent(a),c)for(e=0;e<c.length;e++)f=c[e],d.removeEventListener(f.type,f.listener,f.optionsOrUseCapture);return b.removeChild(d),a}return b.dispatchEvent(a)},kp.prototype.focus=function(a){m(this._fragmentFiber.child,!0,ku,a,void 0,void 0)},kp.prototype.focusLast=function(a){var b=[];m(this._fragmentFiber.child,!0,kv,b,void 0,void 0);for(var c=b.length-1;0<=c&&!ku(b[c],a);c--);},kp.prototype.blur=function(){m(this._fragmentFiber.child,!1,kw,void 0,void 0,void 0)},kp.prototype.observeUsing=function(a){null===this._observers&&(this._observers=new Set),this._observers.add(a),m(this._fragmentFiber.child,!1,kx,a,void 0,void 0)},kp.prototype.unobserveUsing=function(a){var b=this._observers;null!==b&&b.has(a)&&(b.delete(a),m(this._fragmentFiber.child,!1,ky,a,void 0,void 0))},kp.prototype.getClientRects=function(){var a=[];return m(this._fragmentFiber.child,!1,kz,a,void 0,void 0),a},kp.prototype.getRootNode=function(a){var b=n(this._fragmentFiber);return null===b?this:o(b).getRootNode(a)},kp.prototype.compareDocumentPosition=function(a){var b=n(this._fragmentFiber);if(null===b)return Node.DOCUMENT_POSITION_DISCONNECTED;var c=[];m(this._fragmentFiber.child,!1,kv,c,void 0,void 0);var d=o(b);if(0===c.length){c=this._fragmentFiber;var e=d.compareDocumentPosition(a);return b=e,d===a?b=Node.DOCUMENT_POSITION_CONTAINS:e&Node.DOCUMENT_POSITION_CONTAINED_BY&&(m(c.sibling,!1,r),c=p,p=null,b=null===c?Node.DOCUMENT_POSITION_PRECEDING:0===(a=o(c).compareDocumentPosition(a))||a&Node.DOCUMENT_POSITION_FOLLOWING?Node.DOCUMENT_POSITION_FOLLOWING:Node.DOCUMENT_POSITION_PRECEDING),b|Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC}b=o(c[0]),e=o(c[c.length-1]);for(var f=o(c[0]),g=!1,h=this._fragmentFiber.return;null!==h&&(4===h.tag&&(g=!0),3!==h.tag&&5!==h.tag);)h=h.return;if(null==(f=g?f.parentElement:d))return Node.DOCUMENT_POSITION_DISCONNECTED;d=f.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY,f=f.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY,g=b.compareDocumentPosition(a);var i=e.compareDocumentPosition(a);return h=g&Node.DOCUMENT_POSITION_CONTAINED_BY||i&Node.DOCUMENT_POSITION_CONTAINED_BY,i=d&&f&&g&Node.DOCUMENT_POSITION_FOLLOWING&&i&Node.DOCUMENT_POSITION_PRECEDING,(b=d&&b===a||f&&e===a||h||i?Node.DOCUMENT_POSITION_CONTAINED_BY:(d||b!==a)&&(f||e!==a)?g:Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)&Node.DOCUMENT_POSITION_DISCONNECTED||b&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC||function(a,b,c,d,e){var f=a_(e);if(a&Node.DOCUMENT_POSITION_CONTAINED_BY){if(c=!!f)a:{for(;null!==f;){if(7===f.tag&&(f===b||f.alternate===b)){c=!0;break a}f=f.return}c=!1}return c}if(a&Node.DOCUMENT_POSITION_CONTAINS){if(null===f)return f=e.ownerDocument,e===f||e===f.body;a:{for(f=b,b=n(b);null!==f;){if((5===f.tag||3===f.tag)&&(f===b||f.alternate===b)){f=!0;break a}f=f.return}f=!1}return f}return a&Node.DOCUMENT_POSITION_PRECEDING?((b=!!f)&&!(b=f===c)&&(null===(b=v(c,f,u))?b=!1:(m(b,!0,s,f,c),f=p,p=null,b=null!==f)),b):!!(a&Node.DOCUMENT_POSITION_FOLLOWING)&&((b=!!f)&&!(b=f===d)&&(null===(b=v(d,f,u))?b=!1:(m(b,!0,t,f,d),f=p,q=p=null,b=null!==f)),b)}(b,this._fragmentFiber,c[0],c[c.length-1],a)?b:Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC},kp.prototype.scrollIntoView=function(a){if("object"==typeof a)throw Error(g(566));var b=[];m(this._fragmentFiber.child,!1,kv,b,void 0,void 0);var c=!1!==a;if(0===b.length){b=this._fragmentFiber;var d=[null,null],e=n(b);null!==e&&function a(b,c,d){for(var e=3<arguments.length&&void 0!==arguments[3]&&arguments[3];null!==d;){if(d===c)if(e=!0,!d.sibling)return!0;else d=d.sibling;if(5===d.tag){if(e)return b[1]=d,!0;b[0]=d}else if((22!==d.tag||null===d.memoizedState)&&a(b,c,d.child,e))return!0;d=d.sibling}return!1}(d,b,e.child),null!==(c=c?d[1]||d[0]||n(this._fragmentFiber):d[0]||d[1])&&o(c).scrollIntoView(a)}else for(d=c?b.length-1:0;d!==(c?-1:b.length);)o(b[d]).scrollIntoView(a),d+=c?-1:1};var kG=null;function kH(a){a=a.nextSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if("/$"===c||"/&"===c){if(0===b)return kF(a.nextSibling);b--}else"$"!==c&&"$!"!==c&&"$?"!==c&&"$~"!==c&&"&"!==c||b++}a=a.nextSibling}return null}function kI(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if("$"===c||"$!"===c||"$?"===c||"$~"===c||"&"===c){if(0===b)return a;b--}else"/$"!==c&&"/&"!==c||b++}a=a.previousSibling}return null}function kJ(a,b,c){switch(b=j4(c),a){case"html":if(!(a=b.documentElement))throw Error(g(452));return a;case"head":if(!(a=b.head))throw Error(g(453));return a;case"body":if(!(a=b.body))throw Error(g(454));return a;default:throw Error(g(451))}}function kK(a){for(var b=a.attributes;b.length;)a.removeAttributeNode(b[0]);a$(a)}var kL=new Map,kM=new Set;function kN(a){return"function"==typeof a.getRootNode?a.getRootNode():9===a.nodeType?a:a.ownerDocument}var kO=T.d;T.d={f:function(){var a=kO.f(),b=iZ();return a||b},r:function(a){var b=a0(a);null!==b&&5===b.tag&&"form"===b.type?f6(b):kO.r(a)},D:function(a){kO.D(a),kQ("dns-prefetch",a,null)},C:function(a,b){kO.C(a,b),kQ("preconnect",a,b)},L:function(a,b,c){if(kO.L(a,b,c),kP&&a&&b){var d='link[rel="preload"][as="'+bm(b)+'"]';"image"===b&&c&&c.imageSrcSet?(d+='[imagesrcset="'+bm(c.imageSrcSet)+'"]',"string"==typeof c.imageSizes&&(d+='[imagesizes="'+bm(c.imageSizes)+'"]')):d+='[href="'+bm(a)+'"]';var e=d;switch(b){case"style":e=kS(a);break;case"script":e=kV(a)}kL.has(e)||(a=w({rel:"preload",href:"image"===b&&c&&c.imageSrcSet?void 0:a,as:b},c),kL.set(e,a),null!==kP.querySelector(d)||"style"===b&&kP.querySelector(kT(e))||"script"===b&&kP.querySelector(kW(e))||(j0(b=kP.createElement("link"),"link",a),a3(b),kP.head.appendChild(b)))}},m:function(a,b){if(kO.m(a,b),kP&&a){var c=b&&"string"==typeof b.as?b.as:"script",d='link[rel="modulepreload"][as="'+bm(c)+'"][href="'+bm(a)+'"]',e=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":e=kV(a)}if(!kL.has(e)&&(a=w({rel:"modulepreload",href:a},b),kL.set(e,a),null===kP.querySelector(d))){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(kP.querySelector(kW(e)))return}j0(c=kP.createElement("link"),"link",a),a3(c),kP.head.appendChild(c)}}},X:function(a,b){if(kO.X(a,b),kP&&a){var c=a2(kP).hoistableScripts,d=kV(a),e=c.get(d);e||((e=kP.querySelector(kW(d)))||(a=w({src:a,async:!0},b),(b=kL.get(d))&&k$(a,b),a3(e=kP.createElement("script")),j0(e,"link",a),kP.head.appendChild(e)),e={type:"script",instance:e,count:1,state:null},c.set(d,e))}},S:function(a,b,c){if(kO.S(a,b,c),kP&&a){var d=a2(kP).hoistableStyles,e=kS(a);b=b||"default";var f=d.get(e);if(!f){var g={loading:0,preload:null};if(f=kP.querySelector(kT(e)))g.loading=5;else{a=w({rel:"stylesheet",href:a,"data-precedence":b},c),(c=kL.get(e))&&kZ(a,c);var h=f=kP.createElement("link");a3(h),j0(h,"link",a),h._p=new Promise(function(a,b){h.onload=a,h.onerror=b}),h.addEventListener("load",function(){g.loading|=1}),h.addEventListener("error",function(){g.loading|=2}),g.loading|=4,kY(f,b,kP)}f={type:"stylesheet",instance:f,count:1,state:g},d.set(e,f)}}},M:function(a,b){if(kO.M(a,b),kP&&a){var c=a2(kP).hoistableScripts,d=kV(a),e=c.get(d);e||((e=kP.querySelector(kW(d)))||(a=w({src:a,async:!0,type:"module"},b),(b=kL.get(d))&&k$(a,b),a3(e=kP.createElement("script")),j0(e,"link",a),kP.head.appendChild(e)),e={type:"script",instance:e,count:1,state:null},c.set(d,e))}}};var kP="undefined"==typeof document?null:document;function kQ(a,b,c){if(kP&&"string"==typeof b&&b){var d=bm(b);d='link[rel="'+a+'"][href="'+d+'"]',"string"==typeof c&&(d+='[crossorigin="'+c+'"]'),kM.has(d)||(kM.add(d),a={rel:a,crossOrigin:c,href:b},null===kP.querySelector(d)&&(j0(b=kP.createElement("link"),"link",a),a3(b),kP.head.appendChild(b)))}}function kR(a,b,c,d){var e=(e=aa.current)?kN(e):null;if(!e)throw Error(g(446));switch(a){case"meta":case"title":return null;case"style":return"string"==typeof c.precedence&&"string"==typeof c.href?(b=kS(c.href),(d=(c=a2(e).hoistableStyles).get(b))||(d={type:"style",instance:null,count:0,state:null},c.set(b,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===c.rel&&"string"==typeof c.href&&"string"==typeof c.precedence){a=kS(c.href);var f,h,i,j,k=a2(e).hoistableStyles,l=k.get(a);if(l||(e=e.ownerDocument||e,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(a,l),(k=e.querySelector(kT(a)))&&!k._p&&(l.instance=k,l.state.loading=5),kL.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},kL.set(a,c),k||(f=e,h=a,i=c,j=l.state,f.querySelector('link[rel="preload"][as="style"]['+h+"]")?j.loading=1:(j.preload=h=f.createElement("link"),h.addEventListener("load",function(){return j.loading|=1}),h.addEventListener("error",function(){return j.loading|=2}),j0(h,"link",i),a3(h),f.head.appendChild(h))))),b&&null===d)throw Error(g(528,""));return l}if(b&&null!==d)throw Error(g(529,""));return null;case"script":return b=c.async,"string"==typeof(c=c.src)&&b&&"function"!=typeof b&&"symbol"!=typeof b?(b=kV(c),(d=(c=a2(e).hoistableScripts).get(b))||(d={type:"script",instance:null,count:0,state:null},c.set(b,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(g(444,a))}}function kS(a){return'href="'+bm(a)+'"'}function kT(a){return'link[rel="stylesheet"]['+a+"]"}function kU(a){return w({},a,{"data-precedence":a.precedence,precedence:null})}function kV(a){return'[src="'+bm(a)+'"]'}function kW(a){return"script[async]"+a}function kX(a,b,c){if(b.count++,null===b.instance)switch(b.type){case"style":var d=a.querySelector('style[data-href~="'+bm(c.href)+'"]');if(d)return b.instance=d,a3(d),d;var e=w({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return a3(d=(a.ownerDocument||a).createElement("style")),j0(d,"style",e),kY(d,c.precedence,a),b.instance=d;case"stylesheet":e=kS(c.href);var f=a.querySelector(kT(e));if(f)return b.state.loading|=4,b.instance=f,a3(f),f;d=kU(c),(e=kL.get(e))&&kZ(d,e),a3(f=(a.ownerDocument||a).createElement("link"));var h=f;return h._p=new Promise(function(a,b){h.onload=a,h.onerror=b}),j0(f,"link",d),b.state.loading|=4,kY(f,c.precedence,a),b.instance=f;case"script":if(f=kV(c.src),e=a.querySelector(kW(f)))return b.instance=e,a3(e),e;return d=c,(e=kL.get(f))&&k$(d=w({},c),e),a3(e=(a=a.ownerDocument||a).createElement("script")),j0(e,"link",d),a.head.appendChild(e),b.instance=e;case"void":return null;default:throw Error(g(443,b.type))}return"stylesheet"===b.type&&0==(4&b.state.loading)&&(d=b.instance,b.state.loading|=4,kY(d,c.precedence,a)),b.instance}function kY(a,b,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),e=d.length?d[d.length-1]:null,f=e,g=0;g<d.length;g++){var h=d[g];if(h.dataset.precedence===b)f=h;else if(f!==e)break}f?f.parentNode.insertBefore(a,f.nextSibling):(b=9===c.nodeType?c.head:c).insertBefore(a,b.firstChild)}function kZ(a,b){null==a.crossOrigin&&(a.crossOrigin=b.crossOrigin),null==a.referrerPolicy&&(a.referrerPolicy=b.referrerPolicy),null==a.title&&(a.title=b.title)}function k$(a,b){null==a.crossOrigin&&(a.crossOrigin=b.crossOrigin),null==a.referrerPolicy&&(a.referrerPolicy=b.referrerPolicy),null==a.integrity&&(a.integrity=b.integrity)}var k_=null;function k0(a,b,c){if(null===k_){var d=new Map,e=k_=new Map;e.set(c,d)}else(d=(e=k_).get(c))||(d=new Map,e.set(c,d));if(d.has(a))return d;for(d.set(a,null),c=c.getElementsByTagName(a),e=0;e<c.length;e++){var f=c[e];if(!(f[aZ]||f[aS]||"link"===a&&"stylesheet"===f.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==f.namespaceURI){var g=f.getAttribute(b)||"";g=a+g;var h=d.get(g);h?h.push(f):d.set(g,[f])}}return d}function k1(a,b,c){(a=a.ownerDocument||a).head.insertBefore(c,"title"===b?a.querySelector("head > title"):null)}function k2(a,b){return"img"===a&&null!=b.src&&""!==b.src&&null==b.onLoad&&"lazy"!==b.loading}function k3(a){return"stylesheet"!==a.type||0!=(3&a.state.loading)}function k4(a){return(a.width||100)*(a.height||100)*("number"==typeof devicePixelRatio?devicePixelRatio:1)*.25}function k5(a,b){"function"==typeof b.decode&&(a.imgCount++,b.complete||(a.imgBytes+=k4(b),a.suspenseyImages.push(b)),a=k9.bind(a),b.decode().then(a,a))}var k6=0;function k7(a){if(0===a.count&&(0===a.imgCount||!a.waitingForImages)){if(a.stylesheets)lb(a,a.stylesheets);else if(a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}}}function k8(){this.count--,k7(this)}function k9(){this.imgCount--,k7(this)}var la=null;function lb(a,b){a.stylesheets=null,null!==a.unsuspend&&(a.count++,la=new Map,b.forEach(lc,a),la=null,k8.call(a))}function lc(a,b){if(!(4&b.state.loading)){var c=la.get(a);if(c)var d=c.get(null);else{c=new Map,la.set(a,c);for(var e=a.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<e.length;f++){var g=e[f];("LINK"===g.nodeName||"not all"!==g.getAttribute("media"))&&(c.set(g.dataset.precedence,g),d=g)}d&&c.set(null,d)}g=(e=b.instance).getAttribute("data-precedence"),(f=c.get(g)||d)===d&&c.set(null,e),c.set(g,e),this.count++,d=k8.bind(this),e.addEventListener("load",d),e.addEventListener("error",d),f?f.parentNode.insertBefore(e,f.nextSibling):(a=9===a.nodeType?a.head:a).insertBefore(e,a.firstChild),b.state.loading|=4}}var ld={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function le(a,b,c,d,e,f,g,h,i){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=aI(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aI(0),this.hiddenUpdates=aI(null),this.identifierPrefix=d,this.onUncaughtError=e,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.transitionTypes=null,this.incompleteTransitions=new Map}function lf(a,b,c,d,e,f,g,h,i,j,k,l){return a=new le(a,b,c,g,i,j,k,l,h),b=1,!0===f&&(b|=24),f=dc(3,null,null,b),a.current=f,f.stateNode=a,b=d4(),b.refCount++,a.pooledCache=b,b.refCount++,f.memoizedState={element:d,isDehydrated:c,cache:b},eB(f),a}function lg(a,b,c,d,e,f){e=e?da:da,null===d.context?d.context=e:d.pendingContext=e,(d=eD(b)).payload={element:c},null!==(f=void 0===f?null:f)&&(d.callback=f),null!==(c=eE(a,d,b))&&(iV(c,a,b),eF(c,a,b))}function lh(a,b){if(null!==(a=a.memoizedState)&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function li(a,b){lh(a,b),(a=a.alternate)&&lh(a,b)}function lj(a){if(13===a.tag||31===a.tag){var b=c7(a,0x4000000);null!==b&&iV(b,a,0x4000000),li(a,0x4000000)}}function lk(a){if(13===a.tag||31===a.tag){var b=iS(),c=c7(a,b=aN(b));null!==c&&iV(c,a,b),li(a,b)}}var ll=!0;function lm(a,b,c,d){var e=S.T;S.T=null;var f=T.p;try{T.p=2,lo(a,b,c,d)}finally{T.p=f,S.T=e}}function ln(a,b,c,d){var e=S.T;S.T=null;var f=T.p;try{T.p=8,lo(a,b,c,d)}finally{T.p=f,S.T=e}}function lo(a,b,c,d){if(ll){var e=lp(d);if(null===e)jR(a,b,d,lq,c),lB(a,d);else if(function(a,b,c,d,e){switch(b){case"focusin":return lu=lC(lu,a,b,c,d,e),!0;case"dragenter":return lv=lC(lv,a,b,c,d,e),!0;case"mouseover":return lw=lC(lw,a,b,c,d,e),!0;case"pointerover":var f=e.pointerId;return lx.set(f,lC(lx.get(f)||null,a,b,c,d,e)),!0;case"gotpointercapture":return f=e.pointerId,ly.set(f,lC(ly.get(f)||null,a,b,c,d,e)),!0}return!1}(e,a,b,c,d))d.stopPropagation();else if(lB(a,d),4&b&&-1<lA.indexOf(a)){for(;null!==e;){var f=a0(e);if(null!==f)switch(f.tag){case 3:if((f=f.stateNode).current.memoizedState.isDehydrated){var g=aE(f.pendingLanes);if(0!==g){var h=f;for(h.pendingLanes|=2,h.entangledLanes|=2;g;){var i=1<<31-ay(g);h.entanglements[1]|=i,g&=~i}jx(f),0==(6&ih)&&(iD=ap()+500,jy(0,!1))}}break;case 31:case 13:null!==(h=c7(f,2))&&iV(h,f,2),iZ(),li(f,2)}if(null===(f=lp(d))&&jR(a,b,d,lq,c),f===e)break;e=f}null!==e&&d.stopPropagation()}else jR(a,b,d,null,c)}}function lp(a){return lr(a=bD(a))}var lq=null;function lr(a){if(lq=null,null!==(a=a_(a))){var b=i(a);if(null===b)a=null;else{var c=b.tag;if(13===c){if(null!==(a=j(b)))return a;a=null}else if(31===c){if(null!==(a=k(b)))return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null)}}return lq=a,null}function ls(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"resize":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aq()){case ar:return 2;case as:return 8;case at:case au:return 32;case av:return 0x10000000;default:return 32}default:return 32}}var lt=!1,lu=null,lv=null,lw=null,lx=new Map,ly=new Map,lz=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lB(a,b){switch(a){case"focusin":case"focusout":lu=null;break;case"dragenter":case"dragleave":lv=null;break;case"mouseover":case"mouseout":lw=null;break;case"pointerover":case"pointerout":lx.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":ly.delete(b.pointerId)}}function lC(a,b,c,d,e,f){return null===a||a.nativeEvent!==f?(a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&null!==(b=a0(b))&&lj(b)):(a.eventSystemFlags|=d,b=a.targetContainers,null!==e&&-1===b.indexOf(e)&&b.push(e)),a}function lD(a){var b=a_(a.target);if(null!==b){var c=i(b);if(null!==c){if(13===(b=c.tag)){if(null!==(b=j(c))){a.blockedOn=b,aQ(a.priority,function(){lk(c)});return}}else if(31===b){if(null!==(b=k(c))){a.blockedOn=b,aQ(a.priority,function(){lk(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function lE(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=lp(a.nativeEvent);if(null!==c)return null!==(b=a0(c))&&lj(b),a.blockedOn=c,!1;var d=new(c=a.nativeEvent).constructor(c.type,c);bC=d,c.target.dispatchEvent(d),bC=null,b.shift()}return!0}function lF(a,b,c){lE(a)&&c.delete(b)}function lG(){lt=!1,null!==lu&&lE(lu)&&(lu=null),null!==lv&&lE(lv)&&(lv=null),null!==lw&&lE(lw)&&(lw=null),lx.forEach(lF),ly.forEach(lF)}function lH(a,b){a.blockedOn===b&&(a.blockedOn=null,lt||(lt=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,lG)))}var lI=null;function lJ(a){lI!==a&&(lI=a,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){lI===a&&(lI=null);for(var b=0;b<a.length;b+=3){var c=a[b],d=a[b+1],e=a[b+2];if("function"!=typeof d)if(null===lr(d||c))continue;else break;var f=a0(c);null!==f&&(a.splice(b,3),b-=3,f4(f,{pending:!0,data:e,method:c.method,action:d},d,e))}}))}function lK(a){function b(b){return lH(b,a)}null!==lu&&lH(lu,a),null!==lv&&lH(lv,a),null!==lw&&lH(lw,a),lx.forEach(b),ly.forEach(b);for(var c=0;c<lz.length;c++){var d=lz[c];d.blockedOn===a&&(d.blockedOn=null)}for(;0<lz.length&&null===(c=lz[0]).blockedOn;)lD(c),null===c.blockedOn&&lz.shift();if(null!=(c=(a.ownerDocument||a).$$reactFormReplay))for(d=0;d<c.length;d+=3){var e=c[d],f=c[d+1],g=e[aT]||null;if("function"==typeof f)g||lJ(c);else if(g){var h=null;if(f&&f.hasAttribute("formAction")){if(e=f,g=f[aT]||null)h=g.formAction;else if(null!==lr(e))continue}else h=g.action;"function"==typeof h?c[d+1]=h:(c.splice(d,3),d-=3),lJ(c)}}}function lL(){function a(a){a.canIntercept&&"react-transition"===a.info&&a.intercept({handler:function(){return new Promise(function(a){return e=a})},focusReset:"manual",scroll:"manual"})}function b(){null!==e&&(e(),e=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var a=navigation.currentEntry;a&&null!=a.url&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var d=!1,e=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",b),navigation.addEventListener("navigateerror",b),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",b),navigation.removeEventListener("navigateerror",b),null!==e&&(e(),e=null)}}}function lM(a){this._internalRoot=a}function lN(a){this._internalRoot=a}lN.prototype.render=lM.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(g(409));lg(b.current,iS(),a,b,null,null)},lN.prototype.unmount=lM.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;lg(a.current,2,null,a,null,null),iZ(),b[aU]=null}},lN.prototype.unstable_scheduleHydration=function(a){if(a){var b=aP();a={blockedOn:null,target:a,priority:b};for(var c=0;c<lz.length&&0!==b&&b<lz[c].priority;c++);lz.splice(c,0,a),0===c&&lD(a)}};var lO=e.version;if("19.3.0-canary-f93b9fd4-20251217"!==lO)throw Error(g(527,lO,"19.3.0-canary-f93b9fd4-20251217"));if(T.findDOMNode=function(a){var b=a._reactInternals;if(void 0===b){if("function"==typeof a.render)throw Error(g(188));throw Error(g(268,a=Object.keys(a).join(",")))}return null===(a=null!==(a=function(a){var b=a.alternate;if(!b){if(null===(b=i(a)))throw Error(g(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){if(null!==(d=e.return)){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return l(e),a;if(f===d)return l(e),b;f=f.sibling}throw Error(g(188))}if(c.return!==d.return)c=e,d=f;else{for(var h=!1,j=e.child;j;){if(j===c){h=!0,c=e,d=f;break}if(j===d){h=!0,d=e,c=f;break}j=j.sibling}if(!h){for(j=f.child;j;){if(j===c){h=!0,c=f,d=e;break}if(j===d){h=!0,d=f,c=e;break}j=j.sibling}if(!h)throw Error(g(189))}}if(c.alternate!==d)throw Error(g(190))}if(3!==c.tag)throw Error(g(188));return c.stateNode.current===c?a:b}(b))?function a(b){var c=b.tag;if(5===c||26===c||27===c||6===c)return b;for(b=b.child;null!==b;){if(null!==(c=a(b)))return c;b=b.sibling}return null}(a):null)?null:a.stateNode},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lP=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lP.isDisabled&&lP.supportsFiber)try{aw=lP.inject({bundleType:0,version:"19.3.0-canary-f93b9fd4-20251217",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.3.0-canary-f93b9fd4-20251217"}),ax=lP}catch(a){}}c.createRoot=function(a,b){if(!h(a))throw Error(g(299));var c=!1,d="",e=gr,f=gs,i=gt;return null!=b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onUncaughtError&&(e=b.onUncaughtError),void 0!==b.onCaughtError&&(f=b.onCaughtError),void 0!==b.onRecoverableError&&(i=b.onRecoverableError)),b=lf(a,1,!1,null,null,c,d,null,e,f,i,lL),a[aU]=b.current,jP(a),new lM(b)},c.hydrateRoot=function(a,b,c){if(!h(a))throw Error(g(299));var d,e=!1,f="",i=gr,j=gs,k=gt,l=null;return null!=c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onUncaughtError&&(i=c.onUncaughtError),void 0!==c.onCaughtError&&(j=c.onCaughtError),void 0!==c.onRecoverableError&&(k=c.onRecoverableError),void 0!==c.formState&&(l=c.formState)),(b=lf(a,1,!0,b,null!=c?c:null,e,f,l,i,j,k,lL)).context=(d=null,da),c=b.current,(f=eD(e=aN(e=iS()))).callback=null,eE(c,f,e),c=e,b.current.lanes=c,aJ(b,c),jx(b),a[aU]=b.current,jP(a),new lN(b)},c.version="19.3.0-canary-f93b9fd4-20251217"},6388,(a,b,c)=>{"use strict";!function a(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(a){console.error(a)}}(),b.exports=a.r(62765)},79873,(a,b,c)=>{b.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},28525,(a,b,c)=>{!function(){"use strict";var c={}.hasOwnProperty;function d(){for(var a="",b=0;b<arguments.length;b++){var f=arguments[b];f&&(a=e(a,function(a){if("string"==typeof a||"number"==typeof a)return a;if("object"!=typeof a)return"";if(Array.isArray(a))return d.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var b="";for(var f in a)c.call(a,f)&&a[f]&&(b=e(b,f));return b}(f)))}return a}function e(a,b){return b?a?a+" "+b:a+b:a}if(b.exports)d.default=d,b.exports=d;else if("function"==typeof define&&"object"==typeof define.amd&&define.amd)void 0!==d&&a.v(d);else window.classNames=d}()},40642,(a,b,c)=>{var d,e,f,g="__lodash_hash_undefined__",h="[object Arguments]",i="[object Array]",j="[object Boolean]",k="[object Date]",l="[object Error]",m="[object Function]",n="[object Map]",o="[object Number]",p="[object Object]",q="[object Promise]",r="[object RegExp]",s="[object Set]",t="[object String]",u="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",x=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,z={};z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z[h]=z[i]=z[v]=z[j]=z[w]=z[k]=z[l]=z[m]=z[n]=z[o]=z[p]=z[r]=z[s]=z[t]=z[u]=!1;var A=a.g&&a.g.Object===Object&&a.g,B="object"==typeof self&&self&&self.Object===Object&&self,C=A||B||Function("return this")(),D=c&&!c.nodeType&&c,E=D&&b&&!b.nodeType&&b,F=E&&E.exports===D,G=F&&A.process,H=function(){try{return G&&G.binding&&G.binding("util")}catch(a){}}(),I=H&&H.isTypedArray;function J(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function K(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}var L=Array.prototype,M=Function.prototype,N=Object.prototype,O=C["__core-js_shared__"],P=M.toString,Q=N.hasOwnProperty,R=(d=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",S=N.toString,T=RegExp("^"+P.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=F?C.Buffer:void 0,V=C.Symbol,W=C.Uint8Array,X=N.propertyIsEnumerable,Y=L.splice,Z=V?V.toStringTag:void 0,$=Object.getOwnPropertySymbols,_=U?U.isBuffer:void 0,aa=(e=Object.keys,f=Object,function(a){return e(f(a))}),ab=az(C,"DataView"),ac=az(C,"Map"),ad=az(C,"Promise"),ae=az(C,"Set"),af=az(C,"WeakMap"),ag=az(Object,"create"),ah=aC(ab),ai=aC(ac),aj=aC(ad),ak=aC(ae),al=aC(af),am=V?V.prototype:void 0,an=am?am.valueOf:void 0;function ao(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function ap(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function aq(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function ar(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new aq;++b<c;)this.add(a[b])}function as(a){var b=this.__data__=new ap(a);this.size=b.size}function at(a,b){for(var c=a.length;c--;)if(aD(a[c][0],b))return c;return -1}function au(a){var b;return null==a?void 0===a?"[object Undefined]":"[object Null]":Z&&Z in Object(a)?function(a){var b=Q.call(a,Z),c=a[Z];try{a[Z]=void 0;var d=!0}catch(a){}var e=S.call(a);return d&&(b?a[Z]=c:delete a[Z]),e}(a):(b=a,S.call(b))}function av(a){return aK(a)&&au(a)==h}function aw(a,b,c,d,e,f){var g=1&c,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=2&c?new ar:void 0;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],o=b[k];if(d)var p=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(void 0!==p){if(p)continue;l=!1;break}if(m){if(!function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}(b,function(a,b){if(!m.has(b)&&(n===a||e(n,a,c,d,f)))return m.push(b)})){l=!1;break}}else if(!(n===o||e(n,o,c,d,f))){l=!1;break}}return f.delete(a),f.delete(b),l}function ax(a){var b;return b=aM(a),aF(a)?b:function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}(b,aA(a))}function ay(a,b){var c,d,e=a.__data__;return("string"==(d=typeof(c=b))||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==c:null===c)?e["string"==typeof b?"string":"hash"]:e.map}function az(a,b){var c,d=null==a?void 0:a[b];return!(!aJ(d)||(c=d,R&&R in c))&&(aH(d)?T:x).test(aC(d))?d:void 0}ao.prototype.clear=function(){this.__data__=ag?ag(null):{},this.size=0},ao.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=!!b,b},ao.prototype.get=function(a){var b=this.__data__;if(ag){var c=b[a];return c===g?void 0:c}return Q.call(b,a)?b[a]:void 0},ao.prototype.has=function(a){var b=this.__data__;return ag?void 0!==b[a]:Q.call(b,a)},ao.prototype.set=function(a,b){var c=this.__data__;return this.size+=+!this.has(a),c[a]=ag&&void 0===b?g:b,this},ap.prototype.clear=function(){this.__data__=[],this.size=0},ap.prototype.delete=function(a){var b=this.__data__,c=at(b,a);return!(c<0)&&(c==b.length-1?b.pop():Y.call(b,c,1),--this.size,!0)},ap.prototype.get=function(a){var b=this.__data__,c=at(b,a);return c<0?void 0:b[c][1]},ap.prototype.has=function(a){return at(this.__data__,a)>-1},ap.prototype.set=function(a,b){var c=this.__data__,d=at(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this},aq.prototype.clear=function(){this.size=0,this.__data__={hash:new ao,map:new(ac||ap),string:new ao}},aq.prototype.delete=function(a){var b=ay(this,a).delete(a);return this.size-=!!b,b},aq.prototype.get=function(a){return ay(this,a).get(a)},aq.prototype.has=function(a){return ay(this,a).has(a)},aq.prototype.set=function(a,b){var c=ay(this,a),d=c.size;return c.set(a,b),this.size+=+(c.size!=d),this},ar.prototype.add=ar.prototype.push=function(a){return this.__data__.set(a,g),this},ar.prototype.has=function(a){return this.__data__.has(a)},as.prototype.clear=function(){this.__data__=new ap,this.size=0},as.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},as.prototype.get=function(a){return this.__data__.get(a)},as.prototype.has=function(a){return this.__data__.has(a)},as.prototype.set=function(a,b){var c=this.__data__;if(c instanceof ap){var d=c.__data__;if(!ac||d.length<199)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new aq(d)}return c.set(a,b),this.size=c.size,this};var aA=$?function(a){return null==a?[]:function(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}($(a=Object(a)),function(b){return X.call(a,b)})}:function(){return[]},aB=au;function aC(a){if(null!=a){try{return P.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function aD(a,b){return a===b||a!=a&&b!=b}(ab&&aB(new ab(new ArrayBuffer(1)))!=w||ac&&aB(new ac)!=n||ad&&aB(ad.resolve())!=q||ae&&aB(new ae)!=s||af&&aB(new af)!=u)&&(aB=function(a){var b=au(a),c=b==p?a.constructor:void 0,d=c?aC(c):"";if(d)switch(d){case ah:return w;case ai:return n;case aj:return q;case ak:return s;case al:return u}return b});var aE=av(function(){return arguments}())?av:function(a){return aK(a)&&Q.call(a,"callee")&&!X.call(a,"callee")},aF=Array.isArray,aG=_||function(){return!1};function aH(a){if(!aJ(a))return!1;var b=au(a);return b==m||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}function aI(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=0x1fffffffffffff}function aJ(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function aK(a){return null!=a&&"object"==typeof a}var aL=I?function(a){return I(a)}:function(a){return aK(a)&&aI(a.length)&&!!z[au(a)]};function aM(a){return null!=a&&aI(a.length)&&!aH(a)?function(a,b){var c,d,e=aF(a),f=!e&&aE(a),g=!e&&!f&&aG(a),h=!e&&!f&&!g&&aL(a),i=e||f||g||h,j=i?function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}(a.length,String):[],k=j.length;for(var l in a){Q.call(a,l)&&!(i&&("length"==l||g&&("offset"==l||"parent"==l)||h&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||(c=l,(d=null==(d=k)?0x1fffffffffffff:d)&&("number"==typeof c||y.test(c))&&c>-1&&c%1==0&&c<d)))&&j.push(l)}return j}(a):function(a){if(c=(b=a)&&b.constructor,b!==("function"==typeof c&&c.prototype||N))return aa(a);var b,c,d=[];for(var e in Object(a))Q.call(a,e)&&"constructor"!=e&&d.push(e);return d}(a)}b.exports=function(a,b){return function a(b,c,d,e,f){return b===c||(null!=b&&null!=c&&(aK(b)||aK(c))?function(a,b,c,d,e,f){var g=aF(a),m=aF(b),q=g?i:aB(a),u=m?i:aB(b);q=q==h?p:q,u=u==h?p:u;var x=q==p,y=u==p,z=q==u;if(z&&aG(a)){if(!aG(b))return!1;g=!0,x=!1}if(z&&!x)return f||(f=new as),g||aL(a)?aw(a,b,c,d,e,f):function(a,b,c,d,e,f,g){switch(c){case w:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case v:if(a.byteLength!=b.byteLength||!f(new W(a),new W(b)))break;return!0;case j:case k:case o:return aD(+a,+b);case l:return a.name==b.name&&a.message==b.message;case r:case t:return a==b+"";case n:var h=J;case s:var i=1&d;if(h||(h=K),a.size!=b.size&&!i)break;var m=g.get(a);if(m)return m==b;d|=2,g.set(a,b);var p=aw(h(a),h(b),d,e,f,g);return g.delete(a),p;case"[object Symbol]":if(an)return an.call(a)==an.call(b)}return!1}(a,b,q,c,d,e,f);if(!(1&c)){var A=x&&Q.call(a,"__wrapped__"),B=y&&Q.call(b,"__wrapped__");if(A||B){var C=A?a.value():a,D=B?b.value():b;return f||(f=new as),e(C,D,c,d,f)}}return!!z&&(f||(f=new as),function(a,b,c,d,e,f){var g=1&c,h=ax(a),i=h.length;if(i!=ax(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:Q.call(b,k)))return!1}var l=f.get(a);if(l&&f.get(b))return l==b;var m=!0;f.set(a,b),f.set(b,a);for(var n=g;++j<i;){var o=a[k=h[j]],p=b[k];if(d)var q=g?d(p,o,k,b,a,f):d(o,p,k,a,b,f);if(!(void 0===q?o===p||e(o,p,c,d,f):q)){m=!1;break}n||(n="constructor"==k)}if(m&&!n){var r=a.constructor,s=b.constructor;r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s)&&(m=!1)}return f.delete(a),f.delete(b),m}(a,b,c,d,e,f))}(b,c,d,e,a,f):b!=b&&c!=c)}(a,b)}},57643,(a,b,c)=>{var d=function(){var a,b,c,d,e,f,g,h=function(a,b){var c=a,d=i[b],e=null,f=0,g=null,h=[],k={},s=function(a,b){e=function(a){for(var b=Array(a),c=0;c<a;c+=1){b[c]=Array(a);for(var d=0;d<a;d+=1)b[c][d]=null}return b}(f=4*c+17),t(0,0),t(f-7,0),t(0,f-7),x(),v(),z(a,b),c>=7&&y(a),null==g&&(g=C(c,d,h)),A(g,b)},t=function(a,b){for(var c=-1;c<=7;c+=1)if(!(a+c<=-1)&&!(f<=a+c))for(var d=-1;d<=7;d+=1)b+d<=-1||f<=b+d||(0<=c&&c<=6&&(0==d||6==d)||0<=d&&d<=6&&(0==c||6==c)||2<=c&&c<=4&&2<=d&&d<=4?e[a+c][b+d]=!0:e[a+c][b+d]=!1)},u=function(){for(var a=0,b=0,c=0;c<8;c+=1){s(!0,c);var d=j.getLostPoint(k);(0==c||a>d)&&(a=d,b=c)}return b},v=function(){for(var a=8;a<f-8;a+=1)null==e[a][6]&&(e[a][6]=a%2==0);for(var b=8;b<f-8;b+=1)null==e[6][b]&&(e[6][b]=b%2==0)},x=function(){for(var a=j.getPatternPosition(c),b=0;b<a.length;b+=1)for(var d=0;d<a.length;d+=1){var f=a[b],g=a[d];if(null==e[f][g])for(var h=-2;h<=2;h+=1)for(var i=-2;i<=2;i+=1)-2==h||2==h||-2==i||2==i||0==h&&0==i?e[f+h][g+i]=!0:e[f+h][g+i]=!1}},y=function(a){for(var b=j.getBCHTypeNumber(c),d=0;d<18;d+=1){var g=!a&&(b>>d&1)==1;e[Math.floor(d/3)][d%3+f-8-3]=g}for(var d=0;d<18;d+=1){var g=!a&&(b>>d&1)==1;e[d%3+f-8-3][Math.floor(d/3)]=g}},z=function(a,b){for(var c=d<<3|b,g=j.getBCHTypeInfo(c),h=0;h<15;h+=1){var i=!a&&(g>>h&1)==1;h<6?e[h][8]=i:h<8?e[h+1][8]=i:e[f-15+h][8]=i}for(var h=0;h<15;h+=1){var i=!a&&(g>>h&1)==1;h<8?e[8][f-h-1]=i:h<9?e[8][15-h-1+1]=i:e[8][15-h-1]=i}e[f-8][8]=!a},A=function(a,b){for(var c=-1,d=f-1,g=7,h=0,i=j.getMaskFunction(b),k=f-1;k>0;k-=2)for(6==k&&(k-=1);;){for(var l=0;l<2;l+=1)if(null==e[d][k-l]){var m=!1;h<a.length&&(m=(a[h]>>>g&1)==1),i(d,k-l)&&(m=!m),e[d][k-l]=m,-1==(g-=1)&&(h+=1,g=7)}if((d+=c)<0||f<=d){d-=c,c=-c;break}}},B=function(a,b){for(var c=0,d=0,e=0,f=Array(b.length),g=Array(b.length),h=0;h<b.length;h+=1){var i=b[h].dataCount,k=b[h].totalCount-i;d=Math.max(d,i),e=Math.max(e,k),f[h]=Array(i);for(var m=0;m<f[h].length;m+=1)f[h][m]=255&a.getBuffer()[m+c];c+=i;var n=j.getErrorCorrectPolynomial(k),o=l(f[h],n.getLength()-1).mod(n);g[h]=Array(n.getLength()-1);for(var m=0;m<g[h].length;m+=1){var p=m+o.getLength()-g[h].length;g[h][m]=p>=0?o.getAt(p):0}}for(var q=0,m=0;m<b.length;m+=1)q+=b[m].totalCount;for(var r=Array(q),s=0,m=0;m<d;m+=1)for(var h=0;h<b.length;h+=1)m<f[h].length&&(r[s]=f[h][m],s+=1);for(var m=0;m<e;m+=1)for(var h=0;h<b.length;h+=1)m<g[h].length&&(r[s]=g[h][m],s+=1);return r},C=function(a,b,c){for(var d=m.getRSBlocks(a,b),e=n(),f=0;f<c.length;f+=1){var g=c[f];e.put(g.getMode(),4),e.put(g.getLength(),j.getLengthInBits(g.getMode(),a)),g.write(e)}for(var h=0,f=0;f<d.length;f+=1)h+=d[f].dataCount;if(e.getLengthInBits()>8*h)throw"code length overflow. ("+e.getLengthInBits()+">"+8*h+")";for(e.getLengthInBits()+4<=8*h&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(!1);for(;!(e.getLengthInBits()>=8*h)&&(e.put(236,8),!(e.getLengthInBits()>=8*h));){;e.put(17,8)}return B(e,d)};k.addData=function(a,b){var c=null;switch(b=b||"Byte"){case"Numeric":c=o(a);break;case"Alphanumeric":c=p(a);break;case"Byte":c=q(a);break;case"Kanji":c=r(a);break;default:throw"mode:"+b}h.push(c),g=null},k.isDark=function(a,b){if(a<0||f<=a||b<0||f<=b)throw a+","+b;return e[a][b]},k.getModuleCount=function(){return f},k.make=function(){if(c<1){for(var a=1;a<40;a++){for(var b=m.getRSBlocks(a,d),e=n(),f=0;f<h.length;f++){var g=h[f];e.put(g.getMode(),4),e.put(g.getLength(),j.getLengthInBits(g.getMode(),a)),g.write(e)}for(var i=0,f=0;f<b.length;f++)i+=b[f].dataCount;if(e.getLengthInBits()<=8*i)break}c=a}s(!1,u())},k.createTableTag=function(a,b){a=a||2;var c="";c+='<table style=" border-width: 0px; border-style: none; border-collapse: collapse; padding: 0px; margin: '+(b=void 0===b?4*a:b)+'px;"><tbody>';for(var d=0;d<k.getModuleCount();d+=1){c+="<tr>";for(var e=0;e<k.getModuleCount();e+=1)c+='<td style=" border-width: 0px; border-style: none; border-collapse: collapse; padding: 0px; margin: 0px; width: '+a+"px;"+(" height: "+a)+"px; background-color: "+(k.isDark(d,e)?"#000000":"#ffffff")+';"/>';c+="</tr>"}return c+"</tbody></table>"},k.createSvgTag=function(a,b,c,d){var e={};"object"==typeof arguments[0]&&(e=arguments[0],a=e.cellSize,b=e.margin,c=e.alt,d=e.title),a=a||2,b=void 0===b?4*a:b,(c="string"==typeof c?{text:c}:c||{}).text=c.text||null,c.id=c.text?c.id||"qrcode-description":null,(d="string"==typeof d?{text:d}:d||{}).text=d.text||null,d.id=d.text?d.id||"qrcode-title":null;var f,g,h,i,j=k.getModuleCount()*a+2*b,l="";for(i="l"+a+",0 0,"+a+" -"+a+",0 0,-"+a+"z ",l+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',l+=e.scalable?"":' width="'+j+'px" height="'+j+'px"',l+=' viewBox="0 0 '+j+" "+j+'" ',l+=' preserveAspectRatio="xMinYMin meet"',l+=d.text||c.text?' role="img" aria-labelledby="'+D([d.id,c.id].join(" ").trim())+'"':"",l+=">",l+=d.text?'<title id="'+D(d.id)+'">'+D(d.text)+"</title>":"",l+=c.text?'<description id="'+D(c.id)+'">'+D(c.text)+"</description>":"",l+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',l+='<path d="',g=0;g<k.getModuleCount();g+=1)for(f=0,h=g*a+b;f<k.getModuleCount();f+=1)k.isDark(g,f)&&(l+="M"+(f*a+b)+","+h+i);return l+='" stroke="transparent" fill="black"/>',l+="</svg>"},k.createDataURL=function(a,b){a=a||2,b=void 0===b?4*a:b;var c=k.getModuleCount()*a+2*b,d=b,e=c-b;return w(c,c,function(b,c){if(!(d<=b)||!(b<e)||!(d<=c)||!(c<e))return 1;var f=Math.floor((b-d)/a),g=Math.floor((c-d)/a);return+!k.isDark(g,f)})},k.createImgTag=function(a,b,c){a=a||2,b=void 0===b?4*a:b;var d=k.getModuleCount()*a+2*b,e="";return e+="<img",e+=' src="',e+=k.createDataURL(a,b),e+='"',e+=' width="',e+=d,e+='"',e+=' height="',e+=d,e+='"',c&&(e+=' alt="',e+=D(c),e+='"'),e+="/>"};var D=function(a){for(var b="",c=0;c<a.length;c+=1){var d=a.charAt(c);switch(d){case"<":b+="&lt;";break;case">":b+="&gt;";break;case"&":b+="&amp;";break;case'"':b+="&quot;";break;default:b+=d}}return b},E=function(a){a=void 0===a?2:a;var b,c,d,e,f,g=+k.getModuleCount()+2*a,h=a,i=g-a,j={"":""," ":""," ":"","  ":" "},l={"":""," ":""," ":" ","  ":" "},m="";for(b=0;b<g;b+=2){for(c=0,d=Math.floor((b-h)/1),e=Math.floor((b+1-h)/1);c<g;c+=1)f="",h<=c&&c<i&&h<=b&&b<i&&k.isDark(d,Math.floor((c-h)/1))&&(f=" "),h<=c&&c<i&&h<=b+1&&b+1<i&&k.isDark(e,Math.floor((c-h)/1))?f+=" ":f+="",m+=a<1&&b+1>=i?l[f]:j[f];m+="\n"}return g%2&&a>0?m.substring(0,m.length-g-1)+Array(g+1).join(""):m.substring(0,m.length-1)};return k.createASCII=function(a,b){if((a=a||1)<2)return E(b);a-=1,b=void 0===b?2*a:b;var c,d,e,f,g=k.getModuleCount()*a+2*b,h=b,i=g-b,j=Array(a+1).join(""),l=Array(a+1).join("  "),m="",n="";for(c=0;c<g;c+=1){for(d=0,e=Math.floor((c-h)/a),n="";d<g;d+=1)f=1,h<=d&&d<i&&h<=c&&c<i&&k.isDark(e,Math.floor((d-h)/a))&&(f=0),n+=f?j:l;for(e=0;e<a;e+=1)m+=n+"\n"}return m.substring(0,m.length-1)},k.renderTo2dContext=function(a,b){b=b||2;for(var c=k.getModuleCount(),d=0;d<c;d++)for(var e=0;e<c;e++)a.fillStyle=k.isDark(d,e)?"black":"white",a.fillRect(d*b,e*b,b,b)},k};h.stringToBytesFuncs={default:function(a){for(var b=[],c=0;c<a.length;c+=1){var d=a.charCodeAt(c);b.push(255&d)}return b}},h.stringToBytes=h.stringToBytesFuncs.default,h.createStringToBytes=function(a,b){var c=function(){for(var c=u(a),d=function(){var a=c.read();if(-1==a)throw"eof";return a},e=0,f={};;){var g=c.read();if(-1==g)break;var h=d(),i=d(),j=d(),k=String.fromCharCode(g<<8|h),l=i<<8|j;f[k]=l,e+=1}if(e!=b)throw e+" != "+b;return f}();return function(a){for(var b=[],d=0;d<a.length;d+=1){var e=a.charCodeAt(d);if(e<128)b.push(e);else{var f=c[a.charAt(d)];"number"==typeof f?(255&f)==f?b.push(f):(b.push(f>>>8),b.push(255&f)):b.push(63)}}return b}};var i={L:1,M:0,Q:3,H:2},j=(a=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],b={},c=function(a){for(var b=0;0!=a;)b+=1,a>>>=1;return b},b.getBCHTypeInfo=function(a){for(var b=a<<10;c(b)-c(1335)>=0;)b^=1335<<c(b)-c(1335);return(a<<10|b)^21522},b.getBCHTypeNumber=function(a){for(var b=a<<12;c(b)-c(7973)>=0;)b^=7973<<c(b)-c(7973);return a<<12|b},b.getPatternPosition=function(b){return a[b-1]},b.getMaskFunction=function(a){switch(a){case 0:return function(a,b){return(a+b)%2==0};case 1:return function(a,b){return a%2==0};case 2:return function(a,b){return b%3==0};case 3:return function(a,b){return(a+b)%3==0};case 4:return function(a,b){return(Math.floor(a/2)+Math.floor(b/3))%2==0};case 5:return function(a,b){return a*b%2+a*b%3==0};case 6:return function(a,b){return(a*b%2+a*b%3)%2==0};case 7:return function(a,b){return(a*b%3+(a+b)%2)%2==0};default:throw"bad maskPattern:"+a}},b.getErrorCorrectPolynomial=function(a){for(var b=l([1],0),c=0;c<a;c+=1)b=b.multiply(l([1,k.gexp(c)],0));return b},b.getLengthInBits=function(a,b){if(1<=b&&b<10)switch(a){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+a}if(b<27)switch(a){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+a}if(b<41)switch(a){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+a}throw"type:"+b},b.getLostPoint=function(a){for(var b=a.getModuleCount(),c=0,d=0;d<b;d+=1)for(var e=0;e<b;e+=1){for(var f=0,g=a.isDark(d,e),h=-1;h<=1;h+=1)if(!(d+h<0)&&!(b<=d+h))for(var i=-1;i<=1;i+=1)e+i<0||b<=e+i||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&(f+=1);f>5&&(c+=3+f-5)}for(var d=0;d<b-1;d+=1)for(var e=0;e<b-1;e+=1){var j=0;a.isDark(d,e)&&(j+=1),a.isDark(d+1,e)&&(j+=1),a.isDark(d,e+1)&&(j+=1),a.isDark(d+1,e+1)&&(j+=1),(0==j||4==j)&&(c+=3)}for(var d=0;d<b;d+=1)for(var e=0;e<b-6;e+=1)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;e<b;e+=1)for(var d=0;d<b-6;d+=1)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;e<b;e+=1)for(var d=0;d<b;d+=1)a.isDark(d,e)&&(k+=1);return c+10*(Math.abs(100*k/b/b-50)/5)},b),k=function(){for(var a=Array(256),b=Array(256),c=0;c<8;c+=1)a[c]=1<<c;for(var c=8;c<256;c+=1)a[c]=a[c-4]^a[c-5]^a[c-6]^a[c-8];for(var c=0;c<255;c+=1)b[a[c]]=c;var d={};return d.glog=function(a){if(a<1)throw"glog("+a+")";return b[a]},d.gexp=function(b){for(;b<0;)b+=255;for(;b>=256;)b-=255;return a[b]},d}();function l(a,b){if(void 0===a.length)throw a.length+"/"+b;var c=function(){for(var c=0;c<a.length&&0==a[c];)c+=1;for(var d=Array(a.length-c+b),e=0;e<a.length-c;e+=1)d[e]=a[e+c];return d}(),d={};return d.getAt=function(a){return c[a]},d.getLength=function(){return c.length},d.multiply=function(a){for(var b=Array(d.getLength()+a.getLength()-1),c=0;c<d.getLength();c+=1)for(var e=0;e<a.getLength();e+=1)b[c+e]^=k.gexp(k.glog(d.getAt(c))+k.glog(a.getAt(e)));return l(b,0)},d.mod=function(a){if(d.getLength()-a.getLength()<0)return d;for(var b=k.glog(d.getAt(0))-k.glog(a.getAt(0)),c=Array(d.getLength()),e=0;e<d.getLength();e+=1)c[e]=d.getAt(e);for(var e=0;e<a.getLength();e+=1)c[e]^=k.gexp(k.glog(a.getAt(e))+b);return l(c,0).mod(a)},d}var m=(d=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(a,b){var c={};return c.totalCount=a,c.dataCount=b,c},f={},g=function(a,b){switch(b){case i.L:return d[(a-1)*4+0];case i.M:return d[(a-1)*4+1];case i.Q:return d[(a-1)*4+2];case i.H:return d[(a-1)*4+3];default:return}},f.getRSBlocks=function(a,b){var c=g(a,b);if(void 0===c)throw"bad rs block @ typeNumber:"+a+"/errorCorrectionLevel:"+b;for(var d=c.length/3,f=[],h=0;h<d;h+=1)for(var i=c[3*h+0],j=c[3*h+1],k=c[3*h+2],l=0;l<i;l+=1)f.push(e(j,k));return f},f),n=function(){var a=[],b=0,c={};return c.getBuffer=function(){return a},c.getAt=function(b){return(a[Math.floor(b/8)]>>>7-b%8&1)==1},c.put=function(a,b){for(var d=0;d<b;d+=1)c.putBit((a>>>b-d-1&1)==1)},c.getLengthInBits=function(){return b},c.putBit=function(c){var d=Math.floor(b/8);a.length<=d&&a.push(0),c&&(a[d]|=128>>>b%8),b+=1},c},o=function(a){var b={};b.getMode=function(){return 1},b.getLength=function(b){return a.length},b.write=function(b){for(var d=0;d+2<a.length;)b.put(c(a.substring(d,d+3)),10),d+=3;d<a.length&&(a.length-d==1?b.put(c(a.substring(d,d+1)),4):a.length-d==2&&b.put(c(a.substring(d,d+2)),7))};var c=function(a){for(var b=0,c=0;c<a.length;c+=1)b=10*b+d(a.charAt(c));return b},d=function(a){if("0"<=a&&a<="9")return a.charCodeAt(0)-48;throw"illegal char :"+a};return b},p=function(a){var b={};b.getMode=function(){return 2},b.getLength=function(b){return a.length},b.write=function(b){for(var d=0;d+1<a.length;)b.put(45*c(a.charAt(d))+c(a.charAt(d+1)),11),d+=2;d<a.length&&b.put(c(a.charAt(d)),6)};var c=function(a){if("0"<=a&&a<="9")return a.charCodeAt(0)-48;if("A"<=a&&a<="Z")return a.charCodeAt(0)-65+10;switch(a){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+a}};return b},q=function(a){var b=h.stringToBytes(a),c={};return c.getMode=function(){return 4},c.getLength=function(a){return b.length},c.write=function(a){for(var c=0;c<b.length;c+=1)a.put(b[c],8)},c},r=function(a){var b=h.stringToBytesFuncs.SJIS;if(!b)throw"sjis not supported.";var c=b("");if(2!=c.length||(c[0]<<8|c[1])!=38726)throw"sjis not supported.";var d=b(a),e={};return e.getMode=function(){return 8},e.getLength=function(a){return~~(d.length/2)},e.write=function(a){for(var b=0;b+1<d.length;){var c=(255&d[b])<<8|255&d[b+1];if(33088<=c&&c<=40956)c-=33088;else if(57408<=c&&c<=60351)c-=49472;else throw"illegal char at "+(b+1)+"/"+c;c=(c>>>8&255)*192+(255&c),a.put(c,13),b+=2}if(b<d.length)throw"illegal char at "+(b+1)},e},s=function(){var a=[],b={};return b.writeByte=function(b){a.push(255&b)},b.writeShort=function(a){b.writeByte(a),b.writeByte(a>>>8)},b.writeBytes=function(a,c,d){c=c||0,d=d||a.length;for(var e=0;e<d;e+=1)b.writeByte(a[e+c])},b.writeString=function(a){for(var c=0;c<a.length;c+=1)b.writeByte(a.charCodeAt(c))},b.toByteArray=function(){return a},b.toString=function(){var b="";b+="[";for(var c=0;c<a.length;c+=1)c>0&&(b+=","),b+=a[c];return b+"]"},b},t=function(){var a=0,b=0,c=0,d="",e={},f=function(a){d+=String.fromCharCode(g(63&a))},g=function(a){if(a<0);else if(a<26)return 65+a;else if(a<52)return 97+(a-26);else if(a<62)return 48+(a-52);else if(62==a)return 43;else if(63==a)return 47;throw"n:"+a};return e.writeByte=function(d){for(a=a<<8|255&d,b+=8,c+=1;b>=6;)f(a>>>b-6),b-=6},e.flush=function(){if(b>0&&(f(a<<6-b),a=0,b=0),c%3!=0)for(var e=3-c%3,g=0;g<e;g+=1)d+="="},e.toString=function(){return d},e},u=function(a){var b=0,c=0,d=0,e={};e.read=function(){for(;d<8;){if(b>=a.length){if(0==d)return -1;throw"unexpected end of file./"+d}var e=a.charAt(b);if(b+=1,"="==e)return d=0,-1;e.match(/^\s$/)||(c=c<<6|f(e.charCodeAt(0)),d+=6)}var g=c>>>d-8&255;return d-=8,g};var f=function(a){if(65<=a&&a<=90)return a-65;if(97<=a&&a<=122)return a-97+26;if(48<=a&&a<=57)return a-48+52;if(43==a)return 62;if(47==a)return 63;else throw"c:"+a};return e},v=function(a,b){var c=Array(a*b),d={};d.setPixel=function(b,d,e){c[d*a+b]=e},d.write=function(c){c.writeString("GIF87a"),c.writeShort(a),c.writeShort(b),c.writeByte(128),c.writeByte(0),c.writeByte(0),c.writeByte(0),c.writeByte(0),c.writeByte(0),c.writeByte(255),c.writeByte(255),c.writeByte(255),c.writeString(","),c.writeShort(0),c.writeShort(0),c.writeShort(a),c.writeShort(b),c.writeByte(0);var d=f(2);c.writeByte(2);for(var e=0;d.length-e>255;)c.writeByte(255),c.writeBytes(d,e,255),e+=255;c.writeByte(d.length-e),c.writeBytes(d,e,d.length-e),c.writeByte(0),c.writeString(";")};var e=function(a){var b=0,c=0,d={};return d.write=function(d,e){if(d>>>e!=0)throw"length over";for(;b+e>=8;)a.writeByte(255&(d<<b|c)),e-=8-b,d>>>=8-b,c=0,b=0;c=d<<b|c,b+=e},d.flush=function(){b>0&&a.writeByte(c)},d},f=function(a){for(var b=1<<a,d=(1<<a)+1,f=a+1,h=g(),i=0;i<b;i+=1)h.add(String.fromCharCode(i));h.add(String.fromCharCode(b)),h.add(String.fromCharCode(d));var j=s(),k=e(j);k.write(b,f);var l=0,m=String.fromCharCode(c[0]);for(l+=1;l<c.length;){var n=String.fromCharCode(c[l]);l+=1,h.contains(m+n)?m+=n:(k.write(h.indexOf(m),f),4095>h.size()&&(h.size()==1<<f&&(f+=1),h.add(m+n)),m=n)}return k.write(h.indexOf(m),f),k.write(d,f),k.flush(),j.toByteArray()},g=function(){var a={},b=0,c={};return c.add=function(d){if(c.contains(d))throw"dup key:"+d;a[d]=b,b+=1},c.size=function(){return b},c.indexOf=function(b){return a[b]},c.contains=function(b){return void 0!==a[b]},c};return d},w=function(a,b,c){for(var d=v(a,b),e=0;e<b;e+=1)for(var f=0;f<a;f+=1)d.setPixel(f,e,c(f,e));var g=s();d.write(g);for(var h=t(),i=g.toByteArray(),j=0;j<i.length;j+=1)h.writeByte(i[j]);return h.flush(),"data:image/gif;base64,"+h};return h}();d.stringToBytesFuncs["UTF-8"]=function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b.push(d):d<2048?b.push(192|d>>6,128|63&d):d<55296||d>=57344?b.push(224|d>>12,128|d>>6&63,128|63&d):(c++,d=65536+((1023&d)<<10|1023&a.charCodeAt(c)),b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d))}return b};var e=function(){return d};if("function"==typeof define&&define.amd){let b;void 0!==(b=e())&&a.v(b)}else b.exports=e()},52322,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),f=a.e&&a.e.__assign||function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0}),c.QRCode=void 0;var g=a.r(40642),h=a.r(57643),i=a.r(72131);c.QRCode=function(a){function b(b){var c=a.call(this,b)||this;return c.canvasRef=i.createRef(),c}return e(b,a),b.prototype.download=function(a,b){if(this.canvasRef.current){var c=void 0;switch(a){case"jpg":c="image/jpeg";break;case"webp":c="image/webp";break;default:c="image/png"}var d=this.canvasRef.current.toDataURL(c,1),e=document.createElement("a");e.download=null!=b?b:"react-qrcode-logo",e.href=d,e.click()}},b.prototype.utf16to8=function(a){var b,c,d="",e=a.length;for(b=0;b<e;b++)(c=a.charCodeAt(b))>=1&&c<=127?d+=a.charAt(b):(c>2047?(d+=String.fromCharCode(224|c>>12&15),d+=String.fromCharCode(128|c>>6&63)):d+=String.fromCharCode(192|c>>6&31),d+=String.fromCharCode(128|63&c));return d},b.prototype.drawRoundedSquare=function(a,b,c,d,e,f,g,h){h.lineWidth=a,h.fillStyle=e,h.strokeStyle=e,c+=a/2,b+=a/2,d-=a,Array.isArray(f)||(f=[f,f,f,f]);var i=(f=f.map(function(a){return(a=Math.min(a,d/2))<0?0:a}))[0]||0,j=f[1]||0,k=f[2]||0,l=f[3]||0;h.beginPath(),h.moveTo(b+i,c),h.lineTo(b+d-j,c),j&&h.quadraticCurveTo(b+d,c,b+d,c+j),h.lineTo(b+d,c+d-k),k&&h.quadraticCurveTo(b+d,c+d,b+d-k,c+d),h.lineTo(b+l,c+d),l&&h.quadraticCurveTo(b,c+d,b,c+d-l),h.lineTo(b,c+i),i&&h.quadraticCurveTo(b,c,b+i,c),h.closePath(),h.stroke(),g&&h.fill()},b.prototype.drawPositioningPattern=function(a,b,c,d,e,f,g){void 0===g&&(g=[0,0,0,0]);var h,i,j,k,l=Math.ceil(b);"number"==typeof g||Array.isArray(g)?i=h=g:(h=g.outer||0,i=g.inner||0),"string"!=typeof f?(j=f.outer,k=f.inner):(j=f,k=f);var m=d*b+c,n=e*b+c,o=7*b;this.drawRoundedSquare(l,n,m,o,j,h,!1,a),o=3*b,m+=2*b,n+=2*b,this.drawRoundedSquare(l,n,m,o,k,i,!0,a)},b.prototype.isInPositioninZone=function(a,b,c){return c.some(function(c){return b>=c.row&&b<=c.row+7&&a>=c.col&&a<=c.col+7})},b.prototype.transformPixelLengthIntoNumberOfCells=function(a,b){return a/b},b.prototype.isCoordinateInImage=function(a,b,c,d,e,f,g,h){if(!h)return!1;var i=this.transformPixelLengthIntoNumberOfCells(e,g),j=this.transformPixelLengthIntoNumberOfCells(f,g),k=this.transformPixelLengthIntoNumberOfCells(c,g)-1,l=this.transformPixelLengthIntoNumberOfCells(d,g)-1;return b>=i-2&&b<=i+k+2&&a>=j-2&&a<=j+l+2},b.prototype.shouldComponentUpdate=function(a){return!g(this.props,a)},b.prototype.componentDidMount=function(){this.update()},b.prototype.componentDidUpdate=function(){this.update()},b.prototype.update=function(){var a,b=this.props,c=b.value,d=b.ecLevel,e=b.enableCORS,f=b.bgColor,g=b.fgColor,i=b.logoImage,j=b.logoOpacity,k=b.logoOnLoad,l=b.removeQrCodeBehindLogo,m=b.qrStyle,n=b.eyeRadius,o=b.eyeColor,p=b.logoPaddingStyle,q=+this.props.size,r=+this.props.quietZone,s=this.props.logoWidth?+this.props.logoWidth:0,t=this.props.logoHeight?+this.props.logoHeight:0,u=this.props.logoPadding?+this.props.logoPadding:0,v=h(0,d);v.addData(this.utf16to8(c)),v.make();var w=null==(a=this.canvasRef)?void 0:a.current,x=w.getContext("2d"),y=q+2*r,z=v.getModuleCount(),A=q/z,B=window.devicePixelRatio||1;w.height=w.width=y*B,x.scale(B,B),x.fillStyle=f,x.fillRect(0,0,y,y);var C=[{row:0,col:0},{row:0,col:z-7},{row:z-7,col:0}];if(x.strokeStyle=g,"dots"===m){x.fillStyle=g;for(var D=A/2,E=0;E<z;E++)for(var F=0;F<z;F++)v.isDark(E,F)&&!this.isInPositioninZone(E,F,C)&&(x.beginPath(),x.arc(Math.round(F*A)+D+r,Math.round(E*A)+D+r,D/100*75,0,2*Math.PI,!1),x.closePath(),x.fill())}else if("fluid"===m){for(var D=Math.ceil(A/2),E=0;E<z;E++)for(var F=0;F<z;F++)if(v.isDark(E,F)&&!this.isInPositioninZone(E,F,C)){var G=[!1,!1,!1,!1];E>0&&!v.isDark(E-1,F)&&F>0&&!v.isDark(E,F-1)&&(G[0]=!0),E>0&&!v.isDark(E-1,F)&&F<z-1&&!v.isDark(E,F+1)&&(G[1]=!0),E<z-1&&!v.isDark(E+1,F)&&F<z-1&&!v.isDark(E,F+1)&&(G[2]=!0),E<z-1&&!v.isDark(E+1,F)&&F>0&&!v.isDark(E,F-1)&&(G[3]=!0);var H=Math.ceil((F+1)*A)-Math.floor(F*A),I=Math.ceil((E+1)*A)-Math.floor(E*A);x.fillStyle=g,x.beginPath(),x.arc(Math.round(F*A)+D+r,Math.round(E*A)+D+r,D,0,2*Math.PI,!1),x.closePath(),x.fill(),G[0]||x.fillRect(Math.round(F*A)+r,Math.round(E*A)+r,H/2,I/2),G[1]||x.fillRect(Math.round(F*A)+r+Math.floor(H/2),Math.round(E*A)+r,H/2,I/2),G[2]||x.fillRect(Math.round(F*A)+r+Math.floor(H/2),Math.round(E*A)+r+Math.floor(I/2),H/2,I/2),G[3]||x.fillRect(Math.round(F*A)+r,Math.round(E*A)+r+Math.floor(I/2),H/2,I/2)}}else for(var E=0;E<z;E++)for(var F=0;F<z;F++)if(v.isDark(E,F)&&!this.isInPositioninZone(E,F,C)){x.fillStyle=g;var H=Math.ceil((F+1)*A)-Math.floor(F*A),I=Math.ceil((E+1)*A)-Math.floor(E*A);x.fillRect(Math.round(F*A)+r,Math.round(E*A)+r,H,I)}for(var J=0;J<3;J++){var K=C[J],E=K.row,F=K.col,L=n,M=void 0;Array.isArray(L)&&(L=L[J]),"number"==typeof L&&(L=[L,L,L,L]),M=o?Array.isArray(o)?o[J]:o:g,this.drawPositioningPattern(x,A,r,E,F,M,L)}if(i){var N=new Image;e&&(N.crossOrigin="Anonymous"),N.onload=function(a){x.save();var b=s||.2*q,c=t||b,d=(q-b)/2,e=(q-c)/2;if(l||u){x.beginPath(),x.strokeStyle=f,x.fillStyle=f;var g=b+2*u,h=c+2*u,i=d+r-u,m=e+r-u;"circle"===p?(x.ellipse(i+g/2,m+h/2,g/2,h/2,0,0,2*Math.PI),x.stroke(),x.fill()):x.fillRect(i,m,g,h)}x.globalAlpha=j,x.drawImage(N,d+r,e+r,b,c),x.restore(),k&&k(a)},N.src=i}},b.prototype.render=function(){var a,b=+this.props.size+2*this.props.quietZone;return i.createElement("canvas",{id:null!=(a=this.props.id)?a:"react-qrcode-logo",height:b,width:b,style:f({height:b+"px",width:b+"px"},this.props.style),ref:this.canvasRef})},b.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},b}(i.Component)},46244,(a,b,c)=>{b.exports=function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a},b.exports.__esModule=!0,b.exports.default=b.exports},16631,(a,b,c)=>{function d(a,c){return b.exports=d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},b.exports.__esModule=!0,b.exports.default=b.exports,d(a,c)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},13070,(a,b,c)=>{var d=a.r(16631);b.exports=function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,d(a,b)},b.exports.__esModule=!0,b.exports.default=b.exports},68406,a=>{"use strict";let b,c,d;var e=a.i(87924),f=a.i(72131),g=a.i(10510),h=a.i(29820);let i=({children:a,endpoint:b,config:c={commitment:"confirmed"}})=>{let d=(0,f.useMemo)(()=>new g.Connection(b,c),[b,c]);return f.default.createElement(h.ConnectionContext.Provider,{value:{connection:d}},a)};var j=a.i(61607);class k extends Error{constructor(a,b){super(a),this.error=b}}class l extends k{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class m extends k{constructor(){super(...arguments),this.name="WalletConfigError"}}class n extends k{constructor(){super(...arguments),this.name="WalletConnectionError"}}class o extends k{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class p extends k{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class q extends k{constructor(){super(...arguments),this.name="WalletAccountError"}}class r extends k{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class s extends k{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class t extends k{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class u extends k{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class v extends k{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class w extends k{constructor(){super(...arguments),this.name="WalletSignInError"}}(id=ig||(ig={})).Installed="Installed",id.NotDetected="NotDetected",id.Loadable="Loadable",id.Unsupported="Unsupported";class x extends j.default{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(a,b,c={}){let d=this.publicKey;if(!d)throw new s;return a.feePayer=a.feePayer||d,a.recentBlockhash=a.recentBlockhash||(await b.getLatestBlockhash({commitment:c.preflightCommitment,minContextSlot:c.minContextSlot})).blockhash,a}}function y(a){return"version"in a}class z extends x{async sendTransaction(a,b,c={}){let d=!0;try{if(y(a)){if(!this.supportedTransactionVersions)throw new t("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(a.version))throw new t(`Sending transaction version ${a.version} isn't supported by this wallet`);try{let d=(a=await this.signTransaction(a)).serialize();return await b.sendRawTransaction(d,c)}catch(a){if(a instanceof u)throw d=!1,a;throw new t(a?.message,a)}}try{let{signers:d,...e}=c;a=await this.prepareTransaction(a,b,e),d?.length&&a.partialSign(...d);let f=(a=await this.signTransaction(a)).serialize();return await b.sendRawTransaction(f,e)}catch(a){if(a instanceof u)throw d=!1,a;throw new t(a?.message,a)}}catch(a){throw d&&this.emit("error",a),a}}async signAllTransactions(a){for(let b of a)if(y(b)){if(!this.supportedTransactionVersions)throw new u("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(b.version))throw new u(`Signing transaction version ${b.version} isn't supported by this wallet`)}let b=[];for(let c of a)b.push(await this.signTransaction(c));return b}}class A extends z{}class B extends A{}let C="solana:signIn";var D=a.i(72330),E=a.i(1693),F=a.i(97862);a.i(94954);let G=`(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?`;RegExp(`^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??${G}\\n*$`);class H extends Error{constructor(...a){const[b,c,d]=a;super(c),this.code=b,this.data=d,this.name="SolanaMobileWalletAdapterError"}}function I(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}var J=a.i(39658),K=a.i(44080);let L="standard:events";var M=a.i(6765);let N="solana:mainnet";function O(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function P(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)}function Q(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c}function R(a){return window.btoa(String.fromCharCode.call(null,...a))}function S(a){return new Uint8Array(window.atob(a).split("").map(a=>a.charCodeAt(0)))}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakSet;let T="Mobile Wallet Adapter",U=[E.SolanaSignAndSendTransaction,F.SolanaSignTransaction,D.SolanaSignMessage,C];class V{constructor(a){ih.add(this),ii.set(this,{}),ij.set(this,"1.0.0"),ik.set(this,T),il.set(this,"https://solanamobile.com/wallets"),im.set(this,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo="),io.set(this,void 0),ip.set(this,void 0),iq.set(this,void 0),ir.set(this,!1),is.set(this,0),it.set(this,[]),iu.set(this,void 0),iv.set(this,void 0),iw.set(this,void 0),ix.set(this,(a,b)=>{var c;return(null==(c=P(this,ii,"f")[a])?void 0:c.push(b))||(P(this,ii,"f")[a]=[b]),()=>P(this,ih,"m",iz).call(this,a,b)}),iA.set(this,({silent:a}={})=>O(this,void 0,void 0,function*(){if(P(this,ir,"f")||this.connected)return{accounts:this.accounts};Q(this,ir,!0,"f");try{if(a){let a=yield P(this,iq,"f").get();if(!a)return{accounts:this.accounts};yield P(this,iD,"f").call(this,a.capabilities),yield P(this,iC,"f").call(this,a)}else yield P(this,iB,"f").call(this)}catch(a){throw Error(a instanceof Error&&a.message||"Unknown error")}finally{Q(this,ir,!1,"f")}return{accounts:this.accounts}})),iB.set(this,a=>O(this,void 0,void 0,function*(){try{let b=yield P(this,iq,"f").get();if(b)return P(this,iC,"f").call(this,b),b;let c=yield P(this,iu,"f").select(P(this,it,"f"));return yield P(this,iG,"f").call(this,b=>O(this,void 0,void 0,function*(){let[d,e]=yield Promise.all([b.getCapabilities(),b.authorize({chain:c,identity:P(this,io,"f"),sign_in_payload:a})]),f=P(this,iI,"f").call(this,e.accounts),g=Object.assign(Object.assign({},e),{accounts:f,chain:c,capabilities:d});return Promise.all([P(this,iD,"f").call(this,d),P(this,iq,"f").set(g),P(this,iC,"f").call(this,g)]),g}))}catch(a){throw Error(a instanceof Error&&a.message||"Unknown error")}})),iC.set(this,a=>O(this,void 0,void 0,function*(){var b;let c=null==P(this,ip,"f")||(null==(b=P(this,ip,"f"))?void 0:b.accounts.length)!==a.accounts.length||P(this,ip,"f").accounts.some((b,c)=>b.address!==a.accounts[c].address);Q(this,ip,a,"f"),c&&P(this,ih,"m",iy).call(this,"change",{accounts:this.accounts})})),iD.set(this,a=>O(this,void 0,void 0,function*(){let b=a.features.includes("solana:signTransactions"),c=a.supports_sign_and_send_transactions,d=E.SolanaSignAndSendTransaction in this.features!==c||F.SolanaSignTransaction in this.features!==b;Q(this,iv,Object.assign(Object.assign({},(c||!c&&!b)&&{[E.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:P(this,iL,"f")}}),b&&{[F.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:P(this,iM,"f")}}),"f"),d&&P(this,ih,"m",iy).call(this,"change",{features:this.features})})),iE.set(this,(a,b,c)=>O(this,void 0,void 0,function*(){var d,e;try{let[f,g]=yield Promise.all([null!=(e=null==(d=P(this,ip,"f"))?void 0:d.capabilities)?e:yield a.getCapabilities(),a.authorize({auth_token:b,identity:P(this,io,"f"),chain:c})]),h=P(this,iI,"f").call(this,g.accounts),i=Object.assign(Object.assign({},g),{accounts:h,chain:c,capabilities:f});Promise.all([P(this,iq,"f").set(i),P(this,iC,"f").call(this,i)])}catch(a){throw P(this,iF,"f").call(this),Error(a instanceof Error&&a.message||"Unknown error")}})),iF.set(this,()=>O(this,void 0,void 0,function*(){var a;P(this,iq,"f").clear(),Q(this,ir,!1,"f"),Q(this,is,(a=P(this,is,"f"),++a),"f"),Q(this,ip,void 0,"f"),P(this,ih,"m",iy).call(this,"change",{accounts:this.accounts})})),iG.set(this,a=>O(this,void 0,void 0,function*(){var a;let b=null==(a=P(this,ip,"f"))?void 0:a.wallet_uri_base,c=P(this,is,"f");try{return yield function(a,b){return I(this,void 0,void 0,function*(){throw new H("ERROR_SECURE_CONTEXT_REQUIRED","The mobile wallet adapter protocol must be used in a secure context (`https`).")})}(0,0)}catch(a){throw P(this,is,"f")!==c&&(yield new Promise(()=>{})),a instanceof Error&&"SolanaMobileWalletAdapterError"===a.name&&"ERROR_WALLET_NOT_FOUND"===a.code&&(yield P(this,iw,"f").call(this,this)),a}})),iH.set(this,()=>{if(!P(this,ip,"f"))throw Error("Wallet not connected");return{authToken:P(this,ip,"f").auth_token,chain:P(this,ip,"f").chain}}),iI.set(this,a=>a.map(a=>{var b,c;let d=S(a.address);return{address:M.default.encode(d),publicKey:d,label:a.label,icon:a.icon,chains:null!=(b=a.chains)?b:P(this,it,"f"),features:null!=(c=a.features)?c:U}})),iJ.set(this,a=>O(this,void 0,void 0,function*(){let{authToken:b,chain:c}=P(this,iH,"f").call(this);try{let d=a.map(a=>R(a));return yield P(this,iG,"f").call(this,a=>O(this,void 0,void 0,function*(){return yield P(this,iE,"f").call(this,a,b,c),(yield a.signTransactions({payloads:d})).signed_payloads.map(S)}))}catch(a){throw Error(a instanceof Error&&a.message||"Unknown error")}})),iK.set(this,(a,b)=>O(this,void 0,void 0,function*(){let{authToken:c,chain:d}=P(this,iH,"f").call(this);try{return yield P(this,iG,"f").call(this,e=>O(this,void 0,void 0,function*(){let[f,g]=yield Promise.all([e.getCapabilities(),P(this,iE,"f").call(this,e,c,d)]);if(f.supports_sign_and_send_transactions){let c=R(a);return(yield e.signAndSendTransactions(Object.assign(Object.assign({},b),{payloads:[c]}))).signatures.map(S)[0]}throw Error("connected wallet does not support signAndSendTransaction")}))}catch(a){throw Error(a instanceof Error&&a.message||"Unknown error")}})),iL.set(this,(...a)=>O(this,void 0,void 0,function*(){let b=[];for(let c of a){let a=yield P(this,iK,"f").call(this,c.transaction,c.options);b.push({signature:a})}return b})),iM.set(this,(...a)=>O(this,void 0,void 0,function*(){return(yield P(this,iJ,"f").call(this,a.map(({transaction:a})=>a))).map(a=>({signedTransaction:a}))})),iN.set(this,(...a)=>O(this,void 0,void 0,function*(){let{authToken:b,chain:c}=P(this,iH,"f").call(this),d=a.map(({account:a})=>R(a.publicKey)),e=a.map(({message:a})=>R(a));try{return yield P(this,iG,"f").call(this,a=>O(this,void 0,void 0,function*(){return yield P(this,iE,"f").call(this,a,b,c),(yield a.signMessages({addresses:d,payloads:e})).signed_payloads.map(S).map(a=>({signedMessage:a,signature:a.slice(-64)}))}))}catch(a){throw Error(a instanceof Error&&a.message||"Unknown error")}})),iO.set(this,(...a)=>O(this,void 0,void 0,function*(){let b=[];if(!(a.length>1))return[(yield P(this,iP,"f").call(this,a[0]))];for(let c of a)b.push((yield P(this,iP,"f").call(this,c)));return b})),iP.set(this,a=>O(this,void 0,void 0,function*(){var b,c,d;Q(this,ir,!0,"f");try{let e=yield P(this,iB,"f").call(this,Object.assign(Object.assign({},a),{domain:null!=(b=null==a?void 0:a.domain)?b:window.location.host}));if(!e.sign_in_result)throw Error("Sign in failed, no sign in result returned by wallet");let f=e.sign_in_result.address,g=e.accounts.find(a=>a.address==f);return{account:Object.assign(Object.assign({},null!=g?g:{address:M.default.encode(S(f))}),{publicKey:S(f),chains:null!=(c=null==g?void 0:g.chains)?c:P(this,it,"f"),features:null!=(d=null==g?void 0:g.features)?d:e.capabilities.features}),signedMessage:S(e.sign_in_result.signed_message),signature:S(e.sign_in_result.signature)}}catch(a){throw Error(a instanceof Error&&a.message||"Unknown error")}finally{Q(this,ir,!1,"f")}})),Q(this,iq,a.authorizationCache,"f"),Q(this,io,a.appIdentity,"f"),Q(this,it,a.chains,"f"),Q(this,iu,a.chainSelector,"f"),Q(this,iw,a.onWalletNotFound,"f"),Q(this,iv,{[E.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:P(this,iL,"f")},[F.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:P(this,iM,"f")}},"f")}get version(){return P(this,ij,"f")}get name(){return P(this,ik,"f")}get url(){return P(this,il,"f")}get icon(){return P(this,im,"f")}get chains(){return P(this,it,"f")}get features(){return Object.assign({[J.StandardConnect]:{version:"1.0.0",connect:P(this,iA,"f")},[K.StandardDisconnect]:{version:"1.0.0",disconnect:P(this,iF,"f")},[L]:{version:"1.0.0",on:P(this,ix,"f")},[D.SolanaSignMessage]:{version:"1.0.0",signMessage:P(this,iN,"f")},[C]:{version:"1.0.0",signIn:P(this,iO,"f")}},P(this,iv,"f"))}get accounts(){var a,b;return null!=(b=null==(a=P(this,ip,"f"))?void 0:a.accounts)?b:[]}get connected(){return!!P(this,ip,"f")}get isAuthorized(){return!!P(this,ip,"f")}get currentAuthorization(){return P(this,ip,"f")}get cachedAuthorizationResult(){return P(this,iq,"f").get()}}ii=new WeakMap,ij=new WeakMap,ik=new WeakMap,il=new WeakMap,im=new WeakMap,io=new WeakMap,ip=new WeakMap,iq=new WeakMap,ir=new WeakMap,is=new WeakMap,it=new WeakMap,iu=new WeakMap,iv=new WeakMap,iw=new WeakMap,ix=new WeakMap,iA=new WeakMap,iB=new WeakMap,iC=new WeakMap,iD=new WeakMap,iE=new WeakMap,iF=new WeakMap,iG=new WeakMap,iH=new WeakMap,iI=new WeakMap,iJ=new WeakMap,iK=new WeakMap,iL=new WeakMap,iM=new WeakMap,iN=new WeakMap,iO=new WeakMap,iP=new WeakMap,ih=new WeakSet,iy=function(a,...b){var c;null==(c=P(this,ii,"f")[a])||c.forEach(a=>a.apply(null,b))},iz=function(a,b){var c;P(this,ii,"f")[a]=null==(c=P(this,ii,"f")[a])?void 0:c.filter(a=>b!==a)},new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakSet;Event,new WeakMap;let W="SolanaMobileWalletAdapterDefaultAuthorizationCache";function X(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function Y(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)}function Z(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c}let $="standard:connect";function _(a){return window.btoa(String.fromCharCode.call(null,...a))}function aa(a){switch(a){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return a}}class ab extends B{constructor(a,b){super(),iQ.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),iR.set(this,void 0),iS.set(this,!1),iT.set(this,ig.Unsupported),iU.set(this,void 0),iV.set(this,void 0),iW.set(this,void 0),iX.set(this,a=>X(this,void 0,void 0,function*(){if(a.accounts&&a.accounts.length>0){Y(this,iQ,"m",iZ).call(this);let b=yield Y(this,iU,"f").call(this,a.accounts);b!==Y(this,iV,"f")&&(Z(this,iV,b,"f"),Z(this,iW,void 0,"f"),this.emit("connect",this.publicKey))}})),Z(this,iU,a=>X(this,void 0,void 0,function*(){var c;let d=yield b.addressSelector.select(a.map(({publicKey:a})=>_(a)));return null!=(c=a.find(({publicKey:a})=>_(a)===d))?c:a[0]}),"f"),Z(this,iR,a,"f"),Y(this,iR,"f").features["standard:events"].on("change",Y(this,iX,"f")),this.name=Y(this,iR,"f").name,this.icon=Y(this,iR,"f").icon,this.url=Y(this,iR,"f").url}get publicKey(){var a;if(!Y(this,iW,"f")&&Y(this,iV,"f"))try{Z(this,iW,new g.PublicKey(Y(this,iV,"f").publicKey),"f")}catch(a){throw new r(a instanceof Error&&(null==a?void 0:a.message)||"Unknown error",a)}return null!=(a=Y(this,iW,"f"))?a:null}get connected(){return Y(this,iR,"f").connected}get connecting(){return Y(this,iS,"f")}get readyState(){return Y(this,iT,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return X(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return X(this,void 0,void 0,function*(){Y(this,iQ,"m",iY).call(this,!0)})}connect(){return X(this,void 0,void 0,function*(){Y(this,iQ,"m",iY).call(this)})}performAuthorization(a){return X(this,void 0,void 0,function*(){try{let b=yield Y(this,iR,"f").cachedAuthorizationResult;if(b)return yield Y(this,iR,"f").features[$].connect({silent:!0}),b;return a?yield Y(this,iR,"f").features[C].signIn(a):yield Y(this,iR,"f").features[$].connect(),yield yield Y(this,iR,"f").cachedAuthorizationResult}catch(a){throw new n(a instanceof Error&&a.message||"Unknown error",a)}})}disconnect(){return X(this,void 0,void 0,function*(){return yield Y(this,iQ,"m",i0).call(this,()=>X(this,void 0,void 0,function*(){Z(this,iS,!1,"f"),Z(this,iW,void 0,"f"),Z(this,iV,void 0,"f"),yield Y(this,iR,"f").features["standard:disconnect"].disconnect(),this.emit("disconnect")}))})}signIn(a){return X(this,void 0,void 0,function*(){return Y(this,iQ,"m",i0).call(this,()=>X(this,void 0,void 0,function*(){var b;if(Y(this,iT,"f")!==ig.Installed&&Y(this,iT,"f")!==ig.Loadable)throw new l;Z(this,iS,!0,"f");try{let c=yield Y(this,iR,"f").features[C].signIn(Object.assign(Object.assign({},a),{domain:null!=(b=null==a?void 0:a.domain)?b:window.location.host}));if(c.length>0)return c[0];throw Error("Sign in failed, no sign in result returned by wallet")}catch(a){throw new n(a instanceof Error&&a.message||"Unknown error",a)}finally{Z(this,iS,!1,"f")}}))})}signMessage(a){return X(this,void 0,void 0,function*(){return yield Y(this,iQ,"m",i0).call(this,()=>X(this,void 0,void 0,function*(){let b=Y(this,iQ,"m",i$).call(this);try{return(yield Y(this,iR,"f").features[D.SolanaSignMessage].signMessage({account:b,message:a}))[0].signature}catch(a){throw new v(null==a?void 0:a.message,a)}}))})}sendTransaction(a,b,c){return X(this,void 0,void 0,function*(){return yield Y(this,iQ,"m",i0).call(this,()=>X(this,void 0,void 0,function*(){let d=Y(this,iQ,"m",i$).call(this);try{if(E.SolanaSignAndSendTransaction in Y(this,iR,"f").features){let b=aa(Y(this,iR,"f").currentAuthorization.chain),[e]=(yield Y(this,iR,"f").features[E.SolanaSignAndSendTransaction].signAndSendTransaction({account:d,transaction:a.serialize(),chain:b,options:c?{skipPreflight:c.skipPreflight,maxRetries:c.maxRetries}:void 0})).map(a=>_(a.signature));return e}{let[d]=yield Y(this,iQ,"m",i_).call(this,[a]);if("version"in d)return yield b.sendTransaction(d);{let a=d.serialize();return yield b.sendRawTransaction(a,Object.assign(Object.assign({},c),{preflightCommitment:function(){let a,d;switch(b.commitment){case"confirmed":case"finalized":case"processed":a=b.commitment;break;default:a="finalized"}switch(null==c?void 0:c.preflightCommitment){case"confirmed":case"finalized":case"processed":d=c.preflightCommitment;break;case void 0:d=a;break;default:d="finalized"}let e="finalized"===d?2:+("confirmed"===d),f="finalized"===a?2:+("confirmed"===a);return e<f?d:a}()}))}}}catch(a){throw new t(null==a?void 0:a.message,a)}}))})}signTransaction(a){return X(this,void 0,void 0,function*(){return yield Y(this,iQ,"m",i0).call(this,()=>X(this,void 0,void 0,function*(){let[b]=yield Y(this,iQ,"m",i_).call(this,[a]);return b}))})}signAllTransactions(a){return X(this,void 0,void 0,function*(){return yield Y(this,iQ,"m",i0).call(this,()=>X(this,void 0,void 0,function*(){return yield Y(this,iQ,"m",i_).call(this,a)}))})}}iR=new WeakMap,iS=new WeakMap,iT=new WeakMap,iU=new WeakMap,iV=new WeakMap,iW=new WeakMap,iX=new WeakMap,iQ=new WeakSet,iY=function(a=!1){return X(this,void 0,void 0,function*(){if(!this.connecting&&!this.connected)return yield Y(this,iQ,"m",i0).call(this,()=>X(this,void 0,void 0,function*(){if(Y(this,iT,"f")!==ig.Installed&&Y(this,iT,"f")!==ig.Loadable)throw new l;Z(this,iS,!0,"f");try{yield Y(this,iR,"f").features[$].connect({silent:a})}catch(a){throw new n(a instanceof Error&&a.message||"Unknown error",a)}finally{Z(this,iS,!1,"f")}}))})},iZ=function(){Y(this,iT,"f")!==ig.Installed&&this.emit("readyStateChange",Z(this,iT,ig.Installed,"f"))},i$=function(){if(!Y(this,iR,"f").isAuthorized||!Y(this,iV,"f"))throw new s;return Y(this,iV,"f")},i_=function(a){return X(this,void 0,void 0,function*(){let b=Y(this,iQ,"m",i$).call(this);try{if(F.SolanaSignTransaction in Y(this,iR,"f").features)return Y(this,iR,"f").features[F.SolanaSignTransaction].signTransaction(...a.map(a=>({account:b,transaction:a.serialize()}))).then(a=>a.map(a=>{let b=a.signedTransaction,c=b[0],d=g.VersionedMessage.deserializeMessageVersion(b.slice(64*c+1,b.length));return"legacy"===d?g.Transaction.from(b):g.VersionedTransaction.deserialize(b)}));throw Error("Connected wallet does not support signing transactions")}catch(a){throw new u(null==a?void 0:a.message,a)}})},i0=function(a){return X(this,void 0,void 0,function*(){try{return yield a()}catch(a){throw this.emit("error",a),a}})};class ac extends ab{constructor(a){var b;const c=aa(null!=(b=a.chain)?b:a.cluster);super(new V({appIdentity:a.appIdentity,authorizationCache:{set:a.authorizationResultCache.set,get:()=>X(this,void 0,void 0,function*(){return yield a.authorizationResultCache.get()}),clear:a.authorizationResultCache.clear},chains:[c],chainSelector:{select(a){return O(this,void 0,void 0,function*(){return 1===a.length?a[0]:a.includes(N)?N:a[0]})}},onWalletNotFound:()=>X(this,void 0,void 0,function*(){a.onWalletNotFound(this)})}),{addressSelector:a.addressSelector,chain:c})}}class ad extends ac{}function ae(a){return X(this,void 0,void 0,function*(){return function(){return O(this,void 0,void 0,function*(){})}()})}let af=function(a){return J.StandardConnect in a.features&&L in a.features&&(E.SolanaSignAndSendTransaction in a.features||F.SolanaSignTransaction in a.features)};function ag(a){switch(a){case"processed":case"confirmed":case"finalized":case void 0:return a;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;let ah=function(a){if(a.length>=255)throw TypeError("Alphabet too long");let b=new Uint8Array(256);for(let a=0;a<b.length;a++)b[a]=255;for(let c=0;c<a.length;c++){let d=a.charAt(c),e=d.charCodeAt(0);if(255!==b[e])throw TypeError(d+" is ambiguous");b[e]=c}let c=a.length,d=a.charAt(0),e=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function g(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;let f=0,g=0,h=0;for(;a[f]===d;)g++,f++;let i=(a.length-f)*e+1>>>0,j=new Uint8Array(i);for(;f<a.length;){let d=a.charCodeAt(f);if(d>255)return;let e=b[d];if(255===e)return;let g=0;for(let a=i-1;(0!==e||g<h)&&-1!==a;a--,g++)e+=c*j[a]>>>0,j[a]=e%256>>>0,e=e/256>>>0;if(0!==e)throw Error("Non-zero carry");h=g,f++}let k=i-h;for(;k!==i&&0===j[k];)k++;let l=new Uint8Array(g+(i-k)),m=g;for(;k!==i;)l[m++]=j[k++];return l}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";let e=0,g=0,h=0,i=b.length;for(;h!==i&&0===b[h];)h++,e++;let j=(i-h)*f+1>>>0,k=new Uint8Array(j);for(;h!==i;){let a=b[h],d=0;for(let b=j-1;(0!==a||d<g)&&-1!==b;b--,d++)a+=256*k[b]>>>0,k[b]=a%c>>>0,a=a/c>>>0;if(0!==a)throw Error("Non-zero carry");g=d,h++}let l=j-g;for(;l!==j&&0===k[l];)l++;let m=d.repeat(e);for(;l<j;++l)m+=a.charAt(k[l]);return m},decodeUnsafe:g,decode:function(a){let b=g(a);if(b)return b;throw Error("Non-base"+c+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var ai=function(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)},aj=function(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c};class ak extends x{get name(){return ai(this,i8,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ai(this,i8,"f").icon}get readyState(){return ai(this,i9,"f")}get publicKey(){return ai(this,i3,"f")}get connecting(){return ai(this,i4,"f")}get supportedTransactionVersions(){return ai(this,i7,"f")}get wallet(){return ai(this,i8,"f")}get standard(){return!0}constructor({wallet:a}){super(),i1.add(this),i2.set(this,void 0),i3.set(this,void 0),i4.set(this,void 0),i5.set(this,void 0),i6.set(this,void 0),i7.set(this,void 0),i8.set(this,void 0),i9.set(this,ig.Unsupported),je.set(this,a=>{if("accounts"in a){let a=ai(this,i8,"f").accounts[0];ai(this,i2,"f")&&!ai(this,i5,"f")&&a!==ai(this,i2,"f")&&(a?ai(this,i1,"m",jb).call(this,a):(this.emit("error",new o),ai(this,i1,"m",jc).call(this)))}"features"in a&&ai(this,i1,"m",jd).call(this)}),aj(this,i8,a,"f"),aj(this,i2,null,"f"),aj(this,i3,null,"f"),aj(this,i4,!1,"f"),aj(this,i5,!1,"f"),aj(this,i6,ai(this,i8,"f").features[L].on("change",ai(this,je,"f")),"f"),ai(this,i1,"m",jd).call(this)}destroy(){aj(this,i2,null,"f"),aj(this,i3,null,"f"),aj(this,i4,!1,"f"),aj(this,i5,!1,"f");let a=ai(this,i6,"f");a&&(aj(this,i6,null,"f"),a())}async autoConnect(){return ai(this,i1,"m",ja).call(this,{silent:!0})}async connect(){return ai(this,i1,"m",ja).call(this)}async disconnect(){if(K.StandardDisconnect in ai(this,i8,"f").features)try{aj(this,i5,!0,"f"),await ai(this,i8,"f").features[K.StandardDisconnect].disconnect()}catch(a){this.emit("error",new p(a?.message,a))}finally{aj(this,i5,!1,"f")}ai(this,i1,"m",jc).call(this)}async sendTransaction(a,b,c={}){try{var d;let e,f=ai(this,i2,"f");if(!f)throw new s;if(E.SolanaSignAndSendTransaction in ai(this,i8,"f").features)if(f.features.includes(E.SolanaSignAndSendTransaction))e=E.SolanaSignAndSendTransaction;else if(F.SolanaSignTransaction in ai(this,i8,"f").features&&f.features.includes(F.SolanaSignTransaction))e=F.SolanaSignTransaction;else throw new q;else if(F.SolanaSignTransaction in ai(this,i8,"f").features){if(!f.features.includes(F.SolanaSignTransaction))throw new q;e=F.SolanaSignTransaction}else throw new m;let g=(d=b.rpcEndpoint).includes("https://api.mainnet-beta.solana.com")?N:/\bdevnet\b/i.test(d)?"solana:devnet":/\btestnet\b/i.test(d)?"solana:testnet":/\blocalhost\b/i.test(d)||/\b127\.0\.0\.1\b/.test(d)?"solana:localnet":N;if(!f.chains.includes(g))throw new t;try{let d,{signers:h,...i}=c;if(y(a)?(h?.length&&a.sign(h),d=a.serialize()):(a=await this.prepareTransaction(a,b,i),h?.length&&a.partialSign(...h),d=new Uint8Array(a.serialize({requireAllSignatures:!1,verifySignatures:!1}))),e===E.SolanaSignAndSendTransaction){let[a]=await ai(this,i8,"f").features[E.SolanaSignAndSendTransaction].signAndSendTransaction({account:f,chain:g,transaction:d,options:{preflightCommitment:ag(i.preflightCommitment||b.commitment),skipPreflight:i.skipPreflight,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot}});return ah.encode(a.signature)}{let[a]=await ai(this,i8,"f").features[F.SolanaSignTransaction].signTransaction({account:f,chain:g,transaction:d,options:{preflightCommitment:ag(i.preflightCommitment||b.commitment),minContextSlot:i.minContextSlot}});return await b.sendRawTransaction(a.signedTransaction,{...i,preflightCommitment:ag(i.preflightCommitment||b.commitment)})}}catch(a){if(a instanceof k)throw a;throw new t(a?.message,a)}}catch(a){throw this.emit("error",a),a}}}i2=new WeakMap,i3=new WeakMap,i4=new WeakMap,i5=new WeakMap,i6=new WeakMap,i7=new WeakMap,i8=new WeakMap,i9=new WeakMap,je=new WeakMap,i1=new WeakSet,ja=async function(a){try{if(this.connected||this.connecting)return;if(ai(this,i9,"f")!==ig.Installed)throw new l;if(aj(this,i4,!0,"f"),!ai(this,i8,"f").accounts.length)try{await ai(this,i8,"f").features[J.StandardConnect].connect(a)}catch(a){throw new n(a?.message,a)}let b=ai(this,i8,"f").accounts[0];if(!b)throw new q;ai(this,i1,"m",jb).call(this,b)}catch(a){throw this.emit("error",a),a}finally{aj(this,i4,!1,"f")}},jb=function(a){let b;try{b=new g.PublicKey(a.address)}catch(a){throw new r(a?.message,a)}aj(this,i2,a,"f"),aj(this,i3,b,"f"),ai(this,i1,"m",jd).call(this),this.emit("connect",b)},jc=function(){aj(this,i2,null,"f"),aj(this,i3,null,"f"),ai(this,i1,"m",jd).call(this),this.emit("disconnect")},jd=function(){let a=E.SolanaSignAndSendTransaction in ai(this,i8,"f").features?ai(this,i8,"f").features[E.SolanaSignAndSendTransaction].supportedTransactionVersions:ai(this,i8,"f").features[F.SolanaSignTransaction].supportedTransactionVersions;aj(this,i7,!function(a,b){if(a===b)return!0;let c=a.length;if(c!==b.length)return!1;for(let d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}(a,["legacy"])?new Set(a):null,"f"),F.SolanaSignTransaction in ai(this,i8,"f").features&&ai(this,i2,"f")?.features.includes(F.SolanaSignTransaction)?(this.signTransaction=ai(this,i1,"m",jf),this.signAllTransactions=ai(this,i1,"m",jg)):(delete this.signTransaction,delete this.signAllTransactions),D.SolanaSignMessage in ai(this,i8,"f").features&&ai(this,i2,"f")?.features.includes(D.SolanaSignMessage)?this.signMessage=ai(this,i1,"m",jh):delete this.signMessage,C in ai(this,i8,"f").features?this.signIn=ai(this,i1,"m",ji):delete this.signIn},jf=async function(a){try{let b=ai(this,i2,"f");if(!b)throw new s;if(!(F.SolanaSignTransaction in ai(this,i8,"f").features))throw new m;if(!b.features.includes(F.SolanaSignTransaction))throw new q;try{let c=(await ai(this,i8,"f").features[F.SolanaSignTransaction].signTransaction({account:b,transaction:y(a)?a.serialize():new Uint8Array(a.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return y(a)?g.VersionedTransaction.deserialize(c):g.Transaction.from(c)}catch(a){if(a instanceof k)throw a;throw new u(a?.message,a)}}catch(a){throw this.emit("error",a),a}},jg=async function(a){try{let b=ai(this,i2,"f");if(!b)throw new s;if(!(F.SolanaSignTransaction in ai(this,i8,"f").features))throw new m;if(!b.features.includes(F.SolanaSignTransaction))throw new q;try{let c=await ai(this,i8,"f").features[F.SolanaSignTransaction].signTransaction(...a.map(a=>({account:b,transaction:y(a)?a.serialize():new Uint8Array(a.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return a.map((a,b)=>{let d=c[b].signedTransaction;return y(a)?g.VersionedTransaction.deserialize(d):g.Transaction.from(d)})}catch(a){throw new u(a?.message,a)}}catch(a){throw this.emit("error",a),a}},jh=async function(a){try{let b=ai(this,i2,"f");if(!b)throw new s;if(!(D.SolanaSignMessage in ai(this,i8,"f").features))throw new m;if(!b.features.includes(D.SolanaSignMessage))throw new q;try{return(await ai(this,i8,"f").features[D.SolanaSignMessage].signMessage({account:b,message:a}))[0].signature}catch(a){throw new v(a?.message,a)}}catch(a){throw this.emit("error",a),a}},ji=async function(a={}){try{let b;if(!(C in ai(this,i8,"f").features))throw new m;try{[b]=await ai(this,i8,"f").features[C].signIn(a)}catch(a){throw new w(a?.message,a)}if(!b)throw new w;return ai(this,i1,"m",jb).call(this,b.account),b}catch(a){throw this.emit("error",a),a}};var al=a.i(48581);function am(a){let b=(0,f.useRef)(void 0);return void 0===b.current&&(b.current={value:a()}),b.current.value}function an(a){return a.filter(af).map(a=>new ak({wallet:a}))}(ie=jj||(jj={}))[ie.DESKTOP_WEB=0]="DESKTOP_WEB",ie[ie.MOBILE_WEB=1]="MOBILE_WEB";class ao extends k{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}var ap=a.i(19272);function aq({children:a,wallets:b,adapter:c,isUnloadingRef:d,onAutoConnectRequest:e,onConnectError:g,onError:h,onSelectWallet:i}){let j=(0,f.useRef)(!1),[k,m]=(0,f.useState)(!1),n=(0,f.useRef)(!1),[o,p]=(0,f.useState)(!1),[q,r]=(0,f.useState)(()=>c?.publicKey??null),[t,u]=(0,f.useState)(()=>c?.connected??!1),v=(0,f.useRef)(h);(0,f.useEffect)(()=>(v.current=h,()=>{v.current=void 0}),[h]);let w=(0,f.useRef)((a,b)=>(d.current||(v.current?v.current(a,b):console.error(a,b)),a)),[x,y]=(0,f.useState)(()=>b.map(a=>({adapter:a,readyState:a.readyState})).filter(({readyState:a})=>a!==ig.Unsupported));(0,f.useEffect)(()=>{function a(a){y(b=>{let c=b.findIndex(({adapter:a})=>a===this);if(-1===c)return b;let{adapter:d}=b[c];return[...b.slice(0,c),{adapter:d,readyState:a},...b.slice(c+1)].filter(({readyState:a})=>a!==ig.Unsupported)})}return y(a=>b.map((b,c)=>{let d=a[c];return d&&d.adapter===b&&d.readyState===b.readyState?d:{adapter:b,readyState:b.readyState}}).filter(({readyState:a})=>a!==ig.Unsupported)),b.forEach(b=>b.on("readyStateChange",a,b)),()=>{b.forEach(b=>b.off("readyStateChange",a,b))}},[c,b]);let z=(0,f.useMemo)(()=>x.find(a=>a.adapter===c)??null,[c,x]);(0,f.useEffect)(()=>{if(!c)return;let a=a=>{r(a),j.current=!1,m(!1),u(!0),n.current=!1,p(!1)},b=()=>{d.current||(r(null),j.current=!1,m(!1),u(!1),n.current=!1,p(!1))},e=a=>{w.current(a,c)};return c.on("connect",a),c.on("disconnect",b),c.on("error",e),()=>{c.off("connect",a),c.off("disconnect",b),c.off("error",e),b()}},[c,d]);let A=(0,f.useRef)(!1);(0,f.useEffect)(()=>()=>{A.current=!1},[c]),(0,f.useEffect)(()=>{A.current||j.current||t||!e||z?.readyState!==ig.Installed&&z?.readyState!==ig.Loadable||(j.current=!0,m(!0),A.current=!0,async function(){try{await e()}catch{g()}finally{m(!1),j.current=!1}}())},[t,e,g,z]);let B=(0,f.useCallback)(async(a,b,d)=>{if(!c)throw w.current(new ao);if(!t)throw w.current(new s,c);return await c.sendTransaction(a,b,d)},[c,t]),C=(0,f.useMemo)(()=>c&&"signTransaction"in c?async a=>{if(!t)throw w.current(new s,c);return await c.signTransaction(a)}:void 0,[c,t]),D=(0,f.useMemo)(()=>c&&"signAllTransactions"in c?async a=>{if(!t)throw w.current(new s,c);return await c.signAllTransactions(a)}:void 0,[c,t]),E=(0,f.useMemo)(()=>c&&"signMessage"in c?async a=>{if(!t)throw w.current(new s,c);return await c.signMessage(a)}:void 0,[c,t]),F=(0,f.useMemo)(()=>c&&"signIn"in c?async a=>await c.signIn(a):void 0,[c]),G=(0,f.useCallback)(async()=>{if(j.current||n.current||z?.adapter.connected)return;if(!z)throw w.current(new ao);let{adapter:a,readyState:b}=z;if(b!==ig.Installed&&b!==ig.Loadable)throw w.current(new l,a);j.current=!0,m(!0);try{await a.connect()}catch(a){throw g(),a}finally{m(!1),j.current=!1}},[g,z]),H=(0,f.useCallback)(async()=>{if(!n.current&&c){n.current=!0,p(!0);try{await c.disconnect()}finally{p(!1),n.current=!1}}},[c]);return f.default.createElement(ap.WalletContext.Provider,{value:{autoConnect:!!e,wallets:x,wallet:z,publicKey:q,connected:t,connecting:k,disconnecting:o,select:i,connect:G,disconnect:H,sendTransaction:B,signTransaction:C,signAllTransactions:D,signMessage:E,signIn:F}},a)}function ar(a){return function({adapters:a,userAgentString:b}){return a.some(a=>a.name!==T&&a.readyState===ig.Installed)?jj.DESKTOP_WEB:b&&/android/i.test(b)&&!/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(b)?jj.MOBILE_WEB:jj.DESKTOP_WEB}({adapters:a,userAgentString:(void 0===b&&(b=globalThis.navigator?.userAgent??null),b)})===jj.MOBILE_WEB}function as({children:a,wallets:b,autoConnect:c,localStorageKey:d="walletName",onError:e}){let g,i,j,{connection:k}=(0,h.useConnection)(),l=function(a){var b;let c,d=am(()=>new Set),{get:e,on:g}=am(()=>(0,al.DEPRECATED_getWallets)()),[h,i]=(0,f.useState)(()=>an(e()));(0,f.useEffect)(()=>{let a=[g("register",(...a)=>i(b=>[...b,...an(a)])),g("unregister",(...a)=>i(b=>b.filter(b=>a.some(a=>a===b.wallet))))];return()=>a.forEach(a=>a())},[g]);let j=(b=h,c=(0,f.useRef)(void 0),(0,f.useEffect)(()=>{c.current=b}),c.current);return(0,f.useEffect)(()=>{if(!j)return;let a=new Set(h);new Set(j.filter(b=>!a.has(b))).forEach(a=>a.destroy())},[j,h]),(0,f.useEffect)(()=>()=>h.forEach(a=>a.destroy()),[]),(0,f.useMemo)(()=>[...h,...a.filter(({name:a})=>!h.some(b=>b.name===a)||(d.has(a)||(d.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1))],[h,a,d])}(b),m=(0,f.useMemo)(()=>{var a;if(!ar(l))return null;let b=l.find(a=>a.name===T);return b?b:new ad({addressSelector:{select(a){return X(this,void 0,void 0,function*(){return a[0]})}},appIdentity:{uri:function(){let a=globalThis.location;if(a)return`${a.protocol}//${a.host}`}()},authorizationResultCache:function(){let a;try{a=window.localStorage}catch(a){}return{clear(){return O(this,void 0,void 0,function*(){if(a)try{a.removeItem(W)}catch(a){}})},get(){return O(this,void 0,void 0,function*(){if(a)try{let b=JSON.parse(a.getItem(W));if(!b||!b.accounts)return b||void 0;{let a=b.accounts.map(a=>Object.assign(Object.assign({},a),{publicKey:"publicKey"in a?new Uint8Array(Object.values(a.publicKey)):M.default.decode(a.address)}));return Object.assign(Object.assign({},b),{accounts:a})}}catch(a){}})},set(b){return O(this,void 0,void 0,function*(){if(a)try{a.setItem(W,JSON.stringify(b))}catch(a){}})}}}(),cluster:(a=k?.rpcEndpoint)?/devnet/i.test(a)?"devnet":/testnet/i.test(a)?"testnet":"mainnet-beta":"mainnet-beta",onWalletNotFound:ae})},[l,k?.rpcEndpoint]),n=(0,f.useMemo)(()=>null==m||-1!==l.indexOf(m)?l:[m,...l],[l,m]),[o,p]=(i=(g=(0,f.useState)(()=>{try{let a=localStorage.getItem(d);if(a)return JSON.parse(a)}catch(a){}return null}))[0],j=(0,f.useRef)(!0),(0,f.useEffect)(()=>{if(j.current){j.current=!1;return}try{null===i?localStorage.removeItem(d):localStorage.setItem(d,JSON.stringify(i))}catch(a){}},[i,d]),g),q=(0,f.useMemo)(()=>n.find(a=>a.name===o)??null,[n,o]),r=(0,f.useCallback)(a=>{o!==a&&(q&&q.name!==T&&q.disconnect(),p(a))},[q,p,o]);(0,f.useEffect)(()=>{if(q)return q.on("disconnect",a),()=>{q.off("disconnect",a)};function a(){u.current||p(null)}},[q,l,p,o]);let s=(0,f.useRef)(!1),t=(0,f.useMemo)(()=>{if(c&&q)return async()=>{(!0===c||await c(q))&&(s.current?await q.connect():await q.autoConnect())}},[c,q]),u=(0,f.useRef)(!1);(0,f.useEffect)(()=>{if(o===T&&ar(l)){u.current=!1;return}function a(){u.current=!0}return window.addEventListener("beforeunload",a),()=>{window.removeEventListener("beforeunload",a)}},[l,o]);let v=(0,f.useCallback)(()=>{q&&r(null)},[q,r]),w=(0,f.useCallback)(a=>{s.current=!0,r(a)},[r]);return f.default.createElement(aq,{wallets:n,adapter:q,isUnloadingRef:u,onAutoConnectRequest:t,onConnectError:v,onError:e,onSelectWallet:w},a)}var at=a.i(86969),au=a.i(35112);let av=({id:a,children:b,expanded:c=!1})=>{let d=(0,f.useRef)(null),e=(0,f.useRef)(!0);return(0,f.useLayoutEffect)(()=>{if(c){let a;(a=d.current)&&requestAnimationFrame(()=>{a.style.height=a.scrollHeight+"px"})}else{let a;(a=d.current)&&requestAnimationFrame(()=>{a.style.height=a.offsetHeight+"px",a.style.overflow="hidden",requestAnimationFrame(()=>{a.style.height="0"})})}},[c]),(0,f.useLayoutEffect)(()=>{let a=d.current;if(a)return e.current&&(b(),e.current=!1),a.addEventListener("transitionend",f),()=>a.removeEventListener("transitionend",f);function b(){a&&(a.style.overflow=c?"initial":"hidden",c&&(a.style.height="auto"))}function f(c){a&&c.target===a&&"height"===c.propertyName&&b()}},[c]),f.default.createElement("div",{className:"wallet-adapter-collapse",id:a,ref:d,role:"region",style:{height:0,transition:e.current?void 0:"height 250ms ease-out"}},b)},aw=a=>f.default.createElement("button",{className:`wallet-adapter-button ${a.className||""}`,disabled:a.disabled,style:a.style,onClick:a.onClick,tabIndex:a.tabIndex||0,type:"button"},a.startIcon&&f.default.createElement("i",{className:"wallet-adapter-button-start-icon"},a.startIcon),a.children,a.endIcon&&f.default.createElement("i",{className:"wallet-adapter-button-end-icon"},a.endIcon)),ax=({wallet:a,...b})=>a&&f.default.createElement("img",{src:a.adapter.icon,alt:`${a.adapter.name} icon`,...b}),ay=({handleClick:a,tabIndex:b,wallet:c})=>f.default.createElement("li",null,f.default.createElement(aw,{onClick:a,startIcon:f.default.createElement(ax,{wallet:c}),tabIndex:b},c.adapter.name,c.readyState===ig.Installed&&f.default.createElement("span",null,"Detected"))),az=()=>f.default.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f.default.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),f.default.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),f.default.createElement("g",{clipPath:"url(#clip0_880_5115)"},f.default.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),f.default.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),f.default.createElement("defs",null,f.default.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},f.default.createElement("stop",{stopColor:"#9945FF"}),f.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),f.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),f.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),f.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),f.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),f.default.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},f.default.createElement("stop",{stopColor:"#9945FF"}),f.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),f.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),f.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),f.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),f.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),f.default.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},f.default.createElement("stop",{stopColor:"#9945FF"}),f.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),f.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),f.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),f.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),f.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),f.default.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},f.default.createElement("stop",{stopColor:"#9945FF"}),f.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),f.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),f.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),f.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),f.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),f.default.createElement("clipPath",{id:"clip0_880_5115"},f.default.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),aA=({className:a="",container:b="body"})=>{let c=(0,f.useRef)(null),{wallets:d,select:e}=(0,ap.useWallet)(),{setVisible:g}=(0,at.useWalletModal)(),[h,i]=(0,f.useState)(!1),[j,k]=(0,f.useState)(!1),[l,m]=(0,f.useState)(null),[n,o]=(0,f.useMemo)(()=>{let a=[],b=[];for(let c of d)c.readyState===ig.Installed?a.push(c):b.push(c);return a.length?[a,b]:[b,[]]},[d]),p=(0,f.useCallback)(()=>{k(!1),setTimeout(()=>g(!1),150)},[g]),q=(0,f.useCallback)(a=>{a.preventDefault(),p()},[p]),r=(0,f.useCallback)((a,b)=>{e(b),q(a)},[e,q]),s=(0,f.useCallback)(()=>i(!h),[h]),t=(0,f.useCallback)(a=>{let b=c.current;if(!b)return;let d=b.querySelectorAll("button"),e=d[0],f=d[d.length-1];a.shiftKey?document.activeElement===e&&(f.focus(),a.preventDefault()):document.activeElement===f&&(e.focus(),a.preventDefault())},[c]);return(0,f.useLayoutEffect)(()=>{let a=a=>{"Escape"===a.key?p():"Tab"===a.key&&t(a)},{overflow:b}=window.getComputedStyle(document.body);return setTimeout(()=>k(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",a,!1),()=>{document.body.style.overflow=b,window.removeEventListener("keydown",a,!1)}},[p,t]),(0,f.useLayoutEffect)(()=>m(document.querySelector(b)),[b]),l&&(0,au.createPortal)(f.default.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${j&&"wallet-adapter-modal-fade-in"} ${a}`,ref:c,role:"dialog"},f.default.createElement("div",{className:"wallet-adapter-modal-container"},f.default.createElement("div",{className:"wallet-adapter-modal-wrapper"},f.default.createElement("button",{onClick:q,className:"wallet-adapter-modal-button-close"},f.default.createElement("svg",{width:"14",height:"14"},f.default.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),n.length?f.default.createElement(f.default.Fragment,null,f.default.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),f.default.createElement("ul",{className:"wallet-adapter-modal-list"},n.map(a=>f.default.createElement(ay,{key:a.adapter.name,handleClick:b=>r(b,a.adapter.name),wallet:a})),o.length?f.default.createElement(av,{expanded:h,id:"wallet-adapter-modal-collapse"},o.map(a=>f.default.createElement(ay,{key:a.adapter.name,handleClick:b=>r(b,a.adapter.name),tabIndex:h?0:-1,wallet:a}))):null),o.length?f.default.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:s,tabIndex:0},f.default.createElement("span",null,h?"Less ":"More ","options"),f.default.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${h?"wallet-adapter-modal-list-more-icon-rotate":""}`},f.default.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):f.default.createElement(f.default.Fragment,null,f.default.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),f.default.createElement("div",{className:"wallet-adapter-modal-middle"},f.default.createElement(az,null)),o.length?f.default.createElement(f.default.Fragment,null,f.default.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:s,tabIndex:0},f.default.createElement("span",null,h?"Hide ":"Already have a wallet? View ","options"),f.default.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${h?"wallet-adapter-modal-list-more-icon-rotate":""}`},f.default.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),f.default.createElement(av,{expanded:h,id:"wallet-adapter-modal-collapse"},f.default.createElement("ul",{className:"wallet-adapter-modal-list"},o.map(a=>f.default.createElement(ay,{key:a.adapter.name,handleClick:b=>r(b,a.adapter.name),tabIndex:h?0:-1,wallet:a}))))):null))),f.default.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:q})),l)},aB=({children:a,...b})=>{let[c,d]=(0,f.useState)(!1);return f.default.createElement(at.WalletModalContext.Provider,{value:{visible:c,setVisible:d}},a,c&&f.default.createElement(aA,{...b}))},aC={SOLANA_RPC_URL:"https://broken-solitary-meme.solana-mainnet.quiknode.pro/5f9aee0d3c7a616d84b7e0b45f66c95c3582051a/",SOLANA_NETWORK:"mainnet-beta",JUPITER_API_KEY:process.env.NEXT_PUBLIC_JUPITER_API_KEY||""};var aD=a.i(35443);let aE={hideWalletDiscovery:!1,connectors:{[aD.EVM_CONNECTORS.AUTH]:{label:"Auth",showOnModal:!0}}};var aF=a.i(95851),aG=a.i(41415),aH=a.i(99214),aI=a.i(92743),aJ=a.i(38013),aK=a.i(89004),aL=a.i(86164),aM=a.i(67364),aN=a.i(44026),aO=a.i(61861),aP=a.i(44002),aQ=aP.default.getLogger("customauth");let aR={[aL.AUTH_CONNECTION.APPLE]:"apple",[aL.AUTH_CONNECTION.GITHUB]:"github",[aL.AUTH_CONNECTION.LINKEDIN]:"linkedin",[aL.AUTH_CONNECTION.TWITTER]:"twitter",[aL.AUTH_CONNECTION.LINE]:"line",[aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS]:"email",[aL.AUTH_CONNECTION.SMS_PASSWORDLESS]:"sms"},aS=a=>a.href.endsWith("/")?a.href:`${a.href}/`,aT=()=>Math.random().toString(36).slice(2),aU={webWorkerSupport:!1};function aV(a,b){return b?a:a.toLowerCase()}let aW=(a,b,c,d=!0)=>{let{name:e,sub:f}=a;if(c)return aV(a[c],d);switch(b){case aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS:case aL.AUTH_CONNECTION.SMS_PASSWORDLESS:case aL.AUTH_CONNECTION.AUTHENTICATOR:return aV(e,d);case aL.AUTH_CONNECTION.GITHUB:case aL.AUTH_CONNECTION.TWITTER:case aL.AUTH_CONNECTION.APPLE:case aL.AUTH_CONNECTION.LINKEDIN:case aL.AUTH_CONNECTION.LINE:case aL.AUTH_CONNECTION.WECHAT:case aL.AUTH_CONNECTION.KAKAO:case aL.AUTH_CONNECTION.FARCASTER:case aL.AUTH_CONNECTION.CUSTOM:return aV(f,d);default:throw Error("Invalid login type to get auth connection id")}};function aX(a){let b;try{b=window[a];let c="__storage_test__";return b.setItem(c,c),b.removeItem(c),!0}catch(a){return a&&(22===a.code||1014===a.code||"QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&b&&0!==b.length}}function aY(){let a=void 0!==window.screenLeft?window.screenLeft:window.screenX,b=void 0!==window.screenTop?window.screenTop:window.screenY,c=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,d=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,e=Math.abs((c-1200)/2/1+a),f=Math.abs((d-700)/2/1+b);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=1200,top=${f},left=${e}`}function aZ(a){let{baseURL:b,query:c,hash:d}=a,e=new URL(b);return c&&Object.keys(c).forEach(a=>{e.searchParams.append(a,c[a])}),d&&(e.hash=new URL(aZ({baseURL:b,query:d})).searchParams.toString()),e.toString()}let a$=a=>{try{return new URL(decodeURIComponent(a))}catch(b){throw Error(`${(null==b?void 0:b.message)||""}, Note: Your jwt domain: (i.e ${a}) must have http:// or https:// prefix`)}};function a_(a){let b;return(a===aL.AUTH_CONNECTION.FACEBOOK||a===aL.AUTH_CONNECTION.LINE)&&((b=aO.default.getParser(navigator.userAgent).getPlatform()).type===aO.default.PLATFORMS_MAP.tablet||b.type===aO.default.PLATFORMS_MAP.mobile)?3e4:1e3}function a0(a){let[b,c]=a.split(".");return{header:JSON.parse(aN.default.decode(b)),payload:JSON.parse(aN.default.decode(c))}}class a1{constructor(){(0,aG.default)(this,"store",new Map)}getItem(a){return this.store.get(a)||null}setItem(a,b){this.store.set(a,b)}removeItem(a){this.store.delete(a)}}class a2{constructor(a,b){(0,aG.default)(this,"storage",void 0),(0,aG.default)(this,"_storeKey",void 0),this.storage=b,this._storeKey=a;try{b.getItem(a)||this.resetStore()}catch{}}static getInstance(a,b="local"){if(!this.instanceMap.has(a)){let c;c="local"===b&&aX("localStorage")?window.localStorage:"session"===b&&aX("sessionStorage")?window.sessionStorage:new a1,this.instanceMap.set(a,new this(a,c))}return this.instanceMap.get(a)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){let a=this.getStore();return this.storage.removeItem(this._storeKey),a}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(a){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[a]}set(a,b){let c=JSON.parse(this.storage.getItem(this._storeKey)||"{}");c[a]=b,this.storage.setItem(this._storeKey,JSON.stringify(c))}}(0,aG.default)(a2,"instanceMap",new Map);var a3=a.i(7054),a4=a.i(41623),a5=a.i(54176),a6=a.i(9290),a7=a.i(63179),a8=a.i(71746),a9=a.i(84673);let ba=new a9.ec("secp256k1"),bb=globalThis.crypto||globalThis.msCrypto||{},bc=bb.subtle||bb.webkitSubtle,bd=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),be=Buffer.alloc(32,0);function bf(a,b){if(!a)throw Error(b||"Assertion failed")}function bg(a){return!!Buffer.isBuffer(a)&&32===a.length&&a.compare(be)>0&&0>a.compare(bd)}function bh(a){if(void 0===bb.getRandomValues)return Buffer.from(bb.randomBytes(a));let b=new Uint8Array(a);return bb.getRandomValues(b),Buffer.from(b)}async function bi(a){return new Uint8Array(bb.createHash?bb.createHash("sha512").update(a).digest():await bc.digest("SHA-512",a))}function bj(a){return async function(b,c,d){if(bc&&bc[a]&&bc.importKey){let e=await bc.importKey("raw",c,{name:"AES-CBC"},!1,[a]),f=await bc[a]({name:"AES-CBC",iv:b},e,d);return Buffer.from(new Uint8Array(f))}if("encrypt"===a&&bb.createCipheriv){let a=bb.createCipheriv("aes-256-cbc",c,b),e=a.update(d),f=a.final();return Buffer.concat([e,f])}if("decrypt"===a&&bb.createDecipheriv){let a=bb.createDecipheriv("aes-256-cbc",c,b),e=a.update(d),f=a.final();return Buffer.concat([e,f])}throw Error(`Unsupported operation: ${a}`)}}let bk=bj("encrypt"),bl=bj("decrypt");async function bm(a,b){if(!bb.createHmac){let c=await bc.importKey("raw",new Uint8Array(a),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]),d=await bc.sign("HMAC",c,b);return Buffer.from(new Uint8Array(d))}let c=bb.createHmac("sha256",Buffer.from(a));return c.update(b),c.digest()}async function bn(a,b,c){var d=await bm(a,b);if(d.length!==c.length)return!1;let e=0;for(let a=0;a<d.length;a++)e|=d[a]^c[a];return 0===e}let bo=function(){let a=bh(32);for(;!bg(a);)a=bh(32);return a},bp=function(a){return bs(a),Buffer.from(ba.keyFromPrivate(a).getPublic("array"))},bq=async function(a,b){return bs(a),bf(b.length>0,"Message should not be empty"),bf(b.length<=32,"Message is too long"),Buffer.from(ba.sign(b,a,{canonical:!0}).toDER())},br=function(a){bf(65===a.length||33===a.length,"Bad public key: expected 65 or 33 bytes, got "+a.length),65===a.length&&bf(4===a[0],"Bad public key: expected first byte 4, got "+a[0]),33===a.length&&bf(2===a[0]||3===a[0],"Bad public key: expected first byte 2 or 3, got "+a[0])},bs=function(a){bf(Buffer.isBuffer(a),"Bad private key: expected Buffer"),bf(32===a.length,"Bad private key: expected 32 bytes, got "+a.length),bf(bg(a),"Bad private key: out of range")},bt=async function(a,b,c){bs(a),br(b);let d=ba.keyFromPrivate(a),e=ba.keyFromPublic(b),f=d.derive(e.getPublic());return c?Buffer.from(f.toString(16,64),"hex"):Buffer.from(f.toArray())},bu=async function(a,b,c){let d=(c=c||{}).ephemPrivateKey||bh(32);for(;!bg(d);)d=c.ephemPrivateKey||bh(32);let e=bp(d),f=await bt(d,a,c.padding),g=await bi(f),h=c.iv||bh(16),i=g.slice(0,32),j=g.slice(32),k=await bk(h,Buffer.from(i),b),l=Buffer.concat([h,e,k]);return{iv:h,ephemPublicKey:e,ciphertext:k,mac:await bm(Buffer.from(j),l)}},bv=async function(a,b,c){let d=await bt(a,b.ephemPublicKey,c),e=await bi(d),f=e.slice(0,32),g=e.slice(32),h=Buffer.concat([b.iv,b.ephemPublicKey,b.ciphertext]),i=await bn(Buffer.from(g),h,b.mac);if(!i&&!c)return bv(a,b,!0);if(!i&&!0===c)throw Error("bad MAC after trying padded");let j=await bl(b.iv,Buffer.from(f),b.ciphertext);return Buffer.from(new Uint8Array(j))};var bw=a.i(29537),bx=a.i(12941);function by(a){return Buffer.from((0,bx.keccak256)(a))}let bz=new a9.ec("secp256k1");async function bA(a,b){var c;let d=JSON.stringify(b),e=Buffer.from(d,"utf-8");return JSON.stringify((c=await bu(bp(Buffer.from(a,"hex")),e),{iv:Buffer.from(c.iv).toString("hex"),ephemPublicKey:Buffer.from(c.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(c.ciphertext).toString("hex"),mac:Buffer.from(c.mac).toString("hex")}))}async function bB(a,b){var c;let d=(c=JSON.parse(b),{iv:Buffer.from(c.iv,"hex"),ephemPublicKey:Buffer.from(c.ephemPublicKey,"hex"),ciphertext:Buffer.from(c.ciphertext,"hex"),mac:Buffer.from(c.mac,"hex")}),e=bz.keyFromPrivate(a);return JSON.parse((await bv(Buffer.from(e.getPrivate().toString("hex",64),"hex"),d)).toString("utf-8"))}var bC=a.i(83915),bD=aP.default.getLogger("SecurePubSub");class bE{constructor(a={}){(0,aG.default)(this,"options",void 0),(0,aG.default)(this,"SOCKET_CONN",null),this.options=a,this.options.timeout=a.timeout||600,this.options.serverUrl=a.serverUrl||"https://api.web3auth.io/session-service",this.options.socketUrl=a.socketUrl||"https://session.web3auth.io",this.options.enableLogging=a.enableLogging||!1,this.options.namespace=a.namespace||"",this.options.sameIpCheck=a.sameIpCheck||!1,this.options.allowedOrigin=a.allowedOrigin||"*",this.options.enableLogging?bD.enableAll():bD.disableAll()}static setLogLevel(a){bD.setLevel(a),(0,bw.setLogLevel)(a)}async publish(a,b){if(!this.isValidTopic(a))throw bD.error("Invalid topic"),Error("Invalid topic");let c=by(Buffer.from(a,"utf8")),d=await bA(c.toString("hex"),b),e=await bq(c,by(Buffer.from(d,"utf8"))),f={key:bp(c).toString("hex"),data:d,signature:e.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return(0,bw.post)(`${this.options.serverUrl}/v2/channel/set`,f)}async subscribe(a){let b=!0,c=by(Buffer.from(a,"utf8")),d=bp(c).toString("hex"),e=this.getSocketConnection();e.connected?(bD.debug("already connected with socket"),e.emit("v2:check_auth_status",d,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):e.once("connect",()=>{bD.debug("connected with socket"),e.emit("v2:check_auth_status",d,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});let f=()=>{e.once("connect",async()=>{bD.debug("connected with socket using reconnect"),b&&e.emit("v2:check_auth_status",d,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},g=()=>{b||document.removeEventListener("visibilitychange",g),e.connected||"visible"!==document.visibilityState||f()},h=()=>{bD.debug("socket disconnected",b),b?(bD.error("socket disconnected unexpectedly, reconnecting socket"),f()):e.removeListener("disconnect",h)};e.on("disconnect",h);let i=new Promise((a,f)=>{let h=async d=>{try{let b=await bB(c.toString("hex"),d);bD.info("got data",b),a(b)}catch(a){bD.error(a),f(a)}finally{b=!1,"undefined"!=typeof document&&document.removeEventListener("visibilitychange",g)}};bD.info("listening to",`${d}_success`),e.once(`${d}_success`,h)});return"undefined"!=typeof document&&document.addEventListener("visibilitychange",g),i}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;let a=(0,bC.io)(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return a.on("connect_error",b=>{a.io.opts.transports=["polling","websocket"],bD.error("connect error",b)}),a.on("connect",async()=>{let{engine:b}=a.io;bD.debug("initially connected to",b.transport.name),b.once("upgrade",()=>{bD.debug("upgraded",b.transport.name)}),b.once("close",a=>{bD.debug("connection closed",a)})}),a.on("error",b=>{bD.error("socket errored",b),a.disconnect()}),this.SOCKET_CONN=a,this.SOCKET_CONN}isValidTopic(a){return a&&a.length>0}}var bF=a.i(34110),bG=a.i(7227);let bH=a=>a.padStart(64,"0").slice(0,64);class bI{constructor(){(0,aG.default)(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw Error("Session id is required");this.sessionId=bH(this.sessionId)}request({method:a="GET",url:b,data:c={},headers:d={}}){let e={headers:d};switch(a){case"GET":return(0,bw.get)(b,e);case"POST":return(0,bw.post)(b,c,e);case"PUT":return(0,bw.put)(b,c,e);case"PATCH":return(0,bw.patch)(b,c,e)}throw Error("Invalid method type")}}class bJ extends bI{constructor({sessionServerBaseUrl:a,sessionNamespace:b,sessionTime:c,sessionId:d,allowedOrigin:e}={}){super(),(0,aG.default)(this,"sessionServerBaseUrl","https://api.web3auth.io/session-service"),(0,aG.default)(this,"sessionNamespace",void 0),(0,aG.default)(this,"allowedOrigin",void 0),(0,aG.default)(this,"sessionTime",86400),(0,aG.default)(this,"sessionId",""),a&&(this.sessionServerBaseUrl=a),b&&(this.sessionNamespace=b),c&&(this.sessionTime=c),d&&(this.sessionId=bH(d)),e?this.allowedOrigin=e:this.allowedOrigin="*"}static generateRandomSessionKey(){return bH(bo().toString("hex"))}async createSession(a,b={}){super.checkSessionParams();let c=Buffer.from(this.sessionId,"hex"),d=bp(c).toString("hex"),e=await bA(this.sessionId,a),f=(await bq(c,by(Buffer.from(e,"utf8")))).toString("hex"),g={key:d,data:e,signature:f,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:g,headers:b}),this.sessionId}async authorizeSession({headers:a}={headers:{}}){super.checkSessionParams();let b={key:bp(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},c=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:b,headers:a});if(!c.message)throw Error("Session Expired or Invalid public key");let d=await bB(this.sessionId,c.message);if(d.error)throw Error("There was an error decrypting data.");return d}async updateSession(a,b={}){super.checkSessionParams();let c=Buffer.from(this.sessionId,"hex"),d=bp(c).toString("hex"),e=await bA(this.sessionId,a),f=(await bq(c,by(Buffer.from(e,"utf8")))).toString("hex"),g={key:d,data:e,signature:f,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:g,headers:b})}async invalidateSession(a={}){super.checkSessionParams();let b=Buffer.from(this.sessionId,"hex"),c=bp(b).toString("hex"),d=await bA(this.sessionId,{}),e=(await bq(b,by(Buffer.from(d,"utf8")))).toString("hex"),f={key:c,data:d,signature:e,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:f,headers:a}),this.sessionId="",!0}}var bK=a.i(64200);let bL=new Map;class bM{constructor({sdkUrl:a,whiteLabel:b}){(0,aG.default)(this,"sdkUrl",void 0),(0,aG.default)(this,"whiteLabel",void 0),(0,aG.default)(this,"initialized",!1),(0,aG.default)(this,"loginCallbackSuccess",null),(0,aG.default)(this,"loginCallbackFailed",null),(0,aG.default)(this,"embedNonce",aT()),this.sdkUrl=a,this.whiteLabel=b}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return bL.get(this.embedNonce)}registerAuthServiceIframe(a){bL.set(this.embedNonce,a)}cleanup(){let a=bL.get(this.embedNonce);a&&a.parentNode&&(a.parentNode.removeChild(a),bL.delete(this.embedNonce))}async init({network:a,clientId:b}){throw Error("window or document is not available")}postLoginInitiatedMessage(a,b){var c;if(!this.initialized)throw Error("Iframe not initialized");return null==(c=this.getAuthServiceIframe().contentWindow)||c.postMessage({type:bF.JRPC_METHODS.LOGIN_INITIATED,data:{loginConfig:a,nonce:b}},this.targetOrigin),new Promise((a,b)=>{this.loginCallbackSuccess=a,this.loginCallbackFailed=b})}postLoginCancelledMessage(a){var b;if(!this.initialized)throw Error("Iframe not initialized");null==(b=this.getAuthServiceIframe().contentWindow)||b.postMessage({type:bF.JRPC_METHODS.LOGIN_CANCELLED,data:{nonce:a}},this.targetOrigin)}}var bN=a.i(75480);class bO extends bN.CustomError{constructor(a,b){super(b),(0,aG.default)(this,"code",void 0),(0,aG.default)(this,"message",void 0),this.code=a,this.message=b||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class bP extends bO{constructor(a,b){super(a,b),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(a,b=""){return new bP(a,`${bP.messages[a]}, ${b}`)}static invalidParams(a=""){return bP.fromCode(5001,a)}static notInitialized(a=""){return bP.fromCode(5002,a)}}(0,aG.default)(bP,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class bQ extends bO{constructor(a,b){super(a,b),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(a,b=""){return new bQ(a,`${bQ.messages[a]}, ${b}`)}static invalidLoginParams(a=""){return bQ.fromCode(5111,a)}static userNotLoggedIn(a=""){return bQ.fromCode(5112,a)}static popupClosed(a=""){return bQ.fromCode(5113,a)}static loginFailed(a=""){return bQ.fromCode(5114,a)}static popupBlocked(a=""){return bQ.fromCode(5115,a)}static mfaAlreadyEnabled(a=""){return bQ.fromCode(5116,a)}static mfaNotEnabled(a=""){return bQ.fromCode(5117,a)}}(0,aG.default)(bQ,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});var bR=a.i(27699);class bS extends bR.EventEmitter{constructor({url:a,target:b,features:c,timeout:d=3e4,sessionSocketUrl:e,sessionServerUrl:f}){super(),(0,aG.default)(this,"url",void 0),(0,aG.default)(this,"target",void 0),(0,aG.default)(this,"features",void 0),(0,aG.default)(this,"window",void 0),(0,aG.default)(this,"windowTimer",void 0),(0,aG.default)(this,"iClosedWindow",void 0),(0,aG.default)(this,"timeout",void 0),(0,aG.default)(this,"sessionSocketUrl",void 0),(0,aG.default)(this,"sessionServerUrl",void 0),this.url=a,this.target=b||"_blank",this.features=c||aY(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=d,this.sessionServerUrl=f||bG.SESSION_SERVER_API_URL,this.sessionSocketUrl=e||bG.SESSION_SERVER_SOCKET_URL,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var a;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw bQ.popupBlocked();null!=(a=this.window)&&a.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(a){a?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(a){let b=new bE({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),c=await b.subscribe(a);this.close(),b.cleanup();let d=JSON.parse(c);return d.error?{error:d.error,state:d.state}:d.data}}let bT="10.8.0";class bU{constructor(a){if((0,aG.default)(this,"state",{}),(0,aG.default)(this,"options",void 0),(0,aG.default)(this,"sessionManager",void 0),(0,aG.default)(this,"currentStorage",void 0),(0,aG.default)(this,"_storageBaseKey","auth_store"),(0,aG.default)(this,"dappState",void 0),(0,aG.default)(this,"addVersionInUrls",!0),(0,aG.default)(this,"authProvider",void 0),(0,aG.default)(this,"authProviderPromise",void 0),!a.clientId)throw bP.invalidParams("clientId is required");a.network||(a.network=bF.WEB3AUTH_NETWORK.SAPPHIRE_MAINNET),a.buildEnv||(a.buildEnv=bF.BUILD_ENV.PRODUCTION),a.sdkMode||(a.sdkMode=bF.SDK_MODE.DEFAULT),(a.buildEnv===bF.BUILD_ENV.DEVELOPMENT||a.buildEnv===bF.BUILD_ENV.TESTING||a.sdkUrl)&&(this.addVersionInUrls=!1),a.sdkUrl||a.useMpc||(a.buildEnv===bF.BUILD_ENV.DEVELOPMENT?(a.sdkUrl=bF.AUTH_SERVICE_DEVELOPMENT_URL,a.dashboardUrl=bF.AUTH_DASHBOARD_DEVELOPMENT_URL):a.buildEnv===bF.BUILD_ENV.STAGING?(a.sdkUrl=bF.AUTH_SERVICE_STAGING_URL,a.dashboardUrl=bF.AUTH_DASHBOARD_STAGING_URL):a.buildEnv===bF.BUILD_ENV.TESTING?(a.sdkUrl=bF.AUTH_SERVICE_TESTING_URL,a.dashboardUrl=bF.AUTH_DASHBOARD_TESTING_URL):(a.sdkUrl=bF.AUTH_SERVICE_PRODUCTION_URL,a.dashboardUrl=bF.AUTH_DASHBOARD_PRODUCTION_URL)),a.uxMode||(a.uxMode=aL.UX_MODE.REDIRECT),"boolean"!=typeof a.replaceUrlOnRedirect&&(a.replaceUrlOnRedirect=!0),"boolean"!=typeof a.includeUserDataInToken&&(a.includeUserDataInToken=!0),a.originData||(a.originData={}),a.whiteLabel||(a.whiteLabel={}),a.authConnectionConfig||(a.authConnectionConfig=[]),a.mfaSettings||(a.mfaSettings={}),a.storageServerUrl||(a.storageServerUrl=bG.SESSION_SERVER_API_URL),a.sessionSocketUrl||(a.sessionSocketUrl=bG.SESSION_SERVER_SOCKET_URL),a.storage||(a.storage="local"),a.sessionTime||(a.sessionTime=86400),this.options=a}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${bT.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${bT.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){let a=function(a=!1){let b={},c=new URLSearchParams(window.location.search.slice(1));c.forEach((a,c)=>{"b64Params"!==c&&(b[c]=a)});let d=c.get("b64Params");if(d)try{let a=JSON.parse((0,aM.safeatob)(d));Object.keys(a).forEach(c=>{b[c]=a[c]})}catch(a){bK.log.error(a)}let e=new URLSearchParams(window.location.hash.substring(1));e.forEach((a,c)=>{"b64Params"!==c&&(b[c]=a)});let f=e.get("b64Params");if(f)try{let a=JSON.parse((0,aM.safeatob)(f));Object.keys(a).forEach(c=>{b[c]=a[c]})}catch(a){bK.log.error(a)}if(a){let a=new URL(window.location.origin+window.location.pathname);0!==c.size&&(c.delete("error"),c.delete("state"),c.delete("b64Params"),c.delete("sessionNamespace"),a.search=c.toString()),0!==e.size&&(e.delete("error"),e.delete("state"),e.delete("b64Params"),e.delete("sessionNamespace"),a.hash=e.toString()),window.history.replaceState((0,aF.default)((0,aF.default)({},window.history.state),{},{as:a.href,url:a.href}),"",a.href)}return b}(this.options.replaceUrlOnRedirect);a.sessionNamespace&&(this.options.sessionNamespace=a.sessionNamespace);let b=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=a2.getInstance(b,this.options.storage);let c=this.currentStorage.get("sessionId");if(this.sessionManager=new bJ({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:c,allowedOrigin:this.options.sdkUrl}),(this.options.network===bF.WEB3AUTH_NETWORK.TESTNET||this.options.network===bF.WEB3AUTH_NETWORK.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==bF.BUILD_ENV.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),a.error)throw this.dappState=a.state,bQ.loginFailed(a.error);if(a.sessionId&&(this.currentStorage.set("sessionId",a.sessionId),this.sessionManager.sessionId=a.sessionId),this.sessionManager.sessionId){let a=await this._authorizeSession();this.updateState(a),0===Object.keys(a).length?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===bF.SDK_MODE.IFRAME&&(this.authProvider=new bM({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),!this.state.sessionId&&(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),a.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(a.loginParams),a.nonce))))}async login(a){if(!a.authConnection&&(!a.authConnectionId||!a.groupedAuthConnectionId))throw bQ.invalidLoginParams("AuthConnection is required");let b=(0,aF.default)({},a),c={actionType:bF.AUTH_ACTIONS.LOGIN,options:this.options,params:b},d=await this.authHandler(`${this.baseUrl}/start`,c,a_(a.authConnection));if(this.options.uxMode===aL.UX_MODE.REDIRECT)return null;if(d.error)throw this.dappState=d.state,bQ.loginFailed(d.error);return this.sessionManager.sessionId=d.sessionId,this.options.sessionNamespace=d.sessionNamespace,this.currentStorage.set("sessionId",d.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(a,b){var c;if(this.options.sdkMode!==bF.SDK_MODE.IFRAME)throw bQ.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,null!=(c=this.authProvider)&&c.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});let d=await this.authProvider.postLoginInitiatedMessage({actionType:bF.AUTH_ACTIONS.LOGIN,params:a,options:this.options},b);if(d.error)throw bQ.loginFailed(d.error);this.sessionManager.sessionId=d.sessionId,this.options.sessionNamespace=d.sessionNamespace,this.currentStorage.set("sessionId",d.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(a){var b;if(this.options.sdkMode!==bF.SDK_MODE.IFRAME)throw bQ.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,!(null!=(b=this.authProvider)&&b.initialized))throw bP.notInitialized();this.authProvider.postLoginCancelledMessage(a)}async logout(){if(!this.sessionManager.sessionId)throw bQ.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(a){var b;if(!this.sessionId)throw bQ.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw bQ.mfaAlreadyEnabled();let c={actionType:bF.AUTH_ACTIONS.ENABLE_MFA,options:(0,aF.default)((0,aF.default)({},this.options),{},{sdkMode:bF.SDK_MODE.DEFAULT}),params:(0,aF.default)((0,aF.default)({},a),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},d=await this.authHandler(`${this.baseUrl}/start`,c,bF.POPUP_TIMEOUT);if(this.options.uxMode===aL.UX_MODE.REDIRECT)return null;if(d.error)throw this.dappState=d.state,bQ.loginFailed(d.error);return this.sessionManager.sessionId=d.sessionId,this.options.sessionNamespace=d.sessionNamespace,this.currentStorage.set("sessionId",d.sessionId),await this.rehydrateSession(),!!(null==(b=this.state.userInfo)?void 0:b.isMfaEnabled)}async manageMFA(a){if(!this.sessionId)throw bQ.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw bQ.mfaNotEnabled();let b={dappUrl:`${window.location.origin}${window.location.pathname}`},c=bJ.generateRandomSessionKey(),d={actionType:bF.AUTH_ACTIONS.MANAGE_MFA,options:(0,aF.default)((0,aF.default)({},this.options),{},{uxMode:aL.UX_MODE.REDIRECT,sdkMode:bF.SDK_MODE.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:(0,aF.default)((0,aF.default)((0,aF.default)({},b),a),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:(0,aM.jsonToBase64)({loginId:c})}),sessionId:this.sessionId};this.createLoginSession(c,d,d.options.sessionTime,!0);let e={loginId:c,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},f=aZ({baseURL:`${this.baseUrl}/start`,hash:{b64Params:(0,aM.jsonToBase64)(e)}});window.open(f,"_blank")}async manageSocialFactor(a,b){if(!this.sessionId)throw bQ.userNotLoggedIn();let c={actionType:a,options:(0,aF.default)((0,aF.default)({},this.options),{},{sdkMode:bF.SDK_MODE.DEFAULT}),params:(0,aF.default)({},b),sessionId:this.sessionId},d=await this.authHandler(`${this.baseUrl}/start`,c);if(this.options.uxMode!==aL.UX_MODE.REDIRECT)return!d.error}async addAuthenticatorFactor(a){if(!this.sessionId)throw bQ.userNotLoggedIn();let b={actionType:bF.AUTH_ACTIONS.ADD_AUTHENTICATOR_FACTOR,options:(0,aF.default)((0,aF.default)({},this.options),{},{sdkMode:bF.SDK_MODE.DEFAULT}),params:(0,aF.default)((0,aF.default)({},a),{},{authConnection:aL.AUTH_CONNECTION.AUTHENTICATOR}),sessionId:this.sessionId},c=await this.authHandler(`${this.baseUrl}/start`,b);if(this.options.uxMode!==aL.UX_MODE.REDIRECT)return!c.error}async addPasskeyFactor(a){if(!this.sessionId)throw bQ.userNotLoggedIn();let b={actionType:bF.AUTH_ACTIONS.ADD_PASSKEY_FACTOR,options:(0,aF.default)((0,aF.default)({},this.options),{},{sdkMode:bF.SDK_MODE.DEFAULT}),params:(0,aF.default)((0,aF.default)({},a),{},{authConnection:aL.AUTH_CONNECTION.PASSKEYS}),sessionId:this.sessionId},c=await this.authHandler(`${this.baseUrl}/start`,b);if(this.options.uxMode!==aL.UX_MODE.REDIRECT)return!c.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw bQ.userNotLoggedIn();return this.state.userInfo}async createLoginSession(a,b,c=600,d=!1){if(!this.sessionManager)throw bP.notInitialized();let e=new bJ({sessionServerBaseUrl:b.options.storageServerUrl,sessionNamespace:b.options.sessionNamespace,sessionTime:c,sessionId:a,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(b)));b.options.uxMode!==aL.UX_MODE.REDIRECT||d||await e}async _authorizeSession(){try{if(!this.sessionManager.sessionId)return{};return await this.sessionManager.authorizeSession()}catch(a){return bK.log.error("authorization failed",a),{}}}updateState(a){this.state=(0,aF.default)((0,aF.default)({},this.state),a)}async rehydrateSession(){let a=await this._authorizeSession();this.updateState(a)}async authHandler(a,b,c=1e4){let d=bJ.generateRandomSessionKey();await this.createLoginSession(d,b);let e={loginId:d,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===aL.UX_MODE.REDIRECT){let b=aZ({baseURL:a,hash:{b64Params:(0,aM.jsonToBase64)(e)}});window.location.href=b;return}let f=new bS({url:aZ({baseURL:a,hash:{b64Params:(0,aM.jsonToBase64)(e)}}),timeout:c,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((a,b)=>{f.on("close",()=>{b(bQ.popupClosed())}),f.listenOnChannel(d).then(a).catch(b);try{f.open()}catch(a){b(a)}})}}let bV=aP.default.getLogger("http-helpers");bV.setLevel(aP.levels.INFO);let bW="torus-default";async function bX(a,b){try{new URL(a)}catch{}return fetch(a,b)}function bY(){let a={};return bW&&(a["x-api-key"]=bW),a}function bZ(a){bV.info(`Response: ${a.status} ${a.statusText}`),bV.info(`Url: ${a.url}`)}let b$=async(a,b)=>{let c=null;try{let d=new Promise((b,d)=>{c=setTimeout(()=>{d(Error(`Timed out in ${a}ms`))},a)}),e=await Promise.race([b,d]);return null!=c&&clearTimeout(c),e}catch(a){throw null!=c&&clearTimeout(c),a}},b_=async(a,b={},c={})=>{let d={mode:"cors",headers:{}};c.useAPIKey&&(d.headers=(0,aF.default)((0,aF.default)({},d.headers),bY())),b.method="GET";let e=(0,a3.default)(d,b),f=await bX(a,e);if(f.ok){let a=f.headers.get("content-type");return null!=a&&a.includes("application/json")?f.json():f.text()}throw bZ(f),f},b0=async(a,b={},c={},d={})=>{let e={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};d.useAPIKey&&(e.headers=(0,aF.default)((0,aF.default)({},e.headers),bY())),c.method="PATCH";let f=(0,a3.default)(e,c);d.isUrlEncodedData?(f.body=b,"application/json; charset=utf-8"===f.headers["Content-Type"]&&delete f.headers["Content-Type"]):f.body=JSON.stringify(b);let g=await bX(a,f);if(g.ok){let a=g.headers.get("content-type");return null!=a&&a.includes("application/json")?g.json():g.text()}throw bZ(g),g},b1=async(a,b={},c={},d={})=>{let e={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};d.useAPIKey&&(e.headers=(0,aF.default)((0,aF.default)({},e.headers),bY())),c.method="PUT";let f=(0,a3.default)(e,c);d.isUrlEncodedData?(f.body=b,"application/json; charset=utf-8"===f.headers["Content-Type"]&&delete f.headers["Content-Type"]):f.body=JSON.stringify(b);let g=await bX(a,f);if(g.ok){let a=g.headers.get("content-type");return null!=a&&a.includes("application/json")?g.json():g.text()}throw bZ(g),g};var b2=bR;class b3 extends b2.EventEmitter{constructor({url:a,target:b,features:c,timeout:d=3e4}){super(),(0,aG.default)(this,"url",void 0),(0,aG.default)(this,"target",void 0),(0,aG.default)(this,"features",void 0),(0,aG.default)(this,"window",void 0),(0,aG.default)(this,"windowTimer",void 0),(0,aG.default)(this,"iClosedWindow",void 0),(0,aG.default)(this,"timeout",void 0),this.url=a,this.target=b||"_blank",this.features=c||aY(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=d,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var a;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw Error("popup window is blocked");return null!=(a=this.window)&&a.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(a){a?window.location.replace(this.url.href):window.location.href=this.url.href}}let b4=["access_token","id_token"];class b5{constructor(a){(0,aG.default)(this,"nonce",aT()),(0,aG.default)(this,"finalURL",void 0),(0,aG.default)(this,"params",void 0),this.params=a}get state(){return encodeURIComponent(aN.default.encode(JSON.stringify((0,aF.default)((0,aF.default)({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(b){let c=new b3({url:this.finalURL,features:b.popupFeatures,timeout:a_(this.params.authConnection)});if(this.params.uxMode===aL.UX_MODE.REDIRECT)c.redirect(b.locationReplaceOnRedirect);else{let{RedundantAdaptiveBroadcastChannel:b}=await a.A(23591);return new Promise((a,d)=>{let e,f=async b=>{try{let{error:c,data:f}=b,g=f||{},{instanceParams:h,hashParams:{access_token:i,id_token:j}}=g,k=(0,aI.default)(g.hashParams,b4);if(c){aQ.error(b),d(Error(`Error: ${c}. Info: ${JSON.stringify(b.data||{})}`));return}b.data&&h.authConnectionId===this.params.authConnectionId&&(aQ.info(b.data),!this.params.redirectToOpener&&e&&await e.postMessage({success:!0}),a((0,aF.default)((0,aF.default)({accessToken:i,idToken:j||""},k),{},{state:h})))}catch(a){aQ.error(a),d(a)}};if(this.params.redirectToOpener){let a=async b=>{if(!b.data)return;let d=b.data;d.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",a),f(d),c.close())};window.addEventListener("message",a)}else(e=new b(`redirect_channel_${this.nonce}`,aU)).addEventListener("message",async a=>{await f(a),e.close(),c.close()});try{c.open()}catch(a){aQ.error(a),d(a);return}c.once("close",()=>{e&&e.close(),d(Error("user closed popup"))})})}return null}}class b6 extends b5{constructor(a){super(a),(0,aG.default)(this,"RESPONSE_TYPE","token"),(0,aG.default)(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){let a=new URL("https://discord.com/api/oauth2/authorize"),b=JSON.parse(JSON.stringify(this.params.jwtParams||{})),c=(0,a3.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},b);Object.keys(c).forEach(b=>{c[b]&&a.searchParams.append(b,c[b])}),this.finalURL=a}async getUserInfo(a){let{accessToken:b}=a,{id:c,avatar:d,email:e="",username:f="",discriminator:g=""}=await b_("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${b}`}});return{profileImage:null===d?`https://cdn.discordapp.com/embed/avatars/${Number(g)%5}.png`:`https://cdn.discordapp.com/avatars/${c}/${d}.png?size=2048`,name:`${f}#${g}`,email:e,userId:c,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}class b7 extends b5{constructor(a){super(a),(0,aG.default)(this,"RESPONSE_TYPE","token"),(0,aG.default)(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){let a=new URL("https://www.facebook.com/v20.0/dialog/oauth"),b=JSON.parse(JSON.stringify(this.params.jwtParams||{})),c=(0,a3.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},b);Object.keys(c).forEach(b=>{c[b]&&a.searchParams.append(b,c[b])}),this.finalURL=a}async getUserInfo(a){let{accessToken:b}=a,{name:c="",id:d,picture:e,email:f=""}=await b_("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${b}`}});return{email:f,name:c,profileImage:e.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:d}}}class b8 extends b5{constructor(a){super(a),(0,aG.default)(this,"RESPONSE_TYPE","token id_token"),(0,aG.default)(this,"SCOPE","profile email openid"),(0,aG.default)(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){let a=new URL("https://accounts.google.com/o/oauth2/v2/auth"),b=JSON.parse(JSON.stringify(this.params.jwtParams||{})),c=(0,a3.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},b);Object.keys(c).forEach(b=>{c[b]&&a.searchParams.append(b,c[b])}),this.finalURL=a}async getUserInfo(a){let{accessToken:b}=a,{picture:c="",email:d="",name:e=""}=await b_("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${b}`}});return{email:d,name:e,profileImage:c,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:d.toLowerCase()}}}class b9 extends b5{constructor(a){super(a),(0,aG.default)(this,"SCOPE","openid profile email"),(0,aG.default)(this,"RESPONSE_TYPE","token id_token"),(0,aG.default)(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){let{domain:a}=this.params.jwtParams,b=a$(a);b.pathname+=b.pathname.endsWith("/")?"authorize":"/authorize";let c=JSON.parse(JSON.stringify(this.params.jwtParams));delete c.domain;let d=(0,a3.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:aR[this.params.authConnection],nonce:this.nonce},c);Object.keys(d).forEach(a=>{d[a]&&b.searchParams.append(a,d[a])}),this.finalURL=b}async getUserInfo(a){let{idToken:b,accessToken:c}=a,{domain:d,userIdField:e,isUserIdCaseSensitive:f,user_info_route:g="userinfo"}=this.params.jwtParams;if(b){let a=a0(b).payload,{name:c,email:d,picture:g}=a;return{profileImage:g,name:c,email:d,userId:aW(a,this.params.authConnection,e,f),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}if(c)try{let a=new URL(d),b=await b_(`${aS(a)}${g}`,{headers:{Authorization:`Bearer ${c}`}}),{picture:h,name:i,email:j}=b;return{email:j,name:i,profileImage:h,userId:aW(b,this.params.authConnection,e,f),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(a){aP.default.warn(a,"Unable to get userinfo from endpoint")}throw Error("Access/id token not available")}}class ca extends b5{constructor(a){super(a),this.setFinalUrl()}setFinalUrl(){let a=JSON.parse(JSON.stringify(this.params.jwtParams));delete a.domain;let b=(0,a3.default)({state:this.state,client_id:this.params.clientId,nonce:this.nonce},a);this.finalURL=new URL(aZ({baseURL:this.params.redirect_uri,query:null,hash:b}))}async getUserInfo(a){let{idToken:b,accessToken:c}=a,{domain:d,userIdField:e,isUserIdCaseSensitive:f,user_info_route:g="userinfo"}=this.params.jwtParams;if(b){let a=a0(b).payload,{name:c,email:d,picture:g}=a;return{profileImage:g,name:c,email:d,userId:aW(a,this.params.authConnection,e,f),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}if(c)try{let a=new URL(d),b=await b_(`${aS(a)}${g}`,{headers:{Authorization:`Bearer ${c}`}}),{picture:h,name:i,email:j}=b;return{email:j,name:i,profileImage:h,userId:aW(b,this.params.authConnection,e,f),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(a){aP.default.warn(a,"Unable to get userinfo from endpoint")}throw Error("Access/id token not available")}handleLoginWindow(a){let{id_token:b,access_token:c}=this.params.jwtParams,d=new b3({url:this.finalURL,features:a.popupFeatures});return this.params.uxMode!==aL.UX_MODE.REDIRECT?Promise.resolve({state:{},idToken:b,accessToken:c}):(d.redirect(a.locationReplaceOnRedirect),null)}}var cb=a.i(6677),cc=a.i(62012),cd=a.i(77035);let ce=a=>a.padStart(64,"0").slice(0,64);class cf{constructor(){(0,aG.default)(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw Error("Session id is required");this.sessionId=ce(this.sessionId)}request({method:a="GET",url:b,data:c={},headers:d={}}){let e={headers:d};switch(a){case"GET":return b_(b,e);case"POST":return((a,b={},c={},d={})=>{let e={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};d.useAPIKey&&(e.headers=(0,aF.default)((0,aF.default)({},e.headers),bY())),c.method="POST";let f=(0,a3.default)(e,c);return d.isUrlEncodedData?(f.body=b,"application/json; charset=utf-8"===f.headers["Content-Type"]&&delete f.headers["Content-Type"]):f.body=JSON.stringify(b),b$(d.timeout||6e4,bX(a,f).then(a=>{let b;if(d.logTracingHeader&&(b=a.headers.get("x-web3-correlation-id"))&&bV.info(`Request tracing with traceID = ${b}`),a.ok){let b=a.headers.get("content-type");return null!=b&&b.includes("application/json")?a.json():a.text()}throw bZ(a),a}))})(b,c,e);case"PUT":return b1(b,c,e);case"PATCH":return b0(b,c,e)}throw Error("Invalid method type")}}class cg extends cf{constructor({sessionServerBaseUrl:a,sessionNamespace:b,sessionTime:c,sessionId:d,allowedOrigin:e}={}){super(),(0,aG.default)(this,"sessionServerBaseUrl","https://api.web3auth.io/session-service"),(0,aG.default)(this,"sessionNamespace",void 0),(0,aG.default)(this,"allowedOrigin",void 0),(0,aG.default)(this,"sessionTime",86400),(0,aG.default)(this,"sessionId",""),a&&(this.sessionServerBaseUrl=a),b&&(this.sessionNamespace=b),c&&(this.sessionTime=c),d&&(this.sessionId=ce(d)),e?this.allowedOrigin=e:this.allowedOrigin="*"}static generateRandomSessionKey(){return ce((0,cb.generatePrivate)().toString("hex"))}async createSession(a,b={}){super.checkSessionParams();let c=Buffer.from(this.sessionId,"hex"),d=(0,cb.getPublic)(c).toString("hex"),e=await (0,cc.encryptData)(this.sessionId,a),f=(await (0,cb.sign)(c,(0,cd.keccak256)(Buffer.from(e,"utf8")))).toString("hex"),g={key:d,data:e,signature:f,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:g,headers:b}),this.sessionId}async authorizeSession({headers:a}={headers:{}}){super.checkSessionParams();let b={key:(0,cb.getPublic)(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},c=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:b,headers:a});if(!c.message)throw Error("Session Expired or Invalid public key");let d=await (0,cc.decryptData)(this.sessionId,c.message);if(d.error)throw Error("There was an error decrypting data.");return d}async updateSession(a,b={}){super.checkSessionParams();let c=Buffer.from(this.sessionId,"hex"),d=(0,cb.getPublic)(c).toString("hex"),e=await (0,cc.encryptData)(this.sessionId,a),f=(await (0,cb.sign)(c,(0,cd.keccak256)(Buffer.from(e,"utf8")))).toString("hex"),g={key:d,data:e,signature:f,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:g,headers:b})}async invalidateSession(a={}){super.checkSessionParams();let b=Buffer.from(this.sessionId,"hex"),c=(0,cb.getPublic)(b).toString("hex"),d=await (0,cc.encryptData)(this.sessionId,{}),e=(await (0,cb.sign)(b,(0,cd.keccak256)(Buffer.from(d,"utf8")))).toString("hex"),f={key:c,data:d,signature:e,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:f,headers:a}),this.sessionId="",!0}}async function ch(a,b){try{let c=new cg({sessionId:a,sessionServerBaseUrl:b,allowedOrigin:!0});return await c.authorizeSession()}catch(a){throw aP.default.error("fetch data from storage server error",a),Error("Unable to retrieve data from storage server, invalid key or key expired.")}}class ci extends b5{constructor(a){super(a),this.setFinalUrl()}setFinalUrl(){let{passkeysHostUrl:a}=this.params.customState||{};if(!a)throw Error("Invalid passkeys url.");let b=new URL(a),c=JSON.parse(JSON.stringify(this.params.jwtParams||{})),d=(0,a3.default)({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},c);Object.keys(d).forEach(a=>{d[a]&&b.searchParams.append(a,d[a])}),this.finalURL=b}async getUserInfo(a,b){let{idToken:c,extraParams:d}=a,{sessionId:e}=JSON.parse(aN.default.decode(d))||{};if(!e)throw Error("sessionId not found");let{verifier_id:f,signature:g,clientDataJSON:h,authenticatorData:i,publicKey:j,challenge:k,rpOrigin:l,rpId:m,credId:n,transports:o,username:p}=await ch(e,b);if(g!==c)throw Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:f,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:g,clientDataJSON:h,authenticatorData:i,publicKey:j,challenge:k,rpOrigin:l,rpId:m,credId:n,transports:o,username:p}}}}let cj=["event","origin","result"];class ck extends b5{constructor(a){super(a),(0,aG.default)(this,"RESPONSE_TYPE","token"),(0,aG.default)(this,"SCOPE","profile"),(0,aG.default)(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){let{domain:a}=this.params.jwtParams,b=a$(a||"https://oauth.telegram.org/auth"),c=JSON.parse(JSON.stringify(this.params.jwtParams||{}));c.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;let d=(0,a3.default)({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},c);Object.keys(d).forEach(a=>{d[a]&&b.searchParams.append(a,d[a])}),this.finalURL=b}async getUserInfo(a){let{idToken:b}=a,{photo_url:c="",first_name:d="",last_name:e="",id:f}=JSON.parse(aN.default.decode(b));return{email:"",name:`${d} ${e}`,profileImage:c,authConnectionId:this.params.authConnectionId,userId:f.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(a){let b=new b3({url:this.finalURL,features:a.popupFeatures,timeout:a_(this.params.authConnection)});return this.params.uxMode!==aL.UX_MODE.REDIRECT?new Promise((a,c)=>{let d=async b=>{try{let c=JSON.parse(b)||{},{event:d,origin:e,result:f}=c,g=(0,aI.default)(c,cj),h=new URL(e).searchParams.get("state");d&&"auth_result"===d&&a((0,aF.default)((0,aF.default)({accessToken:""},g),{},{idToken:aN.default.encode(JSON.stringify(f))||"",state:aN.default.decode(h)}))}catch(a){aQ.error(a),c(a)}},e=async a=>{if(!a.data)throw Error("Invalid data received");if(this.finalURL.origin!==a.origin)throw Error("Invalid origin received");let c=a.data;if("string"!=typeof c)throw Error("Invalid data type received");let{event:f}=JSON.parse(c)||{};f&&"auth_result"!==f&&aQ.info("Invalid event received"),window.removeEventListener("message",e),d(c),b.close()};window.addEventListener("message",e);try{b.open()}catch(a){aQ.error(a),c(a);return}b.once("close",()=>{c(Error("user closed popup"))})}):(b.redirect(a.locationReplaceOnRedirect),null)}}class cl extends b5{constructor(a){super(a),(0,aG.default)(this,"RESPONSE_TYPE","token"),(0,aG.default)(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){let a=new URL("https://id.twitch.tv/oauth2/authorize"),b=JSON.parse(JSON.stringify(this.params.jwtParams||{})),c=(0,a3.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},b);Object.keys(c).forEach(b=>{c[b]&&a.searchParams.append(b,c[b])}),this.finalURL=a}async getUserInfo(a){let{accessToken:b}=a,[{profile_image_url:c="",display_name:d="",email:e="",id:f}]=(await b_("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${b}`,"Client-ID":this.params.clientId}})).data||[];return{profileImage:c,name:d,email:e,userId:f,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}let cm="code";class cn extends b5{constructor(a){super(a),(0,aG.default)(this,"SCOPE","openid profile email"),(0,aG.default)(this,"RESPONSE_TYPE","token id_token"),(0,aG.default)(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){let{domain:a}=this.params.jwtParams||{},b=a$(a||"https://passwordless.web3auth.io/v7");b.pathname+=b.pathname.endsWith("/")?"authorize":"/authorize";let c=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete c.domain,this.params.customState=(0,aF.default)((0,aF.default)({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});let d=(0,a3.default)({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:aR[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:(null==c?void 0:c.flow_type)||cm},c);Object.keys(d).forEach(a=>{d[a]&&b.searchParams.append(a,d[a])}),this.finalURL=b}async getUserInfo(a){let{idToken:b}=a,{name:c,email:d,picture:e}=a0(b).payload;return{profileImage:e,name:c,email:d,userId:c.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}var co=a.i(98549),cp=a.i(62556),cq=a.i(78801),cr=a.i(62738),cs=a.i(72568),ct=a.i(10561);function cu(a){try{return structuredClone(a)}catch{return JSON.parse(JSON.stringify(a,(a,b)=>"bigint"==typeof b?b.toString():b))}}class cv extends cp.BaseConnector{constructor(a){super(a),(0,aG.default)(this,"name",aD.WALLET_CONNECTORS.AUTH),(0,aG.default)(this,"connectorNamespace",cq.CONNECTOR_NAMESPACES.MULTICHAIN),(0,aG.default)(this,"type",a6.CONNECTOR_CATEGORY.IN_APP),(0,aG.default)(this,"authInstance",null),(0,aG.default)(this,"status",a6.CONNECTOR_STATUS.NOT_READY),(0,aG.default)(this,"privateKeyProvider",null),(0,aG.default)(this,"authOptions",void 0),(0,aG.default)(this,"loginSettings",{authConnection:""}),(0,aG.default)(this,"wsSettings",void 0),(0,aG.default)(this,"wsEmbedInstance",null),(0,aG.default)(this,"authConnectionConfig",[]),(0,aG.default)(this,"wsEmbedInstancePromise",null),this.authOptions=a.connectorSettings,this.loginSettings=a.loginSettings||{authConnection:""},this.wsSettings=a.walletServicesSettings||{},this.authConnectionConfig=a.authConnectionConfig||[]}get provider(){if(this.status!==a6.CONNECTOR_STATUS.NOT_READY){var a;if(null!=(a=this.wsEmbedInstance)&&a.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(a){throw Error("Not implemented")}async init(b){let{chains:c}=this.coreOptions,{chainId:d}=b,e=c.find(a=>a.chainId===d);if(super.checkInitializationRequirements({chainConfig:e}),!this.coreOptions.clientId)throw cr.WalletInitializationError.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw cr.WalletInitializationError.invalidParams("authOptions is required before auth's initialization");if(0===this.authConnectionConfig.length)throw cr.WalletInitializationError.invalidParams("authConnectionConfig is required before auth's initialization");let f=this.authOptions.uxMode===aL.UX_MODE.REDIRECT;this.authOptions=(0,aF.default)((0,aF.default)({},this.authOptions),{},{replaceUrlOnRedirect:f,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new bU((0,aF.default)((0,aF.default)({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:bF.SDK_MODE.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(a=>!a.isDefault),mfaSettings:this.coreOptions.mfaSettings})),cs.log.debug("initializing auth connector init",this.authOptions);let g=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(e.chainNamespace){case aJ.CHAIN_NAMESPACES.EIP155:case aJ.CHAIN_NAMESPACES.SOLANA:{let{default:b}=await a.A(23469);this.wsEmbedInstance=new b({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});let e=c.filter(a=>a.chainNamespace===aJ.CHAIN_NAMESPACES.EIP155||a.chainNamespace===aJ.CHAIN_NAMESPACES.SOLANA);this.wsEmbedInstancePromise=this.wsEmbedInstance.init((0,aF.default)((0,aF.default)({},this.wsSettings),{},{chains:e,chainId:d,whiteLabel:(0,aF.default)((0,aF.default)({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel)})).then(()=>{this.wsEmbedInstancePromise=null});break}case aJ.CHAIN_NAMESPACES.XRPL:throw cr.WalletLoginError.connectionError("Private key provider is required for XRPL");default:{let{CommonPrivateKeyProvider:b}=await a.A(42584);this.privateKeyProvider=new b({config:{chain:e,chains:this.coreOptions.chains}})}}cs.log.debug("initializing auth connector"),await g,this.status=a6.CONNECTOR_STATUS.READY,this.emit(a6.CONNECTOR_EVENTS.READY,aD.WALLET_CONNECTORS.AUTH);try{let{sessionId:a}=this.authInstance||{};if(a&&(b.autoConnect||f))this.rehydrated=!0,await this.connect({chainId:b.chainId,getIdentityToken:b.getIdentityToken});else if(!a&&b.autoConnect)throw cr.WalletLoginError.connectionError("Failed to rehydrate")}catch(a){this.emit(a6.CONNECTOR_EVENTS.REHYDRATION_ERROR,a)}}async connect(a){super.checkConnectionRequirements(),this.status=a6.CONNECTOR_STATUS.CONNECTING,this.emit(a6.CONNECTOR_EVENTS.CONNECTING,(0,aF.default)((0,aF.default)({},a),{},{connector:aD.WALLET_CONNECTORS.AUTH}));try{return await this.connectWithProvider(a),this.provider}catch(a){var b;if(cs.log.error("Failed to connect with auth provider",a),this.status=a6.CONNECTOR_STATUS.READY,this.emit(a6.CONNECTOR_EVENTS.ERRORED,a),null!=a&&null!=(b=a.message)&&b.includes("user closed popup"))throw cr.WalletLoginError.popupClosed();if(a instanceof cr.Web3AuthError)throw a;throw cr.WalletLoginError.connectionError("Failed to login with auth",a)}}async enableMFA(a={authConnection:""}){if(!this.connected)throw cr.WalletLoginError.notConnectedError("Not connected with wallet");if(!this.authInstance)throw cr.WalletInitializationError.notReady("authInstance is not ready");try{let b=await this.authInstance.enableMFA(a);b&&this.emit(a6.CONNECTOR_EVENTS.MFA_ENABLED,b)}catch(a){if(cs.log.error("Failed to enable MFA with auth provider",a),a instanceof cr.Web3AuthError)throw a;throw cr.WalletLoginError.connectionError("Failed to enable MFA with auth",a)}}async manageMFA(a={authConnection:""}){if(!this.connected)throw cr.WalletLoginError.notConnectedError("Not connected with wallet");if(!this.authInstance)throw cr.WalletInitializationError.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(a)}catch(a){if(cs.log.error("Failed to manage MFA with auth provider",a),a instanceof cr.Web3AuthError)throw a;throw cr.WalletLoginError.connectionError("Failed to manage MFA with auth",a)}}async disconnect(a={cleanup:!1}){if(!this.connected)throw cr.WalletLoginError.notConnectedError("Not connected with wallet");if(!this.authInstance)throw cr.WalletInitializationError.notReady("authInstance is not ready");this.status=a6.CONNECTOR_STATUS.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),a.cleanup?(this.status=a6.CONNECTOR_STATUS.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=a6.CONNECTOR_STATUS.READY,this.rehydrated=!1,this.emit(a6.CONNECTOR_EVENTS.DISCONNECTED)}async getIdentityToken(){if(!this.canAuthorize)throw cr.WalletLoginError.notConnectedError("Not connected with wallet, Please login/connect first");this.status=a6.CONNECTOR_STATUS.AUTHORIZING,this.emit(a6.CONNECTOR_EVENTS.AUTHORIZING,{connector:aD.WALLET_CONNECTORS.AUTH});let a=await this.getUserInfo();return this.status=a6.CONNECTOR_STATUS.AUTHORIZED,this.emit(a6.CONNECTOR_EVENTS.AUTHORIZED,{connector:aD.WALLET_CONNECTORS.AUTH,identityTokenInfo:{idToken:a.idToken}}),{idToken:a.idToken}}async getUserInfo(){if(!this.canAuthorize)throw cr.WalletLoginError.notConnectedError("Not connected with wallet");if(!this.authInstance)throw cr.WalletInitializationError.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(a,b=!1){var c,d;super.checkSwitchChainRequirements(a,b);let{chainId:e}=a,{chainId:f}=this.provider,{chainNamespace:g}=this.getChain(f),{chainNamespace:h}=this.getChain(e);if(f!==e)if(g===aJ.CHAIN_NAMESPACES.SOLANA||g===aJ.CHAIN_NAMESPACES.EIP155){if(h!==aJ.CHAIN_NAMESPACES.SOLANA&&h!==aJ.CHAIN_NAMESPACES.EIP155)throw cr.WalletLoginError.connectionError("Cannot switch to other chain namespace");let b=`${h}:${Number(a.chainId)}`;await (null==(c=this.wsEmbedInstance.provider)?void 0:c.request({method:"wallet_switchChain",params:{chainId:b}}))}else{if(g!==h)throw cr.WalletLoginError.connectionError("Cannot switch to other chain namespace");await (null==(d=this.privateKeyProvider)?void 0:d.switchChain(a))}}async cleanup(){if(!this.authInstance)throw cr.WalletInitializationError.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(a){let{authConnection:b,authConnectionId:c,groupedAuthConnectionId:d}=a;return this.authConnectionConfig.find(a=>d&&c?a.authConnection===b&&a.groupedAuthConnectionId===d&&a.authConnectionId===c:c?a.authConnection===b&&a.authConnectionId===c:a.authConnection===b&&a.isDefault)}getChain(a){return this.coreOptions.chains.find(b=>b.chainId===a)}_getFinalPrivKey(){if(!this.authInstance)return"";let a=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw cr.WalletLoginError.sfaKeyNotFound();a=this.authInstance.coreKitKey}return a}async connectWithProvider(a){var b,c,d,e;if(!this.authInstance)throw cr.WalletInitializationError.notReady("authInstance is not ready");let f=this.coreOptions.chains.find(b=>b.chainId===a.chainId);if(!f)throw cr.WalletLoginError.connectionError("Chain config is not available");let{chainNamespace:g}=f,h=g===aJ.CHAIN_NAMESPACES.EIP155||g===aJ.CHAIN_NAMESPACES.SOLANA?null==(b=this.authInstance)?void 0:b.sessionId:this._getFinalPrivKey();if(a.idToken&&(a.extraLoginOptions=(0,aF.default)((0,aF.default)({},a.extraLoginOptions),{},{id_token:a.idToken})),!h||null!=(c=a.extraLoginOptions)&&c.id_token){this.loginSettings.curve=bF.SUPPORTED_KEY_CURVES.OTHER;let b=(0,a3.default)(this.loginSettings,a);null!=(d=a.extraLoginOptions)&&d.id_token?await this.connectWithJwtLogin(b):await this.connectWithSocialLogin(b)}if(g===aJ.CHAIN_NAMESPACES.EIP155||g===aJ.CHAIN_NAMESPACES.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;let{sessionId:b,sessionNamespace:c}=this.authInstance||{};if(b&&await this.wsEmbedInstance.loginWithSessionId({sessionId:b,sessionNamespace:c})){let b;this.status=a6.CONNECTOR_STATUS.CONNECTED,this.emit(a6.CONNECTOR_EVENTS.CONNECTED,{connector:aD.WALLET_CONNECTORS.AUTH,reconnected:this.rehydrated,provider:this.provider,identityTokenInfo:b}),a.getIdentityToken&&(b=await this.getIdentityToken()),null==(e=this.wsEmbedInstance)||e.provider.on("accountsChanged",(a=[])=>{0===a.length&&ct.CONNECTED_STATUSES.includes(this.status)&&this.disconnect({cleanup:!1})})}}else{let b=this._getFinalPrivKey();b&&(await this.privateKeyProvider.setupProvider(b,a.chainId),this.status=a6.CONNECTOR_STATUS.CONNECTED,this.emit(a6.CONNECTOR_EVENTS.CONNECTED,{connector:aD.WALLET_CONNECTORS.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(a){var b,c;let d=this.getOAuthProviderConfig({authConnection:a.authConnection,authConnectionId:a.authConnectionId,groupedAuthConnectionId:a.groupedAuthConnectionId});if(!(null!=d&&d.authConnection))throw cr.WalletLoginError.connectionError("Invalid auth connection.");let e=(0,aF.default)((0,aF.default)((0,aF.default)({},d.jwtParameters||{}),a.extraLoginOptions||{}),{},{login_hint:a.loginHint||(null==(b=a.extraLoginOptions)?void 0:b.login_hint)}),f=aT(),g=cu(a);g.extraLoginOptions=(0,aF.default)((0,aF.default)({},g.extraLoginOptions||{}),{},{login_hint:a.loginHint||(null==(c=a.extraLoginOptions)?void 0:c.login_hint)}),delete g.chainId;let h=new b3({url:(a=>{let{authConnectionId:b,authConnection:c,clientId:d,jwtParams:e}=a;if(!b||!c||!d)throw Error("Invalid params. Missing authConnectionId, authConnection or clientId");let{domain:f,login_hint:g,id_token:h,access_token:i}=e||{};switch(c){case aL.AUTH_CONNECTION.GOOGLE:return new b8(a);case aL.AUTH_CONNECTION.TELEGRAM:return new ck(a);case aL.AUTH_CONNECTION.FACEBOOK:return new b7(a);case aL.AUTH_CONNECTION.TWITCH:return new cl(a);case aL.AUTH_CONNECTION.DISCORD:return new b6(a);case aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS:case aL.AUTH_CONNECTION.SMS_PASSWORDLESS:if(!g)throw Error("Invalid params. Missing login_hint for web3auth passwordless login");return new cn(a);case aL.AUTH_CONNECTION.APPLE:case aL.AUTH_CONNECTION.GITHUB:case aL.AUTH_CONNECTION.LINKEDIN:case aL.AUTH_CONNECTION.TWITTER:case aL.AUTH_CONNECTION.LINE:case aL.AUTH_CONNECTION.CUSTOM:case aL.AUTH_CONNECTION.REDDIT:case aL.AUTH_CONNECTION.WECHAT:case aL.AUTH_CONNECTION.KAKAO:case aL.AUTH_CONNECTION.FARCASTER:case aL.AUTH_CONNECTION.AUTHENTICATOR:if(h||i)return new ca(a);if(!f)throw Error("Invalid params for jwt login. Missing domain");return new b9(a);case aL.AUTH_CONNECTION.PASSKEYS:return new ci(a);default:throw Error("Unsupported login type")}})({authConnection:a.authConnection,authConnectionId:d.authConnectionId,clientId:d.clientId||e.client_id,groupedAuthConnectionId:d.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:e,customState:{nonce:f,appState:a.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(g),version:bT.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork}).finalURL,timeout:0});if(this.authOptions.uxMode===aL.UX_MODE.REDIRECT)return h.redirect(this.authOptions.replaceUrlOnRedirect);let i=!1;return new Promise((a,b)=>{h.open().catch(a=>{cs.log.error("Error during login with social",a),this.authInstance.postLoginCancelledMessage(f),b(a)});let c=new bE({sameIpCheck:!0});c.subscribe(`web3auth-login-${f}`).then(a=>{let d=JSON.parse(a||"{}");return(null==d?void 0:d.message)==="login_finished"&&(null!=d&&d.error&&(this.authInstance.postLoginCancelledMessage(f),b(d.error)),i=!0,c.cleanup(),h.close()),!0}).catch(a=>{cs.log.error("Error during login with social",a)}),h.once("close",()=>{i||(c.cleanup(),this.authInstance.postLoginCancelledMessage(f),b(cr.WalletLoginError.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(g,f).then(a).catch(a=>{if(a instanceof cr.Web3AuthError)throw a;b(cr.WalletLoginError.connectionError(a instanceof Error?a.message:a||"Failed to login with social"))})})}connectWithJwtLogin(a){var b,c,d;let e,f=this.getOAuthProviderConfig({authConnection:a.authConnection,authConnectionId:a.authConnectionId,groupedAuthConnectionId:a.groupedAuthConnectionId});if(!(null!=f&&f.authConnection)&&!a.authConnectionId)throw cr.WalletLoginError.connectionError("Invalid auth connection.");null!=f&&f.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:a.authConnection,authConnectionId:a.authConnectionId,groupedAuthConnectionId:a.groupedAuthConnectionId});let g=cu(a),h=(0,aF.default)((0,aF.default)({},(null==f?void 0:f.jwtParameters)||{}),a.extraLoginOptions||{});if(a.loginHint||null!=(b=a.extraLoginOptions)&&b.login_hint)e=a.loginHint||(null==(d=a.extraLoginOptions)?void 0:d.login_hint);else if(null!=(c=a.extraLoginOptions)&&c.id_token){let{payload:b}=(0,co.parseToken)(a.extraLoginOptions.id_token);e=aW(b,g.authConnection,h.userIdField,h.isUserIdCaseSensitive)}else throw cr.WalletLoginError.connectionError("Invalid login hint or id_token");return g.extraLoginOptions=(0,aF.default)((0,aF.default)({},h),{},{login_hint:e}),delete g.chainId,this.authInstance.postLoginInitiatedMessage(g)}}var cw=aK;let cx=(0,aF.default)((0,aF.default)({},aJ.CHAIN_NAMESPACES),{},{MULTICHAIN:"multichain"}),cy={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},cz=(0,aF.default)({},cy),cA={WALLET_SERVICES:"wallet-services"};(0,aF.default)((0,aF.default)({},cA),{SOLANA:"solana"});var cB=cr;class cC extends cB.Web3AuthError{constructor(a,b,c){super(a,b,c),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(a,b="",c){return new cC(a,`${cC.messages[a]}${b}`,c)}static notInitialized(a="",b){return cC.fromCode(5210,a,b)}static unsupportedConnector(a="",b){return cC.fromCode(5211,a,b)}static providerRequired(a="",b){return cC.fromCode(5212,a,b)}static web3authRequired(a="",b){return cC.fromCode(5213,a,b)}static web3AuthNotConnected(a="",b){return cC.fromCode(5214,a,b)}static alreadyInitialized(a="",b){return cC.fromCode(5216,a,b)}static unsupportedChainNamespace(a="",b){return cC.fromCode(5218,a,b)}static differentWeb3AuthNetwork(a="",b){return cC.fromCode(5219,a,b)}static invalidParams(a="",b){return cC.fromCode(5220,a,b)}static web3authNotInitialized(a="",b){return cC.fromCode(5221,a,b)}static invalidSession(a="",b){return cC.fromCode(5222,a,b)}static walletPluginNotConnected(a="",b){return cC.fromCode(5223,a,b)}}(0,aG.default)(cC,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class cD extends cw.SafeEventEmitter{constructor(...a){super(...a),(0,aG.default)(this,"name",cA.WALLET_SERVICES),(0,aG.default)(this,"status",cy.DISCONNECTED),(0,aG.default)(this,"SUPPORTED_CONNECTORS",[aD.WALLET_CONNECTORS.AUTH]),(0,aG.default)(this,"pluginNamespace",cx.MULTICHAIN),(0,aG.default)(this,"wsEmbedInstance",void 0),(0,aG.default)(this,"provider",null),(0,aG.default)(this,"web3auth",null),(0,aG.default)(this,"isInitialized",!1),(0,aG.default)(this,"analytics",void 0)}get proxyProvider(){var a;return null!=(a=this.wsEmbedInstance)&&a.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(a,b,c){if(this.isInitialized)return;if(!a)throw cC.web3authRequired();if(a.provider&&!this.SUPPORTED_CONNECTORS.includes(a.connectedConnectorName))throw cC.notInitialized();let d=a.currentChain;if(![aJ.CHAIN_NAMESPACES.EIP155,aJ.CHAIN_NAMESPACES.SOLANA].includes(null==d?void 0:d.chainNamespace))throw cC.unsupportedChainNamespace();a.provider&&(this.provider=a.provider),this.web3auth=a,this.analytics=c;let e=a.getConnector(aD.WALLET_CONNECTORS.AUTH);if(!e||!e.wsEmbed)throw cC.web3AuthNotConnected();this.wsEmbedInstance=e.wsEmbed,this.isInitialized=!0,this.status=cy.READY,this.emit(cz.READY)}initWithProvider(){throw Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw cC.notInitialized();if(this.emit(cz.CONNECTING),this.status=cy.CONNECTING,!this.provider){var a;null!=(a=this.web3auth)&&a.provider&&(this.provider=this.web3auth.provider)}if(ct.CAN_AUTHORIZE_STATUSES.includes(this.web3auth.status)){if(!this.web3auth.provider)throw cC.providerRequired()}else throw cC.web3AuthNotConnected();try{this.emit(cz.CONNECTED),this.status=cy.CONNECTED}catch(a){cs.log.error(a),this.status=cy.ERRORED,this.emit(cz.ERRORED,{error:a.message||"Something went wrong"})}}async showWalletConnectScanner(a){var b,c;if(!(null!=(b=this.wsEmbedInstance)&&b.isLoggedIn))throw cC.walletPluginNotConnected();return null==(c=this.analytics)||c.track(a5.ANALYTICS_EVENTS.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:null==a?void 0:a.show}),this.wsEmbedInstance.showWalletConnectScanner(a)}async showFunding(a){var b,c;if(!(null!=(b=this.wsEmbedInstance)&&b.isLoggedIn))throw cC.walletPluginNotConnected();return null==(c=this.analytics)||c.track(a5.ANALYTICS_EVENTS.WALLET_FUNDING_CLICKED,{is_visible:null==a?void 0:a.show}),this.wsEmbedInstance.showFunding(a)}async showCheckout(a){var b,c;if(!(null!=(b=this.wsEmbedInstance)&&b.isLoggedIn))throw cC.walletPluginNotConnected();return null==(c=this.analytics)||c.track(a5.ANALYTICS_EVENTS.WALLET_CHECKOUT_CLICKED,{is_visible:null==a?void 0:a.show,receive_wallet_address_enabled:!!(null!=a&&a.receiveWalletAddress),token_list:null==a?void 0:a.tokenList,fiat_list:null==a?void 0:a.fiatList,crypto:null==a?void 0:a.crypto,fiat:null==a?void 0:a.fiat,fiat_amount:null==a?void 0:a.fiatAmount,crypto_amount:null==a?void 0:a.cryptoAmount}),this.wsEmbedInstance.showCheckout(a)}async showReceive(a){var b,c;if(!(null!=(b=this.wsEmbedInstance)&&b.isLoggedIn))throw cC.walletPluginNotConnected();return null==(c=this.analytics)||c.track(a5.ANALYTICS_EVENTS.WALLET_RECEIVE_CLICKED,{is_visible:null==a?void 0:a.show}),this.wsEmbedInstance.showReceive(a)}async showWalletUi(a){var b,c;if(!(null!=(b=this.wsEmbedInstance)&&b.isLoggedIn))throw cC.walletPluginNotConnected();return null==(c=this.analytics)||c.track(a5.ANALYTICS_EVENTS.WALLET_UI_CLICKED,{is_visible:null==a?void 0:a.show,path:null==a?void 0:a.path}),this.wsEmbedInstance.showWalletUi(a)}async showSwap(a){var b,c;if(!(null!=(b=this.wsEmbedInstance)&&b.isLoggedIn))throw cC.walletPluginNotConnected();return null==(c=this.analytics)||c.track(a5.ANALYTICS_EVENTS.WALLET_SWAP_CLICKED,{is_visible:null==a?void 0:a.show,from_token:null==a?void 0:a.fromToken,to_token:null==a?void 0:a.toToken,from_value_enabled:!!(null!=a&&a.fromValue),to_address_enabled:!!(null!=a&&a.toAddress)}),this.wsEmbedInstance.showSwap(a)}async cleanup(){var a;return null==(a=this.wsEmbedInstance)?void 0:a.cleanUp()}async disconnect(){var a;if(this.status!==cy.CONNECTED)throw cC.invalidSession("Wallet Services plugin is not connected");null!=(a=this.wsEmbedInstance)&&a.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(cz.DISCONNECTED),this.status=cy.DISCONNECTED}}var cE=a.i(1582),cF=a.i(72765),cG=a.i(35290),cH=a.i(82232),cI=a.i(87356),cJ=a.i(31914),cJ=cJ,cK=a.i(59497),cK=cK;function cL(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;var cM=a.g,cN=[],cO=[],cP="undefined"!=typeof Uint8Array?Uint8Array:Array,cQ=!1;function cR(){cQ=!0;for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0;b<64;++b)cN[b]=a[b],cO[a.charCodeAt(b)]=b;cO[45]=62,cO[95]=63}function cS(a){var b;cQ||cR();for(var c=a.length,d=c%3,e="",f=[],g=0,h=c-d;g<h;g+=16383)f.push(function(a,b,c){for(var d,e=[],f=b;f<c;f+=3)e.push(cN[(d=(a[f]<<16)+(a[f+1]<<8)+a[f+2])>>18&63]+cN[d>>12&63]+cN[d>>6&63]+cN[63&d]);return e.join("")}(a,g,g+16383>h?h:g+16383));return 1===d?(e+=cN[(b=a[c-1])>>2],e+=cN[b<<4&63],e+="=="):2===d&&(e+=cN[(b=(a[c-2]<<8)+a[c-1])>>10],e+=cN[b>>4&63],e+=cN[b<<2&63],e+="="),f.push(e),f.join("")}function cT(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)}function cU(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=5960464477539062e-23*(23===e),n=d?0:f-1,o=d?1:-1,p=+(b<0||0===b&&1/b<0);for(isNaN(b=Math.abs(b))||b===1/0?(h=+!!isNaN(b),g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),(b+=g+l>=1?m/i:m*Math.pow(2,1-l))*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}var cV={}.toString,cW=Array.isArray||function(a){return"[object Array]"==cV.call(a)};c$.TYPED_ARRAY_SUPPORT=void 0===cM.TYPED_ARRAY_SUPPORT||cM.TYPED_ARRAY_SUPPORT;var cX=cY();function cY(){return c$.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}function cZ(a,b){if(cY()<b)throw RangeError("Invalid typed array length");return c$.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b)).__proto__=c$.prototype:(null===a&&(a=new c$(b)),a.length=b),a}function c$(a,b,c){if(!(c$.TYPED_ARRAY_SUPPORT||this instanceof c$))return new c$(a,b,c);if("number"==typeof a){if("string"==typeof b)throw Error("If encoding is specified then the first argument must be a string");return c1(this,a)}return c_(this,a,b,c)}function c_(a,b,c,d){if("number"==typeof b)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?function(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),c$.TYPED_ARRAY_SUPPORT?(a=b).__proto__=c$.prototype:a=c2(a,b),a}(a,b,c,d):"string"==typeof b?function(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!c$.isEncoding(c))throw TypeError('"encoding" must be a valid string encoding');var d=0|c5(b,c),e=(a=cZ(a,d)).write(b,c);return e!==d&&(a=a.slice(0,e)),a}(a,b,c):function(a,b){if(c4(b)){var c,d=0|c3(b.length);return 0===(a=cZ(a,d)).length||b.copy(a,0,0,d),a}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||(c=b.length)!=c?cZ(a,0):c2(a,b);if("Buffer"===b.type&&cW(b.data))return c2(a,b.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(a,b)}function c0(a){if("number"!=typeof a)throw TypeError('"size" argument must be a number');if(a<0)throw RangeError('"size" argument must not be negative')}function c1(a,b){if(c0(b),a=cZ(a,b<0?0:0|c3(b)),!c$.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function c2(a,b){var c=b.length<0?0:0|c3(b.length);a=cZ(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function c3(a){if(a>=cY())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+cY().toString(16)+" bytes");return 0|a}function c4(a){return!(null==a||!a._isBuffer)}function c5(a,b){if(c4(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return dl(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return dm(a).length;default:if(d)return dl(a).length;b=(""+b).toLowerCase(),d=!0}}function c6(a,b,c){var d,e,f,g=!1;if((void 0===b||b<0)&&(b=0),b>this.length||((void 0===c||c>this.length)&&(c=this.length),c<=0)||(c>>>=0)<=(b>>>=0))return"";for(a||(a="utf8");;)switch(a){case"hex":return function(a,b,c){var d,e=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>e)&&(c=e);for(var f="",g=b;g<c;++g){f+=(d=a[g])<16?"0"+d.toString(16):d.toString(16)}return f}(this,b,c);case"utf8":case"utf-8":return db(this,b,c);case"ascii":return function(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}(this,b,c);case"latin1":case"binary":return function(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}(this,b,c);case"base64":return d=this,e=b,f=c,0===e&&f===d.length?cS(d):cS(d.slice(e,f));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}(this,b,c);default:if(g)throw TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),g=!0}}function c7(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function c8(a,b,c,d,e){if(0===a.length)return -1;if("string"==typeof c?(d=c,c=0):c>0x7fffffff?c=0x7fffffff:c<-0x80000000&&(c=-0x80000000),isNaN(c*=1)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return -1;c=a.length-1}else if(c<0){if(!e)return -1;c=0}if("string"==typeof b&&(b=c$.from(b,d)),c4(b))return 0===b.length?-1:c9(a,b,c,d,e);if("number"==typeof b)return b&=255,c$.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):c9(a,[b],c,d,e);throw TypeError("val must be string, number or Buffer")}function c9(a,b,c,d,e){var f,g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return -1;g=2,h/=2,i/=2,c/=2}function j(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}if(e){var k=-1;for(f=c;f<h;f++)if(j(a,f)===j(b,-1===k?0:f-k)){if(-1===k&&(k=f),f-k+1===i)return k*g}else -1!==k&&(f-=f-k),k=-1}else for(c+i>h&&(c=h-i),f=c;f>=0;f--){for(var l=!0,m=0;m<i;m++)if(j(a,f+m)!==j(b,m)){l=!1;break}if(l)return f}return -1}function da(a,b,c,d){return dn(function(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}(b),a,c,d)}function db(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f,g,h,i,j=a[e],k=null,l=j>239?4:j>223?3:j>191?2:1;if(e+l<=c)switch(l){case 1:j<128&&(k=j);break;case 2:128==(192&(f=a[e+1]))&&(i=(31&j)<<6|63&f)>127&&(k=i);break;case 3:f=a[e+1],g=a[e+2],128==(192&f)&&128==(192&g)&&(i=(15&j)<<12|(63&f)<<6|63&g)>2047&&(i<55296||i>57343)&&(k=i);break;case 4:f=a[e+1],g=a[e+2],h=a[e+3],128==(192&f)&&128==(192&g)&&128==(192&h)&&(i=(15&j)<<18|(63&f)<<12|(63&g)<<6|63&h)>65535&&i<1114112&&(k=i)}null===k?(k=65533,l=1):k>65535&&(k-=65536,d.push(k>>>10&1023|55296),k=56320|1023&k),d.push(k),e+=l}var m=d.length;if(m<=dc)return String.fromCharCode.apply(String,d);for(var n="",o=0;o<m;)n+=String.fromCharCode.apply(String,d.slice(o,o+=dc));return n}c$.poolSize=8192,c$._augment=function(a){return a.__proto__=c$.prototype,a},c$.from=function(a,b,c){return c_(null,a,b,c)},c$.TYPED_ARRAY_SUPPORT&&(c$.prototype.__proto__=Uint8Array.prototype,c$.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c$[Symbol.species]),c$.alloc=function(a,b,c){return c0(a),a<=0?cZ(null,a):void 0!==b?"string"==typeof c?cZ(null,a).fill(b,c):cZ(null,a).fill(b):cZ(null,a)},c$.allocUnsafe=function(a){return c1(null,a)},c$.allocUnsafeSlow=function(a){return c1(null,a)},c$.isBuffer=dp,c$.compare=function(a,b){if(!c4(a)||!c4(b))throw TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:+(d<c)},c$.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c$.concat=function(a,b){if(!cW(a))throw TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return c$.alloc(0);if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var c,d=c$.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var f=a[c];if(!c4(f))throw TypeError('"list" argument must be an Array of Buffers');f.copy(d,e),e+=f.length}return d},c$.byteLength=c5,c$.prototype._isBuffer=!0,c$.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)c7(this,b,b+1);return this},c$.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)c7(this,b,b+3),c7(this,b+1,b+2);return this},c$.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)c7(this,b,b+7),c7(this,b+1,b+6),c7(this,b+2,b+5),c7(this,b+3,b+4);return this},c$.prototype.toString=function(){var a=0|this.length;return 0===a?"":0==arguments.length?db(this,0,a):c6.apply(this,arguments)},c$.prototype.equals=function(a){if(!c4(a))throw TypeError("Argument must be a Buffer");return this===a||0===c$.compare(this,a)},c$.prototype.inspect=function(){var a="";return this.length>0&&(a=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(a+=" ... ")),"<Buffer "+a+">"},c$.prototype.compare=function(a,b,c,d,e){if(!c4(a))throw TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return -1;if(b>=c)return 1;if(this===a)return 0;for(var f=(e>>>=0)-(d>>>=0),g=(c>>>=0)-(b>>>=0),h=Math.min(f,g),i=this.slice(d,e),j=a.slice(b,c),k=0;k<h;++k)if(i[k]!==j[k]){f=i[k],g=j[k];break}return f<g?-1:+(g<f)},c$.prototype.includes=function(a,b,c){return -1!==this.indexOf(a,b,c)},c$.prototype.indexOf=function(a,b,c){return c8(this,a,b,c,!0)},c$.prototype.lastIndexOf=function(a,b,c){return c8(this,a,b,c,!1)},c$.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e,f,g,h,i,j,k=this.length-b;if((void 0===c||c>k)&&(c=k),a.length>0&&(c<0||b<0)||b>this.length)throw RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var l=!1;;)switch(d){case"hex":return function(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))break;a[c+g]=h}return g}(this,a,b,c);case"utf8":case"utf-8":return e=b,f=c,dn(dl(a,this.length-e),this,e,f);case"ascii":case"latin1":case"binary":return da(this,a,b,c);case"base64":return g=b,h=c,dn(dm(a),this,g,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i=b,j=c,dn(function(a,b){for(var c,d,e=[],f=0;f<a.length&&!((b-=2)<0);++f)d=(c=a.charCodeAt(f))>>8,e.push(c%256),e.push(d);return e}(a,this.length-i),this,i,j);default:if(l)throw TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),l=!0}},c$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var dc=4096;function dd(a,b,c){if(a%1!=0||a<0)throw RangeError("offset is not uint");if(a+b>c)throw RangeError("Trying to access beyond buffer length")}function de(a,b,c,d,e,f){if(!c4(a))throw TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw RangeError('"value" argument is out of bounds');if(c+d>a.length)throw RangeError("Index out of range")}function df(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function dg(a,b,c,d){b<0&&(b=0xffffffff+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function dh(a,b,c,d,e,f){if(c+d>a.length||c<0)throw RangeError("Index out of range")}function di(a,b,c,d,e){return e||dh(a,0,c,4),cU(a,b,c,d,23,4),c+4}function dj(a,b,c,d,e){return e||dh(a,0,c,8),cU(a,b,c,d,52,8),c+8}c$.prototype.slice=function(a,b){var c,d=this.length;if((a=~~a)<0?(a+=d)<0&&(a=0):a>d&&(a=d),(b=void 0===b?d:~~b)<0?(b+=d)<0&&(b=0):b>d&&(b=d),b<a&&(b=a),c$.TYPED_ARRAY_SUPPORT)(c=this.subarray(a,b)).__proto__=c$.prototype;else{var e=b-a;c=new c$(e,void 0);for(var f=0;f<e;++f)c[f]=this[f+a]}return c},c$.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||dd(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},c$.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||dd(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},c$.prototype.readUInt8=function(a,b){return b||dd(a,1,this.length),this[a]},c$.prototype.readUInt16LE=function(a,b){return b||dd(a,2,this.length),this[a]|this[a+1]<<8},c$.prototype.readUInt16BE=function(a,b){return b||dd(a,2,this.length),this[a]<<8|this[a+1]},c$.prototype.readUInt32LE=function(a,b){return b||dd(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+0x1000000*this[a+3]},c$.prototype.readUInt32BE=function(a,b){return b||dd(a,4,this.length),0x1000000*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},c$.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||dd(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d>=(e*=128)&&(d-=Math.pow(2,8*b)),d},c$.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||dd(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return f>=(e*=128)&&(f-=Math.pow(2,8*b)),f},c$.prototype.readInt8=function(a,b){return b||dd(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},c$.prototype.readInt16LE=function(a,b){b||dd(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?0xffff0000|c:c},c$.prototype.readInt16BE=function(a,b){b||dd(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?0xffff0000|c:c},c$.prototype.readInt32LE=function(a,b){return b||dd(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},c$.prototype.readInt32BE=function(a,b){return b||dd(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},c$.prototype.readFloatLE=function(a,b){return b||dd(a,4,this.length),cT(this,a,!0,23,4)},c$.prototype.readFloatBE=function(a,b){return b||dd(a,4,this.length),cT(this,a,!1,23,4)},c$.prototype.readDoubleLE=function(a,b){return b||dd(a,8,this.length),cT(this,a,!0,52,8)},c$.prototype.readDoubleBE=function(a,b){return b||dd(a,8,this.length),cT(this,a,!1,52,8)},c$.prototype.writeUIntLE=function(a,b,c,d){a*=1,b|=0,c|=0,d||de(this,a,b,c,Math.pow(2,8*c)-1,0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},c$.prototype.writeUIntBE=function(a,b,c,d){a*=1,b|=0,c|=0,d||de(this,a,b,c,Math.pow(2,8*c)-1,0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},c$.prototype.writeUInt8=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,1,255,0),c$.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},c$.prototype.writeUInt16LE=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,2,65535,0),c$.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):df(this,a,b,!0),b+2},c$.prototype.writeUInt16BE=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,2,65535,0),c$.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):df(this,a,b,!1),b+2},c$.prototype.writeUInt32LE=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,4,0xffffffff,0),c$.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):dg(this,a,b,!0),b+4},c$.prototype.writeUInt32BE=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,4,0xffffffff,0),c$.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):dg(this,a,b,!1),b+4},c$.prototype.writeIntLE=function(a,b,c,d){if(a*=1,b|=0,!d){var e=Math.pow(2,8*c-1);de(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g|0)-h&255;return b+c},c$.prototype.writeIntBE=function(a,b,c,d){if(a*=1,b|=0,!d){var e=Math.pow(2,8*c-1);de(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g|0)-h&255;return b+c},c$.prototype.writeInt8=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,1,127,-128),c$.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},c$.prototype.writeInt16LE=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,2,32767,-32768),c$.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):df(this,a,b,!0),b+2},c$.prototype.writeInt16BE=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,2,32767,-32768),c$.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):df(this,a,b,!1),b+2},c$.prototype.writeInt32LE=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,4,0x7fffffff,-0x80000000),c$.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):dg(this,a,b,!0),b+4},c$.prototype.writeInt32BE=function(a,b,c){return a*=1,b|=0,c||de(this,a,b,4,0x7fffffff,-0x80000000),a<0&&(a=0xffffffff+a+1),c$.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):dg(this,a,b,!1),b+4},c$.prototype.writeFloatLE=function(a,b,c){return di(this,a,b,!0,c)},c$.prototype.writeFloatBE=function(a,b,c){return di(this,a,b,!1,c)},c$.prototype.writeDoubleLE=function(a,b,c){return dj(this,a,b,!0,c)},c$.prototype.writeDoubleBE=function(a,b,c){return dj(this,a,b,!1,c)},c$.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c||0===a.length||0===this.length)return 0;if(b<0)throw RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw RangeError("sourceStart out of bounds");if(d<0)throw RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,f=d-c;if(this===a&&c<b&&b<d)for(e=f-1;e>=0;--e)a[e+b]=this[e+c];else if(f<1e3||!c$.TYPED_ARRAY_SUPPORT)for(e=0;e<f;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+f),b);return f},c$.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e,f=a.charCodeAt(0);f<256&&(a=f)}if(void 0!==d&&"string"!=typeof d)throw TypeError("encoding must be a string");if("string"==typeof d&&!c$.isEncoding(d))throw TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw RangeError("Out of range index");if(c<=b)return this;if(b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0),"number"==typeof a)for(e=b;e<c;++e)this[e]=a;else{var g=c4(a)?a:dl(new c$(a,d).toString()),h=g.length;for(e=0;e<c-b;++e)this[e+b]=g[e%h]}return this};var dk=/[^+\/0-9A-Za-z-_]/g;function dl(a,b){var c;b=b||1/0;for(var d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319||g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function dm(a){return function(a){cQ||cR();var b,c,d,e,f,g,h=a.length;if(h%4>0)throw Error("Invalid string. Length must be a multiple of 4");f="="===a[h-2]?2:+("="===a[h-1]),g=new cP(3*h/4-f),d=f>0?h-4:h;var i=0;for(b=0,c=0;b<d;b+=4,c+=3)e=cO[a.charCodeAt(b)]<<18|cO[a.charCodeAt(b+1)]<<12|cO[a.charCodeAt(b+2)]<<6|cO[a.charCodeAt(b+3)],g[i++]=e>>16&255,g[i++]=e>>8&255,g[i++]=255&e;return 2===f?(e=cO[a.charCodeAt(b)]<<2|cO[a.charCodeAt(b+1)]>>4,g[i++]=255&e):1===f&&(e=cO[a.charCodeAt(b)]<<10|cO[a.charCodeAt(b+1)]<<4|cO[a.charCodeAt(b+2)]>>2,g[i++]=e>>8&255,g[i++]=255&e),g}(function(a){var b;if((a=((b=a).trim?b.trim():b.replace(/^\s+|\s+$/g,"")).replace(dk,"")).length<2)return"";for(;a.length%4!=0;)a+="=";return a}(a))}function dn(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function dp(a){return null!=a&&(!!a._isBuffer||dq(a)||"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&dq(a.slice(0,0)))}function dq(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}var dr=Object.freeze({__proto__:null,Buffer:c$,INSPECT_MAX_BYTES:50,SlowBuffer:function(a){return+a!=a&&(a=0),c$.alloc(+a)},isBuffer:dp,kMaxLength:cX}),ds="undefined"!=typeof globalThis?globalThis:a.g;function dt(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function du(a){if(a.__esModule)return a;var b=a.default;if("function"==typeof b){var c=function a(){return this instanceof a?Reflect.construct(b,arguments,this.constructor):b.apply(this,arguments)};c.prototype=b.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(a).forEach(function(b){var d=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(c,b,d.get?d:{enumerable:!0,get:function(){return a[b]}})}),c}var dv={},dw={},dx={};function dy(a){if(!Number.isSafeInteger(a)||a<0)throw Error(`positive integer expected, not ${a}`)}function dz(a){if("boolean"!=typeof a)throw Error(`boolean expected, not ${a}`)}function dA(a){return a instanceof Uint8Array||null!=a&&"object"==typeof a&&"Uint8Array"===a.constructor.name}function dB(a,...b){if(!dA(a))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error(`Uint8Array expected of length ${b}, not of length=${a.length}`)}function dC(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("hash must be wrapped by utils.wrapConstructor");dy(a.outputLen),dy(a.blockLen)}function dD(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function dE(a,b){dB(a);let c=b.outputLen;if(a.length<c)throw Error(`digestInto() expects output buffer of length at least ${c}`)}Object.defineProperty(dx,"__esModule",{value:!0}),dx.isBytes=dA,dx.number=dy,dx.bool=dz,dx.bytes=dB,dx.hash=dC,dx.exists=dD,dx.output=dE,dx.default={number:dy,bool:dz,bytes:dB,hash:dC,exists:dD,output:dE},function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.wrapCipher=a.Hash=a.nextTick=a.isLE=a.createView=a.u32=a.u16=a.u8=void 0,a.bytesToHex=d,a.hexToBytes=f,a.hexToNumber=g,a.bytesToNumberBE=function(a){return g(d(a))},a.numberToBytesBE=function(a,b){return f(a.toString(16).padStart(2*b,"0"))},a.asyncLoop=async function(b,c,d){let e=Date.now();for(let f=0;f<b;f++){d(f);let b=Date.now()-e;b>=0&&b<c||(await (0,a.nextTick)(),e+=b)}},a.utf8ToBytes=h,a.bytesToUtf8=function(a){return(new TextDecoder).decode(a)},a.toBytes=function(a){if("string"==typeof a)a=h(a);else{if(!(0,b.isBytes)(a))throw Error("Uint8Array expected, got "+typeof a);a=j(a)}return a},a.concatBytes=function(...a){let c=0;for(let d=0;d<a.length;d++){let e=a[d];(0,b.bytes)(e),c+=e.length}let d=new Uint8Array(c);for(let b=0,c=0;b<a.length;b++){let e=a[b];d.set(e,c),c+=e.length}return d},a.checkOpts=function(a,b){if(null==b||"object"!=typeof b)throw Error("options must be defined");return Object.assign(a,b)},a.equalBytes=function(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c},a.setBigUint64=i,a.u64Lengths=function(b,c){let d=new Uint8Array(16),e=(0,a.createView)(d);return i(e,0,BigInt(c?c.length:0),!0),i(e,8,BigInt(b.length),!0),d},a.isAligned32=function(a){return a.byteOffset%4==0},a.copyBytes=j,a.clean=function(...a){for(let b=0;b<a.length;b++)a[b].fill(0)};let b=dx;if(a.u8=a=>new Uint8Array(a.buffer,a.byteOffset,a.byteLength),a.u16=a=>new Uint16Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/2)),a.u32=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),a.createView=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),a.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],!a.isLE)throw Error("Non little-endian hardware is not supported");let c=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function d(a){(0,b.bytes)(a);let d="";for(let b=0;b<a.length;b++)d+=c[a[b]];return d}function e(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function f(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);let b=a.length,c=b/2;if(b%2)throw Error("padded hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,f=0;b<c;b++,f+=2){let c=e(a.charCodeAt(f)),g=e(a.charCodeAt(f+1));if(void 0===c||void 0===g)throw Error('hex string expected, got non-hex character "'+(a[f]+a[f+1])+'" at index '+f);d[b]=16*c+g}return d}function g(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return BigInt(""===a?"0":`0x${a}`)}function h(a){if("string"!=typeof a)throw Error("string expected, got "+typeof a);return new Uint8Array((new TextEncoder).encode(a))}function i(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)}function j(a){return Uint8Array.from(a)}a.nextTick=async()=>{},a.Hash=class{},a.wrapCipher=(a,b)=>(Object.assign(b,a),b)}(dw);var dF={},dG={};Object.defineProperty(dG,"__esModule",{value:!0}),dG.AEAD_TAG_LENGTH=dG.XCHACHA20_NONCE_LENGTH=dG.CURVE25519_PUBLIC_KEY_SIZE=dG.ETH_PUBLIC_KEY_SIZE=dG.UNCOMPRESSED_PUBLIC_KEY_SIZE=dG.COMPRESSED_PUBLIC_KEY_SIZE=dG.SECRET_KEY_LENGTH=void 0,dG.SECRET_KEY_LENGTH=32,dG.COMPRESSED_PUBLIC_KEY_SIZE=33,dG.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,dG.ETH_PUBLIC_KEY_SIZE=64,dG.CURVE25519_PUBLIC_KEY_SIZE=32,dG.XCHACHA20_NONCE_LENGTH=24,dG.AEAD_TAG_LENGTH=16,Object.defineProperty(dF,"__esModule",{value:!0}),dF.ephemeralKeySize=dF.symmetricNonceLength=dF.symmetricAlgorithm=dF.isHkdfKeyCompressed=dF.isEphemeralKeyCompressed=dF.ellipticCurve=dF.ECIES_CONFIG=void 0,dF.ECIES_CONFIG=new function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16},dF.ellipticCurve=function(){return dF.ECIES_CONFIG.ellipticCurve},dF.isEphemeralKeyCompressed=function(){return dF.ECIES_CONFIG.isEphemeralKeyCompressed},dF.isHkdfKeyCompressed=function(){return dF.ECIES_CONFIG.isHkdfKeyCompressed},dF.symmetricAlgorithm=function(){return dF.ECIES_CONFIG.symmetricAlgorithm},dF.symmetricNonceLength=function(){return dF.ECIES_CONFIG.symmetricNonceLength},dF.ephemeralKeySize=function(){var a={secp256k1:dF.ECIES_CONFIG.isEphemeralKeyCompressed?dG.COMPRESSED_PUBLIC_KEY_SIZE:dG.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:dG.CURVE25519_PUBLIC_KEY_SIZE,ed25519:dG.CURVE25519_PUBLIC_KEY_SIZE};if(dF.ECIES_CONFIG.ellipticCurve in a)return a[dF.ECIES_CONFIG.ellipticCurve];throw Error("Not implemented")};var dH={},dI={},dJ={},dK={},dL={},dM={};Object.defineProperty(dM,"__esModule",{value:!0}),dM.crypto=void 0,dM.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.gcm=a.ctr=a.cbc=a.utils=void 0,a.randomBytes=d,a.getWebcryptoSubtle=e,a.managedNonce=function(a){return(0,b.number)(a.nonceLength),(b,...e)=>({encrypt(f,...g){let{nonceLength:h}=a,i=d(h),j=a(b,i,...e).encrypt(f,...g),k=(0,c.concatBytes)(i,j);return j.fill(0),k},decrypt(c,...d){let{nonceLength:f}=a,g=c.subarray(0,f),h=c.subarray(f);return a(b,g,...e).decrypt(h,...d)}})};let b=dx,c=dw;function d(a=32){if(dM.crypto&&"function"==typeof dM.crypto.getRandomValues)return dM.crypto.getRandomValues(new Uint8Array(a));if(dM.crypto&&"function"==typeof dM.crypto.randomBytes)return dM.crypto.randomBytes(a);throw Error("crypto.getRandomValues must be defined")}function e(){if(dM.crypto&&"object"==typeof dM.crypto.subtle&&null!=dM.crypto.subtle)return dM.crypto.subtle;throw Error("crypto.subtle must be defined")}a.utils={async encrypt(a,b,c,d){let f=e(),g=await f.importKey("raw",a,b,!0,["encrypt"]);return new Uint8Array(await f.encrypt(c,g,d))},async decrypt(a,b,c,d){let f=e(),g=await f.importKey("raw",a,b,!0,["decrypt"]);return new Uint8Array(await f.decrypt(c,g,d))}};let f="AES-CBC",g="AES-CTR",h="AES-GCM";function i(c){return(d,e,i)=>{(0,b.bytes)(d),(0,b.bytes)(e);let j={name:c,length:8*d.length},k=function(a,b,c){if(a===f)return{name:f,iv:b};if(a===g)return{name:g,counter:b,length:64};if(a===h)return c?{name:h,iv:b,additionalData:c}:{name:h,iv:b};throw Error("unknown aes block mode")}(c,e,i);return{encrypt:c=>((0,b.bytes)(c),a.utils.encrypt(d,j,k,c)),decrypt:c=>((0,b.bytes)(c),a.utils.decrypt(d,j,k,c))}}}a.cbc=i(f),a.ctr=i(g),a.gcm=i(h)}(dL);var dN={},dO={},dP={},dQ={};function dR(a){if(!Number.isSafeInteger(a)||a<0)throw Error(`positive integer expected, not ${a}`)}function dS(a){if("boolean"!=typeof a)throw Error(`boolean expected, not ${a}`)}function dT(a){return a instanceof Uint8Array||null!=a&&"object"==typeof a&&"Uint8Array"===a.constructor.name}function dU(a,...b){if(!dT(a))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error(`Uint8Array expected of length ${b}, not of length=${a.length}`)}function dV(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash should be wrapped by utils.wrapConstructor");dR(a.outputLen),dR(a.blockLen)}function dW(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function dX(a,b){dU(a);let c=b.outputLen;if(a.length<c)throw Error(`digestInto() expects output buffer of length at least ${c}`)}Object.defineProperty(dQ,"__esModule",{value:!0}),dQ.isBytes=dT,dQ.number=dR,dQ.bool=dS,dQ.bytes=dU,dQ.hash=dV,dQ.exists=dW,dQ.output=dX,dQ.default={number:dR,bool:dS,bytes:dU,hash:dV,exists:dW,output:dX};var dY={},dZ={};Object.defineProperty(dZ,"__esModule",{value:!0}),dZ.crypto=void 0,dZ.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Hash=a.nextTick=a.byteSwapIfBE=a.byteSwap=a.isLE=a.rotl=a.rotr=a.createView=a.u32=a.u8=void 0,a.isBytes=function(a){return a instanceof Uint8Array||null!=a&&"object"==typeof a&&"Uint8Array"===a.constructor.name},a.byteSwap32=function(b){for(let c=0;c<b.length;c++)b[c]=(0,a.byteSwap)(b[c])},a.bytesToHex=function(a){(0,c.bytes)(a);let b="";for(let c=0;c<a.length;c++)b+=d[a[c]];return b},a.hexToBytes=function(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);let b=a.length,c=b/2;if(b%2)throw Error("padded hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,f=0;b<c;b++,f+=2){let c=e(a.charCodeAt(f)),g=e(a.charCodeAt(f+1));if(void 0===c||void 0===g)throw Error('hex string expected, got non-hex character "'+(a[f]+a[f+1])+'" at index '+f);d[b]=16*c+g}return d},a.asyncLoop=async function(b,c,d){let e=Date.now();for(let f=0;f<b;f++){d(f);let b=Date.now()-e;b>=0&&b<c||(await (0,a.nextTick)(),e+=b)}},a.utf8ToBytes=f,a.toBytes=g,a.concatBytes=function(...a){let b=0;for(let d=0;d<a.length;d++){let e=a[d];(0,c.bytes)(e),b+=e.length}let d=new Uint8Array(b);for(let b=0,c=0;b<a.length;b++){let e=a[b];d.set(e,c),c+=e.length}return d},a.checkOpts=function(a,b){if(void 0!==b&&"[object Object]"!==h.call(b))throw Error("Options should be object or undefined");return Object.assign(a,b)},a.wrapConstructor=function(a){let b=b=>a().update(g(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b},a.wrapConstructorWithOpts=function(a){let b=(b,c)=>a(c).update(g(b)).digest(),c=a({});return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=b=>a(b),b},a.wrapXOFConstructorWithOpts=function(a){let b=(b,c)=>a(c).update(g(b)).digest(),c=a({});return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=b=>a(b),b},a.randomBytes=function(a=32){if(b.crypto&&"function"==typeof b.crypto.getRandomValues)return b.crypto.getRandomValues(new Uint8Array(a));if(b.crypto&&"function"==typeof b.crypto.randomBytes)return b.crypto.randomBytes(a);throw Error("crypto.getRandomValues must be defined")};let b=dZ,c=dQ;a.u8=a=>new Uint8Array(a.buffer,a.byteOffset,a.byteLength),a.u32=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),a.createView=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),a.rotr=(a,b)=>a<<32-b|a>>>b,a.rotl=(a,b)=>a<<b|a>>>32-b>>>0,a.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],a.byteSwap=a=>a<<24&0xff000000|a<<8&0xff0000|a>>>8&65280|a>>>24&255,a.byteSwapIfBE=a.isLE?a=>a:b=>(0,a.byteSwap)(b);let d=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function e(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function f(a){if("string"!=typeof a)throw Error("utf8ToBytes expected string, got "+typeof a);return new Uint8Array((new TextEncoder).encode(a))}function g(a){return"string"==typeof a&&(a=f(a)),(0,c.bytes)(a),a}a.nextTick=async()=>{},a.Hash=class{clone(){return this._cloneInto()}};let h={}.toString}(dY),Object.defineProperty(dP,"__esModule",{value:!0}),dP.HashMD=dP.Maj=dP.Chi=void 0;let d$=dY;dP.Chi=(a,b,c)=>a&b^~a&c,dP.Maj=(a,b,c)=>a&b^a&c^b&c,dP.HashMD=class extends d$.Hash{constructor(a,b,c,d){super(),this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=(0,d$.createView)(this.buffer)}update(a){(0,dQ.exists)(this);let{view:b,buffer:c,blockLen:d}=this,e=(a=(0,d$.toBytes)(a)).length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g!==d)c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0);else{let b=(0,d$.createView)(a);for(;d<=e-f;f+=d)this.process(b,f)}}return this.length+=a.length,this.roundClean(),this}digestInto(a){(0,dQ.exists)(this),(0,dQ.output)(a,this),this.finished=!0;let{buffer:b,view:c,blockLen:d,isLE:e}=this,{pos:f}=this;b[f++]=128,this.buffer.subarray(f).fill(0),this.padOffset>d-f&&(this.process(c,0),f=0);for(let a=f;a<d;a++)b[a]=0;!function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)}(c,d-8,BigInt(8*this.length),e),this.process(c,0);let g=(0,d$.createView)(a),h=this.outputLen;if(h%4)throw Error("_sha2: outputLen should be aligned to 32bit");let i=h/4,j=this.get();if(i>j.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<i;a++)g.setUint32(4*a,j[a],e)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.length=d,a.pos=g,a.finished=e,a.destroyed=f,d%b&&a.buffer.set(c),a}};var d_={};Object.defineProperty(d_,"__esModule",{value:!0}),d_.add5L=d_.add5H=d_.add4H=d_.add4L=d_.add3H=d_.add3L=d_.rotlBL=d_.rotlBH=d_.rotlSL=d_.rotlSH=d_.rotr32L=d_.rotr32H=d_.rotrBL=d_.rotrBH=d_.rotrSL=d_.rotrSH=d_.shrSL=d_.shrSH=d_.toBig=void 0,d_.fromBig=d2,d_.split=d3,d_.add=eh;let d0=BigInt(0x100000000-1),d1=BigInt(32);function d2(a,b=!1){return b?{h:Number(a&d0),l:Number(a>>d1&d0)}:{h:0|Number(a>>d1&d0),l:0|Number(a&d0)}}function d3(a,b=!1){let c=new Uint32Array(a.length),d=new Uint32Array(a.length);for(let e=0;e<a.length;e++){let{h:f,l:g}=d2(a[e],b);[c[e],d[e]]=[f,g]}return[c,d]}let d4=(a,b)=>BigInt(a>>>0)<<d1|BigInt(b>>>0);d_.toBig=d4;let d5=(a,b,c)=>a>>>c;d_.shrSH=d5;let d6=(a,b,c)=>a<<32-c|b>>>c;d_.shrSL=d6;let d7=(a,b,c)=>a>>>c|b<<32-c;d_.rotrSH=d7;let d8=(a,b,c)=>a<<32-c|b>>>c;d_.rotrSL=d8;let d9=(a,b,c)=>a<<64-c|b>>>c-32;d_.rotrBH=d9;let ea=(a,b,c)=>a>>>c-32|b<<64-c;d_.rotrBL=ea;let eb=(a,b)=>b;d_.rotr32H=eb;let ec=(a,b)=>a;d_.rotr32L=ec;let ed=(a,b,c)=>a<<c|b>>>32-c;d_.rotlSH=ed;let ee=(a,b,c)=>b<<c|a>>>32-c;d_.rotlSL=ee;let ef=(a,b,c)=>b<<c-32|a>>>64-c;d_.rotlBH=ef;let eg=(a,b,c)=>a<<c-32|b>>>64-c;function eh(a,b,c,d){let e=(b>>>0)+(d>>>0);return{h:a+c+(e/0x100000000|0)|0,l:0|e}}d_.rotlBL=eg;let ei=(a,b,c)=>(a>>>0)+(b>>>0)+(c>>>0);d_.add3L=ei;let ej=(a,b,c,d)=>b+c+d+(a/0x100000000|0)|0;d_.add3H=ej;let ek=(a,b,c,d)=>(a>>>0)+(b>>>0)+(c>>>0)+(d>>>0);d_.add4L=ek;let el=(a,b,c,d,e)=>b+c+d+e+(a/0x100000000|0)|0;d_.add4H=el;let em=(a,b,c,d,e)=>(a>>>0)+(b>>>0)+(c>>>0)+(d>>>0)+(e>>>0);d_.add5L=em;let en=(a,b,c,d,e,f)=>b+c+d+e+f+(a/0x100000000|0)|0;d_.add5H=en,d_.default={fromBig:d2,split:d3,toBig:d4,shrSH:d5,shrSL:d6,rotrSH:d7,rotrSL:d8,rotrBH:d9,rotrBL:ea,rotr32H:eb,rotr32L:ec,rotlSH:ed,rotlSL:ee,rotlBH:ef,rotlBL:eg,add:eh,add3L:ei,add3H:ej,add4L:ek,add4H:el,add5H:en,add5L:em},Object.defineProperty(dO,"__esModule",{value:!0}),dO.sha384=dO.sha512_256=dO.sha512_224=dO.sha512=dO.SHA384=dO.SHA512_256=dO.SHA512_224=dO.SHA512=void 0;let eo=dP,[ep,eq]=d_.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),er=new Uint32Array(80),es=new Uint32Array(80);class et extends eo.HashMD{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:a,Al:b,Bh:c,Bl:d,Ch:e,Cl:f,Dh:g,Dl:h,Eh:i,El:j,Fh:k,Fl:l,Gh:m,Gl:n,Hh:o,Hl:p}=this;return[a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p]}set(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){this.Ah=0|a,this.Al=0|b,this.Bh=0|c,this.Bl=0|d,this.Ch=0|e,this.Cl=0|f,this.Dh=0|g,this.Dl=0|h,this.Eh=0|i,this.El=0|j,this.Fh=0|k,this.Fl=0|l,this.Gh=0|m,this.Gl=0|n,this.Hh=0|o,this.Hl=0|p}process(a,b){for(let c=0;c<16;c++,b+=4)er[c]=a.getUint32(b),es[c]=a.getUint32(b+=4);for(let a=16;a<80;a++){let b=0|er[a-15],c=0|es[a-15],d=d_.default.rotrSH(b,c,1)^d_.default.rotrSH(b,c,8)^d_.default.shrSH(b,c,7),e=d_.default.rotrSL(b,c,1)^d_.default.rotrSL(b,c,8)^d_.default.shrSL(b,c,7),f=0|er[a-2],g=0|es[a-2],h=d_.default.rotrSH(f,g,19)^d_.default.rotrBH(f,g,61)^d_.default.shrSH(f,g,6),i=d_.default.rotrSL(f,g,19)^d_.default.rotrBL(f,g,61)^d_.default.shrSL(f,g,6),j=d_.default.add4L(e,i,es[a-7],es[a-16]),k=d_.default.add4H(j,d,h,er[a-7],er[a-16]);er[a]=0|k,es[a]=0|j}let{Ah:c,Al:d,Bh:e,Bl:f,Ch:g,Cl:h,Dh:i,Dl:j,Eh:k,El:l,Fh:m,Fl:n,Gh:o,Gl:p,Hh:q,Hl:r}=this;for(let a=0;a<80;a++){let b=d_.default.rotrSH(k,l,14)^d_.default.rotrSH(k,l,18)^d_.default.rotrBH(k,l,41),s=d_.default.rotrSL(k,l,14)^d_.default.rotrSL(k,l,18)^d_.default.rotrBL(k,l,41),t=k&m^~k&o,u=l&n^~l&p,v=d_.default.add5L(r,s,u,eq[a],es[a]),w=d_.default.add5H(v,q,b,t,ep[a],er[a]),x=0|v,y=d_.default.rotrSH(c,d,28)^d_.default.rotrBH(c,d,34)^d_.default.rotrBH(c,d,39),z=d_.default.rotrSL(c,d,28)^d_.default.rotrBL(c,d,34)^d_.default.rotrBL(c,d,39),A=c&e^c&g^e&g,B=d&f^d&h^f&h;q=0|o,r=0|p,o=0|m,p=0|n,m=0|k,n=0|l,({h:k,l:l}=d_.default.add(0|i,0|j,0|w,0|x)),i=0|g,j=0|h,g=0|e,h=0|f,e=0|c,f=0|d;let C=d_.default.add3L(x,z,B);c=d_.default.add3H(C,w,y,A),d=0|C}({h:c,l:d}=d_.default.add(0|this.Ah,0|this.Al,0|c,0|d)),({h:e,l:f}=d_.default.add(0|this.Bh,0|this.Bl,0|e,0|f)),({h:g,l:h}=d_.default.add(0|this.Ch,0|this.Cl,0|g,0|h)),({h:i,l:j}=d_.default.add(0|this.Dh,0|this.Dl,0|i,0|j)),({h:k,l:l}=d_.default.add(0|this.Eh,0|this.El,0|k,0|l)),({h:m,l:n}=d_.default.add(0|this.Fh,0|this.Fl,0|m,0|n)),({h:o,l:p}=d_.default.add(0|this.Gh,0|this.Gl,0|o,0|p)),({h:q,l:r}=d_.default.add(0|this.Hh,0|this.Hl,0|q,0|r)),this.set(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)}roundClean(){er.fill(0),es.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}dO.SHA512=et;class eu extends et{constructor(){super(),this.Ah=-0x73c2c838,this.Al=0x19544da2,this.Bh=0x73e19966,this.Bl=-0x76232b2a,this.Ch=0x1dfab7ae,this.Cl=0x32ff9c82,this.Dh=0x679dd514,this.Dl=0x582f9fcf,this.Eh=0xf6d2b69,this.El=0x7bd44da8,this.Fh=0x77e36f73,this.Fl=0x4c48942,this.Gh=0x3f9d85a8,this.Gl=0x6a1d36c8,this.Hh=0x1112e6ad,this.Hl=-0x6e296d5f,this.outputLen=28}}dO.SHA512_224=eu;class ev extends et{constructor(){super(),this.Ah=0x22312194,this.Al=-0x3d408d4,this.Bh=-0x60aaa05d,this.Bl=-0x37b39b3e,this.Ch=0x2393b86b,this.Cl=0x6f53b151,this.Dh=-0x69c788e7,this.Dl=0x5940eabd,this.Eh=-0x69d7c11e,this.El=-0x5771001d,this.Fh=-0x41a1e1db,this.Fl=0x53863992,this.Gh=0x2b0199fc,this.Gl=0x2c85b8aa,this.Hh=0xeb72ddc,this.Hl=-0x7e3ad35e,this.outputLen=32}}dO.SHA512_256=ev;class ew extends et{constructor(){super(),this.Ah=-0x344462a3,this.Al=-0x3efa6128,this.Bh=0x629a292a,this.Bl=0x367cd507,this.Ch=-0x6ea6fea6,this.Cl=0x3070dd17,this.Dh=0x152fecd8,this.Dl=-0x8f1a6c7,this.Eh=0x67332667,this.El=-4191439,this.Fh=-0x714bb579,this.Fl=0x68581511,this.Gh=-0x24f3d1f3,this.Gl=0x64f98fa7,this.Hh=0x47b5481d,this.Hl=-0x4105b05c,this.outputLen=48}}dO.SHA384=ew,dO.sha512=(0,dY.wrapConstructor)(()=>new et),dO.sha512_224=(0,dY.wrapConstructor)(()=>new eu),dO.sha512_256=(0,dY.wrapConstructor)(()=>new ev),dO.sha384=(0,dY.wrapConstructor)(()=>new ew);var ex={},ey={},ez={},eA={};Object.defineProperty(eA,"__esModule",{value:!0}),eA.notImplemented=eA.bitMask=void 0,eA.isBytes=eE,eA.abytes=eF,eA.abool=function(a,b){if("boolean"!=typeof b)throw Error(`${a} must be valid boolean, got "${b}".`)},eA.bytesToHex=eH,eA.numberToHexUnpadded=eI,eA.hexToNumber=eJ,eA.hexToBytes=eL,eA.bytesToNumberBE=function(a){return eJ(eH(a))},eA.bytesToNumberLE=function(a){return eF(a),eJ(eH(Uint8Array.from(a).reverse()))},eA.numberToBytesBE=eM,eA.numberToBytesLE=function(a,b){return eM(a,b).reverse()},eA.numberToVarBytesBE=function(a){return eL(eI(a))},eA.ensureBytes=function(a,b,c){let d;if("string"==typeof b)try{d=eL(b)}catch(c){throw Error(`${a} must be valid hex string, got "${b}". Cause: ${c}`)}else{if(!eE(b))throw Error(`${a} must be hex string or Uint8Array`);d=Uint8Array.from(b)}let e=d.length;if("number"==typeof c&&e!==c)throw Error(`${a} expected ${c} bytes, got ${e}`);return d},eA.concatBytes=eN,eA.equalBytes=function(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c},eA.utf8ToBytes=function(a){if("string"!=typeof a)throw Error("utf8ToBytes expected string, got "+typeof a);return new Uint8Array((new TextEncoder).encode(a))},eA.inRange=eP,eA.aInRange=function(a,b,c,d){if(!eP(b,c,d))throw Error(`expected valid ${a}: ${c} <= n < ${d}, got ${typeof b} ${b}`)},eA.bitLen=function(a){let b;for(b=0;a>eB;a>>=eC,b+=1);return b},eA.bitGet=function(a,b){return a>>BigInt(b)&eC},eA.bitSet=function(a,b,c){return a|(c?eC:eB)<<BigInt(b)},eA.createHmacDrbg=function(a,b,c){if("number"!=typeof a||a<2)throw Error("hashLen must be a number");if("number"!=typeof b||b<2)throw Error("qByteLen must be a number");if("function"!=typeof c)throw Error("hmacFn must be a function");let d=eQ(a),e=eQ(a),f=0,g=()=>{d.fill(1),e.fill(0),f=0},h=(...a)=>c(e,d,...a),i=(a=eQ())=>{e=h(eR([0]),a),d=h(),0!==a.length&&(e=h(eR([1]),a),d=h())},j=()=>{if(f++>=1e3)throw Error("drbg: tried 1000 values");let a=0,c=[];for(;a<b;){let b=(d=h()).slice();c.push(b),a+=d.length}return eN(...c)};return(a,b)=>{let c;for(g(),i(a);!(c=b(j()));)i();return g(),c}},eA.validateObject=function(a,b,c={}){let d=(b,c,d)=>{let e=eS[c];if("function"!=typeof e)throw Error(`Invalid validator "${c}", expected function`);let f=a[b];if(!(d&&void 0===f||e(f,a)))throw Error(`Invalid param ${String(b)}=${f} (${typeof f}), expected ${c}`)};for(let[a,c]of Object.entries(b))d(a,c,!1);for(let[a,b]of Object.entries(c))d(a,b,!0);return a},eA.memoized=function(a){let b=new WeakMap;return(c,...d)=>{let e=b.get(c);if(void 0!==e)return e;let f=a(c,...d);return b.set(c,f),f}};let eB=BigInt(0),eC=BigInt(1),eD=BigInt(2);function eE(a){return a instanceof Uint8Array||null!=a&&"object"==typeof a&&"Uint8Array"===a.constructor.name}function eF(a){if(!eE(a))throw Error("Uint8Array expected")}let eG=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function eH(a){eF(a);let b="";for(let c=0;c<a.length;c++)b+=eG[a[c]];return b}function eI(a){let b=a.toString(16);return 1&b.length?`0${b}`:b}function eJ(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return BigInt(""===a?"0":`0x${a}`)}function eK(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function eL(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);let b=a.length,c=b/2;if(b%2)throw Error("padded hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=eK(a.charCodeAt(e)),f=eK(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}function eM(a,b){return eL(a.toString(16).padStart(2*b,"0"))}function eN(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];eF(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}let eO=a=>"bigint"==typeof a&&eB<=a;function eP(a,b,c){return eO(a)&&eO(b)&&eO(c)&&b<=a&&a<c}eA.bitMask=a=>(eD<<BigInt(a-1))-eC;let eQ=a=>new Uint8Array(a),eR=a=>Uint8Array.from(a),eS={bigint:a=>"bigint"==typeof a,function:a=>"function"==typeof a,boolean:a=>"boolean"==typeof a,string:a=>"string"==typeof a,stringOrUint8Array:a=>"string"==typeof a||eE(a),isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,b)=>b.Fp.isValid(a),hash:a=>"function"==typeof a&&Number.isSafeInteger(a.outputLen)};eA.notImplemented=()=>{throw Error("not implemented")},Object.defineProperty(ez,"__esModule",{value:!0}),ez.isNegativeLE=void 0,ez.mod=e_,ez.pow=e0,ez.pow2=function(a,b,c){let d=a;for(;b-- >eU;)d*=d,d%=c;return d},ez.invert=e1,ez.tonelliShanks=e2,ez.FpSqrt=e3,ez.validateField=function(a){let b=e4.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,eT.validateObject)(a,b)},ez.FpPow=e5,ez.FpInvertBatch=e6,ez.FpDiv=function(a,b,c){return a.mul(b,"bigint"==typeof c?e1(c,a.ORDER):a.inv(c))},ez.FpLegendre=e7,ez.FpIsSquare=function(a){let b=e7(a.ORDER);return c=>{let d=b(a,c);return a.eql(d,a.ZERO)||a.eql(d,a.ONE)}},ez.nLength=e8,ez.Field=function(a,b,c=!1,d={}){if(a<=eU)throw Error(`Expected Field ORDER > 0, got ${a}`);let{nBitLength:e,nByteLength:f}=e8(a,b);if(f>2048)throw Error("Field lengths over 2048 bytes are not supported");let g=e3(a),h=Object.freeze({ORDER:a,BITS:e,BYTES:f,MASK:(0,eT.bitMask)(e),ZERO:eU,ONE:eV,create:b=>e_(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error("Invalid field element: expected bigint, got "+typeof b);return eU<=b&&b<a},is0:a=>a===eU,isOdd:a=>(a&eV)===eV,neg:b=>e_(-b,a),eql:(a,b)=>a===b,sqr:b=>e_(b*b,a),add:(b,c)=>e_(b+c,a),sub:(b,c)=>e_(b-c,a),mul:(b,c)=>e_(b*c,a),pow:(a,b)=>e5(h,a,b),div:(b,c)=>e_(b*e1(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>e1(b,a),sqrt:d.sqrt||(a=>g(h,a)),invertBatch:a=>e6(h,a),cmov:(a,b,c)=>c?b:a,toBytes:a=>c?(0,eT.numberToBytesLE)(a,f):(0,eT.numberToBytesBE)(a,f),fromBytes:a=>{if(a.length!==f)throw Error(`Fp.fromBytes: expected ${f}, got ${a.length}`);return c?(0,eT.bytesToNumberLE)(a):(0,eT.bytesToNumberBE)(a)}});return Object.freeze(h)},ez.FpSqrtOdd=function(a,b){if(!a.isOdd)throw Error("Field doesn't have isOdd");let c=a.sqrt(b);return a.isOdd(c)?c:a.neg(c)},ez.FpSqrtEven=function(a,b){if(!a.isOdd)throw Error("Field doesn't have isOdd");let c=a.sqrt(b);return a.isOdd(c)?a.neg(c):c},ez.hashToPrivateScalar=function(a,b,c=!1){let d=(a=(0,eT.ensureBytes)("privateHash",a)).length,e=e8(b).nByteLength+8;if(e<24||d<e||d>1024)throw Error(`hashToPrivateScalar: expected ${e}-1024 bytes of input, got ${d}`);return e_(c?(0,eT.bytesToNumberLE)(a):(0,eT.bytesToNumberBE)(a),b-eV)+eV},ez.getFieldBytesLength=e9,ez.getMinHashLength=fa,ez.mapHashToField=function(a,b,c=!1){let d=a.length,e=e9(b),f=fa(b);if(d<16||d<f||d>1024)throw Error(`expected ${f}-1024 bytes of input, got ${d}`);let g=e_(c?(0,eT.bytesToNumberBE)(a):(0,eT.bytesToNumberLE)(a),b-eV)+eV;return c?(0,eT.numberToBytesLE)(g,e):(0,eT.numberToBytesBE)(g,e)};let eT=eA,eU=BigInt(0),eV=BigInt(1),eW=BigInt(2),eX=BigInt(3),eY=BigInt(4),eZ=BigInt(5),e$=BigInt(8);function e_(a,b){let c=a%b;return c>=eU?c:b+c}function e0(a,b,c){if(c<=eU||b<eU)throw Error("Expected power/modulo > 0");if(c===eV)return eU;let d=eV;for(;b>eU;)b&eV&&(d=d*a%c),a=a*a%c,b>>=eV;return d}function e1(a,b){if(a===eU||b<=eU)throw Error(`invert: expected positive integers, got n=${a} mod=${b}`);let c=e_(a,b),d=b,e=eU,f=eV;for(;c!==eU;){let a=d%c,b=e-d/c*f;d=c,c=a,e=f,f=b}if(d!==eV)throw Error("invert: does not exist");return e_(e,b)}function e2(a){let b,c,d,e=(a-eV)/eW;for(b=a-eV,c=0;b%eW===eU;b/=eW,c++);for(d=eW;d<a&&e0(d,e,a)!==a-eV;d++);if(1===c){let b=(a+eV)/eY;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}let f=(b+eV)/eW;return function(a,g){if(a.pow(g,e)===a.neg(a.ONE))throw Error("Cannot find square root");let h=c,i=a.pow(a.mul(a.ONE,d),b),j=a.pow(g,f),k=a.pow(g,b);for(;!a.eql(k,a.ONE);){if(a.eql(k,a.ZERO))return a.ZERO;let b=1;for(let c=a.sqr(k);b<h&&!a.eql(c,a.ONE);b++)c=a.sqr(c);let c=a.pow(i,eV<<BigInt(h-b-1));i=a.sqr(c),j=a.mul(j,c),k=a.mul(k,i),h=b}return j}}function e3(a){if(a%eY===eX){let b=(a+eV)/eY;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}if(a%e$===eZ){let b=(a-eZ)/e$;return function(a,c){let d=a.mul(c,eW),e=a.pow(d,b),f=a.mul(c,e),g=a.mul(a.mul(f,eW),e),h=a.mul(f,a.sub(g,a.ONE));if(!a.eql(a.sqr(h),c))throw Error("Cannot find square root");return h}}return e2(a)}BigInt(9),BigInt(16),ez.isNegativeLE=(a,b)=>(e_(a,b)&eV)===eV;let e4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e5(a,b,c){if(c<eU)throw Error("Expected power > 0");if(c===eU)return a.ONE;if(c===eV)return b;let d=a.ONE,e=b;for(;c>eU;)c&eV&&(d=a.mul(d,e)),e=a.sqr(e),c>>=eV;return d}function e6(a,b){let c=Array(b.length),d=b.reduce((b,d,e)=>a.is0(d)?b:(c[e]=b,a.mul(b,d)),a.ONE),e=a.inv(d);return b.reduceRight((b,d,e)=>a.is0(d)?b:(c[e]=a.mul(b,c[e]),a.mul(b,d)),e),c}function e7(a){let b=(a-eV)/eW;return(a,c)=>a.pow(c,b)}function e8(a,b){let c=void 0!==b?b:a.toString(2).length;return{nBitLength:c,nByteLength:Math.ceil(c/8)}}function e9(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function fa(a){let b=e9(a);return b+Math.ceil(b/2)}Object.defineProperty(ey,"__esModule",{value:!0}),ey.wNAF=function(a,b){let c=(a,b)=>{let c=b.negate();return a?c:b},d=a=>{if(!Number.isSafeInteger(a)||a<=0||a>b)throw Error(`Wrong window size=${a}, should be [1..${b}]`)},e=a=>(d(a),{windows:Math.ceil(b/a)+1,windowSize:2**(a-1)});return{constTimeNegate:c,unsafeLadder(b,c){let d=a.ZERO,e=b;for(;c>fd;)c&fe&&(d=d.add(e)),e=e.double(),c>>=fe;return d},precomputeWindow(a,b){let{windows:c,windowSize:d}=e(b),f=[],g=a,h=g;for(let a=0;a<c;a++){h=g,f.push(h);for(let a=1;a<d;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(b,d,f){let{windows:g,windowSize:h}=e(b),i=a.ZERO,j=a.BASE,k=BigInt(2**b-1),l=2**b,m=BigInt(b);for(let a=0;a<g;a++){let b=a*h,e=Number(f&k);f>>=m,e>h&&(e-=l,f+=fe);let g=b+Math.abs(e)-1,n=a%2!=0,o=e<0;0===e?j=j.add(c(n,d[b])):i=i.add(c(o,d[g]))}return{p:i,f:j}},wNAFCached(a,b,c){let d=fg.get(a)||1,e=ff.get(a);return e||(e=this.precomputeWindow(a,d),1!==d&&ff.set(a,c(e))),this.wNAF(d,e,b)},setWindowSize(a,b){d(b),fg.set(a,b),ff.delete(a)}}},ey.pippenger=function(a,b,c,d){if(!Array.isArray(c)||!Array.isArray(d)||d.length!==c.length)throw Error("arrays of points and scalars must have equal length");d.forEach((a,c)=>{if(!b.isValid(a))throw Error(`wrong scalar at index ${c}`)}),c.forEach((b,c)=>{if(!(b instanceof a))throw Error(`wrong point at index ${c}`)});let e=(0,fc.bitLen)(BigInt(c.length)),f=e>12?e-3:e>4?e-2:e?2:1,g=(1<<f)-1,h=Array(g+1).fill(a.ZERO),i=Math.floor((b.BITS-1)/f)*f,j=a.ZERO;for(let b=i;b>=0;b-=f){h.fill(a.ZERO);for(let a=0;a<d.length;a++){let e=Number(d[a]>>BigInt(b)&BigInt(g));h[e]=h[e].add(c[a])}let e=a.ZERO;for(let b=h.length-1,c=a.ZERO;b>0;b--)c=c.add(h[b]),e=e.add(c);if(j=j.add(e),0!==b)for(let a=0;a<f;a++)j=j.double()}return j},ey.validateBasic=function(a){return(0,fb.validateField)(a.Fp),(0,fc.validateObject)(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,fb.nLength)(a.n,a.nBitLength),...a,p:a.Fp.ORDER})};let fb=ez,fc=eA,fd=BigInt(0),fe=BigInt(1),ff=new WeakMap,fg=new WeakMap;Object.defineProperty(ex,"__esModule",{value:!0}),ex.twistedEdwards=function(a){let b,c=(b=(0,fh.validateBasic)(a),fj.validateObject(a,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...b})),{Fp:d,n:e,prehash:f,hash:g,randomBytes:h,nByteLength:i,h:j}=c,k=fn<<BigInt(8*i)-fm,l=d.create,m=(0,fi.Field)(c.n,c.nBitLength),n=c.uvRatio||((a,b)=>{try{return{isValid:!0,value:d.sqrt(a*d.inv(b))}}catch(a){return{isValid:!1,value:fl}}}),o=c.adjustScalarBytes||(a=>a),p=c.domain||((a,b,c)=>{if((0,fk.abool)("phflag",c),b.length||c)throw Error("Contexts/pre-hash are not supported");return a});function q(a,b){fj.aInRange("coordinate "+a,b,fl,k)}function r(a){if(!(a instanceof u))throw Error("ExtendedPoint expected")}let s=(0,fk.memoized)((a,b)=>{let{ex:c,ey:e,ez:f}=a,g=a.is0();null==b&&(b=g?fo:d.inv(f));let h=l(c*b),i=l(e*b),j=l(f*b);if(g)return{x:fl,y:fm};if(j!==fm)throw Error("invZ was invalid");return{x:h,y:i}}),t=(0,fk.memoized)(a=>{let{a:b,d:d}=c;if(a.is0())throw Error("bad point: ZERO");let{ex:e,ey:f,ez:g,et:h}=a,i=l(e*e),j=l(f*f),k=l(g*g),m=l(k*k),n=l(i*b);if(l(k*l(n+j))!==l(m+l(d*l(i*j))))throw Error("bad point: equation left != right (1)");if(l(e*f)!==l(g*h))throw Error("bad point: equation left != right (2)");return!0});class u{constructor(a,b,c,d){this.ex=a,this.ey=b,this.ez=c,this.et=d,q("x",a),q("y",b),q("z",c),q("t",d),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(a){if(a instanceof u)throw Error("extended point not allowed");let{x:b,y:c}=a||{};return q("x",b),q("y",c),new u(b,c,fm,l(b*c))}static normalizeZ(a){let b=d.invertBatch(a.map(a=>a.ez));return a.map((a,c)=>a.toAffine(b[c])).map(u.fromAffine)}static msm(a,b){return(0,fh.pippenger)(u,m,a,b)}_setWindowSize(a){x.setWindowSize(this,a)}assertValidity(){t(this)}equals(a){r(a);let{ex:b,ey:c,ez:d}=this,{ex:e,ey:f,ez:g}=a,h=l(b*g),i=l(e*d),j=l(c*g),k=l(f*d);return h===i&&j===k}is0(){return this.equals(u.ZERO)}negate(){return new u(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){let{a:a}=c,{ex:b,ey:d,ez:e}=this,f=l(b*b),g=l(d*d),h=l(fn*l(e*e)),i=l(a*f),j=b+d,k=l(l(j*j)-f-g),m=i+g,n=m-h,o=i-g,p=l(k*n),q=l(m*o),r=l(k*o);return new u(p,q,l(n*m),r)}add(a){r(a);let{a:b,d:d}=c,{ex:e,ey:f,ez:g,et:h}=this,{ex:i,ey:j,ez:k,et:m}=a;if(b===BigInt(-1)){let a=l((f-e)*(j+i)),b=l((f+e)*(j-i)),c=l(b-a);if(c===fl)return this.double();let d=l(g*fn*m),n=l(h*fn*k),o=n+d,p=b+a,q=n-d,r=l(o*c),s=l(p*q),t=l(o*q);return new u(r,s,l(c*p),t)}let n=l(e*i),o=l(f*j),p=l(h*d*m),q=l(g*k),s=l((e+f)*(i+j)-n-o),t=q-p,v=q+p,w=l(o-b*n),x=l(s*t),y=l(v*w),z=l(s*w);return new u(x,y,l(t*v),z)}subtract(a){return this.add(a.negate())}wNAF(a){return x.wNAFCached(this,a,u.normalizeZ)}multiply(a){fj.aInRange("scalar",a,fm,e);let{p:b,f:c}=this.wNAF(a);return u.normalizeZ([b,c])[0]}multiplyUnsafe(a){return fj.aInRange("scalar",a,fl,e),a===fl?w:this.equals(w)||a===fm?this:this.equals(v)?this.wNAF(a).p:x.unsafeLadder(this,a)}isSmallOrder(){return this.multiplyUnsafe(j).is0()}isTorsionFree(){return x.unsafeLadder(this,e).is0()}toAffine(a){return s(this,a)}clearCofactor(){let{h:a}=c;return a===fm?this:this.multiplyUnsafe(a)}static fromHex(a,b=!1){let{d:e,a:f}=c,g=d.BYTES;a=(0,fk.ensureBytes)("pointHex",a,g),(0,fk.abool)("zip215",b);let h=a.slice(),i=a[g-1];h[g-1]=-129&i;let j=fj.bytesToNumberLE(h),m=b?k:d.ORDER;fj.aInRange("pointHex.y",j,fl,m);let o=l(j*j),{isValid:p,value:q}=n(l(o-fm),l(e*o-f));if(!p)throw Error("Point.fromHex: invalid y coordinate");let r=(q&fm)===fm,s=0!=(128&i);if(!b&&q===fl&&s)throw Error("Point.fromHex: x=0 and x_0=1");return s!==r&&(q=l(-q)),u.fromAffine({x:q,y:j})}static fromPrivateKey(a){return A(a).point}toRawBytes(){let{x:a,y:b}=this.toAffine(),c=fj.numberToBytesLE(b,d.BYTES);return c[c.length-1]|=a&fm?128:0,c}toHex(){return fj.bytesToHex(this.toRawBytes())}}u.BASE=new u(c.Gx,c.Gy,fm,l(c.Gx*c.Gy)),u.ZERO=new u(fl,fm,fm,fl);let{BASE:v,ZERO:w}=u,x=(0,fh.wNAF)(u,8*i);function y(a){return(0,fi.mod)(a,e)}function z(a){return y(fj.bytesToNumberLE(a))}function A(a){a=(0,fk.ensureBytes)("private key",a,i);let b=(0,fk.ensureBytes)("hashed private key",g(a),2*i),c=o(b.slice(0,i)),d=b.slice(i,2*i),e=z(c),f=v.multiply(e),h=f.toRawBytes();return{head:c,prefix:d,scalar:e,point:f,pointBytes:h}}function B(a=new Uint8Array,...b){return z(g(p(fj.concatBytes(...b),(0,fk.ensureBytes)("context",a),!!f)))}return v._setWindowSize(8),{CURVE:c,getPublicKey:function(a){return A(a).pointBytes},sign:function(a,b,c={}){a=(0,fk.ensureBytes)("message",a),f&&(a=f(a));let{prefix:g,scalar:h,pointBytes:j}=A(b),k=B(c.context,g,a),l=v.multiply(k).toRawBytes(),m=y(k+B(c.context,l,j,a)*h);fj.aInRange("signature.s",m,fl,e);let n=fj.concatBytes(l,fj.numberToBytesLE(m,d.BYTES));return(0,fk.ensureBytes)("result",n,2*i)},verify:function(a,b,c,e=fp){let g,h,i,{context:j,zip215:k}=e,l=d.BYTES;a=(0,fk.ensureBytes)("signature",a,2*l),b=(0,fk.ensureBytes)("message",b),void 0!==k&&(0,fk.abool)("zip215",k),f&&(b=f(b));let m=fj.bytesToNumberLE(a.slice(l,2*l));try{g=u.fromHex(c,k),h=u.fromHex(a.slice(0,l),k),i=v.multiplyUnsafe(m)}catch(a){return!1}if(!k&&g.isSmallOrder())return!1;let n=B(j,h.toRawBytes(),g.toRawBytes(),b);return h.add(g.multiplyUnsafe(n)).subtract(i).clearCofactor().equals(u.ZERO)},ExtendedPoint:u,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>h(d.BYTES),precompute:(a=8,b=u.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}};let fh=ey,fi=ez,fj=eA,fk=eA,fl=BigInt(0),fm=BigInt(1),fn=BigInt(2),fo=BigInt(8),fp={zip215:!0};var fq={};Object.defineProperty(fq,"__esModule",{value:!0}),fq.expand_message_xmd=fu,fq.expand_message_xof=fv,fq.hash_to_field=fw,fq.isogenyMap=function(a,b){let c=b.map(a=>Array.from(a).reverse());return(b,d)=>{let[e,f,g,h]=c.map(c=>c.reduce((c,d)=>a.add(a.mul(c,b),d)));return b=a.div(e,f),d=a.mul(d,a.div(g,h)),{x:b,y:d}}},fq.createHasher=function(a,b,c){if("function"!=typeof b)throw Error("mapToCurve() must be defined");return{hashToCurve(d,e){let f=fw(d,2,{...c,DST:c.DST,...e}),g=a.fromAffine(b(f[0])),h=a.fromAffine(b(f[1])),i=g.add(h).clearCofactor();return i.assertValidity(),i},encodeToCurve(d,e){let f=fw(d,1,{...c,DST:c.encodeDST,...e}),g=a.fromAffine(b(f[0])).clearCofactor();return g.assertValidity(),g},mapToCurve(c){if(!Array.isArray(c))throw Error("mapToCurve: expected array of bigints");for(let a of c)if("bigint"!=typeof a)throw Error(`mapToCurve: expected array of bigints, got ${a} in array`);let d=a.fromAffine(b(c)).clearCofactor();return d.assertValidity(),d}}};let fr=eA.bytesToNumberBE;function fs(a,b){if(ft(a),ft(b),a<0||a>=1<<8*b)throw Error(`bad I2OSP call: value=${a} length=${b}`);let c=Array.from({length:b}).fill(0);for(let d=b-1;d>=0;d--)c[d]=255&a,a>>>=8;return new Uint8Array(c)}function ft(a){if(!Number.isSafeInteger(a))throw Error("number expected")}function fu(a,b,c,d){(0,eA.abytes)(a),(0,eA.abytes)(b),ft(c),b.length>255&&(b=d((0,eA.concatBytes)((0,eA.utf8ToBytes)("H2C-OVERSIZE-DST-"),b)));let{outputLen:e,blockLen:f}=d,g=Math.ceil(c/e);if(c>65535||g>255)throw Error("expand_message_xmd: invalid lenInBytes");let h=(0,eA.concatBytes)(b,fs(b.length,1)),i=fs(0,f),j=fs(c,2),k=Array(g),l=d((0,eA.concatBytes)(i,a,j,fs(0,1),h));k[0]=d((0,eA.concatBytes)(l,fs(1,1),h));for(let a=1;a<=g;a++){let b=[function(a,b){let c=new Uint8Array(a.length);for(let d=0;d<a.length;d++)c[d]=a[d]^b[d];return c}(l,k[a-1]),fs(a+1,1),h];k[a]=d((0,eA.concatBytes)(...b))}return(0,eA.concatBytes)(...k).slice(0,c)}function fv(a,b,c,d,e){if((0,eA.abytes)(a),(0,eA.abytes)(b),ft(c),b.length>255){let a=Math.ceil(2*d/8);b=e.create({dkLen:a}).update((0,eA.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(b).digest()}if(c>65535||b.length>255)throw Error("expand_message_xof: invalid lenInBytes");return e.create({dkLen:c}).update(a).update(fs(c,2)).update(b).update(fs(b.length,1)).digest()}function fw(a,b,c){let d;(0,eA.validateObject)(c,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:e,k:f,m:g,hash:h,expand:i,DST:j}=c;(0,eA.abytes)(a),ft(b);let k="string"==typeof j?(0,eA.utf8ToBytes)(j):j,l=Math.ceil((e.toString(2).length+f)/8),m=b*g*l;if("xmd"===i)d=fu(a,k,m,h);else if("xof"===i)d=fv(a,k,m,f,h);else{if("_internal_pass"!==i)throw Error('expand must be "xmd" or "xof"');d=a}let n=Array(b);for(let a=0;a<b;a++){let b=Array(g);for(let c=0;c<g;c++){let f=l*(c+a*g),h=d.subarray(f,f+l);b[c]=(0,ez.mod)(fr(h),e)}n[a]=b}return n}var fx={};Object.defineProperty(fx,"__esModule",{value:!0}),fx.montgomery=function(a){let b=((0,fz.validateObject)(a,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...a})),{P:c}=b,d=a=>(0,fy.mod)(a,c),e=b.montgomeryBits,f=Math.ceil(e/8),g=b.nByteLength,h=b.adjustScalarBytes||(a=>a),i=b.powPminus2||(a=>(0,fy.pow)(a,c-BigInt(2),c));function j(a,b,c){let e=d(a*(b-c));return[b=d(b-e),c=d(c+e)]}let k=(b.a-BigInt(2))/BigInt(4);function l(a){return(0,fz.numberToBytesLE)(d(a),f)}function m(a,b){let m,n=function(a,b){(0,fz.aInRange)("u",a,fA,c),(0,fz.aInRange)("scalar",b,fA,c);let f,g=fB,h=fA,l=a,m=fB,n=fA;for(let c=BigInt(e-1);c>=fA;c--){let e=b>>c&fB;n^=e,g=(f=j(n,g,l))[0],l=f[1],h=(f=j(n,h,m))[0],m=f[1],n=e;let i=g+h,o=d(i*i),p=g-h,q=d(p*p),r=o-q,s=l+m,t=d((l-m)*i),u=d(s*p),v=t+u,w=t-u;l=d(v*v),m=d(a*d(w*w)),g=d(o*q),h=d(r*(o+d(k*r)))}return g=(f=j(n,g,l))[0],l=f[1],h=(f=j(n,h,m))[0],m=f[1],d(g*i(h))}((m=(0,fz.ensureBytes)("u coordinate",b,f),32===g&&(m[31]&=127),(0,fz.bytesToNumberLE)(m)),function(a){let b=(0,fz.ensureBytes)("scalar",a),c=b.length;if(c!==f&&c!==g)throw Error(`Expected ${f} or ${g} bytes, got ${c}`);return(0,fz.bytesToNumberLE)(h(b))}(a));if(n===fA)throw Error("Invalid private or public key received");return l(n)}let n=l(b.Gu);function o(a){return m(a,n)}return{scalarMult:m,scalarMultBase:o,getSharedSecret:(a,b)=>m(a,b),getPublicKey:a=>o(a),utils:{randomPrivateKey:()=>b.randomBytes(b.nByteLength)},GuBytes:n}};let fy=ez,fz=eA,fA=BigInt(0),fB=BigInt(1);!function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.hash_to_ristretto255=a.hashToRistretto255=a.RistrettoPoint=a.encodeToCurve=a.hashToCurve=a.edwardsToMontgomery=a.x25519=a.ed25519ph=a.ed25519ctx=a.ed25519=a.ED25519_TORSION_SUBGROUP=void 0,a.edwardsToMontgomeryPub=p,a.edwardsToMontgomeryPriv=function(a){let b=n.hash(a.subarray(0,32));return n.adjustScalarBytes(b).subarray(0,32)};let b=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),c=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),d=BigInt(0),e=BigInt(1),f=BigInt(2),g=BigInt(3),h=BigInt(5),i=BigInt(8);function j(a){let c=BigInt(10),d=BigInt(20),g=BigInt(40),i=BigInt(80),j=a*a%b*a%b,k=(0,ez.pow2)(j,f,b)*j%b,l=(0,ez.pow2)(k,e,b)*a%b,m=(0,ez.pow2)(l,h,b)*l%b,n=(0,ez.pow2)(m,c,b)*m%b,o=(0,ez.pow2)(n,d,b)*n%b,p=(0,ez.pow2)(o,g,b)*o%b,q=(0,ez.pow2)(p,i,b)*p%b,r=(0,ez.pow2)(q,i,b)*p%b,s=(0,ez.pow2)(r,c,b)*m%b;return{pow_p_5_8:(0,ez.pow2)(s,f,b)*a%b,b2:j}}function k(a){return a[0]&=248,a[31]&=127,a[31]|=64,a}function l(a,d){let e=(0,ez.mod)(d*d*d,b),f=j(a*(0,ez.mod)(e*e*d,b)).pow_p_5_8,g=(0,ez.mod)(a*e*f,b),h=(0,ez.mod)(d*g*g,b),i=g,k=(0,ez.mod)(g*c,b),l=h===a,m=h===(0,ez.mod)(-a,b),n=h===(0,ez.mod)(-a*c,b);return l&&(g=i),(m||n)&&(g=k),(0,ez.isNegativeLE)(g,b)&&(g=(0,ez.mod)(-g,b)),{isValid:l||m,value:g}}a.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];let m=(0,ez.Field)(b,void 0,!0),n={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:m,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:i,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:dO.sha512,randomBytes:dY.randomBytes,adjustScalarBytes:k,uvRatio:l};function o(a,b,c){if(b.length>255)throw Error("Context is too big");return(0,dY.concatBytes)((0,dY.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([+!!c,b.length]),b,a)}function p(b){let{y:c}=a.ed25519.ExtendedPoint.fromHex(b),d=BigInt(1);return m.toBytes(m.create((d+c)*m.inv(d-c)))}a.ed25519=(0,ex.twistedEdwards)(n),a.ed25519ctx=(0,ex.twistedEdwards)({...n,domain:o}),a.ed25519ph=(0,ex.twistedEdwards)(Object.assign({},n,{domain:o,prehash:dO.sha512})),a.x25519=(0,fx.montgomery)({P:b,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:a=>{let{pow_p_5_8:c,b2:d}=j(a);return(0,ez.mod)((0,ez.pow2)(c,g,b)*d,b)},adjustScalarBytes:k,randomBytes:dY.randomBytes}),a.edwardsToMontgomery=p;let q=(m.ORDER+g)/i,r=m.pow(f,q),s=m.sqrt(m.neg(m.ONE)),t=(0,ez.FpSqrtEven)(m,m.neg(BigInt(486664))),u=(0,fq.createHasher)(a.ed25519.ExtendedPoint,a=>(function(a){let b,c,d,g,j,k,l,n,o,p,q,u,v,w,x,y,z,A,B,C,D,E,F,{xMn:G,xMd:H,yMn:I,yMd:J}=(b=(m.ORDER-h)/i,c=BigInt(486662),d=m.sqr(a),d=m.mul(d,f),g=m.add(d,m.ONE),j=m.neg(c),k=m.sqr(g),l=m.mul(k,g),n=m.mul(d,c),n=m.mul(n,j),n=m.add(n,k),n=m.mul(n,j),o=m.sqr(l),k=m.sqr(o),o=m.mul(o,l),o=m.mul(o,n),k=m.mul(k,o),p=m.pow(k,b),p=m.mul(p,o),q=m.mul(p,s),k=m.sqr(p),k=m.mul(k,l),u=m.eql(k,n),v=m.cmov(q,p,u),w=m.mul(j,d),x=m.mul(p,a),x=m.mul(x,r),y=m.mul(x,s),z=m.mul(n,d),k=m.sqr(x),k=m.mul(k,l),A=m.eql(k,z),B=m.cmov(y,x,A),k=m.sqr(v),k=m.mul(k,l),C=m.eql(k,n),D=m.cmov(w,j,C),E=m.cmov(B,v,C),F=m.isOdd(E),{xMn:D,xMd:g,yMn:E=m.cmov(E,m.neg(E),C!==F),yMd:e}),K=m.mul(G,J);K=m.mul(K,t);let L=m.mul(H,I),M=m.sub(G,H),N=m.add(G,H),O=m.mul(L,N),P=m.eql(O,m.ZERO);K=m.cmov(K,m.ZERO,P),L=m.cmov(L,m.ONE,P),M=m.cmov(M,m.ONE,P),N=m.cmov(N,m.ONE,P);let Q=m.invertBatch([L,N]);return{x:m.mul(K,Q[0]),y:m.mul(M,Q[1])}})(a[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:m.ORDER,m:1,k:128,expand:"xmd",hash:dO.sha512});function v(a){if(!(a instanceof D))throw Error("RistrettoPoint expected")}a.hashToCurve=u.hashToCurve,a.encodeToCurve=u.encodeToCurve;let w=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),x=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),y=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),z=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),A=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),B=b=>a.ed25519.CURVE.Fp.create((0,eA.bytesToNumberLE)(b)&A);function C(b){let{d:d}=a.ed25519.CURVE,f=a.ed25519.CURVE.Fp.ORDER,g=a.ed25519.CURVE.Fp.create,h=g(c*b*b),i=g((h+e)*y),j=BigInt(-1),k=g((j-d*h)*g(h+d)),{isValid:m,value:n}=l(i,k),o=g(n*b);(0,ez.isNegativeLE)(o,f)||(o=g(-o)),m||(n=o),m||(j=h);let p=g(j*(h-e)*z-k),q=n*n,r=g((n+n)*k),s=g(p*w),t=g(e-q),u=g(e+q);return new a.ed25519.ExtendedPoint(g(r*u),g(t*s),g(s*u),g(r*t))}class D{constructor(a){this.ep=a}static fromAffine(b){return new D(a.ed25519.ExtendedPoint.fromAffine(b))}static hashToCurve(a){let b=C(B((a=(0,eA.ensureBytes)("ristrettoHash",a,64)).slice(0,32))),c=C(B(a.slice(32,64)));return new D(b.add(c))}static fromHex(b){b=(0,eA.ensureBytes)("ristrettoHex",b,32);let{a:c,d:f}=a.ed25519.CURVE,g=a.ed25519.CURVE.Fp.ORDER,h=a.ed25519.CURVE.Fp.create,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",j=B(b);if(!(0,eA.equalBytes)((0,eA.numberToBytesLE)(j,32),b)||(0,ez.isNegativeLE)(j,g))throw Error(i);let k=h(j*j),m=h(e+c*k),n=h(e-c*k),o=h(m*m),p=h(n*n),q=h(c*f*o-p),{isValid:r,value:s}=l(e,h(q*p)),t=h(s*n),u=h(s*t*q),v=h((j+j)*t);(0,ez.isNegativeLE)(v,g)&&(v=h(-v));let w=h(m*u),x=h(v*w);if(!r||(0,ez.isNegativeLE)(x,g)||w===d)throw Error(i);return new D(new a.ed25519.ExtendedPoint(v,w,e,x))}toRawBytes(){let b,{ex:d,ey:f,ez:g,et:h}=this.ep,i=a.ed25519.CURVE.Fp.ORDER,j=a.ed25519.CURVE.Fp.create,k=j(j(g+f)*j(g-f)),m=j(d*f),n=j(m*m),{value:o}=l(e,j(k*n)),p=j(o*k),q=j(o*m),r=j(p*q*h);if((0,ez.isNegativeLE)(h*r,i)){let a=j(f*c),e=j(d*c);d=a,f=e,b=j(p*x)}else b=q;(0,ez.isNegativeLE)(d*r,i)&&(f=j(-f));let s=j((g-f)*b);return(0,ez.isNegativeLE)(s,i)&&(s=j(-s)),(0,eA.numberToBytesLE)(s,32)}toHex(){return(0,eA.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(b){v(b);let{ex:c,ey:d}=this.ep,{ex:e,ey:f}=b.ep,g=a.ed25519.CURVE.Fp.create,h=g(c*f)===g(d*e),i=g(d*f)===g(c*e);return h||i}add(a){return v(a),new D(this.ep.add(a.ep))}subtract(a){return v(a),new D(this.ep.subtract(a.ep))}multiply(a){return new D(this.ep.multiply(a))}multiplyUnsafe(a){return new D(this.ep.multiplyUnsafe(a))}double(){return new D(this.ep.double())}negate(){return new D(this.ep.negate())}}D.BASE||(D.BASE=new D(a.ed25519.ExtendedPoint.BASE)),D.ZERO||(D.ZERO=new D(a.ed25519.ExtendedPoint.ZERO)),a.RistrettoPoint=D,a.hashToRistretto255=(a,b)=>{let c=b.DST,d="string"==typeof c?(0,dY.utf8ToBytes)(c):c,e=(0,fq.expand_message_xmd)(a,d,64,dO.sha512);return D.hashToCurve(e)},a.hash_to_ristretto255=a.hashToRistretto255}(dN);var fC={},fD={};Object.defineProperty(fD,"__esModule",{value:!0}),fD.sha224=fD.sha256=fD.SHA256=void 0;let fE=dP,fF=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),fG=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),fH=new Uint32Array(64);class fI extends fE.HashMD{constructor(){super(64,32,8,!1),this.A=0|fG[0],this.B=0|fG[1],this.C=0|fG[2],this.D=0|fG[3],this.E=0|fG[4],this.F=0|fG[5],this.G=0|fG[6],this.H=0|fG[7]}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)fH[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=fH[a-15],c=fH[a-2],d=(0,dY.rotr)(b,7)^(0,dY.rotr)(b,18)^b>>>3,e=(0,dY.rotr)(c,17)^(0,dY.rotr)(c,19)^c>>>10;fH[a]=e+fH[a-7]+d+fH[a-16]|0}let{A:c,B:d,C:e,D:f,E:g,F:h,G:i,H:j}=this;for(let a=0;a<64;a++){let b=j+((0,dY.rotr)(g,6)^(0,dY.rotr)(g,11)^(0,dY.rotr)(g,25))+(0,fE.Chi)(g,h,i)+fF[a]+fH[a]|0,k=((0,dY.rotr)(c,2)^(0,dY.rotr)(c,13)^(0,dY.rotr)(c,22))+(0,fE.Maj)(c,d,e)|0;j=i,i=h,h=g,g=f+b|0,f=e,e=d,d=c,c=b+k|0}c=c+this.A|0,d=d+this.B|0,e=e+this.C|0,f=f+this.D|0,g=g+this.E|0,h=h+this.F|0,i=i+this.G|0,j=j+this.H|0,this.set(c,d,e,f,g,h,i,j)}roundClean(){fH.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}fD.SHA256=fI;class fJ extends fI{constructor(){super(),this.A=-0x3efa6128,this.B=0x367cd507,this.C=0x3070dd17,this.D=-0x8f1a6c7,this.E=-4191439,this.F=0x68581511,this.G=0x64f98fa7,this.H=-0x4105b05c,this.outputLen=28}}fD.sha256=(0,dY.wrapConstructor)(()=>new fI),fD.sha224=(0,dY.wrapConstructor)(()=>new fJ);var fK={},fL={};Object.defineProperty(fL,"__esModule",{value:!0}),fL.hmac=fL.HMAC=void 0;let fM=dY;class fN extends fM.Hash{constructor(a,b){super(),this.finished=!1,this.destroyed=!1,(0,dQ.hash)(a);const c=(0,fM.toBytes)(b);if(this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,e=new Uint8Array(d);e.set(c.length>d?a.create().update(c).digest():c);for(let a=0;a<e.length;a++)e[a]^=54;this.iHash.update(e),this.oHash=a.create();for(let a=0;a<e.length;a++)e[a]^=106;this.oHash.update(e),e.fill(0)}update(a){return(0,dQ.exists)(this),this.iHash.update(a),this}digestInto(a){(0,dQ.exists)(this),(0,dQ.bytes)(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}fL.HMAC=fN,fL.hmac=(a,b,c)=>new fN(a,b).update(c).digest(),fL.hmac.create=(a,b)=>new fN(a,b);var fO={};!function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DER=void 0,a.weierstrassPoints=n,a.weierstrass=function(g){let h,k=(h=(0,b.validateBasic)(g),d.validateObject(h,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...h})),{Fp:l,n:m}=k,o=l.BYTES+1,p=2*l.BYTES+1;function q(a){return c.mod(a,m)}function r(a){return c.invert(a,m)}let{ProjectivePoint:s,normPrivateKeyToScalar:t,weierstrassEquation:u,isWithinCurveOrder:v}=n({...k,toBytes(a,b,c){let f=b.toAffine(),g=l.toBytes(f.x),h=d.concatBytes;return(0,e.abool)("isCompressed",c),c?h(Uint8Array.from([b.hasEvenY()?2:3]),g):h(Uint8Array.from([4]),g,l.toBytes(f.y))},fromBytes(a){let b=a.length,c=a[0],e=a.subarray(1);if(b!==o||2!==c&&3!==c){if(b===p&&4===c)return{x:l.fromBytes(e.subarray(0,l.BYTES)),y:l.fromBytes(e.subarray(l.BYTES,2*l.BYTES))};throw Error(`Point of length ${b} was invalid. Expected ${o} compressed bytes or ${p} uncompressed bytes`)}{let a,b=d.bytesToNumberBE(e);if(!d.inRange(b,j,l.ORDER))throw Error("Point is not on curve");let f=u(b);try{a=l.sqrt(f)}catch(a){throw Error("Point is not on curve"+(a instanceof Error?": "+a.message:""))}return 1==(1&c)!=((a&j)===j)&&(a=l.neg(a)),{x:b,y:a}}}}),w=a=>d.bytesToHex(d.numberToBytesBE(a,k.nByteLength)),x=(a,b,c)=>d.bytesToNumberBE(a.slice(b,c));class y{constructor(a,b,c){this.r=a,this.s=b,this.recovery=c,this.assertValidity()}static fromCompact(a){let b=k.nByteLength;return new y(x(a=(0,e.ensureBytes)("compactSignature",a,2*b),0,b),x(a,b,2*b))}static fromDER(b){let{r:c,s:d}=a.DER.toSig((0,e.ensureBytes)("DER",b));return new y(c,d)}assertValidity(){d.aInRange("r",this.r,j,m),d.aInRange("s",this.s,j,m)}addRecoveryBit(a){return new y(this.r,this.s,a)}recoverPublicKey(a){let{r:b,s:c,recovery:d}=this,f=B((0,e.ensureBytes)("msgHash",a));if(null==d||![0,1,2,3].includes(d))throw Error("recovery id invalid");let g=2===d||3===d?b+k.n:b;if(g>=l.ORDER)throw Error("recovery id 2 or 3 invalid");let h=0==(1&d)?"02":"03",i=s.fromHex(h+w(g)),j=r(g),m=q(-f*j),n=q(c*j),o=s.BASE.multiplyAndAddUnsafe(i,m,n);if(!o)throw Error("point at infinify");return o.assertValidity(),o}hasHighS(){return this.s>m>>j}normalizeS(){return this.hasHighS()?new y(this.r,q(-this.s),this.recovery):this}toDERRawBytes(){return d.hexToBytes(this.toDERHex())}toDERHex(){return a.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return d.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}function z(a){let b=d.isBytes(a),c="string"==typeof a,e=(b||c)&&a.length;return b?e===o||e===p:c?e===2*o||e===2*p:a instanceof s}let A=k.bits2int||function(a){let b=d.bytesToNumberBE(a),c=8*a.length-k.nBitLength;return c>0?b>>BigInt(c):b},B=k.bits2int_modN||function(a){return q(A(a))},C=d.bitMask(k.nBitLength);function D(a){return d.aInRange(`num < 2^${k.nBitLength}`,a,i,C),d.numberToBytesBE(a,k.nByteLength)}let E={lowS:k.lowS,prehash:!1},F={lowS:k.lowS,prehash:!1};return s.BASE._setWindowSize(8),{CURVE:k,getPublicKey:function(a,b=!0){return s.fromPrivateKey(a).toRawBytes(b)},getSharedSecret:function(a,b,c=!0){if(z(a))throw Error("first arg must be private key");if(!z(b))throw Error("second arg must be public key");return s.fromHex(b).multiply(t(a)).toRawBytes(c)},sign:function(a,b,c=E){let{seed:g,k2sig:h}=function(a,b,c=E){if(["recovered","canonical"].some(a=>a in c))throw Error("sign() legacy options not supported");let{hash:g,randomBytes:h}=k,{lowS:n,prehash:o,extraEntropy:p}=c;null==n&&(n=!0),a=(0,e.ensureBytes)("msgHash",a),f(c),o&&(a=(0,e.ensureBytes)("prehashed msgHash",g(a)));let u=B(a),w=t(b),x=[D(w),D(u)];if(null!=p&&!1!==p){let a=!0===p?h(l.BYTES):p;x.push((0,e.ensureBytes)("extraEntropy",a))}return{seed:d.concatBytes(...x),k2sig:function(a){let b=A(a);if(!v(b))return;let c=r(b),d=s.BASE.multiply(b).toAffine(),e=q(d.x);if(e===i)return;let f=q(c*q(u+e*w));if(f===i)return;let g=2*(d.x!==e)|Number(d.y&j),h=f;return n&&f>m>>j&&(h=f>m>>j?q(-f):f,g^=1),new y(e,h,g)}}}(a,b,c);return d.createHmacDrbg(k.hash.outputLen,k.nByteLength,k.hmac)(g,h)},verify:function(b,c,g,h=F){let i,j;if(c=(0,e.ensureBytes)("msgHash",c),g=(0,e.ensureBytes)("publicKey",g),"strict"in h)throw Error("options.strict was renamed to lowS");f(h);let{lowS:l,prehash:m}=h;try{if("string"==typeof b||d.isBytes(b))try{i=y.fromDER(b)}catch(c){if(!(c instanceof a.DER.Err))throw c;i=y.fromCompact(b)}else{if("object"!=typeof b||"bigint"!=typeof b.r||"bigint"!=typeof b.s)throw Error("PARSE");{let{r:a,s:c}=b;i=new y(a,c)}}j=s.fromHex(g)}catch(a){if("PARSE"===a.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&i.hasHighS())return!1;m&&(c=k.hash(c));let{r:n,s:o}=i,p=B(c),t=r(o),u=q(p*t),v=q(n*t),w=s.BASE.multiplyAndAddUnsafe(j,u,v)?.toAffine();return!!w&&q(w.x)===n},ProjectivePoint:s,Signature:y,utils:{isValidPrivateKey(a){try{return t(a),!0}catch(a){return!1}},normPrivateKeyToScalar:t,randomPrivateKey:()=>{let a=c.getMinHashLength(k.n);return c.mapHashToField(k.randomBytes(a),k.n)},precompute:(a=8,b=s.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}},a.SWUFpSqrtRatio=o,a.mapToCurveSimpleSWU=function(a,b){if(c.validateField(a),!a.isValid(b.A)||!a.isValid(b.B)||!a.isValid(b.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let d=o(a,b.Z);if(!a.isOdd)throw Error("Fp.isOdd is not implemented!");return c=>{let e,f,g,h,i,j,k,l;e=a.sqr(c),e=a.mul(e,b.Z),f=a.sqr(e),f=a.add(f,e),g=a.add(f,a.ONE),g=a.mul(g,b.B),h=a.cmov(b.Z,a.neg(f),!a.eql(f,a.ZERO)),h=a.mul(h,b.A),f=a.sqr(g),j=a.sqr(h),i=a.mul(j,b.A),f=a.add(f,i),f=a.mul(f,g),j=a.mul(j,h),i=a.mul(j,b.B),f=a.add(f,i),k=a.mul(e,g);let{isValid:m,value:n}=d(f,j);l=a.mul(e,c),l=a.mul(l,n),k=a.cmov(k,g,m),l=a.cmov(l,n,m);let o=a.isOdd(c)===a.isOdd(l);return l=a.cmov(a.neg(l),l,o),{x:k=a.div(k,h),y:l}}};let b=ey,c=ez,d=eA,e=eA;function f(a){void 0!==a.lowS&&(0,e.abool)("lowS",a.lowS),void 0!==a.prehash&&(0,e.abool)("prehash",a.prehash)}let{bytesToNumberBE:g,hexToBytes:h}=d;a.DER={Err:class extends Error{constructor(a=""){super(a)}},_tlv:{encode:(b,c)=>{let{Err:e}=a.DER;if(b<0||b>256)throw new e("tlv.encode: wrong tag");if(1&c.length)throw new e("tlv.encode: unpadded data");let f=c.length/2,g=d.numberToHexUnpadded(f);if(g.length/2&128)throw new e("tlv.encode: long form length too big");let h=f>127?d.numberToHexUnpadded(g.length/2|128):"";return`${d.numberToHexUnpadded(b)}${h}${g}${c}`},decode(b,c){let{Err:d}=a.DER,e=0;if(b<0||b>256)throw new d("tlv.encode: wrong tag");if(c.length<2||c[e++]!==b)throw new d("tlv.decode: wrong tlv");let f=c[e++],g=0;if(128&f){let a=127&f;if(!a)throw new d("tlv.decode(long): indefinite length not supported");if(a>4)throw new d("tlv.decode(long): byte length is too big");let b=c.subarray(e,e+a);if(b.length!==a)throw new d("tlv.decode: length bytes not complete");if(0===b[0])throw new d("tlv.decode(long): zero leftmost byte");for(let a of b)g=g<<8|a;if(e+=a,g<128)throw new d("tlv.decode(long): not minimal encoding")}else g=f;let h=c.subarray(e,e+g);if(h.length!==g)throw new d("tlv.decode: wrong value length");return{v:h,l:c.subarray(e+g)}}},_int:{encode(b){let{Err:c}=a.DER;if(b<i)throw new c("integer: negative integers are not allowed");let e=d.numberToHexUnpadded(b);if(8&Number.parseInt(e[0],16)&&(e="00"+e),1&e.length)throw new c("unexpected assertion");return e},decode(b){let{Err:c}=a.DER;if(128&b[0])throw new c("Invalid signature integer: negative");if(0===b[0]&&!(128&b[1]))throw new c("Invalid signature integer: unnecessary leading zero");return g(b)}},toSig(b){let{Err:c,_int:e,_tlv:f}=a.DER,g="string"==typeof b?h(b):b;d.abytes(g);let{v:i,l:j}=f.decode(48,g);if(j.length)throw new c("Invalid signature: left bytes after parsing");let{v:k,l:l}=f.decode(2,i),{v:m,l:n}=f.decode(2,l);if(n.length)throw new c("Invalid signature: left bytes after parsing");return{r:e.decode(k),s:e.decode(m)}},hexFromSig(b){let{_tlv:c,_int:d}=a.DER,e=`${c.encode(2,d.encode(b.r))}${c.encode(2,d.encode(b.s))}`;return c.encode(48,e)}};let i=BigInt(0),j=BigInt(1),k=BigInt(2),l=BigInt(3),m=BigInt(4);function n(a){let f=function(a){let c=(0,b.validateBasic)(a);d.validateObject(c,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:e,Fp:f,a:g}=c;if(e){if(!f.eql(g,f.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof e||"bigint"!=typeof e.beta||"function"!=typeof e.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...c})}(a),{Fp:g}=f,h=c.Field(f.n,f.nBitLength),k=f.toBytes||((a,b,c)=>{let e=b.toAffine();return d.concatBytes(Uint8Array.from([4]),g.toBytes(e.x),g.toBytes(e.y))}),m=f.fromBytes||(a=>{let b=a.subarray(1);return{x:g.fromBytes(b.subarray(0,g.BYTES)),y:g.fromBytes(b.subarray(g.BYTES,2*g.BYTES))}});function n(a){let{a:b,b:c}=f,d=g.sqr(a),e=g.mul(d,a);return g.add(g.add(e,g.mul(a,b)),c)}if(!g.eql(g.sqr(f.Gy),n(f.Gx)))throw Error("bad generator point: equation left != right");function o(a){let b,{allowedPrivateKeyLengths:g,nByteLength:h,wrapPrivateKey:i,n:k}=f;if(g&&"bigint"!=typeof a){if(d.isBytes(a)&&(a=d.bytesToHex(a)),"string"!=typeof a||!g.includes(a.length))throw Error("Invalid key");a=a.padStart(2*h,"0")}try{b="bigint"==typeof a?a:d.bytesToNumberBE((0,e.ensureBytes)("private key",a,h))}catch(b){throw Error(`private key must be ${h} bytes, hex or bigint, not ${typeof a}`)}return i&&(b=c.mod(b,k)),d.aInRange("private key",b,j,k),b}function p(a){if(!(a instanceof s))throw Error("ProjectivePoint expected")}let q=(0,e.memoized)((a,b)=>{let{px:c,py:d,pz:e}=a;if(g.eql(e,g.ONE))return{x:c,y:d};let f=a.is0();null==b&&(b=f?g.ONE:g.inv(e));let h=g.mul(c,b),i=g.mul(d,b),j=g.mul(e,b);if(f)return{x:g.ZERO,y:g.ZERO};if(!g.eql(j,g.ONE))throw Error("invZ was invalid");return{x:h,y:i}}),r=(0,e.memoized)(a=>{if(a.is0()){if(f.allowInfinityPoint&&!g.is0(a.py))return;throw Error("bad point: ZERO")}let{x:b,y:c}=a.toAffine();if(!g.isValid(b)||!g.isValid(c))throw Error("bad point: x or y not FE");let d=g.sqr(c),e=n(b);if(!g.eql(d,e))throw Error("bad point: equation left != right");if(!a.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class s{constructor(a,b,c){if(this.px=a,this.py=b,this.pz=c,null==a||!g.isValid(a))throw Error("x required");if(null==b||!g.isValid(b))throw Error("y required");if(null==c||!g.isValid(c))throw Error("z required");Object.freeze(this)}static fromAffine(a){let{x:b,y:c}=a||{};if(!a||!g.isValid(b)||!g.isValid(c))throw Error("invalid affine point");if(a instanceof s)throw Error("projective point not allowed");let d=a=>g.eql(a,g.ZERO);return d(b)&&d(c)?s.ZERO:new s(b,c,g.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(a){let b=g.invertBatch(a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(s.fromAffine)}static fromHex(a){let b=s.fromAffine(m((0,e.ensureBytes)("pointHex",a)));return b.assertValidity(),b}static fromPrivateKey(a){return s.BASE.multiply(o(a))}static msm(a,c){return(0,b.pippenger)(s,h,a,c)}_setWindowSize(a){u.setWindowSize(this,a)}assertValidity(){r(this)}hasEvenY(){let{y:a}=this.toAffine();if(g.isOdd)return!g.isOdd(a);throw Error("Field doesn't support isOdd")}equals(a){p(a);let{px:b,py:c,pz:d}=this,{px:e,py:f,pz:h}=a,i=g.eql(g.mul(b,h),g.mul(e,d)),j=g.eql(g.mul(c,h),g.mul(f,d));return i&&j}negate(){return new s(this.px,g.neg(this.py),this.pz)}double(){let{a:a,b:b}=f,c=g.mul(b,l),{px:d,py:e,pz:h}=this,i=g.ZERO,j=g.ZERO,k=g.ZERO,m=g.mul(d,d),n=g.mul(e,e),o=g.mul(h,h),p=g.mul(d,e);return p=g.add(p,p),k=g.mul(d,h),k=g.add(k,k),i=g.mul(a,k),j=g.mul(c,o),j=g.add(i,j),i=g.sub(n,j),j=g.add(n,j),j=g.mul(i,j),i=g.mul(p,i),k=g.mul(c,k),o=g.mul(a,o),p=g.sub(m,o),p=g.mul(a,p),p=g.add(p,k),k=g.add(m,m),m=g.add(k,m),m=g.add(m,o),m=g.mul(m,p),j=g.add(j,m),o=g.mul(e,h),o=g.add(o,o),m=g.mul(o,p),i=g.sub(i,m),k=g.mul(o,n),k=g.add(k,k),new s(i,j,k=g.add(k,k))}add(a){p(a);let{px:b,py:c,pz:d}=this,{px:e,py:h,pz:i}=a,j=g.ZERO,k=g.ZERO,m=g.ZERO,n=f.a,o=g.mul(f.b,l),q=g.mul(b,e),r=g.mul(c,h),t=g.mul(d,i),u=g.add(b,c),v=g.add(e,h);u=g.mul(u,v),v=g.add(q,r),u=g.sub(u,v),v=g.add(b,d);let w=g.add(e,i);return v=g.mul(v,w),w=g.add(q,t),v=g.sub(v,w),w=g.add(c,d),j=g.add(h,i),w=g.mul(w,j),j=g.add(r,t),w=g.sub(w,j),m=g.mul(n,v),j=g.mul(o,t),m=g.add(j,m),j=g.sub(r,m),m=g.add(r,m),k=g.mul(j,m),r=g.add(q,q),r=g.add(r,q),t=g.mul(n,t),v=g.mul(o,v),r=g.add(r,t),t=g.sub(q,t),t=g.mul(n,t),v=g.add(v,t),q=g.mul(r,v),k=g.add(k,q),q=g.mul(w,v),j=g.mul(u,j),j=g.sub(j,q),q=g.mul(u,r),m=g.mul(w,m),new s(j,k,m=g.add(m,q))}subtract(a){return this.add(a.negate())}is0(){return this.equals(s.ZERO)}wNAF(a){return u.wNAFCached(this,a,s.normalizeZ)}multiplyUnsafe(a){d.aInRange("scalar",a,i,f.n);let b=s.ZERO;if(a===i)return b;if(a===j)return this;let{endo:c}=f;if(!c)return u.unsafeLadder(this,a);let{k1neg:e,k1:h,k2neg:k,k2:l}=c.splitScalar(a),m=b,n=b,o=this;for(;h>i||l>i;)h&j&&(m=m.add(o)),l&j&&(n=n.add(o)),o=o.double(),h>>=j,l>>=j;return e&&(m=m.negate()),k&&(n=n.negate()),n=new s(g.mul(n.px,c.beta),n.py,n.pz),m.add(n)}multiply(a){let b,c,{endo:e,n:h}=f;if(d.aInRange("scalar",a,j,h),e){let{k1neg:d,k1:f,k2neg:h,k2:i}=e.splitScalar(a),{p:j,f:k}=this.wNAF(f),{p:l,f:m}=this.wNAF(i);j=u.constTimeNegate(d,j),l=u.constTimeNegate(h,l),l=new s(g.mul(l.px,e.beta),l.py,l.pz),b=j.add(l),c=k.add(m)}else{let{p:d,f:e}=this.wNAF(a);b=d,c=e}return s.normalizeZ([b,c])[0]}multiplyAndAddUnsafe(a,b,c){let d=s.BASE,e=(a,b)=>b!==i&&b!==j&&a.equals(d)?a.multiply(b):a.multiplyUnsafe(b),f=e(this,b).add(e(a,c));return f.is0()?void 0:f}toAffine(a){return q(this,a)}isTorsionFree(){let{h:a,isTorsionFree:b}=f;if(a===j)return!0;if(b)return b(s,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:a,clearCofactor:b}=f;return a===j?this:b?b(s,this):this.multiplyUnsafe(f.h)}toRawBytes(a=!0){return(0,e.abool)("isCompressed",a),this.assertValidity(),k(s,this,a)}toHex(a=!0){return(0,e.abool)("isCompressed",a),d.bytesToHex(this.toRawBytes(a))}}s.BASE=new s(f.Gx,f.Gy,g.ONE),s.ZERO=new s(g.ZERO,g.ONE,g.ZERO);let t=f.nBitLength,u=(0,b.wNAF)(s,f.endo?Math.ceil(t/2):t);return{CURVE:f,ProjectivePoint:s,normPrivateKeyToScalar:o,weierstrassEquation:n,isWithinCurveOrder:function(a){return d.inRange(a,j,f.n)}}}function o(a,b){let c=a.ORDER,d=i;for(let a=c-j;a%k===i;a/=k)d+=j;let e=d,f=k<<e-j-j,g=f*k,h=(c-j)/g,n=(h-j)/k,o=g-j,p=a.pow(b,h),q=a.pow(b,(h+j)/k),r=(b,c)=>{let d=p,g=a.pow(c,o),h=a.sqr(g);h=a.mul(h,c);let i=a.mul(b,h);i=a.pow(i,n),i=a.mul(i,g),g=a.mul(i,c),h=a.mul(i,b);let l=a.mul(h,g);i=a.pow(l,f);let m=a.eql(i,a.ONE);g=a.mul(h,q),i=a.mul(l,d),h=a.cmov(g,h,m),l=a.cmov(i,l,m);for(let b=e;b>j;b--){let c=b-k;c=k<<c-j;let e=a.pow(l,c),f=a.eql(e,a.ONE);g=a.mul(h,d),d=a.mul(d,d),e=a.mul(l,d),h=a.cmov(g,h,f),l=a.cmov(e,l,f)}return{isValid:m,value:h}};if(a.ORDER%m===l){let c=(a.ORDER-l)/m,d=a.sqrt(a.neg(b));r=(b,e)=>{let f=a.sqr(e),g=a.mul(b,e);f=a.mul(f,g);let h=a.pow(f,c);h=a.mul(h,g);let i=a.mul(h,d),j=a.mul(a.sqr(h),e),k=a.eql(j,b);return{isValid:k,value:a.cmov(i,h,k)}}}return r}}(fO),Object.defineProperty(fK,"__esModule",{value:!0}),fK.getHash=fQ,fK.createCurve=function(a,b){let c=b=>(0,fP.weierstrass)({...a,...fQ(b)});return Object.freeze({...c(b),create:c})};let fP=fO;function fQ(a){return{hash:a,hmac:(b,...c)=>(0,fL.hmac)(a,b,(0,dY.concatBytes)(...c)),randomBytes:dY.randomBytes}}!function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.encodeToCurve=a.hashToCurve=a.schnorr=a.secp256k1=void 0;let b=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),d=BigInt(1),e=BigInt(2),f=(a,b)=>(a+b/e)/b;function g(a){let c=BigInt(3),d=BigInt(6),f=BigInt(11),g=BigInt(22),i=BigInt(23),j=BigInt(44),k=BigInt(88),l=a*a*a%b,m=l*l*a%b,n=(0,ez.pow2)(m,c,b)*m%b,o=(0,ez.pow2)(n,c,b)*m%b,p=(0,ez.pow2)(o,e,b)*l%b,q=(0,ez.pow2)(p,f,b)*p%b,r=(0,ez.pow2)(q,g,b)*q%b,s=(0,ez.pow2)(r,j,b)*r%b,t=(0,ez.pow2)(s,k,b)*s%b,u=(0,ez.pow2)(t,j,b)*r%b,v=(0,ez.pow2)(u,c,b)*m%b,w=(0,ez.pow2)(v,i,b)*q%b,x=(0,ez.pow2)(w,d,b)*l%b,y=(0,ez.pow2)(x,e,b);if(!h.eql(h.sqr(y),a))throw Error("Cannot find square root");return y}let h=(0,ez.Field)(b,void 0,void 0,{sqrt:g});a.secp256k1=(0,fK.createCurve)({a:BigInt(0),b:BigInt(7),Fp:h,n:c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{let b=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),e=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),g=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),h=BigInt("0x100000000000000000000000000000000"),i=f(b*a,c),j=f(-e*a,c),k=(0,ez.mod)(a-i*b-j*g,c),l=(0,ez.mod)(-i*e-j*b,c),m=k>h,n=l>h;if(m&&(k=c-k),n&&(l=c-l),k>h||l>h)throw Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:m,k1:k,k2neg:n,k2:l}}}},fD.sha256);let i=BigInt(0),j={};function k(a,...b){let c=j[a];if(void 0===c){let b=(0,fD.sha256)(Uint8Array.from(a,a=>a.charCodeAt(0)));c=(0,eA.concatBytes)(b,b),j[a]=c}return(0,fD.sha256)((0,eA.concatBytes)(c,...b))}let l=a=>a.toRawBytes(!0).slice(1),m=a=>(0,eA.numberToBytesBE)(a,32),n=a=>(0,ez.mod)(a,b),o=a=>(0,ez.mod)(a,c),p=a.secp256k1.ProjectivePoint;function q(b){let c=a.secp256k1.utils.normPrivateKeyToScalar(b),d=p.fromPrivateKey(c);return{scalar:d.hasEvenY()?c:o(-c),bytes:l(d)}}function r(a){(0,eA.aInRange)("x",a,d,b);let c=n(a*a),f=g(n(c*a+BigInt(7)));f%e!==i&&(f=n(-f));let h=new p(a,f,d);return h.assertValidity(),h}let s=eA.bytesToNumberBE;function t(...a){return o(s(k("BIP0340/challenge",...a)))}function u(a,e,f){let g=(0,eA.ensureBytes)("signature",a,64),h=(0,eA.ensureBytes)("message",e),i=(0,eA.ensureBytes)("publicKey",f,32);try{let a,e=r(s(i)),f=s(g.subarray(0,32));if(!(0,eA.inRange)(f,d,b))return!1;let j=s(g.subarray(32,64));if(!(0,eA.inRange)(j,d,c))return!1;let k=t(m(f),l(e),h),n=(a=o(-k),p.BASE.multiplyAndAddUnsafe(e,j,a));return!(!n||!n.hasEvenY()||n.toAffine().x!==f)}catch(a){return!1}}a.schnorr={getPublicKey:function(a){return q(a).bytes},sign:function(a,b,c=(0,dY.randomBytes)(32)){let d=(0,eA.ensureBytes)("message",a),{bytes:e,scalar:f}=q(b),g=m(f^s(k("BIP0340/aux",(0,eA.ensureBytes)("auxRand",c,32)))),h=o(s(k("BIP0340/nonce",g,e,d)));if(h===i)throw Error("sign failed: k is zero");let{bytes:j,scalar:l}=q(h),n=t(j,e,d),p=new Uint8Array(64);if(p.set(j,0),p.set(m(o(l+n*f)),32),!u(p,d,e))throw Error("sign: Invalid signature produced");return p},verify:u,utils:{randomPrivateKey:a.secp256k1.utils.randomPrivateKey,lift_x:r,pointToBytes:l,numberToBytesBE:eA.numberToBytesBE,bytesToNumberBE:eA.bytesToNumberBE,taggedHash:k,mod:ez.mod}};let v=(0,fq.isogenyMap)(h,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(a=>a.map(a=>BigInt(a)))),w=(0,fO.mapToCurveSimpleSWU)(h,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:h.create(BigInt("-11"))}),x=(0,fq.createHasher)(a.secp256k1.ProjectivePoint,a=>{let{x:b,y:c}=w(h.create(a[0]));return v(b,c)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:h.ORDER,m:1,k:128,expand:"xmd",hash:fD.sha256});a.hashToCurve=x.hashToCurve,a.encodeToCurve=x.encodeToCurve}(fC);var fR={};Object.defineProperty(fR,"__esModule",{value:!0}),fR.decodeHex=fR.remove0x=void 0,fR.remove0x=function(a){return a.startsWith("0x")||a.startsWith("0X")?a.slice(2):a},fR.decodeHex=function(a){return(0,dw.hexToBytes)((0,fR.remove0x)(a))},function(a){function b(a,b,c,d){if("secp256k1"===a)return b(fC.secp256k1);if("x25519"===a)return c(dN.x25519);if("ed25519"===a)return d(dN.ed25519);throw Error("Not implemented")}Object.defineProperty(a,"__esModule",{value:!0}),a.hexToPublicKey=a.convertPublicKeyFormat=a.getSharedPoint=a.getPublicKey=a.isValidPrivateKey=a.getValidSecret=void 0,a.getValidSecret=function(){var b;do b=(0,dL.randomBytes)(dG.SECRET_KEY_LENGTH);while(!(0,a.isValidPrivateKey)(b))return b},a.isValidPrivateKey=function(a){return b((0,dF.ellipticCurve)(),function(b){return b.utils.isValidPrivateKey(a)},function(){return!0},function(){return!0})},a.getPublicKey=function(a){return b((0,dF.ellipticCurve)(),function(b){return b.getPublicKey(a)},function(b){return b.getPublicKey(a)},function(b){return b.getPublicKey(a)})},a.getSharedPoint=function(a,c,e){return b((0,dF.ellipticCurve)(),function(b){return b.getSharedSecret(a,c,e)},function(b){return b.getSharedSecret(a,c)},function(b){return d(b,a,c)})},a.convertPublicKeyFormat=function(a,c){return b((0,dF.ellipticCurve)(),function(b){return b.getSharedSecret(BigInt(1),a,c)},function(){return a},function(){return a})},a.hexToPublicKey=function(a){var d=(0,fR.decodeHex)(a);return b((0,dF.ellipticCurve)(),function(){return c(d)},function(){return d},function(){return d})};var c=function(a){if(a.length===dG.ETH_PUBLIC_KEY_SIZE){var b=new Uint8Array(1+a.length);return b.set([4]),b.set(a,1),b}return a},d=function(a,b,c){var d=a.utils.getExtendedPublicKey(b).scalar;return a.ExtendedPoint.fromHex(c).multiply(d).toRawBytes()}}(dK);var fS={},fT={};function fU(a,b,c){return(0,dQ.hash)(a),void 0===c&&(c=new Uint8Array(a.outputLen)),(0,fL.hmac)(a,(0,dY.toBytes)(c),(0,dY.toBytes)(b))}Object.defineProperty(fT,"__esModule",{value:!0}),fT.hkdf=void 0,fT.extract=fU,fT.expand=fX;let fV=new Uint8Array([0]),fW=new Uint8Array;function fX(a,b,c,d=32){if((0,dQ.hash)(a),(0,dQ.number)(d),d>255*a.outputLen)throw Error("Length should be <= 255*HashLen");let e=Math.ceil(d/a.outputLen);void 0===c&&(c=fW);let f=new Uint8Array(e*a.outputLen),g=fL.hmac.create(a,b),h=g._cloneInto(),i=new Uint8Array(g.outputLen);for(let b=0;b<e;b++)fV[0]=b+1,h.update(0===b?fW:i).update(c).update(fV).digestInto(i),f.set(i,a.outputLen*b),g._cloneInto(h);return g.destroy(),h.destroy(),i.fill(0),fV.fill(0),f.slice(0,d)}fT.hkdf=(a,b,c,d,e)=>fX(a,fU(a,b,c),d,e),Object.defineProperty(fS,"__esModule",{value:!0}),fS.getSharedKey=fS.deriveKey=void 0,fS.deriveKey=function(a,b,c){return(0,fT.hkdf)(fD.sha256,a,b,c,32)},fS.getSharedKey=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,fS.deriveKey)(dw.concatBytes.apply(void 0,a))};var fY={},fZ={},f$={},f_={};Object.defineProperty(f_,"__esModule",{value:!0}),f_.polyval=f_.ghash=void 0,f_._toGHASHKey=f3;let f0=new Uint8Array(16),f1=(0,dw.u32)(f0),f2=a=>(a>>>0&255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<8|a>>>24&255;function f3(a){a.reverse();let b=1&a[15],c=0;for(let b=0;b<a.length;b++){let d=a[b];a[b]=d>>>1|c,c=(1&d)<<7}return a[0]^=225&-b,a}class f4{constructor(a,b){var c,d,e,f;this.blockLen=16,this.outputLen=16,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,a=(0,dw.toBytes)(a),(0,dx.bytes)(a,16);const g=(0,dw.createView)(a);let h=g.getUint32(0,!1),i=g.getUint32(4,!1),j=g.getUint32(8,!1),k=g.getUint32(12,!1);const l=[];for(let a=0;a<128;a++)l.push({s0:f2(h),s1:f2(i),s2:f2(j),s3:f2(k)}),{s0:h,s1:i,s2:j,s3:k}={s3:(e=j)<<31|(f=k)>>>1,s2:(d=i)<<31|e>>>1,s1:(c=h)<<31|d>>>1,s0:c>>>1^-0x1f000000&-(1&f)};const m=(a=>a>65536?8:a>1024?4:2)(b||1024);if(![1,2,4,8].includes(m))throw Error(`ghash: wrong window size=${m}, should be 2, 4 or 8`);this.W=m;const n=128/m,o=this.windowSize=2**m,p=[];for(let a=0;a<n;a++)for(let b=0;b<o;b++){let c=0,d=0,e=0,f=0;for(let g=0;g<m;g++){if(!(b>>>m-g-1&1))continue;const{s0:h,s1:i,s2:j,s3:k}=l[m*a+g];c^=h,d^=i,e^=j,f^=k}p.push({s0:c,s1:d,s2:e,s3:f})}this.t=p}_updateBlock(a,b,c,d){a^=this.s0,b^=this.s1,c^=this.s2,d^=this.s3;let{W:e,t:f,windowSize:g}=this,h=0,i=0,j=0,k=0,l=(1<<e)-1,m=0;for(let n of[a,b,c,d])for(let a=0;a<4;a++){let b=n>>>8*a&255;for(let a=8/e-1;a>=0;a--){let{s0:c,s1:d,s2:n,s3:o}=f[m*g+(b>>>e*a&l)];h^=c,i^=d,j^=n,k^=o,m+=1}}this.s0=h,this.s1=i,this.s2=j,this.s3=k}update(a){a=(0,dw.toBytes)(a),(0,dx.exists)(this);let b=(0,dw.u32)(a),c=Math.floor(a.length/16),d=a.length%16;for(let a=0;a<c;a++)this._updateBlock(b[4*a+0],b[4*a+1],b[4*a+2],b[4*a+3]);return d&&(f0.set(a.subarray(16*c)),this._updateBlock(f1[0],f1[1],f1[2],f1[3]),(0,dw.clean)(f1)),this}destroy(){let{t:a}=this;for(let b of a)b.s0=0,b.s1=0,b.s2=0,b.s3=0}digestInto(a){(0,dx.exists)(this),(0,dx.output)(a,this),this.finished=!0;let{s0:b,s1:c,s2:d,s3:e}=this,f=(0,dw.u32)(a);return f[0]=b,f[1]=c,f[2]=d,f[3]=e,a}digest(){let a=new Uint8Array(16);return this.digestInto(a),this.destroy(),a}}class f5 extends f4{constructor(a,b){a=(0,dw.toBytes)(a);const c=f3((0,dw.copyBytes)(a));super(c,b),(0,dw.clean)(c)}update(a){a=(0,dw.toBytes)(a),(0,dx.exists)(this);let b=(0,dw.u32)(a),c=a.length%16,d=Math.floor(a.length/16);for(let a=0;a<d;a++)this._updateBlock(f2(b[4*a+3]),f2(b[4*a+2]),f2(b[4*a+1]),f2(b[4*a+0]));return c&&(f0.set(a.subarray(16*d)),this._updateBlock(f2(f1[3]),f2(f1[2]),f2(f1[1]),f2(f1[0])),(0,dw.clean)(f1)),this}digestInto(a){(0,dx.exists)(this),(0,dx.output)(a,this),this.finished=!0;let{s0:b,s1:c,s2:d,s3:e}=this,f=(0,dw.u32)(a);return f[0]=b,f[1]=c,f[2]=d,f[3]=e,a.reverse()}}function f6(a){let b=(b,c)=>a(c,b.length).update((0,dw.toBytes)(b)).digest(),c=a(new Uint8Array(16),0);return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=(b,c)=>a(b,c),b}f_.ghash=f6((a,b)=>new f4(a,b)),f_.polyval=f6((a,b)=>new f5(a,b)),Object.defineProperty(f$,"__esModule",{value:!0}),f$.unsafe=f$.aeskwp=f$.aeskw=f$.siv=f$.gcm=f$.cfb=f$.cbc=f$.ecb=f$.ctr=void 0,f$.expandKeyLE=gj,f$.expandKeyDecLE=gk;let f7=new Uint8Array(16);function f8(a){return a<<1^283&-(a>>7)}function f9(a,b){let c=0;for(;b>0;b>>=1)c^=a&-(1&b),a=f8(a);return c}let ga=(()=>{let a=new Uint8Array(256);for(let b=0,c=1;b<256;b++,c^=f8(c))a[b]=c;let b=new Uint8Array(256);b[0]=99;for(let c=0;c<255;c++){let d=a[255-c];d|=d<<8,b[a[c]]=255&(d^d>>4^d>>5^d>>6^d>>7^99)}return(0,dw.clean)(a),b})(),gb=ga.map((a,b)=>ga.indexOf(b)),gc=a=>a<<24|a>>>8,gd=a=>a<<8|a>>>24,ge=a=>a<<24&0xff000000|a<<8&0xff0000|a>>>8&65280|a>>>24&255;function gf(a,b){if(256!==a.length)throw Error("Wrong sbox length");let c=new Uint32Array(256).map((c,d)=>b(a[d])),d=c.map(gd),e=d.map(gd),f=e.map(gd),g=new Uint32Array(65536),h=new Uint32Array(65536),i=new Uint16Array(65536);for(let b=0;b<256;b++)for(let j=0;j<256;j++){let k=256*b+j;g[k]=c[b]^d[j],h[k]=e[b]^f[j],i[k]=a[b]<<8|a[j]}return{sbox:a,sbox2:i,T0:c,T1:d,T2:e,T3:f,T01:g,T23:h}}let gg=gf(ga,a=>f9(a,3)<<24|a<<16|a<<8|f9(a,2)),gh=gf(gb,a=>f9(a,11)<<24|f9(a,13)<<16|f9(a,9)<<8|f9(a,14)),gi=(()=>{let a=new Uint8Array(16);for(let b=0,c=1;b<16;b++,c=f8(c))a[b]=c;return a})();function gj(a){(0,dx.bytes)(a);let b=a.length;if(![16,24,32].includes(b))throw Error(`aes: wrong key size: should be 16, 24 or 32, got: ${b}`);let{sbox2:c}=gg,d=[];(0,dw.isAligned32)(a)||d.push(a=(0,dw.copyBytes)(a));let e=(0,dw.u32)(a),f=e.length,g=a=>gm(c,a,a,a,a),h=new Uint32Array(b+28);h.set(e);for(let a=f;a<h.length;a++){let b=h[a-1];a%f==0?b=g(gc(b))^gi[a/f-1]:f>6&&a%f==4&&(b=g(b)),h[a]=h[a-f]^b}return(0,dw.clean)(...d),h}function gk(a){let b=gj(a),c=b.slice(),d=b.length,{sbox2:e}=gg,{T0:f,T1:g,T2:h,T3:i}=gh;for(let a=0;a<d;a+=4)for(let e=0;e<4;e++)c[a+e]=b[d-a-4+e];(0,dw.clean)(b);for(let a=4;a<d-4;a++){let b=c[a],d=gm(e,b,b,b,b);c[a]=f[255&d]^g[d>>>8&255]^h[d>>>16&255]^i[d>>>24]}return c}function gl(a,b,c,d,e,f){return a[c<<8&65280|d>>>8&255]^b[e>>>8&65280|f>>>24&255]}function gm(a,b,c,d,e){return a[255&b|65280&c]|a[d>>>16&255|e>>>16&65280]<<16}function gn(a,b,c,d,e){let{sbox2:f,T01:g,T23:h}=gg,i=0;b^=a[i++],c^=a[i++],d^=a[i++],e^=a[i++];let j=a.length/4-2;for(let f=0;f<j;f++){let f=a[i++]^gl(g,h,b,c,d,e),j=a[i++]^gl(g,h,c,d,e,b),k=a[i++]^gl(g,h,d,e,b,c),l=a[i++]^gl(g,h,e,b,c,d);b=f,c=j,d=k,e=l}return{s0:a[i++]^gm(f,b,c,d,e),s1:a[i++]^gm(f,c,d,e,b),s2:a[i++]^gm(f,d,e,b,c),s3:a[i++]^gm(f,e,b,c,d)}}function go(a,b,c,d,e){let{sbox2:f,T01:g,T23:h}=gh,i=0;b^=a[i++],c^=a[i++],d^=a[i++],e^=a[i++];let j=a.length/4-2;for(let f=0;f<j;f++){let f=a[i++]^gl(g,h,b,e,d,c),j=a[i++]^gl(g,h,c,b,e,d),k=a[i++]^gl(g,h,d,c,b,e),l=a[i++]^gl(g,h,e,d,c,b);b=f,c=j,d=k,e=l}return{s0:a[i++]^gm(f,b,e,d,c),s1:a[i++]^gm(f,c,b,e,d),s2:a[i++]^gm(f,d,c,b,e),s3:a[i++]^gm(f,e,d,c,b)}}function gp(a,b){if(void 0===b)return new Uint8Array(a);if((0,dx.bytes)(b),b.length<a)throw Error(`aes: wrong destination length, expected at least ${a}, got: ${b.length}`);if(!(0,dw.isAligned32)(b))throw Error("unaligned dst");return b}function gq(a,b,c,d){(0,dx.bytes)(b,16),(0,dx.bytes)(c);let e=c.length;d=gp(e,d);let f=(0,dw.u32)(b),{s0:g,s1:h,s2:i,s3:j}=gn(a,f[0],f[1],f[2],f[3]),k=(0,dw.u32)(c),l=(0,dw.u32)(d);for(let c=0;c+4<=k.length;c+=4){l[c+0]=k[c+0]^g,l[c+1]=k[c+1]^h,l[c+2]=k[c+2]^i,l[c+3]=k[c+3]^j;let d=1;for(let a=b.length-1;a>=0;a--)d=d+(255&b[a])|0,b[a]=255&d,d>>>=8;({s0:g,s1:h,s2:i,s3:j}=gn(a,f[0],f[1],f[2],f[3]))}let m=16*Math.floor(k.length/4);if(m<e){let a=new Uint32Array([g,h,i,j]),b=(0,dw.u8)(a);for(let a=m,f=0;a<e;a++,f++)d[a]=c[a]^b[f];(0,dw.clean)(a)}return d}function gr(a,b,c,d,e){(0,dx.bytes)(c,16),(0,dx.bytes)(d),e=gp(d.length,e);let f=(0,dw.u32)(c),g=(0,dw.createView)(c),h=(0,dw.u32)(d),i=(0,dw.u32)(e),j=12*!b,k=d.length,l=g.getUint32(j,b),{s0:m,s1:n,s2:o,s3:p}=gn(a,f[0],f[1],f[2],f[3]);for(let c=0;c+4<=h.length;c+=4)i[c+0]=h[c+0]^m,i[c+1]=h[c+1]^n,i[c+2]=h[c+2]^o,i[c+3]=h[c+3]^p,l=l+1>>>0,g.setUint32(j,l,b),{s0:m,s1:n,s2:o,s3:p}=gn(a,f[0],f[1],f[2],f[3]);let q=16*Math.floor(h.length/4);if(q<k){let a=new Uint32Array([m,n,o,p]),b=(0,dw.u8)(a);for(let a=q,c=0;a<k;a++,c++)e[a]=d[a]^b[c];(0,dw.clean)(a)}return e}function gs(a){if((0,dx.bytes)(a),a.length%16!=0)throw Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function gt(a,b,c){(0,dx.bytes)(a);let d=a.length,e=d%16;if(!b&&0!==e)throw Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,dw.isAligned32)(a)||(a=(0,dw.copyBytes)(a));let f=(0,dw.u32)(a);if(b){let a=16-e;a||(a=16),d+=a}let g=gp(d,c);return{b:f,o:(0,dw.u32)(g),out:g}}function gu(a,b){if(!b)return a;let c=a.length;if(!c)throw Error("aes/pcks5: empty ciphertext not allowed");let d=a[c-1];if(d<=0||d>16)throw Error("aes/pcks5: wrong padding");let e=a.subarray(0,-d);for(let b=0;b<d;b++)if(a[c-b-1]!==d)throw Error("aes/pcks5: wrong padding");return e}function gv(a){let b=new Uint8Array(16),c=(0,dw.u32)(b);b.set(a);let d=16-a.length;for(let a=16-d;a<16;a++)b[a]=d;return c}function gw(a,b,c,d,e){let f=null==e?0:e.length,g=a.create(c,d.length+f);e&&g.update(e),g.update(d);let h=new Uint8Array(16),i=(0,dw.createView)(h);e&&(0,dw.setBigUint64)(i,0,BigInt(8*f),b),(0,dw.setBigUint64)(i,8,BigInt(8*d.length),b),g.update(h);let j=g.digest();return(0,dw.clean)(h),j}f$.ctr=(0,dw.wrapCipher)({blockSize:16,nonceLength:16},function(a,b){function c(c,d){if((0,dx.bytes)(c),void 0!==d&&((0,dx.bytes)(d),!(0,dw.isAligned32)(d)))throw Error("unaligned destination");let e=gj(a),f=(0,dw.copyBytes)(b),g=[e,f];(0,dw.isAligned32)(c)||g.push(c=(0,dw.copyBytes)(c));let h=gq(e,f,c,d);return(0,dw.clean)(...g),h}return(0,dx.bytes)(a),(0,dx.bytes)(b,16),{encrypt:(a,b)=>c(a,b),decrypt:(a,b)=>c(a,b)}}),f$.ecb=(0,dw.wrapCipher)({blockSize:16},function(a,b={}){(0,dx.bytes)(a);let c=!b.disablePadding;return{encrypt(b,d){let{b:e,o:f,out:g}=gt(b,c,d),h=gj(a),i=0;for(;i+4<=e.length;){let{s0:a,s1:b,s2:c,s3:d}=gn(h,e[i+0],e[i+1],e[i+2],e[i+3]);f[i++]=a,f[i++]=b,f[i++]=c,f[i++]=d}if(c){let a=gv(b.subarray(4*i)),{s0:c,s1:d,s2:e,s3:g}=gn(h,a[0],a[1],a[2],a[3]);f[i++]=c,f[i++]=d,f[i++]=e,f[i++]=g}return(0,dw.clean)(h),g},decrypt(b,d){gs(b);let e=gk(a),f=gp(b.length,d),g=[e];(0,dw.isAligned32)(b)||g.push(b=(0,dw.copyBytes)(b));let h=(0,dw.u32)(b),i=(0,dw.u32)(f);for(let a=0;a+4<=h.length;){let{s0:b,s1:c,s2:d,s3:f}=go(e,h[a+0],h[a+1],h[a+2],h[a+3]);i[a++]=b,i[a++]=c,i[a++]=d,i[a++]=f}return(0,dw.clean)(...g),gu(f,c)}}}),f$.cbc=(0,dw.wrapCipher)({blockSize:16,nonceLength:16},function(a,b,c={}){(0,dx.bytes)(a),(0,dx.bytes)(b,16);let d=!c.disablePadding;return{encrypt(c,e){let f=gj(a),{b:g,o:h,out:i}=gt(c,d,e),j=b,k=[f];(0,dw.isAligned32)(j)||k.push(j=(0,dw.copyBytes)(j));let l=(0,dw.u32)(j),m=l[0],n=l[1],o=l[2],p=l[3],q=0;for(;q+4<=g.length;)m^=g[q+0],n^=g[q+1],o^=g[q+2],p^=g[q+3],({s0:m,s1:n,s2:o,s3:p}=gn(f,m,n,o,p)),h[q++]=m,h[q++]=n,h[q++]=o,h[q++]=p;if(d){let a=gv(c.subarray(4*q));m^=a[0],n^=a[1],o^=a[2],p^=a[3],({s0:m,s1:n,s2:o,s3:p}=gn(f,m,n,o,p)),h[q++]=m,h[q++]=n,h[q++]=o,h[q++]=p}return(0,dw.clean)(...k),i},decrypt(c,e){gs(c);let f=gk(a),g=b,h=[f];(0,dw.isAligned32)(g)||h.push(g=(0,dw.copyBytes)(g));let i=(0,dw.u32)(g),j=gp(c.length,e);(0,dw.isAligned32)(c)||h.push(c=(0,dw.copyBytes)(c));let k=(0,dw.u32)(c),l=(0,dw.u32)(j),m=i[0],n=i[1],o=i[2],p=i[3];for(let a=0;a+4<=k.length;){let b=m,c=n,d=o,e=p;m=k[a+0],n=k[a+1];let{s0:g,s1:h,s2:i,s3:j}=go(f,m,n,o=k[a+2],p=k[a+3]);l[a++]=g^b,l[a++]=h^c,l[a++]=i^d,l[a++]=j^e}return(0,dw.clean)(...h),gu(j,d)}}}),f$.cfb=(0,dw.wrapCipher)({blockSize:16,nonceLength:16},function(a,b){function c(c,d,e){(0,dx.bytes)(c);let f=c.length;e=gp(f,e);let g=gj(a),h=b,i=[g];(0,dw.isAligned32)(h)||i.push(h=(0,dw.copyBytes)(h)),(0,dw.isAligned32)(c)||i.push(c=(0,dw.copyBytes)(c));let j=(0,dw.u32)(c),k=(0,dw.u32)(e),l=d?k:j,m=(0,dw.u32)(h),n=m[0],o=m[1],p=m[2],q=m[3];for(let a=0;a+4<=j.length;){let{s0:b,s1:c,s2:d,s3:e}=gn(g,n,o,p,q);k[a+0]=j[a+0]^b,k[a+1]=j[a+1]^c,k[a+2]=j[a+2]^d,k[a+3]=j[a+3]^e,n=l[a++],o=l[a++],p=l[a++],q=l[a++]}let r=16*Math.floor(j.length/4);if(r<f){({s0:n,s1:o,s2:p,s3:q}=gn(g,n,o,p,q));let a=(0,dw.u8)(new Uint32Array([n,o,p,q]));for(let b=r,d=0;b<f;b++,d++)e[b]=c[b]^a[d];(0,dw.clean)(a)}return(0,dw.clean)(...i),e}return(0,dx.bytes)(a),(0,dx.bytes)(b,16),{encrypt:(a,b)=>c(a,!0,b),decrypt:(a,b)=>c(a,!1,b)}}),f$.gcm=(0,dw.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(a,b,c){if((0,dx.bytes)(a),(0,dx.bytes)(b),void 0!==c&&(0,dx.bytes)(c),b.length<8)throw Error("aes/gcm: invalid nonce length");function d(a,b,d){let e=gw(f_.ghash,!1,a,d,c);for(let a=0;a<b.length;a++)e[a]^=b[a];return e}function e(){let c=gj(a),d=f7.slice(),e=f7.slice();if(gr(c,!1,e,e,d),12===b.length)e.set(b);else{let a=f7.slice(),c=(0,dw.createView)(a);(0,dw.setBigUint64)(c,8,BigInt(8*b.length),!1);let f=f_.ghash.create(d).update(b).update(a);f.digestInto(e),f.destroy()}return{xk:c,authKey:d,counter:e,tagMask:gr(c,!1,e,f7)}}return{encrypt(a){(0,dx.bytes)(a);let{xk:b,authKey:c,counter:f,tagMask:g}=e(),h=new Uint8Array(a.length+16),i=[b,c,f,g];(0,dw.isAligned32)(a)||i.push(a=(0,dw.copyBytes)(a)),gr(b,!1,f,a,h);let j=d(c,g,h.subarray(0,h.length-16));return i.push(j),h.set(j,a.length),(0,dw.clean)(...i),h},decrypt(a){if((0,dx.bytes)(a),a.length<16)throw Error("aes/gcm: ciphertext less than tagLen (16)");let{xk:b,authKey:c,counter:f,tagMask:g}=e(),h=[b,c,g,f];(0,dw.isAligned32)(a)||h.push(a=(0,dw.copyBytes)(a));let i=a.subarray(0,-16),j=a.subarray(-16),k=d(c,g,i);if(h.push(k),!(0,dw.equalBytes)(k,j))throw Error("aes/gcm: invalid ghash tag");let l=gr(b,!1,f,i);return(0,dw.clean)(...h),l}}});let gx=(a,b,c)=>d=>{if(!Number.isSafeInteger(d)||b>d||d>c)throw Error(`${a}: invalid value=${d}, must be [${b}..${c}]`)};function gy(a){return null!=a&&"object"==typeof a&&(a instanceof Uint32Array||"Uint32Array"===a.constructor.name)}function gz(a,b){if((0,dx.bytes)(b,16),!gy(a))throw Error("_encryptBlock accepts result of expandKeyLE");let c=(0,dw.u32)(b),{s0:d,s1:e,s2:f,s3:g}=gn(a,c[0],c[1],c[2],c[3]);return c[0]=d,c[1]=e,c[2]=f,c[3]=g,b}function gA(a,b){if((0,dx.bytes)(b,16),!gy(a))throw Error("_decryptBlock accepts result of expandKeyLE");let c=(0,dw.u32)(b),{s0:d,s1:e,s2:f,s3:g}=go(a,c[0],c[1],c[2],c[3]);return c[0]=d,c[1]=e,c[2]=f,c[3]=g,b}f$.siv=(0,dw.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(a,b,c){let d=gx("AAD",0,0x1000000000),e=gx("plaintext",0,0x1000000000),f=gx("nonce",12,12),g=gx("ciphertext",16,0x1000000000+16);function h(){let c=gj(a),d=new Uint8Array(a.length),e=new Uint8Array(16),f=[c,d],g=b;(0,dw.isAligned32)(g)||f.push(g=(0,dw.copyBytes)(g));let h=(0,dw.u32)(g),i=0,j=h[0],k=h[1],l=h[2],m=0;for(let a of[e,d].map(dw.u32)){let b=(0,dw.u32)(a);for(let a=0;a<b.length;a+=2){let{s0:d,s1:e}=gn(c,i,j,k,l);b[a+0]=d,b[a+1]=e,i=++m}}let n={authKey:e,encKey:gj(d)};return(0,dw.clean)(...f),n}function i(a,d,e){let f=gw(f_.polyval,!0,d,e,c);for(let a=0;a<12;a++)f[a]^=b[a];f[15]&=127;let g=(0,dw.u32)(f),h=g[0],i=g[1],j=g[2],k=g[3];return{s0:h,s1:i,s2:j,s3:k}=gn(a,h,i,j,k),g[0]=h,g[1]=i,g[2]=j,g[3]=k,f}function j(a,b,c){let d=(0,dw.copyBytes)(b);d[15]|=128;let e=gr(a,!0,d,c);return(0,dw.clean)(d),e}return(0,dx.bytes)(a,16,24,32),(0,dx.bytes)(b),f(b.length),void 0!==c&&((0,dx.bytes)(c),d(c.length)),{encrypt(a){(0,dx.bytes)(a),e(a.length);let{encKey:b,authKey:c}=h(),d=i(b,c,a),f=[b,c,d];(0,dw.isAligned32)(a)||f.push(a=(0,dw.copyBytes)(a));let g=new Uint8Array(a.length+16);return g.set(d,a.length),g.set(j(b,d,a)),(0,dw.clean)(...f),g},decrypt(a){(0,dx.bytes)(a),g(a.length);let b=a.subarray(-16),{encKey:c,authKey:d}=h(),e=[c,d];(0,dw.isAligned32)(a)||e.push(a=(0,dw.copyBytes)(a));let f=j(c,b,a.subarray(0,-16)),k=i(c,d,f);if(e.push(k),!(0,dw.equalBytes)(b,k))throw(0,dw.clean)(...e),Error("invalid polyval tag");return(0,dw.clean)(...e),f}}});let gB={encrypt(a,b){if(b.length>=0x100000000)throw Error("plaintext should be less than 4gb");let c=gj(a);if(16===b.length)gz(c,b);else{let a=(0,dw.u32)(b),d=a[0],e=a[1];for(let b=0,f=1;b<6;b++)for(let b=2;b<a.length;b+=2,f++){let{s0:g,s1:h,s2:i,s3:j}=gn(c,d,e,a[b],a[b+1]);d=g,e=h^ge(f),a[b]=i,a[b+1]=j}a[0]=d,a[1]=e}c.fill(0)},decrypt(a,b){if(b.length-8>=0x100000000)throw Error("ciphertext should be less than 4gb");let c=gk(a),d=b.length/8-1;if(1===d)gA(c,b);else{let a=(0,dw.u32)(b),e=a[0],f=a[1];for(let b=0,g=6*d;b<6;b++)for(let b=2*d;b>=1;b-=2,g--){let{s0:d,s1:h,s2:i,s3:j}=go(c,e,f^=ge(g),a[b],a[b+1]);e=d,f=h,a[b]=i,a[b+1]=j}a[0]=e,a[1]=f}c.fill(0)}},gC=new Uint8Array(8).fill(166);f$.aeskw=(0,dw.wrapCipher)({blockSize:8},a=>({encrypt(b){if((0,dx.bytes)(b),!b.length||b.length%8!=0)throw Error("invalid plaintext length");if(8===b.length)throw Error("8-byte keys not allowed in AESKW, use AESKWP instead");let c=(0,dw.concatBytes)(gC,b);return gB.encrypt(a,c),c},decrypt(b){if((0,dx.bytes)(b),b.length%8!=0||b.length<24)throw Error("invalid ciphertext length");let c=(0,dw.copyBytes)(b);if(gB.decrypt(a,c),!(0,dw.equalBytes)(c.subarray(0,8),gC))throw Error("integrity check failed");return c.subarray(0,8).fill(0),c.subarray(8)}})),f$.aeskwp=(0,dw.wrapCipher)({blockSize:8},a=>({encrypt(b){if((0,dx.bytes)(b),!b.length)throw Error("invalid plaintext length");let c=new Uint8Array(8+8*Math.ceil(b.length/8));c.set(b,8);let d=(0,dw.u32)(c);return d[0]=0xa65959a6,d[1]=ge(b.length),gB.encrypt(a,c),c},decrypt(b){if((0,dx.bytes)(b),b.length<16)throw Error("invalid ciphertext length");let c=(0,dw.copyBytes)(b),d=(0,dw.u32)(c);gB.decrypt(a,c);let e=ge(d[1])>>>0,f=8*Math.ceil(e/8);if(0xa65959a6!==d[0]||c.length-8!==f)throw Error("integrity check failed");for(let a=e;a<f;a++)if(0!==c[8+a])throw Error("integrity check failed");return c.subarray(0,8).fill(0),c.subarray(8,8+e)}})),f$.unsafe={expandKeyLE:gj,expandKeyDecLE:gk,encrypt:gn,decrypt:go,encryptBlock:gz,decryptBlock:gA,ctrCounter:gq,ctr32:gr},Object.defineProperty(fZ,"__esModule",{value:!0}),fZ.aes256cbc=fZ.aes256gcm=void 0,fZ.aes256gcm=function(a,b,c){return(0,f$.gcm)(a,b,c)},fZ.aes256cbc=function(a,b,c){return(0,f$.cbc)(a,b)};var gD={},gE={},gF={};Object.defineProperty(gF,"__esModule",{value:!0}),gF.sigma=void 0,gF.rotl=function(a,b){return a<<b|a>>>32-b},gF.createCipher=function(a,b){let{allowShortKeys:c,extendNonceFn:d,counterLength:e,counterRight:f,rounds:g}=(0,gH.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},b);if("function"!=typeof a)throw Error("core must be a function");return(0,gG.number)(e),(0,gG.number)(g),(0,gG.bool)(f),(0,gG.bool)(c),(b,h,i,j,k=0)=>{(0,gG.bytes)(b),(0,gG.bytes)(h),(0,gG.bytes)(i);let l=i.length;if(void 0===j&&(j=new Uint8Array(l)),(0,gG.bytes)(j),(0,gG.number)(k),k<0||k>=gQ)throw Error("arx: counter overflow");if(j.length<l)throw Error(`arx: output (${j.length}) is shorter than data (${l})`);let m=[],n,o,p=b.length;if(32===p)m.push(n=(0,gH.copyBytes)(b)),o=gM;else{if(16!==p||!c)throw Error(`arx: invalid 32-byte key, got length=${p}`);(n=new Uint8Array(32)).set(b),n.set(b,16),o=gL,m.push(n)}gN(h)||m.push(h=(0,gH.copyBytes)(h));let q=(0,gH.u32)(n);if(d){if(24!==h.length)throw Error("arx: extended nonce must be 24 bytes");d(o,q,(0,gH.u32)(h.subarray(0,16)),q),h=h.subarray(16)}let r=16-e;if(r!==h.length)throw Error(`arx: nonce must be ${r} or 16 bytes`);if(12!==r){let a=new Uint8Array(12);a.set(h,f?0:12-h.length),h=a,m.push(h)}return function(a,b,c,d,e,f,g,h){let i=e.length,j=new Uint8Array(gO),k=(0,gH.u32)(j),l=gN(e)&&gN(f),m=l?(0,gH.u32)(e):gR,n=l?(0,gH.u32)(f):gR;for(let o=0;o<i;g++){if(a(b,c,d,k,g,h),g>=gQ)throw Error("arx: counter overflow");let p=Math.min(gO,i-o);if(l&&p===gO){let a=o/4;if(o%4!=0)throw Error("arx: invalid block position");for(let b,c=0;c<gP;c++)n[b=a+c]=m[b]^k[c];o+=gO}else{for(let a,b=0;b<p;b++)f[a=o+b]=e[a]^j[b];o+=p}}}(a,o,q,(0,gH.u32)(h),i,j,k,g),(0,gH.clean)(...m),j}};let gG=dx,gH=dw,gI=a=>Uint8Array.from(a.split("").map(a=>a.charCodeAt(0))),gJ=gI("expand 16-byte k"),gK=gI("expand 32-byte k"),gL=(0,gH.u32)(gJ),gM=(0,gH.u32)(gK);function gN(a){return a.byteOffset%4==0}gF.sigma=gM.slice();let gO=64,gP=16,gQ=0x100000000-1,gR=new Uint32Array;var gS={};Object.defineProperty(gS,"__esModule",{value:!0}),gS.poly1305=void 0,gS.wrapConstructorWithKey=gV;let gT=(a,b)=>255&a[b++]|(255&a[b++])<<8;class gU{constructor(a){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,a=(0,dw.toBytes)(a),(0,dx.bytes)(a,32);const b=gT(a,0),c=gT(a,2),d=gT(a,4),e=gT(a,6),f=gT(a,8),g=gT(a,10),h=gT(a,12),i=gT(a,14);this.r[0]=8191&b,this.r[1]=8191&(b>>>13|c<<3),this.r[2]=7939&(c>>>10|d<<6),this.r[3]=8191&(d>>>7|e<<9),this.r[4]=255&(e>>>4|f<<12),this.r[5]=f>>>1&8190,this.r[6]=8191&(f>>>14|g<<2),this.r[7]=8065&(g>>>11|h<<5),this.r[8]=8191&(h>>>8|i<<8),this.r[9]=i>>>5&127;for(let b=0;b<8;b++)this.pad[b]=gT(a,16+2*b)}process(a,b,c=!1){let{h:d,r:e}=this,f=e[0],g=e[1],h=e[2],i=e[3],j=e[4],k=e[5],l=e[6],m=e[7],n=e[8],o=e[9],p=gT(a,b+0),q=gT(a,b+2),r=gT(a,b+4),s=gT(a,b+6),t=gT(a,b+8),u=gT(a,b+10),v=gT(a,b+12),w=gT(a,b+14),x=d[0]+(8191&p),y=d[1]+(8191&(p>>>13|q<<3)),z=d[2]+(8191&(q>>>10|r<<6)),A=d[3]+(8191&(r>>>7|s<<9)),B=d[4]+(8191&(s>>>4|t<<12)),C=d[5]+(t>>>1&8191),D=d[6]+(8191&(t>>>14|u<<2)),E=d[7]+(8191&(u>>>11|v<<5)),F=d[8]+(8191&(v>>>8|w<<8)),G=d[9]+(w>>>5|2048*!c),H=0,I=0+x*f+5*o*y+5*n*z+5*m*A+5*l*B;H=I>>>13,I&=8191,I+=5*k*C+5*j*D+5*i*E+5*h*F+5*g*G,H+=I>>>13,I&=8191;let J=H+x*g+y*f+5*o*z+5*n*A+5*m*B;H=J>>>13,J&=8191,J+=5*l*C+5*k*D+5*j*E+5*i*F+5*h*G,H+=J>>>13,J&=8191;let K=H+x*h+y*g+z*f+5*o*A+5*n*B;H=K>>>13,K&=8191,K+=5*m*C+5*l*D+5*k*E+5*j*F+5*i*G,H+=K>>>13,K&=8191;let L=H+x*i+y*h+z*g+A*f+5*o*B;H=L>>>13,L&=8191,L+=5*n*C+5*m*D+5*l*E+5*k*F+5*j*G,H+=L>>>13,L&=8191;let M=H+x*j+y*i+z*h+A*g+B*f;H=M>>>13,M&=8191,M+=5*o*C+5*n*D+5*m*E+5*l*F+5*k*G,H+=M>>>13,M&=8191;let N=H+x*k+y*j+z*i+A*h+B*g;H=N>>>13,N&=8191,N+=C*f+5*o*D+5*n*E+5*m*F+5*l*G,H+=N>>>13,N&=8191;let O=H+x*l+y*k+z*j+A*i+B*h;H=O>>>13,O&=8191,O+=C*g+D*f+5*o*E+5*n*F+5*m*G,H+=O>>>13,O&=8191;let P=H+x*m+y*l+z*k+A*j+B*i;H=P>>>13,P&=8191,P+=C*h+D*g+E*f+5*o*F+5*n*G,H+=P>>>13,P&=8191;let Q=H+x*n+y*m+z*l+A*k+B*j;H=Q>>>13,Q&=8191,Q+=C*i+D*h+E*g+F*f+5*o*G,H+=Q>>>13,Q&=8191;let R=H+x*o+y*n+z*m+A*l+B*k;H=R>>>13,R&=8191,R+=C*j+D*i+E*h+F*g+G*f,H+=R>>>13,R&=8191,I=8191&(H=(H=(H<<2)+H|0)+I|0),H>>>=13,J+=H,d[0]=I,d[1]=J,d[2]=K,d[3]=L,d[4]=M,d[5]=N,d[6]=O,d[7]=P,d[8]=Q,d[9]=R}finalize(){let{h:a,pad:b}=this,c=new Uint16Array(10),d=a[1]>>>13;a[1]&=8191;for(let b=2;b<10;b++)a[b]+=d,d=a[b]>>>13,a[b]&=8191;a[0]+=5*d,d=a[0]>>>13,a[0]&=8191,a[1]+=d,d=a[1]>>>13,a[1]&=8191,a[2]+=d,c[0]=a[0]+5,d=c[0]>>>13,c[0]&=8191;for(let b=1;b<10;b++)c[b]=a[b]+d,d=c[b]>>>13,c[b]&=8191;c[9]-=8192;let e=(1^d)-1;for(let a=0;a<10;a++)c[a]&=e;e=~e;for(let b=0;b<10;b++)a[b]=a[b]&e|c[b];a[0]=65535&(a[0]|a[1]<<13),a[1]=65535&(a[1]>>>3|a[2]<<10),a[2]=65535&(a[2]>>>6|a[3]<<7),a[3]=65535&(a[3]>>>9|a[4]<<4),a[4]=65535&(a[4]>>>12|a[5]<<1|a[6]<<14),a[5]=65535&(a[6]>>>2|a[7]<<11),a[6]=65535&(a[7]>>>5|a[8]<<8),a[7]=65535&(a[8]>>>8|a[9]<<5);let f=a[0]+b[0];a[0]=65535&f;for(let c=1;c<8;c++)f=(a[c]+b[c]|0)+(f>>>16)|0,a[c]=65535&f;(0,dw.clean)(c)}update(a){(0,dx.exists)(this);let{buffer:b,blockLen:c}=this,d=(a=(0,dw.toBytes)(a)).length;for(let e=0;e<d;){let f=Math.min(c-this.pos,d-e);if(f!==c)b.set(a.subarray(e,e+f),this.pos),this.pos+=f,e+=f,this.pos===c&&(this.process(b,0,!1),this.pos=0);else for(;c<=d-e;e+=c)this.process(a,e)}return this}destroy(){(0,dw.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(a){(0,dx.exists)(this),(0,dx.output)(a,this),this.finished=!0;let{buffer:b,h:c}=this,{pos:d}=this;if(d){for(b[d++]=1;d<16;d++)b[d]=0;this.process(b,0,!0)}this.finalize();let e=0;for(let b=0;b<8;b++)a[e++]=c[b]>>>0,a[e++]=c[b]>>>8;return a}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}}function gV(a){let b=(b,c)=>a(c).update((0,dw.toBytes)(b)).digest(),c=a(new Uint8Array(32));return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=b=>a(b),b}gS.poly1305=gV(a=>new gU(a)),function(a){function b(a,c,d,e,f,g=20){let h=a[0],i=a[1],j=a[2],k=a[3],l=c[0],m=c[1],n=c[2],o=c[3],p=c[4],q=c[5],r=c[6],s=c[7],t=d[0],u=d[1],v=d[2],w=h,x=i,y=j,z=k,A=l,B=m,C=n,D=o,E=p,F=q,G=r,H=s,I=f,J=t,K=u,L=v;for(let a=0;a<g;a+=2)w=w+A|0,E=E+(I=(0,gF.rotl)(I^w,16))|0,w=w+(A=(0,gF.rotl)(A^E,12))|0,E=E+(I=(0,gF.rotl)(I^w,8))|0,A=(0,gF.rotl)(A^E,7),x=x+B|0,F=F+(J=(0,gF.rotl)(J^x,16))|0,x=x+(B=(0,gF.rotl)(B^F,12))|0,F=F+(J=(0,gF.rotl)(J^x,8))|0,B=(0,gF.rotl)(B^F,7),y=y+C|0,G=G+(K=(0,gF.rotl)(K^y,16))|0,y=y+(C=(0,gF.rotl)(C^G,12))|0,G=G+(K=(0,gF.rotl)(K^y,8))|0,C=(0,gF.rotl)(C^G,7),z=z+D|0,H=H+(L=(0,gF.rotl)(L^z,16))|0,z=z+(D=(0,gF.rotl)(D^H,12))|0,H=H+(L=(0,gF.rotl)(L^z,8))|0,D=(0,gF.rotl)(D^H,7),w=w+B|0,G=G+(L=(0,gF.rotl)(L^w,16))|0,w=w+(B=(0,gF.rotl)(B^G,12))|0,G=G+(L=(0,gF.rotl)(L^w,8))|0,B=(0,gF.rotl)(B^G,7),x=x+C|0,H=H+(I=(0,gF.rotl)(I^x,16))|0,x=x+(C=(0,gF.rotl)(C^H,12))|0,H=H+(I=(0,gF.rotl)(I^x,8))|0,C=(0,gF.rotl)(C^H,7),y=y+D|0,E=E+(J=(0,gF.rotl)(J^y,16))|0,y=y+(D=(0,gF.rotl)(D^E,12))|0,E=E+(J=(0,gF.rotl)(J^y,8))|0,D=(0,gF.rotl)(D^E,7),z=z+A|0,F=F+(K=(0,gF.rotl)(K^z,16))|0,z=z+(A=(0,gF.rotl)(A^F,12))|0,F=F+(K=(0,gF.rotl)(K^z,8))|0,A=(0,gF.rotl)(A^F,7);let M=0;e[M++]=h+w|0,e[M++]=i+x|0,e[M++]=j+y|0,e[M++]=k+z|0,e[M++]=l+A|0,e[M++]=m+B|0,e[M++]=n+C|0,e[M++]=o+D|0,e[M++]=p+E|0,e[M++]=q+F|0,e[M++]=r+G|0,e[M++]=s+H|0,e[M++]=f+I|0,e[M++]=t+J|0,e[M++]=u+K|0,e[M++]=v+L|0}function c(a,b,c,d){let e=a[0],f=a[1],g=a[2],h=a[3],i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5],o=b[6],p=b[7],q=c[0],r=c[1],s=c[2],t=c[3];for(let a=0;a<20;a+=2)e=e+i|0,m=m+(q=(0,gF.rotl)(q^e,16))|0,e=e+(i=(0,gF.rotl)(i^m,12))|0,m=m+(q=(0,gF.rotl)(q^e,8))|0,i=(0,gF.rotl)(i^m,7),f=f+j|0,n=n+(r=(0,gF.rotl)(r^f,16))|0,f=f+(j=(0,gF.rotl)(j^n,12))|0,n=n+(r=(0,gF.rotl)(r^f,8))|0,j=(0,gF.rotl)(j^n,7),g=g+k|0,o=o+(s=(0,gF.rotl)(s^g,16))|0,g=g+(k=(0,gF.rotl)(k^o,12))|0,o=o+(s=(0,gF.rotl)(s^g,8))|0,k=(0,gF.rotl)(k^o,7),h=h+l|0,p=p+(t=(0,gF.rotl)(t^h,16))|0,h=h+(l=(0,gF.rotl)(l^p,12))|0,p=p+(t=(0,gF.rotl)(t^h,8))|0,l=(0,gF.rotl)(l^p,7),e=e+j|0,o=o+(t=(0,gF.rotl)(t^e,16))|0,e=e+(j=(0,gF.rotl)(j^o,12))|0,o=o+(t=(0,gF.rotl)(t^e,8))|0,j=(0,gF.rotl)(j^o,7),f=f+k|0,p=p+(q=(0,gF.rotl)(q^f,16))|0,f=f+(k=(0,gF.rotl)(k^p,12))|0,p=p+(q=(0,gF.rotl)(q^f,8))|0,k=(0,gF.rotl)(k^p,7),g=g+l|0,m=m+(r=(0,gF.rotl)(r^g,16))|0,g=g+(l=(0,gF.rotl)(l^m,12))|0,m=m+(r=(0,gF.rotl)(r^g,8))|0,l=(0,gF.rotl)(l^m,7),h=h+i|0,n=n+(s=(0,gF.rotl)(s^h,16))|0,h=h+(i=(0,gF.rotl)(i^n,12))|0,n=n+(s=(0,gF.rotl)(s^h,8))|0,i=(0,gF.rotl)(i^n,7);let u=0;d[u++]=e,d[u++]=f,d[u++]=g,d[u++]=h,d[u++]=q,d[u++]=r,d[u++]=s,d[u++]=t}Object.defineProperty(a,"__esModule",{value:!0}),a.xchacha20poly1305=a.chacha20poly1305=a._poly1305_aead=a.chacha12=a.chacha8=a.xchacha20=a.chacha20=a.chacha20orig=void 0,a.hchacha=c,a.chacha20orig=(0,gF.createCipher)(b,{counterRight:!1,counterLength:8,allowShortKeys:!0}),a.chacha20=(0,gF.createCipher)(b,{counterRight:!1,counterLength:4,allowShortKeys:!1}),a.xchacha20=(0,gF.createCipher)(b,{counterRight:!1,counterLength:8,extendNonceFn:c,allowShortKeys:!1}),a.chacha8=(0,gF.createCipher)(b,{counterRight:!1,counterLength:4,rounds:8}),a.chacha12=(0,gF.createCipher)(b,{counterRight:!1,counterLength:4,rounds:12});let d=new Uint8Array(16),e=(a,b)=>{a.update(b);let c=b.length%16;c&&a.update(d.subarray(c))},f=new Uint8Array(32);function g(a,b,c,d,g){let h=a(b,c,f),i=gS.poly1305.create(h);g&&e(i,g),e(i,d);let j=new Uint8Array(16),k=(0,dw.createView)(j);(0,dw.setBigUint64)(k,0,BigInt(g?g.length:0),!0),(0,dw.setBigUint64)(k,8,BigInt(d.length),!0),i.update(j);let l=i.digest();return(0,dw.clean)(h,j),l}a._poly1305_aead=a=>(b,c,d)=>((0,dx.bytes)(b,32),(0,dx.bytes)(c),{encrypt(e,f){let h=e.length,i=h+16;f?(0,dx.bytes)(f,i):f=new Uint8Array(i),a(b,c,e,f,1);let j=g(a,b,c,f.subarray(0,-16),d);return f.set(j,h),(0,dw.clean)(j),f},decrypt(e,f){let h=e.length,i=h-16;if(h<16)throw Error("encrypted data must be at least 16 bytes");f?(0,dx.bytes)(f,i):f=new Uint8Array(i);let j=e.subarray(0,-16),k=e.subarray(-16),l=g(a,b,c,j,d);if(!(0,dw.equalBytes)(k,l))throw Error("invalid tag");return a(b,c,j,f,1),(0,dw.clean)(l),f}}),a.chacha20poly1305=(0,dw.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,a._poly1305_aead)(a.chacha20)),a.xchacha20poly1305=(0,dw.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,a._poly1305_aead)(a.xchacha20))}(gE),Object.defineProperty(gD,"__esModule",{value:!0}),gD.xchacha20=void 0,gD.xchacha20=function(a,b,c){return(0,gE.xchacha20poly1305)(a,b,c)},function(a){function b(a,b,c,d){var e=(0,dF.symmetricAlgorithm)();if("aes-256-gcm"===e)return a(fZ.aes256gcm,b,c,(0,dF.symmetricNonceLength)(),dG.AEAD_TAG_LENGTH,d);if("xchacha20"===e)return a(gD.xchacha20,b,c,dG.XCHACHA20_NONCE_LENGTH,dG.AEAD_TAG_LENGTH,d);if("aes-256-cbc"===e)return a(fZ.aes256cbc,b,c,16,0);throw Error("Not implemented")}function c(a,b,c,d,e,f){var g=(0,dL.randomBytes)(d),h=a(b,g,f).encrypt(c);if(0===e)return(0,dw.concatBytes)(g,h);var i=h.length-e,j=h.subarray(0,i),k=h.subarray(i);return(0,dw.concatBytes)(g,k,j)}function d(a,b,c,d,e,f){var g=c.subarray(0,d),h=a(b,Uint8Array.from(g),f),i=c.subarray(d);if(0===e)return h.decrypt(i);var j=i.subarray(0,e),k=i.subarray(e);return h.decrypt((0,dw.concatBytes)(k,j))}Object.defineProperty(a,"__esModule",{value:!0}),a.aesDecrypt=a.aesEncrypt=a.symDecrypt=a.symEncrypt=void 0,a.symEncrypt=function(a,d,e){return b(c,a,d,e)},a.symDecrypt=function(a,c,e){return b(d,a,c,e)},a.aesEncrypt=a.symEncrypt,a.aesDecrypt=a.symDecrypt}(fY),jk=ds&&ds.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);e&&!("get"in e?!b.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),jl=ds&&ds.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||jk(b,a,c)},Object.defineProperty(dJ,"__esModule",{value:!0}),jl(dK,dJ),jl(fS,dJ),jl(fR,dJ),jl(fY,dJ);var gW={};Object.defineProperty(gW,"__esModule",{value:!0}),gW.PublicKey=void 0,gW.PublicKey=function(){function a(a){this.data=(0,dJ.convertPublicKeyFormat)(a,!0)}return a.fromHex=function(b){return new a((0,dJ.hexToPublicKey)(b))},Object.defineProperty(a.prototype,"uncompressed",{get:function(){return c$.from((0,dJ.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"compressed",{get:function(){return c$.from(this.data)},enumerable:!1,configurable:!0}),a.prototype.toHex=function(a){return void 0===a&&(a=!0),(0,dw.bytesToHex)(a?this.data:this.uncompressed)},a.prototype.decapsulate=function(a,b){void 0===b&&(b=!1);var c=b?this.data:this.uncompressed,d=a.multiply(this,b);return(0,dJ.getSharedKey)(c,d)},a.prototype.equals=function(a){return(0,dw.equalBytes)(this.data,a.data)},a}(),Object.defineProperty(dI,"__esModule",{value:!0}),dI.PrivateKey=void 0,dI.PrivateKey=function(){function a(a){if(void 0===a)this.data=(0,dJ.getValidSecret)();else{if(!(0,dJ.isValidPrivateKey)(a))throw Error("Invalid private key");this.data=a}this.publicKey=new gW.PublicKey((0,dJ.getPublicKey)(this.data))}return a.fromHex=function(b){return new a((0,dJ.decodeHex)(b))},Object.defineProperty(a.prototype,"secret",{get:function(){return c$.from(this.data)},enumerable:!1,configurable:!0}),a.prototype.toHex=function(){return(0,dw.bytesToHex)(this.data)},a.prototype.encapsulate=function(a,b){void 0===b&&(b=!1);var c=b?this.publicKey.compressed:this.publicKey.uncompressed,d=this.multiply(a,b);return(0,dJ.getSharedKey)(c,d)},a.prototype.multiply=function(a,b){return void 0===b&&(b=!1),(0,dJ.getSharedPoint)(this.data,a.compressed,b)},a.prototype.equals=function(a){return(0,dw.equalBytes)(this.data,a.data)},a}(),Object.defineProperty(dH,"__esModule",{value:!0}),dH.PublicKey=dH.PrivateKey=void 0,Object.defineProperty(dH,"PrivateKey",{enumerable:!0,get:function(){return dI.PrivateKey}}),Object.defineProperty(dH,"PublicKey",{enumerable:!0,get:function(){return gW.PublicKey}}),Object.defineProperty(dv,"__esModule",{value:!0}),dv.utils=dv.PublicKey=dv.PrivateKey=dv.ECIES_CONFIG=void 0,dv.encrypt=function(a,b){var c=new jo.PrivateKey,d=a instanceof Uint8Array?new jo.PublicKey(a):jo.PublicKey.fromHex(a),e=c.encapsulate(d,(0,jn.isHkdfKeyCompressed)()),f=(0,jn.isEphemeralKeyCompressed)()?c.publicKey.compressed:c.publicKey.uncompressed,g=(0,jp.symEncrypt)(e,b);return c$.from((0,jm.concatBytes)(f,g))},dv.decrypt=function(a,b){var c=a instanceof Uint8Array?new jo.PrivateKey(a):jo.PrivateKey.fromHex(a),d=(0,jn.ephemeralKeySize)(),e=new jo.PublicKey(b.subarray(0,d)),f=b.subarray(d),g=e.decapsulate(c,(0,jn.isHkdfKeyCompressed)());return c$.from((0,jp.symDecrypt)(g,f))},jm=dw,jn=dF,jo=dH,jp=dJ,Object.defineProperty(dv,"ECIES_CONFIG",{enumerable:!0,get:function(){return dF.ECIES_CONFIG}}),Object.defineProperty(dv,"PrivateKey",{enumerable:!0,get:function(){return dH.PrivateKey}}),Object.defineProperty(dv,"PublicKey",{enumerable:!0,get:function(){return dH.PublicKey}}),dv.utils={aesEncrypt:jp.aesEncrypt,aesDecrypt:jp.aesDecrypt,symEncrypt:jp.symEncrypt,symDecrypt:jp.symDecrypt,decodeHex:jp.decodeHex,getValidSecret:jp.getValidSecret,remove0x:jp.remove0x};let gX=(0,cG.default)("KeyExchange:Layer"),gY=(0,cG.default)("SocketService:Layer"),gZ=(0,cG.default)("Ecies:Layer"),g$=(0,cG.default)("RemoteCommunication:Layer");gX.color="##95c44e",gY.color="#f638d7",gZ.color="#465b9c",g$.color="#47a2be";let g_,g0=[],g1=[],g2=(a,b)=>cL(void 0,void 0,void 0,function*(){g_=b,g1.push(a),(function(a){return cL(this,void 0,void 0,function*(){let b;if(!g_||!a)return;b=g1,g1=g0,g0=b;let c=g_.endsWith("/")?`${g_}evt`:`${g_}/evt`,d=Object.assign({},a);if(delete d.params,a.params)for(let[b,c]of Object.entries(a.params))d[b]=c;let e=JSON.stringify(d);g$(`[sendBufferedEvents] Sending ${g0.length} analytics events to ${c}`);try{let a=yield(0,cF.default)(c,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e}),b=yield a.text();g$(`[sendBufferedEvents] Response: ${b}`),g0.length=0}catch(a){}})})(a).catch(()=>{})});class g3{constructor(a){this.enabled=!0,(null==a?void 0:a.debug)&&cG.default.enable("Ecies:Layer"),this.ecies=(null==a?void 0:a.privateKey)?dv.PrivateKey.fromHex(a.privateKey):new dv.PrivateKey,gZ("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),gZ("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),gZ("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new dv.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(a,b){let c=a;if(this.enabled)try{gZ("[ECIES: encrypt()] using otherPublicKey",b);let d=c$.from(a),e=dv.encrypt(b,d);c=c$.from(e).toString("base64")}catch(c){throw gZ("[ECIES: encrypt()] error encrypt:",c),gZ("[ECIES: encrypt()] private: ",this.ecies.toHex()),gZ("[ECIES: encrypt()] data: ",a),gZ("[ECIES: encrypt()] otherkey: ",b),c}return c}decrypt(a){let b=a;if(this.enabled)try{gZ("[ECIES: decrypt()] using privateKey",this.ecies.toHex());let c=c$.from(a.toString(),"base64");b=dv.decrypt(this.ecies.toHex(),c).toString()}catch(b){throw gZ("[ECIES: decrypt()] error decrypt",b),gZ("[ECIES: decrypt()] private: ",this.ecies.toHex()),gZ("[ECIES: decrypt()] encryptedData: ",a),b}return b}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){gZ("[ECIES: toString()]",this.getKeyInfo())}}var g4="0.33.1";let g5="https://metamask-sdk.api.cx.metamask.io/",g6=["websocket"],g7=["metamask_connectSign","metamask_connectWith","metamask_open","metamask_batch","personal_sign","wallet_requestPermissions","wallet_revokePermissions","wallet_watchAsset","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTransaction","eth_sign","personal_ecRecover"];function g8(a){return g7.includes(a)}function g9(a){let{context:b}=a;g$(`[RemoteCommunication: clean()] context=${b}`),a.channelConfig=void 0,a.ready=!1,a.originatorConnectStarted=!1}(jD=jx||(jx={})).DISCONNECTED="disconnected",jD.WAITING="waiting",jD.TIMEOUT="timeout",jD.LINKED="linked",jD.PAUSED="paused",jD.TERMINATED="terminated",(jq=jy||(jy={})).KEY_INFO="key_info",jq.SERVICE_STATUS="service_status",jq.PROVIDER_UPDATE="provider_update",jq.RPC_UPDATE="rpc_update",jq.KEYS_EXCHANGED="keys_exchanged",jq.JOIN_CHANNEL="join_channel",jq.PUBLIC_KEY="public_key",jq.CHANNEL_CREATED="channel_created",jq.CLIENTS_CONNECTED="clients_connected",jq.CLIENTS_DISCONNECTED="clients_disconnected",jq.CLIENTS_WAITING="clients_waiting",jq.CLIENTS_READY="clients_ready",jq.REJECTED="rejected",jq.WALLET_INIT="wallet_init",jq.CHANNEL_PERSISTENCE="channel_persistence",jq.CONFIG="config",jq.MESSAGE_ACK="ack",jq.SOCKET_DISCONNECTED="socket_disconnected",jq.SOCKET_RECONNECT="socket_reconnect",jq.OTP="otp",jq.SDK_RPC_CALL="sdk_rpc_call",jq.AUTHORIZED="authorized",jq.CONNECTION_STATUS="connection_status",jq.MESSAGE="message",jq.TERMINATE="terminate",(jz||(jz={})).KEY_EXCHANGE="key_exchange",(jr=jA||(jA={})).KEY_HANDSHAKE_START="key_handshake_start",jr.KEY_HANDSHAKE_CHECK="key_handshake_check",jr.KEY_HANDSHAKE_SYN="key_handshake_SYN",jr.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",jr.KEY_HANDSHAKE_ACK="key_handshake_ACK",jr.KEY_HANDSHAKE_WALLET="key_handshake_wallet",jr.KEY_HANDSHAKE_NONE="none";class ha extends cI.EventEmitter2{constructor({communicationLayer:a,otherPublicKey:b,context:c,ecies:d,logging:e}){super(),this.keysExchanged=!1,this.step=jA.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=c,this.communicationLayer=a,(null==d?void 0:d.privateKey)&&b&&(gX(`[KeyExchange: constructor()] otherPubKey=${b} set keysExchanged to true!`,d),this.keysExchanged=!0),this.myECIES=new g3(Object.assign(Object.assign({},d),{debug:null==e?void 0:e.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=!0===(null==e?void 0:e.keyExchangeLayer),b&&this.setOtherPublicKey(b),this.communicationLayer.on(jz.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(a){let{relayPersistence:b}=this.communicationLayer.remote.state;if(gX(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${b}`,a),b)return void gX("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");let{message:c}=a;this.keysExchanged&&gX(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(jy.KEY_INFO,c.type),c.type===jA.KEY_HANDSHAKE_SYN?(this.checkStep([jA.KEY_HANDSHAKE_NONE,jA.KEY_HANDSHAKE_ACK]),gX("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",c),c.pubkey&&this.setOtherPublicKey(c.pubkey),this.communicationLayer.sendMessage({type:jA.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(a=>{gX("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",a)}),this.setStep(jA.KEY_HANDSHAKE_ACK)):c.type===jA.KEY_HANDSHAKE_SYNACK?(this.checkStep([jA.KEY_HANDSHAKE_SYNACK,jA.KEY_HANDSHAKE_ACK,jA.KEY_HANDSHAKE_NONE]),gX("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),c.pubkey&&this.setOtherPublicKey(c.pubkey),this.communicationLayer.sendMessage({type:jA.KEY_HANDSHAKE_ACK}).catch(a=>{gX("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",a)}),this.keysExchanged=!0,this.setStep(jA.KEY_HANDSHAKE_ACK),this.emit(jy.KEYS_EXCHANGED)):c.type===jA.KEY_HANDSHAKE_ACK&&(gX("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([jA.KEY_HANDSHAKE_ACK,jA.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(jA.KEY_HANDSHAKE_ACK),this.emit(jy.KEYS_EXCHANGED))}resetKeys(a){this.clean(),this.myECIES=new g3(a)}clean(){gX(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(jA.KEY_HANDSHAKE_NONE),this.emit(jy.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:a,force:b}){let{relayPersistence:c,protocolVersion:d}=this.communicationLayer.remote.state;c?gX("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(gX(`[KeyExchange: start()] context=${this.context} protocolVersion=${d} isOriginator=${a} step=${this.step} force=${b} relayPersistence=${c} keysExchanged=${this.keysExchanged}`),a?!(this.keysExchanged||this.step!==jA.KEY_HANDSHAKE_NONE&&this.step!==jA.KEY_HANDSHAKE_SYNACK)||b?(gX(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${b}) -- step=${this.step}`,this.step),this.clean(),this.setStep(jA.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:jA.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(a=>{gX("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",a)})):gX(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&!0!==b?gX("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):d>=2?this.communicationLayer.sendMessage({type:jA.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(a=>{gX("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",a)}):(this.communicationLayer.sendMessage({type:jA.KEY_HANDSHAKE_START}).catch(a=>{gX("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",a)}),this.clean()))}setStep(a){this.step=a,this.emit(jy.KEY_INFO,a)}checkStep(a){a.length>0&&a.indexOf(this.step.toString())}setRelayPersistence({localKey:a,otherKey:b}){this.otherPublicKey=b,this.myECIES=new g3({privateKey:a,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(a){this.keysExchanged=a}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(a){gX("[KeyExchange: setOtherPubKey()]",a),this.otherPublicKey=a}encryptMessage(a){if(!this.otherPublicKey)throw Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(a,this.otherPublicKey)}decryptMessage(a){if(!this.otherPublicKey)throw Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(a)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){return JSON.stringify({keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step})}}(js=jB||(jB={})).TERMINATE="terminate",js.ANSWER="answer",js.OFFER="offer",js.CANDIDATE="candidate",js.JSONRPC="jsonrpc",js.WALLET_INFO="wallet_info",js.WALLET_INIT="wallet_init",js.ORIGINATOR_INFO="originator_info",js.PAUSE="pause",js.OTP="otp",js.AUTHORIZED="authorized",js.PING="ping",js.READY="ready",(jt=jC||(jC={})).REQUEST="sdk_connect_request_started",jt.REQUEST_MOBILE="sdk_connect_request_started_mobile",jt.RECONNECT="sdk_reconnect_request_started",jt.CONNECTED="sdk_connection_established",jt.CONNECTED_MOBILE="sdk_connection_established_mobile",jt.AUTHORIZED="sdk_connection_authorized",jt.REJECTED="sdk_connection_rejected",jt.TERMINATED="sdk_connection_terminated",jt.DISCONNECTED="sdk_disconnected",jt.SDK_USE_EXTENSION="sdk_use_extension",jt.SDK_RPC_REQUEST="sdk_rpc_request",jt.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",jt.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",jt.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",jt.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser";let hb=(a,b,c)=>cL(void 0,void 0,void 0,function*(){var d,e,f,g,h,i;let{remote:j,state:k}=a,{channelId:l,isOriginator:m}=k;if("error_terminated"===b)return gY(`handleJoinChannelResults: Channel ${l} terminated`),void a.emit(jy.TERMINATE);if(!c)return void gY(`handleJoinChannelResults: No result for channel ${l}`);let{persistence:n,walletKey:o,rejected:p}=c;if(gY(`handleJoinChannelResults: Channel ${l} persistence=${n} walletKey=${o} rejected=${p}`),p)return gY(`handleJoinChannelResults: Channel ${l} rejected`),yield a.remote.disconnect({terminate:!0}),a.remote.emit(jy.REJECTED,{channelId:l}),void a.remote.emitServiceStatusEvent();if(o&&!(null==(d=j.state.channelConfig)?void 0:d.otherKey)){a.getKeyExchange().setOtherPublicKey(o),null==(e=a.state.keyExchange)||e.setKeysExchanged(!0),j.state.ready=!0,j.state.authorized=!0,j.emit(jy.AUTHORIZED);let{communicationLayer:b,storageManager:c}=j.state,d=Object.assign(Object.assign({},j.state.channelConfig),{channelId:null!=(f=j.state.channelId)?f:"",validUntil:Date.now()+6048e5,localKey:null==b?void 0:b.getKeyInfo().ecies.private,otherKey:o});a.sendMessage({type:jA.KEY_HANDSHAKE_ACK}).catch(a=>{}),null==(g=a.state.socket)||g.emit(jB.PING,{id:l,clientType:m?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield null==c?void 0:c.persistChannelConfig(d),j.emitServiceStatusEvent(),j.setConnectionStatus(jx.LINKED)}n&&(a.emit(jy.CHANNEL_PERSISTENCE),null==(h=a.state.keyExchange)||h.setKeysExchanged(!0),j.state.ready=!0,j.state.authorized=!0,j.emit(jy.AUTHORIZED),g2(Object.assign(Object.assign({id:null!=l?l:"",event:m?jC.CONNECTED:jC.CONNECTED_MOBILE},a.remote.state.originatorInfo),{sdkVersion:a.remote.state.sdkVersion,commLayer:a.state.communicationLayerPreference,commLayerVersion:g4,walletVersion:null==(i=a.remote.state.walletInfo)?void 0:i.version}),k.communicationServerUrl).catch(a=>{}))}),hc=a=>new Promise(b=>{setTimeout(b,a)}),hd=(a,b,...c)=>cL(void 0,[a,b,...c],void 0,function*(a,b,c=200){let d,e=Date.now(),f=!1;for(;!f;){if(f=Date.now()-e>3e5,void 0!==(d=b[a]).elapsedTime)return d;yield hc(c)}throw Error(`RPC ${a} timed out`)}),he=a=>cL(void 0,void 0,void 0,function*(){let{state:b}=a,{socket:c,channelId:d,context:e,isOriginator:f,isReconnecting:g}=b;if(g)return gY("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",a),!1;if(!c)return gY("[SocketService: reconnectSocket()] socket is not defined",a),!1;if(!d)return!1;let{connected:h}=c;b.isReconnecting=!0,b.reconnectionAttempts=0,gY(`[SocketService: reconnectSocket()] connected=${h} trying to reconnect after socketio disconnection`,a);try{for(;3>b.reconnectionAttempts;){if(gY(`[SocketService: reconnectSocket()] Attempt ${b.reconnectionAttempts+1} of 3`,a),yield hc(200),c.connected)return gY("Socket already connected --- ping to retrieve messages"),c.emit(jB.PING,{id:d,clientType:f?"dapp":"wallet",context:"on_channel_config",message:""}),!0;b.resumed=!0,c.connect(),a.emit(jy.SOCKET_RECONNECT);try{if(yield new Promise((b,g)=>{c.emit(jy.JOIN_CHANNEL,{channelId:d,context:`${e}connect_again`,clientType:f?"dapp":"wallet"},(c,d)=>cL(void 0,void 0,void 0,function*(){try{yield hb(a,c,d),b()}catch(a){g(a)}}))}),yield hc(100),c.connected)return gY(`Reconnection successful on attempt ${b.reconnectionAttempts+1}`),!0}catch(a){gY(`Error during reconnection attempt ${b.reconnectionAttempts+1}:`,a)}b.reconnectionAttempts+=1,3>b.reconnectionAttempts&&(yield hc(200))}return gY("Failed to reconnect after 3 attempts"),!1}finally{b.isReconnecting=!1,b.reconnectionAttempts=0}});function hf(a,b){return cL(this,void 0,void 0,function*(){var c;let d=null==(c=a.state.keyExchange)?void 0:c.encryptMessage(JSON.stringify(b)),e={id:a.state.channelId,context:a.state.context,clientType:a.state.isOriginator?"dapp":"wallet",message:d,plaintext:a.state.hasPlaintext?JSON.stringify(b):void 0};return gY(`[SocketService: encryptAndSendMessage()] context=${a.state.context}`,e),b.type===jB.TERMINATE&&(a.state.manualDisconnect=!0),new Promise((b,c)=>{var d;null==(d=a.state.socket)||d.emit(jy.MESSAGE,e,(a,d)=>{var e;a&&(gY(`[SocketService: encryptAndSendMessage()] error=${a}`),c(a)),gY("[encryptAndSendMessage] response",d),b(null!=(e=null==d?void 0:d.success)&&e)})})})}(ju=jE||(jE={})).RPC_CHECK="rpcCheck",ju.SKIPPED_RPC="skippedRpc";let hg=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(a=>a.toLowerCase()),hh=[{event:jy.CLIENTS_CONNECTED,handler:function(a,b){return c=>cL(this,void 0,void 0,function*(){var c,d,e,f,g,h,i,j,k,l,m;let n=null!=(d=null==(c=a.remote.state.channelConfig)?void 0:c.relayPersistence)&&d;if(gY(`[SocketService: handleClientsConnected()] context=${a.state.context} on 'clients_connected-${b}' relayPersistence=${n} resumed=${a.state.resumed}  clientsPaused=${a.state.clientsPaused} keysExchanged=${null==(e=a.state.keyExchange)?void 0:e.areKeysExchanged()} isOriginator=${a.state.isOriginator}`),a.emit(jy.CLIENTS_CONNECTED,{isOriginator:a.state.isOriginator,keysExchanged:null==(f=a.state.keyExchange)?void 0:f.areKeysExchanged(),context:a.state.context}),a.state.resumed)a.state.isOriginator||(gY(`[SocketService: handleClientsConnected()] context=${a.state.context} 'clients_connected' / keysExchanged=${null==(g=a.state.keyExchange)?void 0:g.areKeysExchanged()} -- backward compatibility`),null==(h=a.state.keyExchange)||h.start({isOriginator:null!=(i=a.state.isOriginator)&&i})),a.state.resumed=!1;else if(a.state.clientsPaused)gY("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!a.state.isOriginator){let b=!n;gY(`[SocketService: handleClientsConnected()] context=${a.state.context} on 'clients_connected' / keysExchanged=${null==(j=a.state.keyExchange)?void 0:j.areKeysExchanged()} -- force=${b} -- backward compatibility`),gY(`[SocketService: handleClientsConnected()] context=${a.state.context} on 'clients_connected' / keysExchanged=${null==(k=a.state.keyExchange)?void 0:k.areKeysExchanged()} -- force=${b} -- backward compatibility`),null==(l=a.state.keyExchange)||l.start({isOriginator:null!=(m=a.state.isOriginator)&&m,force:b})}a.state.clientsConnected=!0,a.state.clientsPaused=!1})}},{event:jy.CHANNEL_CREATED,handler:function(a,b){return c=>{gY(`[SocketService: handleChannelCreated()] context=${a.state.context} on 'channel_created-${b}'`,c),a.emit(jy.CHANNEL_CREATED,c)}}},{event:jy.CLIENTS_DISCONNECTED,handler:function(a,b){return()=>{var c;a.state.clientsConnected=!1,gY(`[SocketService: handlesClientsDisconnected()] context=${a.state.context} on 'clients_disconnected-${b}'`),a.remote.state.relayPersistence?gY(`[SocketService: handlesClientsDisconnected()] context=${a.state.context} on 'clients_disconnected-${b}' - relayPersistence enabled, skipping key exchange cleanup.`):(a.state.isOriginator&&!a.state.clientsPaused&&(null==(c=a.state.keyExchange)||c.clean()),a.emit(jy.CLIENTS_DISCONNECTED,b))}}},{event:jy.CONFIG,handler:function(a,b){return c=>cL(this,void 0,void 0,function*(){var d,e,f;gY(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${b}'`,c);let{persistence:g,walletKey:h}=c;a.state.isOriginator&&a.remote.state.channelConfig?(c.walletKey&&!a.remote.state.channelConfig.otherKey&&(gY(`Setting wallet key ${h}`),a.remote.state.channelConfig.otherKey=h,a.getKeyExchange().setOtherPublicKey(c.walletKey),null==(d=a.state.keyExchange)||d.setKeysExchanged(!0),yield a.remote.sendMessage({type:jA.KEY_HANDSHAKE_ACK}),yield a.remote.sendMessage({type:jB.PING}),yield null==(e=a.remote.state.storageManager)?void 0:e.persistChannelConfig(a.remote.state.channelConfig)),!0!==g||a.remote.state.channelConfig.relayPersistence||(gY(`Setting relay persistence ${g}`),a.remote.state.channelConfig.relayPersistence=g,a.remote.state.relayPersistence=!0,a.remote.emit(jy.CHANNEL_PERSISTENCE),a.remote.state.authorized=!0,a.remote.state.ready=!0,a.remote.emit(jy.AUTHORIZED),yield null==(f=a.remote.state.storageManager)?void 0:f.persistChannelConfig(a.remote.state.channelConfig))):a.state.isOriginator||c.persistence&&(a.remote.state.relayPersistence=!0,a.remote.emit(jy.CHANNEL_PERSISTENCE))})}},{event:jy.MESSAGE,handler:function(a,b){return c=>{var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;let{ackId:v,message:w,error:x}=c,y=null!=(d=a.remote.state.relayPersistence)&&d;if(gY(`[SocketService handleMessage()]  relayPersistence=${y}  context=${a.state.context} on 'message' ${b} keysExchanged=${null==(e=a.state.keyExchange)?void 0:e.areKeysExchanged()}`,c),x)throw gY(`
      [SocketService handleMessage()] context=${a.state.context}::on 'message' error=${x}`),Error(x);let z="string"==typeof w;if(!z&&(null==w?void 0:w.type)===jA.KEY_HANDSHAKE_START){if(y)return;return gY(`[SocketService handleMessage()] context=${a.state.context}::on 'message' received HANDSHAKE_START isOriginator=${a.state.isOriginator}`,w),void(null==(f=a.state.keyExchange)||f.start({isOriginator:null!=(g=a.state.isOriginator)&&g,force:!0}))}if(!z&&(null==(h=null==w?void 0:w.type)?void 0:h.startsWith("key_handshake"))){if(y)return;return gY(`[SocketService handleMessage()] context=${a.state.context}::on 'message' emit KEY_EXCHANGE`,w),void a.emit(jz.KEY_EXCHANGE,{message:w,context:a.state.context})}if(!z||(null==(i=a.state.keyExchange)?void 0:i.areKeysExchanged())){if(!z&&(null==w?void 0:w.type))return void a.emit(jy.MESSAGE,w)}else{let b=!1;try{gY(`[SocketService handleMessage()] context=${a.state.context}::on 'message' trying to decrypt message`),null==(j=a.state.keyExchange)||j.decryptMessage(w),b=!0}catch(b){gY(`[SocketService handleMessage()] context=${a.state.context}::on 'message' error`,b)}if(!b)return a.state.isOriginator?null==(l=a.state.keyExchange)||l.start({isOriginator:null!=(m=a.state.isOriginator)&&m}):a.sendMessage({type:jA.KEY_HANDSHAKE_START}).catch(a=>{}),void gY(`Message ignored because invalid key exchange status. step=${null==(n=a.state.keyExchange)?void 0:n.getKeyInfo().step}`,null==(o=a.state.keyExchange)?void 0:o.getKeyInfo(),w);gY("Invalid key exchange status detected --- updating it."),null==(k=a.state.keyExchange)||k.setKeysExchanged(!0)}if(!z)return void a.emit(jy.MESSAGE,w);let A=null==(p=a.state.keyExchange)?void 0:p.decryptMessage(w),B=JSON.parse(null!=A?A:"{}");if(v&&(null==v?void 0:v.length)>0&&(gY(`[SocketService handleMessage()] context=${a.state.context}::on 'message' ackid=${v} channelId=${b}`),null==(q=a.state.socket)||q.emit(jy.MESSAGE_ACK,{ackId:v,channelId:b,clientType:a.state.isOriginator?"dapp":"wallet"})),a.state.clientsPaused=(null==B?void 0:B.type)===jB.PAUSE,a.state.isOriginator&&B.data){let b=B.data,c=a.state.rpcMethodTracker[b.id];if(c){let d=Date.now()-c.timestamp;gY(`[SocketService handleMessage()] context=${a.state.context}::on 'message' received answer for id=${b.id} method=${c.method} responseTime=${d}`,B),a.remote.state.analytics&&hg.includes(c.method.toLowerCase())&&g2(Object.assign(Object.assign({id:null!=(r=a.remote.state.channelId)?r:"",event:jC.SDK_RPC_REQUEST_DONE,sdkVersion:a.remote.state.sdkVersion,commLayerVersion:g4},a.remote.state.originatorInfo),{walletVersion:null==(s=a.remote.state.walletInfo)?void 0:s.version,params:{method:c.method,from:"mobile"}}),a.remote.state.communicationServerUrl).catch(a=>{}),g8(c.method)&&cH.analytics.track(b.error?4001===b.error.code?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:c.method});let e=Object.assign(Object.assign({},c),{result:b.result,error:b.error?{code:null==(t=b.error)?void 0:t.code,message:null==(u=b.error)?void 0:u.message}:void 0,elapsedTime:d});a.state.rpcMethodTracker[b.id]=e,a.emit(jy.RPC_UPDATE,e)}}a.emit(jy.MESSAGE,{message:B})}}},{event:jy.REJECTED,handler:function(a,b){return c=>cL(this,void 0,void 0,function*(){var c;a.state.isOriginator&&!a.remote.state.ready?(gY(`[SocketService: handleChannelRejected()] context=${a.state.context} channelId=${b} isOriginator=${a.state.isOriginator} ready=${a.remote.state.ready}`,a.remote.state.originatorInfo),g2(Object.assign(Object.assign({id:b,event:jC.REJECTED},a.remote.state.originatorInfo),{sdkVersion:a.remote.state.sdkVersion,commLayer:a.state.communicationLayerPreference,commLayerVersion:g4,walletVersion:null==(c=a.remote.state.walletInfo)?void 0:c.version}),a.remote.state.communicationServerUrl).catch(a=>{}),cH.analytics.track("sdk_connection_rejected",{transport_type:"websocket"}),yield a.remote.disconnect({terminate:!0}),a.remote.emit(jy.REJECTED,{channelId:b}),a.remote.setConnectionStatus(jx.DISCONNECTED)):gY(`[SocketService: handleChannelRejected()] SKIP -- channelId=${b} isOriginator=${a.state.isOriginator} ready=${a.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(a,b){return c=>{gY(`[SocketService: handleClientsWaitingToJoin()] context=${a.state.context} on 'clients_waiting_to_join-${b}'`,c),a.emit(jy.CLIENTS_WAITING,c)}}}],hi=[{event:jy.KEY_INFO,handler:function(a){return b=>{gY("[SocketService: handleKeyInfo()] on 'KEY_INFO'",b),a.emit(jy.KEY_INFO,b)}}},{event:jy.KEYS_EXCHANGED,handler:function(a){return()=>{var b,c,d;gY(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${null==(b=a.state.keyExchange)?void 0:b.areKeysExchanged()}`);let{channelConfig:e}=a.remote.state;if(e){let b=a.getKeyExchange().getKeyInfo().ecies;e.localKey=b.private,e.otherKey=b.otherPubKey,a.remote.state.channelConfig=e,null==(c=a.remote.state.storageManager)||c.persistChannelConfig(e).catch(a=>{})}a.emit(jy.KEYS_EXCHANGED,{keysExchanged:null==(d=a.state.keyExchange)?void 0:d.areKeysExchanged(),isOriginator:a.state.isOriginator});let f={keyInfo:a.getKeyInfo()};a.emit(jy.SERVICE_STATUS,f)}}}];function hj(a,b){gY(`[SocketService: setupChannelListener()] context=${a.state.context} setting socket listeners for channel ${b}...`);let{socket:c}=a.state,{keyExchange:d}=a.state;c&&a.state.isOriginator&&(a.state.debug&&(null==c||c.io.on("error",b=>{gY(`[SocketService: setupChannelListener()] context=${a.state.context} socket event=error`,b)}),null==c||c.io.on("reconnect",b=>{gY(`[SocketService: setupChannelListener()] context=${a.state.context} socket event=reconnect`,b),he(a).catch(a=>{})}),null==c||c.io.on("reconnect_error",b=>{gY(`[SocketService: setupChannelListener()] context=${a.state.context} socket event=reconnect_error`,b)}),null==c||c.io.on("reconnect_failed",()=>{gY(`[SocketService: setupChannelListener()] context=${a.state.context} socket event=reconnect_failed`)})),null==c||c.on("disconnect",b=>(gY(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${b}' begin recovery...`),(b=>{gY(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${a.state.manualDisconnect}`,b),a.state.manualDisconnect||(a.emit(jy.SOCKET_DISCONNECTED),he(a).catch(a=>{}))})(b)))),hh.forEach(({event:d,handler:e})=>{null==c||c.on(`${d}-${b}`,e(a,b))}),hi.forEach(({event:b,handler:c})=>{null==d||d.on(b,c(a))}),a.state.setupChannelListeners=!0}class hk extends cI.EventEmitter2{constructor(a){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=a;const{reconnect:b,communicationLayerPreference:c,communicationServerUrl:d,context:e,remote:f,logging:g}=a;this.state.resumed=b,this.state.context=e,this.state.isOriginator=f.state.isOriginator,this.state.communicationLayerPreference=c,this.state.debug=!0===(null==g?void 0:g.serviceLayer),this.remote=f,!0===(null==g?void 0:g.serviceLayer)&&cG.default.enable("SocketService:Layer"),this.state.communicationServerUrl=d,this.state.hasPlaintext=this.state.communicationServerUrl!==g5&&!0===(null==g?void 0:g.plaintext),gY(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var a;let{otherPublicKey:b,ecies:c,logging:d}=this.options,e=this.state.communicationServerUrl;gY(`[SocketService: initSocket()] Socket IO url: ${e}`),this.state.socket=(0,bC.io)(e,{autoConnect:!1,transports:g6,withCredentials:!0});let f={communicationLayer:this,otherPublicKey:b,sendPublicKey:!1,context:null!=(a=this.state.context)?a:"",ecies:c,logging:d};this.state.keyExchange=new ha(f)}resetKeys(){var a;return gY("[SocketService: resetKeys()] Resetting keys."),void(null==(a=this.state.keyExchange)||a.resetKeys())}createChannel(){return cL(this,void 0,void 0,function*(){return function(a){return cL(this,void 0,void 0,function*(){var b,c,d;if(gY(`[SocketService: createChannel()] context=${a.state.context}`),a.state.socket||a.initSocket(),null==(b=a.state.socket)?void 0:b.connected)throw Error("socket already connected");null==(c=a.state.socket)||c.connect(),a.state.manualDisconnect=!1,a.state.isOriginator=!0;let e=(0,cK.default)();a.state.channelId=e,hj(a,e),yield new Promise((b,c)=>{var d;null==(d=a.state.socket)||d.emit(jy.JOIN_CHANNEL,{channelId:e,context:`${a.state.context}createChannel`,clientType:"dapp"},(d,e)=>cL(this,void 0,void 0,function*(){try{yield hb(a,d,e),b()}catch(a){c(a)}}))});let f=null==(d=a.state.keyExchange)?void 0:d.getKeyInfo();return{channelId:e,pubKey:(null==f?void 0:f.ecies.public)||"",privKey:(null==f?void 0:f.ecies.private)||""}})}(this)})}connectToChannel({channelId:a,withKeyExchange:b=!1,authorized:c}){return function(a){return cL(this,arguments,void 0,function*({options:a,instance:b}){let{channelId:c,authorized:d,withKeyExchange:e}=a,{state:f,remote:g}=b,{isOriginator:h=!1,socket:i,keyExchange:j}=f,{channelConfig:k}=g.state;if(null==i?void 0:i.connected)throw Error("socket already connected");if(h&&(null==k?void 0:k.relayPersistence)){let{localKey:a,otherKey:b}=k;a&&b&&(null==j||j.setRelayPersistence({localKey:a,otherKey:b}))}return Object.assign(f,{manualDisconnect:!1,withKeyExchange:e,isOriginator:h,channelId:c}),null==i||i.connect(),hj(b,c),!h&&d&&(null==j||j.setKeysExchanged(!0),Object.assign(g.state,{ready:!0,authorized:!0})),new Promise(a=>{var e;let g=null==(e=null==j?void 0:j.getKeyInfo())?void 0:e.ecies.public;null==i||i.emit(jy.JOIN_CHANNEL,{channelId:c,context:`${f.context}_connectToChannel`,clientType:h?"dapp":"wallet",publicKey:d&&!h?g:void 0},(c,d)=>cL(this,void 0,void 0,function*(){yield hb(b,c,d),a()}))})})}({options:{channelId:a,withKeyExchange:b,authorized:c},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var a;null==(a=this.state.socket)||a.emit(jy.MESSAGE,{id:this.state.channelId,context:this.state.context,message:{type:jA.KEY_HANDSHAKE_CHECK,pubkey:this.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(a){return cL(this,void 0,void 0,function*(){return function(a,b){return cL(this,void 0,void 0,function*(){var c,d,e,f,g;let h,i;if(!a.state.channelId)throw gY("handleSendMessage: no channelId - Create a channel first"),Error("Create a channel first");if(gY(`[SocketService: handleSendMessage()] context=${a.state.context} areKeysExchanged=${null==(c=a.state.keyExchange)?void 0:c.areKeysExchanged()}`,b),null==(d=null==b?void 0:b.type)?void 0:d.startsWith("key_handshake"))return gY(`[SocketService: handleKeyHandshake()] context=${a.state.context}`,b),null==(f=a.state.socket)||f.emit(jy.MESSAGE,{id:a.state.channelId,context:a.state.context,clientType:a.state.isOriginator?"dapp":"wallet",message:b}),!0;!function(a,b){var c;if(!(null==(c=a.state.keyExchange)?void 0:c.areKeysExchanged())&&!a.remote.state.relayPersistence)throw gY(`[SocketService: validateKeyExchange()] context=${a.state.context} ERROR keys not exchanged`,b),Error("Keys not exchanged BBB")}(a,b),h=null!=(g=null==b?void 0:b.method)?g:"",i=null==b?void 0:b.id,a.state.isOriginator&&i&&(a.state.rpcMethodTracker[i]={id:i,timestamp:Date.now(),method:h},a.emit(jy.RPC_UPDATE,a.state.rpcMethodTracker[i]));let j=yield hf(a,b);return a.remote.state.analytics&&a.remote.state.isOriginator&&b.method&&hg.includes(b.method.toLowerCase())&&g2({id:null!=(e=a.remote.state.channelId)?e:"",event:jC.SDK_RPC_REQUEST,params:{method:b.method,from:"mobile"}},a.remote.state.communicationServerUrl).catch(a=>{}),a.remote.state.isOriginator&&b.method&&g8(b.method)&&cH.analytics.track("sdk_action_requested",{action:b.method}),(function(a,b){return cL(this,void 0,void 0,function*(){var c;let d=null==b?void 0:b.id,e=null!=(c=null==b?void 0:b.method)?c:"";if(a.state.isOriginator&&d)try{let c=hd(d,a.state.rpcMethodTracker,200).then(a=>({type:jE.RPC_CHECK,result:a})),f=cL(this,void 0,void 0,function*(){let b,c=yield(b={instance:a,rpcId:d},cL(void 0,[b],void 0,function*({rpcId:a,instance:b}){for(;b.state.lastRpcId===a||void 0===b.state.lastRpcId;)yield hc(200);return b.state.lastRpcId})),e=yield hd(c,a.state.rpcMethodTracker,200);return{type:jE.SKIPPED_RPC,result:e}}),g=yield Promise.race([c,f]);if(g.type===jE.RPC_CHECK){let a=g.result;gY(`[SocketService:handleRpcReplies()] id=${b.id} ${e} ( ${a.elapsedTime} ms)`,a.result)}else{if(g.type!==jE.SKIPPED_RPC)throw Error(`Error handling RPC replies for ${d}`);{let b=Object.assign(Object.assign({},a.state.rpcMethodTracker[d]),{error:Error("SDK_CONNECTION_ISSUE")});a.emit(jy.RPC_UPDATE,b);let c={data:Object.assign(Object.assign({},b),{jsonrpc:"2.0"}),name:"metamask-provider"};a.emit(jy.MESSAGE,{message:c})}}}catch(a){throw a}})})(a,b).catch(a=>{}),j})}(this,a)})}ping(){return function(a){return cL(this,void 0,void 0,function*(){var b,c;gY(`[SocketService: ping()] context=${a.state.context} originator=${a.state.isOriginator} keysExchanged=${null==(b=a.state.keyExchange)?void 0:b.areKeysExchanged()}`),null==(c=a.state.socket)||c.emit(jB.PING,{id:a.state.channelId,context:"ping",clientType:a.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(a){return cL(this,void 0,void 0,function*(){var b,c;gY(`[SocketService: pause()] context=${a.state.context}`),a.state.manualDisconnect=!0,(null==(b=a.state.keyExchange)?void 0:b.areKeysExchanged())&&(yield a.sendMessage({type:jB.PAUSE})),null==(c=a.state.socket)||c.disconnect()})}(this)}isConnected(){var a;return null==(a=this.state.socket)?void 0:a.connected}resume(){return function(a){return cL(this,void 0,void 0,function*(){let{state:b,remote:c}=a,{socket:d,channelId:e,context:f,keyExchange:g,isOriginator:h}=b,{isOriginator:i}=c.state;if(gY(`[SocketService: resume()] channelId=${e} context=${f} connected=${null==d?void 0:d.connected} manualDisconnect=${b.manualDisconnect} resumed=${b.resumed} keysExchanged=${null==g?void 0:g.areKeysExchanged()}`),!e)throw gY("[SocketService: resume()] channelId is not defined"),Error("ChannelId is not defined");(null==d?void 0:d.connected)?(gY("[SocketService: resume()] already connected."),d.emit(jB.PING,{id:e,clientType:i?"dapp":"wallet",context:"on_channel_config",message:""}),c.hasRelayPersistence()||(null==g?void 0:g.areKeysExchanged())||(h?yield a.sendMessage({type:jB.READY}):null==g||g.start({isOriginator:!1}))):(null==d||d.connect(),gY(`[SocketService: resume()] after connecting socket --> connected=${null==d?void 0:d.connected}`),null==d||d.emit(jy.JOIN_CHANNEL,{channelId:e,context:`${f}_resume`,clientType:i?"dapp":"wallet"},(b,c)=>cL(this,void 0,void 0,function*(){try{yield hb(a,b,c)}catch(a){}}))),b.manualDisconnect=!1,b.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(a){var b,c,d,e,f;gY(`[SocketService: disconnect()] context=${this.state.context}`,a),(null==a?void 0:a.terminate)&&(null==(c=(b=this.state).removeFocusListener)||c.call(b),this.state.channelId=a.channelId,null==(d=this.state.socket)||d.removeAllListeners(),null==(e=this.state.keyExchange)||e.clean(),this.remote.state.ready=!1,this.state.socket=void 0,this.state.rpcMethodTracker={}),this.state.manualDisconnect=!0,null==(f=this.state.socket)||f.disconnect()}}function hl({communicationLayerPreference:a,otherPublicKey:b,reconnect:c,ecies:d,communicationServerUrl:e=g5,instance:f}){var g,h,i,j,k,l,m,n,o,p;let{state:q}=f;if(g$("[initCommunicationLayer()] ",JSON.stringify(q,null,2)),a!==jF.SOCKET)throw Error("Invalid communication protocol");q.communicationLayer=new hk({communicationLayerPreference:a,otherPublicKey:b,reconnect:c,transports:q.transports,communicationServerUrl:e,context:q.context,ecies:d,logging:q.logging,remote:f});let r="undefined"!=typeof document&&document.URL||"",s="undefined"!=typeof document&&document.title||"";(null==(g=q.dappMetadata)?void 0:g.url)&&(r=q.dappMetadata.url),(null==(h=q.dappMetadata)?void 0:h.name)&&(s=q.dappMetadata.name);let t=null!=(l=null!=(j=null==(i=q.dappMetadata)?void 0:i.name)?j:null==(k=q.dappMetadata)?void 0:k.url)?l:"N/A",u={url:r,title:s,source:null==(m=q.dappMetadata)?void 0:m.source,dappId:t,anonId:q.anonId,icon:(null==(n=q.dappMetadata)?void 0:n.iconUrl)||(null==(o=q.dappMetadata)?void 0:o.base64Icon),platform:q.platformType,apiVersion:g4,connector:null==(p=q.dappMetadata)?void 0:p.connector};for(let[b,c]of(q.originatorInfo=u,Object.entries({[jy.AUTHORIZED]:function(a){return()=>cL(this,void 0,void 0,function*(){var b,c,d;let{state:e}=a;if(e.authorized)return;yield cL(this,void 0,void 0,function*(){for(;!e.walletInfo;)yield hc(500)});let f="7.3".localeCompare((null==(b=e.walletInfo)?void 0:b.version)||"");if(g$(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${null==(c=e.walletInfo)?void 0:c.version} compareValue=${f}`),1!==f)return;let g=e.platformType===jG.MobileWeb||e.platformType===jG.ReactNative||e.platformType===jG.MetaMaskMobileWebview;g$(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${e.platformType} secure=${g} channel=${e.channelId} walletVersion=${null==(d=e.walletInfo)?void 0:d.version}`),g&&(e.authorized=!0,a.emit(jy.AUTHORIZED))})}(f),[jy.MESSAGE]:a=>{let b=a;a.message&&(b=b.message),function(a,b){let{state:c}=b;if(g$(`[RemoteCommunication: onCommunicationLayerMessage()] context=${c.context} on 'message' typeof=${typeof a}`,a),b.state.ready=!0,c.isOriginator||a.type!==jB.ORIGINATOR_INFO)if(c.isOriginator&&a.type===jB.WALLET_INFO)!function(a,b){let{state:c}=a;c.walletInfo=b.walletInfo,c.paused=!1}(b,a);else{if(c.isOriginator&&a.type===jB.WALLET_INIT)(function(a,b){return cL(this,void 0,void 0,function*(){var c,d,e;let{state:f}=a;if(f.isOriginator){let f=b.data||{};if("object"==typeof f&&"accounts"in f&&"chainId"in f&&"walletKey"in f)try{let{channelConfig:b}=a.state;if(g$("WALLET_INIT: channelConfig",JSON.stringify(b,null,2)),b){let g=f.accounts,h=f.chainId,i=f.walletKey,j,k=!1;"deeplinkProtocol"in f&&(k=!!f.deeplinkProtocol,a.state.deeplinkProtocolAvailable=k),"walletVersion"in f&&(j=f.walletVersion),yield null==(c=a.state.storageManager)?void 0:c.persistChannelConfig(Object.assign(Object.assign({},b),{otherKey:i,walletVersion:j,deeplinkProtocolAvailable:k,relayPersistence:!0})),yield null==(d=a.state.storageManager)?void 0:d.persistAccounts(g),yield null==(e=a.state.storageManager)?void 0:e.persistChainId(h)}a.emit(jy.WALLET_INIT,{accounts:f.accounts,chainId:f.chainId})}catch(a){}}})})(b,a).catch(a=>{g$(`[RemoteCommunication: onCommunicationLayerMessage()] error=${a}`)});else if(a.type===jB.TERMINATE)(function(a){return cL(this,void 0,void 0,function*(){let{state:b}=a;b.isOriginator&&(yield hm({options:{terminate:!0,sendMessage:!1},instance:a}),a.emit(jy.TERMINATE))})})(b).catch(a=>{g$(`[RemoteCommunication: onCommunicationLayerMessage()] error=${a}`)});else if(a.type===jB.PAUSE)!function(a){let{state:b}=a;b.paused=!0,a.setConnectionStatus(jx.PAUSED)}(b);else if(a.type===jB.READY&&c.isOriginator)!function(a){let{state:b}=a;a.setConnectionStatus(jx.LINKED);let c=b.paused;b.paused=!1,a.emit(jy.CLIENTS_READY,{isOriginator:b.isOriginator,walletInfo:b.walletInfo}),c&&(b.authorized=!0,a.emit(jy.AUTHORIZED))}(b);else{if(a.type===jB.OTP&&c.isOriginator)return function(a,b){var c;let{state:d}=a;a.emit(jy.OTP,b.otpAnswer),1==="6.6".localeCompare((null==(c=d.walletInfo)?void 0:c.version)||"")&&a.emit(jy.SDK_RPC_CALL,{method:"eth_requestAccounts",params:[]})}(b,a);a.type===jB.AUTHORIZED&&c.isOriginator&&function(a){let{state:b}=a;b.authorized=!0,a.emit(jy.AUTHORIZED)}(b)}b.emit(jy.MESSAGE,a)}else!function(a,b){var c;let{state:d}=a;null==(c=d.communicationLayer)||c.sendMessage({type:jB.WALLET_INFO,walletInfo:d.walletInfo}),d.originatorInfo=b.originatorInfo||b.originator,a.emit(jy.CLIENTS_READY,{isOriginator:d.isOriginator,originatorInfo:d.originatorInfo}),d.paused=!1}(b,a)}(b,f)},[jy.CHANNEL_PERSISTENCE]:function(a){return()=>cL(this,void 0,void 0,function*(){var b,c,d,e,f,g,h;let{state:i}=a;g$(`[RemoteCommunication: handleFullPersistenceEvent()] context=${i.context}`),a.state.ready=!0,a.state.clientsConnected=!0,a.state.authorized=!0,a.state.relayPersistence=!0,null==(b=a.state.communicationLayer)||b.getKeyExchange().setKeysExchanged(!0),a.emit(jy.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),a.emit(jy.AUTHORIZED),a.emit(jy.CLIENTS_READY),a.emit(jy.CHANNEL_PERSISTENCE);try{i.channelConfig=Object.assign(Object.assign({},i.channelConfig),{localKey:null==(c=i.communicationLayer)?void 0:c.getKeyExchange().getKeyInfo().ecies.private,otherKey:null==(d=i.communicationLayer)?void 0:d.getKeyExchange().getOtherPublicKey(),channelId:null!=(e=i.channelId)?e:"",validUntil:null!=(g=null==(f=i.channelConfig)?void 0:f.validUntil)?g:6048e5,relayPersistence:!0}),yield null==(h=i.storageManager)?void 0:h.persistChannelConfig(i.channelConfig)}catch(a){}})}(f),[jy.CLIENTS_CONNECTED]:()=>{var b,c,d,e;let{state:g}=f;g$(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${g.channelId} keysExchanged=${null==(c=null==(b=g.communicationLayer)?void 0:b.getKeyInfo())?void 0:c.keysExchanged}`),g.analytics&&g2(Object.assign(Object.assign({id:null!=(d=g.channelId)?d:"",event:g.reconnection?jC.RECONNECT:g.isOriginator?jC.REQUEST:jC.REQUEST_MOBILE},g.originatorInfo),{commLayer:a,sdkVersion:g.sdkVersion,walletVersion:null==(e=g.walletInfo)?void 0:e.version,commLayerVersion:g4}),g.communicationServerUrl).catch(a=>{}),g.isOriginator&&!g.reconnection&&cH.analytics.track("sdk_connection_established",{transport_type:"websocket"}),g.clientsConnected=!0,g.originatorInfoSent=!1,f.emit(jy.CLIENTS_CONNECTED)},[jy.KEYS_EXCHANGED]:b=>{var c,d,e,g,h,i,j,k;let{state:l}=f;if(g$(`[RemoteCommunication: handleKeysExchangedEvent()] context=${l.context} on commLayer.'keys_exchanged' channel=${l.channelId}`,b),null==(d=null==(c=l.communicationLayer)?void 0:c.getKeyInfo())?void 0:d.keysExchanged){let a=Object.assign(Object.assign({},l.channelConfig),{channelId:null!=(e=l.channelId)?e:"",validUntil:(null==(g=l.channelConfig)?void 0:g.validUntil)||6048e5,localKey:l.communicationLayer.getKeyInfo().ecies.private,otherKey:l.communicationLayer.getKeyInfo().ecies.otherPubKey});null==(h=l.storageManager)||h.persistChannelConfig(a).catch(a=>{}),f.setConnectionStatus(jx.LINKED)}!function(a,b){var c,d,e,f,g,h,i,j;let{state:k}=a;g$(`[RemoteCommunication: setLastActiveDate()] channel=${k.channelId}`,b);let l=Object.assign(Object.assign({},k.channelConfig),{channelId:null!=(c=k.channelId)?c:"",validUntil:null!=(e=null==(d=k.channelConfig)?void 0:d.validUntil)?e:0,relayPersistence:k.relayPersistence,localKey:null==(g=null==(f=k.communicationLayer)?void 0:f.state.keyExchange)?void 0:g.getKeyInfo().ecies.private,otherKey:null==(i=null==(h=k.communicationLayer)?void 0:h.state.keyExchange)?void 0:i.getKeyInfo().ecies.otherPubKey,lastActive:b.getTime()});null==(j=k.storageManager)||j.persistChannelConfig(l)}(f,new Date),l.analytics&&l.channelId&&g2(Object.assign(Object.assign({id:l.channelId,event:b.isOriginator?jC.CONNECTED:jC.CONNECTED_MOBILE},l.originatorInfo),{sdkVersion:l.sdkVersion,commLayer:a,commLayerVersion:g4,walletVersion:null==(i=l.walletInfo)?void 0:i.version}),l.communicationServerUrl).catch(a=>{}),l.isOriginator=b.isOriginator,b.isOriginator||(null==(j=l.communicationLayer)||j.sendMessage({type:jB.READY}),l.ready=!0,l.paused=!1),b.isOriginator&&!l.originatorInfoSent&&(null==(k=l.communicationLayer)||k.sendMessage({type:jB.ORIGINATOR_INFO,originatorInfo:l.originatorInfo,originator:l.originatorInfo}),l.originatorInfoSent=!0)},[jy.SOCKET_DISCONNECTED]:()=>{let{state:a}=f;g$("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),a.ready=!1},[jy.SOCKET_RECONNECT]:()=>{let{state:a}=f;g$("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),a.ready=!1,a.authorized=!1,g9(a),f.emitServiceStatusEvent({context:"socket_reconnect"})},[jy.CLIENTS_DISCONNECTED]:a=>{let{state:b}=f;g$(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${b.context} on 'clients_disconnected' channelId=${a}`),b.relayPersistence||(b.clientsConnected=!1,b.ready=!1,b.authorized=!1),f.emit(jy.CLIENTS_DISCONNECTED,b.channelId),f.setConnectionStatus(jx.DISCONNECTED)},[jy.KEY_INFO]:()=>{},[jy.CHANNEL_CREATED]:a=>{let{state:b}=f;g$(`[RemoteCommunication: handleChannelCreatedEvent()] context=${b.context} on 'channel_created' channelId=${a}`),f.emit(jy.CHANNEL_CREATED,a)},[jy.CLIENTS_WAITING]:a=>{var b;let{state:c}=f;if(g$(`[RemoteCommunication: handleClientsWaitingEvent()] context=${c.context} on 'clients_waiting' numberUsers=${a} ready=${c.ready} autoStarted=${c.originatorConnectStarted}`),f.setConnectionStatus(jx.WAITING),f.emit(jy.CLIENTS_WAITING,a),c.originatorConnectStarted){g$(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${c.originatorConnectStarted} timeout`,c.autoConnectOptions);let a=(null==(b=c.autoConnectOptions)?void 0:b.timeout)||3e3,d=setTimeout(()=>{g$(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${a}) terminate channelConfig`,c.autoConnectOptions),c.originatorConnectStarted=!1,c.ready||f.setConnectionStatus(jx.TIMEOUT),clearTimeout(d)},a)}},[jy.RPC_UPDATE]:a=>{f.emit(jy.RPC_UPDATE,a)}})))try{q.communicationLayer.on(b,c)}catch(a){}}function hm(a){return cL(this,arguments,void 0,function*({options:a,instance:b}){let{state:c}=b;return g$(`[RemoteCommunication: disconnect()] channel=${c.channelId}`,a),new Promise((d,e)=>{var f,g,h,i,j,k;(null==a?void 0:a.terminate)?(b.state.ready&&g2({id:null!=(f=b.state.channelId)?f:"",event:jC.TERMINATED},b.state.communicationServerUrl).catch(a=>{}),c.ready=!1,c.paused=!1,null==(g=c.storageManager)||g.terminate(null!=(h=c.channelId)?h:""),b.state.terminated=!0,a.sendMessage?(null==(i=c.communicationLayer)?void 0:i.getKeyInfo().keysExchanged)&&b.state.communicationLayer&&hf(b.state.communicationLayer,{type:jB.TERMINATE}).then(()=>{d(!0)}).catch(a=>{e(a)}):d(!0),c.authorized=!1,c.relayPersistence=!1,c.channelId=(0,cK.default)(),a.channelId=c.channelId,c.channelConfig=void 0,c.originatorConnectStarted=!1,null==(j=c.communicationLayer)||j.disconnect(a),b.setConnectionStatus(jx.TERMINATED)):(null==(k=c.communicationLayer)||k.disconnect(a),b.setConnectionStatus(jx.DISCONNECTED),d(!0))})})}(jF||(jF={})).SOCKET="socket",(jv=jG||(jG={})).NonBrowser="nodejs",jv.MetaMaskMobileWebview="in-app-browser",jv.DesktopWeb="web-desktop",jv.MobileWeb="web-mobile",jv.ReactNative="react-native";class hn extends cI.EventEmitter2{constructor(a){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:g5,context:"",persist:!1,clientsConnected:!1,sessionDuration:6048e5,originatorConnectStarted:!1,debug:!1,_connectionStatus:jx.DISCONNECTED},this._options=a;const{anonId:b,platformType:c,communicationLayerPreference:d,otherPublicKey:e,reconnect:f,walletInfo:g,dappMetadata:h,protocolVersion:i,transports:j,context:k,relayPersistence:l,ecies:m,analytics:n=!1,storage:o,sdkVersion:p,communicationServerUrl:q=g5,logging:r,autoConnect:s={timeout:3e3}}=a;this.state.anonId=b,this.state.otherPublicKey=e,this.state.dappMetadata=h,this.state.walletInfo=g,this.state.transports=j,this.state.platformType=c,this.state.analytics=n,this.state.protocolVersion=null!=i?i:1,this.state.isOriginator=!e,this.state.relayPersistence=l,this.state.communicationServerUrl=q,this.state.context=k,this.state.terminated=!1,this.state.sdkVersion=p,this.setMaxListeners(50),this.setConnectionStatus(jx.DISCONNECTED),(null==o?void 0:o.duration)&&(this.state.sessionDuration=6048e5),this.state.storageOptions=o,this.state.autoConnectOptions=s,this.state.debug=!0===(null==r?void 0:r.remoteLayer),!0===(null==r?void 0:r.remoteLayer)&&cG.default.enable("RemoteCommunication:Layer"),!0===(null==r?void 0:r.serviceLayer)&&cG.default.enable("SocketService:Layer"),!0===(null==r?void 0:r.eciesLayer)&&cG.default.enable("ECIES:Layer"),!0===(null==r?void 0:r.keyExchangeLayer)&&cG.default.enable("KeyExchange:Layer"),this.state.logging=r,(null==o?void 0:o.storageManager)&&(this.state.storageManager=o.storageManager),g$(`[RemoteCommunication: constructor()] protocolVersion=${i} relayPersistence=${l} isOriginator=${this.state.isOriginator} communicationLayerPreference=${d} otherPublicKey=${e} reconnect=${f}`),this.state.isOriginator||hl({communicationLayerPreference:d,otherPublicKey:e,reconnect:f,ecies:m,communicationServerUrl:q,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return cL(this,void 0,void 0,function*(){var a;if(this.state.storageManager){let b=yield this.state.storageManager.getPersistedChannelConfig({});b&&(this.state.channelConfig=b,this.state.channelId=b.channelId,this.state.deeplinkProtocolAvailable=null!=(a=b.deeplinkProtocolAvailable)&&a,b.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(jx.LINKED),yield this.connectToChannel({channelId:b.channelId})))}hl({communicationLayerPreference:jF.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return cL(this,void 0,void 0,function*(){return yield function(a){return cL(this,void 0,void 0,function*(){var b;let{state:c}=a;if(!c.storageManager)return void g$("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");let d=yield c.storageManager.getPersistedChannelConfig({});if(g$(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${c.originatorConnectStarted} channelConfig`,d),null==(b=c.communicationLayer)?void 0:b.isConnected())return g$("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),d;if(d){if(d.validUntil>Date.now())return c.channelConfig=d,c.originatorConnectStarted=!0,c.channelId=null==d?void 0:d.channelId,c.reconnection=!0,d;g$("[RemoteCommunication: autoConnect()] Session has expired")}c.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return cL(this,void 0,void 0,function*(){return function(a){return cL(this,void 0,void 0,function*(){var b,c,d,e,f,g;if(!a.communicationLayer)throw Error("communication layer not initialized");if(a.ready)throw Error("Channel already connected");if(a.channelId&&(null==(b=a.communicationLayer)?void 0:b.isConnected()))return a.channelConfig=Object.assign(Object.assign({},a.channelConfig),{channelId:a.channelId,validUntil:Date.now()+a.sessionDuration}),null==(c=a.storageManager)||c.persistChannelConfig(a.channelConfig),{channelId:a.channelId,privKey:null==(e=null==(d=a.communicationLayer)?void 0:d.getKeyInfo())?void 0:e.ecies.private,pubKey:null==(g=null==(f=a.communicationLayer)?void 0:f.getKeyInfo())?void 0:g.ecies.public};g$("[RemoteCommunication: generateChannelId()]");let h=yield a.communicationLayer.createChannel();g$("[RemoteCommunication: generateChannelId()] channel created",h);let i=Object.assign(Object.assign({},a.channelConfig),{channelId:h.channelId,localKey:h.privKey,validUntil:Date.now()+a.sessionDuration});return a.channelId=h.channelId,a.channelConfig=i,{channelId:a.channelId,pubKey:h.pubKey,privKey:h.privKey}})}(this.state)})}clean(){return g9(this.state)}connectToChannel({channelId:a,withKeyExchange:b,authorized:c}){return function(a){return cL(this,arguments,void 0,function*({channelId:a,withKeyExchange:b,authorized:c,state:d}){var e,f,g;if(!(0,cJ.default)(a))throw g$(`[RemoteCommunication: connectToChannel()] context=${d.context} invalid channel channelId=${a}`),Error(`Invalid channel ${a}`);if(g$(`[RemoteCommunication: connectToChannel()] context=${d.context} channelId=${a} withKeyExchange=${b}`),null==(e=d.communicationLayer)?void 0:e.isConnected())return void g$(`[RemoteCommunication: connectToChannel()] context=${d.context} already connected - interrupt connection.`);d.channelId=a,yield null==(f=d.communicationLayer)?void 0:f.connectToChannel({channelId:a,authorized:c,withKeyExchange:b});let h=Object.assign(Object.assign({},d.channelConfig),{channelId:a,validUntil:Date.now()+d.sessionDuration});d.channelConfig=h,null==(g=d.storageManager)||g.persistChannelConfig(h)})}({channelId:a,authorized:c,withKeyExchange:b,state:this.state})}sendMessage(a){return cL(this,void 0,void 0,function*(){let b=this.state.isOriginator&&a.method&&g8(a.method);b&&cH.analytics.track("sdk_action_requested",{action:a.method});try{return yield function(a,b){return cL(this,void 0,void 0,function*(){var c,d;let{state:e}=a;g$(`[RemoteCommunication: sendMessage()] context=${e.context} paused=${e.paused} ready=${e.ready} relayPersistence=${e.relayPersistence} authorized=${e.authorized} socket=${null==(c=e.communicationLayer)?void 0:c.isConnected()} clientsConnected=${e.clientsConnected} status=${e._connectionStatus}`,b),e.relayPersistence||e.ready&&(null==(d=e.communicationLayer)?void 0:d.isConnected())&&e.clientsConnected||(g$(`[RemoteCommunication: sendMessage()] context=${e.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(b=>{a.once(jy.CLIENTS_READY,b)}),g$(`[RemoteCommunication: sendMessage()] context=${e.context}  AFTER SKIP / READY -- sending pending message`));try{return yield function(a,b){return cL(this,void 0,void 0,function*(){return new Promise(c=>{var d;let{state:e}=a;g$(`[RemoteCommunication: handleAuthorization()] context=${e.context} ready=${e.ready} authorized=${e.authorized} method=${b.method}`),!e.isOriginator||e.authorized||e.relayPersistence?null==(d=e.communicationLayer)||d.sendMessage(b).then(a=>{c(a)}).catch(a=>{c(!1)}):a.once(jy.AUTHORIZED,()=>{var a;g$(`[RemoteCommunication: handleAuthorization()] context=${e.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),null==(a=e.communicationLayer)||a.sendMessage(b).then(a=>{c(a)}).catch(a=>{c(!1)})})})})}(a,b)}catch(a){throw a}})}(this,a)}catch(c){throw b&&cH.analytics.track("sdk_action_failed",{action:a.method}),c}})}testStorage(){return cL(this,void 0,void 0,function*(){return function(a){return cL(this,void 0,void 0,function*(){var b;g$("[RemoteCommunication: testStorage()] res",(yield null==(b=a.storageManager)?void 0:b.getPersistedChannelConfig()))})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var a;return null==(a=this.state.communicationLayer)?void 0:a.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return cL(this,void 0,void 0,function*(){var a;g$(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield null==(a=this.state.communicationLayer)?void 0:a.ping()})}testLogger(){g$(`testLogger() channel=${this.state.channelId}`),gY(`testLogger() channel=${this.state.channelId}`),gZ(`testLogger() channel=${this.state.channelId}`),gX(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var a;g$(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),null==(a=this.state.communicationLayer)||a.keyCheck()}setConnectionStatus(a){this.state._connectionStatus!==a&&(this.state._connectionStatus=a,this.emit(jy.CONNECTION_STATUS,a),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(a={}){this.emit(jy.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var a;return null==(a=this.state.communicationLayer)?void 0:a.getKeyInfo()}resetKeys(){var a;null==(a=this.state.communicationLayer)||a.resetKeys()}setOtherPublicKey(a){var b;let c=null==(b=this.state.communicationLayer)?void 0:b.getKeyExchange();if(!c)throw Error("KeyExchange is not initialized.");c.getOtherPublicKey()!==a&&c.setOtherPublicKey(a)}pause(){return cL(this,void 0,void 0,function*(){var a;g$(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield null==(a=this.state.communicationLayer)?void 0:a.pause(),this.setConnectionStatus(jx.PAUSED)})}getVersion(){return g4}hasRelayPersistence(){var a;return null!=(a=this.state.relayPersistence)&&a}resume(){return cL(this,void 0,void 0,function*(){return function(a){return cL(this,void 0,void 0,function*(){var b;let{state:c}=a;g$(`[RemoteCommunication: resume()] channel=${c.channelId}`),yield null==(b=c.communicationLayer)?void 0:b.resume(),a.setConnectionStatus(jx.LINKED)})}(this)})}encrypt(a){var b,c,d;let e=null==(b=this.state.communicationLayer)?void 0:b.getKeyExchange(),f=null==e?void 0:e.getOtherPublicKey();if(!f)throw Error("KeyExchange not completed");return null==(d=null==(c=this.state.communicationLayer)?void 0:c.state.eciesInstance)?void 0:d.encrypt(a,f)}decrypt(a){var b,c,d;if(!(null==(b=this.state.communicationLayer)?void 0:b.state.eciesInstance))throw Error("ECIES instance is not initialized");return null==(d=null==(c=this.state.communicationLayer)?void 0:c.state.eciesInstance)?void 0:d.decrypt(a)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var a;return null==(a=this.state.communicationLayer)?void 0:a.getRPCMethodTracker()}reject({channelId:a}){return function(a){return cL(this,arguments,void 0,function*({channelId:a,state:b}){var c,d,e;if(!(0,cJ.default)(a))throw g$(`[RemoteCommunication: connectToChannel()] context=${b.context} invalid channel channelId=${a}`),Error(`Invalid channel ${a}`);if(b.isOriginator)return void g$(`[RemoteCommunication: reject()] context=${b.context} isOriginator=${b.isOriginator} channelId=${a}`);let{socket:f}=null!=(d=null==(c=b.communicationLayer)?void 0:c.state)?d:{};(null==f?void 0:f.connected)||(g$(`[RemoteCommunication: reject()] context=${b.context} socket already connected`),null==f||f.connect()),g2(Object.assign(Object.assign({id:a,event:jC.REJECTED},b.originatorInfo),{sdkVersion:b.sdkVersion,commLayerVersion:g4,walletVersion:null==(e=b.walletInfo)?void 0:e.version}),b.communicationServerUrl).catch(a=>{}),yield new Promise((c,d)=>{null==f||f.emit(jy.REJECTED,{channelId:a},(a,e)=>{g$(`[RemoteCommunication: reject()] context=${b.context} socket=${null==f?void 0:f.id}`,{error:a,response:e}),a?d(a):c(e)})})})}({channelId:a,state:this.state})}disconnect(a){return cL(this,void 0,void 0,function*(){return hm({options:a,instance:this})})}}(jw=jH||(jH={})).RENEW="renew",jw.LINK="link";var ho=()=>"MetaMask: Disconnected from chain. Attempting to connect.",hp=()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",hq=()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",hr=a=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${a} without a callback parameter.`,hs=()=>"Must provide a Node.js-style duplex stream.",ht=()=>"MetaMask: Received invalid network parameters. Please report this bug.",hu=()=>"Expected a single, non-array, object argument.",hv=()=>"'args.method' must be a non-empty string.",hw=()=>"'args.params' must be an object or array if provided.",hx=a=>`MetaMask: Connected to chain with ID "${a}".`,hy="MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23",hz="MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23",hA="MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23",hB="MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",hC="MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",hD={close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},hE={ethDecryptDeprecation:"MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686",ethGetEncryptionPublicKeyDeprecation:"MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686",walletWatchAssetNFTExperimental:"MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle"},hF="MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning.",hG=Math.floor(0xffffffff*Math.random()),hH=(a,b,c)=>{if(!b.has(a))throw TypeError("Cannot "+c)},hI=(a,b,c)=>(hH(a,b,"read from private field"),c?c.call(a):b.get(a)),hJ=(a,b,c)=>{if(b.has(a))throw TypeError("Cannot add the same private member more than once");b instanceof WeakSet?b.add(a):b.set(a,c)},hK=(a,b,c,d)=>(hH(a,b,"write to private field"),b.set(a,c),c),hL=(a,b,c)=>(hH(a,b,"access private method"),c),hM={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function hN(a){return!!a&&"object"==typeof a&&!Array.isArray(a)}var hO=(a,b)=>Object.hasOwnProperty.call(a,b);class hP extends TypeError{constructor(a,b){let c;const{message:d,explanation:e,...f}=a,{path:g}=a,h=0===g.length?d:`At path: ${g.join(".")} -- ${d}`;super(e??h),null!=e&&(this.cause=h),Object.assign(this,f),this.name=this.constructor.name,this.failures=()=>c??(c=[a,...b()])}}function hQ(a){return"object"==typeof a&&null!=a}function hR(a){return"symbol"==typeof a?a.toString():"string"==typeof a?JSON.stringify(a):`${a}`}function*hS(a,b,c,d){var e;for(let f of(hQ(e=a)&&"function"==typeof e[Symbol.iterator]||(a=[a]),a)){let a=function(a,b,c,d){if(!0===a)return;!1===a?a={}:"string"==typeof a&&(a={message:a});let{path:e,branch:f}=b,{type:g}=c,{refinement:h,message:i=`Expected a value of type \`${g}\`${h?` with refinement \`${h}\``:""}, but received: \`${hR(d)}\``}=a;return{value:d,type:g,refinement:h,key:e[e.length-1],path:e,branch:f,...a,message:i}}(f,b,c,d);a&&(yield a)}}function*hT(a,b,c={}){let{path:d=[],branch:e=[a],coerce:f=!1,mask:g=!1}=c,h={path:d,branch:e};if(f&&(a=b.coercer(a,h),g&&"type"!==b.type&&hQ(b.schema)&&hQ(a)&&!Array.isArray(a)))for(let c in a)void 0===b.schema[c]&&delete a[c];let i="valid";for(let d of b.validator(a,h))d.explanation=c.message,i="not_valid",yield[d,void 0];for(let[j,k,l]of b.entries(a,h))for(let b of hT(k,l,{path:void 0===j?d:[...d,j],branch:void 0===j?e:[...e,k],coerce:f,mask:g,message:c.message}))b[0]?(i=null!=b[0].refinement?"not_refined":"not_valid",yield[b[0],void 0]):f&&(k=b[1],void 0===j?a=k:a instanceof Map?a.set(j,k):a instanceof Set?a.add(k):hQ(a)&&(void 0!==k||j in a)&&(a[j]=k));if("not_valid"!==i)for(let d of b.refiner(a,h))d.explanation=c.message,i="not_refined",yield[d,void 0];"valid"===i&&(yield[void 0,a])}class hU{constructor(a){const{type:b,schema:c,validator:d,refiner:e,coercer:f=a=>a,entries:g=function*(){}}=a;this.type=b,this.schema=c,this.entries=g,this.coercer=f,this.validator=d?(a,b)=>hS(d(a,b),b,this,a):()=>[],this.refiner=e?(a,b)=>hS(e(a,b),b,this,a):()=>[]}assert(a,b){return hV(a,this,b)}create(a,b){return hW(a,this,b)}is(a){return hX(a,this)}mask(a,b){let c=hY(a,this,{coerce:!0,mask:!0,message:b});if(c[0])throw c[0];return c[1]}validate(a,b={}){return hY(a,this,b)}}function hV(a,b,c){let d=hY(a,b,{message:c});if(d[0])throw d[0]}function hW(a,b,c){let d=hY(a,b,{coerce:!0,message:c});if(d[0])throw d[0];return d[1]}function hX(a,b){return!hY(a,b)[0]}function hY(a,b,c={}){let d=hT(a,b,c),e=function(a){let{done:b,value:c}=a.next();return b?void 0:c}(d);return e[0]?[new hP(e[0],function*(){for(let a of d)a[0]&&(yield a[0])}),void 0]:[void 0,e[1]]}function hZ(a,b){return new hU({type:a,schema:null,validator:b})}function h$(a){let b;return new hU({type:"lazy",schema:null,*entries(c,d){b??(b=a()),yield*b.entries(c,d)},validator:(c,d)=>(b??(b=a()),b.validator(c,d)),coercer:(c,d)=>(b??(b=a()),b.coercer(c,d)),refiner:(c,d)=>(b??(b=a()),b.refiner(c,d))})}function h_(a){return new hU({type:"array",schema:a,*entries(b){if(a&&Array.isArray(b))for(let[c,d]of b.entries())yield[c,d,a]},coercer:a=>Array.isArray(a)?a.slice():a,validator:a=>Array.isArray(a)||`Expected an array value, but received: ${hR(a)}`})}function h0(a){let b=hR(a),c=typeof a;return new hU({type:"literal",schema:"string"===c||"number"===c||"boolean"===c?a:null,validator:c=>c===a||`Expected the literal \`${b}\`, but received: ${hR(c)}`})}function h1(){return hZ("number",a=>"number"==typeof a&&!isNaN(a)||`Expected a number, but received: ${hR(a)}`)}function h2(a){let b=a?Object.keys(a):[],c=hZ("never",()=>!1);return new hU({type:"object",schema:a||null,*entries(d){if(a&&hQ(d)){let e=new Set(Object.keys(d));for(let c of b)e.delete(c),yield[c,d[c],a[c]];for(let a of e)yield[a,d[a],c]}},validator:a=>hQ(a)||`Expected an object, but received: ${hR(a)}`,coercer:a=>hQ(a)?{...a}:a})}function h3(a){return new hU({...a,validator:(b,c)=>void 0===b||a.validator(b,c),refiner:(b,c)=>void 0===b||a.refiner(b,c)})}function h4(a,b){return new hU({type:"record",schema:null,*entries(c){if(hQ(c))for(let d in c){let e=c[d];yield[d,d,a],yield[d,e,b]}},validator:a=>hQ(a)||`Expected an object, but received: ${hR(a)}`})}function h5(){return hZ("string",a=>"string"==typeof a||`Expected a string, but received: ${hR(a)}`)}function h6(a){let b=a.map(a=>a.type).join(" | ");return new hU({type:"union",schema:null,coercer(b){for(let c of a){let[a,d]=c.validate(b,{coerce:!0});if(!a)return d}return b},validator(c,d){let e=[];for(let b of a){let[...a]=hT(c,b,d),[f]=a;if(!f[0])return[];for(let[b]of a)b&&e.push(b)}return[`Expected the value to satisfy a union of \`${b}\`, but received: ${hR(c)}`,...e]}})}var h7=class extends Error{constructor(a){super(a.message),this.code="ERR_ASSERTION"}};function h8(){throw Error("setTimeout has not been defined")}function h9(){throw Error("clearTimeout has not been defined")}var ia=h8,ib=h9;function ic(a){if(ia===setTimeout)return setTimeout(a,0);if((ia===h8||!ia)&&setTimeout)return ia=setTimeout,setTimeout(a,0);try{return ia(a,0)}catch(b){try{return ia.call(null,a,0)}catch(b){return ia.call(this,a,0)}}}"function"==typeof cM.setTimeout&&(ia=setTimeout),"function"==typeof cM.clearTimeout&&(ib=clearTimeout);var id,ie,ig,ih,ii,ij,ik,il,im,io,ip,iq,ir,is,it,iu,iv,iw,ix,iy,iz,iA,iB,iC,iD,iE,iF,iG,iH,iI,iJ,iK,iL,iM,iN,iO,iP,iQ,iR,iS,iT,iU,iV,iW,iX,iY,iZ,i$,i_,i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,ja,jb,jc,jd,je,jf,jg,jh,ji,jj,jk,jl,jm,jn,jo,jp,jq,jr,js,jt,ju,jv,jw,jx,jy,jz,jA,jB,jC,jD,jE,jF,jG,jH,jI,jJ=[],jK=!1,jL=-1;function jM(){jK&&jI&&(jK=!1,jI.length?jJ=jI.concat(jJ):jL=-1,jJ.length&&jN())}function jN(){if(!jK){var a=ic(jM);jK=!0;for(var b=jJ.length;b;){for(jI=jJ,jJ=[];++jL<b;)jI&&jI[jL].run();jL=-1,b=jJ.length}jI=null,jK=!1,function(a){if(ib===clearTimeout)return clearTimeout(a);if((ib===h9||!ib)&&clearTimeout)return ib=clearTimeout,clearTimeout(a);try{ib(a)}catch(b){try{return ib.call(null,a)}catch(b){return ib.call(this,a)}}}(a)}}function jO(a,b){this.fun=a,this.array=b}function jP(){}jO.prototype.run=function(){this.fun.apply(null,this.array)};var jQ=cM.performance||{},jR=jQ.now||jQ.mozNow||jQ.msNow||jQ.oNow||jQ.webkitNow||function(){return(new Date).getTime()},jS=new Date,jT={nextTick:function(a){var b=Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];jJ.push(new jO(a,b)),1!==jJ.length||jK||ic(jN)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:jP,addListener:jP,once:jP,off:jP,removeListener:jP,removeAllListeners:jP,emit:jP,binding:function(a){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(a){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(a){var b=.001*jR.call(jQ),c=Math.floor(b),d=Math.floor(b%1*1e9);return a&&(c-=a[0],(d-=a[1])<0&&(c--,d+=1e9)),[c,d]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-jS)/1e3}};function jU({path:a,branch:b}){let c=a[a.length-1];return hO(b[b.length-2],c)}function jV(a){return new hU({...a,type:`optional ${a.type}`,validator:(b,c)=>!jU(c)||a.validator(b,c),refiner:(b,c)=>!jU(c)||a.refiner(b,c)})}var jW,jX,jY=h6([h0(null),hZ("boolean",a=>"boolean"==typeof a),hZ("finite number",a=>hX(a,h1())&&Number.isFinite(a)),h5(),h_(h$(()=>jY)),h4(h5(),h$(()=>jY))]),jZ=(jW=hZ("any",()=>!0),jX=a=>((function(a,b,c="Assertion failed",d=h7){try{hV(a,b)}catch(a){var e,f;throw e=d,f=`${c}: ${("object"==typeof a&&null!==a&&"message"in a&&"string"==typeof a.message?a.message:null==a?"":String(a)).replace(/\.$/u,"")}.`,"string"==typeof e?.prototype?.constructor?.name?new e({message:f}):e({message:f})}})(a,jY),JSON.parse(JSON.stringify(a,(a,b)=>{if("__proto__"!==a&&"constructor"!==a)return b}))),new hU({...jY,coercer:(a,b)=>hX(a,jW)?jY.coercer(jX(a,b),b):jY.coercer(a,b)}));function j$(a){try{return hW(a,jZ),!0}catch{return!1}}var j_=h0("2.0"),j0=new hU({...kz=h6([h1(),h5()]),validator:(a,b)=>null===a||kz.validator(a,b),refiner:(a,b)=>null===a||kz.refiner(a,b)}),j1=h2({code:hZ("integer",a=>"number"==typeof a&&!isNaN(a)&&Number.isInteger(a)||`Expected an integer, but received: ${hR(a)}`),message:h5(),data:jV(jZ),stack:jV(h5())}),j2=h6([h4(h5(),jZ),h_(jZ)]),j3=h2({id:j0,jsonrpc:j_,method:h5(),params:jV(j2)}),j4=h2({jsonrpc:j_,method:h5(),params:jV(j2)});h2({id:j0,jsonrpc:j_,result:h3(hZ("unknown",()=>!0)),error:h3(j1)}),h6([h2({id:j0,jsonrpc:j_,result:jZ}),h2({id:j0,jsonrpc:j_,error:j1})]);var j5={code:-32603,message:j6(-32603)};function j6(a,b="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(a)){let b=a.toString();if(hO(hM,b))return hM[b].message;if(a>=-32099&&a<=-32e3)return"Unspecified server error."}return b}function j7(a,{fallbackError:b=j5,shouldIncludeStack:c=!0}={}){if(!hX(b,j1))throw Error("Must provide fallback error with integer number code and string message.");let d=function(a,b){if(a&&"object"==typeof a&&"serialize"in a&&"function"==typeof a.serialize)return a.serialize();if(hX(a,j1))return a;let c=j8(a);return{...b,data:{cause:c}}}(a,b);return c||delete d.stack,d}function j8(a){return Array.isArray(a)?a.map(a=>j$(a)?a:hN(a)?j9(a):null):hN(a)?j9(a):j$(a)?a:null}function j9(a){return Object.getOwnPropertyNames(a).reduce((b,c)=>{let d=a[c];return j$(d)&&(b[c]=d),b},{})}kf.default=kf,kf.stable=ki,kf.stableStringify=ki;var ka="[...]",kb="[Circular]",kc=[],kd=[];function ke(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function kf(a,b,c,d){var e;void 0===d&&(d=ke()),function a(b,c,d,e,f,g,h){var i;if(g+=1,"object"==typeof b&&null!==b){for(i=0;i<e.length;i++)if(e[i]===b)return void kg(kb,b,c,f);if(void 0!==h.depthLimit&&g>h.depthLimit||void 0!==h.edgesLimit&&d+1>h.edgesLimit)return void kg(ka,b,c,f);if(e.push(b),Array.isArray(b))for(i=0;i<b.length;i++)a(b[i],i,i,e,b,g,h);else{var j=Object.keys(b);for(i=0;i<j.length;i++){var k=j[i];a(b[k],k,i,e,b,g,h)}}e.pop()}}(a,"",0,[],void 0,0,d);try{e=0===kd.length?JSON.stringify(a,b,c):JSON.stringify(a,kj(b),c)}catch(a){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==kc.length;){var f=kc.pop();4===f.length?Object.defineProperty(f[0],f[1],f[3]):f[0][f[1]]=f[2]}}return e}function kg(a,b,c,d){var e=Object.getOwnPropertyDescriptor(d,c);void 0!==e.get?e.configurable?(Object.defineProperty(d,c,{value:a}),kc.push([d,c,b,e])):kd.push([b,c,a]):(d[c]=a,kc.push([d,c,b]))}function kh(a,b){return a<b?-1:+(a>b)}function ki(a,b,c,d){void 0===d&&(d=ke());var e,f=function a(b,c,d,e,f,g,h){var i;if(g+=1,"object"==typeof b&&null!==b){for(i=0;i<e.length;i++)if(e[i]===b)return void kg(kb,b,c,f);try{if("function"==typeof b.toJSON)return}catch(a){return}if(void 0!==h.depthLimit&&g>h.depthLimit||void 0!==h.edgesLimit&&d+1>h.edgesLimit)return void kg(ka,b,c,f);if(e.push(b),Array.isArray(b))for(i=0;i<b.length;i++)a(b[i],i,i,e,b,g,h);else{var j={},k=Object.keys(b).sort(kh);for(i=0;i<k.length;i++){var l=k[i];a(b[l],l,i,e,b,g,h),j[l]=b[l]}if(void 0===f)return j;kc.push([f,c,b]),f[c]=j}e.pop()}}(a,"",0,[],void 0,0,d)||a;try{e=0===kd.length?JSON.stringify(f,b,c):JSON.stringify(f,kj(b),c)}catch(a){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==kc.length;){var g=kc.pop();4===g.length?Object.defineProperty(g[0],g[1],g[3]):g[0][g[1]]=g[2]}}return e}function kj(a){return a=void 0!==a?a:function(a,b){return b},function(b,c){if(kd.length>0)for(var d=0;d<kd.length;d++){var e=kd[d];if(e[1]===b&&e[0]===c){c=e[2],kd.splice(d,1);break}}return a.call(this,b,c)}}var kk=dt(kf),kl=class extends Error{constructor(a,b,c){if(!Number.isInteger(a))throw Error('"code" must be an integer.');if(!b||"string"!=typeof b)throw Error('"message" must be a non-empty string.');super(b),this.code=a,void 0!==c&&(this.data=c)}serialize(){let a={code:this.code,message:this.message};return void 0!==this.data&&(a.data=this.data,function(a){if("object"!=typeof a||null===a)return!1;try{let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}catch(a){return!1}}(this.data)&&(a.data.cause=j8(this.data.cause))),this.stack&&(a.stack=this.stack),a}toString(){return kk(this.serialize(),km,2)}};function km(a,b){if("[Circular]"!==b)return b}function kn(a,b){let[c,d]=function(a){if(a){if("string"==typeof a)return[a];if("object"==typeof a&&!Array.isArray(a)){let{message:b,data:c}=a;if(b&&"string"!=typeof b)throw Error("Must specify string message.");return[b??void 0,c]}}return[]}(b);return new kl(a,c??j6(a),d)}var ko={};function kp(){}function kq(){kq.init.call(this)}function kr(a){return void 0===a._maxListeners?kq.defaultMaxListeners:a._maxListeners}function ks(a,b,c,d){var e,f,g;if("function"!=typeof c)throw TypeError('"listener" argument must be a function');if((f=a._events)?(f.newListener&&(a.emit("newListener",b,c.listener?c.listener:c),f=a._events),g=f[b]):(f=a._events=new kp,a._eventsCount=0),g){if("function"==typeof g?g=f[b]=d?[c,g]:[g,c]:d?g.unshift(c):g.push(c),!g.warned&&(e=kr(a))&&e>0&&g.length>e){g.warned=!0;var h=Error("Possible EventEmitter memory leak detected. "+g.length+" "+b+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=a,h.type=b,h.count=g.length,"function"==typeof console.warn?console.warn(h):console.log(h)}}else g=f[b]=c,++a._eventsCount;return a}function kt(a,b,c){var d=!1;function e(){a.removeListener(b,e),d||(d=!0,c.apply(a,arguments))}return e.listener=c,e}function ku(a){var b=this._events;if(b){var c=b[a];if("function"==typeof c)return 1;if(c)return c.length}return 0}function kv(a,b){for(var c=Array(b);b--;)c[b]=a[b];return c}kp.prototype=Object.create(null),kq.EventEmitter=kq,kq.usingDomains=!1,kq.prototype.domain=void 0,kq.prototype._events=void 0,kq.prototype._maxListeners=void 0,kq.defaultMaxListeners=10,kq.init=function(){this.domain=null,kq.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new kp,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},kq.prototype.setMaxListeners=function(a){if("number"!=typeof a||a<0||isNaN(a))throw TypeError('"n" argument must be a positive number');return this._maxListeners=a,this},kq.prototype.getMaxListeners=function(){return kr(this)},kq.prototype.emit=function(a){var b,c,d,e,f,g,h,i="error"===a;if(g=this._events)i=i&&null==g.error;else if(!i)return!1;if(h=this.domain,i){if(b=arguments[1],!h){if(b instanceof Error)throw b;var j=Error('Uncaught, unspecified "error" event. ('+b+")");throw j.context=b,j}return b||(b=Error('Uncaught, unspecified "error" event')),b.domainEmitter=this,b.domain=h,b.domainThrown=!1,h.emit("error",b),!1}if(!(c=g[a]))return!1;var k="function"==typeof c;switch(d=arguments.length){case 1:!function(a,b,c){if(b)a.call(c);else for(var d=a.length,e=kv(a,d),f=0;f<d;++f)e[f].call(c)}(c,k,this);break;case 2:!function(a,b,c,d){if(b)a.call(c,d);else for(var e=a.length,f=kv(a,e),g=0;g<e;++g)f[g].call(c,d)}(c,k,this,arguments[1]);break;case 3:!function(a,b,c,d,e){if(b)a.call(c,d,e);else for(var f=a.length,g=kv(a,f),h=0;h<f;++h)g[h].call(c,d,e)}(c,k,this,arguments[1],arguments[2]);break;case 4:!function(a,b,c,d,e,f){if(b)a.call(c,d,e,f);else for(var g=a.length,h=kv(a,g),i=0;i<g;++i)h[i].call(c,d,e,f)}(c,k,this,arguments[1],arguments[2],arguments[3]);break;default:for(e=Array(d-1),f=1;f<d;f++)e[f-1]=arguments[f];!function(a,b,c,d){if(b)a.apply(c,d);else for(var e=a.length,f=kv(a,e),g=0;g<e;++g)f[g].apply(c,d)}(c,k,this,e)}return!0},kq.prototype.addListener=function(a,b){return ks(this,a,b,!1)},kq.prototype.on=kq.prototype.addListener,kq.prototype.prependListener=function(a,b){return ks(this,a,b,!0)},kq.prototype.once=function(a,b){if("function"!=typeof b)throw TypeError('"listener" argument must be a function');return this.on(a,kt(this,a,b)),this},kq.prototype.prependOnceListener=function(a,b){if("function"!=typeof b)throw TypeError('"listener" argument must be a function');return this.prependListener(a,kt(this,a,b)),this},kq.prototype.removeListener=function(a,b){var c,d,e,f,g;if("function"!=typeof b)throw TypeError('"listener" argument must be a function');if(!(d=this._events)||!(c=d[a]))return this;if(c===b||c.listener&&c.listener===b)0==--this._eventsCount?this._events=new kp:(delete d[a],d.removeListener&&this.emit("removeListener",a,c.listener||b));else if("function"!=typeof c){for(e=-1,f=c.length;f-- >0;)if(c[f]===b||c[f].listener&&c[f].listener===b){g=c[f].listener,e=f;break}if(e<0)return this;if(1===c.length){if(c[0]=void 0,0==--this._eventsCount)return this._events=new kp,this;delete d[a]}else{for(var h=c,i=e,j=i,k=j+1,l=h.length;k<l;j+=1,k+=1)h[j]=h[k];h.pop()}d.removeListener&&this.emit("removeListener",a,g||b)}return this},kq.prototype.off=function(a,b){return this.removeListener(a,b)},kq.prototype.removeAllListeners=function(a){var b,c;if(!(c=this._events))return this;if(!c.removeListener)return 0==arguments.length?(this._events=new kp,this._eventsCount=0):c[a]&&(0==--this._eventsCount?this._events=new kp:delete c[a]),this;if(0==arguments.length){for(var d,e=Object.keys(c),f=0;f<e.length;++f)"removeListener"!==(d=e[f])&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=new kp,this._eventsCount=0,this}if("function"==typeof(b=c[a]))this.removeListener(a,b);else if(b)do this.removeListener(a,b[b.length-1]);while(b[0])return this},kq.prototype.listeners=function(a){var b,c=this._events;return c&&(b=c[a])?"function"==typeof b?[b.listener||b]:function(a){for(var b=Array(a.length),c=0;c<b.length;++c)b[c]=a[c].listener||a[c];return b}(b):[]},kq.listenerCount=function(a,b){return"function"==typeof a.listenerCount?a.listenerCount(b):ku.call(a,b)},kq.prototype.listenerCount=ku,kq.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var kw=du(Object.freeze({__proto__:null,EventEmitter:kq,default:kq}));Object.defineProperty(ko,"__esModule",{value:!0});let kx=kw;function ky(a,b,c){try{Reflect.apply(a,b,c)}catch(a){setTimeout(()=>{throw a})}}var kz,kA,kB,kC,kD,kE,kF,kG,kH,kI,kJ,kK,kL,kM,kN,kO,kP,kQ,kR,kS,kT=ko.default=class extends kx.EventEmitter{emit(a,...b){let c="error"===a,d=this._events;if(void 0!==d)c=c&&void 0===d.error;else if(!c)return!1;if(c){let a;if(b.length>0&&([a]=b),a instanceof Error)throw a;let c=Error("Unhandled error."+(a?` (${a.message})`:""));throw c.context=a,c}let e=d[a];if(void 0===e)return!1;if("function"==typeof e)ky(e,this,b);else{let a=e.length,c=function(a){let b=a.length,c=Array(b);for(let d=0;d<b;d+=1)c[d]=a[d];return c}(e);for(let d=0;d<a;d+=1)ky(c[d],this,b)}return!0}},kU=class a extends kT{constructor({notificationHandler:a}={}){super(),hJ(this,kD),hJ(this,kF),hJ(this,kH),hJ(this,kA,!1),hJ(this,kB,void 0),hJ(this,kC,void 0),hK(this,kB,[]),hK(this,kC,a)}destroy(){hI(this,kB).forEach(a=>{"destroy"in a&&"function"==typeof a.destroy&&a.destroy()}),hK(this,kB,[]),hK(this,kA,!0)}push(a){hL(this,kD,kE).call(this),hI(this,kB).push(a)}handle(a,b){if(hL(this,kD,kE).call(this),b&&"function"!=typeof b)throw Error('"callback" must be a function if provided.');return Array.isArray(a)?b?hL(this,kF,kG).call(this,a,b):hL(this,kF,kG).call(this,a):b?hL(this,kH,kI).call(this,a,b):this._promiseHandle(a)}asMiddleware(){return hL(this,kD,kE).call(this),async(b,c,d,e)=>{try{let[f,g,h]=await hL(a,kL,kM).call(a,b,c,hI(this,kB));return g?(await hL(a,kP,kQ).call(a,h),e(f)):d(async b=>{try{await hL(a,kP,kQ).call(a,h)}catch(a){return b(a)}return b()})}catch(a){return e(a)}}}async _promiseHandle(a){return new Promise((b,c)=>{hL(this,kH,kI).call(this,a,(a,d)=>{a&&void 0===d?c(a):b(d)}).catch(c)})}};function kV(a){return JSON.stringify(a,null,2)}kA=new WeakMap,kB=new WeakMap,kC=new WeakMap,kD=new WeakSet,kE=function(){if(hI(this,kA))throw Error("This engine is destroyed and can no longer be used.")},kF=new WeakSet,kG=async function(a,b){try{if(0===a.length){let a=[{id:null,jsonrpc:"2.0",error:new kl(-32600,"Request batch must contain plain objects. Received an empty array")}];return b?b(null,a):a}let c=(await Promise.all(a.map(this._promiseHandle.bind(this)))).filter(a=>void 0!==a);return b?b(null,c):c}catch(a){if(b)return b(a);throw a}},kH=new WeakSet,kI=async function(a,b){if(!a||Array.isArray(a)||"object"!=typeof a){let c=new kl(-32600,"Requests must be plain objects. Received: "+typeof a,{request:a});return b(c,{id:null,jsonrpc:"2.0",error:c})}if("string"!=typeof a.method){let c=new kl(-32600,"Must specify a string method. Received: "+typeof a.method,{request:a});return hI(this,kC)&&!hX(a,j3)?b(null):b(c,{id:a.id??null,jsonrpc:"2.0",error:c})}if(hI(this,kC)&&hX(a,j4)&&!hX(a,j3)){try{await hI(this,kC).call(this,a)}catch(a){return b(a)}return b(null)}let c=null,d={...a},e={id:d.id,jsonrpc:d.jsonrpc};try{await hL(kU,kJ,kK).call(kU,d,e,hI(this,kB))}catch(a){c=a}return c&&(delete e.result,e.error||(e.error=j7(c))),b(c,e)},kJ=new WeakSet,kK=async function(a,b,c){let[d,e,f]=await hL(kU,kL,kM).call(kU,a,b,c);if(hL(kU,kR,kS).call(kU,a,b,e),await hL(kU,kP,kQ).call(kU,f),d)throw d},kL=new WeakSet,kM=async function(a,b,c){let d=[],e=null,f=!1;for(let g of c)if([e,f]=await hL(kU,kN,kO).call(kU,a,b,g,d),f)break;return[e,f,d.reverse()]},kN=new WeakSet,kO=async function(a,b,c,d){return new Promise(e=>{let f=a=>{let c=a||b.error;c&&(b.error=j7(c)),e([c,!0])};try{c(a,b,c=>{b.error?f(b.error):(c&&("function"!=typeof c&&f(new kl(-32603,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${kV(a)}`,{request:a})),d.push(c)),e([null,!1]))},f)}catch(a){f(a)}})},kP=new WeakSet,kQ=async function(a){for(let b of a)await new Promise((a,c)=>{b(b=>b?c(b):a())})},kR=new WeakSet,kS=function(a,b,c){if(!hO(b,"result")&&!hO(b,"error"))throw new kl(-32603,`JsonRpcEngine: Response has no error or result for request:
${kV(a)}`,{request:a});if(!c)throw new kl(-32603,`JsonRpcEngine: Nothing ended request:
${kV(a)}`,{request:a})},hJ(kU,kJ),hJ(kU,kL),hJ(kU,kN),hJ(kU,kP),hJ(kU,kR);var kW=Object.freeze(["eth_subscription"]),kX=(a,b,c=!0)=>(d,e)=>{d||e.error?b(d||e.error):!c||Array.isArray(e)?a(e):a(e.result)},kY=a=>!!a&&"string"==typeof a&&a.startsWith("0x"),kZ=()=>{};async function k$(a,b){try{let b=await async function(){return{name:function(a){let{document:b}=a,c=b.querySelector('head > meta[property="og:site_name"]');if(c)return c.content;let d=b.querySelector('head > meta[name="title"]');return d?d.content:b.title&&b.title.length>0?b.title:window.location.hostname}(window),icon:await k_(window)}}();a.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:b},kZ)}catch(a){b.error({message:hq(),originalError:a})}}async function k_(a){let{document:b}=a;for(let a of Array.from(b.querySelectorAll('head > link[rel~="icon"]')))if(a&&await k0(a.href))return a.href;return null}async function k0(a){return new Promise((b,c)=>{try{let c=document.createElement("img");c.onload=()=>b(!0),c.onerror=()=>b(!1),c.src=a}catch(a){c(a)}})}var k1=(a,b,c)=>{if(!b.has(a))throw TypeError("Cannot "+c)},k2=(a,b,c)=>(k1(a,b,"read from private field"),c?c.call(a):b.get(a)),k3=(a,b,c)=>{if(b.has(a))throw TypeError("Cannot add the same private member more than once");b instanceof WeakSet?b.add(a):b.set(a,c)},k4=(a,b,c,d)=>(k1(a,b,"write to private field"),b.set(a,c),c);function k5(a,b,c){try{Reflect.apply(a,b,c)}catch(a){setTimeout(()=>{throw a})}}class k6 extends kq{emit(a,...b){let c="error"===a,d=this._events;if(void 0!==d)c=c&&void 0===d.error;else if(!c)return!1;if(c){let a;if(b.length>0&&([a]=b),a instanceof Error)throw a;let c=Error("Unhandled error."+(a?` (${a.message})`:""));throw c.context=a,c}let e=d[a];if(void 0===e)return!1;if("function"==typeof e)k5(e,this,b);else{let a=e.length,c=function(a){let b=a.length,c=Array(b);for(let d=0;d<b;d+=1)c[d]=a[d];return c}(e);for(let d=0;d<a;d+=1)k5(c[d],this,b)}return!0}}var k7,k8,k9=dt(function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}),la=class a extends k6{constructor({logger:b=console,maxEventListeners:c=100,rpcMiddleware:d=[]}={}){super(),k3(this,k7,void 0),k3(this,k8,void 0),this._log=b,this.setMaxListeners(c),this._state={...a._defaultState},k4(this,k8,null),k4(this,k7,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const e=new kU;d.forEach(a=>e.push(a)),this._rpcEngine=e}get chainId(){return k2(this,k7)}get selectedAddress(){return k2(this,k8)}isConnected(){return this._state.isConnected}async request(a){if(!a||"object"!=typeof a||Array.isArray(a))throw kn(-32600,{message:hu(),data:a});let{method:b,params:c}=a;if("string"!=typeof b||0===b.length)throw kn(-32600,{message:hv(),data:a});if(void 0!==c&&!Array.isArray(c)&&("object"!=typeof c||null===c))throw kn(-32600,{message:hw(),data:a});let d=null==c?{method:b}:{method:b,params:c};return new Promise((a,b)=>{this._rpcRequest(d,kX(a,b))})}_initializeState(a){if(this._state.initialized)throw Error("Provider already initialized.");if(a){let{accounts:b,chainId:c,isUnlocked:d,networkVersion:e}=a;this._handleConnect(c),this._handleChainChanged({chainId:c,networkVersion:e}),this._handleUnlockStateChanged({accounts:b,isUnlocked:d}),this._handleAccountsChanged(b)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(a,b){let c=b;return Array.isArray(a)||(a.jsonrpc||(a.jsonrpc="2.0"),"eth_accounts"!==a.method&&"eth_requestAccounts"!==a.method||(c=(c,d)=>{this._handleAccountsChanged(d.result??[],"eth_accounts"===a.method),b(c,d)})),this._rpcEngine.handle(a,c)}_handleConnect(a){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:a}),this._log.debug(hx(a)))}_handleDisconnect(a,b){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!a){let c;this._state.isConnected=!1,a?(c=new kl(1013,b??ho()),this._log.debug(c)):(c=new kl(1011,b??hp()),this._log.error(c),k4(this,k7,null),this._state.accounts=null,k4(this,k8,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",c)}}_handleChainChanged({chainId:a}={}){kY(a)?(this._handleConnect(a),a!==k2(this,k7)&&(k4(this,k7,a),this._state.initialized&&this.emit("chainChanged",k2(this,k7)))):this._log.error(ht(),{chainId:a})}_handleAccountsChanged(a,b=!1){let c=a;for(let b of(Array.isArray(a)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",a),c=[]),a))if("string"!=typeof b){this._log.error("MetaMask: Received non-string account. Please report this bug.",a),c=[];break}if(!k9(this._state.accounts,c)&&(b&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",c),this._state.accounts=c,k2(this,k8)!==c[0]&&k4(this,k8,c[0]||null),this._state.initialized)){let a=[...c];this.emit("accountsChanged",a)}}_handleUnlockStateChanged({accounts:a,isUnlocked:b}={}){"boolean"==typeof b?b!==this._state.isUnlocked&&(this._state.isUnlocked=b,this._handleAccountsChanged(a??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};k7=new WeakMap,k8=new WeakMap,la._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var lb,lc=la,ld={exports:{}},le=kw.EventEmitter,lf=du(dr);lb="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a};var lg=Object.getOwnPropertyDescriptors||function(a){for(var b=Object.keys(a),c={},d=0;d<b.length;d++)c[b[d]]=Object.getOwnPropertyDescriptor(a,b[d]);return c},lh=/%[sdj%]/g;function li(a){if(!ly(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(ln(arguments[c]));return b.join(" ")}c=1;for(var d=arguments,e=d.length,f=String(a).replace(lh,function(a){if("%%"===a)return"%";if(c>=e)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(a){return"[Circular]"}default:return a}}),g=d[c];c<e;g=d[++c])lv(g)||!lC(g)?f+=" "+g:f+=" "+ln(g);return f}function lj(a,b){if(lA(cM.process))return function(){return lj(a,b).apply(this,arguments)};if(!0===jT.noDeprecation)return a;var c=!1;return function(){if(!c){if(jT.throwDeprecation)throw Error(b);jT.traceDeprecation?console.trace(b):console.error(b),c=!0}return a.apply(this,arguments)}}var lk,ll={};function lm(a){return lA(lk)&&(lk=jT.env.NODE_DEBUG||""),ll[a=a.toUpperCase()]||(RegExp("\\b"+a+"\\b","i").test(lk)?ll[a]=function(){var b=li.apply(null,arguments);console.error("%s %d: %s",a,0,b)}:ll[a]=function(){}),ll[a]}function ln(a,b){var c={seen:[],stylize:lp};return arguments.length>=3&&(c.depth=arguments[2]),arguments.length>=4&&(c.colors=arguments[3]),lu(b)?c.showHidden=b:b&&lM(c,b),lA(c.showHidden)&&(c.showHidden=!1),lA(c.depth)&&(c.depth=2),lA(c.colors)&&(c.colors=!1),lA(c.customInspect)&&(c.customInspect=!0),c.colors&&(c.stylize=lo),lq(c,a,c.depth)}function lo(a,b){var c=ln.styles[b];return c?"\x1b["+ln.colors[c][0]+"m"+a+"\x1b["+ln.colors[c][1]+"m":a}function lp(a,b){return a}function lq(a,b,c){if(a.customInspect&&b&&lF(b.inspect)&&b.inspect!==ln&&(!b.constructor||b.constructor.prototype!==b)){var d,e,f=b.inspect(c,a);return ly(f)||(f=lq(a,f,c)),f}var g=function(a,b){if(lA(b))return a.stylize("undefined","undefined");if(ly(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return lx(b)?a.stylize(""+b,"number"):lu(b)?a.stylize(""+b,"boolean"):lv(b)?a.stylize("null","null"):void 0}(a,b);if(g)return g;var h=Object.keys(b),i=(k={},h.forEach(function(a,b){k[a]=!0}),k);if(a.showHidden&&(h=Object.getOwnPropertyNames(b)),lE(b)&&(h.indexOf("message")>=0||h.indexOf("description")>=0))return lr(b);if(0===h.length){if(lF(b)){var j=b.name?": "+b.name:"";return a.stylize("[Function"+j+"]","special")}if(lB(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(lD(b))return a.stylize(Date.prototype.toString.call(b),"date");if(lE(b))return lr(b)}var k,l,m="",n=!1,o=["{","}"];return lt(b)&&(n=!0,o=["[","]"]),lF(b)&&(m=" [Function"+(b.name?": "+b.name:"")+"]"),lB(b)&&(m=" "+RegExp.prototype.toString.call(b)),lD(b)&&(m=" "+Date.prototype.toUTCString.call(b)),lE(b)&&(m=" "+lr(b)),0!==h.length||n&&0!=b.length?c<0?lB(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special"):(a.seen.push(b),l=n?function(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)lN(b,String(g))?f.push(ls(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(ls(a,b,c,d,e,!0))}),f}(a,b,c,i,h):h.map(function(d){return ls(a,b,c,i,d,n)}),a.seen.pop(),d=m,e=o,l.reduce(function(a,b){return b.indexOf("\n"),a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?e[0]+(""===d?"":d+"\n ")+" "+l.join(",\n  ")+" "+e[1]:e[0]+d+" "+l.join(", ")+" "+e[1]):o[0]+m+o[1]}function lr(a){return"["+Error.prototype.toString.call(a)+"]"}function ls(a,b,c,d,e,f){var g,h,i;if((i=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]}).get?h=i.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):i.set&&(h=a.stylize("[Setter]","special")),lN(d,e)||(g="["+e+"]"),h||(0>a.seen.indexOf(i.value)?(h=lv(c)?lq(a,i.value,null):lq(a,i.value,c-1)).indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n")):h=a.stylize("[Circular]","special")),lA(g)){if(f&&e.match(/^\d+$/))return h;(g=JSON.stringify(""+e)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function lt(a){return Array.isArray(a)}function lu(a){return"boolean"==typeof a}function lv(a){return null===a}function lw(a){return null==a}function lx(a){return"number"==typeof a}function ly(a){return"string"==typeof a}function lz(a){return"symbol"==typeof a}function lA(a){return void 0===a}function lB(a){return lC(a)&&"[object RegExp]"===lI(a)}function lC(a){return"object"==typeof a&&null!==a}function lD(a){return lC(a)&&"[object Date]"===lI(a)}function lE(a){return lC(a)&&("[object Error]"===lI(a)||a instanceof Error)}function lF(a){return"function"==typeof a}function lG(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function lH(a){return c$.isBuffer(a)}function lI(a){return Object.prototype.toString.call(a)}function lJ(a){return a<10?"0"+a.toString(10):a.toString(10)}ln.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ln.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var lK=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function lL(){var a,b;console.log("%s - %s",(b=[lJ((a=new Date).getHours()),lJ(a.getMinutes()),lJ(a.getSeconds())].join(":"),[a.getDate(),lK[a.getMonth()],b].join(" ")),li.apply(null,arguments))}function lM(a,b){if(!b||!lC(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}function lN(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var lO="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function lP(a){if("function"!=typeof a)throw TypeError('The "original" argument must be of type Function');if(lO&&a[lO]){var b;if("function"!=typeof(b=a[lO]))throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(b,lO,{value:b,enumerable:!1,writable:!1,configurable:!0}),b}function b(){for(var b,c,d=new Promise(function(a,d){b=a,c=d}),e=[],f=0;f<arguments.length;f++)e.push(arguments[f]);e.push(function(a,d){a?c(a):b(d)});try{a.apply(this,e)}catch(a){c(a)}return d}return Object.setPrototypeOf(b,Object.getPrototypeOf(a)),lO&&Object.defineProperty(b,lO,{value:b,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(b,lg(a))}function lQ(a,b){if(!a){var c=Error("Promise was rejected with a falsy value");c.reason=a,a=c}return b(a)}function lR(a){if("function"!=typeof a)throw TypeError('The "original" argument must be of type Function');function b(){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c]);var d=b.pop();if("function"!=typeof d)throw TypeError("The last argument must be of type Function");var e=this,f=function(){return d.apply(e,arguments)};a.apply(this,b).then(function(a){jT.nextTick(f.bind(null,null,a))},function(a){jT.nextTick(lQ.bind(null,a,f))})}return Object.setPrototypeOf(b,Object.getPrototypeOf(a)),Object.defineProperties(b,lg(a)),b}lP.custom=lO;var lS,lT,lU=du(Object.freeze({__proto__:null,_extend:lM,callbackify:lR,debuglog:lm,default:{inherits:lb,_extend:lM,log:lL,isBuffer:lH,isPrimitive:lG,isFunction:lF,isError:lE,isDate:lD,isObject:lC,isRegExp:lB,isUndefined:lA,isSymbol:lz,isString:ly,isNumber:lx,isNullOrUndefined:lw,isNull:lv,isBoolean:lu,isArray:lt,inspect:ln,deprecate:lj,format:li,debuglog:lm,promisify:lP,callbackify:lR},deprecate:lj,format:li,inherits:lb,inspect:ln,isArray:lt,isBoolean:lu,isBuffer:lH,isDate:lD,isError:lE,isFunction:lF,isNull:lv,isNullOrUndefined:lw,isNumber:lx,isObject:lC,isPrimitive:lG,isRegExp:lB,isString:ly,isSymbol:lz,isUndefined:lA,log:lL,promisify:lP}));function lV(a,b){lX(a,b),lW(a)}function lW(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function lX(a,b){a.emit("error",b)}var lY={destroy:function(a,b){var c=this,d=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return d||e?b?b(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,jT.nextTick(lX,this,a)):jT.nextTick(lX,this,a)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?c._writableState?c._writableState.errorEmitted?jT.nextTick(lW,c):(c._writableState.errorEmitted=!0,jT.nextTick(lV,c,a)):jT.nextTick(lV,c,a):b?(jT.nextTick(lW,c),b(a)):jT.nextTick(lW,c)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,b){var c=a._readableState,d=a._writableState;c&&c.autoDestroy||d&&d.autoDestroy?a.destroy(b):a.emit("error",b)}},lZ={},l$={};function l_(a,b,c){c||(c=Error);var d=function(a){function c(c,d,e){return a.call(this,"string"==typeof b?b:b(c,d,e))||this}return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,c.__proto__=a,c}(c);d.prototype.name=c.name,d.prototype.code=a,l$[a]=d}function l0(a,b){if(Array.isArray(a)){var c=a.length;return a=a.map(function(a){return String(a)}),c>2?"one of ".concat(b," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:2===c?"one of ".concat(b," ").concat(a[0]," or ").concat(a[1]):"of ".concat(b," ").concat(a[0])}return"of ".concat(b," ").concat(String(a))}l_("ERR_INVALID_OPT_VALUE",function(a,b){return'The value "'+b+'" is invalid for option "'+a+'"'},TypeError),l_("ERR_INVALID_ARG_TYPE",function(a,b,c){if("string"==typeof b&&(e="not ",b.substr(0,e.length)===e)?(d="must not be",b=b.replace(/^not /,"")):d="must be",g=" argument",(void 0===h||h>a.length)&&(h=a.length),a.substring(h-g.length,h)===g)f="The ".concat(a," ").concat(d," ").concat(l0(b,"type"));else{var d,e,f,g,h,i,j=("number"!=typeof i&&(i=0),i+1>a.length||-1===a.indexOf(".",i))?"argument":"property";f='The "'.concat(a,'" ').concat(j," ").concat(d," ").concat(l0(b,"type"))}return f+". Received type ".concat(typeof c)},TypeError),l_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),l_("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),l_("ERR_STREAM_PREMATURE_CLOSE","Premature close"),l_("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),l_("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),l_("ERR_STREAM_WRITE_AFTER_END","write after end"),l_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l_("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),l_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),lZ.codes=l$;var l1,l2,l3,l4,l5=lZ.codes.ERR_INVALID_OPT_VALUE,l6=function(a,b,c,d){var e=null!=b.highWaterMark?b.highWaterMark:d?b[c]:null;if(null!=e){if(!isFinite(e)||Math.floor(e)!==e||e<0)throw new l5(d?c:"highWaterMark",e);return Math.floor(e)}return a.objectMode?16:16384},l7=du(Object.freeze({__proto__:null,default:"function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}})),l8=function(a,b){if(l9("noDeprecation"))return a;var c=!1;return function(){if(!c){if(l9("throwDeprecation"))throw Error(b);l9("traceDeprecation")?console.trace(b):console.warn(b),c=!0}return a.apply(this,arguments)}};function l9(a){try{if(!ds.localStorage)return!1}catch(a){return!1}var b=ds.localStorage[a];return null!=b&&"true"===String(b).toLowerCase()}function ma(){if(l2)return l1;function a(a){var b=this;this.next=null,this.entry=null,this.finish=function(){var c=b.entry;for(b.entry=null;c;){var d=c.callback;a.pendingcb--,d(void 0),c=c.next}a.corkedRequestsFree.next=b}}l2=1,l1=r,r.WritableState=q;var b,c,d=lf.Buffer,e=(void 0!==ds?ds:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=lZ.codes,g=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,i=f.ERR_MULTIPLE_CALLBACK,j=f.ERR_STREAM_CANNOT_PIPE,k=f.ERR_STREAM_DESTROYED,l=f.ERR_STREAM_NULL_VALUES,m=f.ERR_STREAM_WRITE_AFTER_END,n=f.ERR_UNKNOWN_ENCODING,o=lY.errorOrDestroy;function p(){}function q(c,d,e){b=b||mb(),c=c||{},"boolean"!=typeof e&&(e=d instanceof b),this.objectMode=!!c.objectMode,e&&(this.objectMode=this.objectMode||!!c.writableObjectMode),this.highWaterMark=l6(this,c,"writableHighWaterMark",e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===c.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=c.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){!function(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if("function"!=typeof e)throw new i;if(c.writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0,b)--c.pendingcb,d?(jT.nextTick(e,b),jT.nextTick(x,a,c),a._writableState.errorEmitted=!0,o(a,b)):(e(b),a._writableState.errorEmitted=!0,o(a,b),x(a,c));else{var f=v(c)||a.destroyed;f||c.corked||c.bufferProcessing||!c.bufferedRequest||u(a,c),d?jT.nextTick(t,a,c,f,e):t(a,c,f,e)}}(d,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==c.emitClose,this.autoDestroy=!!c.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function r(a){var d=this instanceof(b=b||mb());if(!d&&!c.call(r,this))return new r(a);this._writableState=new q(a,this,d),this.writable=!0,a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.final&&(this._final=a.final)),le.call(this)}function s(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,b.destroyed?b.onwrite(new k("write")):c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function t(a,b,c,d){c||0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain")),b.pendingcb--,d(),x(a,b)}function u(b,c){c.bufferProcessing=!0;var d=c.bufferedRequest;if(b._writev&&d&&d.next){var e=Array(c.bufferedRequestCount),f=c.corkedRequestsFree;f.entry=d;for(var g=0,h=!0;d;)e[g]=d,d.isBuf||(h=!1),d=d.next,g+=1;e.allBuffers=h,s(b,c,!0,c.length,e,"",f.finish),c.pendingcb++,c.lastBufferedRequest=null,f.next?(c.corkedRequestsFree=f.next,f.next=null):c.corkedRequestsFree=new a(c),c.bufferedRequestCount=0}else{for(;d;){var i=d.chunk,j=d.encoding,k=d.callback;if(s(b,c,!1,c.objectMode?1:i.length,i,j,k),d=d.next,c.bufferedRequestCount--,c.writing)break}null===d&&(c.lastBufferedRequest=null)}c.bufferedRequest=d,c.bufferProcessing=!1}function v(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function w(a,b){a._final(function(c){b.pendingcb--,c&&o(a,c),b.prefinished=!0,a.emit("prefinish"),x(a,b)})}function x(a,b){var c=v(b);if(c&&(b.prefinished||b.finalCalled||("function"!=typeof a._final||b.destroyed?(b.prefinished=!0,a.emit("prefinish")):(b.pendingcb++,b.finalCalled=!0,jT.nextTick(w,a,b))),0===b.pendingcb&&(b.finished=!0,a.emit("finish"),b.autoDestroy))){var d=a._readableState;(!d||d.autoDestroy&&d.endEmitted)&&a.destroy()}return c}return l7(r,le),q.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(q.prototype,"buffer",{get:l8(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(r,Symbol.hasInstance,{value:function(a){return!!c.call(this,a)||this===r&&a&&a._writableState instanceof q}})):c=function(a){return a instanceof this},r.prototype.pipe=function(){o(this,new j)},r.prototype.write=function(a,b,c){var f,h,i,j,k,n,q,r=this._writableState,t=!1,u=!r.objectMode&&(q=a,d.isBuffer(q)||q instanceof e);return u&&!d.isBuffer(a)&&(f=a,a=d.from(f)),"function"==typeof b&&(c=b,b=null),u?b="buffer":b||(b=r.defaultEncoding),"function"!=typeof c&&(c=p),r.ending?(h=c,o(this,i=new m),jT.nextTick(h,i)):(u||(j=a,k=c,null===j?n=new l:"string"==typeof j||r.objectMode||(n=new g("chunk",["string","Buffer"],j)),!n||(o(this,n),jT.nextTick(k,n),0)))&&(r.pendingcb++,t=function(a,b,c,e,f,g){if(!c){var h,i,j=(h=e,i=f,b.objectMode||!1===b.decodeStrings||"string"!=typeof h||(h=d.from(h,i)),h);e!==j&&(c=!0,f="buffer",e=j)}var k=b.objectMode?1:e.length;b.length+=k;var l=b.length<b.highWaterMark;if(l||(b.needDrain=!0),b.writing||b.corked){var m=b.lastBufferedRequest;b.lastBufferedRequest={chunk:e,encoding:f,isBuf:c,callback:g,next:null},m?m.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else s(a,b,!1,k,e,f,g);return l}(this,r,u,a,b,c)),t},r.prototype.cork=function(){this._writableState.corked++},r.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.bufferProcessing||!a.bufferedRequest||u(this,a))},r.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new n(a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),r.prototype._write=function(a,b,c){c(new h("_write()"))},r.prototype._writev=null,r.prototype.end=function(a,b,c){var d,e=this._writableState;return"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!=a&&this.write(a,b),e.corked&&(e.corked=1,this.uncork()),e.ending||(d=c,e.ending=!0,x(this,e),d&&(e.finished?jT.nextTick(d):this.once("finish",d)),e.ended=!0,this.writable=!1),this},Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),r.prototype.destroy=lY.destroy,r.prototype._undestroy=lY.undestroy,r.prototype._destroy=function(a,b){b(a)},l1}function mb(){if(l4)return l3;l4=1;var a=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};l3=g;var b=mr(),c=ma();l7(g,b);for(var d=a(c.prototype),e=0;e<d.length;e++){var f=d[e];g.prototype[f]||(g.prototype[f]=c.prototype[f])}function g(a){if(!(this instanceof g))return new g(a);b.call(this,a),c.call(this,a),this.allowHalfOpen=!0,a&&(!1===a.readable&&(this.readable=!1),!1===a.writable&&(this.writable=!1),!1===a.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||jT.nextTick(i,this)}function i(a){a.end()}return Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),l3}var mc=c$.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function md(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),function(a){if(a&&!mc(a))throw Error("Unknown encoding: "+a)}(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=mf;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=mg;break;default:return void(this.write=me)}this.charBuffer=new c$(6),this.charReceived=0,this.charLength=0}function me(a){return a.toString(this.encoding)}function mf(a){this.charReceived=a.length%2,this.charLength=2*!!this.charReceived}function mg(a){this.charReceived=a.length%3,this.charLength=3*!!this.charReceived}md.prototype.write=function(a){for(var b,c="";this.charLength;){var d=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,d),this.charReceived+=d,this.charReceived<this.charLength)return"";if(a=a.slice(d,a.length),!((b=(c=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(c.length-1))>=55296&&b<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return c;break}this.charLength+=this.surrogateSize,c=""}this.detectIncompleteChar(a);var e=a.length;if(this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),e=(c+=a.toString(this.encoding,0,e)).length-1,(b=c.charCodeAt(e))>=55296&&b<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),c.substring(0,e)}return c},md.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},md.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b};var mh=du(Object.freeze({__proto__:null,StringDecoder:md})),mi=lZ.codes.ERR_STREAM_PREMATURE_CLOSE;function mj(){}var mk,ml,mm,mn,mo,mp,mq=function a(b,c,d){if("function"==typeof c)return a(b,null,c);c||(c={}),e=d||mj,f=!1,d=function(){if(!f){f=!0;for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];e.apply(this,b)}};var e,f,g=c.readable||!1!==c.readable&&b.readable,h=c.writable||!1!==c.writable&&b.writable,i=function(){b.writable||k()},j=b._writableState&&b._writableState.finished,k=function(){h=!1,j=!0,g||d.call(b)},l=b._readableState&&b._readableState.endEmitted,m=function(){g=!1,l=!0,h||d.call(b)},n=function(a){d.call(b,a)},o=function(){var a;return g&&!l?(b._readableState&&b._readableState.ended||(a=new mi),d.call(b,a)):h&&!j?(b._writableState&&b._writableState.ended||(a=new mi),d.call(b,a)):void 0},p=function(){b.req.on("finish",k)};return b.setHeader&&"function"==typeof b.abort?(b.on("complete",k),b.on("abort",o),b.req?p():b.on("request",p)):h&&!b._writableState&&(b.on("end",i),b.on("close",i)),b.on("end",m),b.on("finish",k),!1!==c.error&&b.on("error",n),b.on("close",o),function(){b.removeListener("complete",k),b.removeListener("abort",o),b.removeListener("request",p),b.req&&b.req.removeListener("finish",k),b.removeListener("end",i),b.removeListener("close",i),b.removeListener("finish",k),b.removeListener("end",m),b.removeListener("error",n),b.removeListener("close",o)}};function mr(){if(mp)return mo;mp=1,mo=r,r.ReadableState=q,kw.EventEmitter;var a=function(a,b){return a.listeners(b).length},b=lf.Buffer,c=(void 0!==ds?ds:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d,e,f,g,h=lU&&lU.debuglog?lU.debuglog("stream"):function(){},i=function(){if(lT)return lS;function a(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function b(b){for(var d=1;d<arguments.length;d++){var e=null!=arguments[d]?arguments[d]:{};d%2?a(Object(e),!0).forEach(function(a){var d,f,g;d=b,f=a,g=e[a],(f=c(f))in d?Object.defineProperty(d,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[f]=g}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(e,a))})}return b}function c(a){var b=function(a,b){if("object"!=typeof a||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(a,"string");return"symbol"==typeof b?b:String(b)}lT=1;var d=lf.Buffer,e=lU.inspect,f=e&&e.custom||"inspect";return lS=function(){var a;function g(){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,g),this.head=null,this.tail=null,this.length=0}return a=[{key:"push",value:function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c}},{key:"concat",value:function(a){if(0===this.length)return d.alloc(0);for(var b,c,e=d.allocUnsafe(a>>>0),f=this.head,g=0;f;)b=f.data,c=g,d.prototype.copy.call(b,e,c),g+=f.data.length,f=f.next;return e}},{key:"consume",value:function(a,b){var c;return a<this.head.data.length?(c=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):c=a===this.head.data.length?this.shift():b?this._getString(a):this._getBuffer(a),c}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var b=this.head,c=1,d=b.data;for(a-=d.length;b=b.next;){var e=b.data,f=a>e.length?e.length:a;if(f===e.length?d+=e:d+=e.slice(0,a),0==(a-=f)){f===e.length?(++c,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=e.slice(f));break}++c}return this.length-=c,d}},{key:"_getBuffer",value:function(a){var b=d.allocUnsafe(a),c=this.head,e=1;for(c.data.copy(b),a-=c.data.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(f.copy(b,b.length-a,0,g),0==(a-=g)){g===f.length?(++e,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=f.slice(g));break}++e}return this.length-=e,b}},{key:f,value:function(a,c){return e(this,b(b({},c),{},{depth:0,customInspect:!1}))}}],function(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,c(e.key),e)}}(g.prototype,a),Object.defineProperty(g,"prototype",{writable:!1}),g}()}(),j=lZ.codes,k=j.ERR_INVALID_ARG_TYPE,l=j.ERR_STREAM_PUSH_AFTER_EOF,m=j.ERR_METHOD_NOT_IMPLEMENTED,n=j.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;l7(r,le);var o=lY.errorOrDestroy,p=["error","close","destroy","pause","resume"];function q(a,b,c){d=d||mb(),a=a||{},"boolean"!=typeof c&&(c=b instanceof d),this.objectMode=!!a.objectMode,c&&(this.objectMode=this.objectMode||!!a.readableObjectMode),this.highWaterMark=l6(this,a,"readableHighWaterMark",c),this.buffer=new i,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==a.emitClose,this.autoDestroy=!!a.autoDestroy,this.destroyed=!1,this.defaultEncoding=a.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,a.encoding&&(e||(e=mh.StringDecoder),this.decoder=new e(a.encoding),this.encoding=a.encoding)}function r(a){if(d=d||mb(),!(this instanceof r))return new r(a);var b=this instanceof d;this._readableState=new q(a,this,b),this.readable=!0,a&&("function"==typeof a.read&&(this._read=a.read),"function"==typeof a.destroy&&(this._destroy=a.destroy)),le.call(this)}function s(a,d,e,f,g){h("readableAddChunk",d);var i,j,m,p,q,r=a._readableState;if(null===d)r.reading=!1,function(a,b){if(h("onEofChunk"),!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,b.sync?v(a):(b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,w(a)))}}(a,r);else{if(g||(i=r,j=d,b.isBuffer(j)||j instanceof c||"string"==typeof j||void 0===j||i.objectMode||(m=new k("chunk",["string","Buffer","Uint8Array"],j)),q=m),q)o(a,q);else if(r.objectMode||d&&d.length>0)if("string"==typeof d||r.objectMode||Object.getPrototypeOf(d)===b.prototype||(p=d,d=b.from(p)),f)r.endEmitted?o(a,new n):t(a,r,d,!0);else if(r.ended)o(a,new l);else{if(r.destroyed)return!1;r.reading=!1,r.decoder&&!e?(d=r.decoder.write(d),r.objectMode||0!==d.length?t(a,r,d,!1):x(a,r)):t(a,r,d,!1)}else f||(r.reading=!1,x(a,r))}return!r.ended&&(r.length<r.highWaterMark||0===r.length)}function t(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(b.awaitDrain=0,a.emit("data",c)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&v(a)),x(a,b)}function u(a,b){var c;return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!=a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&((c=a)>=0x40000000?c=0x40000000:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++),b.highWaterMark=c),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function v(a){var b=a._readableState;h("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(h("emitReadable",b.flowing),b.emittedReadable=!0,jT.nextTick(w,a))}function w(a){var b=a._readableState;h("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&(b.length||b.ended)&&(a.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,C(a)}function x(a,b){b.readingMore||(b.readingMore=!0,jT.nextTick(y,a,b))}function y(a,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&0===b.length);){var c=b.length;if(h("maybeReadMore read 0"),a.read(0),c===b.length)break}b.readingMore=!1}function z(a){var b=a._readableState;b.readableListening=a.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:a.listenerCount("data")>0&&a.resume()}function A(a){h("readable nexttick read 0"),a.read(0)}function B(a,b){h("resume",b.reading),b.reading||a.read(0),b.resumeScheduled=!1,a.emit("resume"),C(a),b.flowing&&!b.reading&&a.read(0)}function C(a){var b=a._readableState;for(h("flow",b.flowing);b.flowing&&null!==a.read(););}function D(a,b){var c;return 0===b.length?null:(b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.first():b.buffer.concat(b.length),b.buffer.clear()):c=b.buffer.consume(a,b.decoder),c)}function E(a){var b=a._readableState;h("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,jT.nextTick(F,b,a))}function F(a,b){if(h("endReadableNT",a.endEmitted,a.length),!a.endEmitted&&0===a.length&&(a.endEmitted=!0,b.readable=!1,b.emit("end"),a.autoDestroy)){var c=b._writableState;(!c||c.autoDestroy&&c.finished)&&b.destroy()}}function G(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return -1}return Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),r.prototype.destroy=lY.destroy,r.prototype._undestroy=lY.undestroy,r.prototype._destroy=function(a,b){b(a)},r.prototype.push=function(a,c){var d,e=this._readableState;return e.objectMode?d=!0:"string"==typeof a&&((c=c||e.defaultEncoding)!==e.encoding&&(a=b.from(a,c),c=""),d=!0),s(this,a,c,!1,d)},r.prototype.unshift=function(a){return s(this,a,null,!0,!1)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(a){e||(e=mh.StringDecoder);var b=new e(a);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;for(var c=this._readableState.buffer.head,d="";null!==c;)d+=b.write(c.data),c=c.next;return this._readableState.buffer.clear(),""!==d&&this._readableState.buffer.push(d),this._readableState.length=d.length,this},r.prototype.read=function(a){h("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&((0!==b.highWaterMark?b.length>=b.highWaterMark:b.length>0)||b.ended))return h("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?E(this):v(this),null;if(0===(a=u(a,b))&&b.ended)return 0===b.length&&E(this),null;var d,e=b.needReadable;return h("need readable",e),(0===b.length||b.length-a<b.highWaterMark)&&h("length less than watermark",e=!0),b.ended||b.reading?h("reading or ended",e=!1):e&&(h("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=u(c,b))),null===(d=a>0?D(a,b):null)?(b.needReadable=b.length<=b.highWaterMark,a=0):(b.length-=a,b.awaitDrain=0),0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&E(this)),null!==d&&this.emit("data",d),d},r.prototype._read=function(a){o(this,new m("_read()"))},r.prototype.pipe=function(b,c){var d=this,e=this._readableState;switch(e.pipesCount){case 0:e.pipes=b;break;case 1:e.pipes=[e.pipes,b];break;default:e.pipes.push(b)}e.pipesCount+=1,h("pipe count=%d opts=%j",e.pipesCount,c);var f=c&&!1===c.end||b===jT.stdout||b===jT.stderr?p:g;function g(){h("onend"),b.end()}e.endEmitted?jT.nextTick(f):d.once("end",f),b.on("unpipe",function a(c,f){h("onunpipe"),c===d&&f&&!1===f.hasUnpiped&&(f.hasUnpiped=!0,h("cleanup"),b.removeListener("close",m),b.removeListener("finish",n),b.removeListener("drain",i),b.removeListener("error",l),b.removeListener("unpipe",a),d.removeListener("end",g),d.removeListener("end",p),d.removeListener("data",k),j=!0,e.awaitDrain&&(!b._writableState||b._writableState.needDrain)&&i())});var i=function(){var b=d._readableState;h("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&a(d,"data")&&(b.flowing=!0,C(d))};b.on("drain",i);var j=!1;function k(a){h("ondata");var c=b.write(a);h("dest.write",c),!1===c&&((1===e.pipesCount&&e.pipes===b||e.pipesCount>1&&-1!==G(e.pipes,b))&&!j&&(h("false write response, pause",e.awaitDrain),e.awaitDrain++),d.pause())}function l(c){h("onerror",c),p(),b.removeListener("error",l),0===a(b,"error")&&o(b,c)}function m(){b.removeListener("finish",n),p()}function n(){h("onfinish"),b.removeListener("close",m),p()}function p(){h("unpipe"),d.unpipe(b)}return d.on("data",k),function(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?Array.isArray(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}(b,"error",l),b.once("close",m),b.once("finish",n),b.emit("pipe",d),e.flowing||(h("pipe resume"),d.resume()),b},r.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes||(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c)),this;if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,{hasUnpiped:!1});return this}var g=G(b.pipes,a);return -1===g||(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c)),this},r.prototype.on=function(a,b){var c=le.prototype.on.call(this,a,b),d=this._readableState;return"data"===a?(d.readableListening=this.listenerCount("readable")>0,!1!==d.flowing&&this.resume()):"readable"===a&&(d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.flowing=!1,d.emittedReadable=!1,h("on readable",d.length,d.reading),d.length?v(this):d.reading||jT.nextTick(A,this))),c},r.prototype.addListener=r.prototype.on,r.prototype.removeListener=function(a,b){var c=le.prototype.removeListener.call(this,a,b);return"readable"===a&&jT.nextTick(z,this),c},r.prototype.removeAllListeners=function(a){var b=le.prototype.removeAllListeners.apply(this,arguments);return"readable"!==a&&void 0!==a||jT.nextTick(z,this),b},r.prototype.resume=function(){var a=this._readableState;return a.flowing||(h("resume"),a.flowing=!a.readableListening,a.resumeScheduled||(a.resumeScheduled=!0,jT.nextTick(B,this,a))),a.paused=!1,this},r.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},r.prototype.wrap=function(a){var b=this,c=this._readableState,d=!1;for(var e in a.on("end",function(){if(h("wrapped end"),c.decoder&&!c.ended){var a=c.decoder.end();a&&a.length&&b.push(a)}b.push(null)}),a.on("data",function(e){h("wrapped data"),c.decoder&&(e=c.decoder.write(e)),c.objectMode&&null==e||(c.objectMode||e&&e.length)&&(b.push(e)||(d=!0,a.pause()))}),a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<p.length;f++)a.on(p[f],this.emit.bind(this,p[f]));return this._read=function(b){h("wrapped _read",b),d&&(d=!1,a.resume())},this},"function"==typeof Symbol&&(r.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=function(){if(ml)return mk;function a(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(b,"string"))?d:String(d))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}ml=1;var b,c=Symbol("lastResolve"),d=Symbol("lastReject"),e=Symbol("error"),f=Symbol("ended"),g=Symbol("lastPromise"),h=Symbol("handlePromise"),i=Symbol("stream");function j(a,b){return{value:a,done:b}}function k(a){var b=a[c];if(null!==b){var e=a[i].read();null!==e&&(a[g]=null,a[c]=null,a[d]=null,b(j(e,!1)))}}function l(a){jT.nextTick(k,a)}var m=Object.getPrototypeOf(function(){}),n=Object.setPrototypeOf((a(b={get stream(){return this[i]},next:function(){var a,b=this,c=this[e];if(null!==c)return Promise.reject(c);if(this[f])return Promise.resolve(j(void 0,!0));if(this[i].destroyed)return new Promise(function(a,c){jT.nextTick(function(){b[e]?c(b[e]):a(j(void 0,!0))})});var d,k=this[g];if(k)d=new Promise((a=this,function(b,c){k.then(function(){a[f]?b(j(void 0,!0)):a[h](b,c)},c)}));else{var l=this[i].read();if(null!==l)return Promise.resolve(j(l,!1));d=new Promise(this[h])}return this[g]=d,d}},Symbol.asyncIterator,function(){return this}),a(b,"return",function(){var a=this;return new Promise(function(b,c){a[i].destroy(null,function(a){a?c(a):b(j(void 0,!0))})})}),b),m);return mk=function(b){var k,m=Object.create(n,(a(k={},i,{value:b,writable:!0}),a(k,c,{value:null,writable:!0}),a(k,d,{value:null,writable:!0}),a(k,e,{value:null,writable:!0}),a(k,f,{value:b._readableState.endEmitted,writable:!0}),a(k,h,{value:function(a,b){var e=m[i].read();e?(m[g]=null,m[c]=null,m[d]=null,a(j(e,!1))):(m[c]=a,m[d]=b)},writable:!0}),k));return m[g]=null,mq(b,function(a){if(a&&"ERR_STREAM_PREMATURE_CLOSE"!==a.code){var b=m[d];return null!==b&&(m[g]=null,m[c]=null,m[d]=null,b(a)),void(m[e]=a)}var h=m[c];null!==h&&(m[g]=null,m[c]=null,m[d]=null,h(j(void 0,!0))),m[f]=!0}),b.on("readable",l.bind(null,m)),m}}()),f(this)}),Object.defineProperty(r.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(r.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(r.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(a){this._readableState&&(this._readableState.flowing=a)}}),r._fromList=D,Object.defineProperty(r.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(r.from=function(a,b){return void 0===g&&(g=mn?mm:(mn=1,mm=function(){throw Error("Readable.from is not available in the browser")})),g(r,a,b)}),mo}var ms=lZ.codes,mt=ms.ERR_METHOD_NOT_IMPLEMENTED,mu=ms.ERR_MULTIPLE_CALLBACK,mv=ms.ERR_TRANSFORM_ALREADY_TRANSFORMING,mw=ms.ERR_TRANSFORM_WITH_LENGTH_0,mx=mb();function my(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(null===d)return this.emit("error",new mu);c.writechunk=null,c.writecb=null,null!=b&&this.push(b),d(a);var e=this._readableState;e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}function mz(a){if(!(this instanceof mz))return new mz(a);mx.call(this,a),this._transformState={afterTransform:my.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",mA)}function mA(){var a=this;"function"!=typeof this._flush||this._readableState.destroyed?mB(this,null,null):this._flush(function(b,c){mB(a,b,c)})}function mB(a,b,c){if(b)return a.emit("error",b);if(null!=c&&a.push(c),a._writableState.length)throw new mw;if(a._transformState.transforming)throw new mv;return a.push(null)}function mC(a){if(!(this instanceof mC))return new mC(a);mz.call(this,a)}l7(mz,mx),mz.prototype.push=function(a,b){return this._transformState.needTransform=!1,mx.prototype.push.call(this,a,b)},mz.prototype._transform=function(a,b,c){c(new mt("_transform()"))},mz.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},mz.prototype._read=function(a){var b=this._transformState;null===b.writechunk||b.transforming?b.needTransform=!0:(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform))},mz.prototype._destroy=function(a,b){mx.prototype._destroy.call(this,a,function(a){b(a)})},l7(mC,mz),mC.prototype._transform=function(a,b,c){c(null,a)};var mD=lZ.codes,mE=mD.ERR_MISSING_ARGS,mF=mD.ERR_STREAM_DESTROYED;function mG(a){if(a)throw a}function mH(a){a()}function mI(a,b){return a.pipe(b)}m$=ld.exports,(m$=ld.exports=mr()).Stream=m$,m$.Readable=m$,m$.Writable=ma(),m$.Duplex=mb(),m$.Transform=mz,m$.PassThrough=mC,m$.finished=mq,m$.pipeline=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d,e,f=(d=b).length?"function"!=typeof d[d.length-1]?mG:d.pop():mG;if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new mE("streams");var g=b.map(function(a,c){var d,h,i,j,k,l,m=c<b.length-1;return d=c>0,i=h=function(a){e||(e=a),a&&g.forEach(mH),m||(g.forEach(mH),f(e))},j=!1,h=function(){j||(j=!0,i.apply(void 0,arguments))},k=!1,a.on("close",function(){k=!0}),void 0===mZ&&(mZ=mq),mZ(a,{readable:m,writable:d},function(a){if(a)return h(a);k=!0,h()}),l=!1,function(b){if(!k&&!l)return l=!0,a.setHeader&&"function"==typeof a.abort?a.abort():"function"==typeof a.destroy?a.destroy():void h(b||new mF("pipe"))}});return b.reduce(mI)};var mJ=ld.exports,mK={},mL={exports:{}},mM=function a(b,c){if(b&&c)return a(b)(c);if("function"!=typeof b)throw TypeError("need wrapper function");return Object.keys(b).forEach(function(a){d[a]=b[a]}),d;function d(){for(var a=Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];var d=b.apply(this,a),e=a[a.length-1];return"function"==typeof d&&d!==e&&Object.keys(e).forEach(function(a){d[a]=e[a]}),d}};function mN(a){var b=function(){return b.called?b.value:(b.called=!0,b.value=a.apply(this,arguments))};return b.called=!1,b}function mO(a){var b=function(){if(b.called)throw Error(b.onceError);return b.called=!0,b.value=a.apply(this,arguments)};return b.onceError=(a.name||"Function wrapped with `once`")+" shouldn't be called more than once",b.called=!1,b}mL.exports=mM(mN),mL.exports.strict=mM(mO),mN.proto=mN(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return mN(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return mO(this)},configurable:!0})});var mP=mL.exports,mQ={};Object.defineProperty(mQ,"__esModule",{value:!0}),mQ.Substream=void 0;let mR=mJ;class mS extends mR.Duplex{constructor({parent:a,name:b}){super({objectMode:!0}),this._parent=a,this._name=b}_read(){}_write(a,b,c){this._parent.push({name:this._name,data:a}),c()}}mQ.Substream=mS;var mT=ds&&ds.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(mK,"__esModule",{value:!0}),mK.ObjectMultiplex=void 0;let mU=mJ,mV=mT(mP),mW=Symbol("IGNORE_SUBSTREAM");mK.ObjectMultiplex=class extends mU.Duplex{constructor(a={}){super(Object.assign(Object.assign({},a),{objectMode:!0})),this._substreams={}}createStream(a){var b;let c;if(this.destroyed)throw Error(`ObjectMultiplex - parent stream for name "${a}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw Error(`ObjectMultiplex - parent stream for name "${a}" already ended`);if(!a)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[a])throw Error(`ObjectMultiplex - Substream for name "${a}" already exists`);let d=new mQ.Substream({parent:this,name:a});return this._substreams[a]=d,b=a=>d.destroy(a||void 0),c=(0,mV.default)(b),(0,mU.finished)(this,{readable:!1},c),(0,mU.finished)(this,{writable:!1},c),d}ignoreStream(a){if(!a)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[a])throw Error(`ObjectMultiplex - Substream for name "${a}" already exists`);this._substreams[a]=mW}_read(){}_write(a,b,c){let{name:d,data:e}=a;if(!d)return console.warn(`ObjectMultiplex - malformed chunk without name "${a}"`),c();let f=this._substreams[d];return f?f!==mW&&f.push(e):console.warn(`ObjectMultiplex - orphaned data for stream "${d}"`),c()}};var mX=dt(mK.ObjectMultiplex);let mY=a=>null!==a&&"object"==typeof a&&"function"==typeof a.pipe;mY.writable=a=>mY(a)&&!1!==a.writable&&"function"==typeof a._write&&"object"==typeof a._writableState,mY.readable=a=>mY(a)&&!1!==a.readable&&"function"==typeof a._read&&"object"==typeof a._readableState,mY.duplex=a=>mY.writable(a)&&mY.readable(a),mY.transform=a=>mY.duplex(a)&&"function"==typeof a._transform;var mZ,m$,m_,m0=class extends lc{constructor(a,{jsonRpcStreamName:b,logger:c=console,maxEventListeners:d=100,rpcMiddleware:e=[]}){if(super({logger:c,maxEventListeners:d,rpcMiddleware:e}),!mY.duplex(a))throw Error(hs());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const f=new mX;mJ.pipeline(a,f,a,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=function(a={}){let b={},c=new mJ.Duplex({objectMode:!0,read:()=>{},write:function(e,f,g){let h=null;try{e.id?function(a){let{id:c}=a;if(null===c)return;let d=b[c];if(!d)return console.warn(`StreamMiddleware - Unknown response id "${c}"`);delete b[c],Object.assign(d.res,a),setTimeout(d.end)}(e):(a?.retryOnMessage&&e.method===a.retryOnMessage&&Object.values(b).forEach(({req:a,retryCount:d=0})=>{var e;if(!a.id)return;if(d>=3)throw Error(`StreamMiddleware - Retry limit exceeded for request id "${a.id}"`);let f=b[a.id];f&&(f.retryCount=d+1),e=a,c.push(e)}),d.emit("notification",e))}catch(a){h=a}g(h)}}),d=new kT;return{events:d,middleware:(a,d,e,f)=>{var g;b[a.id]={req:a,res:d,next:e,end:f},g=a,c.push(g)},stream:c}}({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),mJ.pipeline(this._jsonRpcConnection.stream,f.createStream(b),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",b=>{let{method:c,params:d}=b;"metamask_accountsChanged"===c?this._handleAccountsChanged(d):"metamask_unlockStateChanged"===c?this._handleUnlockStateChanged(d):"metamask_chainChanged"===c?this._handleChainChanged(d):kW.includes(c)?this.emit("message",{type:c,data:d}):"METAMASK_STREAM_FAILURE"===c&&a.destroy(Error(hp()))})}async _initializeStateAsync(){let a;try{a=await this.request({method:"metamask_getProviderState"})}catch(a){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",a)}this._initializeState(a)}_handleStreamDisconnect(a,b){let c=`MetaMask: Lost connection to "${a}".`;b?.stack&&(c+=`
${b.stack}`),this._log.warn(c),this.listenerCount("error")>0&&this.emit("error",c),this._handleDisconnect(!1,b?b.message:void 0)}_handleChainChanged({chainId:a,networkVersion:b}={}){kY(a)&&b&&"string"==typeof b?"loading"===b?this._handleDisconnect(!0):super._handleChainChanged({chainId:a}):this._log.error(ht(),{chainId:a,networkVersion:b})}},m1=class extends m0{constructor(a,{jsonRpcStreamName:b="metamask-provider",logger:c=console,maxEventListeners:d=100,shouldSendMetadata:e}={}){if(super(a,{jsonRpcStreamName:b,logger:c,maxEventListeners:d,rpcMiddleware:((a=console)=>{var b;let c;return[(a,b,c,d)=>{let e=a.id,f=hG=(hG+1)%0xffffffff;a.id=f,b.id=f,c(c=>{a.id=e,b.id=e,c()})},(b=a,(a,c,d)=>{"string"==typeof a.method&&a.method||(c.error=kn(-32600,{message:"The request 'method' must be a non-empty string.",data:a})),d(a=>{let{error:d}=c;return d&&b.error(`MetaMask - RPC Error: ${d.message}`,d),a()})}),(c={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1},(b,d,e)=>{c.ethDecryptDeprecation||"eth_decrypt"!==b.method?c.ethGetEncryptionPublicKeyDeprecation||"eth_getEncryptionPublicKey"!==b.method?!c.walletWatchAssetNFTExperimental&&"wallet_watchAsset"===b.method&&["ERC721","ERC1155"].includes(b.params?.type||"")&&(a.warn(hE.walletWatchAssetNFTExperimental),c.walletWatchAssetNFTExperimental=!0):(a.warn(hE.ethGetEncryptionPublicKeyDeprecation),c.ethGetEncryptionPublicKeyDeprecation=!0):(a.warn(hE.ethDecryptDeprecation),c.ethDecryptDeprecation=!0),e()})]})(c)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},k3(this,m_,void 0),this._initializeStateAsync(),k4(this,m_,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",a=>{let{method:b}=a;kW.includes(b)&&(this.emit("data",a),this.emit("notification",a.params.result))}),e)if("complete"===document.readyState)k$(this._rpcEngine,this._log);else{const a=()=>{k$(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",a)};window.addEventListener("DOMContentLoaded",a)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(hy),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(hz),this._sentWarnings.networkVersion=!0),k2(this,m_)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(hA),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(a,b){this._rpcRequest(a,b)}addListener(a,b){return this._warnOfDeprecation(a),super.addListener(a,b)}on(a,b){return this._warnOfDeprecation(a),super.on(a,b)}once(a,b){return this._warnOfDeprecation(a),super.once(a,b)}prependListener(a,b){return this._warnOfDeprecation(a),super.prependListener(a,b)}prependOnceListener(a,b){return this._warnOfDeprecation(a),super.prependOnceListener(a,b)}_handleDisconnect(a,b){super._handleDisconnect(a,b),k2(this,m_)&&!a&&k4(this,m_,null)}_warnOfDeprecation(a){!1===this._sentWarnings?.events[a]&&(this._log.warn(hD[a]),this._sentWarnings.events[a]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(hB),this._sentWarnings.enable=!0),new Promise((a,b)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},kX(a,b))}catch(a){b(a)}})}send(a,b){return this._sentWarnings.send||(this._log.warn(hC),this._sentWarnings.send=!0),"string"!=typeof a||b&&!Array.isArray(b)?a&&"object"==typeof a&&"function"==typeof b?this._rpcRequest(a,b):this._sendSync(a):new Promise((c,d)=>{try{this._rpcRequest({method:a,params:b},kX(c,d,!1))}catch(a){d(a)}})}_sendSync(a){let b;switch(a.method){case"eth_accounts":b=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":b=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(a,kZ),b=!0;break;case"net_version":b=k2(this,m_)??null;break;default:throw Error(hr(a.method))}return{id:a.id,jsonrpc:a.jsonrpc,result:b}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(a=>{this.on("_initialized",()=>a())}),this._state.isUnlocked),requestBatch:async a=>{if(!Array.isArray(a))throw kn(-32600,{message:"Batch requests must be made with an array of request objects.",data:a});return new Promise((b,c)=>{this._rpcRequest(a,kX(b,c))})}},{get:(a,b,...c)=>(this._sentWarnings.experimentalMethods||(this._log.warn(hF),this._sentWarnings.experimentalMethods=!0),Reflect.get(a,b,...c))})}_handleChainChanged({chainId:a,networkVersion:b}={}){super._handleChainChanged({chainId:a,networkVersion:b}),this._state.isConnected&&b!==k2(this,m_)&&(k4(this,m_,b),this._state.initialized&&this.emit("networkChanged",k2(this,m_)))}};m_=new WeakMap;let m2=(0,cG.default)("MM_SDK");m2.color="#FFAC1C";var m3={},m4={};Object.defineProperty(m4,"__esModule",{value:!0}),m4.EthereumProviderError=m4.EthereumRpcError=void 0;class m5 extends Error{constructor(a,b,c){if(!Number.isInteger(a))throw Error('"code" must be an integer.');if(!b||"string"!=typeof b)throw Error('"message" must be a nonempty string.');super(b),this.code=a,void 0!==c&&(this.data=c)}serialize(){let a={code:this.code,message:this.message};return void 0!==this.data&&(a.data=this.data),this.stack&&(a.stack=this.stack),a}toString(){return kf.default(this.serialize(),m6,2)}}function m6(a,b){if("[Circular]"!==b)return b}m4.EthereumRpcError=m5,m4.EthereumProviderError=class extends m5{constructor(a,b,c){if(!function(a){return Number.isInteger(a)&&a>=1e3&&a<=4999}(a))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(a,b,c)}};var m7={},m8={};Object.defineProperty(m8,"__esModule",{value:!0}),m8.errorValues=m8.errorCodes=void 0,m8.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},m8.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.serializeError=a.isValidCode=a.getMessageFromCode=a.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let b=m8.errorCodes.rpc.internal,c={code:b,message:d(b)};function d(b,c="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(b)){var e;let c=b.toString();if(g(m8.errorValues,c))return m8.errorValues[c].message;if((e=b)>=-32099&&e<=-32e3)return a.JSON_RPC_SERVER_ERROR_MESSAGE}return c}function e(a){var b;if(!Number.isInteger(a))return!1;let c=a.toString();return!!m8.errorValues[c]||!!((b=a)>=-32099&&b<=-32e3)}function f(a){return a&&"object"==typeof a&&!Array.isArray(a)?Object.assign({},a):a}function g(a,b){return Object.prototype.hasOwnProperty.call(a,b)}a.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",a.getMessageFromCode=d,a.isValidCode=e,a.serializeError=function(a,{fallbackError:b=c,shouldIncludeStack:h=!1}={}){if(!b||!Number.isInteger(b.code)||"string"!=typeof b.message)throw Error("Must provide fallback error with integer number code and string message.");if(a instanceof m4.EthereumRpcError)return a.serialize();let i={};if(a&&"object"==typeof a&&!Array.isArray(a)&&g(a,"code")&&e(a.code))i.code=a.code,a.message&&"string"==typeof a.message?(i.message=a.message,g(a,"data")&&(i.data=a.data)):(i.message=d(i.code),i.data={originalError:f(a)});else{i.code=b.code;let c=null==a?void 0:a.message;i.message=c&&"string"==typeof c?c:b.message,i.data={originalError:f(a)}}let j=null==a?void 0:a.stack;return h&&a&&j&&"string"==typeof j&&(i.stack=j),i}}(m7);var m9={};function na(a,b){let[c,d]=nc(b);return new m4.EthereumRpcError(a,c||m7.getMessageFromCode(a),d)}function nb(a,b){let[c,d]=nc(b);return new m4.EthereumProviderError(a,c||m7.getMessageFromCode(a),d)}function nc(a){if(a){if("string"==typeof a)return[a];if("object"==typeof a&&!Array.isArray(a)){let{message:b,data:c}=a;if(b&&"string"!=typeof b)throw Error("Must specify string message.");return[b||void 0,c]}}return[]}Object.defineProperty(m9,"__esModule",{value:!0}),m9.ethErrors=void 0,m9.ethErrors={rpc:{parse:a=>na(m8.errorCodes.rpc.parse,a),invalidRequest:a=>na(m8.errorCodes.rpc.invalidRequest,a),invalidParams:a=>na(m8.errorCodes.rpc.invalidParams,a),methodNotFound:a=>na(m8.errorCodes.rpc.methodNotFound,a),internal:a=>na(m8.errorCodes.rpc.internal,a),server:a=>{if(!a||"object"!=typeof a||Array.isArray(a))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:b}=a;if(!Number.isInteger(b)||b>-32005||b<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return na(b,a)},invalidInput:a=>na(m8.errorCodes.rpc.invalidInput,a),resourceNotFound:a=>na(m8.errorCodes.rpc.resourceNotFound,a),resourceUnavailable:a=>na(m8.errorCodes.rpc.resourceUnavailable,a),transactionRejected:a=>na(m8.errorCodes.rpc.transactionRejected,a),methodNotSupported:a=>na(m8.errorCodes.rpc.methodNotSupported,a),limitExceeded:a=>na(m8.errorCodes.rpc.limitExceeded,a)},provider:{userRejectedRequest:a=>nb(m8.errorCodes.provider.userRejectedRequest,a),unauthorized:a=>nb(m8.errorCodes.provider.unauthorized,a),unsupportedMethod:a=>nb(m8.errorCodes.provider.unsupportedMethod,a),disconnected:a=>nb(m8.errorCodes.provider.disconnected,a),chainDisconnected:a=>nb(m8.errorCodes.provider.chainDisconnected,a),custom:a=>{if(!a||"object"!=typeof a||Array.isArray(a))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:b,message:c,data:d}=a;if(!c||"string"!=typeof c)throw Error('"message" must be a nonempty string');return new m4.EthereumProviderError(b,c,d)}}},Object.defineProperty(m3,"__esModule",{value:!0}),m3.getMessageFromCode=m3.serializeError=m3.EthereumProviderError=m3.EthereumRpcError=m3.ethErrors=m3.errorCodes=void 0,Object.defineProperty(m3,"EthereumRpcError",{enumerable:!0,get:function(){return m4.EthereumRpcError}}),Object.defineProperty(m3,"EthereumProviderError",{enumerable:!0,get:function(){return m4.EthereumProviderError}}),Object.defineProperty(m3,"serializeError",{enumerable:!0,get:function(){return m7.serializeError}}),Object.defineProperty(m3,"getMessageFromCode",{enumerable:!0,get:function(){return m7.getMessageFromCode}}),Object.defineProperty(m3,"ethErrors",{enumerable:!0,get:function(){return m9.ethErrors}}),Object.defineProperty(m3,"errorCodes",{enumerable:!0,get:function(){return m8.errorCodes}});var nd={exports:{}};nd.exports=function(a){var b={};function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}return c.m=a,c.c=b,c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,get:d})},c.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},c.t=function(a,b){if(1&b&&(a=c(a)),8&b||4&b&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(c.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&b&&"string"!=typeof a)for(var e in a)c.d(d,e,(function(b){return a[b]}).bind(null,e));return d},c.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=90)}({17:function(a,b,c){b.__esModule=!0,b.default=void 0;var d=c(18);b.default=function(){function a(){}return a.getFirstMatch=function(a,b){var c=b.match(a);return c&&c.length>0&&c[1]||""},a.getSecondMatch=function(a,b){var c=b.match(a);return c&&c.length>1&&c[2]||""},a.matchAndReturnConst=function(a,b,c){if(a.test(b))return c},a.getWindowsVersionName=function(a){switch(a){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},a.getMacOSVersionName=function(a){var b=a.split(".").splice(0,2).map(function(a){return parseInt(a,10)||0});if(b.push(0),10===b[0])switch(b[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},a.getAndroidVersionName=function(a){var b=a.split(".").splice(0,2).map(function(a){return parseInt(a,10)||0});if(b.push(0),!(1===b[0]&&b[1]<5))return 1===b[0]&&b[1]<6?"Cupcake":1===b[0]&&b[1]>=6?"Donut":2===b[0]&&b[1]<2?"Eclair":2===b[0]&&2===b[1]?"Froyo":2===b[0]&&b[1]>2?"Gingerbread":3===b[0]?"Honeycomb":4===b[0]&&b[1]<1?"Ice Cream Sandwich":4===b[0]&&b[1]<4?"Jelly Bean":4===b[0]&&b[1]>=4?"KitKat":5===b[0]?"Lollipop":6===b[0]?"Marshmallow":7===b[0]?"Nougat":8===b[0]?"Oreo":9===b[0]?"Pie":void 0},a.getVersionPrecision=function(a){return a.split(".").length},a.compareVersions=function(b,c,d){void 0===d&&(d=!1);var e=a.getVersionPrecision(b),f=a.getVersionPrecision(c),g=Math.max(e,f),h=0,i=a.map([b,c],function(b){var c=g-a.getVersionPrecision(b),d=b+Array(c+1).join(".0");return a.map(d.split("."),function(a){return Array(20-a.length).join("0")+a}).reverse()});for(d&&(h=g-Math.min(e,f)),g-=1;g>=h;){if(i[0][g]>i[1][g])return 1;if(i[0][g]===i[1][g]){if(g===h)return 0;g-=1}else if(i[0][g]<i[1][g])return -1}},a.map=function(a,b){var c,d=[];if(Array.prototype.map)return Array.prototype.map.call(a,b);for(c=0;c<a.length;c+=1)d.push(b(a[c]));return d},a.find=function(a,b){var c,d;if(Array.prototype.find)return Array.prototype.find.call(a,b);for(c=0,d=a.length;c<d;c+=1){var e=a[c];if(b(e,c))return e}},a.assign=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return Object.assign.apply(Object,[a].concat(c))},a.getBrowserAlias=function(a){return d.BROWSER_ALIASES_MAP[a]},a.getBrowserTypeByAlias=function(a){return d.BROWSER_MAP[a]||""},a}(),a.exports=b.default},18:function(a,b,c){b.__esModule=!0,b.ENGINE_MAP=b.OS_MAP=b.PLATFORMS_MAP=b.BROWSER_MAP=b.BROWSER_ALIASES_MAP=void 0,b.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},b.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},b.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},b.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},b.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(a,b,c){b.__esModule=!0,b.default=void 0;var d,e=(d=c(91))&&d.__esModule?d:{default:d},f=c(18);b.default=function(){function a(){}return a.getParser=function(a,b){if(void 0===b&&(b=!1),"string"!=typeof a)throw Error("UserAgent should be a string");return new e.default(a,b)},a.parse=function(a){return new e.default(a).getResult()},function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}(a,[{key:"BROWSER_MAP",get:function(){return f.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return f.ENGINE_MAP}},{key:"OS_MAP",get:function(){return f.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return f.PLATFORMS_MAP}}]),a}(),a.exports=b.default},91:function(a,b,c){b.__esModule=!0,b.default=void 0;var d=i(c(92)),e=i(c(93)),f=i(c(94)),g=i(c(95)),h=i(c(17));function i(a){return a&&a.__esModule?a:{default:a}}b.default=function(){function a(a,b){if(void 0===b&&(b=!1),null==a||""===a)throw Error("UserAgent parameter can't be empty");this._ua=a,this.parsedResult={},!0!==b&&this.parse()}var b=a.prototype;return b.getUA=function(){return this._ua},b.test=function(a){return a.test(this._ua)},b.parseBrowser=function(){var a=this;this.parsedResult.browser={};var b=h.default.find(d.default,function(b){if("function"==typeof b.test)return b.test(a);if(b.test instanceof Array)return b.test.some(function(b){return a.test(b)});throw Error("Browser's test function is not valid")});return b&&(this.parsedResult.browser=b.describe(this.getUA())),this.parsedResult.browser},b.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},b.getBrowserName=function(a){return a?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},b.getBrowserVersion=function(){return this.getBrowser().version},b.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},b.parseOS=function(){var a=this;this.parsedResult.os={};var b=h.default.find(e.default,function(b){if("function"==typeof b.test)return b.test(a);if(b.test instanceof Array)return b.test.some(function(b){return a.test(b)});throw Error("Browser's test function is not valid")});return b&&(this.parsedResult.os=b.describe(this.getUA())),this.parsedResult.os},b.getOSName=function(a){var b=this.getOS().name;return a?String(b).toLowerCase()||"":b||""},b.getOSVersion=function(){return this.getOS().version},b.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},b.getPlatformType=function(a){void 0===a&&(a=!1);var b=this.getPlatform().type;return a?String(b).toLowerCase()||"":b||""},b.parsePlatform=function(){var a=this;this.parsedResult.platform={};var b=h.default.find(f.default,function(b){if("function"==typeof b.test)return b.test(a);if(b.test instanceof Array)return b.test.some(function(b){return a.test(b)});throw Error("Browser's test function is not valid")});return b&&(this.parsedResult.platform=b.describe(this.getUA())),this.parsedResult.platform},b.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},b.getEngineName=function(a){return a?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},b.parseEngine=function(){var a=this;this.parsedResult.engine={};var b=h.default.find(g.default,function(b){if("function"==typeof b.test)return b.test(a);if(b.test instanceof Array)return b.test.some(function(b){return a.test(b)});throw Error("Browser's test function is not valid")});return b&&(this.parsedResult.engine=b.describe(this.getUA())),this.parsedResult.engine},b.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},b.getResult=function(){return h.default.assign({},this.parsedResult)},b.satisfies=function(a){var b=this,c={},d=0,e={},f=0;if(Object.keys(a).forEach(function(b){var g=a[b];"string"==typeof g?(e[b]=g,f+=1):"object"==typeof g&&(c[b]=g,d+=1)}),d>0){var g=Object.keys(c),i=h.default.find(g,function(a){return b.isOS(a)});if(i){var j=this.satisfies(c[i]);if(void 0!==j)return j}var k=h.default.find(g,function(a){return b.isPlatform(a)});if(k){var l=this.satisfies(c[k]);if(void 0!==l)return l}}if(f>0){var m=Object.keys(e),n=h.default.find(m,function(a){return b.isBrowser(a,!0)});if(void 0!==n)return this.compareVersion(e[n])}},b.isBrowser=function(a,b){void 0===b&&(b=!1);var c=this.getBrowserName().toLowerCase(),d=a.toLowerCase(),e=h.default.getBrowserTypeByAlias(d);return b&&e&&(d=e.toLowerCase()),d===c},b.compareVersion=function(a){var b=[0],c=a,d=!1,e=this.getBrowserVersion();if("string"==typeof e)return">"===a[0]||"<"===a[0]?(c=a.substr(1),"="===a[1]?(d=!0,c=a.substr(2)):b=[],">"===a[0]?b.push(1):b.push(-1)):"="===a[0]?c=a.substr(1):"~"===a[0]&&(d=!0,c=a.substr(1)),b.indexOf(h.default.compareVersions(e,c,d))>-1},b.isOS=function(a){return this.getOSName(!0)===String(a).toLowerCase()},b.isPlatform=function(a){return this.getPlatformType(!0)===String(a).toLowerCase()},b.isEngine=function(a){return this.getEngineName(!0)===String(a).toLowerCase()},b.is=function(a,b){return void 0===b&&(b=!1),this.isBrowser(a,b)||this.isOS(a)||this.isPlatform(a)},b.some=function(a){var b=this;return void 0===a&&(a=[]),a.some(function(a){return b.is(a)})},a}(),a.exports=b.default},92:function(a,b,c){b.__esModule=!0,b.default=void 0;var d,e=(d=c(17))&&d.__esModule?d:{default:d},f=/version\/(\d+(\.?_?\d+)+)/i;b.default=[{test:[/googlebot/i],describe:function(a){var b={name:"Googlebot"},c=e.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/opera/i],describe:function(a){var b={name:"Opera"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/opr\/|opios/i],describe:function(a){var b={name:"Opera"},c=e.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/SamsungBrowser/i],describe:function(a){var b={name:"Samsung Internet for Android"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/Whale/i],describe:function(a){var b={name:"NAVER Whale Browser"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/MZBrowser/i],describe:function(a){var b={name:"MZ Browser"},c=e.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/focus/i],describe:function(a){var b={name:"Focus"},c=e.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/swing/i],describe:function(a){var b={name:"Swing"},c=e.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/coast/i],describe:function(a){var b={name:"Opera Coast"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var b={name:"Opera Touch"},c=e.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/yabrowser/i],describe:function(a){var b={name:"Yandex Browser"},c=e.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/ucbrowser/i],describe:function(a){var b={name:"UC Browser"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/Maxthon|mxios/i],describe:function(a){var b={name:"Maxthon"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/epiphany/i],describe:function(a){var b={name:"Epiphany"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/puffin/i],describe:function(a){var b={name:"Puffin"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/sleipnir/i],describe:function(a){var b={name:"Sleipnir"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/k-meleon/i],describe:function(a){var b={name:"K-Meleon"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/micromessenger/i],describe:function(a){var b={name:"WeChat"},c=e.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/qqbrowser/i],describe:function(a){var b={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},c=e.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/msie|trident/i],describe:function(a){var b={name:"Internet Explorer"},c=e.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/\sedg\//i],describe:function(a){var b={name:"Microsoft Edge"},c=e.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/edg([ea]|ios)/i],describe:function(a){var b={name:"Microsoft Edge"},c=e.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/vivaldi/i],describe:function(a){var b={name:"Vivaldi"},c=e.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/seamonkey/i],describe:function(a){var b={name:"SeaMonkey"},c=e.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/sailfish/i],describe:function(a){var b={name:"Sailfish"},c=e.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return c&&(b.version=c),b}},{test:[/silk/i],describe:function(a){var b={name:"Amazon Silk"},c=e.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/phantom/i],describe:function(a){var b={name:"PhantomJS"},c=e.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/slimerjs/i],describe:function(a){var b={name:"SlimerJS"},c=e.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var b={name:"BlackBerry"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var b={name:"WebOS Browser"},c=e.default.getFirstMatch(f,a)||e.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/bada/i],describe:function(a){var b={name:"Bada"},c=e.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/tizen/i],describe:function(a){var b={name:"Tizen"},c=e.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/qupzilla/i],describe:function(a){var b={name:"QupZilla"},c=e.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var b={name:"Firefox"},c=e.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/electron/i],describe:function(a){var b={name:"Electron"},c=e.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/MiuiBrowser/i],describe:function(a){var b={name:"Miui"},c=e.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/chromium/i],describe:function(a){var b={name:"Chromium"},c=e.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/chrome|crios|crmo/i],describe:function(a){var b={name:"Chrome"},c=e.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/GSA/i],describe:function(a){var b={name:"Google Search"},c=e.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:function(a){var b=!a.test(/like android/i),c=a.test(/android/i);return b&&c},describe:function(a){var b={name:"Android Browser"},c=e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/playstation 4/i],describe:function(a){var b={name:"PlayStation 4"},c=e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/safari|applewebkit/i],describe:function(a){var b={name:"Safari"},c=e.default.getFirstMatch(f,a);return c&&(b.version=c),b}},{test:[/.*/i],describe:function(a){var b=-1!==a.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:e.default.getFirstMatch(b,a),version:e.default.getSecondMatch(b,a)}}}],a.exports=b.default},93:function(a,b,c){b.__esModule=!0,b.default=void 0;var d,e=(d=c(17))&&d.__esModule?d:{default:d},f=c(18);b.default=[{test:[/Roku\/DVP/],describe:function(a){var b=e.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:f.OS_MAP.Roku,version:b}}},{test:[/windows phone/i],describe:function(a){var b=e.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:f.OS_MAP.WindowsPhone,version:b}}},{test:[/windows /i],describe:function(a){var b=e.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),c=e.default.getWindowsVersionName(b);return{name:f.OS_MAP.Windows,version:b,versionName:c}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var b={name:f.OS_MAP.iOS},c=e.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return c&&(b.version=c),b}},{test:[/macintosh/i],describe:function(a){var b=e.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),c=e.default.getMacOSVersionName(b),d={name:f.OS_MAP.MacOS,version:b};return c&&(d.versionName=c),d}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var b=e.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:f.OS_MAP.iOS,version:b}}},{test:function(a){var b=!a.test(/like android/i),c=a.test(/android/i);return b&&c},describe:function(a){var b=e.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),c=e.default.getAndroidVersionName(b),d={name:f.OS_MAP.Android,version:b};return c&&(d.versionName=c),d}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var b=e.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),c={name:f.OS_MAP.WebOS};return b&&b.length&&(c.version=b),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var b=e.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||e.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||e.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:f.OS_MAP.BlackBerry,version:b}}},{test:[/bada/i],describe:function(a){var b=e.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:f.OS_MAP.Bada,version:b}}},{test:[/tizen/i],describe:function(a){var b=e.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:f.OS_MAP.Tizen,version:b}}},{test:[/linux/i],describe:function(){return{name:f.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:f.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var b=e.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:f.OS_MAP.PlayStation4,version:b}}}],a.exports=b.default},94:function(a,b,c){b.__esModule=!0,b.default=void 0;var d,e=(d=c(17))&&d.__esModule?d:{default:d},f=c(18);b.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var b=e.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",c={type:f.PLATFORMS_MAP.mobile,vendor:"Huawei"};return b&&(c.model=b),c}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:f.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:f.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:f.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:f.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:f.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:f.PLATFORMS_MAP.tablet}}},{test:function(a){var b=a.test(/ipod|iphone/i),c=a.test(/like (ipod|iphone)/i);return b&&!c},describe:function(a){var b=e.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:f.PLATFORMS_MAP.mobile,vendor:"Apple",model:b}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:f.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:f.PLATFORMS_MAP.mobile}}},{test:function(a){return"blackberry"===a.getBrowserName(!0)},describe:function(){return{type:f.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return"bada"===a.getBrowserName(!0)},describe:function(){return{type:f.PLATFORMS_MAP.mobile}}},{test:function(a){return"windows phone"===a.getBrowserName()},describe:function(){return{type:f.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var b=Number(String(a.getOSVersion()).split(".")[0]);return"android"===a.getOSName(!0)&&b>=3},describe:function(){return{type:f.PLATFORMS_MAP.tablet}}},{test:function(a){return"android"===a.getOSName(!0)},describe:function(){return{type:f.PLATFORMS_MAP.mobile}}},{test:function(a){return"macos"===a.getOSName(!0)},describe:function(){return{type:f.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return"windows"===a.getOSName(!0)},describe:function(){return{type:f.PLATFORMS_MAP.desktop}}},{test:function(a){return"linux"===a.getOSName(!0)},describe:function(){return{type:f.PLATFORMS_MAP.desktop}}},{test:function(a){return"playstation 4"===a.getOSName(!0)},describe:function(){return{type:f.PLATFORMS_MAP.tv}}},{test:function(a){return"roku"===a.getOSName(!0)},describe:function(){return{type:f.PLATFORMS_MAP.tv}}}],a.exports=b.default},95:function(a,b,c){b.__esModule=!0,b.default=void 0;var d,e=(d=c(17))&&d.__esModule?d:{default:d},f=c(18);b.default=[{test:function(a){return"microsoft edge"===a.getBrowserName(!0)},describe:function(a){if(/\sedg\//i.test(a))return{name:f.ENGINE_MAP.Blink};var b=e.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:f.ENGINE_MAP.EdgeHTML,version:b}}},{test:[/trident/i],describe:function(a){var b={name:f.ENGINE_MAP.Trident},c=e.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:function(a){return a.test(/presto/i)},describe:function(a){var b={name:f.ENGINE_MAP.Presto},c=e.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:function(a){var b=a.test(/gecko/i),c=a.test(/like gecko/i);return b&&!c},describe:function(a){var b={name:f.ENGINE_MAP.Gecko},c=e.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:f.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var b={name:f.ENGINE_MAP.WebKit},c=e.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}}],a.exports=b.default}});var ne=dt(nd.exports);let nf="provider_update",ng="connectWithResponse",nh="connection_status",ni="service_status";class nj{constructor({shouldSetOnWindow:a,connectionStream:b,shouldSendMetadata:c=!1,shouldShimWeb3:d,sdkInstance:e}){const f=new Proxy(new nm({connectionStream:b,shouldSendMetadata:c,shouldSetOnWindow:a,shouldShimWeb3:d,autoRequestAccounts:!1}),{deleteProperty:()=>!0});this.provider=f,this.sdkInstance=e,this.provider.on("display_uri",a=>{this.sdkInstance.emit("display_uri",a)}),this.provider.on("_initialized",()=>{let a={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit("initialized",a),m2("[Ethereum: constructor()] provider initialized",a)})}static init(a){var b;return m2("[Ethereum: init()] Initializing Ethereum service"),this.instance=new nj(a),null==(b=this.instance)?void 0:b.provider}static destroy(){}static getInstance(){var a;if(!(null==(a=this.instance)?void 0:a.provider))throw Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var a;if(!(null==(a=this.instance)?void 0:a.provider))throw Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class nk{constructor({useDeepLink:a,preferredOpenLink:b,debug:c=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=a,this.state.preferredOpenLink=b,this.state.debug=c}openDeeplink(a,b,c){return function(a,b,c,d){let{state:e}=a;m2(`[PlatfformManager: openDeeplink()] universalLink --> ${b}`),m2(`[PlatfformManager: openDeeplink()] deepLink --> ${c}`);try{if(e.preferredOpenLink)return void e.preferredOpenLink(e.useDeeplink?c:b,d);if(m2(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${e.useDeeplink} link=${e.useDeeplink?c:b}`),e.useDeeplink);else if("undefined"!=typeof document){let a=document.createElement("a");a.href=b,a.target="_self",a.rel="noreferrer noopener",a.click()}}catch(a){console.log("[PlatfformManager: openDeeplink()] can't open link",a)}}(this,a,b,c)}isReactNative(){return this.isNotBrowser()&&!1}isMetaMaskInstalled(){let a;return a=nj.getProvider()||(null==window?void 0:window.ethereum),m2(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${null==a?void 0:a.isMetaMask} isConnected=${null==a?void 0:a.isConnected()}`),(null==a?void 0:a.isMetaMask)&&(null==a?void 0:a.isConnected())}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var a,b;let c=ne.parse(window.navigator.userAgent);return"mobile"===(null==(a=null==c?void 0:c.platform)?void 0:a.type)||"tablet"===(null==(b=null==c?void 0:c.platform)?void 0:b.type)}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return!1}isMobileWeb(){return this.state.platformType===jG.MobileWeb}static isNotBrowser(){return!0}isNotBrowser(){return nk.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return nk.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(a){let{state:b}=a;return b.platformType?b.platformType:a.isReactNative()?jG.ReactNative:a.isNotBrowser()?jG.NonBrowser:a.isMetaMaskMobileWebView()?jG.MetaMaskMobileWebview:a.isMobile()?jG.MobileWeb:jG.DesktopWeb}(this)}}let nl=a=>cL(void 0,void 0,void 0,function*(){if(nk.isBrowser()){let{StorageManagerWeb:b}=yield Promise.resolve().then(function(){return n7});return new b(a)}return Promise.resolve({persistChannelConfig:()=>cL(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>cL(void 0,void 0,void 0,function*(){}),persistAccounts:()=>cL(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>cL(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>cL(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>cL(void 0,void 0,void 0,function*(){}),terminate:()=>cL(void 0,void 0,void 0,function*(){})})});class nm extends m1{constructor({connectionStream:a,shouldSendMetadata:b,autoRequestAccounts:c=!1}){super(a,{logger:console,maxEventListeners:100,shouldSendMetadata:b}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},m2(`[SDKProvider: constructor()] autoRequestAccounts=${c}`),this.state.autoRequestAccounts=c}forceInitializeState(){return cL(this,void 0,void 0,function*(){return m2(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){m2("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var a;let{accounts:b}=this._state;return b&&0!==b.length?(null==(a=b[0])?void 0:a.toLowerCase())||"":(m2("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(a){this.state=Object.assign(Object.assign({},this.state),a)}handleAccountsChanged(a,b){return this._handleAccountsChanged(a,b)}handleDisconnect({terminate:a=!1}){!function({terminate:a=!1,instance:b}){let{state:c}=b;m2(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${a}`,b),a&&(b._state.accounts=null,b._state.isUnlocked=!1,b._state.isPermanentlyDisconnected=!0,b._state.initialized=!1),b._handleAccountsChanged([]),b._state.isConnected=!1,b.emit("disconnect",m3.ethErrors.provider.disconnected()),c.providerStateRequested=!1}({terminate:a,instance:this})}_initializeStateAsync(){return cL(this,void 0,void 0,function*(){return function(a){var b,c;return cL(this,void 0,void 0,function*(){let d;void 0===a.state&&(a.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});let{state:e}=a;if(e.providerStateRequested)m2("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let f;e.providerStateRequested=!0;let g=null,h=!1,i=!1,j=yield nl({enabled:!0});if(j){let a=yield j.getPersistedChannelConfig({});h=null!=(b=null==a?void 0:a.relayPersistence)&&b,f=yield j.getCachedChainId();let c=yield j.getCachedAccounts();c.length>0&&(g=c[0])}if(m2(`[SDKProvider: initializeStateAsync()] relayPersistence=${h}`,{relayPersistence:h,cachedChainId:f,cachedSelectedAddress:g}),h)if(f&&g)d={accounts:[g],chainId:f,isUnlocked:!1},i=!0;else try{d=yield a.request({method:"metamask_getProviderState"})}catch(b){return a._log.error("MetaMask: Failed to get initial state. Please report this bug.",b),void(e.providerStateRequested=!1)}if(0===(null==(c=null==d?void 0:d.accounts)?void 0:c.length))if(a.getSelectedAddress())d.accounts=[a.getSelectedAddress()];else{m2("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");let b=yield a.request({method:"eth_requestAccounts",params:[]});d.accounts=b}a._initializeState(d),e.providerStateRequested=!1,i&&(a._state.isConnected=!0,a.emit("connect",{chainId:null==d?void 0:d.chainId}))}})}(this)})}_initializeState(a){var b;return m2("[SDKProvider: _initializeState()]",a),b=super._initializeState.bind(this),m2("[SDKProvider: initializeState()] set state._initialized to false"),this._state.initialized=!1,b(a)}_handleChainChanged({chainId:a,networkVersion:b}={}){this.state.chainId=a,this.state.networkVersion=b,function({instance:a,chainId:b,networkVersion:d,superHandleChainChanged:e}){m2(`[SDKProvider: handleChainChanged()] chainId=${b} networkVersion=${d}`);let f=d;d||(m2("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),f="1"),b!==c&&(cH.analytics.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(null!=b?b:"0x1",16)}`}),c=b),a._state.isConnected=!0,a.emit("connect",{chainId:b}),e({chainId:b,networkVersion:f})}({instance:this,chainId:a,networkVersion:b,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var nn,no="0.34.0";(ow=nn||(nn={})).INPAGE="metamask-inpage",ow.CONTENT_SCRIPT="metamask-contentscript",ow.PROVIDER="metamask-provider";let np="https://metamask.app.link/connect",nq="metamask://connect",nr="metamask_getProviderState",ns="metamask_connectSign",nt="metamask_connectWith",nu="metamask_batch",nv="personal_sign",nw="wallet_requestPermissions",nx="eth_requestAccounts",ny="eth_accounts",nz="eth_chainId",nA="eth_sendTransaction",nB={[nx]:!0,[nA]:!0,eth_signTransaction:!0,eth_sign:!0,[nv]:!0,[ny]:!1,[nz]:!1,[nv]:!0,eth_signTypedData:!0,eth_signTypedData_v3:!0,eth_signTypedData_v4:!0,[nw]:!0,wallet_getPermissions:!0,wallet_watchAsset:!0,wallet_addEthereumChain:!0,wallet_switchEthereumChain:!0,[ns]:!0,[nt]:!0,personal_ecRecover:!0,[nu]:!0,metamask_open:!0},nC=Object.keys(nB).filter(a=>!0===nB[a]).map(a=>a.toLowerCase()),nD=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(a=>a.toLowerCase()),nE=".sdk-comm",nF="providerType",nG=".MMSDK_cached_address",nH=".MMSDK_cached_chainId";function nI(a){var b,c;return cL(this,void 0,void 0,function*(){m2("[MetaMaskSDK: connectWithExtensionProvider()] ",a),a.sdkProvider=a.activeProvider,a.activeProvider=window.extension,window.ethereum=window.extension;try{let a=yield null==(b=window.extension)?void 0:b.request({method:"eth_requestAccounts"});m2(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${a}`)}catch(a){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",a)}localStorage.setItem(nF,"extension"),a.extensionActive=!0,a.emit(nf,oz.EXTENSION),a.options.enableAnalytics&&(null==(c=a.analytics)||c.send({event:jC.SDK_USE_EXTENSION}))})}function nJ(a){let b;if(void 0!==c$)b=c$.from(a,"utf8").toString("base64");else if("function"==typeof btoa)b=btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/gu,(a,b)=>String.fromCharCode(parseInt(b,16))));else{if(!("Buffer"in cM))throw Error("Unable to base64 encode: No available method.");b=cM.Buffer.from(a,"utf8").toString("base64")}return b}(ox=oz||(oz={})).TERMINATE="terminate",ox.EXTENSION="extension",ox.INITIALIZED="initialized";class nK extends mJ.Duplex{constructor({name:a,remote:b,deeplinkProtocol:c,hideReturnToAppNotification:d,platformManager:e}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,hideReturnToAppNotification:!1,platformManager:null},this.state._name=a,this.state.remote=b,this.state.deeplinkProtocol=c,this.state.hideReturnToAppNotification=null!=d?d:this.state.hideReturnToAppNotification,this.state.platformManager=e,this._onMessage=this._onMessage.bind(this),this.state.remote.on(jy.MESSAGE,this._onMessage)}_write(a,b,c){return cL(this,void 0,void 0,function*(){return function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return cL(this,void 0,void 0,function*(){var c,y,z,A;let B,C,D,E=null==(e=a.state.remote)?void 0:e.isReady(),F=null==(f=a.state.remote)?void 0:f.isConnected(),G=null==(g=a.state.remote)?void 0:g.isPaused(),H=nj.getProvider(),I=null==(h=a.state.remote)?void 0:h.getChannelId(),J=null==(i=a.state.remote)?void 0:i.isAuthorized(),{deeplinkProtocol:K}=a.state,{method:L,data:M,triggeredInstaller:N}=(c$.isBuffer(b)?(B=b.toJSON())._isBuffer=!0:B=b,C=null==(c=null==B?void 0:B.data)?void 0:c.method,D=!1,"object"==typeof(null==(y=null==B?void 0:B.data)?void 0:y.params)&&!0===(null==(A=null==(z=null==B?void 0:B.data)?void 0:z.params)?void 0:A.__triggeredInstaller)&&(D=!0,B.data.params=B.data.params.wrappedParams),{method:C,data:B,triggeredInstaller:D});if(m2(`[RCPMS: write()] method='${L}' isRemoteReady=${E} channelId=${I} isSocketConnected=${F} isRemotePaused=${G} providerConnected=${H.isConnected()}`,b),!I)return L!==nr&&m2(`[RCPMS: write()] ${L} --> channelId is undefined`),d(Error("disconnected"));m2(`[RCPMS: write()] remote.isPaused()=${null==(j=a.state.remote)?void 0:j.isPaused()} authorized=${J} ready=${E} socketConnected=${F}`,b);let O=null==(k=a.state.platformManager)?void 0:k.isSecure(),P=null!=(m=null==(l=a.state.platformManager)?void 0:l.isMobileWeb())&&m,Q=null!=(o=null==(n=a.state.remote)?void 0:n.hasDeeplinkProtocol())&&o&&P&&J;try{if(!N){let b=JSON.stringify(null==M?void 0:M.data);if(b.length>1e6)return d(Error(`Message size ${b.length} exceeds maximum allowed size of 1000000 bytes`));null==(p=a.state.remote)||p.sendMessage(null==M?void 0:M.data).then(()=>{m2(`[RCPMS: _write()] ${L} sent successfully`)}).catch(a=>{m2("[RCPMS: _write()] error sending message",a)})}if(!O)return m2(`[RCPMS: _write()] unsecure platform for method ${L} -- return callback`),d();if(N)return m2("[RCPMS: _write()] prevent deeplink -- installation completed separately."),d();let b=null!=(s=null==(r=null==(q=a.state.remote)?void 0:q.getKeyInfo())?void 0:r.ecies.public)?s:"",c=encodeURI(`channelId=${I}&pubkey=${b}&comm=socket&t=d&v=2&hr=${+!!a.state.hideReturnToAppNotification}`);if(Q){let b=JSON.stringify(null==M?void 0:M.data),e=null==(t=a.state.remote)?void 0:t.encrypt(b);if(!e)return m2("[RCPMS: _write()] error encrypting message"),d(Error("RemoteCommunicationPostMessageStream - disconnected"));c+=`&scheme=${K}&rpc=${nJ(e)}`}if(!(null==(u=a.state.platformManager)?void 0:u.isMetaMaskInstalled()))return m2("[RCPMS: _write()] prevent deeplink until installation is completed."),d();nB[L]?(m2(`[RCPMS: _write()] redirect link for '${L}' socketConnected=${F} connect?${c}`),null==(v=a.state.platformManager)||v.openDeeplink(`${np}?${c}`,`${nq}?${c}`,"_self")):(null==(w=a.state.remote)?void 0:w.isPaused())?(m2(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${L}`),null==(x=a.state.platformManager)||x.openDeeplink(`${np}?redirect=true&${c}`,`${nq}?redirect=true&${c}`,"_self")):m2(`[RCPMS: _write()] method ${L} doesn't need redirect.`)}catch(a){return m2("[RCPMS: _write()] error sending message",a),d(Error("RemoteCommunicationPostMessageStream - disconnected"))}return d()})}(this,a,0,c)})}_read(){}_onMessage(a){try{if(m2("[RCPMS: onMessage()] message",a),!a||"object"!=typeof a||"object"!=typeof(null==a?void 0:a.data))return;if(!(null==a?void 0:a.name))return void m2("[RCPMS: onMessage()] ignore message without name",a);if((null==a?void 0:a.name)!==nn.PROVIDER)return void m2(`[RCPMS: onMessage()] ignore message with wrong name message=${a}`);if(c$.isBuffer(a)){let b=c$.from(a);this.push(b)}else this.push(a)}catch(a){m2(`[RCPMS: onMessage()] ignore message error err=${a}`)}}start(){}}let nL=1,nM=a=>new Promise(b=>{setTimeout(()=>{b(!0)},a)});class nN{constructor({serverUrl:a,enabled:b,originatorInfo:c}){this.serverURL=g5,this.serverURL=a,this.originatorInfo=c,this.enabled=null==b||b}send({event:a,params:b}){if(!this.enabled)return;let c=Object.assign(Object.assign({id:"sdk",event:a,sdkVersion:no},this.originatorInfo),{params:b});m2(`[Analytics: send()] event: ${a}`,c),g2(c,this.serverURL).catch(a=>{m2(`[Analytics: send()] error: ${a}`)})}}function nO(a){var b,c,d;let{dappMetadata:e}=a,f=function({url:a,name:b}){var c;let d=nJ(a+b);if(!localStorage)return"";let e=null!=(c=localStorage.getItem(d))?c:"";if(!e){e=(0,cK.default)();try{localStorage.setItem(d,e)}catch(a){return""}}return e}({url:null!=(b=null==e?void 0:e.url)?b:"no_url",name:null!=(c=null==e?void 0:e.name)?c:"no_name"}),g=null==(d=a.platformManager)?void 0:d.getPlatformType(),h=g===jG.DesktopWeb,i=g===jG.MetaMaskMobileWebview,j="N/A";return h?j="extension":i&&(j="mobile"),{id:f,from:j}}let nP=(a,b,c)=>{if(g8(a))if(c||b&&"object"==typeof b&&null!==b&&"error"in b){let d=c||(null==b?void 0:b.error);d&&4001===d.code?cH.analytics.track("sdk_action_rejected",{action:a}):cH.analytics.track("sdk_action_failed",{action:a})}else cH.analytics.track("sdk_action_succeeded",{action:a})};(oy=oA||(oA={})).Announce="eip6963:announceProvider",oy.Request="eip6963:requestProvider";var nQ="INSTALLED",nR="NOT_INSTALLED",nS="REGISTERED",nT="REGISTERING",nU="RELOADING",nV={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},nW="REGISTRATION_IN_PROGRESS",nX="FORWARDER_ID",nY=function(){function a(b){var c=void 0===b?{}:b,d=c.forwarderOrigin,e=c.forwarderMode,f=void 0===e?a.FORWARDER_MODE.INJECT:e;this.forwarderOrigin=void 0===d?"https://fwd.metamask.io":d,this.forwarderMode=f,this.state=a.isMetaMaskInstalled()?nQ:nR;var g=a._detectBrowser();this.downloadUrl=g?nV[g]:nV.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),f===a.FORWARDER_MODE.INJECT&&"true"===sessionStorage.getItem(nW)&&a._injectForwarder(this.forwarderOrigin)}return a.prototype._onMessage=function(a){if(a.origin===this.forwarderOrigin)return"metamask:reload"===a.data.type?this._onMessageFromForwarder(a):void console.debug("Unknown message from '"+a.origin+"' with data "+JSON.stringify(a.data))},a.prototype._onMessageUnknownStateError=function(a){throw Error("Unknown state: '"+a+"'")},a.prototype._onMessageFromForwarder=function(b){var c,d,e;return c=this,d=void 0,e=function(){return function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:switch(this.state){case nU:return[3,1];case nR:return[3,2];case nQ:return[3,3];case nT:return[3,5];case nS:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=nU,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=nT,[4,a._register()];case 4:return c.sent(),this.state=nS,b.source.postMessage({type:"metamask:registrationCompleted"},b.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),c.label=8;case 8:return[2]}})},new(d||(d=Promise))(function(a,b){function f(a){try{h(e.next(a))}catch(a){b(a)}}function g(a){try{h(e.throw(a))}catch(a){b(a)}}function h(b){var c;b.done?a(b.value):((c=b.value)instanceof d?c:new d(function(a){a(c)})).then(f,g)}h((e=e.apply(c,[])).next())})},a.prototype.startOnboarding=function(){sessionStorage.setItem(nW,"true"),this._openDownloadPage(),this._openForwarder()},a.prototype.stopOnboarding=function(){"true"===sessionStorage.getItem(nW)&&(this.forwarderMode===a.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),a._removeForwarder()),sessionStorage.setItem(nW,"false"))},a.prototype._openForwarder=function(){this.forwarderMode===a.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):a._injectForwarder(this.forwarderOrigin)},a.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},a.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},a._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},a._injectForwarder=function(a){var b=document.body,c=document.createElement("iframe");c.setAttribute("height","0"),c.setAttribute("width","0"),c.setAttribute("style","display: none;"),c.setAttribute("src",a),c.setAttribute("id",nX),b.insertBefore(c,b.children[0])},a._removeForwarder=function(){var a;null==(a=document.getElementById(nX))||a.remove()},a._detectBrowser=function(){var a=ne.parse(window.navigator.userAgent);return"Firefox"===a.browser.name?"FIREFOX":["Chrome","Chromium"].includes(a.browser.name||"")?"CHROME":null},a.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},a}();class nZ{constructor({remote:a,preferDesktop:b,platformManager:c,debug:d=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=a,this.state.preferDesktop=b,this.state.platformManager=c,this.state.debug=d}startDesktopOnboarding(){return function(){return cL(this,void 0,void 0,function*(){m2("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),(new nY).startOnboarding()})}()}redirectToProperInstall(){return cL(this,void 0,void 0,function*(){return function(a){var b,c;return cL(this,void 0,void 0,function*(){let{state:d}=a,e=null==(b=d.platformManager)?void 0:b.getPlatformType();if(m2(`[MetamaskInstaller: redirectToProperInstall()] platform=${e}`),e===jG.MetaMaskMobileWebview)return!1;d.isInstalling=!0;try{yield null==(c=d.remote)?void 0:c.startConnection({connectWith:d.connectWith}),d.isInstalling=!1,d.hasInstalled=!0}catch(a){throw d.isInstalling=!1,a}return!0})}(this)})}checkInstallation(){return cL(this,void 0,void 0,function*(){return function(a){var b;return cL(this,void 0,void 0,function*(){let{state:c}=a,d=null==(b=c.platformManager)?void 0:b.isMetaMaskInstalled();return m2(`[MetamaskInstaller: checkInstallation()] isInstalled=${d}`),!!d||(yield a.redirectToProperInstall())})}(this)})}start({wait:a=!1,connectWith:b}){return cL(this,void 0,void 0,function*(){this.state.connectWith=b,m2(`[MetaMaskInstaller: start()] wait=${a}`,b),yield function(a,{wait:b=!1}){return cL(this,void 0,void 0,function*(){return m2(`[MetamaskInstaller: startInstaller()] wait=${b}`),b&&(yield nM(1e3)),yield a.checkInstallation()})}(this,{wait:a})})}}class n${constructor({debug:a,sdkVersion:b}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=null!=a&&a,this.sdkVersion=b}loadComponent(a){return cL(this,void 0,void 0,function*(){if(!this.defined[a]){this.defined[a]=!0;try{let a=yield Promise.resolve().then(function(){return o8});console.log("loader",a),a.defineCustomElements()}catch(b){console.error(`Failed to load ${a} modal:`,b)}}})}renderInstallModal(a){var b;return cL(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",a),this.containers.install=a.parentElement,yield this.loadComponent("install");let c=document.createElement("mm-install-modal");c.link=a.link,c.preferDesktop=a.preferDesktop,c.sdkVersion=null!=(b=a.sdkVersion)?b:this.sdkVersion,c.addEventListener("close",({detail:{shouldTerminate:b}})=>a.onClose(b)),c.addEventListener("startDesktopOnboarding",a.metaMaskInstaller.startDesktopOnboarding),c.addEventListener("trackAnalytics",b=>{var c;return null==(c=a.onAnalyticsEvent)?void 0:c.call(a,b.detail)}),a.parentElement.appendChild(c)})}renderSelectModal(a){var b;return cL(this,void 0,void 0,function*(){this.containers.select=a.parentElement,yield this.loadComponent("select");let c=document.createElement("mm-select-modal");c.link=a.link,c.sdkVersion=null!=(b=a.sdkVersion)?b:this.sdkVersion,c.preferDesktop=a.preferDesktop,c.addEventListener("close",({detail:{shouldTerminate:b}})=>a.onClose(b)),c.addEventListener("connectWithExtension",a.connectWithExtension),a.parentElement.appendChild(c),setTimeout(()=>this.updateQRCode(a.link),100)})}renderPendingModal(a){var b;return cL(this,void 0,void 0,function*(){this.containers.pending=a.parentElement,yield this.loadComponent("pending");let c=document.createElement("mm-pending-modal");c.sdkVersion=null!=(b=a.sdkVersion)?b:this.sdkVersion,c.displayOTP=a.displayOTP,c.addEventListener("close",a.onClose),c.addEventListener("updateOTPValue",({detail:{otpValue:b}})=>a.updateOTPValue(b)),a.onDisconnect&&c.addEventListener("disconnect",a.onDisconnect),a.parentElement.appendChild(c)})}updateOTPValue(a){let b=()=>{var b;let c=null==(b=this.containers.pending)?void 0:b.querySelector("mm-pending-modal");return!!c&&(c.otpCode=a,!0)};setTimeout(()=>{b()},800)}updateQRCode(a){var b,c;let d=null==(b=this.containers.install)?void 0:b.querySelector("mm-install-modal");if(d)d.link=a;else{let b=null==(c=this.containers.select)?void 0:c.querySelector("mm-select-modal");b&&(b.link=a)}}unmount(){Object.entries(this.containers).forEach(([a,b])=>{var c;null==(c=null==b?void 0:b.parentNode)||c.removeChild(b),this.containers[a]=void 0})}}let n_=({link:a,debug:b,installer:c,terminate:d,connectWithExtension:e,preferDesktop:f,onAnalyticsEvent:g})=>{let h=null,i=null;m2("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),m2(`[UI: InstallModal-web: sdkWebInstallModal()] link=${a}`),m2(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${a}" --ios`),m2(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${a}" --android`),m2(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${a}"`);let j=a=>{var b;m2("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",a,i),(null==i?void 0:i.parentNode)&&(null==(b=i.parentNode)||b.removeChild(i)),i=null,h=null,!0===a&&(null==d||d())};return{mount:d=>{(m2("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",i),i)?(i.style.display="block",null==h||h.updateQRCode(d)):(h=new n$({debug:b,sdkVersion:no}),i=document.createElement("div"),document.body.appendChild(i),window.extension?h.renderSelectModal({parentElement:i,connectWithExtension:()=>{j(),null==e||e()},onClose:j,link:a,preferDesktop:null!=f&&f}).catch(a=>{console.error(a)}):h.renderInstallModal({parentElement:i,preferDesktop:null!=f&&f,link:a,metaMaskInstaller:c,onClose:j,onAnalyticsEvent:g}).catch(a=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",a)}))},unmount:j}},n0=({onDisconnect:a,debug:b})=>{let c=null,d=null,e=()=>{m2("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",c),(null==c?void 0:c.parentNode)&&c.parentNode.removeChild(c),c=null,d=null},f=a=>{m2("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",a),d&&d.updateOTPValue(a)},g=({displayOTP:g}={displayOTP:!0})=>{m2("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",c),c?c.style.display="block":(d=new n$({debug:b,sdkVersion:no}),c=document.createElement("div"),document.body.appendChild(c),d.renderPendingModal({parentElement:c,onClose:e,onDisconnect:a,updateOTPValue:f,displayOTP:g}).catch(a=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",a)}))};return g(),{mount:g,unmount:e,updateOTPValue:f}};function n1(a,b){var c,d,e,f;a.connector||(m2("[RemoteConnection: initializeConnector()] initialize connector"),a.connector=new hn({anonId:b.anonId,platformType:b.platformManager.getPlatformType(),communicationLayerPreference:b.communicationLayerPreference,transports:b.transports,dappMetadata:Object.assign(Object.assign({},b.dappMetadata),{source:b._source}),analytics:b.enableAnalytics,communicationServerUrl:b.communicationServerUrl,sdkVersion:no,context:"dapp",ecies:b.ecies,storage:b.storage,logging:b.logging}),b.timer&&(m2("[RemoteConnection: initializeConnector()] reset background timer",b.timer),null==(d=null==(c=b.timer)?void 0:c.stopBackgroundTimer)||d.call(c),null==(f=null==(e=b.timer)?void 0:e.runBackgroundTimer)||f.call(e,()=>!1,1e4)))}function n2(a){a.listeners.forEach(({event:b,handler:c})=>{var d;null==(d=a.connector)||d.off(b,c)}),a.listeners=[]}function n3(a,b){function c(b,c){var d;null==(d=a.connector)||d.on(b,c),a.listeners.push({event:b,handler:c})}a.connector&&(n2(a),c(jy.WALLET_INIT,({accounts:a,chainId:b})=>cL(this,void 0,void 0,function*(){m2(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${a} chainId=${b}`);let c=nj.getProvider();c._setConnected(),c._initializeState({accounts:a,chainId:b,isUnlocked:!1}),c.emit("chainChanged",b),c.emit("accountsChanged",a)})),c(jy.AUTHORIZED,()=>cL(this,void 0,void 0,function*(){var b,c,d,e;try{m2("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",a.pendingModal,a.installModal);let f=nj.getProvider();f._setConnected(),null==(c=null==(b=a.pendingModal)?void 0:b.unmount)||c.call(b),null==(e=null==(d=a.installModal)?void 0:d.unmount)||e.call(d,!1),a.otpAnswer=void 0,a.authorized=!0,m2("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",f.getState()),yield f.forceInitializeState()}catch(a){}})),c(jy.TERMINATE,()=>{var b,c,d,e,f;null==(c=null==(b=a.pendingModal)?void 0:b.unmount)||c.call(b),null==(e=null==(d=a.installModal)?void 0:d.unmount)||e.call(d,!0),a.pendingModal=void 0,a.installModal=void 0,a.otpAnswer=void 0,null==(f=a.connector)||f.disconnect({terminate:!0}),a.authorized=!1,nj.getProvider().handleDisconnect({terminate:!0}),n2(a),m2("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}class n4{constructor(a){var b,c,d;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=a;const e=!0===(null==(b=a.logging)?void 0:b.developerMode)||!0===(null==(c=a.logging)?void 0:c.sdk);this.state.developerMode=e,this.state.analytics=a.analytics,this.state.preferDesktop=null!=(d=a.preferDesktop)&&d,this.state.useDeeplink=a.sdk.options.useDeeplink,this.state.hideReturnToAppNotification=a.sdk.options.hideReturnToAppNotification,this.state.communicationLayerPreference=a.communicationLayerPreference,this.state.platformManager=a.platformManager,a.modals.install||(a.modals.install=n_),a.modals.otp||(a.modals.otp=n0)}startConnection(a){return cL(this,void 0,void 0,function*(){return function(a,b,{initialCheck:c,connectWith:d}={}){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return cL(this,void 0,void 0,function*(){try{if(n1(a,b),!a.connector)throw Error("no connector defined");n3(a);let x=nj.getProvider();a.authorized=!1,x.emit("connecting");let y=yield null==(e=a.connector)?void 0:e.originatorSessionConnect();m2(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${c}`,y);let z=null!=(f=null==y?void 0:y.channelId)?f:"",A=null!=(h=null==(g=a.connector.getKeyInfo())?void 0:g.ecies.public)?h:"",B=null!=(j=null==(i=a.connector.getKeyInfo())?void 0:i.ecies.private)?j:"";if(c&&!y)return Promise.resolve();if(!y&&!c){let b=yield a.connector.generateChannelIdConnect();z=null!=(k=b.channelId)?k:"",A=null!=(l=b.pubKey)?l:"",B=null!=(m=b.privKey)?m:"";let c=Date.now();null==(n=a.connector.state.storageManager)||n.persistChannelConfig({channelId:z,localKey:B,lastActive:c,validUntil:c+6048e5})}if(c&&(null==y?void 0:y.channelId))return(null==(o=a.connector)?void 0:o.isConnected())||(m2(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${c}`,y),yield null==(p=a.connector)?void 0:p.connectToChannel({channelId:z})),Promise.resolve();!y||(null==(q=a.connector)?void 0:q.isConnected())||(m2("[RemoteConnection: startConnection()] reconnecting to channel",y),yield null==(r=a.connector)?void 0:r.connectToChannel({channelId:z}));let C=(null==(s=a.platformManager)?void 0:s.isSecure())?"":"&t=q",{iconUrl:D,name:E,url:F,scheme:G}=b.dappMetadata||{},H=null==(t=a.platformManager)?void 0:t.getPlatformType(),I="N/A";void 0!==E?I=E:void 0!==F&&(I=F);let J={url:null!=F?F:"",title:null!=E?E:"",icon:D,scheme:null!=G?G:"",apiVersion:no,dappId:I||F||"N/A",anonId:b.anonId,platform:null!=H?H:"",source:null!=(u=b._source)?u:""},K=nJ(JSON.stringify(J)),L=`channelId=${z}&v=2&comm=${null!=(v=a.communicationLayerPreference)?v:""}&pubkey=${A}${C}&originatorInfo=${K}&hr=${+!!a.hideReturnToAppNotification}`;if(d){L+=`&rpc=${nJ(JSON.stringify(d))}`;let b=a.connector.getRPCMethodTracker();b&&(b[`${d.id}`]=Object.assign(Object.assign({},d),{id:`${d.id}`,timestamp:Date.now()}))}let M=encodeURI(L),N=`${a.useDeeplink?nq:np}?${L}`;if(a.qrcodeLink=N,a.developerMode&&m2(`[RemoteConnection: startConnection()] qrcodeLink=${M}`),x.emit("display_uri",N),cH.analytics.track("sdk_connection_initiated",{transport_type:"websocket"}),null==(w=a.platformManager)?void 0:w.isSecure()){let b=setTimeout(()=>{cH.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return yield function(a,b){var c,d;return cL(this,void 0,void 0,function*(){let e=`${np}?${b}`,f=`${nq}?${b}`;null==(d=null==(c=a.platformManager)?void 0:c.openDeeplink)||d.call(c,e,f,"_self")})}(a,M),new Promise((c,d)=>{var e,f,g;(null==(e=a.connector)?void 0:e.isAuthorized())?(clearTimeout(b),c()):(null==(f=a.connector)||f.once(jy.AUTHORIZED,()=>{clearTimeout(b),c()}),null==(g=a.connector)||g.once(jy.REJECTED,()=>{clearTimeout(b),d(jy.REJECTED)}))})}return function(a,b,c){return cL(this,void 0,void 0,function*(){let d=setTimeout(()=>{cH.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return new Promise((e,f)=>{var g,h,i,j;if(!a.connector)return void f(Error("No connector available"));m2("[RemoteConnection: connectWithModalInstaller()]",{state:a,options:b,linkParams:c});let k=`${a.useDeeplink?nq:np}?${c}`;a.installModal=null==(h=(g=b.modals).install)?void 0:h.call(g,{link:k,preferDesktop:a.preferDesktop,installer:b.getMetaMaskInstaller(),terminate:()=>{m2("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),b.sdk.terminate().catch(a=>{console.warn("[MMSDK] failed to terminate connection",a)})},debug:a.developerMode,connectWithExtension:()=>{var a;return null==(a=b.connectWithExtensionProvider)||a.call(b),!1},onAnalyticsEvent:({event:c,params:d})=>{var e,f,g;let h=Object.assign(Object.assign({},d),{sdkVersion:b.sdk.getVersion(),dappId:null==(e=b.dappMetadata)?void 0:e.name,source:b._source,url:null==(f=b.dappMetadata)?void 0:f.url});null==(g=a.analytics)||g.send({event:c,params:h})}}),null==(j=null==(i=a.installModal)?void 0:i.mount)||j.call(i,k),b.sdk.once(jy.PROVIDER_UPDATE,a=>cL(this,void 0,void 0,function*(){(m2("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),a===oz.TERMINATE)?(clearTimeout(d),f({code:4001,message:"User rejected the request."})):f(a)})),a.connector.once(jy.AUTHORIZED,()=>{clearTimeout(d),e()}),a.connector.once(jy.REJECTED,()=>{clearTimeout(d),f(jy.REJECTED)}),a.connector.once(jy.CLIENTS_READY,()=>cL(this,void 0,void 0,function*(){m2("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(d),e()}))})})}(a,b,M)}catch(a){throw console.error("[startConnection] error",a),a}})}(this.state,this.options,a)})}initRemoteCommunication({sdkInstance:a}){var b,c,d;return cL(this,void 0,void 0,function*(){let e=yield null==(c=null==(b=a.options.storage)?void 0:b.storageManager)?void 0:c.getPersistedChannelConfig();if(!this.options.ecies){let a={privateKey:null==e?void 0:e.localKey};this.options.ecies=a}n1(this.state,this.options),yield null==(d=this.getConnector())?void 0:d.initFromDappStorage(),n3(this.state,this.options)})}showActiveModal(){var a,b,c,d,e;(a=this.state).authorized?m2("[RemoteConnection: showActiveModal()] already authorized"):a.pendingModal?null==(c=(b=a.pendingModal).mount)||c.call(b):a.installModal&&(null==(e=(d=a.installModal).mount)||e.call(d,a.qrcodeLink||""))}closeModal(){var a,b,c,d;null==(b=null==(a=this.state.pendingModal)?void 0:a.unmount)||b.call(a),null==(d=null==(c=this.state.installModal)?void 0:c.unmount)||d.call(c,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var a;return null==(a=this.state.connector)?void 0:a.getChannelConfig()}getKeyInfo(){var a;return null==(a=this.state.connector)?void 0:a.getKeyInfo()}getConnector(){if(!this.state.connector)throw Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw Error("PlatformManager not available");return this.state.platformManager}isConnected(){var a;return(null==(a=this.state.connector)?void 0:a.isReady())||!1}isAuthorized(){var a;return(null==(a=this.state.connector)?void 0:a.isAuthorized())||!1}isPaused(){var a;return null==(a=this.state.connector)?void 0:a.isPaused()}disconnect(a){var b,c,d,e;m2("[RemoteConnection: disconnect()]",a),(null==a?void 0:a.terminate)&&(nj.getProvider().handleDisconnect({terminate:!0}),null==(c=null==(b=this.state.pendingModal)?void 0:b.unmount)||c.call(b),this.state.otpAnswer=void 0),null==(d=this.state.connector)||d.disconnect(a),e=this.state,m2("[RemoteConnection: cleanupConnector()] cleaning up connector"),e.connector&&(n2(e),e.connector.disconnect({terminate:!0}).catch(a=>{m2("[RemoteConnection: cleanupConnector()] error disconnecting connector",a)}))}}let n5={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,hideReturnToAppNotification:!1,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:"direct",i18nOptions:{enabled:!1}};class n6 extends cI.default{constructor(a){var b,c,d;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",cG.default.disable(),this.options=Object.assign(Object.assign({},n5),a);const e=!0===(null==(b=this.options.logging)?void 0:b.developerMode);if(((null==(c=this.options.logging)?void 0:c.sdk)||e)&&cG.default.enable("MM_SDK"),m2("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(null==(d=this.options.dappMetadata)?void 0:d.url))throw Error("You must provide dAppMetadata url");this.init().then(()=>{m2("[MetaMaskSDK: constructor()]: initialized successfully.")}).catch(a=>{console.error("[MetaMaskSDK: constructor()] error during initialization",a)})}init(){return cL(this,void 0,void 0,function*(){return function(a){return cL(this,void 0,void 0,function*(){if(a._initialized)return m2("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),a.sdkInitPromise;if(a.sdkInitPromise)return m2("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),a.sdkInitPromise;try{a.sdkInitPromise=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;return cL(this,void 0,void 0,function*(){let{options:n}=a;if(n.logging=null!=(b=n.logging)?b:{},n.communicationLayerPreference=null!=(c=n.communicationLayerPreference)?c:jF.SOCKET,void 0!==n.enableDebug&&(cG.default.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),n.enableAnalytics=null==(d=n.enableAnalytics)||d,n.injectProvider=null==(e=n.injectProvider)||e,n.shouldShimWeb3=null==(f=n.shouldShimWeb3)||f,n.extensionOnly=null==(g=n.extensionOnly)||g,n.useDeeplink=null==(h=n.useDeeplink)||h,n.hideReturnToAppNotification=null!=(i=n.hideReturnToAppNotification)&&i,n.storage=null!=(j=n.storage)?j:{enabled:!0},n.headless){(0,cG.default)("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");let a=()=>{};n.modals={install:()=>({mount:a,unmount:a})},n.ui={installer:a}}let o=!0===(null==(k=n.logging)?void 0:k.developerMode);a.debug=(null==(l=n.logging)?void 0:l.sdk)||o,m2("[MetaMaskSDK: performSDKInitialization()] options",a.options);let p=Object.assign({},n.logging);o&&(p.sdk=!0,p.eciesLayer=!0,p.keyExchangeLayer=!0,p.remoteLayer=!0,p.serviceLayer=!0,p.plaintext=!0),yield function(a){var b;return cL(this,void 0,void 0,function*(){let{options:c}=a;a.platformManager=new nk({useDeepLink:null!=(b=c.useDeeplink)&&b,preferredOpenLink:c.openDeeplink,debug:a.debug})})}(a),yield function(a){var b,c,d,e,f;return cL(this,void 0,void 0,function*(){let{options:g}=a,h=null==(b=a.platformManager)?void 0:b.getPlatformType();a.analytics=new nN({serverUrl:null!=(c=g.communicationServerUrl)?c:g5,enabled:g.enableAnalytics,originatorInfo:{url:null!=(d=g.dappMetadata.url)?d:"",title:null!=(e=g.dappMetadata.name)?e:"",dappId:a.getDappId(),platform:null!=h?h:"",source:null!=(f=g._source)?f:"",anonId:""}})})}(a),yield function(a){var b,c,d;return cL(this,void 0,void 0,function*(){if(!a.options.enableAnalytics||!(null==(b=a.platformManager)?void 0:b.isBrowser())&&!(null==(c=a.platformManager)?void 0:c.isReactNative()))return;let e=a.getVersion(),f=a.getDappId(),g=yield a.getAnonId(),h=null==(d=a.platformManager)?void 0:d.getPlatformType(),i=a.options._source;cH.analytics.setGlobalProperty("sdk_version",e),cH.analytics.setGlobalProperty("dapp_id",f),cH.analytics.setGlobalProperty("anon_id",g),cH.analytics.setGlobalProperty("platform",h),cH.analytics.setGlobalProperty("integration_type",i),cH.analytics.enable(),cH.analytics.track("sdk_initialized",{})})}(a),yield function(a){var b;return cL(this,void 0,void 0,function*(){let{options:c}=a;!0!==(null==(b=c.storage)?void 0:b.enabled)||c.storage.storageManager||(c.storage.storageManager=yield nl(c.storage))})}(a),yield function(a){return cL(this,void 0,void 0,function*(){let{options:b}=a,c=/^(http|https):\/\/[^\s]*$/;if(b.dappMetadata){b.dappMetadata.iconUrl&&!c.test(b.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),b.dappMetadata.iconUrl=void 0),b.dappMetadata.base64Icon&&b.dappMetadata.base64Icon.length>163400&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),b.dappMetadata.base64Icon=void 0),b.dappMetadata.url&&!c.test(b.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");let a=(()=>{let a;if("undefined"==typeof document)return;let b=document.getElementsByTagName("link");for(let c=0;c<b.length;c++)"icon"!==b[c].getAttribute("rel")&&"shortcut icon"!==b[c].getAttribute("rel")||(a=b[c].getAttribute("href"));return a})();if(a&&!b.dappMetadata.iconUrl&&!b.dappMetadata.base64Icon){let c=`${window.location.protocol}//${window.location.host}${a}`;b.dappMetadata.iconUrl=c}}a.dappMetadata=b.dappMetadata})}(a),yield cL(void 0,void 0,void 0,function*(){let{options:b}=a,{infuraAPIKey:c}=b;if(!c)return;let d={"0x1":`https://mainnet.infura.io/v3/${c}`,"0x5":`https://goerli.infura.io/v3/${c}`,"0xaa36a7":`https://sepolia.infura.io/v3/${c}`,"0xe708":`https://linea-mainnet.infura.io/v3/${c}`,"0xe704":`https://linea-goerli.infura.io/v3/${c}`,"0x89":`https://polygon-mainnet.infura.io/v3/${c}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${c}`,"0x45":`https://optimism-mainnet.infura.io/v3/${c}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${c}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${c}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${c}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${c}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${c}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${c}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${c}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${c}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${c}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${c}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${c}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${c}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${c}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${c}`};a.options.readonlyRPCMap?a.options.readonlyRPCMap=Object.assign(Object.assign({},a.options.readonlyRPCMap),d):a.options.readonlyRPCMap=d}),yield cL(void 0,void 0,void 0,function*(){let{options:b}=a,{readonlyRPCMap:c}=b;if(c)try{m2("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",c),a.setReadOnlyRPCCalls(!0)}catch(a){throw Error("Invalid Infura Settings")}});let{metamaskBrowserExtension:q,preferExtension:r,shouldReturn:s}=yield function(a){var b,c,d;return cL(this,void 0,void 0,function*(){let{options:e}=a,f,g=!1;return(null==(b=a.platformManager)?void 0:b.isMetaMaskMobileWebView())&&(null==(c=a.analytics)||c.send({event:jC.SDK_USE_INAPP_BROWSER}),a.activeProvider=(({provider:a,sdkInstance:b})=>{if("state"in a)throw Error("INVALID EXTENSION PROVIDER");return new Proxy(a,{get:(c,d)=>"request"===d?function(a){var d,e;return cL(this,void 0,void 0,function*(){m2("[wrapExtensionProvider()] Overwriting request method",a);let{method:f,params:g}=a,h=nC.includes(f.toLowerCase()),{id:i,from:j}=nO(b);if(h&&(null==(d=b.analytics)||d.send({event:jC.SDK_RPC_REQUEST,params:{method:f,from:j,id:i}})),g8(f)&&cH.analytics.track("sdk_action_requested",{action:f}),f===nu&&Array.isArray(g))return(({target:a,args:b,trackEvent:c,sdkInstance:d})=>cL(void 0,void 0,void 0,function*(){var e,f;if("metamask_batch"!==b.method)throw Error("Invalid usage");let g=[];for(let c of null!=(e=null==b?void 0:b.params)?e:[]){let b=yield null==a?void 0:a.request({method:c.method,params:c.params});g.push(b)}let{id:h,from:i}=nO(d);for(let a of(c&&(null==(f=d.analytics)||f.send({event:jC.SDK_RPC_REQUEST_DONE,params:{method:b.method,from:i,id:h}})),g))nP(b.method,a,null);return g}))({target:c,args:a,trackEvent:h,sdkInstance:b});if(f.toLowerCase()===ns.toLowerCase()&&Array.isArray(g))return(({target:a,params:b})=>cL(void 0,void 0,void 0,function*(){let c,d=null;try{let d=yield a.request({method:nx,params:[]});if(!d.length)throw Error("SDK state invalid -- undefined accounts");return c=yield a.request({method:nv,params:[b[0],d[0]]})}catch(a){throw d=a,a}finally{nP(nv,c,d)}}))({target:c,params:g});if(f.toLowerCase()===nt.toLowerCase()&&Array.isArray(g))return(({target:a,params:b})=>cL(void 0,void 0,void 0,function*(){let[c]=b,d=c.method,e=c.params,f,g=null;try{let b=yield a.request({method:nx,params:[]});if(!Array.isArray(b)||!b.length)throw Error("SDK state invalid -- undefined accounts");return(null==d?void 0:d.toLowerCase())===nv.toLowerCase()?f=yield a.request({method:d,params:[e[0],b[0]]}):(null==d?void 0:d.toLowerCase())===nA.toLowerCase()?f=yield a.request({method:d,params:[Object.assign(Object.assign({},e[0]),{from:b[0]})]}):nD.includes(d.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${d} -- not handled by the extension -- call separately`),f=b):f=yield a.request({method:d,params:e})}catch(a){throw g=a,a}finally{nP(d,f,g)}}))({target:c,params:g});let k,l=null;try{return k=yield c.request(a)}catch(a){throw l=a,a}finally{h&&(null==(e=b.analytics)||e.send({event:jC.SDK_RPC_REQUEST_DONE,params:{method:f,from:j,id:i}})),nP(f,k,l)}})}:"getChainId"===d?function(){return a.chainId}:"getNetworkVersion"===d?function(){return a.networkVersion}:"getSelectedAddress"===d?function(){return a.selectedAddress}:"isConnected"===d?function(){return a._state.isConnected}:c[d]})})({provider:window.ethereum,sdkInstance:a}),a._initialized=!0,g=!0),f&&e.extensionOnly&&(m2("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),null==(d=a.analytics)||d.send({event:jC.SDK_USE_EXTENSION}),a.activeProvider=f,a.extensionActive=!0,a.extension=f,a._initialized=!0,g=!0),{preferExtension:!1,shouldReturn:g,metamaskBrowserExtension:f}})}(a);if(s)m2("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(a,b){var c,d,e,f,g;return cL(this,void 0,void 0,function*(){let{options:h}=a,i=Object.assign({},h.logging);a.remoteConnection=new n4({anonId:yield a.getAnonId(),preferDesktop:null!=(c=h.preferDesktop)&&c,communicationLayerPreference:null!=(d=h.communicationLayerPreference)?d:jF.SOCKET,analytics:a.analytics,dappMetadata:h.dappMetadata,_source:h._source,enableAnalytics:null==(e=h.enableAnalytics)||e,timer:h.timer,sdk:a,platformManager:a.platformManager,transports:h.transports,communicationServerUrl:h.communicationServerUrl,storage:null!=(f=h.storage)?f:{enabled:!0},getMetaMaskInstaller:()=>{if(!a.installer)throw Error("Invalid SDK status -- installer not initialized");return a.installer},logging:i,connectWithExtensionProvider:void 0===b?void 0:()=>nI(a),modals:Object.assign(Object.assign({},h.modals),{onPendingModalDisconnect:a.terminate.bind(a)})}),yield a.remoteConnection.initRemoteCommunication({sdkInstance:a}),a.installer=new nZ({remote:a.remoteConnection,preferDesktop:null!=(g=h.preferDesktop)&&g,platformManager:a.platformManager,debug:a.debug})})}(a,q),yield function(a){var b,c,d,e;return cL(this,void 0,void 0,function*(){var f,g,h,i;let{options:j}=a,k={communicationLayerPreference:null!=(b=j.communicationLayerPreference)?b:jF.SOCKET,platformManager:a.platformManager,sdk:a,checkInstallationOnAllCalls:j.checkInstallationOnAllCalls,injectProvider:null==(c=j.injectProvider)||c,shouldShimWeb3:null==(d=j.shouldShimWeb3)||d,extensionOnly:null==(e=j.extensionOnly)||e,installer:a.installer,remoteConnection:a.remoteConnection,debug:a.debug};a.activeProvider=yield(({checkInstallationOnAllCalls:a=!1,communicationLayerPreference:b,injectProvider:c,shouldShimWeb3:d,platformManager:e,installer:f,sdk:g,remoteConnection:h,debug:i})=>cL(void 0,void 0,void 0,function*(){var j,k;let l=(({name:a,remoteConnection:b})=>{if(!b||!(null==b?void 0:b.getConnector()))throw Error("Missing remote connection parameter");return new nK({name:a,remote:null==b?void 0:b.getConnector(),deeplinkProtocol:null==b?void 0:b.state.deeplinkProtocol,hideReturnToAppNotification:null==b?void 0:b.state.hideReturnToAppNotification,platformManager:null==b?void 0:b.getPlatformManager()})})({name:nn.INPAGE,target:nn.CONTENT_SCRIPT,platformManager:e,communicationLayerPreference:b,remoteConnection:h}),m=e.getPlatformType(),n=g.options.dappMetadata,o=`Sdk/Javascript SdkVersion/${no} Platform/${m} dApp/${null!=(j=n.url)?j:n.name} dAppTitle/${n.name}`,p=null,q=null,r=null==(k=g.options.storage)?void 0:k.storageManager;if(r){try{let a=yield r.getCachedAccounts();a.length>0&&(p=a[0])}catch(a){console.error(`[initializeMobileProvider] failed to get cached addresses: ${a}`)}try{let a=yield r.getCachedChainId();a&&(q=a)}catch(a){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${a}`)}}m2(`[initializeMobileProvider] cachedAccountAddress: ${p}, cachedChainId: ${q}`);let s=!(!c||m===jG.NonBrowser||m===jG.ReactNative),t=nj.init({shouldSetOnWindow:s,connectionStream:l,shouldShimWeb3:d,sdkInstance:g}),u=!1,v=a=>{u=a},w=()=>u,x=(b,c,d,i)=>cL(void 0,void 0,void 0,function*(){var j,k,l,m,n,s,t,x,y;let z=nj.getProvider();if(u){z.emit("display_uri",(null==h?void 0:h.state.qrcodeLink)||""),null==h||h.showActiveModal();let a=w();for(;a;){let b=w(),c=null==h?void 0:h.isAuthorized();a=b&&!c,m2(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${b} authorized: ${c}`),yield nM(1e3)}return m2("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),d(...c)}let A=e.isMetaMaskInstalled(),B=null==h?void 0:h.isConnected(),C=null,D=null,E=null;if(C=null!=(j=z.getSelectedAddress())?j:p,E=z.getChainId()||q,C&&r&&C!==p&&r.persistAccounts([C]).catch(a=>{console.error(`[initializeMobileProvider] failed to persist account: ${a}`)}),E&&(q=E,r&&r.persistChainId(E).catch(a=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${a}`)})),m2("[initializeMobileProvider: sendRequest()]",{selectedAddress:C,chainId:E}),i&&m2(`[initializeMobileProvider: sendRequest()] method=${b} ongoing=${u} selectedAddress=${C} isInstalled=${A} checkInstallationOnAllCalls=${a} socketConnected=${B}`),C&&b.toLowerCase()===ny.toLowerCase())return[C];if(E&&b.toLowerCase()===nz.toLowerCase())return E;let F=!nB[b],G=null==(k=g.options.readonlyRPCMap)?void 0:k[E];if(G&&F)try{let a=null==(l=null==c?void 0:c[0])?void 0:l.params,d=yield(({rpcEndpoint:a,method:b,sdkInfo:c,params:d})=>cL(void 0,void 0,void 0,function*(){let e,f=JSON.stringify({jsonrpc:"2.0",method:b,params:d,id:nL+=1}),g={Accept:"application/json","Content-Type":"application/json"};a.includes("infura")&&(g["Metamask-Sdk-Info"]=c);try{e=yield(0,cF.default)(a,{method:"POST",headers:g,body:f})}catch(a){throw a instanceof Error?Error(`Failed to fetch from RPC: ${a.message}`):Error(`Failed to fetch from RPC: ${a}`)}if(!e.ok)throw Error(`Server responded with a status of ${e.status}`);return(yield e.json()).result}))({rpcEndpoint:G,sdkInfo:o,method:b,params:a||[]});return i&&m2(`initializeProvider::ReadOnlyRPCResponse ${d}`),d}catch(a){console.warn(`[initializeMobileProvider: sendRequest()] method=${b} readOnlyRPCRequest failed:`,a)}if((!A||A&&!B)&&b!==nr){let i=(null==(m=null==c?void 0:c[0])?void 0:m.params)||[];if(-1!==[nx,nw,ns,nt].indexOf(b)||a){v(!0);let a=b===nt,e=`${Date.now()}`;try{yield f.start({wait:!1,connectWith:a?{method:b,id:e,params:i}:void 0}),yield new Promise((a,b)=>{(null==h?void 0:h.isAuthorized())&&(m2("[initializeMobileProvider: sendRequest()] already authorized"),a(!0)),null==h||h.getConnector().once(jy.AUTHORIZED,()=>{a(!0)}),g.once(jy.PROVIDER_UPDATE,a=>{m2(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${a}`),a===oz.EXTENSION?b(jy.PROVIDER_UPDATE):b(Error("Connection Terminated"))})})}catch(a){if(oz.EXTENSION===a){if(m2(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${b} on the active provider`),b.toLowerCase()===ns.toLowerCase()){let a=yield null==(n=g.getProvider())?void 0:n.request({method:nx,params:[]});if(!a.length)throw Error("SDK state invalid -- undefined accounts");let b=yield null==(s=g.getProvider())?void 0:s.request({method:nv,params:[i[0],a[0]]});return g.emit(ng,b),b}if(b.toLowerCase()===nt.toLowerCase()){let[a]=i,b=yield(({method:a,sdk:b,params:c})=>cL(void 0,void 0,void 0,function*(){var d,e,f,g;if(!b.isExtensionActive())throw Error("SDK state invalid -- extension is not active");m2("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",a,c);let h=yield null==(d=b.getProvider())?void 0:d.request({method:nx,params:[]});if(!h.length)throw Error("SDK state invalid -- undefined accounts");if((null==a?void 0:a.toLowerCase())===nv.toLowerCase()){let d={method:a,params:[c[0],h[0]]};return yield null==(e=b.getProvider())?void 0:e.request(d)}if((null==a?void 0:a.toLowerCase())===nA.toLowerCase()){let d={method:a,params:[Object.assign(Object.assign({},c[0]),{from:h[0]})]};return yield null==(f=b.getProvider())?void 0:f.request(d)}return nD.includes(a.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${a} -- not handled by the extension -- call separately`),h):yield null==(g=b.getProvider())?void 0:g.request({method:a,params:c})}))({method:a.method,sdk:g,params:a.params});return g.emit(ng,b),b}return m2(`[initializeMobileProvider: sendRequest()] sending '${b}' on active provider`,i),yield null==(t=g.getProvider())?void 0:t.request({method:b,params:i})}if(a===jy.REJECTED)throw null==h||h.closeModal(),null==(x=g.getProvider())||x.handleDisconnect({terminate:!1}),Object.assign(Error("User rejected connection"),{code:4001});throw m2(`[initializeMobileProvider: sendRequest()] failed to start installer: ${a}`),a}finally{v(!1)}if(b===nx)return D=yield new Promise(a=>{let b=setInterval(()=>{let{accounts:c}=z.getState();c&&(clearInterval(b),a(c))},100)}),m2(`[initializeMobileProvider: sendRequest()] selectedAddress: ${C} --- SKIP rpc call`),D;if(b===nt)try{let a,b,c=0,d=yield new Promise((d,f)=>{let i=null==h?void 0:h.getConnector().getRPCMethodTracker();m2(`TRACKER: method ${e}`,i),(null==i?void 0:i[e].result)?(m2("[initializeMobileProvider: sendRequest()] found result",null==i?void 0:i[e].result),d(null==i?void 0:i[e].result)):(null==i?void 0:i[e].error)&&(m2("[initializeMobileProvider: sendRequest()] found error",null==i?void 0:i[e].error),f(null==i?void 0:i[e].error)),b=()=>(({resolve:a,reject:b})=>{c+=1;let d=null==h?void 0:h.getConnector().getRPCMethodTracker(),f=null==d?void 0:d[e];return m2(`TRACKER: update method ${e}`,f),(null==f?void 0:f.result)?(m2("[initializeMobileProvider: sendRequest()] found result",f.result),g.emit(ng,f.result),void a(f.result)):(null==f?void 0:f.error)?(m2("[initializeMobileProvider: sendRequest()] found error",f.error),void b(f.error)):c>=5?(m2("[initializeMobileProvider: sendRequest()] max message count reached without result"),void b(Error("Max message count reached without result"))):void m2("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")})({resolve:d,reject:f}),a=null==h?void 0:h.getConnector().on(jy.RPC_UPDATE,b)});return b&&(null==a||a.off(jy.RPC_UPDATE,b)),m2("TRACKER: result",d),d}catch(a){throw m2("[initializeMobileProvider: sendRequest()] error:",a),a}return c[0]&&"object"==typeof c[0]&&(c[0].params={__triggeredInstaller:!0,wrappedParams:c[0].params}),d(...c)}if(e.isSecure()&&nB[b])return d(...c);if(g.isExtensionActive())return m2(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${b}' to it`,c,i),yield null==(y=g.getProvider())?void 0:y.request({method:b,params:i});throw m2(`[initializeMobileProvider: sendRequest()] method=${b} --- skip --- not connected/installed`),Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{let a=yield d(...c);if(m2(`[initializeMobileProvider: sendRequest()] method=${b} rpcResponse`,a),b===nw){let b=a.reduce((a,b)=>{var c;if("eth_accounts"===b.parentCapability){let d=null==(c=b.caveats.find(a=>"restrictReturnedAccounts"===a.type))?void 0:c.value;d&&a.push(...d)}return a},[]);m2("[initializeMobileProvider: sendRequest()] accountsToPersist:",b),b.length>0&&(z.handleAccountsChanged(b,!1),null==r||r.persistAccounts(b))}return a}catch(a){throw console.error("[initializeMobileProvider: sendRequest()] error:",a),a}}),{request:y}=t;t.request=(...a)=>cL(void 0,void 0,void 0,function*(){return x(null==a?void 0:a[0].method,a,y,i)});let{send:z}=t;return t.send=(...a)=>cL(void 0,void 0,void 0,function*(){return x(null==a?void 0:a[0],a,z,i)}),m2("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),l.start(),t}))(k),null==(g=null==(f=a.remoteConnection)?void 0:f.getConnector())||g.on(nh,b=>{a.emit(nh,b)}),null==(i=null==(h=a.remoteConnection)?void 0:h.getConnector())||i.on(ni,b=>{a.emit(ni,b)})})}(a),yield function(a,b){var c,d;return cL(this,void 0,void 0,function*(){let{options:e}=a;b?(m2("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),null==(c=a.analytics)||c.send({event:jC.SDK_EXTENSION_UTILIZED}),nI(a).catch(a=>{console.warn("Can't connect with MetaMask extension...",a),localStorage.removeItem(nF)})):e.checkInstallationImmediately&&((null==(d=a.platformManager)?void 0:d.isDesktopWeb())?(m2("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),a.connect().catch(a=>{m2(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${a}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),a._initialized=!0})}(a,r);try{yield null==(m=a.remoteConnection)?void 0:m.startConnection({initialCheck:!0})}catch(a){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",a)}a.emit(nf,oz.INITIALIZED)}})}(a),yield a.sdkInitPromise}catch(a){throw console.error(a),a}return a.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){return!1}connect(){return cL(this,void 0,void 0,function*(){return function(a){return cL(this,void 0,void 0,function*(){if(a._initialized||(m2("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield a.init()),m2(`[MetaMaskSDK: connect()] isExtensionActive=${a.isExtensionActive()} activeProvider`,a.activeProvider),!a.activeProvider)throw Error("SDK state invalid -- undefined provider");let b=a.activeProvider.getSelectedAddress();return b?[b]:a.activeProvider.request({method:nx,params:[]})})}(this)})}connectAndSign({msg:a}){return cL(this,void 0,void 0,function*(){return function({instance:a,msg:b}){return cL(this,void 0,void 0,function*(){if(a._initialized||(m2("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield a.init()),m2(`[MetaMaskSDK: connectAndSign()] activeProvider=${a.activeProvider}`),!a.activeProvider)throw Error("SDK state invalid -- undefined provider");let c=/^0x([0-9A-Fa-f]{2})*$/u.test(b)?b:function(a){let b;if(void 0!==c$)b=c$.from(a,"utf8").toString("hex");else if("undefined"!=typeof TextEncoder)b=Array.from((new TextEncoder).encode(a)).map(a=>a.toString(16).padStart(2,"0")).join("");else{if(!("Buffer"in cM))throw Error("Unable to convert string to hex: No available method.");b=cM.Buffer.from(a,"utf8").toString("hex")}return`0x${b}`}(b);return a.activeProvider.request({method:nt,params:[{method:nv,params:[c]}]})})}({instance:this,msg:a})})}connectWith(a){return cL(this,void 0,void 0,function*(){return function({instance:a,rpc:b}){return cL(this,void 0,void 0,function*(){if(a._initialized||(m2("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield a.init()),m2(`[MetaMaskSDK: connectWith()] method: ${b.method} rpc=${b}`),!a.activeProvider)throw Error("SDK state invalid -- undefined provider");return a.activeProvider.request({method:nt,params:[b]})})}({instance:this,rpc:a})})}resume(){return function(a){var b,c,d;return cL(this,void 0,void 0,function*(){(null==(c=null==(b=a.remoteConnection)?void 0:b.getConnector())?void 0:c.isReady())?m2("[MetaMaskSDK: resume()] channel is ready"):(m2("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),null==(d=a.remoteConnection)||d.startConnection())})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var a;null==(a=this.remoteConnection)||a.isAuthorized()}terminate(){return function(a){var b,c,d;return cL(this,void 0,void 0,function*(){if(!(null==(b=a.platformManager)?void 0:b.isMetaMaskMobileWebView())){if(a.extensionActive){try{yield null==(c=a.activeProvider)?void 0:c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(a){m2("[MetaMaskSDK: terminate()] error revoking permissions",a)}return a.options.extensionOnly?(a.emit(nf,oz.TERMINATE),void m2("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(a.activeProvider=a.sdkProvider,window.ethereum=a.activeProvider,a.extensionActive=!1,void a.emit(nf,oz.TERMINATE))}a.emit(nf,oz.TERMINATE),m2(`[MetaMaskSDK: terminate()] remoteConnection=${a.remoteConnection}`),null==(d=a.remoteConnection)||d.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(a){this.readonlyRPCCalls=a}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var a;let b=null==(a=this.remoteConnection)?void 0:a.getUniversalLink();if(!b)throw Error("No Universal Link available, please call eth_requestAccounts first.");return b}getChannelId(){var a,b;return null==(b=null==(a=this.remoteConnection)?void 0:a.getChannelConfig())?void 0:b.channelId}getRPCHistory(){var a,b;return null==(b=null==(a=this.remoteConnection)?void 0:a.getConnector())?void 0:b.getRPCMethodTracker()}getVersion(){return no}getDappId(){var a,b,c,d;return null!=(d=null!=(b=null==(a=this.options.dappMetadata)?void 0:a.name)?b:null==(c=this.options.dappMetadata)?void 0:c.url)?d:"N/A"}getAnonId(){var a,b;return cL(this,void 0,void 0,function*(){let c;return this._anonId?this._anonId:(c=(null==(a=this.platformManager)?void 0:a.isBrowser())?this.getBrowserAnonId():(null==(b=this.platformManager)?void 0:b.isReactNative())?yield this.getReactNativeAnonId():(0,cK.default)(),this._anonId=c,c)})}getBrowserAnonId(){let a=this.ANON_ID_STORAGE_KEY;try{let b=localStorage.getItem(a);if(b)return b;let c=(0,cK.default)();return localStorage.setItem(a,c),c}catch(a){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",a),(0,cK.default)()}}getReactNativeAnonId(){return cL(this,void 0,void 0,function*(){let b=this.ANON_ID_STORAGE_KEY;try{let c=a.r(30538).default,d=yield c.getItem(b);if(d)return d;let e=(0,cK.default)();return yield c.setItem(b,e),e}catch(a){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",a),(0,cK.default)()}})}getWalletStatus(){var a,b;return null==(b=null==(a=this.remoteConnection)?void 0:a.getConnector())?void 0:b.getConnectionStatus()}_getChannelConfig(){var a;return null==(a=this.remoteConnection)?void 0:a.getChannelConfig()}_ping(){var a,b;null==(b=null==(a=this.remoteConnection)?void 0:a.getConnector())||b.ping()}_keyCheck(){var a,b;null==(b=null==(a=this.remoteConnection)?void 0:a.getConnector())||b.keyCheck()}_getServiceStatus(){var a,b;return null==(b=null==(a=this.remoteConnection)?void 0:a.getConnector())?void 0:b.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var a;return null==(a=this.remoteConnection)?void 0:a.getKeyInfo()}_resetKeys(){var a,b;null==(b=null==(a=this.remoteConnection)?void 0:a.getConnector())||b.resetKeys()}_getConnection(){return this.remoteConnection}emit(a,b){return super.emit(a,b)}on(a,b){return super.on(a,b)}}var n7=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:a}={enabled:!1}){this.enabled=!1,this.enabled=a}persistChannelConfig(a){return cL(this,void 0,void 0,function*(){let b=JSON.stringify(a);m2(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,a),localStorage.setItem(nE,b)})}getPersistedChannelConfig(){return cL(this,void 0,void 0,function*(){let a;try{if(m2(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),a=localStorage.getItem(nE),m2("[StorageManagerWeb: getPersistedChannelConfig()]",a),!a)return;let b=JSON.parse(a);return m2("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",b),b}catch(a){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",a)}})}persistAccounts(a){return cL(this,void 0,void 0,function*(){m2(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,a);let b=JSON.stringify(a);localStorage.setItem(nG,b)})}getCachedAccounts(){return cL(this,void 0,void 0,function*(){try{let a=localStorage.getItem(nG);return a?JSON.parse(a):[]}catch(a){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",a),a}})}persistChainId(a){return cL(this,void 0,void 0,function*(){m2(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,a),localStorage.setItem(nH,a)})}getCachedChainId(){return cL(this,void 0,void 0,function*(){try{let a=localStorage.getItem(nH);return null!=a?a:void 0}catch(a){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",a),a}})}terminate(){return cL(this,void 0,void 0,function*(){m2(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(nE)})}}}),n8=Object.defineProperty,n9=new WeakMap,oa=(a,b)=>n9.set(b.$lazyInstance$=a,b),ob=(a,b)=>(0,console.error)(a,b),oc=new Map,od={},oe=od.document||{head:{}},of={$flags$:0,$resourcesUrl$:"",jmp:a=>a(),raf:a=>requestAnimationFrame(a),ael:(a,b,c,d)=>a.addEventListener(b,c,d),rel:(a,b,c,d)=>a.removeEventListener(b,c,d),ce:(a,b)=>new CustomEvent(a,b)},og=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(a){}return!1})(),oh=!1,oi=[],oj=[],ok=a=>{for(let b=0;b<a.length;b++)try{a[b](performance.now())}catch(a){ob(a)}a.length=0},ol=()=>{ok(oi),ok(oj),(oh=oi.length>0)&&of.raf(ol)},om=a=>Promise.resolve(void 0).then(a),on=a=>{oj.push(a),oh||(oh=!0,4&of.$flags$?om(ol):of.raf(ol))},oo={},op=a=>"object"==(a=typeof a)||"function"===a,oq={},or={err:()=>ou,map:()=>ov,ok:()=>ot,unwrap:()=>oC,unwrapErr:()=>oD};for(var os in or)n8(oq,os,{get:or[os],enumerable:!0});var ot=a=>({isOk:!0,isErr:!1,value:a}),ou=a=>({isOk:!1,isErr:!0,value:a});function ov(a,b){if(a.isOk){let c=b(a.value);return c instanceof Promise?c.then(a=>ot(a)):ot(c)}if(a.isErr)return ou(a.value);throw"should never get here"}var ow,ox,oy,oz,oA,oB,oC=a=>{if(a.isOk)return a.value;throw a.value},oD=a=>{if(a.isErr)return a.value;throw a.value},oE=(a,b,...c)=>{let d=null,e=!1,f=!1,g=[],h=b=>{for(let c=0;c<b.length;c++)Array.isArray(d=b[c])?h(d):null!=d&&"boolean"!=typeof d&&((e="function"!=typeof a&&!op(d))&&(d=String(d)),e&&f?g[g.length-1].$text$+=d:g.push(e?oF(null,d):d),f=e)};if(h(c),b){let a=b.className||b.class;a&&(b.class="object"!=typeof a?a:Object.keys(a).filter(b=>a[b]).join(" "))}if("function"==typeof a)return a(null===b?{}:b,g,oH);let i=oF(a,null);return i.$attrs$=b,g.length>0&&(i.$children$=g),i},oF=(a,b)=>({$flags$:0,$tag$:a,$text$:b,$elm$:null,$children$:null,$attrs$:null}),oG={},oH={forEach:(a,b)=>a.map(oI).forEach(b),map:(a,b)=>a.map(oI).map(b).map(oJ)},oI=a=>({vattrs:a.$attrs$,vchildren:a.$children$,vkey:a.$key$,vname:a.$name$,vtag:a.$tag$,vtext:a.$text$}),oJ=a=>{if("function"==typeof a.vtag){let b={...a.vattrs};return a.vkey&&(b.key=a.vkey),a.vname&&(b.name=a.vname),oE(a.vtag,b,...a.vchildren||[])}let b=oF(a.vtag,a.vtext);return b.$attrs$=a.vattrs,b.$children$=a.vchildren,b.$key$=a.vkey,b.$name$=a.vname,b},oK=a=>n9.get(a).$hostElement$,oL=(a,b,c)=>{let d=oK(a);return{emit:a=>oM(d,b,{bubbles:!!(4&c),composed:!!(2&c),cancelable:!!(1&c),detail:a})}},oM=(a,b,c)=>{let d=of.ce(b,c);return a.dispatchEvent(d),d},oN=new WeakMap,oO=(a,b,c,d,e,f)=>{if(c!==d){let g=b in a,h=b.toLowerCase();if("class"===b){let b=a.classList,e=oQ(c),f=oQ(d);b.remove(...e.filter(a=>a&&!f.includes(a))),b.add(...f.filter(a=>a&&!e.includes(a)))}else if("style"===b){for(let b in c)d&&null!=d[b]||(b.includes("-")?a.style.removeProperty(b):a.style[b]="");for(let b in d)c&&d[b]===c[b]||(b.includes("-")?a.style.setProperty(b,d[b]):a.style[b]=d[b])}else if(g||"o"!==b[0]||"n"!==b[1]){let h=op(d);if((g||h&&null!==d)&&!e)try{if(a.tagName.includes("-"))a[b]=d;else{let e=null==d?"":d;"list"===b?g=!1:null!=c&&a[b]==e||("function"==typeof a.__lookupSetter__(b)?a[b]=e:a.setAttribute(b,e))}}catch(a){}null==d||!1===d?!1===d&&""!==a.getAttribute(b)||a.removeAttribute(b):(!g||4&f||e)&&!h&&(d=!0===d?"":d,a.setAttribute(b,d))}else if(b="-"===b[2]?b.slice(3):h in od?h.slice(2):h[2]+b.slice(3),c||d){let e=b.endsWith(oR);b=b.replace(oS,""),c&&of.rel(a,b,c,e),d&&of.ael(a,b,d,e)}}},oP=/\s/,oQ=a=>a?a.split(oP):[],oR="Capture",oS=RegExp(oR+"$"),oT=(a,b,c)=>{let d=11===b.$elm$.nodeType&&b.$elm$.host?b.$elm$.host:b.$elm$,e=a&&a.$attrs$||oo,f=b.$attrs$||oo;for(let a of oU(Object.keys(e)))a in f||oO(d,a,e[a],void 0,c,b.$flags$);for(let a of oU(Object.keys(f)))oO(d,a,e[a],f[a],c,b.$flags$)};function oU(a){return a.includes("ref")?[...a.filter(a=>"ref"!==a),"ref"]:a}var oV=!1,oW=(a,b,c,d)=>{let e=b.$children$[c],f,g,h=0;if(null!==e.$text$)f=e.$elm$=oe.createTextNode(e.$text$);else{if(oV||(oV="svg"===e.$tag$),f=e.$elm$=oe.createElementNS(oV?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",e.$tag$),oV&&"foreignObject"===e.$tag$&&(oV=!1),oT(null,e,oV),f.getRootNode().querySelector("body"),e.$children$)for(h=0;h<e.$children$.length;++h)(g=oW(a,e,h))&&f.appendChild(g);"svg"===e.$tag$?oV=!1:"foreignObject"===f.tagName&&(oV=!0)}return f["s-hn"]=oB,f},oX=(a,b,c,d,e,f)=>{let g,h=a;for(h.shadowRoot&&h.tagName===oB&&(h=h.shadowRoot);e<=f;++e)d[e]&&(g=oW(null,c,e))&&(d[e].$elm$=g,o_(h,g,b))},oY=(a,b,c)=>{for(let d=b;d<=c;++d){let b=a[d];if(b){let a=b.$elm$;a&&a.remove()}}},oZ=(a,b,c=!1)=>a.$tag$===b.$tag$,o$=(a,b,c=!1)=>{let d=b.$elm$=a.$elm$,e=a.$children$,f=b.$children$,g=b.$tag$,h=b.$text$;null===h?(oT(a,b,oV="svg"===g||"foreignObject"!==g&&oV),null!==e&&null!==f?((a,b,c,d,e=!1)=>{let f,g=0,h=0,i=b.length-1,j=b[0],k=b[i],l=d.length-1,m=d[0],n=d[l];for(;g<=i&&h<=l;)null==j?j=b[++g]:null==k?k=b[--i]:null==m?m=d[++h]:null==n?n=d[--l]:oZ(j,m,e)?(o$(j,m,e),j=b[++g],m=d[++h]):oZ(k,n,e)?(o$(k,n,e),k=b[--i],n=d[--l]):oZ(j,n,e)?(o$(j,n,e),o_(a,j.$elm$,k.$elm$.nextSibling),j=b[++g],n=d[--l]):oZ(k,m,e)?(o$(k,m,e),o_(a,k.$elm$,j.$elm$),k=b[--i],m=d[++h]):(f=oW(b&&b[h],c,h),m=d[++h],f&&o_(j.$elm$.parentNode,f,j.$elm$));g>i?oX(a,null==d[l+1]?null:d[l+1].$elm$,c,d,h,l):h>l&&oY(b,g,i)})(d,e,b,f,c):null!==f?(null!==a.$text$&&(d.textContent=""),oX(d,null,b,f,0,f.length-1)):c||null===e||oY(e,0,e.length-1),oV&&"svg"===g&&(oV=!1)):a.$text$!==h&&(d.data=h)},o_=(a,b,c)=>null==a?void 0:a.insertBefore(b,c),o0=(a,b)=>o1(a)?a.then(b).catch(a=>{console.error(a),b()}):b(),o1=a=>a instanceof Promise||a&&a.then&&"function"==typeof a.then,o2=async(a,b,c)=>{var d;let e,f,g,h,i=a.$hostElement$,j=(a.$cmpMeta$.$tagName$,()=>{}),k=i["s-rc"];c&&(e=a.$cmpMeta$,f=a.$hostElement$,g=e.$flags$,e.$tagName$,h=((a,b,c)=>{var d,e,f,g;let h="sc-"+b.$tagName$,i=oc.get(h);if(a=11===a.nodeType?a:oe,i)if("string"==typeof i){a=a.head||a;let c,j=oN.get(a);if(j||oN.set(a,j=new Set),!j.has(h)){{(c=oe.createElement("style")).innerHTML=i;let h=null!=(d=of.$nonce$)?d:null!=(g=null==(f=null==(e=oe.head)?void 0:e.querySelector('meta[name="csp-nonce"]'))?void 0:f.getAttribute("content"))?g:void 0;if(null!=h&&c.setAttribute("nonce",h),!(1&b.$flags$))if("HEAD"===a.nodeName){let b=a.querySelectorAll("link[rel=preconnect]"),d=b.length>0?b[b.length-1].nextSibling:a.querySelector("style");a.insertBefore(c,d)}else if("host"in a)if(og){let b=new CSSStyleSheet;b.replaceSync(i),a.adoptedStyleSheets=[b,...a.adoptedStyleSheets]}else{let b=a.querySelector("style");b?b.innerHTML=i+b.innerHTML:a.prepend(c)}else a.append(c);1&b.$flags$&&"HEAD"!==a.nodeName&&a.insertBefore(c,null)}4&b.$flags$&&(c.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),j&&j.add(h)}}else a.adoptedStyleSheets.includes(i)||(a.adoptedStyleSheets=[...a.adoptedStyleSheets,i]);return h})(f.shadowRoot?f.shadowRoot:f.getRootNode(),e),10&g&&2&g&&(f["s-sc"]=h,f.classList.add(h+"-h")),(()=>{})());let l=(a.$cmpMeta$.$tagName$,()=>{});o3(a,b,i,c),k&&(k.map(a=>a()),i["s-rc"]=void 0),l(),j();{let b=null!=(d=i["s-p"])?d:[],c=()=>o4(a);0===b.length?c():(Promise.all(b).then(c),a.$flags$|=4,b.length=0)}},o3=(a,b,c,d)=>{try{b=b.render(),a.$flags$&=-17,a.$flags$|=2,((a,b,c=!1)=>{let d=a.$hostElement$,e=a.$cmpMeta$,f=a.$vnode$||oF(null,null),g=b&&b.$tag$===oG?b:oE(null,null,b);if(oB=d.tagName,c&&g.$attrs$)for(let a of Object.keys(g.$attrs$))d.hasAttribute(a)&&!["key","ref","style","class"].includes(a)&&(g.$attrs$[a]=d[a]);g.$tag$=null,g.$flags$|=4,a.$vnode$=g,g.$elm$=f.$elm$=d.shadowRoot||d,d["s-sc"],e.$flags$,o$(f,g,c)})(a,b,d)}catch(b){ob(b,a.$hostElement$)}return null},o4=a=>{a.$cmpMeta$.$tagName$;let b=a.$hostElement$,c=()=>{},d=a.$lazyInstance$,e=a.$ancestorComponent$;64&a.$flags$?c():(a.$flags$|=64,o7(b),o6(d,"componentDidLoad"),c(),a.$onReadyResolve$(b),e||o5()),a.$onRenderResolve$&&(a.$onRenderResolve$(),a.$onRenderResolve$=void 0),512&a.$flags$&&om(()=>((a,b)=>{var c;return(a.$flags$|=16,4&a.$flags$)?void(a.$flags$|=512):((c=a.$ancestorComponent$)&&!a.$onRenderResolve$&&c["s-p"]&&c["s-p"].push(new Promise(b=>a.$onRenderResolve$=b)),on(()=>((a,b)=>{let c=a.$hostElement$,d=(a.$cmpMeta$.$tagName$,()=>{}),e=a.$lazyInstance$;if(!e)throw Error(`Can't render component <${c.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return d(),o0(void 0,()=>o2(a,e,b))})(a,b)))})(a,!1)),a.$flags$&=-517},o5=a=>{o7(oe.documentElement),om(()=>oM(od,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},o6=(a,b,c)=>{if(a&&a[b])try{return a[b](c)}catch(a){ob(a)}},o7=a=>a.classList.add("hydrated"),o8=Object.freeze({__proto__:null,defineCustomElements:async(a,b)=>{},setNonce:a=>of.$nonce$=a});let o9={fontFamily:"Roboto, sans-serif"},pa=({className:a},b)=>oE("div",{style:o9,class:a},b),pb=({Icon:a,text:b})=>oE("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},oE("div",{class:"flexItem1"},oE(a,null)),oE("div",{class:"flexItem11"},oE("span",{style:{lineHeight:"2",color:"black"}},b))),pc=()=>oE("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oE("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),oE("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),pd=()=>oE("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oE("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),pe=()=>oE("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oE("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),pf=()=>oE("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oE("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),oE("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),oE("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function pg({version:a}){return oE("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",a?`v${a}`:"unknown")}let ph=()=>oE("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oE("rect",{width:"16",height:"16",fill:"white"}),oE("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),pi=()=>oE("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},oE("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function pj(a,b){return a.toString(2).padStart(b,"0")}function pk(a,b){let c=a%b;return c>=0?c:b+c}function pl(a,b){return Array(a).fill(b)}function pm(...a){let b=0;for(let c of a)b=Math.max(b,c.length);let c=[];for(let d=0;d<b;d++)for(let b of a)d>=b.length||c.push(b[d]);return new Uint8Array(c)}function pn(a,b,c){if(c<0||c+b.length>a.length)return!1;for(let d=0;d<b.length;d++)if(b[d]!==a[c+d])return!1;return!0}function po(a){return{has:b=>a.includes(b),decode:b=>{if(!Array.isArray(b)||b.length&&"string"!=typeof b[0])throw Error("alphabet.decode input should be array of strings");return b.map(b=>{if("string"!=typeof b)throw Error(`alphabet.decode: not string element=${b}`);let c=a.indexOf(b);if(-1===c)throw Error(`Unknown letter: "${b}". Allowed: ${a}`);return c})},encode:b=>{if(!Array.isArray(b)||b.length&&"number"!=typeof b[0])throw Error("alphabet.encode input should be an array of numbers");return b.map(b=>{if(function(a){if(!Number.isSafeInteger(a))throw Error(`Wrong integer: ${a}`)}(b),b<0||b>=a.length)throw Error(`Digit index outside alphabet: ${b} (alphabet: ${a.length})`);return a[b]})}}}class pp{static size(a,b){if("number"==typeof a&&(a={height:a,width:a}),!Number.isSafeInteger(a.height)&&a.height!==1/0)throw Error(`Bitmap: wrong height=${a.height} (${typeof a.height})`);if(!Number.isSafeInteger(a.width)&&a.width!==1/0)throw Error(`Bitmap: wrong width=${a.width} (${typeof a.width})`);return void 0!==b&&(a={width:Math.min(a.width,b.width),height:Math.min(a.height,b.height)}),a}static fromString(a){let b,c=(a=a.replace(/^\n+/g,"").replace(/\n+$/g,"")).split("\n"),d=c.length,e=Array(d);for(let a of c){let c=a.split("").map(a=>{if("X"===a)return!0;if(" "===a)return!1;if("?"!==a)throw Error(`Bitmap.fromString: unknown symbol=${a}`)});if(b&&c.length!==b)throw Error(`Bitmap.fromString different row sizes: width=${b} cur=${c.length}`);b=c.length,e.push(c)}return b||(b=0),new pp({height:d,width:b},e)}constructor(a,b){const{height:c,width:d}=pp.size(a);this.data=b||Array.from({length:c},()=>pl(d,void 0)),this.height=c,this.width=d}point(a){return this.data[a.y][a.x]}isInside(a){return 0<=a.x&&a.x<this.width&&0<=a.y&&a.y<this.height}size(a){if(!a)return{height:this.height,width:this.width};let{x:b,y:c}=this.xy(a);return{height:this.height-c,width:this.width-b}}xy(a){if("number"==typeof a&&(a={x:a,y:a}),!Number.isSafeInteger(a.x))throw Error(`Bitmap: wrong x=${a.x}`);if(!Number.isSafeInteger(a.y))throw Error(`Bitmap: wrong y=${a.y}`);return a.x=pk(a.x,this.width),a.y=pk(a.y,this.height),a}rect(a,b,c){let{x:d,y:e}=this.xy(a),{height:f,width:g}=pp.size(b,this.size({x:d,y:e}));for(let a=0;a<f;a++)for(let b=0;b<g;b++)this.data[e+a][d+b]="function"==typeof c?c({x:b,y:a},this.data[e+a][d+b]):c;return this}rectRead(a,b,c){return this.rect(a,b,(a,b)=>(c(a,b),b))}hLine(a,b,c){return this.rect(a,{width:b,height:1},c)}vLine(a,b,c){return this.rect(a,{width:1,height:b},c)}border(a=2,b){let c=this.height+2*a,d=this.width+2*a,e=pl(a,b),f=Array.from({length:a},()=>pl(d,b));return new pp({height:c,width:d},[...f,...this.data.map(a=>[...e,...a,...e]),...f])}embed(a,b){return this.rect(a,b.size(),({x:a,y:c})=>b.data[c][a])}rectSlice(a,b=this.size()){let c=new pp(pp.size(b,this.size(this.xy(a))));return this.rect(a,b,({x:a,y:b},d)=>c.data[b][a]=d),c}inverse(){let{height:a,width:b}=this;return new pp({height:b,width:a}).rect({x:0,y:0},1/0,({x:a,y:b})=>this.data[a][b])}scale(a){if(!Number.isSafeInteger(a)||a>1024)throw Error(`Wrong scale factor: ${a}`);let{height:b,width:c}=this;return new pp({height:a*b,width:a*c}).rect({x:0,y:0},1/0,({x:b,y:c})=>this.data[Math.floor(c/a)][Math.floor(b/a)])}clone(){return new pp(this.size()).rect({x:0,y:0},this.size(),({x:a,y:b})=>this.data[b][a])}assertDrawn(){this.rectRead(0,1/0,(a,b)=>{if("boolean"!=typeof b)throw Error("Invalid color type="+typeof b)})}toString(){return this.data.map(a=>a.map(a=>void 0===a?"?":a?"X":" ").join("")).join("\n")}toASCII(){let{height:a,width:b,data:c}=this,d="";for(let e=0;e<a;e+=2){for(let f=0;f<b;f++){let b=c[e][f],g=e+1>=a||c[e+1][f];b||g?!b&&g?d+="":b&&!g?d+="":b&&g&&(d+=" "):d+=""}d+="\n"}return d}toTerm(){let a="\x1b[0m",b=`[1;47m  ${a}`,c=`[40m  ${a}`;return this.data.map(a=>a.map(a=>a?c:b).join("")).join("\n")}toSVG(){let a=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:b,y:c},d)=>{d&&(a+=`<rect x="${b}" y="${c}" width="1" height="1" />`)}),a+="</svg>"}toGIF(){let a=a=>[255&a,a>>>8&255],b=[...a(this.width),...a(this.height)],c=[];this.rectRead(0,1/0,(a,b)=>c.push(+(!0===b)));let d=[71,73,70,56,55,97,...b,246,0,0,255,255,255,...pl(381,0),44,0,0,0,0,...b,0,7],e=Math.floor(c.length/126);for(let a=0;a<e;a++)d.push(127,128,...c.slice(126*a,126*(a+1)).map(a=>+a));return d.push(c.length%126+1,128,...c.slice(126*e).map(a=>+a)),d.push(1,129,0,59),new Uint8Array(d)}toImage(a=!1){let{height:b,width:c}=this.size(),d=new Uint8Array(b*c*(a?3:4)),e=0;for(let f=0;f<b;f++)for(let b=0;b<c;b++){let c=255*!this.data[f][b];d[e++]=c,d[e++]=c,d[e++]=c,a||(d[e++]=255)}return{height:b,width:c,data:d}}}let pq=["low","medium","quartile","high"],pr=["numeric","alphanumeric","byte","kanji","eci"],ps=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],pt={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},pu={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},pv={size:{encode:a=>21+4*(a-1),decode:a=>(a-17)/4},sizeType:a=>Math.floor((a+7)/17),alignmentPatterns(a){if(1===a)return[];let b=pv.size.encode(a)-6-1,c=b-6,d=Math.ceil(c/28),e=Math.floor(c/d);e%2?e+=1:c%d*2>=d&&(e+=2);let f=[6];for(let a=1;a<d;a++)f.push(b-(d-a)*e);return f.push(b),f},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(a,b){let c=pv.ECCode[a]<<3|b,d=c;for(let a=0;a<10;a++)d=d<<1^1335*(d>>9);return(c<<10|d)^pv.formatMask},versionBits(a){let b=a;for(let a=0;a<12;a++)b=b<<1^7973*(b>>11);return a<<12|b},alphabet:{numeric:po("0123456789"),alphanumerc:po("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(a,b)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[b][pv.sizeType(a)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(a,b){let c=ps[a-1],d=pt[b][a-1],e=pu[b][a-1],f=Math.floor(c/e)-d,g=e-c%e;return{words:d,numBlocks:e,shortBlocks:g,blockLen:f,capacity:8*(c-d*e),total:(d+f)*e+e-g}}},pw=[(a,b)=>(a+b)%2==0,(a,b)=>b%2==0,(a,b)=>a%3==0,(a,b)=>(a+b)%3==0,(a,b)=>(Math.floor(b/2)+Math.floor(a/3))%2==0,(a,b)=>a*b%2+a*b%3==0,(a,b)=>(a*b%2+a*b%3)%2==0,(a,b)=>((a+b)%2+a*b%3)%2==0],px={tables:(a=>{let b=pl(256,0),c=pl(256,0);for(let a=0,d=1;a<256;a++)b[a]=d,c[d]=a,256&(d<<=1)&&(d^=285);return{exp:b,log:c}})(),exp:a=>px.tables.exp[a],log(a){if(0===a)throw Error(`GF.log: wrong arg=${a}`);return px.tables.log[a]%255},mul:(a,b)=>0===a||0===b?0:px.tables.exp[(px.tables.log[a]+px.tables.log[b])%255],add:(a,b)=>a^b,pow:(a,b)=>px.tables.exp[px.tables.log[a]*b%255],inv(a){if(0===a)throw Error(`GF.inverse: wrong arg=${a}`);return px.tables.exp[255-px.tables.log[a]]},polynomial(a){if(0==a.length)throw Error("GF.polymomial: wrong length");if(0!==a[0])return a;let b=0;for(;b<a.length-1&&0==a[b];b++);return a.slice(b)},monomial(a,b){if(a<0)throw Error(`GF.monomial: wrong degree=${a}`);if(0==b)return[0];let c=pl(a+1,0);return c[0]=b,px.polynomial(c)},degree:a=>a.length-1,coefficient:(a,b)=>a[px.degree(a)-b],mulPoly(a,b){if(0===a[0]||0===b[0])return[0];let c=pl(a.length+b.length-1,0);for(let d=0;d<a.length;d++)for(let e=0;e<b.length;e++)c[d+e]=px.add(c[d+e],px.mul(a[d],b[e]));return px.polynomial(c)},mulPolyScalar(a,b){if(0==b)return[0];if(1==b)return a;let c=pl(a.length,0);for(let d=0;d<a.length;d++)c[d]=px.mul(a[d],b);return px.polynomial(c)},mulPolyMonomial(a,b,c){if(b<0)throw Error("GF.mulPolyMonomial: wrong degree");if(0==c)return[0];let d=pl(a.length+b,0);for(let b=0;b<a.length;b++)d[b]=px.mul(a[b],c);return px.polynomial(d)},addPoly(a,b){if(0===a[0])return b;if(0===b[0])return a;let c=a,d=b;c.length>d.length&&([c,d]=[d,c]);let e=pl(d.length,0),f=d.length-c.length,g=d.slice(0,f);for(let a=0;a<g.length;a++)e[a]=g[a];for(let a=f;a<d.length;a++)e[a]=px.add(c[a-f],d[a]);return px.polynomial(e)},remainderPoly(a,b){let c=Array.from(a);for(let d=0;d<a.length-b.length+1;d++){let a=c[d];if(0!==a)for(let e=1;e<b.length;e++)0!==b[e]&&(c[d+e]=px.add(c[d+e],px.mul(b[e],a)))}return c.slice(a.length-b.length+1,c.length)},divisorPoly(a){let b=[1];for(let c=0;c<a;c++)b=px.mulPoly(b,[1,px.pow(2,c)]);return b},evalPoly(a,b){if(0==b)return px.coefficient(a,0);let c=a[0];for(let d=1;d<a.length;d++)c=px.add(px.mul(b,c),a[d]);return c},euclidian(a,b,c){px.degree(a)<px.degree(b)&&([a,b]=[b,a]);let d=a,e=b,f=[0],g=[1];for(;2*px.degree(e)>=c;){let a=d,b=f;if(d=e,f=g,0===d[0])throw Error("rLast[0] === 0");e=a;let c=[0],h=px.inv(d[0]);for(;px.degree(e)>=px.degree(d)&&0!==e[0];){let a=px.degree(e)-px.degree(d),b=px.mul(e[0],h);c=px.addPoly(c,px.monomial(a,b)),e=px.addPoly(e,px.mulPolyMonomial(d,a,b))}if(c=px.mulPoly(c,f),g=px.addPoly(c,b),px.degree(e)>=px.degree(d))throw Error(`Division failed r: ${e}, rLast: ${d}`)}let h=px.coefficient(g,0);if(0==h)throw Error("sigmaTilde(0) was zero");let i=px.inv(h);return[px.mulPolyScalar(g,i),px.mulPolyScalar(e,i)]}};function py(a,b,c,d){let e="",f=c.length;if("numeric"===d){let a=pv.alphabet.numeric.decode(c.split("")),b=a.length;for(let c=0;c<b-2;c+=3)e+=pj(100*a[c]+10*a[c+1]+a[c+2],10);b%3==1?e+=pj(a[b-1],4):b%3==2&&(e+=pj(10*a[b-2]+a[b-1],7))}else if("alphanumeric"===d){let a=pv.alphabet.alphanumerc.decode(c.split("")),b=a.length;for(let c=0;c<b-1;c+=2)e+=pj(45*a[c]+a[c+1],11);b%2==1&&(e+=pj(a[b-1],6))}else{if("byte"!==d)throw Error("encode: unsupported type");{let a=function(a){if("string"!=typeof a)throw Error("utf8ToBytes expected string, got "+typeof a);return new Uint8Array((new TextEncoder).encode(a))}(c);f=a.length,e=Array.from(a).map(a=>pj(a,8)).join("")}}let{capacity:g}=pv.capacity(a,b),h=pj(f,pv.lengthBits(a,d)),i=pv.modeBits[d]+h+e;if(i.length>g)throw Error("Capacity overflow");(i+="0".repeat(Math.min(4,Math.max(0,g-i.length)))).length%8&&(i+="0".repeat(8-i.length%8));for(let a=0;i.length!==g;a++)i+="1110110000010001"[a%16];let j=Uint8Array.from(i.match(/(.{8})/g).map(a=>Number(`0b${a}`)));return(function(a,b){let{words:c,shortBlocks:d,numBlocks:e,blockLen:f,total:g}=pv.capacity(a,b),h={encode(a){let b=px.divisorPoly(c),d=Array.from(a);return d.push(...b.slice(0,-1).fill(0)),Uint8Array.from(px.remainderPoly(d,b))},decode(a){let b=a.slice(),d=px.polynomial(Array.from(a)),e=pl(c,0),f=!1;for(let a=0;a<c;a++){let b=px.evalPoly(d,px.exp(a));e[e.length-1-a]=b,0!==b&&(f=!0)}if(!f)return b;e=px.polynomial(e);let g=px.monomial(c,1),[h,i]=px.euclidian(g,e,c),j=pl(px.degree(h),0),k=0;for(let a=1;a<256&&k<j.length;a++)0===px.evalPoly(h,a)&&(j[k++]=px.inv(a));if(k!==j.length)throw Error("RS.decode: wrong errors number");for(let a=0;a<j.length;a++){let c=b.length-1-px.log(j[a]);if(c<0)throw Error("RS.decode: wrong error location");let d=px.inv(j[a]),e=1;for(let b=0;b<j.length;b++)a!==b&&(e=px.mul(e,px.add(1,px.mul(j[b],d))));b[c]=px.add(b[c],px.mul(px.evalPoly(i,d),px.inv(e)))}return b}};return{encode(a){let b=[],c=[];for(let g=0;g<e;g++){let e=f+(g<d?0:1);b.push(a.subarray(0,e)),c.push(h.encode(a.subarray(0,e))),a=a.subarray(e)}let g=pm(...b),i=pm(...c),j=new Uint8Array(g.length+i.length);return j.set(g),j.set(i,g.length),j},decode(a){if(a.length!==g)throw Error(`interleave.decode: len(data)=${a.length}, total=${g}`);let b=[];for(let a=0;a<e;a++){let e=a<d;b.push(new Uint8Array(c+f+ +!e))}let i=0;for(let c=0;c<f;c++)for(let d=0;d<e;d++)b[d][c]=a[i++];for(let c=d;c<e;c++)b[c][f]=a[i++];for(let g=f;g<f+c;g++)for(let c=0;c<e;c++){let e=c<d;b[c][g+ +!e]=a[i++]}let j=[];for(let a of b)j.push(...Array.from(h.decode(a)).slice(0,-c));return Uint8Array.from(j)}}})(a,b).encode(j)}function pz(a,b,c,d,e=!1){let f=function(a,b,c,d=!1){let e=pv.size.encode(a),f=new pp(e+2),g=new pp(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);f=(f=f.embed(0,g).embed({x:-g.width,y:0},g).embed({x:0,y:-g.height},g)).rectSlice(1,e);let h=new pp(1).rect(0,1,!0).border(1,!1).border(1,!0),i=pv.alignmentPatterns(a);for(let a of i)for(let b of i)void 0===f.data[a][b]&&f.embed({x:b-2,y:a-2},h);f=f.hLine({x:0,y:6},1/0,({x:a},b)=>void 0===b?a%2==0:b).vLine({x:6,y:0},1/0,({y:a},b)=>void 0===b?a%2==0:b);{let a=pv.formatBits(b,c),g=b=>!d&&1==(a>>b&1);for(let a=0;a<6;a++)f.data[a][8]=g(a);for(let a=6;a<8;a++)f.data[a+1][8]=g(a);for(let a=8;a<15;a++)f.data[e-15+a][8]=g(a);for(let a=0;a<8;a++)f.data[8][e-a-1]=g(a);for(let a=8;a<9;a++)f.data[8][15-a-1+1]=g(a);for(let a=9;a<15;a++)f.data[8][15-a-1]=g(a);f.data[e-8][8]=!d}if(a>=7){let b=pv.versionBits(a);for(let a=0;a<18;a+=1){let c=!d&&1==(b>>a&1),g=Math.floor(a/3),h=a%3+e-8-3;f.data[g][h]=c,f.data[h][g]=c}}return f}(a,b,d,e),g=0,h=8*c.length;if(function(a,b,c){let d=a.height,e=pw[b],f=-1,g=d-1;for(let b=d-1;b>0;b-=2){for(6==b&&(b=5);;g+=f){for(let d=0;d<2;d+=1){let f=b-d;void 0===a.data[g][f]&&c(f,g,e(f,g))}if(g+f<0||g+f>=d)break}f=-f}}(f,d,(a,b,d)=>{let e=!1;g<h&&(e=0!=(c[g>>>3]>>(7-g&7)&1),g++),f.data[b][a]=e!==d}),g!==h)throw Error("QR: bytes left after draw");return f}function pA(a,b="raw",c={}){let d=void 0!==c.ecc?c.ecc:"medium";if(!pq.includes(d))throw Error(`Invalid error correction mode=${d}. Expected: ${pq}`);let e=void 0!==c.encoding?c.encoding:function(a){let b="numeric";for(let c of a)if(!pv.alphabet.numeric.has(c)&&(b="alphanumeric",!pv.alphabet.alphanumerc.has(c)))return"byte";return b}(a);!function(a){if(!pr.includes(a))throw Error(`Encoding: invalid mode=${a}. Expected: ${pr}`);if("kanji"===a||"eci"===a)throw Error(`Encoding: ${a} is not supported (yet?).`)}(e),void 0!==c.mask&&function(a){if(![0,1,2,3,4,5,6,7].includes(a)||!pw[a])throw Error(`Invalid mask=${a}. Expected number [0..7]`)}(c.mask);let f,g=c.version,h=Error("Unknown error");if(void 0!==g)!function(a){if(!Number.isSafeInteger(a)||a<1||a>40)throw Error(`Invalid version=${a}. Expected number [1..40]`)}(g),f=py(g,d,a,e);else for(let b=1;b<=40;b++)try{f=py(b,d,a,e),g=b;break}catch(a){h=a}if(!g||!f)throw h;let i=function(a,b,c,d){if(void 0===d){let e,f,g=(f=1/0,{add(a,b){a>=f||(e=b,f=a)},get:()=>e,score:()=>f});for(let d=0;d<pw.length;d++)g.add(function(a){let b=a.inverse(),c=a=>{let b=0;for(let c,d=0,e=1;d<a.length;d++)c===a[d]&&(e++,d!==a.length-1)||(e>=5&&(b+=e-5+3),c=a[d],e=1);return b},d=0;a.data.forEach(a=>d+=c(a)),b.data.forEach(a=>d+=c(a));let e=0,f=a.data,g=a.width-1,h=a.height-1;for(let a=0;a<g;a++)for(let b=0;b<h;b++){let c=a+1,d=b+1;f[a][b]===f[c][b]&&f[c][b]===f[a][d]&&f[c][b]===f[c][d]&&(e+=3)}let i=a=>{let b=[!0,!1,!0,!0,!0,!1,!0],c=[!1,!1,!1,!1],d=[...b,...c],e=[...c,...b],f=0;for(let b=0;b<a.length;b++)pn(a,d,b)&&(f+=40),pn(a,e,b)&&(f+=40);return f},j=0;for(let b of a.data)j+=i(b);for(let a of b.data)j+=i(a);let k=0;a.rectRead(0,1/0,(a,b)=>k+=+!!b);let l=10*Math.floor(Math.abs(k/(a.height*a.width)*100-50)/5);return d+e+j+l}(pz(a,b,c,d,!0)),d);d=g.get()}if(void 0===d)throw Error("Cannot find mask");return pz(a,b,c,d)}(g,d,f,c.mask);i.assertDrawn();let j=void 0===c.border?2:c.border;if(!Number.isSafeInteger(j))throw Error("Wrong border type="+typeof j);if(i=i.border(j,!1),void 0!==c.scale&&(i=i.scale(c.scale)),"raw"===b)return i.data;if("ascii"===b)return i.toASCII();if("svg"===b)return i.toSVG();if("gif"===b)return i.toGIF();if("term"===b)return i.toTerm();throw Error(`Unknown output: ${b}`)}let pB={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class pC{constructor(a){var b;this.translations=pB,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=null!=(b=null==a?void 0:a.baseUrl)?b:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(a=>a.toLowerCase().startsWith("en")))return"en";let a=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(a)?a:"en"}async init(a){let b=this.getBrowserLanguage()||a.fallbackLng;await this.loadTranslations(b)}async loadTranslations(a){let b=a.split("-")[0];if("en"!==b&&this.supportedLocales.includes(b))try{let a=`${this.baseUrl}/${b}.json`,c=await fetch(a);if(!c.ok)throw Error(`HTTP error! status: ${c.status}`);this.translations=await c.json()}catch(a){console.warn(` Failed to load ${b} translations, falling back to English:`,a),this.translations=pB}else this.translations=pB}t(a){return this.getNestedTranslation(a,this.translations)||a}getNestedTranslation(a,b){let c=a.split("."),d=b;for(let a of c){if("object"!=typeof d)return"";d=d[a]}return"string"==typeof d?d:""}}(sf=sh||(sh={})).SDK_MODAL_VIEWED="sdk_modal_viewed",sf.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",sf.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed";let pD=class{constructor(a){oa(this,a),this.close=oL(this,"close",7),this.startDesktopOnboarding=oL(this,"startDesktopOnboarding",7),this.trackAnalytics=oL(this,"trackAnalytics",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new pC}componentDidLoad(){this.trackAnalytics.emit({event:sh.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:1===this.tab?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(a){a?this.setTab(1):this.setTab(2)}onClose(a=!1){this.close.emit({shouldTerminate:a})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:sh.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(a,b=!1){b&&this.trackAnalytics.emit({event:sh.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:1===this.tab?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=a,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;let a=a=>this.i18nInstance.t(a),b=this.isDefaultTab?this.preferDesktop?1:2:this.tab,c=pA(this.link,"svg",{ecc:"medium",scale:2});return oE(pa,{className:"install-model"},oE("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),oE("div",{class:"modal"},oE("div",{class:"closeButtonContainer"},oE("div",{class:"right"},oE("span",{class:"closeButton",onClick:()=>this.onClose(!0)},oE(ph,null)))),oE("div",{class:"logoContainer"},oE(pi,null)),oE("div",null,oE("div",{class:"tabcontainer"},oE("div",{class:"flexContainer"},oE("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(1===b?"tabactive":"")},a("DESKTOP")),oE("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(2===b?"tabactive":"")},a("MOBILE")))),oE("div",{style:{display:1===b?"none":"block"}},oE("div",{class:"flexContainer"},oE("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},c&&oE("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:c}),oE("div",{class:"connectMobileText"},a("SCAN_TO_CONNECT")," ",oE("br",null),oE("span",{class:"blue"},oE("b",null,a("META_MASK_MOBILE_APP"))))))),oE("div",{style:{display:2===b?"none":"block"}},oE("div",{class:"item"},oE(pb,{Icon:pd,text:a("INSTALL_MODAL.TRUSTED_BY_USERS")})),oE("div",{class:"item"},oE(pb,{Icon:pc,text:a("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),oE("div",{class:"item"},oE(pb,{Icon:pe,text:a("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),oE("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},oE(pf,null),oE("span",{class:"installExtensionText"},a("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),oE(pg,{version:this.sdkVersion})))}get el(){return oK(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};pD.style=".flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}";let pE=class{constructor(a){oa(this,a),this.close=oL(this,"close",7),this.disconnect=oL(this,"disconnect",7),this.updateOTPValue=oL(this,"updateOTPValue",7),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new pC}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(a){this.updateOTPValue.emit({otpValue:a})}disconnectedCallback(){this.onClose()}render(){var a;if(!this.translationsLoaded)return null;let b=null==(a=this.displayOTP)||a,c=this.sdkVersion,d=a=>this.i18nInstance.t(a);return oE(pa,{className:"pending-modal"},oE("div",{class:"backdrop",onClick:()=>this.onClose()}),oE("div",{class:"modal"},oE("div",{class:"closeButtonContainer"},oE("div",{class:"right"},oE("span",{class:"closeButton",onClick:()=>this.onClose()},oE(ph,null)))),oE("div",{class:"logoContainer"},oE(pi,null)),oE("div",null,oE("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},oE("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},d(b?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),oE("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),b&&oE("div",{class:"notice"},"* ",d("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),oE("div",{style:{marginTop:"20px"}},oE("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},d("PENDING_MODAL.DISCONNECT")))),oE(pg,{version:c})))}get el(){return oK(this)}};pE.style=".flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}";let pF=()=>oE("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oE("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),pG=()=>oE("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oE("rect",{width:"400",height:"300",fill:"white"}),oE("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),oE("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),oE("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),oE("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),oE("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),oE("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),oE("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),oE("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),oE("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),oE("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),oE("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),oE("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),oE("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),oE("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),oE("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),oE("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),oE("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),oE("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),oE("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),oE("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),oE("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),oE("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),pH=class{constructor(a){oa(this,a),this.close=oL(this,"close",7),this.connectWithExtension=oL(this,"connectWithExtension",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new pC,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(a=!1){this.close.emit({shouldTerminate:a})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(a){this.tab=a,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(a){a?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;let a=a=>this.i18nInstance.t(a),b=this.sdkVersion,c=this.isDefaultTab?this.preferDesktop?1:2:this.tab,d=pA(this.link,"svg",{ecc:"medium",scale:2});return oE(pa,{className:"select-modal"},oE("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),oE("div",{class:"modal"},oE("div",{class:"closeButtonContainer"},oE("div",{class:"right"},oE("span",{class:"closeButton",onClick:()=>this.onClose(!0)},oE(ph,null)))),oE("div",{class:"logoContainer"},oE(pi,null)),oE("div",null,oE("div",{class:"tabcontainer"},oE("div",{class:"flexContainer"},oE("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(1===c?"tabactive":"")},a("DESKTOP")),oE("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(2===c?"tabactive":"")},a("MOBILE")))),oE("div",{style:{display:1===c?"none":"block"}},oE("div",{class:"flexContainer"},oE("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},oE("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:d}),oE("div",{class:"connectMobileText"},a("SCAN_TO_CONNECT"),oE("br",null),oE("span",{class:"blue"},oE("b",null,a("META_MASK_MOBILE_APP"))))))),oE("div",{style:{display:2===c?"none":"block"}},oE("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},oE(pG,null)),oE("div",{class:"extensionLabel"},a("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),oE("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},oE(pF,null),oE("span",{class:"installExtensionText"},a("CONNECT_WITH_EXTENSION"))))),oE(pg,{version:b})))}get el(){return oK(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};pH.style=".flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}",Object.freeze({__proto__:null,mm_install_modal:pD,mm_pending_modal:pE,mm_select_modal:pH});var pI=a.i(35479),pJ=a.i(62267);class pK extends pJ.BaseEvmConnector{constructor(a){super(a),(0,aG.default)(this,"connectorNamespace",cq.CONNECTOR_NAMESPACES.EIP155),(0,aG.default)(this,"currentChainNamespace",aJ.CHAIN_NAMESPACES.EIP155),(0,aG.default)(this,"type",a6.CONNECTOR_CATEGORY.EXTERNAL),(0,aG.default)(this,"name",aD.WALLET_CONNECTORS.METAMASK),(0,aG.default)(this,"status",a6.CONNECTOR_STATUS.NOT_READY),(0,aG.default)(this,"metamaskProvider",null),(0,aG.default)(this,"metamaskSDK",null),(0,aG.default)(this,"metamaskOptions",void 0),(0,aG.default)(this,"analytics",void 0),this.metamaskOptions=a.connectorSettings,this.analytics=a.analytics}get provider(){return this.status!==a6.CONNECTOR_STATUS.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(a){throw Error("Not implemented")}async init(a){await super.init(a);let b=this.coreOptions.chains.find(b=>b.chainId===a.chainId);super.checkInitializationRequirements({chainConfig:b});let c=await (0,co.getSiteIcon)(window),d={name:(0,co.getSiteName)(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:null!=c?c:void 0},e=(0,a3.default)(this.metamaskOptions||{},{dappMetadata:d});this.metamaskSDK=new n6((0,aF.default)((0,aF.default)({},e),{},{_source:"web3auth",preferDesktop:!0}));let f=await this.metamaskSDK.init();f&&(this.metamaskSDK=f),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=a6.CONNECTOR_STATUS.READY,this.emit(a6.CONNECTOR_EVENTS.READY,aD.WALLET_CONNECTORS.METAMASK);try{if(a.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:a.chainId,getIdentityToken:a.getIdentityToken})))throw this.rehydrated=!1,cr.WalletLoginError.connectionError("Failed to rehydrate.")}catch(a){this.emit(a6.CONNECTOR_EVENTS.REHYDRATION_ERROR,a)}}async connect({chainId:a,getIdentityToken:b}){var c,d,e,f,g;if(super.checkConnectionRequirements(),!this.metamaskSDK)throw cr.WalletLoginError.notConnectedError("Connector is not initialized");let h=this.coreOptions.chains.find(b=>b.chainId===a);if(!h)throw cr.WalletLoginError.connectionError("Chain config is not available");let i=!this.isInjected&&!this.rehydrated,j=Date.now(),k={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:(0,a7.getCaipChainId)(h),chain_name:null==h?void 0:h.displayName,chain_namespace:null==h?void 0:h.chainNamespace};try{let a;if(this.status!==a6.CONNECTOR_STATUS.CONNECTING&&(this.status=a6.CONNECTOR_STATUS.CONNECTING,this.emit(a6.CONNECTOR_EVENTS.CONNECTING,{connector:aD.WALLET_CONNECTORS.METAMASK}),!this.metamaskSDK.isExtensionActive()&&null!=(c=this.metamaskOptions)&&c.headless&&this.metamaskSDK.getProvider().on("display_uri",a=>{this.updateConnectorData({uri:a})}),await this.metamaskSDK.connect()),this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw cr.WalletLoginError.notConnectedError("Failed to connect with provider");await this.metamaskProvider.request({method:"eth_chainId"})!==h.chainId&&await this.switchChain(h,!0);let f=a=>{0===a.length&&this.disconnect()};return this.metamaskProvider.on("accountsChanged",f),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=a6.CONNECTOR_STATUS.CONNECTED,i&&(null==(d=this.analytics)||d.track(a5.ANALYTICS_EVENTS.CONNECTION_STARTED,k),null==(e=this.analytics)||e.track(a5.ANALYTICS_EVENTS.CONNECTION_COMPLETED,(0,aF.default)((0,aF.default)({},k),{},{duration:Date.now()-j}))),b&&(a=await this.getIdentityToken()),this.emit(a6.CONNECTOR_EVENTS.CONNECTED,{connector:aD.WALLET_CONNECTORS.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider,identityTokenInfo:a}),this.metamaskProvider}catch(a){if(this.status=a6.CONNECTOR_STATUS.READY,this.rehydrated||this.emit(a6.CONNECTOR_EVENTS.ERRORED,a),this.rehydrated=!1,i&&(null==(f=this.analytics)||f.track(a5.ANALYTICS_EVENTS.CONNECTION_STARTED,k),null==(g=this.analytics)||g.track(a5.ANALYTICS_EVENTS.CONNECTION_FAILED,(0,aF.default)((0,aF.default)((0,aF.default)({},k),(0,pI.getErrorAnalyticsProperties)(a)),{},{duration:Date.now()-j}))),a instanceof cr.Web3AuthError)throw a;throw cr.WalletLoginError.connectionError("Failed to login with MetaMask wallet",a)}}async disconnect(a={cleanup:!1}){if(!this.metamaskProvider)throw cr.WalletLoginError.connectionError("MetaMask provider is not available");await super.disconnectSession(),void 0!==this.metamaskProvider.removeAllListeners&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),a.cleanup?(this.status=a6.CONNECTOR_STATUS.NOT_READY,this.metamaskProvider=null):this.status=a6.CONNECTOR_STATUS.READY,await super.disconnect()}async getUserInfo(){if(!this.canAuthorize)throw cr.WalletLoginError.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(a,b=!1){super.checkSwitchChainRequirements(a,b);let c=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a.chainId}]});try{await c()}catch(b){if((null==b?void 0:b.code)===4902){let b=this.coreOptions.chains.find(b=>b.chainId===a.chainId&&[aJ.CHAIN_NAMESPACES.EIP155].includes(b.chainNamespace));await this.addChain(b),await c()}else throw b}}async enableMFA(){throw Error("Method Not implemented")}async manageMFA(){throw Error("Method Not implemented")}async addChain(a){if(!this.metamaskProvider)throw cr.WalletLoginError.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a.chainId,chainName:a.displayName,rpcUrls:[a.rpcTarget],blockExplorerUrls:[a.blockExplorerUrl],nativeCurrency:{name:a.tickerName,symbol:a.ticker,decimals:a.decimals||18},iconUrls:[a.logo]}]})}}let pL=["walletScope"];class pM extends aK.SafeEventEmitter{constructor(a,b){if(super(),(0,aG.default)(this,"coreOptions",void 0),(0,aG.default)(this,"status",a6.CONNECTOR_STATUS.NOT_READY),(0,aG.default)(this,"aaProvider",null),(0,aG.default)(this,"connectors",[]),(0,aG.default)(this,"commonJRPCProvider",null),(0,aG.default)(this,"analytics",void 0),(0,aG.default)(this,"plugins",{}),(0,aG.default)(this,"storage",void 0),(0,aG.default)(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),(0,aG.default)(this,"loginMode",a4.LOGIN_MODE.NO_MODAL),!a.clientId)throw cr.WalletInitializationError.invalidParams("Please provide a valid clientId in constructor");a.enableLogging?cs.log.enableAll():cs.log.setLevel("error"),a.storageType||(a.storageType="local"),this.coreOptions=a,this.storage=this.getStorageMethod(),this.analytics=new a5.Analytics,this.analytics.setGlobalProperties({integration_type:a5.ANALYTICS_INTEGRATION_TYPE.NATIVE_SDK}),this.loadState(b),this.state.idToken&&this.coreOptions.ssr&&(this.status=this.coreOptions.initialAuthenticationMode===a6.CONNECTOR_INITIAL_AUTHENTICATION_MODE.CONNECT_AND_SIGN?a6.CONNECTOR_STATUS.AUTHORIZED:a6.CONNECTOR_STATUS.CONNECTED)}get currentChain(){var a;if(this.currentChainId)return null==(a=this.coreOptions.chains)?void 0:a.find(a=>a.chainId===this.currentChainId)}get connected(){return!!this.connectedConnector}get provider(){return this.status!==a6.CONNECTOR_STATUS.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var a;return this.state.currentChainId||this.coreOptions.defaultChainId||(null==(a=this.coreOptions.chains)||null==(a=a[0])?void 0:a.chainId)||null}get connectedConnector(){var a;return this.getConnector(this.connectedConnectorName,null==(a=this.currentChain)?void 0:a.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}get idToken(){return this.state.idToken||null}set provider(a){throw Error("Not implemented")}async init(a){let b=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:a5.ANALYTICS_SDK_TYPE.WEB_NO_MODAL,sdk_version:a7.sdkVersion,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let c={};try{var d,e,f;let g,{signal:h}=a||{};try{g=await (0,a7.fetchProjectConfig)({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:null==(f=this.coreOptions.accountAbstractionConfig)?void 0:f.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(b){let a=await (0,aH.serializeError)(b);throw cs.log.error("Failed to fetch project configurations",a),cr.WalletInitializationError.notReady("failed to fetch project configurations",a)}this.initAccountAbstractionConfig(g),this.initChainsConfig(g),this.initCachedConnectorAndChainId(),this.initUIConfig(g),this.initWalletServicesConfig(g),this.initSessionTimeConfig(g),this.analytics.setGlobalProperties({team_id:g.teamId}),c=this.getInitializationTrackData(),await (0,a7.withAbort)(()=>this.setupCommonJRPCProvider(),h),this.on(a6.CONNECTOR_EVENTS.CONNECTORS_UPDATED,async({connectors:a})=>{let b=()=>{var a;(null==(a=this.connectors)?void 0:a.length)>0&&this.cleanup()};await (0,a7.withAbort)(()=>Promise.all(a.map(this.setupConnector.bind(this))),h,b),this.status===a6.CONNECTOR_STATUS.NOT_READY&&(this.status=a6.CONNECTOR_STATUS.READY,this.emit(a6.CONNECTOR_EVENTS.READY))}),await (0,a7.withAbort)(()=>this.loadConnectors({projectConfig:g}),h),await (0,a7.withAbort)(()=>this.initPlugins(),h);let i=this.getConnector(aD.WALLET_CONNECTORS.AUTH);c=(0,aF.default)((0,aF.default)({},c),{},{connectors:this.connectors.map(a=>a.name),plugins:Object.keys(this.plugins),auth_ux_mode:(null==i||null==(d=i.authInstance)||null==(d=d.options)?void 0:d.uxMode)||(null==(e=this.coreOptions.uiConfig)?void 0:e.uxMode)}),this.analytics.track(a5.ANALYTICS_EVENTS.SDK_INITIALIZATION_COMPLETED,(0,aF.default)((0,aF.default)({},c),{},{duration:Date.now()-b}))}catch(a){if(a instanceof DOMException&&"AbortError"===a.name)return;throw this.analytics.track(a5.ANALYTICS_EVENTS.SDK_INITIALIZATION_FAILED,(0,aF.default)((0,aF.default)((0,aF.default)({},c),(0,a7.getErrorAnalyticsProperties)(a)),{},{duration:Date.now()-b})),cs.log.error("Failed to initialize modal",a),a}}getConnector(a,b){return this.connectors.find(c=>c.name===a&&(!b||c.connectorNamespace===cq.CONNECTOR_NAMESPACES.MULTICHAIN||c.connectorNamespace===b))||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(let a of this.connectors)a.cleanup&&await a.cleanup()}async switchChain(a){var b;if(a.chainId!==(null==(b=this.currentChain)?void 0:b.chainId)){if(!this.coreOptions.chains.find(b=>b.chainId===a.chainId))throw cr.WalletInitializationError.invalidParams("Invalid chainId");if(ct.CONNECTED_STATUSES.includes(this.status)&&this.connectedConnector)return void await this.connectedConnector.switchChain(a);if(this.commonJRPCProvider)return void await this.commonJRPCProvider.switchChain(a);throw cr.WalletInitializationError.notReady("No wallet is ready")}}async connectTo(a,b,c){let d;this.loginMode=c||"no-modal";let e=this.getConnector(a,null==b?void 0:b.chainNamespace);if(!e||!this.commonJRPCProvider)throw cr.WalletInitializationError.notFound(`Please add wallet connector for ${a} wallet, before connecting`);let f=this.getInitialChainIdForConnector(e),g=(0,aF.default)((0,aF.default)({},b),{},{chainId:f.chainId,getIdentityToken:this.coreOptions.initialAuthenticationMode===a6.CONNECTOR_INITIAL_AUTHENTICATION_MODE.CONNECT_AND_SIGN}),h=Date.now();if(a===aD.WALLET_CONNECTORS.AUTH){var i;let c=e.getOAuthProviderConfig({authConnection:b.authConnection,authConnectionId:b.authConnectionId,groupedAuthConnectionId:b.groupedAuthConnectionId});d={connector:a,connector_type:e.type,chain_id:(0,a7.getCaipChainId)(f),chain_name:f.displayName,chain_namespace:f.chainNamespace,auth_connection:b.authConnection,auth_connection_id:b.authConnectionId,group_auth_connection_id:b.groupedAuthConnectionId,mfa_level:b.mfaLevel,wallet_key_enabled:b.getWalletKey,extra_login_options_enabled:!!b.extraLoginOptions,dapp_share_enabled:!!b.dappShare,curve:b.curve,auth_dapp_url:b.dappUrl,is_sfa:!!b.idToken,is_default_auth_connection:null==c?void 0:c.isDefault,auth_ux_mode:null==(i=e.authInstance)||null==(i=i.options)?void 0:i.uxMode}}else d={connector:a,connector_type:e.type,is_injected:e.isInjected,chain_id:(0,a7.getCaipChainId)(f),chain_name:f.displayName,chain_namespace:f.chainNamespace};return this.analytics.track(a5.ANALYTICS_EVENTS.CONNECTION_STARTED,d),new Promise((a,b)=>{let c=!1,i=!1,j=()=>{this.removeListener(a6.CONNECTOR_EVENTS.CONNECTED,m),this.removeListener(a6.CONNECTOR_EVENTS.ERRORED,o),this.removeListener(a6.CONNECTOR_EVENTS.AUTHORIZED,n)},k=async()=>{g.getIdentityToken?c&&i&&await l():c&&await l()},l=async()=>{try{let b=await e.getUserInfo();this.analytics.track(a5.ANALYTICS_EVENTS.CONNECTION_COMPLETED,(0,aF.default)((0,aF.default)({},d),{},{is_mfa_enabled:null==b?void 0:b.isMfaEnabled,duration:Date.now()-h})),j(),a(this.provider)}catch(a){j(),b(a)}},m=async()=>{c=!0,await k()},n=async()=>{i=!0,await k()},o=async a=>{this.analytics.track(a5.ANALYTICS_EVENTS.CONNECTION_FAILED,(0,aF.default)((0,aF.default)((0,aF.default)({},d),(0,a7.getErrorAnalyticsProperties)(a)),{},{duration:Date.now()-h})),j(),b(a)};this.once(a6.CONNECTOR_EVENTS.CONNECTED,m),g.getIdentityToken&&this.once(a6.CONNECTOR_EVENTS.AUTHORIZED,n),this.once(a6.CONNECTOR_EVENTS.ERRORED,o),e.connect(g),this.setCurrentChain(f.chainId)})}async logout(a={cleanup:!1}){if(!ct.CONNECTED_STATUSES.includes(this.status)||!this.connectedConnector)throw cr.WalletLoginError.notConnectedError("No wallet is connected");this.connectedConnector.status!==a6.CONNECTOR_STATUS.DISCONNECTING&&await this.connectedConnector.disconnect(a)}async getUserInfo(){var a;if(cs.log.debug("Getting user info",this.status,null==(a=this.connectedConnector)?void 0:a.name),!ct.CAN_AUTHORIZE_STATUSES.includes(this.status)||!this.connectedConnector)throw cr.WalletLoginError.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(a){var b;if(!ct.CONNECTED_STATUSES.includes(this.status)||!this.connectedConnector)throw cr.WalletLoginError.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==aD.WALLET_CONNECTORS.AUTH)throw cr.WalletLoginError.unsupportedOperation("EnableMFA is not supported for this connector.");let c=this.connectedConnector,d={connector:this.connectedConnector.name,auth_ux_mode:null==(b=c.authInstance)||null==(b=b.options)?void 0:b.uxMode};try{this.analytics.track(a5.ANALYTICS_EVENTS.MFA_ENABLEMENT_STARTED,d),await this.connectedConnector.enableMFA(a)}catch(a){throw this.analytics.track(a5.ANALYTICS_EVENTS.MFA_ENABLEMENT_FAILED,(0,aF.default)((0,aF.default)({},d),(0,a7.getErrorAnalyticsProperties)(a))),a}}async manageMFA(a){var b;if(!ct.CONNECTED_STATUSES.includes(this.status)||!this.connectedConnector)throw cr.WalletLoginError.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==aD.WALLET_CONNECTORS.AUTH)throw cr.WalletLoginError.unsupportedOperation("ManageMFA is not supported for this connector.");let c=this.connectedConnector,d={connector:this.connectedConnector.name,auth_ux_mode:null==(b=c.authInstance)||null==(b=b.options)?void 0:b.uxMode};try{this.analytics.track(a5.ANALYTICS_EVENTS.MFA_MANAGEMENT_SELECTED,d),await this.connectedConnector.manageMFA(a)}catch(a){throw this.analytics.track(a5.ANALYTICS_EVENTS.MFA_MANAGEMENT_FAILED,(0,aF.default)((0,aF.default)({},d),(0,a7.getErrorAnalyticsProperties)(a))),a}}async getIdentityToken(){if(!ct.CAN_AUTHORIZE_STATUSES.includes(this.status)||!this.connectedConnector)throw cr.WalletLoginError.notConnectedError("No wallet is connected");let a={connector:this.connectedConnector.name};try{this.analytics.track(a5.ANALYTICS_EVENTS.IDENTITY_TOKEN_STARTED,a);let b=await this.connectedConnector.getIdentityToken();return this.analytics.track(a5.ANALYTICS_EVENTS.IDENTITY_TOKEN_COMPLETED,a),b}catch(b){throw this.analytics.track(a5.ANALYTICS_EVENTS.IDENTITY_TOKEN_FAILED,(0,aF.default)((0,aF.default)({},a),(0,a7.getErrorAnalyticsProperties)(b))),b}}getPlugin(a){return this.plugins[a]||null}setAnalyticsProperties(a){this.analytics.setGlobalProperties(a)}initChainsConfig(a){let b=new Map;for(let c of[...a.chains||[],...this.coreOptions.chains||[]]){let a=b.get(c.chainId);a?b.set(c.chainId,(0,aF.default)((0,aF.default)({},a),c)):b.set(c.chainId,c)}if(this.coreOptions.chains=Array.from(b.values()),0===this.coreOptions.chains.length)throw cs.log.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),cr.WalletInitializationError.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");let c=new Set(Object.values(aJ.CHAIN_NAMESPACES));for(let a of this.coreOptions.chains){if(!a.chainNamespace||!c.has(a.chainNamespace))throw cs.log.error(`Please provide a valid chainNamespace in chains for chain ${a.chainId}`),cr.WalletInitializationError.invalidParams(`Please provide a valid chainNamespace in chains for chain ${a.chainId}`);if(a.chainNamespace!==aJ.CHAIN_NAMESPACES.OTHER&&!(0,a7.isHexStrict)(a.chainId))throw cs.log.error(`Please provide a valid chainId in chains for chain ${a.chainId}`),cr.WalletInitializationError.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${a.chainId}`);if(a.chainNamespace!==aJ.CHAIN_NAMESPACES.OTHER)try{new URL(a.rpcTarget)}catch(b){throw cs.log.error(`Please provide a valid rpcTarget in chains for chain ${a.chainId}`,b),cr.WalletInitializationError.invalidParams(`Please provide a valid rpcTarget in chains for chain ${a.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(0===this.coreOptions.accountAbstractionConfig.chains.length)throw cs.log.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),cr.WalletInitializationError.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(let a of this.coreOptions.accountAbstractionConfig.chains){if(!(0,a7.isHexStrict)(a.chainId))throw cs.log.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${a.chainId}`),cr.WalletInitializationError.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${a.chainId}`);try{var d;new URL(null==(d=a.bundlerConfig)?void 0:d.url)}catch(b){throw cs.log.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${a.chainId}`,b),cr.WalletInitializationError.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${a.chainId}`)}if(!b.has(a.chainId))throw cs.log.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${a.chainId}`),cr.WalletInitializationError.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${a.chainId}`)}}}initAccountAbstractionConfig(a){var b;if(!(this.coreOptions.accountAbstractionConfig||(null==a?void 0:a.smartAccounts)))return;let c=(null==a?void 0:a.smartAccounts)||{},{walletScope:d}=c,e=(0,aI.default)(c,pL),f=new Map;for(let a of[...(null==e?void 0:e.chains)||[],...(null==(b=this.coreOptions.accountAbstractionConfig)?void 0:b.chains)||[]]){let b=f.get(a.chainId);b?f.set(a.chainId,(0,aF.default)((0,aF.default)({},b),a)):f.set(a.chainId,a)}this.coreOptions.accountAbstractionConfig=(0,aF.default)((0,aF.default)({},(0,a3.default)(e||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(f.values())}),void 0===this.coreOptions.useAAWithExternalWallet&&(this.coreOptions.useAAWithExternalWallet=d===a4.SMART_ACCOUNT_WALLET_SCOPE.ALL)}initUIConfig(a){this.coreOptions.uiConfig=a3.default.all([{mode:"light",uxMode:aL.UX_MODE.POPUP},(0,aM.cloneDeep)(a.whitelabel||{}),this.coreOptions.uiConfig||{}])}initSessionTimeConfig(a){!this.coreOptions.sessionTime&&a.sessionTime&&(this.coreOptions.sessionTime=a.sessionTime)}initCachedConnectorAndChainId(){let a=this.state.currentChainId,b=a&&this.coreOptions.chains.some(b=>b.chainId===a);if(this.coreOptions.defaultChainId&&!(0,a7.isHexStrict)(this.coreOptions.defaultChainId))throw cr.WalletInitializationError.invalidParams("Please provide a valid defaultChainId in constructor");let c=b?a:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:c})}initWalletServicesConfig(a){var b,c,d,e,f,g;let{enableKeyExport:h,walletUi:i}=a,{enablePortfolioWidget:j=!1,enableTokenDisplay:k=!0,enableNftDisplay:l=!0,enableWalletConnect:m=!0,enableBuyButton:n=!0,enableSendButton:o=!0,enableSwapButton:p=!0,enableReceiveButton:q=!0,enableShowAllTokensButton:r=!0,enableConfirmationModal:s=!1,enableDefiPositionsDisplay:t=!0,portfolioWidgetPosition:u="bottom-left",defaultPortfolio:v="token"}=i||{},w=a3.default.all([{showWidgetButton:j,hideNftDisplay:!l,hideTokenDisplay:!k,hideTransfers:!o,hideTopup:!n,hideReceive:!q,hideSwap:!p,hideShowAllTokens:!r,hideWalletConnect:!m,hideDefiPositionsDisplay:!t,buttonPosition:u,defaultPortfolio:v},(null==(b=this.coreOptions.walletServicesConfig)?void 0:b.whiteLabel)||{}]),x=null!=(c=null==(d=this.coreOptions.walletServicesConfig)?void 0:d.confirmationStrategy)?c:s?"modal":"auto-approve",y=null==(e=null!=(f=null==(g=this.coreOptions.walletServicesConfig)?void 0:g.enableKeyExport)?f:h)||e;this.coreOptions.walletServicesConfig=(0,aF.default)((0,aF.default)({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:x,whiteLabel:w,enableKeyExport:y})}getInitializationTrackData(){try{var a,b,c,d,e;let f=null==(a=this.coreOptions.chains)?void 0:a.find(a=>a.chainId===this.coreOptions.defaultChainId),g=Array.from(new Set(null==(b=this.coreOptions.chains)?void 0:b.map(a=>(0,a7.getHostname)(a.rpcTarget)))).filter(Boolean);return(0,aF.default)((0,aF.default)((0,aF.default)({chain_ids:null==(c=this.coreOptions.chains)?void 0:c.map(a=>(0,a7.getCaipChainId)(a)),chain_names:null==(d=this.coreOptions.chains)?void 0:d.map(a=>a.displayName),chain_rpc_targets:g,default_chain_id:f?(0,a7.getCaipChainId)(f):void 0,default_chain_name:null==f?void 0:f.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:!!this.coreOptions.privateKeyProvider,ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:null==(e=this.coreOptions.uiConfig)?void 0:e.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},(0,a7.getWhitelabelAnalyticsProperties)(this.coreOptions.uiConfig)),(0,a7.getAaAnalyticsProperties)(this.coreOptions.accountAbstractionConfig)),(0,a7.getWalletServicesAnalyticsProperties)(this.coreOptions.walletServicesConfig))}catch(a){return cs.log.error("Failed to get initialization track data",a),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await a8.CommonJRPCProvider.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",a=>this.setCurrentChain(a))}async setupConnector(a){this.subscribeToConnectorEvents(a);try{let b=this.getInitialChainIdForConnector(a),c=this.checkIfAutoConnect(a);await a.init({autoConnect:c,chainId:b.chainId,getIdentityToken:this.coreOptions.initialAuthenticationMode===a6.CONNECTOR_INITIAL_AUTHENTICATION_MODE.CONNECT_AND_SIGN})}catch(b){cs.log.error(b,a.name)}}async loadConnectors({projectConfig:b,modalMode:c}){var d;let e,f,g=[...this.coreOptions.connectors||[],({projectConfig:a,coreOptions:b})=>{var c,d,f,g;let h={},{whitelist:i,sessionTime:j}=a;i&&(h.originData=i.signed_urls),b.sessionTime?h.sessionTime=b.sessionTime:j&&(h.sessionTime=j),null!=(c=b.uiConfig)&&c.uxMode&&(h.uxMode=b.uiConfig.uxMode);let k=b.uiConfig||{};h.whiteLabel=k;let l=a3.default.all([{uxMode:aL.UX_MODE.POPUP,buildEnv:b.authBuildEnv||bF.BUILD_ENV.PRODUCTION},h,(null==e?void 0:e.connectorSettings)||{}]),m=a3.default.all([k,(null==(d=b.walletServicesConfig)?void 0:d.whiteLabel)||{}]),n=(0,aF.default)((0,aF.default)({},b.walletServicesConfig),{},{whiteLabel:m,accountAbstractionConfig:b.accountAbstractionConfig,enableLogging:b.enableLogging}),o=null==(f=null==(g=b.walletServicesConfig)?void 0:g.enableKeyExport)||f;return b.privateKeyProvider&&b.privateKeyProvider.setKeyExportFlag(o),new cv({connectorSettings:l,walletServicesSettings:n,loginSettings:(0,aF.default)((0,aF.default)({},(null==e?void 0:e.loginSettings)||{}),{},{mfaLevel:b.mfaLevel}),coreOptions:b,authConnectionConfig:a.embeddedWalletAuth})}],h={projectConfig:b,coreOptions:this.coreOptions,analytics:this.analytics},i=!!b.externalWalletAuth,j=i&&(null==(d=this.coreOptions.multiInjectedProviderDiscovery)||d),k=new Set(this.coreOptions.chains.map(a=>a.chainNamespace));if((0,a7.isBrowser)()&&k.has(aJ.CHAIN_NAMESPACES.EIP155)&&g.push((f=c?{headless:!0}:void 0,({coreOptions:a,analytics:b})=>new pK({connectorSettings:f,coreOptions:a,analytics:b}))),j&&(0,a7.isBrowser)()){if(k.has(aJ.CHAIN_NAMESPACES.SOLANA)){let{createSolanaMipd:b,hasSolanaWalletStandardFeatures:c,walletStandardConnector:d}=await a.A(81821),e=b();e.on("register",async(...a)=>{let b=a.filter(c).map(a=>d(a)(h));this.setConnectors(b)}),g.push(...e.get().filter(a=>c(a)).map(d))}if(k.has(aJ.CHAIN_NAMESPACES.EIP155)){let{createMipd:b,injectedEvmConnector:c}=await a.A(46262),d=b();d.subscribe(a=>{let b=a.map(a=>c(a)(h));this.setConnectors(b)}),g.push(...d.getProviders().map(c))}}if((0,a7.isBrowser)()&&i&&(k.has(aJ.CHAIN_NAMESPACES.SOLANA)||k.has(aJ.CHAIN_NAMESPACES.EIP155))){let{walletConnectV2Connector:b}=await a.A(91711);g.push(b())}let l=g.map(a=>a(h));this.setConnectors(l)}async initPlugins(){let{chains:a,plugins:b}=this.coreOptions,c=b||[];for(let b of(a.some(a=>a.chainNamespace===aJ.CHAIN_NAMESPACES.EIP155||a.chainNamespace===aJ.CHAIN_NAMESPACES.SOLANA)&&c.push(()=>new cD),c)){let a=b();this.plugins[a.name]||(this.plugins[a.name]=a)}}setConnectors(a){let b=a=>`${a.connectorNamespace}-${a.name}`,c=new Set(this.connectors.map(b)),d=a.map(a=>{let d=b(a);return c.has(d)?null:(c.add(d),a)}).filter(a=>null!==a);d.length>0&&(this.connectors=[...this.connectors,...d],this.emit(a6.CONNECTOR_EVENTS.CONNECTORS_UPDATED,{connectors:d}))}subscribeToConnectorEvents(b){b.on(a6.CONNECTOR_EVENTS.CONNECTED,async c=>{var d,e,f;if(!this.commonJRPCProvider)throw cr.WalletInitializationError.notFound("CommonJrpcProvider not found");let{provider:g,identityTokenInfo:h}=c;if(h&&this.setState({idToken:h.idToken}),this.coreOptions.ssr)try{let a=await b.getIdentityToken();if(!a.idToken)throw cr.WalletLoginError.connectionError("No idToken found");this.setState({idToken:a.idToken})}catch(a){cs.log.error(a),this.status=a6.CONNECTOR_STATUS.ERRORED,this.emit(a6.CONNECTOR_EVENTS.ERRORED,a,this.loginMode);return}let i=g.provider||g,{accountAbstractionConfig:j}=this.coreOptions;if((null==(d=this.currentChain)?void 0:d.chainNamespace)===aJ.CHAIN_NAMESPACES.EIP155&&(null==j||null==(e=j.chains)?void 0:e.some(a=>{var b;return a.chainId===(null==(b=this.currentChain)?void 0:b.chainId)}))&&(c.connector===aD.WALLET_CONNECTORS.AUTH||this.coreOptions.useAAWithExternalWallet)){let{accountAbstractionProvider:b,toEoaProvider:d}=await a.A(2363),e=c.connector===aD.WALLET_CONNECTORS.AUTH?await d(g):g,h=new Set((null==j||null==(f=j.chains)?void 0:f.map(a=>a.chainId))||[]),k=await b({accountAbstractionConfig:j,provider:e,chain:this.currentChain,chains:this.coreOptions.chains.filter(a=>h.has(a.chainId)),useProviderAsTransport:c.connector===aD.WALLET_CONNECTORS.AUTH});this.aaProvider=k,c.connector!==aD.WALLET_CONNECTORS.AUTH&&this.coreOptions.useAAWithExternalWallet&&(i=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(i),this.setState({connectedConnectorName:c.connector}),this.cacheWallet(c.connector),this.status=a6.CONNECTOR_STATUS.CONNECTED,cs.log.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins((0,aF.default)((0,aF.default)({},c),{},{connector:c.connector})),this.emit(a6.CONNECTOR_EVENTS.CONNECTED,(0,aF.default)((0,aF.default)({},c),{},{loginMode:this.loginMode}))}),b.on(a6.CONNECTOR_EVENTS.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=a6.CONNECTOR_STATUS.READY;let a=this.state.cachedConnector;this.connectedConnectorName===a&&this.clearCache(),cs.log.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async a=>{if(a.SUPPORTED_CONNECTORS.includes(b.name)&&a.status===cy.CONNECTED)return a.disconnect().catch(a=>{5211!==a.code&&cs.log.error(a)})})),this.setState({connectedConnectorName:null}),this.emit(a6.CONNECTOR_EVENTS.DISCONNECTED)}),b.on(a6.CONNECTOR_EVENTS.CONNECTING,a=>{this.status=a6.CONNECTOR_STATUS.CONNECTING,this.emit(a6.CONNECTOR_EVENTS.CONNECTING,a),cs.log.debug("connecting",this.status,this.connectedConnectorName)}),b.on(a6.CONNECTOR_EVENTS.ERRORED,a=>{this.status=a6.CONNECTOR_STATUS.ERRORED,this.clearCache(),this.emit(a6.CONNECTOR_EVENTS.ERRORED,a,this.loginMode),cs.log.debug("errored",this.status,this.connectedConnectorName)}),b.on(a6.CONNECTOR_EVENTS.REHYDRATION_ERROR,a=>{this.status=a6.CONNECTOR_STATUS.READY,this.clearCache(),this.emit(a6.CONNECTOR_EVENTS.REHYDRATION_ERROR,a)}),b.on(a6.CONNECTOR_EVENTS.CONNECTOR_DATA_UPDATED,a=>{cs.log.debug("connector data updated",a),this.emit(a6.CONNECTOR_EVENTS.CONNECTOR_DATA_UPDATED,a)}),b.on(a6.CONNECTOR_EVENTS.CACHE_CLEAR,a=>{cs.log.debug("connector cache clear",a),this.clearCache()}),b.on(a6.CONNECTOR_EVENTS.MFA_ENABLED,a=>{var b;cs.log.debug("mfa enabled",a);let c=this.connectedConnector;this.analytics.track(a5.ANALYTICS_EVENTS.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:null==(b=c.authInstance)||null==(b=b.options)?void 0:b.uxMode,is_mfa_enabled:a}),this.emit(a6.CONNECTOR_EVENTS.MFA_ENABLED,a)}),b.on(a6.CONNECTOR_EVENTS.AUTHORIZING,a=>{this.status=a6.CONNECTOR_STATUS.AUTHORIZING,this.emit(a6.CONNECTOR_EVENTS.AUTHORIZING,a),cs.log.debug("authorizing",this.status,this.connectedConnectorName)}),b.on(a6.CONNECTOR_EVENTS.AUTHORIZED,a=>{this.status=a6.CONNECTOR_STATUS.AUTHORIZED,this.setState({idToken:a.identityTokenInfo.idToken}),this.emit(a6.CONNECTOR_EVENTS.AUTHORIZED,a),cs.log.debug("authorized",this.status,this.connectedConnectorName)})}checkInitRequirements(){if(this.status===a6.CONNECTOR_STATUS.READY)throw cr.WalletInitializationError.notReady("Connector is already initialized")}checkIfAutoConnect(a){var b;let c=this.cachedConnector===a.name;return c&&null!=(b=this.currentChain)&&b.chainNamespace&&(c=a.connectorNamespace===cq.CONNECTOR_NAMESPACES.MULTICHAIN||a.connectorNamespace===this.currentChain.chainNamespace),c}getInitialChainIdForConnector(a){var b;let c=this.currentChain;if((null==(b=c)?void 0:b.chainNamespace)!==a.connectorNamespace&&a.connectorNamespace!==cq.CONNECTOR_NAMESPACES.MULTICHAIN&&!(c=this.coreOptions.chains.find(b=>b.chainNamespace===a.connectorNamespace)))throw cr.WalletInitializationError.invalidParams(`No chain found for ${a.connectorNamespace}`);return c}cacheWallet(a){this.setState({cachedConnector:a})}setCurrentChain(a){if(a!==this.currentChainId){if(!this.coreOptions.chains.find(b=>b.chainId===a))throw cr.WalletInitializationError.invalidParams(`Invalid chainId: ${a}`);this.setState({currentChainId:a})}}connectToPlugins(a){Object.values(this.plugins).map(async b=>{try{var c;if(!b.SUPPORTED_CONNECTORS.includes(a.connector)||b.pluginNamespace!==cx.MULTICHAIN&&b.pluginNamespace!==(null==(c=this.currentChain)?void 0:c.chainNamespace)||b.status===cy.CONNECTED)return;await b.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await b.connect()}catch(a){if(5211===a.code)return;cs.log.error(a)}})}setState(a){this.state=(0,aF.default)((0,aF.default)({},this.state),a),this.storage.setItem(a4.WEB3AUTH_STATE_STORAGE_KEY,JSON.stringify(this.state))}loadState(a){if(a){this.state=a;return}let b=this.storage.getItem(a4.WEB3AUTH_STATE_STORAGE_KEY);b&&(this.state=JSON.parse(b,(a,b)=>{var c,d;let e=b;return(null==(c=e)?void 0:c.__type)==="bigint"&&(e=BigInt(e.value)),(null==(d=e)?void 0:d.__type)==="Map"&&(e=new Map(e.value)),e}))}getStorageMethod(){return this.coreOptions.ssr||"cookies"===this.coreOptions.storageType?(this.coreOptions.sessionTime,{getItem:a=>null,setItem(a,b){},removeItem(a){}}):"session"===this.coreOptions.storageType&&(0,cE.storageAvailable)("sessionStorage")?window.sessionStorage:"local"===this.coreOptions.storageType&&(0,cE.storageAvailable)("localStorage")?window.localStorage:new a1}}let pN={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},pO={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};pN.MAINNET,pN.TESTNET,pN.CYAN,pN.AQUA,pN.CELESTE,pN.AQUA,pO.SAPPHIRE_MAINNET,pN.CELESTE,pO.SAPPHIRE_MAINNET,pN.CYAN,pO.SAPPHIRE_MAINNET,pN.MAINNET,pO.SAPPHIRE_MAINNET,pN.TESTNET,pO.SAPPHIRE_DEVNET,pN.MAINNET,pN.TESTNET,pN.CYAN,pN.AQUA,pN.CELESTE,pO.SAPPHIRE_MAINNET,pO.SAPPHIRE_DEVNET,pN.MAINNET,pN.TESTNET,pN.CYAN,pN.AQUA,pN.CELESTE,pN.MAINNET,pN.TESTNET,pN.CYAN,pN.AQUA,pN.CELESTE;let pP=(0,aF.default)((0,aF.default)({},pO),pN),pQ="production";function pR(a){return a.charAt(0).toUpperCase()+a.slice(1)}let pS=new Set([aL.AUTH_CONNECTION.CUSTOM,aL.AUTH_CONNECTION.PASSKEYS,aL.AUTH_CONNECTION.TELEGRAM,aL.AUTH_CONNECTION.AUTHENTICATOR]),pT=Object.values(aL.AUTH_CONNECTION).filter(a=>!pS.has(a)),pU=pT.reduce((a,b)=>("email_passwordless"===b?a[b]="Email":"sms_passwordless"===b?a[b]="Mobile":a[b]=pR(b),a),{}),pV={development:"https://api-develop.web3auth.io/passwordless-service",staging:"https://api.web3auth.io/passwordless-service",[pQ]:"https://api.web3auth.io/passwordless-service",testing:"https://api-develop.web3auth.io/passwordless-service"},pW="MODAL_VISIBILITY",pX="initialized",pY="connected",pZ="connecting",p$="errored",p_="authorizing",p0="authorized",p1=((sg={}).SUCCESS="success",sg.ERROR="error",sg.WARNING="warning",sg.INFO="info",sg);!function(a,b){void 0===b&&(b={});var c=b.insertAt;if("undefined"!=typeof document){var d=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css","top"===c&&d.firstChild?d.insertBefore(e,d.firstChild):d.appendChild(e),e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a))}}('@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }\n/*! tailwindcss v3.4.18 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container body{box-sizing:border-box;margin:0!important;padding:0!important}.w3a-parent-container{font-family:Inter;position:relative}.w3a-parent-container .w3a-parent-container>*{scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--social-container{scroll-padding-right:10px;scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--modal-curtain{background-color:initial;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.w3a-parent-container .w3a--fixed{position:fixed}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--inset-0{inset:0}.w3a-parent-container .w3a--inset-x-4{left:1rem;right:1rem}.w3a-parent-container .w3a--bottom-2{bottom:.5rem}.w3a-parent-container .w3a--bottom-4{bottom:1rem}.w3a-parent-container .w3a--bottom-8{bottom:2rem}.w3a-parent-container .w3a--bottom-\\[100\\%\\]{bottom:100%}.w3a-parent-container .w3a--left-0{left:0}.w3a-parent-container .w3a--left-2{left:.5rem}.w3a-parent-container .w3a--left-\\[50\\%\\]{left:50%}.w3a-parent-container .w3a--right-4{right:1rem}.w3a-parent-container .w3a--right-6{right:1.5rem}.w3a-parent-container .w3a--top-0{top:0}.w3a-parent-container .w3a--top-1\\/2{top:50%}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-8{top:2rem}.w3a-parent-container .w3a--top-\\[16px\\]{top:16px}.w3a-parent-container .w3a--top-\\[30px\\]{top:30px}.w3a-parent-container .w3a--z-10{z-index:10}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--z-50{z-index:50}.w3a-parent-container .w3a--z-\\[-1\\]{z-index:-1}.w3a-parent-container .w3a--z-\\[45\\]{z-index:45}.w3a-parent-container .w3a--z-\\[60\\]{z-index:60}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-2{margin-bottom:.5rem;margin-top:.5rem}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mt-10{margin-top:-2.5rem}.w3a-parent-container .-w3a--mt-2{margin-top:-.5rem}.w3a-parent-container .-w3a--mt-6{margin-top:-1.5rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--ml-0{margin-left:0}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-4{margin-left:1rem}.w3a-parent-container .w3a--mr-2\\.5{margin-right:.625rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-2{margin-top:.5rem}.w3a-parent-container .w3a--mt-3{margin-top:.75rem}.w3a-parent-container .w3a--mt-auto{margin-top:auto}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--grid{display:grid}.w3a-parent-container .w3a--contents{display:contents}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--size-10{height:2.5rem;width:2.5rem}.w3a-parent-container .w3a--size-3{height:.75rem;width:.75rem}.w3a-parent-container .w3a--size-5{height:1.25rem;width:1.25rem}.w3a-parent-container .w3a--size-\\[300px\\]{height:300px;width:300px}.w3a-parent-container .w3a--size-auto{height:auto;width:auto}.w3a-parent-container .w3a--size-full{height:100%;width:100%}.w3a-parent-container .w3a--h-0{height:0}.w3a-parent-container .w3a--h-11{height:2.75rem}.w3a-parent-container .w3a--h-12{height:3rem}.w3a-parent-container .w3a--h-9{height:2.25rem}.w3a-parent-container .w3a--h-\\[280px\\]{height:280px}.w3a-parent-container .w3a--h-\\[300px\\]{height:300px}.w3a-parent-container .w3a--h-\\[328px\\]{height:328px}.w3a-parent-container .w3a--h-\\[42px\\]{height:42px}.w3a-parent-container .w3a--h-\\[50px\\]{height:50px}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--h-px{height:1px}.w3a-parent-container .w3a--h-screen{height:100vh}.w3a-parent-container .w3a--w-0{width:0}.w3a-parent-container .w3a--w-12{width:3rem}.w3a-parent-container .w3a--w-4\\/5{width:80%}.w3a-parent-container .w3a--w-\\[100px\\]{width:100px}.w3a-parent-container .w3a--w-\\[104px\\]{width:104px}.w3a-parent-container .w3a--w-\\[200px\\]{width:200px}.w3a-parent-container .w3a--w-\\[356px\\]{width:356px}.w3a-parent-container .w3a--w-\\[90\\%\\]{width:90%}.w3a-parent-container .w3a--w-\\[96\\%\\]{width:96%}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--w-max{width:max-content}.w3a-parent-container .w3a--w-screen{width:100vw}.w3a-parent-container .w3a--max-w-\\[180px\\]{max-width:180px}.w3a-parent-container .w3a--flex-1{flex:1 1 0%}.w3a-parent-container .-w3a--translate-x-10{--tw-translate-x:-2.5rem}.w3a-parent-container .-w3a--translate-x-10,.w3a-parent-container .-w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .-w3a--translate-x-6{--tw-translate-x:-1.5rem}.w3a-parent-container .-w3a--translate-y-1\\/2{--tw-translate-y:-50%}.w3a-parent-container .-w3a--translate-y-1\\/2,.w3a-parent-container .w3a--translate-y-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-0{--tw-translate-y:0px}.w3a-parent-container .w3a--translate-y-\\[100vh\\]{--tw-translate-y:100vh}.w3a-parent-container .w3a--translate-y-\\[100vh\\],.w3a-parent-container .w3a--translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-full{--tw-translate-y:100%}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a--animate-pulse{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes w3a--spin{to{transform:rotate(1turn)}}.w3a-parent-container .w3a--animate-spin{animation:w3a--spin 1s linear infinite}.w3a-parent-container .w3a--cursor-not-allowed{cursor:not-allowed}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--appearance-none{appearance:none}.w3a-parent-container .w3a--auto-rows-min{grid-auto-rows:min-content}.w3a-parent-container .w3a--grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-start{align-items:flex-start}.w3a-parent-container .w3a--items-end{align-items:flex-end}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .\\!w3a--justify-center{justify-content:center!important}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--justify-items-start{justify-items:start}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-x-1{column-gap:.25rem}.w3a-parent-container .w3a--gap-x-2{column-gap:.5rem}.w3a-parent-container .w3a--gap-x-4{column-gap:1rem}.w3a-parent-container .w3a--gap-x-6{column-gap:1.5rem}.w3a-parent-container .w3a--gap-y-1{row-gap:.25rem}.w3a-parent-container .w3a--gap-y-2{row-gap:.5rem}.w3a-parent-container .w3a--gap-y-4{row-gap:1rem}.w3a-parent-container .w3a--gap-y-6{row-gap:1.5rem}.w3a-parent-container .w3a--space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.w3a-parent-container .w3a--overflow-hidden{overflow:hidden}.w3a-parent-container .w3a--overflow-y-auto{overflow-y:auto}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-2xl{border-radius:1rem}.w3a-parent-container .w3a--rounded-3xl{border-radius:1.5rem}.w3a-parent-container .w3a--rounded-\\[30px\\]{border-radius:30px}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-none{border-radius:0}.w3a-parent-container .w3a--rounded-xl{border-radius:.75rem}.w3a-parent-container .w3a--border{border-width:1px}.w3a-parent-container .\\!w3a--border-app-primary-600{border-color:var(--app-primary-600)!important}.w3a-parent-container .w3a--border-app-blue-200{border-color:var(--app-blue-200)}.w3a-parent-container .w3a--border-app-gray-100{border-color:var(--app-gray-100)}.w3a-parent-container .w3a--border-app-gray-200{border-color:var(--app-gray-200)}.w3a-parent-container .w3a--border-app-gray-300{border-color:var(--app-gray-300)}.w3a-parent-container .w3a--border-app-gray-800{border-color:var(--app-gray-800)}.w3a-parent-container .w3a--border-app-green-200{border-color:var(--app-green-200)}.w3a-parent-container .w3a--border-app-green-400{border-color:var(--app-green-400)}.w3a-parent-container .w3a--border-app-red-200{border-color:var(--app-red-200)}.w3a-parent-container .w3a--border-app-red-600{border-color:var(--app-red-600)}.w3a-parent-container .w3a--border-app-yellow-200{border-color:var(--app-yellow-200)}.w3a-parent-container .w3a--border-transparent{border-color:#0000}.w3a-parent-container .\\!w3a--bg-app-gray-800{background-color:var(--app-gray-800)!important}.w3a-parent-container .w3a--bg-app-blue-100{background-color:var(--app-blue-100)}.w3a-parent-container .w3a--bg-app-gray-100{background-color:var(--app-gray-100)}.w3a-parent-container .w3a--bg-app-gray-200{background-color:var(--app-gray-200)}.w3a-parent-container .w3a--bg-app-gray-400{background-color:var(--app-gray-400)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-gray-500{background-color:var(--app-gray-500)}.w3a-parent-container .w3a--bg-app-gray-800{background-color:var(--app-gray-800)}.w3a-parent-container .w3a--bg-app-green-100{background-color:var(--app-green-100)}.w3a-parent-container .w3a--bg-app-light-surface1{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--bg-app-red-100{background-color:var(--app-red-100)}.w3a-parent-container .w3a--bg-app-white{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-yellow-100{background-color:var(--app-yellow-100)}.w3a-parent-container .w3a--bg-transparent{background-color:initial}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-0{padding:0}.w3a-parent-container .w3a--p-2{padding:.5rem}.w3a-parent-container .w3a--p-3{padding:.75rem}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-2\\.5{padding-left:.625rem;padding-right:.625rem}.w3a-parent-container .w3a--px-4{padding-left:1rem;padding-right:1rem}.w3a-parent-container .w3a--px-5{padding-left:1.25rem;padding-right:1.25rem}.w3a-parent-container .w3a--px-\\[6px\\]{padding-left:6px;padding-right:6px}.w3a-parent-container .w3a--py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.w3a-parent-container .w3a--py-3{padding-bottom:.75rem;padding-top:.75rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--py-\\[3px\\]{padding-bottom:3px;padding-top:3px}.w3a-parent-container .w3a--pl-2{padding-left:.5rem}.w3a-parent-container .w3a--pl-6{padding-left:1.5rem}.w3a-parent-container .w3a--pr-1\\.5{padding-right:.375rem}.w3a-parent-container .w3a--pr-2\\.5{padding-right:.625rem}.w3a-parent-container .w3a--pr-3{padding-right:.75rem}.w3a-parent-container .w3a--pt-5{padding-top:1.25rem}.w3a-parent-container .w3a--pt-6{padding-top:1.5rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-start{text-align:start}.w3a-parent-container .w3a--text-3xl{font-size:1.875rem;line-height:2.25rem}.w3a-parent-container .w3a--text-base{font-size:1rem;line-height:1.5rem}.w3a-parent-container .w3a--text-lg{font-size:1.125rem;line-height:1.75rem}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xl{font-size:1.25rem;line-height:1.75rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-bold{font-weight:700}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--font-normal{font-weight:400}.w3a-parent-container .w3a--font-semibold{font-weight:600}.w3a-parent-container .w3a--uppercase{text-transform:uppercase}.w3a-parent-container .w3a--text-app-blue-900{color:var(--app-blue-900)}.w3a-parent-container .w3a--text-app-gray-100{color:var(--app-gray-100)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-700{color:var(--app-gray-700)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-green-400{color:var(--app-green-400)}.w3a-parent-container .w3a--text-app-green-500{color:var(--app-green-500)}.w3a-parent-container .w3a--text-app-green-900{color:var(--app-green-900)}.w3a-parent-container .w3a--text-app-primary-600{color:var(--app-primary-600)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-red-400{color:var(--app-red-400)}.w3a-parent-container .w3a--text-app-red-500{color:var(--app-red-500)}.w3a-parent-container .w3a--text-app-red-900{color:var(--app-red-900)}.w3a-parent-container .w3a--text-app-yellow-900{color:var(--app-yellow-900)}.w3a-parent-container .w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-2xl,.w3a-parent-container .w3a--shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--outline-none{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--delay-100{transition-delay:.1s}.w3a-parent-container .w3a--delay-300{transition-delay:.3s}.w3a-parent-container .w3a--delay-500{transition-delay:.5s}.w3a-parent-container .w3a--delay-700{transition-delay:.7s}.w3a-parent-container .w3a--duration-150{transition-duration:.15s}.w3a-parent-container .w3a--duration-300{transition-duration:.3s}.w3a-parent-container .w3a--duration-500{transition-duration:.5s}.w3a-parent-container .w3a--duration-\\[400ms\\]{transition-duration:.4s}.w3a-parent-container .w3a--ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.w3a-parent-container .w3a--bottom-sheet-bg{background-color:var(--app-gray-600);opacity:.5}.w3a-parent-container .w3a--connected-logo{color:var(--app-green-500);height:4rem;width:4rem}.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .w3a--error-logo{color:var(--app-red-500);height:4rem;width:4rem}.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .w3a--btn{align-items:center;appearance:none;border-color:var(--app-gray-200);border-width:1px;color:var(--app-gray-700);column-gap:.5rem;display:flex;font-size:1rem;font-weight:400;justify-content:center;line-height:1.5rem;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--btn:hover{--tw-translate-y:0.5px;--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-50);border-color:var(--app-gray-50);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--btn:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-800);border-color:var(--app-gray-800);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--input{align-items:center;border-color:var(--app-gray-200);border-width:1px;column-gap:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--input:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .first-letter\\:w3a--capitalize:first-letter{text-transform:capitalize}.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{font-size:.75rem;line-height:1rem}.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{color:var(--app-gray-400)}.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{--tw-translate-y:0.5px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{border-color:var(--app-gray-50)}.w3a-parent-container .hover\\:w3a--border-transparent:hover{border-color:#0000}.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{background-color:var(--app-gray-100)!important}.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{background-color:var(--app-gray-200)}.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{color:var(--app-gray-900)}.w3a-parent-container .hover\\:w3a--shadow-light:hover{--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .focus\\:w3a--outline-none:focus{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .active\\:w3a--scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .active\\:w3a--outline-none:active{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{display:block}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{display:none}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{--tw-translate-x:0px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0,.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{--tw-translate-x:1.5rem}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{opacity:1}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{transition-delay:0s}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){border-width:1px}.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){border-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){border-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){border-color:var(--app-green-500)}.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){border-color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){border-color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){border-color:var(--app-red-500)}.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){background-color:var(--app-gray-900)}.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){background-color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){background-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){background-color:initial}.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){color:var(--app-gray-300)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){border-color:#0000}.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){background-color:var(--app-gray-800)!important}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:640px){.w3a-parent-container .sm\\:w3a--left-8{left:2rem}.w3a-parent-container .sm\\:w3a--right-8{right:2rem}.w3a-parent-container .sm\\:w3a--justify-start{justify-content:flex-start}.w3a-parent-container .sm\\:w3a--justify-end{justify-content:flex-end}.w3a-parent-container .sm\\:w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media (min-width:768px){.w3a-parent-container .md\\:w3a--hidden{display:none}}@media(min-width:375px){.w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{width:393px}}');let p2={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish",am:"amharic"};function p3(a,b=3,c=50,d="black",e=0,f=20,g="#0346ff"){let h,i=[];for(h=0;h<b;h+=1)i.push(a(g).rotate(-((h+1)/b*e)).saturate((h+1)/b*(f/100)).mix(a(d),c/100*(h+1)/b).hex());return i}var p4=bR;function p5(a,b,c){try{Reflect.apply(a,b,c)}catch(a){setTimeout(()=>{throw a})}}class p6 extends p4.EventEmitter{emit(a,...b){let c="error"===a,d=this._events;if(void 0!==d)c=c&&void 0===d.error;else if(!c)return!1;if(c){let a;if(b.length>0&&([a]=b),a instanceof Error)throw a;let c=Error(`Unhandled error.${a?` (${a.message})`:""}`);throw c.context=a,c}let e=d[a];if(void 0===e)return!1;if("function"==typeof e)p5(e,this,b);else{let a=e.length,c=function(a){let b=a.length,c=Array(b);for(let d=0;d<b;d+=1)c[d]=a[d];return c}(e);for(let d=0;d<a;d+=1)p5(c[d],this,b)}return!0}}var p7=a.i(6388);let p8="login",p9="connect_wallet",qa="Connect Your Wallet",qb="Selected Wallet",qc="https://images.web3auth.io/web3auth-logo-w.svg",qd="https://images.web3auth.io/web3auth-logo-w-light.svg",qe={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}},qf=aP.default.getLogger("http-helpers");qf.setLevel(aP.levels.INFO);let qg="torus-default";async function qh(a,b){try{new URL(a)}catch{}return fetch(a,b)}function qi(){let a={};return qg&&(a["x-api-key"]=qg),a}function qj(a){qf.info(`Response: ${a.status} ${a.statusText}`),qf.info(`Url: ${a.url}`)}let qk=async(a,b)=>{let c=null;try{let d=new Promise((b,d)=>{c=setTimeout(()=>{d(Error(`Timed out in ${a}ms`))},a)}),e=await Promise.race([b,d]);return null!=c&&clearTimeout(c),e}catch(a){throw null!=c&&clearTimeout(c),a}},ql=async(a,b={},c={})=>{let d={mode:"cors",headers:{}};c.useAPIKey&&(d.headers=(0,aF.default)((0,aF.default)({},d.headers),qi())),b.method="GET";let e=(0,a3.default)(d,b),f=await qh(a,e);if(f.ok){let a=f.headers.get("content-type");return null!=a&&a.includes("application/json")?f.json():f.text()}throw qj(f),f},qm=(a,b={},c={},d={})=>{let e={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};d.useAPIKey&&(e.headers=(0,aF.default)((0,aF.default)({},e.headers),qi())),c.method="POST";let f=(0,a3.default)(e,c);return d.isUrlEncodedData?(f.body=b,"application/json; charset=utf-8"===f.headers["Content-Type"]&&delete f.headers["Content-Type"]):f.body=JSON.stringify(b),qk(d.timeout||6e4,qh(a,f).then(a=>{let b;if(d.logTracingHeader&&(b=a.headers.get("x-web3-correlation-id"))&&qf.info(`Request tracing with traceID = ${b}`),a.ok){let b=a.headers.get("content-type");return null!=b&&b.includes("application/json")?a.json():a.text()}throw qj(a),a}))};var qn=a.i(98621),qo=a.i(74614);let qp=new Map;function qq(...a){let b=JSON.stringify(a);if(qp.has(b))return qp.get(b);let c=(0,qo.twMerge)((0,qn.default)(a));return qp.set(b,c),c}let qr=a=>`https://images.web3auth.io/login-modal/${a}.svg`,qs="https://api.web3auth.io/passwordless-service",qt=async()=>{try{let a=await ql(`${qs}/api/v3/user/location`);if(a&&a.data.country)return{country:a.data.country,dialCode:a.data.dial_code};return null}catch(a){return cs.log.error("error getting user country",a),null}},qu=async a=>{try{let b=await qm(`${qs}/api/v3/phone_number/validate`,{phone_number:a});if(b&&b.success)return b;return{success:!1,parsed_number:"",country_flag:""}}catch(a){return cs.log.error("error validating phone number",a),a.status,{success:!1,parsed_number:"",country_flag:""}}},qv=a=>{let b=a;return b||(b="en-US".split("-")[0]),Object.prototype.hasOwnProperty.call(p2,b)?b:"en"};function qw(a){let{open:b=!0,padding:c=!0,shadow:d=!0,border:g=!1,showCloseIcon:h=!1,onClose:i,children:j,borderRadius:k="large"}=a,[l,m]=(0,f.useState)(!1);return((0,f.useEffect)(()=>{b?setTimeout(()=>{m(!0)},50):m(!1)},[b]),l)?(0,e.jsxs)("div",{className:qq("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":l,"w3a--translate-y-[100vh]":!l,"w3a--p-4":c,"w3a--shadow-xl sm:w3a--shadow-lg":d,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":g,"w3a--rounded-[30px]":"large"===k,"w3a--rounded-2xl":"medium"===k,"w3a--rounded-none":"small"===k}),children:[h&&(0,e.jsx)("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:(0,e.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{i&&i()},className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),j]}):null}function qx(a){let{children:b,open:c,onClose:d,placement:g="center",padding:h=!0,shadow:i=!0,border:j=!1,showCloseIcon:k=!0,borderRadius:l="large"}=a,[m,n]=(0,f.useState)(!1);(0,f.useEffect)(()=>{c?(document.body.style.overflow="hidden",setTimeout(()=>{n(!0)},50)):(n(!1),document.body.style.overflow="")},[c]);let o=(0,f.useMemo)(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),p=(0,f.useMemo)(()=>o[g],[g,o]);return(0,e.jsx)("div",{className:qq("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",p,{"w3a--w-screen w3a--h-screen":m,"w3a--w-0 w3a--h-0 w3a--delay-500":!m}),children:(0,e.jsxs)("div",{className:qq("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":m,"w3a--translate-y-[100vh]":!m,"w3a--p-4":h,"w3a--shadow-xl sm:w3a--shadow-lg":i,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":j,"w3a--rounded-[30px]":"large"===l,"w3a--rounded-2xl":"medium"===l,"w3a--rounded-none":"small"===l}),children:[k&&(0,e.jsx)("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:(0,e.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{d&&d()},className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),b]})})}a.i(79873),Object.create(null);let qy={},qz=(a,b,c,d)=>{qD(c)&&qy[c]||(qD(c)&&(qy[c]=new Date),((a,b,c,d)=>{let e=[c,{code:b,...d||{}}];if(a?.services?.logger?.forward)return a.services.logger.forward(e,"warn","react-i18next::",!0);qD(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),a?.services?.logger?.warn?a.services.logger.warn(...e):console?.warn&&console.warn(...e)})(a,b,c,d))},qA=(a,b)=>()=>{if(a.isInitialized)b();else{let c=()=>{setTimeout(()=>{a.off("initialized",c)},0),b()};a.on("initialized",c)}},qB=(a,b,c)=>{a.loadNamespaces(b,qA(a,c))},qC=(a,b,c,d)=>{if(qD(c)&&(c=[c]),a.options.preload&&a.options.preload.indexOf(b)>-1)return qB(a,c,d);c.forEach(b=>{0>a.options.ns.indexOf(b)&&a.options.ns.push(b)}),a.loadLanguages(b,qA(a,d))},qD=a=>"string"==typeof a,qE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qF={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},qG=a=>qF[a],qH={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:a=>a.replace(qE,qG)},qI=(0,f.createContext)();class qJ{constructor(){this.usedNamespaces={}}addUsedNamespaces(a){a.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}let qK=(a,b={})=>{var c,e,g,h;let i,{i18n:j}=b,{i18n:k,defaultNS:l}=(0,f.useContext)(qI)||{},m=j||k||d;if(m&&!m.reportNamespaces&&(m.reportNamespaces=new qJ),!m){qz(m,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");let a=(a,b)=>{let c;return qD(b)?b:"object"==typeof(c=b)&&null!==c&&qD(b.defaultValue)?b.defaultValue:Array.isArray(a)?a[a.length-1]:a},b=[a,{},!1];return b.t=a,b.i18n={},b.ready=!1,b}m.options.react?.wait&&qz(m,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let n={...qH,...m.options.react,...b},{useSuspense:o,keyPrefix:p}=n,q=a||l||m.options?.defaultNS;q=qD(q)?[q]:q||["translation"],m.reportNamespaces.addUsedNamespaces?.(q);let r=(m.isInitialized||m.initializedStoreOnce)&&q.every(a=>((a,b,c={})=>b.languages&&b.languages.length?b.hasLoadedNamespace(a,{lng:c.lng,precheck:(b,d)=>{if(c.bindI18n&&c.bindI18n.indexOf("languageChanging")>-1&&b.services.backendConnector.backend&&b.isLanguageChangingTo&&!d(b.isLanguageChangingTo,a))return!1}}):(qz(b,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:b.languages}),!0))(a,m,n)),s=(c=b.lng||null,e="fallback"===n.nsMode?q:q[0],(0,f.useCallback)(m.getFixedT(c,e,p),[m,c,e,p])),t=()=>s,u=()=>{let a,c;return a=b.lng||null,c="fallback"===n.nsMode?q:q[0],m.getFixedT(a,c,p)},[v,w]=(0,f.useState)(t),x=q.join();b.lng&&(x=`${b.lng}${x}`);let y=(g=x,i=(0,f.useRef)(),(0,f.useEffect)(()=>{i.current=h?i.current:g},[g,h]),i.current),z=(0,f.useRef)(!0);(0,f.useEffect)(()=>{let{bindI18n:a,bindI18nStore:c}=n;z.current=!0,r||o||(b.lng?qC(m,b.lng,q,()=>{z.current&&w(u)}):qB(m,q,()=>{z.current&&w(u)})),r&&y&&y!==x&&z.current&&w(u);let d=()=>{z.current&&w(u)};return a&&m?.on(a,d),c&&m?.store.on(c,d),()=>{z.current=!1,m&&a&&a?.split(" ").forEach(a=>m.off(a,d)),c&&m&&c.split(" ").forEach(a=>m.store.off(a,d))}},[m,x]),(0,f.useEffect)(()=>{z.current&&r&&w(t)},[m,p,r]);let A=[v,m,r];if(A.t=v,A.i18n=m,A.ready=r,r||!r&&!o)return A;throw new Promise(a=>{b.lng?qC(m,b.lng,q,()=>a()):qB(m,q,()=>a())})},qL=(0,f.createContext)({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:p1.SUCCESS},setBodyState:()=>{},setToast:()=>{}}),qM=(0,f.createContext)({isDark:!0}),qN=a=>"string"==typeof a,qO=()=>{let a,b,c=new Promise((c,d)=>{a=c,b=d});return c.resolve=a,c.reject=b,c},qP=a=>null==a?"":""+a,qQ=/###/g,qR=a=>a&&a.indexOf("###")>-1?a.replace(qQ,"."):a,qS=a=>!a||qN(a),qT=(a,b,c)=>{let d=qN(b)?b.split("."):b,e=0;for(;e<d.length-1;){if(qS(a))return{};let b=qR(d[e]);!a[b]&&c&&(a[b]=new c),a=Object.prototype.hasOwnProperty.call(a,b)?a[b]:{},++e}return qS(a)?{}:{obj:a,k:qR(d[e])}},qU=(a,b,c)=>{let{obj:d,k:e}=qT(a,b,Object);if(void 0!==d||1===b.length){d[e]=c;return}let f=b[b.length-1],g=b.slice(0,b.length-1),h=qT(a,g,Object);for(;void 0===h.obj&&g.length;)f=`${g[g.length-1]}.${f}`,h=qT(a,g=g.slice(0,g.length-1),Object),h?.obj&&void 0!==h.obj[`${h.k}.${f}`]&&(h.obj=void 0);h.obj[`${h.k}.${f}`]=c},qV=(a,b)=>{let{obj:c,k:d}=qT(a,b);if(c&&Object.prototype.hasOwnProperty.call(c,d))return c[d]},qW=(a,b,c)=>{for(let d in b)"__proto__"!==d&&"constructor"!==d&&(d in a?qN(a[d])||a[d]instanceof String||qN(b[d])||b[d]instanceof String?c&&(a[d]=b[d]):qW(a[d],b[d],c):a[d]=b[d]);return a};var qX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let qY=a=>qN(a)?a.replace(/[&<>"'\/]/g,a=>qX[a]):a,qZ=[" ",",","?","!",";"],q$=new class{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){let b=this.regExpMap.get(a);if(void 0!==b)return b;let c=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,c),this.regExpQueue.push(a),c}}(20),q_=(a,b,c=".")=>{if(!a)return;if(a[b]){if(!Object.prototype.hasOwnProperty.call(a,b))return;return a[b]}let d=b.split(c),e=a;for(let a=0;a<d.length;){let b;if(!e||"object"!=typeof e)return;let f="";for(let g=a;g<d.length;++g)if(g!==a&&(f+=c),f+=d[g],void 0!==(b=e[f])){if(["string","number","boolean"].indexOf(typeof b)>-1&&g<d.length-1)continue;a+=g-a+1;break}e=b}return e},q0=a=>a?.replace("_","-"),q1={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,b){console?.[a]?.apply?.(console,b)}};class q2{constructor(a,b={}){this.init(a,b)}init(a,b={}){this.prefix=b.prefix||"i18next:",this.logger=a||q1,this.options=b,this.debug=b.debug}log(...a){return this.forward(a,"log","",!0)}warn(...a){return this.forward(a,"warn","",!0)}error(...a){return this.forward(a,"error","")}deprecate(...a){return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(a,b,c,d){return d&&!this.debug?null:(qN(a[0])&&(a[0]=`${c}${this.prefix} ${a[0]}`),this.logger[b](a))}create(a){return new q2(this.logger,{...{prefix:`${this.prefix}:${a}:`},...this.options})}clone(a){return(a=a||this.options).prefix=a.prefix||this.prefix,new q2(this.logger,a)}}var q3=new q2;class q4{constructor(){this.observers={}}on(a,b){return a.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);let c=this.observers[a].get(b)||0;this.observers[a].set(b,c+1)}),this}off(a,b){if(this.observers[a]){if(!b)return void delete this.observers[a];this.observers[a].delete(b)}}emit(a,...b){this.observers[a]&&Array.from(this.observers[a].entries()).forEach(([a,c])=>{for(let d=0;d<c;d++)a(...b)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,d])=>{for(let e=0;e<d;e++)c.apply(c,[a,...b])})}}class q5 extends q4{constructor(a,b={ns:["translation"],defaultNS:"translation"}){super(),this.data=a||{},this.options=b,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){0>this.options.ns.indexOf(a)&&this.options.ns.push(a)}removeNamespaces(a){let b=this.options.ns.indexOf(a);b>-1&&this.options.ns.splice(b,1)}getResource(a,b,c,d={}){let e,f=void 0!==d.keySeparator?d.keySeparator:this.options.keySeparator,g=void 0!==d.ignoreJSONStructure?d.ignoreJSONStructure:this.options.ignoreJSONStructure;a.indexOf(".")>-1?e=a.split("."):(e=[a,b],c&&(Array.isArray(c)?e.push(...c):qN(c)&&f?e.push(...c.split(f)):e.push(c)));let h=qV(this.data,e);return(!h&&!b&&!c&&a.indexOf(".")>-1&&(a=e[0],b=e[1],c=e.slice(2).join(".")),!h&&g&&qN(c))?q_(this.data?.[a]?.[b],c,f):h}addResource(a,b,c,d,e={silent:!1}){let f=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,g=[a,b];c&&(g=g.concat(f?c.split(f):c)),a.indexOf(".")>-1&&(g=a.split("."),d=b,b=g[1]),this.addNamespaces(b),qU(this.data,g,d),e.silent||this.emit("added",a,b,c,d)}addResources(a,b,c,d={silent:!1}){for(let d in c)(qN(c[d])||Array.isArray(c[d]))&&this.addResource(a,b,d,c[d],{silent:!0});d.silent||this.emit("added",a,b,c)}addResourceBundle(a,b,c,d,e,f={silent:!1,skipCopy:!1}){let g=[a,b];a.indexOf(".")>-1&&(g=a.split("."),d=c,c=b,b=g[1]),this.addNamespaces(b);let h=qV(this.data,g)||{};f.skipCopy||(c=JSON.parse(JSON.stringify(c))),d?qW(h,c,e):h={...h,...c},qU(this.data,g,h),f.silent||this.emit("added",a,b,c)}removeResourceBundle(a,b){this.hasResourceBundle(a,b)&&delete this.data[a][b],this.removeNamespaces(b),this.emit("removed",a,b)}hasResourceBundle(a,b){return void 0!==this.getResource(a,b)}getResourceBundle(a,b){return b||(b=this.options.defaultNS),this.getResource(a,b)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){let b=this.getDataByLanguage(a);return!!(b&&Object.keys(b)||[]).find(a=>b[a]&&Object.keys(b[a]).length>0)}toJSON(){return this.data}}var q6={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,b,c,d,e){return a.forEach(a=>{b=this.processors[a]?.process(b,c,d,e)??b}),b}};let q7=Symbol("i18next/PATH_KEY");function q8(a,b){let c,d,e,{[q7]:f}=a((d=[],(e=Object.create(null)).get=(a,b)=>(c?.revoke?.(),b===q7)?d:(d.push(b),(c=Proxy.revocable(a,e)).proxy),Proxy.revocable(Object.create(null),e).proxy));return f.join(b?.keySeparator??".")}let q9={},ra=a=>!qN(a)&&"boolean"!=typeof a&&"number"!=typeof a;class rb extends q4{constructor(a,b={}){super(),((a,b,c)=>{a.forEach(a=>{b[a]&&(c[a]=b[a])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=b,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=q3.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a,b={interpolation:{}}){let c={...b};if(null==a)return!1;let d=this.resolve(a,c);if(d?.res===void 0)return!1;let e=ra(d.res);return!1!==c.returnObjects||!e}extractFromKey(a,b){let c=void 0!==b.nsSeparator?b.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");let d=void 0!==b.keySeparator?b.keySeparator:this.options.keySeparator,e=b.ns||this.options.defaultNS||[],f=c&&a.indexOf(c)>-1,g=!this.options.userDefinedKeySeparator&&!b.keySeparator&&!this.options.userDefinedNsSeparator&&!b.nsSeparator&&!((a,b,c)=>{b=b||"",c=c||"";let d=qZ.filter(a=>0>b.indexOf(a)&&0>c.indexOf(a));if(0===d.length)return!0;let e=q$.getRegExp(`(${d.map(a=>"?"===a?"\\?":a).join("|")})`),f=!e.test(a);if(!f){let b=a.indexOf(c);b>0&&!e.test(a.substring(0,b))&&(f=!0)}return f})(a,c,d);if(f&&!g){let b=a.match(this.interpolator.nestingRegexp);if(b&&b.length>0)return{key:a,namespaces:qN(e)?[e]:e};let f=a.split(c);(c!==d||c===d&&this.options.ns.indexOf(f[0])>-1)&&(e=f.shift()),a=f.join(d)}return{key:a,namespaces:qN(e)?[e]:e}}translate(a,b,c){let d="object"==typeof b?{...b}:b;if("object"!=typeof d&&this.options.overloadTranslationOptionHandler&&(d=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof d&&(d={...d}),d||(d={}),null==a)return"";"function"==typeof a&&(a=q8(a,{...this.options,...d})),Array.isArray(a)||(a=[String(a)]);let e=void 0!==d.returnDetails?d.returnDetails:this.options.returnDetails,f=void 0!==d.keySeparator?d.keySeparator:this.options.keySeparator,{key:g,namespaces:h}=this.extractFromKey(a[a.length-1],d),i=h[h.length-1],j=void 0!==d.nsSeparator?d.nsSeparator:this.options.nsSeparator;void 0===j&&(j=":");let k=d.lng||this.language,l=d.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(k?.toLowerCase()==="cimode")return l?e?{res:`${i}${j}${g}`,usedKey:g,exactUsedKey:g,usedLng:k,usedNS:i,usedParams:this.getUsedParamsDetails(d)}:`${i}${j}${g}`:e?{res:g,usedKey:g,exactUsedKey:g,usedLng:k,usedNS:i,usedParams:this.getUsedParamsDetails(d)}:g;let m=this.resolve(a,d),n=m?.res,o=m?.usedKey||g,p=m?.exactUsedKey||g,q=void 0!==d.joinArrays?d.joinArrays:this.options.joinArrays,r=!this.i18nFormat||this.i18nFormat.handleAsObject,s=void 0!==d.count&&!qN(d.count),t=rb.hasDefaultValue(d),u=s?this.pluralResolver.getSuffix(k,d.count,d):"",v=d.ordinal&&s?this.pluralResolver.getSuffix(k,d.count,{ordinal:!1}):"",w=s&&!d.ordinal&&0===d.count,x=w&&d[`defaultValue${this.options.pluralSeparator}zero`]||d[`defaultValue${u}`]||d[`defaultValue${v}`]||d.defaultValue,y=n;r&&!n&&t&&(y=x);let z=ra(y),A=Object.prototype.toString.apply(y);if(r&&y&&z&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(A)&&!(qN(q)&&Array.isArray(y))){if(!d.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let a=this.options.returnedObjectHandler?this.options.returnedObjectHandler(o,y,{...d,ns:h}):`key '${g} (${this.language})' returned an object instead of string.`;return e?(m.res=a,m.usedParams=this.getUsedParamsDetails(d),m):a}if(f){let a=Array.isArray(y),b=a?[]:{},c=a?p:o;for(let a in y)if(Object.prototype.hasOwnProperty.call(y,a)){let e=`${c}${f}${a}`;t&&!n?b[a]=this.translate(e,{...d,defaultValue:ra(x)?x[a]:void 0,...{joinArrays:!1,ns:h}}):b[a]=this.translate(e,{...d,joinArrays:!1,ns:h}),b[a]===e&&(b[a]=y[a])}n=b}}else if(r&&qN(q)&&Array.isArray(n))(n=n.join(q))&&(n=this.extendTranslation(n,a,d,c));else{let b=!1,e=!1;!this.isValidLookup(n)&&t&&(b=!0,n=x),this.isValidLookup(n)||(e=!0,n=g);let h=(d.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&e?void 0:n,l=t&&x!==n&&this.options.updateMissing;if(e||b||l){if(this.logger.log(l?"updateKey":"missingKey",k,i,g,l?x:n),f){let a=this.resolve(g,{...d,keySeparator:!1});a&&a.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let a=[],b=this.languageUtils.getFallbackCodes(this.options.fallbackLng,d.lng||this.language);if("fallback"===this.options.saveMissingTo&&b&&b[0])for(let c=0;c<b.length;c++)a.push(b[c]);else"all"===this.options.saveMissingTo?a=this.languageUtils.toResolveHierarchy(d.lng||this.language):a.push(d.lng||this.language);let c=(a,b,c)=>{let e=t&&c!==n?c:h;this.options.missingKeyHandler?this.options.missingKeyHandler(a,i,b,e,l,d):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(a,i,b,e,l,d),this.emit("missingKey",a,i,b,n)};this.options.saveMissing&&(this.options.saveMissingPlurals&&s?a.forEach(a=>{let b=this.pluralResolver.getSuffixes(a,d);w&&d[`defaultValue${this.options.pluralSeparator}zero`]&&0>b.indexOf(`${this.options.pluralSeparator}zero`)&&b.push(`${this.options.pluralSeparator}zero`),b.forEach(b=>{c([a],g+b,d[`defaultValue${b}`]||x)})}):c(a,g,x))}n=this.extendTranslation(n,a,d,m,c),e&&n===g&&this.options.appendNamespaceToMissingKey&&(n=`${i}${j}${g}`),(e||b)&&this.options.parseMissingKeyHandler&&(n=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${i}${j}${g}`:g,b?n:void 0,d))}return e?(m.res=n,m.usedParams=this.getUsedParamsDetails(d),m):n}extendTranslation(a,b,c,d,e){if(this.i18nFormat?.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...c},c.lng||this.language||d.usedLng,d.usedNS,d.usedKey,{resolved:d});else if(!c.skipInterpolation){let f;c.interpolation&&this.interpolator.init({...c,...{interpolation:{...this.options.interpolation,...c.interpolation}}});let g=qN(a)&&(c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(g){let b=a.match(this.interpolator.nestingRegexp);f=b&&b.length}let h=c.replace&&!qN(c.replace)?c.replace:c;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),a=this.interpolator.interpolate(a,h,c.lng||this.language||d.usedLng,c),g){let b=a.match(this.interpolator.nestingRegexp);f<(b&&b.length)&&(c.nest=!1)}!c.lng&&d&&d.res&&(c.lng=this.language||d.usedLng),!1!==c.nest&&(a=this.interpolator.nest(a,(...a)=>e?.[0]!==a[0]||c.context?this.translate(...a,b):(this.logger.warn(`It seems you are nesting recursively key: ${a[0]} in key: ${b[0]}`),null),c)),c.interpolation&&this.interpolator.reset()}let f=c.postProcess||this.options.postProcess,g=qN(f)?[f]:f;return null!=a&&g?.length&&!1!==c.applyPostProcessor&&(a=q6.handle(g,a,b,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...d,usedParams:this.getUsedParamsDetails(c)},...c}:c,this)),a}resolve(a,b={}){let c,d,e,f,g;return qN(a)&&(a=[a]),a.forEach(a=>{if(this.isValidLookup(c))return;let h=this.extractFromKey(a,b),i=h.key;d=i;let j=h.namespaces;this.options.fallbackNS&&(j=j.concat(this.options.fallbackNS));let k=void 0!==b.count&&!qN(b.count),l=k&&!b.ordinal&&0===b.count,m=void 0!==b.context&&(qN(b.context)||"number"==typeof b.context)&&""!==b.context,n=b.lngs?b.lngs:this.languageUtils.toResolveHierarchy(b.lng||this.language,b.fallbackLng);j.forEach(a=>{this.isValidLookup(c)||(g=a,!q9[`${n[0]}-${a}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(g)&&(q9[`${n[0]}-${a}`]=!0,this.logger.warn(`key "${d}" for languages "${n.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),n.forEach(d=>{let g;if(this.isValidLookup(c))return;f=d;let h=[i];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(h,i,d,a,b);else{let a;k&&(a=this.pluralResolver.getSuffix(d,b.count,b));let c=`${this.options.pluralSeparator}zero`,e=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(k&&(b.ordinal&&0===a.indexOf(e)&&h.push(i+a.replace(e,this.options.pluralSeparator)),h.push(i+a),l&&h.push(i+c)),m){let d=`${i}${this.options.contextSeparator||"_"}${b.context}`;h.push(d),k&&(b.ordinal&&0===a.indexOf(e)&&h.push(d+a.replace(e,this.options.pluralSeparator)),h.push(d+a),l&&h.push(d+c))}}for(;g=h.pop();)this.isValidLookup(c)||(e=g,c=this.getResource(d,a,g,b))}))})}),{res:c,usedKey:d,exactUsedKey:e,usedLng:f,usedNS:g}}isValidLookup(a){return void 0!==a&&!(!this.options.returnNull&&null===a)&&!(!this.options.returnEmptyString&&""===a)}getResource(a,b,c,d={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(a,b,c,d):this.resourceStore.getResource(a,b,c,d)}getUsedParamsDetails(a={}){let b=a.replace&&!qN(a.replace),c=b?a.replace:a;if(b&&void 0!==a.count&&(c.count=a.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!b)for(let a of(c={...c},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete c[a];return c}static hasDefaultValue(a){let b="defaultValue";for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&b===c.substring(0,b.length)&&void 0!==a[c])return!0;return!1}}class rc{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=q3.create("languageUtils")}getScriptPartFromCode(a){if(!(a=q0(a))||0>a.indexOf("-"))return null;let b=a.split("-");return 2===b.length||(b.pop(),"x"===b[b.length-1].toLowerCase())?null:this.formatLanguageCode(b.join("-"))}getLanguagePartFromCode(a){if(!(a=q0(a))||0>a.indexOf("-"))return a;let b=a.split("-");return this.formatLanguageCode(b[0])}formatLanguageCode(a){if(qN(a)&&a.indexOf("-")>-1){let b;try{b=Intl.getCanonicalLocales(a)[0]}catch(a){}return(b&&this.options.lowerCaseLng&&(b=b.toLowerCase()),b)?b:this.options.lowerCaseLng?a.toLowerCase():a}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){let b;return a?(a.forEach(a=>{if(b)return;let c=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(c))&&(b=c)}),!b&&this.options.supportedLngs&&a.forEach(a=>{if(b)return;let c=this.getScriptPartFromCode(a);if(this.isSupportedCode(c))return b=c;let d=this.getLanguagePartFromCode(a);if(this.isSupportedCode(d))return b=d;b=this.options.supportedLngs.find(a=>{if(a===d||!(0>a.indexOf("-")&&0>d.indexOf("-"))&&(a.indexOf("-")>0&&0>d.indexOf("-")&&a.substring(0,a.indexOf("-"))===d||0===a.indexOf(d)&&d.length>1))return a})}),b||(b=this.getFallbackCodes(this.options.fallbackLng)[0]),b):null}getFallbackCodes(a,b){if(!a)return[];if("function"==typeof a&&(a=a(b)),qN(a)&&(a=[a]),Array.isArray(a))return a;if(!b)return a.default||[];let c=a[b];return c||(c=a[this.getScriptPartFromCode(b)]),c||(c=a[this.formatLanguageCode(b)]),c||(c=a[this.getLanguagePartFromCode(b)]),c||(c=a.default),c||[]}toResolveHierarchy(a,b){let c=this.getFallbackCodes((!1===b?[]:b)||this.options.fallbackLng||[],a),d=[],e=a=>{a&&(this.isSupportedCode(a)?d.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return qN(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?("languageOnly"!==this.options.load&&e(this.formatLanguageCode(a)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&e(this.getScriptPartFromCode(a)),"currentOnly"!==this.options.load&&e(this.getLanguagePartFromCode(a))):qN(a)&&e(this.formatLanguageCode(a)),c.forEach(a=>{0>d.indexOf(a)&&e(this.formatLanguageCode(a))}),d}}let rd={zero:0,one:1,two:2,few:3,many:4,other:5},re={select:a=>1===a?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rf{constructor(a,b={}){this.languageUtils=a,this.options=b,this.logger=q3.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(a,b={}){let c,d=q0("dev"===a?"en":a),e=b.ordinal?"ordinal":"cardinal",f=JSON.stringify({cleanedCode:d,type:e});if(f in this.pluralRulesCache)return this.pluralRulesCache[f];try{c=new Intl.PluralRules(d,{type:e})}catch(e){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),re;if(!a.match(/-|_/))return re;let d=this.languageUtils.getLanguagePartFromCode(a);c=this.getRule(d,b)}return this.pluralRulesCache[f]=c,c}needsPlural(a,b={}){let c=this.getRule(a,b);return c||(c=this.getRule("dev",b)),c?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(a,b,c={}){return this.getSuffixes(a,c).map(a=>`${b}${a}`)}getSuffixes(a,b={}){let c=this.getRule(a,b);return(c||(c=this.getRule("dev",b)),c)?c.resolvedOptions().pluralCategories.sort((a,b)=>rd[a]-rd[b]).map(a=>`${this.options.prepend}${b.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(a,b,c={}){let d=this.getRule(a,c);return d?`${this.options.prepend}${c.ordinal?`ordinal${this.options.prepend}`:""}${d.select(b)}`:(this.logger.warn(`no plural rule found for: ${a}`),this.getSuffix("dev",b,c))}}let rg=(a,b,c,d=".",e=!0)=>{let f,g=void 0!==(f=qV(a,c))?f:qV(b,c);return!g&&e&&qN(c)&&void 0===(g=q_(a,c,d))&&(g=q_(b,c,d)),g};class rh{constructor(a={}){this.logger=q3.create("interpolator"),this.options=a,this.format=a?.interpolation?.format||(a=>a),this.init(a)}init(a={}){a.interpolation||(a.interpolation={escapeValue:!0});let{escape:b,escapeValue:c,useRawValueToEscape:d,prefix:e,prefixEscaped:f,suffix:g,suffixEscaped:h,formatSeparator:i,unescapeSuffix:j,unescapePrefix:k,nestingPrefix:l,nestingPrefixEscaped:m,nestingSuffix:n,nestingSuffixEscaped:o,nestingOptionsSeparator:p,maxReplaces:q,alwaysFormat:r}=a.interpolation;this.escape=void 0!==b?b:qY,this.escapeValue=void 0===c||c,this.useRawValueToEscape=void 0!==d&&d,this.prefix=e?e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):f||"{{",this.suffix=g?g.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):h||"}}",this.formatSeparator=i||",",this.unescapePrefix=j?"":k||"-",this.unescapeSuffix=this.unescapePrefix?"":j||"",this.nestingPrefix=l?l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):m||"$t(".replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),this.nestingSuffix=n?n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):o||")".replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),this.nestingOptionsSeparator=p||",",this.maxReplaces=q||1e3,this.alwaysFormat=void 0!==r&&r,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let a=(a,b)=>a?.source===b?(a.lastIndex=0,a):RegExp(b,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(a,b,c,d){let e,f,g,h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},i=a=>{if(0>a.indexOf(this.formatSeparator)){let e=rg(b,h,a,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(e,void 0,c,{...d,...b,interpolationkey:a}):e}let e=a.split(this.formatSeparator),f=e.shift().trim(),g=e.join(this.formatSeparator).trim();return this.format(rg(b,h,f,this.options.keySeparator,this.options.ignoreJSONStructure),g,c,{...d,...b,interpolationkey:f})};this.resetRegExp();let j=d?.missingInterpolationHandler||this.options.missingInterpolationHandler,k=d?.interpolation?.skipOnVariables!==void 0?d.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:a=>a.replace(/\$/g,"$$$$")},{regex:this.regexp,safeValue:a=>this.escapeValue?this.escape(a).replace(/\$/g,"$$$$"):a.replace(/\$/g,"$$$$")}].forEach(b=>{for(g=0;e=b.regex.exec(a);){let c=e[1].trim();if(void 0===(f=i(c)))if("function"==typeof j){let b=j(a,e,d);f=qN(b)?b:""}else if(d&&Object.prototype.hasOwnProperty.call(d,c))f="";else if(k){f=e[0];continue}else this.logger.warn(`missed to pass in variable ${c} for interpolating ${a}`),f="";else qN(f)||this.useRawValueToEscape||(f=qP(f));let h=b.safeValue(f);if(a=a.replace(e[0],h),k?(b.regex.lastIndex+=f.length,b.regex.lastIndex-=e[0].length):b.regex.lastIndex=0,++g>=this.maxReplaces)break}}),a}nest(a,b,c={}){let d,e,f,g=(a,b)=>{let c=this.nestingOptionsSeparator;if(0>a.indexOf(c))return a;let d=a.split(RegExp(`${c}[ ]*{`)),e=`{${d[1]}`;a=d[0];let g=(e=this.interpolate(e,f)).match(/'/g),h=e.match(/"/g);((g?.length??0)%2!=0||h)&&h.length%2==0||(e=e.replace(/'/g,'"'));try{f=JSON.parse(e),b&&(f={...b,...f})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${a}`,b),`${a}${c}${e}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,a};for(;d=this.nestingRegexp.exec(a);){let h=[];(f=(f={...c}).replace&&!qN(f.replace)?f.replace:f).applyPostProcessor=!1,delete f.defaultValue;let i=/{.*}/.test(d[1])?d[1].lastIndexOf("}")+1:d[1].indexOf(this.formatSeparator);if(-1!==i&&(h=d[1].slice(i).split(this.formatSeparator).map(a=>a.trim()).filter(Boolean),d[1]=d[1].slice(0,i)),(e=b(g.call(this,d[1].trim(),f),f))&&d[0]===a&&!qN(e))return e;qN(e)||(e=qP(e)),e||(this.logger.warn(`missed to resolve ${d[1]} for nesting ${a}`),e=""),h.length&&(e=h.reduce((a,b)=>this.format(a,b,c.lng,{...c,interpolationkey:d[1].trim()}),e.trim())),a=a.replace(d[0],e),this.regexp.lastIndex=0}return a}}let ri=a=>{let b={};return(c,d,e)=>{let f=e;e&&e.interpolationkey&&e.formatParams&&e.formatParams[e.interpolationkey]&&e[e.interpolationkey]&&(f={...f,[e.interpolationkey]:void 0});let g=d+JSON.stringify(f),h=b[g];return h||(h=a(q0(d),e),b[g]=h),h(c)}},rj=a=>(b,c,d)=>a(q0(c),d)(b);class rk{constructor(a={}){this.logger=q3.create("formatter"),this.options=a,this.init(a)}init(a,b={interpolation:{}}){this.formatSeparator=b.interpolation.formatSeparator||",";let c=b.cacheInBuiltFormats?ri:rj;this.formats={number:c((a,b)=>{let c=new Intl.NumberFormat(a,{...b});return a=>c.format(a)}),currency:c((a,b)=>{let c=new Intl.NumberFormat(a,{...b,style:"currency"});return a=>c.format(a)}),datetime:c((a,b)=>{let c=new Intl.DateTimeFormat(a,{...b});return a=>c.format(a)}),relativetime:c((a,b)=>{let c=new Intl.RelativeTimeFormat(a,{...b});return a=>c.format(a,b.range||"day")}),list:c((a,b)=>{let c=new Intl.ListFormat(a,{...b});return a=>c.format(a)})}}add(a,b){this.formats[a.toLowerCase().trim()]=b}addCached(a,b){this.formats[a.toLowerCase().trim()]=ri(b)}format(a,b,c,d={}){let e=b.split(this.formatSeparator);if(e.length>1&&e[0].indexOf("(")>1&&0>e[0].indexOf(")")&&e.find(a=>a.indexOf(")")>-1)){let a=e.findIndex(a=>a.indexOf(")")>-1);e[0]=[e[0],...e.splice(1,a)].join(this.formatSeparator)}return e.reduce((a,b)=>{let{formatName:e,formatOptions:f}=(a=>{let b=a.toLowerCase().trim(),c={};if(a.indexOf("(")>-1){let d=a.split("(");b=d[0].toLowerCase().trim();let e=d[1].substring(0,d[1].length-1);"currency"===b&&0>e.indexOf(":")?c.currency||(c.currency=e.trim()):"relativetime"===b&&0>e.indexOf(":")?c.range||(c.range=e.trim()):e.split(";").forEach(a=>{if(a){let[b,...d]=a.split(":"),e=d.join(":").trim().replace(/^'+|'+$/g,""),f=b.trim();c[f]||(c[f]=e),"false"===e&&(c[f]=!1),"true"===e&&(c[f]=!0),isNaN(e)||(c[f]=parseInt(e,10))}})}return{formatName:b,formatOptions:c}})(b);if(this.formats[e]){let b=a;try{let g=d?.formatParams?.[d.interpolationkey]||{},h=g.locale||g.lng||d.locale||d.lng||c;b=this.formats[e](a,h,{...f,...d,...g})}catch(a){this.logger.warn(a)}return b}return this.logger.warn(`there was no format function for ${e}`),a},a)}}class rl extends q4{constructor(a,b,c,d={}){super(),this.backend=a,this.store=b,this.services=c,this.languageUtils=c.languageUtils,this.options=d,this.logger=q3.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=d.maxParallelReads||10,this.readingCalls=0,this.maxRetries=d.maxRetries>=0?d.maxRetries:5,this.retryTimeout=d.retryTimeout>=1?d.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(c,d.backend,d)}queueLoad(a,b,c,d){let e={},f={},g={},h={};return a.forEach(a=>{let d=!0;b.forEach(b=>{let g=`${a}|${b}`;!c.reload&&this.store.hasResourceBundle(a,b)?this.state[g]=2:this.state[g]<0||(1===this.state[g]?void 0===f[g]&&(f[g]=!0):(this.state[g]=1,d=!1,void 0===f[g]&&(f[g]=!0),void 0===e[g]&&(e[g]=!0),void 0===h[b]&&(h[b]=!0)))}),d||(g[a]=!0)}),(Object.keys(e).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:d}),{toLoad:Object.keys(e),pending:Object.keys(f),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(h)}}loaded(a,b,c){let d=a.split("|"),e=d[0],f=d[1];b&&this.emit("failedLoading",e,f,b),!b&&c&&this.store.addResourceBundle(e,f,c,void 0,void 0,{skipCopy:!0}),this.state[a]=b?-1:2,b&&c&&(this.state[a]=0);let g={};this.queue.forEach(c=>{((a,b,c,d)=>{let{obj:e,k:f}=qT(a,b,Object);e[f]=e[f]||[],e[f].push(c)})(c.loaded,[e],f),void 0!==c.pending[a]&&(delete c.pending[a],c.pendingCount--),b&&c.errors.push(b),0!==c.pendingCount||c.done||(Object.keys(c.loaded).forEach(a=>{g[a]||(g[a]={});let b=c.loaded[a];b.length&&b.forEach(b=>{void 0===g[a][b]&&(g[a][b]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(a=>!a.done)}read(a,b,c,d=0,e=this.retryTimeout,f){if(!a.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:a,ns:b,fcName:c,tried:d,wait:e,callback:f});this.readingCalls++;let g=(g,h)=>{if(this.readingCalls--,this.waitingReads.length>0){let a=this.waitingReads.shift();this.read(a.lng,a.ns,a.fcName,a.tried,a.wait,a.callback)}g&&h&&d<this.maxRetries?setTimeout(()=>{this.read.call(this,a,b,c,d+1,2*e,f)},e):f(g,h)},h=this.backend[c].bind(this.backend);if(2===h.length){try{let c=h(a,b);c&&"function"==typeof c.then?c.then(a=>g(null,a)).catch(g):g(null,c)}catch(a){g(a)}return}return h(a,b,g)}prepareLoading(a,b,c={},d){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),d&&d();qN(a)&&(a=this.languageUtils.toResolveHierarchy(a)),qN(b)&&(b=[b]);let e=this.queueLoad(a,b,c,d);if(!e.toLoad.length)return e.pending.length||d(),null;e.toLoad.forEach(a=>{this.loadOne(a)})}load(a,b,c){this.prepareLoading(a,b,{},c)}reload(a,b,c){this.prepareLoading(a,b,{reload:!0},c)}loadOne(a,b=""){let c=a.split("|"),d=c[0],e=c[1];this.read(d,e,"read",void 0,void 0,(c,f)=>{c&&this.logger.warn(`${b}loading namespace ${e} for language ${d} failed`,c),!c&&f&&this.logger.log(`${b}loaded namespace ${e} for language ${d}`,f),this.loaded(a,c,f)})}saveMissing(a,b,c,d,e,f={},g=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(b))return void this.logger.warn(`did not save key "${c}" as the namespace "${b}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");if(null!=c&&""!==c){if(this.backend?.create){let h={...f,isUpdate:e},i=this.backend.create.bind(this.backend);if(i.length<6)try{let e;(e=5===i.length?i(a,b,c,d,h):i(a,b,c,d))&&"function"==typeof e.then?e.then(a=>g(null,a)).catch(g):g(null,e)}catch(a){g(a)}else i(a,b,c,d,g,h)}a&&a[0]&&this.store.addResource(a[0],b,c,d)}}}let rm=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let b={};if("object"==typeof a[1]&&(b=a[1]),qN(a[1])&&(b.defaultValue=a[1]),qN(a[2])&&(b.tDescription=a[2]),"object"==typeof a[2]||"object"==typeof a[3]){let c=a[3]||a[2];Object.keys(c).forEach(a=>{b[a]=c[a]})}return b},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),rn=a=>(qN(a.ns)&&(a.ns=[a.ns]),qN(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),qN(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),a.supportedLngs?.indexOf?.("cimode")<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),"boolean"==typeof a.initImmediate&&(a.initAsync=a.initImmediate),a),ro=()=>{};class rp extends q4{constructor(a={},b){if(super(),this.options=rn(a),this.services={},this.logger=q3,this.modules={external:[]},(a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(b=>{"function"==typeof a[b]&&(a[b]=a[b].bind(a))})})(this),b&&!this.isInitialized&&!a.isClone){if(!this.options.initAsync)return this.init(a,b),this;setTimeout(()=>{this.init(a,b)},0)}}init(a={},b){this.isInitializing=!0,"function"==typeof a&&(b=a,a={}),null==a.defaultNS&&a.ns&&(qN(a.ns)?a.defaultNS=a.ns:0>a.ns.indexOf("translation")&&(a.defaultNS=a.ns[0]));let c=rm();this.options={...c,...this.options,...rn(a)},this.options.interpolation={...c.interpolation,...this.options.interpolation},void 0!==a.keySeparator&&(this.options.userDefinedKeySeparator=a.keySeparator),void 0!==a.nsSeparator&&(this.options.userDefinedNsSeparator=a.nsSeparator),"function"!=typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=c.overloadTranslationOptionHandler);let d=a=>a?"function"==typeof a?new a:a:null;if(!this.options.isClone){let a;this.modules.logger?q3.init(d(this.modules.logger),this.options):q3.init(null,this.options),a=this.modules.formatter?this.modules.formatter:rk;let b=new rc(this.options);this.store=new q5(this.options.resources,this.options);let e=this.services;e.logger=q3,e.resourceStore=this.store,e.languageUtils=b,e.pluralResolver=new rf(b,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==c.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),a&&(!this.options.interpolation.format||this.options.interpolation.format===c.interpolation.format)&&(e.formatter=d(a),e.formatter.init&&e.formatter.init(e,this.options),this.options.interpolation.format=e.formatter.format.bind(e.formatter)),e.interpolator=new rh(this.options),e.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},e.backendConnector=new rl(d(this.modules.backend),e.resourceStore,e,this.options),e.backendConnector.on("*",(a,...b)=>{this.emit(a,...b)}),this.modules.languageDetector&&(e.languageDetector=d(this.modules.languageDetector),e.languageDetector.init&&e.languageDetector.init(e,this.options.detection,this.options)),this.modules.i18nFormat&&(e.i18nFormat=d(this.modules.i18nFormat),e.i18nFormat.init&&e.i18nFormat.init(this)),this.translator=new rb(this.services,this.options),this.translator.on("*",(a,...b)=>{this.emit(a,...b)}),this.modules.external.forEach(a=>{a.init&&a.init(this)})}if(this.format=this.options.interpolation.format,b||(b=ro),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(a=>{this[a]=(...b)=>this.store[a](...b)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(a=>{this[a]=(...b)=>(this.store[a](...b),this)});let e=qO(),f=()=>{let a=(a,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),e.resolve(c),b(a,c)};if(this.languages&&!this.isInitialized)return a(null,this.t.bind(this));this.changeLanguage(this.options.lng,a)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),e}loadResources(a,b=ro){let c=b,d=qN(a)?a:this.language;if("function"==typeof a&&(c=a),!this.options.resources||this.options.partialBundledLanguages){if(d?.toLowerCase()==="cimode"&&(!this.options.preload||0===this.options.preload.length))return c();let a=[],b=b=>{b&&"cimode"!==b&&this.services.languageUtils.toResolveHierarchy(b).forEach(b=>{"cimode"!==b&&0>a.indexOf(b)&&a.push(b)})};d?b(d):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>b(a)),this.options.preload?.forEach?.(a=>b(a)),this.services.backendConnector.load(a,this.options.ns,a=>{a||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),c(a)})}else c(null)}reloadResources(a,b,c){let d=qO();return"function"==typeof a&&(c=a,a=void 0),"function"==typeof b&&(c=b,b=void 0),a||(a=this.languages),b||(b=this.options.ns),c||(c=ro),this.services.backendConnector.reload(a,b,a=>{d.resolve(),c(a)}),d}use(a){if(!a)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===a.type&&(this.modules.backend=a),("logger"===a.type||a.log&&a.warn&&a.error)&&(this.modules.logger=a),"languageDetector"===a.type&&(this.modules.languageDetector=a),"i18nFormat"===a.type&&(this.modules.i18nFormat=a),"postProcessor"===a.type&&q6.addPostProcessor(a),"formatter"===a.type&&(this.modules.formatter=a),"3rdParty"===a.type&&this.modules.external.push(a),this}setResolvedLanguage(a){if(a&&this.languages&&!(["cimode","dev"].indexOf(a)>-1)){for(let a=0;a<this.languages.length;a++){let b=this.languages[a];if(!(["cimode","dev"].indexOf(b)>-1)&&this.store.hasLanguageSomeTranslations(b)){this.resolvedLanguage=b;break}}!this.resolvedLanguage&&0>this.languages.indexOf(a)&&this.store.hasLanguageSomeTranslations(a)&&(this.resolvedLanguage=a,this.languages.unshift(a))}}changeLanguage(a,b){this.isLanguageChangingTo=a;let c=qO();this.emit("languageChanging",a);let d=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},e=(e,f)=>{f?this.isLanguageChangingTo===a&&(d(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,c.resolve((...a)=>this.t(...a)),b&&b(e,(...a)=>this.t(...a))},f=b=>{a||b||!this.services.languageDetector||(b=[]);let c=qN(b)?b:b&&b[0],f=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(qN(b)?[b]:b);f&&(this.language||d(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,a=>{e(a,f)})};return a||!this.services.languageDetector||this.services.languageDetector.async?!a&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(a):f(this.services.languageDetector.detect()),c}getFixedT(a,b,c){let d=(a,b,...e)=>{let f,g;(f="object"!=typeof b?this.options.overloadTranslationOptionHandler([a,b].concat(e)):{...b}).lng=f.lng||d.lng,f.lngs=f.lngs||d.lngs,f.ns=f.ns||d.ns,""!==f.keyPrefix&&(f.keyPrefix=f.keyPrefix||c||d.keyPrefix);let h=this.options.keySeparator||".";return f.keyPrefix&&Array.isArray(a)?g=a.map(a=>("function"==typeof a&&(a=q8(a,{...this.options,...b})),`${f.keyPrefix}${h}${a}`)):("function"==typeof a&&(a=q8(a,{...this.options,...b})),g=f.keyPrefix?`${f.keyPrefix}${h}${a}`:a),this.t(g,f)};return qN(a)?d.lng=a:d.lngs=a,d.ns=b,d.keyPrefix=c,d}t(...a){return this.translator?.translate(...a)}exists(...a){return this.translator?.exists(...a)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a,b={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let c=b.lng||this.resolvedLanguage||this.languages[0],d=!!this.options&&this.options.fallbackLng,e=this.languages[this.languages.length-1];if("cimode"===c.toLowerCase())return!0;let f=(a,b)=>{let c=this.services.backendConnector.state[`${a}|${b}`];return -1===c||0===c||2===c};if(b.precheck){let a=b.precheck(this,f);if(void 0!==a)return a}return!!(this.hasResourceBundle(c,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(c,a)&&(!d||f(e,a)))}loadNamespaces(a,b){let c=qO();return this.options.ns?(qN(a)&&(a=[a]),a.forEach(a=>{0>this.options.ns.indexOf(a)&&this.options.ns.push(a)}),this.loadResources(a=>{c.resolve(),b&&b(a)}),c):(b&&b(),Promise.resolve())}loadLanguages(a,b){let c=qO();qN(a)&&(a=[a]);let d=this.options.preload||[],e=a.filter(a=>0>d.indexOf(a)&&this.services.languageUtils.isSupportedCode(a));return e.length?(this.options.preload=d.concat(e),this.loadResources(a=>{c.resolve(),b&&b(a)}),c):(b&&b(),Promise.resolve())}dir(a){if(a||(a=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!a)return"rtl";try{let b=new Intl.Locale(a);if(b&&b.getTextInfo){let a=b.getTextInfo();if(a&&a.direction)return a.direction}}catch(a){}let b=this.services?.languageUtils||new rc(rm());return a.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(b.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(a={},b){let c=new rp(a,b);return c.createInstance=rp.createInstance,c}cloneInstance(a={},b=ro){let c=a.forkResourceStore;c&&delete a.forkResourceStore;let d={...this.options,...a,isClone:!0},e=new rp(d);if((void 0!==a.debug||void 0!==a.prefix)&&(e.logger=e.logger.clone(a)),["store","services","language"].forEach(a=>{e[a]=this[a]}),e.services={...this.services},e.services.utils={hasLoadedNamespace:e.hasLoadedNamespace.bind(e)},c&&(e.store=new q5(Object.keys(this.store.data).reduce((a,b)=>(a[b]={...this.store.data[b]},a[b]=Object.keys(a[b]).reduce((c,d)=>(c[d]={...a[b][d]},c),a[b]),a),{}),d),e.services.resourceStore=e.store),a.interpolation){let b={...rm().interpolation,...this.options.interpolation,...a.interpolation},c={...d,interpolation:b};e.services.interpolator=new rh(c)}return e.translator=new rb(e.services,d),e.translator.on("*",(a,...b)=>{e.emit(a,...b)}),e.init(d,b),e.translator.options=d,e.translator.backendConnector.services.utils={hasLoadedNamespace:e.hasLoadedNamespace.bind(e)},e}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let rq=rp.createInstance();rq.createInstance,rq.dir,rq.init,rq.loadResources,rq.reloadResources,rq.use,rq.changeLanguage,rq.getFixedT,rq.t,rq.exists,rq.setDefaultNamespace,rq.hasLoadedNamespace,rq.loadNamespaces,rq.loadLanguages;var rr=a.i(50804);let rs=rq.createInstance();function rt({isShown:a,onClose:b,children:c,uiConfig:d,sheetClassName:f,showCloseButton:g=!0}){let{borderRadiusType:h="large"}=d;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:qq("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":"large"===h,"w3a--rounded-2xl":"medium"===h,"w3a--rounded-none":"small"===h}),onClick:b,"aria-hidden":"true",role:"button"}),(0,e.jsxs)("div",{className:qq(`w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col 
      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 
      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main
      ${a?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"}`,{"w3a--rounded-[30px]":"large"===h,"w3a--rounded-2xl":"medium"===h,"w3a--rounded-none":"small"===h},f),children:[g&&(0,e.jsx)("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:(0,e.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:b,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),c]})]})}rs.use({type:"3rdParty",init(a){((a={})=>{qH={...qH,...a}})(a.options.react),d=a}}).init({resources:{en:{translation:rr.default}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});let ru=(0,f.createContext)({analytics:void 0});function rv(a){let{isDark:b,isLoading:c,selectedChain:d,setSelectedChain:g,chainNamespace:h}=a,[i]=qK(void 0,{i18n:rs}),j=(0,f.useMemo)(()=>{let a=[{id:"all",name:"modal.allChains",icon:""}];for(let b of h)(b===aJ.CHAIN_NAMESPACES.EIP155||b===aJ.CHAIN_NAMESPACES.SOLANA)&&a.push({id:b,name:b===aJ.CHAIN_NAMESPACES.EIP155?"EVM":b,icon:b===aJ.CHAIN_NAMESPACES.EIP155?"ethereum":b});return a},[h]);return c?(0,e.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:j.length}).map((a,b)=>(0,e.jsx)("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${b}`))}):(0,e.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:j.map(a=>(0,e.jsxs)("button",{type:"button",className:qq("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":d===a.id}),onClick:()=>g(a.id),children:[a.icon&&(0,e.jsx)("img",{src:qr(b?`${a.icon}-dark`:`${a.icon}-light`),alt:a.name,className:"w3a--size-5 w3a--object-contain"}),(0,e.jsx)("span",{className:"first-letter:w3a--capitalize",children:i(a.name)})]},a.id))})}function rw(a){let{disableBackButton:b,onBackClick:c,currentPage:d,selectedButton:f}=a,[g]=qK(void 0,{i18n:rs});return(0,e.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[b?(0,e.jsx)("div",{}):(0,e.jsx)("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>{c&&c()},children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,e.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),(0,e.jsx)("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:d===qb?null==f?void 0:f.displayName:d===qa?g("modal.connectYourWallet"):d}),(0,e.jsx)("div",{className:"w3a--z-[-1] w3a--size-5"})]})}let rx="social",ry="wallet";function rz(a){let{id:b="",isButton:c=!1,imageData:d="",height:g="auto",width:h="auto",extension:i="svg",darkImageId:j="",darkHoverImageId:k="",imageId:l,hoverImageId:m,fallbackImageId:n}=a,{isDark:o}=(0,f.useContext)(qM),p=(0,f.useMemo)(()=>o&&j?j:l,[o,j,l]),q=(0,f.useMemo)(()=>o&&k?k:m,[o,k,m]);return c?d?(0,e.jsx)("img",{id:b,src:d,height:g,width:h,alt:m,className:qq("w3a--object-contain",`w3a--h-${g} w3a--w-${h}`)}):(0,e.jsx)("img",{id:b,src:`https://images.web3auth.io/${q}.${i}`,height:g,width:h,alt:m,className:qq("w3a--rounded w3a--object-contain",`w3a--h-${g} w3a--w-${h}`)}):d?(0,e.jsx)("img",{id:b,src:d,height:g,width:h,alt:l,className:qq("w3a--object-contain",`w3a--h-${g} w3a--w-${h}`),onError:({currentTarget:a})=>{n&&(a.onerror=null,a.src=`https://images.web3auth.io/${n}.svg`)}}):(0,e.jsx)("img",{id:b,src:`https://images.web3auth.io/${p}.${i}`,height:g,width:h,alt:l,className:qq("w3a--rounded w3a--object-contain",`w3a--h-${g} w3a--w-${h}`),onError:({currentTarget:a})=>{n&&(a.onerror=null,a.src=`https://images.web3auth.io/${n}.svg`)}})}function rA(a){let b,c,{text:d,showIcon:f,showText:g,method:h,isDark:i,isPrimaryBtn:j,onClick:k,children:l,btnStyle:m,buttonRadius:n="pill"}=a;return(0,e.jsxs)("button",{type:"button",onClick:a=>k&&k(a),className:qq("w3a--btn",m,{"w3a--rounded-full":"pill"===n,"w3a--rounded-lg":"rounded"===n,"w3a--rounded-none":"square"===n}),children:[f&&(b=h===aL.AUTH_CONNECTION.TWITTER?`login-X${i?"-light":"-dark"}`:`login-${h}${i?"-light":"-dark"}`,c=h===aL.AUTH_CONNECTION.APPLE||h===aL.AUTH_CONNECTION.GITHUB||h===aL.AUTH_CONNECTION.TWITTER?b:`login-${h}-active`,j?(0,e.jsx)(rz,{width:"20",imageId:c,hoverImageId:c,isButton:!0}):(0,e.jsx)(rz,{width:"20",imageId:b,hoverImageId:c})),g&&(0,e.jsx)("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:d}),l]})}var rB=a.i(28525);function rC(a){let[b]=qK(void 0,{i18n:rs}),{deviceDetails:c,button:d,walletConnectUri:g,onClick:h,label:i,buttonRadius:j}=a,k=(0,f.useContext)(qM),l=(0,f.useMemo)(()=>"desktop"!==c.platform&&d.href&&d.hasWalletConnect&&!d.isInstalled,[c,d]),m=(0,f.useMemo)(()=>{var a;let b;return d.href?(b=encodeURIComponent((a={uri:g,link:d.href}).uri),a.link.startsWith("http")?`${a.link}/wc?uri=${b}`:a.link?`${a.link}wc?uri=${b}`:""):g},[d,g]);return(0,e.jsxs)("button",{type:"button",className:(0,rB.default)(`w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 
        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150`,{"w3a--rounded-full":"pill"===j,"w3a--rounded-lg":"rounded"===j,"w3a--rounded-none":"square"===j}),onClick:()=>{m&&l?window.open(m,"_blank"):h&&h()},children:[(0,e.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[(0,e.jsx)("figure",{className:"w3a--size-5",children:(0,e.jsx)(rz,{imageData:d.icon,imageId:`login-${d.name}`,hoverImageId:`login-${d.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:d.imgExtension||"webp"})}),(0,e.jsx)("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:i})]}),d.hasInjectedWallet&&(0,e.jsx)("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:b("modal.external.installed")}),(0,e.jsx)("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:qr(k?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})}function rD(a){let{type:b,props:c}=a,{text:d,showIcon:f,showText:g,method:h,isDark:i,isPrimaryBtn:j,onClick:k,children:l,btnStyle:m,buttonRadius:n}=c,{label:o,onClick:p,button:q,deviceDetails:r,walletConnectUri:s,buttonRadius:t}=c;return(0,e.jsxs)(e.Fragment,{children:[b===rx&&(0,e.jsx)(rA,{text:d,showIcon:f,showText:g,method:h,isDark:i,isPrimaryBtn:j,onClick:k,btnStyle:m,buttonRadius:n,children:l}),b===ry&&(0,e.jsx)(rC,{label:o,walletConnectUri:s,onClick:p,button:q,deviceDetails:r,buttonRadius:t})]})}function rE(){let[a]=qK(void 0,{i18n:rs});return(0,e.jsx)("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:a("modal.external.no-wallets-found")})}function rF(a){let{externalButtons:b,isLoading:c,handleWalletClick:d,deviceDetails:f,walletConnectUri:g,buttonRadius:h}=a;return c?(0,e.jsx)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((a,b)=>(0,e.jsx)("div",{className:qq("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":"pill"===h,"w3a--rounded-lg":"rounded"===h,"w3a--rounded-none":"square"===h})},`loader-${b}`))}):(0,e.jsx)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:b.map(a=>(0,e.jsx)(rD,{type:ry,props:{label:a.displayName,onClick:()=>d(a),button:a,deviceDetails:f,walletConnectUri:g,buttonRadius:h}},a.name))})}function rG(a){let{totalExternalWalletsCount:b,initialWalletCount:c,handleMoreWallets:d,isLoading:f,isDark:g,buttonRadius:h}=a,[i]=qK(void 0,{i18n:rs});return f&&c<b?(0,e.jsx)("div",{className:qq("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":"pill"===h,"w3a--rounded-lg":"rounded"===h,"w3a--rounded-none":"square"===h})}):(0,e.jsxs)("button",{type:"button",className:qq("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":"pill"===h,"w3a--rounded-lg":"rounded"===h,"w3a--rounded-none":"square"===h}),onClick:()=>{d&&d()},children:[(0,e.jsx)("img",{src:qr(g?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),(0,e.jsx)("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:i("modal.connect-wallet.more-wallets")}),(0,e.jsx)("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:b-c})]})}function rH(a){let{externalButtons:b,isLoading:c,totalExternalWalletsCount:d,initialWalletCount:f,handleWalletClick:g,handleMoreWallets:h,isDark:i,deviceDetails:j,walletConnectUri:k,buttonRadius:l,isShowAllWallets:m}=a,n=!m;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("ul",{className:qq("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!n}),children:0===b.length?(0,e.jsx)(rE,{}):(0,e.jsx)(rF,{externalButtons:b,isLoading:c,handleWalletClick:g,deviceDetails:j,walletConnectUri:k,buttonRadius:l})}),n&&!c&&f<d&&(0,e.jsx)(rG,{totalExternalWalletsCount:d,initialWalletCount:f,handleMoreWallets:()=>{h()},isLoading:c,isDark:i,buttonRadius:l})]})}var rI=a.i(52322);function rJ(a){var b;let[c]=qK(void 0,{i18n:rs}),{bodyState:d,setBodyState:g,setToast:h}=(0,f.useContext)(qL),{qrCodeValue:i,isDark:j,selectedButton:k,logoImage:l,primaryColor:m}=a,n=(0,f.useMemo)(()=>!1,[]),o=document.documentElement,p="#FFFFFF",q=(null==(b=getComputedStyle(o))||null==(b=b.getPropertyValue("--app-gray-800"))?void 0:b.trim())||"#1f2a37",r=m&&"#ffffff"===m.toLowerCase()?"#000000":m;return(0,e.jsxs)("div",{className:"w3a--contents",children:[i?(0,e.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[(0,e.jsx)("button",{type:"button",className:"w3a--relative w3a--flex w3a--size-[300px] w3a--appearance-none w3a--items-center w3a--justify-center w3a--rounded-2xl",onClick:()=>{navigator.clipboard.writeText(i),h({message:c("modal.external.qr-code-copied-to-clipboard"),type:p1.SUCCESS})},children:(0,e.jsx)(rI.QRCode,{size:n?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:l||"https://images.web3auth.io/login-wallet-connect.svg",value:i,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:j?p:r,bgColor:j?q:p,fgColor:j?p:"#000000"})}),(0,e.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:c("modal.external.walletconnect-copy")})]}):(0,e.jsx)("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:(0,e.jsx)(rz,{imageId:`login-${k.name}`,hoverImageId:`login-${k.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:k.imgExtension})}),(0,e.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[(0,e.jsxs)("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[c("modal.external.dont-have")," ",(0,e.jsx)("span",{children:null==k?void 0:k.displayName}),"?"]}),(0,e.jsx)("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{g((0,aF.default)((0,aF.default)({},d),{},{installLinks:{show:!0,wallet:k}}))},children:c("modal.external.get-wallet")})]})]})}function rK(a){let{totalExternalWalletCount:b,isLoading:c,walletSearch:d,handleWalletSearch:g,buttonRadius:h}=a,[i,j]=(0,f.useState)(!1),[k]=qK(void 0,{i18n:rs});return(0,e.jsx)("input",{type:"text",value:d,onInput:a=>{g(a),j(!0)},onFocus:a=>{a.target.placeholder="",j(!0)},onBlur:a=>{a.target.placeholder=k("modal.external.search-wallet",{count:b}),j(!1)},placeholder:c?k("modal.external.search-wallet-loading"):k("modal.external.search-wallet",{count:b}),disabled:c,className:qq("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",i&&"!w3a--border-app-primary-600",{"w3a--rounded-full":"pill"===h,"w3a--rounded-lg":"rounded"===h,"w3a--rounded-none":"square"===h})})}function rL(a){var b;let{isDark:c,config:d,walletConnectUri:g,metamaskConnectUri:h,walletRegistry:i,allRegistryButtons:j,customConnectorButtons:k,connectorVisibilityMap:l,deviceDetails:m,buttonRadius:n="pill",chainNamespace:o,isExternalWalletModeOnly:p,onBackClick:q,handleExternalWalletClick:r,handleWalletDetailsHeight:s}=a,{bodyState:t,setBodyState:u}=(0,f.useContext)(qL),{analytics:v}=(0,f.useContext)(ru),[w,x]=(0,f.useState)(qa),[y,z]=(0,f.useState)(!1),[A]=(0,f.useState)(!1),[B,C]=(0,f.useState)(null),[D,E]=(0,f.useState)(""),[F,G]=(0,f.useState)("all"),[H,I]=(0,f.useState)(!1),J=(0,f.useMemo)(()=>i&&(Object.keys(i.default||{}).length>0||Object.keys(i.others||{}).length>0),[i]),K=(0,f.useMemo)(()=>{let a=new Set;return k.concat(j).filter(b=>!a.has(b.name)&&(a.add(b.name),!0))},[j,k]),L=(0,f.useMemo)(()=>new Set(Object.keys(i.default)),[i]),M=(0,f.useMemo)(()=>{let a=[...j.filter(a=>a.hasInjectedWallet&&L.has(a.name)),...k,...j.filter(a=>!a.hasInjectedWallet&&L.has(a.name))].sort((a,b)=>a.name===aD.WALLET_CONNECTORS.METAMASK&&b.name===aD.WALLET_CONNECTORS.METAMASK?a.isInstalled?-1:b.isInstalled?1:a.hasInjectedWallet?-1:+!!b.hasInjectedWallet:a.name===aD.WALLET_CONNECTORS.METAMASK?-1:+(b.name===aD.WALLET_CONNECTORS.METAMASK)),b=new Set;return a.filter(a=>!b.has(a.name)&&(b.add(a.name),!0)).filter(a=>{var b;return"all"===F||(null==(b=a.chainNamespaces)?void 0:b.includes(F))})},[j,k,L,F]),N=(0,f.useMemo)(()=>Object.keys(d).reduce((a,b)=>(b!==aD.WALLET_CONNECTORS.WALLET_CONNECT_V2&&l[b]&&a.push({name:b,displayName:d[b].label||b,hasInjectedWallet:d[b].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),a),[]),[l,d]),O=(0,f.useMemo)(()=>J?[...K.filter(a=>a.hasInjectedWallet),...K.filter(a=>!a.hasInjectedWallet)].sort((a,b)=>a.name===aD.WALLET_CONNECTORS.METAMASK?-1:1).filter(a=>"all"===F||a.chainNamespaces.includes(F)).filter(a=>a.name.toLowerCase().includes(D.toLowerCase())):N,[J,N,D,K,F]),P=(0,f.useMemo)(()=>!J||D||H?O:M,[J,D,O,M,H]),Q=(0,f.useMemo)(()=>O.length,[O]),R=(0,f.useMemo)(()=>H?Q:J?M.length:N.length,[J,M,N,H,Q]);(0,f.useEffect)(()=>{J&&Q<=15?I(!0):I(!1)},[J,F,Q]);let S=(0,f.useMemo)(()=>y?B.name!==aD.WALLET_CONNECTORS.METAMASK||B.hasInjectedWallet?g:h:null,[h,B,y,g]),T=(0,f.useMemo)(()=>!y&&!!p,[y,p]);return(0,e.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[(0,e.jsx)(rw,{disableBackButton:T,onBackClick:()=>{!y&&w===qa&&q?q(!1):y&&(x(qa),z(!1),s())},currentPage:w,selectedButton:B}),y?(0,e.jsx)(rJ,{qrCodeValue:S,isDark:c,selectedButton:B,primaryColor:null==(b=B.walletRegistryItem)?void 0:b.primaryColor,logoImage:`https://images.web3auth.io/login-${B.name}.${B.imgExtension}`}):(0,e.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[o.length>1&&(0,e.jsx)(rv,{isDark:c,isLoading:A,selectedChain:F,setSelectedChain:a=>{G(a)},chainNamespace:o}),(0,e.jsx)(rK,{totalExternalWalletCount:Q,isLoading:A,walletSearch:D,handleWalletSearch:a=>{E(a.target.value)},buttonRadius:n}),(0,e.jsx)(rH,{externalButtons:P,isLoading:A,totalExternalWalletsCount:Q,initialWalletCount:R,handleWalletClick:a=>{if(null==v||v.track(a5.ANALYTICS_EVENTS.EXTERNAL_WALLET_SELECTED,{connector:a.isInstalled?a.name:a.hasWalletConnect?aD.WALLET_CONNECTORS.WALLET_CONNECT_V2:"",wallet_name:a.displayName,is_installed:a.isInstalled,is_injected:a.hasInjectedWallet,chain_namespaces:a.chainNamespaces,has_wallet_connect:a.hasWalletConnect,has_install_links:a.hasInstallLinks,has_wallet_registry_item:!!a.walletRegistryItem,total_external_wallets:K.length}),cs.log.info("handleWalletClick",a),a.isInstalled){var b;if(a.name===aD.WALLET_CONNECTORS.METAMASK&&!a.hasInjectedWallet&&"desktop"===m.platform){r({connector:a.name}),C(a),z(!0),x(qb),s();return}return(null==(b=a.chainNamespaces)?void 0:b.length)>1?void u((0,aF.default)((0,aF.default)({},t),{},{multiChainSelector:{show:!0,wallet:a}})):void r({connector:a.name})}a.hasWalletConnect?(C(a),z(!0),x(qb),s()):u((0,aF.default)((0,aF.default)({},t),{},{installLinks:{show:!0,wallet:a}}))},handleMoreWallets:()=>{I(!0)},isDark:c,deviceDetails:m,walletConnectUri:g,buttonRadius:n,isShowAllWallets:H})]})]})}let rM=a=>{let{isDark:b,wallet:c,handleExternalWalletClick:d}=a,[f]=qK(void 0,{i18n:rs}),g=c.chainNamespaces.sort().map(a=>({chainNamespace:a,displayName:"eip155"===a?"EVM":a,imageId:`chain-${"eip155"===a?"evm":a}`}));return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:(0,e.jsx)("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:f("modal.external.select-chain")})}),(0,e.jsx)("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:(0,e.jsx)(rz,{imageId:`login-${c.name}`,hoverImageId:`login-${c.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:c.imgExtension})}),(0,e.jsx)("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:f("modal.external.select-chain-description",{wallet:c.displayName})}),(0,e.jsx)("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:g.map(({chainNamespace:a,displayName:f,imageId:g})=>(0,e.jsx)("li",{children:(0,e.jsxs)("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>d({connector:c.name,chainNamespace:a}),children:[(0,e.jsxs)("div",{className:"w3a--flex w3a--items-center",children:[(0,e.jsx)(rz,{imageId:g,hoverImageId:g,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),(0,e.jsx)("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm w3a--text-app-gray-900 first-letter:w3a--capitalize dark:w3a--text-app-gray-200",children:f})]}),(0,e.jsx)("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:qr(b?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},a))})]})};function rN({privacyPolicy:a,termsOfService:b}){let[c]=qK(void 0,{i18n:rs});return(0,e.jsxs)("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(a||b)&&(0,e.jsxs)("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[c("modal.footer.by-signing-in")," ",b&&(0,e.jsxs)("a",{href:b,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[c("modal.footer.terms-of-service")," "]}),a&&(0,e.jsxs)(e.Fragment,{children:[c("modal.footer.and")," ",(0,e.jsx)("a",{href:a,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:c("modal.footer.privacy-policy")})]})]}),(0,e.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[(0,e.jsx)("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),(0,e.jsx)("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})}function rO(a,b=160){return null!=a?a:b}let rP=a=>{let{width:b,height:c,thickness:d=12,className:f="",children:g,showChildren:h=!0,trackColor:i="rgba(226, 232, 240, 1)",gradient:j,arcSizeDeg:k=36,arcColors:l}=a,m=rO(b,160),n=rO(c,160),o=`radial-gradient(farthest-side, transparent calc(100% - ${d}px), #000 calc(100% - ${d}px))`;function p(a,b){if(!a)return a;let c=a.trim().toLowerCase();if(c.startsWith("#")){let a,d,e,f,g;return e=parseInt((d=3===(a=c.replace("#","")).length?a.split("").map(a=>a+a).join(""):a).substring(0,2),16),f=parseInt(d.substring(2,4),16),g=parseInt(d.substring(4,6),16),`rgba(${e}, ${f}, ${g}, ${b})`}if(c.startsWith("rgba("))return a;if(c.startsWith("rgb(")){let a=c.slice(4,-1);return`rgba(${a}, ${b})`}return a}let q=j||(l?`radial-gradient(210.91% 85.29% at 14.56% 18.67%, ${p(l[0],0)} 9.5%, ${l[1]} 41.82%, ${l[1]} 64.83%, ${p(l[0],.44)} 100%)`:"radial-gradient(210.91% 85.29% at 14.56% 18.67%, rgba(255, 98, 58, 0.00) 9.5%, #FF623A 41.82%, #FF623A 64.83%, rgba(255, 98, 58, 0.44) 100%)"),r=`conic-gradient(#000 0deg ${k}deg, transparent ${k}deg 360deg)`;return(0,e.jsxs)("div",{className:qq("w3a--relative w3a--inline-flex w3a--items-center w3a--justify-center",f),style:{width:m,height:n},children:[(0,e.jsx)("div",{className:"w3a--absolute w3a--inset-0 w3a--rounded-full",style:{background:i,WebkitMaskImage:o,maskImage:o,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}}),(0,e.jsx)("div",{className:"w3a--absolute w3a--inset-0 w3a--animate-spin",style:{WebkitMaskImage:r,maskImage:r,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"},children:(0,e.jsx)("div",{className:"w3a--absolute w3a--inset-0 w3a--rounded-full",style:{background:q,WebkitMaskImage:o,maskImage:o,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}})}),h&&g?(0,e.jsx)("div",{className:"w3a--relative",children:g}):null]})},rQ=()=>(0,e.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[(0,e.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),(0,e.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),(0,e.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});function rR(a){let[b]=qK(void 0,{i18n:rs}),{connector:c,appLogo:d,connectorName:g}=a,h=(0,f.useMemo)(()=>"twitter"===c?(0,e.jsx)(rz,{imageId:"login-x-dark"}):(0,e.jsx)(rz,{imageId:`login-${c}`,height:"40",width:"40"}),[c]);return(0,e.jsxs)("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[(0,e.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[(0,e.jsx)("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:(0,e.jsx)("img",{src:d,alt:"",className:"w3a--size-full w3a--object-contain"})}),(0,e.jsx)(rQ,{}),h]}),(0,e.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[(0,e.jsx)("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:b("modal.adapter-loader.message1",{adapter:g})}),(0,e.jsx)("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:b("modal.adapter-loader.message2",{adapter:g})})]})]})}function rS(a){let{message:b}=a;return(0,e.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:(0,e.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:b})]})}function rT(a){let{message:b}=a;return(0,e.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:(0,e.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:b})]})}function rU(a){var b,c;let[d]=qK(void 0,{i18n:rs}),{connector:f,externalWalletsConfig:g,walletRegistry:h,handleMobileVerifyConnect:i}=a,j=(null==h||null==(b=h.default)?void 0:b[f])||(null==h||null==(c=h.others)?void 0:c[f]),k=(null==j?void 0:j.primaryColor)||"";return(0,e.jsxs)("div",{className:"w3a--flex w3a--size-full w3a--flex-col w3a--items-center w3a--justify-between w3a--gap-y-6",children:[(0,e.jsx)("p",{className:"w3a--p-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:d("modal.loader.authorizing-header",{connector:g[f].label})}),(0,e.jsx)("div",{className:"w3a--flex w3a--justify-center",children:(0,e.jsx)(rP,{width:95,height:95,thickness:6,arcSizeDeg:100,arcColors:k?[k,k]:void 0,children:(0,e.jsx)(rz,{imageId:`login-${f}`,hoverImageId:`login-${f}`,height:"45",width:"45"})})}),(0,e.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:d("modal.loader.authorizing-message")}),(0,e.jsx)("button",{onClick:()=>{i({connector:f})},className:"w3a--w-full w3a--rounded-xl w3a--bg-app-gray-100 w3a--p-2 w3a--py-3 w3a--text-center w3a--text-sm w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white md:w3a--hidden",children:d("modal.loader.authorizing-verify-btn")})]})}function rV(a){let{connector:b,connectorName:c,modalStatus:d,onClose:g,appLogo:h,message:i,isConnectAndSignAuthenticationMode:j,externalWalletsConfig:k,walletRegistry:l,handleMobileVerifyConnect:m}=a,n=(0,f.useMemo)(()=>!j&&d===pY||j&&d===p0,[d,j]);return(0,f.useEffect)(()=>{if(n){let a=setTimeout(()=>{g()},1e3);return()=>clearTimeout(a)}},[n,g]),(0,e.jsxs)("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[d===pZ&&(0,e.jsx)(rR,{connector:b,connectorName:c,appLogo:h}),n&&(0,e.jsx)(rS,{message:i}),d===p$&&(0,e.jsx)(rT,{message:i}),d===p_&&(0,e.jsx)(rU,{connector:b,externalWalletsConfig:k,walletRegistry:l,handleMobileVerifyConnect:m})]})}var rW=a.i(46244),rX=a.i(13070),rY=Object.defineProperty,rZ=Object.defineProperties,r$=Object.getOwnPropertyDescriptors,r_=Object.getOwnPropertySymbols,r0=Object.prototype.hasOwnProperty,r1=Object.prototype.propertyIsEnumerable,r2=(a,b,c)=>b in a?rY(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,r3=(a,b)=>{for(var c in b||(b={}))r0.call(b,c)&&r2(a,c,b[c]);if(r_)for(var c of r_(b))r1.call(b,c)&&r2(a,c,b[c]);return a},r4=(a,b,c)=>(r2(a,"symbol"!=typeof b?b+"":b,c),c),r5=(a,b,c)=>new Promise((d,e)=>{var f=a=>{try{h(c.next(a))}catch(a){e(a)}},g=a=>{try{h(c.throw(a))}catch(a){e(a)}},h=a=>a.done?d(a.value):Promise.resolve(a.value).then(f,g);h((c=c.apply(a,b)).next())}),r6="hCaptchaOnLoad",r7="script-error",r8="@hCaptcha/loader";function r9(a){let b=a&&a.ownerDocument||document,c=b.defaultView||b.parentWindow||window;return{document:b,window:c}}function sa(a){return a||document.head}var sb=class a{constructor(a){r4(this,"_parent"),r4(this,"breadcrumbs",[]),r4(this,"context",{}),r4(this,"extra",{}),r4(this,"tags",{}),r4(this,"request"),r4(this,"user"),this._parent=a}get parent(){return this._parent}child(){return new a(this)}setRequest(a){return this.request=a,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(a){return typeof a.timestamp>"u"&&(a.timestamp=new Date().toISOString()),this.breadcrumbs.push(a),this}setExtra(a,b){return this.extra[a]=b,this}removeExtra(a){return delete this.extra[a],this}setContext(a,b){return typeof b.type>"u"&&(b.type=a),this.context[a]=b,this}removeContext(a){return delete this.context[a],this}setTags(a){return this.tags=r3(r3({},this.tags),a),this}setTag(a,b){return this.tags[a]=b,this}removeTag(a){return delete this.tags[a],this}setUser(a){return this.user=a,this}removeUser(){return this.user=void 0,this}toBody(){let a=[],b=this;for(;b;)a.push(b),b=b.parent;return a.reverse().reduce((a,b)=>{var c;return a.breadcrumbs=[...null!=(c=a.breadcrumbs)?c:[],...b.breadcrumbs],a.extra=r3(r3({},a.extra),b.extra),a.contexts=r3(r3({},a.contexts),b.context),a.tags=r3(r3({},a.tags),b.tags),b.user&&(a.user=b.user),b.request&&(a.request=b.request),a},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},sc=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,sd="An unknown error occurred";function se(a){return(a+256).toString(16).substring(1)}var sf,sg,sh,si,sj=[[/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,"chrome"],[/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,"winjs"],[/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,"gecko"]],sk=(si=class{constructor(a){var b,c,d,e,f;r4(this,"apiURL"),r4(this,"dsn"),r4(this,"environment"),r4(this,"release"),r4(this,"sampleRate"),r4(this,"debug"),r4(this,"_scope"),r4(this,"shouldBuffer",!1),r4(this,"bufferlimit",20),r4(this,"buffer",[]),this.environment=a.environment,this.release=a.release,this.sampleRate=null!=(b=a.sampleRate)?b:1,this.debug=null!=(c=a.debug)&&c,this._scope=null!=(d=a.scope)?d:new sb,this.apiURL=function(a){let b=sc.exec(a),c=b?b.slice(1):[];if(6!==c.length)throw Error("Invalid DSN");let d=c[5].split("/"),e=d.slice(0,-1).join("/");return c[0]+"://"+c[3]+(c[4]?":"+c[4]:"")+(e?"/"+e:"")+"/api/"+d.pop()+"/envelope/?sentry_version=7&sentry_key="+c[1]+(c[2]?"&sentry_secret="+c[2]:"")}(a.dsn),this.dsn=a.dsn,this.shouldBuffer=null!=(e=a.buffer)&&e,this.bufferlimit=null!=(f=a.bufferLimit)?f:20}static init(a){si._instance||(si._instance=new si(a))}static get instance(){if(!si._instance)throw Error("Sentry has not been initialized");return si._instance}log(...a){this.debug&&console.log(...a)}get scope(){return this._scope}static get scope(){return si.instance.scope}withScope(a){a(this._scope.child())}static withScope(a){si.instance.withScope(a)}captureException(a,b){this.captureEvent({type:"exception",level:"error",error:function(a){if(a instanceof Error)return a;if("string"==typeof a)return Error(a);if("object"==typeof a&&null!==a&&!Array.isArray(a)){let{message:b}=a,c=((a,b)=>{var c={};for(var d in a)r0.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&r_)for(var d of r_(a))0>b.indexOf(d)&&r1.call(a,d)&&(c[d]=a[d]);return c})(a,["message"]);return Object.assign(Error("string"==typeof b?b:sd),c)}return Object.assign(Error(sd),{cause:a})}(a),scope:null!=b?b:this._scope})}static captureException(a,b){si.instance.captureException(a,b)}captureMessage(a,b="info",c){this.captureEvent({type:"message",level:b,message:a,scope:null!=c?c:this._scope})}static captureMessage(a,b="info",c){si.instance.captureMessage(a,b,c)}captureEvent(a){if(Math.random()>=this.sampleRate)return void this.log("Dropped event due to sample rate");if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(a)}else this.sendEvent(a)}sendEvent(a,b=5e3){return r5(this,null,function*(){try{this.log("Sending sentry event",a);let c=function(a,b,c){var d,e,f;let g,h=r3({event_id:((g=function(a){for(let b=0;b<a.length;b++)a[b]=Math.floor(256*Math.random());return a}(Array(16)))[6]=15&g[6]|64,g[8]=63&g[8]|128,se(g[0])+se(g[1])+se(g[2])+se(g[3])+"-"+se(g[4])+se(g[5])+"-"+se(g[6])+se(g[7])+"-"+se(g[8])+se(g[9])+"-"+se(g[10])+se(g[11])+se(g[12])+se(g[13])+se(g[14])+se(g[15])).replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:"0.0.4"},environment:b,release:c,timestamp:Date.now()/1e3},a.scope.toBody());if("exception"===a.type){let b;h.message=null!=(e=null==(d=a.error)?void 0:d.message)?e:"Unknown error",h.fingerprint=[h.message];let c=[],g=a.error;for(let a=0;a<5&&g&&(c.push((b=function(a){var b,c,d,e;if(!a.stack)return null;let f=[],g=null!=(d=null==(c=(b=a.stack).split)?void 0:c.call(b,`
`))?d:[];for(let b=0;b<g.length;++b){let c=null,d=null,h=null;for(let[a,c]of sj)if(d=a.exec(g[b])){h=c;break}if(!(!d||!h)){if("chrome"===h)c={filename:null!=(e=d[2])&&e.startsWith("address at ")?d[2].substring(11):d[2],function:d[1]||"?",lineno:d[3]?+d[3]:null,colno:d[4]?+d[4]:null};else if("winjs"===h)c={filename:d[2],function:d[1]||"?",lineno:+d[3],colno:d[4]?+d[4]:null};else{if("gecko"!==h)continue;0===b&&!d[5]&&void 0!==a.columnNumber&&f.length>0&&(f[0].column=a.columnNumber+1),c={filename:d[3],function:d[1]||"?",lineno:d[4]?+d[4]:null,colno:d[5]?+d[5]:null}}!c.function&&c.lineno&&(c.function="?"),f.push(c)}}return f.length?f.reverse():null}(f=g),{type:f.name,value:f.message,stacktrace:{frames:null!=b?b:[]}})),!(!g.cause||!(g.cause instanceof Error)));a++)g=g.cause;h.exception={values:c.reverse()}}return"message"===a.type&&(h.message=a.message,h.level=a.level),h}(a,this.environment,this.release),d={event_id:c.event_id,dsn:this.dsn},e=JSON.stringify(d)+`
`+JSON.stringify({type:"event"})+`
`+JSON.stringify(c),f=yield function(a,b,c){return r5(this,null,function*(){var d,e;try{if("u">typeof fetch&&"u">typeof AbortSignal){let d,e,f;if(c){let a=new AbortController;d=a.signal,setTimeout(()=>a.abort(),c)}let g=yield fetch(a,(e=r3({},b),f={signal:d},rZ(e,r$(f)))),h=yield g.text();return{status:g.status,body:h}}return yield new Promise((d,e)=>{var f,g;let h=new XMLHttpRequest;if(h.open(null!=(f=null==b?void 0:b.method)?f:"GET",a),h.onload=()=>d({status:h.status,body:h.responseText}),h.onerror=()=>e(Error("XHR Network Error")),null==b?void 0:b.headers)for(let[a,c]of Object.entries(b.headers))h.setRequestHeader(a,c);if(c){let a=setTimeout(()=>{h.abort(),e(Error("Request timed out"))},c);h.onloadend=()=>{clearTimeout(a)}}h.send(null==(g=null==b?void 0:b.body)?void 0:g.toString())})}catch(a){return{status:0,body:null!=(e=null==(d=null==a?void 0:a.toString)?void 0:d.call(a))?e:"Unknown error"}}})}(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:e},b);this.log("Sentry response",f.status),200!==f.status&&(console.log(f.body),console.error("Failed to send event to Sentry",f))}catch(a){console.error("Failed to send event",a)}})}flush(a=5e3){return r5(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let b=this.buffer.splice(0,this.buffer.length).map(b=>this.sendEvent(b,a));yield Promise.all(b),this.log("Flushed all events")}catch(a){console.error("Failed to flush events",a)}})}static flush(a=5e3){return si.instance.flush(a)}static reset(){si._instance=void 0}},r4(si,"_instance"),si);function sl(a=null){return{addBreadcrumb:b=>{a&&a.addBreadcrumb(b)},captureRequest:b=>{a&&a.setRequest(b)},captureException:b=>{a&&sk.captureException(b,a)}}}var sm=[];function sn(a){var b=a&&a.ownerDocument||document,c=b.defaultView||b.parentWindow||window;return{document:b,window:c}}function so(a){return a||document.head}var sp=function(a){function b(b){var c;return(c=a.call(this,b)||this)._hcaptcha=void 0,c.renderCaptcha=c.renderCaptcha.bind((0,rW.default)(c)),c.resetCaptcha=c.resetCaptcha.bind((0,rW.default)(c)),c.removeCaptcha=c.removeCaptcha.bind((0,rW.default)(c)),c.isReady=c.isReady.bind((0,rW.default)(c)),c._onReady=null,c.loadCaptcha=c.loadCaptcha.bind((0,rW.default)(c)),c.handleOnLoad=c.handleOnLoad.bind((0,rW.default)(c)),c.handleSubmit=c.handleSubmit.bind((0,rW.default)(c)),c.handleExpire=c.handleExpire.bind((0,rW.default)(c)),c.handleError=c.handleError.bind((0,rW.default)(c)),c.handleOpen=c.handleOpen.bind((0,rW.default)(c)),c.handleClose=c.handleClose.bind((0,rW.default)(c)),c.handleChallengeExpired=c.handleChallengeExpired.bind((0,rW.default)(c)),c.ref=f.createRef(),c.apiScriptRequested=!1,c.sentryHub=null,c.captchaId="",c._pendingExecute=null,c.state={isApiReady:!1,isRemoved:!1,elementId:b.id},c}(0,rX.default)(b,a);var c=b.prototype;return c.componentDidMount=function(){var a=this,b=sn(so(this.props.scriptLocation));(this._hcaptcha=b.window.hcaptcha||void 0,void 0!==this._hcaptcha)?this.setState({isApiReady:!0},function(){a.renderCaptcha()}):this.loadCaptcha()},c.componentWillUnmount=function(){var a=this._hcaptcha,b=this.captchaId;this._cancelPendingExecute("react-component-unmounted"),this.isReady()&&(a.reset(b),a.remove(b))},c.shouldComponentUpdate=function(a,b){return this.state.isApiReady===b.isApiReady&&this.state.isRemoved===b.isRemoved},c.componentDidUpdate=function(a){var b=this;["sitekey","size","theme","tabindex","languageOverride","endpoint"].every(function(c){return a[c]===b.props[c]})||this.removeCaptcha(function(){b.renderCaptcha()})},c.loadCaptcha=function(){if(!this.apiScriptRequested){var a=this.props,b=a.apihost,c=a.assethost,d=a.endpoint,e=a.host,f=a.imghost,g=a.languageOverride,h=a.reCaptchaCompat,i=a.reportapi,j=a.sentry,k=a.custom,l=a.loadAsync,m=a.scriptLocation,n=a.scriptSource,o=a.secureApi,p=a.cleanup,q=a.userJourneys;(function(){return r5(this,arguments,function*(a={}){let b=function(a=!0){var b,c,d,e,f,g,h;let i,j,k,l,m;if(!a)return sl();sk.init({dsn:"https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",release:"2.3.0",environment:"production"});let n=sk.scope;return n.setTag("source",r8),n.setTag("url",document.URL),n.setContext("os",{UA:navigator.userAgent}),n.setContext("browser",r3({},(-1!==(i=navigator.userAgent).indexOf("Firefox")?(j="Firefox",k=null==(c=i.match(/Firefox\/([\d.]+)/))?void 0:c[1]):-1!==i.indexOf("Edg")?(j="Microsoft Edge",k=null==(d=i.match(/Edg\/([\d.]+)/))?void 0:d[1]):-1!==i.indexOf("Chrome")&&-1!==i.indexOf("Safari")?(j="Chrome",k=null==(e=i.match(/Chrome\/([\d.]+)/))?void 0:e[1]):-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome")?(j="Safari",k=null==(f=i.match(/Version\/([\d.]+)/))?void 0:f[1]):-1!==i.indexOf("Opera")||-1!==i.indexOf("OPR")?(j="Opera",k=null==(g=i.match(/(Opera|OPR)\/([\d.]+)/))?void 0:g[2]):-1!==i.indexOf("MSIE")||-1!==i.indexOf("Trident")?(j="Internet Explorer",k=null==(h=i.match(/(MSIE |rv:)([\d.]+)/))?void 0:h[2]):(j="Unknown",k="Unknown"),{name:j,version:k}))),n.setContext("device",rZ(r3({},{model:m=-1!==(l=navigator.userAgent).indexOf("Win")?"Windows":-1!==l.indexOf("Mac")?"Mac":-1!==l.indexOf("Linux")?"Linux":-1!==l.indexOf("Android")?"Android":-1!==l.indexOf("like Mac")||-1!==l.indexOf("iPhone")||-1!==l.indexOf("iPad")?"iOS":"Unknown",family:m,device:/Mobile|iPhone|iPod|Android/i.test(l)?"Mobile":/Tablet|iPad/i.test(l)?"Tablet":"Desktop"}),r$({screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:(null==(b=screen.orientation)?void 0:b.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))),sl(n)}(a.sentry);return yield function a(b,c,d=0){return r5(this,null,function*(){var e,f;let g=null!=(e=b.maxRetries)?e:2,h=null!=(f=b.retryDelay)?f:1e3,i=d<g?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield function(a={cleanup:!1},b){try{b.addBreadcrumb({category:r8,message:"hCaptcha loader params",data:a});let c=sa(a.scriptLocation),d=r9(c),e=sm.find(({scope:a})=>a===d.window);if(e)return b.addBreadcrumb({category:r8,message:"hCaptcha already loaded"}),e.promise;let f=new Promise((c,f)=>r5(this,null,function*(){try{var g;d.window[r6]=()=>{b.addBreadcrumb({category:r8,message:"hCaptcha script called onload function"}),c(d.window.hcaptcha)};let f=(g={custom:a.custom,render:a.render,sentry:a.sentry,assethost:a.assethost,imghost:a.imghost,reportapi:a.reportapi,endpoint:a.endpoint,host:a.host,recaptchacompat:a.recaptchacompat,hl:a.hl,uj:a.uj},Object.entries(g).filter(([,a])=>a||!1===a).map(([a,b])=>`${encodeURIComponent(a)}=${encodeURIComponent(String(b))}`).join("&"));yield function({scriptLocation:a,query:b,loadAsync:c=!0,crossOrigin:d="anonymous",apihost:e="https://js.hcaptcha.com",cleanup:f=!1,secureApi:g=!1,scriptSource:h=""}={},i){let j=sa(a),k=r9(j);return new Promise((a,l)=>{let m=k.document.createElement("script");m.id="hCaptcha-script",h?m.src=`${h}?onload=${r6}`:g?m.src=`${e}/1/secure-api.js?onload=${r6}`:m.src=`${e}/1/api.js?onload=${r6}`,m.crossOrigin=d,m.async=c;let n=(a,b)=>{try{!g&&f&&j.removeChild(m),b(a)}catch(a){l(a)}};m.onload=b=>n(b,a),m.onerror=a=>{i&&i(m.src),n(a,l)},m.src+=""!==b?`&${b}`:"",j.appendChild(m)})}(r3({query:f},a),a=>{b.captureRequest({url:a,method:"GET"})}),b.addBreadcrumb({category:r8,message:"hCaptcha loaded",data:e})}catch(c){b.addBreadcrumb({category:r8,message:"hCaptcha failed to load"});let a=sm.findIndex(a=>a.scope===d.window);-1!==a&&sm.splice(a,1),f(Error(r7))}}));return sm.push({promise:f,scope:d.window}),f}catch(a){return b.captureException(a),Promise.reject(Error(r7))}}(b,c)}catch(e){return c.addBreadcrumb({category:r8,message:i}),d>=g?(c.captureException(e),Promise.reject(e)):(c.addBreadcrumb({category:r8,message:`Waiting ${h}ms before retry attempt ${d+1}`}),yield new Promise(a=>setTimeout(a,h)),a(b,c,d+=1))}})}(a,b)})})({render:"explicit",apihost:b,assethost:c,endpoint:d,hl:g,host:e,imghost:f,recaptchacompat:!1===h?"off":null,reportapi:i,sentry:j,custom:k,loadAsync:l,scriptLocation:m,scriptSource:n,secureApi:o,cleanup:void 0===p||p,uj:void 0!==q&&q}).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},c.renderCaptcha=function(a){var b=this,c=this.props.onReady,d=this.state.isApiReady,e=this.captchaId;if(d&&!e){var f=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),g=this._hcaptcha.render(this.ref.current,f);this.captchaId=g,this.setState({isRemoved:!1},function(){a&&a(),c&&c(),b._onReady&&b._onReady(g)})}},c.resetCaptcha=function(){var a=this._hcaptcha,b=this.captchaId;this.isReady()&&(a.reset(b),this._cancelPendingExecute("hcaptcha-reset"))},c.removeCaptcha=function(a){var b=this,c=this._hcaptcha,d=this.captchaId;this._cancelPendingExecute("hcaptcha-removed"),this.isReady()&&this.setState({isRemoved:!0},function(){b.captchaId="",c.remove(d),a&&a()})},c.handleOnLoad=function(){var a=this;this.setState({isApiReady:!0},function(){var b=sn(so(a.props.scriptLocation));a._hcaptcha=b.window.hcaptcha,a.renderCaptcha(function(){var b=a.props.onLoad;b&&b()})})},c.handleSubmit=function(a){var b=this.props.onVerify,c=this.state.isRemoved,d=this._hcaptcha,e=this.captchaId;if(void 0!==d&&!c){var f=d.getResponse(e),g=d.getRespKey(e);b&&b(f,g)}},c.handleExpire=function(){var a=this.props.onExpire,b=this._hcaptcha,c=this.captchaId;this.isReady()&&(b.reset(c),a&&a())},c.handleError=function(a){var b=this.props.onError,c=this._hcaptcha,d=this.captchaId;this.isReady()&&c.reset(d),b&&b(a)},c.isReady=function(){var a=this.state,b=a.isApiReady,c=a.isRemoved;return b&&!c},c._cancelPendingExecute=function(a){if(this._pendingExecute){var b=this._pendingExecute;this._pendingExecute=null;var c=Error(a);b.reject(c)}},c.handleOpen=function(){this.isReady()&&this.props.onOpen&&this.props.onOpen()},c.handleClose=function(){this.isReady()&&this.props.onClose&&this.props.onClose()},c.handleChallengeExpired=function(){this.isReady()&&this.props.onChalExpired&&this.props.onChalExpired()},c.execute=function(a){var b=this;void 0===a&&(a=null),a="object"==typeof a?a:null;try{var c=this._hcaptcha,d=this.captchaId;if(a&&a.async&&this._pendingExecute&&this._cancelPendingExecute("hcaptcha-execute-replaced"),!this.isReady())if(a&&a.async)return new Promise(function(d,e){b._pendingExecute={resolve:d,reject:e},b._onReady=function(f){if(b._pendingExecute)try{var g=c.execute(f,a);g&&"function"==typeof g.then?g.then(function(a){b._pendingExecute=null,d(a)}).catch(function(a){b._pendingExecute=null,e(a)}):(b._pendingExecute=null,e(Error("hcaptcha-execute-no-promise")))}catch(a){b._pendingExecute=null,e(a)}}});else return this._onReady=function(b){c.execute(b,a)},null;var e=c.execute(d,a);if(a&&a.async&&e&&"function"==typeof e.then)return new Promise(function(a,c){b._pendingExecute={resolve:a,reject:c},e.then(function(c){b._pendingExecute=null,a(c)}).catch(function(a){b._pendingExecute=null,c(a)})});return e}catch(b){if(a&&a.async)return Promise.reject(b);return null}},c.close=function(){var a=this._hcaptcha,b=this.captchaId;if(this._cancelPendingExecute("hcaptcha-closed"),this.isReady())return a.close(b)},c.setData=function(a){var b=this._hcaptcha,c=this.captchaId;this.isReady()&&(a&&"object"!=typeof a&&(a=null),b.setData(c,a))},c.getResponse=function(){return this._hcaptcha.getResponse(this.captchaId)},c.getRespKey=function(){return this._hcaptcha.getRespKey(this.captchaId)},c.render=function(){var a=this.state.elementId;return f.createElement("div",{ref:this.ref,id:a})},b}(f.Component);class sq{constructor(a){if((0,aG.default)(this,"authBaseApiUrl",void 0),(0,aG.default)(this,"passwordlessParams",void 0),(0,aG.default)(this,"trackingIdentifier",void 0),(0,aG.default)(this,"version",`web3auth-${"10.11.0".split(".")[0]}`),!a.authConnection)throw cr.WalletInitializationError.invalidParams("authConnection is required");if(!a.web3authClientId)throw cr.WalletInitializationError.invalidParams("web3authClientId is required");if(!a.loginHint)throw cr.WalletInitializationError.invalidParams("loginHint is required");if(!a.network)throw cr.WalletInitializationError.invalidParams("network is required");a.authBuildEnv||(a.authBuildEnv=pQ),this.authBaseApiUrl=`${pV[a.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=a}get name(){if(this.passwordlessParams.authConnection===aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===aL.AUTH_CONNECTION.SMS_PASSWORDLESS)return"Mobile";throw cr.WalletInitializationError.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===aL.AUTH_CONNECTION.SMS_PASSWORDLESS)return"sms";throw cr.WalletInitializationError.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return aX("sessionStorage")}get whiteLabelParams(){var a;let{uiConfig:b}=this.passwordlessParams;if(!b)return{};let{appName:c,appUrl:d,defaultLanguage:e,mode:f,logoLight:g,logoDark:h,theme:i}=b,j=null!=(a="dark"===f?h:g)?a:"";return{mode:null!=f?f:"light",name:null!=c?c:"",url:null!=d?d:"",language:null!=e?e:"en",logo:j.includes(".svg")?"":j,theme:null!=i?i:{}}}set trackingId(a){this.trackingIdentifier=a}async start(a){try{let c=await qm(`${this.authBaseApiUrl}/passwordless/start`,a);if(c&&c.success){var b;this.trackingId=null==(b=c.data)?void 0:b.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)}return c}catch(a){return this.handleError(a)}}async verify(a){try{let b=await qm(`${this.authBaseApiUrl}/passwordless/verify`,a);if(b.success)return this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:b.id_token}};return{success:!1,error:b.message}}catch(a){return this.handleError(a)}}async handleError(a){let b;if(429===a.status)b="passwordless.error-too-many-requests";else try{let c=await a.json();b=c.error_code?(a=>{if(!a)return"passwordless.something-wrong-error";switch(a){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}})(c.error_code):c.message}catch{b="passwordless.something-wrong-error"}return{success:!1,error:b}}}class sr extends sq{constructor(a){var b;super(a),(0,aG.default)(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=null!=(b=window.sessionStorage.getItem("trackingId"))?b:void 0)}async sendVerificationCode({captchaToken:a}){let{loginHint:b,network:c,web3authClientId:d}=this.passwordlessParams,e={client_id:d,web3auth_client_id:d,connection:this.connection,login_hint:b,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:c,flow_type:cm,captcha_token:a};return super.start(e)}async verifyCode(a){let{loginHint:b,network:c,web3authClientId:d}=this.passwordlessParams,e={client_id:d,login_hint:b,code:a,connection:"email",tracking_id:this.trackingId,version:this.version,network:c,flow_type:cm};return super.verify(e)}}class ss extends sq{constructor(a){if(super(a),this.sessionStorageAvailable){var b;this.trackingId=null!=(b=window.sessionStorage.getItem("trackingId"))?b:void 0}}async sendVerificationCode({captchaToken:a}){let{loginHint:b,network:c,web3authClientId:d}=this.passwordlessParams,e=(0,aF.default)({client_id:d,web3auth_client_id:d,connection:this.connection,login_hint:b,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:c},a&&{captcha_token:a});return super.start(e)}async verifyCode(a){let{loginHint:b,network:c,web3authClientId:d}=this.passwordlessParams,e={client_id:d,login_hint:b,code:a,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:c};return super.verify(e)}}let st=({children:a,content:b,isDark:c=!1,hideHint:d=!1})=>{let[g,h]=(0,f.useState)(!1),i=()=>{h(!0)},j=()=>{h(!1)},k=(0,f.useMemo)(()=>{let a=c?"#ffffff":"#1f2a37";return{borderTop:"8px solid transparent",borderRight:"none",borderBottom:"8px solid transparent",borderLeft:`8px solid ${a}`,left:"0%",top:"calc(100% - 8px)"}},[c]);return(0,e.jsxs)("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:i,onMouseLeave:j,onFocus:i,onBlur:j,onClick:j,children:[a,g&&!d&&(0,e.jsxs)("div",{"data-popover":!0,role:"tooltip",className:qq("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",c?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[b,(0,e.jsx)("div",{className:"w3a--absolute",style:k})]})]})};function su(a,b,c){let d=a===aL.AUTH_CONNECTION.TWITTER?`login-X${b?"-light":"-dark"}`:`login-${a}${b?"-light":"-dark"}`,f=a===aL.AUTH_CONNECTION.APPLE||a===aL.AUTH_CONNECTION.GITHUB||a===aL.AUTH_CONNECTION.TWITTER?d:`login-${a}-active`;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("img",{id:"active-login-img",src:`https://images.web3auth.io/${f}${c}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),(0,e.jsx)("img",{id:"login-img",src:`https://images.web3auth.io/${d}${c}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}function sv(a){let{visibleRow:b,otherRow:c,isDark:d,canShowMore:f,handleSocialLoginClick:g,handleExpandSocialLogins:h,buttonRadius:i}=a;return 0!==b.length&&(null==c?void 0:c.length)===0?(0,e.jsx)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:(0,e.jsxs)("div",{className:qq("w3a--grid w3a--w-full w3a--gap-x-2",1===b.length?"w3a--grid-cols-1":2===b.length?"w3a--grid-cols-2":3===b.length?"w3a--grid-cols-3":"w3a--grid-cols-4"),children:[b.filter((a,c)=>4===b.length?c<=3:c<3).map(a=>(0,e.jsx)(st,{content:"Last Login",isDark:d,hideHint:!0,children:(0,e.jsx)(rD,{type:rx,props:{showText:!1,method:a.method,isDark:d,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:(0,e.jsx)(e.Fragment,{children:su(a.method,d,".svg")}),onClick:()=>g({connector:a.connector,loginParams:a.loginParams}),buttonRadius:i}},a.method)},a.method)),f&&b.length>4&&(0,e.jsx)(rD,{type:rx,props:{showIcon:!1,onClick:h,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:(0,e.jsx)("img",{src:qr(d?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:i}})]})}):(0,e.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[(0,e.jsx)("button",{type:"button",className:"w3a--appearance-none",onClick:()=>h(),children:(0,e.jsx)("img",{src:qr(d?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),(0,e.jsx)("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:c.map(a=>(0,e.jsx)("div",{className:"w3a--h-11 w3a--w-full",children:(0,e.jsx)(rD,{type:rx,props:{method:a.method,isDark:d,isPrimaryBtn:!1,onClick:()=>g({connector:a.connector,loginParams:a.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:i,children:(0,e.jsxs)(e.Fragment,{children:[su(a.method,d,".svg"),(0,e.jsx)("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:a.name}),(0,e.jsx)("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:qr(d?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},a.method))})]})}let sw=(0,f.forwardRef)(({length:a,loading:b,resendTimer:c=60,onComplete:d,onChange:g,error:h=!1,success:i=!1,disabled:j=!1,classes:k,helperText:l="",onResendTimer:m,showCta:n=!0,showTimer:o=!0,autoFocus:p=!1,placeholder:q="",autoComplete:r="one-time-code",type:s="text",resendBtnText:t=""},u)=>{let[v,w]=(0,f.useState)(Array(a).fill("")),[x,y]=(0,f.useState)(null!=c?c:0),[z]=qK(void 0,{i18n:rs}),A=(0,f.useRef)([]),B=a=>/^\d$/.test(a)&&1===a.trim().length,C=b=>{b.preventDefault();let c=b.clipboardData.getData("text").slice(0,a);if(c&&/^\d+$/.test(c)){var e;let b=c.split(""),f=[...v];b.forEach((a,b)=>{f[b]=a}),w(f),null==(e=A.current[b.length===a?a-1:b.length])||e.focus(),d&&a===f.length&&d(f.join(""))}};(0,f.useEffect)(()=>{let a=null;return n&&o&&(a=window.setInterval(()=>{x>0?y(a=>a-1):clearInterval(a)},1e3)),()=>{clearInterval(a)}},[x]),(0,f.useEffect)(()=>{if(A&&p){var a;null==(a=A.current)||a[0].focus()}},[p]);let D=qq("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":h,"w3a--text-app-green-500 dark:w3a--text-app-green-400":i},null==k?void 0:k.helperText),E=new Date().getFullYear();return(0,e.jsxs)("div",{className:qq("w3a--flex w3a--flex-col w3a--items-center",null==k?void 0:k.root),ref:u,children:[(0,e.jsx)("form",{className:qq("w3a--flex w3a--space-x-2",null==k?void 0:k.inputContainer),children:v.map((b,c)=>{var f,l,m;return(0,e.jsx)("input",{id:`${E+c}`,type:s,value:b,autoComplete:r,placeholder:Array.isArray(q)?q[c]:q,inputMode:"numeric",onInput:b=>((b,c)=>{var e,f;b.preventDefault();let{value:h}=b.target;if(h&&h.length>1&&h.length===a){let b=h.split(""),c=[...v];b.forEach((a,b)=>{c[b]=a}),w(c),null==(e=A.current[b.length===a?a-1:b.length])||e.focus(),d&&a===c.length&&d(c.join(""))}else if(B(h)){let b=[...v].slice(0,a);b[c]=h,w(b);let e=b.join("");c<a-1&&A.current[c+1]&&(null==(f=A.current[c+1])||f.focus()),g&&g(h),d&&a===e.length&&d(e)}})(b,c),onKeyUp:a=>((a,b)=>{var c,d,e;if("Backspace"===a.key||"Delete"===a.key){a.preventDefault();let d=[...v];""!==v[b]?d[b]="":b>0&&(null==(c=A.current[b-1])||c.focus(),d[b-1]=""),w(d),g&&g(d.join(""))}else"ArrowLeft"===a.key?(a.preventDefault(),null==(d=A.current[b-1])||d.focus()):"ArrowRight"===a.key?(a.preventDefault(),null==(e=A.current[b+1])||e.focus()):(" "===a.key||"Spacebar"===a.key||"Space"===a.key||!B(a.key)&&A.current[b+1])&&(a.preventDefault(),A.current[b+1].value="")})(a,c),onPaste:C,className:qq("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",i&&(null!=(f=null==k?void 0:k.success)?f:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),h&&(null!=(l=null==k?void 0:k.error)?l:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),j&&(null!=(m=null==k?void 0:k.disabled)?m:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),null==k?void 0:k.input),ref:a=>{A.current[c]=a},disabled:j},`${E+c}`)})}),l&&(0,e.jsx)("p",{className:D,children:l}),b&&(0,e.jsx)("div",{className:"w3a--mt-3",children:(0,e.jsx)(rQ,{})}),n&&!b&&(0,e.jsx)("div",{className:qq("w3a--flex w3a--items-center w3a--mt-3",null==k?void 0:k.ctaContainer),children:x>0&&o?(0,e.jsx)("span",{className:qq("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",null==k?void 0:k.timerText),children:z("modal.resendTimer",{timer:x})}):(0,e.jsx)("button",{type:"button",className:qq("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",null==k?void 0:k.resendBtnText),onClick:()=>{y(c||0),m&&m()},disabled:x>0&&o,children:t||z("modal.resendCode")})})]})});function sx(a){let{setShowOtpFlow:b,handleOtpComplete:c,authConnection:d,loginHint:g="",errorMessage:h,otpLoading:i,countryFlag:j}=a,k=(0,f.useMemo)(()=>d===aL.AUTH_CONNECTION.SMS_PASSWORDLESS,[d]),[l]=qK(void 0,{i18n:rs}),m=(0,f.useMemo)(()=>{if(d===aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS)return g;let[a,b]=g.includes("-")?g.split("-"):["",g],c=`${b}`.slice(-Math.floor(b.length/2)).padStart(`${b}`.length,"*");return`${j} ${a} ${c}`},[g,d,j]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:(0,e.jsx)("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>b(!1),children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:(0,e.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),(0,e.jsxs)("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[(0,e.jsx)("img",{src:qr(k?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),(0,e.jsxs)("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[(0,e.jsx)("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:l(k?"modal.otp.mobile-title":"modal.otp.email-title")}),(0,e.jsxs)("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[(0,e.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l(k?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),(0,e.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:k?m:l("modal.otp.email-subtext-example",{email:m})})]})]}),(0,e.jsx)(sw,{length:6,onComplete:c,error:!!h,helperText:h,loading:i,disabled:i})]})]})}function sy(a){let{otpLoading:b,setShowOtpFlow:c,handleOtpComplete:d,authConnection:f,loginHint:g,errorMessage:h,countryFlag:i}=a;return(0,e.jsx)("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:(0,e.jsx)(sx,{errorMessage:h,setShowOtpFlow:c,handleOtpComplete:d,authConnection:f,loginHint:g,otpLoading:b,countryFlag:i})})}function sz(a){let{isModalVisible:b,isPasswordLessCtaClicked:c,setIsPasswordLessCtaClicked:d,title:g,placeholder:h,handleFormSubmit:i,errorMessage:j,isDark:k,isPasswordLessLoading:l,buttonRadius:m}=a,[n]=qK(void 0,{i18n:rs}),o=(0,f.useRef)(null),[p,q]=(0,f.useState)(""),[r,s]=(0,f.useState)(!1);return((0,f.useEffect)(()=>{b||d(!1)},[b,d]),(0,f.useEffect)(()=>{if(c){var a;null==(a=o.current)||a.focus()}},[c]),c)?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:qq("w3a--input",r&&"!w3a--border-app-primary-600",{"w3a--rounded-full":"pill"===m,"w3a--rounded-lg":"rounded"===m,"w3a--rounded-none":"square"===m}),children:[(0,e.jsx)("input",{ref:o,onInput:a=>{q(a.target.value),s(!0)},value:p,placeholder:h,onFocus:()=>{s(!0)},onBlur:a=>{a.target.placeholder=`${h}`,s(!1)},type:"text",className:qq("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:a=>(a=>{let{key:b}=a;"Enter"===b&&(i(p),s(!1))})(a),disabled:l}),l&&(0,e.jsx)(rQ,{}),p&&!l&&(0,e.jsx)("button",{type:"button",className:"w3a--appearance-none",onClick:a=>{a.preventDefault(),a.stopPropagation(),i(p),s(!1)},children:(0,e.jsx)("img",{src:qr(k?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),j&&!r&&c&&(0,e.jsx)("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:j})]}):(0,e.jsxs)("button",{type:"button",className:qq("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":"pill"===m,"w3a--rounded-lg":"rounded"===m,"w3a--rounded-none":"square"===m}),onClick:()=>{d(!0)},children:[(0,e.jsx)("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:n("modal.passwordless.title",{title:g})}),(0,e.jsx)("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:qr(k?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}sw.displayName="OtpInput";let sA=[aL.AUTH_CONNECTION.SMS_PASSWORDLESS,aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS,aL.AUTH_CONNECTION.AUTHENTICATOR,aL.AUTH_CONNECTION.PASSKEYS,aL.AUTH_CONNECTION.TELEGRAM,aL.AUTH_CONNECTION.CUSTOM];function sB(a){let{web3authClientId:b,web3authNetwork:c,authBuildEnv:d,appLogo:g,isModalVisible:h,handleSocialLoginHeight:i,socialLoginsConfig:j,installedExternalWalletConfig:k,isDark:l,handleSocialLoginClick:m,totalExternalWallets:n,remainingUndisplayedWallets:o,isEmailPasswordLessLoginVisible:p,isSmsPasswordLessLoginVisible:q,handleExternalWalletBtnClick:r,handleExternalWalletClick:s,areSocialLoginsVisible:t,showPasswordLessInput:u,showExternalWalletButton:v,showExternalWalletCount:w,showInstalledExternalWallets:x,logoAlignment:y="center",buttonRadius:z="pill",deviceDetails:A}=a,[B]=qK(void 0,{i18n:rs}),{bodyState:C,setBodyState:D}=(0,f.useContext)(qL),{analytics:E}=(0,f.useContext)(ru),[F,G]=(0,f.useState)(""),[H,I]=(0,f.useState)(""),[J,K]=(0,f.useState)(""),[L,M]=(0,f.useState)(""),[N,O]=(0,f.useState)(!1),[P,Q]=(0,f.useState)(!1),[R,S]=(0,f.useState)([]),[T,U]=(0,f.useState)([]),[V,W]=(0,f.useState)(!1),[X,Y]=(0,f.useState)(!1),[Z,$]=(0,f.useState)(void 0),[_,aa]=(0,f.useState)(void 0),[ab,ac]=(0,f.useState)(!1),[ad,ae]=(0,f.useState)(!1),[af,ag]=(0,f.useState)(!1),[ah,ai]=(0,f.useState)(""),aj=(0,f.useRef)(null),ak=()=>{O(a=>!a),W(!1),i()};(0,f.useEffect)(()=>{let a=Object.keys(j.loginMethods).filter(a=>j.loginMethods[a].showOnModal&&!sA.includes(a)),b=[],c=[],d=(j.loginMethodsOrder||[]).reduce((a,b,c)=>(a[b]=c,a),{}),e=Object.keys(j.loginMethods).filter(a=>!1==!j.loginMethods[a].showOnModal&&!sA.includes(a)).sort((a,b)=>{var c,e;let f=(j.loginMethodsOrder||[]).length,g=null!=(c=d[a])?c:f,h=null!=(e=d[b])?e:f,{mainOption:i}=j.loginMethods[a]||{},{mainOption:k}=j.loginMethods[b]||{};return i&&k?g-h:i?-1:k?1:g-h});e.forEach((a,d)=>{var f;let g=j.loginMethods[a],h=pR(g.name||a),i=d+1,k=(null==j||null==(f=j.uiConfig)?void 0:f.primaryButton)==="socialLogin"&&1===i,m=e.length;(m>=4?i>0&&i<=m:i>0&&i<4)&&b.push({method:a,isDark:l,isPrimaryBtn:k,name:h,connector:j.connector,loginParams:{authConnection:g.authConnection||a,authConnectionId:g.authConnectionId,groupedAuthConnectionId:g.groupedAuthConnectionId,extraLoginOptions:g.extraLoginOptions,name:h,login_hint:""},order:i}),c.push({method:a,isDark:l,isPrimaryBtn:k,name:"Twitter"===h?"X":h,connector:j.connector,loginParams:{authConnection:a,authConnectionId:g.authConnectionId,groupedAuthConnectionId:g.groupedAuthConnectionId,extraLoginOptions:g.extraLoginOptions,name:h,login_hint:""},order:i})}),S(b),U(c),Q(a.length>4)},[j,l,z]);let al=async(a,e)=>{try{let g,h=((a,b)=>{switch(a){case aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS:return new sr(b);case aL.AUTH_CONNECTION.SMS_PASSWORDLESS:return new ss(b);default:throw cr.WalletInitializationError.invalidParams(`Unsupported auth connection: ${a}`)}})(a,{loginHint:e,web3authClientId:b,network:c,uiConfig:j.uiConfig,authConnection:a,authBuildEnv:d});if(!((a,b)=>{if(a===aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS)return b.startsWith("test_account_")&&b.endsWith("@example.com");if(a===aL.AUTH_CONNECTION.SMS_PASSWORDLESS)return b.startsWith("+1-555");throw cr.WalletInitializationError.invalidParams(`Unsupported auth connection: ${a}`)})(a,e)){var f;let a=await (null==(f=aj.current)?void 0:f.execute({async:!0}));if(!a)throw cr.WalletLoginError.connectionError("Captcha token is required");g=a.response}let i=await h.sendVerificationCode({captchaToken:g});if(null!=i&&i.error)return void K(B(i.error));$(a),Y(!0),aa(h)}catch(a){cs.log.error(a)}finally{ac(!1)}},am=async a=>{if(ac(!0),p&&a.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){let b=j.loginMethods[aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS];return b.isDefault?m({connector:j.connector,loginParams:{authConnection:aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS,authConnectionId:b.authConnectionId,groupedAuthConnectionId:b.groupedAuthConnectionId,extraLoginOptions:b.extraLoginOptions,loginHint:a,name:"Email"}}):al(aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS,a)}if(q){let b=a.startsWith("+")?a:`${F}${a}`,c=await qu(b);if(c.success){let a="string"==typeof c.parsed_number?c.parsed_number:b,d=j.loginMethods[aL.AUTH_CONNECTION.SMS_PASSWORDLESS];return d.isDefault?m({connector:j.connector,loginParams:{authConnection:aL.AUTH_CONNECTION.SMS_PASSWORDLESS,authConnectionId:d.authConnectionId,groupedAuthConnectionId:d.groupedAuthConnectionId,extraLoginOptions:d.extraLoginOptions,loginHint:a,name:"Mobile"}}):(I(c.country_flag),al(aL.AUTH_CONNECTION.SMS_PASSWORDLESS,a))}}K(ap),ac(!1)},an=(0,f.useMemo)(()=>p&&q?B("modal.social.passwordless-title"):p?B("modal.social.email"):B("modal.social.phone"),[p,q,B]),ao=(0,f.useMemo)(()=>p&&q?"+(00)123456/name@example.com":p?"name@example.com":"+(00)123456",[p,q]),ap=(0,f.useMemo)(()=>p&&q?B("modal.errors-invalid-number-email"):p?B("modal.errors-invalid-email"):B("modal.errors-invalid-number"),[p,q,B]);(0,f.useEffect)(()=>{let a=async()=>{let a=await qt();a&&a.dialCode&&G(a.dialCode)};q&&a()},[q]);let aq=async a=>{ae(!0),L&&M("");try{var b,c;let d=j.loginMethods[Z],e=await (null==_?void 0:_.verifyCode(a));if(null!=e&&e.error)return void M(B(e.error));if(null!=e&&null!=(b=e.data)&&b.id_token)return m({connector:j.connector,loginParams:{authConnection:Z,authConnectionId:d.authConnectionId,groupedAuthConnectionId:d.groupedAuthConnectionId,extraLoginOptions:(0,aF.default)((0,aF.default)({},d.extraLoginOptions),{},{id_token:null==(c=e.data)?void 0:c.id_token}),loginHint:_.passwordlessParams.loginHint,name:_.name}})}catch(a){cs.log.error(a)}finally{ae(!1)}},ar=(0,f.useMemo)(()=>x?k:k.filter(a=>a.name===aD.WALLET_CONNECTORS.METAMASK),[k,x]),as=(0,f.useCallback)(a=>{null==E||E.track(a5.ANALYTICS_EVENTS.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:n,installed_external_wallets:ar.length}),W(!1),null==a||a.preventDefault(),r&&r(!0)},[E,r,ar.length,n]);if((0,f.useEffect)(()=>{!v||t||u||as()},[v,t,u,as]),X)return(0,e.jsx)(sy,{otpLoading:ad,loginHint:null==_?void 0:_.passwordlessParams.loginHint,setShowOtpFlow:Y,authConnection:Z,handleOtpComplete:aq,errorMessage:L,countryFlag:H});let at=(a=[])=>(0,e.jsx)(sv,{otherRow:a,isDark:l,visibleRow:R,canShowMore:P,handleSocialLoginClick:m,socialLoginsConfig:j,handleExpandSocialLogins:ak,buttonRadius:z},"social-login-section"),au=()=>(0,e.jsx)(sz,{isModalVisible:h,isPasswordLessCtaClicked:V,setIsPasswordLessCtaClicked:W,title:an,placeholder:ao,handleFormSubmit:am,errorMessage:J,isDark:l,buttonRadius:z,isPasswordLessLoading:ab},"passwordless-section"),av=()=>(0,e.jsxs)("div",{className:qq("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[ar.length>0&&ar.map(a=>(0,e.jsxs)("button",{type:"button",className:qq("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":"pill"===z,"w3a--rounded-lg":"rounded"===z,"w3a--rounded-none":"square"===z}),onClick:()=>(a=>{var b;if(null==E||E.track(a5.ANALYTICS_EVENTS.EXTERNAL_WALLET_SELECTED,{connector:a.name,wallet_name:a.displayName,is_installed:a.isInstalled,is_injected:a.hasInjectedWallet,chain_namespaces:a.chainNamespaces,has_wallet_connect:a.hasWalletConnect,has_install_links:a.hasInstallLinks,has_wallet_registry_item:!!a.walletRegistryItem,total_external_wallets:n}),cs.log.info("handleInstalledWalletClick",a),a.name===aD.WALLET_CONNECTORS.METAMASK&&!a.hasInjectedWallet&&"desktop"===A.platform){s({connector:a.name}),D((0,aF.default)((0,aF.default)({},C),{},{metamaskQrCode:{show:!0,wallet:a}}));return}(null==(b=a.chainNamespaces)?void 0:b.length)>1?D((0,aF.default)((0,aF.default)({},C),{},{multiChainSelector:{show:!0,wallet:a}})):s({connector:a.name})})(a),children:[(0,e.jsx)("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:a.displayName}),(0,e.jsxs)("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[a.hasInjectedWallet&&(0,e.jsx)("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:B("modal.external.installed")}),(0,e.jsx)("figure",{className:"w3a--size-5",children:(0,e.jsx)(rz,{imageData:a.icon,imageId:`login-${a.name}`,hoverImageId:`login-${a.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:a.imgExtension||"webp"})})]}),(0,e.jsx)("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:qr(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},a.name)),o>0&&(0,e.jsxs)("button",{type:"button",className:qq("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":"pill"===z,"w3a--rounded-lg":"rounded"===z,"w3a--rounded-none":"square"===z}),onClick:as,children:[(0,e.jsx)("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:B("modal.external.all-wallets")}),w&&(0,e.jsx)("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:o}),(0,e.jsx)("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:qr(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),aw=[qd,qc].includes(g)?"":g,ax=a=>(0,e.jsxs)("div",{className:qq("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",aw?"w3a--my-2":"w3a--my-4"),children:[(0,e.jsx)("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),(0,e.jsx)("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),(0,e.jsx)("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${a}`);return(0,e.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[(0,e.jsxs)("div",{className:qq("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6","center"===y?"":"w3a--w-full"),children:[aw&&(0,e.jsx)("figure",{className:qq("w3a--mx-auto w3a--h-12 w3a--w-[200px]","center"===y?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:(0,e.jsx)("img",{src:aw,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),(0,e.jsx)("p",{className:qq("w3a--text-app-gray-900 dark:w3a--text-app-white","center"===y?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",aw?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:B("modal.social.sign-in")})]}),(0,e.jsx)(sp,{ref:aj,sitekey:"d5f0c15c-eeda-4f9c-934a-d8e0348e83b2",size:"invisible",languageOverride:j.uiConfig.defaultLanguage,theme:j.uiConfig.theme,onOpen:()=>ag(!0),onClose:()=>ag(!1),onError:()=>ai("passwordless.captcha-default-error"),onChalExpired:()=>ai("passwordless.captcha-default-error")}),ah&&af&&(0,e.jsx)("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:B(ah)}),!af&&(0,e.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!N&&(()=>{var a;let b={social:at,passwordless:au,externalWallets:av},c={social:t,passwordless:u,externalWallets:v},d=(null==(a=j.uiConfig)?void 0:a.signInMethods)||["social","passwordless","externalWallets"];Object.entries(c).forEach(([a,b])=>{b&&!d.includes(a)&&d.push(a)});let e=d.map(a=>c[a]&&b[a]()).filter(Boolean);if(3===e.length){let a=d.findIndex(a=>"externalWallets"===a);0===a?e.splice(1,0,ax(1)):1===a?(e.splice(1,0,ax(1)),e.splice(3,0,ax(2))):2===a&&e.splice(2,0,ax(1))}else 2===e.length&&c.externalWallets&&e.splice(1,0,ax(1));return e})(),N&&at(T)]})]})}let sC=()=>{let{toast:a,setToast:b}=(0,f.useContext)(qL);return((0,f.useEffect)(()=>{a.message&&setTimeout(()=>{b({message:"",type:p1.SUCCESS})},3e3)},[a.message,b]),a.message)?(0,e.jsxs)("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${{success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"}[a.type]}`,children:[(0,e.jsx)("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:(0,e.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>b({message:"",type:p1.SUCCESS}),className:{success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"}[a.type],children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),(0,e.jsx)("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:(0,e.jsx)("p",{children:a.message})})]}):null};function sD(a){var b,c,d,g,h,i,j;let{setModalState:k,modalState:l,handleExternalWalletBtnClick:m,handleMobileVerifyConnect:n,chainNamespaces:o,walletRegistry:p,appLogo:q,onCloseLoader:r,handleSocialLoginClick:s,showPasswordLessInput:t,showExternalWalletButton:u,socialLoginsConfig:v,areSocialLoginsVisible:w,isEmailPrimary:x,isExternalPrimary:y,showExternalWalletPage:z,isEmailPasswordLessLoginVisible:A,isSmsPasswordLessLoginVisible:B,preHandleExternalWalletClick:C,uiConfig:D,deviceDetails:E,isConnectAndSignAuthenticationMode:F}=a,{logoAlignment:G="center",buttonRadiusType:H="pill",privacyPolicy:I="",tncLink:J="",displayInstalledExternalWallets:K=!0,displayExternalWalletsCount:L=!0}=D,[M]=qK(void 0,{i18n:rs}),{isDark:N}=(0,f.useContext)(qM),[O,P]=(0,f.useState)({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[Q,R]=(0,f.useState)({message:"",type:p1.SUCCESS}),[S,T]=(0,f.useState)(!1),[U,V]=(0,f.useState)(!1),W=(0,f.useMemo)(()=>!t&&!w,[w,t]),X=(0,f.useMemo)(()=>{var a;if("desktop"===E.platform)return[];let b=(null==(a=O.installLinks)||null==(a=a.wallet)||null==(a=a.walletRegistryItem)?void 0:a.app)||{};return Object.keys(b).reduce((a,c)=>{if(!["android","ios"].includes(c))return a;let d=b[c];if(!d)return a;let f=((a,b)=>{if(null!=b&&b.includes("https://"))return b;switch(a){case"android":return`https://play.google.com/store/apps/details?id=${b}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${b}`;default:return""}})(c,d);if(!f)return a;let g=`${c}-light`,h=`${c}-dark`;return a.push((0,e.jsx)("li",{className:"w3a--w-full",children:(0,e.jsx)("a",{href:f,rel:"noopener noreferrer",target:"_blank",children:(0,e.jsxs)("button",{type:"button",className:qq("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":"pill"===H,"w3a--rounded-lg":"rounded"===H,"w3a--rounded-none":"square"===H}),children:[(0,e.jsx)(rz,{imageId:g,darkImageId:h,hoverImageId:g,darkHoverImageId:h,height:"28",width:"28",isButton:!0}),(0,e.jsx)("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:M("modal.external.install-mobile-app",{os:(a=>{switch(a){case"ios":return"iOS";case"android":return"Android";default:return""}})(c)})}),(0,e.jsx)("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:qr(N?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},f)),a},[])},[null==(b=O.installLinks)||null==(b=b.wallet)||null==(b=b.walletRegistryItem)?void 0:b.app,E.platform,N,M,H]),Y=(0,f.useMemo)(()=>{var a;let b;if("desktop"!==E.platform)return[];let c="brave"===E.browser?"chrome":E.browser,d=(null==(a=O.installLinks)||null==(a=a.wallet)||null==(a=a.walletRegistryItem)?void 0:a.app)||{},f=d.browser&&d.browser.includes(c)?d.browser:void 0,g=d[c]||f,h=g?((a,b)=>{if(null!=b&&b.startsWith("https://"))return b;switch(a){case"chrome":return`https://chrome.google.com/webstore/detail/${b}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${b}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${b}`;default:return null}})(c,g):null;return[h?(0,e.jsx)("li",{children:(0,e.jsx)("a",{href:h,rel:"noopener noreferrer",target:"_blank",children:(0,e.jsxs)("button",{type:"button",className:qq("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":"pill"===H,"w3a--rounded-lg":"rounded"===H,"w3a--rounded-none":"square"===H}),children:[(0,e.jsx)(rz,{imageId:E.browser,darkImageId:E.browser,hoverImageId:E.browser,darkHoverImageId:E.browser,height:"30",width:"30",isButton:!0}),(0,e.jsx)("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:M("modal.external.install-browser-extension",{browser:(b=E.browser).charAt(0).toUpperCase()+b.slice(1)})}),(0,e.jsx)("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:qr(N?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},h):null,...X]},[null==(c=O.installLinks)||null==(c=c.wallet)||null==(c=c.walletRegistryItem)?void 0:c.app,E.browser,E.platform,N,X,H,M]),Z=(0,f.useMemo)(()=>l.externalWalletsConfig,[l.externalWalletsConfig]),$=(0,f.useMemo)(()=>{let a={};return Object.keys(Z).forEach(b=>{var c;a[b]=!!(null==(c=Z[b])?void 0:c.showOnModal)}),a},[Z]),_=(0,f.useMemo)(()=>Object.keys((null==p?void 0:p.default)||{}).length>0||Object.keys((null==p?void 0:p.others)||{}).length>0,[p]),aa=(0,f.useCallback)(a=>Object.keys(a).reduce((b,c)=>{var d,e,f,g,h;if(!1===$[c])return b;let i=a[c],j="";if("desktop"!==E.platform){let a=null==i||null==(g=i.mobile)?void 0:g.universal,b=null==i||null==(h=i.mobile)?void 0:h.native;j=a||b}let k=Z[c],l=(null==k?void 0:k.chainNamespaces)||[],m=new Set(null==(d=i.chains)?void 0:d.map(a=>a.split(":")[0])),n=new Set(null==(e=i.injected)?void 0:e.map(a=>a.namespace)),p=o.filter(a=>m.has(a)||n.has(a)||l.includes(a)),q={name:c,displayName:i.name,href:j,hasInjectedWallet:(null==k?void 0:k.isInjected)||!1,isInstalled:!!k,hasWalletConnect:_&&(null==(f=i.walletConnect)||null==(f=f.sdks)?void 0:f.includes("sign_v2")),hasInstallLinks:Object.keys(i.app||{}).length>0,walletRegistryItem:i,imgExtension:i.imgExtension||"svg",icon:null==k?void 0:k.icon,chainNamespaces:p};return(q.hasInjectedWallet||q.hasWalletConnect||q.hasInstallLinks)&&0!==p.length&&b.push(q),b},[]),[$,o,Z,E.platform,_]),ab=(0,f.useMemo)(()=>[...aa(p.default),...aa(p.others)],[aa,p.default,p.others]),ac=(0,f.useMemo)(()=>{let a=Object.keys(Z).reduce((a,b)=>{if(b===aD.WALLET_CONNECTORS.WALLET_CONNECT_V2||!$[b])return a;let c=Z[b];return a.push({name:b,displayName:(null==c?void 0:c.label)||b,hasInjectedWallet:(null==c?void 0:c.isInjected)||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:null==c?void 0:c.icon,chainNamespaces:(null==c?void 0:c.chainNamespaces)||[]}),a},[]),b=a.findIndex(a=>a.name===aD.WALLET_CONNECTORS.METAMASK&&!a.hasInjectedWallet);if(-1!==b){let c=a[b],d=ab.find(a=>a.name===aD.WALLET_CONNECTORS.METAMASK);d||(d=aa({[aD.WALLET_CONNECTORS.METAMASK]:qe})[0]),d&&a.splice(b,1,(0,aF.default)((0,aF.default)({},d),{},{chainNamespaces:c.chainNamespaces,isInstalled:!0}))}return a},[ab,Z,$,aa]),ad=(0,f.useMemo)(()=>ac.filter(a=>!a.hasInjectedWallet),[ac]),ae=(0,f.useMemo)(()=>ac.sort((a,b)=>a.name===aD.WALLET_CONNECTORS.METAMASK?-1:1).slice(0,K?3:1),[ac,K]),af=(0,f.useMemo)(()=>{let a=new Set;return ac.concat(ab).filter(b=>!a.has(b.name)&&(a.add(b.name),!0))},[ab,ac]),ag=(0,f.useMemo)(()=>af.filter(a=>!ae.includes(a)).length,[af,ae]),ah=(0,f.useMemo)(()=>{var a;let b=I||J;if(l.status!==pX)return"530px";if(U||null!=(a=O.metamaskQrCode)&&a.show)return b?"640px":"588px";if(l.currentPage===p9)return b?"640px":"580px";if(S)return b?"644px":"588px";if(1===ae.length)return b?"560px":"530px";if(ae.length>1){let a=500+(ae.length-1)*58;return b?`${a+60}px`:`${a+16}px`}return"539px"},[I,J,l.status,l.currentPage,U,null==(d=O.metamaskQrCode)?void 0:d.show,S,ae.length]),ai=(0,f.useMemo)(()=>({bodyState:O,setBodyState:P,toast:Q,setToast:R}),[O,P,Q,R]),aj=(0,f.useMemo)(()=>l.status!==pX,[l.status]);return(0,e.jsx)(qL.Provider,{value:ai,children:(0,e.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[(0,e.jsxs)("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:ah},children:[(0,e.jsx)("div",{className:"w3a--modal-curtain"}),(0,e.jsxs)("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[aj?(0,e.jsx)(rV,{connector:l.detailedLoaderConnector,connectorName:l.detailedLoaderConnectorName,modalStatus:l.status,onClose:r,appLogo:q,isConnectAndSignAuthenticationMode:F,externalWalletsConfig:l.externalWalletsConfig,walletRegistry:p,handleMobileVerifyConnect:n}):(0,e.jsx)(e.Fragment,{children:null!=(g=O.metamaskQrCode)&&g.show?(0,e.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[(0,e.jsx)(rw,{onBackClick:()=>P((0,aF.default)((0,aF.default)({},O),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:qb,selectedButton:O.metamaskQrCode.wallet}),(0,e.jsx)(rJ,{qrCodeValue:l.metamaskConnectUri,isDark:N,selectedButton:O.metamaskQrCode.wallet,primaryColor:null==(h=O.metamaskQrCode.wallet.walletRegistryItem)?void 0:h.primaryColor,logoImage:`https://images.web3auth.io/login-${O.metamaskQrCode.wallet.name}.${O.metamaskQrCode.wallet.imgExtension}`})]}):(0,e.jsxs)(e.Fragment,{children:[l.currentPage===p8&&z&&l.status===pX&&(0,e.jsx)(sB,{web3authClientId:l.web3authClientId,web3authNetwork:l.web3authNetwork,authBuildEnv:l.authBuildEnv,isModalVisible:l.modalVisibility,isDark:N,appLogo:q,showPasswordLessInput:t,showExternalWalletButton:u,showExternalWalletCount:L,showInstalledExternalWallets:K,socialLoginsConfig:v,areSocialLoginsVisible:w,isEmailPrimary:x,isExternalPrimary:y,installedExternalWalletConfig:ae,isEmailPasswordLessLoginVisible:A,isSmsPasswordLessLoginVisible:B,totalExternalWallets:af.length,remainingUndisplayedWallets:ag,logoAlignment:G,buttonRadius:H,deviceDetails:E,handleSocialLoginClick:s,handleExternalWalletBtnClick:a=>{k((0,aF.default)((0,aF.default)({},l),{},{currentPage:p9})),m&&m(a)},handleSocialLoginHeight:()=>{T(a=>!a)},handleExternalWalletClick:C}),l.currentPage===p9&&!z&&l.status===pX&&(0,e.jsx)(rL,{isDark:N,walletConnectUri:l.walletConnectUri,metamaskConnectUri:l.metamaskConnectUri,config:l.externalWalletsConfig,walletRegistry:p,allRegistryButtons:ab,connectorVisibilityMap:$,customConnectorButtons:ad,deviceDetails:E,chainNamespace:o,buttonRadius:H,handleWalletDetailsHeight:()=>{V(a=>!a)},isExternalWalletModeOnly:W,onBackClick:a=>{k((0,aF.default)((0,aF.default)({},l),{},{currentPage:p8})),m&&m(a)},handleExternalWalletClick:C})]})}),(0,e.jsx)(rN,{privacyPolicy:I,termsOfService:J}),(null==(i=O.multiChainSelector)?void 0:i.show)&&(0,e.jsx)(rt,{uiConfig:D,isShown:O.multiChainSelector.show,onClose:()=>P((0,aF.default)((0,aF.default)({},O),{},{multiChainSelector:{show:!1,wallet:null}})),children:(0,e.jsx)(rM,{isDark:N,wallet:O.multiChainSelector.wallet,handleExternalWalletClick:a=>{C(a),P((0,aF.default)((0,aF.default)({},O),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),(null==(j=O.installLinks)?void 0:j.show)&&(0,e.jsxs)(rt,{uiConfig:D,isShown:O.installLinks.show,onClose:()=>P((0,aF.default)((0,aF.default)({},O),{},{installLinks:{show:!1,wallet:null}})),children:[(0,e.jsx)("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:M("modal.getWallet")}),(0,e.jsx)("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:(0,e.jsx)(rz,{imageId:`login-${O.installLinks.wallet.name}`,hoverImageId:`login-${O.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:O.installLinks.wallet.imgExtension})}),(0,e.jsx)("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:"desktop"===E.platform?Y:X})]})]})]}),(0,e.jsx)(sC,{})]})})}function sE(a){let{stateListener:b,handleSocialLoginClick:c,handleExternalWalletClick:d,handleMobileVerifyConnect:g,handleShowExternalWallets:h,closeModal:i,appLogo:j,appName:k,chainNamespaces:l,walletRegistry:m,uiConfig:n,deviceDetails:o,initialAuthenticationMode:p}=a,{widgetType:q}=n,r=(0,f.useMemo)(()=>q===a4.WIDGET_TYPE.EMBED,[q]),[s,t]=(0,f.useState)({externalWalletsVisibility:!1,status:pX,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:p8,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:pP.SAPPHIRE_MAINNET,authBuildEnv:pQ}),u=(0,f.useMemo)(()=>p===a6.CONNECTOR_INITIAL_AUTHENTICATION_MODE.CONNECT_AND_SIGN,[p]);(0,f.useEffect)(()=>{t(a=>(0,aF.default)((0,aF.default)({},a),{},{modalVisibility:r}))},[r]),(0,f.useEffect)(()=>{b.on("STATE_UPDATED",a=>{cs.log.debug("state updated",a),t(b=>cu((0,a3.default)(b,a,{arrayMerge:(a,b)=>b})))}),b.emit("MOUNTED")},[b]);let v=a=>{let{connector:b}=a;t(a=>(0,aF.default)((0,aF.default)({},a),{},{detailedLoaderConnector:b,detailedLoaderAdapterName:aD.CONNECTOR_NAMES[b]})),d&&d(a)},w=a=>{let{loginParams:b}=a;t(a=>(0,aF.default)((0,aF.default)({},a),{},{detailedLoaderConnector:b.authConnection,detailedLoaderConnectorName:b.name})),c(a)},x=(0,f.useMemo)(()=>{var a,b;return!s.showExternalWalletsOnly&&0!==Object.keys((null==(a=s.socialLoginsConfig)?void 0:a.loginMethods)||{}).length&&Object.entries((null==(b=s.socialLoginsConfig)?void 0:b.loginMethods)||{}).some(([a,b])=>![aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS,aL.AUTH_CONNECTION.SMS_PASSWORDLESS].includes(a)&&!1!==b.showOnModal)},[s]),y=(0,f.useMemo)(()=>{var a;return null==(a=s.socialLoginsConfig)||null==(a=a.loginMethods[aL.AUTH_CONNECTION.EMAIL_PASSWORDLESS])?void 0:a.showOnModal},[s.socialLoginsConfig]),z=(0,f.useMemo)(()=>{var a;return null==(a=s.socialLoginsConfig)||null==(a=a.loginMethods[aL.AUTH_CONNECTION.SMS_PASSWORDLESS])?void 0:a.showOnModal},[s.socialLoginsConfig]),A=(0,f.useMemo)(()=>{var a;return(null==(a=s.socialLoginsConfig)||null==(a=a.uiConfig)?void 0:a.primaryButton)==="emailLogin"},[s.socialLoginsConfig]),B=(0,f.useMemo)(()=>{var a;return(null==(a=s.socialLoginsConfig)||null==(a=a.uiConfig)?void 0:a.primaryButton)==="externalLogin"},[s.socialLoginsConfig]),C=(0,f.useMemo)(()=>y||z,[y,z]),D=(0,f.useMemo)(()=>s.hasExternalWallets||!!s.externalWalletsConfig[aD.WALLET_CONNECTORS.METAMASK],[s]),E=(0,f.useMemo)(()=>(x||C||!!s.externalWalletsConfig[aD.WALLET_CONNECTORS.METAMASK])&&!s.externalWalletsVisibility,[x,C,s]),F=a=>{t(b=>(0,aF.default)((0,aF.default)({},b),{},{externalWalletsVisibility:a})),a&&h&&h(s.externalWalletsInitialized)},G=()=>{t(a=>(0,aF.default)((0,aF.default)({},a),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:p8})),i()},H=()=>{u||s.status!==pY||t((0,aF.default)((0,aF.default)({},s),{},{modalVisibility:!1,externalWalletsVisibility:!1})),u&&s.status===p0&&t((0,aF.default)((0,aF.default)({},s),{},{modalVisibility:!1,externalWalletsVisibility:!1})),s.status===p$&&t((0,aF.default)((0,aF.default)({},s),{},{modalVisibility:!0,status:pX}))},I=(0,f.useMemo)(()=>s.status===pX||s.status===pY||s.status===p$||s.status===p0,[s.status]);return((0,f.useEffect)(()=>{if(s.modalVisibility&&"object"==typeof s.externalWalletsConfig){var a;!1===((null==(a=s.externalWalletsConfig[aD.WALLET_CONNECTORS.WALLET_CONNECT_V2])?void 0:a.showOnModal)||!1)||s.walletConnectUri||"function"!=typeof d||d({connector:aD.WALLET_CONNECTORS.WALLET_CONNECT_V2})}},[s,d]),q===a4.WIDGET_TYPE.MODAL)?(0,e.jsx)(qx,{open:s.modalVisibility,placement:"center",padding:!1,showCloseIcon:I,onClose:G,borderRadius:n.borderRadiusType,children:s.modalVisibility&&(0,e.jsx)(sD,{appLogo:j,appName:k,chainNamespaces:l,walletRegistry:m,showPasswordLessInput:C,showExternalWalletButton:D,handleSocialLoginClick:a=>w(a),socialLoginsConfig:s.socialLoginsConfig,areSocialLoginsVisible:x,isEmailPrimary:A,isExternalPrimary:B,showExternalWalletPage:E,handleExternalWalletBtnClick:F,modalState:s,preHandleExternalWalletClick:v,setModalState:t,onCloseLoader:H,isEmailPasswordLessLoginVisible:y,isSmsPasswordLessLoginVisible:z,uiConfig:n,deviceDetails:o,isConnectAndSignAuthenticationMode:u,handleMobileVerifyConnect:g})}):(0,e.jsx)(qw,{open:s.modalVisibility,padding:!1,onClose:G,borderRadius:n.borderRadiusType,children:s.modalVisibility&&(0,e.jsx)(sD,{chainNamespaces:l,walletRegistry:m,appLogo:j,appName:k,showPasswordLessInput:C,showExternalWalletButton:D,handleSocialLoginClick:a=>w(a),socialLoginsConfig:s.socialLoginsConfig,areSocialLoginsVisible:x,isEmailPrimary:A,isExternalPrimary:B,showExternalWalletPage:E,handleExternalWalletBtnClick:F,modalState:s,preHandleExternalWalletClick:v,setModalState:t,onCloseLoader:H,isEmailPasswordLessLoginVisible:y,isSmsPasswordLessLoginVisible:z,uiConfig:n,deviceDetails:o,isConnectAndSignAuthenticationMode:u,handleMobileVerifyConnect:g})})}class sF{constructor(b,c){if((0,aG.default)(this,"uiConfig",void 0),(0,aG.default)(this,"stateEmitter",void 0),(0,aG.default)(this,"chainNamespaces",void 0),(0,aG.default)(this,"walletRegistry",void 0),(0,aG.default)(this,"callbacks",void 0),(0,aG.default)(this,"externalWalletsConfig",void 0),(0,aG.default)(this,"analytics",void 0),(0,aG.default)(this,"initModal",async()=>{let b={isDark:this.isDark},c=this.uiConfig.defaultLanguage||"en";return"de"===c?a.A(42726).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}):"ja"===c?a.A(27377).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}):"ko"===c?a.A(36788).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}):"zh"===c?a.A(8222).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}):"es"===c?a.A(55066).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}):"fr"===c?a.A(85768).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}):"pt"===c?a.A(17230).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}):"nl"===c?a.A(56449).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}):"tr"===c?a.A(70386).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}):"en"===c&&a.A(13600).then(a=>(rs.addResourceBundle(c,"translation",a.default),rs.changeLanguage(c))).catch(a=>{cs.log.error(a)}),new Promise(c=>{var d,f,g,h,i;if(this.stateEmitter.once("MOUNTED",()=>(cs.log.info("rendered"),this.setState({status:pX,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),c())),this.uiConfig.widgetType===a4.WIDGET_TYPE.MODAL){let a,b;h=this.uiConfig.modalZIndex,(a=document.getElementById("w3a-parent-container"))&&a.remove(),(b=document.createElement("section")).classList.add("w3a-parent-container"),b.setAttribute("id","w3a-parent-container"),b.style.zIndex=h,b.style.position="relative",document.body.appendChild(b)}else if(this.uiConfig.widgetType===a4.WIDGET_TYPE.EMBED){let a;i=this.uiConfig.targetId,(a=document.getElementById(i))?a.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>':cs.log.error(`Element with ID ${i} not found`)}else throw cr.WalletInitializationError.invalidParams(`Invalid widget type: ${this.uiConfig.widgetType}`);let j=document.getElementById("w3a-parent-container");b.isDark?j.classList.add("w3a--dark"):j.classList.remove("w3a--dark"),(0,p7.createRoot)(j).render((0,e.jsx)(qM.Provider,{value:b,children:(0,e.jsx)(ru.Provider,{value:{analytics:this.analytics},children:(0,e.jsx)(sE,{stateListener:this.stateEmitter,appLogo:b.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleMobileVerifyConnect:this.handleMobileVerifyConnect,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig,initialAuthenticationMode:this.uiConfig.initialAuthenticationMode})})}));let k=(null==(d=this.uiConfig)||null==(d=d.theme)?void 0:d.primary)==="#0364FF"&&(null==(f=this.uiConfig.theme)?void 0:f.onPrimary)==="#FFFFFF";null!=(g=this.uiConfig)&&g.theme&&!k&&a.A(48043).then(({default:a})=>{!function(a,b,c){if(c.primary){var d;let e,f,g=(e=p3(a,3,50,"black",0,20,d=c.primary),f=p3(a,6,85,"white",0,20,d),[...e.reverse(),d,...f]);b.style.setProperty("--app-primary-900",g[0]),b.style.setProperty("--app-primary-800",g[1]),b.style.setProperty("--app-primary-700",g[2]),b.style.setProperty("--app-primary-600",g[3]),b.style.setProperty("--app-primary-500",g[4]),b.style.setProperty("--app-primary-400",g[5]),b.style.setProperty("--app-primary-300",g[6]),b.style.setProperty("--app-primary-200",g[7]),b.style.setProperty("--app-primary-100",g[8]),b.style.setProperty("--app-primary-50",g[9])}c.onPrimary&&b.style.setProperty("--app-on-primary",c.onPrimary)}(a,document.getElementById("w3a-parent-container"),this.uiConfig.theme)}).catch(a=>{cs.log.error(a)})})}),(0,aG.default)(this,"addSocialLogins",(a,b,c,d)=>{this.setState({socialLoginsConfig:{connector:a,loginMethods:b,loginMethodsOrder:c,uiConfig:d}}),cs.log.info("addSocialLogins",a,b,c,d)}),(0,aG.default)(this,"addWalletLogins",(a,b)=>{this.externalWalletsConfig=a;let c=!!a[aD.WALLET_CONNECTORS.METAMASK];this.setState({externalWalletsConfig:a,externalWalletsInitialized:!!b.externalWalletsInitialized,showExternalWalletsOnly:!!b.showExternalWalletsOnly,externalWalletsVisibility:!c&&!!b.externalWalletsVisibility})}),(0,aG.default)(this,"open",()=>{var a,b,c;let d;this.setState({modalVisibility:!0}),null==(a=this.analytics)||a.track(a5.ANALYTICS_EVENTS.LOGIN_MODAL_OPENED,(0,aF.default)((0,aF.default)({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys(null==(b=this.walletRegistry)?void 0:b.default).length+Object.keys(null==(c=this.walletRegistry)?void 0:c.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},(0,a7.getWhitelabelAnalyticsProperties)(this.uiConfig)),{ui_modal_login_methods_order:null==(d=this.uiConfig)?void 0:d.loginMethodsOrder,ui_modal_z_index:null==d?void 0:d.modalZIndex,ui_modal_display_errors_on_modal:null==d?void 0:d.displayErrorsOnModal,ui_modal_login_grid_col:null==d?void 0:d.loginGridCol,ui_modal_primary_button:null==d?void 0:d.primaryButton,ui_modal_widget_type:null==d?void 0:d.widgetType,ui_modal_target_id_used:!!(null==d?void 0:d.targetId),ui_modal_logo_alignment:null==d?void 0:d.logoAlignment,ui_modal_border_radius_type:null==d?void 0:d.borderRadiusType,ui_modal_button_radius_type:null==d?void 0:d.buttonRadiusType,ui_modal_sign_in_methods:null==d?void 0:d.signInMethods,ui_modal_add_previous_login_hint:null==d?void 0:d.addPreviousLoginHint,ui_modal_display_installed_external_wallets:null==d?void 0:d.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:null==d?void 0:d.displayExternalWalletsCount})),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),(0,aG.default)(this,"closeModal",()=>{var a;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),null==(a=this.analytics)||a.track(a5.ANALYTICS_EVENTS.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),(0,aG.default)(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),(0,aG.default)(this,"handleShowExternalWallets",a=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:a})}),(0,aG.default)(this,"handleExternalWalletClick",a=>{cs.log.info("external wallet clicked",a);let{connector:b,chainNamespace:c}=a;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:b,loginParams:{chainNamespace:c}})}),(0,aG.default)(this,"handleMobileVerifyConnect",a=>{cs.log.info("mobile verify connect clicked",a);let{connector:b}=a;this.callbacks.onMobileVerifyConnect&&this.callbacks.onMobileVerifyConnect({connector:b})}),(0,aG.default)(this,"handleSocialLoginClick",a=>{var b;cs.log.info("social login clicked",a);let{connector:c,loginParams:d}=a;null==(b=this.analytics)||b.track(a5.ANALYTICS_EVENTS.SOCIAL_LOGIN_SELECTED,{connector:c,auth_connection:d.authConnection,auth_connection_id:d.authConnectionId,group_auth_connection_id:d.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:c,loginParams:d})}),(0,aG.default)(this,"setState",a=>{this.stateEmitter.emit("STATE_UPDATED",a)}),(0,aG.default)(this,"handleConnectorData",a=>{if(a.connectorName===aD.WALLET_CONNECTORS.WALLET_CONNECT_V2){let b=a.data;b.uri&&this.setState({walletConnectUri:b.uri})}if(a.connectorName===aD.WALLET_CONNECTORS.METAMASK){let b=a.data;b.uri&&this.setState({metamaskConnectUri:b.uri})}}),(0,aG.default)(this,"subscribeCoreEvents",a=>{a.on(a6.CONNECTOR_EVENTS.CONNECTING,a=>{var b;if(cs.log.info("connecting with connector",a),(null==a?void 0:a.connector)===aD.WALLET_CONNECTORS.WALLET_CONNECT_V2)return;let c=null==(b=this.externalWalletsConfig)||null==(b=b[aD.WALLET_CONNECTORS.METAMASK])?void 0:b.isInjected;((null==a?void 0:a.connector)!==aD.WALLET_CONNECTORS.METAMASK||c||"desktop"!==this.deviceDetails.platform)&&this.setState({status:pZ})}),a.on(a6.CONNECTOR_EVENTS.CONNECTED,a=>{cs.log.debug("connected with connector",a),a.reconnected||a.loginMode!==a4.LOGIN_MODE.MODAL?this.setState({status:pY}):this.setState({status:pY,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected",currentPage:p8})}),a.on(a6.CONNECTOR_EVENTS.ERRORED,(a,b)=>{cs.log.error("error",a,a.message),b!==a4.LOGIN_MODE.NO_MODAL&&(5e3===a.code?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:a.message||"modal.post-loading.something-wrong",status:p$}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:pX}))}),a.on(a6.CONNECTOR_EVENTS.DISCONNECTED,()=>{this.setState({status:pX,externalWalletsVisibility:!1})}),a.on(a6.CONNECTOR_EVENTS.CONNECTOR_DATA_UPDATED,a=>{this.handleConnectorData(a)}),a.on(a6.CONNECTOR_EVENTS.AUTHORIZING,()=>{this.setState({status:p_})}),a.on(a6.CONNECTOR_EVENTS.AUTHORIZED,()=>{this.setState({status:p0})})}),this.uiConfig=b,b.logoDark||(this.uiConfig.logoDark=qd),b.logoLight||(this.uiConfig.logoLight=qc),b.mode||(this.uiConfig.mode="light"),b.modalZIndex||(this.uiConfig.modalZIndex="99998"),void 0===b.displayErrorsOnModal&&(this.uiConfig.displayErrorsOnModal=!0),b.appName||(this.uiConfig.appName="Web3Auth"),b.loginGridCol||(this.uiConfig.loginGridCol=3),b.primaryButton||(this.uiConfig.primaryButton="socialLogin"),b.defaultLanguage||(this.uiConfig.defaultLanguage=qv(b.defaultLanguage)),b.widgetType||(this.uiConfig.widgetType=a4.WIDGET_TYPE.MODAL),b.initialAuthenticationMode||(this.uiConfig.initialAuthenticationMode=a6.CONNECTOR_INITIAL_AUTHENTICATION_MODE.CONNECT_ONLY),b.widgetType===a4.WIDGET_TYPE.EMBED&&!b.targetId)throw cs.log.error("targetId is required for embed widget"),cr.WalletInitializationError.invalidParams("targetId is required for embed widget");this.stateEmitter=new p6,this.chainNamespaces=b.chainNamespaces,this.walletRegistry=b.walletRegistry,this.callbacks=c,this.analytics=b.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}get isDark(){return"dark"===this.uiConfig.mode||"auto"===this.uiConfig.mode&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){return{platform:"mobile",browser:"chrome",os:"ios"}}}class sG extends pM{constructor(a,b){super(a,b),(0,aG.default)(this,"loginModal",void 0),(0,aG.default)(this,"options",void 0),(0,aG.default)(this,"modalConfig",cu(aE)),(0,aG.default)(this,"onInitExternalWallets",async a=>{a.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(a=>a.name===aD.WALLET_CONNECTORS.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),(0,aG.default)(this,"onSocialLogin",async a=>{try{await this.connectTo(aD.WALLET_CONNECTORS.AUTH,a.loginParams,a4.LOGIN_MODE.MODAL)}catch(b){cs.log.error(`Error while connecting to connector: ${a.connector}`,b)}}),(0,aG.default)(this,"onExternalWalletLogin",async a=>{try{var b;let c=this.getConnector(a.connector,null==(b=a.loginParams)?void 0:b.chainNamespace);if(c.name===aD.WALLET_CONNECTORS.WALLET_CONNECT_V2){let a=this.getInitialChainIdForConnector(c);await c.connect({chainId:a.chainId})}else await this.connectTo(a.connector,a.loginParams,a4.LOGIN_MODE.MODAL)}catch(b){cs.log.error(`Error while connecting to connector: ${a.connector}`,b)}}),(0,aG.default)(this,"onModalVisibility",async a=>{cs.log.debug("is login modal visible",a),this.emit(pW,a);let b=this.getConnector(aD.WALLET_CONNECTORS.WALLET_CONNECT_V2);if(b){let c=null==b?void 0:b.status;if(cs.log.debug("trying refreshing wc session",a,c),a&&(c===a6.CONNECTOR_STATUS.READY||c===a6.CONNECTOR_STATUS.CONNECTING)){cs.log.debug("refreshing wc session");try{let a=this.getInitialChainIdForConnector(b);b.connect({chainId:a.chainId})}catch(a){cs.log.error("Error while disconnecting to wallet connect in core",a)}}!a&&ct.CONNECTED_STATUSES.includes(this.status)&&(c===a6.CONNECTOR_STATUS.READY||c===a6.CONNECTOR_STATUS.CONNECTING)&&(cs.log.debug("this stops wc connector from trying to reconnect once proposal expires"),b.status=a6.CONNECTOR_STATUS.READY)}}),(0,aG.default)(this,"onMobileVerifyConnect",async a=>{try{let b=this.getConnector(a.connector);await b.getIdentityToken()}catch(b){cs.log.error(`Error while connecting to connector: ${a.connector}`,b)}}),(0,aG.default)(this,"getChainNamespaces",()=>{var a;return[...new Set((null==(a=this.coreOptions.chains)?void 0:a.map(a=>a.chainNamespace))||[])]}),this.options=(0,aF.default)({},a),this.options.uiConfig||(this.options.uiConfig={}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),cs.log.info("modalConfig",this.modalConfig)}async init(a){let b=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:a5.ANALYTICS_SDK_TYPE.WEB_MODAL,sdk_version:a7.sdkVersion,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let c={};try{var d,e;let{signal:f}=a||{};super.checkInitRequirements();let{projectConfig:g,walletRegistry:h}=await this.getProjectAndWalletConfig();this.initUIConfig(g),super.initAccountAbstractionConfig(g),super.initChainsConfig(g),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(g),super.initSessionTimeConfig(g),this.analytics.setGlobalProperties({team_id:g.teamId}),c=this.getInitializationTrackData();let{filteredWalletRegistry:i,disabledExternalWallets:j}=this.filterWalletRegistry(h,g);this.loginModal=new sF((0,aF.default)((0,aF.default)({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:i,analytics:this.analytics,initialAuthenticationMode:this.options.initialAuthenticationMode}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility,onMobileVerifyConnect:this.onMobileVerifyConnect}),await (0,a7.withAbort)(()=>this.loginModal.initModal(),f),await (0,a7.withAbort)(()=>this.setupCommonJRPCProvider(),f),this.on(a6.CONNECTOR_EVENTS.CONNECTORS_UPDATED,({connectors:a})=>{let b=()=>{var a;cs.log.debug("init aborted"),(null==(a=this.connectors)?void 0:a.length)>0&&super.cleanup()};(0,a7.withAbort)(()=>this.initConnectors({connectors:a,projectConfig:g,disabledExternalWallets:j}),f,b)}),await (0,a7.withAbort)(()=>super.loadConnectors({projectConfig:g,modalMode:!0}),f),await (0,a7.withAbort)(()=>super.initPlugins(),f);let k=this.getConnector(aD.WALLET_CONNECTORS.AUTH);c=(0,aF.default)((0,aF.default)({},c),{},{connectors:this.connectors.map(a=>a.name),plugins:Object.keys(this.plugins),auth_ux_mode:(null==k||null==(d=k.authInstance)||null==(d=d.options)?void 0:d.uxMode)||(null==(e=this.coreOptions.uiConfig)?void 0:e.uxMode)}),this.analytics.track(a5.ANALYTICS_EVENTS.SDK_INITIALIZATION_COMPLETED,(0,aF.default)((0,aF.default)({},c),{},{duration:Date.now()-b}))}catch(a){if(a instanceof DOMException&&"AbortError"===a.name)return;throw this.analytics.track(a5.ANALYTICS_EVENTS.SDK_INITIALIZATION_FAILED,(0,aF.default)((0,aF.default)((0,aF.default)({},c),(0,a7.getErrorAnalyticsProperties)(a)),{},{duration:Date.now()-b})),cs.log.error("Failed to initialize modal",a),a}}async connect(){if(!this.loginModal)throw cr.WalletInitializationError.notReady("Login modal is not initialized");return this.connectedConnectorName&&ct.CONNECTED_STATUSES.includes(this.status)&&this.provider?this.provider:(this.loginModal.open(),new Promise((a,b)=>{let c=()=>(this.removeListener(a6.CONNECTOR_EVENTS.ERRORED,d),this.removeListener(pW,e),a(this.provider)),d=a=>(this.removeListener(a6.CONNECTOR_EVENTS.CONNECTED,c),this.removeListener(a6.CONNECTOR_EVENTS.AUTHORIZED,c),this.removeListener(pW,e),b(a)),e=a=>{if(!a&&!ct.CONNECTED_STATUSES.includes(this.status))return this.removeListener(a6.CONNECTOR_EVENTS.CONNECTED,c),this.removeListener(a6.CONNECTOR_EVENTS.ERRORED,d),this.removeListener(a6.CONNECTOR_EVENTS.AUTHORIZED,c),b(Error("User closed the modal"))};this.coreOptions.initialAuthenticationMode===a6.CONNECTOR_INITIAL_AUTHENTICATION_MODE.CONNECT_AND_SIGN?this.once(a6.CONNECTOR_EVENTS.AUTHORIZED,c):this.once(a6.CONNECTOR_EVENTS.CONNECTED,c),this.once(a6.CONNECTOR_EVENTS.ERRORED,d),this.once(pW,e)}))}initUIConfig(a){super.initUIConfig(a),this.options.uiConfig=(0,a3.default)(cu(a.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=qv(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light"),this.options.uiConfig=(0,a3.default)(a.loginModal||{},this.options.uiConfig,{arrayMerge:(a,b)=>b});let b=a.embeddedWalletAuth.filter(a=>a.isDefault).map(a=>a.authConnection),c=[...this.options.uiConfig.loginMethodsOrder||[],...b],d=[],e=new Set;for(let a of c)e.has(a)||(e.add(a),d.push(a));this.options.uiConfig.loginMethodsOrder=d}getInitializationTrackData(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return(0,aF.default)((0,aF.default)({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:null==(a=this.modalConfig)?void 0:a.hideWalletDiscovery,modal_connectors:Object.keys((null==(b=this.modalConfig)?void 0:b.connectors)||{}),modal_auth_connector_login_methods:Object.keys((null==(c=this.modalConfig)||null==(c=c.connectors)||null==(c=c[aD.WALLET_CONNECTORS.AUTH])?void 0:c.loginMethods)||{}),ui_login_methods_order:null==(d=this.options.uiConfig)?void 0:d.loginMethodsOrder,ui_modal_z_index:null==(e=this.options.uiConfig)?void 0:e.modalZIndex,ui_display_errors_on_modal:null==(f=this.options.uiConfig)?void 0:f.displayErrorsOnModal,ui_login_grid_col:null==(g=this.options.uiConfig)?void 0:g.loginGridCol,ui_primary_button:null==(h=this.options.uiConfig)?void 0:h.primaryButton,ui_modal_widget_type:null==(i=this.options.uiConfig)?void 0:i.widgetType,ui_modal_target_id_used:!!(null==(j=this.options.uiConfig)?void 0:j.targetId),ui_modal_logo_alignment:null==(k=this.options.uiConfig)?void 0:k.logoAlignment,ui_modal_border_radius_type:null==(l=this.options.uiConfig)?void 0:l.borderRadiusType,ui_modal_button_radius_type:null==(m=this.options.uiConfig)?void 0:m.buttonRadiusType,ui_modal_sign_in_methods:null==(n=this.options.uiConfig)?void 0:n.signInMethods,ui_modal_add_previous_login_hint:null==(o=this.options.uiConfig)?void 0:o.addPreviousLoginHint,ui_modal_display_installed_external_wallets:null==(p=this.options.uiConfig)?void 0:p.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:null==(q=this.options.uiConfig)?void 0:q.displayExternalWalletsCount})}filterWalletRegistry(a,b){let{disableAllRecommendedWallets:c,disableAllOtherWallets:d,disabledWallets:e}=b.externalWalletAuth||{},f=new Set(e||[]);c&&Object.keys(a.default).forEach(a=>f.add(a)),d&&Object.keys(a.others).forEach(a=>f.add(a)),f.delete(aD.WALLET_CONNECTORS.METAMASK);let g=cu(a);return f.forEach(a=>{delete g.default[a],delete g.others[a]}),{disabledExternalWallets:f,filteredWalletRegistry:g}}async getProjectAndWalletConfig(){var a,b;let[c,d]=await Promise.allSettled([(0,a7.fetchProjectConfig)({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:null==(a=this.options.accountAbstractionConfig)?void 0:a.smartAccountType,authBuildEnv:this.options.authBuildEnv}),(0,a7.fetchWalletRegistry)(a4.WALLET_REGISTRY_URL)]);if("rejected"===c.status){let a=await (0,aH.serializeError)(c.reason);throw cs.log.error("Failed to fetch project configurations",a),cr.WalletInitializationError.notReady("failed to fetch project configurations",a)}let e=c.value,f={others:{},default:{}};return e.externalWalletAuth&&!(null!=(b=this.modalConfig)&&b.hideWalletDiscovery)&&("fulfilled"===d.status?f=d.value:cs.log.error("Failed to fetch wallet registry",d.reason)),{projectConfig:e,walletRegistry:f}}async initConnectors({connectors:a,projectConfig:b,disabledExternalWallets:c}){let d=await this.filterConnectors({projectConfig:b,disabledExternalWallets:c}),{hasInAppConnectors:e,hasExternalConnectors:f}=await this.checkConnectorAvailability(d),g=a.filter(a=>d.includes(a.name));await this.initInAppAndCachedConnectors(g),f&&(e?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(g.filter(a=>a.type===a6.CONNECTOR_CATEGORY.EXTERNAL&&a.name!==aD.WALLET_CONNECTORS.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(g.filter(a=>a.type===a6.CONNECTOR_CATEGORY.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===a6.CONNECTOR_STATUS.NOT_READY&&(this.status=a6.CONNECTOR_STATUS.READY,this.emit(a6.CONNECTOR_EVENTS.READY))}async filterConnectors({projectConfig:a,disabledExternalWallets:b}){var c;let d={},e=new Map;for(let b of a.embeddedWalletAuth||[]){let{isDefault:a,authConnection:c,groupedAuthConnectionId:f,authConnectionId:g}=b;a&&(d[c]={name:pU[c],authConnection:c,authConnectionId:g,groupedAuthConnectionId:f,extraLoginOptions:b.jwtParameters,isDefault:!0,showOnModal:!0});let h=this.getCombinedConnectionId(g,f);e.set(h,b)}let f={[aD.WALLET_CONNECTORS.AUTH]:{label:aD.WALLET_CONNECTORS.AUTH,loginMethods:d}};null!=(c=this.modalConfig)&&null!=(c=c.connectors)&&c[aD.WALLET_CONNECTORS.AUTH]&&!this.modalConfig.connectors[aD.WALLET_CONNECTORS.AUTH].loginMethods&&(this.modalConfig.connectors[aD.WALLET_CONNECTORS.AUTH].loginMethods={});let g=new Set(pT);return Object.keys(this.modalConfig.connectors[aD.WALLET_CONNECTORS.AUTH].loginMethods).forEach(a=>{let b=this.modalConfig.connectors[aD.WALLET_CONNECTORS.AUTH].loginMethods[a],{authConnectionId:c,groupedAuthConnectionId:d}=b;if(!g.has(a))throw cr.WalletInitializationError.invalidParams(`Invalid auth connection: ${a}`);if(d||c){let f=this.getCombinedConnectionId(c,d);if(!e.has(f))throw cr.WalletInitializationError.invalidParams(`Invalid auth connection config, authConnection: ${a}. Missing AuthConnectionConfig from the dashboard.`);let g=e.get(f);this.modalConfig.connectors[aD.WALLET_CONNECTORS.AUTH].loginMethods[a]=(0,aF.default)((0,aF.default)({},b),{},{authConnection:g.authConnection,authConnectionId:g.authConnectionId,groupedAuthConnectionId:g.groupedAuthConnectionId,isDefault:g.isDefault||!1,extraLoginOptions:(0,aF.default)((0,aF.default)({},g.jwtParameters),b.extraLoginOptions)})}}),this.modalConfig.connectors=(0,a3.default)(f,cu(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(a=>a.name)])].map(c=>{var d,e,f,g;let h={label:aD.CONNECTOR_NAMES[c]||c.split("-").map(pR).join(" "),showOnModal:!0};this.modalConfig.connectors[c]=(0,aF.default)((0,aF.default)({},h),(null==(d=this.modalConfig)||null==(d=d.connectors)?void 0:d[c])||{});let i=this.getConnector(c);cs.log.debug("connector config",c,null==(e=this.modalConfig.connectors)||null==(e=e[c])?void 0:e.showOnModal,i);let j=null==(f=this.modalConfig.connectors)?void 0:f[c];if(!i){if(j.showOnModal)throw cr.WalletInitializationError.invalidParams(`Connector ${c} is not configured`);return}if(!j.showOnModal)return;let k=!!a.externalWalletAuth;if(!(i.type===a6.CONNECTOR_CATEGORY.EXTERNAL&&i.name!==aD.WALLET_CONNECTORS.METAMASK&&(!k||b.has(c)))){if(c!==aD.WALLET_CONNECTORS.WALLET_CONNECT_V2||k&&(null==(g=this.modalConfig)||!g.hideWalletDiscovery))return this.modalConfig.connectors[c]=j,c}}).filter(a=>void 0!==a)}async checkConnectorAvailability(a){let b=this.connectors.some(a=>{var b,c;return a.type===a6.CONNECTOR_CATEGORY.IN_APP&&(null==(b=this.modalConfig.connectors)||null==(b=b[a.name])?void 0:b.showOnModal)===!0&&!!(!(null!=(c=this.modalConfig.connectors)&&null!=(c=c[a.name])&&c.loginMethods)||Object.values(this.modalConfig.connectors[a.name].loginMethods).some(a=>a.showOnModal))});return cs.log.debug(b,this.connectors,a,"hasInAppWallets"),{hasInAppConnectors:b,hasExternalConnectors:a.some(a=>{var b,c;return a===aD.WALLET_CONNECTORS.WALLET_CONNECT_V2||(null==(b=this.getConnector(a))?void 0:b.type)===a6.CONNECTOR_CATEGORY.EXTERNAL&&(null==(c=this.modalConfig.connectors)||null==(c=c[a])?void 0:c.showOnModal)})}}async initInAppAndCachedConnectors(a){await Promise.all(a.map(async a=>{let b=a.name;try{if(a.status!==a6.CONNECTOR_STATUS.NOT_READY||this.cachedConnector!==b&&a.type===a6.CONNECTOR_CATEGORY.EXTERNAL)return;this.subscribeToConnectorEvents(a);let g=this.getInitialChainIdForConnector(a),h=super.checkIfAutoConnect(a);if(await a.init({autoConnect:h,chainId:g.chainId,getIdentityToken:this.options.initialAuthenticationMode===a6.CONNECTOR_INITIAL_AUTHENTICATION_MODE.CONNECT_AND_SIGN}),a.type===a6.CONNECTOR_CATEGORY.IN_APP){var c,d,e,f;cs.log.info("connectorInitResults",b);let a=(null==(c=this.modalConfig.connectors[b])?void 0:c.loginMethods)||{};this.loginModal.addSocialLogins(b,a,(null==(d=this.options.uiConfig)?void 0:d.loginMethodsOrder)||pT,(0,aF.default)((0,aF.default)({},this.options.uiConfig),{},{loginGridCol:(null==(e=this.options.uiConfig)?void 0:e.loginGridCol)||3,primaryButton:(null==(f=this.options.uiConfig)?void 0:f.primaryButton)||"socialLogin"}))}}catch(a){cs.log.error(a,"error while initializing connector ",b)}}))}async initExternalConnectors(a,b){let c={},d={};a.forEach(async a=>{let e=a.name;if(cs.log.debug("init external wallet",this.cachedConnector,e,a.status),d[e]||(d[e]=new Set),a.connectorNamespace===cq.CONNECTOR_NAMESPACES.MULTICHAIN?this.getChainNamespaces().forEach(a=>d[e].add(a)):d[e].add(a.connectorNamespace),a.status===a6.CONNECTOR_STATUS.NOT_READY&&this.cachedConnector!==e)try{this.subscribeToConnectorEvents(a);let b=this.getInitialChainIdForConnector(a);await a.init({autoConnect:this.cachedConnector===e,chainId:b.chainId,getIdentityToken:this.options.initialAuthenticationMode===a6.CONNECTOR_INITIAL_AUTHENTICATION_MODE.CONNECT_AND_SIGN})}catch(a){cs.log.error(a,"error while initializing connector",e)}if([a6.CONNECTOR_STATUS.NOT_READY,a6.CONNECTOR_STATUS.READY,a6.CONNECTOR_STATUS.CONNECTING,a6.CONNECTOR_STATUS.CONNECTED,a6.CONNECTOR_STATUS.AUTHORIZING,a6.CONNECTOR_STATUS.AUTHORIZED].includes(a.status)){let f=this.modalConfig.connectors[e];c[e]=(0,aF.default)((0,aF.default)({},f),{},{isInjected:a.isInjected,icon:a.icon,chainNamespaces:Array.from(d[e])}),this.loginModal.addWalletLogins(c,{showExternalWalletsOnly:!!b.showExternalWalletsOnly,externalWalletsVisibility:!!b.externalWalletsVisibility,externalWalletsInitialized:!!b.externalWalletsInitialized})}})}getCombinedConnectionId(a,b){let c=a;return b&&(c=`${b}_${a}`),c}}let sH="solana",sI={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},sJ={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};sI.MAINNET,sI.TESTNET,sI.CYAN,sI.AQUA,sI.CELESTE,sI.AQUA,sJ.SAPPHIRE_MAINNET,sI.CELESTE,sJ.SAPPHIRE_MAINNET,sI.CYAN,sJ.SAPPHIRE_MAINNET,sI.MAINNET,sJ.SAPPHIRE_MAINNET,sI.TESTNET,sJ.SAPPHIRE_DEVNET,sI.MAINNET,sI.TESTNET,sI.CYAN,sI.AQUA,sI.CELESTE,sJ.SAPPHIRE_MAINNET,sJ.SAPPHIRE_DEVNET,sI.MAINNET,sI.TESTNET,sI.CYAN,sI.AQUA,sI.CELESTE,sI.MAINNET,sI.TESTNET,sI.CYAN,sI.AQUA,sI.CELESTE;let sK=(0,aF.default)((0,aF.default)({},sJ),sI);var sL=a.i(57266);let sM=-32600,sN=-32601,sO=-32602,sP=-32603,sQ={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},sR=sP;function sS(a){return Number.isInteger(a)}function sT(a){return"string"==typeof a&&a.length>0}function sU(a){return!!a&&"object"==typeof a&&!Array.isArray(a)}function sV(a){return!!a&&!!sS(a.code)&&!!sT(a.message)&&(!a.stack||!!sT(a.stack))}function sW(a,b="Unspecified error message. This is a bug, please report it."){if(sS(a)){let b=a.toString();if(Object.hasOwn(sQ,b))return sQ[b].message;if(a>=-32099&&a<=-32e3)return"Unspecified server error."}return b}let sX={code:sR,message:sW(sR)};function sY(a){try{JSON.parse(JSON.stringify(a,(a,b)=>{if("__proto__"===a||"constructor"===a||"function"==typeof b||"symbol"==typeof b)throw Error("Not valid json");return b}),(a,b)=>{if("__proto__"!==a&&"constructor"!==a)return b})}catch(a){return!1}return!0}function sZ(a){return Object.getOwnPropertyNames(a).reduce((b,c)=>{let d=a[c];return sY(d)&&(b[c]=d),b},{})}function s$(a){return Array.isArray(a)?a.map(a=>sY(a)?a:sU(a)?sZ(a):null):sU(a)?sZ(a):sY(a)?a:null}function s_(a,{fallbackError:b=sX,shouldIncludeStack:c=!0}={}){if(!sV(b))throw Error("Must provide fallback error with integer number code and string message.");let d=function(a,b){if(a&&"object"==typeof a&&"serialize"in a&&"function"==typeof a.serialize)return a.serialize();if(sV(a))return a;let c=s$(a);return(0,aF.default)((0,aF.default)({},b),{},{data:{cause:c}})}(a,b);return c||delete d.stack,d}function s0(a,b){if("[Circular]"!==b)return b}class s1 extends Error{constructor(a,b,c){if(!Number.isInteger(a))throw Error('"code" must be an integer.');if(!b||"string"!=typeof b)throw Error('"message" must be a non-empty string.');!function(a){return sU(a)&&Object.hasOwn(a,"cause")&&sU(a.cause)}(c)?(super(b),(0,aG.default)(this,"cause",void 0),(0,aG.default)(this,"code",void 0),(0,aG.default)(this,"data",void 0)):(super(b,{cause:c.cause}),(0,aG.default)(this,"cause",void 0),(0,aG.default)(this,"code",void 0),(0,aG.default)(this,"data",void 0),Object.hasOwn(this,"cause")||Object.assign(this,{cause:c.cause})),void 0!==c&&(this.data=c),this.code=a,this.cause=null==c?void 0:c.cause}serialize(){let a={code:this.code,message:this.message};return void 0!==this.data&&(a.data=this.data,function(a){if("object"!=typeof a||null===a)return!1;try{let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}catch(a){return!1}}(this.data)&&(a.data.cause=s$(this.data.cause))),this.stack&&(a.stack=this.stack),a}toString(){return(0,sL.default)(this.serialize(),{replacer:s0,space:2})}}class s2 extends s1{constructor(a,b,c){if(!function(a){return Number.isInteger(a)&&a>=1e3&&a<=4999}(a))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(a,b,c)}}function s3(a){if(a){if("string"==typeof a)return[a];else if("object"==typeof a&&!Array.isArray(a)){let{message:b,data:c}=a;if(b&&"string"!=typeof b)throw Error("Must specify string message.");return[null!=b?b:void 0,c]}}return[]}function s4(a,b){let[c,d]=s3(b);return new s1(a,null!=c?c:sW(a),d)}let s5=a=>s4(sN,a),s6=a=>s4(sP,a),s7=a=>{if(!a||"object"!=typeof a||Array.isArray(a))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:b,message:c,data:d}=a;if(!c||"string"!=typeof c)throw Error('"message" must be a nonempty string');return new s2(b,c,d)};var s8=a.i(8627);let s9=s8.default.lowlevel;a.i(19432);let ta=aP.default.getLogger("auth");ta.setLevel("error");var tb=bR;function tc(a,b,c){try{Reflect.apply(a,b,c)}catch(a){setTimeout(()=>{throw a})}}class td extends tb.EventEmitter{emit(a,...b){let c="error"===a,d=this._events;if(void 0!==d)c=c&&void 0===d.error;else if(!c)return!1;if(c){let a;if(b.length>0&&([a]=b),a instanceof Error)throw a;let c=Error(`Unhandled error.${a?` (${a.message})`:""}`);throw c.context=a,c}let e=d[a];if(void 0===e)return!1;if("function"==typeof e)tc(e,this,b);else{let a=e.length,c=function(a){let b=a.length,c=Array(b);for(let d=0;d<b;d+=1)c[d]=a[d];return c}(e);for(let d=0;d<a;d+=1)tc(c[d],this,b)}return!0}}class te extends Error{constructor({code:a,message:b,data:c}){if(!Number.isInteger(a))throw Error("code must be an integer");if(!b||"string"!=typeof b)throw Error("message must be string");super(b),(0,aG.default)(this,"code",void 0),(0,aG.default)(this,"data",void 0),this.code=a,void 0!==c&&(this.data=c)}toString(){return(0,sL.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function tf(a){let{message:b="",code:c=-32603,stack:d="Stack trace is not available.",data:e=""}=a,f=parseInt((null==c?void 0:c.toString())||"-32603");return{message:b||(null==a?void 0:a.toString())||sW(f),code:f,stack:d,data:e||b||(null==a?void 0:a.toString())}}class tg extends td{constructor(){super(),(0,aG.default)(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(a,b,c){let d=[],e=null,f=!1;for(let g of c)if([e,f]=await tg._runMiddleware(a,b,g,d),f)break;return[e,f,d.reverse()]}static _runMiddleware(a,b,c,d){return new Promise(e=>{let f=a=>{let c=a||b.error;c&&("object"==typeof c&&!1===Object.keys(c).includes("stack")&&(c.stack="Stack trace is not available."),ta.error(c),b.error=s_(c,{shouldIncludeStack:!0,fallbackError:tf(c)})),e([c,!0])};try{c(a,b,a=>{b.error?f(b.error):(a&&("function"!=typeof a&&f(new te({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),d.push(a)),e([null,!1]))},f)}catch(a){f(a)}})}static async _runReturnHandlers(a){for(let b of a)await new Promise((a,c)=>{b(b=>b?c(b):a())})}static _checkForCompletion(a,b,c){if(!("result"in b)&&!("error"in b))throw new te({code:-32603,message:"Response has no error or result for request"});if(!c)throw new te({code:-32603,message:"Nothing ended request"})}push(a){this._middleware.push(a)}handle(a,b){if(b&&"function"!=typeof b)throw Error('"callback" must be a function if provided.');return Array.isArray(a)?b?this._handleBatch(a,b):this._handleBatch(a):b?this._handle(a,b):this._promiseHandle(a)}asMiddleware(){return async(a,b,c,d)=>{try{let[e,f,g]=await tg._runAllMiddleware(a,b,this._middleware);if(f)return await tg._runReturnHandlers(g),d(e);return c(async a=>{try{await tg._runReturnHandlers(g)}catch(b){return a(b)}return a()})}catch(a){return d(a)}}}async _handleBatch(a,b){try{let c=await Promise.all(a.map(this._promiseHandle.bind(this)));if(b)return b(null,c);return c}catch(a){if(b)return b(a);throw a}}_promiseHandle(a){return new Promise((b,c)=>{this._handle(a,(a,d)=>{a&&void 0===d?c(a):b(d)}).catch(c)})}async _handle(a,b){if(!a||Array.isArray(a)||"object"!=typeof a){let a=new te({code:-32603,message:"request must be plain object"});return b(a,{id:void 0,jsonrpc:"2.0",error:a})}if("string"!=typeof a.method){let c=new te({code:-32603,message:"method must be string"});return b(c,{id:a.id,jsonrpc:"2.0",error:c})}let c=(0,aF.default)({},a),d={id:c.id,jsonrpc:c.jsonrpc},e=null;try{await this._processRequest(c,d)}catch(a){e=a}return e&&(delete d.result,d.error||("object"==typeof e&&!1===Object.keys(e).includes("stack")&&(e.stack="Stack trace is not available."),ta.error(e),d.error=s_(e,{shouldIncludeStack:!0,fallbackError:tf(e)}))),b(e,d)}async _processRequest(a,b){let[c,d,e]=await tg._runAllMiddleware(a,b,this._middleware);if(tg._checkForCompletion(a,b,d),await tg._runReturnHandlers(e),c)throw c}}function th(a){let b=new tg;return a.forEach(a=>{b.push(a)}),b.asMiddleware()}var ti=bN;class tj extends ti.CustomError{constructor(a,b,c){super(b),(0,aG.default)(this,"code",void 0),(0,aG.default)(this,"message",void 0),(0,aG.default)(this,"cause",void 0),this.code=a,this.message=b||"",this.cause=c,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:function(a){let b,c=a.findIndex(a=>a instanceof Error),d=a.findIndex(a=>"string"==typeof a),e=a.findIndex(a=>a&&"object"==typeof a&&"status"in a&&"type"in a);if(-1!==e){let c=a[e];b=Error(`${c.status} ${c.type.toString()} ${c.statusText}`)}else b=-1!==c?a.splice(c,1)[0]:-1!==d?Error(a.splice(d,1)[0]):Error("Unknown error");return[b,a]}([this.cause])}}toString(){return JSON.stringify(this.toJSON())}}class tk extends tj{constructor(a,b,c){super(a,b,c),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(a,b="",c){return new tk(a,`${tk.messages[a]}, ${b}`,c)}static notFound(a="",b){return tk.fromCode(5001,a,b)}static notInstalled(a="",b){return tk.fromCode(5002,a,b)}static notReady(a="",b){return tk.fromCode(5003,a,b)}static windowBlocked(a="",b){return tk.fromCode(5004,a,b)}static windowClosed(a="",b){return tk.fromCode(5005,a,b)}static incompatibleChainNameSpace(a="",b){return tk.fromCode(5006,a,b)}static duplicateAdapterError(a="",b){return tk.fromCode(5007,a,b)}static invalidProviderConfigError(a="",b){return tk.fromCode(5008,a,b)}static providerNotReadyError(a="",b){return tk.fromCode(5009,a,b)}static rpcConnectionError(a="",b){return tk.fromCode(5010,a,b)}static invalidParams(a="",b){return tk.fromCode(5011,a,b)}static invalidNetwork(a="",b){return tk.fromCode(5013,a,b)}}(0,aG.default)(tk,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class tl extends tj{constructor(a,b,c){super(a,b,c),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(a,b="",c){return new tl(a,`${tl.messages[a]}. ${b}`,c)}static connectionError(a="",b){return tl.fromCode(5111,a,b)}static disconnectionError(a="",b){return tl.fromCode(5112,a,b)}static notConnectedError(a="",b){return tl.fromCode(5113,a,b)}static popupClosed(a="",b){return tl.fromCode(5114,a,b)}static mfaEnabled(a="",b){return tl.fromCode(5115,a,b)}static chainConfigNotAdded(a="",b){return tl.fromCode(5116,a,b)}static unsupportedOperation(a="",b){return tl.fromCode(5117,a,b)}static coreKitKeyNotFound(a="",b){return tl.fromCode(5118,a,b)}static userNotLoggedIn(a="",b){return tl.fromCode(5119,a,b)}}(0,aG.default)(tl,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class tm extends tj{constructor(a,b,c){super(a,b,c),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(a,b="",c){return new tm(a,`${tm.messages[a]}, ${b}`,c)}static chainIDNotAllowed(a="",b){return tm.fromCode(5201,a,b)}static operationNotAllowed(a="",b){return tm.fromCode(5202,a,b)}static chainNamespaceNotAllowed(a="",b){return tm.fromCode(5203,a,b)}}(0,aG.default)(tm,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class tn extends tj{constructor(a,b,c){super(a,b,c),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(a,b="",c){return new tm(a,`${tn.messages[a]}, ${b}`,c)}static invalidRequestArgs(a="",b){return tm.fromCode(5301,a,b)}static invalidRequestMethod(a="",b){return tm.fromCode(5302,a,b)}static invalidRequestParams(a="",b){return tm.fromCode(5303,a,b)}}(0,aG.default)(tn,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});class to extends td{constructor({config:a={},state:b={}}){super(),(0,aG.default)(this,"defaultConfig",{}),(0,aG.default)(this,"defaultState",{}),(0,aG.default)(this,"disabled",!1),(0,aG.default)(this,"name","BaseController"),(0,aG.default)(this,"initialConfig",void 0),(0,aG.default)(this,"initialState",void 0),(0,aG.default)(this,"internalConfig",this.defaultConfig),(0,aG.default)(this,"internalState",this.defaultState),this.initialState=b,this.initialConfig=a}get config(){return this.internalConfig}get state(){return this.internalState}configure(a,b=!1,c=!0){if(c)for(let c in this.internalConfig=b?a:Object.assign(this.internalConfig,a),this.internalConfig)void 0!==this.internalConfig[c]&&(this[c]=this.internalConfig[c]);else for(let b in a)void 0!==this.internalConfig[b]&&(this.internalConfig[b]=a[b],this[b]=a[b])}update(a,b=!1){this.internalState=b?(0,aF.default)({},a):(0,aF.default)((0,aF.default)({},this.internalState),a),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}let tp=()=>!0,tq=["newListener","removeListener"],tr=a=>!tq.includes(a);class ts extends to{constructor({config:a,state:b}){if(super({config:a,state:b}),(0,aG.default)(this,"_providerEngineProxy",null),(0,aG.default)(this,"keyExportFlagSetByCode",!1),!a.chainConfig)throw tk.invalidProviderConfigError("Please provide chainConfig");if(!a.chainConfig.chainId)throw tk.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!a.chainConfig.rpcTarget)throw tk.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");"boolean"==typeof a.keyExportEnabled&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chainConfig:a.chainConfig,networks:{[a.chainConfig.chainId]:a.chainConfig},keyExportEnabled:"boolean"!=typeof a.keyExportEnabled||a.keyExportEnabled},super.initialize()}get currentChainConfig(){return this.config.chainConfig}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(a){throw Error("Method not implemented.")}async request(a){var b;if(!a||"object"!=typeof a||Array.isArray(a)){let b;throw b={message:tn.invalidRequestArgs().message,data:(0,aF.default)((0,aF.default)({},a||{}),{},{cause:tn.invalidRequestArgs().message})},s4(sM,b)}let{method:c,params:d}=a;if("string"!=typeof c||0===c.length){let b;throw b={message:tn.invalidRequestMethod().message,data:(0,aF.default)((0,aF.default)({},a||{}),{},{cause:tn.invalidRequestMethod().message})},s4(sM,b)}if(void 0!==d&&!Array.isArray(d)&&("object"!=typeof d||null===d)){let b;throw b={message:tn.invalidRequestParams().message,data:(0,aF.default)((0,aF.default)({},a||{}),{},{cause:tn.invalidRequestParams().message})},s4(sM,b)}return null==(b=this.provider)?void 0:b.request(a)}sendAsync(a,b){return b?this.send(a,b):this.request(a)}send(a,b){this.request(a).then(a=>b(null,{result:a})).catch(a=>b(a,null))}addChain(a){if(!a.chainId||!a.rpcTarget){let a;throw a="chainId is required",s4(sO,a)}this.configure({networks:(0,aF.default)((0,aF.default)({},this.config.networks),{},{[a.chainId]:a})})}getChainConfig(a){var b;let c=null==(b=this.config.networks)?void 0:b[a];if(!c){let b;throw b=`Chain ${a} is not supported, please add chainConfig for it`,s4(sM,b)}return c}updateProviderEngineProxy(a){this._providerEngineProxy?this._providerEngineProxy.setTarget(a):this._providerEngineProxy=function(a,b){let c=tp;if("string"==typeof c&&"skipInternal"===c&&(c=tr),"function"!=typeof c)throw Error("createEventEmitterProxy - Invalid eventFilter");let d=a,e=a=>{if(d===a)return;let b=d;d=a,b.eventNames().filter(c).forEach(c=>{(void 0!==b.rawListeners?b.rawListeners(c):b.listeners(c)).forEach(b=>{a.on(c,b)})}),b.removeAllListeners()};return new Proxy({},{get:(a,b)=>"setTarget"===b?e:d[b],set:(a,b,c)=>("setTarget"===b?e=c:d[b]=c,!0),has:(a,b)=>"_"!==b[0]&&b in d})}(a)}setKeyExportFlag(a){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:a})}getProviderEngineProxy(){return this._providerEngineProxy}}function tt(a){return async(b,c,d,e)=>{let f,g=new Promise(a=>{f=a}),h=null,i=!1,j=async()=>{i=!0,d(a=>{h=a,f()}),await g};try{await a(b,c,j),i?(await g,h(null)):e(null)}catch(a){h?h(a):e(a)}}}let tu=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function tv(a,b){return tt(async(c,d,e)=>{let{method:f}=c;if(f!==a)return e();if(!b)throw Error(`WalletMiddleware - ${a} not provided`);d.result=await b(c)})}async function tw({privKey:a,keyExportEnabled:b,getProviderEngineProxy:c}){if("string"!=typeof a)throw tk.invalidParams("privKey must be a string");let d=g.Keypair.fromSecretKey(Buffer.from(a,"hex"));return{requestAccounts:async()=>[d.publicKey.toBase58()],getAccounts:async()=>[d.publicKey.toBase58()],getPublicKey:async()=>d.publicKey.toBase58(),getPrivateKey:async()=>{if(!b)throw s7({message:"Private key export is disabled",code:4902});return a},getSecretKey:async()=>M.default.encode(d.secretKey),signTransaction:async a=>{var b;if(!(null!=(b=a.params)&&b.message)){let a;throw a="message",s4(sO,a)}let c=a.params.message;return void 0!==c.version||c instanceof g.VersionedTransaction?c.sign([d]):c.partialSign(d),c},signMessage:async a=>{var b;if(!(null!=(b=a.params)&&b.message)){let a;throw a="message",s4(sO,a)}return s8.default.sign.detached(a.params.message,d.secretKey)},signAndSendTransaction:async a=>{var b;if(!(null!=(b=a.params)&&b.message)){let a;throw a="message",s4(sO,a)}let e=c();if(!e)throw s7({message:"Provider is not initialized",code:4902});let f=a.params.message;return void 0!==f.version||f instanceof g.VersionedTransaction?f.sign([d]):f.partialSign(d),{signature:await e.request({method:"sendTransaction",params:[Buffer.from(f.serialize()).toString("base64"),{encoding:"base64",preflightCommitment:"confirmed"}]})}},signAllTransactions:async a=>{var b,c,e;if(!(null!=(b=a.params)&&b.message)||!(null!=(c=a.params)&&c.message.length)){let a;throw a="message",s4(sO,a)}let f=null==(e=a.params)?void 0:e.message;for(let a of f||[])void 0!==a.version||a instanceof g.VersionedTransaction?a.sign([d]):a.partialSign(d);return f}}}class tx extends ts{constructor({config:a,state:b}){super({config:a,state:b}),(0,aG.default)(this,"PROVIDER_CHAIN_NAMESPACE",sH)}async enable(){if(!this.state.privateKey)throw s7({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}getEd25519Key(a){return(function(a){let b;b="string"==typeof a?Buffer.from(a,"hex"):a;let c=new Uint8Array(64),d=[s9.gf(),s9.gf(),s9.gf(),s9.gf()],e=new Uint8Array([...new Uint8Array(b),...new Uint8Array(32)]),f=new Uint8Array(32);s9.crypto_hash(c,e,32),c[0]&=248,c[31]&=127,c[31]|=64,s9.scalarbase(d,c),s9.pack(f,d);for(let a=0;a<32;a+=1)e[a+32]=f[a];return{sk:Buffer.from(e),pk:Buffer.from(f)}})(a).sk.toString("hex").padStart(128,"0")}async setupProvider(a){let b,{chainNamespace:c}=this.config.chainConfig;if(c!==this.PROVIDER_CHAIN_NAMESPACE)throw tk.incompatibleChainNameSpace("Invalid chain namespace");let d=function(a){let{getAccounts:b,requestAccounts:c,signTransaction:d,signAndSendTransaction:e,signAllTransactions:f,signMessage:g,getPrivateKey:h,getSecretKey:i,getPublicKey:j}=a;return th([function({requestAccounts:a}){return tt(async(b,c,d)=>{let{method:e}=b;if("requestAccounts"!==e)return d();if(!a)throw Error("WalletMiddleware - opts.requestAccounts not provided");c.result=await a(b)})}({requestAccounts:c}),function({getAccounts:a}){return tt(async(b,c,d)=>{let{method:e}=b;if("getAccounts"!==e)return d();if(!a)throw Error("WalletMiddleware - opts.getAccounts not provided");c.result=await a(b)})}({getAccounts:b}),tv("signTransaction",d),tv("signAndSendTransaction",e),tv("signAllTransactions",f),tv("signMessage",g),tv("solanaPrivateKey",h),tv("private_key",h),tv("public_key",j),tv("solanaPublicKey",j),tv("solanaSecretKey",i)])}(await tw({privKey:a,getProviderEngineProxy:this.getProviderEngineProxy.bind(this),keyExportEnabled:this.config.keyExportEnabled})),e=new tg,{networkMiddleware:f}=function(a){let{rpcTarget:b}=a,c=function({rpcTarget:a,originHttpHeaderKey:b}){return tt(async(c,d,e)=>{let{fetchUrl:f,fetchParams:g}=function({req:a,rpcTarget:b,originHttpHeaderKey:c}){let d=new URL(b),e={id:a.id,jsonrpc:a.jsonrpc,method:a.method,params:a.params},f=a.origin,g={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};return c&&f&&(g.headers[c]=f),{fetchUrl:d.href,fetchParams:g}}({req:c,rpcTarget:a,originHttpHeaderKey:b});for(let a=0;a<5;a++){try{let a=await fetch(f,g);switch(a.status){case 405:throw s5();case 418:throw s6({message:"Request is being rate limited.",data:{cause:a}});case 503:case 504:throw s6({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:a}})}let b=await a.json();d.result=function(a,b){if(200!==a.status)throw s6({message:`Non-200 status code: '${a.status}'`,data:b});if(b.error){var c;throw s6({data:b.error,message:null==(c=b.error)?void 0:c.message})}return b.result}(a,b);return}catch(b){let a=(b.message||b).toString();if(!tu.some(b=>a.includes(b)))throw b}await new Promise(a=>{setTimeout(a,1e3)})}})}({rpcTarget:b});return{networkMiddleware:th([function(a){let{chainId:b}=a;return th([(a,c,d,e)=>"solana_chainId"===a.method?(c.result=b,e()):d(),(b,c,d,e)=>"solana_provider_config"===b.method?(c.result=a,e()):d()])}(a),c]),fetchMiddleware:c}}(this.config.chainConfig);e.push(this.getChainSwitchMiddleware()),e.push(this.getAccountMiddleware()),e.push(d),e.push(f);let g=((b=new td).sendAsync=async a=>{let b=await e.handle(a);if(b.error)throw"object"==typeof b.error&&!1===Object.keys(b.error).includes("stack")&&(b.error.stack="Stack trace is not available."),ta.error(b.error),s6(s_(b.error,{fallbackError:tf(b.error),shouldIncludeStack:!0}));return b.result},b.send=(a,b)=>{if("function"!=typeof b)throw Error('Must provide callback to "send" method.');e.handle(a,b)},e.on&&e.on("notification",a=>{b.emit("data",null,a)}),b.request=async a=>{let c=(0,aF.default)((0,aF.default)({},a),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await b.sendAsync(c)},b);this.updateProviderEngineProxy(g),await this.lookupNetwork()}async updateAccount(a){if(!this._providerEngineProxy)throw s7({message:"Provider is not initialized",code:4902});if(await this._providerEngineProxy.request({method:"solanaPrivateKey"})!==a.privateKey){await this.setupProvider(a.privateKey);let b=await this._providerEngineProxy.request({method:"requestAccounts"});this.emit("accountsChanged",b)}}async switchChain(a){if(!this._providerEngineProxy)throw s7({message:"Provider is not initialized",code:4902});let b=this.getChainConfig(a.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:b});let c=await this._providerEngineProxy.request({method:"solanaPrivateKey"});await this.setupProvider(c)}async lookupNetwork(){if(!this._providerEngineProxy)throw s7({message:"Provider is not initialized",code:4902});let a=await this._providerEngineProxy.request({method:"getHealth",params:[]}),{chainConfig:b}=this.config;if("ok"!==a)throw tk.rpcConnectionError(`Failed to lookup network for following rpc target: ${b.rpcTarget}`);return this.update({chainId:b.chainId}),this.state.chainId!==b.chainId&&(this.emit("chainChanged",this.state.chainId),this.emit("connect",{chainId:this.state.chainId})),this.state.chainId}getChainSwitchMiddleware(){return function({addNewChainConfig:a,switchSolanaChain:b}){return th([tv("addSolanaChain",a),tv("switchSolanaChain",b)])}({addNewChainConfig:async a=>{if(!a.params){let a;throw a="Missing request params",s4(sO,a)}let{chainId:b,chainName:c,rpcUrls:d,blockExplorerUrls:e,nativeCurrency:f,iconUrls:g}=a.params;if(!b){let a;throw a="Missing chainId in chainParams",s4(sO,a)}if(!d||0===d.length){let a;throw a="Missing rpcUrls in chainParams",s4(sO,a)}if(!f){let a;throw a="Missing nativeCurrency in chainParams",s4(sO,a)}this.addChain({chainNamespace:sH,chainId:b,ticker:(null==f?void 0:f.symbol)||"SOL",tickerName:(null==f?void 0:f.name)||"Solana",displayName:c,rpcTarget:d[0],blockExplorerUrl:(null==e?void 0:e[0])||"",decimals:(null==f?void 0:f.decimals)||9,logo:(null==g?void 0:g[0])||"https://images.toruswallet.io/sol.svg"})},switchSolanaChain:async a=>{if(!a.params){let a;throw a="Missing request params",s4(sO,a)}if(!a.params.chainId){let a;throw a="Missing chainId",s4(sO,a)}await this.switchChain(a.params)}})}getAccountMiddleware(){return function({updatePrivatekey:a}){return th([tv("updateAccount",a)])}({updatePrivatekey:async a=>{if(!a.params){let a;throw a="Missing request params",s4(sO,a)}if(!a.params.privateKey){let a;throw a="Missing privateKey",s4(sO,a)}let{privateKey:b}=a.params;await this.updateAccount({privateKey:b})}})}}(0,aG.default)(tx,"getProviderInstance",async a=>{let b=new tx({config:{chainConfig:a.chainConfig}});return await b.setupProvider(a.privKey),b});class ty extends A{name="Web3Auth";url="https://web3auth.io";supportedTransactionVersions=new Set(["legacy",0]);icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHJ4PSI4IiBmaWxsPSIjMDM2NEZGIi8+PHBhdGggZD0iTTIwIDEwQzE0LjQ3NyAxMCAxMCAxNC40NzcgMTAgMjBDMTAgMjUuNTIzIDE0LjQ3NyAzMCAyMCAzMEMyNS41MjMgMzAgMzAgMjUuNTIzIDMwIDIwQzMwIDE0LjQ3NyAyNS41MjMgMTAgMjAgMTBaTTIwIDI2QzE2LjY4NiAyNiAxNCAxMy4zMTQgMTQgMjBDMTQgMTYuNjg2IDE2LjY4NiAxNCAyMCAxNEMyMy4zMTQgMTQgMjYgMTYuNjg2IDI2IDIwQzI2IDIzLjMxNCAyMy4zMTQgMjYgMjAgMjZaIiBmaWxsPSJ3aGl0ZSIvPjwvc3ZnPg==";_connecting=!1;_publicKey=null;_web3auth=null;_provider=null;_readyState=ig.NotDetected;_clientId;constructor(a){super(),this._clientId=a}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._publicKey}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==ig.Loadable)throw new n("Web3Auth not configured");if(this._connecting=!0,!this._web3auth){let a=new tx({config:{chainConfig:{chainNamespace:sH,chainId:"0x1",rpcTarget:"https://broken-solitary-meme.solana-mainnet.quiknode.pro/5f9aee0d3c7a616d84b7e0b45f66c95c3582051a/",displayName:"Solana Mainnet",blockExplorerUrl:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana"}}});this._web3auth=new sG({clientId:this._clientId,web3AuthNetwork:sK.SAPPHIRE_MAINNET,privateKeyProvider:a}),await this._web3auth.init()}let a=await this._web3auth.connect();if(!a)throw new n("Failed to connect");this._provider=a;let b=await a.request({method:"getAccounts"});if(!b||0===b.length)throw new n("No accounts found");this._publicKey=new g.PublicKey(b[0]),this._readyState=ig.Installed,this.emit("connect",this._publicKey)}catch(b){let a=b instanceof n?b:new n(b.message);throw this.emit("error",a),a}finally{this._connecting=!1}}async disconnect(){try{this._web3auth&&await this._web3auth.logout()}catch(b){let a=new p(b.message);this.emit("error",a)}finally{this._publicKey=null,this._provider=null,this.emit("disconnect")}}async signTransaction(a){try{let b;if(!this._provider||!this._publicKey)throw new s;b=a instanceof g.VersionedTransaction?a.message.serialize():a.serializeMessage();let c=await this._provider.request({method:"signTransaction",params:{message:Buffer.from(b).toString("base64")}});if(!c?.signature)throw new u("Failed to sign transaction");let d=Buffer.from(c.signature);return a instanceof g.VersionedTransaction,a.addSignature(this._publicKey,d),a}catch(b){let a=b instanceof u?b:new u(b.message);throw this.emit("error",a),a}}async signAllTransactions(a){return Promise.all(a.map(a=>this.signTransaction(a)))}async signMessage(a){try{if(!this._provider||!this._publicKey)throw new s;let b=await this._provider.request({method:"signMessage",params:{message:Buffer.from(a).toString("base64")}});if(!b?.signature)throw new u("Failed to sign message");return new Uint8Array(b.signature)}catch(b){let a=b instanceof u?b:new u(b.message);throw this.emit("error",a),a}}}let tz=process.env.NEXT_PUBLIC_WEB3AUTH_CLIENT_ID||"";function tA({children:a}){let b=(0,f.useMemo)(()=>aC.SOLANA_RPC_URL,[]),c=(0,f.useMemo)(()=>{let a=[];return tz&&a.push(new ty(tz)),a},[]);return(0,e.jsx)(i,{endpoint:b,children:(0,e.jsx)(as,{wallets:c,autoConnect:!0,children:(0,e.jsx)(aB,{children:a})})})}var tB=a.i(42871),tC=a.i(76644),tD=a.i(18544),tE=a.i(33791),tF=class extends tE.Subscribable{constructor(a={}){super(),this.config=a,this.#a=new Map}#a;build(a,b,c){let d=b.queryKey,e=b.queryHash??(0,tB.hashQueryKeyByOptions)(d,b),f=this.get(e);return f||(f=new tC.Query({client:a,queryKey:d,queryHash:e,options:a.defaultQueryOptions(b),state:c,defaultOptions:a.getQueryDefaults(d)}),this.add(f)),f}add(a){this.#a.has(a.queryHash)||(this.#a.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){let b=this.#a.get(a.queryHash);b&&(a.destroy(),b===a&&this.#a.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){tD.notifyManager.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#a.get(a)}getAll(){return[...this.#a.values()]}find(a){let b={exact:!0,...a};return this.getAll().find(a=>(0,tB.matchQuery)(b,a))}findAll(a={}){let b=this.getAll();return Object.keys(a).length>0?b.filter(b=>(0,tB.matchQuery)(a,b)):b}notify(a){tD.notifyManager.batch(()=>{this.listeners.forEach(b=>{b(a)})})}onFocus(){tD.notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){tD.notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},tG=a.i(85659),tH=a.i(21778),tI=class extends tG.Removable{#b;#c;#d;#e;constructor(a){super(),this.#b=a.client,this.mutationId=a.mutationId,this.#d=a.mutationCache,this.#c=[],this.state=a.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#c.includes(a)||(this.#c.push(a),this.clearGcTimeout(),this.#d.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#c=this.#c.filter(b=>b!==a),this.scheduleGc(),this.#d.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#c.length||("pending"===this.state.status?this.scheduleGc():this.#d.remove(this))}continue(){return this.#e?.continue()??this.execute(this.state.variables)}async execute(a){let b=()=>{this.#f({type:"continue"})},c={client:this.#b,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#e=(0,tH.createRetryer)({fn:()=>this.options.mutationFn?this.options.mutationFn(a,c):Promise.reject(Error("No mutationFn found")),onFail:(a,b)=>{this.#f({type:"failed",failureCount:a,error:b})},onPause:()=>{this.#f({type:"pause"})},onContinue:b,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#d.canRun(this)});let d="pending"===this.state.status,e=!this.#e.canStart();try{if(d)b();else{this.#f({type:"pending",variables:a,isPaused:e}),await this.#d.config.onMutate?.(a,this,c);let b=await this.options.onMutate?.(a,c);b!==this.state.context&&this.#f({type:"pending",context:b,variables:a,isPaused:e})}let f=await this.#e.start();return await this.#d.config.onSuccess?.(f,a,this.state.context,this,c),await this.options.onSuccess?.(f,a,this.state.context,c),await this.#d.config.onSettled?.(f,null,this.state.variables,this.state.context,this,c),await this.options.onSettled?.(f,null,a,this.state.context,c),this.#f({type:"success",data:f}),f}catch(b){try{await this.#d.config.onError?.(b,a,this.state.context,this,c)}catch(a){Promise.reject(a)}try{await this.options.onError?.(b,a,this.state.context,c)}catch(a){Promise.reject(a)}try{await this.#d.config.onSettled?.(void 0,b,this.state.variables,this.state.context,this,c)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,b,a,this.state.context,c)}catch(a){Promise.reject(a)}throw this.#f({type:"error",error:b}),b}finally{this.#d.runNext(this)}}#f(a){this.state=(b=>{switch(a.type){case"failed":return{...b,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...b,isPaused:!0};case"continue":return{...b,isPaused:!1};case"pending":return{...b,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...b,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...b,data:void 0,error:a.error,failureCount:b.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}})(this.state),tD.notifyManager.batch(()=>{this.#c.forEach(b=>{b.onMutationUpdate(a)}),this.#d.notify({mutation:this,type:"updated",action:a})})}},tJ=tE,tK=class extends tJ.Subscribable{constructor(a={}){super(),this.config=a,this.#g=new Set,this.#h=new Map,this.#i=0}#g;#h;#i;build(a,b,c){let d=new tI({client:a,mutationCache:this,mutationId:++this.#i,options:a.defaultMutationOptions(b),state:c});return this.add(d),d}add(a){this.#g.add(a);let b=tL(a);if("string"==typeof b){let c=this.#h.get(b);c?c.push(a):this.#h.set(b,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#g.delete(a)){let b=tL(a);if("string"==typeof b){let c=this.#h.get(b);if(c)if(c.length>1){let b=c.indexOf(a);-1!==b&&c.splice(b,1)}else c[0]===a&&this.#h.delete(b)}}this.notify({type:"removed",mutation:a})}canRun(a){let b=tL(a);if("string"!=typeof b)return!0;{let c=this.#h.get(b),d=c?.find(a=>"pending"===a.state.status);return!d||d===a}}runNext(a){let b=tL(a);if("string"!=typeof b)return Promise.resolve();{let c=this.#h.get(b)?.find(b=>b!==a&&b.state.isPaused);return c?.continue()??Promise.resolve()}}clear(){tD.notifyManager.batch(()=>{this.#g.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#g.clear(),this.#h.clear()})}getAll(){return Array.from(this.#g)}find(a){let b={exact:!0,...a};return this.getAll().find(a=>(0,tB.matchMutation)(b,a))}findAll(a={}){return this.getAll().filter(b=>(0,tB.matchMutation)(a,b))}notify(a){tD.notifyManager.batch(()=>{this.listeners.forEach(b=>{b(a)})})}resumePausedMutations(){let a=this.getAll().filter(a=>a.state.isPaused);return tD.notifyManager.batch(()=>Promise.all(a.map(a=>a.continue().catch(tB.noop))))}};function tL(a){return a.options.scope?.id}var tM=a.i(99745),tN=a.i(12552);function tO(a){return{onFetch:(b,c)=>{let d=b.options,e=b.fetchOptions?.meta?.fetchMore?.direction,f=b.state.data?.pages||[],g=b.state.data?.pageParams||[],h={pages:[],pageParams:[]},i=0,j=async()=>{let c=!1,j=(0,tB.ensureQueryFn)(b.options,b.fetchOptions),k=async(a,d,e)=>{let f;if(c)return Promise.reject();if(null==d&&a.pages.length)return Promise.resolve(a);let g=(f={client:b.client,queryKey:b.queryKey,pageParam:d,direction:e?"backward":"forward",meta:b.options.meta},(0,tB.addConsumeAwareSignal)(f,()=>b.signal,()=>c=!0),f),h=await j(g),{maxPages:i}=b.options,k=e?tB.addToStart:tB.addToEnd;return{pages:k(a.pages,h,i),pageParams:k(a.pageParams,d,i)}};if(e&&f.length){let a="backward"===e,b={pages:f,pageParams:g},c=(a?function(a,{pages:b,pageParams:c}){return b.length>0?a.getPreviousPageParam?.(b[0],b,c[0],c):void 0}:tP)(d,b);h=await k(b,c,a)}else{let b=a??f.length;do{let a=0===i?g[0]??d.initialPageParam:tP(d,h);if(i>0&&null==a)break;h=await k(h,a),i++}while(i<b)}return h};b.options.persister?b.fetchFn=()=>b.options.persister?.(j,{client:b.client,queryKey:b.queryKey,meta:b.options.meta,signal:b.signal},c):b.fetchFn=j}}}function tP(a,{pages:b,pageParams:c}){let d=b.length-1;return b.length>0?a.getNextPageParam(b[d],b,c[d],c):void 0}var tQ=class{#j;#d;#k;#l;#m;#n;#o;#p;constructor(a={}){this.#j=a.queryCache||new tF,this.#d=a.mutationCache||new tK,this.#k=a.defaultOptions||{},this.#l=new Map,this.#m=new Map,this.#n=0}mount(){this.#n++,1===this.#n&&(this.#o=tM.focusManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#j.onFocus())}),this.#p=tN.onlineManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#j.onOnline())}))}unmount(){this.#n--,0===this.#n&&(this.#o?.(),this.#o=void 0,this.#p?.(),this.#p=void 0)}isFetching(a){return this.#j.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#d.findAll({...a,status:"pending"}).length}getQueryData(a){let b=this.defaultQueryOptions({queryKey:a});return this.#j.get(b.queryHash)?.state.data}ensureQueryData(a){let b=this.defaultQueryOptions(a),c=this.#j.build(this,b),d=c.state.data;return void 0===d?this.fetchQuery(a):(a.revalidateIfStale&&c.isStaleByTime((0,tB.resolveStaleTime)(b.staleTime,c))&&this.prefetchQuery(b),Promise.resolve(d))}getQueriesData(a){return this.#j.findAll(a).map(({queryKey:a,state:b})=>[a,b.data])}setQueryData(a,b,c){let d=this.defaultQueryOptions({queryKey:a}),e=this.#j.get(d.queryHash),f=e?.state.data,g=(0,tB.functionalUpdate)(b,f);if(void 0!==g)return this.#j.build(this,d).setData(g,{...c,manual:!0})}setQueriesData(a,b,c){return tD.notifyManager.batch(()=>this.#j.findAll(a).map(({queryKey:a})=>[a,this.setQueryData(a,b,c)]))}getQueryState(a){let b=this.defaultQueryOptions({queryKey:a});return this.#j.get(b.queryHash)?.state}removeQueries(a){let b=this.#j;tD.notifyManager.batch(()=>{b.findAll(a).forEach(a=>{b.remove(a)})})}resetQueries(a,b){let c=this.#j;return tD.notifyManager.batch(()=>(c.findAll(a).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...a},b)))}cancelQueries(a,b={}){let c={revert:!0,...b};return Promise.all(tD.notifyManager.batch(()=>this.#j.findAll(a).map(a=>a.cancel(c)))).then(tB.noop).catch(tB.noop)}invalidateQueries(a,b={}){return tD.notifyManager.batch(()=>(this.#j.findAll(a).forEach(a=>{a.invalidate()}),a?.refetchType==="none")?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},b))}refetchQueries(a,b={}){let c={...b,cancelRefetch:b.cancelRefetch??!0};return Promise.all(tD.notifyManager.batch(()=>this.#j.findAll(a).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let b=a.fetch(void 0,c);return c.throwOnError||(b=b.catch(tB.noop)),"paused"===a.state.fetchStatus?Promise.resolve():b}))).then(tB.noop)}fetchQuery(a){let b=this.defaultQueryOptions(a);void 0===b.retry&&(b.retry=!1);let c=this.#j.build(this,b);return c.isStaleByTime((0,tB.resolveStaleTime)(b.staleTime,c))?c.fetch(b):Promise.resolve(c.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(tB.noop).catch(tB.noop)}fetchInfiniteQuery(a){return a.behavior=tO(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(tB.noop).catch(tB.noop)}ensureInfiniteQueryData(a){return a.behavior=tO(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return tN.onlineManager.isOnline()?this.#d.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#j}getMutationCache(){return this.#d}getDefaultOptions(){return this.#k}setDefaultOptions(a){this.#k=a}setQueryDefaults(a,b){this.#l.set((0,tB.hashKey)(a),{queryKey:a,defaultOptions:b})}getQueryDefaults(a){let b=[...this.#l.values()],c={};return b.forEach(b=>{(0,tB.partialMatchKey)(a,b.queryKey)&&Object.assign(c,b.defaultOptions)}),c}setMutationDefaults(a,b){this.#m.set((0,tB.hashKey)(a),{mutationKey:a,defaultOptions:b})}getMutationDefaults(a){let b=[...this.#m.values()],c={};return b.forEach(b=>{(0,tB.partialMatchKey)(a,b.mutationKey)&&Object.assign(c,b.defaultOptions)}),c}defaultQueryOptions(a){if(a._defaulted)return a;let b={...this.#k.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return b.queryHash||(b.queryHash=(0,tB.hashQueryKeyByOptions)(b.queryKey,b)),void 0===b.refetchOnReconnect&&(b.refetchOnReconnect="always"!==b.networkMode),void 0===b.throwOnError&&(b.throwOnError=!!b.suspense),!b.networkMode&&b.persister&&(b.networkMode="offlineFirst"),b.queryFn===tB.skipToken&&(b.enabled=!1),b}defaultMutationOptions(a){return a?._defaulted?a:{...this.#k.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#j.clear(),this.#d.clear()}},tR=a.i(37927);function tS({children:a}){let[b]=(0,f.useState)(()=>new tQ({defaultOptions:{queries:{staleTime:3e4,retry:2,refetchOnWindowFocus:!1}}}));return(0,e.jsx)(tR.QueryClientProvider,{client:b,children:a})}function tT({children:a}){return(0,e.jsx)(tS,{children:(0,e.jsx)(tA,{children:a})})}a.s(["Providers",()=>tT],68406)},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return i}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773),h=a.r(68063);function i({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}if(0===c.length)return null;let i=(0,h.getDeploymentIdQueryOrEmptyString)();return(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}${i}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},43218,a=>{"use strict";var b=a.i(87924),c=a.i(38246);let d=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[32211]},ssr:!1});function e(){return(0,b.jsx)(d,{})}function f(){return(0,b.jsx)("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-surface-200",children:(0,b.jsxs)("div",{className:"max-w-lg mx-auto px-4 h-14 flex items-center justify-between",children:[(0,b.jsx)(c.default,{href:"/",className:"text-xl font-bold text-primary-600",children:"xStocks"}),(0,b.jsx)(e,{})]})})}a.s(["Header",()=>f],43218)},47030,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(18239);let f=[{href:"/",label:"Home",icon:a=>(0,b.jsx)("svg",{className:(0,e.cn)("w-6 h-6",a?"text-primary-600":"text-surface-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{href:"/invest",label:"Invest",icon:a=>(0,b.jsx)("svg",{className:(0,e.cn)("w-6 h-6",a?"text-primary-600":"text-surface-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{href:"/ai-advisor",label:"AI Advisor",icon:a=>(0,b.jsx)("svg",{className:(0,e.cn)("w-6 h-6",a?"text-primary-600":"text-surface-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}];function g(){let a=(0,d.usePathname)();return(0,b.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-surface-200 pb-safe",children:(0,b.jsx)("div",{className:"flex items-center justify-around h-16 max-w-lg mx-auto",children:f.map(d=>{let f=a===d.href;return(0,b.jsxs)(c.default,{href:d.href,className:"flex flex-col items-center justify-center flex-1 h-full",children:[d.icon(f),(0,b.jsx)("span",{className:(0,e.cn)("text-xs mt-1",f?"text-primary-600 font-medium":"text-surface-500"),children:d.label})]},d.href)})})})}a.s(["BottomNav",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__93034928._.js.map