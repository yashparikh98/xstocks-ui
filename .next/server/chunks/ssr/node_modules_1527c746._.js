module.exports=[4017,4564,a=>{"use strict";var b=a.i(95851);let c={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},d={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};a.s(["errorCodes",()=>c,"errorValues",()=>d],4564);var e=function(a,b){if(null==a)throw TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(a),b)};let f=c.rpc.internal;function g(a){return Number.isInteger(a)}function h(a){return"string"==typeof a&&a.length>0}function i(a){return!!a&&"object"==typeof a&&!Array.isArray(a)}function j(a){if("object"!=typeof a||null===a)return!1;try{let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}catch{return!1}}function k(a){return!!a&&!!g(a.code)&&!!h(a.message)&&(!a.stack||!!h(a.stack))}function l(a,b="Unspecified error message. This is a bug, please report it."){if(g(a)){let b=a.toString();if(e(d,b))return d[b].message;if(a>=-32099&&a<=-32e3)return"Unspecified server error."}return b}let m={code:f,message:l(f)};function n(a){try{JSON.parse(JSON.stringify(a,(a,b)=>{if("__proto__"===a||"constructor"===a||"function"==typeof b||"symbol"==typeof b)throw Error("Not valid json");return b}),(a,b)=>{if("__proto__"!==a&&"constructor"!==a)return b})}catch{return!1}return!0}function o(a){return Object.getOwnPropertyNames(a).reduce((b,c)=>{let d=a[c];return n(d)&&(b[c]=d),b},{})}function p(a){return Array.isArray(a)?a.map(a=>n(a)?a:i(a)?o(a):null):i(a)?o(a):n(a)?a:null}function q(a,{fallbackError:c=m,shouldIncludeStack:d=!0}={}){if(!k(c))throw Error("Must provide fallback error with integer number code and string message.");let e=function(a,c){if(a&&"object"==typeof a&&"serialize"in a&&"function"==typeof a.serialize)return a.serialize();if(k(a))return a;let d=p(a);return(0,b.default)((0,b.default)({},c),{},{data:{cause:d}})}(a,c);return d||delete e.stack,e}function r(a){return i(a)&&e(a,"cause")&&i(a.cause)}a.s(["dataHasCause",()=>r,"getMessageFromCode",()=>l,"isPlainObject",()=>j,"serializeCause",()=>p,"serializeJrpcError",()=>q],4017)},66358,a=>{"use strict";var b=a.i(41415),c=a.i(57266),d=a.i(4017),e=function(a,b){if(null==a)throw TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(a),b)};function f(a,b){if("[Circular]"!==b)return b}class g extends Error{constructor(a,c,f){if(!Number.isInteger(a))throw Error('"code" must be an integer.');if(!c||"string"!=typeof c)throw Error('"message" must be a non-empty string.');(0,d.dataHasCause)(f)?(super(c,{cause:f.cause}),(0,b.default)(this,"cause",void 0),(0,b.default)(this,"code",void 0),(0,b.default)(this,"data",void 0),e(this,"cause")||Object.assign(this,{cause:f.cause})):(super(c),(0,b.default)(this,"cause",void 0),(0,b.default)(this,"code",void 0),(0,b.default)(this,"data",void 0)),void 0!==f&&(this.data=f),this.code=a,this.cause=null==f?void 0:f.cause}serialize(){let a={code:this.code,message:this.message};return void 0!==this.data&&(a.data=this.data,(0,d.isPlainObject)(this.data)&&(a.data.cause=(0,d.serializeCause)(this.data.cause))),this.stack&&(a.stack=this.stack),a}toString(){return(0,c.default)(this.serialize(),{replacer:f,space:2})}}class h extends g{constructor(a,b,c){if(!function(a){return Number.isInteger(a)&&a>=1e3&&a<=4999}(a))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(a,b,c)}}a.s(["EthereumProviderError",()=>h,"JsonRpcError",()=>g])},22215,a=>{"use strict";var b=a.i(66358),c=a.i(4564),d=a.i(4017);function e(a){if(a){if("string"==typeof a)return[a];else if("object"==typeof a&&!Array.isArray(a)){let{message:b,data:c}=a;if(b&&"string"!=typeof b)throw Error("Must specify string message.");return[null!=b?b:void 0,c]}}return[]}function f(a,c){let[f,g]=e(c);return new b.JsonRpcError(a,null!=f?f:(0,d.getMessageFromCode)(a),g)}function g(a,c){let[f,g]=e(c);return new b.EthereumProviderError(a,null!=f?f:(0,d.getMessageFromCode)(a),g)}let h={parse:a=>f(c.errorCodes.rpc.parse,a),invalidRequest:a=>f(c.errorCodes.rpc.invalidRequest,a),invalidParams:a=>f(c.errorCodes.rpc.invalidParams,a),methodNotFound:a=>f(c.errorCodes.rpc.methodNotFound,a),internal:a=>f(c.errorCodes.rpc.internal,a),server:a=>{if(!a||"object"!=typeof a||Array.isArray(a))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:b}=a;if(!Number.isInteger(b)||b>-32005||b<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return f(b,a)},invalidInput:a=>f(c.errorCodes.rpc.invalidInput,a),resourceNotFound:a=>f(c.errorCodes.rpc.resourceNotFound,a),resourceUnavailable:a=>f(c.errorCodes.rpc.resourceUnavailable,a),transactionRejected:a=>f(c.errorCodes.rpc.transactionRejected,a),methodNotSupported:a=>f(c.errorCodes.rpc.methodNotSupported,a),limitExceeded:a=>f(c.errorCodes.rpc.limitExceeded,a)},i={userRejectedRequest:a=>g(c.errorCodes.provider.userRejectedRequest,a),unauthorized:a=>g(c.errorCodes.provider.unauthorized,a),unsupportedMethod:a=>g(c.errorCodes.provider.unsupportedMethod,a),disconnected:a=>g(c.errorCodes.provider.disconnected,a),chainDisconnected:a=>g(c.errorCodes.provider.chainDisconnected,a),custom:a=>{if(!a||"object"!=typeof a||Array.isArray(a))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:c,message:d,data:e}=a;if(!d||"string"!=typeof d)throw Error('"message" must be a nonempty string');return new b.EthereumProviderError(c,d,e)}};a.s(["providerErrors",()=>i,"rpcErrors",()=>h])},64200,a=>{"use strict";let b=a.i(44002).default.getLogger("auth");b.setLevel("error"),a.s(["log",()=>b])},37980,a=>{"use strict";var b=a.i(41415),c=a.i(57266);class d extends Error{constructor({code:a,message:c,data:d}){if(!Number.isInteger(a))throw Error("code must be an integer");if(!c||"string"!=typeof c)throw Error("message must be string");super(c),(0,b.default)(this,"code",void 0),(0,b.default)(this,"data",void 0),this.code=a,void 0!==d&&(this.data=d)}toString(){return(0,c.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}}a.s(["SerializableError",()=>d])},66259,a=>{"use strict";var b=a.i(95851),c=a.i(41415);a.i(19432);var d=a.i(64200),e=a.i(4017),f=a.i(89004),g=a.i(37980),h=a.i(4564),i=a.i(66358);function j(a){let{message:b="",code:c=-32603,stack:d="Stack trace is not available.",data:f=""}=a,g=parseInt((null==c?void 0:c.toString())||"-32603");return{message:b||(null==a?void 0:a.toString())||(0,e.getMessageFromCode)(g),code:g,stack:d,data:f||b||(null==a?void 0:a.toString())}}class k extends f.SafeEventEmitter{constructor(){super(),(0,c.default)(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(a,b,c){let d=[],e=null,f=!1;for(let g of c)if([e,f]=await k._runMiddleware(a,b,g,d),f)break;return[e,f,d.reverse()]}static _runMiddleware(a,b,c,f){return new Promise(h=>{let i=a=>{let c=a||b.error;c&&("object"==typeof c&&!1===Object.keys(c).includes("stack")&&(c.stack="Stack trace is not available."),d.log.error(c),b.error=(0,e.serializeJrpcError)(c,{shouldIncludeStack:!0,fallbackError:j(c)})),h([c,!0])};try{c(a,b,a=>{b.error?i(b.error):(a&&("function"!=typeof a&&i(new g.SerializableError({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),f.push(a)),h([null,!1]))},i)}catch(a){i(a)}})}static async _runReturnHandlers(a){for(let b of a)await new Promise((a,c)=>{b(b=>b?c(b):a())})}static _checkForCompletion(a,b,c){if(!("result"in b)&&!("error"in b))throw new g.SerializableError({code:-32603,message:"Response has no error or result for request"});if(!c)throw new g.SerializableError({code:-32603,message:"Nothing ended request"})}push(a){this._middleware.push(a)}handle(a,b){if(b&&"function"!=typeof b)throw Error('"callback" must be a function if provided.');return Array.isArray(a)?b?this._handleBatch(a,b):this._handleBatch(a):b?this._handle(a,b):this._promiseHandle(a)}asMiddleware(){return async(a,b,c,d)=>{try{let[e,f,g]=await k._runAllMiddleware(a,b,this._middleware);if(f)return await k._runReturnHandlers(g),d(e);return c(async a=>{try{await k._runReturnHandlers(g)}catch(b){return a(b)}return a()})}catch(a){return d(a)}}}async _handleBatch(a,b){try{let c=await Promise.all(a.map(this._promiseHandle.bind(this)));if(b)return b(null,c);return c}catch(a){if(b)return b(a);throw a}}_promiseHandle(a){return new Promise((b,c)=>{this._handle(a,(a,d)=>{a&&void 0===d?c(a):b(d)}).catch(c)})}async _handle(a,c){if(!a||Array.isArray(a)||"object"!=typeof a){let a=new g.SerializableError({code:-32603,message:"request must be plain object"});return c(a,{id:void 0,jsonrpc:"2.0",error:a})}if("string"!=typeof a.method){let b=new g.SerializableError({code:-32603,message:"method must be string"});return c(b,{id:a.id,jsonrpc:"2.0",error:b})}let f=(0,b.default)({},a),h={id:f.id,jsonrpc:f.jsonrpc},i=null;try{await this._processRequest(f,h)}catch(a){i=a}return i&&(delete h.result,h.error||("object"==typeof i&&!1===Object.keys(i).includes("stack")&&(i.stack="Stack trace is not available."),d.log.error(i),h.error=(0,e.serializeJrpcError)(i,{shouldIncludeStack:!0,fallbackError:j(i)}))),c(i,h)}async _processRequest(a,b){let[c,d,e]=await k._runAllMiddleware(a,b,this._middleware);if(k._checkForCompletion(a,b,d),await k._runReturnHandlers(e),c)throw c}}function l(a){let b=new k;return a.forEach(a=>{b.push(a)}),b.asMiddleware()}function m(a){let c=new f.SafeEventEmitter;return c.sendAsync=async b=>{let c=await a.handle(b);if(c.error){var f,g;"object"==typeof c.error&&!1===Object.keys(c.error).includes("stack")&&(c.error.stack="Stack trace is not available."),d.log.error(c.error);let a=(0,e.serializeJrpcError)(c.error,{fallbackError:j(c.error),shouldIncludeStack:!0}),b=null!=(f=null==a?void 0:a.code)?f:h.errorCodes.rpc.internal;throw new i.JsonRpcError(b,null!=(g=null==a?void 0:a.message)?g:(0,e.getMessageFromCode)(b),null==a?void 0:a.data)}return c.result},c.send=(b,c)=>{if("function"!=typeof c)throw Error('Must provide callback to "send" method.');a.handle(b,c)},a.on&&a.on("notification",a=>{c.emit("data",null,a)}),c.request=async a=>{let d=(0,b.default)((0,b.default)({},a),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await c.sendAsync(d)},c}a.s(["JRPCEngine",()=>k,"mergeMiddleware",()=>l,"providerFromEngine",()=>m])},41057,94382,a=>{"use strict";var b=a.i(95851),c=a.i(41415),d=a.i(89004);class e extends d.SafeEventEmitter{constructor({config:a={},state:b={}}){super(),(0,c.default)(this,"defaultConfig",{}),(0,c.default)(this,"defaultState",{}),(0,c.default)(this,"disabled",!1),(0,c.default)(this,"name","BaseController"),(0,c.default)(this,"initialConfig",void 0),(0,c.default)(this,"initialState",void 0),(0,c.default)(this,"internalConfig",this.defaultConfig),(0,c.default)(this,"internalState",this.defaultState),this.initialState=b,this.initialConfig=a}get config(){return this.internalConfig}get state(){return this.internalState}configure(a,b=!1,c=!0){if(c)for(let c in this.internalConfig=b?a:Object.assign(this.internalConfig,a),this.internalConfig)void 0!==this.internalConfig[c]&&(this[c]=this.internalConfig[c]);else for(let b in a)void 0!==this.internalConfig[b]&&(this.internalConfig[b]=a[b],this[b]=a[b])}update(a,c=!1){this.internalState=c?(0,b.default)({},a):(0,b.default)((0,b.default)({},this.internalState),a),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}a.s(["BaseController",()=>e],41057);let f=()=>!0,g=["newListener","removeListener"],h=a=>!g.includes(a);function i(a,b){let c=(b||{}).eventFilter||f;if("string"==typeof c&&"skipInternal"===c&&(c=h),"function"!=typeof c)throw Error("createEventEmitterProxy - Invalid eventFilter");let d=a,e=a=>{if(d===a)return;let b=d;d=a,b.eventNames().filter(c).forEach(c=>{(void 0!==b.rawListeners?b.rawListeners(c):b.listeners(c)).forEach(b=>{a.on(c,b)})}),b.removeAllListeners()};return new Proxy({},{get:(a,b)=>"setTarget"===b?e:d[b],set:(a,b,c)=>("setTarget"===b?e=c:d[b]=c,!0),has:(a,b)=>"_"!==b[0]&&b in d})}a.s(["createEventEmitterProxy",()=>i],94382)},60973,(a,b,c)=>{b.exports=function(a){var b=(a=a||{}).max||Number.MAX_SAFE_INTEGER,c=void 0!==a.start?a.start:Math.floor(Math.random()*b);return function(){return c%=b,c++}}},84699,47945,a=>{"use strict";var b,c=a.i(95851),d=a.i(41415),e=a.i(41057),f=a.i(94382),g=a.i(22215);let h=(0,a.i(60973).default)(),i=((b={}).ACCOUNTS_CHANGED="accountsChanged",b.CHAIN_CHANGED="chainChanged",b.CONNECT="connect",b.DISCONNECT="disconnect",b.MESSAGE="message",b);a.s(["EIP1193_EVENTS",()=>i,"createRandomId",()=>h],47945);var j=a.i(62738);class k extends e.BaseController{constructor({config:a,state:b}){super({config:a,state:b}),(0,d.default)(this,"_providerEngineProxy",null),(0,d.default)(this,"keyExportFlagSetByCode",!1);const{chain:c}=a;if(!c)throw j.WalletInitializationError.invalidProviderConfigError("Please provide chain");if(!c.chainId)throw j.WalletInitializationError.invalidProviderConfigError("Please provide chainId inside chain");if(!c.rpcTarget)throw j.WalletInitializationError.invalidProviderConfigError("Please provide rpcTarget inside chain");"boolean"==typeof a.keyExportEnabled&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:a.chain,chains:a.chains,keyExportEnabled:"boolean"!=typeof a.keyExportEnabled||a.keyExportEnabled},super.initialize()}get currentChain(){return this.config.chains.find(a=>a.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(a){throw Error("Method not implemented.")}async request(a){var b;if(!a||"object"!=typeof a||Array.isArray(a))throw g.rpcErrors.invalidRequest({message:j.WalletProviderError.invalidRequestArgs().message,data:(0,c.default)((0,c.default)({},a||{}),{},{cause:j.WalletProviderError.invalidRequestArgs().message})});let{method:d,params:e}=a;if("string"!=typeof d||0===d.length)throw g.rpcErrors.invalidRequest({message:j.WalletProviderError.invalidRequestMethod().message,data:(0,c.default)((0,c.default)({},a||{}),{},{cause:j.WalletProviderError.invalidRequestMethod().message})});if(void 0!==e&&!Array.isArray(e)&&("object"!=typeof e||null===e))throw g.rpcErrors.invalidRequest({message:j.WalletProviderError.invalidRequestParams().message,data:(0,c.default)((0,c.default)({},a||{}),{},{cause:j.WalletProviderError.invalidRequestParams().message})});return null==(b=this.provider)?void 0:b.request(a)}sendAsync(a,b){return b?this.send(a,b):this.request(a)}send(a,b){this.request(a).then(a=>b(null,{result:a})).catch(a=>b(a,null))}updateProviderEngineProxy(a){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(a);let b=b=>{"newListener"!==b&&a.on(b,(...a)=>{if(b===i.CHAIN_CHANGED){let b=a[0];this.update({chainId:b})}this.emit(b,...a)})};this.eventNames().forEach(a=>{b(a)}),this.on("newListener",a=>{this.listenerCount(a)>0||b(a)})}else this._providerEngineProxy=(0,f.createEventEmitterProxy)(a)}setKeyExportFlag(a){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:a})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(a){return this.config.chains.find(b=>b.chainId===a)}}a.s(["BaseProvider",()=>k],84699)},30861,a=>{"use strict";function b(a){return(b,c,d,e)=>{let f=a[b.method];return void 0===f?d():"function"==typeof f?f(b,c,d,e):(c.result=f,e())}}function c(a){return async(b,c,d,e)=>{let f,g=new Promise(a=>{f=a}),h=null,i=!1,j=async()=>{i=!0,d(a=>{h=a,f()}),await g};try{await a(b,c,j),i?(await g,h(null)):e(null)}catch(a){h?h(a):e(a)}}}a.i(19432),a.i(89004),a.i(37980),a.s(["createAsyncMiddleware",()=>c,"createScaffoldMiddleware",()=>b])},37966,59382,23913,56308,12941,69939,47497,a=>{"use strict";let b,c,d;a.s([],59382);var e,f,g=a.i(16148),h=a.i(77832),i=a.i(57162);let j=BigInt(0),k=BigInt(1);function l(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function m(a){if(!l(a))throw Error("Uint8Array expected")}function n(a,b){if("boolean"!=typeof b)throw Error(a+" boolean expected, got "+b)}function o(a){let b=a.toString(16);return 1&b.length?"0"+b:b}function p(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return""===a?j:BigInt("0x"+a)}let q="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,r=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function s(a){if(m(a),q)return a.toHex();let b="";for(let c=0;c<a.length;c++)b+=r[a[c]];return b}function t(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function u(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);if(q)return Uint8Array.fromHex(a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=t(a.charCodeAt(e)),f=t(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}function v(a){return p(s(a))}function w(a){return m(a),p(s(Uint8Array.from(a).reverse()))}function x(a,b){return u(a.toString(16).padStart(2*b,"0"))}function y(a,b){return x(a,b).reverse()}function z(a,b,c){let d;if("string"==typeof b)try{d=u(b)}catch(b){throw Error(a+" must be hex string or Uint8Array, cause: "+b)}else if(l(b))d=Uint8Array.from(b);else throw Error(a+" must be hex string or Uint8Array");let e=d.length;if("number"==typeof c&&e!==c)throw Error(a+" of length "+c+" expected, got "+e);return d}function A(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];m(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}let B=a=>"bigint"==typeof a&&j<=a;function C(a,b,c){return B(a)&&B(b)&&B(c)&&b<=a&&a<c}function D(a,b,c,d){if(!C(b,c,d))throw Error("expected valid "+a+": "+c+" <= n < "+d+", got "+b)}let E=a=>(k<<BigInt(a))-k,F=a=>new Uint8Array(a),G={bigint:a=>"bigint"==typeof a,function:a=>"function"==typeof a,boolean:a=>"boolean"==typeof a,string:a=>"string"==typeof a,stringOrUint8Array:a=>"string"==typeof a||l(a),isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,b)=>b.Fp.isValid(a),hash:a=>"function"==typeof a&&Number.isSafeInteger(a.outputLen)};function H(a,b,c={}){let d=(b,c,d)=>{let e=G[c];if("function"!=typeof e)throw Error("invalid validator function");let f=a[b];if((!d||void 0!==f)&&!e(f,a))throw Error("param "+String(b)+" is invalid. Expected "+c+", got "+f)};for(let[a,c]of Object.entries(b))d(a,c,!1);for(let[a,b]of Object.entries(c))d(a,b,!0);return a}function I(a){let b=new WeakMap;return(c,...d)=>{let e=b.get(c);if(void 0!==e)return e;let f=a(c,...d);return b.set(c,f),f}}let J=BigInt(0),K=BigInt(1),L=BigInt(2),M=BigInt(3),N=BigInt(4),O=BigInt(5),P=BigInt(8);function Q(a,b){let c=a%b;return c>=J?c:b+c}function R(a,b,c){let d=a;for(;b-- >J;)d*=d,d%=c;return d}function S(a,b){if(a===J)throw Error("invert: expected non-zero number");if(b<=J)throw Error("invert: expected positive modulus, got "+b);let c=Q(a,b),d=b,e=J,f=K,g=K,h=J;for(;c!==J;){let a=d/c,b=d%c,i=e-g*a,j=f-h*a;d=c,c=b,e=g,f=h,g=i,h=j}if(d!==K)throw Error("invert: does not exist");return Q(e,b)}let T=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function U(a){return H(a,T.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function V(a,b,c=!1){let d=Array(b.length).fill(c?a.ZERO:void 0),e=b.reduce((b,c,e)=>a.is0(c)?b:(d[e]=b,a.mul(b,c)),a.ONE),f=a.inv(e);return b.reduceRight((b,c,e)=>a.is0(c)?b:(d[e]=a.mul(b,d[e]),a.mul(b,c)),f),d}function W(a,b){let c=function(a,b){let c=(a.ORDER-K)/L,d=a.pow(b,c),e=a.eql(d,a.ONE),f=a.eql(d,a.ZERO),g=a.eql(d,a.neg(a.ONE));if(!e&&!f&&!g)throw Error("Cannot find square root: probably non-prime P");return e?1:f?0:-1}(a,b);return 0===c||1===c}function X(a,b){void 0!==b&&(0,h.anumber)(b);let c=void 0!==b?b:a.toString(2).length,d=Math.ceil(c/8);return{nBitLength:c,nByteLength:d}}function Y(a,b,c=!1,d={}){let e;if(a<=J)throw Error("invalid field: expected ORDER > 0, got "+a);let{nBitLength:f,nByteLength:g}=X(a,b);if(g>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:a,isLE:c,BITS:f,BYTES:g,MASK:E(f),ZERO:J,ONE:K,create:b=>Q(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error("invalid field element: expected bigint, got "+typeof b);return J<=b&&b<a},is0:a=>a===J,isOdd:a=>(a&K)===K,neg:b=>Q(-b,a),eql:(a,b)=>a===b,sqr:b=>Q(b*b,a),add:(b,c)=>Q(b+c,a),sub:(b,c)=>Q(b-c,a),mul:(b,c)=>Q(b*c,a),pow:(a,b)=>(function(a,b,c){if(c<J)throw Error("invalid exponent, negatives unsupported");if(c===J)return a.ONE;if(c===K)return b;let d=a.ONE,e=b;for(;c>J;)c&K&&(d=a.mul(d,e)),e=a.sqr(e),c>>=K;return d})(h,a,b),div:(b,c)=>Q(b*S(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>S(b,a),sqrt:d.sqrt||(b=>(e||(e=a%N===M?function(b,c){let d=b.pow(c,(a+K)/N);if(!b.eql(b.sqr(d),c))throw Error("Cannot find square root");return d}:a%P===O?function(b,c){let d=b.mul(c,L),e=b.pow(d,(a-O)/P),f=b.mul(c,e),g=b.mul(b.mul(f,L),e),h=b.mul(f,b.sub(g,b.ONE));if(!b.eql(b.sqr(h),c))throw Error("Cannot find square root");return h}:function(a){let b=a-K,c=0;for(;b%L===J;)b/=L,c++;let d=L,e=Y(a);for(;d<a&&W(e,d);)if(d++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===c){let b=(a+K)/N;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}let f=(b+K)/L;return function(a,e){if(!W(a,e))throw Error("Cannot find square root");let g=c,h=a.pow(a.mul(a.ONE,d),b),i=a.pow(e,f),j=a.pow(e,b);for(;!a.eql(j,a.ONE);){if(a.eql(j,a.ZERO))return a.ZERO;let b=1;for(let c=a.sqr(j);b<g&&!a.eql(c,a.ONE);b++)c=a.sqr(c);let c=a.pow(h,K<<BigInt(g-b-1));h=a.sqr(c),i=a.mul(i,c),j=a.mul(j,h),g=b}return i}}(a)),e(h,b))),toBytes:a=>c?y(a,g):x(a,g),fromBytes:a=>{if(a.length!==g)throw Error("Field.fromBytes: expected "+g+" bytes, got "+a.length);return c?w(a):v(a)},invertBatch:a=>V(h,a),cmov:(a,b,c)=>c?b:a});return Object.freeze(h)}function Z(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function $(a){let b=Z(a);return b+Math.ceil(b/2)}let _=BigInt(0),aa=BigInt(1);function ab(a,b){let c=b.negate();return a?c:b}function ac(a,b){if(!Number.isSafeInteger(a)||a<=0||a>b)throw Error("invalid window size, expected [1.."+b+"], got W="+a)}function ad(a,b){ac(a,b);let c=Math.ceil(b/a)+1,d=2**(a-1),e=2**a;return{windows:c,windowSize:d,mask:E(a),maxNumber:e,shiftBy:BigInt(a)}}function ae(a,b,c){let{windowSize:d,mask:e,maxNumber:f,shiftBy:g}=c,h=Number(a&e),i=a>>g;h>d&&(h-=f,i+=aa);let j=b*d,k=j+Math.abs(h)-1,l=0===h;return{nextN:i,offset:k,isZero:l,isNeg:h<0,isNegF:b%2!=0,offsetF:j}}let af=new WeakMap,ag=new WeakMap;function ah(a){return ag.get(a)||1}function ai(a){return U(a.Fp),H(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...X(a.n,a.nBitLength),...a,...{p:a.Fp.ORDER}})}function aj(a){void 0!==a.lowS&&n("lowS",a.lowS),void 0!==a.prehash&&n("prehash",a.prehash)}let ak={Err:class extends Error{constructor(a=""){super(a)}},_tlv:{encode:(a,b)=>{let{Err:c}=ak;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(1&b.length)throw new c("tlv.encode: unpadded data");let d=b.length/2,e=o(d);if(e.length/2&128)throw new c("tlv.encode: long form length too big");let f=d>127?o(e.length/2|128):"";return o(a)+f+e+b},decode(a,b){let{Err:c}=ak,d=0;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(b.length<2||b[d++]!==a)throw new c("tlv.decode: wrong tlv");let e=b[d++],f=0;if(128&e){let a=127&e;if(!a)throw new c("tlv.decode(long): indefinite length not supported");if(a>4)throw new c("tlv.decode(long): byte length is too big");let g=b.subarray(d,d+a);if(g.length!==a)throw new c("tlv.decode: length bytes not complete");if(0===g[0])throw new c("tlv.decode(long): zero leftmost byte");for(let a of g)f=f<<8|a;if(d+=a,f<128)throw new c("tlv.decode(long): not minimal encoding")}else f=e;let g=b.subarray(d,d+f);if(g.length!==f)throw new c("tlv.decode: wrong value length");return{v:g,l:b.subarray(d+f)}}},_int:{encode(a){let{Err:b}=ak;if(a<al)throw new b("integer: negative integers are not allowed");let c=o(a);if(8&Number.parseInt(c[0],16)&&(c="00"+c),1&c.length)throw new b("unexpected DER parsing assertion: unpadded hex");return c},decode(a){let{Err:b}=ak;if(128&a[0])throw new b("invalid signature integer: negative");if(0===a[0]&&!(128&a[1]))throw new b("invalid signature integer: unnecessary leading zero");return v(a)}},toSig(a){let{Err:b,_int:c,_tlv:d}=ak,e=z("signature",a),{v:f,l:g}=d.decode(48,e);if(g.length)throw new b("invalid signature: left bytes after parsing");let{v:h,l:i}=d.decode(2,f),{v:j,l:k}=d.decode(2,i);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:c.decode(h),s:c.decode(j)}},hexFromSig(a){let{_tlv:b,_int:c}=ak,d=b.encode(2,c.encode(a.r)),e=b.encode(2,c.encode(a.s));return b.encode(48,d+e)}},al=BigInt(0),am=BigInt(1),an=BigInt(2),ao=BigInt(3),ap=BigInt(4),aq=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ar=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),as=BigInt(1),at=BigInt(2),au=(a,b)=>(a+b/at)/b,av=Y(aq,void 0,void 0,{sqrt:function(a){let b=BigInt(3),c=BigInt(6),d=BigInt(11),e=BigInt(22),f=BigInt(23),g=BigInt(44),h=BigInt(88),i=a*a*a%aq,j=i*i*a%aq,k=R(j,b,aq)*j%aq,l=R(k,b,aq)*j%aq,m=R(l,at,aq)*i%aq,n=R(m,d,aq)*m%aq,o=R(n,e,aq)*n%aq,p=R(o,g,aq)*o%aq,q=R(p,h,aq)*p%aq,r=R(q,g,aq)*o%aq,s=R(r,b,aq)*j%aq,t=R(s,f,aq)*n%aq,u=R(t,c,aq)*i%aq,v=R(u,at,aq);if(!av.eql(av.sqr(v),a))throw Error("Cannot find square root");return v}}),aw=(e={a:BigInt(0),b:BigInt(7),Fp:av,n:ar,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{let b=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-as*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),e=BigInt("0x100000000000000000000000000000000"),f=au(b*a,ar),g=au(-c*a,ar),h=Q(a-f*b-g*d,ar),i=Q(-f*c-g*b,ar),j=h>e,k=i>e;if(j&&(h=ar-h),k&&(i=ar-i),h>e||i>e)throw Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:j,k1:h,k2neg:k,k2:i}}}},f=g.sha256,{...(b=a=>(function(a){let b,c=(H(b=ai(a),{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})),{Fp:d,n:e}=c,f=d.BYTES+1,g=2*d.BYTES+1;function h(a){return Q(a,e)}let{ProjectivePoint:i,normPrivateKeyToScalar:m,weierstrassEquation:o,isWithinCurveOrder:p}=function(a){var b;let c=function(a){let b=ai(a);H(b,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:c,Fp:d,a:e}=b;if(c){if(!d.eql(e,d.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof c||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...b})}(a),{Fp:d}=c,e=Y(c.n,c.nBitLength),f=c.toBytes||((a,b,c)=>{let e=b.toAffine();return A(Uint8Array.from([4]),d.toBytes(e.x),d.toBytes(e.y))}),g=c.fromBytes||(a=>{let b=a.subarray(1);return{x:d.fromBytes(b.subarray(0,d.BYTES)),y:d.fromBytes(b.subarray(d.BYTES,2*d.BYTES))}});function h(a){let{a:b,b:e}=c,f=d.sqr(a),g=d.mul(f,a);return d.add(d.add(g,d.mul(a,b)),e)}if(!d.eql(d.sqr(c.Gy),h(c.Gx)))throw Error("bad generator point: equation left != right");function i(a){let b,{allowedPrivateKeyLengths:d,nByteLength:e,wrapPrivateKey:f,n:g}=c;if(d&&"bigint"!=typeof a){if(l(a)&&(a=s(a)),"string"!=typeof a||!d.includes(a.length))throw Error("invalid private key");a=a.padStart(2*e,"0")}try{b="bigint"==typeof a?a:v(z("private key",a,e))}catch(b){throw Error("invalid private key, expected hex or "+e+" bytes, got "+typeof a)}return f&&(b=Q(b,g)),D("private key",b,am,g),b}function m(a){if(!(a instanceof q))throw Error("ProjectivePoint expected")}let o=I((a,b)=>{let{px:c,py:e,pz:f}=a;if(d.eql(f,d.ONE))return{x:c,y:e};let g=a.is0();null==b&&(b=g?d.ONE:d.inv(f));let h=d.mul(c,b),i=d.mul(e,b),j=d.mul(f,b);if(g)return{x:d.ZERO,y:d.ZERO};if(!d.eql(j,d.ONE))throw Error("invZ was invalid");return{x:h,y:i}}),p=I(a=>{if(a.is0()){if(c.allowInfinityPoint&&!d.is0(a.py))return;throw Error("bad point: ZERO")}let{x:b,y:e}=a.toAffine();if(!d.isValid(b)||!d.isValid(e))throw Error("bad point: x or y not FE");let f=d.sqr(e),g=h(b);if(!d.eql(f,g))throw Error("bad point: equation left != right");if(!a.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class q{constructor(a,b,c){if(null==a||!d.isValid(a))throw Error("x required");if(null==b||!d.isValid(b)||d.is0(b))throw Error("y required");if(null==c||!d.isValid(c))throw Error("z required");this.px=a,this.py=b,this.pz=c,Object.freeze(this)}static fromAffine(a){let{x:b,y:c}=a||{};if(!a||!d.isValid(b)||!d.isValid(c))throw Error("invalid affine point");if(a instanceof q)throw Error("projective point not allowed");let e=a=>d.eql(a,d.ZERO);return e(b)&&e(c)?q.ZERO:new q(b,c,d.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(a){let b=V(d,a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(q.fromAffine)}static fromHex(a){let b=q.fromAffine(g(z("pointHex",a)));return b.assertValidity(),b}static fromPrivateKey(a){return q.BASE.multiply(i(a))}static msm(a,b){return function(a,b,c,d){if(!Array.isArray(c))throw Error("array expected");c.forEach((b,c)=>{if(!(b instanceof a))throw Error("invalid point at index "+c)});if(!Array.isArray(d))throw Error("array of scalars expected");if(d.forEach((a,c)=>{if(!b.isValid(a))throw Error("invalid scalar at index "+c)}),c.length!==d.length)throw Error("arrays of points and scalars must have equal length");let e=a.ZERO,f=function(a){let b;for(b=0;a>j;a>>=k,b+=1);return b}(BigInt(c.length)),g=f>12?f-3:f>4?f-2:f?2:1,h=E(g),i=Array(Number(h)+1).fill(e),l=Math.floor((b.BITS-1)/g)*g,m=e;for(let a=l;a>=0;a-=g){i.fill(e);for(let b=0;b<d.length;b++){let e=Number(d[b]>>BigInt(a)&h);i[e]=i[e].add(c[b])}let b=e;for(let a=i.length-1,c=e;a>0;a--)c=c.add(i[a]),b=b.add(c);if(m=m.add(b),0!==a)for(let a=0;a<g;a++)m=m.double()}return m}(q,e,a,b)}_setWindowSize(a){t.setWindowSize(this,a)}assertValidity(){p(this)}hasEvenY(){let{y:a}=this.toAffine();if(d.isOdd)return!d.isOdd(a);throw Error("Field doesn't support isOdd")}equals(a){m(a);let{px:b,py:c,pz:e}=this,{px:f,py:g,pz:h}=a,i=d.eql(d.mul(b,h),d.mul(f,e)),j=d.eql(d.mul(c,h),d.mul(g,e));return i&&j}negate(){return new q(this.px,d.neg(this.py),this.pz)}double(){let{a,b}=c,e=d.mul(b,ao),{px:f,py:g,pz:h}=this,i=d.ZERO,j=d.ZERO,k=d.ZERO,l=d.mul(f,f),m=d.mul(g,g),n=d.mul(h,h),o=d.mul(f,g);return o=d.add(o,o),k=d.mul(f,h),k=d.add(k,k),i=d.mul(a,k),j=d.mul(e,n),j=d.add(i,j),i=d.sub(m,j),j=d.add(m,j),j=d.mul(i,j),i=d.mul(o,i),k=d.mul(e,k),n=d.mul(a,n),o=d.sub(l,n),o=d.mul(a,o),o=d.add(o,k),k=d.add(l,l),l=d.add(k,l),l=d.add(l,n),l=d.mul(l,o),j=d.add(j,l),n=d.mul(g,h),n=d.add(n,n),l=d.mul(n,o),i=d.sub(i,l),k=d.mul(n,m),k=d.add(k,k),new q(i,j,k=d.add(k,k))}add(a){m(a);let{px:b,py:e,pz:f}=this,{px:g,py:h,pz:i}=a,j=d.ZERO,k=d.ZERO,l=d.ZERO,n=c.a,o=d.mul(c.b,ao),p=d.mul(b,g),r=d.mul(e,h),s=d.mul(f,i),t=d.add(b,e),u=d.add(g,h);t=d.mul(t,u),u=d.add(p,r),t=d.sub(t,u),u=d.add(b,f);let v=d.add(g,i);return u=d.mul(u,v),v=d.add(p,s),u=d.sub(u,v),v=d.add(e,f),j=d.add(h,i),v=d.mul(v,j),j=d.add(r,s),v=d.sub(v,j),l=d.mul(n,u),j=d.mul(o,s),l=d.add(j,l),j=d.sub(r,l),l=d.add(r,l),k=d.mul(j,l),r=d.add(p,p),r=d.add(r,p),s=d.mul(n,s),u=d.mul(o,u),r=d.add(r,s),s=d.sub(p,s),s=d.mul(n,s),u=d.add(u,s),p=d.mul(r,u),k=d.add(k,p),p=d.mul(v,u),j=d.mul(t,j),j=d.sub(j,p),p=d.mul(t,r),l=d.mul(v,l),new q(j,k,l=d.add(l,p))}subtract(a){return this.add(a.negate())}is0(){return this.equals(q.ZERO)}wNAF(a){return t.wNAFCached(this,a,q.normalizeZ)}multiplyUnsafe(a){let{endo:b,n:e}=c;D("scalar",a,al,e);let f=q.ZERO;if(a===al)return f;if(this.is0()||a===am)return this;if(!b||t.hasPrecomputes(this))return t.wNAFCachedUnsafe(this,a,q.normalizeZ);let{k1neg:g,k1:h,k2neg:i,k2:j}=b.splitScalar(a),k=f,l=f,m=this;for(;h>al||j>al;)h&am&&(k=k.add(m)),j&am&&(l=l.add(m)),m=m.double(),h>>=am,j>>=am;return g&&(k=k.negate()),i&&(l=l.negate()),l=new q(d.mul(l.px,b.beta),l.py,l.pz),k.add(l)}multiply(a){let b,e,{endo:f,n:g}=c;if(D("scalar",a,am,g),f){let{k1neg:c,k1:g,k2neg:h,k2:i}=f.splitScalar(a),{p:j,f:k}=this.wNAF(g),{p:l,f:m}=this.wNAF(i);j=t.constTimeNegate(c,j),l=t.constTimeNegate(h,l),l=new q(d.mul(l.px,f.beta),l.py,l.pz),b=j.add(l),e=k.add(m)}else{let{p:c,f:d}=this.wNAF(a);b=c,e=d}return q.normalizeZ([b,e])[0]}multiplyAndAddUnsafe(a,b,c){let d=q.BASE,e=(a,b)=>b!==al&&b!==am&&a.equals(d)?a.multiply(b):a.multiplyUnsafe(b),f=e(this,b).add(e(a,c));return f.is0()?void 0:f}toAffine(a){return o(this,a)}isTorsionFree(){let{h:a,isTorsionFree:b}=c;if(a===am)return!0;if(b)return b(q,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:a,clearCofactor:b}=c;return a===am?this:b?b(q,this):this.multiplyUnsafe(c.h)}toRawBytes(a=!0){return n("isCompressed",a),this.assertValidity(),f(q,this,a)}toHex(a=!0){return n("isCompressed",a),s(this.toRawBytes(a))}}q.BASE=new q(c.Gx,c.Gy,d.ONE),q.ZERO=new q(d.ZERO,d.ONE,d.ZERO);let r=c.nBitLength,t=(b=c.endo?Math.ceil(r/2):r,{constTimeNegate:ab,hasPrecomputes:a=>1!==ah(a),unsafeLadder(a,b,c=q.ZERO){let d=a;for(;b>_;)b&aa&&(c=c.add(d)),d=d.double(),b>>=aa;return c},precomputeWindow(a,c){let{windows:d,windowSize:e}=ad(c,b),f=[],g=a,h=g;for(let a=0;a<d;a++){h=g,f.push(h);for(let a=1;a<e;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(a,c,d){let e=q.ZERO,f=q.BASE,g=ad(a,b);for(let a=0;a<g.windows;a++){let{nextN:b,offset:h,isZero:i,isNeg:j,isNegF:k,offsetF:l}=ae(d,a,g);d=b,i?f=f.add(ab(k,c[l])):e=e.add(ab(j,c[h]))}return{p:e,f}},wNAFUnsafe(a,c,d,e=q.ZERO){let f=ad(a,b);for(let a=0;a<f.windows&&d!==_;a++){let{nextN:b,offset:g,isZero:h,isNeg:i}=ae(d,a,f);if(d=b,!h){let a=c[g];e=e.add(i?a.negate():a)}}return e},getPrecomputes(a,b,c){let d=af.get(b);return d||(d=this.precomputeWindow(b,a),1!==a&&af.set(b,c(d))),d},wNAFCached(a,b,c){let d=ah(a);return this.wNAF(d,this.getPrecomputes(d,a,c),b)},wNAFCachedUnsafe(a,b,c,d){let e=ah(a);return 1===e?this.unsafeLadder(a,b,d):this.wNAFUnsafe(e,this.getPrecomputes(e,a,c),b,d)},setWindowSize(a,c){ac(c,b),ag.set(a,c),af.delete(a)}});return{CURVE:c,ProjectivePoint:q,normPrivateKeyToScalar:i,weierstrassEquation:h,isWithinCurveOrder:function(a){return C(a,am,c.n)}}}({...c,toBytes(a,b,c){let e=b.toAffine(),f=d.toBytes(e.x);return(n("isCompressed",c),c)?A(Uint8Array.from([b.hasEvenY()?2:3]),f):A(Uint8Array.from([4]),f,d.toBytes(e.y))},fromBytes(a){let b=a.length,c=a[0],e=a.subarray(1);if(b===f&&(2===c||3===c)){let a,b=v(e);if(!C(b,am,d.ORDER))throw Error("Point is not on curve");let f=o(b);try{a=d.sqrt(f)}catch(a){throw Error("Point is not on curve"+(a instanceof Error?": "+a.message:""))}return(1&c)==1!=((a&am)===am)&&(a=d.neg(a)),{x:b,y:a}}if(b===g&&4===c)return{x:d.fromBytes(e.subarray(0,d.BYTES)),y:d.fromBytes(e.subarray(d.BYTES,2*d.BYTES))};throw Error("invalid Point, expected length of "+f+", or uncompressed "+g+", got "+b)}}),q=a=>s(x(a,c.nByteLength)),r=(a,b,c)=>v(a.slice(b,c));class t{constructor(a,b,c){D("r",a,am,e),D("s",b,am,e),this.r=a,this.s=b,null!=c&&(this.recovery=c),Object.freeze(this)}static fromCompact(a){let b=c.nByteLength;return new t(r(a=z("compactSignature",a,2*b),0,b),r(a,b,2*b))}static fromDER(a){let{r:b,s:c}=ak.toSig(z("DER",a));return new t(b,c)}assertValidity(){}addRecoveryBit(a){return new t(this.r,this.s,a)}recoverPublicKey(a){let{r:b,s:f,recovery:g}=this,j=J(z("msgHash",a));if(null==g||![0,1,2,3].includes(g))throw Error("recovery id invalid");let k=2===g||3===g?b+c.n:b;if(k>=d.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&g)==0?"02":"03",m=i.fromHex(l+q(k)),n=S(k,e),o=h(-j*n),p=h(f*n),r=i.BASE.multiplyAndAddUnsafe(m,o,p);if(!r)throw Error("point at infinify");return r.assertValidity(),r}hasHighS(){return this.s>e>>am}normalizeS(){return this.hasHighS()?new t(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return u(this.toDERHex())}toDERHex(){return ak.hexFromSig(this)}toCompactRawBytes(){return u(this.toCompactHex())}toCompactHex(){return q(this.r)+q(this.s)}}function B(a){let b=l(a),c="string"==typeof a,d=(b||c)&&a.length;return b?d===f||d===g:c?d===2*f||d===2*g:a instanceof i}let G=c.bits2int||function(a){if(a.length>8192)throw Error("input is too large");let b=v(a),d=8*a.length-c.nBitLength;return d>0?b>>BigInt(d):b},J=c.bits2int_modN||function(a){return h(G(a))},L=E(c.nBitLength);function M(a){return D("num < 2^"+c.nBitLength,a,al,L),x(a,c.nByteLength)}let N={lowS:c.lowS,prehash:!1},O={lowS:c.lowS,prehash:!1};return i.BASE._setWindowSize(8),{CURVE:c,getPublicKey:function(a,b=!0){return i.fromPrivateKey(a).toRawBytes(b)},getSharedSecret:function(a,b,c=!0){if(B(a))throw Error("first arg must be private key");if(!B(b))throw Error("second arg must be public key");return i.fromHex(b).multiply(m(a)).toRawBytes(c)},sign:function(a,b,f=N){let{seed:g,k2sig:j}=function(a,b,f=N){if(["recovered","canonical"].some(a=>a in f))throw Error("sign() legacy options not supported");let{hash:g,randomBytes:j}=c,{lowS:k,prehash:l,extraEntropy:n}=f;null==k&&(k=!0),a=z("msgHash",a),aj(f),l&&(a=z("prehashed msgHash",g(a)));let o=J(a),q=m(b),r=[M(q),M(o)];if(null!=n&&!1!==n){let a=!0===n?j(d.BYTES):n;r.push(z("extraEntropy",a))}return{seed:A(...r),k2sig:function(a){var b;let c=G(a);if(!p(c))return;let d=S(c,e),f=i.BASE.multiply(c).toAffine(),g=h(f.x);if(g===al)return;let j=h(d*h(o+g*q));if(j===al)return;let l=2*(f.x!==g)|Number(f.y&am),m=j;return k&&j>e>>am&&(m=(b=j)>e>>am?h(-b):b,l^=1),new t(g,m,l)}}}(a,b,f);return(function(a,b,c){if("number"!=typeof a||a<2)throw Error("hashLen must be a number");if("number"!=typeof b||b<2)throw Error("qByteLen must be a number");if("function"!=typeof c)throw Error("hmacFn must be a function");let d=F(a),e=F(a),f=0,g=()=>{d.fill(1),e.fill(0),f=0},h=(...a)=>c(e,d,...a),i=(a=F(0))=>{let b;if(e=h((b=[0],Uint8Array.from(b)),a),d=h(),0!==a.length){let b;e=h((b=[1],Uint8Array.from(b)),a),d=h()}},j=()=>{if(f++>=1e3)throw Error("drbg: tried 1000 values");let a=0,c=[];for(;a<b;){let b=(d=h()).slice();c.push(b),a+=d.length}return A(...c)};return(a,b)=>{let c;for(g(),i(a);!(c=b(j()));)i();return g(),c}})(c.hash.outputLen,c.nByteLength,c.hmac)(g,j)},verify:function(a,b,d,f=O){let g,j;b=z("msgHash",b),d=z("publicKey",d);let{lowS:k,prehash:m,format:n}=f;if(aj(f),"strict"in f)throw Error("options.strict was renamed to lowS");if(void 0!==n&&"compact"!==n&&"der"!==n)throw Error("format must be compact or der");let o="string"==typeof a||l(a),p=!o&&!n&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!o&&!p)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(p&&(j=new t(a.r,a.s)),o){try{"compact"!==n&&(j=t.fromDER(a))}catch(a){if(!(a instanceof ak.Err))throw a}j||"der"===n||(j=t.fromCompact(a))}g=i.fromHex(d)}catch(a){return!1}if(!j||k&&j.hasHighS())return!1;m&&(b=c.hash(b));let{r:q,s:r}=j,s=J(b),u=S(r,e),v=h(s*u),w=h(q*u),x=i.BASE.multiplyAndAddUnsafe(g,v,w)?.toAffine();return!!x&&h(x.x)===q},ProjectivePoint:i,Signature:t,utils:{isValidPrivateKey(a){try{return m(a),!0}catch(a){return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{let a=$(c.n);return function(a,b,c=!1){let d=a.length,e=Z(b),f=$(b);if(d<16||d<f||d>1024)throw Error("expected "+f+"-1024 bytes of input, got "+d);let g=Q(c?w(a):v(a),b-K)+K;return c?y(g,e):x(g,e)}(c.randomBytes(a),c.n)},precompute:(a=8,b=i.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}})({...e,...{hash:a,hmac:(b,...c)=>(0,i.hmac)(a,b,(0,h.concatBytes)(...c)),randomBytes:h.randomBytes}}))(f),create:b}),ax=(BigInt(0),{});aw.ProjectivePoint;let ay=(c=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(a=>a.map(a=>BigInt(a))).map(a=>Array.from(a).reverse()),(a,b)=>{let[d,e,f,g]=c.map(b=>b.reduce((b,c)=>av.add(av.mul(b,a),c))),[h,i]=V(av,[e,g],!0);return a=av.mul(d,h),b=av.mul(b,av.mul(f,i)),{x:a,y:b}}),az=function(a,b){if(U(a),!a.isValid(b.A)||!a.isValid(b.B)||!a.isValid(b.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let c=function(a,b){let c=a.ORDER,d=al;for(let a=c-am;a%an===al;a/=an)d+=am;let e=d,f=an<<e-am-am,g=f*an,h=(c-am)/g,i=(h-am)/an,j=g-am,k=a.pow(b,h),l=a.pow(b,(h+am)/an),m=(b,c)=>{let d=k,g=a.pow(c,j),h=a.sqr(g);h=a.mul(h,c);let m=a.mul(b,h);m=a.pow(m,i),m=a.mul(m,g),g=a.mul(m,c),h=a.mul(m,b);let n=a.mul(h,g);m=a.pow(n,f);let o=a.eql(m,a.ONE);g=a.mul(h,l),m=a.mul(n,d),h=a.cmov(g,h,o),n=a.cmov(m,n,o);for(let b=e;b>am;b--){let c=b-an;c=an<<c-am;let e=a.pow(n,c),f=a.eql(e,a.ONE);g=a.mul(h,d),d=a.mul(d,d),e=a.mul(n,d),h=a.cmov(g,h,f),n=a.cmov(e,n,f)}return{isValid:o,value:h}};if(a.ORDER%ap===ao){let c=(a.ORDER-ao)/ap,d=a.sqrt(a.neg(b));m=(b,e)=>{let f=a.sqr(e),g=a.mul(b,e);f=a.mul(f,g);let h=a.pow(f,c);h=a.mul(h,g);let i=a.mul(h,d),j=a.mul(a.sqr(h),e),k=a.eql(j,b),l=a.cmov(i,h,k);return{isValid:k,value:l}}}return m}(a,b.Z);if(!a.isOdd)throw Error("Fp.isOdd is not implemented!");return d=>{let e,f,g,h,i,j,k,l;e=a.sqr(d),e=a.mul(e,b.Z),f=a.sqr(e),f=a.add(f,e),g=a.add(f,a.ONE),g=a.mul(g,b.B),h=a.cmov(b.Z,a.neg(f),!a.eql(f,a.ZERO)),h=a.mul(h,b.A),f=a.sqr(g),j=a.sqr(h),i=a.mul(j,b.A),f=a.add(f,i),f=a.mul(f,g),j=a.mul(j,h),i=a.mul(j,b.B),f=a.add(f,i),k=a.mul(e,g);let{isValid:m,value:n}=c(f,j);l=a.mul(e,d),l=a.mul(l,n),k=a.cmov(k,g,m),l=a.cmov(l,n,m);let o=a.isOdd(d)===a.isOdd(l);l=a.cmov(a.neg(l),l,o);let p=V(a,[h],!0)[0];return{x:k=a.mul(k,p),y:l}}}(av,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:av.create(BigInt("-11"))});(function(a,b,c){if("function"!=typeof b)throw Error("mapToCurve() must be defined")})(aw.ProjectivePoint,a=>{let{x:b,y:c}=az(av.create(a[0]));return ay(b,c)},(av.ORDER,g.sha256)),a.s(["secp256k1",0,aw],23913);var aA=a.i(56415);function aB(a){let b=a.startsWith("0x")?a.substring(2):a;return(0,h.hexToBytes)(b)}function aC(a){return b=>((0,aA.abytes)(b),a(b))}let aD=aC(g.sha256);a.s(["addHexPrefix",()=>a5,"bigInt64ToBytes",()=>bk,"bigIntMax",()=>a9,"bigIntMin",()=>ba,"bigIntToAddressBytes",()=>bc,"bigIntToBytes",()=>aW,"bigIntToHex",()=>a8,"bigIntToUnpaddedBytes",()=>bb,"bitsToBytes",()=>bn,"bytesToBigInt",()=>aS,"bytesToBigInt64",()=>bi,"bytesToBits",()=>bm,"bytesToHex",()=>aQ,"bytesToInt",()=>aT,"bytesToInt32",()=>bh,"bytesToUnprefixedHex",()=>aN,"compareBytes",()=>be,"concatBytes",()=>bg,"equalsBits",()=>bq,"fromSigned",()=>a3,"hexToBigInt",()=>bl,"hexToBytes",()=>aO,"int32ToBytes",()=>bj,"intToBytes",()=>aV,"intToHex",()=>aU,"intToUnpaddedBytes",()=>bd,"matchingBitsLength",()=>bp,"matchingBytesLength",()=>bo,"randomBytes",()=>bf,"setLengthLeft",()=>aY,"setLengthRight",()=>aZ,"short",()=>a6,"toBytes",()=>a2,"toUnsigned",()=>a4,"unpadArray",()=>a0,"unpadBytes",()=>a_,"unpadHex",()=>a1,"unprefixedHexToBytes",()=>aP,"validateNoLeadingZeroes",()=>a7],39237);class aE extends Error{constructor(a,b,c){super(b??a.code),this.type=a,void 0!==c&&(this.stack=c)}getMetadata(){return this.type}toObject(){return{type:this.getMetadata(),message:this.message??"",stack:this.stack??"",className:this.constructor.name}}}function aF(a,b){return new aE({code:"ETHEREUMJS_DEFAULT_ERROR_CODE"},a,b)}Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function aG(a,b){return"string"==typeof a&&!!a.match(/^0x[0-9A-Fa-f]*$/)&&(void 0===b||!(b>0)||a.length===2+2*b)}a.s(["isHexString",()=>aG,"padToEven",()=>aI,"stripHexPrefix",()=>aH],56308);let aH=a=>{if("string"!=typeof a)throw aF(`[stripHexPrefix] input must be type 'string', received ${typeof a}`);return aG(a)?a.slice(2):a};function aI(a){let b=a;if("string"!=typeof b)throw aF(`[padToEven] value must be type 'string', received ${typeof b}`);return b.length%2&&(b=`0${b}`),b}let aJ=function(a){if(!aG(a))throw aF(`This method only supports 0x-prefixed hex strings but input was: ${a}`)},aK=function(a){if(!(a instanceof Uint8Array))throw aF(`This method only supports Uint8Array but input was: ${a}`)},aL=function(a){if(!Array.isArray(a))throw aF(`This method only supports number arrays but input was: ${a}`)},aM=BigInt(0),aN=h.bytesToHex,aO=a=>{if(!a.startsWith("0x"))throw aF("input string must be 0x prefixed");return aB(aI(aH(a)))},aP=a=>{if(a.startsWith("0x"))throw aF("input string cannot be 0x prefixed");return aB(aI(a))},aQ=a=>{let b=aN(a);return`0x${b}`},aR=[];for(let a=0;a<=65535;a++)aR[a]=BigInt(a);let aS=(a,b=!1)=>{b&&a.reverse();let c=aQ(a);return"0x"===c?aM:4===c.length?aR[a[0]]:6===c.length?aR[256*a[0]+a[1]]:BigInt(c)},aT=a=>{let b=Number(aS(a));if(!Number.isSafeInteger(b))throw aF("Number exceeds 53 bits");return b},aU=a=>{if(!Number.isSafeInteger(a)||a<0)throw aF(`Received an invalid integer type: ${a}`);return`0x${a.toString(16)}`},aV=a=>aO(aU(a)),aW=(a,b=!1)=>{let c=aO(`0x${aI(a.toString(16))}`);return b?c.reverse():c},aX=(a,b,c)=>c?a.length<b?new Uint8Array([...a,...new Uint8Array(b-a.length)]):a.subarray(0,b):a.length<b?new Uint8Array([...new Uint8Array(b-a.length),...a]):a.subarray(-b),aY=(a,b)=>(aK(a),aX(a,b,!1)),aZ=(a,b)=>(aK(a),aX(a,b,!0)),a$=a=>{let b=a[0];for(;a.length>0&&"0"===b.toString();)b=(a=a.slice(1))[0];return a},a_=a=>(aK(a),a$(a)),a0=a=>(aL(a),a$(a)),a1=a=>(aJ(a),`0x${a$(aH(a))}`),a2=a=>{if(null==a)return new Uint8Array;if(Array.isArray(a)||a instanceof Uint8Array)return Uint8Array.from(a);if("string"==typeof a){if(!aG(a))throw aF(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${a}`);return aO(a)}if("number"==typeof a)return aV(a);if("bigint"==typeof a){if(a<aM)throw aF(`Cannot convert negative bigint to Uint8Array. Given: ${a}`);let b=a.toString(16);return b.length%2&&(b="0"+b),aP(b)}if(void 0!==a.toBytes)return a.toBytes();throw aF("invalid type")},a3=a=>BigInt.asIntN(256,aS(a)),a4=a=>aW(BigInt.asUintN(256,a)),a5=a=>"string"!=typeof a||aG(a)?a:`0x${a}`,a6=(a,b=50)=>{let c=a instanceof Uint8Array?aQ(a):a,d="0x"===c.slice(0,2)?b+2:b;return c.length<=d?c:c.slice(0,d)+"â€¦"},a7=a=>{for(let[b,c]of Object.entries(a))if(void 0!==c&&c.length>0&&0===c[0])throw aF(`${b} cannot have leading zeroes, received: ${aQ(c)}`)},a8=a=>`0x${a.toString(16)}`,a9=(...a)=>a.reduce((a,b)=>b>a?b:a),ba=(...a)=>a.reduce((a,b)=>b<a?b:a),bb=a=>a_(aW(a)),bc=(a,b=!0)=>{let c=aW(a);if(b&&c.length>20)throw Error(`Invalid address bytes length=${c.length} strict=${b}`);return aY(c,20)},bd=a=>a_(aV(a)),be=(a,b)=>{let c=aS(a),d=aS(b);return c>d?1:c<d?-1:0},bf=a=>(0,h.randomBytes)(a),bg=(...a)=>{if(1===a.length)return a[0];let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0));for(let c=0,d=0;c<a.length;c++){let e=a[c];b.set(e,d),d+=e.length}return b};function bh(a,b=!1){return a.length<4&&(a=aX(a,4,b)),new DataView(a.buffer,a.byteOffset,a.byteLength).getUint32(0,b)}function bi(a,b=!1){return a.length<8&&(a=aX(a,8,b)),new DataView(a.buffer,a.byteOffset,a.byteLength).getBigUint64(0,b)}function bj(a,b=!1){let c=new ArrayBuffer(4);return new DataView(c).setUint32(0,a,b),new Uint8Array(c)}function bk(a,b=!1){let c=new ArrayBuffer(8);return new DataView(c).setBigUint64(0,a,b),new Uint8Array(c)}function bl(a){return aS(aO(aG(a)?a:`0x${a}`))}function bm(a,b){let c=[];for(let d=0;d<(b??8*a.length);d++){let b=Math.floor(d/8),e=7-d%8;c.push(a[b]>>e&1)}return c}function bn(a){let b=new Uint8Array(Math.ceil(a.length/8));for(let c=0;c<a.length;c++){let d=Math.floor(c/8),e=7-c%8;b[d]|=a[c]<<e}return b}function bo(a,b){let c=0,d=Math.min(a.length,b.length);for(let e=0;e<d;e++)if(a[e]===b[e])c++;else break;return c}function bp(a,b){let c=0,d=Math.min(a.length,b.length);for(let e=0;e<d;e++)if(a[e]===b[e])c++;else break;return c}function bq(a,b){if(a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),aw.CURVE.n,aw.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),aO("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),aO("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),aO("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),aD(new Uint8Array),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(1e9),BigInt(1e18);var br=a.i(93953);aC(br.keccak_224);let bs=((d=aC(br.keccak_256)).create=br.keccak_256.create,d);aC(br.keccak_384),aC(br.keccak_512),a.s(["keccak256",0,bs],12941),new Uint8Array(0),a.s(["hashPersonalMessage",0,function(a){return aK(a),bs(bg((0,h.utf8ToBytes)(`\u0019Ethereum Signed Message:
${a.length}`),a))}],69939),aO("0x05");aV(0),aV(1),BigInt(256),BigInt(31),a.s([],37966),a.i(39237),a.s(["addHexPrefix",0,a5,"bigIntToBytes",0,aW,"bigIntToHex",0,a8,"bytesToBigInt",0,aS,"fromSigned",0,a3,"toUnsigned",0,a4],47497)}];

//# sourceMappingURL=node_modules_1527c746._.js.map