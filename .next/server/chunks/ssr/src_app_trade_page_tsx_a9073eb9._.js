module.exports=[48434,a=>{"use strict";let b;var c=a.i(87924),d=a.i(50944),e=a.i(72131),f=a.i(19272),g=a.i(86969);a.i(11909);var h=a.i(62067),i=a.i(96438),j=a.i(48313),k=a.i(94988),l=a.i(32531),m=a.i(25933),n=a.i(15632),o=a.i(74285);function p({isOpen:a,onClose:b,onSelect:d,selectedMint:f,showBaseTokens:g=!0}){let[h,i]=(0,e.useState)(""),{data:p}=(0,n.useTokenBalances)(),q=(0,e.useMemo)(()=>{let a=g?[...m.BASE_TOKENS,...l.ALL_ASSETS]:l.ALL_ASSETS;if(!h)return a;let b=h.toLowerCase();return a.filter(a=>a.symbol.toLowerCase().includes(b)||a.name.toLowerCase().includes(b))},[h,g]);return(0,c.jsx)(j.Modal,{isOpen:a,onClose:b,title:"Select Token",children:(0,c.jsxs)("div",{className:"p-4",children:[(0,c.jsx)(k.Input,{placeholder:"Search tokens...",value:h,onChange:a=>i(a.target.value),className:"mb-4"}),(0,c.jsxs)("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:[q.map(a=>{let e=p?.[a.mint]?.uiAmount??0,g=a.mint===f,h="category"in a?a.category:null;return(0,c.jsxs)("button",{onClick:()=>{d(a),b(),i("")},disabled:g,className:`w-full flex items-center justify-between p-3 rounded-xl transition-colors ${g?"bg-primary-50 cursor-default":"hover:bg-surface-50"}`,children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-10 h-10 rounded-full bg-surface-200 flex items-center justify-center text-sm font-medium",children:a.symbol.slice(0,2)}),(0,c.jsxs)("div",{className:"text-left",children:[(0,c.jsx)("p",{className:"font-medium",children:a.symbol}),(0,c.jsxs)("p",{className:"text-sm text-surface-600",children:[a.name,h&&(0,c.jsxs)("span",{className:"text-xs text-surface-400 ml-1",children:["(",l.CATEGORY_LABELS[h],")"]})]})]})]}),e>0&&(0,c.jsx)("span",{className:"text-sm text-surface-600",children:(0,o.formatTokenAmount)(e)})]},a.mint)}),0===q.length&&(0,c.jsx)("p",{className:"text-center text-surface-500 py-8",children:"No tokens found"})]})]})})}function q({label:a,mint:b,amount:d,onMintChange:f,onAmountChange:g,disabled:h=!1,readOnly:i=!1}){let[j,k]=(0,e.useState)(!1),q=(0,n.useTokenBalance)(b),r=m.BASE_TOKENS.find(a=>a.mint===b)||l.ALL_ASSETS.find(a=>a.mint===b);return(0,c.jsxs)("div",{className:"bg-surface-50 rounded-2xl p-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsx)("span",{className:"text-sm text-surface-600",children:a}),r&&(0,c.jsxs)("span",{className:"text-sm text-surface-600",children:["Balance: ",(0,o.formatTokenAmount)(q)," ",!i&&(0,c.jsx)("button",{onClick:()=>{q>0&&g(q.toString())},className:"text-primary-600 hover:text-primary-700 font-medium",disabled:h,children:"MAX"})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("input",{type:"number",value:d,onChange:a=>g(a.target.value),placeholder:"0.00",disabled:h||i,className:"flex-1 bg-transparent text-2xl font-medium outline-none placeholder:text-surface-400 disabled:text-surface-600"}),(0,c.jsxs)("button",{onClick:()=>k(!0),disabled:h,className:"flex items-center gap-2 px-3 py-2 bg-white rounded-xl border border-surface-200 hover:bg-surface-50 transition-colors disabled:opacity-50",children:[(0,c.jsx)("div",{className:"w-6 h-6 rounded-full bg-surface-200 flex items-center justify-center text-xs font-medium",children:r?.symbol.slice(0,2)??"??"}),(0,c.jsx)("span",{className:"font-medium",children:r?.symbol??"Select"}),(0,c.jsx)("svg",{className:"w-4 h-4 text-surface-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,c.jsx)(p,{isOpen:j,onClose:()=>k(!1),onSelect:a=>{f(a.mint)},selectedMint:b})]})}function r({quote:a,outputMint:b}){if(!a)return null;let d=m.BASE_TOKENS.find(a=>a.mint===b)||l.ALL_ASSETS.find(a=>a.mint===b),e=d?.decimals??9,f=Number(a.outAmount)/Math.pow(10,e),g=parseFloat(a.priceImpactPct??"0"),h=f*(1-(a.slippageBps??100)/1e4);return(0,c.jsxs)("div",{className:"mt-4 p-4 bg-surface-50 rounded-xl text-sm space-y-2",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"text-surface-600",children:"Expected Output"}),(0,c.jsxs)("span",{className:"font-medium",children:[(0,o.formatTokenAmount)(f)," ",d?.symbol]})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"text-surface-600",children:"Minimum Received"}),(0,c.jsxs)("span",{className:"font-medium",children:[(0,o.formatTokenAmount)(h)," ",d?.symbol]})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"text-surface-600",children:"Price Impact"}),(0,c.jsxs)("span",{className:`font-medium ${g>1?"text-red-600":g>.5?"text-yellow-600":"text-green-600"}`,children:[g.toFixed(2),"%"]})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"text-surface-600",children:"Slippage Tolerance"}),(0,c.jsxs)("span",{className:"font-medium",children:[(a.slippageBps??100)/100,"%"]})]})]})}let s=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},t=a=>{let b=a?s(a):s,c=a=>(function(a,b=a=>a){let c=e.default.useSyncExternalStore(a.subscribe,e.default.useCallback(()=>b(a.getState()),[a,b]),e.default.useCallback(()=>b(a.getInitialState()),[a,b]));return e.default.useDebugValue(c),c})(b,a);return Object.assign(c,b),c},u=(b=a=>({inputMint:m.USDC.mint,outputMint:l.STOCKS[0]?.mint||"",inputAmount:"",slippageBps:100,setInputMint:b=>a({inputMint:b}),setOutputMint:b=>a({outputMint:b}),setInputAmount:b=>a({inputAmount:b}),setSlippageBps:b=>a({slippageBps:b}),flipTokens:()=>a(a=>({inputMint:a.outputMint,outputMint:a.inputMint,inputAmount:""})),reset:()=>a({inputMint:m.USDC.mint,outputMint:l.STOCKS[0]?.mint||"",inputAmount:""})}))?t(b):t;var v=a.i(33217),w=Object.defineProperty,x=Object.defineProperties,y=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,C=(a,b,c)=>b in a?w(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,D=(a,b)=>{for(var c in b||(b={}))A.call(b,c)&&C(a,c,b[c]);if(z)for(var c of z(b))B.call(b,c)&&C(a,c,b[c]);return a},E=(a,b,c)=>new Promise((d,e)=>{var f=a=>{try{h(c.next(a))}catch(a){e(a)}},g=a=>{try{h(c.throw(a))}catch(a){e(a)}},h=a=>a.done?d(a.value):Promise.resolve(a.value).then(f,g);h((c=c.apply(a,b)).next())}),F="https://api.jup.ag/swap/v1".replace(/\/+$/,""),G=class{constructor(a={}){this.configuration=a}set config(a){this.configuration=a}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:F}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function a(b,c=""){return Object.keys(b).map(d=>(function b(c,d,e=""){let f=e+(e.length?`[${c}]`:c);if(d instanceof Array){let a=d.map(a=>encodeURIComponent(String(a))).join(`&${encodeURIComponent(f)}=`);return`${encodeURIComponent(f)}=${a}`}return d instanceof Set?b(c,Array.from(d),e):d instanceof Date?`${encodeURIComponent(f)}=${encodeURIComponent(d.toISOString())}`:d instanceof Object?a(d,f):`${encodeURIComponent(f)}=${encodeURIComponent(String(d))}`})(d,b[d],c)).filter(a=>a.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let a=this.configuration.apiKey;if(a)return"function"==typeof a?a:()=>a}get accessToken(){let a=this.configuration.accessToken;if(a)return"function"==typeof a?a:()=>E(this,null,function*(){return a})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}},H=new G,I=class a{constructor(a=H){this.configuration=a,this.fetchApi=(a,b)=>E(this,null,function*(){let c,d={url:a,init:b};for(let a of this.middleware)a.pre&&(d=(yield a.pre(D({fetch:this.fetchApi},d)))||d);try{c=yield(this.configuration.fetchApi||fetch)(d.url,d.init)}catch(a){for(let b of this.middleware)b.onError&&(c=(yield b.onError({fetch:this.fetchApi,url:d.url,init:d.init,error:a,response:c?c.clone():void 0}))||c);if(void 0===c)if(a instanceof Error)throw new L(a,"The request failed and the interceptors did not return an alternative response");else throw a}for(let a of this.middleware)a.post&&(c=(yield a.post({fetch:this.fetchApi,url:d.url,init:d.init,response:c.clone()}))||c);return c}),this.middleware=a.middleware}withMiddleware(...a){let b=this.clone();return b.middleware=b.middleware.concat(...a),b}withPreMiddleware(...a){let b=a.map(a=>({pre:a}));return this.withMiddleware(...b)}withPostMiddleware(...a){let b=a.map(a=>({post:a}));return this.withMiddleware(...b)}isJsonMime(b){return!!b&&a.jsonRegex.test(b)}request(a,b){return E(this,null,function*(){let{url:c,init:d}=yield this.createFetchParams(a,b),e=yield this.fetchApi(c,d);if(e&&e.status>=200&&e.status<300)return e;throw new K(e,"Response returned an error code")})}createFetchParams(a,b){return E(this,null,function*(){var c,d;let e,f=this.configuration.basePath+a.path;void 0!==a.query&&0!==Object.keys(a.query).length&&(f+="?"+this.configuration.queryParamsStringify(a.query));let g=Object.assign({},this.configuration.headers,a.headers);Object.keys(g).forEach(a=>void 0===g[a]?delete g[a]:{});let h={method:a.method,headers:g,body:a.body,credentials:this.configuration.credentials},i=D(D({},h),(yield("function"==typeof b?b:()=>E(this,null,function*(){return b}))({init:h,context:a})));return c=i.body,e="undefined"!=typeof FormData&&c instanceof FormData||i.body instanceof URLSearchParams||(d=i.body,"undefined"!=typeof Blob&&d instanceof Blob)?i.body:this.isJsonMime(g["Content-Type"])?JSON.stringify(i.body):i.body,{url:f,init:x(D({},i),y({body:e}))}})}clone(){let a=new this.constructor(this.configuration);return a.middleware=this.middleware.slice(),a}};I.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");var J=I,K=class extends Error{constructor(a,b){super(b),this.response=a,this.name="ResponseError"}},L=class extends Error{constructor(a,b){super(b),this.cause=a,this.name="FetchError"}},M=class extends Error{constructor(a,b){super(b),this.field=a,this.name="RequiredError"}};function N(a,b){return null!=a[b]}var O=class{constructor(a,b=a=>a){this.raw=a,this.transformer=b}value(){return E(this,null,function*(){return this.transformer((yield this.raw.json()))})}};function P(a){var b;return null==(b=a)?b:{pubkey:b.pubkey,isSigner:b.isSigner,isWritable:b.isWritable}}function Q(a){var b;return null==(b=a)?b:{programId:b.programId,accounts:b.accounts.map(P),data:b.data}}function R(a){var b,c=a;if(null==c)return c;return{swapInfo:(b=c.swapInfo,null==b?b:{ammKey:b.ammKey,label:N(b,"label")?b.label:void 0,inputMint:b.inputMint,outputMint:b.outputMint,inAmount:b.inAmount,outAmount:b.outAmount}),percent:N(c,"percent")?c.percent:void 0,bps:N(c,"bps")?c.bps:void 0}}function S(a){if(void 0!==a)return null===a?null:{swapInfo:function(a){if(void 0!==a)return null===a?null:{ammKey:a.ammKey,label:a.label,inputMint:a.inputMint,outputMint:a.outputMint,inAmount:a.inAmount,outAmount:a.outAmount}}(a.swapInfo),percent:a.percent,bps:a.bps}}function T(a){if(void 0!==a)return null===a?null:{userPublicKey:a.userPublicKey,payer:a.payer,wrapAndUnwrapSol:a.wrapAndUnwrapSol,useSharedAccounts:a.useSharedAccounts,feeAccount:a.feeAccount,trackingAccount:a.trackingAccount,prioritizationFeeLamports:function(a){if(void 0!==a){if(null===a)return null;if("jitoTipLamports"in a)return void 0!==a?null===a?null:{jitoTipLamports:a.jitoTipLamports}:void 0;if("jitoTipLamportsWithPayer"in a)return void 0!==a?null===a?null:{jitoTipLamportsWithPayer:function(a){if(void 0!==a)return null===a?null:{lamports:a.lamports,payer:a.payer}}(a.jitoTipLamportsWithPayer)}:void 0;if("priorityLevelWithMaxLamports"in a)return void 0!==a?null===a?null:{priorityLevelWithMaxLamports:function(a){if(void 0!==a)return null===a?null:{priorityLevel:a.priorityLevel,maxLamports:a.maxLamports,global:a.global}}(a.priorityLevelWithMaxLamports)}:void 0;return{}}}(a.prioritizationFeeLamports),asLegacyTransaction:a.asLegacyTransaction,destinationTokenAccount:a.destinationTokenAccount,nativeDestinationAccount:a.nativeDestinationAccount,dynamicComputeUnitLimit:a.dynamicComputeUnitLimit,skipUserAccountsRpcCalls:a.skipUserAccountsRpcCalls,dynamicSlippage:a.dynamicSlippage,computeUnitPriceMicroLamports:a.computeUnitPriceMicroLamports,blockhashSlotsToExpiry:a.blockhashSlotsToExpiry,quoteResponse:function(a){if(void 0!==a)return null===a?null:{inputMint:a.inputMint,inAmount:a.inAmount,outputMint:a.outputMint,outAmount:a.outAmount,otherAmountThreshold:a.otherAmountThreshold,instructionVersion:a.instructionVersion,swapMode:a.swapMode,slippageBps:a.slippageBps,platformFee:function(a){if(void 0!==a)return null===a?null:{amount:a.amount,feeBps:a.feeBps}}(a.platformFee),priceImpactPct:a.priceImpactPct,routePlan:a.routePlan.map(S),contextSlot:a.contextSlot,timeTaken:a.timeTaken}}(a.quoteResponse)}}let U=new class extends J{programIdToLabelGetRaw(a){return E(this,null,function*(){return new O((yield this.request({path:"/program-id-to-label",method:"GET",headers:{},query:{}},a)))})}programIdToLabelGet(a){return E(this,null,function*(){let b=yield this.programIdToLabelGetRaw(a);return yield b.value()})}quoteGetRaw(a,b){return E(this,null,function*(){if(null===a.inputMint||void 0===a.inputMint)throw new M("inputMint","Required parameter requestParameters.inputMint was null or undefined when calling quoteGet.");if(null===a.outputMint||void 0===a.outputMint)throw new M("outputMint","Required parameter requestParameters.outputMint was null or undefined when calling quoteGet.");if(null===a.amount||void 0===a.amount)throw new M("amount","Required parameter requestParameters.amount was null or undefined when calling quoteGet.");let c={};return void 0!==a.inputMint&&(c.inputMint=a.inputMint),void 0!==a.outputMint&&(c.outputMint=a.outputMint),void 0!==a.amount&&(c.amount=a.amount),void 0!==a.slippageBps&&(c.slippageBps=a.slippageBps),void 0!==a.swapMode&&(c.swapMode=a.swapMode),a.dexes&&(c.dexes=a.dexes),a.excludeDexes&&(c.excludeDexes=a.excludeDexes),void 0!==a.restrictIntermediateTokens&&(c.restrictIntermediateTokens=a.restrictIntermediateTokens),void 0!==a.onlyDirectRoutes&&(c.onlyDirectRoutes=a.onlyDirectRoutes),void 0!==a.asLegacyTransaction&&(c.asLegacyTransaction=a.asLegacyTransaction),void 0!==a.platformFeeBps&&(c.platformFeeBps=a.platformFeeBps),void 0!==a.maxAccounts&&(c.maxAccounts=a.maxAccounts),void 0!==a.instructionVersion&&(c.instructionVersion=a.instructionVersion),void 0!==a.dynamicSlippage&&(c.dynamicSlippage=a.dynamicSlippage),new O((yield this.request({path:"/quote",method:"GET",headers:{},query:c},b)),a=>(function(a,b){var c,d,e,f;if(null==a)return a;return{inputMint:a.inputMint,inAmount:a.inAmount,outputMint:a.outputMint,outAmount:a.outAmount,otherAmountThreshold:a.otherAmountThreshold,instructionVersion:N(a,"instructionVersion")?a.instructionVersion:void 0,swapMode:(c=a.swapMode,d=0,c),slippageBps:a.slippageBps,platformFee:N(a,"platformFee")?(e=a.platformFee,f=0,null==e?e:{amount:N(e,"amount")?e.amount:void 0,feeBps:N(e,"feeBps")?e.feeBps:void 0}):void 0,priceImpactPct:a.priceImpactPct,routePlan:a.routePlan.map(R),contextSlot:N(a,"contextSlot")?a.contextSlot:void 0,timeTaken:N(a,"timeTaken")?a.timeTaken:void 0}})(a,0))})}quoteGet(a,b){return E(this,null,function*(){let c=yield this.quoteGetRaw(a,b);return yield c.value()})}swapInstructionsPostRaw(a,b){return E(this,null,function*(){if(null===a.swapRequest||void 0===a.swapRequest)throw new M("swapRequest","Required parameter requestParameters.swapRequest was null or undefined when calling swapInstructionsPost.");let c={};return c["Content-Type"]="application/json",new O((yield this.request({path:"/swap-instructions",method:"POST",headers:c,query:{},body:T(a.swapRequest)},b)),a=>{var b,c;return c=0,null==(b=a)?b:{otherInstructions:b.otherInstructions.map(Q),computeBudgetInstructions:b.computeBudgetInstructions.map(Q),setupInstructions:b.setupInstructions.map(Q),swapInstruction:Q(b.swapInstruction),cleanupInstruction:N(b,"cleanupInstruction")?Q(b.cleanupInstruction):void 0,addressLookupTableAddresses:b.addressLookupTableAddresses}})})}swapInstructionsPost(a,b){return E(this,null,function*(){let c=yield this.swapInstructionsPostRaw(a,b);return yield c.value()})}swapPostRaw(a,b){return E(this,null,function*(){if(null===a.swapRequest||void 0===a.swapRequest)throw new M("swapRequest","Required parameter requestParameters.swapRequest was null or undefined when calling swapPost.");let c={};return c["Content-Type"]="application/json",new O((yield this.request({path:"/swap",method:"POST",headers:c,query:{},body:T(a.swapRequest)},b)),a=>{var b,c;return c=0,null==(b=a)?b:{swapTransaction:b.swapTransaction,lastValidBlockHeight:b.lastValidBlockHeight,prioritizationFeeLamports:N(b,"prioritizationFeeLamports")?b.prioritizationFeeLamports:void 0}})})}swapPost(a,b){return E(this,null,function*(){let c=yield this.swapPostRaw(a,b);return yield c.value()})}}(new G(x(D({},void 0),y({basePath:"https://lite-api.jup.ag/swap/v1",headers:void 0}))));var V=a.i(29820),W=a.i(37927),X=a.i(10510);function Y(a){return m.BASE_TOKENS.find(b=>b.mint===a)||l.ALL_ASSETS.find(b=>b.mint===a)}function Z(){let{connected:a}=(0,f.useWallet)(),{setVisible:b}=(0,g.useWalletModal)(),{inputMint:d,outputMint:j,inputAmount:k,slippageBps:l,setInputMint:m,setOutputMint:o,setInputAmount:p,flipTokens:s}=u(),t=Y(d),w=(0,n.useTokenBalance)(d),{data:x,isLoading:y,error:z}=function({inputMint:a,outputMint:b,amount:c,slippageBps:d,decimals:e}){let f=c?Math.floor(parseFloat(c)*Math.pow(10,e)):0;return(0,v.useQuery)({queryKey:["jupiterQuote",a,b,f,d],queryFn:async()=>{if(!a||!b||!c||0>=parseFloat(c))return null;try{return await U.quoteGet({inputMint:a,outputMint:b,amount:f,slippageBps:d})}catch(a){throw console.error("Failed to fetch quote:",a),a}},enabled:!!a&&!!b&&!!c&&parseFloat(c)>0&&a!==b,staleTime:1e4,refetchInterval:15e3,retry:2})}({inputMint:d,outputMint:j,amount:k,slippageBps:l,decimals:t?.decimals??9}),{swap:A,status:B,error:C,reset:D}=function(){let{connection:a}=(0,V.useConnection)(),{publicKey:b,signTransaction:c}=(0,f.useWallet)(),d=(0,W.useQueryClient)(),[g,h]=(0,e.useState)("idle"),[i,j]=(0,e.useState)(null),k=(0,e.useCallback)(()=>{h("idle"),j(null)},[]);return{swap:(0,e.useCallback)(async e=>{if(!b||!c)return j("Wallet not connected"),h("error"),null;try{h("preparing"),j(null),console.log("Fetching fresh quote...");let f=await U.quoteGet({inputMint:e.inputMint,outputMint:e.outputMint,amount:e.amount,slippageBps:e.slippageBps});if(!f)throw Error("Failed to get quote");console.log("Got fresh quote, getting swap transaction...");let g=await U.swapPost({swapRequest:{quoteResponse:f,userPublicKey:b.toBase58(),dynamicComputeUnitLimit:!0}}),i=Buffer.from(g.swapTransaction,"base64"),k=X.VersionedTransaction.deserialize(i);h("signing"),console.log("Requesting signature...");let l=await c(k);h("confirming"),console.log("Sending transaction...");let m=l.serialize(),n=await a.sendRawTransaction(m,{skipPreflight:!0,maxRetries:2});console.log("Transaction sent:",n);let o=await a.getLatestBlockhash("confirmed");if((await a.confirmTransaction({signature:n,blockhash:o.blockhash,lastValidBlockHeight:o.lastValidBlockHeight},"confirmed")).value.err)throw Error("Transaction failed on chain");return console.log("Transaction confirmed!"),h("success"),d.invalidateQueries({queryKey:["tokenBalances"]}),n}catch(b){console.error("Swap failed:",b);let a=b instanceof Error?b.message:"Swap failed";return a.includes("block height exceeded")?j("Transaction expired. Please try again."):a.includes("insufficient")?j("Insufficient balance for this swap."):j(a),h("error"),null}},[b,c,a,d]),status:g,error:i,reset:k}}(),E=(0,e.useMemo)(()=>{if(!x)return"";let a=Y(j),b=a?.decimals??9;return(Number(x.outAmount)/Math.pow(10,b)).toString()},[x,j]),F=async()=>{if(!x||!t)return;let a=Math.floor(parseFloat(k)*Math.pow(10,t.decimals));await A({inputMint:d,outputMint:j,amount:a,slippageBps:l})&&(p(""),setTimeout(D,3e3))},G=y||"preparing"===B||"signing"===B||"confirming"===B,H=parseFloat(k||"0")>w,I=(0,e.useMemo)(()=>a?"preparing"===B?"Preparing...":"signing"===B?"Confirm in Wallet...":"confirming"===B?"Confirming...":"success"===B?"Swap Successful!":"error"===B?"Swap Failed":!k||0>=parseFloat(k)?"Enter Amount":H?"Insufficient Balance":y?"Fetching Quote...":z?"Unable to Quote":"Swap":"Connect Wallet",[a,B,k,H,y,z]),J=!a||G||!k||0>=parseFloat(k)||H||!x||"success"===B;return(0,c.jsx)(h.Card,{className:"max-w-md mx-auto",children:(0,c.jsxs)(h.CardContent,{className:"p-6",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(q,{label:"You Pay",mint:d,amount:k,onMintChange:m,onAmountChange:p,disabled:G}),(0,c.jsx)("div",{className:"flex justify-center -my-1 relative z-10",children:(0,c.jsx)("button",{onClick:s,disabled:G,className:"p-2 bg-white border border-surface-200 rounded-xl hover:bg-surface-50 transition-colors disabled:opacity-50",children:(0,c.jsx)("svg",{className:"w-5 h-5 text-surface-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})})}),(0,c.jsx)(q,{label:"You Receive",mint:j,amount:E,onMintChange:o,onAmountChange:()=>{},readOnly:!0,disabled:G})]}),(0,c.jsx)(r,{quote:x??null,outputMint:j}),C&&(0,c.jsx)("p",{className:"mt-4 text-sm text-red-600 text-center",children:C}),(0,c.jsx)(i.Button,{className:"w-full mt-6",size:"lg",disabled:J&&a,loading:G,onClick:a?F:()=>b(!0),children:I})]})})}function $(){let a=(0,d.useSearchParams)().get("asset"),{setOutputMint:b}=u();return(0,e.useEffect)(()=>{a&&(0,l.getAssetByMint)(a)&&b(a)},[a,b]),(0,c.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-6",children:[(0,c.jsxs)("div",{className:"text-center mb-6",children:[(0,c.jsx)("h1",{className:"text-xl font-bold",children:"Trade"}),(0,c.jsx)("p",{className:"text-surface-600 text-sm mt-1",children:"Swap USDC for tokenized assets"})]}),(0,c.jsx)(Z,{})]})}function _(){return(0,c.jsx)(e.Suspense,{fallback:(0,c.jsx)("div",{className:"max-w-lg mx-auto px-4 py-6",children:"Loading..."}),children:(0,c.jsx)($,{})})}a.s(["default",()=>_],48434)}];

//# sourceMappingURL=src_app_trade_page_tsx_a9073eb9._.js.map