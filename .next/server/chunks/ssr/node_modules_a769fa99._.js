module.exports=[33711,a=>{"use strict";let b=(a=>{if(a.length>=255)throw TypeError("Alphabet too long");let b=new Uint8Array(256);for(let a=0;a<b.length;a++)b[a]=255;for(let c=0;c<a.length;c++){let d=a.charAt(c),e=d.charCodeAt(0);if(255!==b[e])throw TypeError(`${d} is ambiguous`);b[e]=c}let c=a.length,d=a.charAt(0),e=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function g(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;let f=0,g=0,h=0;for(;a[f]===d;)g++,f++;let i=(a.length-f)*e+1>>>0,j=new Uint8Array(i);for(;a[f];){let d=b[a.charCodeAt(f)];if(255===d)return;let e=0;for(let a=i-1;(0!==d||e<h)&&-1!==a;a--,e++)d+=c*j[a]>>>0,j[a]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");h=e,f++}let k=i-h;for(;k!==i&&0===j[k];)k++;let l=new Uint8Array(g+(i-k)),m=g;for(;k!==i;)l[m++]=j[k++];return l}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";let e=0,g=0,h=0,i=b.length;for(;h!==i&&0===b[h];)h++,e++;let j=(i-h)*f+1>>>0,k=new Uint8Array(j);for(;h!==i;){let a=b[h],d=0;for(let b=j-1;(0!==a||d<g)&&-1!==b;b--,d++)a+=256*k[b]>>>0,k[b]=a%c>>>0,a=a/c>>>0;if(0!==a)throw Error("Non-zero carry");g=d,h++}let l=j-g;for(;l!==j&&0===k[l];)l++;let m=d.repeat(e);for(;l<j;++l)m+=a.charAt(k[l]);return m},decodeUnsafe:g,decode:function(a){let b=g(a);if(b)return b;throw Error(`Non-base${c} character`)}}})("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");a.s(["bs58",()=>b])},76832,a=>{"use strict";var b=a.i(24648),c=a.i(66259);function d(a){let{chainId:b}=a;return(0,c.mergeMiddleware)([(a,c,d,e)=>"solana_chainId"===a.method?(c.result=b,e()):d(),(b,c,d,e)=>"solana_provider_config"===b.method?(c.result=a,e()):d()])}function e(a){let{rpcTarget:e}=a,f=(0,b.createFetchMiddleware)({rpcTarget:e});return{networkMiddleware:(0,c.mergeMiddleware)([d(a),f]),fetchMiddleware:f}}a.s(["createConfigMiddleware",()=>d,"createSolanaJsonRpcClient",()=>e])},46187,a=>{"use strict";var b=a.i(30861),c=a.i(66259),d=a.i(59353);function e(a,c){return(0,b.createAsyncMiddleware)(async(b,d,e)=>{let{method:f}=b;if(f!==a)return e();if(!c)throw Error(`WalletMiddleware - ${a} not provided`);d.result=await c(b)})}function f(a){let{getAccounts:f,requestAccounts:g,signTransaction:h,signAndSendTransaction:i,signAllTransactions:j,signMessage:k,getPrivateKey:l,getSecretKey:m,getPublicKey:n}=a;return(0,c.mergeMiddleware)([function({requestAccounts:a}){return(0,b.createAsyncMiddleware)(async(b,c,e)=>{let{method:f}=b;if(f!==d.SOLANA_METHOD_TYPES.SOLANA_REQUEST_ACCOUNTS)return e();if(!a)throw Error("WalletMiddleware - opts.requestAccounts not provided");c.result=await a(b)})}({requestAccounts:g}),function({getAccounts:a}){return(0,b.createAsyncMiddleware)(async(b,c,e)=>{let{method:f}=b;if(f!==d.SOLANA_METHOD_TYPES.GET_ACCOUNTS)return e();if(!a)throw Error("WalletMiddleware - opts.getAccounts not provided");c.result=await a(b)})}({getAccounts:f}),e(d.SOLANA_METHOD_TYPES.SIGN_TRANSACTION,h),e(d.SOLANA_METHOD_TYPES.SEND_TRANSACTION,i),e(d.SOLANA_METHOD_TYPES.SIGN_ALL_TRANSACTIONS,j),e(d.SOLANA_METHOD_TYPES.SIGN_MESSAGE,k),e(d.SOLANA_METHOD_TYPES.SOLANA_PRIVATE_KEY,l),e(d.SOLANA_METHOD_TYPES.PRIVATE_KEY,l),e("public_key",n),e("solanaPublicKey",n),e("solanaSecretKey",m)])}a.s(["createSolanaMiddleware",()=>f])},39381,a=>{"use strict";var b=a.i(72330),c=a.i(97862),d=a.i(1693),e=a.i(39658);let f=a=>{let{chains:f,features:g}=a;return f.some(a=>a.startsWith("solana"))?!![e.StandardConnect,b.SolanaSignMessage,c.SolanaSignTransaction,d.SolanaSignAndSendTransaction].every(a=>Object.keys(g).includes(a)):void 0};a.s(["hasSolanaWalletStandardFeatures",()=>f],47375),a.i(47375);var g=a.i(48581),h=a.i(41415),i=a.i(44080),j=a.i(55412),k=a.i(59353),l=a.i(62556),m=a.i(62738),n=a.i(9290),o=a.i(1582);class p extends l.BaseConnector{async init(a){}async getIdentityToken(){if(!this.provider||!this.canAuthorize)throw m.WalletLoginError.notConnectedError();if(!this.coreOptions)throw m.WalletInitializationError.invalidParams("Please initialize Web3Auth with a valid options");this.status=n.CONNECTOR_STATUS.AUTHORIZING,this.emit(n.CONNECTOR_EVENTS.AUTHORIZING,{connector:this.name});let a=await this.provider.request({method:k.SOLANA_METHOD_TYPES.GET_ACCOUNTS});if(a&&a.length>0){let b=(0,o.getSavedToken)(a[0],this.name);if(b&&!(0,o.checkIfTokenIsExpired)(b))return this.status=n.CONNECTOR_STATUS.AUTHORIZED,this.emit(n.CONNECTOR_EVENTS.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:b}}),{idToken:b};let c=await this.provider.request({method:"solana_chainId"}),d=this.coreOptions.chains.find(a=>a.chainId===c);if(!d)throw m.WalletInitializationError.invalidParams("chainConfig is required before authentication");let{chainNamespace:e}=d,f={domain:window.location.origin,uri:window.location.href,address:a[0],chainId:parseInt(c,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},g=await (0,j.signChallenge)(f,e),h=await this.provider.request({method:k.SOLANA_METHOD_TYPES.SIGN_MESSAGE,params:{data:g,display:"utf8"}}),i=await (0,j.verifySignedChallenge)(e,h,g,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return(0,o.saveToken)(a[0],this.name,i),this.status=n.CONNECTOR_STATUS.AUTHORIZED,this.emit(n.CONNECTOR_EVENTS.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:i}}),{idToken:i}}throw m.WalletLoginError.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();let a=await this.provider.request({method:k.SOLANA_METHOD_TYPES.GET_ACCOUNTS});a&&a.length>0&&(0,o.clearToken)(a[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(n.CONNECTOR_EVENTS.DISCONNECTED)}}var q=a.i(10510),r=a.i(33711),s=a.i(66259),t=a.i(76832),u=a.i(46187),v=a.i(84699);class w extends v.BaseProvider{constructor({config:a,state:b}){super({config:a,state:b})}async switchChain(a){throw m.WalletLoginError.unsupportedOperation("Chain switching is not supported by this connector")}async setupProvider(a,b){let c=new s.JRPCEngine,d=this.getChain(b),e=this.getProviderHandlers(a),f=(0,u.createSolanaMiddleware)(e);c.push(f);let g=(0,t.createConfigMiddleware)(d);c.push(g);let h=this.getInjectedProviderProxy(a);h&&c.push(h);let i=(0,s.providerFromEngine)(c);this.updateProviderEngineProxy(i),await this.lookupNetwork(a,b)}async lookupNetwork(a,b){return this.update({chainId:b}),b||""}getInjectedProviderProxy(a){}}var x=a.i(22215);let y=a=>{switch(a.chainId){case"0x65":return"solana:mainnet";case"0x66":return"solana:testnet";case"0x67":return"solana:devnet";default:return null}};class z extends w{getProviderHandlers(a){var e;let f=y(this.config.chain),g=()=>{let b=null==a?void 0:a.accounts[0];if(!b)throw m.WalletLoginError.notConnectedError();return b};return e={get publicKey(){return new q.PublicKey(g().publicKey)},signMessage:async c=>{let d=g(),e=new Uint8Array(Buffer.from(c,"utf-8")),f=await a.features[b.SolanaSignMessage].signMessage({account:d,message:e});return r.bs58.encode(f[0].signature)},signTransaction:async b=>{let d=g(),e=await a.features[c.SolanaSignTransaction].signTransaction({account:d,transaction:new Uint8Array(Buffer.from(b,"base64")),chain:f});return r.bs58.encode(q.VersionedTransaction.deserialize(e[0].signedTransaction).signatures[0])},signAllTransactions:async b=>{let d=g();return Promise.all(b.map(async b=>{let e=await a.features[c.SolanaSignTransaction].signTransaction({account:d,transaction:new Uint8Array(Buffer.from(b,"base64")),chain:f});return Buffer.from(e[0].signedTransaction).toString("base64")}))},signAndSendTransaction:async b=>{let c=g(),e=await a.features[d.SolanaSignAndSendTransaction].signAndSendTransaction({account:c,transaction:new Uint8Array(Buffer.from(b,"base64")),chain:f});return r.bs58.encode(e[0].signature)}},{requestAccounts:async()=>e.publicKey?[r.bs58.encode(e.publicKey.toBytes())]:[],getPublicKey:async()=>e.publicKey?r.bs58.encode(e.publicKey.toBytes()):"",getAccounts:async()=>e.publicKey?[r.bs58.encode(e.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw x.rpcErrors.methodNotSupported()},getSecretKey:async()=>{throw x.rpcErrors.methodNotSupported()},signTransaction:async a=>await e.signTransaction(a.params.message),signMessage:async a=>await e.signMessage(a.params.data,a.params.from,a.params.display),signAllTransactions:async a=>{var b,c;if(!(null!=(b=a.params)&&b.message)||!(null!=(c=a.params)&&c.message.length))throw x.rpcErrors.invalidParams("message");return await e.signAllTransactions(a.params.message)},signAndSendTransaction:async a=>await e.signAndSendTransaction(a.params.message)}}}var A=a.i(63179),B=a.i(78801),C=a.i(38013),D=a.i(72568);class E extends p{constructor(a){super(a),(0,h.default)(this,"name",void 0),(0,h.default)(this,"connectorNamespace",B.CONNECTOR_NAMESPACES.SOLANA),(0,h.default)(this,"currentChainNamespace",C.CHAIN_NAMESPACES.SOLANA),(0,h.default)(this,"type",n.CONNECTOR_CATEGORY.EXTERNAL),(0,h.default)(this,"isInjected",!0),(0,h.default)(this,"status",n.CONNECTOR_STATUS.NOT_READY),(0,h.default)(this,"wallet",null),(0,h.default)(this,"injectedProvider",null),this.name=a.name,this.icon=a.wallet.icon,this.wallet=["gate","solflare"].includes(this.name)?Object.freeze(a.wallet):a.wallet}get provider(){return this.status!==n.CONNECTOR_STATUS.NOT_READY&&this.injectedProvider?this.injectedProvider:null}get isWalletConnected(){return!!(this.connected&&this.wallet.accounts.length>0)}async init(a){await super.init(a);let b=this.coreOptions.chains.find(b=>b.chainId===a.chainId);super.checkInitializationRequirements({chainConfig:b}),this.injectedProvider=new z({config:{chain:b,chains:this.coreOptions.chains}}),await this.injectedProvider.setupProvider(this.wallet,a.chainId),this.status=n.CONNECTOR_STATUS.READY,this.emit(n.CONNECTOR_EVENTS.READY,this.name);try{if(D.log.debug("initializing solana injected connector"),a.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:a.chainId,getIdentityToken:a.getIdentityToken})))throw this.rehydrated=!1,m.WalletLoginError.connectionError("Failed to rehydrate.")}catch(a){this.emit(n.CONNECTOR_EVENTS.REHYDRATION_ERROR,a)}}async connect({chainId:a,getIdentityToken:b}){try{let c;super.checkConnectionRequirements();let d=this.coreOptions.chains.find(b=>b.chainId===a);if(!d)throw m.WalletLoginError.connectionError("Chain config is not available");this.status=n.CONNECTOR_STATUS.CONNECTING,this.emit(n.CONNECTOR_EVENTS.CONNECTING,{connector:this.name});let f=y(d);if(!this.wallet.chains.find(a=>a===f))throw m.WalletLoginError.connectionError(`Chain ${f} not supported. Supported chains are ${this.wallet.chains.join(", ")}`);if(this.isWalletConnected||await this.wallet.features[e.StandardConnect].connect(),0===this.wallet.accounts.length)throw m.WalletLoginError.connectionError();return this.status=n.CONNECTOR_STATUS.CONNECTED,this.emit(n.CONNECTOR_EVENTS.CONNECTED,{connector:this.name,reconnected:this.rehydrated,provider:this.provider,identityTokenInfo:c}),b&&(c=await this.getIdentityToken()),this.provider}catch(a){throw this.status=n.CONNECTOR_STATUS.READY,this.rehydrated||this.emit(n.CONNECTOR_EVENTS.ERRORED,a),this.rehydrated=!1,a}}async disconnect(a={cleanup:!1}){await super.disconnectSession();try{var b;await (null==(b=this.wallet.features[i.StandardDisconnect])?void 0:b.disconnect()),a.cleanup?(this.status=n.CONNECTOR_STATUS.NOT_READY,this.injectedProvider=null):this.status=n.CONNECTOR_STATUS.READY,await super.disconnect()}catch(a){this.emit(n.CONNECTOR_EVENTS.ERRORED,m.WalletLoginError.disconnectionError(null==a?void 0:a.message))}}async getUserInfo(){if(!this.canAuthorize)throw m.WalletLoginError.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(a,b=!1){var c;super.checkSwitchChainRequirements(a,b),await (null==(c=this.injectedProvider)?void 0:c.switchChain(a))}async enableMFA(){throw Error("Method not implemented.")}async manageMFA(){throw Error("Method Not implemented")}}let F=a=>({coreOptions:b})=>new E({name:(0,A.normalizeWalletName)(a.name),wallet:a,coreOptions:b});a.s(["createSolanaMipd",()=>g.getWallets,"hasSolanaWalletStandardFeatures",()=>f,"walletStandardConnector",()=>F],39381)}];

//# sourceMappingURL=node_modules_a769fa99._.js.map