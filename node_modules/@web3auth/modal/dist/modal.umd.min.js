/*! For license information please see modal.umd.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Modal=t():e.Modal=t()}(self,()=>(()=>{var e,t,n={528:(e,t,n)=>{"use strict";var r,i=n(9629),a=n(29838),s=n(29110),o=n(61155),c=n(94943),l=n(5731),u=n(3468),d=n(32140),f=n(58479),p=n(18449),h=n(88129),b=n(22387),y=n(85865),m=n(1319),g=n(36882),w=Function,v=function(e){try{return w('"use strict"; return ('+e+").constructor;")()}catch(e){}},E=n(69336),x=n(64940),S=function(){throw new u},T=E?function(){try{return S}catch(e){try{return E(arguments,"callee").get}catch(e){return S}}}():S,A=n(53558)(),_=n(46369),C=n(17345),k=n(57859),I=n(6095),P=n(64531),O={},M="undefined"!=typeof Uint8Array&&_?_(Uint8Array):r,R={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":A&&_?_([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":O,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&_?_(_([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A&&_?_((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":E,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":o,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A&&_?_((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&_?_(""[Symbol.iterator]()):r,"%Symbol%":A?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":T,"%TypedArray%":M,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":P,"%Function.prototype.apply%":I,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":C,"%Math.abs%":f,"%Math.floor%":p,"%Math.max%":h,"%Math.min%":b,"%Math.pow%":y,"%Math.round%":m,"%Math.sign%":g,"%Reflect.getPrototypeOf%":k};if(_)try{null.error}catch(e){var N=_(_(e));R["%Error.prototype%"]=N}var L=function e(t){var n;if("%AsyncFunction%"===t)n=v("async function () {}");else if("%GeneratorFunction%"===t)n=v("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=v("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&_&&(n=_(i.prototype))}return R[t]=n,n},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=n(79138),j=n(78554),U=B.call(P,Array.prototype.concat),F=B.call(I,Array.prototype.splice),$=B.call(P,String.prototype.replace),z=B.call(P,String.prototype.slice),H=B.call(P,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,K=/\\(\\)?/g,W=function(e,t){var n,r=e;if(j(D,r)&&(r="%"+(n=D[r])[0]+"%"),j(R,r)){var i=R[r];if(i===O&&(i=L(r)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=z(e,0,1),n=z(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return $(e,q,function(e,t,n,i){r[r.length]=n?$(i,K,"$1"):t||e}),r}(e),r=n.length>0?n[0]:"",i=W("%"+r+"%",t),a=i.name,s=i.value,o=!1,c=i.alias;c&&(r=c[0],F(n,U([0,1],c)));for(var d=1,f=!0;d<n.length;d+=1){var p=n[d],h=z(p,0,1),b=z(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===b||"'"===b||"`"===b)&&h!==b)throw new l("property names with quotes must have matching quotes");if("constructor"!==p&&f||(o=!0),j(R,a="%"+(r+="."+p)+"%"))s=R[a];else if(null!=s){if(!(p in s)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(E&&d+1>=n.length){var y=E(s,p);s=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[p]}else f=j(s,p),s=s[p];f&&!o&&(R[a]=s)}}return s}},600:(e,t,n)=>{"use strict";var r=n(70461).rotr32;function i(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}function s(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?s(t,n,r):2===e?a(t,n,r):void 0},t.ch32=i,t.maj32=a,t.p32=s,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},730:(e,t,n)=>{"use strict";n.d(t,{J9:()=>a,Mc:()=>i,fD:()=>r});const r={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},a={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},997:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(99916),i=n(21086),a=n(96023);function s(e){const t=(0,i.e)(e),n=[],s=e.length;for(let i=0;i<s;i++){const s=e[i];(0,r.WL)(s)||n.push((0,a.uT)(s,t))}return n}},1048:(e,t,n)=>{"use strict";const r=n(7991),i=n(39318),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function o(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|b(e,t);let r=o(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const i=function(e){if(c.isBuffer(e)){const t=0|h(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),o(e<0?0:0|h(e))}function f(e){const t=e.length<0?0:0|h(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function h(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function b(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(i)return r?-1:W(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){let a,s=1,o=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,o/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(a=n;a<o;a++)if(l(e,a)===l(t,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===c)return r*s}else-1!==r&&(a-=a-r),r=-1}else for(n+c>o&&(n=o-c),a=n;a>=0;a--){let n=!0;for(let r=0;r<c;r++)if(l(e,a+r)!==l(t,r)){n=!1;break}if(n)return a}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const a=t.length;let s;for(r>a/2&&(r=a/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(J(r))return s;e[n+s]=r}return s}function E(e,t,n,r){return G(W(t,e.length-n),e,n,r)}function x(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return G(V(t),e,n,r)}function T(e,t,n,r){return G(function(e,t){let n,r,i;const a=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,o,c;switch(s){case 1:t<128&&(a=t);break;case 2:n=e[i+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(a=c));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:n=e[i+1],r=e[i+2],o=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&o)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))i+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const o=Math.min(a,s),l=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<o;++e)if(l[e]!==u[e]){a=l[e],s=u[e];break}return a<s?-1:s<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let a=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function k(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=Z[e[r]];return i}function O(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,i){z(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function L(e,t,n,r,i){z(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function D(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,a){return t=+t,n>>>=0,a||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,a){return t=+t,n>>>=0,a||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X(function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=X(function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=t,i=1,a=this[e+--r];for(;r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X(function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=X(function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X(function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=X(function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X(function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=X(function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const a=c.isBuffer(e)?e:c.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};const U={};function F(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,i,a){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=a>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(a+1)}${r}`:`>= -(2${r} ** ${8*(a+1)-1}${r}) and < 2 ** ${8*(a+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,a)}function H(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),F("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),F("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=$(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=$(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r},RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(e,t){let n;t=t||1/0;const r=e.length;let i=null;const a=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function V(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},1113:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(30666);function i(e){const{authorization:t,factory:n,factoryData:i}=e;if("0x7702"===n||"0x7702000000000000000000000000000000000000"===n){if(!t)return"0x7702000000000000000000000000000000000000";const e=t.address;return(0,r.xW)([e,i??"0x"])}return n?(0,r.xW)([n,i??"0x"]):"0x"}},1319:e=>{"use strict";e.exports=Math.round},1740:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},2018:(e,t,n)=>{"use strict";const r=n(39435);e.exports=(e,t,n)=>r(e,t,n)>=0},2063:(e,t,n)=>{"use strict";n.d(t,{U:()=>f});var r=n(85608),i=n(44189),a=n(19365),s=n(22136),o=n(31415),c=n(73346);function l(e){console.error("Error sending segment performance metrics",e)}var u,d=function(){function e(e){var t,n,r,i,a,s=this;if(this.host=null!==(t=null==e?void 0:e.host)&&void 0!==t?t:c.a,this.sampleRate=null!==(n=null==e?void 0:e.sampleRate)&&void 0!==n?n:1,this.flushTimer=null!==(r=null==e?void 0:e.flushTimer)&&void 0!==r?r:3e4,this.maxQueueSize=null!==(i=null==e?void 0:e.maxQueueSize)&&void 0!==i?i:20,this.protocol=null!==(a=null==e?void 0:e.protocol)&&void 0!==a?a:"https",this.queue=[],this.sampleRate>0){var o=!1,u=function(){o||(o=!0,s.flush().catch(l),o=!1,setTimeout(u,s.flushTimer))};u()}}return e.prototype.increment=function(e,t){if(e.includes("analytics_js.")&&0!==t.length&&!(Math.random()>this.sampleRate||this.queue.length>=this.maxQueueSize)){var n=function(e,t,n){var i=t.reduce(function(e,t){var n=t.split(":"),r=n[0],i=n[1];return e[r]=i,e},{});return{type:"Counter",metric:e,value:1,tags:(0,r.Cl)((0,r.Cl)({},i),{library:"analytics.js",library_version:"web"===n?"next-".concat(s.r):"npm:next-".concat(s.r)})}}(e,t,(0,o.X)());this.queue.push(n),e.includes("error")&&this.flush().catch(l)}},e.prototype.flush=function(){return(0,r.sH)(this,void 0,void 0,function(){var e=this;return(0,r.YH)(this,function(t){switch(t.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(t){l(t),e.sampleRate=0})];case 1:return t.sent(),[2]}})})},e.prototype.send=function(){return(0,r.sH)(this,void 0,void 0,function(){var e,t,n;return(0,r.YH)(this,function(r){return e={series:this.queue},this.queue=[],t={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,(0,a.h)(n,{headers:t,body:JSON.stringify(e),method:"POST"})]})})},e}(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.initRemoteMetrics=function(e){u=new d(e)},t.prototype.increment=function(t,n,r){e.prototype.increment.call(this,t,n,r),null==u||u.increment(t,null!=r?r:[])},t}(i.p)},2247:(e,t,n)=>{"use strict";n.d(t,{UG:()=>s,xo:()=>i,zz:()=>a});var r=n(88615);class i extends r.C{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class a extends r.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class s extends r.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},2317:(e,t,n)=>{"use strict";n.d(t,{Rm:()=>s,_i:()=>a,fc:()=>o,mg:()=>c});var r=n(97702);const i=n.n(r)();function a(e){return i.decode(e)}function s(e){return i.encode(JSON.stringify(e))}const o=e=>{const t=window.document.createElement("template"),n=e.trim();return t.innerHTML=n,t.content.firstChild};function c(e){try{return structuredClone(e)}catch{return JSON.parse(JSON.stringify(e))}}},2439:(e,t,n)=>{"use strict";n.d(t,{F_:()=>g,Yc:()=>T,_S:()=>v,qb:()=>w,w:()=>S});var r=n(13360),i=n(1048).Buffer;const a=new r.ec("secp256k1"),s=globalThis.crypto||globalThis.msCrypto||{},o=s.subtle||s.webkitSubtle,c=i.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),l=i.alloc(32,0);function u(e,t){if(!e)throw new Error(t||"Assertion failed")}function d(e){return t=e,!(!i.isBuffer(t)||32!==t.length)&&e.compare(l)>0&&e.compare(c)<0;var t}function f(e){if(void 0===s.getRandomValues)return i.from(s.randomBytes(e));const t=new Uint8Array(e);return s.getRandomValues(t),i.from(t)}async function p(e){if(!s.createHash){const t=await o.digest("SHA-512",e);return new Uint8Array(t)}const t=s.createHash("sha512").update(e).digest();return new Uint8Array(t)}function h(e){return async function(t,n,r){if(o&&o[e]&&o.importKey){const a={name:"AES-CBC"},s=await o.importKey("raw",n,a,!1,[e]),c={name:"AES-CBC",iv:t},l=await o[e](c,s,r);return i.from(new Uint8Array(l))}if("encrypt"===e&&s.createCipheriv){const e=s.createCipheriv("aes-256-cbc",n,t),a=e.update(r),o=e.final();return i.concat([a,o])}if("decrypt"===e&&s.createDecipheriv){const e=s.createDecipheriv("aes-256-cbc",n,t),a=e.update(r),o=e.final();return i.concat([a,o])}throw new Error(`Unsupported operation: ${e}`)}}const b=h("encrypt"),y=h("decrypt");async function m(e,t){if(!s.createHmac){const n={name:"HMAC",hash:{name:"SHA-256"}},r=await o.importKey("raw",new Uint8Array(e),n,!1,["sign","verify"]),a=await o.sign("HMAC",r,t);return i.from(new Uint8Array(a))}const n=s.createHmac("sha256",i.from(e));return n.update(t),n.digest()}const g=function(){let e=f(32);for(;!d(e);)e=f(32);return e},w=function(e){return E(e),i.from(a.keyFromPrivate(e).getPublic("array"))},v=async function(e,t){return E(e),u(t.length>0,"Message should not be empty"),u(t.length<=32,"Message is too long"),i.from(a.sign(t,e,{canonical:!0}).toDER())},E=function(e){u(i.isBuffer(e),"Bad private key: expected Buffer"),u(32===e.length,"Bad private key: expected 32 bytes, got "+e.length),u(d(e),"Bad private key: out of range")},x=async function(e,t,n){var r;E(e),u(65===(r=t).length||33===r.length,"Bad public key: expected 65 or 33 bytes, got "+r.length),65===r.length&&u(4===r[0],"Bad public key: expected first byte 4, got "+r[0]),33===r.length&&u(2===r[0]||3===r[0],"Bad public key: expected first byte 2 or 3, got "+r[0]);const s=a.keyFromPrivate(e),o=a.keyFromPublic(t),c=s.derive(o.getPublic());return n?i.from(c.toString(16,64),"hex"):i.from(c.toArray())},S=async function(e,t,n){let r=(n=n||{}).ephemPrivateKey||f(32);for(;!d(r);)r=n.ephemPrivateKey||f(32);const a=w(r),s=await x(r,e,n.padding),o=await p(s),c=n.iv||f(16),l=o.slice(0,32),u=o.slice(32),h=await b(c,i.from(l),t),y=i.concat([c,a,h]);return{iv:c,ephemPublicKey:a,ciphertext:h,mac:await m(i.from(u),y)}},T=async function(e,t,n){const r=await x(e,t.ephemPublicKey,n),a=await p(r),s=a.slice(0,32),o=a.slice(32),c=i.concat([t.iv,t.ephemPublicKey,t.ciphertext]),l=await async function(e,t,n){return function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(await m(e,t),n)}(i.from(o),c,t.mac);if(!l&&!n)return T(e,t,!0);if(!l&&!0===n)throw new Error("bad MAC after trying padded");const u=await y(t.iv,i.from(s),t.ciphertext);return i.from(new Uint8Array(u))}},2522:(e,t,n)=>{"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},2634:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0,t.IWatch=class{}},2880:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(85608),i=n(13433),a=n(2063),s=function(e){function t(t,n){return e.call(this,t,n,new a.U)||this}return(0,r.C6)(t,e),t.system=function(){return new this({type:"track",event:"system"})},t}(i.j)},2949:(e,t,n)=>{"use strict";var r=n(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.areUint8ArraysEqual=t.createDataView=t.concatBytes=t.valueToBytes=t.base64ToBytes=t.stringToBytes=t.numberToBytes=t.signedBigIntToBytes=t.bigIntToBytes=t.hexToBytes=t.bytesToBase64=t.bytesToString=t.bytesToNumber=t.bytesToSignedBigInt=t.bytesToBigInt=t.bytesToHex=t.assertIsBytes=t.isBytes=void 0;const i=n(56710),a=n(15482),s=n(76179),o=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function c(e){return e instanceof Uint8Array}function l(e){(0,a.assert)(c(e),"Value must be a Uint8Array.")}function u(e){if(l(e),0===e.length)return"0x";const t=o(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function d(e){l(e);const t=u(e);return BigInt(t)}function f(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),i=n.charCodeAt(2*e+1),a=t-(t<58?48:87),s=i-(i<58?48:87);r[e]=16*a+s}return r}function p(e){return(0,a.assert)("bigint"==typeof e,"Value must be a bigint."),(0,a.assert)(e>=BigInt(0),"Value must be a non-negative bigint."),f(e.toString(16))}function h(e){return(0,a.assert)("number"==typeof e,"Value must be a number."),(0,a.assert)(e>=0,"Value must be a non-negative number."),(0,a.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead."),f(e.toString(16))}function b(e){return(0,a.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return p(e);if("number"==typeof e)return h(e);if("string"==typeof e)return e.startsWith("0x")?f(e):b(e);if(c(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}t.isBytes=c,t.assertIsBytes=l,t.bytesToHex=u,t.bytesToBigInt=d,t.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},t.bytesToNumber=function(e){l(e);const t=d(e);return(0,a.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},t.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},t.bytesToBase64=function(e){return l(e),i.base64.encode(e)},t.hexToBytes=f,t.bigIntToBytes=p,t.signedBigIntToBytes=function(e,t){(0,a.assert)("bigint"==typeof e,"Value must be a bigint."),(0,a.assert)("number"==typeof t,"Byte length must be a number."),(0,a.assert)(t>0,"Byte length must be greater than 0."),(0,a.assert)(function(e,t){(0,a.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const r=new Uint8Array(t);for(let e=0;e<r.length;e++)r[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()},t.numberToBytes=h,t.stringToBytes=b,t.base64ToBytes=function(e){return(0,a.assert)("string"==typeof e,"Value must be a string."),i.base64.decode(e)},t.valueToBytes=y,t.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const i=y(e[r]);t[r]=i,n+=i.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},t.createDataView=function(e){if(void 0!==r&&e instanceof r){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.areUint8ArraysEqual=function(e,t){let n=e.byteLength^t.byteLength;const r=Math.max(e.byteLength,t.byteLength);for(let i=0;i<r;i++)n|=(e[i]??0)^(t[i]??0);return 0===n}},3127:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3356:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:null}},3468:e=>{"use strict";e.exports=TypeError},3833:(e,t,n)=>{"use strict";n.d(t,{J3:()=>ln,Kt:()=>Mn});var r=n(1048),i=n(64639),a=n(30036);const s=BigInt(0),o=BigInt(1);function c(e,t=""){if("boolean"!=typeof e)throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function l(e,t,n=""){const r=(0,a.aY)(e),i=e?.length,s=void 0!==t;if(!r||s&&i!==t)throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(r?`length=${i}`:"type="+typeof e));return e}function u(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}function f(e){return d((0,a.My)(e))}function p(e){return(0,a.DO)(e),d((0,a.My)(Uint8Array.from(e).reverse()))}function h(e,t){return(0,a.aT)(e.toString(16).padStart(2*t,"0"))}function b(e,t){return h(e,t).reverse()}function y(e,t,n){let r;if("string"==typeof t)try{r=(0,a.aT)(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!(0,a.aY)(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function m(e){return Uint8Array.from(e)}const g=e=>"bigint"==typeof e&&s<=e;function w(e,t,n,r){if(!function(e,t,n){return g(e)&&g(t)&&g(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function v(e){let t;for(t=0;e>s;e>>=o,t+=1);return t}const E=e=>(o<<BigInt(e))-o;function x(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const a=typeof i;if(a!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${a}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))}const S=()=>{throw new Error("not implemented")};function T(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const a=e(n,...r);return t.set(n,a),a}}const A=BigInt(0),_=BigInt(1),C=BigInt(2),k=BigInt(3),I=BigInt(4),P=BigInt(5),O=BigInt(7),M=BigInt(8),R=BigInt(9),N=BigInt(16);function L(e,t){const n=e%t;return n>=A?n:t+n}function D(e,t,n){let r=e;for(;t-- >A;)r*=r,r%=n;return r}function B(e,t){if(e===A)throw new Error("invert: expected non-zero number");if(t<=A)throw new Error("invert: expected positive modulus, got "+t);let n=L(e,t),r=t,i=A,a=_,s=_,o=A;for(;n!==A;){const e=r/n,t=r%n,c=i-s*e,l=a-o*e;r=n,n=t,i=s,a=o,s=c,o=l}if(r!==_)throw new Error("invert: does not exist");return L(i,t)}function j(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function U(e,t){const n=(e.ORDER+_)/I,r=e.pow(t,n);return j(e,r,t),r}function F(e,t){const n=(e.ORDER-P)/M,r=e.mul(t,C),i=e.pow(r,n),a=e.mul(t,i),s=e.mul(e.mul(a,C),i),o=e.mul(a,e.sub(s,e.ONE));return j(e,o,t),o}function $(e){if(e<k)throw new Error("sqrt is not defined for small field");let t=e-_,n=0;for(;t%C===A;)t/=C,n++;let r=C;const i=V(e);for(;1===K(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return U;let a=i.pow(r,t);const s=(t+_)/C;return function(e,r){if(e.is0(r))return r;if(1!==K(e,r))throw new Error("Cannot find square root");let i=n,o=e.mul(e.ONE,a),c=e.pow(r,t),l=e.pow(r,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=_<<BigInt(i-t-1),a=e.pow(o,r);i=t,o=e.sqr(a),c=e.mul(c,o),l=e.mul(l,a)}return l}}const z=(e,t)=>(L(e,t)&_)===_,H=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function q(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),a=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),a),r}function K(e,t){const n=(e.ORDER-_)/C,r=e.pow(t,n),i=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!a&&!s)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function W(e,t){void 0!==t&&(0,a.Fe)(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function V(e,t,n=!1,r={}){if(e<=A)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,a,s,o=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(a=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(o=e.modFromBytes),s=e.allowedLengths}else"number"==typeof t&&(i=t),r.sqrt&&(a=r.sqrt);const{nBitLength:c,nByteLength:l}=W(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:E(c),ZERO:A,ONE:_,allowedLengths:s,create:t=>L(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return A<=t&&t<e},is0:e=>e===A,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&_)===_,neg:t=>L(-t,e),eql:(e,t)=>e===t,sqr:t=>L(t*t,e),add:(t,n)=>L(t+n,e),sub:(t,n)=>L(t-n,e),mul:(t,n)=>L(t*n,e),pow:(e,t)=>function(e,t,n){if(n<A)throw new Error("invalid exponent, negatives unsupported");if(n===A)return e.ONE;if(n===_)return t;let r=e.ONE,i=t;for(;n>A;)n&_&&(r=e.mul(r,i)),i=e.sqr(i),n>>=_;return r}(d,e,t),div:(t,n)=>L(t*B(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>B(t,e),sqrt:a||(t=>{return u||(u=(n=e)%I===k?U:n%M===P?F:n%N===R?function(e){const t=V(e),n=$(e),r=n(t,t.neg(t.ONE)),i=n(t,r),a=n(t,t.neg(r)),s=(e+O)/N;return(e,t)=>{let n=e.pow(t,s),o=e.mul(n,r);const c=e.mul(n,i),l=e.mul(n,a),u=e.eql(e.sqr(o),t),d=e.eql(e.sqr(c),t);n=e.cmov(n,o,u),o=e.cmov(l,c,d);const f=e.eql(e.sqr(o),t),p=e.cmov(n,o,f);return j(e,p,t),p}}(n):$(n)),u(d,t);var n}),toBytes:e=>n?b(e,l):h(e,l),fromBytes:(t,r=!0)=>{if(s){if(!s.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=n?p(t):f(t);if(o&&(i=L(i,e)),!r&&!d.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>q(d,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(d)}function G(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Y(e){const t=G(e);return t+Math.ceil(t/2)}const J=BigInt(0),Z=BigInt(1);function X(e,t){const n=t.negate();return e?n:t}function Q(e,t){const n=q(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function ee(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function te(e,t){ee(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:E(e),maxNumber:n,shiftBy:BigInt(e)}}function ne(e,t,n){const{windowSize:r,mask:i,maxNumber:a,shiftBy:s}=n;let o=Number(e&i),c=e>>s;o>r&&(o-=a,c+=Z);const l=t*r;return{nextN:c,offset:l+Math.abs(o)-1,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:l}}const re=new WeakMap,ie=new WeakMap;function ae(e){return ie.get(e)||1}function se(e){if(e!==J)throw new Error("invalid wNAF")}class oe{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>J;)t&Z&&(n=n.add(r)),r=r.double(),t>>=Z;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=te(t,this.bits),i=[];let a=e,s=a;for(let e=0;e<n;e++){s=a,i.push(s);for(let e=1;e<r;e++)s=s.add(a),i.push(s);a=s.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const a=te(e,this.bits);for(let e=0;e<a.windows;e++){const{nextN:s,offset:o,isZero:c,isNeg:l,isNegF:u,offsetF:d}=ne(n,e,a);n=s,c?i=i.add(X(u,t[d])):r=r.add(X(l,t[o]))}return se(n),{p:r,f:i}}wNAFUnsafe(e,t,n,r=this.ZERO){const i=te(e,this.bits);for(let e=0;e<i.windows&&n!==J;e++){const{nextN:a,offset:s,isZero:o,isNeg:c}=ne(n,e,i);if(n=a,!o){const e=t[s];r=r.add(c?e.negate():e)}}return se(n),r}getPrecomputes(e,t,n){let r=re.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),re.set(t,r))),r}cached(e,t,n){const r=ae(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=ae(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){ee(t,this.bits),ie.set(e,t),re.delete(e)}hasCache(e){return 1!==ae(e)}}function ce(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=v(BigInt(i));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=E(c),u=new Array(Number(l)+1).fill(s);let d=s;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){u.fill(s);for(let t=0;t<a;t++){const i=r[t],a=Number(i>>BigInt(e)&l);u[a]=u[a].add(n[t])}let t=s;for(let e=u.length-1,n=s;e>0;e--)n=n.add(u[e]),t=t.add(n);if(d=d.add(t),0!==e)for(let e=0;e<c;e++)d=d.double()}return d}function le(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){x(e,H.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return V(e,{isLE:n})}function ue(e,t,n={},r){if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const n=t[e];if(!("bigint"==typeof n&&n>J))throw new Error(`CURVE.${e} must be positive bigint`)}const i=le(t.p,n.Fp,r),a=le(t.n,n.Fn,r),s=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of s)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:a}}const de=BigInt(0),fe=BigInt(1),pe=BigInt(2),he=BigInt(8);class be{constructor(e){this.ep=e}static fromBytes(e){S()}static fromHex(e){S()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return(0,a.My)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}function ye(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:i}=function(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n={Fp:e.Fp,Fn:V(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},r={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:n,hash:e.hash,eddsaOpts:r}}(e),s=function(e,t={}){const n=ue("edwards",e,t,t.FpFnLE),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o}=s;x(t,{},{uvRatio:"function"});const u=pe<<BigInt(8*i.BYTES)-fe,d=e=>r.create(e),f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(r.div(e,t))}}catch(e){return{isValid:!1,value:de}}});if(!function(e,t,n,r){const i=e.sqr(n),a=e.sqr(r),s=e.add(e.mul(t.a,i),a),o=e.add(e.ONE,e.mul(t.d,e.mul(i,a)));return e.eql(s,o)}(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function h(e,t,n=!1){return w("coordinate "+e,t,n?fe:de,u),t}function b(e){if(!(e instanceof E))throw new Error("ExtendedPoint expected")}const g=T((e,t)=>{const{X:n,Y:i,Z:a}=e,s=e.is0();null==t&&(t=s?he:r.inv(a));const o=d(n*t),c=d(i*t),l=r.mul(a,t);if(s)return{x:de,y:fe};if(l!==fe)throw new Error("invZ was invalid");return{x:o,y:c}}),v=T(e=>{const{a:t,d:n}=s;if(e.is0())throw new Error("bad point: ZERO");const{X:r,Y:i,Z:a,T:o}=e,c=d(r*r),l=d(i*i),u=d(a*a),f=d(u*u),p=d(c*t);if(d(u*d(p+l))!==d(f+d(n*d(c*l))))throw new Error("bad point: equation left != right (1)");if(d(r*i)!==d(a*o))throw new Error("bad point: equation left != right (2)");return!0});class E{constructor(e,t,n,r){this.X=h("x",e),this.Y=h("y",t),this.Z=h("z",n,!0),this.T=h("t",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){if(e instanceof E)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return h("x",t),h("y",n),new E(t,n,fe,d(t*n))}static fromBytes(e,t=!1){const n=r.BYTES,{a:i,d:a}=s;e=m(l(e,n,"point")),c(t,"zip215");const o=m(e),h=e[n-1];o[n-1]=-129&h;const b=p(o),y=t?u:r.ORDER;w("point.y",b,de,y);const g=d(b*b),v=d(g-fe),x=d(a*g-i);let{isValid:S,value:T}=f(v,x);if(!S)throw new Error("bad point: invalid y coordinate");const A=(T&fe)===fe,_=!!(128&h);if(!t&&T===de&&_)throw new Error("bad point: x=0 and x_0=1");return _!==A&&(T=d(-T)),E.fromAffine({x:T,y:b})}static fromHex(e,t=!1){return E.fromBytes(y("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return S.createCache(this,e),t||this.multiply(pe),this}assertValidity(){v(this)}equals(e){b(e);const{X:t,Y:n,Z:r}=this,{X:i,Y:a,Z:s}=e,o=d(t*s),c=d(i*r),l=d(n*s),u=d(a*r);return o===c&&l===u}is0(){return this.equals(E.ZERO)}negate(){return new E(d(-this.X),this.Y,this.Z,d(-this.T))}double(){const{a:e}=s,{X:t,Y:n,Z:r}=this,i=d(t*t),a=d(n*n),o=d(pe*d(r*r)),c=d(e*i),l=t+n,u=d(d(l*l)-i-a),f=c+a,p=f-o,h=c-a,b=d(u*p),y=d(f*h),m=d(u*h),g=d(p*f);return new E(b,y,g,m)}add(e){b(e);const{a:t,d:n}=s,{X:r,Y:i,Z:a,T:o}=this,{X:c,Y:l,Z:u,T:f}=e,p=d(r*c),h=d(i*l),y=d(o*n*f),m=d(a*u),g=d((r+i)*(c+l)-p-h),w=m-y,v=m+y,x=d(h-t*p),S=d(g*w),T=d(v*x),A=d(g*x),_=d(w*v);return new E(S,T,_,A)}subtract(e){return this.add(e.negate())}multiply(e){if(!i.isValidNot0(e))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:t,f:n}=S.cached(this,e,e=>Q(E,e));return Q(E,[t,n])[0]}multiplyUnsafe(e,t=E.ZERO){if(!i.isValid(e))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return e===de?E.ZERO:this.is0()||e===fe?this:S.unsafe(this,e,e=>Q(E,e),t)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return S.unsafe(this,s.n).is0()}toAffine(e){return g(this,e)}clearCofactor(){return o===fe?this:this.multiplyUnsafe(o)}toBytes(){const{x:e,y:t}=this.toAffine(),n=r.toBytes(t);return n[n.length-1]|=e&fe?128:0,n}toHex(){return(0,a.My)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return Q(E,e)}static msm(e,t){return ce(E,i,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}E.BASE=new E(s.Gx,s.Gy,fe,d(s.Gx*s.Gy)),E.ZERO=new E(de,fe,fe,de),E.Fp=r,E.Fn=i;const S=new oe(E,i.BITS);return E.BASE.precompute(8),E}(t,n);return function(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}(e,function(e,t,n={}){if("function"!=typeof t)throw new Error('"hash" function param is required');x(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:s,Fn:o}=e,u=n.randomBytes||a.po,d=n.adjustScalarBytes||(e=>e),f=n.domain||((e,t,n)=>{if(c(n,"phflag"),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function h(e){return o.create(p(e))}function b(e){const{head:n,prefix:r,scalar:a}=function(e){const n=E.secretKey;e=y("private key",e,n);const r=y("hashed private key",t(e),2*n),i=d(r.slice(0,n));return{head:i,prefix:r.slice(n,2*n),scalar:h(i)}}(e),s=i.multiply(a),o=s.toBytes();return{head:n,prefix:r,scalar:a,point:s,pointBytes:o}}function m(e){return b(e).pointBytes}function g(e=Uint8Array.of(),...n){const i=(0,a.Id)(...n);return h(t(f(i,y("context",e),!!r)))}const w={zip215:!0},v=s.BYTES,E={secretKey:v,publicKey:v,signature:2*v,seed:v};function S(e=u(E.seed)){return l(e,E.seed,"seed")}const T={getExtendedPublicKey:b,randomSecretKey:S,isValidSecretKey:function(e){return(0,a.aY)(e)&&e.length===o.BYTES},isValidPublicKey:function(t,n){try{return!!e.fromBytes(t,n)}catch(e){return!1}},toMontgomery(t){const{y:n}=e.fromBytes(t),r=E.publicKey,i=32===r;if(!i&&57!==r)throw new Error("only defined for 25519 and 448");const a=i?s.div(fe+n,fe-n):s.div(n-fe,n+fe);return s.toBytes(a)},toMontgomerySecret(e){const n=E.secretKey;l(e,n);const r=t(e.subarray(0,n));return d(r).subarray(0,n)},randomPrivateKey:S,precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({keygen:function(e){const t=T.randomSecretKey(e);return{secretKey:t,publicKey:m(t)}},getPublicKey:m,sign:function(e,t,n={}){e=y("message",e),r&&(e=r(e));const{prefix:s,scalar:c,pointBytes:u}=b(t),d=g(n.context,s,e),f=i.multiply(d).toBytes(),p=g(n.context,f,u,e),h=o.create(d+p*c);if(!o.isValid(h))throw new Error("sign failed: invalid s");return l((0,a.Id)(f,o.toBytes(h)),E.signature,"result")},verify:function(t,n,a,s=w){const{context:o,zip215:l}=s,u=E.signature;t=y("signature",t,u),n=y("message",n),a=y("publicKey",a,E.publicKey),void 0!==l&&c(l,"zip215"),r&&(n=r(n));const d=u/2,f=t.subarray(0,d),h=p(t.subarray(d,u));let b,m,v;try{b=e.fromBytes(a,l),m=e.fromBytes(f,l),v=i.multiplyUnsafe(h)}catch(e){return!1}if(!l&&b.isSmallOrder())return!1;const x=g(o,m.toBytes(),b.toBytes(),n);return m.add(b.multiplyUnsafe(x)).subtract(v).clearCofactor().is0()},utils:T,Point:e,lengths:E})}(s,r,i))}(0,a.AI)("HashToScalar-");const me=BigInt(0),ge=BigInt(1),we=BigInt(2),ve=(BigInt(3),BigInt(5)),Ee=BigInt(8),xe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Se=(()=>({p:xe,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Ee,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function Te(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Ae=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function _e(e,t){const n=xe,r=L(t*t*t,n),i=L(r*r*t,n);let a=L(e*r*function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),a=xe,s=e*e%a*e%a,o=D(s,we,a)*s%a,c=D(o,ge,a)*e%a,l=D(c,ve,a)*c%a,u=D(l,t,a)*l%a,d=D(u,n,a)*u%a,f=D(d,r,a)*d%a,p=D(f,i,a)*f%a,h=D(p,i,a)*f%a,b=D(h,t,a)*l%a;return{pow_p_5_8:D(b,we,a)*e%a,b2:s}}(e*i).pow_p_5_8,n);const s=L(t*a*a,n),o=a,c=L(a*Ae,n),l=s===e,u=s===L(-e,n),d=s===L(-e*Ae,n);return l&&(a=o),(u||d)&&(a=c),z(a,n)&&(a=L(-a,n)),{isValid:l||u,value:a}}const Ce=(()=>V(Se.p,{isLE:!0}))(),ke=(()=>V(Se.n,{isLE:!0}))(),Ie=(()=>({...Se,Fp:Ce,hash:i.Zf,adjustScalarBytes:Te,uvRatio:_e}))(),Pe=(()=>ye(Ie))(),Oe=Ae,Me=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Re=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ne=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Le=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),De=e=>_e(ge,e),Be=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),je=e=>Pe.Point.Fp.create(p(e)&Be);function Ue(e){const{d:t}=Se,n=xe,r=e=>Ce.create(e),i=r(Oe*e*e),a=r((i+ge)*Ne);let s=BigInt(-1);const o=r((s-t*i)*r(i+t));let{isValid:c,value:l}=_e(a,o),u=r(l*e);z(u,n)||(u=r(-u)),c||(l=u),c||(s=i);const d=r(s*(i-ge)*Le-o),f=l*l,p=r((l+l)*o),h=r(d*Me),b=r(ge-f),y=r(ge+f);return new Pe.Point(r(p*y),r(b*h),r(h*y),r(p*b))}class Fe extends be{constructor(e){super(e)}static fromAffine(e){return new Fe(Pe.Point.fromAffine(e))}assertSame(e){if(!(e instanceof Fe))throw new Error("RistrettoPoint expected")}init(e){return new Fe(e)}static hashToCurve(e){return function(e){(0,a.DO)(e,64);const t=Ue(je(e.subarray(0,32))),n=Ue(je(e.subarray(32,64)));return new Fe(t.add(n))}(y("ristrettoHash",e,64))}static fromBytes(e){(0,a.DO)(e,32);const{a:t,d:n}=Se,r=xe,i=e=>Ce.create(e),s=je(e);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(Ce.toBytes(s),e)||z(s,r))throw new Error("invalid ristretto255 encoding 1");const o=i(s*s),c=i(ge+t*o),l=i(ge-t*o),u=i(c*c),d=i(l*l),f=i(t*n*u-d),{isValid:p,value:h}=De(i(f*d)),b=i(h*l),y=i(h*b*f);let m=i((s+s)*b);z(m,r)&&(m=i(-m));const g=i(c*y),w=i(m*g);if(!p||z(w,r)||g===me)throw new Error("invalid ristretto255 encoding 2");return new Fe(new Pe.Point(m,g,ge,w))}static fromHex(e){return Fe.fromBytes(y("ristrettoHex",e,32))}static msm(e,t){return ce(Fe,Pe.Point.Fn,e,t)}toBytes(){let{X:e,Y:t,Z:n,T:r}=this.ep;const i=xe,a=e=>Ce.create(e),s=a(a(n+t)*a(n-t)),o=a(e*t),c=a(o*o),{value:l}=De(a(s*c)),u=a(l*s),d=a(l*o),f=a(u*d*r);let p;if(z(r*f,i)){let n=a(t*Oe),r=a(e*Oe);e=n,t=r,p=a(u*Re)}else p=d;z(e*f,i)&&(t=a(-t));let h=a((n-t)*p);return z(h,i)&&(h=a(-h)),Ce.toBytes(h)}equals(e){this.assertSame(e);const{X:t,Y:n}=this.ep,{X:r,Y:i}=e.ep,a=e=>Ce.create(e),s=a(t*i)===a(n*r),o=a(n*i)===a(t*r);return s||o}is0(){return this.equals(Fe.ZERO)}}Fe.BASE=(()=>new Fe(Pe.Point.BASE))(),Fe.ZERO=(()=>new Fe(Pe.Point.ZERO))(),Fe.Fp=(()=>Ce)(),Fe.Fn=(()=>ke)();var $e=n(82823),ze=n.n($e),He=n(39216),qe=n.n(He),Ke=n(52001),We=n(81818),Ve=n(78918);function Ge(e){return Array.isArray(e)?"%5B"+e.map(Ge).join("%2C%20")+"%5D":"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Ye([e,t]){return`${e}=${Ge(t)}`}var Je=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...i}=t;e&&(r={cause:e}),Object.keys(i).length>0&&(n=i)}super(function(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(Ye).join("&");return btoa(t)}(t)}'`),`${n}\``}}(e,n),r),this.context={__code:e,...n},this.name="SolanaError"}};function Ze(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Xe(e){return 1!==e?.endian}function Qe(e){return t={fixedSize:e.size,write(t,n,r){e.range&&function(e,t,n,r){if(r<t||r>n)throw new Je(8078011,{codecDescription:e,max:n,min:t,value:r})}(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,Xe(e.config)),n.set(new Uint8Array(i),r),r+e.size}},Object.freeze({...t,encode:e=>{const n=new Uint8Array(function(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}(e,t));return t.write(e,n,0),n}});var t}function et(e){return t={fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new Je(8078e3,{codecDescription:e})}(e.name,t,n),function(e,t,n,r=0){const i=n.length-r;if(i<t)throw new Je(8078001,{bytesLength:i,codecDescription:e,expected:t})}(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}(t,n,e.size));return[e.get(r,Xe(e.config)),n+e.size]}},Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]});var t}var tt=(e={})=>Qe({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),nt=(e={})=>function(e,t){if(Ze(e)!==Ze(t))throw new Je(8078004);if(Ze(e)&&Ze(t)&&e.fixedSize!==t.fixedSize)throw new Je(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Ze(e)&&!Ze(t)&&e.maxSize!==t.maxSize)throw new Je(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}(tt(e),((e={})=>et({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}))(e));class rt extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...a}=e,{path:s}=e,o=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??o),null!=i&&(this.cause=o),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function it(e){return"object"==typeof e&&null!=e}function at(e){return it(e)&&!Array.isArray(e)}function st(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function ot(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:a}=t,{type:s}=n,{refinement:o,message:c=`Expected a value of type \`${s}\`${o?` with refinement \`${o}\``:""}, but received: \`${st(r)}\``}=e;return{value:r,type:s,refinement:o,key:i[i.length-1],path:i,branch:a,...e,message:c}}function*ct(e,t,n,r){var i;it(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=ot(i,t,n,r);e&&(yield e)}}function*lt(e,t,n={}){const{path:r=[],branch:i=[e],coerce:a=!1,mask:s=!1}=n,o={path:r,branch:i,mask:s};a&&(e=t.coercer(e,o));let c="valid";for(const r of t.validator(e,o))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[l,u,d]of t.entries(e,o)){const t=lt(u,d,{path:void 0===l?r:[...r,l],branch:void 0===l?i:[...i,u],coerce:a,mask:s,message:n.message});for(const n of t)n[0]?(c=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):a&&(u=n[1],void 0===l?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):it(e)&&(void 0!==u||l in e)&&(e[l]=u))}if("not_valid"!==c)for(const r of t.refiner(e,o))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class ut{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:a=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=a,this.validator=r?(e,t)=>ct(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>ct(i(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=pt(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return dt(e,this,t)}is(e){return ft(e,this)}mask(e,t){return function(e,t,n){const r=pt(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return pt(e,this,t)}}function dt(e,t,n){const r=pt(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function ft(e,t){return!pt(e,t)[0]}function pt(e,t,n={}){const r=lt(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);return i[0]?[new rt(i[0],function*(){for(const e of r)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function ht(e,t){return new ut({type:e,schema:null,validator:t})}function bt(e){return new ut({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${st(e)}`})}function yt(){return ht("boolean",e=>"boolean"==typeof e)}function mt(e){return ht("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${st(t)}`)}function gt(e){const t=st(e),n=typeof e;return new ut({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${st(n)}`})}function wt(e){return new ut({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function vt(){return ht("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${st(e)}`)}function Et(e){return new ut({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function xt(e,t){return new ut({type:"record",schema:null,*entries(n){if(it(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>at(e)||`Expected an object, but received: ${st(e)}`,coercer:e=>at(e)?{...e}:e})}function St(){return ht("string",e=>"string"==typeof e||`Expected a string, but received: ${st(e)}`)}function Tt(e){const t=ht("never",()=>!1);return new ut({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${st(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function At(e){const t=Object.keys(e);return new ut({type:"type",schema:e,*entries(n){if(it(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>at(e)||`Expected an object, but received: ${st(e)}`,coercer:e=>at(e)?{...e}:e})}function _t(e){const t=e.map(e=>e.type).join(" | ");return new ut({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,i]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return i}return t},validator(n,r){const i=[];for(const t of e){const[...e]=lt(n,t,r),[a]=e;if(!a[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${st(n)}`,...i]}})}function Ct(){return ht("unknown",()=>!0)}function kt(e,t,n){return new ut({...e,coercer:(r,i)=>ft(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}n(59499),n(28985);var It=n(30113),Pt=n(97713);const Ot=(e,t)=>(e+(e>=0?t:-t)/jt)/t;function Mt(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Rt(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return c(n.lowS,"lowS"),c(n.prehash,"prehash"),void 0!==n.format&&Mt(n.format),n}class Nt extends Error{constructor(e=""){super(e)}}const Lt={Err:Nt,_tlv:{encode:(e,t)=>{const{Err:n}=Lt;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=u(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?u(i.length/2|128):"";return u(e)+a+i+t},decode(e,t){const{Err:n}=Lt;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let a=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of s)a=a<<8|e;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=i;const s=t.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=Lt;if(e<Dt)throw new t("integer: negative integers are not allowed");let n=u(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Lt;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return f(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Lt,i=y("signature",e),{v:a,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Lt,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},Dt=BigInt(0),Bt=BigInt(1),jt=BigInt(2),Ut=BigInt(3),Ft=BigInt(4);function $t(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let i=y("private key",t);try{r=e.fromBytes(i)}catch(e){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function zt(e){return Uint8Array.of(e?2:3)}function Ht(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function qt(e,t,n={}){(0,a.sd)(t),x(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||a.po,i=n.hmac||((e,...n)=>(0,Pt.w)(t,e,(0,a.Id)(...n))),{Fp:s,Fn:o}=e,{ORDER:c,BITS:u}=o,{keygen:d,getPublicKey:m,getSharedSecret:g,utils:v,lengths:S}=function(e,t={}){const{Fn:n}=e,r=t.randomBytes||a.po,i=Object.assign(Ht(e.Fp,n),{seed:Y(n.ORDER)});function s(e){try{return!!$t(n,e)}catch(e){return!1}}function o(e=r(i.seed)){return function(e,t,n=!1){const r=e.length,i=G(t),a=Y(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const s=L(n?p(e):f(e),t-_)+_;return n?b(s,i):h(s,i)}(l(e,i.seed,"seed"),n.ORDER)}function c(t,r=!0){return e.BASE.multiply($t(n,t)).toBytes(r)}function u(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:a,publicKeyUncompressed:s}=i;if(n.allowedLengths||r===a)return;const o=y("key",t).length;return o===a||o===s}const d={isValidSecretKey:s,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:a}=i;try{const i=t.length;return!(!0===n&&i!==r||!1===n&&i!==a||!e.fromBytes(t))}catch(e){return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>$t(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({getPublicKey:c,getSharedSecret:function(t,r,i=!0){if(!0===u(t))throw new Error("first arg must be private key");if(!1===u(r))throw new Error("second arg must be public key");const a=$t(n,t);return e.fromHex(r).multiply(a).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:c(t)}},Point:e,utils:d,lengths:i})}(e,n),T={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},A="compact";function C(e){return e>c>>Bt}function k(e,t){if(!o.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class I{constructor(e,t,n){this.r=k("r",e),this.s=k("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=A){let n;if(function(e,t){Mt(t);const n=S.signature;l(e,"compact"===t?n:"recovered"===t?n+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:n}=Lt.toSig(l(e));return new I(t,n)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));const r=o.BYTES,i=e.subarray(0,r),a=e.subarray(r,2*r);return new I(o.fromBytes(i),o.fromBytes(a),n)}static fromHex(e,t){return this.fromBytes((0,a.aT)(e),t)}addRecoveryBit(e){return new I(this.r,this.s,e)}recoverPublicKey(t){const n=s.ORDER,{r,s:i,recovery:l}=this;if(null==l||![0,1,2,3].includes(l))throw new Error("recovery id invalid");if(c*jt<n&&l>1)throw new Error("recovery id is ambiguous for h>1 curve");const u=2===l||3===l?r+c:r;if(!s.isValid(u))throw new Error("recovery id 2 or 3 invalid");const d=s.toBytes(u),f=e.fromBytes((0,a.Id)(zt(!(1&l)),d)),p=o.inv(u),h=O(y("msgHash",t)),b=o.create(-h*p),m=o.create(i*p),g=e.BASE.multiplyUnsafe(b).add(f.multiplyUnsafe(m));if(g.is0())throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return C(this.s)}toBytes(e=A){if(Mt(e),"der"===e)return(0,a.aT)(Lt.hexFromSig(this));const t=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return(0,a.Id)(Uint8Array.of(this.recovery),t,n)}return(0,a.Id)(t,n)}toHex(e){return(0,a.My)(this.toBytes(e))}assertValidity(){}static fromCompact(e){return I.fromBytes(y("sig",e),"compact")}static fromDER(e){return I.fromBytes(y("sig",e),"der")}normalizeS(){return this.hasHighS()?new I(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,a.My)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,a.My)(this.toBytes("compact"))}}const P=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=f(e),n=8*e.length-u;return n>0?t>>BigInt(n):t},O=n.bits2int_modN||function(e){return o.create(P(e))},M=E(u);function R(e){return w("num < 2^"+u,e,Dt,M),o.toBytes(e)}function N(e,n){return l(e,void 0,"message"),n?l(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:d,getPublicKey:m,getSharedSecret:g,utils:v,lengths:S,Point:e,sign:function(n,s,c={}){n=y("message",n);const{seed:l,k2sig:u}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:c,extraEntropy:l}=Rt(i,T);t=N(t,c);const u=O(t),d=$t(o,n),f=[R(d),R(u)];if(null!=l&&!1!==l){const e=!0===l?r(S.secretKey):l;f.push(y("extraEntropy",e))}const p=(0,a.Id)(...f),h=u;return{seed:p,k2sig:function(t){const n=P(t);if(!o.isValidNot0(n))return;const r=o.inv(n),i=e.BASE.multiply(n).toAffine(),a=o.create(i.x);if(a===Dt)return;const c=o.create(r*o.create(h+a*d));if(c===Dt)return;let l=(i.x===a?0:2)|Number(i.y&Bt),u=c;return s&&C(c)&&(u=o.neg(c),l^=1),new I(a,u,l)}}}(n,s,c);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=r(e),o=r(e),c=0;const l=()=>{s.fill(1),o.fill(0),c=0},u=(...e)=>n(o,s,...e),d=(e=r(0))=>{o=u(i(0),e),s=u(),0!==e.length&&(o=u(i(1),e),s=u())},f=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=u();const t=s.slice();n.push(t),e+=s.length}return(0,a.Id)(...n)};return(e,t)=>{let n;for(l(),d(e);!(n=t(f()));)d();return l(),n}}(t.outputLen,o.BYTES,i)(l,u)},verify:function(t,n,r,i={}){const{lowS:s,prehash:c,format:l}=Rt(i,T);if(r=y("publicKey",r),n=N(y("message",n),c),"strict"in i)throw new Error("options.strict was renamed to lowS");const u=void 0===l?function(e){let t;const n="string"==typeof e||(0,a.aY)(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new I(e.r,e.s);else if(n){try{t=I.fromBytes(y("sig",e),"der")}catch(e){if(!(e instanceof Lt.Err))throw e}if(!t)try{t=I.fromBytes(y("sig",e),"compact")}catch(e){return!1}}return t||!1}(t):I.fromBytes(y("sig",t),l);if(!1===u)return!1;try{const t=e.fromBytes(r);if(s&&u.hasHighS())return!1;const{r:i,s:a}=u,c=O(n),l=o.inv(a),d=o.create(c*l),f=o.create(i*l),p=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(f));return!p.is0()&&o.create(p.x)===i}catch(e){return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:r}=Rt(n,T);return t=N(t,r),I.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:I,hash:t})}function Kt(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=function(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:V(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,W(n.Fn.ORDER,n.Fn.BITS))})}(e,qt(function(e,t={}){const n=ue("weierstrass",e,t),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:u}=s;x(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=t;if(d&&(!r.is0(s.a)||"bigint"!=typeof d.beta||!Array.isArray(d.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const f=Ht(r,i);function p(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const h=t.toBytes||function(e,t,n){const{x:i,y:s}=t.toAffine(),o=r.toBytes(i);if(c(n,"isCompressed"),n){p();const e=!r.isOdd(s);return(0,a.Id)(zt(e),o)}return(0,a.Id)(Uint8Array.of(4),o,r.toBytes(s))},b=t.fromBytes||function(e){l(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=f,i=e.length,a=e[0],s=e.subarray(1);if(i!==t||2!==a&&3!==a){if(i===n&&4===a){const e=r.BYTES,t=r.fromBytes(s.subarray(0,e)),n=r.fromBytes(s.subarray(e,2*e));if(!g(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${n}`)}{const e=r.fromBytes(s);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=m(e);let n;try{n=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}return p(),!(1&~a)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function m(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,s.a)),s.b)}function g(e,t){const n=r.sqr(t),i=m(e);return r.eql(n,i)}if(!g(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const w=r.mul(r.pow(s.a,Ut),Ft),S=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(w,S)))throw new Error("bad curve params: a or b");function A(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function _(e){if(!(e instanceof O))throw new Error("ProjectivePoint expected")}function C(e){if(!d||!d.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[a,s]]=t,o=Ot(s*e,n),c=Ot(-i*e,n);let l=e-o*r-c*a,u=-o*i-c*s;const d=l<Dt,f=u<Dt;d&&(l=-l),f&&(u=-u);const p=E(Math.ceil(v(n)/2))+Bt;if(l<Dt||l>=p||u<Dt||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}(e,d.basises,i.ORDER)}const k=T((e,t)=>{const{X:n,Y:i,Z:a}=e;if(r.eql(a,r.ONE))return{x:n,y:i};const s=e.is0();null==t&&(t=s?r.ONE:r.inv(a));const o=r.mul(n,t),c=r.mul(i,t),l=r.mul(a,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:o,y:c}}),I=T(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!g(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function P(e,t,n,i,a){return n=new O(r.mul(n.X,e),n.Y,n.Z),t=X(i,t),n=X(a,n),t.add(n)}class O{constructor(e,t,n){this.X=A("x",e),this.Y=A("y",t,!0),this.Z=A("z",n),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof O)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?O.ZERO:new O(t,n,r.ONE)}static fromBytes(e){const t=O.fromAffine(b(l(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return O.fromBytes(y("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return R.createCache(this,e),t||this.multiply(Ut),this}assertValidity(){I(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){_(e);const{X:t,Y:n,Z:i}=this,{X:a,Y:s,Z:o}=e,c=r.eql(r.mul(t,o),r.mul(a,i)),l=r.eql(r.mul(n,o),r.mul(s,i));return c&&l}negate(){return new O(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,n=r.mul(t,Ut),{X:i,Y:a,Z:o}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(i,i),f=r.mul(a,a),p=r.mul(o,o),h=r.mul(i,a);return h=r.add(h,h),u=r.mul(i,o),u=r.add(u,u),c=r.mul(e,u),l=r.mul(n,p),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(h,c),u=r.mul(n,u),p=r.mul(e,p),h=r.sub(d,p),h=r.mul(e,h),h=r.add(h,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,h),l=r.add(l,d),p=r.mul(a,o),p=r.add(p,p),d=r.mul(p,h),c=r.sub(c,d),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new O(c,l,u)}add(e){_(e);const{X:t,Y:n,Z:i}=this,{X:a,Y:o,Z:c}=e;let l=r.ZERO,u=r.ZERO,d=r.ZERO;const f=s.a,p=r.mul(s.b,Ut);let h=r.mul(t,a),b=r.mul(n,o),y=r.mul(i,c),m=r.add(t,n),g=r.add(a,o);m=r.mul(m,g),g=r.add(h,b),m=r.sub(m,g),g=r.add(t,i);let w=r.add(a,c);return g=r.mul(g,w),w=r.add(h,y),g=r.sub(g,w),w=r.add(n,i),l=r.add(o,c),w=r.mul(w,l),l=r.add(b,y),w=r.sub(w,l),d=r.mul(f,g),l=r.mul(p,y),d=r.add(l,d),l=r.sub(b,d),d=r.add(b,d),u=r.mul(l,d),b=r.add(h,h),b=r.add(b,h),y=r.mul(f,y),g=r.mul(p,g),b=r.add(b,y),y=r.sub(h,y),y=r.mul(f,y),g=r.add(g,y),h=r.mul(b,g),u=r.add(u,h),h=r.mul(w,g),l=r.mul(m,l),l=r.sub(l,h),h=r.mul(m,b),d=r.mul(w,d),d=r.add(d,h),new O(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(O.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,a;const s=e=>R.cached(this,e,e=>Q(O,e));if(n){const{k1neg:t,k1:i,k2neg:o,k2:c}=C(e),{p:l,f:u}=s(i),{p:d,f}=s(c);a=u.add(f),r=P(n.beta,l,d,t,o)}else{const{p:t,f:n}=s(e);r=t,a=n}return Q(O,[r,a])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===Dt||r.is0())return O.ZERO;if(e===Bt)return r;if(R.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:a,k2:s}=C(e),{p1:o,p2:c}=function(e,t,n,r){let i=t,a=e.ZERO,s=e.ZERO;for(;n>J||r>J;)n&Z&&(a=a.add(i)),r&Z&&(s=s.add(i)),i=i.double(),n>>=Z,r>>=Z;return{p1:a,p2:s}}(O,r,i,s);return P(n.beta,o,c,t,a)}return R.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return k(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===Bt||(e?e(O,this):R.unsafe(this,u).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===Bt?this:e?e(O,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return c(e,"isCompressed"),this.assertValidity(),h(O,this,e)}toHex(e=!0){return(0,a.My)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return Q(O,e)}static msm(e,t){return ce(O,i,e,t)}static fromPrivateKey(e){return O.BASE.multiply($t(i,e))}}O.BASE=new O(s.Gx,s.Gy,r.ONE),O.ZERO=new O(r.ZERO,r.ONE,r.ZERO),O.Fp=r,O.Fn=i;const M=i.BITS,R=new oe(O,t.endo?Math.ceil(M/2):M);return O.BASE.precompute(8),O}(t,n),r,i))}const Wt={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Vt={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Gt=BigInt(2),Yt=V(Wt.p,{sqrt:function(e){const t=Wt.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=D(u,n,t)*u%t,f=D(d,n,t)*u%t,p=D(f,Gt,t)*l%t,h=D(p,i,t)*p%t,b=D(h,a,t)*h%t,y=D(b,o,t)*b%t,m=D(y,c,t)*y%t,g=D(m,o,t)*b%t,w=D(g,n,t)*u%t,v=D(w,s,t)*h%t,E=D(v,r,t)*l%t,x=D(E,Gt,t);if(!Yt.eql(Yt.sqr(x),e))throw new Error("Cannot find square root");return x}}),Jt=function(e,t){const n=t=>Kt({...e,hash:t});return{...n(t),create:n}}({...Wt,Fp:Yt,lowS:!0,endo:Vt},i.sc);Pe.utils.randomPrivateKey;const Zt=()=>{const e=Pe.utils.randomPrivateKey(),t=Xt(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},Xt=Pe.getPublicKey;function Qt(e){try{return Pe.ExtendedPoint.fromHex(e),!0}catch{return!1}}const en=(e,t)=>Pe.sign(e,t.slice(0,32)),tn=Pe.verify,nn=e=>r.Buffer.isBuffer(e)?e:e instanceof Uint8Array?r.Buffer.from(e.buffer,e.byteOffset,e.byteLength):r.Buffer.from(e);class rn{constructor(e){Object.assign(this,e)}encode(){return r.Buffer.from((0,We.serialize)(an,this))}static decode(e){return(0,We.deserialize)(an,this,e)}static decodeUnchecked(e){return(0,We.deserializeUnchecked)(an,this,e)}}const an=new Map;var sn;const on=32;let cn=1;class ln extends rn{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=qe().decode(e);if(t.length!=on)throw new Error("Invalid public key input");this._bn=new(ze())(t)}else this._bn=new(ze())(e);if(this._bn.byteLength()>on)throw new Error("Invalid public key input")}}static unique(){const e=new ln(cn);return cn+=1,new ln(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return qe().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(r.Buffer);if(e.length===on)return e;const t=r.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const i=r.Buffer.concat([e.toBuffer(),r.Buffer.from(t),n.toBuffer()]),a=(0,Ke.sc)(i);return new ln(a)}static createProgramAddressSync(e,t){let n=r.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,nn(e)])}),n=r.Buffer.concat([n,t.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);const i=(0,Ke.sc)(n);if(Qt(i))throw new Error("Invalid seeds, address must fall off the curve");return new ln(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,i=255;for(;0!=i;){try{const a=e.concat(r.Buffer.from([i]));n=this.createProgramAddressSync(a,t)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return Qt(new ln(e).toBytes())}}sn=ln,ln.default=new sn("11111111111111111111111111111111"),an.set(ln,{kind:"struct",fields:[["_bn","u256"]]}),new ln("BPFLoader1111111111111111111111111111111111");const un=1232;class dn extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(dn.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class fn extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(fn.prototype,"name",{value:"TransactionExpiredTimeoutError"});class pn extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(pn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class hn{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach((e,n)=>{t.set(e.toBase58(),n)});const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map(e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map(e=>n(e.pubkey)),data:e.data}))}}const bn=(e="publicKey")=>Ve.av(32,e),yn=(e="signature")=>Ve.av(64,e),mn=(e="string")=>{const t=Ve.w3([Ve.DH("length"),Ve.DH("lengthPadding"),Ve.av(Ve.cY(Ve.DH(),-8),"chars")],e),n=t.decode.bind(t),i=t.encode.bind(t),a=t;return a.decode=(e,t)=>n(e,t).chars.toString(),a.encode=(e,t,n)=>{const a={chars:r.Buffer.from(e,"utf8")};return i(a,t,n)},a.alloc=e=>Ve.DH().span+Ve.DH().span+r.Buffer.from(e,"utf8").length,a};function gn(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return gn({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach(e=>{r+=n(e)}),r}function wn(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,!(128&r))break}return t}function vn(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function En(e,t){if(!e)throw new Error(t||"Assertion failed")}class xn{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){r(t.programId).isInvoked=!0;for(const e of t.keys){const t=r(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new xn(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];En(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,e])=>e.isSigner&&e.isWritable),n=e.filter(([,e])=>e.isSigner&&!e.isWritable),r=e.filter(([,e])=>!e.isSigner&&e.isWritable),i=e.filter(([,e])=>!e.isSigner&&!e.isWritable),a={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{En(t.length>0,"Expected at least one writable signer key");const[e]=t[0];En(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[a,[...t.map(([e])=>new ln(e)),...n.map(([e])=>new ln(e)),...r.map(([e])=>new ln(e)),...i.map(([e])=>new ln(e))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,a]of this.keyMetaMap.entries())if(t(a)){const t=new ln(i),a=e.findIndex(e=>e.equals(t));a>=0&&(En(a<256,"Max lookup table index exceeded"),n.push(a),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}const Sn="Reached end of buffer unexpectedly";function Tn(e){if(0===e.length)throw new Error(Sn);return e.shift()}function An(e,...t){const[n]=t;if(2===t.length?n+(t[1]??0)>e.length:n>=e.length)throw new Error(Sn);return e.splice(...t)}class _n{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new ln(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:qe().decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new hn(this.staticAccountKeys)}static compile(e){const t=xn.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new hn(r).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:qe().encode(e.data)}));return new _n({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;return e>=this.header.numRequiredSignatures?e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];vn(t,e);const n=this.instructions.map(e=>{const{accounts:t,programIdIndex:n}=e,i=Array.from(qe().decode(e.data));let a=[];vn(a,t.length);let s=[];return vn(s,i.length),{programIdIndex:n,keyIndicesCount:r.Buffer.from(a),keyIndices:t,dataLength:r.Buffer.from(s),data:i}});let i=[];vn(i,n.length);let a=r.Buffer.alloc(un);r.Buffer.from(i).copy(a);let s=i.length;n.forEach(e=>{const t=Ve.w3([Ve.u8("programIdIndex"),Ve.av(e.keyIndicesCount.length,"keyIndicesCount"),Ve.O6(Ve.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Ve.av(e.dataLength.length,"dataLength"),Ve.O6(Ve.u8("userdatum"),e.data.length,"data")]).encode(e,a,s);s+=t}),a=a.slice(0,s);const o=Ve.w3([Ve.av(1,"numRequiredSignatures"),Ve.av(1,"numReadonlySignedAccounts"),Ve.av(1,"numReadonlyUnsignedAccounts"),Ve.av(t.length,"keyCount"),Ve.O6(bn("key"),e,"keys"),bn("recentBlockhash")]),c={numRequiredSignatures:r.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:r.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:r.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:r.Buffer.from(t),keys:this.accountKeys.map(e=>nn(e.toBytes())),recentBlockhash:qe().decode(this.recentBlockhash)};let l=r.Buffer.alloc(2048);const u=o.encode(c,l);return a.copy(l,u),l.slice(0,u+a.length)}static from(e){let t=[...e];const n=Tn(t);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Tn(t),a=Tn(t),s=wn(t);let o=[];for(let e=0;e<s;e++){const e=An(t,0,on);o.push(new ln(r.Buffer.from(e)))}const c=An(t,0,on),l=wn(t);let u=[];for(let e=0;e<l;e++){const e=Tn(t),n=An(t,0,wn(t)),i=An(t,0,wn(t)),a=qe().encode(r.Buffer.from(i));u.push({programIdIndex:e,accounts:n,data:a})}const d={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:qe().encode(r.Buffer.from(c)),accountKeys:o,instructions:u};return new _n(d)}}class Cn{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new hn(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;return e>=n?e-n<this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0):e>=this.header.numRequiredSignatures?e-t<n-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find(e=>e.key.equals(n.accountKey));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=xn.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const e of i){const i=t.extractTableLookup(e);if(void 0!==i){const[e,{writable:t,readonly:a}]=i;n.push(e),r.writable.push(...t),r.readonly.push(...a)}}const[a,s]=t.getMessageComponents(),o=new hn(s,r).compileInstructions(e.instructions);return new Cn({header:a,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:o,addressTableLookups:n})}serialize(){const e=Array();vn(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();vn(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();vn(i,this.addressTableLookups.length);const a=Ve.w3([Ve.u8("prefix"),Ve.w3([Ve.u8("numRequiredSignatures"),Ve.u8("numReadonlySignedAccounts"),Ve.u8("numReadonlyUnsignedAccounts")],"header"),Ve.av(e.length,"staticAccountKeysLength"),Ve.O6(bn(),this.staticAccountKeys.length,"staticAccountKeys"),bn("recentBlockhash"),Ve.av(n.length,"instructionsLength"),Ve.av(t.length,"serializedInstructions"),Ve.av(i.length,"addressTableLookupsLength"),Ve.av(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(un),o=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:qe().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,o)}serializeInstructions(){let e=0;const t=new Uint8Array(un);for(const n of this.compiledInstructions){const r=Array();vn(r,n.accountKeyIndexes.length);const i=Array();vn(i,n.data.length),e+=Ve.w3([Ve.u8("programIdIndex"),Ve.av(r.length,"encodedAccountKeyIndexesLength"),Ve.O6(Ve.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Ve.av(i.length,"encodedDataLength"),Ve.av(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(un);for(const n of this.addressTableLookups){const r=Array();vn(r,n.writableIndexes.length);const i=Array();vn(i,n.readonlyIndexes.length),e+=Ve.w3([bn("accountKey"),Ve.av(r.length,"encodedWritableIndexesLength"),Ve.O6(Ve.u8(),n.writableIndexes.length,"writableIndexes"),Ve.av(i.length,"encodedReadonlyIndexesLength"),Ve.O6(Ve.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=Tn(t),r=127&n;En(n!==r,"Expected versioned message but received legacy message"),En(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:Tn(t),numReadonlySignedAccounts:Tn(t),numReadonlyUnsignedAccounts:Tn(t)},a=[],s=wn(t);for(let e=0;e<s;e++)a.push(new ln(An(t,0,on)));const o=qe().encode(An(t,0,on)),c=wn(t),l=[];for(let e=0;e<c;e++){const e=Tn(t),n=An(t,0,wn(t)),r=wn(t),i=new Uint8Array(An(t,0,r));l.push({programIdIndex:e,accountKeyIndexes:n,data:i})}const u=wn(t),d=[];for(let e=0;e<u;e++){const e=new ln(An(t,0,on)),n=An(t,0,wn(t)),r=An(t,0,wn(t));d.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new Cn({header:i,staticAccountKeys:a,recentBlockhash:o,compiledInstructions:l,addressTableLookups:d})}}const kn={deserializeMessageVersion(e){const t=e[0],n=127&t;return n===t?"legacy":n},deserialize:e=>{const t=kn.deserializeMessageVersion(e);if("legacy"===t)return _n.from(e);if(0===t)return Cn.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},In=r.Buffer.alloc(64).fill(0);class Pn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=r.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class On{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Pn(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const r=[],i=[];t.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});const t=e.programId.toString();r.includes(t)||r.push(t)}),r.forEach(e=>{i.push({pubkey:new ln(e),isSigner:!1,isWritable:!1})});const a=[];i.forEach(e=>{const t=e.pubkey.toString(),n=a.findIndex(e=>e.pubkey.toString()===t);n>-1?(a[n].isWritable=a[n].isWritable||e.isWritable,a[n].isSigner=a[n].isSigner||e.isSigner):a.push(e)}),a.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const s=a.findIndex(e=>e.pubkey.equals(n));if(s>-1){const[e]=a.splice(s,1);e.isSigner=!0,e.isWritable=!0,a.unshift(e)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=a.findIndex(t=>t.pubkey.equals(e.publicKey));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);a[t].isSigner||(a[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let o=0,c=0,l=0;const u=[],d=[];a.forEach(({pubkey:e,isSigner:t,isWritable:n})=>{t?(u.push(e.toString()),o+=1,n||(c+=1)):(d.push(e.toString()),n||(l+=1))});const f=u.concat(d),p=t.map(e=>{const{data:t,programId:n}=e;return{programIdIndex:f.indexOf(n.toString()),accounts:e.keys.map(e=>f.indexOf(e.pubkey.toString())),data:qe().encode(t)}});return p.forEach(e=>{En(e.programIdIndex>=0),e.accounts.forEach(e=>En(e>=0))}),new _n({header:{numRequiredSignatures:o,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l},accountKeys:f,recentBlockhash:e,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((e,n)=>t[n].equals(e.publicKey))||(this.signatures=t.map(e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter(e=>{const n=e.toString();return!t.has(n)&&(t.add(n),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}this.signatures=n.map(e=>({signature:null,publicKey:e.publicKey}));const r=this._compile();this._partialSign(r,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(e=>{const t=en(n,e.secretKey);this._addSignature(e.publicKey,nn(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){En(64===t.length);const n=this.signatures.findIndex(t=>e.equals(t.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=r.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||=[]).push(i):tn(r,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];vn(n,t.length);const i=n.length+64*t.length+e.length,a=r.Buffer.alloc(i);return En(t.length<256),r.Buffer.from(n).copy(a,0),t.forEach(({signature:e},t)=>{null!==e&&(En(64===e.length,"signature has invalid length"),r.Buffer.from(e).copy(a,n.length+64*t))}),e.copy(a,n.length+64*t.length),En(a.length<=un,`Transaction too large: ${a.length} > 1232`),a}get keys(){return En(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return En(1===this.instructions.length),this.instructions[0].programId}get data(){return En(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=wn(t);let i=[];for(let e=0;e<n;e++){const e=An(t,0,64);i.push(qe().encode(r.Buffer.from(e)))}return On.populate(_n.from(t),i)}static populate(e,t=[]){const n=new On;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((t,r)=>{const i={signature:t==qe().encode(In)?null:qe().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)}),e.instructions.forEach(t=>{const r=t.accounts.map(t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some(e=>e.publicKey.toString()===r.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});n.instructions.push(new Pn({keys:r,programId:e.accountKeys[t.programIdIndex],data:qe().decode(t.data)}))}),n._message=e,n._json=n.toJSON(),n}}class Mn{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)En(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let n=0;n<e.header.numRequiredSignatures;n++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();vn(t,this.signatures.length);const n=Ve.w3([Ve.av(t.length,"encodedSignaturesLength"),Ve.O6(yn(),this.signatures.length,"signatures"),Ve.av(e.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},r);return r.slice(0,i)}static deserialize(e){let t=[...e];const n=[],r=wn(t);for(let e=0;e<r;e++)n.push(new Uint8Array(An(t,0,64)));const i=kn.deserialize(new Uint8Array(t));return new Mn(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of e){const e=n.findIndex(e=>e.equals(r.publicKey));En(e>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[e]=en(t,r.secretKey)}}addSignature(e,t){En(64===t.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(t=>t.equals(e));En(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=t}}const Rn=new ln("SysvarC1ock11111111111111111111111111111111"),Nn=(new ln("SysvarEpochSchedu1e111111111111111111111111"),new ln("Sysvar1nstructions1111111111111111111111111"),new ln("SysvarRecentB1ockHashes11111111111111111111")),Ln=new ln("SysvarRent111111111111111111111111111111111"),Dn=(new ln("SysvarRewards111111111111111111111111111111"),new ln("SysvarS1otHashes111111111111111111111111111"),new ln("SysvarS1otHistory11111111111111111111111111"),new ln("SysvarStakeHistory1111111111111111111111111"));class Bn extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:r}){const i=r?`Logs: \n${JSON.stringify(r.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let s;switch(e){case"send":s=`Transaction ${t} resulted in an error. \n${n}. `+i+a;break;case"simulate":s=`Simulation failed. \nMessage: ${n}. \n`+i+a;break;default:s=`Unknown action '${e}'`}super(s),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=r||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,n)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}async function jn(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},a=await e.sendTransaction(t,n,i);let s;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)s=(await e.confirmTransaction({abortSignal:r?.abortSignal,signature:a,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;s=(await e.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:a},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await e.confirmTransaction(a,r&&r.commitment)).value;if(s.err){if(null!=a)throw new Bn({action:"send",signature:a,transactionMessage:`Status: (${JSON.stringify(s)})`});throw new Error(`Transaction ${a} failed (${JSON.stringify(s)})`)}return a}function Un(e){return new Promise(t=>setTimeout(t,e))}function Fn(e,t){const n=e.layout.span>=0?e.layout.span:gn(e,t),i=r.Buffer.alloc(n),a=Object.assign({instruction:e.index},t);return e.layout.encode(a,i),i}Error;const $n=Ve.I0("lamportsPerSignature"),zn=Ve.w3([Ve.DH("version"),Ve.DH("state"),bn("authorizedPubkey"),bn("nonce"),Ve.w3([$n],"feeCalculator")]).span;function Hn(e){const t=(0,Ve.av)(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,a=nt();return i.decode=(e,t)=>{const r=n(e,t);return a.decode(r)},i.encode=(e,t,n)=>{const i=a.encode(e);return r(i,t,n)},i}const qn=Object.freeze({Create:{index:0,layout:Ve.w3([Ve.DH("instruction"),Ve.Wg("lamports"),Ve.Wg("space"),bn("programId")])},Assign:{index:1,layout:Ve.w3([Ve.DH("instruction"),bn("programId")])},Transfer:{index:2,layout:Ve.w3([Ve.DH("instruction"),Hn("lamports")])},CreateWithSeed:{index:3,layout:Ve.w3([Ve.DH("instruction"),bn("base"),mn("seed"),Ve.Wg("lamports"),Ve.Wg("space"),bn("programId")])},AdvanceNonceAccount:{index:4,layout:Ve.w3([Ve.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:Ve.w3([Ve.DH("instruction"),Ve.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:Ve.w3([Ve.DH("instruction"),bn("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ve.w3([Ve.DH("instruction"),bn("authorized")])},Allocate:{index:8,layout:Ve.w3([Ve.DH("instruction"),Ve.Wg("space")])},AllocateWithSeed:{index:9,layout:Ve.w3([Ve.DH("instruction"),bn("base"),mn("seed"),Ve.Wg("space"),bn("programId")])},AssignWithSeed:{index:10,layout:Ve.w3([Ve.DH("instruction"),bn("base"),mn("seed"),bn("programId")])},TransferWithSeed:{index:11,layout:Ve.w3([Ve.DH("instruction"),Hn("lamports"),mn("seed"),bn("programId")])},UpgradeNonceAccount:{index:12,layout:Ve.w3([Ve.DH("instruction")])}});class Kn{constructor(){}static createAccount(e){const t=Fn(qn.Create,{lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())});return new Pn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;return"basePubkey"in e?(t=Fn(qn.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:nn(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=Fn(qn.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new Pn({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;return"basePubkey"in e?(t=Fn(qn.AssignWithSeed,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,programId:nn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Fn(qn.Assign,{programId:nn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new Pn({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Fn(qn.CreateWithSeed,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Pn({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new On;"basePubkey"in e&&"seed"in e?t.add(Kn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:zn,programId:this.programId})):t.add(Kn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:zn,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=Fn(qn.InitializeNonceAccount,{authorized:nn(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Nn,isSigner:!1,isWritable:!1},{pubkey:Ln,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Pn(n)}static nonceAdvance(e){const t=Fn(qn.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Nn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Pn(n)}static nonceWithdraw(e){const t=Fn(qn.WithdrawNonceAccount,{lamports:e.lamports});return new Pn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Nn,isSigner:!1,isWritable:!1},{pubkey:Ln,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Fn(qn.AuthorizeNonceAccount,{authorized:nn(e.newAuthorizedPubkey.toBuffer())});return new Pn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;return"basePubkey"in e?(t=Fn(qn.AllocateWithSeed,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:nn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Fn(qn.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new Pn({keys:n,programId:this.programId,data:t})}}Kn.programId=new ln("11111111111111111111111111111111");class Wn{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Wn.chunkSize)+1+1)}static async load(e,t,n,i,a){{const r=await e.getMinimumBalanceForRentExemption(a.length),s=await e.getAccountInfo(n.publicKey,"confirmed");let o=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==a.length&&(o=o||new On,o.add(Kn.allocate({accountPubkey:n.publicKey,space:a.length}))),s.owner.equals(i)||(o=o||new On,o.add(Kn.assign({accountPubkey:n.publicKey,programId:i}))),s.lamports<r&&(o=o||new On,o.add(Kn.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:r-s.lamports})))}else o=(new On).add(Kn.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:r>0?r:1,space:a.length,programId:i}));null!==o&&await jn(e,o,[t,n],{commitment:"confirmed"})}const s=Ve.w3([Ve.DH("instruction"),Ve.DH("offset"),Ve.DH("bytesLength"),Ve.DH("bytesLengthPadding"),Ve.O6(Ve.u8("byte"),Ve.cY(Ve.DH(),-8),"bytes")]),o=Wn.chunkSize;let c=0,l=a,u=[];for(;l.length>0;){const a=l.slice(0,o),d=r.Buffer.alloc(o+16);s.encode({instruction:0,offset:c,bytes:a,bytesLength:0,bytesLengthPadding:0},d);const f=(new On).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:d});if(u.push(jn(e,f,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await Un(1e3/e)}c+=o,l=l.slice(o)}await Promise.all(u);{const a=Ve.w3([Ve.DH("instruction")]),s=r.Buffer.alloc(a.span);a.encode({instruction:1},s);const o=(new On).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Ln,isSigner:!1,isWritable:!1}],programId:i,data:s}),c="processed",l=await e.sendTransaction(o,[t,n],{preflightCommitment:c}),{context:u,value:d}=await e.confirmTransaction({signature:l,lastValidBlockHeight:o.lastValidBlockHeight,blockhash:o.recentBlockhash},c);if(d.err)throw new Error(`Transaction ${l} failed (${JSON.stringify(d)})`);for(;;){try{if(await e.getSlot({commitment:c})>u.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}Wn.chunkSize=932,new ln("BPFLoader2111111111111111111111111111111111"),globalThis.fetch,Ve.w3([Ve.DH("typeIndex"),Hn("deactivationSlot"),Ve.I0("lastExtendedSlot"),Ve.u8("lastExtendedStartIndex"),Ve.u8(),Ve.O6(bn(),Ve.cY(Ve.u8(),-1),"authority")]);const Vn=kt(mt(ln),St(),e=>new ln(e)),Gn=Tt([St(),gt("base64")]),Yn=kt(mt(r.Buffer),Gn,e=>r.Buffer.from(e[0],"base64"));function Jn(e){return _t([At({jsonrpc:gt("2.0"),id:St(),result:e}),At({jsonrpc:gt("2.0"),id:St(),error:At({code:Ct(),message:St(),data:Et(ht("any",()=>!0))})})])}const Zn=Jn(Ct());function Xn(e){return kt(Jn(e),Zn,t=>"error"in t?t:{...t,result:dt(t.result,e)})}function Qn(e){return Xn(At({context:At({slot:vt()}),value:e}))}function er(e){return At({context:At({slot:vt()}),value:e})}const tr=At({foundation:vt(),foundationTerm:vt(),initial:vt(),taper:vt(),terminal:vt()}),nr=(Xn(bt(wt(At({epoch:vt(),effectiveSlot:vt(),amount:vt(),postBalance:vt(),commission:Et(wt(vt()))})))),bt(At({slot:vt(),prioritizationFee:vt()}))),rr=At({total:vt(),validator:vt(),foundation:vt(),epoch:vt()}),ir=At({epoch:vt(),slotIndex:vt(),slotsInEpoch:vt(),absoluteSlot:vt(),blockHeight:Et(vt()),transactionCount:Et(vt())}),ar=At({slotsPerEpoch:vt(),leaderScheduleSlotOffset:vt(),warmup:yt(),firstNormalEpoch:vt(),firstNormalSlot:vt()}),sr=xt(St(),bt(vt())),or=wt(_t([At({}),St()])),cr=At({err:or}),lr=gt("receivedSignature"),ur=(At({"solana-core":St(),"feature-set":Et(vt())}),At({program:St(),programId:Vn,parsed:Ct()})),dr=At({programId:Vn,accounts:bt(Vn),data:St()});Qn(At({err:wt(_t([At({}),St()])),logs:wt(bt(St())),accounts:Et(wt(bt(wt(At({executable:yt(),owner:St(),lamports:vt(),data:bt(St()),rentEpoch:Et(vt())}))))),unitsConsumed:Et(vt()),returnData:Et(wt(At({programId:St(),data:Tt([St(),gt("base64")])}))),innerInstructions:Et(wt(bt(At({index:vt(),instructions:bt(_t([ur,dr]))}))))})),Qn(At({byIdentity:xt(St(),bt(vt())),range:At({firstSlot:vt(),lastSlot:vt()})})),Xn(tr),Xn(rr),Xn(nr),Xn(ir),Xn(ar),Xn(sr),Xn(vt()),Qn(At({total:vt(),circulating:vt(),nonCirculating:vt(),nonCirculatingAccounts:bt(Vn)}));const fr=At({amount:St(),uiAmount:wt(vt()),decimals:vt(),uiAmountString:Et(St())}),pr=(Qn(bt(At({address:Vn,amount:St(),uiAmount:wt(vt()),decimals:vt(),uiAmountString:Et(St())}))),Qn(bt(At({pubkey:Vn,account:At({executable:yt(),owner:Vn,lamports:vt(),data:Yn,rentEpoch:vt()})}))),At({program:St(),parsed:Ct(),space:vt()})),hr=(Qn(bt(At({pubkey:Vn,account:At({executable:yt(),owner:Vn,lamports:vt(),data:pr,rentEpoch:vt()})}))),Qn(bt(At({lamports:vt(),address:Vn}))),At({executable:yt(),owner:Vn,lamports:vt(),data:Yn,rentEpoch:vt()})),br=(At({pubkey:Vn,account:hr}),kt(_t([mt(r.Buffer),pr]),_t([Gn,pr]),e=>Array.isArray(e)?dt(e,Yn):e)),yr=At({executable:yt(),owner:Vn,lamports:vt(),data:br,rentEpoch:vt()}),mr=(At({pubkey:Vn,account:yr}),At({state:_t([gt("active"),gt("inactive"),gt("activating"),gt("deactivating")]),active:vt(),inactive:vt()}),Xn(bt(At({signature:St(),slot:vt(),err:or,memo:wt(St()),blockTime:Et(wt(vt()))}))),Xn(bt(At({signature:St(),slot:vt(),err:or,memo:wt(St()),blockTime:Et(wt(vt()))}))),At({subscription:vt(),result:er(hr)}),At({pubkey:Vn,account:hr})),gr=(At({subscription:vt(),result:er(mr)}),At({parent:vt(),slot:vt(),root:vt()})),wr=(At({subscription:vt(),result:gr}),_t([At({type:_t([gt("firstShredReceived"),gt("completed"),gt("optimisticConfirmation"),gt("root")]),slot:vt(),timestamp:vt()}),At({type:gt("createdBank"),parent:vt(),slot:vt(),timestamp:vt()}),At({type:gt("frozen"),slot:vt(),timestamp:vt(),stats:At({numTransactionEntries:vt(),numSuccessfulTransactions:vt(),numFailedTransactions:vt(),maxTransactionsPerEntry:vt()})}),At({type:gt("dead"),slot:vt(),timestamp:vt(),err:St()})])),vr=(At({subscription:vt(),result:wr}),At({subscription:vt(),result:er(_t([cr,lr]))}),At({subscription:vt(),result:vt()}),At({pubkey:St(),gossip:wt(St()),tpu:wt(St()),rpc:wt(St()),version:wt(St())}),At({votePubkey:St(),nodePubkey:St(),activatedStake:vt(),epochVoteAccount:yt(),epochCredits:bt(Tt([vt(),vt(),vt()])),commission:vt(),lastVote:vt(),rootSlot:wt(vt())})),Er=(Xn(At({current:bt(vr),delinquent:bt(vr)})),_t([gt("processed"),gt("confirmed"),gt("finalized")])),xr=At({slot:vt(),confirmations:wt(vt()),err:or,confirmationStatus:Et(Er)}),Sr=(Qn(bt(wt(xr))),Xn(vt()),At({accountKey:Vn,writableIndexes:bt(vt()),readonlyIndexes:bt(vt())})),Tr=At({signatures:bt(St()),message:At({accountKeys:bt(St()),header:At({numRequiredSignatures:vt(),numReadonlySignedAccounts:vt(),numReadonlyUnsignedAccounts:vt()}),instructions:bt(At({accounts:bt(vt()),data:St(),programIdIndex:vt()})),recentBlockhash:St(),addressTableLookups:Et(bt(Sr))})}),Ar=At({pubkey:Vn,signer:yt(),writable:yt(),source:Et(_t([gt("transaction"),gt("lookupTable")]))}),_r=At({accountKeys:bt(Ar),signatures:bt(St())}),Cr=At({parsed:Ct(),program:St(),programId:Vn}),kr=At({accounts:bt(Vn),data:St(),programId:Vn}),Ir=kt(_t([kr,Cr]),_t([At({parsed:Ct(),program:St(),programId:St()}),At({accounts:bt(St()),data:St(),programId:St()})]),e=>dt(e,"accounts"in e?kr:Cr)),Pr=At({signatures:bt(St()),message:At({accountKeys:bt(Ar),instructions:bt(Ir),recentBlockhash:St(),addressTableLookups:Et(wt(bt(Sr)))})}),Or=At({accountIndex:vt(),mint:St(),owner:Et(St()),programId:Et(St()),uiTokenAmount:fr}),Mr=At({writable:bt(Vn),readonly:bt(Vn)}),Rr=At({err:or,fee:vt(),innerInstructions:Et(wt(bt(At({index:vt(),instructions:bt(At({accounts:bt(vt()),data:St(),programIdIndex:vt()}))})))),preBalances:bt(vt()),postBalances:bt(vt()),logMessages:Et(wt(bt(St()))),preTokenBalances:Et(wt(bt(Or))),postTokenBalances:Et(wt(bt(Or))),loadedAddresses:Et(Mr),computeUnitsConsumed:Et(vt()),costUnits:Et(vt())}),Nr=At({err:or,fee:vt(),innerInstructions:Et(wt(bt(At({index:vt(),instructions:bt(Ir)})))),preBalances:bt(vt()),postBalances:bt(vt()),logMessages:Et(wt(bt(St()))),preTokenBalances:Et(wt(bt(Or))),postTokenBalances:Et(wt(bt(Or))),loadedAddresses:Et(Mr),computeUnitsConsumed:Et(vt()),costUnits:Et(vt())}),Lr=_t([gt(0),gt("legacy")]),Dr=At({pubkey:St(),lamports:vt(),postBalance:wt(vt()),rewardType:wt(St()),commission:Et(wt(vt()))}),Br=(Xn(wt(At({blockhash:St(),previousBlockhash:St(),parentSlot:vt(),transactions:bt(At({transaction:Tr,meta:wt(Rr),version:Et(Lr)})),rewards:Et(bt(Dr)),blockTime:wt(vt()),blockHeight:wt(vt())}))),Xn(wt(At({blockhash:St(),previousBlockhash:St(),parentSlot:vt(),rewards:Et(bt(Dr)),blockTime:wt(vt()),blockHeight:wt(vt())}))),Xn(wt(At({blockhash:St(),previousBlockhash:St(),parentSlot:vt(),transactions:bt(At({transaction:_r,meta:wt(Rr),version:Et(Lr)})),rewards:Et(bt(Dr)),blockTime:wt(vt()),blockHeight:wt(vt())}))),Xn(wt(At({blockhash:St(),previousBlockhash:St(),parentSlot:vt(),transactions:bt(At({transaction:Pr,meta:wt(Nr),version:Et(Lr)})),rewards:Et(bt(Dr)),blockTime:wt(vt()),blockHeight:wt(vt())}))),Xn(wt(At({blockhash:St(),previousBlockhash:St(),parentSlot:vt(),transactions:bt(At({transaction:_r,meta:wt(Nr),version:Et(Lr)})),rewards:Et(bt(Dr)),blockTime:wt(vt()),blockHeight:wt(vt())}))),Xn(wt(At({blockhash:St(),previousBlockhash:St(),parentSlot:vt(),rewards:Et(bt(Dr)),blockTime:wt(vt()),blockHeight:wt(vt())}))),Xn(wt(At({blockhash:St(),previousBlockhash:St(),parentSlot:vt(),transactions:bt(At({transaction:Tr,meta:wt(Rr)})),rewards:Et(bt(Dr)),blockTime:wt(vt())}))),Xn(wt(At({blockhash:St(),previousBlockhash:St(),parentSlot:vt(),signatures:bt(St()),blockTime:wt(vt())}))),Xn(wt(At({slot:vt(),meta:wt(Rr),blockTime:Et(wt(vt())),transaction:Tr,version:Et(Lr)}))),Xn(wt(At({slot:vt(),transaction:Pr,meta:wt(Nr),blockTime:Et(wt(vt())),version:Et(Lr)}))),Qn(At({blockhash:St(),lastValidBlockHeight:vt()})),Qn(yt()),Xn(bt(At({slot:vt(),numTransactions:vt(),numSlots:vt(),samplePeriodSecs:vt()}))),Qn(wt(At({feeCalculator:At({lamportsPerSignature:vt()})}))),Xn(St()),Xn(St()),At({err:or,logs:bt(St()),signature:St()}));At({result:er(Br),subscription:vt()});class jr{constructor(e){this._keypair=void 0,this._keypair=e??Zt()}static generate(){return new jr(Zt())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=Xt(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new jr({publicKey:n,secretKey:e})}static fromSeed(e){const t=Xt(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new jr({publicKey:t,secretKey:n})}get publicKey(){return new ln(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:Ve.w3([Ve.DH("instruction"),Hn("recentSlot"),Ve.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ve.w3([Ve.DH("instruction")])},ExtendLookupTable:{index:2,layout:Ve.w3([Ve.DH("instruction"),Hn(),Ve.O6(bn(),Ve.cY(Ve.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ve.w3([Ve.DH("instruction")])},CloseLookupTable:{index:4,layout:Ve.w3([Ve.DH("instruction")])}});new ln("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Ve.w3([Ve.u8("instruction"),Ve.DH("units"),Ve.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:Ve.w3([Ve.u8("instruction"),Ve.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:Ve.w3([Ve.u8("instruction"),Ve.DH("units")])},SetComputeUnitPrice:{index:3,layout:Ve.w3([Ve.u8("instruction"),Hn("microLamports")])}});new ln("ComputeBudget111111111111111111111111111111");const Ur=Ve.w3([Ve.u8("numSignatures"),Ve.u8("padding"),Ve.NX("signatureOffset"),Ve.NX("signatureInstructionIndex"),Ve.NX("publicKeyOffset"),Ve.NX("publicKeyInstructionIndex"),Ve.NX("messageDataOffset"),Ve.NX("messageDataSize"),Ve.NX("messageInstructionIndex")]);class Fr{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:i,instructionIndex:a}=e;En(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),En(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const s=Ur.span,o=s+t.length,c=o+i.length,l=r.Buffer.alloc(c+n.length),u=null==a?65535:a;return Ur.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:u,publicKeyOffset:s,publicKeyInstructionIndex:u,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:u},l),l.fill(t,s),l.fill(i,o),l.fill(n,c),new Pn({keys:[],programId:Fr.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;En(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=jr.fromSecretKey(t),i=e.publicKey.toBytes(),a=en(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:a,instructionIndex:r})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Fr.programId=new ln("Ed25519SigVerify111111111111111111111111111"),Jt.utils.isValidPrivateKey;const $r=Jt.getPublicKey,zr=Ve.w3([Ve.u8("numSignatures"),Ve.NX("signatureOffset"),Ve.u8("signatureInstructionIndex"),Ve.NX("ethAddressOffset"),Ve.u8("ethAddressInstructionIndex"),Ve.NX("messageDataOffset"),Ve.NX("messageDataSize"),Ve.u8("messageInstructionIndex"),Ve.av(20,"ethAddress"),Ve.av(64,"signature"),Ve.u8("recoveryId")]);class Hr{constructor(){}static publicKeyToEthAddress(e){En(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return r.Buffer.from((0,It.lY)(nn(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:a}=e;return Hr.createInstructionWithEthAddress({ethAddress:Hr.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:a})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:i,recoveryId:a,instructionIndex:s=0}=e;let o;o="string"==typeof t?t.startsWith("0x")?r.Buffer.from(t.substr(2),"hex"):r.Buffer.from(t,"hex"):t,En(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const c=12+o.length,l=c+i.length+1,u=r.Buffer.alloc(zr.span+n.length);return zr.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:s,signature:nn(i),ethAddress:nn(o),recoveryId:a},u),u.fill(nn(n),zr.span),new Pn({keys:[],programId:Hr.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:i}=e;En(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=nn(t),a=$r(e,!1).slice(1),s=r.Buffer.from((0,It.lY)(nn(n))),[o,c]=((e,t)=>{const n=Jt.sign(e,t);return[n.toCompactRawBytes(),n.recovery]})(s,e);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:o,recoveryId:c,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var qr;Hr.programId=new ln("KeccakSecp256k11111111111111111111111111111");const Kr=new ln("StakeConfig11111111111111111111111111111111");class Wr{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}qr=Wr,Wr.default=new qr(0,0,ln.default);const Vr=Object.freeze({Initialize:{index:0,layout:Ve.w3([Ve.DH("instruction"),((e="authorized")=>Ve.w3([bn("staker"),bn("withdrawer")],e))(),((e="lockup")=>Ve.w3([Ve.Wg("unixTimestamp"),Ve.Wg("epoch"),bn("custodian")],e))()])},Authorize:{index:1,layout:Ve.w3([Ve.DH("instruction"),bn("newAuthorized"),Ve.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:Ve.w3([Ve.DH("instruction")])},Split:{index:3,layout:Ve.w3([Ve.DH("instruction"),Ve.Wg("lamports")])},Withdraw:{index:4,layout:Ve.w3([Ve.DH("instruction"),Ve.Wg("lamports")])},Deactivate:{index:5,layout:Ve.w3([Ve.DH("instruction")])},Merge:{index:7,layout:Ve.w3([Ve.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:Ve.w3([Ve.DH("instruction"),bn("newAuthorized"),Ve.DH("stakeAuthorizationType"),mn("authoritySeed"),bn("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Gr{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||Wr.default,a=Fn(Vr.Initialize,{authorized:{staker:nn(n.staker.toBuffer()),withdrawer:nn(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:nn(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ln,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Pn(s)}static createAccountWithSeed(e){const t=new On;t.add(Kn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new On;t.add(Kn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=Fn(Vr.Delegate);return(new On).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:Dn,isSigner:!1,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:a}=e,s=Fn(Vr.Authorize,{newAuthorized:nn(r.toBuffer()),stakeAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&o.push({pubkey:a,isSigner:!0,isWritable:!1}),(new On).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:a,stakeAuthorizationType:s,custodianPubkey:o}=e,c=Fn(Vr.AuthorizeWithSeed,{newAuthorized:nn(a.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:nn(i.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Rn,isSigner:!1,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),(new On).add({keys:l,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,a=Fn(Vr.Split,{lamports:i});return new Pn({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const n=new On;return n.add(Kn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:a,seed:s,lamports:o}=e,c=new On;return c.add(Kn.allocate({accountPubkey:i,basePubkey:a,seed:s,space:this.space,programId:this.programId})),t&&t>0&&c.add(Kn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:o}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=Fn(Vr.Merge);return(new On).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:Dn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:a}=e,s=Fn(Vr.Withdraw,{lamports:i}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:Dn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&o.push({pubkey:a,isSigner:!0,isWritable:!1}),(new On).add({keys:o,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=Fn(Vr.Deactivate);return(new On).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}Gr.programId=new ln("Stake11111111111111111111111111111111111111"),Gr.space=200;const Yr=Object.freeze({InitializeAccount:{index:0,layout:Ve.w3([Ve.DH("instruction"),((e="voteInit")=>Ve.w3([bn("nodePubkey"),bn("authorizedVoter"),bn("authorizedWithdrawer"),Ve.u8("commission")],e))()])},Authorize:{index:1,layout:Ve.w3([Ve.DH("instruction"),bn("newAuthorized"),Ve.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:Ve.w3([Ve.DH("instruction"),Ve.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ve.w3([Ve.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:Ve.w3([Ve.DH("instruction"),((e="voteAuthorizeWithSeedArgs")=>Ve.w3([Ve.DH("voteAuthorizationType"),bn("currentAuthorityDerivedKeyOwnerPubkey"),mn("currentAuthorityDerivedKeySeed"),bn("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Jr{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=Fn(Yr.InitializeAccount,{voteInit:{nodePubkey:nn(r.nodePubkey.toBuffer()),authorizedVoter:nn(r.authorizedVoter.toBuffer()),authorizedWithdrawer:nn(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ln,isSigner:!1,isWritable:!1},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Pn(a)}static createAccount(e){const t=new On;return t.add(Kn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,a=Fn(Yr.Authorize,{newAuthorized:nn(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new On).add({keys:s,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:a,votePubkey:s}=e,o=Fn(Yr.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:nn(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:nn(i.toBuffer()),voteAuthorizationType:a.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new On).add({keys:c,programId:this.programId,data:o})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,a=Fn(Yr.Withdraw,{lamports:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new On).add({keys:s,programId:this.programId,data:a})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return Jr.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=Fn(Yr.UpdateValidatorIdentity),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new On).add({keys:a,programId:this.programId,data:i})}}Jr.programId=new ln("Vote111111111111111111111111111111111111111"),Jr.space=3762,new ln("Va1idator1nfo111111111111111111111111111111"),At({name:St(),website:Et(St()),details:Et(St()),iconUrl:Et(St()),keybaseUsername:Et(St())}),new ln("Vote111111111111111111111111111111111111111"),Ve.w3([bn("nodePubkey"),bn("authorizedWithdrawer"),Ve.u8("commission"),Ve.I0(),Ve.O6(Ve.w3([Ve.I0("slot"),Ve.DH("confirmationCount")]),Ve.cY(Ve.DH(),-8),"votes"),Ve.u8("rootSlotValid"),Ve.I0("rootSlot"),Ve.I0(),Ve.O6(Ve.w3([Ve.I0("epoch"),bn("authorizedVoter")]),Ve.cY(Ve.DH(),-8),"authorizedVoters"),Ve.w3([Ve.O6(Ve.w3([bn("authorizedPubkey"),Ve.I0("epochOfLastAuthorizedSwitch"),Ve.I0("targetEpoch")]),32,"buf"),Ve.I0("idx"),Ve.u8("isEmpty")],"priorVoters"),Ve.I0(),Ve.O6(Ve.w3([Ve.I0("epoch"),Ve.I0("credits"),Ve.I0("prevCredits")]),Ve.cY(Ve.DH(),-8),"epochCredits"),Ve.w3([Ve.I0("slot"),Ve.I0("timestamp")],"lastTimestamp")])},3856:(e,t,n)=>{"use strict";n.d(t,{af:()=>o,yv:()=>s});var r=n(2439),i=n(44478),a=n(1048).Buffer;async function s(e,t){const n=JSON.stringify(t),i=a.from(n,"utf-8"),s=(o=await(0,r.w)((0,r.qb)(a.from(e,"hex")),i),{iv:a.from(o.iv).toString("hex"),ephemPublicKey:a.from(o.ephemPublicKey).toString("hex"),ciphertext:a.from(o.ciphertext).toString("hex"),mac:a.from(o.mac).toString("hex")});var o;return JSON.stringify(s)}async function o(e,t){const n=(c=JSON.parse(t),{iv:a.from(c.iv,"hex"),ephemPublicKey:a.from(c.ephemPublicKey,"hex"),ciphertext:a.from(c.ciphertext,"hex"),mac:a.from(c.mac,"hex")}),s=i.ec.keyFromPrivate(e),o=(await(0,r.Yc)(a.from(s.getPrivate().toString("hex",64),"hex"),n)).toString("utf-8");var c;return JSON.parse(o)}},3861:(e,t,n)=>{"use strict";n.d(t,{Bd:()=>y,EW:()=>S,Eo:()=>T,He:()=>m,Jy:()=>h,XL:()=>E,at:()=>w,ce:()=>d,dr:()=>v,is:()=>x,ks:()=>p,lX:()=>l,tP:()=>g,x8:()=>f,xG:()=>u,zr:()=>b});var r=n(18963),i=n(33890),a=n(65204),s=n(23553),o=n(26358),c=n(12361);const l=e=>("string"==typeof e||"number"==typeof e)&&/^(-)?0x[0-9a-f]*$/i.test(e),u=(e=c.Lr.SAPPHIRE_MAINNET)=>i.Q2[e],d=async({clientId:e,web3AuthNetwork:t,aaProvider:n,authBuildEnv:r})=>{const i=new URL(`${u(t)}/api/v2/configuration`);return i.searchParams.append("project_id",e),i.searchParams.append("network",t),r&&i.searchParams.append("build_env",r),n&&i.searchParams.append("aa_provider",n),await(0,a.Jt)(i.href)},f=async e=>await(0,a.Jt)(e||s.SY),p=e=>{let t=e.toLowerCase();return t=t.split("|")[0],t=t.replace(/-/g," "),t=t.replace(/\s+/g," "),t=t.replace(/wallet$/i,"").trim(),t=t.replace(/\s/g,"-"),t},h=e=>{var t,n;return{chainNamespace:r.l.EIP155,chainId:`0x${e.id.toString(16)}`,rpcTarget:e.rpcUrls.default.http[0],displayName:e.name,blockExplorerUrl:(null===(t=e.blockExplorers)||void 0===t?void 0:t.default.url)||"",ticker:e.nativeCurrency.symbol,tickerName:e.nativeCurrency.name,logo:"",decimals:e.nativeCurrency.decimals,isTestnet:e.testnet,wsTarget:null===(n=e.rpcUrls.default.webSocket)||void 0===n?void 0:n[0]}};function b(e,t,n){return t?t.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((r,i)=>{const a=()=>{null==n||n(),i(new DOMException("Aborted","AbortError"))};return t.addEventListener("abort",a),Promise.resolve().then(()=>e()).then(r,i).finally(()=>{t.removeEventListener("abort",a)})}):e()}const y=()=>"undefined"!=typeof window&&"undefined"!=typeof document,m=h,g=e=>{var t,n;return{whitelabel_app_name:null==e?void 0:e.appName,whitelabel_app_url:null==e?void 0:e.appUrl,whitelabel_logo_light_enabled:Boolean(null==e?void 0:e.logoLight),whitelabel_logo_dark_enabled:Boolean(null==e?void 0:e.logoDark),whitelabel_default_language:null==e?void 0:e.defaultLanguage,whitelabel_theme_mode:null==e?void 0:e.mode,whitelabel_use_logo_loader:null==e?void 0:e.useLogoLoader,whitelabel_theme_primary:null==e||null===(t=e.theme)||void 0===t?void 0:t.primary,whitelabel_theme_on_primary:null==e||null===(n=e.theme)||void 0===n?void 0:n.onPrimary,whitelabel_tnc_link_enabled:Boolean(null==e?void 0:e.tncLink),whitelabel_privacy_policy_enabled:Boolean(null==e?void 0:e.privacyPolicy)}},w=e=>{var t,n,i,a,s;const o=Array.from(new Set(null==e||null===(t=e.chains)||void 0===t?void 0:t.map(e=>{var t;return S(null===(t=e.bundlerConfig)||void 0===t?void 0:t.url)}).filter(Boolean))),c=Array.from(new Set(null==e||null===(n=e.chains)||void 0===n?void 0:n.map(e=>{var t;return S(null===(t=e.paymasterConfig)||void 0===t?void 0:t.url)}).filter(Boolean)));return{aa_smart_account_type:null==e?void 0:e.smartAccountType,aa_chain_ids:null==e||null===(i=e.chains)||void 0===i?void 0:i.map(e=>T({chainId:e.chainId,chainNamespace:r.l.EIP155})),aa_bundler_urls:o,aa_paymaster_urls:c,aa_paymaster_enabled:c.length>0,aa_paymaster_context_enabled:null==e||null===(a=e.chains)||void 0===a?void 0:a.some(e=>{var t;return null===(t=e.bundlerConfig)||void 0===t?void 0:t.paymasterContext}),aa_erc20_paymaster_enabled:null==e||null===(s=e.chains)||void 0===s?void 0:s.some(e=>{var t;return null===(t=e.bundlerConfig)||void 0===t||null===(t=t.paymasterContext)||void 0===t?void 0:t.token})}},v=e=>{var t,n,r,i,a,s,o,c,l,u,d,f;return{ws_confirmation_strategy:null==e?void 0:e.confirmationStrategy,ws_enable_key_export:null==e?void 0:e.enableKeyExport,ws_show_widget_button:null==e||null===(t=e.whiteLabel)||void 0===t?void 0:t.showWidgetButton,ws_button_position:null==e||null===(n=e.whiteLabel)||void 0===n?void 0:n.buttonPosition,ws_hide_nft_display:null==e||null===(r=e.whiteLabel)||void 0===r?void 0:r.hideNftDisplay,ws_hide_token_display:null==e||null===(i=e.whiteLabel)||void 0===i?void 0:i.hideTokenDisplay,ws_hide_transfers:null==e||null===(a=e.whiteLabel)||void 0===a?void 0:a.hideTransfers,ws_hide_topup:null==e||null===(s=e.whiteLabel)||void 0===s?void 0:s.hideTopup,ws_hide_receive:null==e||null===(o=e.whiteLabel)||void 0===o?void 0:o.hideReceive,ws_hide_swap:null==e||null===(c=e.whiteLabel)||void 0===c?void 0:c.hideSwap,ws_hide_show_all_tokens:null==e||null===(l=e.whiteLabel)||void 0===l?void 0:l.hideShowAllTokens,ws_hide_wallet_connect:null==e||null===(u=e.whiteLabel)||void 0===u?void 0:u.hideWalletConnect,ws_hide_defi_positions_display:null==e||null===(d=e.whiteLabel)||void 0===d?void 0:d.hideDefiPositionsDisplay,ws_default_portfolio:null==e||null===(f=e.whiteLabel)||void 0===f?void 0:f.defaultPortfolio}},E="10.11.0",x=e=>{try{const t=e instanceof o.uF?e.code:null==e?void 0:e.code;return{error_message:e instanceof Error?e.message:(null==e?void 0:e.message)||(null==e?void 0:e.toString()),error_code:t}}catch{return{error_message:"Unknown error",error_code:void 0}}},S=e=>{try{return new URL(e).hostname}catch{return""}},T=e=>e.chainNamespace===r.l.EIP155?`${e.chainNamespace}:${parseInt(e.chainId,16)}`:e.chainNamespace===r.l.SOLANA?`${e.chainNamespace}:${s.Ah[e.chainId]}`:`${e.chainNamespace}:${e.chainId}`},5172:(e,t,n)=>{"use strict";var r=("undefined"!=typeof JSON?JSON:n(6998)).stringify,i=n(49549),a=n(49228),s=n(28498),o=n(14607),c=o("Array.prototype.join"),l=o("Array.prototype.indexOf"),u=o("Array.prototype.splice"),d=o("Array.prototype.sort"),f=function(e,t){for(var n="",r=0;r<e;r+=1)n+=t;return n},p=function(e,t,n){return n};e.exports=function(e){var t=arguments.length>1?arguments[1]:void 0,n=t&&t.space||"";"number"==typeof n&&(n=f(n," "));var o=!!t&&"boolean"==typeof t.cycles&&t.cycles,h=t&&t.replacer?s(t.replacer):p;if(t&&void 0!==t.collapseEmpty&&"boolean"!=typeof t.collapseEmpty)throw new TypeError("`collapseEmpty` must be a boolean, if provided");var b=!!t&&t.collapseEmpty,y="function"==typeof t?t:t&&t.cmp,m=y&&function(e){var t=y.length>2&&function(t){return e[t]};return function(n,r){return y({key:n,value:e[n]},{key:r,value:e[r]},t?{__proto__:null,get:t}:void 0)}},g=[];return function e(t,s,p,y){var w=n?"\n"+f(y,n):"",v=n?": ":":";if(p&&p.toJSON&&"function"==typeof p.toJSON&&(p=p.toJSON()),void 0!==(p=h(t,s,p))){if("object"!=typeof p||null===p)return r(p);var E=function(e,t){return b&&0===e.length?t:("[]"===t?"[":"{")+c(e,",")+w+("[]"===t?"]":"}")};if(i(p)){for(var x=[],S=0;S<p.length;S++){var T=e(p,S,p[S],y+1)||r(null);x[x.length]=w+n+T}return E(x,"[]")}if(-1!==l(g,p)){if(o)return r("__cycle__");throw new TypeError("Converting circular structure to JSON")}g[g.length]=p;var A=d(a(p),m&&m(p));for(x=[],S=0;S<A.length;S++){var _=e(p,s=A[S],p[s],y+1);if(_){var C=r(s)+v+_;x[x.length]=w+n+C}}return u(g,l(g,p),1),E(x,"{}")}}({"":e},"",e,0)}},5339:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(14323),i=n(32634),a=n(97769),s=n(30666),o=n(16067),c=n(58501);const l=[{inputs:[{internalType:"address",name:"_entryPoint",type:"address"},{internalType:"bytes",name:"initCode",type:"bytes"}],stateMutability:"payable",type:"constructor"}];r.C;const u=async(e,t)=>{const{initCode:n,entryPointAddress:r,factory:u,factoryData:d}=t;if(!n&&!u&&!d)throw new Error("Either `initCode` or `factory` and `factoryData` must be provided");const f=n||(0,s.xW)([u,d]),{data:p}=await(0,c.T)(e,o.T,"call")({data:(0,a.m)({abi:l,bytecode:"0x60806040526102a28038038091610015826100ae565b6080396040816080019112610093576080516001600160a01b03811681036100935760a0516001600160401b0381116100935782609f82011215610093578060800151610061816100fc565b9361006f60405195866100d9565b81855260a082840101116100935761008e9160a0602086019101610117565b610196565b600080fd5b634e487b7160e01b600052604160045260246000fd5b6080601f91909101601f19168101906001600160401b038211908210176100d457604052565b610098565b601f909101601f19168101906001600160401b038211908210176100d457604052565b6001600160401b0381116100d457601f01601f191660200190565b60005b83811061012a5750506000910152565b818101518382015260200161011a565b6040916020825261015a8151809281602086015260208686019101610117565b601f01601f1916010190565b3d15610191573d90610177826100fc565b9161018560405193846100d9565b82523d6000602084013e565b606090565b600091908291826040516101cd816101bf6020820195639b249f6960e01b87526024830161013a565b03601f1981018352826100d9565b51925af16101d9610166565b906102485760048151116000146101f7576024015160005260206000f35b60405162461bcd60e51b8152602060048201526024808201527f67657453656e64657241646472657373206661696c656420776974686f7574206044820152636461746160e01b6064820152608490fd5b60405162461bcd60e51b815260206004820152602b60248201527f67657453656e6465724164647265737320646964206e6f74207265766572742060448201526a185cc8195e1c1958dd195960aa1b6064820152608490fdfe",args:[r,f]})});if(!p)throw new Error("Failed to get sender address");return(0,i.n)([{type:"address"}],p)[0]}},5731:e=>{"use strict";e.exports=SyntaxError},6095:e=>{"use strict";e.exports=Function.prototype.apply},6122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.getJsonSize=t.getSafeJson=t.isValidJson=t.JsonStruct=t.UnsafeJsonStruct=t.exactOptional=t.object=void 0;const r=n(87093),i=n(15482),a=n(26556);function s({path:e,branch:t}){const n=e[e.length-1];return(0,a.hasProperty)(t[t.length-2],n)}function o(e){return new r.Struct({...e,type:`optional ${e.type}`,validator:(t,n)=>!s(n)||e.validator(t,n),refiner:(t,n)=>!s(n)||e.refiner(t,n)})}function c(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!c(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!c(n[e][1])){t=!1;break}return t}return!1}function l(e){return(0,r.create)(e,t.JsonStruct)}t.object=e=>(0,r.object)(e),t.exactOptional=o,t.UnsafeJsonStruct=(0,r.define)("JSON",e=>c(e)),t.JsonStruct=(0,r.coerce)(t.UnsafeJsonStruct,(0,r.refine)((0,r.any)(),"JSON",e=>(0,r.is)(e,t.UnsafeJsonStruct)),e=>JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t}))),t.isValidJson=function(e){try{return l(e),!0}catch{return!1}},t.getSafeJson=l,t.getJsonSize=function(e){(0,i.assertStruct)(e,t.JsonStruct,"Invalid JSON value");const n=JSON.stringify(e);return(new TextEncoder).encode(n).byteLength},t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,r.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),t.JsonRpcErrorStruct=(0,t.object)({code:(0,r.integer)(),message:(0,r.string)(),data:o(t.JsonStruct),stack:o((0,r.string)())}),t.JsonRpcParamsStruct=(0,r.union)([(0,r.record)((0,r.string)(),t.JsonStruct),(0,r.array)(t.JsonStruct)]),t.JsonRpcRequestStruct=(0,t.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,r.string)(),params:o(t.JsonRpcParamsStruct)}),t.JsonRpcNotificationStruct=(0,t.object)({jsonrpc:t.JsonRpcVersionStruct,method:(0,r.string)(),params:o(t.JsonRpcParamsStruct)}),t.isJsonRpcNotification=function(e){return(0,r.is)(e,t.JsonRpcNotificationStruct)},t.assertIsJsonRpcNotification=function(e,n){(0,i.assertStruct)(e,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",n)},t.isJsonRpcRequest=function(e){return(0,r.is)(e,t.JsonRpcRequestStruct)},t.assertIsJsonRpcRequest=function(e,n){(0,i.assertStruct)(e,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",n)},t.PendingJsonRpcResponseStruct=(0,r.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,t.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,t.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,r.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]),t.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,t.PendingJsonRpcResponseStruct)},t.assertIsPendingJsonRpcResponse=function(e,n){(0,i.assertStruct)(e,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",n)},t.isJsonRpcResponse=function(e){return(0,r.is)(e,t.JsonRpcResponseStruct)},t.assertIsJsonRpcResponse=function(e,n){(0,i.assertStruct)(e,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",n)},t.isJsonRpcSuccess=function(e){return(0,r.is)(e,t.JsonRpcSuccessStruct)},t.assertIsJsonRpcSuccess=function(e,n){(0,i.assertStruct)(e,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",n)},t.isJsonRpcFailure=function(e){return(0,r.is)(e,t.JsonRpcFailureStruct)},t.assertIsJsonRpcFailure=function(e,n){(0,i.assertStruct)(e,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",n)},t.isJsonRpcError=function(e){return(0,r.is)(e,t.JsonRpcErrorStruct)},t.assertIsJsonRpcError=function(e,n){(0,i.assertStruct)(e,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",n)},t.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}},6263:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,(n=t.Duration||(t.Duration={}))[n.Millisecond=1]="Millisecond",n[n.Second=1e3]="Second",n[n.Minute=6e4]="Minute",n[n.Hour=36e5]="Hour",n[n.Day=864e5]="Day",n[n.Week=6048e5]="Week",n[n.Year=31536e6]="Year";const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};t.inMilliseconds=function(e,t){return r(e,"count"),e*t},t.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}},6529:(e,t,n)=>{"use strict";n.d(t,{DA:()=>s,eU:()=>a,ub:()=>o});var r=n(11038),i=n(25082);function a(e){return(t,n,r,i)=>"eth_chainId"===t.method?(n.result=e,i()):r()}function s(e){return(t,n,r,i)=>"eth_provider_config"===t.method?(n.result=e,i()):r()}function o(e){const{chainId:t,rpcTarget:n}=e,o=(0,r.N)({rpcTarget:n});return{networkMiddleware:(0,i.Vv)([a(t),s(e),o]),fetchMiddleware:o}}},6577:(e,t,n)=>{"use strict";function r(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}n.d(t,{e:()=>r})},6619:(e,t,n)=>{"use strict";n.d(t,{RZ:()=>d});var r=n(30666);function i(e){return!!e&&"object"==typeof e&&"BYTES_PER_ELEMENT"in e&&1===e.BYTES_PER_ELEMENT&&"Uint8Array"===e.constructor.name}var a=n(63577),s=n(65846),o=n(62421),c=n(54280),l=n(19555),u=n(89962);function d(e){return"CREATE2"===e.opcode?function(e){const t=(0,o.ZJ)((0,u.b)(e.from)),n=(0,a.eV)(i(e.salt)?e.salt:(0,o.ZJ)(e.salt),{size:32}),c="bytecodeHash"in e?i(e.bytecodeHash)?e.bytecodeHash:(0,o.ZJ)(e.bytecodeHash):(0,l.S)(e.bytecode,"bytes");return(0,u.b)((0,s.di)((0,l.S)((0,r.xW)([(0,o.ZJ)("0xff"),t,n,c])),12))}(e):function(e){const t=(0,o.ZJ)((0,u.b)(e.from));let n=(0,o.ZJ)(e.nonce);return 0===n[0]&&(n=new Uint8Array([])),(0,u.b)(`0x${(0,l.S)((0,c.EQ)([t,n],"bytes")).slice(26)}`)}(e)}},6749:(e,t,n)=>{"use strict";const r=n(61253),i=n(29668);e.exports=(e,t,n)=>{let a=null,s=null,o=null;try{o=new i(t,n)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(a&&1!==s.compare(e)||(a=e,s=new r(a,n)))}),a}},6972:(e,t,n)=>{"use strict";n.d(t,{x:()=>d});var r=n(98158),i=n(68711),a=n(49521),s=n(26358),o=n(63400),c=n(80617),l=n(32073),u=n(18963);class d extends i.C{constructor(e){super(),(0,r.A)(this,"connectorData",{}),(0,r.A)(this,"isInjected",void 0),(0,r.A)(this,"icon",void 0),(0,r.A)(this,"coreOptions",void 0),(0,r.A)(this,"rehydrated",!1),(0,r.A)(this,"connectorNamespace",void 0),(0,r.A)(this,"type",void 0),(0,r.A)(this,"name",void 0),(0,r.A)(this,"status",void 0),this.coreOptions=e.coreOptions}get connected(){return c.x.includes(this.status)}get canAuthorize(){return c.W.includes(this.status)}checkConnectionRequirements(){if((this.name!==o.LZ.WALLET_CONNECT_V2||this.status!==l.bo.CONNECTING)&&(this.name!==o.LZ.METAMASK||this.isInjected||this.status!==l.bo.CONNECTING)){if(this.status===l.bo.CONNECTING)throw s.il.notReady("Already connecting");if(this.connected)throw s.T7.connectionError("Already connected");if(this.status!==l.bo.READY)throw s.T7.connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements({chainConfig:e}){if(!this.coreOptions.clientId)throw s.il.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!e)throw s.il.invalidParams("chainConfig is required before initialization");if(!e.rpcTarget&&e.chainNamespace!==u.l.OTHER)throw s.il.invalidParams("rpcTarget is required in chainConfig");if(!e.chainId&&e.chainNamespace!==u.l.OTHER)throw s.il.invalidParams("chainID is required in chainConfig");if(this.connectorNamespace!==a.R.MULTICHAIN&&this.connectorNamespace!==e.chainNamespace)throw s.il.invalidParams("Connector doesn't support this chain namespace");if(this.status!==l.bo.NOT_READY){if(this.connected)throw s.il.notReady("Already connected");if(this.status===l.bo.READY)throw s.il.notReady("Connector is already initialized")}}checkDisconnectionRequirements(){if(!this.connected)throw s.T7.disconnectionError("Not connected with wallet")}checkSwitchChainRequirements(e,t=!1){if(!t&&!this.provider)throw s.T7.notConnectedError("Not connected with wallet.");if(!this.coreOptions.chains)throw s.il.invalidParams("chainConfigs is required");if(!this.coreOptions.chains.some(t=>t.chainId===e.chainId&&(t.chainNamespace===this.connectorNamespace||this.connectorNamespace===a.R.MULTICHAIN)))throw s.il.invalidParams("Invalid chainId")}updateConnectorData(e){this.connectorData=e,this.emit(l.qM.CONNECTOR_DATA_UPDATED,{connectorName:this.name,data:e})}}},6998:(e,t,n)=>{"use strict";t.parse=n(36921),t.stringify=n(99191)},7131:(e,t,n)=>{"use strict";var r=t;r.base=n(85174),r.short=n(60277),r.mont=n(63245),r.edwards=n(21547)},7645:(e,t,n)=>{"use strict";n.d(t,{c:()=>ce});var r=n(69740),i=n(98158),a=n(90785),s=n(30184),o=n(42558),c=n(39610),l=n(10286),u=n(91959),d=n(19555),f=n(58470),p=n(30666),h=n(63577),b=n(38903),y=n(79756),m=n(6619),g=n(46702),w=n(96943),v=n(89962),E=n(65846),x=n(62421),S=n(35682),T=n(11795),A=n(98844),_=n(40145),C=n(50327),k=n(58501),I=n(35864),P=n(21283),O=n(51503),M=n(62266),R=n(34052),N=n(73619),L=n(32634);const D=e=>{e.sort((e,t)=>e.signer.toLowerCase().localeCompare(t.signer.toLowerCase()));let t="0x",n="";for(const r of e)if(r.dynamic){const i=(65*e.length+n.length/2).toString(16).padStart(64,"0"),a=(r.data.slice(2).length/2).toString(16).padStart(64,"0");t+=`${r.signer.slice(2).padStart(64,"0")}${i}00`,n+=`${a}${r.data.slice(2)}`}else t+=r.data.slice(2);return t+=n,t},B=async({owner:e,hash:t})=>{const{signature:n,webauthn:r}=await e.sign({hash:t}),i=N.aD(n),a=r.clientDataJSON.match(/^\{"type":"webauthn.get","challenge":"[A-Za-z0-9\-_]{43}",(.*)\}$/);if(!a)throw new Error("challenge not found in client data JSON");const[,s]=a;return(0,f.h)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],[r.authenticatorData,s,[BigInt(i.r),BigInt(i.s)]])};async function j(e){const{chainId:t,entryPoint:n,validAfter:r=0,validUntil:i=0,safe4337ModuleAddress:a,version:s,owners:l,signatures:u,account:d,...y}=e,{safe4337ModuleAddress:m}=ie(s,n.version,{safe4337ModuleAddress:a}),g={safe:y.sender,callData:y.callData,nonce:y.nonce,initCode:y.initCode??"0x",maxFeePerGas:y.maxFeePerGas,maxPriorityFeePerGas:y.maxPriorityFeePerGas,preVerificationGas:y.preVerificationGas,verificationGasLimit:y.verificationGasLimit,callGasLimit:y.callGasLimit,paymasterAndData:y.paymasterAndData??"0x",validAfter:r,validUntil:i,entryPoint:n.address};if("initCode"in y&&(g.paymasterAndData=y.paymasterAndData??"0x"),"factory"in y){if(y.factory&&y.factoryData&&(g.initCode=(0,p.aP)([y.factory,y.factoryData])),!y.sender)throw new Error("Sender is required");g.paymasterAndData=(w={...y,sender:y.sender}).paymaster?(0,p.xW)([w.paymaster,(0,h.eV)((0,b.nj)(w.paymasterVerificationGasLimit||BigInt(0)),{size:16}),(0,h.eV)((0,b.nj)(w.paymasterPostOpGasLimit||BigInt(0)),{size:16}),w.paymasterData||"0x"]):"0x"}var w;const v=te(d)?d:await(0,R.F)({owner:d}),E=te(v)?e.safeWebAuthnSharedSignerAddress:v.address;if(!E)throw new Error("no signer found");let x=[];if(u)try{x=(0,L.n)([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],u)[0]}catch{x=(0,L.n)([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"}],name:"signatures",type:"tuple[]"}],u)[0].map(e=>({...e,dynamic:!1}))}const S=[...x,{signer:E,dynamic:te(v),data:await(async()=>{if(te(v)){const e=(0,o.Zh)({domain:{chainId:t,verifyingContract:m},types:"0.6"===n.version?G:Y,primaryType:"SafeOp",message:g});return B({owner:v,hash:e})}return v.signTypedData({domain:{chainId:t,verifyingContract:m},types:"0.6"===n.version?G:Y,primaryType:"SafeOp",message:g})})()}];return S.length!==l.length?(0,f.h)([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],[S]):(0,c.P)(["uint48","uint48","bytes"],[r,i,D(S)])}const U=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],F=[{type:"function",name:"initSafe7579",inputs:[{name:"safe7579",type:"address",internalType:"address"},{name:"executors",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"fallbacks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"hooks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"attesters",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint8",internalType:"uint8"}],outputs:[],stateMutability:"nonpayable"}],$=[{type:"function",name:"preValidationSetup",inputs:[{name:"initHash",type:"bytes32",internalType:"bytes32"},{name:"to",type:"address",internalType:"address"},{name:"preInit",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],z=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],H=[{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"}],q=[{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"}],K=[{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],W=[{type:"function",name:"setupSafe",inputs:[{name:"initData",type:"tuple",internalType:"struct Safe7579Launchpad.InitData",components:[{name:"singleton",type:"address",internalType:"address"},{name:"owners",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint256",internalType:"uint256"},{name:"setupTo",type:"address",internalType:"address"},{name:"setupData",type:"bytes",internalType:"bytes"},{name:"safe7579",type:"address",internalType:"contract ISafe7579"},{name:"validators",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"}],V=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"}],G={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint256",name:"callGasLimit"},{type:"uint256",name:"verificationGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint256",name:"maxFeePerGas"},{type:"uint256",name:"maxPriorityFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},Y={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint128",name:"verificationGasLimit"},{type:"uint128",name:"callGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint128",name:"maxPriorityFeePerGas"},{type:"uint128",name:"maxFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},J={"1.4.1":{.6:{SAFE_MODULE_SETUP_ADDRESS:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",SAFE_4337_MODULE_ADDRESS:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2"},.7:{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}},"1.5.0":{.7:{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x14F2982D601c9458F93bd70B218933A6f8165e7b",SAFE_SINGLETON_ADDRESS:"0xFf51A5898e281Db6DfC7855790607438dF2ca44b",MULTI_SEND_ADDRESS:"0x218543288004CD07832472D464648173c77D7eB7",MULTI_SEND_CALL_ONLY_ADDRESS:"0xA83c336B20401Af773B6219BA5027174338D1836",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}}},Z=(e,t)=>{let n=Number.parseInt(t.slice(-2),16);if(![0,1,27,28].includes(n))throw new Error("Invalid signature");return"eth_sign"===e&&(n<27&&(n+=27),n+=4),"eth_signTypedData"===e&&n<27&&(n+=27),t.slice(0,-2)+n.toString(16)},X=e=>{const t=e;return"string"==typeof t||t.raw?(0,s.A)(t):(0,o.Zh)(e)},Q=e=>{const t=`0x${e.map(e=>(e=>(0,c.P)(["uint8","address","uint256","uint256","bytes"],[e.operation,e.to,e.value,BigInt(e.data.slice(2).length/2),e.data]).slice(2))(e)).join("")}`;return(0,l.p)({abi:U,functionName:"multiSend",args:[t]})},ee=({safe4337ModuleAddress:e,safeSingletonAddress:t,erc7579LaunchpadAddress:n,safeWebAuthnSharedSignerAddress:r,owners:i,validators:a,executors:s,fallbacks:o,hooks:c,attesters:u,threshold:d,attestersThreshold:f})=>({singleton:t,owners:i.map(e=>{if("type"in e&&"webAuthn"===e.type){if(!r)throw new Error("safeWebAuthnSharedSignerAddress not defined");return r}if("address"in e&&e.address)return e.address;throw new Error("Incorrect owner found")}),threshold:d,setupTo:n,setupData:(0,l.p)({abi:F,functionName:"initSafe7579",args:[e,s.map(e=>({module:e.address,initData:e.context})),o.map(e=>({module:e.address,initData:e.context})),c.map(e=>({module:e.address,initData:e.context})),u.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),f]}),safe7579:e,validators:a}),te=e=>"type"in e&&"webAuthn"===e.type,ne=async({owners:e,threshold:t,safeModuleSetupAddress:n,safe4337ModuleAddress:r,safeWebAuthnSharedSignerAddress:i,safeP256VerifierAddress:s,multiSendAddress:o,safeSingletonAddress:c,erc7579LaunchpadAddress:p,setupTransactions:h=[],safeModules:b=[],validators:y=[],executors:m=[],fallbacks:g=[],hooks:w=[],attesters:v=[],attestersThreshold:E=0,paymentToken:x=u.Xd,payment:S=BigInt(0),paymentReceiver:T=u.Xd})=>{if(p){const n=ee({safe4337ModuleAddress:r,safeSingletonAddress:c,safeWebAuthnSharedSignerAddress:i,erc7579LaunchpadAddress:p,owners:e,validators:y,executors:m,fallbacks:g,threshold:t,hooks:w,attesters:v,attestersThreshold:E}),a=(0,d.S)((0,f.h)([{internalType:"address",name:"singleton",type:"address"},{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256",name:"threshold",type:"uint256"},{internalType:"address",name:"setupTo",type:"address"},{internalType:"bytes",name:"setupData",type:"bytes"},{internalType:"contract ISafe7579",name:"safe7579",type:"address"},{internalType:"struct ModuleInit[]",name:"validators",type:"tuple[]",components:[{internalType:"address",name:"module",type:"address"},{internalType:"bytes",name:"initData",type:"bytes"}]}],[n.singleton,n.owners,n.threshold,n.setupTo,n.setupData,n.safe7579,n.validators.map(e=>({module:e.address,initData:e.context}))]));return(0,l.p)({abi:$,functionName:"preValidationSetup",args:[a,u.Xd,"0x"]})}const A=e.reduce((e,t)=>te(t)?t:e,void 0),_=e.map(e=>{if(te(e)){if(!i)throw new Error("safeWebAuthnSharedSignerAddress not defined");return i}if("address"in e&&e.address)return e.address;throw new Error("Incorrect owner found")}),C=[{to:n,data:(0,l.p)({abi:z,functionName:"enableModules",args:[[r,...b]]}),value:BigInt(0),operation:1}];if(A&&i&&s){const e=a.aD(A.publicKey);C.push({to:i,data:(0,l.p)({abi:H,functionName:"configure",args:[{x:e.x,y:e.y,verifiers:BigInt(s)}]}),value:BigInt(0),operation:1})}for(const e of h)C.push({...e,operation:0});const k=Q(C);return(0,l.p)({abi:q,functionName:"setup",args:[_,t,o,k,r,x,S,T]})},re=async({owners:e,threshold:t,safeModuleSetupAddress:n,safe4337ModuleAddress:r,safeSingletonAddress:i,erc7579LaunchpadAddress:a,safeWebAuthnSharedSignerAddress:s,safeP256VerifierAddress:o,multiSendAddress:c,paymentToken:u,payment:d,paymentReceiver:f,saltNonce:p=BigInt(0),setupTransactions:h=[],safeModules:b=[],validators:y=[],executors:m=[],fallbacks:g=[],hooks:w=[],attesters:v=[],attestersThreshold:E=0})=>{const x=await ne({owners:e,threshold:t,safeModuleSetupAddress:n,safeWebAuthnSharedSignerAddress:s,safeP256VerifierAddress:o,safe4337ModuleAddress:r,multiSendAddress:c,setupTransactions:h,safeSingletonAddress:i,safeModules:b,erc7579LaunchpadAddress:a,validators:y,executors:m,fallbacks:g,hooks:w,attesters:v,attestersThreshold:E,paymentToken:u,payment:d,paymentReceiver:f});return(0,l.p)({abi:K,functionName:"createProxyWithNonce",args:[a??i,x,p]})},ie=(e,t,{addModuleLibAddress:n,safeModuleSetupAddress:r,safe4337ModuleAddress:i,safeProxyFactoryAddress:a,safeSingletonAddress:s,multiSendAddress:o,multiSendCallOnlyAddress:c,safeWebAuthnSharedSignerAddress:l,safeP256VerifierAddress:u})=>{const d=J[e][t];if(!d)throw new Error(`Safe version ${e} does not support EntryPoint version ${t}`);return{safeModuleSetupAddress:r??n??d.SAFE_MODULE_SETUP_ADDRESS,safe4337ModuleAddress:i??d.SAFE_4337_MODULE_ADDRESS,safeProxyFactoryAddress:a??d.SAFE_PROXY_FACTORY_ADDRESS,safeSingletonAddress:s??d.SAFE_SINGLETON_ADDRESS,multiSendAddress:o??d.MULTI_SEND_ADDRESS,multiSendCallOnlyAddress:c??d.MULTI_SEND_CALL_ONLY_ADDRESS,safeWebAuthnSharedSignerAddress:l??d.WEB_AUTHN_SHARED_SIGNER_ADDRESS,safeP256VerifierAddress:u??d.SAFE_P256_VERIFIER_ADDRESS}};function ae(e){return void 0!==e.erc7579LaunchpadAddress}const se=[{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}];var oe=n(92336);class ce{constructor(e){(0,i.A)(this,"name",oe.o0.SAFE),(0,i.A)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n,i;return async function(e){const{client:t,owners:n,address:r,threshold:i=BigInt(n.length),version:a,safe4337ModuleAddress:s,safeProxyFactoryAddress:h,safeSingletonAddress:b,erc7579LaunchpadAddress:N,saltNonce:L=BigInt(0),validUntil:F=0,validAfter:$=0,nonceKey:z,paymentToken:H,payment:q,paymentReceiver:K,onchainIdentifier:G}=e,Y=await Promise.all(n.map(async e=>"account"in e?e.account:"request"in e?(0,R.F)({owner:e}):e)),J=await Promise.all(n.filter(e=>"type"in e&&"local"===e.type||"request"in e||"account"in e||!!te(e)).map(e=>te(e)?e:(0,R.F)({owner:e}))),oe={address:e.entryPoint?.address??S.oi,abi:"0.6"===(e.entryPoint?.version??"0.7")?T.hw:T.qe,version:e.entryPoint?.version??"0.7"};let ce,le,ue,de,fe=[],pe=[],he=[],be=[],ye=[],me=[],ge=0;ae(e)||(ce=e.safeModuleSetupAddress,le=e.multiSendAddress,ue=e.multiSendCallOnlyAddress,de=e.safeModules,fe=e.setupTransactions??[]),ae(e)&&(pe=e.validators??[],he=e.executors??[],be=e.fallbacks??[],ye=e.hooks??[],me=e.attesters??[],ge=e.attestersThreshold??0);const{safeModuleSetupAddress:we,safe4337ModuleAddress:ve,safeProxyFactoryAddress:Ee,safeSingletonAddress:xe,multiSendAddress:Se,multiSendCallOnlyAddress:Te,safeWebAuthnSharedSignerAddress:Ae,safeP256VerifierAddress:_e}=ie(a,oe.version,{safeModuleSetupAddress:ce,safe4337ModuleAddress:s,safeProxyFactoryAddress:h,safeSingletonAddress:b,multiSendAddress:le,multiSendCallOnlyAddress:ue,safeWebAuthnSharedSignerAddress:e.safeWebAuthnSharedSignerAddress,safeP256VerifierAddress:e.safeP256VerifierAddress});let Ce,ke=r;const Ie=async()=>Ce||(Ce=t.chain?t.chain.id:await(0,k.T)(t,C.T,"getChainId")({}),Ce);return(0,A.q)({client:t,entryPoint:oe,getFactoryArgs:async()=>({factory:Ee,factoryData:await re({owners:Y,threshold:i,safeModuleSetupAddress:we,safe4337ModuleAddress:ve,safeSingletonAddress:xe,safeWebAuthnSharedSignerAddress:Ae,safeP256VerifierAddress:_e,multiSendAddress:Se,erc7579LaunchpadAddress:N,saltNonce:L,setupTransactions:fe,safeModules:de,validators:pe,executors:he,fallbacks:be,hooks:ye,attesters:me,attestersThreshold:ge,paymentToken:H,payment:q,paymentReceiver:K})}),getAddress:async()=>ke||(ke=await(async({client:e,owners:t,threshold:n,safeModuleSetupAddress:r,safe4337ModuleAddress:i,safeProxyFactoryAddress:a,safeSingletonAddress:s,multiSendAddress:o,safeWebAuthnSharedSignerAddress:l,safeP256VerifierAddress:u,erc7579LaunchpadAddress:f,paymentToken:p,payment:h,paymentReceiver:b,setupTransactions:g=[],safeModules:w=[],saltNonce:v=BigInt(0),validators:E=[],executors:x=[],fallbacks:S=[],hooks:T=[],attesters:A=[],attestersThreshold:C=0})=>{const k=await(0,_.J)(e,{abi:se,address:a,functionName:"proxyCreationCode"}),I=await ne({owners:t,threshold:n,safeModuleSetupAddress:r,safe4337ModuleAddress:i,safeWebAuthnSharedSignerAddress:l,safeP256VerifierAddress:u,multiSendAddress:o,setupTransactions:g,safeSingletonAddress:s,safeModules:w,erc7579LaunchpadAddress:f,validators:E,executors:x,fallbacks:S,hooks:T,attesters:A,attestersThreshold:C,paymentToken:p,payment:h,paymentReceiver:b}),P=(0,c.P)(["bytes","uint256"],[k,(0,y.uU)(f??s)]),O=(0,d.S)((0,c.P)(["bytes32","uint256"],[(0,d.S)((0,c.P)(["bytes"],[I])),v]));return(0,m.RZ)({from:a,salt:O,bytecode:P,opcode:"CREATE2"})})({client:t,owners:Y,threshold:i,safeModuleSetupAddress:we,safe4337ModuleAddress:ve,safeProxyFactoryAddress:Ee,safeSingletonAddress:xe,safeWebAuthnSharedSignerAddress:Ae,safeP256VerifierAddress:_e,multiSendAddress:Se,erc7579LaunchpadAddress:N,saltNonce:L,setupTransactions:fe,safeModules:de,validators:pe,executors:he,fallbacks:be,hooks:ye,attesters:me,attestersThreshold:ge,paymentToken:H,payment:q,paymentReceiver:K}),ke),async encodeCalls(e){const n=e.length>1;if(N){const r=await(async(e,t)=>{const n=await(0,M.Q)(e,{address:t});return Boolean(n)})(t,await this.getAddress());if(!r){const t=ee({safe4337ModuleAddress:ve,safeSingletonAddress:xe,erc7579LaunchpadAddress:N,safeWebAuthnSharedSignerAddress:Ae,owners:Y,threshold:i,validators:pe,executors:he,fallbacks:be,hooks:ye,attesters:me,attestersThreshold:ge});return(0,l.p)({abi:W,functionName:"setupSafe",args:[{...t,validators:t.validators.map(e=>({module:e.address,initData:e.context})),callData:(0,O.m)({mode:{type:n?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e})}]})}return(0,O.m)({mode:{type:n?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e})}let r,a,s,o=0;if(n)r=Te,a=BigInt(0),s=Q(e.map(e=>({to:e.to,value:e.value??0n,data:e.data??"0x",operation:0}))),o=1;else{const t=0===e.length?void 0:e[0];if(!t)throw new Error("No calls to encode");r=t.to,s=t.data??"0x",a=t.value??0n}const c=(0,l.p)({abi:V,functionName:"executeUserOpWithErrorString",args:[r,a,s,o]});return G?(0,p.xW)([c,G]):c},async decodeCalls(e){try{const t=(0,g.J)({abi:W,data:e});return(0,P.w)(t.args[0].callData).callData}catch(e){}try{return(0,P.w)(e).callData}catch(e){}const t=(0,g.J)({abi:V,data:e}),n=t.args[0],r=t.args[1],i=t.args[2];if(n===Te){const e=(0,g.J)({abi:U,data:i}).args[0],t=[];let n=0;const r=(0,w.E)(e);for(;n<r;){n+=1;const r=(0,v.b)((0,E.di)(e,n,n+20));n+=20;const i=BigInt((0,E.di)(e,n,n+32));n+=32;const a=Number(BigInt((0,E.di)(e,n,n+32))*BigInt(2));n+=32;const s=(0,E.di)(e,n,n+a);n+=a,t.push({to:r,value:i,data:s})}return t}return[{to:n,value:r,data:i}]},async getNonce(e){return(0,I.p)(t,{address:await this.getAddress(),entryPointAddress:oe.address,key:z??e?.key})},async getStubSignature(){const e=Y.map(e=>{let t=Ae,n=!0,r="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c";if(te(e)?r=(0,f.h)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'"origin":"http://somelargdomainheresothatwehaveenoughbytes.com","crossOrigin":false',[44941127272049826721201904734628716258498742255959991581049806490182030242267n,9910254599581058084911561569808925251374718953855182016200087235935345969636n]]):(t=e.address,n=!1),!t)throw new Error("No signer found");return{signer:t,data:r,dynamic:n}});return(0,c.P)(["uint48","uint48","bytes"],[0,0,D(e)])},async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){if(J.length<Number(i))throw new Error("Owners length mismatch, currently not supported");if(N&&"1.5.0"===a)throw new Error("Safe 7579 & version 1.5.0 are not compatible");const t=(0,o.Zh)({domain:{chainId:await Ie(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:X(e)}}),n=await Promise.all(J.map(async e=>{let n,r=Ae,i=!0;if(te(e)?n=await B({owner:e,hash:t}):(r=e.address,n=Z("eth_sign",await e.signMessage({message:{raw:(0,x.ZJ)(t)}})),i=!1),!r)throw new Error("no signer found");return{signer:r,dynamic:i,data:n}})),r=D(n);return N?(0,p.xW)([u.Xd,r]):r},async signTypedData(e){if(J.length<Number(i))throw new Error("Owners length mismatch, currently not supported");if(N&&"1.5.0"===a)throw new Error("Safe 7579 & version 1.5.0 are not compatible");const t=await Promise.all(J.map(async t=>{let n,r=Ae,i=!0;if(te(t)){const r=(0,o.Zh)({domain:{chainId:await Ie(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:X(e)}});n=await B({owner:t,hash:r})}else r=t.address,n=Z("eth_signTypedData",await t.signTypedData({domain:{chainId:await Ie(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:X(e)}})),i=!1;if(!r)throw new Error("no signer found");return{signer:r,dynamic:i,data:n}})),n=D(t);return N?(0,p.xW)([u.Xd,n]):n},async signUserOperation(e){const{chainId:t=await Ie(),...n}=e;if(J.length<Number(i))throw new Error("Owners length mismatch use SafeSmartAccount.signUserOperation from `permissionless/accounts/safe`");let r;for(const e of J)r=await j({...n,version:a,entryPoint:oe,owners:J,account:e,chainId:t,signatures:r,validAfter:$,validUntil:F,safe4337ModuleAddress:ve,safeWebAuthnSharedSignerAddress:Ae});if(!r)throw new Error("No signatures found");return r}})}((0,r.A)((0,r.A)((0,r.A)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||S.oi,version:(null===(n=this.options)||void 0===n||null===(n=n.entryPoint)||void 0===n?void 0:n.version)||"0.7"},version:(null===(i=this.options)||void 0===i?void 0:i.version)||"1.4.1"},e),{},{owners:[e.walletClient],client:e.client}))}}},7658:(e,t,n)=>{"use strict";n.d(t,{CL:()=>c,D5:()=>u,Di:()=>f,G1:()=>P,Gi:()=>l,L5:()=>A,MI:()=>M,RV:()=>x,Sf:()=>E,WT:()=>_,XU:()=>o,YW:()=>b,ab:()=>y,bq:()=>d,cg:()=>k,ch:()=>T,hA:()=>p,hl:()=>C,jz:()=>O,qZ:()=>h,s0:()=>m,sV:()=>v,uL:()=>I,vx:()=>w,xQ:()=>g,xq:()=>S});var r=n(14323),i=n(38820);class a extends r.C{constructor(e,{code:t,docsPath:n,metaMessages:r,name:a,shortMessage:s}){super(s,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof i.J8?e.code:t??-1}}class s extends a{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class o extends a{constructor(e){super(e,{code:o.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends a{constructor(e){super(e,{code:c.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class l extends a{constructor(e,{method:t}={}){super(e,{code:l.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class u extends a{constructor(e){super(e,{code:u.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends a{constructor(e){super(e,{code:d.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class f extends a{constructor(e){super(e,{code:f.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class p extends a{constructor(e){super(e,{code:p.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class h extends a{constructor(e){super(e,{code:h.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class b extends a{constructor(e){super(e,{code:b.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class y extends a{constructor(e,{method:t}={}){super(e,{code:y.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class m extends a{constructor(e){super(e,{code:m.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class g extends a{constructor(e){super(e,{code:g.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class w extends s{constructor(e){super(e,{code:w.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class v extends s{constructor(e){super(e,{code:v.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class E extends s{constructor(e,{method:t}={}){super(e,{code:E.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class x extends s{constructor(e){super(e,{code:x.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class S extends s{constructor(e){super(e,{code:S.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class T extends s{constructor(e){super(e,{code:T.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class A extends s{constructor(e){super(e,{code:A.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class _ extends s{constructor(e){super(e,{code:_.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class C extends s{constructor(e){super(e,{code:C.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class k extends s{constructor(e){super(e,{code:k.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class I extends s{constructor(e){super(e,{code:I.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class P extends s{constructor(e){super(e,{code:P.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class O extends s{constructor(e){super(e,{code:O.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class M extends a{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},7748:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var i=r(n(35615)),a=r(n(86362)),s=r(n(87639)),o=n(42265);function c(e,t){o.Facade.call(this,e,t)}t.Group=c,i.default(c,o.Facade);var l=c.prototype;l.action=function(){return"group"},l.type=l.action,l.groupId=o.Facade.field("groupId"),l.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return s.default(e)},l.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();return a.default(t)?t:void 0},l.traits=function(e){var t=this.properties(),n=this.groupId();for(var r in e=e||{},n&&(t.id=n),e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=null==this[r]?this.proxy("traits."+r):this[r]();if(null==i)continue;t[e[r]]=i,delete t[r]}return t},l.name=o.Facade.proxy("traits.name"),l.industry=o.Facade.proxy("traits.industry"),l.employees=o.Facade.proxy("traits.employees"),l.properties=function(){return this.field("traits")||this.field("properties")||{}}},7784:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},7991:(e,t)=>{"use strict";t.byteLength=function(e){var t=o(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,a=o(e),s=a[0],c=a[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),u=0,d=c>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],s=16383,o=0,c=r-i;o<c;o+=s)a.push(l(e,o,o+s>c?c:o+s));return 1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function l(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(c(r));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8011:(e,t,n)=>{"use strict";n.d(t,{secp256k1:()=>_e});var r=n(64639),i=n(97713),a=n(30036);const s=BigInt(0),o=BigInt(1);function c(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function l(e){if(!c(e))throw new Error("Uint8Array expected")}function u(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function d(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function f(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}const p="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,h=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function b(e){if(l(e),p)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=h[e[n]];return t}function y(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function m(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(p)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=y(e.charCodeAt(i)),a=y(e.charCodeAt(i+1));if(void 0===n||void 0===a){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+a}return r}function g(e){return f(b(e))}function w(e){return l(e),f(b(Uint8Array.from(e).reverse()))}function v(e,t){return m(e.toString(16).padStart(2*t,"0"))}function E(e,t){return v(e,t).reverse()}function x(e,t,n){let r;if("string"==typeof t)try{r=m(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!c(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function S(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];l(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const T=e=>"bigint"==typeof e&&s<=e;function A(e,t,n){return T(e)&&T(t)&&T(n)&&t<=e&&e<n}function _(e,t,n,r){if(!A(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const C=e=>(o<<BigInt(e))-o,k=e=>new Uint8Array(e),I=e=>Uint8Array.from(e),P={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||c(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function O(e,t,n={}){const r=(t,n,r)=>{const i=P[n];if("function"!=typeof i)throw new Error("invalid validator function");const a=e[t];if(!(r&&void 0===a||i(a,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+a)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function M(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const a=e(n,...r);return t.set(n,a),a}}const R=BigInt(0),N=BigInt(1),L=BigInt(2),D=BigInt(3),B=BigInt(4),j=BigInt(5),U=BigInt(8);function F(e,t){const n=e%t;return n>=R?n:t+n}function $(e,t,n){let r=e;for(;t-- >R;)r*=r,r%=n;return r}function z(e,t){if(e===R)throw new Error("invert: expected non-zero number");if(t<=R)throw new Error("invert: expected positive modulus, got "+t);let n=F(e,t),r=t,i=R,a=N,s=N,o=R;for(;n!==R;){const e=r/n,t=r%n,c=i-s*e,l=a-o*e;r=n,n=t,i=s,a=o,s=c,o=l}if(r!==N)throw new Error("invert: does not exist");return F(i,t)}function H(e,t){const n=(e.ORDER+N)/B,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function q(e,t){const n=(e.ORDER-j)/U,r=e.mul(t,L),i=e.pow(r,n),a=e.mul(t,i),s=e.mul(e.mul(a,L),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),t))throw new Error("Cannot find square root");return o}const K=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function W(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),a=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),a),r}function V(e,t){const n=(e.ORDER-N)/L,r=e.pow(t,n),i=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!a&&!s)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function G(e,t){void 0!==t&&(0,a.Fe)(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Y(e,t,n=!1,r={}){if(e<=R)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:a}=G(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const o=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:a,MASK:C(i),ZERO:R,ONE:N,create:t=>F(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return R<=t&&t<e},is0:e=>e===R,isOdd:e=>(e&N)===N,neg:t=>F(-t,e),eql:(e,t)=>e===t,sqr:t=>F(t*t,e),add:(t,n)=>F(t+n,e),sub:(t,n)=>F(t-n,e),mul:(t,n)=>F(t*n,e),pow:(e,t)=>function(e,t,n){if(n<R)throw new Error("invalid exponent, negatives unsupported");if(n===R)return e.ONE;if(n===N)return t;let r=e.ONE,i=t;for(;n>R;)n&N&&(r=e.mul(r,i)),i=e.sqr(i),n>>=N;return r}(o,e,t),div:(t,n)=>F(t*z(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>z(t,e),sqrt:r.sqrt||(t=>{return s||(s=(n=e)%B===D?H:n%U===j?q:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-N,n=0;for(;t%L===R;)t/=L,n++;let r=L;const i=Y(e);for(;1===V(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return H;let a=i.pow(r,t);const s=(t+N)/L;return function(e,r){if(e.is0(r))return r;if(1!==V(e,r))throw new Error("Cannot find square root");let i=n,o=e.mul(e.ONE,a),c=e.pow(r,t),l=e.pow(r,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=N<<BigInt(i-t-1),a=e.pow(o,r);i=t,o=e.sqr(a),c=e.mul(c,o),l=e.mul(l,a)}return l}}(n)),s(o,t);var n}),toBytes:e=>n?E(e,a):v(e,a),fromBytes:e=>{if(e.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return n?w(e):g(e)},invertBatch:e=>W(o,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(o)}function J(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Z(e){const t=J(e);return t+Math.ceil(t/2)}const X=BigInt(0),Q=BigInt(1);function ee(e,t){const n=t.negate();return e?n:t}function te(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ne(e,t){te(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:C(e),maxNumber:n,shiftBy:BigInt(e)}}function re(e,t,n){const{windowSize:r,mask:i,maxNumber:a,shiftBy:s}=n;let o=Number(e&i),c=e>>s;o>r&&(o-=a,c+=Q);const l=t*r;return{nextN:c,offset:l+Math.abs(o)-1,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:l}}const ie=new WeakMap,ae=new WeakMap;function se(e){return ae.get(e)||1}function oe(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const c=e.ZERO,l=function(e){let t;for(t=0;e>s;e>>=o,t+=1);return t}(BigInt(i));let u=1;l>12?u=l-3:l>4?u=l-2:l>0&&(u=2);const d=C(u),f=new Array(Number(d)+1).fill(c);let p=c;for(let e=Math.floor((t.BITS-1)/u)*u;e>=0;e-=u){f.fill(c);for(let t=0;t<a;t++){const i=r[t],a=Number(i>>BigInt(e)&d);f[a]=f[a].add(n[t])}let t=c;for(let e=f.length-1,n=c;e>0;e--)n=n.add(f[e]),t=t.add(n);if(p=p.add(t),0!==e)for(let e=0;e<u;e++)p=p.double()}return p}function ce(e){return O(e.Fp,K.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),O(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...G(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function le(e){void 0!==e.lowS&&u("lowS",e.lowS),void 0!==e.prehash&&u("prehash",e.prehash)}class ue extends Error{constructor(e=""){super(e)}}const de={Err:ue,_tlv:{encode:(e,t)=>{const{Err:n}=de;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=d(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?d(i.length/2|128):"";return d(e)+a+i+t},decode(e,t){const{Err:n}=de;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let a=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of s)a=a<<8|e;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=i;const s=t.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=de;if(e<pe)throw new t("integer: negative integers are not allowed");let n=d(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=de;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return g(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=de,i=x("signature",e),{v:a,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=de,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}};function fe(e,t){return b(v(e,t))}const pe=BigInt(0),he=BigInt(1),be=(BigInt(2),BigInt(3)),ye=BigInt(4);function me(e){const t=function(e){const t=ce(e);return O(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r,nByteLength:i,nBitLength:a}=t,s=n.BYTES+1,o=2*n.BYTES+1;function l(e){return F(e,r)}function d(e){return z(e,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:p,weierstrassEquation:h,isWithinCurveOrder:y}=function(e){const t=function(e){const t=ce(e);O(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=t,r=Y(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return S(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,a=n.sqr(e),s=n.mul(a,e);return n.add(n.add(s,n.mul(e,r)),i)}function o(e,t){const r=n.sqr(t),i=s(e);return n.eql(r,i)}if(!o(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(t.a,be),ye),d=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(l,d)))throw new Error("bad curve params: a or b");function f(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:a}=t;if(n&&"bigint"!=typeof e){if(c(e)&&(e=b(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:g(x("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(s=F(s,a)),_("private key",s,he,a),s}function p(e){if(!(e instanceof m))throw new Error("ProjectivePoint expected")}const h=M((e,t)=>{const{px:r,py:i,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:i};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(a));const o=n.mul(r,t),c=n.mul(i,t),l=n.mul(a,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:o,y:c}}),y=M(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");if(!o(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof m)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?m.ZERO:new m(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=W(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(m.fromAffine)}static fromHex(e){const t=m.fromAffine(a(x("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return m.BASE.multiply(f(e))}static msm(e,t){return oe(m,r,e,t)}_setWindowSize(e){E.setWindowSize(this,e)}assertValidity(){y(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){p(e);const{px:t,py:r,pz:i}=this,{px:a,py:s,pz:o}=e,c=n.eql(n.mul(t,o),n.mul(a,i)),l=n.eql(n.mul(r,o),n.mul(s,i));return c&&l}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,be),{px:a,py:s,pz:o}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(a,a),f=n.mul(s,s),p=n.mul(o,o),h=n.mul(a,s);return h=n.add(h,h),u=n.mul(a,o),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(h,c),u=n.mul(i,u),p=n.mul(e,p),h=n.sub(d,p),h=n.mul(e,h),h=n.add(h,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,h),l=n.add(l,d),p=n.mul(s,o),p=n.add(p,p),d=n.mul(p,h),c=n.sub(c,d),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new m(c,l,u)}add(e){p(e);const{px:r,py:i,pz:a}=this,{px:s,py:o,pz:c}=e;let l=n.ZERO,u=n.ZERO,d=n.ZERO;const f=t.a,h=n.mul(t.b,be);let b=n.mul(r,s),y=n.mul(i,o),g=n.mul(a,c),w=n.add(r,i),v=n.add(s,o);w=n.mul(w,v),v=n.add(b,y),w=n.sub(w,v),v=n.add(r,a);let E=n.add(s,c);return v=n.mul(v,E),E=n.add(b,g),v=n.sub(v,E),E=n.add(i,a),l=n.add(o,c),E=n.mul(E,l),l=n.add(y,g),E=n.sub(E,l),d=n.mul(f,v),l=n.mul(h,g),d=n.add(l,d),l=n.sub(y,d),d=n.add(y,d),u=n.mul(l,d),y=n.add(b,b),y=n.add(y,b),g=n.mul(f,g),v=n.mul(h,v),y=n.add(y,g),g=n.sub(b,g),g=n.mul(f,g),v=n.add(v,g),b=n.mul(y,v),u=n.add(u,b),b=n.mul(E,v),l=n.mul(w,l),l=n.sub(l,b),b=n.mul(w,y),d=n.mul(E,d),d=n.add(d,b),new m(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(m.ZERO)}wNAF(e){return E.wNAFCached(this,e,m.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;_("scalar",e,pe,i);const a=m.ZERO;if(e===pe)return a;if(this.is0()||e===he)return this;if(!r||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,e,m.normalizeZ);let{k1neg:s,k1:o,k2neg:c,k2:l}=r.splitScalar(e),u=a,d=a,f=this;for(;o>pe||l>pe;)o&he&&(u=u.add(f)),l&he&&(d=d.add(f)),f=f.double(),o>>=he,l>>=he;return s&&(u=u.negate()),c&&(d=d.negate()),d=new m(n.mul(d.px,r.beta),d.py,d.pz),u.add(d)}multiply(e){const{endo:r,n:i}=t;let a,s;if(_("scalar",e,he,i),r){const{k1neg:t,k1:i,k2neg:o,k2:c}=r.splitScalar(e);let{p:l,f:u}=this.wNAF(i),{p:d,f}=this.wNAF(c);l=E.constTimeNegate(t,l),d=E.constTimeNegate(o,d),d=new m(n.mul(d.px,r.beta),d.py,d.pz),a=l.add(d),s=u.add(f)}else{const{p:t,f:n}=this.wNAF(e);a=t,s=n}return m.normalizeZ([a,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=m.BASE,i=(e,t)=>t!==pe&&t!==he&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,n));return a.is0()?void 0:a}toAffine(e){return h(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===he)return!0;if(n)return n(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===he?this:n?n(m,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return u("isCompressed",e),this.assertValidity(),i(m,this,e)}toHex(e=!0){return u("isCompressed",e),b(this.toRawBytes(e))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:v}=t,E=(T=m,C=w?Math.ceil(v/2):v,{constTimeNegate:ee,hasPrecomputes:e=>1!==se(e),unsafeLadder(e,t,n=T.ZERO){let r=e;for(;t>X;)t&Q&&(n=n.add(r)),r=r.double(),t>>=Q;return n},precomputeWindow(e,t){const{windows:n,windowSize:r}=ne(t,C),i=[];let a=e,s=a;for(let e=0;e<n;e++){s=a,i.push(s);for(let e=1;e<r;e++)s=s.add(a),i.push(s);a=s.double()}return i},wNAF(e,t,n){let r=T.ZERO,i=T.BASE;const a=ne(e,C);for(let e=0;e<a.windows;e++){const{nextN:s,offset:o,isZero:c,isNeg:l,isNegF:u,offsetF:d}=re(n,e,a);n=s,c?i=i.add(ee(u,t[d])):r=r.add(ee(l,t[o]))}return{p:r,f:i}},wNAFUnsafe(e,t,n,r=T.ZERO){const i=ne(e,C);for(let e=0;e<i.windows&&n!==X;e++){const{nextN:a,offset:s,isZero:o,isNeg:c}=re(n,e,i);if(n=a,!o){const e=t[s];r=r.add(c?e.negate():e)}}return r},getPrecomputes(e,t,n){let r=ie.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&ie.set(t,n(r))),r},wNAFCached(e,t,n){const r=se(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=se(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,t){te(t,C),ae.set(e,t),ie.delete(e)}});var T,C;return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:s,isWithinCurveOrder:function(e){return A(e,he,t.n)}}}({...t,toBytes(e,t,r){const i=t.toAffine(),a=n.toBytes(i.x),s=S;return u("isCompressed",r),r?s(Uint8Array.from([t.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==s||2!==r&&3!==r){if(t===o&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+s+", or uncompressed "+o+", got "+t)}{const e=g(i);if(!A(e,he,n.ORDER))throw new Error("Point is not on curve");const t=h(e);let a;try{a=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!=((a&he)===he)&&(a=n.neg(a)),{x:e,y:a}}}});function T(e){return e>r>>he}const P=(e,t,n)=>g(e.slice(t,n));class R{constructor(e,t,n){_("r",e,he,r),_("s",t,he,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=i;return e=x("compactSignature",e,2*t),new R(P(e,0,t),P(e,t,2*t))}static fromDER(e){const{r:t,s:n}=de.toSig(x("DER",e));return new R(t,n)}assertValidity(){}addRecoveryBit(e){return new R(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:a}=this,s=j(x("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const o=2===a||3===a?r+t.n:r;if(o>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=1&a?"03":"02",u=f.fromHex(c+fe(o,n.BYTES)),p=d(o),h=l(-s*p),b=l(i*p),y=f.BASE.multiplyAndAddUnsafe(u,h,b);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return m(this.toDERHex())}toDERHex(){return de.hexFromSig(this)}toCompactRawBytes(){return m(this.toCompactHex())}toCompactHex(){const e=i;return fe(this.r,e)+fe(this.s,e)}}const L={isValidPrivateKey(e){try{return p(e),!0}catch(e){return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const e=Z(t.n);return function(e,t,n=!1){const r=e.length,i=J(t),a=Z(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const s=F(n?w(e):g(e),t-N)+N;return n?E(s,i):v(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=f.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function D(e){if("bigint"==typeof e)return!1;if(e instanceof f)return!0;const r=x("key",e).length,a=n.BYTES,s=a+1,o=2*a+1;return t.allowedPrivateKeyLengths||i===s?void 0:r===s||r===o}const B=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=g(e),n=8*e.length-a;return n>0?t>>BigInt(n):t},j=t.bits2int_modN||function(e){return l(B(e))},U=C(a);function $(e){return _("num < 2^"+a,e,pe,U),v(e,i)}const H={lowS:t.lowS,prehash:!1},q={lowS:t.lowS,prehash:!1};return f.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return f.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(!0===D(e))throw new Error("first arg must be private key");if(!1===D(t))throw new Error("second arg must be public key");return f.fromHex(t).multiply(p(e)).toRawBytes(n)},sign:function(e,r,i=H){const{seed:a,k2sig:s}=function(e,r,i=H){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:s}=t;let{lowS:o,prehash:c,extraEntropy:u}=i;null==o&&(o=!0),e=x("msgHash",e),le(i),c&&(e=x("prehashed msgHash",a(e)));const h=j(e),b=p(r),m=[$(b),$(h)];if(null!=u&&!1!==u){const e=!0===u?s(n.BYTES):u;m.push(x("extraEntropy",e))}const g=S(...m),w=h;return{seed:g,k2sig:function(e){const t=B(e);if(!y(t))return;const n=d(t),r=f.BASE.multiply(t).toAffine(),i=l(r.x);if(i===pe)return;const a=l(n*l(w+i*b));if(a===pe)return;let s=(r.x===i?0:2)|Number(r.y&he),c=a;return o&&T(a)&&(c=function(e){return T(e)?l(-e):e}(a),s^=1),new R(i,c,s)}}}(e,r,i),o=t;return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=k(e),i=k(e),a=0;const s=()=>{r.fill(1),i.fill(0),a=0},o=(...e)=>n(i,r,...e),c=(e=k(0))=>{i=o(I([0]),e),r=o(),0!==e.length&&(i=o(I([1]),e),r=o())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return S(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(l()));)c();return s(),n}}(o.hash.outputLen,o.nByteLength,o.hmac)(a,s)},verify:function(e,n,r,i=q){const a=e;n=x("msgHash",n),r=x("publicKey",r);const{lowS:s,prehash:o,format:u}=i;if(le(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==u&&"compact"!==u&&"der"!==u)throw new Error("format must be compact or der");const p="string"==typeof a||c(a),h=!p&&!u&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!p&&!h)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let b,y;try{if(h&&(b=new R(a.r,a.s)),p){try{"compact"!==u&&(b=R.fromDER(a))}catch(e){if(!(e instanceof de.Err))throw e}b||"der"===u||(b=R.fromCompact(a))}y=f.fromHex(r)}catch(e){return!1}if(!b)return!1;if(s&&b.hasHighS())return!1;o&&(n=t.hash(n));const{r:m,s:g}=b,w=j(n),v=d(g),E=l(w*v),S=l(m*v),T=f.BASE.multiplyAndAddUnsafe(y,E,S)?.toAffine();return!!T&&l(T.x)===m},ProjectivePoint:f,Signature:R,utils:L}}function ge(e){return{hash:e,hmac:(t,...n)=>(0,i.w)(e,t,(0,a.Id)(...n)),randomBytes:a.po}}const we=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ve=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ee=BigInt(0),xe=BigInt(1),Se=BigInt(2),Te=(e,t)=>(e+t/Se)/t;const Ae=Y(we,void 0,void 0,{sqrt:function(e){const t=we,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=$(u,n,t)*u%t,f=$(d,n,t)*u%t,p=$(f,Se,t)*l%t,h=$(p,i,t)*p%t,b=$(h,a,t)*h%t,y=$(b,o,t)*b%t,m=$(y,c,t)*y%t,g=$(m,o,t)*b%t,w=$(g,n,t)*u%t,v=$(w,s,t)*h%t,E=$(v,r,t)*l%t,x=$(E,Se,t);if(!Ae.eql(Ae.sqr(x),e))throw new Error("Cannot find square root");return x}}),_e=function(e,t){const n=t=>me({...e,...ge(t)});return{...n(t),create:n}}({a:Ee,b:BigInt(7),Fp:Ae,n:ve,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ve,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-xe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,s=BigInt("0x100000000000000000000000000000000"),o=Te(a*e,t),c=Te(-r*e,t);let l=F(e-o*n-c*i,t),u=F(-o*r-c*a,t);const d=l>s,f=u>s;if(d&&(l=t-l),f&&(u=t-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},r.sc)},8017:(e,t,n)=>{"use strict";n.d(t,{P:()=>u,r:()=>l});var r=n(23495),i=n(45834),a=n(70521);function s(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[null!=t?t:void 0,n]}}return[]}function o(e,t){const[n,i]=s(t);return new r.G(e,null!=n?n:(0,a.DW)(e),i)}function c(e,t){const[n,i]=s(t);return new r.B(e,null!=n?n:(0,a.DW)(e),i)}const l={parse:e=>o(i.f.rpc.parse,e),invalidRequest:e=>o(i.f.rpc.invalidRequest,e),invalidParams:e=>o(i.f.rpc.invalidParams,e),methodNotFound:e=>o(i.f.rpc.methodNotFound,e),internal:e=>o(i.f.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return o(t,e)},invalidInput:e=>o(i.f.rpc.invalidInput,e),resourceNotFound:e=>o(i.f.rpc.resourceNotFound,e),resourceUnavailable:e=>o(i.f.rpc.resourceUnavailable,e),transactionRejected:e=>o(i.f.rpc.transactionRejected,e),methodNotSupported:e=>o(i.f.rpc.methodNotSupported,e),limitExceeded:e=>o(i.f.rpc.limitExceeded,e)},u={userRejectedRequest:e=>c(i.f.provider.userRejectedRequest,e),unauthorized:e=>c(i.f.provider.unauthorized,e),unsupportedMethod:e=>c(i.f.provider.unsupportedMethod,e),disconnected:e=>c(i.f.provider.disconnected,e),chainDisconnected:e=>c(i.f.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:i}=e;if(!n||"string"!=typeof n)throw new Error('"message" must be a nonempty string');return new r.B(t,n,i)}}},8036:(e,t)=>{var n,r,i=function(){var e=function(e,t){var n=e,r=s[t],i=null,a=0,c=null,y=[],m={},w=function(e,t){i=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var r=0;r<e;r+=1)t[n][r]=null}return t}(a=4*n+17),v(0,0),v(a-7,0),v(0,a-7),x(),E(),T(e,t),n>=7&&S(e),null==c&&(c=_(n,r,y)),A(c,t)},v=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||a<=e+n))for(var r=-1;r<=7;r+=1)t+r<=-1||a<=t+r||(i[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},E=function(){for(var e=8;e<a-8;e+=1)null==i[e][6]&&(i[e][6]=e%2==0);for(var t=8;t<a-8;t+=1)null==i[6][t]&&(i[6][t]=t%2==0)},x=function(){for(var e=o.getPatternPosition(n),t=0;t<e.length;t+=1)for(var r=0;r<e.length;r+=1){var a=e[t],s=e[r];if(null==i[a][s])for(var c=-2;c<=2;c+=1)for(var l=-2;l<=2;l+=1)i[a+c][s+l]=-2==c||2==c||-2==l||2==l||0==c&&0==l}},S=function(e){for(var t=o.getBCHTypeNumber(n),r=0;r<18;r+=1){var s=!e&&1==(t>>r&1);i[Math.floor(r/3)][r%3+a-8-3]=s}for(r=0;r<18;r+=1)s=!e&&1==(t>>r&1),i[r%3+a-8-3][Math.floor(r/3)]=s},T=function(e,t){for(var n=r<<3|t,s=o.getBCHTypeInfo(n),c=0;c<15;c+=1){var l=!e&&1==(s>>c&1);c<6?i[c][8]=l:c<8?i[c+1][8]=l:i[a-15+c][8]=l}for(c=0;c<15;c+=1)l=!e&&1==(s>>c&1),c<8?i[8][a-c-1]=l:c<9?i[8][15-c-1+1]=l:i[8][15-c-1]=l;i[a-8][8]=!e},A=function(e,t){for(var n=-1,r=a-1,s=7,c=0,l=o.getMaskFunction(t),u=a-1;u>0;u-=2)for(6==u&&(u-=1);;){for(var d=0;d<2;d+=1)if(null==i[r][u-d]){var f=!1;c<e.length&&(f=1==(e[c]>>>s&1)),l(r,u-d)&&(f=!f),i[r][u-d]=f,-1==(s-=1)&&(c+=1,s=7)}if((r+=n)<0||a<=r){r-=n,n=-n;break}}},_=function(e,t,n){for(var r=u.getRSBlocks(e,t),i=d(),a=0;a<n.length;a+=1){var s=n[a];i.put(s.getMode(),4),i.put(s.getLength(),o.getLengthInBits(s.getMode(),e)),s.write(i)}var c=0;for(a=0;a<r.length;a+=1)c+=r[a].dataCount;if(i.getLengthInBits()>8*c)throw"code length overflow. ("+i.getLengthInBits()+">"+8*c+")";for(i.getLengthInBits()+4<=8*c&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*c||(i.put(236,8),i.getLengthInBits()>=8*c));)i.put(17,8);return function(e,t){for(var n=0,r=0,i=0,a=new Array(t.length),s=new Array(t.length),c=0;c<t.length;c+=1){var u=t[c].dataCount,d=t[c].totalCount-u;r=Math.max(r,u),i=Math.max(i,d),a[c]=new Array(u);for(var f=0;f<a[c].length;f+=1)a[c][f]=255&e.getBuffer()[f+n];n+=u;var p=o.getErrorCorrectPolynomial(d),h=l(a[c],p.getLength()-1).mod(p);for(s[c]=new Array(p.getLength()-1),f=0;f<s[c].length;f+=1){var b=f+h.getLength()-s[c].length;s[c][f]=b>=0?h.getAt(b):0}}var y=0;for(f=0;f<t.length;f+=1)y+=t[f].totalCount;var m=new Array(y),g=0;for(f=0;f<r;f+=1)for(c=0;c<t.length;c+=1)f<a[c].length&&(m[g]=a[c][f],g+=1);for(f=0;f<i;f+=1)for(c=0;c<t.length;c+=1)f<s[c].length&&(m[g]=s[c][f],g+=1);return m}(i,r)};m.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=f(e);break;case"Alphanumeric":n=p(e);break;case"Byte":n=h(e);break;case"Kanji":n=b(e);break;default:throw"mode:"+t}y.push(n),c=null},m.isDark=function(e,t){if(e<0||a<=e||t<0||a<=t)throw e+","+t;return i[e][t]},m.getModuleCount=function(){return a},m.make=function(){if(n<1){for(var e=1;e<40;e++){for(var t=u.getRSBlocks(e,r),i=d(),a=0;a<y.length;a++){var s=y[a];i.put(s.getMode(),4),i.put(s.getLength(),o.getLengthInBits(s.getMode(),e)),s.write(i)}var c=0;for(a=0;a<t.length;a++)c+=t[a].dataCount;if(i.getLengthInBits()<=8*c)break}n=e}w(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){w(!0,n);var r=o.getLostPoint(m);(0==n||e>r)&&(e=r,t=n)}return t}())},m.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var r=0;r<m.getModuleCount();r+=1){n+="<tr>";for(var i=0;i<m.getModuleCount();i+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=m.isDark(r,i)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return(n+="</tbody>")+"</table>"},m.createSvgTag=function(e,t,n,r){var i={};"object"==typeof arguments[0]&&(e=(i=arguments[0]).cellSize,t=i.margin,n=i.alt,r=i.title),e=e||2,t=void 0===t?4*e:t,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var a,s,o,c,l=m.getModuleCount()*e+2*t,u="";for(c="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",u+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',u+=i.scalable?"":' width="'+l+'px" height="'+l+'px"',u+=' viewBox="0 0 '+l+" "+l+'" ',u+=' preserveAspectRatio="xMinYMin meet"',u+=r.text||n.text?' role="img" aria-labelledby="'+C([r.id,n.id].join(" ").trim())+'"':"",u+=">",u+=r.text?'<title id="'+C(r.id)+'">'+C(r.text)+"</title>":"",u+=n.text?'<description id="'+C(n.id)+'">'+C(n.text)+"</description>":"",u+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',u+='<path d="',s=0;s<m.getModuleCount();s+=1)for(o=s*e+t,a=0;a<m.getModuleCount();a+=1)m.isDark(s,a)&&(u+="M"+(a*e+t)+","+o+c);return(u+='" stroke="transparent" fill="black"/>')+"</svg>"},m.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=m.getModuleCount()*e+2*t,r=t,i=n-t;return g(n,n,function(t,n){if(r<=t&&t<i&&r<=n&&n<i){var a=Math.floor((t-r)/e),s=Math.floor((n-r)/e);return m.isDark(s,a)?0:1}return 1})},m.createImgTag=function(e,t,n){e=e||2,t=void 0===t?4*e:t;var r=m.getModuleCount()*e+2*t,i="";return i+="<img",i+=' src="',i+=m.createDataURL(e,t),i+='"',i+=' width="',i+=r,i+='"',i+=' height="',i+=r,i+='"',n&&(i+=' alt="',i+=C(n),i+='"'),i+"/>"};var C=function(e){for(var t="",n=0;n<e.length;n+=1){var r=e.charAt(n);switch(r){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=r}}return t};return m.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=void 0===e?2:e;var t,n,r,i,a,s=1*m.getModuleCount()+2*e,o=e,c=s-e,l={"":""," ":""," ":"","  ":" "},u={"":""," ":""," ":" ","  ":" "},d="";for(t=0;t<s;t+=2){for(r=Math.floor((t-o)/1),i=Math.floor((t+1-o)/1),n=0;n<s;n+=1)a="",o<=n&&n<c&&o<=t&&t<c&&m.isDark(r,Math.floor((n-o)/1))&&(a=" "),o<=n&&n<c&&o<=t+1&&t+1<c&&m.isDark(i,Math.floor((n-o)/1))?a+=" ":a+="",d+=e<1&&t+1>=c?u[a]:l[a];d+="\n"}return s%2&&e>0?d.substring(0,d.length-s-1)+Array(s+1).join(""):d.substring(0,d.length-1)}(t);e-=1,t=void 0===t?2*e:t;var n,r,i,a,s=m.getModuleCount()*e+2*t,o=t,c=s-t,l=Array(e+1).join(""),u=Array(e+1).join("  "),d="",f="";for(n=0;n<s;n+=1){for(i=Math.floor((n-o)/e),f="",r=0;r<s;r+=1)a=1,o<=r&&r<c&&o<=n&&n<c&&m.isDark(i,Math.floor((r-o)/e))&&(a=0),f+=a?l:u;for(i=0;i<e;i+=1)d+=f+"\n"}return d.substring(0,d.length-1)},m.renderTo2dContext=function(e,t){t=t||2;for(var n=m.getModuleCount(),r=0;r<n;r++)for(var i=0;i<n;i++)e.fillStyle=m.isDark(r,i)?"black":"white",e.fillRect(r*t,i*t,t,t)},m};e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(255&r)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){for(var n=m(e),r=function(){var e=n.read();if(-1==e)throw"eof";return e},i=0,a={};;){var s=n.read();if(-1==s)break;var o=r(),c=r()<<8|r();a[String.fromCharCode(s<<8|o)]=c,i+=1}if(i!=t)throw i+" != "+t;return a}(),r="?".charCodeAt(0);return function(e){for(var t=[],i=0;i<e.length;i+=1){var a=e.charCodeAt(i);if(a<128)t.push(a);else{var s=n[e.charAt(i)];"number"==typeof s?(255&s)==s?t.push(s):(t.push(s>>>8),t.push(255&s)):t.push(r)}}return t}};var t,n,r,i,a,s={L:1,M:0,Q:3,H:2},o=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,r=7973,a=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(i={}).getBCHTypeInfo=function(e){for(var t=e<<10;a(t)-a(n)>=0;)t^=n<<a(t)-a(n);return 21522^(e<<10|t)},i.getBCHTypeNumber=function(e){for(var t=e<<12;a(t)-a(r)>=0;)t^=r<<a(t)-a(r);return e<<12|t},i.getPatternPosition=function(e){return t[e-1]},i.getMaskFunction=function(e){switch(e){case 0:return function(e,t){return(e+t)%2==0};case 1:return function(e,t){return e%2==0};case 2:return function(e,t){return t%3==0};case 3:return function(e,t){return(e+t)%3==0};case 4:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case 5:return function(e,t){return e*t%2+e*t%3==0};case 6:return function(e,t){return(e*t%2+e*t%3)%2==0};case 7:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},i.getErrorCorrectPolynomial=function(e){for(var t=l([1],0),n=0;n<e;n+=1)t=t.multiply(l([1,c.gexp(n)],0));return t},i.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+e}}},i.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r+=1)for(var i=0;i<t;i+=1){for(var a=0,s=e.isDark(r,i),o=-1;o<=1;o+=1)if(!(r+o<0||t<=r+o))for(var c=-1;c<=1;c+=1)i+c<0||t<=i+c||0==o&&0==c||s==e.isDark(r+o,i+c)&&(a+=1);a>5&&(n+=3+a-5)}for(r=0;r<t-1;r+=1)for(i=0;i<t-1;i+=1){var l=0;e.isDark(r,i)&&(l+=1),e.isDark(r+1,i)&&(l+=1),e.isDark(r,i+1)&&(l+=1),e.isDark(r+1,i+1)&&(l+=1),0!=l&&4!=l||(n+=3)}for(r=0;r<t;r+=1)for(i=0;i<t-6;i+=1)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i+=1)for(r=0;r<t-6;r+=1)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);var u=0;for(i=0;i<t;i+=1)for(r=0;r<t;r+=1)e.isDark(r,i)&&(u+=1);return n+Math.abs(100*u/t/t-50)/5*10},i),c=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;return{glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}}}();function l(e,t){if(void 0===e.length)throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var r=new Array(e.length-n+t),i=0;i<e.length-n;i+=1)r[i]=e[i+n];return r}(),r={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(r.getLength()+e.getLength()-1),n=0;n<r.getLength();n+=1)for(var i=0;i<e.getLength();i+=1)t[n+i]^=c.gexp(c.glog(r.getAt(n))+c.glog(e.getAt(i)));return l(t,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var t=c.glog(r.getAt(0))-c.glog(e.getAt(0)),n=new Array(r.getLength()),i=0;i<r.getLength();i+=1)n[i]=r.getAt(i);for(i=0;i<e.getLength();i+=1)n[i]^=c.gexp(c.glog(e.getAt(i))+t);return l(n,0).mod(e)}};return r}var u=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={getRSBlocks:function(n,r){var i=function(t,n){switch(n){case s.L:return e[4*(t-1)+0];case s.M:return e[4*(t-1)+1];case s.Q:return e[4*(t-1)+2];case s.H:return e[4*(t-1)+3];default:return}}(n,r);if(void 0===i)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var a=i.length/3,o=[],c=0;c<a;c+=1)for(var l=i[3*c+0],u=i[3*c+1],d=i[3*c+2],f=0;f<l;f+=1)o.push(t(u,d));return o}};return n}(),d=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var r=0;r<t;r+=1)n.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return t},putBit:function(n){var r=Math.floor(t/8);e.length<=r&&e.push(0),n&&(e[r]|=128>>>t%8),t+=1}};return n},f=function(e){var t=e,n={getMode:function(){return 1},getLength:function(e){return t.length},write:function(e){for(var n=t,i=0;i+2<n.length;)e.put(r(n.substring(i,i+3)),10),i+=3;i<n.length&&(n.length-i==1?e.put(r(n.substring(i,i+1)),4):n.length-i==2&&e.put(r(n.substring(i,i+2)),7))}},r=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+i(e.charAt(n));return t},i=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return n},p=function(e){var t=e,n={getMode:function(){return 2},getLength:function(e){return t.length},write:function(e){for(var n=t,i=0;i+1<n.length;)e.put(45*r(n.charAt(i))+r(n.charAt(i+1)),11),i+=2;i<n.length&&e.put(r(n.charAt(i)),6)}},r=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return n},h=function(t){var n=e.stringToBytes(t);return{getMode:function(){return 4},getLength:function(e){return n.length},write:function(e){for(var t=0;t<n.length;t+=1)e.put(n[t],8)}}},b=function(t){var n=e.stringToBytesFuncs.SJIS;if(!n)throw"sjis not supported.";!function(){var e=n("");if(2!=e.length||38726!=(e[0]<<8|e[1]))throw"sjis not supported."}();var r=n(t),i={getMode:function(){return 8},getLength:function(e){return~~(r.length/2)},write:function(e){for(var t=r,n=0;n+1<t.length;){var i=(255&t[n])<<8|255&t[n+1];if(33088<=i&&i<=40956)i-=33088;else{if(!(57408<=i&&i<=60351))throw"illegal char at "+(n+1)+"/"+i;i-=49472}i=192*(i>>>8&255)+(255&i),e.put(i,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return i},y=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,r){n=n||0,r=r||e.length;for(var i=0;i<r;i+=1)t.writeByte(e[i+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+"]"}};return t},m=function(e){var t=e,n=0,r=0,i=0,a={read:function(){for(;i<8;){if(n>=t.length){if(0==i)return-1;throw"unexpected end of file./"+i}var e=t.charAt(n);if(n+=1,"="==e)return i=0,-1;e.match(/^\s$/)||(r=r<<6|s(e.charCodeAt(0)),i+=6)}var a=r>>>i-8&255;return i-=8,a}},s=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return a},g=function(e,t,n){for(var r=function(e,t){var n=e,r=t,i=new Array(e*t),a={setPixel:function(e,t,r){i[t*n+e]=r},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(r),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(r),e.writeByte(0);var t=s(2);e.writeByte(2);for(var i=0;t.length-i>255;)e.writeByte(255),e.writeBytes(t,i,255),i+=255;e.writeByte(t.length-i),e.writeBytes(t,i,t.length-i),e.writeByte(0),e.writeString(";")}},s=function(e){for(var t=1<<e,n=1+(1<<e),r=e+1,a=o(),s=0;s<t;s+=1)a.add(String.fromCharCode(s));a.add(String.fromCharCode(t)),a.add(String.fromCharCode(n));var c,l,u,d=y(),f=(c=d,l=0,u=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;l+t>=8;)c.writeByte(255&(e<<l|u)),t-=8-l,e>>>=8-l,u=0,l=0;u|=e<<l,l+=t},flush:function(){l>0&&c.writeByte(u)}});f.write(t,r);var p=0,h=String.fromCharCode(i[p]);for(p+=1;p<i.length;){var b=String.fromCharCode(i[p]);p+=1,a.contains(h+b)?h+=b:(f.write(a.indexOf(h),r),a.size()<4095&&(a.size()==1<<r&&(r+=1),a.add(h+b)),h=b)}return f.write(a.indexOf(h),r),f.write(n,r),f.flush(),d.toByteArray()},o=function(){var e={},t=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;e[r]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return a}(e,t),i=0;i<t;i+=1)for(var a=0;a<e;a+=1)r.setPixel(a,i,n(a,i));var s=y();r.write(s);for(var o=function(){var e=0,t=0,n=0,r="",i={},a=function(e){r+=String.fromCharCode(s(63&e))},s=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return i.writeByte=function(r){for(e=e<<8|255&r,t+=8,n+=1;t>=6;)a(e>>>t-6),t-=6},i.flush=function(){if(t>0&&(a(e<<6-t),e=0,t=0),n%3!=0)for(var i=3-n%3,s=0;s<i;s+=1)r+="="},i.toString=function(){return r},i}(),c=s.toByteArray(),l=0;l<c.length;l+=1)o.writeByte(c[l]);return o.flush(),"data:image/gif;base64,"+o};return e}();i.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}(e)},void 0===(r="function"==typeof(n=function(){return i})?n.apply(t,[]):n)||(e.exports=r)},8120:e=>{"use strict";self,e.exports=function(){var e={2870:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Store=t.matches=t.transform=void 0;var i=n(4303);Object.defineProperty(t,"transform",{enumerable:!0,get:function(){return r(i).default}});var a=n(2370);Object.defineProperty(t,"matches",{enumerable:!0,get:function(){return r(a).default}});var s=n(1444);Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return r(s).default}})},2370:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7843));function a(e,t){if(!Array.isArray(e))return!0===s(e,t);var n,r,i,u,d=e[0];switch(d){case"!":return!a(e[1],t);case"or":for(var f=1;f<e.length;f++)if(a(e[f],t))return!0;return!1;case"and":for(f=1;f<e.length;f++)if(!a(e[f],t))return!1;return!0;case"=":case"!=":return function(e,t,n,r){switch(o(e)&&(e=a(e,r)),o(t)&&(t=a(t,r)),"object"==typeof e&&"object"==typeof t&&(e=JSON.stringify(e),t=JSON.stringify(t)),n){case"=":return e===t;case"!=":return e!==t;default:throw new Error("Invalid operator in compareItems: ".concat(n))}}(s(e[1],t),s(e[2],t),d,t);case"<=":case"<":case">":case">=":return function(e,t,n,r){if(o(e)&&(e=a(e,r)),o(t)&&(t=a(t,r)),"number"!=typeof e||"number"!=typeof t)return!1;switch(n){case"<=":return e<=t;case">=":return e>=t;case"<":return e<t;case">":return e>t;default:throw new Error("Invalid operator in compareNumbers: ".concat(n))}}(s(e[1],t),s(e[2],t),d,t);case"in":return function(e,t,n){return void 0!==t.find(function(t){return s(t,n)===e})}(s(e[1],t),s(e[2],t),t);case"contains":return i=s(e[1],t),u=s(e[2],t),"string"==typeof i&&"string"==typeof u&&-1!==i.indexOf(u);case"match":return n=s(e[1],t),r=s(e[2],t),"string"==typeof n&&"string"==typeof r&&function(e,t){var n,r;e:for(;e.length>0;){var i,a;if(i=(n=c(e)).star,a=n.chunk,e=n.pattern,i&&""===a)return!0;var s=l(a,t),o=s.t,u=s.ok,d=s.err;if(d)return!1;if(!u||!(0===o.length||e.length>0)){if(i)for(var f=0;f<t.length;f++){if(o=(r=l(a,t.slice(f+1))).t,u=r.ok,d=r.err,u){if(0===e.length&&o.length>0)continue;t=o;continue e}if(d)return!1}return!1}t=o}return 0===t.length}(r,n);case"lowercase":var p=s(e[1],t);return"string"!=typeof p?null:p.toLowerCase();case"typeof":return typeof s(e[1],t);case"length":return function(e){return null===e?0:Array.isArray(e)||"string"==typeof e?e.length:NaN}(s(e[1],t));default:throw new Error("FQL IR could not evaluate for token: ".concat(d))}}function s(e,t){return Array.isArray(e)?e:"object"==typeof e?e.value:(0,i.default)(t,e)}function o(e){return!!Array.isArray(e)&&(("lowercase"===e[0]||"length"===e[0]||"typeof"===e[0])&&2===e.length||("contains"===e[0]||"match"===e[0])&&3===e.length)}function c(e){for(var t={star:!1,chunk:"",pattern:""};e.length>0&&"*"===e[0];)e=e.slice(1),t.star=!0;var n,r=!1;e:for(n=0;n<e.length;n++)switch(e[n]){case"\\":n+1<e.length&&n++;break;case"[":r=!0;break;case"]":r=!1;break;case"*":if(!r)break e}return t.chunk=e.slice(0,n),t.pattern=e.slice(n),t}function l(e,t){for(var n,r,i={t:"",ok:!1,err:!1};e.length>0;){if(0===t.length)return i;switch(e[0]){case"[":var a=t[0];t=t.slice(1);var s=!0;(e=e.slice(1)).length>0&&"^"===e[0]&&(s=!1,e=e.slice(1));for(var o=!1,c=0;;){if(e.length>0&&"]"===e[0]&&c>0){e=e.slice(1);break}var l,d="";if(l=(n=u(e)).char,e=n.newChunk,n.err)return i;if(d=l,"-"===e[0]&&(d=(r=u(e.slice(1))).char,e=r.newChunk,r.err))return i;l<=a&&a<=d&&(o=!0),c++}if(o!==s)return i;break;case"?":t=t.slice(1),e=e.slice(1);break;case"\\":if(0===(e=e.slice(1)).length)return i.err=!0,i;default:if(e[0]!==t[0])return i;t=t.slice(1),e=e.slice(1)}}return i.t=t,i.ok=!0,i.err=!1,i}function u(e){var t={char:"",newChunk:"",err:!1};return 0===e.length||"-"===e[0]||"]"===e[0]||"\\"===e[0]&&0===(e=e.slice(1)).length?(t.err=!0,t):(t.char=e[0],t.newChunk=e.slice(1),0===t.newChunk.length&&(t.err=!0),t)}t.default=function(e,t){if(!t)throw new Error("No matcher supplied!");switch(t.type){case"all":return!0;case"fql":return function(e,t){if(!e)return!1;try{e=JSON.parse(e)}catch(t){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(e,'": ').concat(t))}var n=a(e,t);return"boolean"==typeof n&&n}(t.ir,e);default:throw new Error("Matcher of type ".concat(t.type," unsupported."))}}},1444:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.rules=[],this.rules=e||[]}return e.prototype.getRulesByDestinationName=function(e){for(var t=[],n=0,r=this.rules;n<r.length;n++){var i=r[n];i.destinationName!==e&&void 0!==i.destinationName||t.push(i)}return t},e}();t.default=n},4303:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(374)),a=r(n(7843)),s=r(n(5500)),o=n(9014),c=n(4966);function l(e,t){d(e,t.drop,function(e,t){t.forEach(function(t){return delete e[t]})})}function u(e,t){d(e,t.allow,function(e,t){Object.keys(e).forEach(function(n){t.includes(n)||delete e[n]})})}function d(e,t,n){Object.entries(t).forEach(function(t){var r=t[0],i=t[1],s=function(e){"object"==typeof e&&null!==e&&n(e,i)},o=""===r?e:(0,a.default)(e,r);Array.isArray(o)?o.forEach(s):s(o)})}function f(e,t){var n=JSON.parse(JSON.stringify(e));for(var r in t.map)if(t.map.hasOwnProperty(r)){var i=t.map[r],s=r.split("."),l=void 0;if(s.length>1?(s.pop(),l=(0,a.default)(n,s.join("."))):l=e,"object"==typeof l){if(i.copy){var u=(0,a.default)(n,i.copy);void 0!==u&&(0,o.dset)(e,r,u)}else if(i.move){var d=(0,a.default)(n,i.move);void 0!==d&&(0,o.dset)(e,r,d),(0,c.unset)(e,i.move)}else i.hasOwnProperty("set")&&(0,o.dset)(e,r,i.set);if(i.to_string){var f=(0,a.default)(e,r);if("string"==typeof f||"object"==typeof f&&null!==f)continue;void 0!==f?(0,o.dset)(e,r,JSON.stringify(f)):(0,o.dset)(e,r,"undefined")}}}}function p(e,t){return!(t.sample.percent<=0)&&(t.sample.percent>=1||(t.sample.path?function(e,t){var n=(0,a.default)(e,t.sample.path),r=(0,i.default)(JSON.stringify(n)),o=-64,c=[];h(r.slice(0,8),c);for(var l=0,u=0;u<64&&1!==c[u];u++)l++;if(0!==l){var d=[];h(r.slice(9,16),d),o-=l,c.splice(0,l),d.splice(64-l),c=c.concat(d)}return c[63]=0===c[63]?1:0,(0,s.default)(parseInt(c.join(""),2),o)<t.sample.percent}(e,t):(n=t.sample.percent,Math.random()<=n)));var n}function h(e,t){for(var n=0;n<8;n++)for(var r=e[n],i=128;i>=1;i/=2)r-i>=0?(r-=i,t.push(1)):t.push(0)}t.default=function(e,t){for(var n=e,r=0,i=t;r<i.length;r++){var a=i[r];switch(a.type){case"drop":return null;case"drop_properties":l(n,a.config);break;case"allow_properties":u(n,a.config);break;case"sample_event":if(p(n,a.config))break;return null;case"map_properties":f(n,a.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(a.type,'" is unsupported.'))}}return n}},4966:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unset=void 0;var i=r(n(7843));t.unset=function(e,t){if((0,i.default)(e,t)){for(var n=t.split("."),r=n.pop();n.length&&"\\"===n[n.length-1].slice(-1);)r=n.pop().slice(0,-1)+"."+r;for(;n.length;)e=e[t=n.shift()];return delete e[r]}return!0}},9014:function(e,t){t.dset=function(e,t,n){t.split&&(t=t.split("."));for(var r,i,a=0,s=t.length,o=e;a<s&&"__proto__"!==(i=t[a++])&&"constructor"!==i&&"prototype"!==i;)o=o[i]=a===s?n:typeof(r=o[i])==typeof t?r:0*t[a]!=0||~(""+t[a]).indexOf(".")?{}:[]}},3304:function(e){var t="function"==typeof Float64Array?Float64Array:void 0;e.exports=t},7382:function(e,t,n){var r,i=n(5569),a=n(3304),s=n(8482);r=i()?a:s,e.exports=r},8482:function(e){e.exports=function(){throw new Error("not implemented")}},6322:function(e,t,n){var r,i=n(2508),a=n(5679),s=n(882);r=i()?a:s,e.exports=r},882:function(e){e.exports=function(){throw new Error("not implemented")}},5679:function(e){var t="function"==typeof Uint16Array?Uint16Array:void 0;e.exports=t},4773:function(e,t,n){var r,i=n(9773),a=n(3004),s=n(3078);r=i()?a:s,e.exports=r},3078:function(e){e.exports=function(){throw new Error("not implemented")}},3004:function(e){var t="function"==typeof Uint32Array?Uint32Array:void 0;e.exports=t},7980:function(e,t,n){var r,i=n(8114),a=n(6737),s=n(3357);r=i()?a:s,e.exports=r},3357:function(e){e.exports=function(){throw new Error("not implemented")}},6737:function(e){var t="function"==typeof Uint8Array?Uint8Array:void 0;e.exports=t},2684:function(e){var t="function"==typeof Float64Array?Float64Array:null;e.exports=t},5569:function(e,t,n){var r=n(3876);e.exports=r},3876:function(e,t,n){var r=n(1448),i=n(2684);e.exports=function(){var e,t;if("function"!=typeof i)return!1;try{t=new i([1,3.14,-3.14,NaN]),e=r(t)&&1===t[0]&&3.14===t[1]&&-3.14===t[2]&&t[3]!=t[3]}catch(t){e=!1}return e}},9048:function(e,t,n){var r=n(3763);e.exports=r},3763:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},7009:function(e,t,n){var r=n(6784);e.exports=r},6784:function(e){e.exports=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}},3123:function(e,t,n){var r=n(8481);e.exports=r},8481:function(e,t,n){var r=n(7009)();e.exports=function(){return r&&"symbol"==typeof Symbol.toStringTag}},2508:function(e,t,n){var r=n(3403);e.exports=r},3403:function(e,t,n){var r=n(768),i=n(9668),a=n(187);e.exports=function(){var e,t;if("function"!=typeof a)return!1;try{t=new a(t=[1,3.14,-3.14,i+1,i+2]),e=r(t)&&1===t[0]&&3===t[1]&&t[2]===i-2&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}},187:function(e){var t="function"==typeof Uint16Array?Uint16Array:null;e.exports=t},9773:function(e,t,n){var r=n(2822);e.exports=r},2822:function(e,t,n){var r=n(2744),i=n(3899),a=n(746);e.exports=function(){var e,t;if("function"!=typeof a)return!1;try{t=new a(t=[1,3.14,-3.14,i+1,i+2]),e=r(t)&&1===t[0]&&3===t[1]&&t[2]===i-2&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}},746:function(e){var t="function"==typeof Uint32Array?Uint32Array:null;e.exports=t},8114:function(e,t,n){var r=n(8066);e.exports=r},8066:function(e,t,n){var r=n(8279),i=n(3443),a=n(2731);e.exports=function(){var e,t;if("function"!=typeof a)return!1;try{t=new a(t=[1,3.14,-3.14,i+1,i+2]),e=r(t)&&1===t[0]&&3===t[1]&&t[2]===i-2&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}},2731:function(e){var t="function"==typeof Uint8Array?Uint8Array:null;e.exports=t},1448:function(e,t,n){var r=n(1453);e.exports=r},1453:function(e,t,n){var r=n(6208),i="function"==typeof Float64Array;e.exports=function(e){return i&&e instanceof Float64Array||"[object Float64Array]"===r(e)}},9331:function(e,t,n){var r=n(7980),i={uint16:n(6322),uint8:r};e.exports=i},5902:function(e,t,n){var r=n(4106);e.exports=r},4106:function(e,t,n){var r,i,a=n(9331);(i=new a.uint16(1))[0]=4660,r=52===new a.uint8(i.buffer)[0],e.exports=r},768:function(e,t,n){var r=n(3823);e.exports=r},3823:function(e,t,n){var r=n(6208),i="function"==typeof Uint16Array;e.exports=function(e){return i&&e instanceof Uint16Array||"[object Uint16Array]"===r(e)}},2744:function(e,t,n){var r=n(2326);e.exports=r},2326:function(e,t,n){var r=n(6208),i="function"==typeof Uint32Array;e.exports=function(e){return i&&e instanceof Uint32Array||"[object Uint32Array]"===r(e)}},8279:function(e,t,n){var r=n(208);e.exports=r},208:function(e,t,n){var r=n(6208),i="function"==typeof Uint8Array;e.exports=function(e){return i&&e instanceof Uint8Array||"[object Uint8Array]"===r(e)}},6315:function(e){e.exports=1023},1686:function(e){e.exports=2147483647},3105:function(e){e.exports=2146435072},3449:function(e){e.exports=2147483648},6988:function(e){e.exports=-1023},9777:function(e){e.exports=1023},3690:function(e){e.exports=-1074},2918:function(e,t,n){var r=n(4772).NEGATIVE_INFINITY;e.exports=r},4165:function(e){var t=Number.POSITIVE_INFINITY;e.exports=t},6488:function(e){e.exports=22250738585072014e-324},9668:function(e){e.exports=65535},3899:function(e){e.exports=4294967295},3443:function(e){e.exports=255},7011:function(e,t,n){var r=n(812);e.exports=r},812:function(e,t,n){var r=n(4165),i=n(2918);e.exports=function(e){return e===r||e===i}},1883:function(e,t,n){var r=n(1797);e.exports=r},1797:function(e){e.exports=function(e){return e!=e}},513:function(e,t,n){var r=n(5760);e.exports=r},5760:function(e){e.exports=function(e){return Math.abs(e)}},5848:function(e,t,n){var r=n(677);e.exports=r},677:function(e,t,n){var r=n(3449),i=n(1686),a=n(7838),s=n(1921),o=n(2490),c=[0,0];e.exports=function(e,t){var n,l;return a.assign(e,c,1,0),n=c[0],n&=i,l=s(t),o(n|=l&=r,c[1])}},5500:function(e,t,n){var r=n(8397);e.exports=r},8397:function(e,t,n){var r=n(4165),i=n(2918),a=n(6315),s=n(9777),o=n(6988),c=n(3690),l=n(1883),u=n(7011),d=n(5848),f=n(4948),p=n(8478),h=n(7838),b=n(2490),y=[0,0],m=[0,0];e.exports=function(e,t){var n,g;return 0===e||l(e)||u(e)?e:(f(y,e),t+=y[1],(t+=p(e=y[0]))<c?d(0,e):t>s?e<0?i:r:(t<=o?(t+=52,g=2220446049250313e-31):g=1,h(m,e),n=m[0],n&=2148532223,g*b(n|=t+a<<20,m[1])))}},4772:function(e,t,n){var r=n(7548);e.exports=r},7548:function(e){e.exports=Number},8478:function(e,t,n){var r=n(4500);e.exports=r},4500:function(e,t,n){var r=n(1921),i=n(3105),a=n(6315);e.exports=function(e){var t=r(e);return(t=(t&i)>>>20)-a|0}},2490:function(e,t,n){var r=n(9639);e.exports=r},4445:function(e,t,n){var r,i,a;!0===n(5902)?(i=1,a=0):(i=0,a=1),r={HIGH:i,LOW:a},e.exports=r},9639:function(e,t,n){var r=n(4773),i=n(7382),a=n(4445),s=new i(1),o=new r(s.buffer),c=a.HIGH,l=a.LOW;e.exports=function(e,t){return o[c]=e,o[l]=t,s[0]}},5646:function(e,t,n){var r;r=!0===n(5902)?1:0,e.exports=r},1921:function(e,t,n){var r=n(6285);e.exports=r},6285:function(e,t,n){var r=n(4773),i=n(7382),a=n(5646),s=new i(1),o=new r(s.buffer);e.exports=function(e){return s[0]=e,o[a]}},9024:function(e,t,n){var r=n(6488),i=n(7011),a=n(1883),s=n(513);e.exports=function(e,t,n,o){return a(e)||i(e)?(t[o]=e,t[o+n]=0,t):0!==e&&s(e)<r?(t[o]=4503599627370496*e,t[o+n]=-52,t):(t[o]=e,t[o+n]=0,t)}},4948:function(e,t,n){var r=n(7576),i=n(9422);r(i,"assign",n(9024)),e.exports=i},9422:function(e,t,n){var r=n(9024);e.exports=function(e){return r(e,[0,0],1,0)}},5239:function(e,t,n){var r=n(4773),i=n(7382),a=n(5782),s=new i(1),o=new r(s.buffer),c=a.HIGH,l=a.LOW;e.exports=function(e,t,n,r){return s[0]=e,t[r]=o[c],t[r+n]=o[l],t}},7838:function(e,t,n){var r=n(7576),i=n(4010);r(i,"assign",n(5239)),e.exports=i},5782:function(e,t,n){var r,i,a;!0===n(5902)?(i=1,a=0):(i=0,a=1),r={HIGH:i,LOW:a},e.exports=r},4010:function(e,t,n){var r=n(5239);e.exports=function(e){return r(e,[0,0],1,0)}},7576:function(e,t,n){var r=n(7063);e.exports=r},7063:function(e,t,n){var r=n(6691);e.exports=function(e,t,n){r(e,t,{configurable:!1,enumerable:!1,writable:!1,value:n})}},2073:function(e){var t=Object.defineProperty;e.exports=t},1680:function(e){var t="function"==typeof Object.defineProperty?Object.defineProperty:null;e.exports=t},1471:function(e,t,n){var r=n(1680);e.exports=function(){try{return r({},"x",{}),!0}catch(e){return!1}}},6691:function(e,t,n){var r,i=n(1471),a=n(2073),s=n(1309);r=i()?a:s,e.exports=r},1309:function(e){var t=Object.prototype,n=t.toString,r=t.__defineGetter__,i=t.__defineSetter__,a=t.__lookupGetter__,s=t.__lookupSetter__;e.exports=function(e,o,c){var l,u,d,f;if("object"!=typeof e||null===e||"[object Array]"===n.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof c||null===c||"[object Array]"===n.call(c))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+c+"`.");if((u="value"in c)&&(a.call(e,o)||s.call(e,o)?(l=e.__proto__,e.__proto__=t,delete e[o],e[o]=c.value,e.__proto__=l):e[o]=c.value),d="get"in c,f="set"in c,u&&(d||f))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return d&&r&&r.call(e,o,c.get),f&&i&&i.call(e,o,c.set),e}},6208:function(e,t,n){var r,i=n(3123),a=n(7407),s=n(4210);r=i()?s:a,e.exports=r},7407:function(e,t,n){var r=n(173);e.exports=function(e){return r.call(e)}},4210:function(e,t,n){var r=n(9048),i=n(1403),a=n(173);e.exports=function(e){var t,n,s;if(null==e)return a.call(e);n=e[i],t=r(e,i);try{e[i]=void 0}catch(t){return a.call(e)}return s=a.call(e),t?e[i]=n:delete e[i],s}},173:function(e){var t=Object.prototype.toString;e.exports=t},1403:function(e){var t="function"==typeof Symbol?Symbol.toStringTag:"";e.exports=t},7843:function(e){e.exports=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}},374:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});for(var r=[],i=0;i<64;)r[i]=0|4294967296*Math.sin(++i%Math.PI);function a(e){var t,n,a,s=[t=1732584193,n=4023233417,~t,~n],o=[],c=unescape(encodeURI(e))+"",l=c.length;for(e=--l/4+2|15,o[--e]=8*l;~l;)o[l>>2]|=c.charCodeAt(l)<<8*l--;for(i=c=0;i<e;i+=16){for(l=s;c<64;l=[a=l[3],t+((a=l[0]+[t&n|~t&a,a&t|~a&n,t^n^a,n^(t|~a)][l=c>>4]+r[c]+~~o[i|15&[c,5*c+1,3*c+5,7*c][l]])<<(l=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*l+c++%4])|a>>>-l),t,n])t=0|l[1],n=l[2];for(c=4;c;)s[--c]+=l[c]}for(e="";c<32;)e+=(s[c>>3]>>4*(1^c++)&15).toString(16);return e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(2870)}()},8322:(e,t,n)=>{"use strict";function r(){let e=()=>{},t=()=>{};return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}n.d(t,{Y:()=>r})},8379:()=>{},8775:(e,t,n)=>{"use strict";n.d(t,{N:()=>l,b:()=>c});var r=n(86237),i=n(79756),a=n(58501),s=n(74846),o=n(16761);async function c(e,t){return l(e,t)}async function l(e,t){const{block:n,chain:c=e.chain,request:l}=t||{};try{const t=c?.fees?.maxPriorityFeePerGas??c?.fees?.defaultPriorityFee;if("function"==typeof t){const r=n||await(0,a.T)(e,s.g,"getBlock")({}),i=await t({block:r,client:e,request:l});if(null===i)throw new Error;return i}if(void 0!==t)return t;const r=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,i.uU)(r)}catch{const[t,i]=await Promise.all([n?Promise.resolve(n):(0,a.T)(e,s.g,"getBlock")({}),(0,a.T)(e,o.L,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new r.pw;const c=i-t.baseFeePerGas;return c<0n?0n:c}}},8986:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=function(){var e,t,n=!1,r=new Promise(function(r,i){e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n=!0,r.apply(void 0,e)},t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n=!0,i.apply(void 0,e)}});return{resolve:e,reject:t,promise:r,isSettled:function(){return n}}}},9137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapError=t.getErrorMessage=t.isErrorWithStack=t.isErrorWithMessage=t.isErrorWithCode=void 0;const r=n(59756),i=n(26556);function a(e){return"object"==typeof e&&null!==e&&"code"in e}function s(e){return"object"==typeof e&&null!==e&&"message"in e}t.isErrorWithCode=a,t.isErrorWithMessage=s,t.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},t.getErrorMessage=function(e){return s(e)&&"string"==typeof e.message?e.message:(0,i.isNullOrUndefined)(e)?"":String(e)},t.wrapError=function(e,t){if((n=e)instanceof Error||(0,i.isObject)(n)&&"Error"===n.constructor.name){let n;return n=2===Error.length?new Error(t,{cause:e}):new r.ErrorWithCause(t,{cause:e}),a(e)&&(n.code=e.code),n}var n;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}},9252:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(24303);function i(e,t){var n=new r.Facade(e,t);return"track"===e.type&&(n=new r.Track(e,t)),"identify"===e.type&&(n=new r.Identify(e,t)),"page"===e.type&&(n=new r.Page(e,t)),"alias"===e.type&&(n=new r.Alias(e,t)),"group"===e.type&&(n=new r.Group(e,t)),"screen"===e.type&&(n=new r.Screen(e,t)),Object.defineProperty(n,"obj",{value:e,writable:!0}),n}},9265:(e,t,n)=>{"use strict";var r=n(39907);const i="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=i},9453:(e,t,n)=>{"use strict";n.d(t,{bEt:()=>Gc,EWt:()=>Yc,Pa8:()=>Jc,ZbZ:()=>ci,nyL:()=>Hu,Lp_:()=>Qc,EHS:()=>el,Van:()=>iu,muJ:()=>Ku,Xw0:()=>Zr,Wx8:()=>Kr,e8_:()=>xs,K3g:()=>Wr,haE:()=>Wu,x0t:()=>dl,F$L:()=>ml,YcA:()=>bl,ovp:()=>ol,iui:()=>wl,Tw2:()=>yl,wa2:()=>hl,hEn:()=>Qr,PAk:()=>Ya,gOF:()=>Yr,hwK:()=>ms,jUZ:()=>$r,ADD:()=>Gr,ojD:()=>Fr,QJh:()=>Fl,TZl:()=>al,two:()=>sl,Zz7:()=>yr,QV1:()=>Xa,R7U:()=>Br,lFF:()=>Ur,WWN:()=>As,jTh:()=>ni,q_h:()=>bs,GuA:()=>cu,$Bq:()=>$l,sc_:()=>Ts,xkc:()=>hs,fXy:()=>Xl,g_l:()=>eu,V7u:()=>Ql,KLX:()=>Za,VBM:()=>_s,aa1:()=>Cl,n6V:()=>_l,Hjj:()=>lu,$hI:()=>ri,nYL:()=>es,mXn:()=>Ja,psp:()=>ts,n3s:()=>ti,EN$:()=>cl,ALl:()=>ll,m01:()=>Rr,sKr:()=>$u,BdH:()=>Lr,XqR:()=>Du,_dF:()=>Xr,aRZ:()=>Nr,Lln:()=>Or,sc7:()=>Uu,CTo:()=>gu,lVv:()=>Mr,HNf:()=>bu,mr0:()=>wu,w8K:()=>ai,V7m:()=>xl,ps1:()=>Sl,b07:()=>fu,OP1:()=>uu,tk0:()=>vu,X3c:()=>Iu,FR8:()=>Mu,Alu:()=>Cu,FiO:()=>Tu,tLy:()=>Ru,z2N:()=>Lu,oKp:()=>Nu,aF0:()=>du,TeY:()=>ku,kuU:()=>Au,V9G:()=>_u,iV1:()=>Pu,Hbs:()=>ju,esh:()=>Su,M8n:()=>Ou,Qhg:()=>pu,AYU:()=>mu,h0Y:()=>Hr,hVC:()=>Ss,XEe:()=>au,PUk:()=>qr,cK:()=>br,_Yb:()=>hr,c82:()=>Jr,wYp:()=>jl,Ds_:()=>jr,yy4:()=>oi,uym:()=>Fu,gZm:()=>ii,C5G:()=>vl,AwN:()=>El,IjX:()=>ys,U0i:()=>Tl});var r=n(39907),i=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},a=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e){this.version=e,this.type="node",this.name="node",this.os=r.platform},o=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=3,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],p=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(e){var t=function(e){return""!==e&&f.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var a=i.exec(e);return!!a&&[r,a]},!1)}(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new c;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<d&&(s=i(i([],s,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(d-s.length),!0)):s=[];var l=s.join("."),h=function(e){for(var t=0,n=p.length;t<n;t++){var r=p[t],i=r[0];if(r[1].exec(e))return i}return null}(e),b=u.exec(e);return b&&b[1]?new o(n,l,h,b[1]):new a(n,l,h)}var b=n(91315),y=n(20635),m=n(67822);class g extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof g){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),r=t.cause instanceof g&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${r??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||r?["",n?`Details: ${n}`:void 0,r?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=i,this.docsPath=r,this.shortMessage=e}walk(e){return w(this,e)}}function w(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?w(e.cause,t):t?null:e}function v(e,t){if(I(e)>t)throw new R({givenSize:I(e),maxSize:t})}function E(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;const i=e.replace("0x","");if(i.length>2*r)throw new L({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i["right"===n?"padEnd":"padStart"](2*r,"0")}`}function x(e,t,n){return JSON.stringify(e,(e,n)=>"function"==typeof t?t(e,n):"bigint"==typeof n?n.toString()+"#__bigint":n,n)}const S=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function T(e){return e instanceof Uint8Array?A(e):Array.isArray(e)?A(new Uint8Array(e)):e}function A(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=S[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(v(r,t.size),C(r,t.size)):r}function _(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let a;r?a=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const s="bigint"==typeof a&&n?-a-1n:0;if(a&&i>a||i<s){const t="bigint"==typeof e?"n":"";throw new P({max:a?`${a}${t}`:void 0,min:`${s}${t}`,signed:n,size:r,value:`${e}${t}`})}const o=`0x${(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16)}`;return r?function(e,t){return E(e,{dir:"left",size:t})}(o,r):o}function C(e,t){return E(e,{dir:"right",size:t})}function k(e,t,n,r={}){const{strict:i}=r;!function(e,t){if("number"==typeof t&&t>0&&t>I(e)-1)throw new N({offset:t,position:"start",size:I(e)})}(e,t);const a=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return i&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&I(e)!==n-t)throw new N({offset:n,position:"end",size:I(e)})}(a,t,n),a}function I(e){return Math.ceil((e.length-2)/2)}class P extends g{constructor({max:e,min:t,signed:n,size:r,value:i}){super(`Number \`${i}\` is not in safe${r?` ${8*r}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class O extends g{constructor(e){super(`Value \`${"object"==typeof e?x(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class M extends g{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class R extends g{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class N extends g{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class L extends g{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function D(e){if(130!==e.length&&132!==e.length)throw new B({signature:e});const t=BigInt(k(e,0,32)),n=BigInt(k(e,32,64)),r=(()=>{const t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return function(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new U({value:e})}(t)}catch{throw new j({value:t})}})();return void 0===r?{r:t,s:n}:{r:t,s:n,yParity:r}}class B extends g{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${I(T(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class j extends g{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class U extends g{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var F=n(64639),$=n(97713),z=n(30036);const H=BigInt(0),q=BigInt(1);function K(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function W(e){if(!K(e))throw new Error("Uint8Array expected")}function V(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function G(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Y(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?H:BigInt("0x"+e)}const J="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,Z=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function X(e){if(W(e),J)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Z[e[n]];return t}function Q(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function ee(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(J)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=Q(e.charCodeAt(i)),a=Q(e.charCodeAt(i+1));if(void 0===n||void 0===a){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+a}return r}function te(e){return Y(X(e))}function ne(e){return W(e),Y(X(Uint8Array.from(e).reverse()))}function re(e,t){return ee(e.toString(16).padStart(2*t,"0"))}function ie(e,t){return re(e,t).reverse()}function ae(e,t,n){let r;if("string"==typeof t)try{r=ee(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!K(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function se(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];W(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const oe=e=>"bigint"==typeof e&&H<=e;function ce(e,t,n){return oe(e)&&oe(t)&&oe(n)&&t<=e&&e<n}function le(e,t,n,r){if(!ce(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const ue=e=>(q<<BigInt(e))-q,de=e=>new Uint8Array(e),fe=e=>Uint8Array.from(e),pe={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||K(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function he(e,t,n={}){const r=(t,n,r)=>{const i=pe[n];if("function"!=typeof i)throw new Error("invalid validator function");const a=e[t];if(!(r&&void 0===a||i(a,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+a)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function be(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const a=e(n,...r);return t.set(n,a),a}}const ye=BigInt(0),me=BigInt(1),ge=BigInt(2),we=BigInt(3),ve=BigInt(4),Ee=BigInt(5),xe=BigInt(8);function Se(e,t){const n=e%t;return n>=ye?n:t+n}function Te(e,t,n){let r=e;for(;t-- >ye;)r*=r,r%=n;return r}function Ae(e,t){if(e===ye)throw new Error("invert: expected non-zero number");if(t<=ye)throw new Error("invert: expected positive modulus, got "+t);let n=Se(e,t),r=t,i=ye,a=me,s=me,o=ye;for(;n!==ye;){const e=r/n,t=r%n,c=i-s*e,l=a-o*e;r=n,n=t,i=s,a=o,s=c,o=l}if(r!==me)throw new Error("invert: does not exist");return Se(i,t)}function _e(e,t){const n=(e.ORDER+me)/ve,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Ce(e,t){const n=(e.ORDER-Ee)/xe,r=e.mul(t,ge),i=e.pow(r,n),a=e.mul(t,i),s=e.mul(e.mul(a,ge),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),t))throw new Error("Cannot find square root");return o}const ke=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ie(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),a=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),a),r}function Pe(e,t){const n=(e.ORDER-me)/ge,r=e.pow(t,n),i=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!a&&!s)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function Oe(e,t){void 0!==t&&(0,z.Fe)(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Me(e,t,n=!1,r={}){if(e<=ye)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:a}=Oe(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const o=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:a,MASK:ue(i),ZERO:ye,ONE:me,create:t=>Se(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return ye<=t&&t<e},is0:e=>e===ye,isOdd:e=>(e&me)===me,neg:t=>Se(-t,e),eql:(e,t)=>e===t,sqr:t=>Se(t*t,e),add:(t,n)=>Se(t+n,e),sub:(t,n)=>Se(t-n,e),mul:(t,n)=>Se(t*n,e),pow:(e,t)=>function(e,t,n){if(n<ye)throw new Error("invalid exponent, negatives unsupported");if(n===ye)return e.ONE;if(n===me)return t;let r=e.ONE,i=t;for(;n>ye;)n&me&&(r=e.mul(r,i)),i=e.sqr(i),n>>=me;return r}(o,e,t),div:(t,n)=>Se(t*Ae(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Ae(t,e),sqrt:r.sqrt||(t=>{return s||(s=(n=e)%ve===we?_e:n%xe===Ee?Ce:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-me,n=0;for(;t%ge===ye;)t/=ge,n++;let r=ge;const i=Me(e);for(;1===Pe(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return _e;let a=i.pow(r,t);const s=(t+me)/ge;return function(e,r){if(e.is0(r))return r;if(1!==Pe(e,r))throw new Error("Cannot find square root");let i=n,o=e.mul(e.ONE,a),c=e.pow(r,t),l=e.pow(r,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=me<<BigInt(i-t-1),a=e.pow(o,r);i=t,o=e.sqr(a),c=e.mul(c,o),l=e.mul(l,a)}return l}}(n)),s(o,t);var n}),toBytes:e=>n?ie(e,a):re(e,a),fromBytes:e=>{if(e.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return n?ne(e):te(e)},invertBatch:e=>Ie(o,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(o)}function Re(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ne(e){const t=Re(e);return t+Math.ceil(t/2)}const Le=BigInt(0),De=BigInt(1);function Be(e,t){const n=t.negate();return e?n:t}function je(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ue(e,t){je(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:ue(e),maxNumber:n,shiftBy:BigInt(e)}}function Fe(e,t,n){const{windowSize:r,mask:i,maxNumber:a,shiftBy:s}=n;let o=Number(e&i),c=e>>s;o>r&&(o-=a,c+=De);const l=t*r;return{nextN:c,offset:l+Math.abs(o)-1,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:l}}const $e=new WeakMap,ze=new WeakMap;function He(e){return ze.get(e)||1}function qe(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=function(e){let t;for(t=0;e>H;e>>=q,t+=1);return t}(BigInt(i));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=ue(c),u=new Array(Number(l)+1).fill(s);let d=s;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){u.fill(s);for(let t=0;t<a;t++){const i=r[t],a=Number(i>>BigInt(e)&l);u[a]=u[a].add(n[t])}let t=s;for(let e=u.length-1,n=s;e>0;e--)n=n.add(u[e]),t=t.add(n);if(d=d.add(t),0!==e)for(let e=0;e<c;e++)d=d.double()}return d}function Ke(e){return he(e.Fp,ke.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),he(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Oe(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function We(e){void 0!==e.lowS&&V("lowS",e.lowS),void 0!==e.prehash&&V("prehash",e.prehash)}class Ve extends Error{constructor(e=""){super(e)}}const Ge={Err:Ve,_tlv:{encode:(e,t)=>{const{Err:n}=Ge;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=G(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?G(i.length/2|128):"";return G(e)+a+i+t},decode(e,t){const{Err:n}=Ge;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let a=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of s)a=a<<8|e;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=i;const s=t.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=Ge;if(e<Je)throw new t("integer: negative integers are not allowed");let n=G(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ge;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return te(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ge,i=ae("signature",e),{v:a,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Ge,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}};function Ye(e,t){return X(re(e,t))}const Je=BigInt(0),Ze=BigInt(1),Xe=(BigInt(2),BigInt(3)),Qe=BigInt(4);function et(e){const t=function(e){const t=Ke(e);return he(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r,nByteLength:i,nBitLength:a}=t,s=n.BYTES+1,o=2*n.BYTES+1;function c(e){return Se(e,r)}function l(e){return Ae(e,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:p}=function(e){const t=function(e){const t=Ke(e);he(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=t,r=Me(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return se(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,a=n.sqr(e),s=n.mul(a,e);return n.add(n.add(s,n.mul(e,r)),i)}function o(e,t){const r=n.sqr(t),i=s(e);return n.eql(r,i)}if(!o(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Xe),Qe),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:a}=t;if(n&&"bigint"!=typeof e){if(K(e)&&(e=X(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:te(ae("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(s=Se(s,a)),le("private key",s,Ze,a),s}function d(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}const f=be((e,t)=>{const{px:r,py:i,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:i};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(a));const o=n.mul(r,t),c=n.mul(i,t),l=n.mul(a,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:o,y:c}}),p=be(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");if(!o(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=Ie(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(a(ae("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(u(e))}static msm(e,t){return qe(h,r,e,t)}_setWindowSize(e){m.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){d(e);const{px:t,py:r,pz:i}=this,{px:a,py:s,pz:o}=e,c=n.eql(n.mul(t,o),n.mul(a,i)),l=n.eql(n.mul(r,o),n.mul(s,i));return c&&l}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Xe),{px:a,py:s,pz:o}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(a,a),f=n.mul(s,s),p=n.mul(o,o),b=n.mul(a,s);return b=n.add(b,b),u=n.mul(a,o),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(b,c),u=n.mul(i,u),p=n.mul(e,p),b=n.sub(d,p),b=n.mul(e,b),b=n.add(b,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,b),l=n.add(l,d),p=n.mul(s,o),p=n.add(p,p),d=n.mul(p,b),c=n.sub(c,d),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new h(c,l,u)}add(e){d(e);const{px:r,py:i,pz:a}=this,{px:s,py:o,pz:c}=e;let l=n.ZERO,u=n.ZERO,f=n.ZERO;const p=t.a,b=n.mul(t.b,Xe);let y=n.mul(r,s),m=n.mul(i,o),g=n.mul(a,c),w=n.add(r,i),v=n.add(s,o);w=n.mul(w,v),v=n.add(y,m),w=n.sub(w,v),v=n.add(r,a);let E=n.add(s,c);return v=n.mul(v,E),E=n.add(y,g),v=n.sub(v,E),E=n.add(i,a),l=n.add(o,c),E=n.mul(E,l),l=n.add(m,g),E=n.sub(E,l),f=n.mul(p,v),l=n.mul(b,g),f=n.add(l,f),l=n.sub(m,f),f=n.add(m,f),u=n.mul(l,f),m=n.add(y,y),m=n.add(m,y),g=n.mul(p,g),v=n.mul(b,v),m=n.add(m,g),g=n.sub(y,g),g=n.mul(p,g),v=n.add(v,g),y=n.mul(m,v),u=n.add(u,y),y=n.mul(E,v),l=n.mul(w,l),l=n.sub(l,y),y=n.mul(w,m),f=n.mul(E,f),f=n.add(f,y),new h(l,u,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return m.wNAFCached(this,e,h.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;le("scalar",e,Je,i);const a=h.ZERO;if(e===Je)return a;if(this.is0()||e===Ze)return this;if(!r||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,e,h.normalizeZ);let{k1neg:s,k1:o,k2neg:c,k2:l}=r.splitScalar(e),u=a,d=a,f=this;for(;o>Je||l>Je;)o&Ze&&(u=u.add(f)),l&Ze&&(d=d.add(f)),f=f.double(),o>>=Ze,l>>=Ze;return s&&(u=u.negate()),c&&(d=d.negate()),d=new h(n.mul(d.px,r.beta),d.py,d.pz),u.add(d)}multiply(e){const{endo:r,n:i}=t;let a,s;if(le("scalar",e,Ze,i),r){const{k1neg:t,k1:i,k2neg:o,k2:c}=r.splitScalar(e);let{p:l,f:u}=this.wNAF(i),{p:d,f}=this.wNAF(c);l=m.constTimeNegate(t,l),d=m.constTimeNegate(o,d),d=new h(n.mul(d.px,r.beta),d.py,d.pz),a=l.add(d),s=u.add(f)}else{const{p:t,f:n}=this.wNAF(e);a=t,s=n}return h.normalizeZ([a,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,i=(e,t)=>t!==Je&&t!==Ze&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,n));return a.is0()?void 0:a}toAffine(e){return f(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Ze)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Ze?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return V("isCompressed",e),this.assertValidity(),i(h,this,e)}toHex(e=!0){return V("isCompressed",e),X(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const{endo:b,nBitLength:y}=t,m=(g=h,w=b?Math.ceil(y/2):y,{constTimeNegate:Be,hasPrecomputes:e=>1!==He(e),unsafeLadder(e,t,n=g.ZERO){let r=e;for(;t>Le;)t&De&&(n=n.add(r)),r=r.double(),t>>=De;return n},precomputeWindow(e,t){const{windows:n,windowSize:r}=Ue(t,w),i=[];let a=e,s=a;for(let e=0;e<n;e++){s=a,i.push(s);for(let e=1;e<r;e++)s=s.add(a),i.push(s);a=s.double()}return i},wNAF(e,t,n){let r=g.ZERO,i=g.BASE;const a=Ue(e,w);for(let e=0;e<a.windows;e++){const{nextN:s,offset:o,isZero:c,isNeg:l,isNegF:u,offsetF:d}=Fe(n,e,a);n=s,c?i=i.add(Be(u,t[d])):r=r.add(Be(l,t[o]))}return{p:r,f:i}},wNAFUnsafe(e,t,n,r=g.ZERO){const i=Ue(e,w);for(let e=0;e<i.windows&&n!==Le;e++){const{nextN:a,offset:s,isZero:o,isNeg:c}=Fe(n,e,i);if(n=a,!o){const e=t[s];r=r.add(c?e.negate():e)}}return r},getPrecomputes(e,t,n){let r=$e.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&$e.set(t,n(r))),r},wNAFCached(e,t,n){const r=He(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=He(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,t){je(t,w),ze.set(e,t),$e.delete(e)}});var g,w;return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:function(e){return ce(e,Ze,t.n)}}}({...t,toBytes(e,t,r){const i=t.toAffine(),a=n.toBytes(i.x),s=se;return V("isCompressed",r),r?s(Uint8Array.from([t.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==s||2!==r&&3!==r){if(t===o&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+s+", or uncompressed "+o+", got "+t)}{const e=te(i);if(!ce(e,Ze,n.ORDER))throw new Error("Point is not on curve");const t=f(e);let a;try{a=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!=((a&Ze)===Ze)&&(a=n.neg(a)),{x:e,y:a}}}});function h(e){return e>r>>Ze}const b=(e,t,n)=>te(e.slice(t,n));class y{constructor(e,t,n){le("r",e,Ze,r),le("s",t,Ze,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=i;return e=ae("compactSignature",e,2*t),new y(b(e,0,t),b(e,t,2*t))}static fromDER(e){const{r:t,s:n}=Ge.toSig(ae("DER",e));return new y(t,n)}assertValidity(){}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:a}=this,s=v(ae("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const o=2===a||3===a?r+t.n:r;if(o>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&a?"03":"02",f=u.fromHex(d+Ye(o,n.BYTES)),p=l(o),h=c(-s*p),b=c(i*p),y=u.BASE.multiplyAndAddUnsafe(f,h,b);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ee(this.toDERHex())}toDERHex(){return Ge.hexFromSig(this)}toCompactRawBytes(){return ee(this.toCompactHex())}toCompactHex(){const e=i;return Ye(this.r,e)+Ye(this.s,e)}}const m={isValidPrivateKey(e){try{return d(e),!0}catch(e){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const e=Ne(t.n);return function(e,t,n=!1){const r=e.length,i=Re(t),a=Ne(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const s=Se(n?ne(e):te(e),t-me)+me;return n?ie(s,i):re(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){if("bigint"==typeof e)return!1;if(e instanceof u)return!0;const r=ae("key",e).length,a=n.BYTES,s=a+1,o=2*a+1;return t.allowedPrivateKeyLengths||i===s?void 0:r===s||r===o}const w=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=te(e),n=8*e.length-a;return n>0?t>>BigInt(n):t},v=t.bits2int_modN||function(e){return c(w(e))},E=ue(a);function x(e){return le("num < 2^"+a,e,Je,E),re(e,i)}const S={lowS:t.lowS,prehash:!1},T={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(!0===g(e))throw new Error("first arg must be private key");if(!1===g(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(d(e)).toRawBytes(n)},sign:function(e,r,i=S){const{seed:a,k2sig:s}=function(e,r,i=S){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:s}=t;let{lowS:o,prehash:f,extraEntropy:b}=i;null==o&&(o=!0),e=ae("msgHash",e),We(i),f&&(e=ae("prehashed msgHash",a(e)));const m=v(e),g=d(r),E=[x(g),x(m)];if(null!=b&&!1!==b){const e=!0===b?s(n.BYTES):b;E.push(ae("extraEntropy",e))}const T=se(...E),A=m;return{seed:T,k2sig:function(e){const t=w(e);if(!p(t))return;const n=l(t),r=u.BASE.multiply(t).toAffine(),i=c(r.x);if(i===Je)return;const a=c(n*c(A+i*g));if(a===Je)return;let s=(r.x===i?0:2)|Number(r.y&Ze),d=a;return o&&h(a)&&(d=function(e){return h(e)?c(-e):e}(a),s^=1),new y(i,d,s)}}}(e,r,i),o=t,f=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=de(e),i=de(e),a=0;const s=()=>{r.fill(1),i.fill(0),a=0},o=(...e)=>n(i,r,...e),c=(e=de(0))=>{i=o(fe([0]),e),r=o(),0!==e.length&&(i=o(fe([1]),e),r=o())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return se(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(l()));)c();return s(),n}}(o.hash.outputLen,o.nByteLength,o.hmac);return f(a,s)},verify:function(e,n,r,i=T){const a=e;n=ae("msgHash",n),r=ae("publicKey",r);const{lowS:s,prehash:o,format:d}=i;if(We(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw new Error("format must be compact or der");const f="string"==typeof a||K(a),p=!f&&!d&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!f&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let h,b;try{if(p&&(h=new y(a.r,a.s)),f){try{"compact"!==d&&(h=y.fromDER(a))}catch(e){if(!(e instanceof Ge.Err))throw e}h||"der"===d||(h=y.fromCompact(a))}b=u.fromHex(r)}catch(e){return!1}if(!h)return!1;if(s&&h.hasHighS())return!1;o&&(n=t.hash(n));const{r:m,s:g}=h,w=v(n),E=l(g),x=c(w*E),S=c(m*E),A=u.BASE.multiplyAndAddUnsafe(b,x,S)?.toAffine();return!!A&&c(A.x)===m},ProjectivePoint:u,Signature:y,utils:m}}function tt(e){return{hash:e,hmac:(t,...n)=>(0,$.w)(e,t,(0,z.Id)(...n)),randomBytes:z.po}}const nt=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),it=BigInt(0),at=BigInt(1),st=BigInt(2),ot=(e,t)=>(e+t/st)/t;const ct=Me(nt,void 0,void 0,{sqrt:function(e){const t=nt,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Te(u,n,t)*u%t,f=Te(d,n,t)*u%t,p=Te(f,st,t)*l%t,h=Te(p,i,t)*p%t,b=Te(h,a,t)*h%t,y=Te(b,o,t)*b%t,m=Te(y,c,t)*y%t,g=Te(m,o,t)*b%t,w=Te(g,n,t)*u%t,v=Te(w,s,t)*h%t,E=Te(v,r,t)*l%t,x=Te(E,st,t);if(!ct.eql(ct.sqr(x),e))throw new Error("Cannot find square root");return x}}),lt=function(e,t){const n=t=>et({...e,...tt(t)});return{...n(t),create:n}}({a:it,b:BigInt(7),Fp:ct,n:rt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=rt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-at*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,s=BigInt("0x100000000000000000000000000000000"),o=ot(a*e,t),c=ot(-r*e,t);let l=Se(e-o*n-c*i,t),u=Se(-o*r-c*a,t);const d=l>s,f=u>s;if(d&&(l=t-l),f&&(u=t-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},F.sc),ut={zero:48,nine:57,A:65,F:70,a:97,f:102};function dt(e){return e>=ut.zero&&e<=ut.nine?e-ut.zero:e>=ut.A&&e<=ut.F?e-(ut.A-10):e>=ut.a&&e<=ut.f?e-(ut.a-10):void 0}const ft=new TextEncoder;function pt(e){return e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){const{size:n}=t;let r=e;n&&(v(e,n),r=C(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const a=i.length/2,s=new Uint8Array(a);for(let e=0,t=0;e<a;e++){const n=dt(i.charCodeAt(t++)),r=dt(i.charCodeAt(t++));if(void 0===n||void 0===r)throw new g(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);s[e]=16*n+r}return s}(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function ht(e){return e.length}class bt extends g{constructor(e){super(`Value \`${"object"==typeof e?x(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class yt extends g{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class mt extends g{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class gt extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const wt={checksum:new gt(8192)}.checksum;var vt=n(30113);function Et(e,t={}){const{as:n=("string"==typeof e?"Hex":"Bytes")}=t,r=(0,vt.lY)(pt(e));return"Bytes"===n?r:A(r)}function xt(e,t={}){const{compressed:n}=t,{prefix:r,x:i,y:a}=e;if(!1===n||"bigint"==typeof i&&"bigint"==typeof a){if(4!==r)throw new _t({prefix:r,cause:new kt})}else{if(!0!==n&&("bigint"!=typeof i||void 0!==a))throw new At({publicKey:e});if(3!==r&&2!==r)throw new _t({prefix:r,cause:new Ct})}}function St(e){const t=(()=>{if(function(e,t={}){const{strict:n=!1}=t;try{return function(e,t={}){const{strict:n=!1}=t;if(!e)throw new O(e);if("string"!=typeof e)throw new O(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new M(e);if(!e.startsWith("0x"))throw new M(e)}(e,{strict:n}),!0}catch{return!1}}(e))return Tt(e);if(function(e){try{return function(e){if(!(e instanceof Uint8Array)){if(!e)throw new bt(e);if("object"!=typeof e)throw new bt(e);if(!("BYTES_PER_ELEMENT"in e))throw new bt(e);if(1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name)throw new bt(e)}}(e),!0}catch{return!1}}(e))return function(e){return Tt(A(e))}(e);const{prefix:t,x:n,y:r}=e;return"bigint"==typeof n&&"bigint"==typeof r?{prefix:t??4,x:n,y:r}:{prefix:t,x:n}})();return xt(t),t}function Tt(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new It({publicKey:e});return 130===e.length?{prefix:4,x:BigInt(k(e,0,32)),y:BigInt(k(e,32,64))}:132===e.length?{prefix:Number(k(e,0,1)),x:BigInt(k(e,1,33)),y:BigInt(k(e,33,65))}:{prefix:Number(k(e,0,1)),x:BigInt(k(e,1,33))}}class At extends g{constructor({publicKey:e}){super(`Value \`${x(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class _t extends g{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Ct extends g{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class kt extends g{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class It extends g{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${I(T(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const Pt=/^0x[a-fA-F0-9]{40}$/;function Ot(e,t={}){const{strict:n=!0}=t;if(!Pt.test(e))throw new Nt({address:e,cause:new Lt});if(n){if(e.toLowerCase()===e)return;if(Mt(e)!==e)throw new Nt({address:e,cause:new Dt})}}function Mt(e){if(wt.has(e))return wt.get(e);Ot(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Et(function(e,t={}){const{size:n}=t,r=ft.encode(e);return"number"==typeof n?(function(e,t){if(ht(e)>t)throw new yt({givenSize:ht(e),maxSize:t})}(r,n),function(e,t){return function(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new mt({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let t=0;t<r;t++){const a="right"===n;i[a?t:r-t-1]=e[a?t:e.length-t-1]}return i}(e,{dir:"right",size:t})}(r,n)):r}(t),{as:"Bytes"}),r=t.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&r[e]&&(r[e]=r[e].toUpperCase()),(15&n[e>>1])>=8&&r[e+1]&&(r[e+1]=r[e+1].toUpperCase());const i=`0x${r.join("")}`;return wt.set(e,i),i}function Rt(e,t={}){return function(e,t={}){const{checksum:n=!1}=t;return Ot(e),n?Mt(e):e}(`0x${Et(`0x${function(e,t={}){xt(e);const{prefix:n,x:r,y:i}=e,{includePrefix:a=!0}=t;return function(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}(a?_(n,{size:1}):"0x",_(r,{size:32}),"bigint"==typeof i?_(i,{size:32}):"0x")}(e).slice(4)}`).substring(26)}`,t)}class Nt extends g{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Lt extends g{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Dt extends g{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Bt=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),i=r.charCodeAt(0);if(255!==t[i])throw new TypeError(r+" is ambiguous");t[i]=n}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function s(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let a=0,s=0,o=0;for(;e[a]===r;)s++,a++;const c=(e.length-a)*i+1>>>0,l=new Uint8Array(c);for(;a<e.length;){const r=e.charCodeAt(a);if(r>255)return;let i=t[r];if(255===i)return;let s=0;for(let e=c-1;(0!==i||s<o)&&-1!==e;e--,s++)i+=n*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");o=s,a++}let u=c-o;for(;u!==c&&0===l[u];)u++;const d=new Uint8Array(s+(c-u));let f=s;for(;u!==c;)d[f++]=l[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,s=0,o=0;const c=t.length;for(;o!==c&&0===t[o];)o++,i++;const l=(c-o)*a+1>>>0,u=new Uint8Array(l);for(;o!==c;){let e=t[o],r=0;for(let t=l-1;(0!==e||r<s)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");s=r,o++}let d=l-s;for(;d!==l&&0===u[d];)d++;let f=r.repeat(i);for(;d<l;++d)f+=e.charAt(u[d]);return f},decodeUnsafe:s,decode:function(e){const t=s(e);if(t)return t;throw new Error("Non-base"+n+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function jt(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}class Ut{constructor(e,t){this.type=e,this.data=t}}class Ft extends Error{constructor(e){super(e);const t=Object.create(Ft.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Ft.name})}}const $t=4294967295;function zt(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function Ht(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}const qt={type:-1,encode:function(e){return e instanceof Date?function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=17179869183){if(0===t&&e<=4294967295){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}{const n=e/4294967296,r=4294967295&e,i=new Uint8Array(8),a=new DataView(i.buffer);return a.setUint32(0,t<<2|3&n),a.setUint32(4,r),i}}{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),zt(r,4,e),n}}(function(e){const t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}(e)):null},decode:function(e){const t=function(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:Ht(t,4),nsec:t.getUint32(0)};default:throw new Ft(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class Kt{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(qt)}register({type:e,encode:t,decode:n}){if(e>=0)this.encoders[e]=t,this.decoders[e]=n;else{const r=-1-e;this.builtInEncoders[r]=t,this.builtInDecoders[r]=n}}tryToEncode(e,t){for(let n=0;n<this.builtInEncoders.length;n++){const r=this.builtInEncoders[n];if(null!=r){const i=r(e,t);if(null!=i)return new Ut(-1-n,i)}}for(let n=0;n<this.encoders.length;n++){const r=this.encoders[n];if(null!=r){const i=r(e,t);if(null!=i)return new Ut(n,i)}}return e instanceof Ut?e:null}decode(e,t,n){const r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new Ut(t,e)}}Kt.defaultCodec=new Kt;const Wt=new TextEncoder;function Vt(e,t,n){let r=t;const i=r+n,a=[];let s="";for(;r<i;){const t=e[r++];if(128&t)if(192==(224&t)){const n=63&e[r++];a.push((31&t)<<6|n)}else if(224==(240&t)){const n=63&e[r++],i=63&e[r++];a.push((31&t)<<12|n<<6|i)}else if(240==(248&t)){let n=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];n>65535&&(n-=65536,a.push(n>>>10&1023|55296),n=56320|1023&n),a.push(n)}else a.push(t);else a.push(t);a.length>=4096&&(s+=String.fromCharCode(...a),a.length=0)}return a.length>0&&(s+=String.fromCharCode(...a)),s}const Gt=new TextDecoder;function Yt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):function(e){return e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}(e)?new Uint8Array(e):Uint8Array.from(e)}const Jt="array",Zt="map_key",Xt="map_value",Qt=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new Ft("The type of key must be string or number but "+typeof e)};class en{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=Jt,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=Zt,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===Jt){const t=e;t.size=0,t.array=void 0,t.position=0,t.type=void 0}if(e.type===Zt||e.type===Xt){const t=e;t.size=0,t.map=void 0,t.readCount=0,t.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const tn=new DataView(new ArrayBuffer(0)),nn=new Uint8Array(tn.buffer);try{tn.getInt8(0)}catch(jn){if(!(jn instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const rn=new RangeError("Insufficient data"),an=new class{constructor(e=16,t=16){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,n){const r=this.caches[n-1];e:for(const i of r){const r=i.bytes;for(let i=0;i<n;i++)if(r[i]!==e[t+i])continue e;return i.str}return null}store(e,t){const n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)}decode(e,t,n){const r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;const i=Vt(e,t,n),a=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(a,i),i}};class sn{constructor(e){this.totalPos=0,this.pos=0,this.view=tn,this.bytes=nn,this.headByte=-1,this.stack=new en,this.entered=!1,this.extensionCodec=e?.extensionCodec??Kt.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??$t,this.maxBinLength=e?.maxBinLength??$t,this.maxArrayLength=e?.maxArrayLength??$t,this.maxMapLength=e?.maxMapLength??$t,this.maxExtLength=e?.maxExtLength??$t,this.keyDecoder=void 0!==e?.keyDecoder?e.keyDecoder:an,this.mapKeyConverter=e?.mapKeyConverter??Qt}clone(){return new sn({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){const t=Yt(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){const t=this.bytes.subarray(this.pos),n=Yt(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:n}=this;return new RangeError(`Extra ${t.byteLength-n} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){const t=this.clone();return void(yield*t.decodeMulti(e))}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let t,n=!1;for await(const r of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(r);try{t=this.doDecodeSync(),n=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}const{headByte:r,pos:i,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${jt(r)} at ${a} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,t){if(this.entered){const n=this.clone();return void(yield*n.decodeMultiAsync(e,t))}try{this.entered=!0;let n=t,r=-1;for await(const i of e){if(t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),n&&(r=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),0!==--r;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const n=e-128;if(0!==n){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){const n=e-144;if(0!==n){this.pushArrayState(n),this.complete();continue e}t=[]}else{const n=e-160;t=this.decodeString(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeString(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeString(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeString(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new Ft(`Unrecognized type byte: ${jt(e)}`);{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const n=this.stack;for(;n.length>0;){const e=n.top();if(e.type===Jt){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;t=e.array,n.release(e)}else{if(e.type===Zt){if("__proto__"===t)throw new Ft("The key __proto__ is not allowed");e.key=this.mapKeyConverter(t),e.type=Xt;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=Zt;continue e}t=e.map,n.release(e)}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new Ft(`Unrecognized array type byte: ${jt(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new Ft(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Ft(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){if(e>this.maxStrLength)throw new Ft(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw rn;const n=this.pos+t;let r;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,n,e):function(e,t,n){return n>200?function(e,t,n){const r=e.subarray(t,t+n);return Gt.decode(r)}(e,t,n):Vt(e,t,n)}(this.bytes,n,e),this.pos+=t+e,r}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===Zt}decodeBinary(e,t){if(e>this.maxBinLength)throw new Ft(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw rn;const n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r}decodeExtension(e,t){if(e>this.maxExtLength)throw new Ft(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=(t=this.view,n=this.pos,4294967296*t.getUint32(n)+t.getUint32(n+4));var t,n;return this.pos+=8,e}readI64(){const e=Ht(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}class on{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??Kt.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new on({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error(`Too long string: ${e} bytes in UTF-8`);this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=function(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if(4294967168&i)if(4294965248&i){if(i>=55296&&i<=56319&&r<t){const t=e.charCodeAt(r);56320==(64512&t)&&(++r,i=((1023&i)<<10)+(1023&t)+65536)}n+=4294901760&i?4:3}else n+=2;else n++}return n}(e);var n,r,i;this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),n=e,r=this.bytes,i=this.pos,n.length>50?function(e,t,n){Wt.encodeInto(e,t.subarray(n))}(n,r,i):function(e,t,n){const r=e.length;let i=n,a=0;for(;a<r;){let n=e.charCodeAt(a++);if(4294967168&n){if(4294965248&n){if(n>=55296&&n<=56319&&a<r){const t=e.charCodeAt(a);56320==(64512&t)&&(++a,n=((1023&n)<<10)+(1023&t)+65536)}4294901760&n?(t[i++]=n>>18&7|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128):(t[i++]=n>>12&15|224,t[i++]=n>>6&63|128)}else t[i++]=n>>6&31|192;t[i++]=63&n|128}else t[i++]=n}}(n,r,i),this.pos+=t}encodeObject(e,t){const n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`);this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large binary: ${t}`);this.writeU8(198),this.writeU32(t)}const n=Yt(e);this.writeU8a(n)}encodeArray(e,t){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error(`Too large array: ${n}`);this.writeU8(221),this.writeU32(n)}for(const n of e)this.doEncode(n,t+1)}countWithoutUndefined(e,t){let n=0;for(const r of t)void 0!==e[r]&&n++;return n}encodeMap(e,t){const n=Object.keys(e);this.sortKeys&&n.sort();const r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error(`Too large map object: ${r}`);this.writeU8(223),this.writeU32(r)}for(const r of n){const n=e[r];this.ignoreUndefined&&void 0===n||(this.encodeString(r),this.doEncode(n,t+1))}}encodeExtension(e){if("function"==typeof e.data){const t=e.data(this.pos+6),n=t.length;if(n>=4294967296)throw new Error(`Too large extension object: ${n}`);return this.writeU8(201),this.writeU32(n),this.writeI8(e.type),void this.writeU8a(t)}const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large extension object: ${t}`);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),function(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),zt(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function cn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ln(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function un(e){if("function"!=typeof e)throw new Error("function expected");return!0}function dn(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function fn(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function pn(e){if(!Array.isArray(e))throw new Error("array expected")}function hn(e,t){if(!ln(!0,t))throw new Error(`${e}: array of strings expected`)}function bn(e,t){if(!ln(!1,t))throw new Error(`${e}: array of numbers expected`)}function yn(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map(e=>e.encode).reduceRight(n,t),decode:e.map(e=>e.decode).reduce(n,t)}}function mn(e){const t="string"==typeof e?e.split(""):e,n=t.length;hn("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(pn(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]})),decode:t=>(pn(t),t.map(t=>{dn("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}function gn(e=""){return dn("join",e),{encode:t=>(hn("join.decode",t),t.join(e)),decode:t=>(dn("join.decode",t),t.split(e))}}function wn(e,t="="){return fn(e),dn("padding",t),{encode(n){for(hn("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){hn("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8==0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function vn(e){return un(e),{encode:e=>e,decode:t=>e(t)}}function En(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(pn(e),!e.length)return[];let r=0;const i=[],a=Array.from(e,e=>{if(fn(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e}),s=a.length;for(;;){let e=0,o=!0;for(let i=r;i<s;i++){const s=a[i],c=t*e,l=c+s;if(!Number.isSafeInteger(l)||c/t!==e||l-s!==c)throw new Error("convertRadix: carry overflow");const u=l/n;e=l%n;const d=Math.floor(u);if(a[i]=d,!Number.isSafeInteger(d)||d*n+e!==l)throw new Error("convertRadix: carry overflow");o&&(d?o=!1:r=i)}if(i.push(e),o)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}const xn=(e,t)=>0===t?e:xn(t,e%t),Sn=(e,t)=>e+(t-xn(e,t)),Tn=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function An(e,t,n,r){if(pn(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Sn(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Sn(t,n)}`);let i=0,a=0;const s=Tn[t],o=Tn[n]-1,c=[];for(const r of e){if(fn(r),r>=s)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,a+t>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=n;a-=n)c.push((i>>a-n&o)>>>0);const e=Tn[a];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<n-a&o,!r&&a>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&a>0&&c.push(i>>>0),c}function _n(e,t=!1){if(fn(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Sn(8,e)>32||Sn(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!cn(n))throw new Error("radix2.encode input should be Uint8Array");return An(Array.from(n),8,e,!t)},decode:n=>(bn("radix2.decode",n),Uint8Array.from(An(n,e,8,t)))}}function Cn(e){return un(e),function(...t){try{return e.apply(null,t)}catch(e){}}}yn(_n(4),mn("0123456789ABCDEF"),gn(""));const kn=yn(_n(5),mn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),wn(5),gn("")),In=(yn(_n(5),mn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),gn("")),yn(_n(5),mn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),wn(5),gn("")),yn(_n(5),mn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),gn("")),yn(_n(5),mn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),gn(""),vn(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),(()=>"function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64)()),Pn=(In||yn(_n(6),mn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),wn(6),gn("")),yn(_n(6),mn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),gn("")),In||yn(_n(6),mn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),wn(6),gn("")),yn(_n(6),mn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),gn("")),e=>{return yn((fn(t=58),{encode:e=>{if(!cn(e))throw new Error("radix.encode input should be Uint8Array");return En(Array.from(e),256,t)},decode:e=>(bn("radix.decode",e),Uint8Array.from(En(e,t,256)))}),mn(e),gn(""));var t}),On=(Pn("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Pn("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Pn("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),yn(mn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),gn(""))),Mn=[996825010,642813549,513874426,1027748829,705979059];function Rn(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<Mn.length;e++)1==(t>>e&1)&&(n^=Mn[e]);return n}function Nn(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=Rn(i)^n>>5}i=Rn(i);for(let t=0;t<r;t++)i=Rn(i)^31&e.charCodeAt(t);for(let e of t)i=Rn(i)^e;for(let e=0;e<6;e++)i=Rn(i);return i^=n,On.encode(An([i%Tn[30]],30,5,!1))}function Ln(e){const t="bech32"===e?1:734539939,n=_n(5),r=n.decode,i=n.encode,a=Cn(r);function s(e,n,r=90){dn("bech32.encode prefix",e),cn(n)&&(n=Array.from(n)),bn("bech32.encode",n);const i=e.length;if(0===i)throw new TypeError(`Invalid prefix length ${i}`);const a=i+7+n.length;if(!1!==r&&a>r)throw new TypeError(`Length ${a} exceeds limit ${r}`);const s=e.toLowerCase(),o=Nn(s,n,t);return`${s}1${On.encode(n)}${o}`}function o(e,n=90){dn("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError(`invalid string length: ${r} (${e}). Expected (8..${n})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const a=i.lastIndexOf("1");if(0===a||-1===a)throw new Error('Letter "1" must be present between prefix and data only');const s=i.slice(0,a),o=i.slice(a+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const c=On.decode(o).slice(0,-6),l=Nn(s,c,t);if(!o.endsWith(l))throw new Error(`Invalid checksum in ${e}: expected "${l}"`);return{prefix:s,words:c}}return{encode:s,decode:o,encodeFromBytes:function(e,t){return s(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:n}=o(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:Cn(o),fromWords:r,fromWordsUnsafe:a,toWords:i}}Ln("bech32"),Ln("bech32m");(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)()||yn(_n(4),mn("0123456789abcdef"),gn(""),vn(e=>{if("string"!=typeof e||e.length%2!=0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));var Dn=n(97353),Bn=n(15456);function jn(e,t,n="string"){if(!e[t]||typeof e[t]!==n)throw new Error(`Missing or invalid "${t}" param`)}const Un={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Fn=n(89620),$n=n(18802),zn=n.n($n),Hn=n(25607);const qn=1024e3;var Kn=Object.defineProperty,Wn=(e,t,n)=>((e,t,n)=>t in e?Kn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Vn{constructor(e){Wn(this,"nodeValue"),Wn(this,"sizeInBytes"),Wn(this,"next"),this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Gn{constructor(e){Wn(this,"lengthInNodes"),Wn(this,"sizeInBytes"),Wn(this,"head"),Wn(this,"tail"),Wn(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new Vn(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}var Yn=Object.defineProperty,Jn=(e,t,n)=>((e,t,n)=>t in e?Yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Zn{constructor(e,t=qn){Jn(this,"logs"),Jn(this,"level"),Jn(this,"levelValue"),Jn(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=$n.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new Gn(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===$n.levels.values.error?console.error(e):t===$n.levels.values.warn?console.warn(e):t===$n.levels.values.debug?console.debug(e):t===$n.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,Hn.h)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new Gn(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,Hn.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var Xn=Object.defineProperty;class Qn{constructor(e,t=qn){((e,t,n)=>{((e,t,n)=>{t in e?Xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"baseChunkLogger"),this.baseChunkLogger=new Zn(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}var er=Object.defineProperty;class tr{constructor(e,t=qn){((e,t,n)=>{((e,t,n)=>{t in e?er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"baseChunkLogger"),this.baseChunkLogger=new Zn(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var nr=Object.defineProperty,rr=Object.defineProperties,ir=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,sr=Object.prototype.hasOwnProperty,or=Object.prototype.propertyIsEnumerable,cr=(e,t,n)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lr=(e,t)=>{for(var n in t||(t={}))sr.call(t,n)&&cr(e,n,t[n]);if(ar)for(var n of ar(t))or.call(t,n)&&cr(e,n,t[n]);return e},ur=(e,t)=>rr(e,ir(t));var dr=n(39907),fr=n(1048).Buffer;const pr=":";function hr(e){const[t,n]=e.split(pr);return{namespace:t,reference:n}}function br(e){const[t,n,r]=e.split(pr);return{namespace:t,reference:n,address:r}}function yr(e,t=[]){const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const i=e[r];n.push(...i.accounts)}),n}function mr(e,t){return e.includes(":")?[e]:t.chains||[]}var gr=Object.defineProperty,wr=Object.defineProperties,vr=Object.getOwnPropertyDescriptors,Er=Object.getOwnPropertySymbols,xr=Object.prototype.hasOwnProperty,Sr=Object.prototype.propertyIsEnumerable,Tr=(e,t,n)=>t in e?gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ar=(e,t)=>{for(var n in t||(t={}))xr.call(t,n)&&Tr(e,n,t[n]);if(Er)for(var n of Er(t))Sr.call(t,n)&&Tr(e,n,t[n]);return e},_r=(e,t)=>wr(e,vr(t)),Cr=(e,t,n)=>Tr(e,"symbol"!=typeof t?t+"":t,n);const kr="ReactNative",Ir={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Pr="js";function Or(){return typeof dr<"u"&&typeof dr.versions<"u"&&typeof dr.versions.node<"u"}function Mr(){return!(0,y.getDocument)()&&!!(0,y.getNavigator)()&&navigator.product===kr}function Rr(){return Mr()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"android"===(null==global?void 0:global.Platform.OS)}function Nr(){return Mr()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"ios"===(null==global?void 0:global.Platform.OS)}function Lr(){return!Or()&&!!(0,y.getNavigator)()&&!!(0,y.getDocument)()}function Dr(){return Mr()?Ir.reactNative:Or()?Ir.node:Lr()?Ir.browser:Ir.unknown}function Br(){var e;try{return Mr()&&typeof global<"u"&&typeof(null==global?void 0:global.Application)<"u"?null==(e=global.Application)?void 0:e.applicationId:void 0}catch{return}}function jr(e){var t,n;const r=Ur();try{return null!=e&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),_r(Ar(Ar({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:null!=(n=e?.icons)&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(t){return console.warn("Error populating app metadata",t),e||r}}function Ur(){return(0,m.g)()||{name:"",description:"",url:"",icons:[""]}}function Fr(e,t,n){const i=function(){if(Dr()===Ir.reactNative&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){const{OS:e,Version:t}=global.Platform;return[e,t].join("-")}const e=t?h(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?h(navigator.userAgent):void 0!==r&&r.version?new s(r.version.slice(1)):null;var t;if(null===e)return"unknown";const n=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[n,e.name,e.version].join("-"):[n,e.version].join("-")}(),a=function(){var e;const t=Dr();return t===Ir.browser?[t,(null==(e=(0,y.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[Pr,n].join("-"),i,a].join("/")}function $r({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:i,projectId:a,useOnCloseEvent:s,bundleId:o,packageName:c}){const l=n.split("?"),u={auth:i,ua:Fr(e,t,r),projectId:a,useOnCloseEvent:s||void 0,packageName:c||void 0,bundleId:o||void 0},d=function(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,t])=>{null!=t&&n.set(e,String(t))}),n.toString()}(l[1]||"",u);return l[0]+"?"+d}function zr(e,t){return e.filter(e=>t.includes(e)).length===e.length}function Hr(e){return Object.fromEntries(e.entries())}function qr(e){return new Map(Object.entries(e))}function Kr(e=b.FIVE_MINUTES,t){const n=(0,b.toMiliseconds)(e||b.FIVE_MINUTES);let r,i,a,s;return{resolve:e=>{a&&r&&(clearTimeout(a),r(e),s=Promise.resolve(e))},reject:e=>{a&&i&&(clearTimeout(a),i(e))},done:()=>new Promise((e,o)=>{if(s)return e(s);a=setTimeout(()=>{const e=new Error(t);s=Promise.reject(e),o(e)},n),r=e,i=o})}}function Wr(e,t,n){return new Promise(async(r,i)=>{const a=setTimeout(()=>i(new Error(n)),t);try{r(await e)}catch(e){i(e)}clearTimeout(a)})}function Vr(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Gr(e){return Vr("topic",e)}function Yr(e){return Vr("id",e)}function Jr(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}function Zr(e,t){return(0,b.fromMiliseconds)((t||Date.now())+(0,b.toMiliseconds)(e))}function Xr(e){return Date.now()>=(0,b.toMiliseconds)(e)}function Qr(e,t){return`${e}${t?`:${t}`:""}`}function ei(e=[],t=[]){return[...new Set([...e,...t])]}async function ti({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const i="string"==typeof n?JSON.parse(n):n,a=i?.href;if("string"!=typeof a)return;const s=function(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;return i=e.startsWith("https://t.me")?`${i}${e.includes("?")?"&startapp=":"?startapp="}${function(e,t=!1){const n=fr.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0)}`:`${i}/wc?${r}`,i}(a,e,t),o=Dr();if(o===Ir.browser){if(null==(r=(0,y.getDocument)())||!r.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch{return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(s)}else o===Ir.reactNative&&typeof(null==global?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(e){console.error(e)}}async function ni(e,t){let n="";try{if(Lr()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(e){console.error(e)}return n}function ri(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function ii(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function ai(){return typeof dr<"u"&&"true"===dr.env.IS_VITEST}function si(e){return fr.from(e,"base64").toString("utf-8")}function oi(e){return new Promise(t=>setTimeout(t,e))}class ci{constructor({limit:e}){Cr(this,"limit"),Cr(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}const li=BigInt(2**32-1),ui=BigInt(32);function di(e,t=!1){return t?{h:Number(e&li),l:Number(e>>ui&li)}:{h:0|Number(e>>ui&li),l:0|Number(e&li)}}function fi(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:n,l:s}=di(e[a],t);[r[a],i[a]]=[n,s]}return[r,i]}const pi=(e,t,n)=>e>>>n,hi=(e,t,n)=>e<<32-n|t>>>n,bi=(e,t,n)=>e>>>n|t<<32-n,yi=(e,t,n)=>e<<32-n|t>>>n,mi=(e,t,n)=>e<<64-n|t>>>n-32,gi=(e,t,n)=>e>>>n-32|t<<64-n,wi=(e,t)=>t,vi=(e,t)=>e;function Ei(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const xi=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Si=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Ti=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Ai=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,_i=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Ci=(e,t,n,r,i,a)=>t+n+r+i+a+(e/2**32|0)|0,ki="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Ii(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Pi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Oi(e,...t){if(!Ii(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Mi(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");Pi(e.outputLen),Pi(e.blockLen)}function Ri(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ni(e,t){Oi(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Li(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Di(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Bi(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ji(e,t){return e<<32-t|e>>>t}const Ui=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Fi(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const $i=Ui?e=>e:e=>Fi(e),zi=Ui?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=Fi(e[t]);return e},Hi="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,qi=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ki(e){if(Oi(e),Hi)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=qi[e[n]];return t}function Wi(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function Vi(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Hi)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=Wi(e.charCodeAt(i)),a=Wi(e.charCodeAt(i+1));if(void 0===n||void 0===a){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+a}return r}function Gi(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function Yi(e){return"string"==typeof e&&(e=Gi(e)),Oi(e),e}function Ji(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Oi(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}class Zi{}function Xi(e){const t=t=>e().update(Yi(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Qi(e=32){if(ki&&"function"==typeof ki.getRandomValues)return ki.getRandomValues(new Uint8Array(e));if(ki&&"function"==typeof ki.randomBytes)return Uint8Array.from(ki.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const ea=BigInt(0),ta=BigInt(1),na=BigInt(2),ra=BigInt(7),ia=BigInt(256),aa=BigInt(113),sa=[],oa=[],ca=[];for(let e=0,t=ta,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],sa.push(2*(5*r+n)),oa.push((e+1)*(e+2)/2%64);let i=ea;for(let e=0;e<7;e++)t=(t<<ta^(t>>ra)*aa)%ia,t&na&&(i^=ta<<(ta<<BigInt(e))-ta);ca.push(i)}const la=fi(ca,!0),ua=la[0],da=la[1],fa=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),pa=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class ha extends Zi{constructor(e,t,n,r=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,Pi(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Li(this.state)}clone(){return this._cloneInto()}keccak(){zi(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,a=n[i],s=n[i+1],o=fa(a,s,1)^n[r],c=pa(a,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=oa[n],a=fa(t,i,r),s=pa(t,i,r),o=sa[n];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=ua[r],e[1]^=da[r]}Di(n)}(this.state32,this.rounds),zi(this.state32),this.posOut=0,this.pos=0}update(e){Ri(this),Oi(e=Yi(e));const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const a=Math.min(t-this.pos,r-i);for(let t=0;t<a;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,!!(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Ri(this,!1),Oi(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Pi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ni(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Di(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:a}=this;return e||(e=new ha(t,n,r,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}const ba=Xi(()=>new ha(136,1,32));function ya(e,t,n){return e&t^~e&n}function ma(e,t,n){return e&t^e&n^t&n}class ga extends Zi{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=Bi(this.buffer)}update(e){Ri(this),Oi(e=Yi(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);if(s===r){const t=Bi(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ri(this),Ni(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:a}=this;t[a++]=128,Di(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,o,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=Bi(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=r,e.pos=s,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const wa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),va=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ea=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),xa=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sa=new Uint32Array(64);class Ta extends ga{constructor(e=32){super(64,e,8,!1),this.A=0|wa[0],this.B=0|wa[1],this.C=0|wa[2],this.D=0|wa[3],this.E=0|wa[4],this.F=0|wa[5],this.G=0|wa[6],this.H=0|wa[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:a,G:s,H:o}=this;return[e,t,n,r,i,a,s,o]}set(e,t,n,r,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)Sa[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Sa[e-15],n=Sa[e-2],r=ji(t,7)^ji(t,18)^t>>>3,i=ji(n,17)^ji(n,19)^n>>>10;Sa[e]=i+Sa[e-7]+r+Sa[e-16]|0}let{A:n,B:r,C:i,D:a,E:s,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(ji(s,6)^ji(s,11)^ji(s,25))+ya(s,o,c)+xa[e]+Sa[e]|0,u=(ji(n,2)^ji(n,13)^ji(n,22))+ma(n,r,i)|0;l=c,c=o,o=s,s=a+t|0,a=i,i=r,r=n,n=t+u|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,a,s,o,c,l)}roundClean(){Di(Sa)}destroy(){this.set(0,0,0,0,0,0,0,0),Di(this.buffer)}}const Aa=fi(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),_a=Aa[0],Ca=Aa[1],ka=new Uint32Array(80),Ia=new Uint32Array(80);class Pa extends ga{constructor(e=64){super(128,e,16,!1),this.Ah=0|Ea[0],this.Al=0|Ea[1],this.Bh=0|Ea[2],this.Bl=0|Ea[3],this.Ch=0|Ea[4],this.Cl=0|Ea[5],this.Dh=0|Ea[6],this.Dl=0|Ea[7],this.Eh=0|Ea[8],this.El=0|Ea[9],this.Fh=0|Ea[10],this.Fl=0|Ea[11],this.Gh=0|Ea[12],this.Gl=0|Ea[13],this.Hh=0|Ea[14],this.Hl=0|Ea[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:a,Dh:s,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:p,Hh:h,Hl:b}=this;return[e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b]}set(e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|h,this.Hl=0|b}process(e,t){for(let n=0;n<16;n++,t+=4)ka[n]=e.getUint32(t),Ia[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|ka[e-15],n=0|Ia[e-15],r=bi(t,n,1)^bi(t,n,8)^pi(t,0,7),i=yi(t,n,1)^yi(t,n,8)^hi(t,n,7),a=0|ka[e-2],s=0|Ia[e-2],o=bi(a,s,19)^mi(a,s,61)^pi(a,0,6),c=yi(a,s,19)^gi(a,s,61)^hi(a,s,6),l=Ti(i,c,Ia[e-7],Ia[e-16]),u=Ai(l,r,o,ka[e-7],ka[e-16]);ka[e]=0|u,Ia[e]=0|l}let{Ah:n,Al:r,Bh:i,Bl:a,Ch:s,Cl:o,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:p,Gh:h,Gl:b,Hh:y,Hl:m}=this;for(let e=0;e<80;e++){const t=bi(u,d,14)^bi(u,d,18)^mi(u,d,41),g=yi(u,d,14)^yi(u,d,18)^gi(u,d,41),w=u&f^~u&h,v=_i(m,g,d&p^~d&b,Ca[e],Ia[e]),E=Ci(v,y,t,w,_a[e],ka[e]),x=0|v,S=bi(n,r,28)^mi(n,r,34)^mi(n,r,39),T=yi(n,r,28)^gi(n,r,34)^gi(n,r,39),A=n&i^n&s^i&s,_=r&a^r&o^a&o;y=0|h,m=0|b,h=0|f,b=0|p,f=0|u,p=0|d,({h:u,l:d}=Ei(0|c,0|l,0|E,0|x)),c=0|s,l=0|o,s=0|i,o=0|a,i=0|n,a=0|r;const C=xi(x,T,_);n=Si(C,E,S,A),r=0|C}({h:n,l:r}=Ei(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:a}=Ei(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:o}=Ei(0|this.Ch,0|this.Cl,0|s,0|o)),({h:c,l}=Ei(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Ei(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:p}=Ei(0|this.Fh,0|this.Fl,0|f,0|p)),({h,l:b}=Ei(0|this.Gh,0|this.Gl,0|h,0|b)),({h:y,l:m}=Ei(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(n,r,i,a,s,o,c,l,u,d,f,p,h,b,y,m)}roundClean(){Di(ka,Ia)}destroy(){Di(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Oa extends Pa{constructor(){super(48),this.Ah=0|va[0],this.Al=0|va[1],this.Bh=0|va[2],this.Bl=0|va[3],this.Ch=0|va[4],this.Cl=0|va[5],this.Dh=0|va[6],this.Dl=0|va[7],this.Eh=0|va[8],this.El=0|va[9],this.Fh=0|va[10],this.Fl=0|va[11],this.Gh=0|va[12],this.Gl=0|va[13],this.Hh=0|va[14],this.Hl=0|va[15]}}const Ma=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Ra extends Pa{constructor(){super(32),this.Ah=0|Ma[0],this.Al=0|Ma[1],this.Bh=0|Ma[2],this.Bl=0|Ma[3],this.Ch=0|Ma[4],this.Cl=0|Ma[5],this.Dh=0|Ma[6],this.Dl=0|Ma[7],this.Eh=0|Ma[8],this.El=0|Ma[9],this.Fh=0|Ma[10],this.Fl=0|Ma[11],this.Gh=0|Ma[12],this.Gl=0|Ma[13],this.Hh=0|Ma[14],this.Hl=0|Ma[15]}}const Na=Xi(()=>new Ta),La=Xi(()=>new Pa),Da=Xi(()=>new Oa),Ba=Xi(()=>new Ra),ja=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ua=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Fa=new Uint32Array(32);function $a(e,t,n,r,i,a){const s=i[a],o=i[a+1];let c=Fa[2*e],l=Fa[2*e+1],u=Fa[2*t],d=Fa[2*t+1],f=Fa[2*n],p=Fa[2*n+1],h=Fa[2*r],b=Fa[2*r+1],y=xi(c,u,s);l=Si(y,l,d,o),c=0|y,({Dh:b,Dl:h}={Dh:b^l,Dl:h^c}),({Dh:b,Dl:h}={Dh:wi(0,h),Dl:vi(b)}),({h:p,l:f}=Ei(p,f,b,h)),({Bh:d,Bl:u}={Bh:d^p,Bl:u^f}),({Bh:d,Bl:u}={Bh:bi(d,u,24),Bl:yi(d,u,24)}),Fa[2*e]=c,Fa[2*e+1]=l,Fa[2*t]=u,Fa[2*t+1]=d,Fa[2*n]=f,Fa[2*n+1]=p,Fa[2*r]=h,Fa[2*r+1]=b}function za(e,t,n,r,i,a){const s=i[a],o=i[a+1];let c=Fa[2*e],l=Fa[2*e+1],u=Fa[2*t],d=Fa[2*t+1],f=Fa[2*n],p=Fa[2*n+1],h=Fa[2*r],b=Fa[2*r+1],y=xi(c,u,s);l=Si(y,l,d,o),c=0|y,({Dh:b,Dl:h}={Dh:b^l,Dl:h^c}),({Dh:b,Dl:h}={Dh:bi(b,h,16),Dl:yi(b,h,16)}),({h:p,l:f}=Ei(p,f,b,h)),({Bh:d,Bl:u}={Bh:d^p,Bl:u^f}),({Bh:d,Bl:u}={Bh:mi(d,u,63),Bl:gi(d,u,63)}),Fa[2*e]=c,Fa[2*e+1]=l,Fa[2*t]=u,Fa[2*t+1]=d,Fa[2*n]=f,Fa[2*n+1]=p,Fa[2*r]=h,Fa[2*r+1]=b}class Ha extends Zi{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Pi(e),Pi(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=Li(this.buffer)}update(e){Ri(this),Oi(e=Yi(e));const{blockLen:t,buffer:n,buffer32:r}=this,i=e.length,a=e.byteOffset,s=e.buffer;for(let o=0;o<i;){this.pos===t&&(zi(r),this.compress(r,0,!1),zi(r),this.pos=0);const c=Math.min(t-this.pos,i-o),l=a+o;if(c===t&&!(l%4)&&o+c<i){const e=new Uint32Array(s,l,Math.floor((i-o)/4));zi(e);for(let n=0;o+t<i;n+=r.length,o+=t)this.length+=t,this.compress(e,n,!1);zi(e);continue}n.set(e.subarray(o,o+c),this.pos),this.pos+=c,this.length+=c,o+=c}return this}digestInto(e){Ri(this),Ni(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,Di(this.buffer.subarray(t)),zi(n),this.compress(n,0,!0),zi(n);const r=Li(e);this.get().forEach((e,t)=>r[t]=$i(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:r,destroyed:i,outputLen:a,pos:s}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=r,e.length=n,e.pos=s,e.outputLen=a,e}clone(){return this._cloneInto()}}class qa extends Ha{constructor(e={}){const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|Ua[0],this.v0h=0|Ua[1],this.v1l=0|Ua[2],this.v1h=0|Ua[3],this.v2l=0|Ua[4],this.v2h=0|Ua[5],this.v3l=0|Ua[6],this.v3h=0|Ua[7],this.v4l=0|Ua[8],this.v4h=0|Ua[9],this.v5l=0|Ua[10],this.v5h=0|Ua[11],this.v6l=0|Ua[12],this.v6h=0|Ua[13],this.v7l=0|Ua[14],this.v7h=0|Ua[15],function(e,t={},n,r,i){if(Pi(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:a,salt:s,personalization:o}=t;if(void 0!==a&&(a.length<1||a.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==s&&s.length!==r)throw new Error("salt must be undefined or "+r);if(void 0!==o&&o.length!==i)throw new Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:n,personalization:r,salt:i}=e,a=0;if(void 0!==n&&(n=Yi(n),a=n.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,void 0!==i){i=Yi(i);const e=Li(i);this.v4l^=$i(e[0]),this.v4h^=$i(e[1]),this.v5l^=$i(e[2]),this.v5h^=$i(e[3])}if(void 0!==r){r=Yi(r);const e=Li(r);this.v6l^=$i(e[0]),this.v6h^=$i(e[1]),this.v7l^=$i(e[2]),this.v7h^=$i(e[3])}if(void 0!==n){const e=new Uint8Array(this.blockLen);e.set(n),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:r,v2l:i,v2h:a,v3l:s,v3h:o,v4l:c,v4h:l,v5l:u,v5h:d,v6l:f,v6h:p,v7l:h,v7h:b}=this;return[e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b]}set(e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b){this.v0l=0|e,this.v0h=0|t,this.v1l=0|n,this.v1h=0|r,this.v2l=0|i,this.v2h=0|a,this.v3l=0|s,this.v3h=0|o,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|d,this.v6l=0|f,this.v6h=0|p,this.v7l=0|h,this.v7h=0|b}compress(e,t,n){this.get().forEach((e,t)=>Fa[t]=e),Fa.set(Ua,16);let{h:r,l:i}=di(BigInt(this.length));Fa[24]=Ua[8]^i,Fa[25]=Ua[9]^r,n&&(Fa[28]=~Fa[28],Fa[29]=~Fa[29]);let a=0;const s=ja;for(let n=0;n<12;n++)$a(0,4,8,12,e,t+2*s[a++]),za(0,4,8,12,e,t+2*s[a++]),$a(1,5,9,13,e,t+2*s[a++]),za(1,5,9,13,e,t+2*s[a++]),$a(2,6,10,14,e,t+2*s[a++]),za(2,6,10,14,e,t+2*s[a++]),$a(3,7,11,15,e,t+2*s[a++]),za(3,7,11,15,e,t+2*s[a++]),$a(0,5,10,15,e,t+2*s[a++]),za(0,5,10,15,e,t+2*s[a++]),$a(1,6,11,12,e,t+2*s[a++]),za(1,6,11,12,e,t+2*s[a++]),$a(2,7,8,13,e,t+2*s[a++]),za(2,7,8,13,e,t+2*s[a++]),$a(3,4,9,14,e,t+2*s[a++]),za(3,4,9,14,e,t+2*s[a++]);this.v0l^=Fa[0]^Fa[16],this.v0h^=Fa[1]^Fa[17],this.v1l^=Fa[2]^Fa[18],this.v1h^=Fa[3]^Fa[19],this.v2l^=Fa[4]^Fa[20],this.v2h^=Fa[5]^Fa[21],this.v3l^=Fa[6]^Fa[22],this.v3h^=Fa[7]^Fa[23],this.v4l^=Fa[8]^Fa[24],this.v4h^=Fa[9]^Fa[25],this.v5l^=Fa[10]^Fa[26],this.v5h^=Fa[11]^Fa[27],this.v6l^=Fa[12]^Fa[28],this.v6h^=Fa[13]^Fa[29],this.v7l^=Fa[14]^Fa[30],this.v7h^=Fa[15]^Fa[31],Di(Fa)}destroy(){this.destroyed=!0,Di(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ka=function(e){const t=(t,n)=>e(n).update(Yi(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new qa(e)),Wa="https://rpc.walletconnect.org/v1";function Va(e){const t=`Ethereum Signed Message:\n${e.length}`,n=(new TextEncoder).encode(t+e);return"0x"+fr.from(ba(n)).toString("hex")}async function Ga(e,t,n,r,i,a){switch(n.t){case"eip191":return await function(e,t,n){const r=D(n);return(i={payload:Va(t),signature:r},Rt(function(e){const{payload:t,signature:n}=e,{r,s:i,yParity:a}=n;return St(new lt.Signature(BigInt(r),BigInt(i)).addRecoveryBit(a).recoverPublicKey(T(t).substring(2)))}(i))).toLowerCase()===e.toLowerCase();var i}(e,t,n.s);case"eip1271":return await async function(e,t,n,r,i,a){const s=hr(r);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const s="0x1626ba7e",o="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),l=(c.length/2).toString(16).padStart(64,"0"),u=s+(t.startsWith("0x")?t:Va(t)).substring(2)+o+l+c,d=await fetch(`${a||Wa}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:f}=await d.json();return!!f&&f.slice(0,s.length).toLowerCase()===s.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}(e,t,n.s,r,i,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function Ya(e){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);const r=n[0];if(0===r)throw new Error("No signatures found");const i=1+64*r;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const a=fr.from(e,"base64").slice(1,65);return Bt.encode(a)}function Ja(e){const t=new Uint8Array(fr.from(e,"base64")),n=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=Ka(r,{dkLen:32});return Bt.encode(i)}function Za(e){const t=new Uint8Array(Na(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return Bt.encode(t)}function Xa(e){const t=(n=fr.from(e,"base64"),new sn(undefined).decode(n)).txn;var n;if(!t)throw new Error("Invalid signed transaction: missing 'txn' field");const r=(o=t,new on(void 0).encodeSharedRef(o)),i=fr.from("TX"),a=fr.concat([i,fr.from(r)]),s=Ba(a);var o;return kn.encode(s).replace(/=+$/,"")}function Qa(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),fr.from(t)}function es(e){const t=fr.from(e.signed.bodyBytes,"base64"),n=fr.from(e.signed.authInfoBytes,"base64"),r=fr.from(e.signature.signature,"base64"),i=[];i.push(fr.from([10])),i.push(Qa(t.length)),i.push(t),i.push(fr.from([18])),i.push(Qa(n.length)),i.push(n),i.push(fr.from([26])),i.push(Qa(r.length)),i.push(r);const a=fr.concat(i),s=Na(a);return fr.from(s).toString("hex").toUpperCase()}function ts(e){var t,n;const r=[];try{if("string"==typeof e)return r.push(e),r;if("object"!=typeof e)return r;null!=e&&e.id&&r.push(e.id);const i=null==(n=null==(t=e?.capabilities)?void 0:t.caip345)?void 0:n.transactionHashes;i&&r.push(...i)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return r}var ns=Object.defineProperty,rs=Object.defineProperties,is=Object.getOwnPropertyDescriptors,as=Object.getOwnPropertySymbols,ss=Object.prototype.hasOwnProperty,os=Object.prototype.propertyIsEnumerable,cs=(e,t,n)=>t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ls=(e,t)=>{for(var n in t||(t={}))ss.call(t,n)&&cs(e,n,t[n]);if(as)for(var n of as(t))os.call(t,n)&&cs(e,n,t[n]);return e},us=(e,t)=>rs(e,is(t));const ds="did:pkh:",fs={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},ps=e=>e?.split(":"),hs=e=>{const t=e&&ps(e);if(t)return t[2]+":"+t[3]},bs=e=>{const t=e&&ps(e);if(t)return t.pop()};async function ys(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,a=ms(i,i.iss),s=bs(i.iss);return await Ga(s,a,r,hs(i.iss),n)}const ms=(e,t)=>{const n=(e=>{const t=e&&ps(e);if(t)return e.includes(ds)?t[2]:t[0]})(t);if(!n)throw new Error("Invalid issuer: "+t);const r=`${e.domain} wants you to sign in with your ${(e=>e?fs[e]||e:"")(n)} account:`,i=bs(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let a=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,c=`Chain ID: ${(e=>{const t=e&&ps(e);if(t)return e.includes(ds)?t[3]:t[1]})(t)}`,l=`Nonce: ${e.nonce}`,u=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,p=e.requestId?`Request ID: ${e.requestId}`:void 0,h=e.resources?`Resources:${e.resources.map(e=>`\n- ${e}`).join("")}`:void 0,b=_s(e.resources);return b&&(a=function(e="",t){gs(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;return Object.keys(t.att).forEach(e=>{const n=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));n.sort((e,t)=>e.action.localeCompare(t.action));const a={};n.forEach(e=>{a[e.ability]||(a[e.ability]=[]),a[e.ability].push(e.action)});const s=Object.keys(a).map(t=>(i++,`(${i}) '${t}': '${a[t].join("', '")}' for '${e}'.`));r.push(s.join(", ").replace(".,","."))}),`${e?e+" ":""}${n}${r.join(" ")}`}(a,Es(b))),[r,i,"",a,"",s,o,c,l,u,d,f,p,h].filter(e=>null!=e).join("\n")};function gs(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach(t=>{const n=e.att[t];if(Array.isArray(n))throw new Error(`Resource must be an object: ${t}`);if("object"!=typeof n)throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(n).forEach(e=>{const t=n[e];if(!Array.isArray(t))throw new Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw new Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw new Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function ws(e,t,n={}){t=t?.sort((e,t)=>e.localeCompare(t));const r=t.map(t=>({[`${e}/${t}`]:[n]}));return Object.assign({},...r)}function vs(e){return gs(e),`urn:recap:${function(e){return fr.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,"")}`}function Es(e){const t=function(e){return JSON.parse(fr.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return gs(t),t}function xs(e,t,n){const r=function(e,t,n,r={}){return n?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:ws(t,n,r)}}}(e,t,n);return vs(r)}function Ss(e,t){const n=function(e,t){gs(e),gs(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),r={att:{}};return n.forEach(n=>{var i,a;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(a=t.att)?void 0:a[n])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var a,s;r.att[n]=us(ls({},r.att[n]),{[i]:(null==(a=e.att[n])?void 0:a[i])||(null==(s=t.att[n])?void 0:s[i])})})}),r}(Es(e),Es(t));return vs(n)}function Ts(e){var t;const n=Es(e);gs(n);const r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map(e=>e.split("/")[1]):[]}function As(e){const t=Es(e);gs(t);const n=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&n.push(e[0].chains)})}),[...new Set(n.flat())]}function _s(e){if(!e)return;const t=e?.[e.length-1];return function(e){return e&&e.includes("urn:recap:")}(t)?t:void 0}function Cs(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ks(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function Is(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ps(e,...t){if(!Cs(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Os(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ms(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Rs(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Ns=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Ls(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Cs(e))throw new Error("Uint8Array expected, got "+typeof e);e=js(e)}return e}function Ds(e,t,n=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function(e){return e.byteOffset%4==0}(t))throw new Error("invalid output, must be aligned");return t}function Bs(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,o,r)}function js(e){return Uint8Array.from(e)}const Us=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),Fs=Us("expand 16-byte k"),$s=Us("expand 32-byte k"),zs=Ms(Fs),Hs=Ms($s);function qs(e,t){return e<<t|e>>>32-t}function Ks(e){return e.byteOffset%4==0}const Ws=2**32-1,Vs=new Uint32Array,Gs=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Ys{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Ps(e=Ls(e),32);const t=Gs(e,0),n=Gs(e,2),r=Gs(e,4),i=Gs(e,6),a=Gs(e,8),s=Gs(e,10),o=Gs(e,12),c=Gs(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|s<<2),this.r[7]=8065&(s>>>11|o<<5),this.r[8]=8191&(o>>>8|c<<8),this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=Gs(e,16+2*t)}process(e,t,n=!1){const r=n?0:2048,{h:i,r:a}=this,s=a[0],o=a[1],c=a[2],l=a[3],u=a[4],d=a[5],f=a[6],p=a[7],h=a[8],b=a[9],y=Gs(e,t+0),m=Gs(e,t+2),g=Gs(e,t+4),w=Gs(e,t+6),v=Gs(e,t+8),E=Gs(e,t+10),x=Gs(e,t+12),S=Gs(e,t+14);let T=i[0]+(8191&y),A=i[1]+(8191&(y>>>13|m<<3)),_=i[2]+(8191&(m>>>10|g<<6)),C=i[3]+(8191&(g>>>7|w<<9)),k=i[4]+(8191&(w>>>4|v<<12)),I=i[5]+(v>>>1&8191),P=i[6]+(8191&(v>>>14|E<<2)),O=i[7]+(8191&(E>>>11|x<<5)),M=i[8]+(8191&(x>>>8|S<<8)),R=i[9]+(S>>>5|r),N=0,L=N+T*s+A*(5*b)+_*(5*h)+C*(5*p)+k*(5*f);N=L>>>13,L&=8191,L+=I*(5*d)+P*(5*u)+O*(5*l)+M*(5*c)+R*(5*o),N+=L>>>13,L&=8191;let D=N+T*o+A*s+_*(5*b)+C*(5*h)+k*(5*p);N=D>>>13,D&=8191,D+=I*(5*f)+P*(5*d)+O*(5*u)+M*(5*l)+R*(5*c),N+=D>>>13,D&=8191;let B=N+T*c+A*o+_*s+C*(5*b)+k*(5*h);N=B>>>13,B&=8191,B+=I*(5*p)+P*(5*f)+O*(5*d)+M*(5*u)+R*(5*l),N+=B>>>13,B&=8191;let j=N+T*l+A*c+_*o+C*s+k*(5*b);N=j>>>13,j&=8191,j+=I*(5*h)+P*(5*p)+O*(5*f)+M*(5*d)+R*(5*u),N+=j>>>13,j&=8191;let U=N+T*u+A*l+_*c+C*o+k*s;N=U>>>13,U&=8191,U+=I*(5*b)+P*(5*h)+O*(5*p)+M*(5*f)+R*(5*d),N+=U>>>13,U&=8191;let F=N+T*d+A*u+_*l+C*c+k*o;N=F>>>13,F&=8191,F+=I*s+P*(5*b)+O*(5*h)+M*(5*p)+R*(5*f),N+=F>>>13,F&=8191;let $=N+T*f+A*d+_*u+C*l+k*c;N=$>>>13,$&=8191,$+=I*o+P*s+O*(5*b)+M*(5*h)+R*(5*p),N+=$>>>13,$&=8191;let z=N+T*p+A*f+_*d+C*u+k*l;N=z>>>13,z&=8191,z+=I*c+P*o+O*s+M*(5*b)+R*(5*h),N+=z>>>13,z&=8191;let H=N+T*h+A*p+_*f+C*d+k*u;N=H>>>13,H&=8191,H+=I*l+P*c+O*o+M*s+R*(5*b),N+=H>>>13,H&=8191;let q=N+T*b+A*h+_*p+C*f+k*d;N=q>>>13,q&=8191,q+=I*u+P*l+O*c+M*o+R*s,N+=q>>>13,q&=8191,N=(N<<2)+N|0,N=N+L|0,L=8191&N,N>>>=13,D+=N,i[0]=L,i[1]=D,i[2]=B,i[3]=j,i[4]=U,i[5]=F,i[6]=$,i[7]=z,i[8]=H,i[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let i=(1^r)-1;for(let e=0;e<10;e++)n[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|n[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let a=e[0]+t[0];e[0]=65535&a;for(let n=1;n<8;n++)a=(e[n]+t[n]|0)+(a>>>16)|0,e[n]=65535&a;Rs(n)}update(e){Os(this),Ps(e=Ls(e));const{buffer:t,blockLen:n}=this,r=e.length;for(let i=0;i<r;){const a=Math.min(n-this.pos,r-i);if(a!==n)t.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){Rs(this.h,this.r,this.buffer,this.pad)}digestInto(e){Os(this),function(e,t){Ps(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=n[t]>>>0,e[i++]=n[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const Js=function(e){const t=(t,n)=>e(n).update(Ls(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new Ys(e)),Zs=function(e){const{allowShortKeys:t,extendNonceFn:n,counterLength:r,counterRight:i,rounds:a}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t)}(0,{counterRight:!1,counterLength:4,allowShortKeys:!1});return Is(r),Is(a),ks(i),ks(t),(s,o,c,l,u=0)=>{Ps(s),Ps(o),Ps(c);const d=c.length;if(void 0===l&&(l=new Uint8Array(d)),Ps(l),Is(u),u<0||u>=Ws)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const f=[];let p,h,b=s.length;if(32===b)f.push(p=js(s)),h=Hs;else{if(16!==b||!t)throw new Error(`arx: invalid 32-byte key, got length=${b}`);p=new Uint8Array(32),p.set(s),p.set(s,16),h=zs,f.push(p)}Ks(o)||f.push(o=js(o));const y=Ms(p);if(n){if(24!==o.length)throw new Error("arx: extended nonce must be 24 bytes");n(h,y,Ms(o.subarray(0,16)),y),o=o.subarray(16)}const m=16-r;if(m!==o.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(12!==m){const e=new Uint8Array(12);e.set(o,i?0:12-o.length),o=e,f.push(o)}const g=Ms(o);return function(e,t,n,r,i,a,s,o){const c=i.length,l=new Uint8Array(64),u=Ms(l),d=Ks(i)&&Ks(a),f=d?Ms(i):Vs,p=d?Ms(a):Vs;for(let h=0;h<c;s++){if(e(t,n,r,u,s,o),s>=Ws)throw new Error("arx: counter overflow");const b=Math.min(64,c-h);if(d&&64===b){const e=h/4;if(h%4!=0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,p[t]=f[t]^u[n];h+=64;continue}for(let e,t=0;t<b;t++)e=h+t,a[e]=i[e]^l[t];h+=b}}(e,h,y,g,c,l,u,a),Rs(...f),l}}(function(e,t,n,r,i,a=20){let s=e[0],o=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],p=t[3],h=t[4],b=t[5],y=t[6],m=t[7],g=i,w=n[0],v=n[1],E=n[2],x=s,S=o,T=c,A=l,_=u,C=d,k=f,I=p,P=h,O=b,M=y,R=m,N=g,L=w,D=v,B=E;for(let e=0;e<a;e+=2)x=x+_|0,N=qs(N^x,16),P=P+N|0,_=qs(_^P,12),x=x+_|0,N=qs(N^x,8),P=P+N|0,_=qs(_^P,7),S=S+C|0,L=qs(L^S,16),O=O+L|0,C=qs(C^O,12),S=S+C|0,L=qs(L^S,8),O=O+L|0,C=qs(C^O,7),T=T+k|0,D=qs(D^T,16),M=M+D|0,k=qs(k^M,12),T=T+k|0,D=qs(D^T,8),M=M+D|0,k=qs(k^M,7),A=A+I|0,B=qs(B^A,16),R=R+B|0,I=qs(I^R,12),A=A+I|0,B=qs(B^A,8),R=R+B|0,I=qs(I^R,7),x=x+C|0,B=qs(B^x,16),M=M+B|0,C=qs(C^M,12),x=x+C|0,B=qs(B^x,8),M=M+B|0,C=qs(C^M,7),S=S+k|0,N=qs(N^S,16),R=R+N|0,k=qs(k^R,12),S=S+k|0,N=qs(N^S,8),R=R+N|0,k=qs(k^R,7),T=T+I|0,L=qs(L^T,16),P=P+L|0,I=qs(I^P,12),T=T+I|0,L=qs(L^T,8),P=P+L|0,I=qs(I^P,7),A=A+_|0,D=qs(D^A,16),O=O+D|0,_=qs(_^O,12),A=A+_|0,D=qs(D^A,8),O=O+D|0,_=qs(_^O,7);let j=0;r[j++]=s+x|0,r[j++]=o+S|0,r[j++]=c+T|0,r[j++]=l+A|0,r[j++]=u+_|0,r[j++]=d+C|0,r[j++]=f+k|0,r[j++]=p+I|0,r[j++]=h+P|0,r[j++]=b+O|0,r[j++]=y+M|0,r[j++]=m+R|0,r[j++]=g+N|0,r[j++]=w+L|0,r[j++]=v+D|0,r[j++]=E+B|0}),Xs=new Uint8Array(16),Qs=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Xs.subarray(n))},eo=new Uint8Array(32);function to(e,t,n,r,i){const a=e(t,n,eo),s=Js.create(a);i&&Qs(s,i),Qs(s,r);const o=function(e,t,n){ks(n);const r=new Uint8Array(16),i=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(r);return Bs(i,0,BigInt(t),n),Bs(i,8,BigInt(e),n),r}(r.length,i?i.length:0,!0);s.update(o);const c=s.digest();return Rs(a,o),c}const no=((e,t)=>{function n(n,...r){if(Ps(n),!Ns)throw new Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){const t=r[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?Ps(t):Ps(t,e.nonceLength)}const i=e.tagLength;i&&void 0!==r[1]&&Ps(r[1]);const a=t(n,...r),s=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");Ps(t)}};let o=!1;return{encrypt(e,t){if(o)throw new Error("cannot encrypt() twice with same key + nonce");return o=!0,Ps(e),s(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(Ps(e),i&&e.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return s(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(n,e),n})({blockSize:64,nonceLength:12,tagLength:16},(ro=Zs,(e,t,n)=>({encrypt(r,i){const a=r.length;(i=Ds(a+16,i,!1)).set(r);const s=i.subarray(0,-16);ro(e,t,s,s,1);const o=to(ro,e,t,s,n);return i.set(o,a),Rs(o),i},decrypt(r,i){i=Ds(r.length-16,i,!1);const a=r.subarray(0,-16),s=r.subarray(-16),o=to(ro,e,t,a,n);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(s,o))throw new Error("invalid tag");return i.set(r.subarray(0,-16)),ro(e,t,i,i,1),Rs(o),i}})));var ro;class io extends Zi{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Mi(e);const n=Yi(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),Di(i)}update(e){return Ri(this),this.iHash.update(e),this}digestInto(e){Ri(this),Oi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ao=(e,t,n)=>new io(e,t).update(n).digest();ao.create=(e,t)=>new io(e,t);const so=Uint8Array.from([0]),oo=Uint8Array.of(),co=(e,t,n,r,i)=>function(e,t,n,r=32){Mi(e),Pi(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const a=Math.ceil(r/i);void 0===n&&(n=oo);const s=new Uint8Array(a*i),o=ao.create(e,t),c=o._cloneInto(),l=new Uint8Array(o.outputLen);for(let e=0;e<a;e++)so[0]=e+1,c.update(0===e?oo:l).update(n).update(so).digestInto(l),s.set(l,i*e),o._cloneInto(c);return o.destroy(),c.destroy(),Di(l,so),s.slice(0,r)}(e,function(e,t,n){return Mi(e),void 0===n&&(n=new Uint8Array(e.outputLen)),ao(e,Yi(n),Yi(t))}(e,t,n),r,i),lo=Na,uo=BigInt(0),fo=BigInt(1);function po(e,t=""){if("boolean"!=typeof e)throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function ho(e,t,n=""){const r=Ii(e),i=e?.length,a=void 0!==t;if(!r||a&&i!==t)throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(a?` of length ${t}`:"")+", got "+(r?`length=${i}`:"type="+typeof e));return e}function bo(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function yo(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?uo:BigInt("0x"+e)}function mo(e){return yo(Ki(e))}function go(e){return Oi(e),yo(Ki(Uint8Array.from(e).reverse()))}function wo(e,t){return Vi(e.toString(16).padStart(2*t,"0"))}function vo(e,t){return wo(e,t).reverse()}function Eo(e,t,n){let r;if("string"==typeof t)try{r=Vi(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!Ii(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const xo=e=>"bigint"==typeof e&&uo<=e;function So(e,t,n,r){if(!function(e,t,n){return xo(e)&&xo(t)&&xo(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function To(e){let t;for(t=0;e>uo;e>>=fo,t+=1);return t}const Ao=e=>(fo<<BigInt(e))-fo;function _o(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const a=typeof i;if(a!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${a}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))}function Co(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const a=e(n,...r);return t.set(n,a),a}}const ko=BigInt(0),Io=BigInt(1),Po=BigInt(2),Oo=BigInt(3),Mo=BigInt(4),Ro=BigInt(5),No=BigInt(7),Lo=BigInt(8),Do=BigInt(9),Bo=BigInt(16);function jo(e,t){const n=e%t;return n>=ko?n:t+n}function Uo(e,t,n){let r=e;for(;t-- >ko;)r*=r,r%=n;return r}function Fo(e,t){if(e===ko)throw new Error("invert: expected non-zero number");if(t<=ko)throw new Error("invert: expected positive modulus, got "+t);let n=jo(e,t),r=t,i=ko,a=Io;for(;n!==ko;){const e=r%n,t=i-a*(r/n);r=n,n=e,i=a,a=t}if(r!==Io)throw new Error("invert: does not exist");return jo(i,t)}function $o(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function zo(e,t){const n=(e.ORDER+Io)/Mo,r=e.pow(t,n);return $o(e,r,t),r}function Ho(e,t){const n=(e.ORDER-Ro)/Lo,r=e.mul(t,Po),i=e.pow(r,n),a=e.mul(t,i),s=e.mul(e.mul(a,Po),i),o=e.mul(a,e.sub(s,e.ONE));return $o(e,o,t),o}function qo(e){if(e<Oo)throw new Error("sqrt is not defined for small field");let t=e-Io,n=0;for(;t%Po===ko;)t/=Po,n++;let r=Po;const i=Yo(e);for(;1===Vo(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return zo;let a=i.pow(r,t);const s=(t+Io)/Po;return function(e,r){if(e.is0(r))return r;if(1!==Vo(e,r))throw new Error("Cannot find square root");let i=n,o=e.mul(e.ONE,a),c=e.pow(r,t),l=e.pow(r,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=Io<<BigInt(i-t-1),a=e.pow(o,r);i=t,o=e.sqr(a),c=e.mul(c,o),l=e.mul(l,a)}return l}}const Ko=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wo(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),a=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),a),r}function Vo(e,t){const n=(e.ORDER-Io)/Po,r=e.pow(t,n),i=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!a&&!s)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function Go(e,t){void 0!==t&&Pi(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Yo(e,t,n=!1,r={}){if(e<=ko)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,a,s,o=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(a=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(o=e.modFromBytes),s=e.allowedLengths}else"number"==typeof t&&(i=t),r.sqrt&&(a=r.sqrt);const{nBitLength:c,nByteLength:l}=Go(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:Ao(c),ZERO:ko,ONE:Io,allowedLengths:s,create:t=>jo(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return ko<=t&&t<e},is0:e=>e===ko,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&Io)===Io,neg:t=>jo(-t,e),eql:(e,t)=>e===t,sqr:t=>jo(t*t,e),add:(t,n)=>jo(t+n,e),sub:(t,n)=>jo(t-n,e),mul:(t,n)=>jo(t*n,e),pow:(e,t)=>function(e,t,n){if(n<ko)throw new Error("invalid exponent, negatives unsupported");if(n===ko)return e.ONE;if(n===Io)return t;let r=e.ONE,i=t;for(;n>ko;)n&Io&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Io;return r}(d,e,t),div:(t,n)=>jo(t*Fo(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Fo(t,e),sqrt:a||(t=>(u||(u=function(e){return e%Mo===Oo?zo:e%Lo===Ro?Ho:e%Bo===Do?function(e){const t=Yo(e),n=qo(e),r=n(t,t.neg(t.ONE)),i=n(t,r),a=n(t,t.neg(r)),s=(e+No)/Bo;return(e,t)=>{let n=e.pow(t,s),o=e.mul(n,r);const c=e.mul(n,i),l=e.mul(n,a),u=e.eql(e.sqr(o),t),d=e.eql(e.sqr(c),t);n=e.cmov(n,o,u),o=e.cmov(l,c,d);const f=e.eql(e.sqr(o),t),p=e.cmov(n,o,f);return $o(e,p,t),p}}(e):qo(e)}(e)),u(d,t))),toBytes:e=>n?vo(e,l):wo(e,l),fromBytes:(t,r=!0)=>{if(s){if(!s.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=n?go(t):mo(t);if(o&&(i=jo(i,e)),!r&&!d.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>Wo(d,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(d)}function Jo(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Zo(e){const t=Jo(e);return t+Math.ceil(t/2)}const Xo=BigInt(0),Qo=BigInt(1);function ec(e,t){const n=t.negate();return e?n:t}function tc(e,t){const n=Wo(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function nc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function rc(e,t){nc(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Ao(e),maxNumber:n,shiftBy:BigInt(e)}}function ic(e,t,n){const{windowSize:r,mask:i,maxNumber:a,shiftBy:s}=n;let o=Number(e&i),c=e>>s;o>r&&(o-=a,c+=Qo);const l=t*r;return{nextN:c,offset:l+Math.abs(o)-1,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:l}}const ac=new WeakMap,sc=new WeakMap;function oc(e){return sc.get(e)||1}function cc(e){if(e!==Xo)throw new Error("invalid wNAF")}class lc{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>Xo;)t&Qo&&(n=n.add(r)),r=r.double(),t>>=Qo;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=rc(t,this.bits),i=[];let a=e,s=a;for(let e=0;e<n;e++){s=a,i.push(s);for(let e=1;e<r;e++)s=s.add(a),i.push(s);a=s.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const a=rc(e,this.bits);for(let e=0;e<a.windows;e++){const{nextN:s,offset:o,isZero:c,isNeg:l,isNegF:u,offsetF:d}=ic(n,e,a);n=s,c?i=i.add(ec(u,t[d])):r=r.add(ec(l,t[o]))}return cc(n),{p:r,f:i}}wNAFUnsafe(e,t,n,r=this.ZERO){const i=rc(e,this.bits);for(let e=0;e<i.windows&&n!==Xo;e++){const{nextN:a,offset:s,isZero:o,isNeg:c}=ic(n,e,i);if(n=a,!o){const e=t[s];r=r.add(c?e.negate():e)}}return cc(n),r}getPrecomputes(e,t,n){let r=ac.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),ac.set(t,r))),r}cached(e,t,n){const r=oc(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=oc(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){nc(t,this.bits),sc.set(e,t),ac.delete(e)}hasCache(e){return 1!==oc(e)}}function uc(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){_o(e,Ko.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return Yo(e,{isLE:n})}BigInt(0),BigInt(1),BigInt(2),BigInt(8),Gi("HashToScalar-");const dc=BigInt(0),fc=BigInt(1),pc=BigInt(2);const hc=BigInt(1),bc=BigInt(2),yc=BigInt(3),mc=BigInt(5),gc=(BigInt(8),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"));function wc(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const vc=Yo([gc,BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")][0],{isLE:!0}),Ec=(()=>{const e=vc.ORDER;return function(e){const t=function(e){return _o(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:a,randomBytes:s}=t,o="x25519"===r;if(!o&&"x448"!==r)throw new Error("invalid type");const c=s||Qi,l=o?255:448,u=o?32:56,d=BigInt(o?9:5),f=BigInt(o?121665:39081),p=o?pc**BigInt(254):pc**BigInt(447),h=o?BigInt(8)*pc**BigInt(251)-fc:BigInt(4)*pc**BigInt(445)-fc,b=p+h+fc,y=e=>jo(e,n),m=g(d);function g(e){return vo(y(e),u)}function w(e,t){const r=function(e,t){So("u",e,dc,n),So("scalar",t,p,b);const r=t,i=e;let s=fc,o=dc,c=e,u=fc,d=dc;for(let e=BigInt(l-1);e>=dc;e--){const t=r>>e&fc;d^=t,({x_2:s,x_3:c}=E(d,s,c)),({x_2:o,x_3:u}=E(d,o,u)),d=t;const n=s+o,a=y(n*n),l=s-o,p=y(l*l),h=a-p,b=c+u,m=y((c-u)*n),g=y(b*l),w=m+g,v=m-g;c=y(w*w),u=y(i*y(v*v)),s=y(a*p),o=y(h*(a+y(f*h)))}({x_2:s,x_3:c}=E(d,s,c)),({x_2:o,x_3:u}=E(d,o,u));const h=a(o);return y(s*h)}(function(e){const t=Eo("u coordinate",e,u);return o&&(t[31]&=127),y(go(t))}(t),function(e){return go(i(Eo("scalar",e,u)))}(e));if(r===dc)throw new Error("invalid private or public key received");return g(r)}function v(e){return w(e,m)}function E(e,t,n){const r=y(e*(t-n));return{x_2:t=y(t-r),x_3:n=y(n+r)}}const x={secretKey:u,publicKey:u,seed:u},S=(e=c(u))=>(Oi(e,x.seed),e);return{keygen:function(e){const t=S(e);return{secretKey:t,publicKey:v(t)}},getSharedSecret:(e,t)=>w(e,t),getPublicKey:e=>v(e),scalarMult:w,scalarMultBase:v,utils:{randomSecretKey:S,randomPrivateKey:S},GuBytes:m.slice(),lengths:x}}({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),a=gc,s=e*e%a*e%a,o=Uo(s,bc,a)*s%a,c=Uo(o,hc,a)*e%a,l=Uo(c,mc,a)*c%a,u=Uo(l,t,a)*l%a,d=Uo(u,n,a)*u%a,f=Uo(d,r,a)*d%a,p=Uo(f,i,a)*f%a,h=Uo(p,i,a)*f%a,b=Uo(h,t,a)*l%a;return{pow_p_5_8:Uo(b,bc,a)*e%a,b2:s}}(t);return jo(Uo(n,yc,e)*r,e)},adjustScalarBytes:wc})})(),xc=(e,t)=>(e+(e>=0?t:-t)/Ic)/t;function Sc(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Tc(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return po(n.lowS,"lowS"),po(n.prehash,"prehash"),void 0!==n.format&&Sc(n.format),n}class Ac extends Error{constructor(e=""){super(e)}}const _c={Err:Ac,_tlv:{encode:(e,t)=>{const{Err:n}=_c;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=bo(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?bo(i.length/2|128):"";return bo(e)+a+i+t},decode(e,t){const{Err:n}=_c;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let a=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of s)a=a<<8|e;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=i;const s=t.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=_c;if(e<Cc)throw new t("integer: negative integers are not allowed");let n=bo(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=_c;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return mo(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=_c,i=Eo("signature",e),{v:a,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=_c,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},Cc=BigInt(0),kc=BigInt(1),Ic=BigInt(2),Pc=BigInt(3),Oc=BigInt(4);function Mc(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let i=Eo("private key",t);try{r=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Rc(e,t={}){const n=function(e,t,n={},r){if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const n=t[e];if(!("bigint"==typeof n&&n>Xo))throw new Error(`CURVE.${e} must be positive bigint`)}const i=uc(t.p,n.Fp,r),a=uc(t.n,n.Fn,r),s=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of s)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:a}}("weierstrass",e,t),{Fp:r,Fn:i}=n;let a=n.CURVE;const{h:s,n:o}=a;_o(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(a.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=Lc(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const d=t.toBytes||function(e,t,n){const{x:i,y:a}=t.toAffine(),s=r.toBytes(i);return po(n,"isCompressed"),n?(u(),Ji(Nc(!r.isOdd(a)),s)):Ji(Uint8Array.of(4),s,r.toBytes(a))},f=t.fromBytes||function(e){ho(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=l,i=e.length,a=e[0],s=e.subarray(1);if(i!==t||2!==a&&3!==a){if(i===n&&4===a){const e=r.BYTES,t=r.fromBytes(s.subarray(0,e)),n=r.fromBytes(s.subarray(e,2*e));if(!h(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${n}`)}{const e=r.fromBytes(s);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=p(e);let n;try{n=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}return u(),!(1&~a)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function p(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,a.a)),a.b)}function h(e,t){const n=r.sqr(t),i=p(e);return r.eql(n,i)}if(!h(a.Gx,a.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(a.a,Pc),Oc),y=r.mul(r.sqr(a.b),BigInt(27));if(r.is0(r.add(b,y)))throw new Error("bad curve params: a or b");function m(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function g(e){if(!(e instanceof S))throw new Error("ProjectivePoint expected")}function w(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[a,s]]=t,o=xc(s*e,n),c=xc(-i*e,n);let l=e-o*r-c*a,u=-o*i-c*s;const d=l<Cc,f=u<Cc;d&&(l=-l),f&&(u=-u);const p=Ao(Math.ceil(To(n)/2))+kc;if(l<Cc||l>=p||u<Cc||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}(e,c.basises,i.ORDER)}const v=Co((e,t)=>{const{X:n,Y:i,Z:a}=e;if(r.eql(a,r.ONE))return{x:n,y:i};const s=e.is0();null==t&&(t=s?r.ONE:r.inv(a));const o=r.mul(n,t),c=r.mul(i,t),l=r.mul(a,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:o,y:c}}),E=Co(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!h(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(e,t,n,i,a){return n=new S(r.mul(n.X,e),n.Y,n.Z),t=ec(i,t),n=ec(a,n),t.add(n)}class S{constructor(e,t,n){this.X=m("x",e),this.Y=m("y",t,!0),this.Z=m("z",n),Object.freeze(this)}static CURVE(){return a}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof S)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?S.ZERO:new S(t,n,r.ONE)}static fromBytes(e){const t=S.fromAffine(f(ho(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return S.fromBytes(Eo("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return A.createCache(this,e),t||this.multiply(Pc),this}assertValidity(){E(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){g(e);const{X:t,Y:n,Z:i}=this,{X:a,Y:s,Z:o}=e,c=r.eql(r.mul(t,o),r.mul(a,i)),l=r.eql(r.mul(n,o),r.mul(s,i));return c&&l}negate(){return new S(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=a,n=r.mul(t,Pc),{X:i,Y:s,Z:o}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(i,i),f=r.mul(s,s),p=r.mul(o,o),h=r.mul(i,s);return h=r.add(h,h),u=r.mul(i,o),u=r.add(u,u),c=r.mul(e,u),l=r.mul(n,p),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(h,c),u=r.mul(n,u),p=r.mul(e,p),h=r.sub(d,p),h=r.mul(e,h),h=r.add(h,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,h),l=r.add(l,d),p=r.mul(s,o),p=r.add(p,p),d=r.mul(p,h),c=r.sub(c,d),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new S(c,l,u)}add(e){g(e);const{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:c}=e;let l=r.ZERO,u=r.ZERO,d=r.ZERO;const f=a.a,p=r.mul(a.b,Pc);let h=r.mul(t,s),b=r.mul(n,o),y=r.mul(i,c),m=r.add(t,n),w=r.add(s,o);m=r.mul(m,w),w=r.add(h,b),m=r.sub(m,w),w=r.add(t,i);let v=r.add(s,c);return w=r.mul(w,v),v=r.add(h,y),w=r.sub(w,v),v=r.add(n,i),l=r.add(o,c),v=r.mul(v,l),l=r.add(b,y),v=r.sub(v,l),d=r.mul(f,w),l=r.mul(p,y),d=r.add(l,d),l=r.sub(b,d),d=r.add(b,d),u=r.mul(l,d),b=r.add(h,h),b=r.add(b,h),y=r.mul(f,y),w=r.mul(p,w),b=r.add(b,y),y=r.sub(h,y),y=r.mul(f,y),w=r.add(w,y),h=r.mul(b,w),u=r.add(u,h),h=r.mul(v,w),l=r.mul(m,l),l=r.sub(l,h),h=r.mul(m,b),d=r.mul(v,d),d=r.add(d,h),new S(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(S.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,a;const s=e=>A.cached(this,e,e=>tc(S,e));if(n){const{k1neg:t,k1:i,k2neg:o,k2:c}=w(e),{p:l,f:u}=s(i),{p:d,f}=s(c);a=u.add(f),r=x(n.beta,l,d,t,o)}else{const{p:t,f:n}=s(e);r=t,a=n}return tc(S,[r,a])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===Cc||r.is0())return S.ZERO;if(e===kc)return r;if(A.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:a,k2:s}=w(e),{p1:o,p2:c}=function(e,t,n,r){let i=t,a=e.ZERO,s=e.ZERO;for(;n>Xo||r>Xo;)n&Qo&&(a=a.add(i)),r&Qo&&(s=s.add(i)),i=i.double(),n>>=Qo,r>>=Qo;return{p1:a,p2:s}}(S,r,i,s);return x(n.beta,o,c,t,a)}return A.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return v(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return s===kc||(e?e(S,this):A.unsafe(this,o).is0())}clearCofactor(){const{clearCofactor:e}=t;return s===kc?this:e?e(S,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(e=!0){return po(e,"isCompressed"),this.assertValidity(),d(S,this,e)}toHex(e=!0){return Ki(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return tc(S,e)}static msm(e,t){return function(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=To(BigInt(i));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=Ao(c),u=new Array(Number(l)+1).fill(s);let d=s;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){u.fill(s);for(let t=0;t<a;t++){const i=r[t],a=Number(i>>BigInt(e)&l);u[a]=u[a].add(n[t])}let t=s;for(let e=u.length-1,n=s;e>0;e--)n=n.add(u[e]),t=t.add(n);if(d=d.add(t),0!==e)for(let e=0;e<c;e++)d=d.double()}return d}(S,i,e,t)}static fromPrivateKey(e){return S.BASE.multiply(Mc(i,e))}}S.BASE=new S(a.Gx,a.Gy,r.ONE),S.ZERO=new S(r.ZERO,r.ONE,r.ZERO),S.Fp=r,S.Fn=i;const T=i.BITS,A=new lc(S,t.endo?Math.ceil(T/2):T);return S.BASE.precompute(8),S}function Nc(e){return Uint8Array.of(e?2:3)}function Lc(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Dc(e,t,n={}){Mi(t),_o(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Qi,i=n.hmac||((e,...n)=>ao(t,e,Ji(...n))),{Fp:a,Fn:s}=e,{ORDER:o,BITS:c}=s,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:p}=function(e,t={}){const{Fn:n}=e,r=t.randomBytes||Qi,i=Object.assign(Lc(e.Fp,n),{seed:Zo(n.ORDER)});function a(e){try{return!!Mc(n,e)}catch{return!1}}function s(e=r(i.seed)){return function(e,t,n=!1){const r=e.length,i=Jo(t),a=Zo(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const s=jo(n?go(e):mo(e),t-Io)+Io;return n?vo(s,i):wo(s,i)}(ho(e,i.seed,"seed"),n.ORDER)}function o(t,r=!0){return e.BASE.multiply(Mc(n,t)).toBytes(r)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:a,publicKeyUncompressed:s}=i;if(n.allowedLengths||r===a)return;const o=Eo("key",t).length;return o===a||o===s}return Object.freeze({getPublicKey:o,getSharedSecret:function(t,r,i=!0){if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(r))throw new Error("second arg must be public key");const a=Mc(n,t);return e.fromHex(r).multiply(a).toBytes(i)},keygen:function(e){const t=s(e);return{secretKey:t,publicKey:o(t)}},Point:e,utils:{isValidSecretKey:a,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:a}=i;try{const i=t.length;return!(!0===n&&i!==r||!1===n&&i!==a||!e.fromBytes(t))}catch{return!1}},randomSecretKey:s,isValidPrivateKey:a,randomPrivateKey:s,normPrivateKeyToScalar:e=>Mc(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)},lengths:i})}(e,n),h={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},b="compact";function y(e){return e>o>>kc}function m(e,t){if(!s.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class g{constructor(e,t,n){this.r=m("r",e),this.s=m("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=b){let n;if(function(e,t){Sc(t);const n=p.signature;ho(e,"compact"===t?n:"recovered"===t?n+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:n}=_c.toSig(ho(e));return new g(t,n)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));const r=s.BYTES,i=e.subarray(0,r),a=e.subarray(r,2*r);return new g(s.fromBytes(i),s.fromBytes(a),n)}static fromHex(e,t){return this.fromBytes(Vi(e),t)}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(t){const n=a.ORDER,{r,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(o*Ic<n&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?r+o:r;if(!a.isValid(l))throw new Error("recovery id 2 or 3 invalid");const u=a.toBytes(l),d=e.fromBytes(Ji(Nc(!(1&c)),u)),f=s.inv(l),p=v(Eo("msgHash",t)),h=s.create(-p*f),b=s.create(i*f),y=e.BASE.multiplyUnsafe(h).add(d.multiplyUnsafe(b));if(y.is0())throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return y(this.s)}toBytes(e=b){if(Sc(e),"der"===e)return Vi(_c.hexFromSig(this));const t=s.toBytes(this.r),n=s.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return Ji(Uint8Array.of(this.recovery),t,n)}return Ji(t,n)}toHex(e){return Ki(this.toBytes(e))}assertValidity(){}static fromCompact(e){return g.fromBytes(Eo("sig",e),"compact")}static fromDER(e){return g.fromBytes(Eo("sig",e),"der")}normalizeS(){return this.hasHighS()?new g(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ki(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ki(this.toBytes("compact"))}}const w=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=mo(e),n=8*e.length-c;return n>0?t>>BigInt(n):t},v=n.bits2int_modN||function(e){return s.create(w(e))},E=Ao(c);function x(e){return So("num < 2^"+c,e,Cc,E),s.toBytes(e)}function S(e,n){return ho(e,void 0,"message"),n?ho(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:p,Point:e,sign:function(n,a,o={}){n=Eo("message",n);const{seed:c,k2sig:l}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:a,prehash:o,extraEntropy:c}=Tc(i,h);t=S(t,o);const l=v(t),u=Mc(s,n),d=[x(u),x(l)];if(null!=c&&!1!==c){const e=!0===c?r(p.secretKey):c;d.push(Eo("extraEntropy",e))}const f=Ji(...d),b=l;return{seed:f,k2sig:function(t){const n=w(t);if(!s.isValidNot0(n))return;const r=s.inv(n),i=e.BASE.multiply(n).toAffine(),o=s.create(i.x);if(o===Cc)return;const c=s.create(r*s.create(b+o*u));if(c===Cc)return;let l=(i.x===o?0:2)|Number(i.y&kc),d=c;return a&&y(c)&&(d=s.neg(c),l^=1),new g(o,d,l)}}}(n,a,o);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let a=r(e),s=r(e),o=0;const c=()=>{a.fill(1),s.fill(0),o=0},l=(...e)=>n(s,a,...e),u=(e=r(0))=>{s=l(i(0),e),a=l(),0!==e.length&&(s=l(i(1),e),a=l())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){a=l();const t=a.slice();n.push(t),e+=a.length}return Ji(...n)};return(e,t)=>{let n;for(c(),u(e);!(n=t(d()));)u();return c(),n}}(t.outputLen,s.BYTES,i)(c,l)},verify:function(t,n,r,i={}){const{lowS:a,prehash:o,format:c}=Tc(i,h);if(r=Eo("publicKey",r),n=S(Eo("message",n),o),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(e){let t;const n="string"==typeof e||Ii(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new g(e.r,e.s);else if(n){try{t=g.fromBytes(Eo("sig",e),"der")}catch(e){if(!(e instanceof _c.Err))throw e}if(!t)try{t=g.fromBytes(Eo("sig",e),"compact")}catch{return!1}}return t||!1}(t):g.fromBytes(Eo("sig",t),c);if(!1===l)return!1;try{const t=e.fromBytes(r);if(a&&l.hasHighS())return!1;const{r:i,s:o}=l,c=v(n),u=s.inv(o),d=s.create(c*u),f=s.create(i*u),p=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(f));return!p.is0()&&s.create(p.x)===i}catch{return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:r}=Tc(n,h);return t=S(t,r),g.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:g,hash:t})}function Bc(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=function(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:Yo(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,Go(n.Fn.ORDER,n.Fn.BITS))})}(e,Dc(Rc(t,n),r,i))}function jc(e,t){const n=t=>Bc({...e,hash:t});return{...n(t),create:n}}const Uc={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Fc={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},$c={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},zc=Yo(Uc.p),Hc=Yo(Fc.p),qc=Yo($c.p),Kc=jc({...Uc,Fp:zc,lowS:!1},Na);jc({...Fc,Fp:Hc,lowS:!1},Da),jc({...$c,Fp:qc,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},La);const Wc=Kc,Vc="base10",Gc="base16",Yc="base64pad",Jc="base64url",Zc="utf8",Xc=0,Qc=1,el=2,tl=0,nl=1,rl=12,il=32;function al(){const e=Ec.utils.randomPrivateKey(),t=Ec.getPublicKey(e);return{privateKey:(0,Bn.dI)(e,Gc),publicKey:(0,Bn.dI)(t,Gc)}}function sl(){const e=Qi(il);return(0,Bn.dI)(e,Gc)}function ol(e,t){const n=Ec.getSharedSecret((0,Bn.sH)(e,Gc),(0,Bn.sH)(t,Gc)),r=co(lo,n,void 0,void 0,il);return(0,Bn.dI)(r,Gc)}function cl(e){const t=lo((0,Bn.sH)(e,Gc));return(0,Bn.dI)(t,Gc)}function ll(e){const t=lo((0,Bn.sH)(e,Zc));return(0,Bn.dI)(t,Gc)}function ul(e){return(0,Bn.sH)(`${e}`,Vc)}function dl(e){return Number((0,Bn.dI)(e,Vc))}function fl(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function pl(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function hl(e){const t=ul(typeof e.type<"u"?e.type:Xc);if(dl(t)===Qc&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?(0,Bn.sH)(e.senderPublicKey,Gc):void 0,r=typeof e.iv<"u"?(0,Bn.sH)(e.iv,Gc):Qi(rl),i=(0,Bn.sH)(e.symKey,Gc),a=gl({type:t,sealed:no(i,r).encrypt((0,Bn.sH)(e.message,Zc)),iv:r,senderPublicKey:n});return e.encoding===Jc?fl(a):a}function bl(e){const t=(0,Bn.sH)(e.symKey,Gc),{sealed:n,iv:r}=wl({encoded:e.encoded,encoding:e.encoding}),i=no(t,r).decrypt(n);if(null===i)throw new Error("Failed to decrypt");return(0,Bn.dI)(i,Zc)}function yl(e,t){const n=ul(el),r=Qi(rl),i=gl({type:n,sealed:(0,Bn.sH)(e,Zc),iv:r});return t===Jc?fl(i):i}function ml(e,t){const{sealed:n}=wl({encoded:e,encoding:t});return(0,Bn.dI)(n,Zc)}function gl(e){if(dl(e.type)===el)return(0,Bn.dI)((0,Bn.xW)([e.type,e.sealed]),Yc);if(dl(e.type)===Qc){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,Bn.dI)((0,Bn.xW)([e.type,e.senderPublicKey,e.iv,e.sealed]),Yc)}return(0,Bn.dI)((0,Bn.xW)([e.type,e.iv,e.sealed]),Yc)}function wl(e){const t=(e.encoding||Yc)===Jc?pl(e.encoded):e.encoded,n=(0,Bn.sH)(t,Yc),r=n.slice(tl,nl),i=nl;if(dl(r)===Qc){const e=i+il,t=e+rl,a=n.slice(i,e),s=n.slice(e,t);return{type:r,sealed:n.slice(t),iv:s,senderPublicKey:a}}if(dl(r)===el)return{type:r,sealed:n.slice(i),iv:Qi(rl)};const a=i+rl,s=n.slice(i,a);return{type:r,sealed:n.slice(a),iv:s}}function vl(e,t){const n=wl({encoded:e,encoding:t?.encoding});return El({type:dl(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,Bn.dI)(n.senderPublicKey,Gc):void 0,receiverPublicKey:t?.receiverPublicKey})}function El(e){const t=e?.type||Xc;if(t===Qc){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function xl(e){return e.type===Qc&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function Sl(e){return e.type===el}function Tl(e,t){const[n,r,i]=e.split("."),a=fr.from(pl(i),"base64");if(64!==a.length)throw new Error("Invalid signature length");const s=a.slice(0,32),o=a.slice(32,64),c=lo(`${n}.${r}`),l=function(e){const t=fr.from(e.x,"base64"),n=fr.from(e.y,"base64");return(0,Bn.xW)([new Uint8Array([4]),t,n])}(t);if(!Wc.verify((0,Bn.xW)([s,o]),c,l))throw new Error("Invalid signature");return(0,Dn.Cq)(e).payload}const Al="irn";function _l(e){return e?.relay||{protocol:Al}}function Cl(e){const t=Un[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var kl=Object.defineProperty,Il=Object.defineProperties,Pl=Object.getOwnPropertyDescriptors,Ol=Object.getOwnPropertySymbols,Ml=Object.prototype.hasOwnProperty,Rl=Object.prototype.propertyIsEnumerable,Nl=(e,t,n)=>t in e?kl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ll=(e,t)=>{for(var n in t||(t={}))Ml.call(t,n)&&Nl(e,n,t[n]);if(Ol)for(var n of Ol(t))Rl.call(t,n)&&Nl(e,n,t[n]);return e},Dl=(e,t)=>Il(e,Pl(t));function Bl(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(r)){const i=t.replace(r,""),a=e[t];n[i]=a}}),n}function jl(e){if(!e.includes("wc:")){const t=si(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),a=typeof n<"u"?e.substring(n):"",s=new URLSearchParams(a),o=Object.fromEntries(s.entries()),c="string"==typeof o.methods?o.methods.split(","):void 0;return{protocol:r,topic:Ul(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:Bl(o),methods:c,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function Ul(e){return e.startsWith("//")?e.substring(2):e}function Fl(e){const t=new URLSearchParams,n=Ll(Ll(Dl(Ll({},function(e,t="-"){const n={};return Object.keys(e).forEach(r=>{const i=r,a="relay"+t+i;e[i]&&(n[a]=e[i])}),n}(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,n])=>{void 0!==n&&t.append(e,String(n))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function $l(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var zl=Object.defineProperty,Hl=Object.defineProperties,ql=Object.getOwnPropertyDescriptors,Kl=Object.getOwnPropertySymbols,Wl=Object.prototype.hasOwnProperty,Vl=Object.prototype.propertyIsEnumerable,Gl=(e,t,n)=>t in e?zl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yl=(e,t)=>{for(var n in t||(t={}))Wl.call(t,n)&&Gl(e,n,t[n]);if(Kl)for(var n of Kl(t))Vl.call(t,n)&&Gl(e,n,t[n]);return e},Jl=(e,t)=>Hl(e,ql(t));function Zl(e){const t=[];return e.forEach(e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)}),t}function Xl(e){const t=[];return Object.values(e).forEach(e=>{t.push(...Zl(e.accounts))}),[...new Set(t)]}function Ql(e){const t=[];return Object.values(e).forEach(e=>{t.push(...e.methods)}),[...new Set(t)]}function eu(e){const t=[];return Object.values(e).forEach(e=>{t.push(...e.events)}),[...new Set(t)]}function tu(e){return e.includes(":")}function nu(e){return tu(e)?e.split(":")[0]:e}function ru(e){var t,n,r;const i={};if(!du(e))return i;for(const[a,s]of Object.entries(e)){const e=tu(a)?[a]:s.chains,o=s.methods||[],c=s.events||[],l=nu(a);i[l]=Jl(Yl({},i[l]),{chains:ei(e,null==(t=i[l])?void 0:t.chains),methods:ei(o,null==(n=i[l])?void 0:n.methods),events:ei(c,null==(r=i[l])?void 0:r.events)})}return i}function iu(e,t){const n=function(e){const t={};return e?.forEach(e=>{var n;const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[],methods:[]}),t[r].accounts.push(e),null==(n=t[r].chains)||n.push(`${r}:${i}`)}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(const[t,r]of Object.entries(n))r.methods?r.methods=ei(r.methods,e):r.methods=e,r.events=["chainChanged","accountsChanged"];return n}function au(e,t){var n,r,i,a,s,o;const c=ru(e),l=ru(t),u={},d=Object.keys(c).concat(Object.keys(l));for(const e of d)u[e]={chains:ei(null==(n=c[e])?void 0:n.chains,null==(r=l[e])?void 0:r.chains),methods:ei(null==(i=c[e])?void 0:i.methods,null==(a=l[e])?void 0:a.methods),events:ei(null==(s=c[e])?void 0:s.events,null==(o=l[e])?void 0:o.events)};return u}const su={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ou={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function cu(e,t){const{message:n,code:r}=ou[e];return{message:t?`${n} ${t}`:n,code:r}}function lu(e,t){const{message:n,code:r}=su[e];return{message:t?`${n} ${t}`:n,code:r}}function uu(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function du(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function fu(e){return typeof e>"u"}function pu(e,t){return!(!t||!fu(e))||"string"==typeof e&&!!e.trim().length}function hu(e,t){return!(!t||!fu(e))||"number"==typeof e&&!isNaN(e)}function bu(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let a=!0;return!!zr(i,r)&&(r.forEach(t=>{const{accounts:r,methods:i,events:s}=e.namespaces[t],o=Zl(r),c=n[t];zr(mr(t,c),o)&&zr(c.methods,i)&&zr(c.events,s)||(a=!1)}),a)}function yu(e){return!(!pu(e,!1)||!e.includes(":"))&&2===e.split(":").length}function mu(e){function t(e){try{return typeof new URL(e)<"u"}catch{return!1}}try{if(pu(e,!1))return!!t(e)||t(si(e))}catch{}return!1}function gu(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}function wu(e){return e?.topic}function vu(e,t){let n=null;return pu(e?.publicKey,!1)||(n=cu("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function Eu(e){let t=!0;return uu(e)?e.length&&(t=e.every(e=>pu(e,!1))):t=!1,t}function xu(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return Eu(e?.methods)?Eu(e?.events)||(n=lu("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=lu("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}(e,`${t}, namespace`);r&&(n=r)}),n}function Su(e,t,n){let r=null;if(e&&du(e)){const i=xu(e,t);i&&(r=i);const a=function(e,t,n){let r=null;return Object.entries(e).forEach(([e,i])=>{if(r)return;const a=function(e,t,n){let r=null;return uu(t)&&t.length?t.forEach(e=>{r||yu(e)||(r=lu("UNSUPPORTED_CHAINS",`${n}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):yu(e)||(r=lu("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(e,mr(e,i),`${t} ${n}`);a&&(r=a)}),r}(e,t,n);a&&(r=a)}else r=cu("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function Tu(e,t){let n=null;if(e&&du(e)){const r=xu(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return uu(e)?e.forEach(e=>{n||function(e){if(pu(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&yu(e)}}return!1}(e)||(n=lu("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):n=lu("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}(e?.accounts,`${t} namespace`);r&&(n=r)}),n}(e,t);i&&(n=i)}else n=cu("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function Au(e){return pu(e.protocol,!0)}function _u(e,t){let n=!1;return t&&!e?n=!0:e&&uu(e)&&e.length&&e.forEach(e=>{n=Au(e)}),n}function Cu(e){return"number"==typeof e}function ku(e){return typeof e<"u"&&null!==typeof e}function Iu(e){return!!(e&&"object"==typeof e&&e.code&&hu(e.code,!1)&&e.message&&pu(e.message,!1))}function Pu(e){return!(fu(e)||!pu(e.method,!1))}function Ou(e){return!(fu(e)||fu(e.result)&&fu(e.error)||!hu(e.id,!1)||!pu(e.jsonrpc,!1))}function Mu(e){return!(fu(e)||!pu(e.name,!1))}function Ru(e,t){return!(!yu(t)||!Xl(e).includes(t))}function Nu(e,t,n){return!!pu(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{Zl(e.accounts).includes(t)&&n.push(...e.methods)}),n}(e,t).includes(n)}function Lu(e,t,n){return!!pu(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{Zl(e.accounts).includes(t)&&n.push(...e.events)}),n}(e,t).includes(n)}function Du(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach(r=>{t[r]={methods:e[n].methods,events:e[n].events}})}),t}(e),a=function(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=Zl(e[n].accounts);r?.forEach(r=>{t[r]={accounts:e[n].accounts.filter(e=>e.includes(`${r}:`)),methods:e[n].methods,events:e[n].events}})}}),t}(t),s=Object.keys(i),o=Object.keys(a),c=Bu(Object.keys(e)),l=Bu(Object.keys(t)),u=c.filter(e=>!l.includes(e));return u.length&&(r=cu("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(t).toString()}`)),zr(s,o)||(r=cu("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${s.toString()}\n      Approved: ${o.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||r)return;const i=Zl(t[e].accounts);i.includes(e)||(r=cu("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`))}),s.forEach(e=>{r||(zr(i[e].methods,a[e].methods)?zr(i[e].events,a[e].events)||(r=cu("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${e}`)):r=cu("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${e}`))}),r}function Bu(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function ju(e,t){return hu(e,!1)&&e<=t.max&&e>=t.min}function Uu(){const e=Dr();return new Promise(t=>{switch(e){case Ir.browser:t(Lr()&&navigator?.onLine);break;case Ir.reactNative:t(async function(){if(Mr()&&typeof global<"u"&&null!=global&&global.NetInfo){const e=await(null==global?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}());break;case Ir.node:default:t(!0)}})}function Fu(e){switch(Dr()){case Ir.browser:!function(e){!Mr()&&Lr()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}(e);break;case Ir.reactNative:!function(e){Mr()&&typeof global<"u"&&null!=global&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}(e);case Ir.node:}}function $u(){var e;return!Lr()||!(0,y.getDocument)()||"visible"===(null==(e=(0,y.getDocument)())?void 0:e.visibilityState)}const zu={};class Hu{static get(e){return zu[e]}static set(e,t){zu[e]=t}static delete(e){delete zu[e]}}function qu(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Ku(e){const t=Uint8Array.from(fr.from(e.signature,"hex")),n=function(e){const t=Bt.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),r=function({publicKey:e,signature:t,payload:n}){var r;const i=qu(n.method),a=128|parseInt((null==(r=n.version)?void 0:r.toString())||"4"),s=function(e){const t=Bt.decode(e)[0];return 42===t?0:60===t?2:1}(n.address),o="00"===n.era?new Uint8Array([0]):qu(n.era);if(1!==o.length&&2!==o.length)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([255&c,c>>8&255]),u=BigInt(`0x${function(e){return e.startsWith("0x")?e.slice(2):e}(n.tip)}`),d=function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw new Error("BigInt compact encoding not supported > 2^30")}(u),f=new Uint8Array([0,...e,s,...t,...o,...l,...d,...i]),p=function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1<<30){const t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw new Error("Compact encoding > 2^30 not supported")}(f.length+1);return new Uint8Array([...p,a,...f])}({publicKey:n,signature:t,payload:e.transaction});return function(e){const t=qu(e),n=(0,Fn.blake2b)(t,void 0,32);return"0x"+fr.from(n).toString("hex")}(fr.from(r).toString("hex"))}function Wu({logger:e,name:t}){const n="string"==typeof e?(r={opts:{level:e,name:t}},typeof r.loggerOverride<"u"&&"string"!=typeof r.loggerOverride?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new Qn(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:zn()(ur(lr({},e.opts),{level:"trace",browser:ur(lr({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(r):function(e){var t;const n=new tr(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:zn()(ur(lr({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(r)).logger:e;var r;return n.level="string"==typeof e?e:e.level,n}},9629:e=>{"use strict";e.exports=Object},9822:(e,t)=>{"use strict";function n(e,t,n){return t<=e&&e<=n}function r(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var a=-1;function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}var o="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function u(e){var t=e.fatal,r=0,i=0,o=0,c=128,l=191;this.handler=function(e,u){if(-1===u&&0!==o)return o=0,s(t);if(-1===u)return a;if(0===o){if(n(u,0,127))return u;if(n(u,194,223))o=1,r=u-192;else if(n(u,224,239))224===u&&(c=160),237===u&&(l=159),o=2,r=u-224;else{if(!n(u,240,244))return s(t);240===u&&(c=144),244===u&&(l=143),o=3,r=u-240}return r<<=6*o,null}if(!n(u,c,l))return r=o=i=0,c=128,l=191,e.prepend(u),s(t);if(c=128,l=191,r+=u-128<<6*(o-(i+=1)),i!==o)return null;var d=r;return r=o=i=0,d}}function d(e){e.fatal,this.handler=function(e,t){if(-1===t)return a;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var s=[(t>>6*r)+i];r>0;){var o=t>>6*(r-1);s.push(128|63&o),r-=1}return s}}c.prototype={decode:function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=r(t),this._streaming||(this._decoder=new u({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var s,o=new i(n),c=[];!o.endOfStream()&&(s=this._decoder.handler(o,o.read()))!==a;)null!==s&&(Array.isArray(s)?c.push.apply(c,s):c.push(s));if(!this._streaming){do{if((s=this._decoder.handler(o,o.read()))===a)break;null!==s&&(Array.isArray(s)?c.push.apply(c,s):c.push(s))}while(!o.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(c)}},l.prototype={encode:function(e,t){e=e?String(e):"",t=r(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(t.stream);for(var n,s=[],o=new i(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var a=t.charCodeAt(r);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(r===n-1)i.push(65533);else{var s=e.charCodeAt(r+1);if(56320<=s&&s<=57343){var o=1023&a,c=1023&s;i.push(65536+(o<<10)+c),r+=1}else i.push(65533)}r+=1}return i}(e));!o.endOfStream()&&(n=this._encoder.handler(o,o.read()))!==a;)Array.isArray(n)?s.push.apply(s,n):s.push(n);if(!this._streaming){for(;(n=this._encoder.handler(o,o.read()))!==a;)Array.isArray(n)?s.push.apply(s,n):s.push(n);this._encoder=null}return new Uint8Array(s)}},t.TextEncoder=l,t.TextDecoder=c},9992:(e,t,n)=>{"use strict";n.d(t,{Ez:()=>s,LX:()=>r,WN:()=>i,fT:()=>a});const r="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",a="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",s="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"},10286:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var r=n(30666),i=n(58470),a=n(37663),s=n(77190),o=n(27438),c=n(76009);const l="/docs/contract/encodeFunctionData";function u(e){const{args:t}=e,{abi:n,functionName:u}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){const{abi:t,args:n,functionName:r}=e;let i=t[0];if(r){const e=(0,c.iY)({abi:t,args:n,name:r});if(!e)throw new a.Iz(r,{docsPath:l});i=e}if("function"!==i.type)throw new a.Iz(void 0,{docsPath:l});return{abi:[i],functionName:(0,s.V)((0,o.B)(i))}}(e),d=n[0],f=u,p="inputs"in d&&d.inputs?(0,i.h)(d.inputs,t??[]):void 0;return(0,r.aP)([f,p??"0x"])}},10288:(e,t,n)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},i="URLSearchParams"in r,a="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function b(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function y(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function m(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=b(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return b(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(s)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,i,a=b(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,n=y(t=new FileReader),i=(r=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?r[1]:"utf-8",t.readAsText(e,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[d(e)]},h.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},h.prototype.set=function(e,t){this.map[d(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),p(e)},h.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),p(e)},h.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),p(e)},a&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,a=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(i=(n=t.method||this.method||"GET").toUpperCase(),v.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function x(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},w.call(E.prototype),w.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var T=[301,302,303,307,308];S.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise(function(i,a){var o=new E(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}if(l.onload=function(){var e,t,n={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===o.url.indexOf("file://")&&(l.status<200||l.status>599)?n.status=200:n.status=l.status,n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout(function(){i(new S(r,n))},0)},l.onerror=function(){setTimeout(function(){a(new TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){a(new TypeError("Network request timed out"))},0)},l.onabort=function(){setTimeout(function(){a(new t.DOMException("Aborted","AbortError"))},0)},l.open(o.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?l.withCredentials=!0:"omit"===o.credentials&&(l.withCredentials=!1),"responseType"in l&&(s?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof h||r.Headers&&n.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){p.push(d(e)),l.setRequestHeader(e,f(n.headers[e]))}),o.headers.forEach(function(e,t){-1===p.indexOf(t)&&l.setRequestHeader(t,e)})}else o.headers.forEach(function(e,t){l.setRequestHeader(t,e)});o.signal&&(o.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&o.signal.removeEventListener("abort",u)}),l.send(void 0===o._bodyInit?null:o._bodyInit)})}A.polyfill=!0,r.fetch||(r.fetch=A,r.Headers=h,r.Request=E,r.Response=S),t.Headers=h,t.Request=E,t.Response=S,t.fetch=A}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var a=r.fetch?r:i;(t=a.fetch).default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t},10415:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var r=n(34820),i=n(30398);function a(e){const{batch:t,chain:n,ccipRead:a,key:s="base",name:o="Base Client",type:c="base"}=e,l=e.experimental_blockTag??("number"==typeof n?.experimental_preconfirmationTime?"pending":void 0),u=n?.blockTime??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),f=e.pollingInterval??d,p=e.cacheTime??f,h=e.account?(0,r.J)(e.account):void 0,{config:b,request:y,value:m}=e.transport({account:h,chain:n,pollingInterval:f}),g={account:h,batch:t,cacheTime:p,ccipRead:a,chain:n,key:s,name:o,pollingInterval:f,request:y,transport:{...b,...m},type:c,uid:(0,i.L)(),...l?{experimental_blockTag:l}:{}};return Object.assign(g,{extend:function e(t){return n=>{const r=n(t);for(const e in g)delete r[e];const i={...t,...r};return Object.assign(i,{extend:e(i)})}}(g)})}},11038:(e,t,n)=>{"use strict";n.d(t,{N:()=>p});var r=n(69740),i=n(78843),a=n(8017),s=n(34449),o=n(85651),c=n(19024);const l=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function u(e){switch(e.status){case 405:throw a.r.methodNotFound();case 418:throw a.r.internal({message:"Request is being rate limited.",data:{cause:e}});case 503:case 504:throw a.r.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:e}})}}function d(e){return new Promise(t=>{setTimeout(t,e)})}function f(e,t){if(200!==e.status)throw a.r.internal({message:`Non-200 status code: '${e.status}'`,data:t});var n;if(t.error)throw a.r.internal({data:t.error,message:null===(n=t.error)||void 0===n?void 0:n.message});return t.result}function p({rpcTarget:e,originHttpHeaderKey:t,analytics:n,providerConfig:a}){return(0,s.jg)(async(s,p,h)=>{const{fetchUrl:b,fetchParams:y}=function({req:e,rpcTarget:t,originHttpHeaderKey:n}){const r=new URL(t),i={id:e.id,jsonrpc:e.jsonrpc,method:e.method,params:e.params},a=e.origin,s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)};return n&&a&&(s.headers[n]=a),{fetchUrl:r.href,fetchParams:s}}({req:s,rpcTarget:e,originHttpHeaderKey:t}),m=Date.now(),g=!Object.values(o.oH).includes(s.method),w={chain_id:(0,c.Eo)(a),chain_rpc_target:(0,c.EW)(b),method:s.method};for(let e=0;e<5;e++){try{const e=await fetch(b,y);u(e);const t=await e.json(),i=f(e,t);return p.result=i,void(g||null==n||n.track(o.R2.JRPC_REQUEST_COMPLETED,(0,r.A)((0,r.A)({request_type:o.bZ.NETWORK},w),{},{duration:Date.now()-m})))}catch(e){const t=(e.message||e).toString();if(!l.some(e=>t.includes(e)))throw g||null==n||n.track(o.R2.JRPC_REQUEST_FAILED,(0,r.A)((0,r.A)({request_type:o.bZ.NETWORK},w),{},{error_code:null==e?void 0:e.code,error_message:t,duration:Date.now()-m})),await(0,i.P)(e)}await d(1e3)}})}},11158:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,n]){const r=t.shift();return"f"===n?r.toFixed(6):"j"===n?JSON.stringify(r):"s"===n&&"object"==typeof r?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},11221:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var r,i=n(98158),a=n(34449),s=n(25082),o=n(81632);class c extends o.D{constructor({config:e,state:t}){super({config:e,state:t}),(0,i.A)(this,"_providerEngineProxy",null)}get provider(){return this._providerEngineProxy}set provider(e){throw new Error("Method not implemented.")}async setupProvider(e){const t=this.getPrivKeyMiddleware(e),n=new s.WJ;n.push(t);const r=(0,s.iR)(n);this.updateProviderEngineProxy(r)}async switchChain(e){return Promise.resolve()}getProviderEngineProxy(){return this._providerEngineProxy}async lookupNetwork(){return Promise.resolve("")}getPrivKeyMiddleware(e){const t={getPrivatekey:async()=>{if(!this.config.keyExportEnabled)throw new Error("Exporting private key is disabled. Please enable it in the provider config");return e}};return this.createPrivKeyMiddleware(t)}createPrivKeyMiddleware({getPrivatekey:e}){return(0,a.ld)({private_key:(0,a.jg)(async function(t,n){try{n.result=await e()}catch(e){n.error=e instanceof Error?e.message:e}})})}}r=c,(0,i.A)(c,"getProviderInstance",async e=>{const t=new r({config:{chain:e.chain,chains:e.chains}});return await t.setupProvider(e.privKey),t})},11368:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var r=n(8322);const i=new Map;function a({fn:e,id:t,shouldSplitBatch:n,wait:a=0,sort:s}){const o=async()=>{const t=l();c();const n=t.map(({args:e})=>e);0!==n.length&&e(n).then(e=>{s&&Array.isArray(e)&&e.sort(s);for(let n=0;n<t.length;n++){const{resolve:r}=t[n];r?.([e[n],e])}}).catch(e=>{for(let n=0;n<t.length;n++){const{reject:r}=t[n];r?.(e)}})},c=()=>i.delete(t),l=()=>i.get(t)||[],u=e=>i.set(t,[...l(),e]);return{flush:c,async schedule(e){const{promise:t,resolve:i,reject:s}=(0,r.Y)(),c=n?.([...l().map(({args:e})=>e),e]);return c&&o(),l().length>0?(u({args:e,resolve:i,reject:s}),t):(u({args:e,resolve:i,reject:s}),setTimeout(o,a),t)}}}},11465:(e,t,n)=>{"use strict";function r(e,t){return Object.keys(t).reduce(function(n,r){return r.startsWith(e)&&(n[r.substr(e.length)]=t[r]),n},{})}n.r(t),n.d(t,{queryString:()=>s});var i=n(53031),a=n(91576);function s(e,t){var n=document.createElement("a");n.href=t;var s=n.search.slice(1).split("&").reduce(function(e,t){var n=t.split("="),r=n[0],a=n[1];return e[r]=(0,i.p)(a),e},{}),o=[],c=s.ajs_uid,l=s.ajs_event,u=s.ajs_aid,d=(0,a.Qd)(e.options.useQueryString)?e.options.useQueryString:{},f=d.aid,p=void 0===f?/.+/:f,h=d.uid,b=void 0===h?/.+/:h;if(u){var y=Array.isArray(s.ajs_aid)?s.ajs_aid[0]:s.ajs_aid;p.test(y)&&e.setAnonymousId(y)}if(c){var m=Array.isArray(s.ajs_uid)?s.ajs_uid[0]:s.ajs_uid;if(b.test(m)){var g=r("ajs_trait_",s);o.push(e.identify(m,g))}}if(l){var w=Array.isArray(s.ajs_event)?s.ajs_event[0]:s.ajs_event,v=r("ajs_prop_",s);o.push(e.track(w,v))}return Promise.all(o)}},11795:(e,t,n)=>{"use strict";n.d(t,{hw:()=>r,qe:()=>i});const r=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],i=[{inputs:[{name:"success",type:"bool"},{name:"ret",type:"bytes"}],name:"DelegateAndRevert",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"},{name:"inner",type:"bytes"}],name:"FailedOpWithRevert",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"PostOpReverted",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"PostOpRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"}],name:"UserOperationPrefundTooLow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"data",type:"bytes"}],name:"delegateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},11824:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var r=n(62421),i=n(19555);const a=e=>(0,i.S)((0,r.ZJ)(e));var s=n(66220),o=n(14323);const c=e=>function(e){let t=!0,n="",r=0,i="",a=!1;for(let s=0;s<e.length;s++){const o=e[s];if(["(",")",","].includes(o)&&(t=!0),"("===o&&r++,")"===o&&r--,t)if(0!==r)" "!==o?(i+=o,n+=o):","!==e[s-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===o&&["event","function",""].includes(i))i="";else if(i+=o,")"===o){a=!0;break}}if(!a)throw new o.C("Unable to normalize signature.");return i}("string"==typeof e?e:(0,s.B)(e));function l(e){return t=c(e),a(t);var t}},11825:(e,t,n)=>{"use strict";var r=n(70461),i=n(7784);function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},12108:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(14323);class i extends r.C{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}},12166:(e,t,n)=>{"use strict";const r=n(12285),i=n(39435);e.exports=(e,t,n)=>{const a=[];let s=null,o=null;const c=e.sort((e,t)=>i(e,t,n));for(const e of c)r(e,t,n)?(o=e,s||(s=e)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);const l=[];for(const[e,t]of a)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},12197:e=>{"use strict";const t=e=>{if(e&&"object"==typeof e&&"cause"in e){if("function"==typeof e.cause){const t=e.cause();return t instanceof Error?t:void 0}return e.cause instanceof Error?e.cause:void 0}},n=(e,r)=>{if(!(e instanceof Error))return"";const i=e.stack||"";if(r.has(e))return i+"\ncauses have become circular...";const a=t(e);return a?(r.add(e),i+"\ncaused by: "+n(a,r)):i},r=(e,n,i)=>{if(!(e instanceof Error))return"";const a=i?"":e.message||"";if(n.has(e))return a+": ...";const s=t(e);if(s){n.add(e);const t="cause"in e&&"function"==typeof e.cause;return a+(t?"":": ")+r(s,n,t)}return a};e.exports={findCauseByReference:(e,n)=>{if(!e||!n)return;if(!(e instanceof Error))return;if(!(n.prototype instanceof Error)&&n!==Error)return;const r=new Set;let i=e;for(;i&&!r.has(i);){if(r.add(i),i instanceof n)return i;i=t(i)}},getErrorCause:t,stackWithCauses:e=>n(e,new Set),messageWithCauses:e=>r(e,new Set)}},12200:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r;let i;const a=new Set,s={};function o(){if(i)return i;if(i=Object.freeze({register:c,get:u,on:d}),"undefined"==typeof window)return i;const e=Object.freeze({register:c});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new p(e))}catch(e){console.error("wallet-standard:app-ready event could not be dispatched\n",e)}return i}function c(...e){return(e=e.filter(e=>!a.has(e))).length?(e.forEach(e=>function(e){l=void 0,a.add(e)}(e)),s.register?.forEach(t=>f(()=>t(...e))),function(){e.forEach(e=>function(e){l=void 0,a.delete(e)}(e)),s.unregister?.forEach(t=>f(()=>t(...e)))}):()=>{}}let l;function u(){return l||(l=[...a]),l}function d(e,t){return s[e]?.push(t)||(s[e]=[t]),function(){s[e]=s[e]?.filter(e=>t!==e)}}function f(e){try{e()}catch(e){console.error(e)}}class p extends Event{get detail(){return function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,r,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),r.set(this,void 0),function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?i.call(e,n):i?i.value=n:t.set(e,n)}(this,r,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}r=new WeakMap},12285:(e,t,n)=>{"use strict";const r=n(29668);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},12292:(e,t,n)=>{"use strict";n.d(t,{b:()=>_});var r=n(69740),i=n(98158),a=n(9453),s=n(8017),o=n(25082);const c=e=>{if("number"==typeof e)return`0x${e.toString(16)}`;if("string"==typeof e)return e.startsWith("0x")?e:`0x${parseInt(e,10).toString(16)}`;throw new Error(`Invalid chainId: ${e}`)};var l=n(33378),u=n(28147),d=n(26358),f=n(23553),p=n(1048).Buffer;async function h(e){if(e.session.length){const t=e.session.keys.length-1;return e.session.get(e.session.keys[t])}return null}function b(e){return e.startsWith("solana:")}async function y(e,t,n,i){const a=await h(e);if(!a)throw s.P.disconnected();return"undefined"!=typeof window&&/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)&&a.peer.metadata.redirect&&a.peer.metadata.redirect.native&&window.open(a.peer.metadata.redirect.native,"_blank"),e.request({topic:a.topic,chainId:t,request:{method:n,params:b(t)?(0,r.A)((0,r.A)({},i),{},{pubkey:a.self.publicKey}):i}})}async function m(e){const t=await h(e);if(!t)throw s.P.disconnected();const n=(0,a.Zz7)(t.namespaces);if(n&&n.length)return[...new Set(n.map(e=>(0,a.cK)(e).address))];throw d.T7.connectionError("Failed to get accounts")}var g,w=n(50068),v=n(6529),E=n(75690),x=n(13888),S=n(81632),T=n(18963),A=n(96250);class _ extends S.D{constructor({config:e,state:t,connector:n}){super({config:{chain:e.chain,chains:e.chains,skipLookupNetwork:!!e.skipLookupNetwork},state:(0,r.A)((0,r.A)({},t||{}),{},{chainId:"loading",accounts:[]})}),(0,i.A)(this,"connector",null),this.connector=n||null}async enable(){if(!this.connector)throw s.P.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e,this.config.chain.chainId)}async switchChain({chainId:e}){if(!this.connector)throw s.P.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});if(!this.getChain(e))throw d.T7.connectionError("Chain config is not available");const t=parseInt(this.getCurrentChainId(),16);await async function({connector:e,chainId:t,newChainId:n}){await y(e,`eip155:${t}`,"wallet_switchEthereumChain",[{chainId:n}])}({connector:this.connector,chainId:t,newChainId:e}),await this.setupEngine(this.connector,e),this.lookupNetwork(this.connector,e),this.update({chainId:e})}async addChain(e){if(!this.connector)throw s.P.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const t=parseInt(this.getCurrentChainId(),16);await async function({connector:e,chainId:t,chainConfig:n}){if(!n)throw s.P.custom({message:"Chain config is required",code:4902});const i=c(n.chainId),a=(0,r.A)((0,r.A)({},n),{},{chainId:i});await y(e,`eip155:${t}`,"wallet_addEthereumChain",[a])}({connector:this.connector,chainId:t,chainConfig:e})}async lookupNetwork(e,t){return t}async setupEngine(e,t){const n=this.getChain(t);if(n.chainNamespace===T.l.EIP155)await this.setupEthEngine(e,t);else{if(n.chainNamespace!==T.l.SOLANA)throw new Error(`Unsupported chainNamespace: ${n.chainNamespace}`);await this.setupSolEngine(e,t)}this.emit("chainChanged",t),this.emit("connect",{chainId:t}),this.update({chainId:t})}async setupEthEngine(e,t){const n=this.getChain(t),r=function({connector:e,chainId:t}){return{getPrivateKey:async()=>{throw s.r.methodNotSupported()},getPublicKey:async()=>{throw s.r.methodNotSupported()},getAccounts:async t=>m(e),processTransaction:async(n,r)=>await y(e,`eip155:${t}`,u.zb.ETH_TRANSACTION,[n]),processSignTransaction:async(n,r)=>await y(e,`eip155:${t}`,"eth_signTransaction",[n]),processEthSignMessage:async(n,r)=>await y(e,`eip155:${t}`,u.zb.ETH_SIGN,[n.from,n.data]),processPersonalMessage:async(n,r)=>await y(e,`eip155:${t}`,u.zb.PERSONAL_SIGN,[n.data,n.from]),processTypedMessageV4:async n=>await y(e,`eip155:${t}`,u.zb.ETH_SIGN_TYPED_DATA_V4,[n.from,n.data])}}({connector:e,chainId:parseInt(t,16)}),i=await m(e);this.update({accounts:i||[]});const a=(0,w.a)(r),c=this.getEthChainSwitchMiddleware(),l=new o.WJ,{networkMiddleware:d}=(0,v.ub)(n);l.push(a),l.push(c),l.push(d);const f=(0,o.iR)(l);this.updateProviderEngineProxy(f)}async setupSolEngine(e,t){const n=this.getChain(t),r=function({connector:e,chainId:t}){return{requestAccounts:async t=>m(e),getPrivateKey:async()=>{throw s.r.methodNotSupported()},getSecretKey:async()=>{throw s.r.methodNotSupported()},getPublicKey:async()=>{throw s.r.methodNotSupported()},getAccounts:async t=>m(e),signAllTransactions:async e=>{throw s.r.methodNotSupported()},signAndSendTransaction:async e=>{throw s.r.methodNotSupported()},signMessage:async n=>(await y(e,`solana:${f.Ah[t]}`,u.zl.SIGN_MESSAGE,{message:l.r.encode(p.from(n.params.data,"utf-8"))})).signature,signTransaction:async n=>{if(0===(await m(e)).length)throw s.P.disconnected();return(await y(e,`solana:${f.Ah[t]}`,u.zl.SIGN_TRANSACTION,{transaction:n.params.message})).signature}}}({connector:e,chainId:t}),i=await m(e);this.update({accounts:i||[]});const a=(0,E.Fo)(r),c=new o.WJ,{networkMiddleware:d}=(0,x.zZ)(n);c.push(a),c.push(d);const h=(0,o.iR)(c);this.updateProviderEngineProxy(h)}getEthChainSwitchMiddleware(){const e={switchChain:async e=>{const{chainId:t}=e;await this.switchChain({chainId:t})},addChain:async e=>{await this.addChain(e)}};return(0,w.N)(e)}connectedTopic(){var e;if(!this.connector)throw d.T7.notConnectedError("Wallet connect connector is not connected");if(null!==(e=this.connector)&&void 0!==e&&null!==(e=e.session)&&void 0!==e&&e.length){var t;const e=this.connector.session.keys.length-1;return null===(t=this.connector.session.get(this.connector.session.keys[e]))||void 0===t?void 0:t.topic}}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const t=this.connector.session.get(this.connectedTopic()),n=(0,a.Zz7)(t.namespaces);let r=!1;for(const t of n){var i;if((null===(i=(0,a.cK)(t).address)||void 0===i?void 0:i.toLowerCase())===(null==e?void 0:e.toLowerCase())){r=!0;break}}return r}async onConnectorStateUpdate(e){e.events.on("session_event",async t=>{if(A.R.debug("session_event data",t),!this.provider)throw d.T7.notConnectedError("Wallet connect connector is not connected");const{event:n}=t.params,{name:r,data:i}=n||{};if("accountsChanged"===r&&null!=i&&i.length&&this.state.accounts[0]!==i[0]&&this.checkIfAccountAllowed(i[0])&&(this.update({accounts:i}),this.emit("accountsChanged",i)),"chainChanged"===n.name){if(!i)return;const t=c(i),{currentChain:n}=this;t&&n.chainId!==t&&await this.setupEngine(e,t)}})}getCurrentChainId(){const e=this.state.chainId;return e&&"loading"!==e?e:this.config.chains[0].chainId}}g=_,(0,i.A)(_,"getProviderInstance",async e=>{const t=new g({config:{chain:e.chain,chains:e.chains,skipLookupNetwork:e.skipLookupNetwork}});return await t.setupProvider(e.connector),t})},12310:(e,t,n)=>{"use strict";var r=n(36422);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal"),c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=s.p;try{if(c.T=null,s.p=2,e)return e()}finally{c.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=l(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=l(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=l(t.as,t.crossOrigin);s.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.1.1"},12361:(e,t,n)=>{"use strict";n.d(t,{Bx:()=>b,F3:()=>d,FR:()=>u,KW:()=>x,Lr:()=>o,Lz:()=>E,PV:()=>l,We:()=>v,Z_:()=>p,el:()=>c,fm:()=>f,g5:()=>w,jV:()=>g,t:()=>S,tF:()=>y,ur:()=>m,vP:()=>h});var r=n(69740),i=n(33890);const a=i.t2,s=i.Yd,o=(0,r.A)((0,r.A)({},s),a),c={SECP256K1:"secp256k1",ED25519:"ed25519",OTHER:"other"},l={DEFAULT:"default",OPTIONAL:"optional",MANDATORY:"mandatory",NONE:"none"},u={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_SOCIAL_FACTOR:"add_social_factor",MODIFY_SOCIAL_FACTOR:"modify_social_factor",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},d={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},f={DEFAULT:"default",IFRAME:"iframe"},p={SETUP_COMPLETE:"setup_complete",INIT_DAPP:"init_dapp",LOGIN_INITIATED:"login_initiated",LOGIN_CANCELLED:"login_cancelled",LOGIN_FAILED:"login_failed",LOGIN_SUCCESS:"login_success",DISPLAY_IFRAME:"display_iframe",HIDE_IFRAME:"hide_iframe"},h="auth-iframe",b="http://localhost:3000",y="https://staging-auth.web3auth.io",m="https://develop-auth.web3auth.io",g="https://auth.web3auth.io",w="http://localhost:5173",v="https://staging-account.web3auth.io",E="https://develop-account.web3auth.io",x="https://account.web3auth.io",S=1e4},12647:(e,t,n)=>{"use strict";const r=n(29668),i=n(29997),{ANY:a}=i,s=n(12285),o=n(39435),c=[new i(">=0.0.0-0")],l=[new i(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=n.includePrerelease?c:l}if(1===t.length&&t[0].semver===a){if(n.includePrerelease)return!0;t=l}const r=new Set;let i,u,p,h,b,y,m;for(const t of e)">"===t.operator||">="===t.operator?i=d(i,t,n):"<"===t.operator||"<="===t.operator?u=f(u,t,n):r.add(t.semver);if(r.size>1)return null;if(i&&u){if(p=o(i.semver,u.semver,n),p>0)return null;if(0===p&&(">="!==i.operator||"<="!==u.operator))return null}for(const e of r){if(i&&!s(e,String(i),n))return null;if(u&&!s(e,String(u),n))return null;for(const r of t)if(!s(e,String(r),n))return!1;return!0}let g=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,w=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver;g&&1===g.prerelease.length&&"<"===u.operator&&0===g.prerelease[0]&&(g=!1);for(const e of t){if(m=m||">"===e.operator||">="===e.operator,y=y||"<"===e.operator||"<="===e.operator,i)if(w&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===w.major&&e.semver.minor===w.minor&&e.semver.patch===w.patch&&(w=!1),">"===e.operator||">="===e.operator){if(h=d(i,e,n),h===e&&h!==i)return!1}else if(">="===i.operator&&!s(i.semver,String(e),n))return!1;if(u)if(g&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===g.major&&e.semver.minor===g.minor&&e.semver.patch===g.patch&&(g=!1),"<"===e.operator||"<="===e.operator){if(b=f(u,e,n),b===e&&b!==u)return!1}else if("<="===u.operator&&!s(u.semver,String(e),n))return!1;if(!e.operator&&(u||i)&&0!==p)return!1}return!(i&&y&&!u&&0!==p||u&&m&&!i&&0!==p||w||g)},d=(e,t,n)=>{if(!e)return t;const r=o(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},f=(e,t,n)=>{if(!e)return t;const r=o(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},12675:function(e,t){"use strict";var n,r,i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.FrozenSet=t.FrozenMap=void 0;class s{get size(){return i(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return i(this,n,"f")[Symbol.iterator]()}constructor(e){n.set(this,void 0),a(this,n,new Map(e),"f"),Object.freeze(this)}entries(){return i(this,n,"f").entries()}forEach(e,t){return i(this,n,"f").forEach((n,r,i)=>e.call(t,n,r,this))}get(e){return i(this,n,"f").get(e)}has(e){return i(this,n,"f").has(e)}keys(){return i(this,n,"f").keys()}values(){return i(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}}t.FrozenMap=s;class o{get size(){return i(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return i(this,r,"f")[Symbol.iterator]()}constructor(e){r.set(this,void 0),a(this,r,new Set(e),"f"),Object.freeze(this)}entries(){return i(this,r,"f").entries()}forEach(e,t){return i(this,r,"f").forEach((n,r,i)=>e.call(t,n,r,this))}has(e){return i(this,r,"f").has(e)}keys(){return i(this,r,"f").keys()}values(){return i(this,r,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}t.FrozenSet=o,Object.freeze(s),Object.freeze(s.prototype),Object.freeze(o),Object.freeze(o.prototype)},12794:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(55880);const i=n.n(r)().getLogger("auth");i.setLevel("error")},12986:(e,t,n)=>{"use strict";var r=n(70461),i=n(32191),a=n(600),s=r.rotl32,o=r.sum32,c=r.sum32_5,l=a.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,u),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],a=this.h[1],u=this.h[2],f=this.h[3],p=this.h[4];for(r=0;r<n.length;r++){var h=~~(r/20),b=c(s(i,5),l(h,a,u,f),p,n[r],d[h]);p=f,f=u,u=s(a,30),a=i,i=b}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],u),this.h[3]=o(this.h[3],f),this.h[4]=o(this.h[4],p)},f.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},13273:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r,Symbol:i}=n(70273);e.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:a}=n(61150).codes,s=n(96631),{getHighWaterMark:o}=n(97872);r(l.prototype,s.prototype),r(l,s);const c=i("kCallback");function l(e){if(!(this instanceof l))return new l(e);const t=e?o(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,n)=>{t?e?e(t):this.destroy(t):(null!=n&&this.push(n),this.push(null),e&&e())})}function d(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(e,t,n){throw new a("_transform()")},l.prototype._write=function(e,t,n){const r=this._readableState,i=this._writableState,a=r.length;this._transform(e,t,(e,t)=>{e?n(e):(null!=t&&this.push(t),i.ended||a===r.length||r.length<r.highWaterMark?n():this[c]=n)})},l.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},13360:(e,t,n)=>{"use strict";var r=t;r.version=n(30183).rE,r.utils=n(41874),r.rand=n(47048),r.curve=n(7131),r.curves=n(86443),r.ec=n(15064),r.eddsa=n(84807)},13433:(e,t,n)=>{"use strict";n.d(t,{d:()=>c,j:()=>l});var r=n(29659),i=n(83435),a=n(85608),s=function(){function e(){this._logs=[]}return e.prototype.log=function(e,t,n){var r=new Date;this._logs.push({level:e,message:t,time:r,extras:n})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(e,t){var n,r,i,s=(0,a.Cl)((0,a.Cl)({},t),{json:JSON.stringify(t.extras,null," "),extras:t.extras});delete s.time;var o=null!==(i=null===(r=t.time)||void 0===r?void 0:r.toISOString())&&void 0!==i?i:"";return e[o]&&(o="".concat(o,"-").concat(Math.random())),(0,a.Cl)((0,a.Cl)({},e),((n={})[o]=s,n))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(e){var t=e.level,n=e.message,r=e.extras;"info"===t||"debug"===t?console.log(n,null!=r?r:""):console[t](n,null!=r?r:"")});this._logs=[]},e}(),o=n(44189),c=function(e){var t,n,r;this.retry=null===(t=e.retry)||void 0===t||t,this.type=null!==(n=e.type)&&void 0!==n?n:"plugin Error",this.reason=null!==(r=e.reason)&&void 0!==r?r:""},l=function(){function e(e,t,n,i){void 0===t&&(t=(0,r.v4)()),void 0===n&&(n=new o.r),void 0===i&&(i=new s),this.attempts=0,this.event=e,this._id=t,this.logger=i,this.stats=n}return e.system=function(){},e.prototype.isSame=function(e){return e.id===this.id},e.prototype.cancel=function(e){if(e)throw e;throw new c({reason:"Context Cancel"})},e.prototype.log=function(e,t,n){this.logger.log(e,t,n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(e,t){var n;if("integrations"===e.split(".")[0]){var r=e.split(".")[1];if(!1===(null===(n=this.event.integrations)||void 0===n?void 0:n[r]))return this.event}return(0,i.J)(this.event,e,t),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(e){this._failedDelivery=e},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}()},13644:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var i=r(n(35615)),a=n(42265),s=n(85616),o=r(n(86362));function c(e,t){a.Facade.call(this,e,t)}t.Page=c,i.default(c,a.Facade);var l=c.prototype;l.action=function(){return"page"},l.type=l.action,l.category=a.Facade.field("category"),l.name=a.Facade.field("name"),l.title=a.Facade.proxy("properties.title"),l.path=a.Facade.proxy("properties.path"),l.url=a.Facade.proxy("properties.url"),l.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},l.properties=function(e){var t=this.field("properties")||{},n=this.category(),r=this.name();for(var i in e=e||{},n&&(t.category=n),r&&(t.name=r),e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=null==this[i]?this.proxy("properties."+i):this[i]();if(null==a)continue;t[e[i]]=a,i!==e[i]&&delete t[i]}return t},l.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();return o.default(t)?t:void 0},l.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t},l.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"},l.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new s.Track(t,this.opts)}},13743:(e,t,n)=>{"use strict";n.d(t,{createMipd:()=>i.y,injectedEvmConnector:()=>r.m});var r=n(56666),i=n(89059)},13888:(e,t,n)=>{"use strict";n.d(t,{N9:()=>o,T4:()=>a,kK:()=>s,zZ:()=>c});var r=n(11038),i=n(25082);function a(e){return(t,n,r,i)=>"solana_chainId"===t.method?(n.result=e,i()):r()}function s(e){return(t,n,r,i)=>"solana_provider_config"===t.method?(n.result=e,i()):r()}function o(e){const{chainId:t}=e;return(0,i.Vv)([a(t),s(e)])}function c(e){const{rpcTarget:t}=e,n=(0,r.N)({rpcTarget:t});return{networkMiddleware:(0,i.Vv)([o(e),n]),fetchMiddleware:n}}},14015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.string=void 0;const r=n(76728),i=n(36771);t.string={isDynamic:!0,isType:e=>"string"===e,getByteLength:()=>32,encode:({buffer:e,value:t,packed:n,tight:a})=>i.bytes.encode({type:"bytes",buffer:e,value:(0,r.stringToBytes)(t),packed:n,tight:a}),decode:e=>(0,r.bytesToString)(i.bytes.decode(e))}},14041:(e,t,n)=>{"use strict";const{Buffer:r}=n(1048),{ObjectDefineProperty:i,ObjectKeys:a,ReflectApply:s}=n(70273),{promisify:{custom:o}}=n(48449),{streamReturningOperators:c,promiseReturningOperators:l}=n(78484),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=n(61150),d=n(66009),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:p}=n(97872),{pipeline:h}=n(87103),{destroyer:b}=n(20863),y=n(92549),m=n(16970),g=n(38104),w=e.exports=n(40670).Stream;w.isDestroyed=g.isDestroyed,w.isDisturbed=g.isDisturbed,w.isErrored=g.isErrored,w.isReadable=g.isReadable,w.isWritable=g.isWritable,w.Readable=n(59333);for(const E of a(c)){const x=c[E];function S(...e){if(new.target)throw u();return w.Readable.from(s(x,this,e))}i(S,"name",{__proto__:null,value:x.name}),i(S,"length",{__proto__:null,value:x.length}),i(w.Readable.prototype,E,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const T of a(l)){const A=l[T];function _(...e){if(new.target)throw u();return s(A,this,e)}i(_,"name",{__proto__:null,value:A.name}),i(_,"length",{__proto__:null,value:A.length}),i(w.Readable.prototype,T,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}w.Writable=n(80789),w.Duplex=n(96631),w.Transform=n(13273),w.PassThrough=n(45691),w.pipeline=h;const{addAbortSignal:v}=n(52682);w.addAbortSignal=v,w.finished=y,w.destroy=b,w.compose=d,w.setDefaultHighWaterMark=f,w.getDefaultHighWaterMark=p,i(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>m}),i(h,o,{__proto__:null,enumerable:!0,get:()=>m.pipeline}),i(y,o,{__proto__:null,enumerable:!0,get:()=>m.finished}),w.Stream=w,w._isUint8Array=function(e){return e instanceof Uint8Array},w._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}},14305:(e,t,n)=>{"use strict";const r=n(39435);e.exports=(e,t,n)=>r(e,t,n)>0},14323:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});const r="2.40.3";let i=({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,a=`viem@${r}`;class s extends Error{constructor(e,t={}){const n=t.cause instanceof s?t.cause.details:t.cause?.message?t.cause.message:t.details,o=t.cause instanceof s&&t.cause.docsPath||t.docsPath,c=i?.({...t,docsPath:o});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...c?[`Docs: ${c}`]:[],...n?[`Details: ${n}`]:[],...a?[`Version: ${a}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=o,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=r}walk(e){return o(this,e)}}function o(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?o(e.cause,t):t?null:e}},14525:e=>{"use strict";class t extends Error{constructor(e,{cause:n}={}){super(e),this.name=t.name,n&&(this.cause=n),this.message=e}}e.exports={ErrorWithCause:t}},14607:(e,t,n)=>{"use strict";var r=n(528),i=n(79903),a=i([r("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&a(e,".prototype.")>-1?i([n]):n}},14928:(e,t,n)=>{"use strict";n.d(t,{_P:()=>a,L:()=>c,Ly:()=>s,f7:()=>o,VS:()=>i});class r extends Error{}function i(e){let t,n=!1,r=0;try{t=window[e],n=!0,r=t.length;const i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(e){const t=e;return!(!t||22!==t.code&&1014!==t.code&&"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||!n||0===r)}}r.prototype.name="InvalidTokenError";const a=e=>{const t=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,i=e.split(".")[n];if("string"!=typeof i)throw new r(`Invalid token specified: missing part #${n+1}`);let a;try{a=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(e){return atob(t)}}(i)}catch(e){throw new r(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(a)}catch(e){throw new r(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}(e);return!t.exp||t.exp<Math.floor(Date.now()/1e3)},s=(e,t)=>i("localStorage")?localStorage.getItem(`${e.toLowerCase()}_${t}`):null,o=(e,t,n)=>i("localStorage")?localStorage.setItem(`${e.toLowerCase()}_${t}`,n):null,c=(e,t)=>i("localStorage")?localStorage.removeItem(`${e.toLowerCase()}_${t}`):null},14979:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>E,__await:()=>g,__awaiter:()=>u,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>_,__createBinding:()=>f,__decorate:()=>o,__exportStar:()=>p,__extends:()=>i,__generator:()=>d,__importDefault:()=>T,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>l,__param:()=>c,__read:()=>b,__rest:()=>s,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e,t,n,r){var i,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}c((r=r.apply(e,t||[])).next())})}function d(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,l):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function c(e){o("next",e)}function l(e){o("throw",e)}function u(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},15064:(e,t,n)=>{"use strict";var r=n(82823),i=n(84742),a=n(41874),s=n(86443),o=n(47048),c=a.assert,l=n(47531),u=n(57782);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new l(this,e)},d.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new r(2));;){var s=new r(t.generate(n));if(!(s.cmp(a)>0))return s.iaddn(1),this.keyFromPrivate(s)}},d.prototype._truncateToN=function(e,t,n){var i;if(r.isBN(e)||"number"==typeof e)i=(e=new r(e,16)).byteLength();else if("object"==typeof e)i=e.length,e=new r(e,16);else{var a=e.toString();i=a.length+1>>>1,e=new r(a,16)}"number"!=typeof n&&(n=8*i);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,n,a){if("object"==typeof n&&(a=n,n=null),a||(a={}),"string"!=typeof e&&"number"!=typeof e&&!r.isBN(e)){c("object"==typeof e&&e&&"number"==typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),c(e.length>>>0===e.length);for(var s=0;s<e.length;s++)c((255&e[s])===e[s])}t=this.keyFromPrivate(t,n),e=this._truncateToN(e,!1,a.msgBitLength),c(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),l=t.getPrivate().toArray("be",o),d=e.toArray("be",o);c(new r(d).eq(e),"Can not sign message");for(var f=new i({hash:this.hash,entropy:l,nonce:d,pers:a.pers,persEnc:a.persEnc||"utf8"}),p=this.n.sub(new r(1)),h=0;;h++){var b=a.k?a.k(h):new r(f.generate(this.n.byteLength()));if(!((b=this._truncateToN(b,!0)).cmpn(1)<=0||b.cmp(p)>=0)){var y=this.g.mul(b);if(!y.isInfinity()){var m=y.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var w=b.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(w=w.umod(this.n)).cmpn(0)){var v=(y.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return a.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),v^=1),new u({r:g,s:w,recoveryParam:v})}}}}}},d.prototype.verify=function(e,t,n,r,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),n=this.keyFromPublic(n,r);var a=(t=new u(t,"hex")).r,s=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,c=s.invm(this.n),l=c.mul(e).umod(this.n),d=c.mul(a).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(l,n.getPublic(),d)).isInfinity()&&o.eqXToP(a):!(o=this.g.mulAdd(l,n.getPublic(),d)).isInfinity()&&0===o.getX().umod(this.n).cmp(a)},d.prototype.recoverPubKey=function(e,t,n,i){c((3&n)===n,"The recovery param is more than two bits"),t=new u(t,i);var a=this.n,s=new r(e),o=t.r,l=t.s,d=1&n,f=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");o=f?this.curve.pointFromX(o.add(this.curve.n),d):this.curve.pointFromX(o,d);var p=t.r.invm(a),h=a.sub(s).mul(p).umod(a),b=l.mul(p).umod(a);return this.g.mulAdd(h,o,b)},d.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new u(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},15140:(e,t,n)=>{"use strict";n.d(t,{x:()=>f});var r=n(85608),i=n(71348),a=n(2880),s=n(38730),o={getItem:function(){},setItem:function(){},removeItem:function(){}};try{o=(0,s.B)()&&window.localStorage?window.localStorage:o}catch(e){console.warn("Unable to access localStorage",e)}function c(e){var t=o.getItem(e);return(t?JSON.parse(t):[]).map(function(e){return new a.o(e.event,e.id)})}function l(e){var t=o.getItem(e);return t?JSON.parse(t):{}}function u(e){o.removeItem(e)}function d(e,t,n){void 0===n&&(n=0);var r="persisted-queue:v1:".concat(e,":lock"),i=o.getItem(r),a=i?JSON.parse(i):null,s=null===a||function(e){return(new Date).getTime()>e}(a);if(s)return o.setItem(r,JSON.stringify((new Date).getTime()+50)),t(),void o.removeItem(r);!s&&n<3?setTimeout(function(){d(e,t,n+1)},50):console.error("Unable to retrieve lock")}var f=function(e){function t(t,n){var i=e.call(this,t,[])||this,a="persisted-queue:v1:".concat(n,":items"),s="persisted-queue:v1:".concat(n,":seen"),f=[],p={};return d(n,function(){try{f=c(a),p=l(s),u(a),u(s),i.queue=(0,r.fX)((0,r.fX)([],f,!0),i.queue,!0),i.seen=(0,r.Cl)((0,r.Cl)({},p),i.seen)}catch(e){console.error(e)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var e=(0,r.fX)((0,r.fX)([],i.queue,!0),i.future,!0);try{d(n,function(){!function(e,t){var n=c(e),i=(0,r.fX)((0,r.fX)([],t,!0),n,!0).reduce(function(e,t){var n;return(0,r.Cl)((0,r.Cl)({},e),((n={})[t.id]=t,n))},{});o.setItem(e,JSON.stringify(Object.values(i)))}(a,e),function(e,t){var n=l(e);o.setItem(e,JSON.stringify((0,r.Cl)((0,r.Cl)({},n),t)))}(s,i.seen)})}catch(e){console.error(e)}}}),i}return(0,r.C6)(t,e),t}(i.M)},15456:(e,t,n)=>{"use strict";n.d(t,{xW:()=>w,sH:()=>He,dI:()=>qe});var r={};n.r(r),n.d(r,{identity:()=>P});var i={};n.r(i),n.d(i,{base2:()=>O});var a={};n.r(a),n.d(a,{base8:()=>M});var s={};n.r(s),n.d(s,{base10:()=>R});var o={};n.r(o),n.d(o,{base16:()=>N,base16upper:()=>L});var c={};n.r(c),n.d(c,{base32:()=>D,base32hex:()=>F,base32hexpad:()=>z,base32hexpadupper:()=>H,base32hexupper:()=>$,base32pad:()=>j,base32padupper:()=>U,base32upper:()=>B,base32z:()=>q});var l={};n.r(l),n.d(l,{base36:()=>K,base36upper:()=>W});var u={};n.r(u),n.d(u,{base58btc:()=>V,base58flickr:()=>G});var d={};n.r(d),n.d(d,{base64:()=>Y,base64pad:()=>J,base64url:()=>Z,base64urlpad:()=>X});var f={};n.r(f),n.d(f,{base256emoji:()=>ne});var p={};n.r(p),n.d(p,{sha256:()=>Te,sha512:()=>Ae});var h={};n.r(h),n.d(h,{identity:()=>Ce});var b={};n.r(b),n.d(b,{code:()=>Ie,decode:()=>Oe,encode:()=>Pe,name:()=>ke});var y={};function m(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function g(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?m(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function w(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=g(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return m(n)}n.r(y),n.d(y,{code:()=>Le,decode:()=>Be,encode:()=>De,name:()=>Ne});const v=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),s=a.charCodeAt(0);if(255!==n[s])throw new TypeError(a+" is ambiguous");n[s]=i}var o=e.length,c=e.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var a=(e.length-t)*l+1>>>0,s=new Uint8Array(a);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,f=a-1;(0!==u||d<i)&&-1!==f;f--,d++)u+=o*s[f]>>>0,s[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var p=a-i;p!==a&&0===s[p];)p++;for(var h=new Uint8Array(r+(a-p)),b=r;p!==a;)h[b++]=s[p++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,a=t.length;i!==a&&0===t[i];)i++,n++;for(var s=(a-i)*u+1>>>0,l=new Uint8Array(s);i!==a;){for(var d=t[i],f=0,p=s-1;(0!==d||f<r)&&-1!==p;p--,f++)d+=256*l[p]>>>0,l[p]=d%o>>>0,d=d/o>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var h=s-r;h!==s&&0===l[h];)h++;for(var b=c.repeat(n);h<s;++h)b+=e.charAt(l[h]);return b},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}},E=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class x{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class S{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return A(this,e)}}class T{constructor(e){this.decoders=e}or(e){return A(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const A=(e,t)=>new T({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class _{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new x(e,t,n),this.decoder=new S(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const C=({name:e,prefix:t,encode:n,decode:r})=>new _(e,t,n,r),k=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=v(n,t);return C({prefix:e,name:t,encode:r,decode:e=>E(i(e))})},I=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>C({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let a="",s=0,o=0;for(let r=0;r<e.length;++r)for(o=o<<8|e[r],s+=8;s>n;)s-=n,a+=t[i&o>>s];if(s&&(a+=t[i&o<<n-s]),r)for(;a.length*n&7;)a+="=";return a})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let a=e.length;for(;"="===e[a-1];)--a;const s=new Uint8Array(a*n/8|0);let o=0,c=0,l=0;for(let t=0;t<a;++t){const a=i[e[t]];if(void 0===a)throw new SyntaxError(`Non-${r} character`);c=c<<n|a,o+=n,o>=8&&(o-=8,s[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),P=C({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),O=I({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),M=I({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),R=k({prefix:"9",name:"base10",alphabet:"0123456789"}),N=I({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),L=I({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),D=I({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),B=I({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),j=I({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),U=I({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F=I({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$=I({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),z=I({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),H=I({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),q=I({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),K=k({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),W=k({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),V=k({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),G=k({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Y=I({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),J=I({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Z=I({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),X=I({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Q=Array.from(""),ee=Q.reduce((e,t,n)=>(e[n]=t,e),[]),te=Q.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]),ne=C({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+ee[t],"")},decode:function(e){const t=[];for(const n of e){const e=te[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var re=128,ie=-128,ae=Math.pow(2,31),se=Math.pow(2,7),oe=Math.pow(2,14),ce=Math.pow(2,21),le=Math.pow(2,28),ue=Math.pow(2,35),de=Math.pow(2,42),fe=Math.pow(2,49),pe=Math.pow(2,56),he=Math.pow(2,63);const be=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=ae;)n[r++]=255&t|re,t/=128;for(;t&ie;)n[r++]=255&t|re,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},ye=function(e){return e<se?1:e<oe?2:e<ce?3:e<le?4:e<ue?5:e<de?6:e<fe?7:e<pe?8:e<he?9:10},me=(e,t,n=0)=>(be(e,t,n),t),ge=e=>ye(e),we=(e,t)=>{const n=t.byteLength,r=ge(e),i=r+ge(n),a=new Uint8Array(i+n);return me(e,a,0),me(n,a,r),a.set(t,i),new ve(e,n,t,a)};class ve{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Ee=({name:e,code:t,encode:n})=>new xe(e,t,n);class xe{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?we(this.code,t):t.then(e=>we(this.code,e))}throw Error("Unknown type, must be binary type")}}const Se=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Te=Ee({name:"sha2-256",code:18,encode:Se("SHA-256")}),Ae=Ee({name:"sha2-512",code:19,encode:Se("SHA-512")}),_e=E,Ce={code:0,name:"identity",encode:_e,digest:e=>we(0,_e(e))},ke="raw",Ie=85,Pe=e=>E(e),Oe=e=>E(e),Me=new TextEncoder,Re=new TextDecoder,Ne="json",Le=512,De=e=>Me.encode(JSON.stringify(e)),Be=e=>JSON.parse(Re.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const je={...r,...i,...a,...s,...o,...c,...l,...u,...d,...f};function Ue(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Fe=Ue("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),$e=Ue("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=g((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),ze={utf8:Fe,"utf-8":Fe,hex:je.base16,latin1:$e,ascii:$e,binary:$e,...je};function He(e,t="utf8"){const n=ze[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):m(globalThis.Buffer.from(e,"utf-8"))}function qe(e,t="utf8"){const n=ze[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},15482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertExhaustive=t.assertStruct=t.assert=t.AssertionError=void 0;const r=n(87093),i=n(9137);function a(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class s extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}t.AssertionError=s,t.assert=function(e,t="Assertion failed.",n=s){if(!e){if(t instanceof Error)throw t;throw a(n,t)}},t.assertStruct=function(e,t,n="Assertion failed",o=s){try{(0,r.assert)(e,t)}catch(e){throw a(o,`${n}: ${function(e){return(0,i.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},t.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}},15484:(e,t,n)=>{"use strict";const r=n(29668);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},15621:(e,t,n)=>{"use strict";n.d(t,{a:()=>a,s:()=>i});var r=n(38730);function i(){return!(0,r.B)()||window.navigator.onLine}function a(){return!i()}},15939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padEnd=t.padStart=t.set=void 0;const r=n(76728);t.set=(e,t,n)=>(0,r.concatBytes)([e.subarray(0,n),t,e.subarray(n+t.length)]),t.padStart=(e,t=32)=>{const n=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,r.concatBytes)([n,e])},t.padEnd=(e,t=32)=>{const n=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,r.concatBytes)([e,n])}},16031:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue","allChains":"All Chains","connect-wallet.more-wallets":"More Wallets","connectYourWallet":"Connect your wallet","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.all-wallets":"All Wallets","external.back":"Back","external.connect":"Continue with a wallet","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.continue-custom":"Continue with {{wallet}}","external.dont-have":"Don\'t have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.qr-code-copied-to-clipboard":"URI copied to clipboard","external.search-subtext":"Try search instead","external.search-text":"Don\'t see your wallet?","external.search-wallet":"Search through {{count}} wallets...","external.select-chain":"Select Chain","external.select-chain-description":"This {{wallet}} wallet supports multiple chains. Select which chain you\'d like to connect to","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan the QR code with WalletConnect supported wallet or click the QR code to copy link","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.and":"and","footer.by-signing-in":"By signing in, you agree to our","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.privacy-policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-of-service":"Terms of Service","footer.terms-service":"Terms of Service","footer.version":"Version","getWallet":"Get Wallet","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","loader.authorizing-header":"Verify on {{connector}}","loader.authorizing-message":"Weve sent a request to your wallet. Verify on your wallet to confirm that you own this wallet.","loader.authorizing-verify-btn":" Click here to verify","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","otp.email-subtext":"Please enter the 6-digit verification code","otp.email-subtext-example":"that was sent to your email {{email}}","otp.email-title":"Email verification","otp.mobile-subtext":"Enter the OTP sent to","otp.mobile-title":"OTP verification","otp.success":"You are connected to your account!","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","passwordless.title":"Continue with {{title}}","popup.phone-body":"Your country code will be detected automatically, but if you\'re using a phone number from a different country, you\'ll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!","resendCode":"Resend Code","resendTimer":" Resend in {{timer}} seconds","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email/Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sign-in":"Sign in","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},"passwordless":{"error-invalid-link":"Invalid verification link or link expired","error-invalid-origin":"Something went wrong, error code: E002","error-invalid-otp":"Invalid OTP, please try again","error-invalid-params":"Missing or Invalid Parameters.","error-invalid-test-account":"Invalid test account","error-max-retry-limit-reached":"You have reached the limit for wrong attempts. Please restart the flow again to complete verification.","error-new-link-generated-heading":"New verification link generated","error-no-mail-generated":"No mail generated. Please initiate the passwordless flow first.","error-no-sms-generated":"No OTP generated. Please initiate the passwordless flow first.","error-otp-expired":"OTP Expired","error-plan-limit-reached":"E411. Limit Reached","error-recaptcha-verification-failed":"Captcha verification failed. Please try again.","error-sending-sms-failed":"There was an error sending an sms. Please try again.","something-wrong-error":"Something went wrong"}}')},16067:(e,t,n)=>{"use strict";n.d(t,{T:()=>S});var r=n(997),i=n(77725),a=n(34820),s=n(81788);const o="0x82ad56cb";var c=n(9992),l=n(14323),u=n(77468),d=n(37656),f=n(80339),p=n(97769),h=n(10286),b=n(39876),y=n(38903),m=n(34617),g=n(16406),w=n(16590),v=n(11368),E=n(29274),x=n(70823);async function S(e,t){const{account:S=e.account,authorizationList:A,batch:_=Boolean(e.batch?.multicall),blockNumber:C,blockTag:k=e.experimental_blockTag??"latest",accessList:I,blobs:P,blockOverrides:O,code:M,data:R,factory:N,factoryData:L,gas:D,gasPrice:B,maxFeePerBlobGas:j,maxFeePerGas:U,maxPriorityFeePerGas:F,nonce:$,to:z,value:H,stateOverride:q,...K}=t,W=S?(0,a.J)(S):void 0;if(M&&(N||L))throw new l.C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(M&&z)throw new l.C("Cannot provide both `code` & `to` as parameters.");const V=M&&R,G=N&&L&&z&&R,Y=V||G,J=V?T({code:M,data:R}):G?function(e){const{data:t,factory:n,factoryData:i,to:a}=e;return(0,p.m)({abi:(0,r.U)(["constructor(address, bytes, address, bytes)"]),bytecode:c.WN,args:[a,t,n,i]})}({data:R,factory:N,factoryData:L,to:z}):R;try{(0,x.c)(t);const n=("bigint"==typeof C?(0,y.cK)(C):void 0)||k,r=O?i.J(O):void 0,a=(0,E.yH)(q),l=e.chain?.formatters?.transactionRequest?.format,p=(l||w.Bv)({...(0,g.o)(K,{format:l}),accessList:I,account:W,authorizationList:A,blobs:P,data:J,gas:D,gasPrice:B,maxFeePerBlobGas:j,maxFeePerGas:U,maxPriorityFeePerGas:F,nonce:$,to:Y?void 0:z,value:H},"call");if(_&&function({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(o)||!n||Object.values(r).filter(e=>void 0!==e).length>0)}({request:p})&&!a&&!r)try{return await async function(e,t){const{batchSize:n=1024,deployless:r=!1,wait:i=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",data:l,to:p}=t,m=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return(0,b.M)({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new u.YE})(),g=("bigint"==typeof a?(0,y.cK)(a):void 0)||o,{schedule:w}=(0,v.u)({id:`${e.uid}.${g}`,wait:i,shouldSplitBatch(e){const t=e.reduce((e,{data:t})=>e+(t.length-2),0);return t>2*n},fn:async t=>{const n=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),r=(0,h.p)({abi:s.v2,args:[n],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{...null===m?{data:T({code:c.Ez,data:r})}:{to:m,data:r}},g]});return(0,f.e)({abi:s.v2,args:[n],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:E,success:x}]=await w({data:l,to:p});if(!x)throw new d.$S({data:E});return"0x"===E?{data:void 0}:{data:E}}(e,{...p,blockNumber:C,blockTag:k})}catch(e){if(!(e instanceof u.YE||e instanceof u.rj))throw e}const m=(()=>{const e=[p,n];return a&&r?[...e,a,r]:a?[...e,a]:r?[...e,{},r]:e})(),S=await e.request({method:"eth_call",params:m});return"0x"===S?{data:void 0}:{data:S}}catch(r){const i=function(e){if(!(e instanceof l.C))return;const t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(r),{offchainLookup:a,offchainLookupSignature:s}=await Promise.resolve().then(n.bind(n,47544));if(!1!==e.ccipRead&&i?.slice(0,10)===s&&z)return{data:await a(e,{data:i,to:z})};if(Y&&"0x101bb98d"===i?.slice(0,10))throw new d.Po({factory:N});throw(0,m.d)(r,{...t,account:W,chain:e.chain})}}function T(e){const{code:t,data:n}=e;return(0,p.m)({abi:(0,r.U)(["constructor(bytes, bytes)"]),bytecode:c.LX,args:[t,n]})}},16266:(e,t,n)=>{"use strict";n.d(t,{default:()=>te});var r=n(69740),i=n(98158);const a={height:660,width:375},s={height:700,width:1200},o={height:700,width:450};var c=n(19024),l=n(87433),u=n(44022),d=n(34449),f=n(23625);function p(){}const h="ACK";class b extends f.Duplex{constructor({name:e,target:t,targetWindow:n=window,targetOrigin:r="*"}){if(super({objectMode:!0}),(0,i.A)(this,"_init",void 0),(0,i.A)(this,"_haveSyn",void 0),(0,i.A)(this,"_name",void 0),(0,i.A)(this,"_target",void 0),(0,i.A)(this,"_targetWindow",void 0),(0,i.A)(this,"_targetOrigin",void 0),(0,i.A)(this,"_onMessage",void 0),(0,i.A)(this,"_synIntervalId",void 0),!e||!t)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=e,this._target=t,this._targetWindow=n,this._targetOrigin=r,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,p),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,p),this.cork()}_onData(e){if(this._init)if("BRK"===e)this._break();else try{this.push(e)}catch(e){this.emit("error",e)}else"SYN"===e?(this._haveSyn=!0,this._write(h,null,p)):e===h&&(this._init=!0,this._haveSyn||this._write(h,null,p),this.uncork())}_postMessage(e){const t=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},t)}onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_read(){}_write(e,t,n){this._postMessage(e),n()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}var y=n(23495),m=n(55880),g=n.n(m),w=n(68711),v=n(71822),E=n.n(v),x=n(53358),S=n.n(x),T=n(32720),A=n.n(T);class _ extends f.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),(0,i.A)(this,"_parent",void 0),(0,i.A)(this,"_name",void 0),this._parent=e,this._name=t}_read(){}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}const C=Symbol("IGNORE_SUBSTREAM");class k extends f.Duplex{constructor(e={}){super((0,r.A)((0,r.A)({},e),{},{objectMode:!0})),(0,i.A)(this,"_substreams",void 0),(0,i.A)(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new _({parent:this,name:e});return this._substreams[e]=t,function(e){const n=S()(e=>t.destroy(e||void 0));E()(e,{readable:!1},n),E()(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=C}_read(){}_write(e,t,n){const{name:r,data:i}=e;if(!r)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const a=this._substreams[r];return a?(a!==C&&a.push(i),n()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}}var I=n(25082),P=n(8017);function O(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe}var M=()=>"Web3Auth: Lost connection to Web3Auth.",R=()=>"Web3Auth: Disconnected from iframe. Page reload required.",N=()=>"Must provide a Node.js-style duplex stream.",L=()=>"Expected a single, non-array, object argument.",D=()=>"'args.method' must be a non-empty string.",B=()=>"'args.params' must be an object or array if provided.",j=e=>`Web3Auth: Connected to chain with ID "${e}".`,U=g().getLogger("ws-embed");const F=["eth_subscription"];class $ extends w.C{constructor(e,{maxEventListeners:t=100,jsonRpcStreamName:n="provider"}){if(super(),(0,i.A)(this,"rpcEngine",void 0),(0,i.A)(this,"jsonRpcConnectionEvents",void 0),(0,i.A)(this,"isWeb3Auth",void 0),(0,i.A)(this,"state",void 0),!function(e){return O(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState}(a=e)||!function(e){return O(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState}(a))throw new Error(N());var a;this.isWeb3Auth=!0,this.setMaxListeners(t),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleStreamDisconnect=this.handleStreamDisconnect.bind(this),this.rpcRequest=this.rpcRequest.bind(this),this.initializeState=this.initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this),this.send=this.send.bind(this);const s=new k;A()(e,s,e,this.handleStreamDisconnect.bind(this,"Web3Auth")),s.ignoreStream("phishing");const o=(0,d.dw)();A()(o.stream,s.createStream(n),o.stream,this.handleStreamDisconnect.bind(this,"Web3Auth RpcProvider"));const c=new I.WJ;var l;c.push((0,d.$R)()),c.push((e,t,n)=>{"string"==typeof e.method&&e.method||(t.error=P.r.invalidRequest({message:"The request 'method' must be a non-empty string.",data:(0,r.A)((0,r.A)({},e||{}),{},{cause:"The request 'method' must be a non-empty string."})})),n(e=>{const{error:n}=t;return n?(U.error(`Ws-Embed - RPC Error: ${n.message}`,n),e()):e()})}),c.push((l={origin:location.origin},function(e,t,n){n(n=>{t.error&&g().warn("Error in RPC response:\n",t),e.isTorusInternal||(g().info(`RPC (${l.origin}):`,e,"->",t),n())})})),c.push(o.middleware),this.rpcEngine=c,this.jsonRpcConnectionEvents=o.events}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw P.r.invalidRequest({message:L(),data:(0,r.A)((0,r.A)({},e||{}),{},{cause:L()})});const{method:t,params:n}=e;if("string"!=typeof t||0===t.length)throw P.r.invalidRequest({message:D(),data:(0,r.A)((0,r.A)({},e||{}),{},{cause:L()})});if(void 0!==n&&!Array.isArray(n)&&("object"!=typeof n||null===n))throw P.r.invalidRequest({message:B(),data:(0,r.A)((0,r.A)({},e||{}),{},{cause:L()})});return new Promise((e,r)=>{this.rpcRequest({method:t,params:n},(0,d.m4)(e,r))})}send(e,t){this.rpcRequest(e,t)}sendAsync(e){return new Promise((t,n)=>{this.rpcRequest(e,(0,d.m4)(t,n))})}handleStreamDisconnect(e,t){!function(e,t,n){let r=`Web3Auth: Lost connection to "${e}".`;null!=t&&t.stack&&(r+=`\n${t.stack}`),U.warn(r),n&&n.listenerCount("error")>0&&n.emit("error",r)}(e,t,this),this.handleDisconnect(!1,t?t.message:void 0)}}var z=n(48272);class H extends w.C{constructor({url:e,target:t,features:n,timeout:r=3e4}){super(),(0,i.A)(this,"url",void 0),(0,i.A)(this,"target",void 0),(0,i.A)(this,"features",void 0),(0,i.A)(this,"window",void 0),(0,i.A)(this,"windowTimer",void 0),(0,i.A)(this,"iClosedWindow",void 0),(0,i.A)(this,"timeout",void 0),this.url=e,this.target=t||"_blank",this.features=n||(0,c.A9)(s),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=r,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var e;this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}class q extends ${constructor(e,{maxEventListeners:t=100,jsonRpcStreamName:n="provider"},a){super(e,{maxEventListeners:t,jsonRpcStreamName:n}),(0,i.A)(this,"tryWindowHandle",void 0),(0,i.A)(this,"windowRefs",void 0),(0,i.A)(this,"iframeUrl",void 0),(0,i.A)(this,"iframeId",void 0),this.state=(0,r.A)((0,r.A)({},q.defaultState),a),this.iframeUrl="",this.iframeId="",this.windowRefs=new Map,this.on("connect",()=>{this.state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",e=>{const{method:t,params:n}=e;if("iframe_status"===t){const{isFullScreen:e,rid:t}=n;this.displayIframe({isFull:e,rid:t},!0)}else if("close_window"===t)this.handleCloseWindow(n);else if("user_logged_in"===t){const{currentAuthConnection:e}=n;this.state.isLoggedIn=!0,this.state.currentAuthConnection=e}else if("user_logged_out"===t)this.state.isLoggedIn=!1,this.state.currentAuthConnection=null,this.displayIframe({isFull:!1},!0);else if("toggle_widget_button"===t){const{show:e}=n;this.state.widgetVisibility=e,this.displayIframe()}else if("allow_wallet_service"===t){const{allow:e}=n;this.state.allowWalletService=e}})}get isLoggedIn(){return this.state.isLoggedIn}get isIFrameFullScreen(){return this.state.isIFrameFullScreen}get allowWalletService(){return this.state.allowWalletService}isConnected(){return this.state.isConnected}async initializeState(e){try{const{torusUrl:t,torusIframeId:n}=e;this.iframeUrl=t,this.iframeId=n;const{currentAuthConnection:r,isLoggedIn:i}=await this.request({method:"get_provider_state",params:[]});i&&this.handleConnect(r,i)}catch(e){U.error("Web3Auth: Failed to get initial state. Please report this bug.",e)}finally{U.info("initialized communication state"),this.state.initialized=!0}}displayIframe({isFull:e=!1,rid:t=""}={},n=!1){const r={};if(e)r.display="block",r.width="100%",r.height="100%",r.top="0px",r.right="0px",r.left="0px",r.bottom="0px";else switch(r.display=this.state.widgetVisibility?"block":"none",r.height=this.state.widgetVisibility?"70px":"0px",r.width=this.state.widgetVisibility?"70px":"0px",this.state.buttonPosition){case z.rf.TOP_LEFT:r.top="0px",r.left="0px",r.right="auto",r.bottom="auto";break;case z.rf.TOP_RIGHT:r.top="0px",r.right="0px",r.left="auto",r.bottom="auto";break;case z.rf.BOTTOM_RIGHT:r.bottom="0px",r.right="0px",r.top="auto",r.left="auto";break;case z.rf.BOTTOM_LEFT:default:r.bottom="0px",r.left="0px",r.top="auto",r.right="auto"}const i=document.getElementById(this.iframeId);Object.assign(i.style,r),this.state.isIFrameFullScreen=e,n||this.request({method:"iframe_status",params:{isIFrameFullScreen:e,rid:t}})}async handleWindow(e,{url:t,target:n,features:r,timeout:i}={}){const a=new URL(t||`${this.iframeUrl}/redirect?windowId=${e}&sessionNamespace=${window.location.hostname}`),s=new H({url:a,target:n,features:r,timeout:i});if(s.open(),!s.window)return this.displayIframe({isFull:!0}),void this.request({method:"window_blocked",params:{windowId:e,finalUrl:a.href}});this.windowRefs.set(e,s),s.once("close",()=>{this.windowRefs.delete(e),this.request({method:"closed_window",params:{windowId:e}})})}rpcRequest(e,t){const n=t,r=e;Array.isArray(r)||r.jsonrpc||(r.jsonrpc="2.0"),this.rpcEngine.handle(r,n)}handleConnect(e,t){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{currentAuthConnection:e,isLoggedIn:t}),U.debug(j(e)))}handleDisconnect(e,t){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!e){let n;this.state.isConnected=!1,e?(n=new y.B(1013,t||M()),U.debug(n)):(n=new y.B(1011,t||R()),U.error(n),this.state.currentAuthConnection=null,this.state.isLoggedIn=!1,this.state.widgetVisibility=!1,this.state.isIFrameFullScreen=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}handleCloseWindow(e){const{windowId:t}=e;this.windowRefs.has(t)&&(this.windowRefs.get(t).close(),this.windowRefs.delete(t))}}(0,i.A)(q,"defaultState",{buttonPosition:"bottom-left",currentAuthConnection:null,isIFrameFullScreen:!1,widgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1,hasEmittedConnection:!1,allowWalletService:!1});var K=n(28147),W=n(38792),V=n.n(W);class G extends ${constructor(e,{maxEventListeners:t=100,jsonRpcStreamName:n="provider"}){super(e,{maxEventListeners:t,jsonRpcStreamName:n}),(0,i.A)(this,"chainId",void 0),(0,i.A)(this,"selectedAddress",void 0),(0,i.A)(this,"tryWindowHandle",void 0),this.state=(0,r.A)({},G.defaultState),this.selectedAddress=null,this.chainId=null,this.handleAccountsChanged=this.handleAccountsChanged.bind(this),this.handleChainChanged=this.handleChainChanged.bind(this),this.handleUnlockStateChanged=this.handleUnlockStateChanged.bind(this),this.on("connect",()=>{this.state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",e=>{const{method:t,params:n}=e;"wallet_accounts_changed"===t?this.handleAccountsChanged(n):"wallet_unlock_state_changed"===t?this.handleUnlockStateChanged(n):"wallet_chain_changed"===t?this.handleChainChanged(n):F.includes(t)&&(this.emit("data",e),this.emit("notification",n.result),this.emit("message",{type:t,data:n}))})}isConnected(){return this.state.isConnected}async initializeState(){try{const{accounts:e,chainId:t,isUnlocked:n}=await this.request({method:"wallet_get_provider_state",params:[]});this.emit("connect",{chainId:t}),this.handleChainChanged({chainId:t}),this.handleUnlockStateChanged({accounts:e,isUnlocked:n}),this.handleAccountsChanged(e)}catch(e){U.error("WsEmbed: Failed to get initial state. Please report this bug.",e)}finally{U.info("initialized provider state"),this.state.initialized=!0}}rpcRequest(e,t,n=!1){let r=t;const i=e;if(!Array.isArray(i))if(i.jsonrpc||(i.jsonrpc="2.0"),[K.zb.GET_ACCOUNTS,K.zb.ETH_REQUEST_ACCOUNTS,K.zl.SOLANA_REQUEST_ACCOUNTS,K.zl.GET_ACCOUNTS].includes(i.method))r=(e,r)=>{this.handleAccountsChanged(r.result||[],"eth_accounts"===i.method,n),t(e,r)};else if("wallet_getProviderState"===i.method)return void this.rpcEngine.handle(e,r);this.tryWindowHandle(i,r)}handleConnect(e){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{chainId:e}),U.debug(j(e)))}handleDisconnect(e,t){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!e){let n;this.state.isConnected=!1,e?(n=new y.B(1013,t||M()),U.debug(n)):(n=new y.B(1011,t||R()),U.error(n),this.chainId=null,this.state.accounts=null,this.selectedAddress=null,this.state.isUnlocked=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}handleAccountsChanged(e,t=!1,n=!1){let r=e;Array.isArray(r)||(U.error("WsEmbed: Received non-array accounts parameter. Please report this bug.",r),r=[]);for(const t of e)if("string"!=typeof t){U.error("WsEmbed: Received non-string account. Please report this bug.",e),r=[];break}V()(this.state.accounts,r)||(t&&Array.isArray(this.state.accounts)&&this.state.accounts.length>0&&!n&&U.error('WsEmbed: "eth_accounts" unexpectedly updated accounts. Please report this bug.',r),this.state.accounts=r,this.emit("accountsChanged",r)),this.selectedAddress!==r[0]&&(this.selectedAddress=r[0]||null)}handleChainChanged({chainId:e}={}){e?"loading"===e?this.handleDisconnect(!0):(this.handleConnect(e),e!==this.chainId&&(this.chainId=e,this.state.initialized&&this.emit("chainChanged",this.chainId))):U.error("WsEmbed: Received invalid network parameters. Please report this bug.",{chainId:e})}handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"==typeof t?t!==this.state.isUnlocked&&(this.state.isUnlocked=t,this.handleAccountsChanged(e||[])):U.error("WsEmbed: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:t})}}function Y(e){return new Promise((t,n)=>{try{const n=document.createElement("img");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(e){n(e)}})}(0,i.A)(G,"defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const J=e=>{const{document:t}=e,n=t.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function Z(e){try{const{document:t}=e;let n=t.querySelector('head > link[rel="shortcut icon"]');return n&&await Y(n.href)?n.href:(n=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(e=>Boolean(e.href)),n&&await Y(n.href)?n.href:"")}catch{return""}}const X=`v${"5.3.0".split(".")[0]}`,Q={[z.mb.TESTING]:{url:"https://develop-wallet.web3auth.io",logLevel:"debug"},[z.mb.DEVELOPMENT]:{url:"http://localhost:4050",logLevel:"debug"},[z.mb.STAGING]:{url:`https://staging-wallet.web3auth.io/${X}`,logLevel:"debug"},[z.mb.PRODUCTION]:{url:`https://wallet.web3auth.io/${X}`,logLevel:"error"}};!async function(){try{if("undefined"==typeof document)return;const e=document.createElement("link"),{url:t}=Q.production;e.href=`${t}/frame`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){U.warn(e)}}(),new Set(["set_provider"]);const ee=new Set([K.zl.SEND_TRANSACTION,K.zl.SIGN_MESSAGE,K.zl.SIGN_TRANSACTION,K.zl.SIGN_ALL_TRANSACTIONS,K.zb.ETH_SIGN,K.zb.ETH_SIGN_TYPED_DATA_V4,K.zb.PERSONAL_SIGN,K.zb.ETH_TRANSACTION,K.zb.ADD_CHAIN,K.zb.SWITCH_CHAIN,"wallet_switchChain"]);class te{constructor({modalZIndex:e=99999,web3AuthClientId:t,web3AuthNetwork:n}){(0,i.A)(this,"isInitialized",void 0),(0,i.A)(this,"modalZIndex",void 0),(0,i.A)(this,"provider",void 0),(0,i.A)(this,"communicationProvider",void 0),(0,i.A)(this,"buttonPosition",void 0),(0,i.A)(this,"web3AuthClientId",void 0),(0,i.A)(this,"web3AuthNetwork",void 0),(0,i.A)(this,"isPluginMode",void 0),(0,i.A)(this,"confirmationStrategy",void 0),(0,i.A)(this,"buildEnv",void 0),(0,i.A)(this,"embedNonce",(0,c.zE)()),this.isInitialized=!1,this.modalZIndex=e,this.web3AuthClientId=t,this.web3AuthNetwork=n}get isLoggedIn(){var e;return(null===(e=this.communicationProvider)||void 0===e?void 0:e.isLoggedIn)||!1}get getBuildEnv(){return this.buildEnv}async init({buildEnv:e=z.mb.PRODUCTION,enableLogging:t=!1,chains:n,chainId:i,walletUrls:a,whiteLabel:s,confirmationStrategy:o=l.E.DEFAULT,accountAbstractionConfig:c,enableKeyExport:d=!1}){if(this.isInitialized)throw new Error("Already initialized");this.buildEnv=e,this.confirmationStrategy=o;const{url:f,logLevel:p}=a&&a[e]?(0,r.A)((0,r.A)({},Q[e]),a[e]):Q[e];U.info(f,"url loaded"),U.setDefaultLevel(p),t?U.enableAll():U.disableAll();const h=new URL(f);h.pathname.endsWith("/")?h.pathname+="frame":h.pathname+="/frame";const b=new URLSearchParams;b.append("origin",window.location.origin),b.append("nonce",this.embedNonce),h.hash=b.toString();const y=this.getTheme((null==s?void 0:s.mode)||u.Xh.light),m=(e=>{const t=window.document.createElement("template"),n=e.trim();return t.innerHTML=n,t.content.firstChild})(`<iframe\n        id="walletIframe-${this.embedNonce}"\n        class="walletIframe-${this.embedNonce}"\n        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"\n        src="${h.href}"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()};\n        color-scheme: ${y}"\n        allow="clipboard-write"\n      ></iframe>`);this.buttonPosition=(null==s?void 0:s.buttonPosition)||z.rf.BOTTOM_LEFT;const g=await(async()=>({name:J(window),icon:await Z(window)}))();return new Promise((e,r)=>{try{window.document.body.appendChild(m);const r=async a=>{if(a.origin!==h.origin)return;const{message:l,nonce:u}=a.data||{};"setup_complete"===l&&u===this.embedNonce&&(window.removeEventListener("message",r),m.contentWindow.postMessage({chains:n,chainId:i,dappMetadata:g,enableLogging:t,web3AuthClientId:this.web3AuthClientId,web3AuthNetwork:this.web3AuthNetwork,whiteLabel:s,confirmationStrategy:o,accountAbstractionConfig:c,enableKeyExport:d},h.origin),await this.setupWeb3({torusUrl:f,walletIframe:m}),this.isInitialized=!0,e())};window.addEventListener("message",r)}catch(e){r(e)}})}async login(e={}){if(!this.isInitialized)throw new Error("Call init() first");const t=this.communicationProvider.isIFrameFullScreen;try{e.authConnection||t||this.communicationProvider.displayIframe({isFull:!0});const n=await new Promise((t,n)=>{const r=Object.values(K.WH).includes(this.provider.chainId)?K.zl.SOLANA_REQUEST_ACCOUNTS:K.zb.ETH_REQUEST_ACCOUNTS;this.provider.rpcRequest({method:r,params:[e.authConnection,e.login_hint]},(0,d.m4)(t,n))});if(U.info("check: res",n),Array.isArray(n)&&n.length>0)return this.confirmationStrategy===l.E.AUTO_APPROVE&&U.warn("Confirmation strategy auto approve is not allowed on Embed Mode, using Default instead."),n;throw new Error("Login failed")}catch(e){throw U.error("login failed",e),e}finally{t||this.communicationProvider.displayIframe({isFull:!1})}}async loginWithSessionId(e){if(!this.isInitialized)throw new Error("Call init() first");if(!e.sessionId)throw new Error("sessionId is required");try{const t=await this.communicationProvider.request({method:"login_with_session_id",params:[e.sessionId,e.sessionNamespace||""]});if(U.info("check: res",t),t.success)return this.isPluginMode=!0,this.confirmationStrategy===l.E.POPUP&&U.warn("Confirmation strategy popup is not allowed on Plugin Mode, using Default instead."),t.success;throw new Error("Login failed")}catch(e){throw U.error("login with session id failed",e),e}}async logout(){if(!this.communicationProvider.isLoggedIn)throw new Error("Not logged in");await this.communicationProvider.request({method:"logout",params:[]})}async cleanUp(){var e;null!==(e=this.communicationProvider)&&void 0!==e&&e.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){const e=window.document.getElementById(`walletIframe-${this.embedNonce}`);var t;((t=e)instanceof Element||t instanceof Document)&&e.remove(),this.isInitialized=!1}async getUserInfo(){return await this.communicationProvider.request({method:"user_info",params:[]})}async showWalletConnectScanner(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_wallet_connect",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showWalletUi(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_wallet_ui",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showFunding(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_funding",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showCheckout(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_checkout",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showReceive(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_receive",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showSwap(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_swap",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}getConfirmationStrategyFinal(e){let t=this.confirmationStrategy;return Array.isArray(e)||!ee.has(e.method)||this.confirmationStrategy===l.E.MODAL||this.isPluginMode||(t=l.E.POPUP),t}getTheme(e){return e===u.Xh.light?"light":e===u.Xh.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}async setupWeb3(e){U.info("setupWeb3 running");const t=new b({name:"embed_torus",target:"iframe_torus",targetWindow:e.walletIframe.contentWindow,targetOrigin:new URL(e.torusUrl).origin}),n=new b({name:"embed_communication",target:"iframe_communication",targetWindow:e.walletIframe.contentWindow,targetOrigin:new URL(e.torusUrl).origin}),i=new G(t,{}),s=new q(n,{},{buttonPosition:this.buttonPosition});i.tryWindowHandle=(e,t)=>{const n=e,r=this.getConfirmationStrategyFinal(e),{allowWalletService:a}=s;if(r===l.E.POPUP&&a){const e=(0,c.zE)();s.handleWindow(e,{target:"_blank",features:(0,c.A9)(o),timeout:500}),n.windowId=e}i.rpcEngine.handle(n,t)},s.tryWindowHandle=(e,t)=>{const n=e,r=this.getConfirmationStrategyFinal(e),{allowWalletService:i}=s;if(r===l.E.POPUP&&i){const e=(0,c.zE)();s.handleWindow(e,{target:"_blank",features:(0,c.A9)(a),timeout:500}),n.params.windowId=e}s.rpcEngine.handle(n,t)};const u=e=>{const t=i[e],n=this;i[e]=function(e,r){const{method:i,params:a=[]}=e;if(i===K.zb.ETH_REQUEST_ACCOUNTS||i===K.zl.SOLANA_REQUEST_ACCOUNTS){if(!r)return n.login({authConnection:a[0]});n.login({authConnection:a[0]}).then(e=>r(null,e)).catch(e=>r(e))}return t.apply(this,[e,r])}};u("request"),u("sendAsync"),u("send");const d=new Proxy(i,{deleteProperty:()=>!0}),f=new Proxy(s,{deleteProperty:()=>!0});this.provider=d,this.communicationProvider=f,U.info("test setupWeb3 "),await Promise.all([i.initializeState(),s.initializeState((0,r.A)((0,r.A)({},e),{},{torusIframeId:e.walletIframe.id}))]),U.debug("WsEmbed - injected provider")}}},16395:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var r=n(730),i=n(37663),a=n(65846),s=n(77190),o=n(32634),c=n(27438);function l(e){const{abi:t,data:n}=e,l=(0,a.di)(n,0,4);if("0x"===l)throw new i.O;const u=[...t||[],r.Mc,r.J9].find(e=>"error"===e.type&&l===(0,s.V)((0,c.B)(e)));if(!u)throw new i.Wq(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,o.n)(u.inputs,(0,a.di)(n,4)):void 0,errorName:u.name}}},16406:(e,t,n)=>{"use strict";function r(e,{format:t}){if(!t)return{};const n={};return function t(r){const i=Object.keys(r);for(const a of i)a in e&&(n[a]=e[a]),r[a]&&"object"==typeof r[a]&&!Array.isArray(r[a])&&t(r[a])}(t(e||{})),n}n.d(t,{o:()=>r})},16590:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>a});var r=n(38903);const i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function a(e,t){const n={};return void 0!==e.authorizationList&&(n.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,r.cK)(BigInt(e.r)):e.r,s:e.s?(0,r.cK)(BigInt(e.s)):e.s,chainId:(0,r.cK)(e.chainId),nonce:(0,r.cK)(e.nonce),...void 0!==e.yParity?{yParity:(0,r.cK)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,r.cK)(e.v)}:{}}))),void 0!==e.accessList&&(n.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?n.blobs=e.blobs.map(e=>(0,r.My)(e)):n.blobs=e.blobs),void 0!==e.data&&(n.data=e.data),e.account&&(n.from=e.account.address),void 0!==e.from&&(n.from=e.from),void 0!==e.gas&&(n.gas=(0,r.cK)(e.gas)),void 0!==e.gasPrice&&(n.gasPrice=(0,r.cK)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(n.maxFeePerBlobGas=(0,r.cK)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(n.maxFeePerGas=(0,r.cK)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=(0,r.cK)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(n.nonce=(0,r.cK)(e.nonce)),void 0!==e.to&&(n.to=e.to),void 0!==e.type&&(n.type=i[e.type]),void 0!==e.value&&(n.value=(0,r.cK)(e.value)),n}},16761:(e,t,n)=>{"use strict";async function r(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}n.d(t,{L:()=>r})},16916:(e,t,n)=>{"use strict";const r=n(61253);e.exports=(e,t,n,i,a)=>{"string"==typeof n&&(a=i,i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i,a).version}catch(e){return null}}},16970:(e,t,n)=>{"use strict";const{ArrayPrototypePop:r,Promise:i}=n(70273),{isIterable:a,isNodeStream:s,isWebStream:o}=n(38104),{pipelineImpl:c}=n(87103),{finished:l}=n(92549);n(14041),e.exports={finished:l,pipeline:function(...e){return new i((t,n)=>{let i,l;const u=e[e.length-1];if(u&&"object"==typeof u&&!s(u)&&!a(u)&&!o(u)){const t=r(e);i=t.signal,l=t.end}c(e,(e,r)=>{e?n(e):t(r)},{signal:i,end:l})})}}},17009:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(14979).__exportStar(n(2634),t)},17239:(e,t,n)=>{"use strict";var r=n(64940),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},17345:(e,t,n)=>{"use strict";var r=n(9629);e.exports=r.getPrototypeOf||null},17533:(e,t,n)=>{"use strict";const r=n(39907),{PromisePrototypeThen:i,SymbolAsyncIterator:a,SymbolIterator:s}=n(70273),{Buffer:o}=n(1048),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:l}=n(61150).codes;e.exports=function(e,t,n){let u,d;if("string"==typeof t||t instanceof o)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[a])d=!0,u=t[a]();else{if(!t||!t[s])throw new c("iterable",["Iterable"],t);d=!1,u=t[s]()}const f=new e({objectMode:!0,highWaterMark:1,...n});let p=!1;return f._read=function(){p||(p=!0,async function(){for(;;){try{const{value:e,done:t}=d?await u.next():u.next();if(t)f.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw p=!1,new l;if(f.push(t))continue;p=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){i(async function(e){const t=null!=e,n="function"==typeof u.throw;if(t&&n){const{value:t,done:n}=await u.throw(e);if(await t,n)return}if("function"==typeof u.return){const{value:e}=await u.return();await e}}(e),()=>r.nextTick(t,e),n=>r.nextTick(t,n||e))},f}},17844:(e,t,n)=>{"use strict";const r=n(91715);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},18401:(e,t,n)=>{"use strict";var r=n(82823),i=n(41874),a=i.assert,s=i.cachedProperty,o=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=o(t)),Array.isArray(t)&&(a(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},18449:e=>{"use strict";e.exports=Math.floor},18650:(e,t,n)=>{"use strict";const r=n(61253);e.exports=(e,t,n)=>{const i=new r(e,n),a=new r(t,n);return i.compare(a)||i.compareBuild(a)}},18677:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Array]",o="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",h="[object Promise]",b="[object RegExp]",y="[object Set]",m="[object String]",g="[object WeakMap]",w="[object ArrayBuffer]",v="[object DataView]",E=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[a]=S[s]=S[w]=S[o]=S[v]=S[c]=S[l]=S[u]=S[d]=S[f]=S[p]=S[b]=S[y]=S[m]=S[g]=!1;var T="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,A="object"==typeof self&&self&&self.Object===Object&&self,_=T||A||Function("return this")(),C=t&&!t.nodeType&&t,k=C&&e&&!e.nodeType&&e,I=k&&k.exports===C,P=I&&T.process,O=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),M=O&&O.isTypedArray;function R(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function N(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var D,B,j,U=Array.prototype,F=Function.prototype,$=Object.prototype,z=_["__core-js_shared__"],H=F.toString,q=$.hasOwnProperty,K=(D=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",W=$.toString,V=RegExp("^"+H.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=I?_.Buffer:void 0,Y=_.Symbol,J=_.Uint8Array,Z=$.propertyIsEnumerable,X=U.splice,Q=Y?Y.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=G?G.isBuffer:void 0,ne=(B=Object.keys,j=Object,function(e){return B(j(e))}),re=ke(_,"DataView"),ie=ke(_,"Map"),ae=ke(_,"Promise"),se=ke(_,"Set"),oe=ke(_,"WeakMap"),ce=ke(Object,"create"),le=Me(re),ue=Me(ie),de=Me(ae),fe=Me(se),pe=Me(oe),he=Y?Y.prototype:void 0,be=he?he.valueOf:void 0;function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ge;++t<n;)this.add(e[t])}function ve(e){var t=this.__data__=new me(e);this.size=t.size}function Ee(e,t){for(var n=e.length;n--;)if(Re(e[n][0],t))return n;return-1}function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=q.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(e){}var i=W.call(e);return r&&(t?e[Q]=n:delete e[Q]),i}(e):function(e){return W.call(e)}(e)}function Se(e){return Fe(e)&&xe(e)==a}function Te(e,t,n,r,i){return e===t||(null==e||null==t||!Fe(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,n,r,i,u){var h=Le(e),g=Le(t),E=h?s:Pe(e),x=g?s:Pe(t),S=(E=E==a?p:E)==p,T=(x=x==a?p:x)==p,A=E==x;if(A&&De(e)){if(!De(t))return!1;h=!0,S=!1}if(A&&!S)return u||(u=new ve),h||$e(e)?Ae(e,t,n,r,i,u):function(e,t,n,r,i,a,s){switch(n){case v:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!a(new J(e),new J(t)));case o:case c:case f:return Re(+e,+t);case l:return e.name==t.name&&e.message==t.message;case b:case m:return e==t+"";case d:var u=N;case y:var p=1&r;if(u||(u=L),e.size!=t.size&&!p)return!1;var h=s.get(e);if(h)return h==t;r|=2,s.set(e,t);var g=Ae(u(e),u(t),r,i,a,s);return s.delete(e),g;case"[object Symbol]":if(be)return be.call(e)==be.call(t)}return!1}(e,t,E,n,r,i,u);if(!(1&n)){var _=S&&q.call(e,"__wrapped__"),C=T&&q.call(t,"__wrapped__");if(_||C){var k=_?e.value():e,I=C?t.value():t;return u||(u=new ve),i(k,I,n,r,u)}}return!!A&&(u||(u=new ve),function(e,t,n,r,i,a){var s=1&n,o=_e(e),c=o.length;if(c!=_e(t).length&&!s)return!1;for(var l=c;l--;){var u=o[l];if(!(s?u in t:q.call(t,u)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var f=!0;a.set(e,t),a.set(t,e);for(var p=s;++l<c;){var h=e[u=o[l]],b=t[u];if(r)var y=s?r(b,h,u,t,e,a):r(h,b,u,e,t,a);if(!(void 0===y?h===b||i(h,b,n,r,a):y)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var m=e.constructor,g=t.constructor;m==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,i,u))}(e,t,n,r,Te,i))}function Ae(e,t,n,r,i,a){var s=1&n,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var u=-1,d=!0,f=2&n?new we:void 0;for(a.set(e,t),a.set(t,e);++u<o;){var p=e[u],h=t[u];if(r)var b=s?r(h,p,u,t,e,a):r(p,h,u,e,t,a);if(void 0!==b){if(b)continue;d=!1;break}if(f){if(!R(t,function(e,t){if(s=t,!f.has(s)&&(p===e||i(p,e,n,r,a)))return f.push(t);var s})){d=!1;break}}else if(p!==h&&!i(p,h,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function _e(e){return function(e,t,n){var r=t(e);return Le(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,ze,Ie)}function Ce(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ke(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ue(e)||function(e){return!!K&&K in e}(e))&&(Be(e)?V:E).test(Me(e))}(n)?n:void 0}ye.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ye.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ye.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===r?void 0:n}return q.call(t,e)?t[e]:void 0},ye.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:q.call(t,e)},ye.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?r:t,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(e){var t=this.__data__,n=Ee(t,e);return!(n<0||(n==t.length-1?t.pop():X.call(t,n,1),--this.size,0))},me.prototype.get=function(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]},me.prototype.has=function(e){return Ee(this.__data__,e)>-1},me.prototype.set=function(e,t){var n=this.__data__,r=Ee(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ge.prototype.clear=function(){this.size=0,this.__data__={hash:new ye,map:new(ie||me),string:new ye}},ge.prototype.delete=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t},ge.prototype.get=function(e){return Ce(this,e).get(e)},ge.prototype.has=function(e){return Ce(this,e).has(e)},ge.prototype.set=function(e,t){var n=Ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},we.prototype.add=we.prototype.push=function(e){return this.__data__.set(e,r),this},we.prototype.has=function(e){return this.__data__.has(e)},ve.prototype.clear=function(){this.__data__=new me,this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ve.prototype.get=function(e){return this.__data__.get(e)},ve.prototype.has=function(e){return this.__data__.has(e)},ve.prototype.set=function(e,t){var n=this.__data__;if(n instanceof me){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ge(r)}return n.set(e,t),this.size=n.size,this};var Ie=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s)&&(a[i++]=s)}return a}(ee(e),function(t){return Z.call(e,t)}))}:function(){return[]},Pe=xe;function Oe(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function Me(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Re(e,t){return e===t||e!=e&&t!=t}(re&&Pe(new re(new ArrayBuffer(1)))!=v||ie&&Pe(new ie)!=d||ae&&Pe(ae.resolve())!=h||se&&Pe(new se)!=y||oe&&Pe(new oe)!=g)&&(Pe=function(e){var t=xe(e),n=t==p?e.constructor:void 0,r=n?Me(n):"";if(r)switch(r){case le:return v;case ue:return d;case de:return h;case fe:return y;case pe:return g}return t});var Ne=Se(function(){return arguments}())?Se:function(e){return Fe(e)&&q.call(e,"callee")&&!Z.call(e,"callee")},Le=Array.isArray,De=te||function(){return!1};function Be(e){if(!Ue(e))return!1;var t=xe(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Fe(e){return null!=e&&"object"==typeof e}var $e=M?function(e){return function(t){return e(t)}}(M):function(e){return Fe(e)&&je(e.length)&&!!S[xe(e)]};function ze(e){return null!=(t=e)&&je(t.length)&&!Be(t)?function(e,t){var n=Le(e),r=!n&&Ne(e),i=!n&&!r&&De(e),a=!n&&!r&&!i&&$e(e),s=n||r||i||a,o=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=o.length;for(var l in e)!t&&!q.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Oe(l,c))||o.push(l);return o}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||$))return ne(e);var t,n,r=[];for(var i in Object(e))q.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e);var t}e.exports=function(e,t){return Te(e,t)}},18802:(e,t,n)=>{"use strict";const r=n(43930);e.exports=d;const i=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},a={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:m,res:m,err:b,errWithCause:b};function s(e,t){return"silent"===e?1/0:t.levels.values[e]}const o=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){const n={logger:t,parent:e[c]};t[c]=n}function d(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},a=function(e,t){return Array.isArray(e)?e.filter(function(e){return"!stdSerializers.err"!==e}):!0===e&&Object.keys(t)}(e.browser.serialize,r);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const b=Object.keys(e.customLevels||{}),m=["error","fatal","warn","info","debug","trace"].concat(b);"function"==typeof n&&m.forEach(function(e){n[e]=n}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const g=e.level||"info",v=Object.create(n);v.log||(v.log=w),function(e,t,n){const r={};t.forEach(e=>{r[e]=n[e]?n[e]:i[e]||i[l[e]||"log"]||w}),e[o]=r}(v,m,n),u({},v),Object.defineProperty(v,"levelVal",{get:function(){return s(this.level,this)}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,f(this,E,v,"error"),f(this,E,v,"fatal"),f(this,E,v,"warn"),f(this,E,v,"info"),f(this,E,v,"debug"),f(this,E,v,"trace"),b.forEach(e=>{f(this,E,v,e)})}});const E={transmit:t,serialize:a,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:m,timestamp:y(e),messageKey:e.messageKey||"msg",onChild:e.onChild||w};function x(n,i,s){if(!i)throw new Error("missing bindings for child Pino");s=s||{},a&&i.serializers&&(s.serializers=i.serializers);const o=s.serializers;if(a&&o){var c=Object.assign({},r,o),l=!0===e.browser.serialize?Object.keys(c):a;delete i.serializers,p([i],l,c,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.bindings=i,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=h([].concat(e._logEvent.bindings,i)))}d.prototype=this;const f=new d(this);return u(this,f),f.child=function(...e){return x.call(this,n,...e)},f.level=s.level||this.level,n.onChild(f),f}return v.levels=function(e){const t=e.customLevels||{};return{values:Object.assign({},d.levels.values,t),labels:Object.assign({},d.levels.labels,function(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t))}}(e),v.level=g,v.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=w,v.serializers=r,v._serialize=a,v._stdErrSerialize=c,v.child=function(...e){return x.call(this,E,...e)},t&&(v._logEvent=h()),v}function f(e,t,n,a){if(Object.defineProperty(e,a,{value:s(e.level,n)>s(a,n)?w:n[o][a],writable:!0,enumerable:!0,configurable:!0}),e[a]===w){if(!t.transmit)return;const r=s(t.transmit.level||e.level,n);if(s(a,n)<r)return}e[a]=function(e,t,n,a){return c=e[o][a],function(){const o=t.timestamp(),l=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];var f=!1;if(t.serialize&&(p(l,this._serialize,this.serializers,this._stdErrSerialize),f=!0),t.asObject||t.formatters?c.call(u,...function(e,t,n,i,a){const{level:s,log:o=e=>e}=a.formatters||{},c=n.slice();let l=c[0];const u={};let d=1+(0|e._childLevel);if(d<1&&(d=1),i&&(u.time=i),s){const n=s(t,e.levels.values[t]);Object.assign(u,n)}else u.level=e.levels.values[t];if(a.asObjectBindingsOnly){if(null!==l&&"object"==typeof l)for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());return[o(u),...c]}if(null!==l&&"object"==typeof l){for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());l=c.length?r(c.shift(),c):void 0}else"string"==typeof l&&(l=r(c.shift(),c));return void 0!==l&&(u[a.messageKey]=l),[o(u)]}(this,a,l,o,t)):c.apply(u,l),t.transmit){const r=t.transmit.level||e._level,i=s(r,n),c=s(a,n);if(c<i)return;!function(e,t,n,r=!1){const i=t.send,a=t.ts,s=t.methodLevel,o=t.methodValue,c=t.val,l=e._logEvent.bindings;r||p(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=a,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,i(s,e._logEvent,c),e._logEvent=h(l)}(this,{ts:o,methodLevel:a,methodValue:c,transmitLevel:r,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:s(e._level,n)},l,f)}};var c}(e,t,n,a);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[c];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[a]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[a]))}function p(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=d.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i])&&t)for(const r in e[i])t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function h(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function b(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}function y(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?v:E}function m(){return{}}function g(e){return e}function w(){}function v(){return!1}function E(){return Date.now()}d.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},d.stdSerializers=a,d.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:E,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=d,e.exports.pino=d},18963:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});const r={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"}},19024:(e,t,n)=>{"use strict";n.d(t,{A9:()=>o,EW:()=>l,Eo:()=>u,is:()=>c,mT:()=>d,zE:()=>s}),n(69860),n(96483);var r=n(85651),i=n(18963),a=(n(1048).Buffer,n(39907));const s=()=>Math.random().toString(36).slice(2);function o({width:e,height:t}){const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,r=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=Math.abs((i-e)/2/1+n);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${t/1},width=${e/1},top=${Math.abs((a-t)/2/1+r)},left=${s}`}const c=e=>{try{const t=null==e?void 0:e.code;return{error_message:e instanceof Error?e.message:(null==e?void 0:e.message)||(null==e?void 0:e.toString()),error_code:t}}catch{return{error_message:"Unknown error",error_code:void 0}}},l=e=>{try{return new URL(e).hostname}catch{return""}},u=e=>{if(e)return e.chainNamespace===i.l.EIP155?`${e.chainNamespace}:${parseInt(e.chainId,16)}`:e.chainNamespace===i.l.SOLANA?`${e.chainNamespace}:${r.Ah[e.chainId]}`:`${e.chainNamespace}:${e.chainId}`},d=e=>{var t,n;return void 0!==a&&null!==(t=a.env)&&void 0!==t&&t[e]?null===(n=a.env)||void 0===n?void 0:n[e]:void 0}},19088:(e,t,n)=>{"use strict";const r=n(61253),i=n(29668),a=n(14305);e.exports=(e,t)=>{e=new i(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let s=null;i.forEach(e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!a(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),!s||n&&!a(n,s)||(n=s)}return n&&e.test(n)?n:null}},19365:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise(function(n,r){var i=new XMLHttpRequest,a=[],s=[],o={},c=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return a},entries:function(){return s},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var l in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){a.push(t=t.toLowerCase()),s.push([t,n]),o[t]=o[t]?o[t]+","+n:n}),n(c())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(l,t.headers[l]);i.send(t.body||null)})}n.d(t,{h:()=>a});var i=n(3356),a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,i.m)();return(n&&n.fetch||r).apply(void 0,e)}},19455:(e,t,n)=>{"use strict";n.d(t,{v:()=>l});var r=n(34820),i=n(80339),a=n(10286),s=n(93747),o=n(58501),c=n(16067);async function l(e,t){const{abi:n,address:l,args:u,dataSuffix:d,functionName:f,...p}=t,h=p.account?(0,r.J)(p.account):e.account,b=(0,a.p)({abi:n,args:u,functionName:f});try{const{data:r}=await(0,o.T)(e,c.T,"call")({batch:!1,data:`${b}${d?d.replace("0x",""):""}`,to:l,...p,account:h});return{result:(0,i.e)({abi:n,args:u,functionName:f,data:r||"0x"}),request:{abi:n.filter(e=>"name"in e&&e.name===t.functionName),address:l,args:u,dataSuffix:d,functionName:f,...p,account:h}}}catch(e){throw(0,s.j)(e,{abi:n,address:l,args:u,docsPath:"/docs/contract/simulateContract",functionName:f,sender:h?.address})}}},19520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParserError=t.getErrorStack=t.getErrorMessage=void 0;const r=n(76728);t.getErrorMessage=e=>"string"==typeof e?e:e instanceof Error||(0,r.isObject)(e)&&(0,r.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:"Unknown error.",t.getErrorStack=e=>{if(e instanceof Error)return e.stack};class i extends Error{constructor(e,n){super(e),this.name="ParserError";const r=(0,t.getErrorStack)(n);r&&(this.stack=r)}}t.ParserError=i},19555:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(30113),i=n(23785),a=n(62421),s=n(38903);function o(e,t){const n=t||"hex",o=(0,r.lY)((0,i.q)(e,{strict:!1})?(0,a.ZJ)(e):e);return"bytes"===n?o:(0,s.nj)(o)}},20124:(e,t,n)=>{var r=n(39907);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(27891)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},20162:(e,t,n)=>{"use strict";function r(e){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(t){return t.src===e})}function i(e,t){var n=r(e);if(void 0!==n){var i=null==n?void 0:n.getAttribute("status");if("loaded"===i)return Promise.resolve(n);if("loading"===i)return new Promise(function(e,t){n.addEventListener("load",function(){return e(n)}),n.addEventListener("error",function(e){return t(e)})})}return new Promise(function(n,r){var i,a=window.document.createElement("script");a.type="text/javascript",a.src=e,a.async=!0,a.setAttribute("status","loading");for(var s=0,o=Object.entries(null!=t?t:{});s<o.length;s++){var c=o[s],l=c[0],u=c[1];a.setAttribute(l,u)}a.onload=function(){a.onerror=a.onload=null,a.setAttribute("status","loaded"),n(a)},a.onerror=function(){a.onerror=a.onload=null,a.setAttribute("status","error"),r(new Error("Failed to load ".concat(e)))};var d=window.document.querySelector("script");d?null===(i=d.parentElement)||void 0===i||i.insertBefore(a,d):window.document.head.appendChild(a)})}function a(e){var t=r(e);return void 0!==t&&t.remove(),Promise.resolve()}n.d(t,{d:()=>a,k:()=>i})},20328:(e,t,n)=>{"use strict";n.d(t,{v:()=>A});var r=n(69740),i=n(98158),a=n(10286),s=n(39610),o=n(79756),c=n(19555),l=n(6619),u=n(46702),d=n(58470),f=n(27685),p=n(35682),h=n(11795),b=n(98844),y=n(93493),m=n(65839),g=n(35864),w=n(34052);const v=[{inputs:[{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"},{internalType:"uint256",name:"index",type:"uint256"}],name:"deployCounterFactualAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],E=[{inputs:[{internalType:"address",name:"handler",type:"address"},{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"}],name:"init",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"eoaOwner",type:"address"}],name:"initForSmartAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute_ncC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch_y6U",outputs:[],stateMutability:"nonpayable",type:"function"}],x={ECDSA_OWNERSHIP_REGISTRY_MODULE:"0x0000001c5b32F37F5beA87BDD5374eB2aC54eA8e",FACTORY_ADDRESS:"0x000000a56Aaca3e9a4C479ea6b6CD0DbcB6634F5",ACCOUNT_V2_0_LOGIC:"0x0000002512019Dafb59528B82CB92D3c5D2423aC",DEFAULT_FALLBACK_HANDLER_ADDRESS:"0x0bBa6d96BD616BedC6BFaa341742FD43c60b83C1"},S=async({owner:e,index:t,ecdsaModuleAddress:n})=>{if(!e)throw new Error("Owner account not found");const r=(0,a.p)({abi:E,functionName:"initForSmartAccount",args:[e]});return(0,a.p)({abi:v,functionName:"deployCounterFactualAccount",args:[n,r,t]})};var T=n(92336);class A{constructor(e){(0,i.A)(this,"name",T.o0.BICONOMY),(0,i.A)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n;return async function(e){const{owners:t,client:n,index:r=0n,address:i,accountLogicAddress:v=x.ACCOUNT_V2_0_LOGIC,fallbackHandlerAddress:T=x.DEFAULT_FALLBACK_HANDLER_ADDRESS,ecdsaModuleAddress:A=x.ECDSA_OWNERSHIP_REGISTRY_MODULE,factoryAddress:_=x.FACTORY_ADDRESS}=e,C=await(0,w.F)({owner:t[0]}),k={address:e.entryPoint?.address??p.B9,abi:h.hw,version:e.entryPoint?.version??"0.6"};let I=i;return(0,b.q)({client:n,entryPoint:k,getFactoryArgs:async()=>({factory:_,factoryData:await S({owner:C.address,index:r,ecdsaModuleAddress:A})}),getAddress:async()=>I||(I=await(async({factoryAddress:e,accountLogicAddress:t,fallbackHandlerAddress:n,ecdsaModuleAddress:r,owner:i,index:u=BigInt(0)})=>{const d=(0,a.p)({abi:E,functionName:"initForSmartAccount",args:[i]}),f=(0,a.p)({abi:E,functionName:"init",args:[n,r,d]}),p=(0,s.P)(["bytes","uint256"],["0x6080346100aa57601f61012038819003918201601f19168301916001600160401b038311848410176100af578084926020946040528339810103126100aa57516001600160a01b0381168082036100aa5715610065573055604051605a90816100c68239f35b60405162461bcd60e51b815260206004820152601e60248201527f496e76616c696420696d706c656d656e746174696f6e206164647265737300006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe608060405230546000808092368280378136915af43d82803e156020573d90f35b3d90fdfea2646970667358221220a03b18dce0be0b4c9afe58a9eb85c35205e2cf087da098bbf1d23945bf89496064736f6c63430008110033",(0,o.uU)(t)]),h=(0,c.S)((0,s.P)(["bytes32","uint256"],[(0,c.S)((0,s.P)(["bytes"],[f])),u]));return(0,l.RZ)({from:e,salt:h,bytecode:p,opcode:"CREATE2"})})({owner:C.address,ecdsaModuleAddress:A,factoryAddress:_,accountLogicAddress:v,fallbackHandlerAddress:T,index:r}),I),async getNonce(t){const r=await this.getAddress();return(0,g.p)(n,{address:r,entryPointAddress:k.address,key:e?.nonceKey??t?.key})},encodeCalls:async e=>{if(e.length>1)return(0,a.p)({abi:E,functionName:"executeBatch_y6U",args:[e.map(e=>e.to),e.map(e=>e.value??0n),e.map(e=>e.data??"0x")]});const t=0===e.length?void 0:e[0];if(!t)throw new Error("No calls to encode");return(0,a.p)({abi:E,functionName:"execute_ncC",args:[t.to,t.value??0n,t.data??"0x"]})},decodeCalls:async e=>{const t=(0,u.J)({abi:E,data:e});if("execute_ncC"===t.functionName)return[{to:t.args[0],value:t.args[1],data:t.args[2]}];if("executeBatch_y6U"===t.functionName){const e=[];for(let n=0;n<t.args[0].length;n++)e.push({to:t.args[0][n],value:t.args[1][n],data:t.args[2][n]});return e}throw new Error("Invalid function name")},getStubSignature:async()=>`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${A.substring(2).padEnd(40,"0")}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`,async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){let t=await C.signMessage({message:e});const n=Number.parseInt(t.slice(-2),16);if(![27,28].includes(n)){const e=n+27;t=t.slice(0,-2)+e.toString(16)}return(0,d.h)([{type:"bytes"},{type:"address"}],[t,A])},async signTypedData(e){let t=await C.signTypedData(e);const n=Number.parseInt(t.slice(-2),16);if(![27,28].includes(n)){const e=n+27;t=t.slice(0,-2)+e.toString(16)}return(0,d.h)([{type:"bytes"},{type:"address"}],[t,A])},async signUserOperation(e){const{chainId:t=n.chain?.id,...r}=e;if(!t)throw new Error("Chain id not found");const i=(0,y.Z)({userOperation:{...r,sender:r.sender??await this.getAddress(),signature:"0x"},entryPointAddress:k.address,entryPointVersion:k.version,chainId:t}),a=await(0,m.l)(n,{account:C,message:{raw:i}});return(0,d.h)((0,f.m)("bytes, address"),[a,A])}})}((0,r.A)((0,r.A)((0,r.A)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||p.B9,version:(null===(n=this.options)||void 0===n||null===(n=n.entryPoint)||void 0===n?void 0:n.version)||"0.6"}},e),{},{owners:[e.walletClient],client:e.client}))}}},20367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.number=t.getBigInt=t.assertNumberLength=t.getLength=t.isSigned=void 0;const r=n(76728),i=n(19520),a=n(26769),s=/^u?int(?<length>[0-9]*)?$/u;t.isSigned=e=>!e.startsWith("u"),t.getLength=e=>{if("int"===e||"uint"===e)return 256;const t=e.match(s);(0,r.assert)(t?.groups?.length,new i.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));const n=parseInt(t.groups.length,10);return(0,r.assert)(n>=8&&n<=256,new i.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,r.assert)(n%8==0,new i.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),n},t.assertNumberLength=(e,n)=>{const a=(0,t.getLength)(n),s=BigInt(2)**BigInt(a-((0,t.isSigned)(n)?1:0))-BigInt(1);(0,t.isSigned)(n)?(0,r.assert)(e>=-(s+BigInt(1))&&e<=s,new i.ParserError(`Number "${e}" is out of range for type "${n}".`)):(0,r.assert)(e<=s,new i.ParserError(`Number "${e}" is out of range for type "${n}".`))},t.getBigInt=e=>{try{return(0,r.createBigInt)(e)}catch{throw new i.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}},t.number={isDynamic:!1,isType:e=>s.test(e),getByteLength:()=>32,encode({type:e,buffer:n,value:i,packed:s}){const o=(0,t.getBigInt)(i);if((0,t.assertNumberLength)(o,e),(0,t.isSigned)(e)){if(s){const i=(0,t.getLength)(e)/8;return(0,r.concatBytes)([n,(0,r.signedBigIntToBytes)(o,i)])}return(0,r.concatBytes)([n,(0,a.padStart)((0,r.signedBigIntToBytes)(o,32))])}if(s){const i=(0,t.getLength)(e)/8;return(0,r.concatBytes)([n,(0,a.padStart)((0,r.bigIntToBytes)(o),i)])}return(0,r.concatBytes)([n,(0,a.padStart)((0,r.bigIntToBytes)(o))])},decode({type:e,value:n}){const i=n.subarray(0,32);if((0,t.isSigned)(e)){const n=(0,r.bytesToSignedBigInt)(i);return(0,t.assertNumberLength)(n,e),n}const a=(0,r.bytesToBigInt)(i);return(0,t.assertNumberLength)(a,e),a}}},20635:(e,t)=>{"use strict";function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},20726:(e,t,n)=>{"use strict";n.d(t,{RedundantAdaptiveBroadcastChannel:()=>Je});var r={};n.r(r),n.d(r,{TRANSACTION_SETTINGS:()=>_,averageResponseTime:()=>q,canBeUsed:()=>H,cleanOldMessages:()=>D,close:()=>F,commitIndexedDBTransaction:()=>I,create:()=>B,createDatabase:()=>P,getAllMessages:()=>M,getIdb:()=>k,getMessagesHigherThan:()=>R,getOldMessages:()=>L,microSeconds:()=>S,onMessage:()=>z,postMessage:()=>$,removeMessagesById:()=>N,type:()=>C,writeMessage:()=>O});var i={};n.r(i),n.d(i,{addStorageEventListener:()=>Z,averageResponseTime:()=>re,canBeUsed:()=>Q,close:()=>te,create:()=>ee,getLocalStorage:()=>G,microSeconds:()=>K,onMessage:()=>ne,postMessage:()=>J,removeStorageEventListener:()=>X,storageKey:()=>Y,type:()=>V});var a={};n.r(a),n.d(a,{averageResponseTime:()=>de,canBeUsed:()=>ue,close:()=>oe,create:()=>se,microSeconds:()=>ie,onMessage:()=>le,postMessage:()=>ce,type:()=>ae});var s={};n.r(s),n.d(s,{averageResponseTime:()=>Oe,canBeUsed:()=>Ce,close:()=>Ie,create:()=>ke,getSocketInstance:()=>Te,microSeconds:()=>me,onMessage:()=>Pe,postMessage:()=>Se,removeStorageEventListener:()=>_e,setupSocketConnection:()=>Ae,storageKey:()=>xe,type:()=>we});var o={};n.r(o),n.d(o,{SIMULATE_DELAY_TIME:()=>Le,averageResponseTime:()=>$e,canBeUsed:()=>Fe,close:()=>Be,create:()=>De,microSeconds:()=>Me,onMessage:()=>Ue,postMessage:()=>je,type:()=>Re});var c=n(69740),l=n(98158),u=n(55880),d=n.n(u);Promise.resolve(!1),Promise.resolve(!0);const f=Promise.resolve();function p(e,t){return e||(e=0),new Promise(n=>{setTimeout(()=>n(t),e)})}function h(){return Math.random().toString(36).substring(2)}let b=0;function y(){let e=1e3*Date.now();return e<=b&&(e=b+1),b=e,e}const m=d().getLogger("broadcast-channel");m.setLevel("error");class g{ttl;map=new Map;_to=!1;constructor(e){this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,w()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function(e){const t=w()-e.ttl,n=e.map[Symbol.iterator]();for(;;){const r=n.next().value;if(!r)return;const i=r[0];if(!(r[1]<t))return;e.map.delete(i)}}(this)},0))}clear(){this.map.clear()}}function w(){return Date.now()}const v="https://api.web3auth.io/session-service",E="https://session.web3auth.io";function x(e={}){const t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),t.server||(t.server={}),t.server.api_url||(t.server.api_url=`${v}/v2`),t.server.socket_url||(t.server.socket_url=`${E}`),t.server.removeTimeout||(t.server.removeTimeout=3e5),e.methods&&(t.methods=e.methods),t}const S=y,T="pubkey.broadcast-channel-0-",A="messages",_={durability:"relaxed"},C="idb";function k(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){const e=window;if(void 0!==e.mozIndexedDB)return e.mozIndexedDB;if(void 0!==e.webkitIndexedDB)return e.webkitIndexedDB;if(void 0!==e.msIndexedDB)return e.msIndexedDB}return!1}function I(e){e.commit&&e.commit()}function P(e){const t=k();if(!t)return Promise.reject(new Error("IndexedDB not available"));const n=T+e,r=t.open(n);return r.onupgradeneeded=e=>{e.target.result.createObjectStore(A,{keyPath:"id",autoIncrement:!0})},new Promise((e,t)=>{r.onerror=e=>t(e),r.onsuccess=()=>{e(r.result)}})}function O(e,t,n){const r={uuid:t,time:Date.now(),data:n},i=e.transaction([A],"readwrite",_);return new Promise((e,t)=>{i.oncomplete=()=>e(),i.onerror=e=>t(e),i.objectStore(A).add(r),I(i)})}function M(e){const t=e.transaction(A,"readonly",_),n=t.objectStore(A),r=[];return new Promise(e=>{n.openCursor().onsuccess=n=>{const i=n.target.result;i?(r.push(i.value),i.continue()):(I(t),e(r))}})}function R(e,t){const n=e.transaction(A,"readonly",_),r=n.objectStore(A),i=[];let a=IDBKeyRange.bound(t+1,1/0);if(r.getAll){const e=r.getAll(a);return new Promise((t,n)=>{e.onerror=e=>n(e),e.onsuccess=function(e){t(e.target.result)}})}return new Promise((e,s)=>{const o=function(){try{return a=IDBKeyRange.bound(t+1,1/0),r.openCursor(a)}catch{return r.openCursor()}}();o.onerror=e=>s(e),o.onsuccess=r=>{const a=r.target.result;a?a.value.id<t+1?a.continue(t+1):(i.push(a.value),a.continue()):(I(n),e(i))}})}function N(e,t){const n=e.transaction([A],"readwrite",_).objectStore(A);return Promise.all(t.map(e=>{const t=n.delete(e);return new Promise(e=>{t.onsuccess=()=>e()})}))}function L(e,t){const n=Date.now()-t,r=e.transaction(A,"readonly",_),i=r.objectStore(A),a=[];return new Promise(e=>{i.openCursor().onsuccess=t=>{const i=t.target.result;if(i){const t=i.value;t.time<n?(a.push(t),i.continue()):(I(r),e(a))}else e(a)}})}function D(e,t){return L(e,t).then(t=>N(e,t.map(e=>e.id)))}function B(e,t){return t=x(t),P(e).then(n=>{const r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:h(),eMIs:new g(2*t.idb.ttl),writeBlockPromise:f,messagesCallback:null,readQueuePromises:[],db:n,time:y()};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},j(r),r})}function j(e){e.closed||U(e).then(()=>p(e.options.idb.fallbackInterval)).then(()=>j(e)).catch(e=>{throw e})}function U(e){return e.closed?f:e.messagesCallback?R(e.db,e.lastCursorId).then(t=>{const n=t.filter(e=>!!e).map(t=>(t.id>e.lastCursorId&&(e.lastCursorId=t.id),t)).filter(t=>function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)).sort((e,t)=>e.time-t.time);return n.forEach(t=>{e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))}),f}):f}function F(e){e.closed=!0,e.db.close()}function $(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(()=>O(e.db,e.uuid,t)).then(()=>(0===Math.floor(11*Math.random()+0)&&D(e.db,e.options.idb.ttl),f)),e.writeBlockPromise}function z(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,U(e)}function H(){return!!k()}function q(e){return 2*e.idb.fallbackInterval}const K=y,W="pubkey.broadcastChannel-",V="localstorage";function G(){let e=null;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Y(e){return W+e}function J(e,t){return new Promise((n,r)=>{p().then(()=>{var r;const i=Y(e.channelName),a={token:h(),time:Date.now(),data:t,uuid:e.uuid},s=JSON.stringify(a);null===(r=G())||void 0===r||r.setItem(i,s);const o=document.createEvent("StorageEvent");o.initStorageEvent("storage",!0,!0,i,null,s,"",null),window.dispatchEvent(o),n()}).catch(r)})}function Z(e,t){const n=Y(e),r=e=>{e.key===n&&e.newValue&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}function X(e){window.removeEventListener("storage",e)}function Q(){const e=G();if(!e)return!1;try{const t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function ee(e,t){const n=x(t);if(!Q())throw new Error("BroadcastChannel: localstorage cannot be used");const r=h(),i=new g(n.localstorage.removeTimeout),a={channelName:e,uuid:r,time:y(),eMIs:i};return a.listener=Z(e,e=>{a.messagesCallback&&e.uuid!==r&&e.token&&!i.has(e.token)&&(e.data.time&&e.data.time<(a.messagesCallbackTime||0)||(i.add(e.token),a.messagesCallback(e.data)))}),a}function te(e){e.listener&&X(e.listener)}function ne(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function re(){const e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120}const ie=y,ae="native";function se(e){const t={time:y(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=e=>{t.messagesCallback&&t.messagesCallback(e.data)},t}function oe(e){e.bc.close(),e.subFns=[]}function ce(e,t){try{return e.bc.postMessage(t),f}catch(e){return Promise.reject(e)}}function le(e,t){e.messagesCallback=t}function ue(){if("undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1}function de(){return 150}var fe=n(2439),pe=n(44478),he=n(3856),be=n(96949),ye=n(1048).Buffer;const me=y,ge="pubkey.broadcastChannel-",we="server";let ve=null;const Ee=new Set;function xe(e){return ge+e}function Se(e,t){return new Promise((n,r)=>{p().then(async()=>{const i=xe(e.channelName),a=(0,pe.S)(ye.from(i,"utf8")),s=await(0,he.yv)(a.toString("hex"),{token:h(),time:Date.now(),data:t,uuid:e.uuid}),o={allowedOrigin:e.server.allowed_origin,sameIpCheck:!0,key:(0,fe.qb)(a).toString("hex"),data:s,signature:(await(0,fe._S)(a,(0,pe.S)(ye.from(s,"utf8")))).toString("hex")};return e.timeout&&(o.timeout=e.timeout),fetch(`${e.server.api_url}/channel/set`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(n).catch(r)}).catch(r)})}function Te(e){if(ve)return ve;const t=(0,be.io)(e,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return t.on("connect_error",e=>{t.io.opts.transports=["polling","websocket"],m.error("connect error",e)}),t.on("connect",async()=>{const{engine:e}=t.io;m.debug("initially connected to",e.transport.name),e.once("upgrade",()=>{m.debug("upgraded",e.transport.name)}),e.once("close",e=>{m.debug("connection closed",e)})}),t.on("error",e=>{m.error("socket errored",e),t.disconnect()}),ve=t,t}function Ae(e,t,n){const r=Te(e),i=xe(t.channelName),a=(0,pe.S)(ye.from(i,"utf8")),s=(0,fe.qb)(a).toString("hex");r.connected?r.emit("v2:check_auth_status",s,{sameIpCheck:!0,allowedOrigin:t.server.allowed_origin}):r.once("connect",()=>{m.debug("connected with socket"),r.emit("v2:check_auth_status",s,{sameIpCheck:!0,allowedOrigin:t.server.allowed_origin})});const o=()=>{r.once("connect",async()=>{Ee.has(t.channelName)&&r.emit("v2:check_auth_status",s,{sameIpCheck:!0,allowedOrigin:t.server.allowed_origin})})},c=()=>{r&&Ee.has(t.channelName)?r.connected||"visible"!==document.visibilityState||o():document.removeEventListener("visibilitychange",c)};return r.on("disconnect",()=>{m.debug("socket disconnected"),Ee.has(t.channelName)&&(m.error("socket disconnected unexpectedly, reconnecting socket"),o())}),r.on(`${s}_success`,async e=>{try{const t=await(0,he.af)(a.toString("hex"),e);m.info(t),n(t)}catch(e){m.error(e)}}),"undefined"!=typeof document&&document.addEventListener("visibilitychange",c),r}function _e(){ve&&ve.disconnect()}function Ce(){return!0}function ke(e,t){t=x(t);const n={channelName:e,uuid:h(),eMIs:new g(t.server.removeTimeout),server:{api_url:t.server.api_url,socket_url:t.server.socket_url,allowed_origin:t.server.allowed_origin},time:y()};return t.server.timeout&&(n.timeout=t.server.timeout),Ae(t.server.socket_url,n,e=>{n.messagesCallback&&e.uuid!==n.uuid&&e.token&&!n.eMIs.has(e.token)&&(n.eMIs.add(e.token),n.messagesCallback(e.data))}),Ee.add(e),n}function Ie(e){Ee.delete(e.channelName)}function Pe(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function Oe(){return 500}const Me=y,Re="simulate",Ne=new Set,Le=5;function De(e){const t={time:y(),name:e,messagesCallback:null};return Ne.add(t),t}function Be(e){Ne.delete(e)}function je(e,t){return new Promise(n=>{setTimeout(()=>{Array.from(Ne).forEach(n=>{n.name===e.name&&n!==e&&n.messagesCallback&&n.time<t.time&&n.messagesCallback(t)}),n()},Le)})}function Ue(e,t){e.messagesCallback=t}function Fe(){return!0}function $e(){return Le}const ze=[a,r,i,s];const He=new Set;let qe=0;class Ke{constructor(e,t){(0,l.A)(this,"id",void 0),(0,l.A)(this,"name",void 0),(0,l.A)(this,"options",void 0),(0,l.A)(this,"method",void 0),(0,l.A)(this,"closed",void 0),(0,l.A)(this,"_addEL",void 0),(0,l.A)(this,"_prepP",void 0),(0,l.A)(this,"_state",void 0),(0,l.A)(this,"_uMP",void 0),(0,l.A)(this,"_iL",void 0),(0,l.A)(this,"_onML",void 0),(0,l.A)(this,"_befC",void 0),this.id=qe++,He.add(this),this.name=e,this.options=x(t||{}),this.method=function(e){let t=[].concat(e.methods||[],ze).filter(Boolean);if(e.type){if("simulate"===e.type)return o;const n=t.find(t=>t.type===e.type);if(n)return n;throw new Error(`method-type ${e.type} not found`)}e.webWorkerSupport||(t=t.filter(e=>"idb"!==e.type));const n=t.find(t=>t.canBeUsed(e));if(n)return n;throw new Error(`No useable method found in ${JSON.stringify(ze.map(e=>e.type))}`)}(this.options),this.closed=!1,this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){const t=e.method.create(e.name,e.options);if((n=t)&&"function"==typeof n.then){const n=t;e._prepP=n,n.then(t=>(e._state=t,t)).catch(e=>{throw e})}else e._state=t;var n}(this)}get type(){return this.method.type}get isClosed(){return this.closed}set onmessage(e){const t={time:this.method.microSeconds(),fn:e};Ye(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,Ge(this,"message",t)):this._onML=null}postMessage(e){if(this.closed)throw new Error(`BroadcastChannel.postMessage(): Cannot post message after channel has closed ${JSON.stringify(e)}`);return We(this,"message",e)}postInternal(e){return We(this,"internal",e)}addEventListener(e,t){Ge(this,e,{time:this.method.microSeconds(),fn:t})}removeEventListener(e,t){Ye(this,e,this._addEL[e].find(e=>e.fn===t))}close(){if(this.closed)return Promise.resolve();He.delete(this),this.closed=!0;const e=this._prepP?this._prepP:f;return this._onML=null,this._addEL.message=[],e.then(()=>Promise.all(Array.from(this._uMP))).then(()=>Promise.all(this._befC.map(e=>e()))).then(()=>this.method.close?this.method.close(this._state):f)}}function We(e,t,n){const r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:f).then(()=>{const t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch(()=>{}).then(()=>e._uMP.delete(t)),t})}function Ve(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Ge(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&Ve(e)){const t=t=>{e._addEL[t.type].forEach(n=>{(t.time>=n.time||"server"===e.method.type)&&n.fn(t.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(()=>(e._iL=!0,e.method.onMessage(e._state,t,n),!0)).catch(e=>{throw e}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function Ye(e,t,n){n&&(e._addEL[t]=e._addEL[t].filter(e=>e!==n),function(e){if(e._iL&&!Ve(e)){e._iL=!1;const t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e))}(0,l.A)(Ke,"_pubkey",!0);class Je{constructor(e,t={}){(0,l.A)(this,"name",void 0),(0,l.A)(this,"options",void 0),(0,l.A)(this,"closed",void 0),(0,l.A)(this,"onML",void 0),(0,l.A)(this,"methodPriority",void 0),(0,l.A)(this,"channels",void 0),(0,l.A)(this,"listeners",void 0),(0,l.A)(this,"processedNonces",void 0),(0,l.A)(this,"nonce",void 0),this.name=e,this.options=t,this.closed=!1,this.onML=null,this.methodPriority=[ae,V,we],this.channels=new Map,this.listeners=new Set,this.processedNonces=new Set,this.nonce=0,this.initChannels()}set onmessage(e){this.removeEventListener("message",this.onML),e&&"function"==typeof e?(this.onML=e,this.addEventListener("message",e)):this.onML=null}initChannels(){if(this.options.type===Re&&(this.methodPriority=[Re]),this.methodPriority.forEach(e=>{try{const t=new Ke(this.name,(0,c.A)((0,c.A)({},this.options),{},{type:e}));this.channels.set(e,t),m.debug(`Succeeded to initialize ${e} method in channel ${this.name}`),t.onmessage=e=>this.handleMessage(e)}catch(t){m.warn(`Failed to initialize ${e} method in channel ${this.name}: ${t instanceof Error?t.message:String(t)}`)}}),0===this.channels.size)throw new Error("Failed to initialize any communication method")}allChannels(){return Array.from(this.channels.keys())}hasChannel(e){return this.channels.has(e)}handleMessage(e){if(e&&e.nonce){if(this.processedNonces.has(e.nonce))return;if(this.processedNonces.add(e.nonce),this.processedNonces.size>1e3){const e=Array.from(this.processedNonces).sort()[0];this.processedNonces.delete(e)}this.listeners.forEach(t=>{t(e.message)})}}async postMessage(e){if(this.closed)throw new Error(`AdaptiveBroadcastChannel.postMessage(): Cannot post message after channel has closed ${JSON.stringify(e)}`);const t={nonce:this.generateNonce(),message:e},n=Array.from(this.channels.entries()).map(([e,n])=>n.postMessage(t).catch(t=>{throw m.warn(`Failed to send via ${e}: ${t.message}`),t}));if(!(await Promise.allSettled(n)).some(e=>"fulfilled"===e.status))throw new Error("Failed to send message through any method");return e}generateNonce(){return`${Date.now()}-${this.nonce++}`}addEventListener(e,t){this.listeners.add(t)}removeEventListener(e,t){this.listeners.delete(t)}async close(){if(this.closed)return;this.onML=null;const e=[];for(const t of this.channels.values())e.push(t.close());await Promise.all(e),this.channels.clear(),this.listeners.clear(),this.closed=!0}}},20863:(e,t,n)=>{"use strict";const r=n(39907),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:a},AbortError:s}=n(61150),{Symbol:o}=n(70273),{kIsDestroyed:c,isDestroyed:l,isFinished:u,isServerRequest:d}=n(38104),f=o("kDestroy"),p=o("kConstruct");function h(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function b(e,t,n){let i=!1;function a(t){if(i)return;i=!0;const a=e._readableState,s=e._writableState;h(t,s,a),s&&(s.closed=!0),a&&(a.closed=!0),"function"==typeof n&&n(t),t?r.nextTick(y,e,t):r.nextTick(m,e)}try{e._destroy(t||null,a)}catch(t){a(t)}}function y(e,t){g(e,t),m(e)}function m(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=n&&n.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function g(e,t){const n=e._readableState,r=e._writableState;null!=r&&r.errorEmitted||null!=n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function w(e,t,n){const i=e._readableState,a=e._writableState;if(null!=a&&a.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=a&&a.autoDestroy?e.destroy(t):t&&(t.stack,a&&!a.errored&&(a.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(g,e,t):g(e,t))}function v(e){let t=!1;function n(n){if(t)return void w(e,null!=n?n:new a);t=!0;const i=e._readableState,s=e._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?e.emit(f,n):n?w(e,n,!0):r.nextTick(E,e)}try{e._construct(e=>{r.nextTick(n,e)})}catch(e){r.nextTick(n,e)}}function E(e){e.emit(p)}function x(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function S(e){e.emit("close")}function T(e,t){e.emit("error",t),r.nextTick(S,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(p,t),e.listenerCount(p)>1||r.nextTick(v,e)},destroyer:function(e,t){e&&!l(e)&&(t||u(e)||(t=new s),d(e)?(e.socket=null,e.destroy(t)):x(e)?e.abort():x(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?r.nextTick(T,e,t):r.nextTick(S,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const n=this._readableState,r=this._writableState,a=r||n;return null!=r&&r.destroyed||null!=n&&n.destroyed?("function"==typeof t&&t(),this):(h(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),a.constructed?b(this,e,t):this.once(f,function(n){b(this,i(n,e),t)}),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:w}},21086:(e,t,n)=>{"use strict";n.d(t,{e:()=>d});var r=n(90932),i=n(2247),a=n(49385),s=n(96516),o=n(88615);class c extends o.C{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var l=n(99916),u=n(96023);function d(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!(0,l.WL)(n))continue;const i=(0,l.FO)(n);if(!i)throw new s.s7({signature:n,type:"struct"});const a=i.properties.split(";"),o=[],c=a.length;for(let e=0;e<c;e++){const t=a[e].trim();if(!t)continue;const n=(0,u.Pj)(t,{type:"struct"});o.push(n)}if(!o.length)throw new s.X9({signature:n});t[i.name]=o}const r={},i=Object.entries(t),a=i.length;for(let e=0;e<a;e++){const[n,a]=i[e];r[n]=p(a,t)}return r}const f=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function p(e,t,n=new Set){const s=[],o=e.length;for(let l=0;l<o;l++){const o=e[l];if(r.wj.test(o.type))s.push(o);else{const e=(0,r.Yv)(f,o.type);if(!e?.type)throw new a.nx({abiParameter:o});const{array:l,type:d}=e;if(d in t){if(n.has(d))throw new c({type:d});s.push({...o,type:`tuple${l??""}`,components:p(t[d]??[],t,new Set([...n,d]))})}else{if(!(0,u._o)(d))throw new i.zz({type:d});s.push(o)}}}return s}},21115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},21283:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var r=n(32634),i=n(46702),a=n(89962),s=n(96943),o=n(65846);function c(e){const t=(0,i.J)({abi:[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],data:e}),n=t.args[0],c=t.args[1],l=(0,o.di)(n,0,1),u=(0,o.di)(n,1,2),d=(0,o.di)(n,3,7),f=(0,o.di)(n,7);let p;switch(BigInt(l)){case BigInt(0):p="call";break;case BigInt(1):p="batchcall";break;case BigInt(255):p="delegatecall";break;default:throw new Error("Invalid call type")}const h={type:p,revertOnError:BigInt(u)===BigInt(1),selector:d,context:f};if("batchcall"===h.type){const[e]=(0,r.n)([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],c);return{mode:h,callData:e.map(e=>({to:e.target,value:e.value,data:e.callData}))}}return{mode:h,callData:[{to:(0,a.b)((0,o.di)(c,0,20)),value:BigInt((0,o.di)(c,20,52)),data:(0,s.E)(c)>52?(0,o.di)(c,52):"0x"}]}}},21547:(e,t,n)=>{"use strict";var r=n(41874),i=n(82823),a=n(35615),s=n(85174),o=r.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function l(e,t,n,r,a){s.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=a&&new i(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=r.redMul(a.redInvm()),o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=r.redMul(a.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},a(l,s.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,n,r){return new l(this,e,t,n,r)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=r.redAdd(t),s=a.redSub(n),o=r.redSub(t),c=i.redMul(s),l=a.redMul(o),u=i.redMul(o),d=s.redMul(a);return this.curve.point(c,l,d,u)},l.prototype._projDbl=function(){var e,t,n,r,i,a,s=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(r=this.curve._mulA(o)).redAdd(c);this.zOne?(e=s.redSub(o).redSub(c).redMul(l.redSub(this.curve.two)),t=l.redMul(r.redSub(c)),n=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),a=l.redSub(i).redISub(i),e=s.redSub(o).redISub(c).redMul(a),t=l.redMul(r.redSub(c)),n=l.redMul(a))}else r=o.redAdd(c),i=this.curve._mulC(this.z).redSqr(),a=r.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(r)).redMul(a),t=this.curve._mulC(r).redMul(o.redISub(c)),n=r.redMul(a);return this.curve.point(e,t,n)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),s=i.redSub(r),o=i.redAdd(r),c=n.redAdd(t),l=a.redMul(s),u=o.redMul(c),d=a.redMul(c),f=s.redMul(o);return this.curve.point(l,u,f,d)},l.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),a=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(s),c=i.redSub(o),l=i.redAdd(o),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),d=r.redMul(c).redMul(u);return this.curve.twisted?(t=r.redMul(l).redMul(s.redSub(this.curve._mulA(a))),n=c.redMul(l)):(t=r.redMul(l).redMul(s.redSub(a)),n=this.curve._mulC(c).redMul(l)),this.curve.point(d,t,n)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},l.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},22073:(e,t,n)=>{"use strict";n.d(t,{Fl:()=>d,u:()=>l,ii:()=>u,HT:()=>a,uK:()=>s,Ej:()=>c,di:()=>o});var r=n(63390);n(79423);const i=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e){return e instanceof Uint8Array?s(e):Array.isArray(e)?s(new Uint8Array(e)):e}function s(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=i[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(function(e,t){if(c(e)>t)throw new l({givenSize:c(e),maxSize:t})}(r,t.size),function(e,t){return function(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;const i=e.replace("0x","");if(i.length>2*r)throw new d({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i["right"===n?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:"right",size:t})}(r,t.size)):r}function o(e,t,n,r={}){const{strict:i}=r;!function(e,t){if("number"==typeof t&&t>0&&t>c(e)-1)throw new u({offset:t,position:"start",size:c(e)})}(e,t);const a=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return i&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&c(e)!==n-t)throw new u({offset:n,position:"end",size:c(e)})}(a,t,n),a}function c(e){return Math.ceil((e.length-2)/2)}r.C,r.C,r.C,r.C,r.C;class l extends r.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class u extends r.C{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class d extends r.C{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},22136:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r="1.81.1"},22387:e=>{"use strict";e.exports=Math.min},22634:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(85608),i=function(e,t){return(0,r.sH)(void 0,void 0,void 0,function(){var n;return(0,r.YH)(this,function(i){return n=function(i){return(0,r.sH)(void 0,void 0,void 0,function(){var a;return(0,r.YH)(this,function(r){switch(r.label){case 0:return e(i)?(a=n,[4,t()]):[3,2];case 1:return[2,a.apply(void 0,[r.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})}},23135:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(85608);function i(e,t){var n,i=Object.entries(null!==(n=t.integrations)&&void 0!==n?n:{}).reduce(function(e,t){var n,i,a=t[0],s=t[1];return"object"==typeof s?(0,r.Cl)((0,r.Cl)({},e),((n={})[a]=s,n)):(0,r.Cl)((0,r.Cl)({},e),((i={})[a]={},i))},{});return Object.entries(e.integrations).reduce(function(e,t){var n,a=t[0],s=t[1];return(0,r.Cl)((0,r.Cl)({},e),((n={})[a]=(0,r.Cl)((0,r.Cl)({},s),i[a]),n))},{})}},23299:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>E,__await:()=>g,__awaiter:()=>u,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>_,__createBinding:()=>f,__decorate:()=>o,__exportStar:()=>p,__extends:()=>i,__generator:()=>d,__importDefault:()=>T,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>l,__param:()=>c,__read:()=>b,__rest:()=>s,__spread:()=>y,__spreadArrays:()=>m,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e,t,n,r){var i,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}c((r=r.apply(e,t||[])).next())})}function d(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,l):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function c(e){o("next",e)}function l(e){o("throw",e)}function u(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},23493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14979);r.__exportStar(n(65793),t),r.__exportStar(n(38364),t)},23494:(e,t,n)=>{"use strict";async function r(e){return new Promise(t=>setTimeout(t,e))}n.d(t,{u:()=>r})},23495:(e,t,n)=>{"use strict";n.d(t,{B:()=>l,G:()=>c});var r=n(98158),i=n(5172),a=n.n(i),s=n(70521);function o(e,t){if("[Circular]"!==t)return t}class c extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');(0,s.el)(n)?(super(t,{cause:n.cause}),(0,r.A)(this,"cause",void 0),(0,r.A)(this,"code",void 0),(0,r.A)(this,"data",void 0),function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),"cause")}(this)||Object.assign(this,{cause:n.cause})):(super(t),(0,r.A)(this,"cause",void 0),(0,r.A)(this,"code",void 0),(0,r.A)(this,"data",void 0)),void 0!==n&&(this.data=n),this.code=e,this.cause=null==n?void 0:n.cause}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,(0,s.Qd)(this.data)&&(e.data.cause=(0,s._K)(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return a()(this.serialize(),{replacer:o,space:2})}}class l extends c{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}},23553:(e,t,n)=>{"use strict";n.d(t,{Ah:()=>c,GG:()=>o,SY:()=>l,X7:()=>i,__:()=>s,a3:()=>a,lg:()=>r});const r={EMBEDDED:"embedded",ALL:"all"},i={SOCIAL:"social",PASSWORDLESS:"passwordless",EXTERNAL_WALLETS:"externalWallets"},a={MODAL:"modal",EMBED:"embed"},s="Web3Auth-state",o={MODAL:"modal",NO_MODAL:"no-modal"},c={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},l="https://assets.web3auth.io/v2/wallet-registry.json"},23625:(e,t,n)=>{"use strict";const r=n(14041),i=n(16970),a=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=a,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=r.Stream,e.exports.default=e.exports},23785:(e,t,n)=>{"use strict";function r(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}n.d(t,{q:()=>r})},24128:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},24303:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var i=n(42265);Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return i.Facade}});var a=n(97663);Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return a.Alias}});var s=n(7748);Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return s.Group}});var o=n(65543);Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return o.Identify}});var c=n(85616);Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return c.Track}});var l=n(13644);Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.Page}});var u=n(66871);Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return u.Screen}});var d=n(37532);Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return d.Delete}}),t.default=r(r({},i.Facade),{Alias:a.Alias,Group:s.Group,Identify:o.Identify,Track:c.Track,Page:l.Page,Screen:u.Screen,Delete:d.Delete})},24935:(e,t,n)=>{"use strict";async function r(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}n.d(t,{L:()=>r})},25082:(e,t,n)=>{"use strict";n.d(t,{WJ:()=>h,Vv:()=>b,iR:()=>y});var r=n(69740),i=n(98158),a=(n(23625),n(12794)),s=n(70521),o=n(68711),c=n(5172),l=n.n(c);class u extends Error{constructor({code:e,message:t,data:n}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!t||"string"!=typeof t)throw new Error("message must be string");super(t),(0,i.A)(this,"code",void 0),(0,i.A)(this,"data",void 0),this.code=e,void 0!==n&&(this.data=n)}toString(){return l()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}var d=n(45834),f=n(23495);function p(e){const{message:t="",code:n=-32603,stack:r="Stack trace is not available.",data:i=""}=e,a=parseInt((null==n?void 0:n.toString())||"-32603");return{message:t||(null==e?void 0:e.toString())||(0,s.DW)(a),code:a,stack:r,data:i||t||(null==e?void 0:e.toString())}}class h extends o.C{constructor(){super(),(0,i.A)(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,n){const r=[];let i=null,a=!1;for(const s of n)if([i,a]=await h._runMiddleware(e,t,s,r),a)break;return[i,a,r.reverse()]}static _runMiddleware(e,t,n,r){return new Promise(i=>{const o=e=>{const n=e||t.error;n&&("object"==typeof n&&!1===Object.keys(n).includes("stack")&&(n.stack="Stack trace is not available."),a.R.error(n),t.error=(0,s.Es)(n,{shouldIncludeStack:!0,fallbackError:p(n)})),i([n,!0])},c=e=>{t.error?o(t.error):(e&&("function"!=typeof e&&o(new u({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),r.push(e)),i([null,!1]))};try{n(e,t,c,o)}catch(e){o(e)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((e,n)=>{t(t=>t?n(t):e())})}static _checkForCompletion(e,t,n){if(!("result"in t)&&!("error"in t))throw new u({code:-32603,message:"Response has no error or result for request"});if(!n)throw new u({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,n,r)=>{try{const[i,a,s]=await h._runAllMiddleware(e,t,this._middleware);return a?(await h._runReturnHandlers(s),r(i)):n(async e=>{try{await h._runReturnHandlers(s)}catch(t){return e(t)}return e()})}catch(e){return r(e)}}}async _handleBatch(e,t){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,n):n}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t,n)=>{this._handle(e,(e,r)=>{e&&void 0===r?n(e):t(r)}).catch(n)})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const e=new u({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!=typeof e.method){const n=new u({code:-32603,message:"method must be string"});return t(n,{id:e.id,jsonrpc:"2.0",error:n})}const n=(0,r.A)({},e),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(e){o=e}return o&&(delete i.result,i.error||("object"==typeof o&&!1===Object.keys(o).includes("stack")&&(o.stack="Stack trace is not available."),a.R.error(o),i.error=(0,s.Es)(o,{shouldIncludeStack:!0,fallbackError:p(o)}))),t(o,i)}async _processRequest(e,t){const[n,r,i]=await h._runAllMiddleware(e,t,this._middleware);if(h._checkForCompletion(e,t,r),await h._runReturnHandlers(i),n)throw n}}function b(e){const t=new h;return e.forEach(e=>{t.push(e)}),t.asMiddleware()}function y(e){const t=new o.C;return t.sendAsync=async t=>{const n=await e.handle(t);if(n.error){var r,i;"object"==typeof n.error&&!1===Object.keys(n.error).includes("stack")&&(n.error.stack="Stack trace is not available."),a.R.error(n.error);const e=(0,s.Es)(n.error,{fallbackError:p(n.error),shouldIncludeStack:!0}),t=null!==(r=null==e?void 0:e.code)&&void 0!==r?r:d.f.rpc.internal;throw new f.G(t,null!==(i=null==e?void 0:e.message)&&void 0!==i?i:(0,s.DW)(t),null==e?void 0:e.data)}return n.result},t.send=(t,n)=>{if("function"!=typeof n)throw new Error('Must provide callback to "send" method.');e.handle(t,n)},e.on&&e.on("notification",e=>{t.emit("data",null,e)}),t.request=async e=>{const n=(0,r.A)((0,r.A)({},e),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await t.sendAsync(n)},t}},25471:(e,t,n)=>{"use strict";n.d(t,{CommonPrivateKeyProvider:()=>r.l});var r=n(11221)},25607:(e,t,n)=>{"use strict";n.d(t,{h:()=>s,j:()=>a});const r=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),i=e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)};function a(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return i(e)}catch(t){return e}}function s(e){return"string"==typeof e?e:r(e)||""}},25636:(e,t,n)=>{var r=n(1048),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),a(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},25711:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":"Verifica tu cuenta {{adapter}} para continuar","adapter-loader.message1":"Verifique su {{adapter}}","adapter-loader.message2":"cuenta para continuar","allChains":"Todas las cadenas","connect-wallet.more-wallets":"Ms carteras","connectYourWallet":"Conecte su portefeuille","errors-invalid-email":"Correo electrnico no vlido","errors-invalid-number":"Nmero de telfono no vlido","errors-invalid-number-email":"Correo electrnico o nmero de telfono no vlido","errors-required":"Campo obligatorio","external.all-wallets":"Todas las billeteras","external.back":"Atrs","external.connect":"Conectar con la billetera","external.connect-wallet":"Conectar billetera","external.continue":"Continuar con billetera externa","external.continue-custom":"Continuar con {{wallet}}","external.dont-have":"No tiene","external.get":"Obtener","external.get-wallet":"Obtener billetera","external.install-browser-extension":"Instalar extensin {{browser}}","external.install-mobile-app":"Instalar aplicacin {{os}}","external.installed":"Instalado","external.no-wallets-found":"No se encontraron billeteras","external.qr-code-copied-to-clipboard":"URI copiado al portapapeles","external.search-subtext":"Intenta buscar en su lugar","external.search-text":"No ves tu billetera?","external.search-wallet":"Buscar a travs de {{count}} billeteras...","external.select-chain":"Seleccionar cadena","external.select-chain-description":"Este {{wallet}} billetera soporta varias cadenas. Seleccione la cadena que desea conectar","external.title":"Billetera Externa","external.walletconnect-connect":"Conectar","external.walletconnect-copy":"Escanee el cdigo QR con una billetera compatible con WalletConnect o haga clic en el cdigo QR para copiar el enlace","external.walletconnect-subtitle":"Escanear el cdigo QR con una billetera compatible con WalletConnect","footer.and":"y","footer.by-signing-in":"Al iniciar sesin, acepta nuestros","footer.message":"Inicio de sesin con autocustodia por","footer.message-new":"Autocustodia a travs de","footer.policy":"Poltica de privacidad","footer.privacy-policy":"Poltica de privacidad","footer.terms":"Trminos de Uso","footer.terms-of-service":"Trminos de uso","footer.terms-service":"Trminos de servicio","footer.version":"Versin","getWallet":"Obtener billetera","header-subtitle":"Seleccione una de las siguientes opciones para continuar","header-subtitle-name":"Su billetera {{appName}} con un solo clic","header-subtitle-new":"Su billetera blockchain con un solo clic","header-title":"Iniciar sesin","header-tooltip-desc":"La billetera sirve como una cuenta para almacenar y administrar sus activos digitales en la blockchain.","header-tooltip-title":"Billetera","loader.authorizing-header":"Verificar en {{connector}}","loader.authorizing-message":"Hemos enviado una solicitud a su cartera. Verifique en su cartera para confirmar que posee esta cartera.","loader.authorizing-verify-btn":"Haga clic aqu para verificar","network.add-request":"Este sitio est solicitando agregar una red","network.cancel":"Cancelar","network.from":"De","network.proceed":"Continuar","network.switch-request":"Este sitio est solicitando cambiar de red","network.to":"A","otp.email-subtext":"Por favor, ingrese el cdigo de verificacin de 6 dgitos","otp.email-subtext-example":"que fue enviado a su email {{email}}","otp.email-title":"Verificacin de email","otp.mobile-subtext":"Verificacin OTP","otp.mobile-title":"Verificacin OTP","otp.success":"Ests conectado a tu cuenta!","passkey.add":"Aadir Passkey","passkey.haveExisting":"Tiene un passkey existente?","passkey.learn-more":"Aprende ms","passkey.or":"o","passkey.register-desc":"Con passkeys, puedes verificar tu identidad a travs de tu rostro, huella digital o claves de seguridad.","passkey.register-title":"Registrarse Passkey","passkey.use":"Tengo una Passkey","passwordless.title":"Continuar con {{title}}","popup.phone-body":"Su cdigo de pas se detectar automticamente, pero si est utilizando un nmero de telfono de otro pas, deber ingresar manualmente el cdigo de pas correcto.","popup.phone-header":"Nmero de telfono y cdigo de pas","post-loading.connected":"Ests conectado con tu cuenta","post-loading.something-wrong":"Algo sali mal!","resendCode":"Reenviar cdigo","resendTimer":" Reenviar en {{timer}} segundos","social.continue":"Continuar con","social.continueCustom":"Continuar con {{adapter}}","social.email":"Correo electrnico","social.email-continue":"Continuar con correo electrnico","social.email-new":"nombre@ejemplo.com","social.passwordless-cta":"Continuar","social.passwordless-login":"Acceso","social.passwordless-title":"Email/Telfono","social.phone":"Telfono","social.policy":"No almacenamos ningn dato relacionado con sus inicios de sesin sociales.","social.sign-in":"Iniciar sesin","social.sms":"Mvil","social.sms-continue":"Continuar con mvil","social.sms-invalid-number":"Nmero de telfono invlido","social.sms-placeholder-text":"Por ej.:","social.view-less":"Ver menos","social.view-less-socials":"Ver menos socials","social.view-more":"Ver ms","social.view-more-socials":"Ver ms socials"},"passwordless":{"error-invalid-link":"El enlace o el enlace de verificacin ha expirado","error-invalid-origin":"Algo sali mal, cdigo de error: E002","error-invalid-otp":"OTP no vlido, intente nuevamente","error-invalid-params":"Parmetros faltantes o no vlidos","error-invalid-test-account":"Cuenta de prueba no vlida","error-max-retry-limit-reached":"Has alcanzado el lmite para intentos incorrectos. Reinicie el proceso para completar la verificacin.","error-new-link-generated-heading":"Nuevo enlace de verificacin generado","error-no-mail-generated":"No se gener el correo. Inicie primero el proceso sin contrasea.","error-no-sms-generated":"No se gener OTP. Inicie primero el proceso sin contrasea.","error-otp-expired":"OTP expir","error-plan-limit-reached":"E411. Lmite alcanzado","error-recaptcha-verification-failed":"La verificacin de Captcha ha fallado. Por favor, intntelo de nuevo.","error-sending-sms-failed":"Hubo un error al enviar el SMS. Intntalo de nuevo.","something-wrong-error":"Algo sali mal"}}')},25873:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(86974)},25959:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":"Besttigen Sie Ihr {{adapter}}-Konto, um fortzufahren","adapter-loader.message1":"Besttigen Sie Ihr {{adapter}}","adapter-loader.message2":"Konto fortzusetzen","allChains":"Alle Kettens","connect-wallet.more-wallets":"Mehr Wallets","connectYourWallet":"Ihre Wallet verbinden","errors-invalid-email":"Ungltige E-Mail","errors-invalid-number":"Ungltige Telefonnummer","errors-invalid-number-email":"Ungltige E-Mail-Adresse oder Telefonnummer","errors-required":"Erforderlich","external.all-wallets":"Alle Geldbrsen","external.back":"Zurck","external.connect":"Fahren Sie mit einer Brieftasche fort","external.connect-wallet":"Wallet verbinden","external.continue":"Fahren Sie mit der externen Wallet fort","external.continue-custom":"Fahren Sie mit {{wallet}} fort","external.dont-have":"Haben nicht","external.get":"Erhalten","external.get-wallet":"Wallet erhalten","external.install-browser-extension":"Installieren Sie die {{browser}}-Erweiterung","external.install-mobile-app":"Installieren Sie die {{os}}-App","external.installed":"Installiert","external.no-wallets-found":"Keine Wallets gefunden","external.qr-code-copied-to-clipboard":"URI in die Zwischenablage kopiert","external.search-subtext":"Versuchen Sie es stattdessen mit der Suche","external.search-text":"Sie sehen Ihr Portemonnaie nicht?","external.search-wallet":"Suche durch {{count}} Geldbrsen...","external.select-chain":"Kette auswhlen","external.select-chain-description":"Diese {{wallet}}-Brieftasche untersttzt mehrere Ketten. Whlen Sie die Kette aus, mit der Sie verbinden mchten","external.title":"Externe Geldbrse","external.walletconnect-connect":"Verbinden","external.walletconnect-copy":"Scannen Sie den QR-Code mit einer WalletConnect-kompatiblen Geldbrse oder klicken Sie auf den QR-Code, um den Link zu kopieren","external.walletconnect-subtitle":"Scannen Sie den QR-Code mit einer WalletConnect-kompatiblen Geldbrse","footer.and":"und","footer.by-signing-in":"Durch das Anmelden stimmen Sie unseren","footer.message":"Selbstverwahrungs-Login durch","footer.message-new":"Selbstversorgung ber","footer.policy":"Datenschutzrichtlinie","footer.privacy-policy":"Datenschutzerklrung","footer.terms":"Nutzungsbedingungen","footer.terms-of-service":"Nutzungsbedingungen","footer.terms-service":"Nutzungsbedingungen","footer.version":"Version","getWallet":"Wallet holen","header-subtitle":"Whlen Sie eine der folgenden Optionen aus, um fortzufahren","header-subtitle-name":"Ihre {{appName}}-Brieftasche mit einem Klick","header-subtitle-new":"Ihre Blockchain-Brieftasche mit einem Klick","header-title":"Einloggen","header-tooltip-desc":"Die Brieftasche dient als Konto zum Speichern und Verwalten Ihrer digitalen Assets auf der Blockchain.","header-tooltip-title":"Brieftasche","loader.authorizing-header":"berprfen auf {{connector}}","loader.authorizing-message":"Wir haben eine Anfrage an Ihr Wallet gesendet. berprfen Sie Ihr Wallet, um zu besttigen, dass Sie dieses Wallet besitzen.","loader.authorizing-verify-btn":"Klicken Sie hier, um zu verifizieren","network.add-request":"Diese Website fordert das Hinzufgen eines Netzwerks an","network.cancel":"Abbrechen","network.from":"Von","network.proceed":"Fortfahren","network.switch-request":"Diese Website fordert einen Netzwerkwechsel an","network.to":"Zu","otp.email-subtext":"Bitte geben Sie den 6-stelligen berprfungscodes ein","otp.email-subtext-example":"die an Ihre E-Mail {{email}} gesendet wurde","otp.email-title":"Email-berprfung","otp.mobile-subtext":"Geben Sie den OTP ein, der an","otp.mobile-title":"OTP-berprfung","otp.success":"Sie sind mit Ihrem Konto verbunden!","passkey.add":"Passkey hinzufgen","passkey.haveExisting":"Haben Sie bereits einen passkey?","passkey.learn-more":"Erfahren Sie mehr","passkey.or":"oder","passkey.register-desc":"Mit passkeys knnen Sie Ihre Identitt durch Ihr Gesicht, Ihren Fingerabdruck oder Sicherheitsschlssel berprfen.","passkey.register-title":"Registrieren Sie Passkey","passkey.use":"Ich habe einen passkey","passwordless.title":"Mit {{title}} fortfahren","popup.phone-body":"Ihr Lndercode wird automatisch erkannt, aber wenn Sie eine Telefonnummer aus einem anderen Land verwenden, mssen Sie den richtigen Lndercode manuell eingeben.","popup.phone-header":"Telefonnummer und Lndercode","post-loading.connected":"Sie sind mit Ihrem Konto verbunden","post-loading.something-wrong":"Etwas ist schief gelaufen!","resendCode":"Code erneut senden","resendTimer":" {{timer}} Sekunden spter erneut senden","social.continue":"Weitermachen mit","social.continueCustom":"Fahren Sie mit {{adapter}} fort","social.email":"E-Mail","social.email-continue":"Weitermachen mit E-Mail","social.email-new":"name@example.com","social.passwordless-cta":"Weitermachen","social.passwordless-login":"Anmeldung","social.passwordless-title":"E-Mail/Telefon","social.phone":"Telefon","social.policy":"Wir speichern keine Daten im Zusammenhang mit Ihren Social Logins.","social.sign-in":"Anmelden","social.sms":"Mobiltelefon","social.sms-continue":"Mit Mobilgert fortfahren","social.sms-invalid-number":"Ungltige Telefonnummer","social.sms-placeholder-text":"Z.B.:","social.view-less":"Weniger anzeigen","social.view-less-socials":"Weniger anzeigen socials","social.view-more":"Mehr anzeigen","social.view-more-socials":"Weitere socials anzeigen"},"passwordless":{"error-invalid-link":"Ungltiger berprfungsverbindung oder Link ist abgelaufen","error-invalid-origin":"Etwas ist schief gelaufen, Fehlercode: E002","error-invalid-otp":"Ungltiges OTP, bitte versuchen Sie es erneut","error-invalid-params":"Fehlende oder ungltige Parameter","error-invalid-test-account":"Ungltiges Testkonto","error-max-retry-limit-reached":"Sie haben die Grenze fr falsche Versuche erreicht. Bitte starten Sie den Fluss erneut neu, um die berprfung abzuschlieen.","error-new-link-generated-heading":"Neuer Verifizierungslink","error-no-mail-generated":"Keine Mail generiert. Bitte initiieren Sie zuerst den passwortlosen Fluss.","error-no-sms-generated":"Kein OTP erzeugt. Bitte initiieren Sie zuerst den passwortlosen Fluss.","error-otp-expired":"OTP abgelaufen","error-plan-limit-reached":"E411. Grenze erreicht","error-recaptcha-verification-failed":"Die Captcha-berprfung ist fehlgeschlagen. Bitte versuchen Sie es erneut.","error-sending-sms-failed":"Es gab einen Fehler beim Senden einer SMS. Bitte versuche es erneut.","something-wrong-error":"Etwas ist schief gelaufen"}}')},26031:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r,i=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(t,n){var r,i,a,s=this.constructor,o=e.call(this,t,n)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1,configurable:!0}),r=o,i=s.prototype,(a=Object.setPrototypeOf)?a(r,i):r.__proto__=i,function(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}(o),o}return i(t,e),t}(Error)},26088:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var r=n(65593),i=n(28147),a=n(14928),s=n(6972),o=n(26358),c=n(32073),l=n(1048).Buffer;class u extends s.x{async init(e){}async getIdentityToken(){if(!this.provider||!this.canAuthorize)throw o.T7.notConnectedError();if(!this.coreOptions)throw o.il.invalidParams("Please initialize Web3Auth with valid options");this.status=c.bo.AUTHORIZING,this.emit(c.qM.AUTHORIZING,{connector:this.name});const e=await this.provider.request({method:i.zb.GET_ACCOUNTS});if(e&&e.length>0){const t=(0,a.Ly)(e[0],this.name);if(t&&!(0,a._P)(t))return this.status=c.bo.AUTHORIZED,this.emit(c.qM.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:t}}),{idToken:t};const n=await this.provider.request({method:"eth_chainId"}),s=this.coreOptions.chains.find(e=>e.chainId===n);if(!s)throw o.il.invalidParams("chainConfig is required before authentication");const{chainNamespace:u}=s,d={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(n,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},f=await(0,r.$p)(d,u),p=`0x${l.from(f,"utf8").toString("hex")}`,h=await this.provider.request({method:i.zb.PERSONAL_SIGN,params:[p,e[0]]}),b=await(0,r.lA)(u,h,f,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return(0,a.f7)(e[0],this.name,b),this.status=c.bo.AUTHORIZED,this.emit(c.qM.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:b}}),{idToken:b}}throw o.T7.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&(0,a.L)(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(c.qM.DISCONNECTED)}}},26108:(e,t,n)=>{"use strict";var r=n(528),i=n(70686),a=n(17239)(),s=n(69336),o=n(3468),c=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new o("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new o("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,l=!0;if("length"in e&&s){var u=s(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(l=!1)}return(r||l||!n)&&(a?i(e,"length",t,!0,!0):i(e,"length",t)),e}},26163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCaipAssetId=t.toCaipAssetType=t.toCaipAccountId=t.toCaipChainId=t.parseCaipAssetId=t.parseCaipAssetType=t.parseCaipAccountId=t.parseCaipChainId=t.isCaipAssetId=t.isCaipAssetType=t.isCaipTokenId=t.isCaipAssetReference=t.isCaipAssetNamespace=t.isCaipAccountAddress=t.isCaipAccountId=t.isCaipReference=t.isCaipNamespace=t.isCaipChainId=t.KnownCaipNamespace=t.CaipAssetTypeOrIdStruct=t.CaipAssetIdStruct=t.CaipAssetTypeStruct=t.CaipTokenIdStruct=t.CaipAssetReferenceStruct=t.CaipAssetNamespaceStruct=t.CaipAccountAddressStruct=t.CaipAccountIdStruct=t.CaipReferenceStruct=t.CaipNamespaceStruct=t.CaipChainIdStruct=t.CAIP_ASSET_ID_REGEX=t.CAIP_ASSET_TYPE_REGEX=t.CAIP_TOKEN_ID_REGEX=t.CAIP_ASSET_REFERENCE_REGEX=t.CAIP_ASSET_NAMESPACE_REGEX=t.CAIP_ACCOUNT_ADDRESS_REGEX=t.CAIP_ACCOUNT_ID_REGEX=t.CAIP_REFERENCE_REGEX=t.CAIP_NAMESPACE_REGEX=t.CAIP_CHAIN_ID_REGEX=void 0;const r=n(55770);function i(e){return"string"==typeof e&&t.CAIP_NAMESPACE_REGEX.test(e)}function a(e){return"string"==typeof e&&t.CAIP_REFERENCE_REGEX.test(e)}function s(e){return"string"==typeof e&&t.CAIP_ACCOUNT_ADDRESS_REGEX.test(e)}function o(e){return"string"==typeof e&&t.CAIP_ASSET_NAMESPACE_REGEX.test(e)}function c(e){return"string"==typeof e&&t.CAIP_ASSET_REFERENCE_REGEX.test(e)}function l(e){return"string"==typeof e&&t.CAIP_TOKEN_ID_REGEX.test(e)}var u;t.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,t.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,t.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,t.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,t.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,t.CAIP_ASSET_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,t.CAIP_ASSET_REFERENCE_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,t.CAIP_TOKEN_ID_REGEX=/^[-.%a-zA-Z0-9]{1,78}$/u,t.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,t.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,t.CaipChainIdStruct=(0,r.definePattern)("CaipChainId",t.CAIP_CHAIN_ID_REGEX),t.CaipNamespaceStruct=(0,r.definePattern)("CaipNamespace",t.CAIP_NAMESPACE_REGEX),t.CaipReferenceStruct=(0,r.definePattern)("CaipReference",t.CAIP_REFERENCE_REGEX),t.CaipAccountIdStruct=(0,r.definePattern)("CaipAccountId",t.CAIP_ACCOUNT_ID_REGEX),t.CaipAccountAddressStruct=(0,r.definePattern)("CaipAccountAddress",t.CAIP_ACCOUNT_ADDRESS_REGEX),t.CaipAssetNamespaceStruct=(0,r.definePattern)("CaipAssetNamespace",t.CAIP_ASSET_NAMESPACE_REGEX),t.CaipAssetReferenceStruct=(0,r.definePattern)("CaipAssetReference",t.CAIP_ASSET_REFERENCE_REGEX),t.CaipTokenIdStruct=(0,r.definePattern)("CaipTokenId",t.CAIP_TOKEN_ID_REGEX),t.CaipAssetTypeStruct=(0,r.definePattern)("CaipAssetType",t.CAIP_ASSET_TYPE_REGEX),t.CaipAssetIdStruct=(0,r.definePattern)("CaipAssetId",t.CAIP_ASSET_ID_REGEX),t.CaipAssetTypeOrIdStruct=(0,r.definePattern)("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u),(u=t.KnownCaipNamespace||(t.KnownCaipNamespace={})).Bip122="bip122",u.Solana="solana",u.Tron="tron",u.Eip155="eip155",u.Wallet="wallet",t.isCaipChainId=function(e){return"string"==typeof e&&t.CAIP_CHAIN_ID_REGEX.test(e)},t.isCaipNamespace=i,t.isCaipReference=a,t.isCaipAccountId=function(e){return"string"==typeof e&&t.CAIP_ACCOUNT_ID_REGEX.test(e)},t.isCaipAccountAddress=s,t.isCaipAssetNamespace=o,t.isCaipAssetReference=c,t.isCaipTokenId=l,t.isCaipAssetType=function(e){return"string"==typeof e&&t.CAIP_ASSET_TYPE_REGEX.test(e)},t.isCaipAssetId=function(e){return"string"==typeof e&&t.CAIP_ASSET_ID_REGEX.test(e)},t.parseCaipChainId=function(e){const n=t.CAIP_CHAIN_ID_REGEX.exec(e);if(!n?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:n.groups.namespace,reference:n.groups.reference}},t.parseCaipAccountId=function(e){const n=t.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!n?.groups)throw new Error("Invalid CAIP account ID.");return{address:n.groups.accountAddress,chainId:n.groups.chainId,chain:{namespace:n.groups.namespace,reference:n.groups.reference}}},t.parseCaipAssetType=function(e){const n=t.CAIP_ASSET_TYPE_REGEX.exec(e);if(!n?.groups)throw new Error("Invalid CAIP asset type.");return{assetNamespace:n.groups.assetNamespace,assetReference:n.groups.assetReference,chainId:n.groups.chainId,chain:{namespace:n.groups.namespace,reference:n.groups.reference}}},t.parseCaipAssetId=function(e){const n=t.CAIP_ASSET_ID_REGEX.exec(e);if(!n?.groups)throw new Error("Invalid CAIP asset ID.");return{assetNamespace:n.groups.assetNamespace,assetReference:n.groups.assetReference,tokenId:n.groups.tokenId,chainId:n.groups.chainId,chain:{namespace:n.groups.namespace,reference:n.groups.reference}}},t.toCaipChainId=function(e,n){if(!i(e))throw new Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(n))throw new Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${n}`},t.toCaipAccountId=function(e,n,r){if(!i(e))throw new Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(n))throw new Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);if(!s(r))throw new Error(`Invalid "accountAddress", must match: ${t.CAIP_ACCOUNT_ADDRESS_REGEX.toString()}`);return`${e}:${n}:${r}`},t.toCaipAssetType=function(e,n,r,s){if(!i(e))throw new Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(n))throw new Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);if(!o(r))throw new Error(`Invalid "assetNamespace", must match: ${t.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!c(s))throw new Error(`Invalid "assetReference", must match: ${t.CAIP_ASSET_REFERENCE_REGEX.toString()}`);return`${e}:${n}/${r}:${s}`},t.toCaipAssetId=function(e,n,r,s,u){if(!i(e))throw new Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(n))throw new Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);if(!o(r))throw new Error(`Invalid "assetNamespace", must match: ${t.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!c(s))throw new Error(`Invalid "assetReference", must match: ${t.CAIP_ASSET_REFERENCE_REGEX.toString()}`);if(!l(u))throw new Error(`Invalid "tokenId", must match: ${t.CAIP_TOKEN_ID_REGEX.toString()}`);return`${e}:${n}/${r}:${s}/${u}`}},26299:(e,t,n)=>{"use strict";const r=n(29668);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},26358:(e,t,n)=>{"use strict";n.d(t,{AR:()=>c,T7:()=>o,il:()=>s,t2:()=>l,uF:()=>a});var r=n(98158),i=n(26031);class a extends i.e{constructor(e,t,n){super(t),(0,r.A)(this,"code",void 0),(0,r.A)(this,"message",void 0),(0,r.A)(this,"cause",void 0),this.code=e,this.message=t||"",this.cause=n,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause}}toString(){return JSON.stringify(this.toJSON())}}class s extends a{constructor(e,t,n){super(e,t,n),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,t="",n){return new s(e,`${s.messages[e]}, ${t}`,n)}static notFound(e="",t){return s.fromCode(5001,e,t)}static notInstalled(e="",t){return s.fromCode(5002,e,t)}static notReady(e="",t){return s.fromCode(5003,e,t)}static windowBlocked(e="",t){return s.fromCode(5004,e,t)}static windowClosed(e="",t){return s.fromCode(5005,e,t)}static incompatibleChainNameSpace(e="",t){return s.fromCode(5006,e,t)}static duplicateConnectorError(e="",t){return s.fromCode(5007,e,t)}static invalidProviderConfigError(e="",t){return s.fromCode(5008,e,t)}static providerNotReadyError(e="",t){return s.fromCode(5009,e,t)}static rpcConnectionError(e="",t){return s.fromCode(5010,e,t)}static invalidParams(e="",t){return s.fromCode(5011,e,t)}static invalidNetwork(e="",t){return s.fromCode(5013,e,t)}}(0,r.A)(s,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Connector has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class o extends a{constructor(e,t,n){super(e,t,n),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,t="",n){return new o(e,`${o.messages[e]}. ${t}`,n)}static connectionError(e="",t){return o.fromCode(5111,e,t)}static disconnectionError(e="",t){return o.fromCode(5112,e,t)}static notConnectedError(e="",t){return o.fromCode(5113,e,t)}static popupClosed(e="",t){return o.fromCode(5114,e,t)}static mfaEnabled(e="",t){return o.fromCode(5115,e,t)}static chainConfigNotAdded(e="",t){return o.fromCode(5116,e,t)}static unsupportedOperation(e="",t){return o.fromCode(5117,e,t)}static sfaKeyNotFound(e="",t){return o.fromCode(5118,e,t)}static userNotLoggedIn(e="",t){return o.fromCode(5119,e,t)}}(0,r.A)(o,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useSFAKey flag is enabled but SFA key is not available",5119:"User not logged in."});class c extends a{constructor(e,t,n){super(e,t,n),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,t="",n){return new c(e,`${c.messages[e]}, ${t}`,n)}static chainIDNotAllowed(e="",t){return c.fromCode(5201,e,t)}static operationNotAllowed(e="",t){return c.fromCode(5202,e,t)}static chainNamespaceNotAllowed(e="",t){return c.fromCode(5203,e,t)}}(0,r.A)(c,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class l extends a{constructor(e,t,n){super(e,t,n),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,t="",n){return new c(e,`${l.messages[e]}, ${t}`,n)}static invalidRequestArgs(e="",t){return c.fromCode(5301,e,t)}static invalidRequestMethod(e="",t){return c.fromCode(5302,e,t)}static invalidRequestParams(e="",t){return c.fromCode(5303,e,t)}}(0,r.A)(l,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."})},26556:(e,t)=>{"use strict";function n(e){return e.charCodeAt(0)<=127}var r;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.getKnownPropertyNames=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0,t.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},t.isNullOrUndefined=function(e){return null==e},t.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)},t.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),t.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},(r=t.JsonSize||(t.JsonSize={}))[r.Null=4]="Null",r[r.Comma=1]="Comma",r[r.Wrapper=1]="Wrapper",r[r.True=4]="True",r[r.False=5]="False",r[r.Quote=1]="Quote",r[r.Colon=1]="Colon",r[r.Date=24]="Date",t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},t.isASCII=n,t.calculateStringSize=function(e){return e.split("").reduce((e,t)=>n(t)?e+1:e+2,0)+(e.match(t.ESCAPE_CHARACTERS_REGEXP)??[]).length},t.calculateNumberSize=function(e){return e.toString().length}},26769:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(15939),t)},27237:(e,t)=>{"use strict";var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;t.parse=function(e){var t=[1,5,6,7,11,12],r=n.exec(e),i=0;if(!r)return new Date(e);for(var a,s=0;a=t[s];s++)r[a]=parseInt(r[a],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?i=(new Date).getTimezoneOffset():"Z"!==r[9]&&r[10]&&(i=60*r[11]+r[12],"+"===r[10]&&(i=0-i));var o=Date.UTC(r[1],r[2],r[3],r[5],r[6]+i,r[7],r[8]);return new Date(o)},t.is=function(e,t){return"string"==typeof e&&(!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&n.test(e)}},27250:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,a=7*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,o){o=o||{};var c,l,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return o*a;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===u&&isFinite(e))return o.long?(c=e,(l=Math.abs(c))>=i?s(c,l,i,"day"):l>=r?s(c,l,r,"hour"):l>=n?s(c,l,n,"minute"):l>=t?s(c,l,t,"second"):c+" ms"):function(e){var a=Math.abs(e);return a>=i?Math.round(e/i)+"d":a>=r?Math.round(e/r)+"h":a>=n?Math.round(e/n)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},27438:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,B:()=>i});var r=n(37663);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new r.d_(e.type);return`${e.name}(${a(e.inputs,{includeName:t})})`}function a(e,{includeName:t=!1}={}){return e?e.map(e=>function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${a(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t})).join(t?", ":","):""}},27685:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(49385),i=n(99916),a=n(21086),s=n(96023);function o(e){const t=[];if("string"==typeof e){const n=(0,s.NV)(e),r=n.length;for(let e=0;e<r;e++)t.push((0,s.Pj)(n[e],{modifiers:i.Dv}))}else{const n=(0,a.e)(e),r=e.length;for(let a=0;a<r;a++){const r=e[a];if((0,i.WL)(r))continue;const o=(0,s.NV)(r),c=o.length;for(let e=0;e<c;e++)t.push((0,s.Pj)(o[e],{modifiers:i.Dv,structs:n}))}}if(0===t.length)throw new r.A9({params:e});return t}},27699:(e,t,n)=>{"use strict";var r,i=n(39907),a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(l,{createFinalURL:()=>T,createPathBasedClient:()=>m,createQuerySerializer:()=>E,default:()=>p,defaultBodySerializer:()=>S,defaultPathSerializer:()=>x,mergeHeaders:()=>A,randomID:()=>f,removeTrailingSlash:()=>_,serializeArrayParam:()=>v,serializeObjectParam:()=>w,serializePrimitiveParam:()=>g,wrapAsPathBasedClient:()=>y}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of o(t))c.call(e,n)||void 0===n||a(e,n,{get:()=>t[n],enumerable:!(r=s(t,n))||r.enumerable});return e})(a({},"__esModule",{value:!0}),r));var u=/\{[^{}]+\}/g,d=()=>"object"==typeof i&&Number.parseInt(i?.versions?.node?.substring(0,2))>=18&&i.versions.undici;function f(){return Math.random().toString(36).slice(2,11)}function p(e){let{baseUrl:t="",Request:n=globalThis.Request,fetch:r=globalThis.fetch,querySerializer:i,bodySerializer:a,headers:s,requestInitExt:o,...c}={...e};o=d()?o:void 0,t=_(t);const l=[];async function u(e,u){const{baseUrl:d,fetch:p=r,Request:h=n,headers:b,params:y={},parseAs:m="json",querySerializer:g,bodySerializer:w=a??S,body:v,...x}=u||{};let C=t;d&&(C=_(d)??t);let k="function"==typeof i?i:E(i);g&&(k="function"==typeof g?g:E({..."object"==typeof i?i:{},...g}));const I=void 0===v?void 0:w(v,A(s,b,y.header)),P=A(void 0===I||I instanceof FormData?{}:{"Content-Type":"application/json"},s,b,y.header),O={redirect:"follow",...c,...x,body:I,headers:P};let M,R,N,L=new n(T(e,{baseUrl:C,params:y,querySerializer:k}),O);for(const e in x)e in L||(L[e]=x[e]);if(l.length){M=f(),R=Object.freeze({baseUrl:C,fetch:p,parseAs:m,querySerializer:k,bodySerializer:w});for(const t of l)if(t&&"object"==typeof t&&"function"==typeof t.onRequest){const r=await t.onRequest({request:L,schemaPath:e,params:y,options:R,id:M});if(r){if(!(r instanceof n)){if(r instanceof Response){N=r;break}throw new Error("onRequest: must return new Request() or Response() when modifying the request")}L=r}}}if(!N){try{N=await p(L,o)}catch(t){let n=t;if(l.length)for(let t=l.length-1;t>=0;t--){const r=l[t];if(r&&"object"==typeof r&&"function"==typeof r.onError){const t=await r.onError({request:L,error:n,schemaPath:e,params:y,options:R,id:M});if(t){if(t instanceof Response){n=void 0,N=t;break}if(t instanceof Error){n=t;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(n)throw n}if(l.length)for(let t=l.length-1;t>=0;t--){const n=l[t];if(n&&"object"==typeof n&&"function"==typeof n.onResponse){const t=await n.onResponse({request:L,response:N,schemaPath:e,params:y,options:R,id:M});if(t){if(!(t instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");N=t}}}}if(204===N.status||"HEAD"===L.method||"0"===N.headers.get("Content-Length"))return N.ok?{data:void 0,response:N}:{error:void 0,response:N};if(N.ok)return"stream"===m?{data:N.body,response:N}:{data:await N[m](),response:N};let D=await N.text();try{D=JSON.parse(D)}catch{}return{error:D,response:N}}return{request:(e,t,n)=>u(t,{...n,method:e.toUpperCase()}),GET:(e,t)=>u(e,{...t,method:"GET"}),PUT:(e,t)=>u(e,{...t,method:"PUT"}),POST:(e,t)=>u(e,{...t,method:"POST"}),DELETE:(e,t)=>u(e,{...t,method:"DELETE"}),OPTIONS:(e,t)=>u(e,{...t,method:"OPTIONS"}),HEAD:(e,t)=>u(e,{...t,method:"HEAD"}),PATCH:(e,t)=>u(e,{...t,method:"PATCH"}),TRACE:(e,t)=>u(e,{...t,method:"TRACE"}),use(...e){for(const t of e)if(t){if("object"!=typeof t||!("onRequest"in t||"onResponse"in t||"onError"in t))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");l.push(t)}},eject(...e){for(const t of e){const e=l.indexOf(t);-1!==e&&l.splice(e,1)}}}}var h=class{constructor(e,t){this.client=e,this.url=t}GET=e=>this.client.GET(this.url,e);PUT=e=>this.client.PUT(this.url,e);POST=e=>this.client.POST(this.url,e);DELETE=e=>this.client.DELETE(this.url,e);OPTIONS=e=>this.client.OPTIONS(this.url,e);HEAD=e=>this.client.HEAD(this.url,e);PATCH=e=>this.client.PATCH(this.url,e);TRACE=e=>this.client.TRACE(this.url,e)},b=class{constructor(){this.client=null}get(e,t){const n=new h(e,t);return this.client[t]=n,n}};function y(e){const t=new b,n=new Proxy(e,t);function r(){}r.prototype=n;const i=new r;return t.client=i,i}function m(e){return y(p(e))}function g(e,t,n){if(null==t)return"";if("object"==typeof t)throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${!0===n?.allowReserved?t:encodeURIComponent(t)}`}function w(e,t,n){if(!t||"object"!=typeof t)return"";const r=[],i={simple:",",label:".",matrix:";"}[n.style]||"&";if("deepObject"!==n.style&&!1===n.explode){for(const e in t)r.push(e,!0===n.allowReserved?t[e]:encodeURIComponent(t[e]));const i=r.join(",");switch(n.style){case"form":return`${e}=${i}`;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return i}}for(const i in t){const a="deepObject"===n.style?`${e}[${i}]`:i;r.push(g(a,t[i],n))}const a=r.join(i);return"label"===n.style||"matrix"===n.style?`${i}${a}`:a}function v(e,t,n){if(!Array.isArray(t))return"";if(!1===n.explode){const r={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",i=(!0===n.allowReserved?t:t.map(e=>encodeURIComponent(e))).join(r);switch(n.style){case"simple":return i;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return`${e}=${i}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",i=[];for(const r of t)"simple"===n.style||"label"===n.style?i.push(!0===n.allowReserved?r:encodeURIComponent(r)):i.push(g(e,r,n));return"label"===n.style||"matrix"===n.style?`${r}${i.join(r)}`:i.join(r)}function E(e){return function(t){const n=[];if(t&&"object"==typeof t)for(const r in t){const i=t[r];if(null!=i)if(Array.isArray(i)){if(0===i.length)continue;n.push(v(r,i,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}))}else"object"!=typeof i?n.push(g(r,i,e)):n.push(w(r,i,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}))}return n.join("&")}}function x(e,t){let n=e;for(const r of e.match(u)??[]){let e=r.substring(1,r.length-1),i=!1,a="simple";if(e.endsWith("*")&&(i=!0,e=e.substring(0,e.length-1)),e.startsWith(".")?(a="label",e=e.substring(1)):e.startsWith(";")&&(a="matrix",e=e.substring(1)),!t||void 0===t[e]||null===t[e])continue;const s=t[e];n=Array.isArray(s)?n.replace(r,v(e,s,{style:a,explode:i})):"object"!=typeof s?"matrix"!==a?n.replace(r,"label"===a?`.${encodeURIComponent(s)}`:encodeURIComponent(s)):n.replace(r,`;${g(e,s)}`):n.replace(r,w(e,s,{style:a,explode:i}))}return n}function S(e,t){return e instanceof FormData?e:t&&"application/x-www-form-urlencoded"===(t.get instanceof Function?t.get("Content-Type")??t.get("content-type"):t["Content-Type"]??t["content-type"])?new URLSearchParams(e).toString():JSON.stringify(e)}function T(e,t){let n=`${t.baseUrl}${e}`;t.params?.path&&(n=x(n,t.params.path));let r=t.querySerializer(t.params.query??{});return r.startsWith("?")&&(r=r.substring(1)),r&&(n+=`?${r}`),n}function A(...e){const t=new Headers;for(const n of e){if(!n||"object"!=typeof n)continue;const e=n instanceof Headers?n.entries():Object.entries(n);for(const[n,r]of e)if(null===r)t.delete(n);else if(Array.isArray(r))for(const e of r)t.append(n,e);else void 0!==r&&t.set(n,r)}return t}function _(e){return e.endsWith("/")?e.substring(0,e.length-1):e}},27891:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,a,s=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),a=i-(n||i);r.diff=a,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return"%";s++;const a=t.formatters[i];if("function"==typeof a){const t=e[s];n=a.call(r,t),e.splice(s,1),s--}return n}),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e,t){let n=0,r=0,i=-1,a=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(i=r,a=n,r++):(n++,r++);else{if(-1===i)return!1;r=i+1,a++,n=a}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const e of n)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const n of t.skips)if(i(e,n))return!1;for(const n of t.names)if(i(e,n))return!0;return!1},t.humanize=n(27250),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},28101:(e,t)=>{"use strict";var n=/\d{13}/;t.is=function(e){return n.test(e)},t.parse=function(e){return e=parseInt(e,10),new Date(e)}},28147:(e,t,n)=>{"use strict";n.d(t,{WH:()=>i,zb:()=>a,zl:()=>r});const r={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},i={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},a={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"}},28470:(e,t,n)=>{"use strict";n.d(t,{G:()=>k});var r=n(69740),i=n(98158),a=n(96063),s=n(19555),o=n(58470),c=n(38903),l=n(30666),u=n(10286),d=n(30184),f=n(39610),p=n(42558),h=n(35682),b=n(11795),y=n(98844),m=n(93493),g=n(50327),w=n(40145),v=n(58501),E=n(35864),x=n(21283),S=n(51503),T=n(34052);const A=(e,{accountAddress:t,version:n,chainId:r})=>{const i=(0,a.KU)({domain:{name:"Nexus",version:n,chainId:r,verifyingContract:t}}),u=(0,s.S)((0,o.h)([{type:"bytes32"},{type:"bytes32"}],[(0,s.S)((0,c.i3)("PersonalSign(bytes prefixed)")),e]));return(0,s.S)((0,l.aP)(["0x1901",i,u]))},_={K1_VALIDATOR_FACTORY_ADDRESS:"0x00000bb19a3579F4D779215dEf97AFbd0e30DB55",K1_VALIDATOR_ADDRESS:"0x00000004171351c442B202678c48D8AB5B321E8f"};var C=n(92336);class k{constructor(e){(0,i.A)(this,"name",C.o0.NEXUS),(0,i.A)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n,i;return async function(e){const{owners:t,client:n,index:r=0n,address:i,version:s,factoryAddress:o=_.K1_VALIDATOR_FACTORY_ADDRESS,validatorAddress:C=_.K1_VALIDATOR_ADDRESS,attesters:k=[],threshold:I=0}=e,P=await(0,T.F)({owner:t[0]}),O={address:e.entryPoint?.address??h.oi,abi:b.qe,version:e.entryPoint?.version??"0.7"};let M,R=i;const N=async()=>M||(M=n.chain?n.chain.id:await(0,v.T)(n,g.T,"getChainId")({}),M);return(0,y.q)({client:n,entryPoint:O,getFactoryArgs:async()=>({factory:o,factoryData:(0,u.p)({abi:[{name:"createAccount",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"createAccount",args:[P.address,r,k.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),I]})}),getAddress:async()=>R||(R=await(0,w.J)(n,{address:o,abi:[{name:"computeAccountAddress",type:"function",stateMutability:"view",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"computeAccountAddress",args:[P.address,r,k.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),I]}),R),async getNonce(e){const t=(e?.key??0n)%16777215n,r=(0,l.xW)([(0,c.nj)(t,{size:3}),"0x00",C]),i=await this.getAddress();return(0,E.p)(n,{address:i,entryPointAddress:O.address,key:BigInt(r)})},encodeCalls:async e=>(0,S.m)({mode:{type:e.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e}),decodeCalls:async e=>(0,x.w)(e).callData,getStubSignature:async()=>`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${C.substring(2).padEnd(40,"0")}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`,async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){const t=A((0,d.A)(e),{version:s,accountAddress:await this.getAddress(),chainId:await N()}),n=await P.signMessage({message:{raw:t}});return(0,f.P)(["address","bytes"],[C,n])},async signTypedData(e){const{message:t,primaryType:n,types:r,domain:i}=e,o={EIP712Domain:(0,a.H4)({domain:i}),...r};(0,a.$$)({domain:i,message:t,primaryType:n,types:o});const c=(0,p.Zh)({message:t,primaryType:n,types:o,domain:i}),l=A(c,{version:s,accountAddress:await this.getAddress(),chainId:await N()}),u=await P.signMessage({message:{raw:l}});return(0,f.P)(["address","bytes"],[C,u])},async signUserOperation(e){const{chainId:t=await N(),...n}=e;if(!t)throw new Error("Chain id not found");const r=(0,m.Z)({userOperation:{...n,sender:n.sender??await this.getAddress(),signature:"0x"},entryPointAddress:O.address,entryPointVersion:O.version,chainId:t});return await P.signMessage({message:{raw:r}})}})}((0,r.A)((0,r.A)((0,r.A)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||h.oi,version:(null===(n=this.options)||void 0===n||null===(n=n.entryPoint)||void 0===n?void 0:n.version)||"0.7"},version:(null===(i=this.options)||void 0===i?void 0:i.version)||"1.0.0"},e),{},{owners:[e.walletClient],client:e.client}))}}},28498:(e,t,n)=>{"use strict";var r=n(26108),i=n(64940),a=n(79903),s=n(62012);e.exports=function(e){var t=a(arguments),n=e.length-(arguments.length-1);return r(t,1+(n>0?n:0),!0)},i?i(e.exports,"apply",{value:s}):e.exports.apply=s},28512:(e,t,n)=>{"use strict";n.d(t,{ajsDestinations:()=>k});var r=n(85608),i=n(24303),a=n(15621),s=n(2880),o=n(13433),c=n(38730),l=n(47565),u=n(71115),d=n(23135),f=n(22634),p=n(71348),h=n(15140),b=n(61290),y=n(74695),m=n(20162);function g(e){return e.toLowerCase().replace(".","").replace(/\s+/g,"-")}function w(e,t){return void 0===t&&(t=!1),t?btoa(e).replace(/=/g,""):void 0}function v(e,t,n,i){return(0,r.sH)(this,void 0,void 0,function(){var a,s,o,c,l,u;return(0,r.YH)(this,function(d){switch(d.label){case 0:a=g(t),s=w(a,i),o=(0,y.YM)(),c="".concat(o,"/integrations/").concat(null!=s?s:a,"/").concat(n,"/").concat(null!=s?s:a,".dynamic.js.gz"),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(0,m.k)(c)];case 2:return d.sent(),function(e,t,n){var i,a;try{var s=(null!==(a=null===(i=null===window||void 0===window?void 0:window.performance)||void 0===i?void 0:i.getEntriesByName(e,"resource"))&&void 0!==a?a:[])[0];s&&t.stats.gauge("legacy_destination_time",Math.round(s.duration),(0,r.fX)([n],s.duration<100?["cached"]:[],!0))}catch(e){}}(c,e,t),[3,4];case 3:throw l=d.sent(),e.stats.gauge("legacy_destination_time",-1,["plugin:".concat(t),"failed"]),l;case 4:return u=window["".concat(a,"Deps")],[4,Promise.all(u.map(function(e){return(0,m.k)(o+e+".gz")}))];case 5:return d.sent(),window["".concat(a,"Loader")](),[2,window["".concat(a,"Integration")]]}})})}var E=n(91576),x=function(e,t){var n,r=t.type,i=t.bundlingStatus,a=t.versionSettings,s="unbundled"!==i&&("browser"===r||(null===(n=null==a?void 0:a.componentTypes)||void 0===n?void 0:n.includes("browser")));return!e.startsWith("Segment")&&"Iterable"!==e&&s},S=function(e,t){var n=!1===t.All&&void 0===t[e];return!1===t[e]||n},T=n(32502),A=n(8986);function _(e,t){return(0,r.sH)(this,void 0,void 0,function(){var n,i=this;return(0,r.YH)(this,function(o){switch(o.label){case 0:return n=[],(0,a.a)()?[2,t]:[4,(0,f._)(function(){return t.length>0&&(0,a.s)()},function(){return(0,r.sH)(i,void 0,void 0,function(){var i;return(0,r.YH)(this,function(r){switch(r.label){case 0:return(i=t.pop())?[4,(0,l.C)(i,e)]:[2];case 1:return r.sent()instanceof s.o||n.push(i),[2]}})})})];case 1:return o.sent(),n.map(function(e){return t.pushWithBackoff(e)}),[2,t]}})})}var C=function(){function e(e,t,n,i,a,s){void 0===i&&(i={});var o=this;this.options={},this.type="destination",this.middleware=[],this.initializePromise=(0,A.u)(),this.flushing=!1,this.name=e,this.version=t,this.settings=(0,r.Cl)({},i),this.disableAutoISOConversion=a.disableAutoISOConversion||!1,this.integrationSource=s,this.settings.type&&"browser"===this.settings.type&&delete this.settings.type,this.initializePromise.promise.then(function(e){return o._initialized=e},function(){}),this.options=a,this.buffer=a.disableClientPersistence?new p.M(4,[]):new h.x(4,"".concat(n,":dest-").concat(e)),this.scheduleFlush()}return e.prototype.isLoaded=function(){return!!this._ready},e.prototype.ready=function(){var e=this;return this.initializePromise.promise.then(function(){var t;return null!==(t=e.onReady)&&void 0!==t?t:Promise.resolve()})},e.prototype.load=function(e,t){var n;return(0,r.sH)(this,void 0,void 0,function(){var i,a,s=this;return(0,r.YH)(this,function(r){switch(r.label){case 0:return this._ready||void 0!==this.onReady?[2]:null===(n=this.integrationSource)||void 0===n?[3,1]:(a=n,[3,3]);case 1:return[4,v(e,this.name,this.version,this.options.obfuscate)];case 2:a=r.sent(),r.label=3;case 3:i=a,this.integration=function(e,t,n){var r;"Integration"in e?(e({user:function(){return n.user()},addIntegration:function(){}}),r=e.Integration):r=e;var i=new r(t);return i.analytics=n,i}(i,this.settings,t),this.onReady=new Promise(function(e){s.integration.once("ready",function(){s._ready=!0,e(!0)})}),this.integration.on("initialize",function(){s.initializePromise.resolve(!0)});try{(0,T.y)(e,{integrationName:this.name,methodName:"initialize",type:"classic"}),this.integration.initialize()}catch(t){throw(0,T.y)(e,{integrationName:this.name,methodName:"initialize",type:"classic",didError:!0}),this.initializePromise.resolve(!1),t}return[2]}})})},e.prototype.unload=function(e,t){return function(e,t,n){return(0,r.sH)(this,void 0,void 0,function(){var i,a,s,o;return(0,r.YH)(this,function(r){return i=(0,y.YM)(),a=g(e),s=w(e,n),o="".concat(i,"/integrations/").concat(null!=s?s:a,"/").concat(t,"/").concat(null!=s?s:a,".dynamic.js.gz"),[2,(0,m.d)(o)]})})}(this.name,this.version,this.options.obfuscate)},e.prototype.addMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.middleware=(e=this.middleware).concat.apply(e,t)},e.prototype.shouldBuffer=function(e){return"page"!==e.event.type&&((0,a.a)()||!0!==this._ready||!0!==this._initialized)},e.prototype.send=function(e,t,n){var i,a;return(0,r.sH)(this,void 0,void 0,function(){var s,c,l,d,f,p;return(0,r.YH)(this,function(h){switch(h.label){case 0:return this.shouldBuffer(e)?(this.buffer.push(e),this.scheduleFlush(),[2,e]):(s=null===(a=null===(i=this.options)||void 0===i?void 0:i.plan)||void 0===a?void 0:a.track,c=e.event.event,s&&c&&"Segment.io"!==this.name&&(l=s[c],(0,u.j)(s,l)?e.updateEvent("integrations",(0,r.Cl)((0,r.Cl)({},e.event.integrations),null==l?void 0:l.integrations)):(e.updateEvent("integrations",(0,r.Cl)((0,r.Cl)({},e.event.integrations),{All:!1,"Segment.io":!0})),e.cancel(new o.d({retry:!1,reason:"Event ".concat(c," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),(null==l?void 0:l.enabled)&&!1===(null==l?void 0:l.integrations[this.name])&&e.cancel(new o.d({retry:!1,reason:"Event ".concat(c," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),[4,(0,b.applyDestinationMiddleware)(this.name,e.event,this.middleware)]);case 1:if(null===(d=h.sent()))return[2,e];f=new t(d,{traverse:!this.disableAutoISOConversion}),(0,T.y)(e,{integrationName:this.name,methodName:n,type:"classic"}),h.label=2;case 2:return h.trys.push([2,5,,6]),this.integration?[4,this.integration.invoke.call(this.integration,n,f)]:[3,4];case 3:h.sent(),h.label=4;case 4:return[3,6];case 5:throw p=h.sent(),(0,T.y)(e,{integrationName:this.name,methodName:n,type:"classic",didError:!0}),p;case 6:return[2,e]}})})},e.prototype.track=function(e){return(0,r.sH)(this,void 0,void 0,function(){return(0,r.YH)(this,function(t){return[2,this.send(e,i.Track,"track")]})})},e.prototype.page=function(e){var t;return(0,r.sH)(this,void 0,void 0,function(){return(0,r.YH)(this,function(n){switch(n.label){case 0:return(null===(t=this.integration)||void 0===t?void 0:t._assumesPageview)&&!this._initialized&&this.integration.initialize(),[4,this.initializePromise.promise];case 1:return n.sent(),[2,this.send(e,i.Page,"page")]}})})},e.prototype.identify=function(e){return(0,r.sH)(this,void 0,void 0,function(){return(0,r.YH)(this,function(t){return[2,this.send(e,i.Identify,"identify")]})})},e.prototype.alias=function(e){return(0,r.sH)(this,void 0,void 0,function(){return(0,r.YH)(this,function(t){return[2,this.send(e,i.Alias,"alias")]})})},e.prototype.group=function(e){return(0,r.sH)(this,void 0,void 0,function(){return(0,r.YH)(this,function(t){return[2,this.send(e,i.Group,"group")]})})},e.prototype.scheduleFlush=function(){var e=this;this.flushing||setTimeout(function(){return(0,r.sH)(e,void 0,void 0,function(){var e;return(0,r.YH)(this,function(t){switch(t.label){case 0:return(0,a.a)()||!0!==this._ready||!0!==this._initialized?(this.scheduleFlush(),[2]):(this.flushing=!0,e=this,[4,_(this,this.buffer)]);case 1:return e.buffer=t.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}})})},5e3*Math.random())},e}();function k(e,t,n,i,a,s){var o,l;if(void 0===n&&(n={}),void 0===i&&(i={}),(0,c.S)())return[];t.plan&&((i=null!=i?i:{}).plan=t.plan);var u=null!==(l=null===(o=t.middlewareSettings)||void 0===o?void 0:o.routingRules)&&void 0!==l?l:[],f=t.integrations,p=i.integrations,h=(0,d.J)(t,null!=i?i:{}),b=null==s?void 0:s.reduce(function(e,t){var n;return(0,r.Cl)((0,r.Cl)({},e),((n={})[function(e){return("Integration"in e?e.Integration:e).prototype.name}(t)]=t,n))},{}),y=new Set((0,r.fX)((0,r.fX)([],Object.keys(f).filter(function(e){return x(e,f[e])}),!0),Object.keys(b||{}).filter(function(e){return(0,E.Qd)(f[e])||(0,E.Qd)(null==p?void 0:p[e])}),!0));return Array.from(y).filter(function(e){return!S(e,n)}).map(function(t){var n=function(e){var t,n,r,i;return null!==(i=null!==(n=null===(t=null==e?void 0:e.versionSettings)||void 0===t?void 0:t.override)&&void 0!==n?n:null===(r=null==e?void 0:e.versionSettings)||void 0===r?void 0:r.version)&&void 0!==i?i:"latest"}(f[t]),r=new C(t,n,e,h[t],i,null==b?void 0:b[t]);return u.filter(function(e){return e.destinationName===t}).length>0&&a&&r.addMiddleware(a),r})}},28794:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var a,s=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),o=n(0,i.length-s.length),c=[],l=0;l<o;l++)c[l]="$"+l;if(a=Function("binder","return function ("+function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=",");return t}(c)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var t=i.apply(this,r(s,arguments));return Object(t)===t?t:this}return i.apply(e,r(s,arguments))}),i.prototype){var u=function(){};u.prototype=i.prototype,a.prototype=new u,u.prototype=null}return a}},28985:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var c,l,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var c=0,l=[],u=o.length;c<u;c++)(o[c].fn!==t||i&&!o[c].once||r&&o[c].context!==r)&&l.push(o[c]);l.length?this._events[a]=1===l.length?l[0]:l:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},29002:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},29110:e=>{"use strict";e.exports=EvalError},29274:(e,t,n)=>{"use strict";n.d(t,{yH:()=>u});var r=n(66077),i=n(96485),a=n(91836),s=n(95068),o=n(38903);function c(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:n})=>{if(66!==t.length)throw new i.NV({size:t.length,targetSize:66,type:"hex"});if(66!==n.length)throw new i.NV({size:n.length,targetSize:66,type:"hex"});return e[t]=n,e},{})}function l(e){const{balance:t,nonce:n,state:r,stateDiff:i,code:s}=e,l={};if(void 0!==s&&(l.code=s),void 0!==t&&(l.balance=(0,o.cK)(t)),void 0!==n&&(l.nonce=(0,o.cK)(n)),void 0!==r&&(l.state=c(r)),void 0!==i){if(l.state)throw new a.ft;l.stateDiff=c(i)}return l}function u(e){if(!e)return;const t={};for(const{address:n,...i}of e){if(!(0,s.P)(n,{strict:!1}))throw new r.M({address:n});if(t[n])throw new a.Hi({address:n});t[n]=l(i)}return t}},29659:(e,t,n)=>{"use strict";n.d(t,{v4:()=>s});for(var r,i=256,a=[];i--;)a[i]=(i+256).toString(16).substring(1);function s(){var e,t=0,n="";if(!r||i+16>256){for(r=Array(t=256);t--;)r[t]=256*Math.random()|0;t=i=0}for(;t<16;t++)e=r[i+t],n+=6==t?a[15&e|64]:8==t?a[63&e|128]:a[e],1&t&&t>1&&t<11&&(n+="-");return i++,n}},29668:(e,t,n)=>{"use strict";const r=/\s+/g;class i{constructor(e,t){if(t=s(t),e instanceof i)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new i(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!m(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&b)|(this.options.loose&&y))+":"+e,n=a.get(t);if(n)return n;const r=this.options.loose,i=r?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(i,P(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],f),c("comparator trim",e),e=e.replace(u[d.TILDETRIM],p),c("tilde trim",e),e=e.replace(u[d.CARETTRIM],h),c("caret trim",e);let s=e.split(" ").map(e=>v(e,this.options)).join(" ").split(/\s+/).map(e=>I(e,this.options));r&&(s=s.filter(e=>(c("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE])))),c("range list",s);const l=new Map,g=s.map(e=>new o(e,this.options));for(const e of g){if(m(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const w=[...l.values()];return a.set(t,w),w}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Range is required");return this.set.some(n=>w(n,t)&&e.set.some(e=>w(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(O(this.set[t],e,this.options))return!0;return!1}}e.exports=i;const a=new(n(80745)),s=n(63846),o=n(29997),c=n(9265),l=n(61253),{safeRe:u,t:d,comparatorTrimReplace:f,tildeTrimReplace:p,caretTrimReplace:h}=n(32169),{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:y}=n(47031),m=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,w=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every(e=>i.intersects(e,t)),i=r.pop();return n},v=(e,t)=>(e=e.replace(u[d.BUILD],""),c("comp",e,t),e=T(e,t),c("caret",e),e=x(e,t),c("tildes",e),e=_(e,t),c("xrange",e),e=k(e,t),c("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{const n=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(n,(t,n,r,i,a)=>{let s;return c("tilde",e,t,n,r,i,a),E(n)?s="":E(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:E(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:a?(c("replaceTilde pr",a),s=`>=${n}.${r}.${i}-${a} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,c("tilde return",s),s})},T=(e,t)=>e.trim().split(/\s+/).map(e=>A(e,t)).join(" "),A=(e,t)=>{c("caret",e,t);const n=t.loose?u[d.CARETLOOSE]:u[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,i,a,s)=>{let o;return c("caret",e,t,n,i,a,s),E(n)?o="":E(i)?o=`>=${n}.0.0${r} <${+n+1}.0.0-0`:E(a)?o="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(c("replaceCaret pr",s),o="0"===n?"0"===i?`>=${n}.${i}.${a}-${s} <${n}.${i}.${+a+1}-0`:`>=${n}.${i}.${a}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${a}-${s} <${+n+1}.0.0-0`):(c("no pr"),o="0"===n?"0"===i?`>=${n}.${i}.${a}${r} <${n}.${i}.${+a+1}-0`:`>=${n}.${i}.${a}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${a} <${+n+1}.0.0-0`),c("caret return",o),o})},_=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();const n=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(n,(n,r,i,a,s,o)=>{c("xRange",e,n,r,i,a,s,o);const l=E(i),u=l||E(a),d=u||E(s),f=d;return"="===r&&f&&(r=""),o=t.includePrerelease?"-0":"",l?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(u&&(a=0),s=0,">"===r?(r=">=",u?(i=+i+1,a=0,s=0):(a=+a+1,s=0)):"<="===r&&(r="<",u?i=+i+1:a=+a+1),"<"===r&&(o="-0"),n=`${r+i}.${a}.${s}${o}`):u?n=`>=${i}.0.0${o} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${a}.0${o} <${i}.${+a+1}.0-0`),c("xRange return",n),n})},k=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),I=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),P=e=>(t,n,r,i,a,s,o,c,l,u,d,f)=>`${n=E(r)?"":E(i)?`>=${r}.0.0${e?"-0":""}`:E(a)?`>=${r}.${i}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=E(l)?"":E(u)?`<${+l+1}.0.0-0`:E(d)?`<${l}.${+u+1}.0-0`:f?`<=${l}.${u}.${d}-${f}`:e?`<${l}.${u}.${+d+1}-0`:`<=${c}`}`.trim(),O=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==o.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},29838:e=>{"use strict";e.exports=Error},29997:(e,t,n)=>{"use strict";const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t=a(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=i;const a=n(63846),{safeRe:s,t:o}=n(32169),c=n(82132),l=n(9265),u=n(61253),d=n(29668)},30036:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>A,DO:()=>s,CC:()=>c,sd:()=>o,Fe:()=>a,Ht:()=>l,My:()=>g,uH:()=>d,Id:()=>T,qj:()=>_,O8:()=>f,aT:()=>E,aY:()=>i,po:()=>C,Ow:()=>p,fd:()=>b,ZJ:()=>S,DH:()=>u,AI:()=>x});const r="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function s(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");a(e.outputLen),a(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function u(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function d(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function f(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function p(e,t){return e<<32-t|e>>>t}function h(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const b=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=h(e[t]);return e},y=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),m=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e){if(s(e),y)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=m[e[n]];return t}const w={_0:48,_9:57,A:65,F:70,a:97,f:102};function v(e){return e>=w._0&&e<=w._9?e-w._0:e>=w.A&&e<=w.F?e-(w.A-10):e>=w.a&&e<=w.f?e-(w.a-10):void 0}function E(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(y)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=v(e.charCodeAt(i)),a=v(e.charCodeAt(i+1));if(void 0===n||void 0===a){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+a}return r}function x(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function S(e){return"string"==typeof e&&(e=x(e)),s(e),e}function T(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];s(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}class A{}function _(e){const t=t=>e().update(S(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function C(e=32){if(r&&"function"==typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));if(r&&"function"==typeof r.randomBytes)return Uint8Array.from(r.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}},30113:(e,t,n)=>{"use strict";n.d(t,{DZ:()=>S,Md:()=>E,a0:()=>T,lY:()=>x});var r=n(49964),i=n(30036);const a=BigInt(0),s=BigInt(1),o=BigInt(2),c=BigInt(7),l=BigInt(256),u=BigInt(113),d=[],f=[],p=[];for(let e=0,t=s,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],d.push(2*(5*r+n)),f.push((e+1)*(e+2)/2%64);let i=a;for(let e=0;e<7;e++)t=(t<<s^(t>>c)*u)%l,t&o&&(i^=s<<(s<<BigInt(e))-s);p.push(i)}const h=(0,r.lD)(p,!0),b=h[0],y=h[1],m=(e,t,n)=>n>32?(0,r.WM)(e,t,n):(0,r.P5)(e,t,n),g=(e,t,n)=>n>32?(0,r.im)(e,t,n):(0,r.B4)(e,t,n);class w extends i.Vw{constructor(e,t,n,r=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=a,(0,i.Fe)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.DH)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.fd)(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,a=n[i],s=n[i+1],o=m(a,s,1)^n[r],c=g(a,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=f[n],a=m(t,i,r),s=g(t,i,r),o=d[n];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=b[r],e[1]^=y[r]}(0,i.uH)(n)}(this.state32,this.rounds),(0,i.fd)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.CC)(this),e=(0,i.ZJ)(e),(0,i.DO)(e);const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const a=Math.min(t-this.pos,r-i);for(let t=0;t<a;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,i.CC)(this,!1),(0,i.DO)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.Ht)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.uH)(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:a}=this;return e||(e=new w(t,n,r,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}const v=(e,t,n)=>(0,i.qj)(()=>new w(t,e,n)),E=(()=>v(1,144,28))(),x=(()=>v(1,136,32))(),S=(()=>v(1,104,48))(),T=(()=>v(1,72,64))()},30183:e=>{"use strict";e.exports={rE:"6.6.1"}},30184:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(19555);const i="Ethereum Signed Message:\n";var a=n(30666),s=n(96943),o=n(38903);function c(e,t){return(0,r.S)(function(e){const t="string"==typeof e?(0,o.i3)(e):"string"==typeof e.raw?e.raw:(0,o.My)(e.raw),n=(0,o.i3)(`${i}${(0,s.E)(t)}`);return(0,a.xW)([n,t])}(e),t)}},30398:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});const r=256;let i,a=r;function s(e=11){if(!i||a+e>2*r){i="",a=0;for(let e=0;e<r;e++)i+=(256+256*Math.random()|0).toString(16).substring(1)}return i.substring(a,a+++e)}},30476:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,R:()=>r});const r=e=>e,i=e=>e},30638:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(46481);function i(e,t={}){const{key:n="custom",methods:i,name:a="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>(0,r.o)({key:n,methods:i,name:a,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}},30666:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(e)}function i(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}n.d(t,{aP:()=>i,xW:()=>r})},30818:(e,t,n)=>{"use strict";n.d(t,{Ao:()=>i,Au:()=>r});const r=65535n,i=2n**256n-1n},30855:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},31085:(e,t,n)=>{"use strict";e.exports=n(61197)},31390:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r="#__bigint";function i(e,t,n){return JSON.stringify(e,(e,n)=>"function"==typeof t?t(e,n):"bigint"==typeof n?n.toString()+r:n,n)}},31415:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r="npm";function i(){return r}},31693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSingle=t.decode=t.encodePacked=t.encodeSingle=t.encode=void 0;const r=n(76728),i=n(19520),a=n(75297);t.encode=(e,t,n,r)=>{try{return(0,a.pack)({types:e,values:t,packed:n,tight:r})}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to encode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}},t.encodeSingle=(e,n)=>(0,t.encode)([e],[n]),t.encodePacked=(e,n,r)=>(0,t.encode)(e,n,!0,r),t.decode=(e,t)=>{const n=(0,r.createBytes)(t);try{return(0,a.unpack)(e,n)}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to decode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}},t.decodeSingle=(e,n)=>{const a=(0,t.decode)([e],n);return(0,r.assert)(1===a.length,new i.ParserError("Decoded value array has unexpected length.")),a[0]}},31721:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});const r=e=>{switch(e.chainId){case"0x65":return"solana:mainnet";case"0x66":return"solana:testnet";case"0x67":return"solana:devnet";default:return null}}},32073:(e,t,n)=>{"use strict";n.d(t,{M8:()=>o,bo:()=>i,qM:()=>a,rp:()=>s});var r=n(69740);const i={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",ERRORED:"errored",AUTHORIZED:"authorized",AUTHORIZING:"authorizing"},a=(0,r.A)((0,r.A)({},i),{},{CONNECTOR_DATA_UPDATED:"connector_data_updated",CACHE_CLEAR:"cache_clear",CONNECTORS_UPDATED:"connectors_updated",MFA_ENABLED:"mfa_enabled",REHYDRATION_ERROR:"rehydration_error"}),s={EXTERNAL:"external",IN_APP:"in_app"},o={CONNECT_ONLY:"connect-only",CONNECT_AND_SIGN:"connect-and-sign"}},32140:e=>{"use strict";e.exports=URIError},32169:(e,t,n)=>{"use strict";const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:a}=n(47031),s=n(9265),o=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],d=t.t={};let f=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",a],[p,i]],b=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=f++;s(e,i,t),d[e]=i,l[i]=t,u[i]=r,o[i]=new RegExp(t,n?"g":void 0),c[i]=new RegExp(r,n?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),b("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${p}+`),b("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),b("FULL",`^${l[d.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),b("LOOSE",`^${l[d.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),b("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),b("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),b("COERCE",`${l[d.COERCEPLAIN]}(?:$|[^\\d])`),b("COERCEFULL",l[d.COERCEPLAIN]+`(?:${l[d.PRERELEASE]})?`+`(?:${l[d.BUILD]})?(?:$|[^\\d])`),b("COERCERTL",l[d.COERCE],!0),b("COERCERTLFULL",l[d.COERCEFULL],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",b("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",b("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},32191:(e,t,n)=>{"use strict";var r=n(70461),i=n(7784);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=a,a.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,a=8;a<this.padLength;a++)r[i++]=0;return r}},32290:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":"{{adapter}} ","adapter-loader.message1":"{{adapter}} ","adapter-loader.message2":"","allChains":"","connect-wallet.more-wallets":"","connectYourWallet":"","errors-invalid-email":"","errors-invalid-number":"","errors-invalid-number-email":"","errors-required":"","external.all-wallets":"","external.back":"","external.connect":"","external.connect-wallet":"","external.continue":"","external.continue-custom":"{{wallet}}","external.dont-have":"","external.get":"","external.get-wallet":"","external.install-browser-extension":"{{browser}} ","external.install-mobile-app":"{{os}}","external.installed":"","external.no-wallets-found":"","external.qr-code-copied-to-clipboard":"URI","external.search-subtext":"","external.search-text":"","external.search-wallet":"{{count}} ...","external.select-chain":"","external.select-chain-description":" {{wallet}} ","external.title":"","external.walletconnect-connect":"","external.walletconnect-copy":"WalletConnect  QR QR ","external.walletconnect-subtitle":"WalletConnectQR","footer.and":"","footer.by-signing-in":"","footer.message":" by","footer.message-new":"","footer.policy":"","footer.privacy-policy":"","footer.terms":"","footer.terms-of-service":"","footer.terms-service":"","footer.version":"","getWallet":"","header-subtitle":"","header-subtitle-name":" {{appName}} ","header-subtitle-new":"","header-title":"","header-tooltip-desc":"","header-tooltip-title":"","loader.authorizing-header":"{{connector}}","loader.authorizing-message":"","loader.authorizing-verify-btn":"","network.add-request":"","network.cancel":"","network.from":"","network.proceed":"","network.switch-request":"","network.to":"","otp.email-subtext":"6","otp.email-subtext-example":"{{email}}","otp.email-title":" ","otp.mobile-subtext":"OTP ","otp.mobile-title":"OTP ","otp.success":"!","passkey.add":"{}","passkey.haveExisting":" passkey ?","passkey.learn-more":"","passkey.or":"","passkey.register-desc":"passkeys  ","passkey.register-title":"Passkey ","passkey.use":"Passkey ","passwordless.title":"{{title}} ","popup.phone-body":"","popup.phone-header":"","post-loading.connected":"","post-loading.something-wrong":"","resendCode":"","resendTimer":" {{timer}} ","social.continue":"","social.continueCustom":"{{adapter}}","social.email":"E","social.email-continue":"","social.email-new":"name@example.com","social.passwordless-cta":"","social.passwordless-login":"","social.passwordless-title":"/","social.phone":"","social.policy":"","social.sign-in":"","social.sms":"","social.sms-continue":"","social.sms-invalid-number":"","social.sms-placeholder-text":":","social.view-less":"","social.view-less-socials":" socials","social.view-more":"","social.view-more-socials":" socials"},"passwordless":{"error-invalid-link":"","error-invalid-origin":", : E002","error-invalid-otp":"OTP","error-invalid-params":"","error-invalid-test-account":"","error-max-retry-limit-reached":"","error-new-link-generated-heading":"","error-no-mail-generated":"","error-no-sms-generated":"OTP","error-otp-expired":"OTP","error-plan-limit-reached":"E411. ","error-recaptcha-verification-failed":"Captcha ","error-sending-sms-failed":"SMS","something-wrong-error":""}}')},32351:(e,t,n)=>{"use strict";const r=n(61253),i=n(29668);e.exports=(e,t,n)=>{let a=null,s=null,o=null;try{o=new i(t,n)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(a&&-1!==s.compare(e)||(a=e,s=new r(a,n)))}),a}},32502:(e,t,n)=>{"use strict";function r(e,t){var n=t.methodName,r=t.integrationName,i=t.type,a=t.didError,s=void 0!==a&&a;e.stats.increment("analytics_js.integration.invoke".concat(s?".error":""),1,["method:".concat(n),"integration_name:".concat(r),"type:".concat(i)])}n.d(t,{y:()=>r})},32586:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(36758),i=n.n(r),a=n(40935),s=n.n(a)()(i());s.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap);"]),s.push([e.id,".w3a-parent-container *, .w3a-parent-container ::before, .w3a-parent-container ::after{\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n.w3a-parent-container ::backdrop{\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n/*\n! tailwindcss v3.4.18 | MIT License | https://tailwindcss.com\n*/\n/*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n.w3a-parent-container *,\n.w3a-parent-container ::before,\n.w3a-parent-container ::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: currentColor; /* 2 */\n}\n.w3a-parent-container ::before,\n.w3a-parent-container ::after {\n  --tw-content: '';\n}\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n.w3a-parent-container html,\n.w3a-parent-container :host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n.w3a-parent-container body {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n.w3a-parent-container hr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n.w3a-parent-container abbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n/*\nRemove the default font size and weight for headings.\n*/\n.w3a-parent-container h1,\n.w3a-parent-container h2,\n.w3a-parent-container h3,\n.w3a-parent-container h4,\n.w3a-parent-container h5,\n.w3a-parent-container h6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n.w3a-parent-container a {\n  color: inherit;\n  text-decoration: inherit;\n}\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n.w3a-parent-container b,\n.w3a-parent-container strong {\n  font-weight: bolder;\n}\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n.w3a-parent-container code,\n.w3a-parent-container kbd,\n.w3a-parent-container samp,\n.w3a-parent-container pre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n/*\nAdd the correct font size in all browsers.\n*/\n.w3a-parent-container small {\n  font-size: 80%;\n}\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n.w3a-parent-container sub,\n.w3a-parent-container sup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n.w3a-parent-container sub {\n  bottom: -0.25em;\n}\n.w3a-parent-container sup {\n  top: -0.5em;\n}\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n.w3a-parent-container table {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n.w3a-parent-container button,\n.w3a-parent-container input,\n.w3a-parent-container optgroup,\n.w3a-parent-container select,\n.w3a-parent-container textarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n.w3a-parent-container button,\n.w3a-parent-container select {\n  text-transform: none;\n}\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n.w3a-parent-container button,\n.w3a-parent-container input:where([type='button']),\n.w3a-parent-container input:where([type='reset']),\n.w3a-parent-container input:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n.w3a-parent-container :-moz-focusring {\n  outline: auto;\n}\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n.w3a-parent-container :-moz-ui-invalid {\n  box-shadow: none;\n}\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n.w3a-parent-container progress {\n  vertical-align: baseline;\n}\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n.w3a-parent-container ::-webkit-inner-spin-button,\n.w3a-parent-container ::-webkit-outer-spin-button {\n  height: auto;\n}\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n.w3a-parent-container [type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n.w3a-parent-container ::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n.w3a-parent-container ::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n/*\nAdd the correct display in Chrome and Safari.\n*/\n.w3a-parent-container summary {\n  display: list-item;\n}\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n.w3a-parent-container blockquote,\n.w3a-parent-container dl,\n.w3a-parent-container dd,\n.w3a-parent-container h1,\n.w3a-parent-container h2,\n.w3a-parent-container h3,\n.w3a-parent-container h4,\n.w3a-parent-container h5,\n.w3a-parent-container h6,\n.w3a-parent-container hr,\n.w3a-parent-container figure,\n.w3a-parent-container p,\n.w3a-parent-container pre {\n  margin: 0;\n}\n.w3a-parent-container fieldset {\n  margin: 0;\n  padding: 0;\n}\n.w3a-parent-container legend {\n  padding: 0;\n}\n.w3a-parent-container ol,\n.w3a-parent-container ul,\n.w3a-parent-container menu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n/*\nReset default styling for dialogs.\n*/\n.w3a-parent-container dialog {\n  padding: 0;\n}\n/*\nPrevent resizing textareas horizontally by default.\n*/\n.w3a-parent-container textarea {\n  resize: vertical;\n}\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n.w3a-parent-container input::placeholder,\n.w3a-parent-container textarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n/*\nSet the default cursor for buttons.\n*/\n.w3a-parent-container button,\n.w3a-parent-container [role=\"button\"] {\n  cursor: pointer;\n}\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n.w3a-parent-container :disabled {\n  cursor: default;\n}\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n.w3a-parent-container img,\n.w3a-parent-container svg,\n.w3a-parent-container video,\n.w3a-parent-container canvas,\n.w3a-parent-container audio,\n.w3a-parent-container iframe,\n.w3a-parent-container embed,\n.w3a-parent-container object {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n.w3a-parent-container img,\n.w3a-parent-container video {\n  max-width: 100%;\n  height: auto;\n}\n/* Make elements with the HTML hidden attribute stay hidden by default */\n.w3a-parent-container [hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n.w3a-parent-container{\n  --app-on-primary: #ffffff;\n  --app-primary-50: #ebf5ff;\n  --app-primary-100: #e1effe;\n  --app-primary-200: #c3ddfd;\n  --app-primary-300: #a4cafe;\n  --app-primary-400: #76a9fa;\n  --app-primary-500: #3f83f8;\n  --app-primary-600: #0346ff;\n  --app-primary-700: #1a56db;\n  --app-primary-800: #1e429f;\n  --app-primary-900: #233876;\n  --app-gray-50: #f9fafb;\n  --app-gray-100: #f3f4f6;\n  --app-gray-200: #e5e7eb;\n  --app-gray-300: #d1d5db;\n  --app-gray-400: #9ca3af;\n  --app-gray-500: #6b7280;\n  --app-gray-600: #4b5563;\n  --app-gray-700: #374151;\n  --app-gray-800: #1f2a37;\n  --app-gray-900: #111928;\n  --app-blue-50: #ebf5ff;\n  --app-blue-100: #e1effe;\n  --app-blue-200: #c3ddfd;\n  --app-blue-300: #a4cafe;\n  --app-blue-400: #76a9fa;\n  --app-blue-500: #3f83f8;\n  --app-blue-600: #0346ff;\n  --app-blue-700: #1a56db;\n  --app-blue-800: #1e429f;\n  --app-blue-900: #233876;\n  --app-red-50: #fdf2f2;\n  --app-red-100: #fde8e8;\n  --app-red-200: #fbd5d5;\n  --app-red-300: #f8b4b4;\n  --app-red-400: #f98080;\n  --app-red-500: #f05252;\n  --app-red-600: #e02424;\n  --app-red-700: #c81e1e;\n  --app-red-800: #9b1c1c;\n  --app-red-900: #771d1d;\n  --app-green-50: #f3faf7;\n  --app-green-100: #def7ec;\n  --app-green-200: #bcf0da;\n  --app-green-300: #84e1bc;\n  --app-green-400: #31c48d;\n  --app-green-500: #0e9f6e;\n  --app-green-600: #057a55;\n  --app-green-700: #046c4e;\n  --app-green-800: #03543f;\n  --app-green-900: #014737;\n  --app-yellow-50: #fdfdea;\n  --app-yellow-100: #fdf6b2;\n  --app-yellow-200: #fce96a;\n  --app-yellow-300: #faca15;\n  --app-yellow-400: #e3a008;\n  --app-yellow-500: #c27803;\n  --app-yellow-600: #9f580a;\n  --app-yellow-700: #8e4b10;\n  --app-yellow-800: #723b13;\n  --app-yellow-900: #633112;\n  --app-success: #30cca4;\n  --app-warning: #fbc94a;\n  --app-error: #fb4a61;\n  --app-info: #d4d4d4;\n  --app-white: #ffffff;\n  --app-black: #000000;\n}\n.w3a-parent-container body {\n    padding: 0px !important;\n    margin: 0px !important;\n    box-sizing: border-box;\n  }\n.w3a-parent-container {\n    font-family: \"Inter\";\n    position: relative;\n  }\n.w3a-parent-container .w3a-parent-container > * {\n    scrollbar-color: #e5e7eb !important;\n  }\n.w3a-parent-container .w3a--social-container {\n    scrollbar-color: #e5e7eb !important;\n    scroll-padding-right: 10px;\n  }\n.w3a-parent-container .w3a--modal-curtain {\n    position: absolute;\n    background-color: transparent;\n    opacity: 0;\n    top: 0;\n    left: 0;\n    right: 0;\n    transition: opacity 50ms ease-in;\n    z-index: 1;\n  }\n.w3a-parent-container .w3a--fixed{\n  position: fixed;\n}\n.w3a-parent-container .w3a--absolute{\n  position: absolute;\n}\n.w3a-parent-container .w3a--relative{\n  position: relative;\n}\n.w3a-parent-container .w3a--inset-0{\n  inset: 0px;\n}\n.w3a-parent-container .w3a--inset-x-4{\n  left: 1rem;\n  right: 1rem;\n}\n.w3a-parent-container .w3a--bottom-2{\n  bottom: 0.5rem;\n}\n.w3a-parent-container .w3a--bottom-4{\n  bottom: 1rem;\n}\n.w3a-parent-container .w3a--bottom-8{\n  bottom: 2rem;\n}\n.w3a-parent-container .w3a--bottom-\\[100\\%\\]{\n  bottom: 100%;\n}\n.w3a-parent-container .w3a--left-0{\n  left: 0px;\n}\n.w3a-parent-container .w3a--left-2{\n  left: 0.5rem;\n}\n.w3a-parent-container .w3a--left-\\[50\\%\\]{\n  left: 50%;\n}\n.w3a-parent-container .w3a--right-4{\n  right: 1rem;\n}\n.w3a-parent-container .w3a--right-6{\n  right: 1.5rem;\n}\n.w3a-parent-container .w3a--top-0{\n  top: 0px;\n}\n.w3a-parent-container .w3a--top-1\\/2{\n  top: 50%;\n}\n.w3a-parent-container .w3a--top-4{\n  top: 1rem;\n}\n.w3a-parent-container .w3a--top-8{\n  top: 2rem;\n}\n.w3a-parent-container .w3a--top-\\[16px\\]{\n  top: 16px;\n}\n.w3a-parent-container .w3a--top-\\[30px\\]{\n  top: 30px;\n}\n.w3a-parent-container .w3a--z-10{\n  z-index: 10;\n}\n.w3a-parent-container .w3a--z-20{\n  z-index: 20;\n}\n.w3a-parent-container .w3a--z-50{\n  z-index: 50;\n}\n.w3a-parent-container .w3a--z-\\[-1\\]{\n  z-index: -1;\n}\n.w3a-parent-container .w3a--z-\\[45\\]{\n  z-index: 45;\n}\n.w3a-parent-container .w3a--z-\\[60\\]{\n  z-index: 60;\n}\n.w3a-parent-container .w3a--mx-auto{\n  margin-left: auto;\n  margin-right: auto;\n}\n.w3a-parent-container .w3a--my-2{\n  margin-top: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n.w3a-parent-container .w3a--my-4{\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n.w3a-parent-container .w3a--my-6{\n  margin-top: 1.5rem;\n  margin-bottom: 1.5rem;\n}\n.w3a-parent-container .-w3a--mt-10{\n  margin-top: -2.5rem;\n}\n.w3a-parent-container .-w3a--mt-2{\n  margin-top: -0.5rem;\n}\n.w3a-parent-container .-w3a--mt-6{\n  margin-top: -1.5rem;\n}\n.w3a-parent-container .w3a--mb-2{\n  margin-bottom: 0.5rem;\n}\n.w3a-parent-container .w3a--ml-0{\n  margin-left: 0px;\n}\n.w3a-parent-container .w3a--ml-2{\n  margin-left: 0.5rem;\n}\n.w3a-parent-container .w3a--ml-4{\n  margin-left: 1rem;\n}\n.w3a-parent-container .w3a--mr-2\\.5{\n  margin-right: 0.625rem;\n}\n.w3a-parent-container .w3a--mr-auto{\n  margin-right: auto;\n}\n.w3a-parent-container .w3a--mt-2{\n  margin-top: 0.5rem;\n}\n.w3a-parent-container .w3a--mt-3{\n  margin-top: 0.75rem;\n}\n.w3a-parent-container .w3a--mt-auto{\n  margin-top: auto;\n}\n.w3a-parent-container .w3a--block{\n  display: block;\n}\n.w3a-parent-container .w3a--flex{\n  display: flex;\n}\n.w3a-parent-container .w3a--inline-flex{\n  display: inline-flex;\n}\n.w3a-parent-container .w3a--grid{\n  display: grid;\n}\n.w3a-parent-container .w3a--contents{\n  display: contents;\n}\n.w3a-parent-container .w3a--hidden{\n  display: none;\n}\n.w3a-parent-container .w3a--size-10{\n  width: 2.5rem;\n  height: 2.5rem;\n}\n.w3a-parent-container .w3a--size-3{\n  width: 0.75rem;\n  height: 0.75rem;\n}\n.w3a-parent-container .w3a--size-5{\n  width: 1.25rem;\n  height: 1.25rem;\n}\n.w3a-parent-container .w3a--size-\\[300px\\]{\n  width: 300px;\n  height: 300px;\n}\n.w3a-parent-container .w3a--size-auto{\n  width: auto;\n  height: auto;\n}\n.w3a-parent-container .w3a--size-full{\n  width: 100%;\n  height: 100%;\n}\n.w3a-parent-container .w3a--h-0{\n  height: 0px;\n}\n.w3a-parent-container .w3a--h-11{\n  height: 2.75rem;\n}\n.w3a-parent-container .w3a--h-12{\n  height: 3rem;\n}\n.w3a-parent-container .w3a--h-9{\n  height: 2.25rem;\n}\n.w3a-parent-container .w3a--h-\\[280px\\]{\n  height: 280px;\n}\n.w3a-parent-container .w3a--h-\\[300px\\]{\n  height: 300px;\n}\n.w3a-parent-container .w3a--h-\\[328px\\]{\n  height: 328px;\n}\n.w3a-parent-container .w3a--h-\\[42px\\]{\n  height: 42px;\n}\n.w3a-parent-container .w3a--h-\\[50px\\]{\n  height: 50px;\n}\n.w3a-parent-container .w3a--h-auto{\n  height: auto;\n}\n.w3a-parent-container .w3a--h-full{\n  height: 100%;\n}\n.w3a-parent-container .w3a--h-px{\n  height: 1px;\n}\n.w3a-parent-container .w3a--h-screen{\n  height: 100vh;\n}\n.w3a-parent-container .w3a--w-0{\n  width: 0px;\n}\n.w3a-parent-container .w3a--w-12{\n  width: 3rem;\n}\n.w3a-parent-container .w3a--w-4\\/5{\n  width: 80%;\n}\n.w3a-parent-container .w3a--w-\\[100px\\]{\n  width: 100px;\n}\n.w3a-parent-container .w3a--w-\\[104px\\]{\n  width: 104px;\n}\n.w3a-parent-container .w3a--w-\\[200px\\]{\n  width: 200px;\n}\n.w3a-parent-container .w3a--w-\\[356px\\]{\n  width: 356px;\n}\n.w3a-parent-container .w3a--w-\\[90\\%\\]{\n  width: 90%;\n}\n.w3a-parent-container .w3a--w-\\[96\\%\\]{\n  width: 96%;\n}\n.w3a-parent-container .w3a--w-auto{\n  width: auto;\n}\n.w3a-parent-container .w3a--w-full{\n  width: 100%;\n}\n.w3a-parent-container .w3a--w-max{\n  width: max-content;\n}\n.w3a-parent-container .w3a--w-screen{\n  width: 100vw;\n}\n.w3a-parent-container .w3a--max-w-\\[180px\\]{\n  max-width: 180px;\n}\n.w3a-parent-container .w3a--flex-1{\n  flex: 1 1 0%;\n}\n.w3a-parent-container .-w3a--translate-x-10{\n  --tw-translate-x: -2.5rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.w3a-parent-container .-w3a--translate-x-6{\n  --tw-translate-x: -1.5rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.w3a-parent-container .-w3a--translate-y-1\\/2{\n  --tw-translate-y: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.w3a-parent-container .w3a--translate-y-0{\n  --tw-translate-y: 0px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.w3a-parent-container .w3a--translate-y-\\[100vh\\]{\n  --tw-translate-y: 100vh;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.w3a-parent-container .w3a--translate-y-full{\n  --tw-translate-y: 100%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes w3a--pulse{\n  50%{\n    opacity: .5;\n  }\n}\n.w3a-parent-container .w3a--animate-pulse{\n  animation: w3a--pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n@keyframes w3a--spin{\n  to{\n    transform: rotate(360deg);\n  }\n}\n.w3a-parent-container .w3a--animate-spin{\n  animation: w3a--spin 1s linear infinite;\n}\n.w3a-parent-container .w3a--cursor-not-allowed{\n  cursor: not-allowed;\n}\n.w3a-parent-container .w3a--cursor-pointer{\n  cursor: pointer;\n}\n.w3a-parent-container .w3a--appearance-none{\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n}\n.w3a-parent-container .w3a--auto-rows-min{\n  grid-auto-rows: min-content;\n}\n.w3a-parent-container .w3a--grid-cols-1{\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n.w3a-parent-container .w3a--grid-cols-2{\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n.w3a-parent-container .w3a--grid-cols-3{\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n}\n.w3a-parent-container .w3a--grid-cols-4{\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n}\n.w3a-parent-container .w3a--flex-col{\n  flex-direction: column;\n}\n.w3a-parent-container .w3a--items-start{\n  align-items: flex-start;\n}\n.w3a-parent-container .w3a--items-end{\n  align-items: flex-end;\n}\n.w3a-parent-container .w3a--items-center{\n  align-items: center;\n}\n.w3a-parent-container .\\!w3a--justify-start{\n  justify-content: flex-start !important;\n}\n.w3a-parent-container .w3a--justify-start{\n  justify-content: flex-start;\n}\n.w3a-parent-container .\\!w3a--justify-center{\n  justify-content: center !important;\n}\n.w3a-parent-container .w3a--justify-center{\n  justify-content: center;\n}\n.w3a-parent-container .\\!w3a--justify-between{\n  justify-content: space-between !important;\n}\n.w3a-parent-container .w3a--justify-between{\n  justify-content: space-between;\n}\n.w3a-parent-container .w3a--justify-items-start{\n  justify-items: start;\n}\n.w3a-parent-container .w3a--gap-2{\n  gap: 0.5rem;\n}\n.w3a-parent-container .w3a--gap-3{\n  gap: 0.75rem;\n}\n.w3a-parent-container .w3a--gap-x-1{\n  -moz-column-gap: 0.25rem;\n       column-gap: 0.25rem;\n}\n.w3a-parent-container .w3a--gap-x-2{\n  -moz-column-gap: 0.5rem;\n       column-gap: 0.5rem;\n}\n.w3a-parent-container .w3a--gap-x-4{\n  -moz-column-gap: 1rem;\n       column-gap: 1rem;\n}\n.w3a-parent-container .w3a--gap-x-6{\n  -moz-column-gap: 1.5rem;\n       column-gap: 1.5rem;\n}\n.w3a-parent-container .w3a--gap-y-1{\n  row-gap: 0.25rem;\n}\n.w3a-parent-container .w3a--gap-y-2{\n  row-gap: 0.5rem;\n}\n.w3a-parent-container .w3a--gap-y-4{\n  row-gap: 1rem;\n}\n.w3a-parent-container .w3a--gap-y-6{\n  row-gap: 1.5rem;\n}\n.w3a-parent-container .w3a--space-x-2 > :not([hidden]) ~ :not([hidden]){\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.w3a-parent-container .w3a--overflow-hidden{\n  overflow: hidden;\n}\n.w3a-parent-container .w3a--overflow-y-auto{\n  overflow-y: auto;\n}\n.w3a-parent-container .w3a--truncate{\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.w3a-parent-container .w3a--rounded{\n  border-radius: 0.25rem;\n}\n.w3a-parent-container .w3a--rounded-2xl{\n  border-radius: 1rem;\n}\n.w3a-parent-container .w3a--rounded-3xl{\n  border-radius: 1.5rem;\n}\n.w3a-parent-container .w3a--rounded-\\[30px\\]{\n  border-radius: 30px;\n}\n.w3a-parent-container .w3a--rounded-full{\n  border-radius: 9999px;\n}\n.w3a-parent-container .w3a--rounded-lg{\n  border-radius: 0.5rem;\n}\n.w3a-parent-container .w3a--rounded-md{\n  border-radius: 0.375rem;\n}\n.w3a-parent-container .w3a--rounded-none{\n  border-radius: 0px;\n}\n.w3a-parent-container .w3a--rounded-xl{\n  border-radius: 0.75rem;\n}\n.w3a-parent-container .w3a--border{\n  border-width: 1px;\n}\n.w3a-parent-container .\\!w3a--border-app-primary-600{\n  border-color: var(--app-primary-600) !important;\n}\n.w3a-parent-container .w3a--border-app-blue-200{\n  border-color: var(--app-blue-200);\n}\n.w3a-parent-container .w3a--border-app-gray-100{\n  border-color: var(--app-gray-100);\n}\n.w3a-parent-container .w3a--border-app-gray-200{\n  border-color: var(--app-gray-200);\n}\n.w3a-parent-container .w3a--border-app-gray-300{\n  border-color: var(--app-gray-300);\n}\n.w3a-parent-container .w3a--border-app-gray-800{\n  border-color: var(--app-gray-800);\n}\n.w3a-parent-container .w3a--border-app-green-200{\n  border-color: var(--app-green-200);\n}\n.w3a-parent-container .w3a--border-app-green-400{\n  border-color: var(--app-green-400);\n}\n.w3a-parent-container .w3a--border-app-red-200{\n  border-color: var(--app-red-200);\n}\n.w3a-parent-container .w3a--border-app-red-600{\n  border-color: var(--app-red-600);\n}\n.w3a-parent-container .w3a--border-app-yellow-200{\n  border-color: var(--app-yellow-200);\n}\n.w3a-parent-container .w3a--border-transparent{\n  border-color: transparent;\n}\n.w3a-parent-container .\\!w3a--bg-app-gray-800{\n  background-color: var(--app-gray-800) !important;\n}\n.w3a-parent-container .w3a--bg-app-blue-100{\n  background-color: var(--app-blue-100);\n}\n.w3a-parent-container .w3a--bg-app-gray-100{\n  background-color: var(--app-gray-100);\n}\n.w3a-parent-container .w3a--bg-app-gray-200{\n  background-color: var(--app-gray-200);\n}\n.w3a-parent-container .w3a--bg-app-gray-400{\n  background-color: var(--app-gray-400);\n}\n.w3a-parent-container .w3a--bg-app-gray-50{\n  background-color: var(--app-gray-50);\n}\n.w3a-parent-container .w3a--bg-app-gray-500{\n  background-color: var(--app-gray-500);\n}\n.w3a-parent-container .w3a--bg-app-gray-800{\n  background-color: var(--app-gray-800);\n}\n.w3a-parent-container .w3a--bg-app-green-100{\n  background-color: var(--app-green-100);\n}\n.w3a-parent-container .w3a--bg-app-light-surface1{\n  background-color: var(--app-white);\n}\n.w3a-parent-container .w3a--bg-app-primary-100{\n  background-color: var(--app-primary-100);\n}\n.w3a-parent-container .w3a--bg-app-red-100{\n  background-color: var(--app-red-100);\n}\n.w3a-parent-container .w3a--bg-app-white{\n  background-color: var(--app-white);\n}\n.w3a-parent-container .w3a--bg-app-yellow-100{\n  background-color: var(--app-yellow-100);\n}\n.w3a-parent-container .w3a--bg-transparent{\n  background-color: transparent;\n}\n.w3a-parent-container .w3a--object-contain{\n  object-fit: contain;\n}\n.w3a-parent-container .w3a--p-0{\n  padding: 0px;\n}\n.w3a-parent-container .w3a--p-2{\n  padding: 0.5rem;\n}\n.w3a-parent-container .w3a--p-3{\n  padding: 0.75rem;\n}\n.w3a-parent-container .w3a--p-4{\n  padding: 1rem;\n}\n.w3a-parent-container .w3a--p-6{\n  padding: 1.5rem;\n}\n.w3a-parent-container .w3a--px-2{\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.w3a-parent-container .w3a--px-2\\.5{\n  padding-left: 0.625rem;\n  padding-right: 0.625rem;\n}\n.w3a-parent-container .w3a--px-4{\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.w3a-parent-container .w3a--px-5{\n  padding-left: 1.25rem;\n  padding-right: 1.25rem;\n}\n.w3a-parent-container .w3a--px-\\[6px\\]{\n  padding-left: 6px;\n  padding-right: 6px;\n}\n.w3a-parent-container .w3a--py-0\\.5{\n  padding-top: 0.125rem;\n  padding-bottom: 0.125rem;\n}\n.w3a-parent-container .w3a--py-1{\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.w3a-parent-container .w3a--py-2{\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.w3a-parent-container .w3a--py-2\\.5{\n  padding-top: 0.625rem;\n  padding-bottom: 0.625rem;\n}\n.w3a-parent-container .w3a--py-3{\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n}\n.w3a-parent-container .w3a--py-6{\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n}\n.w3a-parent-container .w3a--py-\\[3px\\]{\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n.w3a-parent-container .w3a--pl-2{\n  padding-left: 0.5rem;\n}\n.w3a-parent-container .w3a--pl-6{\n  padding-left: 1.5rem;\n}\n.w3a-parent-container .w3a--pr-1\\.5{\n  padding-right: 0.375rem;\n}\n.w3a-parent-container .w3a--pr-2\\.5{\n  padding-right: 0.625rem;\n}\n.w3a-parent-container .w3a--pr-3{\n  padding-right: 0.75rem;\n}\n.w3a-parent-container .w3a--pt-5{\n  padding-top: 1.25rem;\n}\n.w3a-parent-container .w3a--pt-6{\n  padding-top: 1.5rem;\n}\n.w3a-parent-container .w3a--text-left{\n  text-align: left;\n}\n.w3a-parent-container .w3a--text-center{\n  text-align: center;\n}\n.w3a-parent-container .w3a--text-start{\n  text-align: start;\n}\n.w3a-parent-container .w3a--text-3xl{\n  font-size: 1.875rem;\n  line-height: 2.25rem;\n}\n.w3a-parent-container .w3a--text-base{\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n.w3a-parent-container .w3a--text-lg{\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.w3a-parent-container .w3a--text-sm{\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.w3a-parent-container .w3a--text-xl{\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.w3a-parent-container .w3a--text-xs{\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.w3a-parent-container .w3a--font-bold{\n  font-weight: 700;\n}\n.w3a-parent-container .w3a--font-medium{\n  font-weight: 500;\n}\n.w3a-parent-container .w3a--font-normal{\n  font-weight: 400;\n}\n.w3a-parent-container .w3a--font-semibold{\n  font-weight: 600;\n}\n.w3a-parent-container .w3a--uppercase{\n  text-transform: uppercase;\n}\n.w3a-parent-container .w3a--text-app-blue-900{\n  color: var(--app-blue-900);\n}\n.w3a-parent-container .w3a--text-app-gray-100{\n  color: var(--app-gray-100);\n}\n.w3a-parent-container .w3a--text-app-gray-400{\n  color: var(--app-gray-400);\n}\n.w3a-parent-container .w3a--text-app-gray-500{\n  color: var(--app-gray-500);\n}\n.w3a-parent-container .w3a--text-app-gray-700{\n  color: var(--app-gray-700);\n}\n.w3a-parent-container .w3a--text-app-gray-900{\n  color: var(--app-gray-900);\n}\n.w3a-parent-container .w3a--text-app-green-400{\n  color: var(--app-green-400);\n}\n.w3a-parent-container .w3a--text-app-green-500{\n  color: var(--app-green-500);\n}\n.w3a-parent-container .w3a--text-app-green-900{\n  color: var(--app-green-900);\n}\n.w3a-parent-container .w3a--text-app-primary-600{\n  color: var(--app-primary-600);\n}\n.w3a-parent-container .w3a--text-app-primary-800{\n  color: var(--app-primary-800);\n}\n.w3a-parent-container .w3a--text-app-red-400{\n  color: var(--app-red-400);\n}\n.w3a-parent-container .w3a--text-app-red-500{\n  color: var(--app-red-500);\n}\n.w3a-parent-container .w3a--text-app-red-900{\n  color: var(--app-red-900);\n}\n.w3a-parent-container .w3a--text-app-yellow-900{\n  color: var(--app-yellow-900);\n}\n.w3a-parent-container .w3a--opacity-0{\n  opacity: 0;\n}\n.w3a-parent-container .w3a--shadow-2xl{\n  --tw-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);\n  --tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.w3a-parent-container .w3a--shadow-lg{\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.w3a-parent-container .w3a--shadow-xl{\n  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.w3a-parent-container .w3a--outline-none{\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.w3a-parent-container .w3a--transition-all{\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.w3a-parent-container .w3a--transition-opacity{\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.w3a-parent-container .w3a--transition-transform{\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.w3a-parent-container .w3a--delay-100{\n  transition-delay: 100ms;\n}\n.w3a-parent-container .w3a--delay-300{\n  transition-delay: 300ms;\n}\n.w3a-parent-container .w3a--delay-500{\n  transition-delay: 500ms;\n}\n.w3a-parent-container .w3a--delay-700{\n  transition-delay: 700ms;\n}\n.w3a-parent-container .w3a--duration-150{\n  transition-duration: 150ms;\n}\n.w3a-parent-container .w3a--duration-300{\n  transition-duration: 300ms;\n}\n.w3a-parent-container .w3a--duration-500{\n  transition-duration: 500ms;\n}\n.w3a-parent-container .w3a--duration-\\[400ms\\]{\n  transition-duration: 400ms;\n}\n.w3a-parent-container .w3a--ease-in-out{\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n}\n.w3a-parent-container .w3a--ease-out{\n  transition-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.w3a-parent-container .w3a--bottom-sheet-bg{\n  background-color: var(--app-gray-600);\n  opacity: 0.5;\n}\n.w3a-parent-container .w3a--connected-logo{\n  width: 4rem;\n  height: 4rem;\n  color: var(--app-green-500);\n}\n.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){\n  color: var(--app-green-400);\n}\n.w3a-parent-container .w3a--error-logo{\n  height: 4rem;\n  width: 4rem;\n  color: var(--app-red-500);\n}\n.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){\n  color: var(--app-red-400);\n}\n.w3a-parent-container .w3a--btn{\n  display: flex;\n  width: 100%;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  align-items: center;\n  justify-content: center;\n  -moz-column-gap: 0.5rem;\n       column-gap: 0.5rem;\n  border-width: 1px;\n  border-color: var(--app-gray-200);\n  padding-left: 1.25rem;\n  padding-right: 1.25rem;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  font-weight: 400;\n  color: var(--app-gray-700);\n}\n.w3a-parent-container .w3a--btn:hover{\n  --tw-translate-y: 0.5px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  border-color: var(--app-gray-50);\n  background-color: var(--app-gray-50);\n  --tw-shadow: 0px 2px 8px 2px #E5E7EB;\n  --tw-shadow-colored: 0px 2px 8px 2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.w3a-parent-container .w3a--btn:is(.w3a--dark *){\n  border-color: var(--app-gray-500);\n}\n.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){\n  border-color: var(--app-gray-800);\n  background-color: var(--app-gray-800);\n  --tw-shadow: 0px 2px 8px 2px #111928;\n  --tw-shadow-colored: 0px 2px 8px 2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.w3a-parent-container .w3a--input{\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n  -moz-column-gap: 0.5rem;\n       column-gap: 0.5rem;\n  border-width: 1px;\n  border-color: var(--app-gray-200);\n  padding-left: 1.25rem;\n  padding-right: 1.25rem;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n}\n.w3a-parent-container .w3a--input:is(.w3a--dark *){\n  border-color: var(--app-gray-500);\n}\n\n.w3a-parent-container .first-letter\\:w3a--capitalize::first-letter{\n  text-transform: capitalize;\n}\n\n.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n\n.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{\n  color: var(--app-gray-400);\n}\n\n.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{\n  --tw-translate-y: 0.5px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{\n  border-color: var(--app-gray-50);\n}\n\n.w3a-parent-container .hover\\:w3a--border-transparent:hover{\n  border-color: transparent;\n}\n\n.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{\n  background-color: var(--app-gray-100) !important;\n}\n\n.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{\n  background-color: var(--app-gray-200);\n}\n\n.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{\n  color: var(--app-gray-900);\n}\n\n.w3a-parent-container .hover\\:w3a--shadow-light:hover{\n  --tw-shadow: 0px 2px 8px 2px #E5E7EB;\n  --tw-shadow-colored: 0px 2px 8px 2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.w3a-parent-container .focus\\:w3a--outline-none:focus{\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n.w3a-parent-container .active\\:w3a--scale-95:active{\n  --tw-scale-x: .95;\n  --tw-scale-y: .95;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.w3a-parent-container .active\\:w3a--outline-none:active{\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{\n  display: block;\n}\n\n.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{\n  display: none;\n}\n\n.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{\n  --tw-translate-x: 0px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{\n  --tw-translate-x: 1.5rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{\n  opacity: 0;\n}\n\n.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{\n  opacity: 1;\n}\n\n.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{\n  transition-delay: 0s;\n}\n\n.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){\n  display: block;\n}\n\n.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){\n  display: none;\n}\n\n.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){\n  border-width: 1px;\n}\n\n.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){\n  border-color: var(--app-gray-500);\n}\n\n.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){\n  border-color: var(--app-gray-600);\n}\n\n.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){\n  border-color: var(--app-gray-700);\n}\n\n.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){\n  border-color: var(--app-gray-800);\n}\n\n.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){\n  border-color: var(--app-green-500);\n}\n\n.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){\n  border-color: var(--app-primary-400);\n}\n\n.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){\n  border-color: var(--app-primary-500);\n}\n\n.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){\n  border-color: var(--app-red-500);\n}\n\n.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){\n  background-color: var(--app-gray-900);\n}\n\n.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){\n  background-color: var(--app-gray-200);\n}\n\n.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){\n  background-color: var(--app-gray-400);\n}\n\n.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){\n  background-color: var(--app-gray-500);\n}\n\n.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){\n  background-color: var(--app-gray-600);\n}\n\n.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){\n  background-color: var(--app-gray-700);\n}\n\n.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){\n  background-color: var(--app-gray-800);\n}\n\n.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){\n  background-color: transparent;\n}\n\n.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){\n  color: var(--app-gray-200);\n}\n\n.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){\n  color: var(--app-gray-300);\n}\n\n.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){\n  color: var(--app-gray-400);\n}\n\n.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){\n  color: var(--app-gray-500);\n}\n\n.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){\n  color: var(--app-green-400);\n}\n\n.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){\n  color: var(--app-primary-400);\n}\n\n.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){\n  color: var(--app-primary-500);\n}\n\n.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){\n  color: var(--app-red-400);\n}\n\n.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){\n  color: var(--app-white);\n}\n\n.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{\n  color: var(--app-gray-500);\n}\n\n.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){\n  border-color: var(--app-gray-800);\n}\n\n.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){\n  border-color: transparent;\n}\n\n.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){\n  background-color: var(--app-gray-800) !important;\n}\n\n.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){\n  background-color: var(--app-gray-600);\n}\n\n.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){\n  background-color: var(--app-gray-700);\n}\n\n.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){\n  color: var(--app-white);\n}\n\n.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){\n  --tw-shadow: 0px 2px 8px 2px #111928;\n  --tw-shadow-colored: 0px 2px 8px 2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n@media (min-width: 640px){\n  .w3a-parent-container .sm\\:w3a--left-8{\n    left: 2rem;\n  }\n  .w3a-parent-container .sm\\:w3a--right-8{\n    right: 2rem;\n  }\n  .w3a-parent-container .sm\\:w3a--justify-start{\n    justify-content: flex-start;\n  }\n  .w3a-parent-container .sm\\:w3a--justify-end{\n    justify-content: flex-end;\n  }\n  .w3a-parent-container .sm\\:w3a--shadow-lg{\n    --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n    --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  }\n}\n\n@media (min-width: 768px){\n  .w3a-parent-container .md\\:w3a--hidden{\n    display: none;\n  }\n}\n\n@media(min-width:375px){\n  .w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{\n    width: 393px;\n  }\n}\n",""]);const o=s},32634:(e,t,n)=>{"use strict";n.d(t,{n:()=>m});var r=n(37663),i=n(89962),a=n(55441),s=n(96943),o=n(65846),c=n(90958),l=n(85704),u=n(79756),d=n(38903);function f(e,t={}){void 0!==t.size&&(0,u.Sl)(e,{size:t.size});const n=(0,d.My)(e,t);return(0,u.uU)(n,t)}function p(e,t={}){let n=e;if(void 0!==t.size&&((0,u.Sl)(n,{size:t.size}),n=(0,c.B)(n)),n.length>1||n[0]>1)throw new l.xO(n);return Boolean(n[0])}function h(e,t={}){void 0!==t.size&&(0,u.Sl)(e,{size:t.size});const n=(0,d.My)(e,t);return(0,u.ME)(n,t)}var b=n(62421),y=n(58470);function m(e,t){const n="string"==typeof t?(0,b.aT)(t):t,i=(0,a.l)(n);if(0===(0,s.E)(n)&&e.length>0)throw new r.O;if((0,s.E)(t)&&(0,s.E)(t)<32)throw new r.Iy({data:"string"==typeof t?t:(0,d.My)(t),params:e,size:(0,s.E)(t)});let o=0;const c=[];for(let t=0;t<e.length;++t){const n=e[t];i.setPosition(o);const[r,a]=g(i,n,{staticPosition:0});o+=a,c.push(r)}return c}function g(e,t,{staticPosition:n}){const a=(0,y.k)(t.type);if(a){const[r,i]=a;return function(e,t,{length:n,staticPosition:r}){if(!n){const n=r+h(e.readBytes(v)),i=n+w;e.setPosition(n);const a=h(e.readBytes(w)),s=E(t);let o=0;const c=[];for(let n=0;n<a;++n){e.setPosition(i+(s?32*n:o));const[r,a]=g(e,t,{staticPosition:i});o+=a,c.push(r)}return e.setPosition(r+32),[c,32]}if(E(t)){const i=r+h(e.readBytes(v)),a=[];for(let r=0;r<n;++r){e.setPosition(i+32*r);const[n]=g(e,t,{staticPosition:i});a.push(n)}return e.setPosition(r+32),[a,32]}let i=0;const a=[];for(let s=0;s<n;++s){const[n,s]=g(e,t,{staticPosition:r+i});i+=s,a.push(n)}return[a,i]}(e,{...t,type:i},{length:r,staticPosition:n})}if("tuple"===t.type)return function(e,t,{staticPosition:n}){const r=0===t.components.length||t.components.some(({name:e})=>!e),i=r?[]:{};let a=0;if(E(t)){const s=n+h(e.readBytes(v));for(let n=0;n<t.components.length;++n){const o=t.components[n];e.setPosition(s+a);const[c,l]=g(e,o,{staticPosition:s});a+=l,i[r?n:o?.name]=c}return e.setPosition(n+32),[i,32]}for(let s=0;s<t.components.length;++s){const o=t.components[s],[c,l]=g(e,o,{staticPosition:n});i[r?s:o?.name]=c,a+=l}return[i,a]}(e,t,{staticPosition:n});if("address"===t.type)return function(e){const t=e.readBytes(32);return[(0,i.o)((0,d.My)((0,o.A1)(t,-20))),32]}(e);if("bool"===t.type)return function(e){return[p(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const t=h(e.readBytes(32));e.setPosition(n+t);const r=h(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const i=e.readBytes(r);return e.setPosition(n+32),[(0,d.My)(i),32]}return[(0,d.My)(e.readBytes(Number.parseInt(i,10),32)),32]}(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?f(i,{signed:n}):h(i,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=t+h(e.readBytes(32));e.setPosition(n);const r=h(e.readBytes(32));if(0===r)return e.setPosition(t+32),["",32];const i=e.readBytes(r,32),a=function(e,t={}){let n=e;return void 0!==t.size&&((0,u.Sl)(n,{size:t.size}),n=(0,c.B)(n,{dir:"right"})),(new TextDecoder).decode(n)}((0,c.B)(i));return e.setPosition(t+32),[a,32]}(e,{staticPosition:n});throw new r.j(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const w=32,v=32;function E(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(E);const n=(0,y.k)(e.type);return!(!n||!E({...e,type:n[1]}))}},32664:(e,t,n)=>{"use strict";var r=n(25636).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},32720:(e,t,n)=>{var r,i=n(39907),a=n(53358),s=n(71822);try{r=n(99467)}catch(e){}var o=function(){},c=void 0!==i&&/^v?\.0/.test(i.version),l=function(e){return"function"==typeof e},u=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=l(t[t.length-1]||o)&&t.pop()||o;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var i=t.map(function(d,f){var p=f<t.length-1;return function(e,t,n,i){i=a(i);var u=!1;e.on("close",function(){u=!0}),s(e,{readable:t,writable:n},function(e){if(e)return i(e);u=!0,i()});var d=!1;return function(t){if(!u&&!d)return d=!0,function(e){return!!c&&!!r&&(e instanceof(r.ReadStream||o)||e instanceof(r.WriteStream||o))&&l(e.close)}(e)?e.close(o):function(e){return e.setHeader&&l(e.abort)}(e)?e.abort():l(e.destroy)?e.destroy():void i(t||new Error("stream was destroyed"))}}(d,p,f>0,function(t){e||(e=t),t&&i.forEach(u),p||(i.forEach(u),n(e))})});return t.reduce(d)}},32991:(e,t,n)=>{"use strict";n.d(t,{lB:()=>s});const r=new Map,i=new Map;let a=0;function s(e,t,n){const s=++a,o=()=>r.get(e)||[],c=()=>{const t=o();if(!t.some(e=>e.id===s))return;const n=i.get(e);if(1===t.length&&n){const e=n();e instanceof Promise&&e.catch(()=>{})}(()=>{const t=o();r.set(e,t.filter(e=>e.id!==s))})()},l=o();if(r.set(e,[...l,{id:s,fns:t}]),l&&l.length>0)return c;const u={};for(const e in t)u[e]=(...t)=>{const n=o();if(0!==n.length)for(const r of n)r.fns[e]?.(...t)};const d=n(u);return"function"==typeof d&&i.set(e,d),c}},33127:(e,t,n)=>{"use strict";const r=n(39435);e.exports=(e,t,n)=>r(e,t,n)<=0},33237:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":"Vrifiez votre compte {{adapter}} pour continuer","adapter-loader.message1":"Vrifiez votre {{adapter}}","adapter-loader.message2":"compte pour continuer","allChains":"Toutes les chanes","connect-wallet.more-wallets":"Plus de portefeuilles","connectYourWallet":"Connectez votre portefeuille","errors-invalid-email":"E-mail invalide","errors-invalid-number":"Numro de tlphone invalide","errors-invalid-number-email":"Adresse e-mail ou numro de tlphone invalide","errors-required":"Champ obligatoire","external.all-wallets":"Toutes les billeteras","external.back":"Retour","external.connect":"Continuer avec un portefeuille","external.connect-wallet":"Connecter le portefeuille","external.continue":"Continuer avec le portefeuille externe","external.continue-custom":"Continuer avec {{wallet}}","external.dont-have":"N\'avez pas","external.get":"Obtenir","external.get-wallet":"Obtenir un portefeuille","external.installed":"Install","external.no-wallets-found":"Aucun portefeuille trouv","external.qr-code-copied-to-clipboard":"URI copi dans le presse-papiers","external.search-subtext":"Essayez plutt de rechercher","external.search-text":"Vous ne voyez pas votre portefeuille ?","external.search-wallet":"Rechercher parmi {{count}} portefeuilles...","external.select-chain":"Slectionner la chane","external.select-chain-description":"Cette {{wallet}} portefeuille prend en charge plusieurs chanes. Slectionnez la chane que vous souhaitez connecter","external.title":"Portefeuille externe","external.walletconnect-connect":"Se connecter","external.walletconnect-copy":"Scannez le code QR avec un portefeuille compatible WalletConnect ou cliquez sur le code QR pour copier le lien","external.walletconnect-subtitle":"Scannez le code QR avec un portefeuille compatible WalletConnect","footer.and":"et","footer.by-signing-in":"En vous connectant, vous acceptez nos","footer.message":"Connexion en autonomie par","footer.message-new":"Auto-cuir via","footer.policy":"Politique de confidentialit","footer.privacy-policy":"Politique de confidentialit","footer.terms":"Conditions d\'utilisation","footer.terms-of-service":"Conditions d\'utilisation","footer.terms-service":"Conditions d\'utilisation","footer.version":"Version","getWallet":"Obtenir le portefeuille","header-subtitle":"Slectionnez l\'une des options suivantes pour continuer","header-subtitle-name":"Votre portefeuille {{appName}} en un clic","header-subtitle-new":"Votre portefeuille blockchain en un clic","header-title":"Se connecter","header-tooltip-desc":"Le portefeuille sert de compte pour stocker et grer vos actifs numriques sur la blockchain.","header-tooltip-title":"Portefeuille","loader.authorizing-header":"Vrifier sur {{connector}}","loader.authorizing-message":"Nous avons envoy une demande  votre portefeuille. Vrifiez votre portefeuille pour confirmer que vous possdez ce portefeuille.","loader.authorizing-verify-btn":"Cliquez ici pour vrifier","network.add-request":"Ce site demande d\'ajouter un rseau","network.cancel":"Annuler","network.from":"De","network.proceed":"Continuer","network.switch-request":"Ce site demande de changer de rseau","network.to":"","otp.email-subtext":"Veuillez entrer le code de vrification 6 chiffres","otp.email-subtext-example":"qui a t envoy  votre email {{email}}","otp.email-title":"Vrification de l\'email","otp.mobile-subtext":"Entrez le OTP envoy ","otp.mobile-title":"Vrification OTP","otp.success":"Vous tes connect  votre compte!","passkey.add":"Ajouter Passkey","passkey.haveExisting":"Vous disposez dj d\'un passkey?","passkey.learn-more":"Apprendre encore plus","passkey.or":"ou","passkey.register-desc":"Avec passkeys, vous pouvez vrifier votre identit grce  votre visage, vos empreintes digitales ou vos cls de scurit.","passkey.register-title":"Inscrivez-vous Passkey","passkey.use":"J\'ai un passkey","passwordless.title":"Continuer avec {{title}}","popup.phone-body":"Votre code pays sera dtect automatiquement, mais si vous utilisez un numro de tlphone d\'un autre pays, vous devrez saisir manuellement le bon code pays.","popup.phone-header":"Numro de tlphone et code pays","post-loading.connected":"Vous tes connect avec votre compte","post-loading.something-wrong":"Quelque chose s\'est mal pass!","resendCode":"Renvoyer le code","resendTimer":" Renvoyer dans {{timer}} secondes","social.continue":"Continuer avec","social.continueCustom":"Continuer avec {{adapter}}","social.email":"Email","social.email-continue":"Continuer avec l\'email","social.email-new":"nom@exemple.com","social.passwordless-cta":"Continuer","social.passwordless-login":"Se connecter","social.passwordless-title":"Email/Tlphone","social.phone":"Tlphone","social.policy":"Nous ne stockons aucune donne lie  vos connexions sociales.","social.sign-in":"Connexion","social.sms":"Mobile","social.sms-continue":"Continuer avec le mobile","social.sms-invalid-number":"Numro de tlphone invalide","social.sms-placeholder-text":"Par exemple :","social.view-less":"Voir moins","social.view-less-socials":"Voir moins socials","social.view-more":"Voir plus","social.view-more-socials":"Voir plus socials"},"passwordless":{"error-invalid-link":"Lien de vrification invalide ou lien expir","error-invalid-origin":"Quelque chose s\'est mal pass, code d\'erreur: E002","error-invalid-otp":"OTP non valide, veuillez ressayer","error-invalid-params":"Paramtres manquants ou invalides.","error-invalid-test-account":"Compte de test non valide","error-max-retry-limit-reached":"Vous avez atteint la limite pour les tentatives errones. Veuillez redmarrer le flux pour terminer la vrification.","error-new-link-generated-heading":"Nouveau lien de vrification gnr","error-no-mail-generated":"Aucun courrier gnr. Veuillez d\'abord lancer le flux sans mot de passe.","error-no-sms-generated":"Aucun OTP gnr. Veuillez d\'abord lancer le flux sans mot de passe.","error-otp-expired":"OTP expir","error-plan-limit-reached":"E411. Limite atteinte","error-recaptcha-verification-failed":"La vrification Captcha a chou. Veuillez ressayer.","error-sending-sms-failed":"Une erreur s\'est produite lors de l\'envoi d\'un SMS. Veuillez ressayer.","something-wrong-error":"Quelque chose s\'est mal pass"}}')},33322:(e,t,n)=>{"use strict";n.d(t,{schemaFilter:()=>a});var r=n(85608),i=n(71115);function a(e,t){function n(n){var a=e,s=n.event.event;if(a&&s){var o=a[s];if(!(0,i.j)(a,o))return n.updateEvent("integrations",(0,r.Cl)((0,r.Cl)({},n.event.integrations),{All:!1,"Segment.io":!0})),n;var c=function(e,t){var n,r;if(!e||!Object.keys(e))return{};var i=e.integrations?Object.keys(e.integrations).filter(function(t){return!1===e.integrations[t]}):[],a=[];return(null!==(n=t.remotePlugins)&&void 0!==n?n:[]).forEach(function(e){i.forEach(function(t){e.creationName==t&&a.push(e.name)})}),(null!==(r=t.remotePlugins)&&void 0!==r?r:[]).reduce(function(e,t){return t.settings.subscriptions&&a.includes(t.name)&&t.settings.subscriptions.forEach(function(n){return e["".concat(t.name," ").concat(n.partnerAction)]=!1}),e},{})}(o,t);n.updateEvent("integrations",(0,r.Cl)((0,r.Cl)((0,r.Cl)({},n.event.integrations),null==o?void 0:o.integrations),c))}return n}return{name:"Schema Filter",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:n,alias:n,track:n,identify:n,group:n}}},33378:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});const r=(e=>{const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<58;n++){const r=e.charAt(n),i=r.charCodeAt(0);if(255!==t[i])throw new TypeError(`${r} is ambiguous`);t[i]=n}const n=58,r=e.charAt(0),i=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function s(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let a=0,s=0,o=0;for(;e[a]===r;)s++,a++;const c=(e.length-a)*i+1>>>0,l=new Uint8Array(c);for(;e[a];){let r=t[e.charCodeAt(a)];if(255===r)return;let i=0;for(let e=c-1;(0!==r||i<o)&&-1!==e;e--,i++)r+=n*l[e]>>>0,l[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");o=i,a++}let u=c-o;for(;u!==c&&0===l[u];)u++;const d=new Uint8Array(s+(c-u));let f=s;for(;u!==c;)d[f++]=l[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,s=0,o=0;const c=t.length;for(;o!==c&&0===t[o];)o++,i++;const l=(c-o)*a+1>>>0,u=new Uint8Array(l);for(;o!==c;){let e=t[o],r=0;for(let t=l-1;(0!==e||r<s)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");s=r,o++}let d=l-s;for(;d!==l&&0===u[d];)d++;let f=r.repeat(i);for(;d<l;++d)f+=e.charAt(u[d]);return f},decodeUnsafe:s,decode:function(e){const t=s(e);if(t)return t;throw new Error("Non-base58 character")}}})("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},33661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14979);r.__exportStar(n(73298),t),r.__exportStar(n(46950),t)},33851:(e,t,n)=>{"use strict";n.r(t),n.d(t,{form:()=>a,link:()=>i});var r=n(81945);function i(e,t,n,i){var a=this;return e?((e instanceof Element?[e]:"toArray"in e?e.toArray():e).forEach(function(e){e.addEventListener("click",function(s){var o,c,l=t instanceof Function?t(e):t,u=n instanceof Function?n(e):n,d=e.getAttribute("href")||e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("xlink:href")||(null===(o=e.getElementsByTagName("a")[0])||void 0===o?void 0:o.getAttribute("href")),f=(0,r.s2)(a.track(l,u,null!=i?i:{}),null!==(c=a.settings.timeout)&&void 0!==c?c:500);(function(e,t){return!("_blank"!==e.target||!t)})(e,d)||function(e){var t=e;return!!(t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button)}(s)||d&&(s.preventDefault?s.preventDefault():s.returnValue=!1,f.catch(console.error).then(function(){window.location.href=d}).catch(console.error))},!1)}),this):this}function a(e,t,n,i){var a=this;return e?(e instanceof HTMLFormElement&&(e=[e]),e.forEach(function(e){if(!(e instanceof Element))throw new TypeError("Must pass HTMLElement to trackForm/trackSubmit.");var s=function(s){var o;s.preventDefault?s.preventDefault():s.returnValue=!1;var c=t instanceof Function?t(e):t,l=n instanceof Function?n(e):n;(0,r.s2)(a.track(c,l,null!=i?i:{}),null!==(o=a.settings.timeout)&&void 0!==o?o:500).catch(console.error).then(function(){e.submit()}).catch(console.error)},o=window.jQuery||window.Zepto;o?o(e).submit(s):e.addEventListener("submit",s,!1)}),this):this}},33890:(e,t,n)=>{"use strict";n.d(t,{Q2:()=>a,Wv:()=>s,Yd:()=>i,hH:()=>o,t2:()=>r});const r={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},i={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},a=(r.MAINNET,r.TESTNET,r.CYAN,r.AQUA,r.CELESTE,r.AQUA,i.SAPPHIRE_MAINNET,r.CELESTE,i.SAPPHIRE_MAINNET,r.CYAN,i.SAPPHIRE_MAINNET,r.MAINNET,i.SAPPHIRE_MAINNET,r.TESTNET,i.SAPPHIRE_DEVNET,r.MAINNET,r.TESTNET,r.CYAN,r.AQUA,r.CELESTE,{[i.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[i.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[r.MAINNET]:"https://api.web3auth.io/signer-service",[r.TESTNET]:"https://api.web3auth.io/signer-service",[r.CYAN]:"https://api.web3auth.io/signer-polygon-service",[r.AQUA]:"https://api.web3auth.io/signer-polygon-service",[r.CELESTE]:"https://api.web3auth.io/signer-polygon-service"}),s=(r.MAINNET,r.TESTNET,r.CYAN,r.AQUA,r.CELESTE,"https://api.web3auth.io/session-service"),o="https://session.web3auth.io"},34052:(e,t,n)=>{"use strict";n.d(t,{F:()=>u});var r=n(42566),i=n(30638),a=n(66077),s=n(95068);function o(e){if("string"==typeof e){if(!(0,s.P)(e,{strict:!1}))throw new a.M({address:e});return{address:e,type:"json-rpc"}}if(!(0,s.P)(e.address,{strict:!1}))throw new a.M({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}var c=n(96972),l=n(58501);async function u({owner:e,address:t}){if("type"in e&&"local"===e.type)return e;let n;if("request"in e){if(!t)try{[t]=await e.request({method:"eth_requestAccounts"})}catch{[t]=await e.request({method:"eth_accounts"})}if(!t)throw new Error("address is required");n=(0,r.F)({account:t,transport:(0,i.I)(e)})}return n||(n=e),o({address:n.account.address,signMessage:async({message:e})=>n.signMessage({message:e}),signTypedData:async e=>(0,l.T)(n,c.C,"signTypedData")(e),async signTransaction(e){throw new Error("Smart account signer doesn't need to sign transactions")}})}},34202:(e,t,n)=>{const r=n(72694);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,i,a){l[e]=l[e]+l[t]+i,l[r]=s(l[r]^l[e],16),l[n]=l[n]+l[r],l[t]=s(l[t]^l[n],12),l[e]=l[e]+l[t]+a,l[r]=s(l[r]^l[e],8),l[n]=l[n]+l[r],l[t]=s(l[t]^l[n],7)}function s(e,t){return e>>>t^e<<32-t}const o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),u=new Uint32Array(16);function d(e,t){let n=0;for(n=0;n<8;n++)l[n]=e.h[n],l[n+8]=o[n];for(l[12]^=e.t,l[13]^=e.t/4294967296,t&&(l[14]=~l[14]),n=0;n<16;n++)u[n]=i(e.b,4*n);for(n=0;n<10;n++)a(0,4,8,12,u[c[16*n+0]],u[c[16*n+1]]),a(1,5,9,13,u[c[16*n+2]],u[c[16*n+3]]),a(2,6,10,14,u[c[16*n+4]],u[c[16*n+5]]),a(3,7,11,15,u[c[16*n+6]],u[c[16*n+7]]),a(0,5,10,15,u[c[16*n+8]],u[c[16*n+9]]),a(1,6,11,12,u[c[16*n+10]],u[c[16*n+11]]),a(2,7,8,13,u[c[16*n+12]],u[c[16*n+13]]),a(3,4,9,14,u[c[16*n+14]],u[c[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=l[n]^l[n+8]}function f(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(o),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(p(r,t),r.c=64),r}function p(e,t){for(let n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[n]}function h(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;d(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function b(e,t,n){n=n||32,e=r.normalizeInput(e);const i=f(n,t);return p(i,e),h(i)}e.exports={blake2s:b,blake2sHex:function(e,t,n){const i=b(e,t,n);return r.toHex(i)},blake2sInit:f,blake2sUpdate:p,blake2sFinal:h}},34449:(e,t,n)=>{"use strict";n.d(t,{$R:()=>c,dw:()=>s,jg:()=>l,ld:()=>o,m4:()=>a});var r=n(23625),i=n(68711);const a=(e,t,n=!0)=>(r,i)=>{r||i.error?t(r||i.error):!n||Array.isArray(i)?e(i):e(i.result)};function s(){const e={},t=new i.C,n=new r.Duplex({objectMode:!0,read:function(){return!1},write:function(n,r,i){let a;try{n.id?function(t){const n=e[t.id];if(!n)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(n.res,t),setTimeout(n.end)}(n):function(e){t.emit("notification",e)}(n)}catch(e){a=e}i(a)}});return{events:t,middleware:(t,r,i,a)=>{n.push(t),e[t.id]={req:t,res:r,next:i,end:a}},stream:n}}function o(e){return(t,n,r,i)=>{const a=e[t.method];return void 0===a?r():"function"==typeof a?a(t,n,r,i):(n.result=a,i())}}function c(){return(e,t,n,r)=>{const i=e.id,a=Math.random().toString(36).slice(2);e.id=a,t.id=a,n(n=>{e.id=i,t.id=i,n()})}}function l(e){return async(t,n,r,i)=>{let a;const s=new Promise(e=>{a=e});let o=null,c=!1;const l=async()=>{c=!0,r(e=>{o=e,a()}),await s};try{await e(t,n,l),c?(await s,o(null)):i(null)}catch(e){const t=e;o?o(t):i(t)}}}},34617:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(37656),i=n(88681),a=n(37237);function s(e,{docsPath:t,...n}){const s=(()=>{const t=(0,a.l)(e,n);return t instanceof i.RM?e:t})();return new r.zX(s,{docsPath:t,...n})}},34686:(e,t,n)=>{"use strict";const r=n(39435);e.exports=(e,t,n)=>r(e,t,n)<0},34820:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}n.d(t,{J:()=>r})},34873:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});class r extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof r){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof r&&t.cause.docsPath||t.docsPath,a=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${a}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return i(this,e)}}function i(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?i(e.cause,t):t?null:e}},34976:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var r=n(50761),i=n(70895),a=n(38903);async function s(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:s}){const o=await e.request({method:"eth_sendRawTransactionSync",params:s?[t,(0,a.cK)(s)]:[t]},{retryCount:0}),c=(e.chain?.formatters?.transactionReceipt?.format||i.uL)(o);if("reverted"===c.status&&n)throw new r.Sq({receipt:c});return c}},35615:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},35682:(e,t,n)=>{"use strict";n.d(t,{B9:()=>r,oi:()=>i});const r="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",i="0x0000000071727De22E5E9d8BAf0edAc6f37da032"},35743:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.QRCode=void 0;var s=n(18677),o=n(8036),c=n(36422),l=function(e){function t(t){var n=e.call(this,t)||this;return n.canvasRef=c.createRef(),n}return i(t,e),t.prototype.download=function(e,t){if(this.canvasRef.current){var n=void 0;switch(e){case"jpg":n="image/jpeg";break;case"webp":n="image/webp";break;default:n="image/png"}var r=this.canvasRef.current.toDataURL(n,1),i=document.createElement("a");i.download=null!=t?t:"react-qrcode-logo",i.href=r,i.click()}},t.prototype.utf16to8=function(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)(n=e.charCodeAt(t))>=1&&n<=127?r+=e.charAt(t):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|63&n)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|63&n));return r},t.prototype.drawRoundedSquare=function(e,t,n,r,i,a,s,o){o.lineWidth=e,o.fillStyle=i,o.strokeStyle=i,n+=e/2,t+=e/2,r-=e,Array.isArray(a)||(a=[a,a,a,a]);var c=(a=a.map(function(e){return(e=Math.min(e,r/2))<0?0:e}))[0]||0,l=a[1]||0,u=a[2]||0,d=a[3]||0;o.beginPath(),o.moveTo(t+c,n),o.lineTo(t+r-l,n),l&&o.quadraticCurveTo(t+r,n,t+r,n+l),o.lineTo(t+r,n+r-u),u&&o.quadraticCurveTo(t+r,n+r,t+r-u,n+r),o.lineTo(t+d,n+r),d&&o.quadraticCurveTo(t,n+r,t,n+r-d),o.lineTo(t,n+c),c&&o.quadraticCurveTo(t,n,t+c,n),o.closePath(),o.stroke(),s&&o.fill()},t.prototype.drawPositioningPattern=function(e,t,n,r,i,a,s){void 0===s&&(s=[0,0,0,0]);var o,c,l,u,d=Math.ceil(t);"number"==typeof s||Array.isArray(s)?c=o=s:(o=s.outer||0,c=s.inner||0),"string"!=typeof a?(l=a.outer,u=a.inner):(l=a,u=a);var f=r*t+n,p=i*t+n,h=7*t;this.drawRoundedSquare(d,p,f,h,l,o,!1,e),h=3*t,f+=2*t,p+=2*t,this.drawRoundedSquare(d,p,f,h,u,c,!0,e)},t.prototype.isInPositioninZone=function(e,t,n){return n.some(function(n){return t>=n.row&&t<=n.row+7&&e>=n.col&&e<=n.col+7})},t.prototype.transformPixelLengthIntoNumberOfCells=function(e,t){return e/t},t.prototype.isCoordinateInImage=function(e,t,n,r,i,a,s,o){if(o){var c=this.transformPixelLengthIntoNumberOfCells(i,s),l=this.transformPixelLengthIntoNumberOfCells(a,s),u=this.transformPixelLengthIntoNumberOfCells(n,s)-1,d=this.transformPixelLengthIntoNumberOfCells(r,s)-1;return t>=c-2&&t<=c+u+2&&e>=l-2&&e<=l+d+2}return!1},t.prototype.shouldComponentUpdate=function(e){return!s(this.props,e)},t.prototype.componentDidMount=function(){this.update()},t.prototype.componentDidUpdate=function(){this.update()},t.prototype.update=function(){var e,t=this.props,n=t.value,r=t.ecLevel,i=t.enableCORS,a=t.bgColor,s=t.fgColor,c=t.logoImage,l=t.logoOpacity,u=t.logoOnLoad,d=t.removeQrCodeBehindLogo,f=t.qrStyle,p=t.eyeRadius,h=t.eyeColor,b=t.logoPaddingStyle,y=+this.props.size,m=+this.props.quietZone,g=this.props.logoWidth?+this.props.logoWidth:0,w=this.props.logoHeight?+this.props.logoHeight:0,v=this.props.logoPadding?+this.props.logoPadding:0,E=o(0,r);E.addData(this.utf16to8(n)),E.make();var x=null===(e=this.canvasRef)||void 0===e?void 0:e.current,S=x.getContext("2d"),T=y+2*m,A=E.getModuleCount(),_=y/A,C=window.devicePixelRatio||1;x.height=x.width=T*C,S.scale(C,C),S.fillStyle=a,S.fillRect(0,0,T,T);var k=m,I=[{row:0,col:0},{row:0,col:A-7},{row:A-7,col:0}];if(S.strokeStyle=s,"dots"===f){S.fillStyle=s;for(var P=_/2,O=0;O<A;O++)for(var M=0;M<A;M++)E.isDark(O,M)&&!this.isInPositioninZone(O,M,I)&&(S.beginPath(),S.arc(Math.round(M*_)+P+k,Math.round(O*_)+P+k,P/100*75,0,2*Math.PI,!1),S.closePath(),S.fill())}else if("fluid"===f){for(P=Math.ceil(_/2),O=0;O<A;O++)for(M=0;M<A;M++)if(E.isDark(O,M)&&!this.isInPositioninZone(O,M,I)){var R=[!1,!1,!1,!1];O>0&&!E.isDark(O-1,M)&&M>0&&!E.isDark(O,M-1)&&(R[0]=!0),O>0&&!E.isDark(O-1,M)&&M<A-1&&!E.isDark(O,M+1)&&(R[1]=!0),O<A-1&&!E.isDark(O+1,M)&&M<A-1&&!E.isDark(O,M+1)&&(R[2]=!0),O<A-1&&!E.isDark(O+1,M)&&M>0&&!E.isDark(O,M-1)&&(R[3]=!0);var N=Math.ceil((M+1)*_)-Math.floor(M*_),L=Math.ceil((O+1)*_)-Math.floor(O*_);S.fillStyle=s,S.beginPath(),S.arc(Math.round(M*_)+P+k,Math.round(O*_)+P+k,P,0,2*Math.PI,!1),S.closePath(),S.fill(),R[0]||S.fillRect(Math.round(M*_)+k,Math.round(O*_)+k,N/2,L/2),R[1]||S.fillRect(Math.round(M*_)+k+Math.floor(N/2),Math.round(O*_)+k,N/2,L/2),R[2]||S.fillRect(Math.round(M*_)+k+Math.floor(N/2),Math.round(O*_)+k+Math.floor(L/2),N/2,L/2),R[3]||S.fillRect(Math.round(M*_)+k,Math.round(O*_)+k+Math.floor(L/2),N/2,L/2)}}else for(O=0;O<A;O++)for(M=0;M<A;M++)E.isDark(O,M)&&!this.isInPositioninZone(O,M,I)&&(S.fillStyle=s,N=Math.ceil((M+1)*_)-Math.floor(M*_),L=Math.ceil((O+1)*_)-Math.floor(O*_),S.fillRect(Math.round(M*_)+k,Math.round(O*_)+k,N,L));for(var D=0;D<3;D++){var B,j=I[D],U=(O=j.row,M=j.col,p);Array.isArray(U)&&(U=U[D]),"number"==typeof U&&(U=[U,U,U,U]),B=h?Array.isArray(h)?h[D]:h:s,this.drawPositioningPattern(S,_,k,O,M,B,U)}if(c){var F=new Image;i&&(F.crossOrigin="Anonymous"),F.onload=function(e){S.save();var t=g||.2*y,n=w||t,r=(y-t)/2,i=(y-n)/2;if(d||v){S.beginPath(),S.strokeStyle=a,S.fillStyle=a;var s=t+2*v,o=n+2*v,c=r+k-v,f=i+k-v;if("circle"===b){var p=c+s/2,h=f+o/2;S.ellipse(p,h,s/2,o/2,0,0,2*Math.PI),S.stroke(),S.fill()}else S.fillRect(c,f,s,o)}S.globalAlpha=l,S.drawImage(F,r+k,i+k,t,n),S.restore(),u&&u(e)},F.src=c}},t.prototype.render=function(){var e,t=+this.props.size+2*+this.props.quietZone;return c.createElement("canvas",{id:null!==(e=this.props.id)&&void 0!==e?e:"react-qrcode-logo",height:t,width:t,style:a({height:t+"px",width:t+"px"},this.props.style),ref:this.canvasRef})},t.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},t}(c.Component);t.QRCode=l},35864:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(40145),i=n(58501);const a=async(e,t)=>{const{address:n,entryPointAddress:a,key:s=BigInt(0)}=t;return await(0,i.T)(e,r.J,"readContract")({address:a,abi:[{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"getNonce",args:[n,s]})}},36271:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDeferredPromise=void 0,t.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,n;const r=new Promise((e,r)=>{t=e,n=r});return e&&r.catch(e=>{}),{promise:r,resolve:t,reject:n}}},36422:(e,t,n)=>{"use strict";e.exports=n(42062)},36703:(e,t,n)=>{"use strict";n.d(t,{f:()=>fs});var r=n(69740),i=n(98158),a=n(18963),s=n(19024),o=n(65593),c=n(50046),l=n.n(c),u=n(91315);class d{}class f extends d{constructor(e){super()}}const p=u.FIVE_SECONDS,h="heartbeat_pulse";class b extends f{constructor(e){super(e),this.events=new c.EventEmitter,this.interval=p,this.interval=e?.interval||p}static async init(e){const t=new b(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,u.toMiliseconds)(this.interval))}pulse(){this.events.emit(h)}}const y=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,m=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,g=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function w(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function v(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!g.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(y.test(e)||m.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,w)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}var E=n(1048).Buffer;function x(e,...t){try{return(n=e(...t))&&"function"==typeof n.then?n:Promise.resolve(n)}catch(e){return Promise.reject(e)}var n}function S(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return S(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const T="base64:";function A(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function _(...e){return A(e.join(":"))}function C(e){return(e=A(e))?e+":":""}const k=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function I(e={}){const t={mounts:{"":e.driver||k()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=e=>{for(const n of t.mountpoints)if(e.startsWith(n))return{base:n,relativeKey:e.slice(n.length),driver:t.mounts[n]};return{base:"",relativeKey:e,driver:t.mounts[""]}},r=(e,n)=>t.mountpoints.filter(t=>t.startsWith(e)||n&&e.startsWith(t)).map(n=>({relativeBase:e.length>n.length?e.slice(n.length):void 0,mountpoint:n,driver:t.mounts[n]})),i=(e,n)=>{if(t.watching){n=A(n);for(const r of t.watchListeners)r(e,n)}},a=async()=>{if(t.watching){for(const e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},s=(e,t,r)=>{const i=new Map,a=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(const r of e){const e="string"==typeof r,i=A(e?r:r.key),s=e?void 0:r.value,o=e||!r.options?t:{...t,...r.options},c=n(i);a(c).items.push({key:i,value:s,relativeKey:c.relativeKey,options:o})}return Promise.all([...i.values()].map(e=>r(e))).then(e=>e.flat())},o={hasItem(e,t={}){e=A(e);const{relativeKey:r,driver:i}=n(e);return x(i.hasItem,r,t)},getItem(e,t={}){e=A(e);const{relativeKey:r,driver:i}=n(e);return x(i.getItem,r,t).then(e=>v(e))},getItems:(e,t={})=>s(e,t,e=>e.driver.getItems?x(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:_(e.base,t.key),value:v(t.value)}))):Promise.all(e.items.map(t=>x(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:v(e)}))))),getItemRaw(e,t={}){e=A(e);const{relativeKey:r,driver:i}=n(e);return i.getItemRaw?x(i.getItemRaw,r,t):x(i.getItem,r,t).then(e=>function(e){return"string"!=typeof e?e:e.startsWith(T)?(t=e.slice(7),globalThis.Buffer?E.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e;var t}(e))},async setItem(e,t,r={}){if(void 0===t)return o.removeItem(e);e=A(e);const{relativeKey:a,driver:s}=n(e);s.setItem&&(await x(s.setItem,a,S(t),r),s.watch||i("update",e))},async setItems(e,t){await s(e,t,async e=>{if(e.driver.setItems)return x(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:S(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>x(e.driver.setItem,t.relativeKey,S(t.value),t.options)))})},async setItemRaw(e,t,r={}){if(void 0===t)return o.removeItem(e,r);e=A(e);const{relativeKey:a,driver:s}=n(e);if(s.setItemRaw)await x(s.setItemRaw,a,t,r);else{if(!s.setItem)return;await x(s.setItem,a,function(e){return"string"==typeof e?e:T+(t=e,globalThis.Buffer?E.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t)));var t}(t),r)}s.watch||i("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t}),e=A(e);const{relativeKey:r,driver:a}=n(e);a.removeItem&&(await x(a.removeItem,r,t),(t.removeMeta||t.removeMata)&&await x(a.removeItem,r+"$",t),a.watch||i("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t}),e=A(e);const{relativeKey:r,driver:i}=n(e),a=Object.create(null);if(i.getMeta&&Object.assign(a,await x(i.getMeta,r,t)),!t.nativeOnly){const e=await x(i.getItem,r+"$",t).then(e=>v(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(a,e))}return a},setMeta(e,t,n={}){return this.setItem(e+"$",t,n)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){e=C(e);const n=r(e,!0);let i=[];const a=[];let s=!0;for(const e of n){e.driver.flags?.maxDepth||(s=!1);const n=await x(e.driver.getKeys,e.relativeBase,t);for(const t of n){const n=e.mountpoint+A(t);i.some(e=>n.startsWith(e))||a.push(n)}i=[e.mountpoint,...i.filter(t=>!t.startsWith(e.mountpoint))]}const o=void 0!==t.maxDepth&&!s;return a.filter(n=>(!o||function(e,t){if(void 0===t)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}(n,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(n,e))},async clear(e,t={}){e=C(e),await Promise.all(r(e,!1).map(async e=>{if(e.driver.clear)return x(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const n=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(n.map(n=>e.driver.removeItem(n,t)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>O(e)))},watch:async e=>(await(async()=>{if(!t.watching){t.watching=!0;for(const e in t.mounts)t.unwatch[e]=await P(t.mounts[e],i,e)}})(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await a()}),async unwatch(){t.watchListeners=[],await a()},mount(e,n){if((e=C(e))&&t.mounts[e])throw new Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=n,t.watching&&Promise.resolve(P(n,i,e)).then(n=>{t.unwatch[e]=n}).catch(console.error),o},async unmount(e,n=!0){(e=C(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),n&&await O(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){e=A(e)+":";const t=n(e);return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>(e=A(e),r(e,t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))),keys:(e,t={})=>o.getKeys(e,t),get:(e,t={})=>o.getItem(e,t),set:(e,t,n={})=>o.setItem(e,t,n),has:(e,t={})=>o.hasItem(e,t),del:(e,t={})=>o.removeItem(e,t),remove:(e,t={})=>o.removeItem(e,t)};return o}function P(e,t,n){return e.watch?e.watch((e,r)=>t(e,n+r)):()=>{}}async function O(e){"function"==typeof e.dispose&&await x(e.dispose)}function M(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function R(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=M(n);return(e,n)=>r.then(r=>n(r.transaction(t,e).objectStore(t)))}let N;function L(){return N||(N=R("keyval-store","keyval")),N}function D(e,t=L()){return t("readonly",t=>M(t.get(e)))}var B=n(25607),j=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>t+e;let r;return e.dbName&&e.storeName&&(r=R(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await D(n(e),r)>"u"),getItem:async e=>await D(n(e),r)??null,setItem:(e,t)=>function(e,t,n=L()){return n("readwrite",n=>(n.put(t,e),M(n.transaction)))}(n(e),t,r),removeItem:e=>function(e,t=L()){return t("readwrite",t=>(t.delete(e),M(t.transaction)))}(n(e),r),getKeys:()=>function(e=L()){return e("readonly",e=>{if(e.getAllKeys)return M(e.getAllKeys());const t=[];return function(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},M(e.transaction)}(e,e=>t.push(e.key)).then(()=>t)})}(r),clear:()=>function(e=L()){return e("readwrite",e=>(e.clear(),M(e.transaction)))}(r)}};class U{constructor(){this.indexedDb=I({driver:j({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,B.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},$={exports:{}};function z(e){var t;return[e[0],(0,B.j)(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof F<"u"&&F.localStorage?$.exports=F.localStorage:typeof window<"u"&&window.localStorage?$.exports=window.localStorage:$.exports=new t}();class H{constructor(){this.localStorage=$.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(z)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return(0,B.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,B.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}class q{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new H;this.storage=e;try{(async(e,t,n)=>{const r="wc_storage_version",i=await t.getItem(r);if(i&&i>=1)return void n(t);const a=await e.getKeys();if(!a.length)return void n(t);const s=[];for(;a.length;){const n=a.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await e.getItem(n);await t.setItem(n,r),s.push(n)}}await t.setItem(r,1),n(t),(async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})})(e,s)})(e,new U,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}var K=n(46946),W=n.n(K);const V="custom_context",G=1024e3;var Y=Object.defineProperty,J=(e,t,n)=>((e,t,n)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Z{constructor(e){J(this,"nodeValue"),J(this,"sizeInBytes"),J(this,"next"),this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class X{constructor(e){J(this,"lengthInNodes"),J(this,"sizeInBytes"),J(this,"head"),J(this,"tail"),J(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new Z(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}var Q=Object.defineProperty,ee=(e,t,n)=>((e,t,n)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class te{constructor(e,t=G){ee(this,"logs"),ee(this,"level"),ee(this,"levelValue"),ee(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=K.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new X(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===K.levels.values.error?console.error(e):t===K.levels.values.warn?console.warn(e):t===K.levels.values.debug?console.debug(e):t===K.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,B.h)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new X(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,B.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var ne=Object.defineProperty;class re{constructor(e,t=G){((e,t,n)=>{((e,t,n)=>{t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"baseChunkLogger"),this.baseChunkLogger=new te(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}var ie=Object.defineProperty;class ae{constructor(e,t=G){((e,t,n)=>{((e,t,n)=>{t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"baseChunkLogger"),this.baseChunkLogger=new te(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var se=Object.defineProperty,oe=Object.defineProperties,ce=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,fe=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pe=(e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&fe(e,n,t[n]);if(le)for(var n of le(t))de.call(t,n)&&fe(e,n,t[n]);return e},he=(e,t)=>oe(e,ce(t));function be(e,t=V){return e[t]||""}function ye(e,t,n=V){const r=function(e,t,n=V){const r=be(e,n);return r.trim()?`${r}/${t}`:t}(e,t,n);return function(e,t,n=V){return e[n]=t,e}(e.child({context:r}),r,n)}var me=Object.defineProperty,ge=(e,t,n)=>((e,t,n)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class we extends d{constructor(e){super(),this.opts=e,ge(this,"protocol","wc"),ge(this,"version",2)}}var ve=Object.defineProperty;class Ee extends d{constructor(e,t){super(),this.core=e,this.logger=t,((e,t,n)=>{((e,t,n)=>{t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"records",new Map)}}class xe{constructor(e,t){this.logger=e,this.core=t}}class Se extends d{constructor(e,t){super(),this.relayer=e,this.logger=t}}class Te extends d{constructor(e){super()}}class Ae{constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}Object.defineProperty;class _e extends d{constructor(e,t){super(),this.relayer=e,this.logger=t}}class Ce extends d{constructor(e,t){super(),this.core=e,this.logger=t}}class ke{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}}class Ie{constructor(e,t){this.projectId=e,this.logger=t}}class Pe{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}}var Oe=Object.defineProperty,Me=(e,t,n)=>((e,t,n)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);l();class Re{constructor(e){this.opts=e,Me(this,"protocol","wc"),Me(this,"version",2)}}c.EventEmitter;class Ne{constructor(e){this.client=e}}var Le=n(97353),De=n(9453),Be=n(15456);const je="PARSE_ERROR",Ue="INVALID_REQUEST",Fe="METHOD_NOT_FOUND",$e="INVALID_PARAMS",ze="INTERNAL_ERROR",He="SERVER_ERROR",qe=[-32700,-32600,-32601,-32602,-32603],Ke={[je]:{code:-32700,message:"Parse error"},[Ue]:{code:-32600,message:"Invalid Request"},[Fe]:{code:-32601,message:"Method not found"},[$e]:{code:-32602,message:"Invalid params"},[ze]:{code:-32603,message:"Internal error"},[He]:{code:-32e3,message:"Server error"}},We=He;function Ve(e){return Object.keys(Ke).includes(e)?Ke[e]:Ke[We]}var Ge=n(48723);function Ye(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function Je(e=6){return BigInt(Ye(e))}function Ze(e,t,n){return{id:n||Ye(),jsonrpc:"2.0",method:e,params:t}}function Xe(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Qe(e,t,n){return{id:e,jsonrpc:"2.0",error:et(t,n)}}function et(e,t){return void 0===e?Ve(ze):("string"==typeof e&&(e=Object.assign(Object.assign({},Ve(He)),{message:e})),void 0!==t&&(e.data=t),n=e.code,qe.includes(n)&&(e=function(e){const t=Object.values(Ke).find(t=>t.code===e);return t||Ke[We]}(e.code)),e);var n}class tt{}class nt extends tt{constructor(){super()}}class rt extends nt{constructor(e){super()}}function it(e){return function(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==n&&new RegExp(t).test(n)}(e,"^wss?:")}function at(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function st(e){return at(e)&&"method"in e}function ot(e){return at(e)&&(ct(e)||lt(e))}function ct(e){return"result"in e}function lt(e){return"error"in e}class ut extends rt{constructor(e){super(e),this.events=new c.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Ze(e.method,e.params||[],e.id||Je().toString()),t)}async requestStrict(e,t){return new Promise(async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(e){r(e)}this.events.on(`${e.id}`,e=>{lt(e)?r(e.error):n(e.result)});try{await this.connection.send(e,t)}catch(e){r(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ot(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const dt=e=>e.split("?")[0],ft=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(38236);class pt{constructor(e){if(this.url=e,this.events=new c.EventEmitter,this.registering=!1,!it(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,B.h)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!it(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const i=(0,Ge.isReactNative)()?void 0:{rejectUnauthorized:(s=e,!new RegExp("wss?://localhost(:d{2,5})?").test(s))},a=new ft(e,[],i);var s;typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?a.onerror=e=>{const t=e;r(this.emitError(t.error))}:a.on("error",e=>{r(this.emitError(e))}),a.onopen=()=>{this.onOpen(a),t(a)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,B.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=Qe(e,n.message||n.toString());this.events.emit("payload",r)}parseError(e,t=this.url){return function(e,t){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable WS RPC url at ${t}`):e}(e,dt(t))}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${dt(this.url)}`));return this.events.emit("register_error",t),t}}var ht=n(20635),bt=n(1048).Buffer,yt=n(39907);const mt="core",gt=`wc@2:${mt}:`,wt={database:":memory:"},vt="client_ed25519_seed",Et=u.ONE_DAY,xt=u.SIX_HOURS,St="wss://relay.walletconnect.org",Tt="relayer_message",At="relayer_message_ack",_t="relayer_connection_stalled",Ct="relayer_publish",kt="payload",It="connect",Pt="disconnect",Ot="error",Mt="2.23.0",Rt={link_mode:"link_mode",relay:"relay"},Nt="inbound",Lt="WALLETCONNECT_LINK_MODE_APPS",Dt="subscription_created",Bt="subscription_deleted",jt=(u.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:u.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:u.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:u.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:u.ONE_DAY,prompt:!1,tag:0},res:{ttl:u.ONE_DAY,prompt:!1,tag:0}}}),Ut="pairing_create",Ft="pairing_delete",$t="history_created",zt="history_updated",Ht="history_deleted",qt="expirer_created",Kt="expirer_deleted",Wt="expirer_expired",Vt="https://verify.walletconnect.org",Gt=Vt,Yt=`${Gt}/v3`,Jt=["https://verify.walletconnect.com",Vt],Zt="malformed_pairing_uri",Xt="session_approve_started";var Qt=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),s=a.charCodeAt(0);if(255!==n[s])throw new TypeError(a+" is ambiguous");n[s]=i}var o=e.length,c=e.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var a=(e.length-t)*l+1>>>0,s=new Uint8Array(a);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,f=a-1;(0!==u||d<i)&&-1!==f;f--,d++)u+=o*s[f]>>>0,s[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var p=a-i;p!==a&&0===s[p];)p++;for(var h=new Uint8Array(r+(a-p)),b=r;p!==a;)h[b++]=s[p++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,a=t.length;i!==a&&0===t[i];)i++,n++;for(var s=(a-i)*u+1>>>0,l=new Uint8Array(s);i!==a;){for(var d=t[i],f=0,p=s-1;(0!==d||f<r)&&-1!==p;p--,f++)d+=256*l[p]>>>0,l[p]=d%o>>>0,d=d/o>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var h=s-r;h!==s&&0===l[h];)h++;for(var b=c.repeat(n);h<s;++h)b+=e.charAt(l[h]);return b},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}};const en=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class tn{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class nn{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return an(this,e)}}class rn{constructor(e){this.decoders=e}or(e){return an(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const an=(e,t)=>new rn({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class sn{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new tn(e,t,n),this.decoder=new nn(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const on=({name:e,prefix:t,encode:n,decode:r})=>new sn(e,t,n,r),cn=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=Qt(n,t);return on({prefix:e,name:t,encode:r,decode:e=>en(i(e))})},ln=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>on({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let a="",s=0,o=0;for(let r=0;r<e.length;++r)for(o=o<<8|e[r],s+=8;s>n;)s-=n,a+=t[i&o>>s];if(s&&(a+=t[i&o<<n-s]),r)for(;a.length*n&7;)a+="=";return a})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let a=e.length;for(;"="===e[a-1];)--a;const s=new Uint8Array(a*n/8|0);let o=0,c=0,l=0;for(let t=0;t<a;++t){const a=i[e[t]];if(void 0===a)throw new SyntaxError(`Non-${r} character`);c=c<<n|a,o+=n,o>=8&&(o-=8,s[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),un=on({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var dn=Object.freeze({__proto__:null,identity:un});const fn=ln({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pn=Object.freeze({__proto__:null,base2:fn});const hn=ln({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bn=Object.freeze({__proto__:null,base8:hn});const yn=cn({prefix:"9",name:"base10",alphabet:"0123456789"});var mn=Object.freeze({__proto__:null,base10:yn});const gn=ln({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wn=ln({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vn=Object.freeze({__proto__:null,base16:gn,base16upper:wn});const En=ln({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),xn=ln({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Sn=ln({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tn=ln({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),An=ln({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_n=ln({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Cn=ln({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kn=ln({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),In=ln({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Pn=Object.freeze({__proto__:null,base32:En,base32upper:xn,base32pad:Sn,base32padupper:Tn,base32hex:An,base32hexupper:_n,base32hexpad:Cn,base32hexpadupper:kn,base32z:In});const On=cn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Mn=cn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Rn=Object.freeze({__proto__:null,base36:On,base36upper:Mn});const Nn=cn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ln=cn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Dn=Object.freeze({__proto__:null,base58btc:Nn,base58flickr:Ln});const Bn=ln({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),jn=ln({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Un=ln({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Fn=ln({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $n=Object.freeze({__proto__:null,base64:Bn,base64pad:jn,base64url:Un,base64urlpad:Fn});const zn=Array.from(""),Hn=zn.reduce((e,t,n)=>(e[n]=t,e),[]),qn=zn.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]),Kn=on({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+Hn[t],"")},decode:function(e){const t=[];for(const n of e){const e=qn[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var Wn=Object.freeze({__proto__:null,base256emoji:Kn}),Vn=128,Gn=-128,Yn=Math.pow(2,31),Jn=128,Zn=127,Xn=Math.pow(2,7),Qn=Math.pow(2,14),er=Math.pow(2,21),tr=Math.pow(2,28),nr=Math.pow(2,35),rr=Math.pow(2,42),ir=Math.pow(2,49),ar=Math.pow(2,56),sr=Math.pow(2,63),or={encode:function e(t,n,r){n=n||[];for(var i=r=r||0;t>=Yn;)n[r++]=255&t|Vn,t/=128;for(;t&Gn;)n[r++]=255&t|Vn,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},decode:function e(t,n){var r,i=0,a=(n=n||0,0),s=n,o=t.length;do{if(s>=o)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=a<28?(r&Zn)<<a:(r&Zn)*Math.pow(2,a),a+=7}while(r>=Jn);return e.bytes=s-n,i},encodingLength:function(e){return e<Xn?1:e<Qn?2:e<er?3:e<tr?4:e<nr?5:e<rr?6:e<ir?7:e<ar?8:e<sr?9:10}},cr=or;const lr=(e,t,n=0)=>(cr.encode(e,t,n),t),ur=e=>cr.encodingLength(e),dr=(e,t)=>{const n=t.byteLength,r=ur(e),i=r+ur(n),a=new Uint8Array(i+n);return lr(e,a,0),lr(n,a,r),a.set(t,i),new fr(e,n,t,a)};class fr{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const pr=({name:e,code:t,encode:n})=>new hr(e,t,n);class hr{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?dr(this.code,t):t.then(e=>dr(this.code,e))}throw Error("Unknown type, must be binary type")}}const br=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),yr=pr({name:"sha2-256",code:18,encode:br("SHA-256")}),mr=pr({name:"sha2-512",code:19,encode:br("SHA-512")});Object.freeze({__proto__:null,sha256:yr,sha512:mr});const gr=en,wr={code:0,name:"identity",encode:gr,digest:e=>dr(0,gr(e))};Object.freeze({__proto__:null,identity:wr}),new TextEncoder,new TextDecoder;const vr={...dn,...pn,...bn,...mn,...vn,...Pn,...Rn,...Dn,...$n,...Wn};function Er(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function xr(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Sr=xr("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),Tr=xr("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Er(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Ar={utf8:Sr,"utf-8":Sr,hex:vr.base16,latin1:Tr,ascii:Tr,binary:Tr,...vr};var _r=Object.defineProperty,Cr=(e,t,n)=>((e,t,n)=>t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class kr{constructor(e,t){this.core=e,this.logger=t,Cr(this,"keychain",new Map),Cr(this,"name","keychain"),Cr(this,"version","0.3"),Cr(this,"initialized",!1),Cr(this,"storagePrefix",gt),Cr(this,"init",async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}}),Cr(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),Cr(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),Cr(this,"get",e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}),Cr(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=ye(t,this.name)}get context(){return be(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,De.h0Y)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?(0,De.PUk)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Ir=Object.defineProperty,Pr=(e,t,n)=>((e,t,n)=>t in e?Ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Or{constructor(e,t,n){this.core=e,this.logger=t,Pr(this,"name","crypto"),Pr(this,"keychain"),Pr(this,"randomSessionIdentifier",(0,De.two)()),Pr(this,"initialized",!1),Pr(this,"clientId"),Pr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Pr(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),Pr(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const e=await this.getClientSeed(),t=Le.TZ(e),n=Le.UF(t.publicKey);return this.clientId=n,n}),Pr(this,"generateKeyPair",()=>{this.isInitialized();const e=(0,De.TZl)();return this.setPrivateKey(e.publicKey,e.privateKey)}),Pr(this,"signJWT",async e=>{this.isInitialized();const t=await this.getClientSeed(),n=Le.TZ(t),r=this.randomSessionIdentifier,i=Et;return await Le.FA(r,e,i,n)}),Pr(this,"generateSharedKey",(e,t,n)=>{this.isInitialized();const r=this.getPrivateKey(e),i=(0,De.ovp)(r,t);return this.setSymKey(i,n)}),Pr(this,"setSymKey",async(e,t)=>{this.isInitialized();const n=t||(0,De.EN$)(e);return await this.keychain.set(n,e),n}),Pr(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),Pr(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),Pr(this,"encode",async(e,t,n)=>{this.isInitialized();const r=(0,De.AwN)(n),i=(0,B.h)(t);if((0,De.ps1)(r))return(0,De.Tw2)(i,n?.encoding);if((0,De.V7m)(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const a=this.getSymKey(e),{type:s,senderPublicKey:o}=r;return(0,De.wa2)({type:s,symKey:a,message:i,senderPublicKey:o,encoding:n?.encoding})}),Pr(this,"decode",async(e,t,n)=>{this.isInitialized();const r=(0,De.C5G)(t,n);if((0,De.ps1)(r)){const e=(0,De.F$L)(t,n?.encoding);return(0,B.j)(e)}if((0,De.V7m)(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const r=this.getSymKey(e),i=(0,De.YcA)({symKey:r,encoded:t,encoding:n?.encoding});return(0,B.j)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),Pr(this,"getPayloadType",(e,t=De.EWt)=>{const n=(0,De.iui)({encoded:e,encoding:t});return(0,De.x0t)(n.type)}),Pr(this,"getPayloadSenderPublicKey",(e,t=De.EWt)=>{const n=(0,De.iui)({encoded:e,encoding:t});return n.senderPublicKey?(0,Be.dI)(n.senderPublicKey,De.bEt):void 0}),this.core=e,this.logger=ye(t,this.name),this.keychain=n||new kr(this.core,this.logger)}get context(){return be(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(vt)}catch{e=(0,De.two)(),await this.keychain.set(vt,e)}return function(e,t="utf8"){const n=Ar[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):Er(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Mr=Object.defineProperty,Rr=Object.defineProperties,Nr=Object.getOwnPropertyDescriptors,Lr=Object.getOwnPropertySymbols,Dr=Object.prototype.hasOwnProperty,Br=Object.prototype.propertyIsEnumerable,jr=(e,t,n)=>t in e?Mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ur=(e,t,n)=>jr(e,"symbol"!=typeof t?t+"":t,n);class Fr extends xe{constructor(e,t){super(e,t),this.logger=e,this.core=t,Ur(this,"messages",new Map),Ur(this,"messagesWithoutClientAck",new Map),Ur(this,"name","messages"),Ur(this,"version","0.3"),Ur(this,"initialized",!1),Ur(this,"storagePrefix",gt),Ur(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),Ur(this,"set",async(e,t,n)=>{this.isInitialized();const r=(0,De.ALl)(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[r]<"u")return r;if(i[r]=t,this.messages.set(e,i),n===Nt){const n=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>Rr(e,Nr(t)))(((e,t)=>{for(var n in t||(t={}))Dr.call(t,n)&&jr(e,n,t[n]);if(Lr)for(var n of Lr(t))Br.call(t,n)&&jr(e,n,t[n]);return e})({},n),{[r]:t}))}return await this.persist(),r}),Ur(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),Ur(this,"getWithoutAck",e=>{this.isInitialized();const t={};for(const n of e){const e=this.messagesWithoutClientAck.get(n)||{};t[n]=Object.values(e)}return t}),Ur(this,"has",(e,t)=>(this.isInitialized(),typeof this.get(e)[(0,De.ALl)(t)]<"u")),Ur(this,"ack",async(e,t)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(e);typeof n>"u"||(delete n[(0,De.ALl)(t)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,n),await this.persist())}),Ur(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=ye(e,this.name),this.core=t}get context(){return be(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,De.h0Y)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,De.h0Y)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?(0,De.PUk)(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?(0,De.PUk)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}}var $r=Object.defineProperty,zr=Object.defineProperties,Hr=Object.getOwnPropertyDescriptors,qr=Object.getOwnPropertySymbols,Kr=Object.prototype.hasOwnProperty,Wr=Object.prototype.propertyIsEnumerable,Vr=(e,t,n)=>t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gr=(e,t)=>{for(var n in t||(t={}))Kr.call(t,n)&&Vr(e,n,t[n]);if(qr)for(var n of qr(t))Wr.call(t,n)&&Vr(e,n,t[n]);return e},Yr=(e,t)=>zr(e,Hr(t)),Jr=(e,t,n)=>Vr(e,"symbol"!=typeof t?t+"":t,n);class Zr extends Se{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,Jr(this,"events",new c.EventEmitter),Jr(this,"name","publisher"),Jr(this,"queue",new Map),Jr(this,"publishTimeout",(0,u.toMiliseconds)(u.ONE_MINUTE)),Jr(this,"initialPublishTimeout",(0,u.toMiliseconds)(15*u.ONE_SECOND)),Jr(this,"needsTransportRestart",!1),Jr(this,"publish",async(e,t,n)=>{var r,i,a,s,o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});const c=n?.ttl||xt,l=n?.prompt||!1,u=n?.tag||0,d=n?.id||Je().toString(),f=(0,De.aa1)((0,De.n6V)().protocol),p={id:d,method:n?.publishMethod||f.publish,params:Gr({topic:e,message:t,ttl:c,prompt:l,tag:u,attestation:n?.attestation},n?.tvf)},h=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{(0,De.b07)(null==(r=p.params)?void 0:r.prompt)&&(null==(i=p.params)||delete i.prompt),(0,De.b07)(null==(a=p.params)?void 0:a.tag)&&(null==(s=p.params)||delete s.tag);const o=new Promise(async e=>{const t=({id:n})=>{var r;(null==(r=p.id)?void 0:r.toString())===n.toString()&&(this.removeRequestFromQueue(n),this.relayer.events.removeListener(Ct,t),e())};this.relayer.events.on(Ct,t);const r=(0,De.K3g)(new Promise((e,t)=>{this.rpcPublish(p,n).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await r,this.events.removeListener(Ct,t)}catch(e){this.queue.set(d,{request:p,opts:n,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:e,message:t,opts:n}}),await(0,De.K3g)(o,this.publishTimeout,h)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(o=n?.internal)&&o.throwOnFailedPublish)throw e}finally{this.queue.delete(d)}}),Jr(this,"publishCustom",async e=>{var t,n,r,i,a;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});const{payload:s,opts:o={}}=e,{attestation:c,tvf:l,publishMethod:d,prompt:f,tag:p,ttl:h=u.FIVE_MINUTES}=o,b=o.id||Je().toString(),y=(0,De.aa1)((0,De.n6V)().protocol),m=d||y.publish,g={id:b,method:m,params:Gr(Yr(Gr({},s),{ttl:h,prompt:f,tag:p,attestation:c}),l)},w=`Failed to publish custom payload, please try again. id:${b} tag:${p}`;try{(0,De.b07)(null==(t=g.params)?void 0:t.prompt)&&(null==(n=g.params)||delete n.prompt),(0,De.b07)(null==(r=g.params)?void 0:r.tag)&&(null==(i=g.params)||delete i.tag);const e=new Promise(async e=>{const t=({id:n})=>{var r;(null==(r=g.id)?void 0:r.toString())===n.toString()&&(this.removeRequestFromQueue(n),this.relayer.events.removeListener(Ct,t),e())};this.relayer.events.on(Ct,t);const n=(0,De.K3g)(new Promise((e,t)=>{this.rpcPublish(g,o).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${m} id:${b} tag:${p}`);try{await n,this.events.removeListener(Ct,t)}catch(e){this.queue.set(b,{request:g,opts:o,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,payload:s,opts:o}}),await(0,De.K3g)(e,this.publishTimeout,w)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(a=o?.internal)&&a.throwOnFailedPublish)throw e}finally{this.queue.delete(b)}}),Jr(this,"on",(e,t)=>{this.events.on(e,t)}),Jr(this,"once",(e,t)=>{this.events.once(e,t)}),Jr(this,"off",(e,t)=>{this.events.off(e,t)}),Jr(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=ye(t,this.name),this.registerEventListeners()}get context(){return be(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(Ct,Gr(Gr({},e),t)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var n;const r=e.attempt+1;this.queue.set(t,Yr(Gr({},e),{attempt:r})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(n=e.request.params)?void 0:n.tag}, attempt: ${r}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(h,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(_t);this.checkQueue()}),this.relayer.on(At,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Xr=Object.defineProperty,Qr=(e,t,n)=>((e,t,n)=>t in e?Xr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ei{constructor(){Qr(this,"map",new Map),Qr(this,"set",(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])}),Qr(this,"get",e=>this.map.get(e)||[]),Qr(this,"exists",(e,t)=>this.get(e).includes(t)),Qr(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter(e=>e!==t);r.length?this.map.set(e,r):this.map.delete(e)}),Qr(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var ti=Object.defineProperty,ni=Object.defineProperties,ri=Object.getOwnPropertyDescriptors,ii=Object.getOwnPropertySymbols,ai=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,oi=(e,t,n)=>t in e?ti(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ci=(e,t)=>{for(var n in t||(t={}))ai.call(t,n)&&oi(e,n,t[n]);if(ii)for(var n of ii(t))si.call(t,n)&&oi(e,n,t[n]);return e},li=(e,t)=>ni(e,ri(t)),ui=(e,t,n)=>oi(e,"symbol"!=typeof t?t+"":t,n);class di extends _e{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,ui(this,"subscriptions",new Map),ui(this,"topicMap",new ei),ui(this,"events",new c.EventEmitter),ui(this,"name","subscription"),ui(this,"version","0.3"),ui(this,"pending",new Map),ui(this,"cached",[]),ui(this,"initialized",!1),ui(this,"storagePrefix",gt),ui(this,"subscribeTimeout",(0,u.toMiliseconds)(u.ONE_MINUTE)),ui(this,"initialSubscribeTimeout",(0,u.toMiliseconds)(15*u.ONE_SECOND)),ui(this,"clientId"),ui(this,"batchSubscribeTopicsLimit",500),ui(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),ui(this,"subscribe",async(e,t)=>{var n;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=(0,De.n6V)(t),i={topic:e,relay:r,transportType:t?.transportType};null!=(n=t?.internal)&&n.skipSubscribe||this.pending.set(e,i);const a=await this.rpcSubscribe(e,r,t);return"string"==typeof a&&(this.onSubscribe(a,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),a}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),ui(this,"unsubscribe",async(e,t)=>{this.isInitialized(),typeof t?.id<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),ui(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),ui(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),ui(this,"on",(e,t)=>{this.events.on(e,t)}),ui(this,"once",(e,t)=>{this.events.once(e,t)}),ui(this,"off",(e,t)=>{this.events.off(e,t)}),ui(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),ui(this,"start",async()=>{await this.onConnect()}),ui(this,"stop",async()=>{await this.onDisconnect()}),ui(this,"restart",async()=>{await this.restore(),await this.onRestart()}),ui(this,"checkPending",async()=>{if(!(0!==this.pending.size||this.initialized&&this.relayer.connected))return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),ui(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(h,async()=>{await this.checkPending()}),this.events.on(Dt,async e=>{const t=Dt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Bt,async e=>{const t=Bt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=ye(t,this.name),this.clientId=""}get context(){return be(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=(0,De.n6V)(n);await this.restartToComplete({topic:e,id:t,relay:r}),await this.rpcUnsubscribe(e,t,r);const i=(0,De.Hjj)("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,n){var r,i;const a=await this.getSubscriptionId(e);if(null!=(r=n?.internal)&&r.skipSubscribe)return a;(!n||n?.transportType===Rt.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const s={method:(0,De.aa1)(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=null==(i=n?.internal)?void 0:i.throwOnFailedPublish;try{if(n?.transportType===Rt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(e=>this.logger.warn(e))},(0,u.toMiliseconds)(u.ONE_SECOND)),a;const t=new Promise(async t=>{const n=r=>{r.topic===e&&(this.events.removeListener(Dt,n),t(r.id))};this.events.on(Dt,n);try{const r=await(0,De.K3g)(new Promise((e,t)=>{this.relayer.request(s).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Dt,n),t(r)}catch{}}),r=await(0,De.K3g)(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!r&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return r?a:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(_t),o)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,n={method:(0,De.aa1)(t.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await(0,De.K3g)(new Promise(e=>{this.relayer.request(n).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(_t)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,n={method:(0,De.aa1)(t.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};let r;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{r=await await(0,De.K3g)(new Promise((e,t)=>{this.relayer.request(n).catch(e=>{this.logger.warn(e),t(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(_t)}return r}rpcUnsubscribe(e,t,n){const r={method:(0,De.aa1)(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,li(ci({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,ci({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,ci({},t)),this.topicMap.set(t.topic,e),this.events.emit(Dt,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Bt,li(ci({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit("subscription_sync")}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit("subscription_resubscribed")}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){const{message:e}=(0,De.GuA)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>li(ci({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await(0,De.yy4)((0,u.toMiliseconds)(u.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return(0,De.ALl)(e+await this.getClientId())}}var fi=Object.defineProperty,pi=Object.getOwnPropertySymbols,hi=Object.prototype.hasOwnProperty,bi=Object.prototype.propertyIsEnumerable,yi=(e,t,n)=>t in e?fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mi=(e,t)=>{for(var n in t||(t={}))hi.call(t,n)&&yi(e,n,t[n]);if(pi)for(var n of pi(t))bi.call(t,n)&&yi(e,n,t[n]);return e},gi=(e,t,n)=>yi(e,"symbol"!=typeof t?t+"":t,n);class wi extends Te{constructor(e){var t;super(e),gi(this,"protocol","wc"),gi(this,"version",2),gi(this,"core"),gi(this,"logger"),gi(this,"events",new c.EventEmitter),gi(this,"provider"),gi(this,"messages"),gi(this,"subscriber"),gi(this,"publisher"),gi(this,"name","relayer"),gi(this,"transportExplicitlyClosed",!1),gi(this,"initialized",!1),gi(this,"connectionAttemptInProgress",!1),gi(this,"relayUrl"),gi(this,"projectId"),gi(this,"packageName"),gi(this,"bundleId"),gi(this,"hasExperiencedNetworkDisruption",!1),gi(this,"pingTimeout"),gi(this,"heartBeatTimeout",(0,u.toMiliseconds)(u.THIRTY_SECONDS+u.FIVE_SECONDS)),gi(this,"reconnectTimeout"),gi(this,"connectPromise"),gi(this,"reconnectInProgress",!1),gi(this,"requestsInFlight",[]),gi(this,"connectTimeout",(0,u.toMiliseconds)(15*u.ONE_SECOND)),gi(this,"request",async e=>{var t,n;this.logger.debug("Publishing Request Payload");const r=e.id||Je().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i=`${r}:${(null==(n=e.params)?void 0:n.tag)||""}`;this.requestsInFlight.push(i);const a=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),a}catch(e){throw this.logger.debug(`Failed to Publish Request: ${r}`),e}}),gi(this,"resetPingTimeout",()=>{(0,De.Lln)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,n,r;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),gi(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),gi(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit("relayer_connect")}),gi(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),gi(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit("relayer_error",e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),gi(this,"registerProviderListeners",()=>{this.provider.on(kt,this.onPayloadHandler),this.provider.on(It,this.onConnectHandler),this.provider.on(Pt,this.onDisconnectHandler),this.provider.on(Ot,this.onProviderErrorHandler)}),this.core=e.core,this.logger=(0,De.haE)({logger:null!=(t=e.logger)?t:"error",name:this.name}),this.messages=new Fr(this.logger,e.core),this.subscriber=new di(this,this.logger),this.publisher=new Zr(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||St,(0,De.m01)()?this.packageName=(0,De.R7U)():(0,De.aRZ)()&&(this.bundleId=(0,De.R7U)()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return be(this.logger)}get connected(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}get connecting(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Rt.relay},"outbound")}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var n,r,i;this.isInitialized(),(null==t||!t.transportType||"relay"===t?.transportType)&&await this.toEstablishConnection();const a=typeof(null==(n=t?.internal)?void 0:n.throwOnFailedPublish)>"u"||(null==(r=t?.internal)?void 0:r.throwOnFailedPublish);let s,o=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(Dt,c),s())};return await Promise.all([new Promise(e=>{s=e,this.subscriber.on(Dt,c)}),new Promise(async(n,r)=>{o=await this.subscriber.subscribe(e,mi({internal:{throwOnFailedPublish:a}},t)).catch(e=>{a&&r(e)})||o,n()})]),o}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await(0,De.K3g)(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,n)=>{await this.connect(e).then(t).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}else this.logger.info("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await(0,De.sc7)())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===e?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort((e,t)=>e.publishedAt-t.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const e of t)try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const e={topic:n,expiry:(0,De.Xw0)(u.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,e)}this.events.emit(Tt,e),await this.recordMessageEvent(e,Nt)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to connect"))};this.provider.once(Pt,n),await(0,De.K3g)(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(Pt,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,n)=>{const r=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Pt,r),await this.subscriber.start().then(e).catch(n).finally(()=>{this.provider.off(Pt,r)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop();const t=e;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,u.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,n,r,i;if((0,De.Lln)())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ut(new pt((0,De.jUZ)({sdkVersion:Mt,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:r}=e;await this.messages.set(n,r,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const r=this.messages.has(t,n);return r&&this.logger.warn(`Ignoring duplicate message: ${n}`),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),st(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i,attestation:a}=t.data,s={topic:n,message:r,publishedAt:i,transportType:Rt.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(mi({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}else ot(e)&&this.events.emit(At,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Nt),this.events.emit(Tt,e))}async acknowledgePayload(e){const t=Xe(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(kt,this.onPayloadHandler),this.provider.off(It,this.onConnectHandler),this.provider.off(Pt,this.onDisconnectHandler),this.provider.off(Ot,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await(0,De.sc7)();(0,De.uym)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(h,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&(0,De.sKr)())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit("relayer_disconnect"),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,u.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function vi(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Ei(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const xi="[object Arguments]",Si="[object Object]";function Ti(){}function Ai(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function _i(e,t,n,r,i,a,s){const o=s(e,t,n,r,i,a);if(void 0!==o)return o;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return Ci(e,t,a,s)}return Ci(e,t,a,s)}function Ci(e,t,n,r){if(Object.is(e,t))return!0;let i=Ei(e),a=Ei(t);if(i===xi&&(i=Si),a===xi&&(a=Si),i!==a)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const s=(n=n??new Map).get(e),o=n.get(t);if(null!=s&&null!=o)return s===t;n.set(e,t),n.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,a]of e.entries())if(!t.has(i)||!_i(a,t.get(i),i,e,t,n,r))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),a=Array.from(t.values());for(let s=0;s<i.length;s++){const o=i[s],c=a.findIndex(i=>_i(o,i,void 0,e,t,n,r));if(-1===c)return!1;a.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof bt<"u"&&bt.isBuffer(e)!==bt.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!_i(e[i],t[i],i,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&Ci(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&Ci(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case Si:{if(!(Ci(e.constructor,t.constructor,n,r)||Ai(e)&&Ai(t)))return!1;const i=[...Object.keys(e),...vi(e)],a=[...Object.keys(t),...vi(t)];if(i.length!==a.length)return!1;for(let a=0;a<i.length;a++){const s=i[a],o=e[s];if(!Object.hasOwn(t,s))return!1;if(!_i(o,t[s],s,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}var ki=Object.defineProperty,Ii=Object.getOwnPropertySymbols,Pi=Object.prototype.hasOwnProperty,Oi=Object.prototype.propertyIsEnumerable,Mi=(e,t,n)=>t in e?ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ri=(e,t)=>{for(var n in t||(t={}))Pi.call(t,n)&&Mi(e,n,t[n]);if(Ii)for(var n of Ii(t))Oi.call(t,n)&&Mi(e,n,t[n]);return e},Ni=(e,t,n)=>Mi(e,"symbol"!=typeof t?t+"":t,n);class Li extends Ae{constructor(e,t,n,r=gt,i=void 0){super(e,t,n,r),this.core=e,this.logger=t,this.name=n,Ni(this,"map",new Map),Ni(this,"version","0.3"),Ni(this,"cached",[]),Ni(this,"initialized",!1),Ni(this,"getKey"),Ni(this,"storagePrefix",gt),Ni(this,"recentlyDeleted",[]),Ni(this,"recentlyDeletedLimit",200),Ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!(0,De.b07)(e)?this.map.set(this.getKey(e),e):(0,De.CTo)(e)?this.map.set(e.id,e):(0,De.mr0)(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),Ni(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),Ni(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),Ni(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(n=>function(e,t){return function(e,t,n){return _i(e,t,void 0,void 0,void 0,void 0,n)}(e,t,Ti)}(t[n],e[n]))):this.values)),Ni(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=Ri(Ri({},this.getData(e)),t);this.map.set(e,n),await this.persist()}),Ni(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=ye(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return be(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=(0,De.GuA)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Di=Object.defineProperty,Bi=(e,t,n)=>((e,t,n)=>t in e?Di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ji{constructor(e,t){this.core=e,this.logger=t,Bi(this,"name","pairing"),Bi(this,"version","0.3"),Bi(this,"events",new c),Bi(this,"pairings"),Bi(this,"initialized",!1),Bi(this,"storagePrefix",gt),Bi(this,"ignoredPayloadTypes",[De.Lp_]),Bi(this,"registeredMethods",[]),Bi(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Bi(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),Bi(this,"create",async e=>{this.isInitialized();const t=(0,De.two)(),n=await this.core.crypto.setSymKey(t),r=(0,De.Xw0)(u.FIVE_MINUTES),i={protocol:"irn"},a={topic:n,expiry:r,relay:i,active:!1,methods:e?.methods},s=(0,De.QJh)({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:t,relay:i,expiryTimestamp:r,methods:e?.methods});return this.events.emit(Ut,a),this.core.expirer.set(n,r),await this.pairings.set(n,a),await this.core.relayer.subscribe(n,{transportType:e?.transportType,internal:e?.internal}),{topic:n,uri:s}}),Bi(this,"pair",async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:["pairing_started"]}});this.isValidPair(e,t);const{topic:n,symKey:r,relay:i,expiryTimestamp:a,methods:s}=(0,De.wYp)(e.uri);let o;if(t.props.properties.topic=n,t.addTrace("pairing_uri_validation_success"),t.addTrace("pairing_uri_not_expired"),this.pairings.keys.includes(n)){if(o=this.pairings.get(n),t.addTrace("existing_pairing"),o.active)throw t.setError("active_pairing_already_exists"),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);t.addTrace("pairing_not_expired")}const c=a||(0,De.Xw0)(u.FIVE_MINUTES),l={topic:n,relay:i,expiry:c,active:!1,methods:s};this.core.expirer.set(n,c),await this.pairings.set(n,l),t.addTrace("store_new_pairing"),e.activatePairing&&await this.activate({topic:n}),this.events.emit(Ut,l),t.addTrace("emit_inactive_pairing"),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(r,n),t.addTrace("subscribing_pairing_topic");try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{t.setError("no_internet_connection")}try{await this.core.relayer.subscribe(n,{relay:i})}catch(e){throw t.setError("subscribe_pairing_topic_failure"),e}return t.addTrace("subscribe_pairing_topic_success"),l}),Bi(this,"activate",async({topic:e})=>{this.isInitialized();const t=(0,De.Xw0)(u.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),Bi(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=(0,De.Wx8)();this.events.once((0,De.hEn)("pairing_ping",e),({error:e})=>{e?i(e):r()}),await n()}}),Bi(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),Bi(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),Bi(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Bi(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",(0,De.Hjj)("USER_DISCONNECTED")),await this.deletePairing(t))}),Bi(this,"formatUriFromPairing",e=>{this.isInitialized();const{topic:t,relay:n,expiry:r,methods:i}=e,a=this.core.crypto.keychain.get(t);return(0,De.QJh)({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:a,relay:n,expiryTimestamp:r,methods:i})}),Bi(this,"sendRequest",async(e,t,n)=>{const r=Ze(t,n),i=await this.core.crypto.encode(e,r),a=jt[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,a),r.id}),Bi(this,"sendResult",async(e,t,n)=>{const r=Xe(e,n),i=await this.core.crypto.encode(t,r),a=(await this.core.history.get(t,e)).request.method,s=jt[a].res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(r)}),Bi(this,"sendError",async(e,t,n)=>{const r=Qe(e,n),i=await this.core.crypto.encode(t,r),a=(await this.core.history.get(t,e)).request.method,s=jt[a]?jt[a].res:jt.unregistered_method.res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(r)}),Bi(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,(0,De.Hjj)("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),Bi(this,"cleanup",async()=>{const e=this.pairings.getAll().filter(e=>(0,De._dF)(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),Bi(this,"onRelayEventRequest",async e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,n);default:return await this.onUnknownRpcMethodRequest(t,n)}}),Bi(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)}),Bi(this,"onPairingPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit("pairing_ping",{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.logger.error(t)}}),Bi(this,"onPairingPingResponse",(e,t)=>{const{id:n}=t;setTimeout(()=>{ct(t)?this.events.emit((0,De.hEn)("pairing_ping",n),{}):lt(t)&&this.events.emit((0,De.hEn)("pairing_ping",n),{error:t.error})},500)}),Bi(this,"onPairingDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(Ft,{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.logger.error(t)}}),Bi(this,"onUnknownRpcMethodRequest",async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=(0,De.Hjj)("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(t){await this.sendError(n,e,t),this.logger.error(t)}}),Bi(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error((0,De.Hjj)("WC_METHOD_UNSUPPORTED",e))}),Bi(this,"isValidPair",(e,t)=>{var n;if(!(0,De.TeY)(e)){const{message:n}=(0,De.GuA)("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(Zt),new Error(n)}if(!(0,De.AYU)(e.uri)){const{message:n}=(0,De.GuA)("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(Zt),new Error(n)}const r=(0,De.wYp)(e?.uri);if(null==(n=r?.relay)||!n.protocol){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(Zt),new Error(e)}if(null==r||!r.symKey){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(Zt),new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,u.toMiliseconds)(r?.expiryTimestamp)<Date.now()){t.setError("pairing_expired");const{message:e}=(0,De.GuA)("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}}),Bi(this,"isValidPing",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),Bi(this,"isValidDisconnect",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),Bi(this,"isValidPairingTopic",async e=>{if(!(0,De.Qhg)(e,!1)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if((0,De._dF)(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=(0,De.GuA)("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}),this.core=e,this.logger=ye(t,this.name),this.pairings=new Li(this.core,this.logger,this.name,this.storagePrefix)}get context(){return be(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Tt,async e=>{const{topic:t,message:n,transportType:r}=e;if(this.pairings.keys.includes(t)&&r!==Rt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const e=await this.core.crypto.decode(t,n);st(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):ot(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,n)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(Wt,async e=>{const{topic:t}=(0,De.c82)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}var Ui=Object.defineProperty,Fi=(e,t,n)=>((e,t,n)=>t in e?Ui(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class $i extends Ee{constructor(e,t){super(e,t),this.core=e,this.logger=t,Fi(this,"records",new Map),Fi(this,"events",new c.EventEmitter),Fi(this,"name","history"),Fi(this,"version","0.3"),Fi(this,"cached",[]),Fi(this,"initialized",!1),Fi(this,"storagePrefix",gt),Fi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Fi(this,"set",(e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:(0,De.Xw0)(u.THIRTY_DAYS)};this.records.set(r.id,r),this.persist(),this.events.emit($t,r)}),Fi(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=lt(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(zt,t))}),Fi(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),Fi(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(Ht,n)}}),this.persist()}),Fi(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),Fi(this,"on",(e,t)=>{this.events.on(e,t)}),Fi(this,"once",(e,t)=>{this.events.once(e,t)}),Fi(this,"off",(e,t)=>{this.events.off(e,t)}),Fi(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=ye(t,this.name)}get context(){return be(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:Ze(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit("history_sync")}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=(0,De.GuA)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on($t,e=>{const t=$t;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(zt,e=>{const t=zt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Ht,e=>{const t=Ht;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(h,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,u.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(Ht,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}}var zi=Object.defineProperty,Hi=(e,t,n)=>((e,t,n)=>t in e?zi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class qi extends Ce{constructor(e,t){super(e,t),this.core=e,this.logger=t,Hi(this,"expirations",new Map),Hi(this,"events",new c.EventEmitter),Hi(this,"name","expirer"),Hi(this,"version","0.3"),Hi(this,"cached",[]),Hi(this,"initialized",!1),Hi(this,"storagePrefix",gt),Hi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Hi(this,"has",e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch{return!1}}),Hi(this,"set",(e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(qt,{target:n,expiration:r})}),Hi(this,"get",e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)}),Hi(this,"del",e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(Kt,{target:t,expiration:n})}}),Hi(this,"on",(e,t)=>{this.events.on(e,t)}),Hi(this,"once",(e,t)=>{this.events.once(e,t)}),Hi(this,"off",(e,t)=>{this.events.off(e,t)}),Hi(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=ye(t,this.name)}get context(){return be(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return(0,De.ADD)(e);if("number"==typeof e)return(0,De.gOF)(e);const{message:t}=(0,De.GuA)("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit("expirer_sync")}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=(0,De.GuA)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,u.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Wt,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(h,()=>this.checkExpirations()),this.events.on(qt,e=>{const t=qt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Wt,e=>{const t=Wt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Kt,e=>{const t=Kt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Ki=Object.defineProperty,Wi=(e,t,n)=>((e,t,n)=>t in e?Ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Vi extends ke{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,Wi(this,"name","verify-api"),Wi(this,"abortController"),Wi(this,"isDevEnv"),Wi(this,"verifyUrlV3",Yt),Wi(this,"storagePrefix",gt),Wi(this,"version",2),Wi(this,"publicKey"),Wi(this,"fetchPromise"),Wi(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,u.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Wi(this,"register",async e=>{if(!(0,De.BdH)()||this.isDevEnv)return;const t=window.location.origin,{id:n,decryptedId:r}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${n}&decryptedId=${r}`;try{const e=(0,ht.getDocument)(),t=this.startAbortTimer(5*u.ONE_SECOND),r=await new Promise((r,a)=>{const s=()=>{window.removeEventListener("message",c),e.body.removeChild(o),a("attestation aborted")};this.abortController.signal.addEventListener("abort",s);const o=e.createElement("iframe");o.src=i,o.style.display="none",o.addEventListener("error",s,{signal:this.abortController.signal});const c=i=>{if(i.data&&"string"==typeof i.data)try{const a=JSON.parse(i.data);if("verify_attestation"===a.type){if((0,Le.Cq)(a.attestation).payload.id!==n)return;clearInterval(t),e.body.removeChild(o),this.abortController.signal.removeEventListener("abort",s),window.removeEventListener("message",c),r(null===a.attestation?"":a.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(o),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug(r,"jwt attestation"),r}catch(e){this.logger.warn(e)}return""}),Wi(this,"resolve",async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:n,encryptedId:r}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,Le.Cq)(t).payload.id!==r)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!n)return;const i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(n,i)}),Wi(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);const n=this.startAbortTimer(5*u.ONE_SECOND),r=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0}),Wi(this,"getVerifyUrl",e=>{let t=e||Gt;return Jt.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${Gt}`),t=Gt),t}),Wi(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const e=this.startAbortTimer(u.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),Wi(this,"persistPublicKey",async e=>{this.logger.debug(e,"persisting public key to local storage"),await this.store.setItem(this.storeKey,e),this.publicKey=e}),Wi(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Wi(this,"isValidJwtAttestation",async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}const n=await this.fetchAndPersistPublicKey();try{if(n)return this.validateAttestation(e,n)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),Wi(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Wi(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});const e=await this.fetchPromise;return this.fetchPromise=void 0,e}),Wi(this,"validateAttestation",(e,t)=>{const n=(0,De.U0i)(e,t.publicKey),r={hasExpired:(0,u.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}}),this.logger=ye(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,De.w8K)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return be(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,u.toMiliseconds)(e))}}var Gi=Object.defineProperty,Yi=(e,t,n)=>((e,t,n)=>t in e?Gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Ji extends Ie{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Yi(this,"context","echo"),Yi(this,"registerDeviceToken",async e=>{const{clientId:t,token:n,notificationType:r,enableEncrypted:i=!1}=e,a=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:r,token:n,always_raw:i})})}),this.logger=ye(t,this.context)}}var Zi=Object.defineProperty,Xi=Object.getOwnPropertySymbols,Qi=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,ta=(e,t,n)=>t in e?Zi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,na=(e,t)=>{for(var n in t||(t={}))Qi.call(t,n)&&ta(e,n,t[n]);if(Xi)for(var n of Xi(t))ea.call(t,n)&&ta(e,n,t[n]);return e},ra=(e,t,n)=>ta(e,"symbol"!=typeof t?t+"":t,n);class ia extends Pe{constructor(e,t,n=!0){super(e,t,n),this.core=e,this.logger=t,ra(this,"context","event-client"),ra(this,"storagePrefix",gt),ra(this,"storageVersion",.1),ra(this,"events",new Map),ra(this,"shouldPersist",!1),ra(this,"init",async()=>{if(!(0,De.w8K)())try{const e={eventId:(0,De.gZm)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,De.ojD)(this.core.relayer.protocol,this.core.relayer.version,Mt)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),ra(this,"createEvent",e=>{const{event:t="ERROR",type:n="",properties:{topic:r,trace:i}}=e,a=(0,De.gZm)(),s=this.core.projectId||"",o=Date.now(),c=na({eventId:a,timestamp:o,props:{event:t,type:n,properties:{topic:r,trace:i}},bundleId:s,domain:this.getAppDomain()},this.setMethods(a));return this.telemetryEnabled&&(this.events.set(a,c),this.shouldPersist=!0),c}),ra(this,"getEvent",e=>{const{eventId:t,topic:n}=e;if(t)return this.events.get(t);const r=Array.from(this.events.values()).find(e=>e.props.properties.topic===n);return r?na(na({},r),this.setMethods(r.eventId)):void 0}),ra(this,"deleteEvent",e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),ra(this,"setEventListeners",()=>{this.core.heartbeat.on(h,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,u.fromMiliseconds)(Date.now())-(0,u.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),ra(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),ra(this,"addTrace",(e,t)=>{const n=this.events.get(e);n&&(n.props.properties.trace.push(t),this.events.set(e,n),this.shouldPersist=!0)}),ra(this,"setError",(e,t)=>{const n=this.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),this.events.set(e,n),this.shouldPersist=!0)}),ra(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ra(this,"restore",async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,na(na({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),ra(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[t,n]of this.events)n.props.type&&e.push(n);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),ra(this,"sendEvent",async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Mt}${t}`,{method:"POST",body:JSON.stringify(e)})}),ra(this,"getAppDomain",()=>(0,De.lFF)().url),this.logger=ye(t,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var aa=Object.defineProperty,sa=Object.getOwnPropertySymbols,oa=Object.prototype.hasOwnProperty,ca=Object.prototype.propertyIsEnumerable,la=(e,t,n)=>t in e?aa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ua=(e,t)=>{for(var n in t||(t={}))oa.call(t,n)&&la(e,n,t[n]);if(sa)for(var n of sa(t))ca.call(t,n)&&la(e,n,t[n]);return e},da=(e,t,n)=>la(e,"symbol"!=typeof t?t+"":t,n);class fa extends we{constructor(e){var t;super(e),da(this,"protocol","wc"),da(this,"version",2),da(this,"name",mt),da(this,"relayUrl"),da(this,"projectId"),da(this,"customStoragePrefix"),da(this,"events",new c.EventEmitter),da(this,"logger"),da(this,"heartbeat"),da(this,"relayer"),da(this,"crypto"),da(this,"storage"),da(this,"history"),da(this,"expirer"),da(this,"pairing"),da(this,"verify"),da(this,"echoClient"),da(this,"linkModeSupportedApps"),da(this,"eventClient"),da(this,"initialized",!1),da(this,"logChunkController"),da(this,"on",(e,t)=>this.events.on(e,t)),da(this,"once",(e,t)=>this.events.once(e,t)),da(this,"off",(e,t)=>this.events.off(e,t)),da(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),da(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:n})=>{if(!e||!t)return;const r={topic:e,message:t,publishedAt:Date.now(),transportType:Rt.link_mode};this.relayer.onLinkMessageEvent(r,{sessionExists:n})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||St,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const r=(s={level:"string"==typeof e?.logger&&e.logger?e.logger:"error",name:mt},he(pe({},s),{level:s?.level||"info"})),{logger:i,chunkLoggerController:a}=function(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new re(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:W()(he(pe({},e.opts),{level:"trace",browser:he(pe({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new ae(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:W()(he(pe({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}({opts:r,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});var s;this.logChunkController=a,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ye(i,this.name),this.heartbeat=new b,this.crypto=new Or(this,this.logger,e?.keychain),this.history=new $i(this,this.logger),this.expirer=new qi(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new q(ua(ua({},wt),e?.storageOptions)),this.relayer=new wi({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ji(this,this.logger),this.verify=new Vi(this,this.logger,this.storage),this.echoClient=new Ji(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new ia(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new fa(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return be(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Lt,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Lt)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,n=`${t}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[t]}catch(e){return void console.warn("Failed to get global WalletConnect core",e)}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[n]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return typeof yt<"u"&&"true"===yt.env.DISABLE_GLOBAL_CORE}catch{return!0}}}const pa=fa;n(65388);Object.defineProperty,Symbol.iterator,Object.defineProperty,Object.defineProperty,Object.defineProperty,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const ha="client",ba=`wc@2:${ha}:`,ya=ha,ma="WALLETCONNECT_DEEPLINK_CHOICE",ga="Proposal expired",wa=u.SEVEN_DAYS,va={wc_sessionPropose:{req:{ttl:u.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1104},res:{ttl:u.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1106},res:{ttl:u.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:u.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:u.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1112},res:{ttl:u.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1114},res:{ttl:u.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:u.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:u.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1119}}},Ea={min:u.FIVE_MINUTES,max:u.SEVEN_DAYS},xa="IDLE",Sa="ACTIVE",Ta={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Aa=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],_a="wc@1.5:auth:",Ca=`${_a}:PUB_KEY`;var ka=Object.defineProperty,Ia=Object.defineProperties,Pa=Object.getOwnPropertyDescriptors,Oa=Object.getOwnPropertySymbols,Ma=Object.prototype.hasOwnProperty,Ra=Object.prototype.propertyIsEnumerable,Na=(e,t,n)=>t in e?ka(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,La=(e,t)=>{for(var n in t||(t={}))Ma.call(t,n)&&Na(e,n,t[n]);if(Oa)for(var n of Oa(t))Ra.call(t,n)&&Na(e,n,t[n]);return e},Da=(e,t)=>Ia(e,Pa(t)),Ba=(e,t,n)=>Na(e,"symbol"!=typeof t?t+"":t,n);class ja extends Ne{constructor(e){super(e),Ba(this,"name","engine"),Ba(this,"events",new c),Ba(this,"initialized",!1),Ba(this,"requestQueue",{state:xa,queue:[]}),Ba(this,"sessionRequestQueue",{state:xa,queue:[]}),Ba(this,"emittedSessionRequests",new De.ZbZ({limit:500})),Ba(this,"requestQueueDelay",u.ONE_SECOND),Ba(this,"expectedPairingMethodMap",new Map),Ba(this,"recentlyDeletedMap",new Map),Ba(this,"recentlyDeletedLimit",200),Ba(this,"relayMessageCache",[]),Ba(this,"pendingSessions",new Map),Ba(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(va)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,u.toMiliseconds)(this.requestQueueDelay)))}),Ba(this,"connect",async e=>{var t;this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Da(La({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=(0,De.XEe)(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:s,scopedProperties:o,relays:c,authentication:l,walletPay:d}=n,f=(null==(t=l?.[0])?void 0:t.ttl)||va.wc_sessionPropose.req.ttl||u.FIVE_MINUTES;this.validateRequestExpiry(f);let p,h=r,b=!1;try{if(h){const e=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),b=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),e}if(!h||!b){const{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=e,p=t}if(!h){const{message:e}=(0,De.GuA)("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(e)}const y=await this.client.core.crypto.generateKeyPair(),m=(0,De.Xw0)(f),g=La(Da(La(La({requiredNamespaces:i,optionalNamespaces:a,relays:c??[{protocol:"irn"}],proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:h},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:Ye()}),(l||d)&&{requests:{authentication:l?.map(e=>{const{domain:t,chains:n,nonce:r,uri:i,exp:a,nbf:s,type:o,statement:c,requestId:l,resources:u,signatureTypes:d}=e;return{domain:t,chains:n,nonce:r,type:o??"caip122",aud:i,version:"1",iat:(new Date).toISOString(),exp:a,nbf:s,statement:c,requestId:l,resources:u,signatureTypes:d}}),walletPay:d}}),w=(0,De.hEn)("session_connect",g.id),{reject:v,resolve:E,done:x}=(0,De.Wx8)(f,ga),S=({id:e})=>{e===g.id&&(this.client.events.off("proposal_expire",S),this.pendingSessions.delete(g.id),this.events.emit(w,{error:{message:ga,code:0}}))};return this.client.events.on("proposal_expire",S),this.events.once(w,({error:e,session:t})=>{this.client.events.off("proposal_expire",S),e?v(e):t&&E(t)}),await this.setProposal(g.id,g),await this.sendProposeSession({proposal:g,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:g.id}}}).catch(e=>{throw this.deleteProposal(g.id),e}),{uri:p,approval:x}}),Ba(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),Ba(this,"approve",async e=>{var t,n,r;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[Xt]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError("no_internet_connection"),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError("proposal_not_found"),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError("session_approve_namespace_validation_failure"),e}const{id:a,relayProtocol:s,namespaces:o,sessionProperties:c,scopedProperties:l,sessionConfig:u,proposalRequestsResponses:d}=e,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:p,proposer:h,requiredNamespaces:b,optionalNamespaces:y}=f;let m=null==(n=this.client.core.eventClient)?void 0:n.getEvent({topic:p});m||(m=null==(r=this.client.core.eventClient)?void 0:r.createEvent({type:Xt,properties:{topic:p,trace:[Xt,"session_namespaces_validation_success"]}}));const g=await this.client.core.crypto.generateKeyPair(),w=h.publicKey,v=await this.client.core.crypto.generateSharedKey(g,w),E=Da(La(La(La({relay:{protocol:s??"irn"},namespaces:o,controller:{publicKey:g,metadata:this.client.metadata},expiry:(0,De.Xw0)(wa)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),{proposalRequestsResponses:d}),x=Rt.relay;m.addTrace("subscribing_session_topic");try{await this.client.core.relayer.subscribe(v,{transportType:x,internal:{skipSubscribe:!0}})}catch(e){throw m.setError("subscribe_session_topic_failure"),e}m.addTrace("subscribe_session_topic_success");const S=Da(La({},E),{topic:v,requiredNamespaces:b,optionalNamespaces:y,pairingTopic:p,acknowledged:!1,self:E.controller,peer:{publicKey:h.publicKey,metadata:h.metadata},controller:g,transportType:Rt.relay,authentication:d?.authentication,walletPayResult:d?.walletPay});await this.client.session.set(v,S),m.addTrace("store_session");try{await this.sendApproveSession({sessionTopic:v,proposal:f,pairingProposalResponse:{relay:{protocol:s??"irn"},responderPublicKey:g},sessionSettleRequest:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:La({correlationId:a},this.getTVFApproveParams(S))}}),m.addTrace("session_approve_publish_success")}catch(e){throw this.client.logger.error(e),this.client.session.delete(v,(0,De.Hjj)("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),e}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:h.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(v,(0,De.Xw0)(wa)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}}),Ba(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}const{id:t,reason:n}=e;let r;try{r=this.client.proposal.get(t).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),e}r&&await this.sendError({id:t,topic:r,error:n,rpcOpts:va.wc_sessionPropose.reject}),await this.deleteProposal(t)}),Ba(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}const{topic:t,namespaces:n}=e,{done:r,resolve:i,reject:a}=(0,De.Wx8)(u.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),s=Ye(),o=Je().toString(),c=this.client.session.get(t).namespaces;return this.events.once((0,De.hEn)("session_update",s),({error:e})=>{e?a(e):i()}),await this.client.session.update(t,{namespaces:n}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:o}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),a(e)}),{acknowledged:r}}),Ba(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}const{topic:t}=e,n=Ye(),{done:r,resolve:i,reject:a}=(0,De.Wx8)(u.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once((0,De.hEn)("session_extend",n),({error:e})=>{e?a(e):i()}),await this.setExpiry(t,(0,De.Xw0)(wa)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(e=>{a(e)}),{acknowledged:r}}),Ba(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}const{chainId:t,request:n,topic:r,expiry:i=va.wc_sessionRequest.req.ttl}=e,a=this.client.session.get(r);a?.transportType===Rt.relay&&await this.confirmOnlineStateOrThrow();const s=Ye(),o=Je().toString(),{done:c,resolve:l,reject:u}=(0,De.Wx8)(i,"Request expired. Please try again.");this.events.once((0,De.hEn)("session_request",s),({error:e,result:t})=>{e?u(e):l(t)});const d="wc_sessionRequest",f=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(f)return await this.sendRequest({clientRpcId:s,relayRpcId:o,topic:r,method:d,params:{request:Da(La({},n),{expiryTimestamp:(0,De.Xw0)(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:f}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:s}),await c();const p={request:Da(La({},n),{expiryTimestamp:(0,De.Xw0)(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:s,relayRpcId:o,topic:r,method:d,params:p,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(s,p)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:s}),e()}),new Promise(async e=>{var t;if(null==(t=a.sessionConfig)||!t.disableDeepLink){const e=await(0,De.jTh)(this.client.core.storage,ma);await(0,De.n3s)({id:s,topic:r,wcDeepLink:e})}e()}),c()]).then(e=>e[2])}),Ba(this,"respond",async e=>{var t,n;this.isInitialized();const r=this.client.core.eventClient.createEvent({properties:{topic:e?.topic||(null==(n=null==(t=e?.response)?void 0:t.id)?void 0:n.toString()),trace:["session_request_response_started"]}});try{await this.isValidRespond(e)}catch(e){throw r.addTrace(e?.message),r.setError("session_request_response_validation_failure"),e}r.addTrace("session_request_response_validation_success");const{topic:i,response:a}=e,{id:s}=a,o=this.client.session.get(i);o.transportType===Rt.relay&&await this.confirmOnlineStateOrThrow();const c=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);try{r.addTrace("session_request_response_publish_started"),ct(a)?await this.sendResult({id:s,topic:i,result:a.result,throwOnFailedPublish:!0,appLink:c}):lt(a)&&await this.sendError({id:s,topic:i,error:a.error,appLink:c}),this.cleanupAfterResponse(e)}catch(e){throw r.addTrace(e?.message),r.setError("session_request_response_publish_failure"),e}}),Ba(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=Ye(),n=Je().toString(),{done:r,resolve:i,reject:a}=(0,De.Wx8)(u.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once((0,De.hEn)("session_ping",e),({error:e})=>{e?a(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:n}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),Ba(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e,i=Je().toString(),a=Ye();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:a})}),Ba(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:(0,De.Hjj)("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=(0,De.GuA)("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}}),Ba(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(0,De.HNf)(t,e)))),Ba(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Ba(this,"authenticate",async(e,t)=>{var n;this.isInitialized(),this.isValidAuthenticate(e);const r=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(n=this.client.metadata.redirect)?void 0:n.linkMode),i=r?Rt.link_mode:Rt.relay;i===Rt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:s="",uri:o,domain:c,nonce:l,type:u,exp:d,nbf:f,methods:p=[],expiry:h}=e,b=[...e.resources||[]],{topic:y,uri:m}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:m}});const g=await this.client.core.crypto.generateKeyPair(),w=(0,De.EN$)(g);if(await Promise.all([this.client.auth.authKeys.set(Ca,{responseTopic:w,publicKey:g}),this.client.auth.pairingTopics.set(w,{topic:w,pairingTopic:y})]),await this.client.core.relayer.subscribe(w,{transportType:i}),this.client.logger.info(`sending request to new pairing topic: ${y}`),p.length>0){const{namespace:e}=(0,De._Yb)(a[0]);let t=(0,De.e8_)(e,"request",p);(0,De.VBM)(b)&&(t=(0,De.hVC)(t,b.pop())),b.push(t)}const v=h&&h>va.wc_sessionAuthenticate.req.ttl?h:va.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:u??"caip122",chains:a,statement:s,aud:o,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:d,nbf:f,resources:b},requester:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:(0,De.Xw0)(v)},x={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:a,methods:[...new Set(["personal_sign",...p])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:(0,De.Xw0)(va.wc_sessionPropose.req.ttl),id:Ye()},{done:S,resolve:T,reject:A}=(0,De.Wx8)(v,"Request expired"),_=Ye(),C=(0,De.hEn)("session_connect",x.id),k=(0,De.hEn)("session_request",_),I=async({error:e,session:t})=>{this.events.off(k,P),e?A(e):t&&T({session:t})},P=async e=>{var n,r,a;if(await this.deletePendingAuthRequest(_,{message:"fulfilled",code:0}),e.error){const t=(0,De.Hjj)("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(C,I),A(e.error.message))}await this.deleteProposal(x.id),this.events.off(C,I);const{cacaos:s,responder:o}=e.result,c=[],l=[];for(const e of s){await(0,De.IjX)({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),A((0,De.Hjj)("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:t}=e,n=(0,De.VBM)(t.resources),r=[(0,De.xkc)(t.iss)],i=(0,De.q_h)(t.iss);if(n){const e=(0,De.sc_)(n),t=(0,De.WWN)(n);c.push(...e),r.push(...t)}for(const e of r)l.push(`${e}:${i}`)}const u=await this.client.core.crypto.generateSharedKey(g,o.publicKey);let d;c.length>0&&(d={topic:u,acknowledged:!0,self:{publicKey:g,metadata:this.client.metadata},peer:o,controller:o.publicKey,expiry:(0,De.Xw0)(wa),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:(0,De.Van)([...new Set(c)],[...new Set(l)]),transportType:i},await this.client.core.relayer.subscribe(u,{transportType:i}),await this.client.session.set(u,d),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:o.metadata}),d=this.client.session.get(u)),null!=(n=this.client.metadata.redirect)&&n.linkMode&&null!=(r=o.metadata.redirect)&&r.linkMode&&null!=(a=o.metadata.redirect)&&a.universal&&t&&(this.client.core.addLinkModeSupportedApp(o.metadata.redirect.universal),this.client.session.update(u,{transportType:Rt.link_mode})),T({auths:s,session:d})};let O;this.events.once(C,I),this.events.once(k,P);try{if(r){const e=Ze("wc_sessionAuthenticate",E,_);this.client.core.history.set(y,e);const n=await this.client.core.crypto.encode("",e,{type:De.EHS,encoding:De.Pa8});O=(0,De.$Bq)(t,y,n)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:E,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:_}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:x,expiry:va.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(e){throw this.events.off(C,I),this.events.off(k,P),e}return await this.setProposal(x.id,x),await this.setAuthRequest(_,{request:Da(La({},E),{verifyContext:{}}),pairingTopic:y,transportType:i}),{uri:O??m,response:S}}),Ba(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:n}=e,r=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:["authenticated_session_approve_started"]}});try{this.isInitialized()}catch(e){throw r.setError("no_internet_connection"),e}const i=this.getPendingAuthRequest(t);if(!i)throw r.setError("authenticated_session_pending_request_not_found"),new Error(`Could not find pending auth request with id ${t}`);const a=i.transportType||Rt.relay;a===Rt.relay&&await this.confirmOnlineStateOrThrow();const s=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),c=(0,De.EN$)(s),l={type:De.Lp_,receiverPublicKey:s,senderPublicKey:o},u=[],d=[];for(const e of n){if(!await(0,De.IjX)({cacao:e,projectId:this.client.core.projectId})){r.setError("invalid_cacao");const e=(0,De.Hjj)("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}r.addTrace("cacaos_verified");const{p:n}=e,i=(0,De.VBM)(n.resources),a=[(0,De.xkc)(n.iss)],s=(0,De.q_h)(n.iss);if(i){const e=(0,De.sc_)(i),t=(0,De.WWN)(i);u.push(...e),a.push(...t)}for(const e of a)d.push(`${e}:${s}`)}const f=await this.client.core.crypto.generateSharedKey(o,s);let p;if(r.addTrace("create_authenticated_session_topic"),u?.length>0){p={topic:f,acknowledged:!0,self:{publicKey:o,metadata:this.client.metadata},peer:{publicKey:s,metadata:i.requester.metadata},controller:s,expiry:(0,De.Xw0)(wa),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:(0,De.Van)([...new Set(u)],[...new Set(d)]),transportType:a},r.addTrace("subscribing_authenticated_session_topic");try{await this.client.core.relayer.subscribe(f,{transportType:a})}catch(e){throw r.setError("subscribe_authenticated_session_topic_failure"),e}r.addTrace("subscribe_authenticated_session_topic_success"),await this.client.session.set(f,p),r.addTrace("store_authenticated_session"),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}r.addTrace("publishing_authenticated_session_approve");try{await this.sendResult({topic:c,id:t,result:{cacaos:n,responder:{publicKey:o,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,a)})}catch(e){throw r.setError("authenticated_session_approve_publish_failure"),e}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:r.eventId}),{session:p}}),Ba(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:n}=e,r=this.getPendingAuthRequest(t);if(!r)throw new Error(`Could not find pending auth request with id ${t}`);r.transportType===Rt.relay&&await this.confirmOnlineStateOrThrow();const i=r.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),s=(0,De.EN$)(i),o={type:De.Lp_,receiverPublicKey:i,senderPublicKey:a};await this.sendError({id:t,topic:s,error:n,encodeOpts:o,rpcOpts:va.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(r.requester.metadata,r.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),Ba(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:n}=e;return(0,De.hwK)(t,n)}),Ba(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),Ba(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic});if(0===n.length)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),Ba(this,"deleteSession",async e=>{var t;const{topic:n,expirerHasDeleted:r=!1,emitEvent:i=!0,id:a=0}=e,{self:s}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,(0,De.Hjj)("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(s.publicKey)&&await this.client.core.crypto.deleteKeyPair(s.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),r||this.client.core.expirer.del(n),this.client.core.storage.removeItem(ma).catch(e=>this.client.logger.warn(e)),n===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=xa),await Promise.all(this.getPendingSessionRequests().filter(e=>e.topic===n).map(e=>this.deletePendingSessionRequest(e.id,(0,De.Hjj)("USER_DISCONNECTED")))),i&&this.client.events.emit("session_delete",{id:a,topic:n})}),Ba(this,"deleteProposal",async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),n=this.client.core.eventClient.getEvent({topic:t.pairingTopic});n?.setError("proposal_expired")}catch{}await Promise.all([this.client.proposal.delete(e,(0,De.Hjj)("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),Ba(this,"deletePendingSessionRequest",async(e,t,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),n?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),n&&(this.sessionRequestQueue.state=xa,this.client.events.emit("session_request_expire",{id:e}))}),Ba(this,"deletePendingAuthRequest",async(e,t,n=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),n?Promise.resolve():this.client.core.expirer.del(e)])}),Ba(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),Ba(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,(0,De.Xw0)(va.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),Ba(this,"setAuthRequest",async(e,t)=>{const{request:n,pairingTopic:r,transportType:i=Rt.relay}=t;this.client.core.expirer.set(e,n.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:e,pairingTopic:r,verifyContext:n.verifyContext,transportType:i})}),Ba(this,"setPendingSessionRequest",async e=>{const{id:t,topic:n,params:r,verifyContext:i}=e,a=r.request.expiryTimestamp||(0,De.Xw0)(va.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,a),await this.client.pendingRequest.set(t,{id:t,topic:n,params:r,verifyContext:i})}),Ba(this,"sendRequest",async e=>{const{topic:t,method:n,params:r,expiry:i,relayRpcId:a,clientRpcId:s,throwOnFailedPublish:o,appLink:c,tvf:l,publishOpts:u={}}=e,d=Ze(n,r,s);let f;const p=!!c;try{const e=p?De.Pa8:De.EWt;f=await this.client.core.crypto.encode(t,d,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),e}let h;if(Aa.includes(n)){const e=(0,De.ALl)(JSON.stringify(d)),t=(0,De.ALl)(f);h=await this.client.core.verify.register({id:t,decryptedId:e})}const b=La(La({},va[n].req),u);if(b.attestation=h,i&&(b.ttl=i),a&&(b.id=a),this.client.core.history.set(t,d),p){const e=(0,De.$Bq)(c,t,f);await global.Linking.openURL(e,this.client.name)}else b.tvf=Da(La({},l),{correlationId:d.id}),o?(b.internal=Da(La({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,f,b)):this.client.core.relayer.publish(t,f,b).catch(e=>this.client.logger.error(e));return d.id}),Ba(this,"sendProposeSession",async e=>{const{proposal:t,publishOpts:n}=e,r=Ze("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,r);const i=await this.client.core.crypto.encode(t.pairingTopic,r,{encoding:De.EWt}),a=(0,De.ALl)(JSON.stringify(r)),s=(0,De.ALl)(i),o=await this.client.core.verify.register({id:s,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:Da(La({},n),{publishMethod:"wc_proposeSession",attestation:o})})}),Ba(this,"sendApproveSession",async e=>{const{sessionTopic:t,pairingProposalResponse:n,proposal:r,sessionSettleRequest:i,publishOpts:a}=e,s=Xe(r.id,n),o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:De.EWt}),c=Ze("wc_sessionSettle",i,a?.id),l=await this.client.core.crypto.encode(t,c,{encoding:De.EWt});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:r.pairingTopic,sessionProposalResponse:o,sessionSettlementRequest:l},opts:Da(La({},a),{publishMethod:"wc_approveSession"})})}),Ba(this,"sendResult",async e=>{const{id:t,topic:n,result:r,throwOnFailedPublish:i,encodeOpts:a,appLink:s}=e,o=Xe(t,r);let c;const l=s&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?De.Pa8:De.EWt;c=await this.client.core.crypto.encode(n,o,Da(La({},a||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),e}let u,d;try{u=await this.client.core.history.get(n,t);const e=u.request;try{d=this.getTVFParams(t,e.params,r)}catch(e){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${e?.message}`)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${t}) failed`),e}if(l){const e=(0,De.$Bq)(s,n,c);await global.Linking.openURL(e,this.client.name)}else{const e=u.request.method,r=va[e].res;r.tvf=Da(La({},d),{correlationId:t}),i?(r.internal=Da(La({},r.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,c,r)):this.client.core.relayer.publish(n,c,r).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(o)}),Ba(this,"sendError",async e=>{const{id:t,topic:n,error:r,encodeOpts:i,rpcOpts:a,appLink:s}=e,o=Qe(t,r);let c;const l=s&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?De.Pa8:De.EWt;c=await this.client.core.crypto.encode(n,o,Da(La({},i||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),e}let u;try{u=await this.client.core.history.get(n,t)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${n}, ${t}) failed`),e}if(l){const e=(0,De.$Bq)(s,n,c);await global.Linking.openURL(e,this.client.name)}else{const e=u.request.method,t=a||va[e].res;this.client.core.relayer.publish(n,c,t)}await this.client.core.history.resolve(o)}),Ba(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(t=>{let n=!1;(0,De._dF)(t.expiry)&&(n=!0),this.client.core.crypto.keychain.has(t.topic)||(n=!0),n&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{(0,De._dF)(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),Ba(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),Ba(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),Ba(this,"processRequestsQueue",async()=>{if(this.requestQueue.state!==Sa){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Sa;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=xa}else this.client.logger.info("Request queue already active, skipping...")}),Ba(this,"processRequest",async e=>{const{topic:t,payload:n,attestation:r,transportType:i,encryptedId:a}=e,s=n.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:s}))switch(s){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:n,attestation:r,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,n);case"wc_sessionPing":return await this.onSessionPingRequest(t,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:n,attestation:r,encryptedId:a,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:n,attestation:r,encryptedId:a,transportType:i});default:return this.client.logger.info(`Unsupported request method ${s}`)}}),Ba(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n,transportType:r}=e,i=(await this.client.core.history.get(t,n.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,n);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),Ba(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:n}=(0,De.GuA)("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)}),Ba(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:n}=e,r=this.expectedPairingMethodMap.get(t);return!(!r||r.includes(n)||!(r.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0))}),Ba(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:n,attestation:r,encryptedId:i}=e,{params:a,id:s}=n;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError("proposal_listener_not_found")),this.isValidConnect(La({},n.params));const o=a.expiryTimestamp||(0,De.Xw0)(va.wc_sessionPropose.req.ttl),c=La({id:s,pairingTopic:t,expiryTimestamp:o,attestation:r,encryptedId:i},a);await this.setProposal(s,c);const l=await this.getVerifyContext({attestationId:r,hash:(0,De.ALl)(JSON.stringify(n)),encryptedId:i,metadata:c.proposer.metadata});e?.addTrace("emit_session_proposal"),this.client.events.emit("session_proposal",{id:s,params:c,verifyContext:l})}catch(e){await this.sendError({id:s,topic:t,error:e,rpcOpts:va.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),Ba(this,"onSessionProposeResponse",async(e,t,n)=>{const{id:r}=t;if(ct(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const a=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const s=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});const o=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});const c=await this.client.core.crypto.generateSharedKey(s,o);this.pendingSessions.set(r,{sessionTopic:c,pairingTopic:e,proposalId:r,publicKey:s});const l=await this.client.core.relayer.subscribe(c,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if(lt(t)){await this.deleteProposal(r);const e=(0,De.hEn)("session_connect",r);if(0===this.events.listenerCount(e))throw new Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),Ba(this,"onSessionSettleRequest",async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:a,namespaces:s,sessionProperties:o,scopedProperties:c,sessionConfig:l,proposalRequestsResponses:u}=t.params,d=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!d)return this.client.logger.error(`Pending session not found for topic ${e}`);const f=this.client.proposal.get(d.proposalId),p=Da(La(La(La({topic:e,relay:n,expiry:a,namespaces:s,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces,controller:i.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},o&&{sessionProperties:o}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:Rt.relay,authentication:u?.authentication,walletPayResult:u?.walletPay});await this.client.session.set(p.topic,p),await this.setExpiry(p.topic,p.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:p.peer.metadata}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(p),await this.sendResult({id:t.id,topic:e,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:p}),this.events.emit((0,De.hEn)("session_connect",d.proposalId),{session:p})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),Ba(this,"onSessionSettleResponse",async(e,t)=>{const{id:n}=t;ct(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,De.hEn)("session_approve",n),{})):lt(t)&&(await this.client.session.delete(e,(0,De.Hjj)("USER_DISCONNECTED")),this.events.emit((0,De.hEn)("session_approve",n),{error:t.error}))}),Ba(this,"onSessionUpdateRequest",async(e,t)=>{const{params:n,id:r}=t;try{const t=`${e}_session_update`,i=De.nyL.get(t);if(i&&this.isRequestOutOfSync(i,r))return this.client.logger.warn(`Discarding out of sync request - ${r}`),void this.sendError({id:r,topic:e,error:(0,De.Hjj)("INVALID_UPDATE_REQUEST")});this.isValidUpdate(La({topic:e},n));try{De.nyL.set(t,r),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0})}catch(e){throw De.nyL.delete(t),e}this.client.events.emit("session_update",{id:r,topic:e,params:n})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),Ba(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),Ba(this,"onSessionUpdateResponse",(e,t)=>{const{id:n}=t,r=(0,De.hEn)("session_update",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);ct(t)?this.events.emit((0,De.hEn)("session_update",n),{}):lt(t)&&this.events.emit((0,De.hEn)("session_update",n),{error:t.error})}),Ba(this,"onSessionExtendRequest",async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,De.Xw0)(wa)),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),Ba(this,"onSessionExtendResponse",(e,t)=>{const{id:n}=t,r=(0,De.hEn)("session_extend",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);ct(t)?this.events.emit((0,De.hEn)("session_extend",n),{}):lt(t)&&this.events.emit((0,De.hEn)("session_extend",n),{error:t.error})}),Ba(this,"onSessionPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),Ba(this,"onSessionPingResponse",(e,t)=>{const{id:n}=t,r=(0,De.hEn)("session_ping",n);setTimeout(()=>{if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners 2176`);ct(t)?this.events.emit((0,De.hEn)("session_ping",n),{}):lt(t)&&this.events.emit((0,De.hEn)("session_ping",n),{error:t.error})},500)}),Ba(this,"onSessionDeleteRequest",async(e,t)=>{const{id:n}=t;try{await this.isValidDisconnect({topic:e,reason:t.params}),this.cleanupPendingSentRequestsForTopic({topic:e,error:(0,De.Hjj)("USER_DISCONNECTED")}),await this.deleteSession({topic:e,id:n})}catch(e){this.client.logger.error(e)}}),Ba(this,"onSessionRequest",async e=>{var t,n,r;const{topic:i,payload:a,attestation:s,encryptedId:o,transportType:c}=e,{id:l,params:u}=a;try{await this.isValidRequest(La({topic:i},u));const e=this.client.session.get(i),a={id:l,topic:i,params:u,verifyContext:await this.getVerifyContext({attestationId:s,hash:(0,De.ALl)(JSON.stringify(Ze("wc_sessionRequest",u,l))),encryptedId:o,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(a),c===Rt.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(n=e.peer.metadata.redirect)?void 0:n.universal),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(a):(this.addSessionRequestToSessionRequestQueue(a),this.processSessionRequestQueue())}catch(e){await this.sendError({id:l,topic:i,error:e}),this.client.logger.error(e)}}),Ba(this,"onSessionRequestResponse",(e,t)=>{const{id:n}=t,r=(0,De.hEn)("session_request",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);ct(t)?this.events.emit((0,De.hEn)("session_request",n),{result:t.result}):lt(t)&&this.events.emit((0,De.hEn)("session_request",n),{error:t.error})}),Ba(this,"onSessionEventRequest",async(e,t)=>{const{id:n,params:r}=t;try{const t=`${e}_session_event_${r.event.name}`,i=De.nyL.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info(`Discarding out of sync request - ${n}`);this.isValidEmit(La({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),De.nyL.set(t,n)}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),Ba(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:n}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),ct(t)?this.events.emit((0,De.hEn)("session_request",n),{result:t.result}):lt(t)&&this.events.emit((0,De.hEn)("session_request",n),{error:t.error})}),Ba(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:n,payload:r,attestation:i,encryptedId:a,transportType:s}=e;try{const{requester:e,authPayload:o,expiryTimestamp:c}=r.params,l=await this.getVerifyContext({attestationId:i,hash:(0,De.ALl)(JSON.stringify(r)),encryptedId:a,metadata:e.metadata,transportType:s}),u={requester:e,pairingTopic:n,id:r.id,authPayload:o,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(r.id,{request:u,pairingTopic:n,transportType:s}),s===Rt.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:r.params,id:r.id,verifyContext:l})}catch(e){this.client.logger.error(e);const t=r.params.requester.publicKey,i=await this.client.core.crypto.generateKeyPair(),a=this.getAppLinkIfEnabled(r.params.requester.metadata,s),o={type:De.Lp_,receiverPublicKey:t,senderPublicKey:i};await this.sendError({id:r.id,topic:n,error:e,encodeOpts:o,rpcOpts:va.wc_sessionAuthenticate.autoReject,appLink:a})}}),Ba(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),Ba(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=xa,this.processSessionRequestQueue()},(0,u.toMiliseconds)(this.requestQueueDelay))}),Ba(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{this.events.emit((0,De.hEn)("session_request",e.request.id),{error:t})})}),Ba(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Sa)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}else this.client.logger.info("session request queue is empty.")}),Ba(this,"emitSessionRequest",e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`):(this.sessionRequestQueue.state=Sa,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))}),Ba(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:Ze("wc_sessionPropose",Da(La({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),Ba(this,"isValidConnect",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:a,relays:s}=e;if((0,De.b07)(t)||await this.isValidPairingTopic(t),!(0,De.V9G)(s,!0)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(e)}if(n&&!(0,De.b07)(n)&&0!==(0,De.aF0)(n)){const e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(r&&!(0,De.b07)(r)&&0!==(0,De.aF0)(r)&&this.validateNamespaces(r,"optionalNamespaces"),i&&!(0,De.b07)(i)&&this.validateSessionProps(i,"sessionProperties"),a&&!(0,De.b07)(a)){this.validateSessionProps(a,"scopedProperties");const e=Object.keys(n||{}).concat(Object.keys(r||{}));if(!Object.keys(a).every(t=>e.includes(t.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),Ba(this,"validateNamespaces",(e,t)=>{const n=(0,De.esh)(e,"connect()",t);if(n)throw new Error(n.message)}),Ba(this,"isValidApprove",async e=>{if(!(0,De.TeY)(e))throw new Error((0,De.GuA)("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i,scopedProperties:a}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const s=this.client.proposal.get(t),o=(0,De.FiO)(n,"approve()");if(o)throw new Error(o.message);const c=(0,De.XqR)(s.requiredNamespaces,n,"approve()");if(c)throw new Error(c.message);if(!(0,De.Qhg)(r,!0)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`approve() relayProtocol: ${r}`);throw new Error(e)}if(i&&!(0,De.b07)(i)&&this.validateSessionProps(i,"sessionProperties"),a&&!(0,De.b07)(a)){this.validateSessionProps(a,"scopedProperties");const e=new Set(Object.keys(n));if(!Object.keys(a).every(t=>e.has(t.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),Ba(this,"isValidReject",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(t)}const{id:t,reason:n}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!(0,De.X3c)(n)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(e)}}),Ba(this,"isValidSessionSettleRequest",e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!(0,De.kuU)(t)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const a=(0,De.tk0)(n,"onSessionSettleRequest()");if(a)throw new Error(a.message);const s=(0,De.FiO)(r,"onSessionSettleRequest()");if(s)throw new Error(s.message);if((0,De._dF)(i)){const{message:e}=(0,De.GuA)("EXPIRED","onSessionSettleRequest()");throw new Error(e)}}),Ba(this,"isValidUpdate",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(t)}const{topic:t,namespaces:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=(0,De.FiO)(n,"update()");if(i)throw new Error(i.message);const a=(0,De.XqR)(r.requiredNamespaces,n,"update()");if(a)throw new Error(a.message)}),Ba(this,"isValidExtend",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),Ba(this,"isValidRequest",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:a}=this.client.session.get(t);if(!(0,De.tLy)(a,r)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`request() chainId: ${r}`);throw new Error(e)}if(!(0,De.iV1)(n)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(e)}if(!(0,De.oKp)(a,r,n.method)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(e)}this.validateRequestExpiry(i)}),Ba(this,"isValidRespond",async e=>{var t;if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(t)}const{topic:n,response:r}=e;try{await this.isValidSessionTopic(n)}catch(n){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),n}if(!(0,De.M8n)(r)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(r)}`);throw new Error(e)}const i=this.client.pendingRequest.get(r.id);if(i.topic!==n){const{message:e}=(0,De.GuA)("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${r.id}, expected topic: ${i.topic}, received topic: ${n}`);throw new Error(e)}}),Ba(this,"isValidPing",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),Ba(this,"isValidEmit",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!(0,De.tLy)(i,r)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`emit() chainId: ${r}`);throw new Error(e)}if(!(0,De.FR8)(n)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}if(!(0,De.z2N)(i,r,n.name)){const{message:e}=(0,De.GuA)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}}),Ba(this,"isValidDisconnect",async e=>{if(!(0,De.TeY)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),Ba(this,"isValidAuthenticate",e=>{const{chains:t,uri:n,domain:r,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!(0,De.Qhg)(n,!1))throw new Error("uri is required parameter");if(!(0,De.Qhg)(r,!1))throw new Error("domain is required parameter");if(!(0,De.Qhg)(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map(e=>(0,De._Yb)(e).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=(0,De._Yb)(t[0]);if("eip155"!==a)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Ba(this,"getVerifyContext",async e=>{const{attestationId:t,hash:n,encryptedId:r,metadata:i,transportType:a}=e,s={verified:{verifyUrl:i.verifyUrl||Gt,validation:"UNKNOWN",origin:i.url||""}};try{if(a===Rt.link_mode){const e=this.getAppLinkIfEnabled(i,a);return s.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",s}const e=await this.client.core.verify.resolve({attestationId:t,hash:n,encryptedId:r,verifyUrl:i.verifyUrl});e&&(s.verified.origin=e.origin,s.verified.isScam=e.isScam,s.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(s)}`),s}),Ba(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((n,r)=>{if(null==n){const{message:i}=(0,De.GuA)("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${n} for key ${Object.keys(e)[r]}`);throw new Error(i)}})}),Ba(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),Ba(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const n of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(n)}}}),Ba(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:n}=(0,De.GuA)("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(n)}}),Ba(this,"isLinkModeEnabled",(e,t)=>{var n,r,i,a,s,o,c,l,u;return!(!e||t!==Rt.link_mode)&&!0===(null==(r=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:r.linkMode)&&void 0!==(null==(a=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:a.universal)&&""!==(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)&&void 0!==(null==(c=e?.redirect)?void 0:c.universal)&&""!==(null==(l=e?.redirect)?void 0:l.universal)&&!0===(null==(u=e?.redirect)?void 0:u.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==global?void 0:global.Linking)<"u"}),Ba(this,"getAppLinkIfEnabled",(e,t)=>{var n;return this.isLinkModeEnabled(e,t)?null==(n=e?.redirect)?void 0:n.universal:void 0}),Ba(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;const t=(0,De.$hI)(e,"topic")||"",n=decodeURIComponent((0,De.$hI)(e,"wc_ev")||""),r=this.client.session.keys.includes(t);r&&this.client.session.update(t,{transportType:Rt.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:n,sessionExists:r})}),Ba(this,"registerLinkModeListeners",async()=>{var e;if((0,De.w8K)()||(0,De.lVv)()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==global?void 0:global.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),Ba(this,"getTVFApproveParams",e=>{try{const t=(0,De.fXy)(e.namespaces),n=(0,De.V7u)(e.namespaces),r=(0,De.g_l)(e.namespaces);return{approvedChains:t,approvedMethods:n,approvedEvents:r,sessionProperties:e.sessionProperties,scopedProperties:e.scopedProperties}}catch(e){return this.client.logger.warn(e,"Error getting TVF approve params"),{}}}),Ba(this,"getTVFParams",(e,t,n)=>{var r,i,a;if(null==(r=t.request)||!r.method)return{};const s={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{const e=this.extractTxHashesFromResult(t.request,n);s.txHashes=e,s.contractAddresses=this.isValidContractData(t.request.params)?[null==(a=null==(i=t.request.params)?void 0:i[0])?void 0:a.to]:[]}catch(e){this.client.logger.warn(e,"Error getting TVF params")}return s}),Ba(this,"isValidContractData",e=>{var t;if(!e)return!1;try{const n=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;const r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2==0}catch{}return!1}),Ba(this,"extractTxHashesFromResult",(e,t)=>{var n;try{if(!t)return[];const r=e.method,i=Ta[r];if("sui_signTransaction"===r)return[(0,De.mXn)(t.transactionBytes)];if("near_signTransaction"===r)return[(0,De.KLX)(t)];if("near_signTransactions"===r)return t.map(e=>(0,De.KLX)(e));if("xrpl_signTransactionFor"===r||"xrpl_signTransaction"===r)return[null==(n=t.tx_json)?void 0:n.hash];if("polkadot_signTransaction"===r)return[(0,De.muJ)({transaction:e.params.transactionPayload,signature:t.signature})];if("algo_signTxn"===r)return(0,De.OP1)(t)?t.map(e=>(0,De.QV1)(e)):[(0,De.QV1)(t)];if("cosmos_signDirect"===r)return[(0,De.nYL)(t)];if("wallet_sendCalls"===r)return(0,De.psp)(t);if("string"==typeof t)return[t];const a=t[i.key];if((0,De.OP1)(a))return"solana_signAllTransactions"===r?a.map(e=>(0,De.PAk)(e)):a;if("string"==typeof a)return[a]}catch(e){this.client.logger.warn(e,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[e,n]of Object.entries(t))for(const t of n)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=(0,De.GuA)("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Tt,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:n,attestation:r,transportType:i}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(Ca)?this.client.auth.authKeys.get(Ca):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,n,{receiverPublicKey:a,encoding:i===Rt.link_mode?De.Pa8:De.EWt});st(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:r,transportType:i,encryptedId:(0,De.ALl)(n)})):ot(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(e)}`),await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i})),await this.client.core.relayer.messages.ack(t,n)}catch(e){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${n}`),this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(Wt,async e=>{const{topic:t,id:n}=(0,De.c82)(e.target);return n&&this.client.pendingRequest.keys.includes(n)?await this.deletePendingSessionRequest(n,(0,De.GuA)("EXPIRED"),!0):n&&this.client.auth.requests.keys.includes(n)?await this.deletePendingAuthRequest(n,(0,De.GuA)("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n})))})}registerPairingEvents(){this.client.core.pairing.events.on(Ut,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Ft,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!(0,De.Qhg)(e,!1)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if((0,De._dF)(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=(0,De.GuA)("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!(0,De.Qhg)(e,!1)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if((0,De._dF)(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=(0,De.GuA)("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if((0,De.Qhg)(e,!1)){const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}{const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!(0,De.Alu)(e)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=(0,De.GuA)("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if((0,De._dF)(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=(0,De.GuA)("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}validateRequestExpiry(e){if(e&&!(0,De.Hbs)(e,Ea)){const{message:t}=(0,De.GuA)("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${Ea.min} and ${Ea.max}`);throw new Error(t)}}}class Ua extends Li{constructor(e,t){super(e,t,"proposal",ba),this.core=e,this.logger=t}}class Fa extends Li{constructor(e,t){super(e,t,"session",ba),this.core=e,this.logger=t}}class $a extends Li{constructor(e,t){super(e,t,"request",ba,e=>e.id),this.core=e,this.logger=t}}class za extends Li{constructor(e,t){super(e,t,"authKeys",_a,()=>Ca),this.core=e,this.logger=t}}class Ha extends Li{constructor(e,t){super(e,t,"pairingTopics",_a),this.core=e,this.logger=t}}class qa extends Li{constructor(e,t){super(e,t,"requests",_a,e=>e.id),this.core=e,this.logger=t}}var Ka=Object.defineProperty,Wa=(e,t,n)=>((e,t,n)=>t in e?Ka(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Va{constructor(e,t){this.core=e,this.logger=t,Wa(this,"authKeys"),Wa(this,"pairingTopics"),Wa(this,"requests"),this.authKeys=new za(this.core,this.logger),this.pairingTopics=new Ha(this.core,this.logger),this.requests=new qa(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Ga=Object.defineProperty,Ya=(e,t,n)=>((e,t,n)=>t in e?Ga(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Ja extends Re{constructor(e){super(e),Ya(this,"protocol","wc"),Ya(this,"version",2),Ya(this,"name",ya),Ya(this,"metadata"),Ya(this,"core"),Ya(this,"logger"),Ya(this,"events",new c.EventEmitter),Ya(this,"engine"),Ya(this,"session"),Ya(this,"proposal"),Ya(this,"pendingRequest"),Ya(this,"auth"),Ya(this,"signConfig"),Ya(this,"on",(e,t)=>this.events.on(e,t)),Ya(this,"once",(e,t)=>this.events.once(e,t)),Ya(this,"off",(e,t)=>this.events.off(e,t)),Ya(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),Ya(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),Ya(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),Ya(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||ya,this.metadata=(0,De.Ds_)(e?.metadata),this.signConfig=e?.signConfig;const t=(0,De.haE)({logger:e?.logger||"error",name:this.name});this.logger=t,this.core=e?.core||new pa(e),this.session=new Fa(this.core,this.logger),this.proposal=new Ua(this.core,this.logger),this.pendingRequest=new $a(this.core,this.logger),this.engine=new ja(this),this.auth=new Va(this.core,this.logger)}static async init(e){const t=new Ja(e);return await t.initialize(),t}get context(){return function(e,t="custom_context"){return e[t]||""}(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var Za=n(28147),Xa=n(52743),Qa=n.n(Xa),es=n(74595),ts=n(12292),ns=n(6972),rs=n(63400),is=n(49521),as=n(32073),ss=n(26358),os=n(96250),cs=n(3861),ls=n(65118),us=n(14928);class ds extends ns.x{constructor(e){var t,n,s,o,c;super(e),(0,i.A)(this,"name",rs.LZ.WALLET_CONNECT_V2),(0,i.A)(this,"connectorNamespace",is.R.MULTICHAIN),(0,i.A)(this,"currentChainNamespace",a.l.OTHER),(0,i.A)(this,"type",as.rp.EXTERNAL),(0,i.A)(this,"connectorOptions",void 0),(0,i.A)(this,"status",as.bo.NOT_READY),(0,i.A)(this,"connectorData",{uri:""}),(0,i.A)(this,"connector",null),(0,i.A)(this,"activeSession",null),(0,i.A)(this,"wcProvider",null),(0,i.A)(this,"analytics",void 0),this.connectorOptions=(0,r.A)({},e);const{qrcodeModal:l,walletConnectInitOptions:u}=(null==e?void 0:e.connectorSettings)||{};this.connectorOptions=(0,r.A)((0,r.A)({},this.connectorOptions),{},{connectorSettings:null!==(t=null===(n=this.connectorOptions)||void 0===n?void 0:n.connectorSettings)&&void 0!==t?t:{},loginSettings:null!==(s=null===(o=this.connectorOptions)||void 0===o?void 0:o.loginSettings)&&void 0!==s?s:{}}),this.analytics=e.analytics,l&&(this.connectorOptions.connectorSettings.qrcodeModal=l),u&&(this.connectorOptions.connectorSettings.walletConnectInitOptions=(0,r.A)((0,r.A)({},null!==(c=this.connectorOptions.connectorSettings.walletConnectInitOptions)&&void 0!==c?c:{}),u));const{loginSettings:d}=e;d&&(this.connectorOptions.loginSettings=(0,r.A)((0,r.A)({},this.connectorOptions.loginSettings||{}),d))}get connected(){return!!this.activeSession}get provider(){return this.status!==as.bo.NOT_READY&&this.wcProvider?this.wcProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var t;const n=this.coreOptions.chains.find(t=>t.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:n});const r=null===(t=this.connectorOptions.connectorSettings)||void 0===t||null===(t=t.walletConnectInitOptions)||void 0===t?void 0:t.projectId,i=this.coreOptions.chains.filter(e=>e.chainNamespace===a.l.EIP155||e.chainNamespace===a.l.SOLANA);if(0===i.length)throw ss.il.invalidParams("No supported chains found");const s=await(0,es.N4)(i,r);this.connectorOptions.loginSettings&&0!==Object.keys(this.connectorOptions.loginSettings).length||(this.connectorOptions.loginSettings=s.loginSettings),this.connectorOptions.connectorSettings=Qa()(s.connectorSettings||{},this.connectorOptions.connectorSettings||{});const{connectorSettings:o}=this.connectorOptions;if(this.connector=await Ja.init(null==o?void 0:o.walletConnectInitOptions),this.wcProvider=new ts.b({config:{chain:n,chains:this.coreOptions.chains},connector:this.connector}),this.emit(as.qM.READY,rs.LZ.WALLET_CONNECT_V2),this.status=as.bo.READY,os.R.debug("initializing wallet connect v2 connector"),e.autoConnect)if(await this.checkForPersistedSession(),this.connected){this.rehydrated=!0;try{await this.onConnectHandler({chain:n,getIdentityToken:e.getIdentityToken})}catch(e){os.R.error("wallet auto connect",e),this.emit(as.qM.REHYDRATION_ERROR,e)}}else this.status=as.bo.NOT_READY,this.emit(as.qM.CACHE_CLEAR)}async connect({chainId:e,getIdentityToken:t}){super.checkConnectionRequirements();const n=this.coreOptions.chains.find(t=>t.chainId===e);if(!n)throw ss.T7.connectionError("Chain config is not available");if(!this.connector)throw ss.il.notReady("Wallet connector is not ready yet");const i=!this.connected&&!this.rehydrated,a=Date.now();let o={connector:this.name,connector_type:this.type,is_injected:this.isInjected,is_wallet_connect:!0,chain_id:(0,cs.Eo)(n),chain_name:null==n?void 0:n.displayName,chain_namespace:null==n?void 0:n.chainNamespace};try{const e=()=>{if(i){var e,t,n;const{name:i,url:s,redirect:c}=(null===(e=this.activeSession)||void 0===e||null===(e=e.peer)||void 0===e?void 0:e.metadata)||{},{native:l,universal:u,linkMode:d}=c||{};o=(0,r.A)((0,r.A)({},o),{},{connector:i||this.name,wallet_url:s,redirect_native:l,redirect_universal:u,redirect_link_mode_enabled:d}),null===(t=this.analytics)||void 0===t||t.track(ls.R2.CONNECTION_STARTED,o),null===(n=this.analytics)||void 0===n||n.track(ls.R2.CONNECTION_COMPLETED,(0,r.A)((0,r.A)({},o),{},{duration:Date.now()-a}))}};return this.connected?(await this.onConnectHandler({chain:n,getIdentityToken:t}),this.provider):(this.status!==as.bo.CONNECTING&&await this.createNewSession({chainConfig:n,trackCompletionEvents:e,getIdentityToken:t}),this.provider)}catch(e){var c,l;throw os.R.error("Wallet connect v2 connector error while connecting",e),this.status=as.bo.READY,this.rehydrated=!0,this.emit(as.qM.ERRORED,e),i&&(null===(c=this.analytics)||void 0===c||c.track(ls.R2.CONNECTION_STARTED,o),null===(l=this.analytics)||void 0===l||l.track(ls.R2.CONNECTION_FAILED,(0,r.A)((0,r.A)((0,r.A)({},o),(0,s.is)(e)),{},{duration:Date.now()-a}))),e instanceof ss.uF?e:ss.T7.connectionError(`Failed to login with wallet connect: ${(null==e?void 0:e.message)||""}`,e)}}async switchChain(e,t=!1){if(super.checkSwitchChainRequirements(e,t),!this.wcProvider)throw ss.il.notReady("Wallet Connect provider is not ready yet");try{await this.wcProvider.switchChain({chainId:e.chainId})}catch(e){throw os.R.error("error while switching chain",e),e}}async getUserInfo(){if(!this.canAuthorize)throw ss.T7.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async disconnect(e={cleanup:!1,sessionRemovedByWallet:!1}){var t,n;const{cleanup:r}=e;if(!this.connector||!this.connected||null===(t=this.activeSession)||void 0===t||!t.topic)throw ss.T7.notConnectedError("Not connected with wallet");e.sessionRemovedByWallet||await this.connector.disconnect({topic:null===(n=this.activeSession)||void 0===n?void 0:n.topic,reason:(0,De.Hjj)("USER_DISCONNECTED")}),this.rehydrated=!1,r?(this.connector=null,this.status=as.bo.NOT_READY,this.wcProvider=null):this.status=as.bo.READY,this.activeSession=null,this.emit(as.qM.DISCONNECTED)}async getIdentityToken(){if(!this.provider||!this.canAuthorize)throw ss.T7.notConnectedError();this.status=as.bo.AUTHORIZING,this.emit(as.qM.AUTHORIZING,{connector:rs.LZ.WALLET_CONNECT_V2});const{chainId:e}=this.provider,t=this.coreOptions.chains.find(t=>t.chainId===e);if(!t)throw ss.T7.connectionError("Chain config is not available");const{chainNamespace:n}=t,r=await this.provider.request({method:n===a.l.EIP155?Za.zb.GET_ACCOUNTS:Za.zl.GET_ACCOUNTS});if(r&&r.length>0){const t=(0,us.Ly)(r[0],this.name);if(t&&!(0,us._P)(t))return this.status=as.bo.AUTHORIZED,this.emit(as.qM.AUTHORIZED,{connector:rs.LZ.WALLET_CONNECT_V2,identityTokenInfo:{idToken:t}}),{idToken:t};const i={domain:window.location.origin,uri:window.location.href,address:r[0],chainId:parseInt(e,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},a=await(0,o.$p)(i,n),s=await this._getSignedMessage(a,r,n),c=await(0,o.lA)(n,s,a,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return(0,us.f7)(r[0],this.name,c),this.status=as.bo.AUTHORIZED,this.emit(as.qM.AUTHORIZED,{connector:rs.LZ.WALLET_CONNECT_V2,identityTokenInfo:{idToken:c}}),{idToken:c}}throw ss.T7.notConnectedError("Not connected with wallet, Please login/connect first")}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}cleanupPendingPairings(){if(!this.connector)throw ss.il.notReady("Wallet connector is not ready yet");const e=this.connector.pairing.getAll({active:!1});(0,De.OP1)(e)&&e.forEach(e=>{this.connector&&this.connector.pairing.delete(e.topic,(0,De.Hjj)("USER_DISCONNECTED"))})}async checkForPersistedSession(){if(!this.connector)throw ss.il.notReady("Wallet connector is not ready yet");if(this.connector.session.length){const e=this.connector.session.keys.length-1;this.activeSession=this.connector.session.get(this.connector.session.keys[e])}return this.activeSession}async createNewSession({forceNewSession:e=!1,chainConfig:t,trackCompletionEvents:n,getIdentityToken:r}){try{var i,a,s;if(!this.connector)throw ss.il.notReady("Wallet connector is not ready yet");if(!this.connectorOptions.loginSettings||0===Object.keys(this.connectorOptions.loginSettings).length)throw ss.il.notReady("login settings are not set yet");this.status=as.bo.CONNECTING,this.emit(as.qM.CONNECTING,{connector:rs.LZ.WALLET_CONNECT_V2}),e&&null!==(i=this.activeSession)&&void 0!==i&&i.topic&&await this.connector.disconnect({topic:null===(s=this.activeSession)||void 0===s?void 0:s.topic,reason:(0,De.Hjj)("USER_DISCONNECTED")});const{uri:o,approval:c}=await this.connector.connect(this.connectorOptions.loginSettings),l=null===(a=this.connectorOptions)||void 0===a||null===(a=a.connectorSettings)||void 0===a?void 0:a.qrcodeModal;if(o)if(l)try{await l.openModal({uri:o}),os.R.debug("EVENT","QR Code Modal closed"),this.status=as.bo.READY,this.emit(as.qM.READY,rs.LZ.WALLET_CONNECT_V2)}catch(e){os.R.error("unable to open qr code modal",e)}else this.updateConnectorData({uri:o});os.R.info("awaiting session approval from wallet");const u=await c();this.activeSession=u,await this.onConnectHandler({chain:t,trackCompletionEvents:n,getIdentityToken:r}),l&&l.closeModal()}catch(e){var o;if(null!==(o=e.message)&&void 0!==o&&o.toLowerCase().includes("proposal expired")){if(os.R.info("current connector status: ",this.status),this.status===as.bo.CONNECTING)return os.R.info("retrying to create new wallet connect session since proposal expired"),this.createNewSession({forceNewSession:!0,chainConfig:t,getIdentityToken:r});if(this.status===as.bo.READY)return void os.R.info("ignoring proposal expired error since some other connector is connected")}throw os.R.error("error while creating new wallet connect session",e),this.emit(as.qM.ERRORED,e),e}}async onConnectHandler({chain:e,trackCompletionEvents:t,getIdentityToken:n}){var r;if(!this.connector||!this.wcProvider)throw ss.il.notReady("Wallet connect connector is not ready yet");let i;this.subscribeEvents(),null!==(r=this.connectorOptions.connectorSettings)&&void 0!==r&&r.qrcodeModal&&(this.wcProvider=new ts.b({config:{chain:e,chains:this.coreOptions.chains,skipLookupNetwork:!0},connector:this.connector})),await this.wcProvider.setupProvider(this.connector),this.cleanupPendingPairings(),this.status=as.bo.CONNECTED,t&&t(),this.emit(as.qM.CONNECTED,{connector:rs.LZ.WALLET_CONNECT_V2,reconnected:this.rehydrated,provider:this.provider,identityTokenInfo:i}),n&&(i=await this.getIdentityToken())}subscribeEvents(){if(!this.connector)throw ss.il.notReady("Wallet connector is not ready yet");this.connector.events.on("session_update",({topic:e,params:t})=>{if(!this.connector)return;const{namespaces:n}=t,i=this.connector.session.get(e),a=(0,r.A)((0,r.A)({},i),{},{namespaces:n});this.activeSession=a}),this.connector.events.on("session_delete",()=>{this.disconnect({sessionRemovedByWallet:!0})}),this.connector.events.on("session_expire",({topic:e})=>{var t;os.R.info("Session expired event received for topic:",e),(null===(t=this.activeSession)||void 0===t?void 0:t.topic)===e&&this.disconnect({sessionRemovedByWallet:!0}).catch(e=>{os.R.error("Failed to disconnect expired session",e)})})}async _getSignedMessage(e,t,n){return await this.provider.request({method:n===a.l.EIP155?Za.zb.PERSONAL_SIGN:Za.zl.SIGN_MESSAGE,params:n===a.l.EIP155?[e,t[0]]:{data:e}})}}const fs=e=>({coreOptions:t,projectConfig:n,analytics:i})=>{var a;const s=(null==e||null===(a=e.walletConnectInitOptions)||void 0===a?void 0:a.projectId)||(null==n?void 0:n.walletConnectProjectId),o=(0,r.A)((0,r.A)({},e),{},{walletConnectInitOptions:(0,r.A)((0,r.A)({},null==e?void 0:e.walletConnectInitOptions),{},{projectId:s})});return new ds({connectorSettings:o,coreOptions:t,analytics:i})}},36758:e=>{"use strict";e.exports=function(e){return e[1]}},36771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=void 0;const r=n(76728),i=n(26769);t.bytes={isDynamic:!0,isType:e=>"bytes"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n}){const a=(0,r.createBytes)(t);if(n)return(0,r.concatBytes)([e,a]);const s=32*Math.ceil(a.byteLength/32);return(0,r.concatBytes)([e,(0,i.padStart)((0,r.numberToBytes)(a.byteLength)),(0,i.padEnd)(a,s)])},decode({value:e}){const t=e.subarray(0,32),n=(0,r.bytesToNumber)(t);return e.slice(32,32+n)}}},36882:(e,t,n)=>{"use strict";var r=n(62422);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},36921:e=>{"use strict";var t,n,r,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function a(e){throw{name:"SyntaxError",message:e,at:t,text:r}}function s(e){return e&&e!==n&&a("Expected '"+e+"' instead of '"+n+"'"),n=r.charAt(t),t+=1,n}function o(){var e,t="";for("-"===n&&(t="-",s("-"));n>="0"&&n<="9";)t+=n,s();if("."===n)for(t+=".";s()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,s(),"-"!==n&&"+"!==n||(t+=n,s());n>="0"&&n<="9";)t+=n,s();return e=Number(t),isFinite(e)||a("Bad number"),e}function c(){var e,t,r,o="";if('"'===n)for(;s();){if('"'===n)return s(),o;if("\\"===n)if(s(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(s(),16),isFinite(e));t+=1)r=16*r+e;o+=String.fromCharCode(r)}else{if("string"!=typeof i[n])break;o+=i[n]}else o+=n}a("Bad string")}function l(){for(;n&&n<=" ";)s()}function u(){switch(l(),n){case"{":return function(){var e,t={};if("{"===n){if(s("{"),l(),"}"===n)return s("}"),t;for(;n;){if(e=c(),l(),s(":"),Object.prototype.hasOwnProperty.call(t,e)&&a('Duplicate key "'+e+'"'),t[e]=u(),l(),"}"===n)return s("}"),t;s(","),l()}}a("Bad object")}();case"[":return function(){var e=[];if("["===n){if(s("["),l(),"]"===n)return s("]"),e;for(;n;){if(e.push(u()),l(),"]"===n)return s("]"),e;s(","),l()}}a("Bad array")}();case'"':return c();case"-":return o();default:return n>="0"&&n<="9"?o():function(){switch(n){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null;default:a("Unexpected '"+n+"'")}}()}}e.exports=function(e,i){var s;return r=e,t=0,n=" ",s=u(),l(),n&&a("Syntax error"),"function"==typeof i?function e(t,n){var r,a,s=t[n];if(s&&"object"==typeof s)for(r in u)Object.prototype.hasOwnProperty.call(s,r)&&(void 0===(a=e(s,r))?delete s[r]:s[r]=a);return i.call(t,n,s)}({"":s},""):s}},37086:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}}},37145:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":"Verifieer uw {{adapter}}-account om door te gaan","adapter-loader.message1":"Verifieer uw {{adapter}}","adapter-loader.message2":"account om door te gaan","allChains":"Alle ketens","connect-wallet.more-wallets":"Meer portemonnees","connectYourWallet":"Uw portemonnee verbinden","errors-invalid-email":"Ongeldig e-mailadres","errors-invalid-number":"Ongeldig telefoonnummer","errors-invalid-number-email":"Ongeldig e-mailadres of telefoonnummer","errors-required":"Vereist","external.all-wallets":"Alle portemonnees","external.back":"Terug","external.connect":"Ga verder met een portemonnee","external.connect-wallet":"Verbinden met portemonnee","external.continue":"Ga verder met externe portemonnee","external.continue-custom":"Doorgaan met {{wallet}}","external.dont-have":"Heb niet","external.get":"Krijgen","external.get-wallet":"Portemonnee krijgen","external.install-browser-extension":"{{browser}}-extensie installeren","external.install-mobile-app":"Installeer {{os}}-app","external.installed":"Genstalleerd","external.no-wallets-found":"Geen portefeuilles gevonden","external.qr-code-copied-to-clipboard":"URI naar klembord gekopieerd","external.search-subtext":"Probeer in plaats daarvan te zoeken","external.search-text":"Ziet u uw portemonnee niet?","external.search-wallet":"Zoeken door {{count}} portemonnees...","external.select-chain":"Ketting selecteren","external.select-chain-description":"Deze {{wallet}} portemonnee ondersteunt meerdere ketens. Selecteer welke ketting u wilt verbinden","external.title":"Externe portemonnee","external.walletconnect-connect":"Verbinden","external.walletconnect-copy":"Verbinden met WalletConnect-compatibele portemonnee of klik op de QR-code om de link naar je klembord te kopiren","external.walletconnect-subtitle":"Scan de QR-code met een WalletConnect-compatibele portemonnee","footer.and":"en","footer.by-signing-in":"Door in te loggen, gaat u akkoord met onze","footer.message":"Zelfbeheerde login door","footer.message-new":"Zelfkusten via","footer.policy":"Privacybeleid","footer.privacy-policy":"Privacy Policy","footer.terms":"Gebruiksvoorwaarden","footer.terms-of-service":"Gebruiksvoorwaarden","footer.terms-service":"Gebruiksvoorwaarden","footer.version":"Versie","getWallet":"Portemonnee ophalen","header-subtitle":"Selecteer een van de volgende opties om door te gaan","header-subtitle-name":"Uw {{appName}}-portemonnee met n klik","header-subtitle-new":"Uw blockchain-portemonnee met n klik","header-title":"Aanmelden","header-tooltip-desc":"De portemonnee dient als een account om uw digitale activa op de blockchain op te slaan en te beheren.","header-tooltip-title":"Portemonnee","network.add-request":"Deze site vraagt om een netwerk toe te voegen","network.cancel":"Annuleren","network.from":"Van","network.proceed":"Doorgaan","network.switch-request":"Deze site vraagt om over te schakelen naar een ander netwerk","network.to":"Naar","otp.email-subtext":"Voer de 6-cijferige verificatiecode in","otp.email-subtext-example":"{{email}} adres is verstuurd","otp.email-title":"Email Verificatie","otp.mobile-subtext":"OTP Verificatie","otp.mobile-title":"OTP Verificatie","otp.success":"U bent verbonden met uw account!","passkey.add":"Passkey toevoegen","passkey.haveExisting":"Heeft u een bestaande passkey?","passkey.learn-more":"Kom meer te weten","passkey.or":"of","passkey.register-desc":"Met passkeys kunt u uw identiteit verifiren via uw gezicht, vingerafdruk of beveiligingssleutels.","passkey.register-title":"Registreer Passkey","passkey.use":"Ik heb een passkey","passwordless.title":"Doorgaan met {{title}}","popup.phone-body":"Uw landcode wordt automatisch gedetecteerd, maar als u een telefoonnummer uit een ander land gebruikt, moet u handmatig de juiste landcode invoeren.","popup.phone-header":"Telefoonnummer en landcode","post-loading.connected":"U bent verbonden met uw account","post-loading.something-wrong":"Er is iets fout gegaan!","resendCode":"Code opnieuw verzenden","resendTimer":" Opnieuw verzenden in {{timer}} seconden","social.continue":"Doorgaan met","social.continueCustom":"Doorgaan met {{adapter}}","social.email":"E-mail","social.email-continue":"Doorgaan met e-mail","social.email-new":"naam@voorbeeld.com","social.passwordless-cta":"Doorgaan","social.passwordless-login":"Log in","social.passwordless-title":"E-mail/Telefoon","social.phone":"Telefoon","social.policy":"We slaan geen gegevens op die verband houden met uw sociale logins.","social.sign-in":"Inloggen","social.sms":"Mobiel","social.sms-continue":"Doorgaan met mobiel","social.sms-invalid-number":"Ongeldig telefoonnummer","social.sms-placeholder-text":"Bijv.:","social.view-less":"Minder bekijken","social.view-less-socials":"Bekijk minder socials","social.view-more":"Meer bekijken","social.view-more-socials":"Bekijk meer socials"},"passwordless":{"error-invalid-link":"Ongeldige verificatielink of link verlopen","error-invalid-origin":"Er is iets misgegaan, foutcode: E002","error-invalid-otp":"Ongeldige OTP, probeer het opnieuw","error-invalid-params":"Ontbrekende of ongeldige parameters","error-invalid-test-account":"Ongeldig testaccount","error-max-retry-limit-reached":"U heeft de limiet voor verkeerde pogingen bereikt. Start de stroom opnieuw om de verificatie te voltooien.","error-new-link-generated-heading":"Nieuwe verificatielink gegenereerd","error-no-mail-generated":"Geen e-mail gegenereerd. Start eerst de wachtwoordloze flow.","error-no-sms-generated":"Geen OTP gegenereerd. Start eerst de wachtwoordloze flow.","error-otp-expired":"OTP verlopen","error-plan-limit-reached":"E411. Limiet bereikt","error-recaptcha-verification-failed":"Er is iets misgegaan tijdens het verifiren. Probeer het opnieuw door de pagina te laden.","error-sending-sms-failed":"Er is een fout opgetreden bij het verzenden van een sms. Probeer het opnieuw.","something-wrong-error":"Er is iets misgegaan"}}')},37165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},37237:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(14323),i=n(88681);function a(e,t){const n=(e.details||"").toLowerCase(),a=e instanceof r.C?e.walk(e=>e?.code===i.A7.code):e;return a instanceof r.C?new i.A7({cause:e,message:a.details}):i.A7.nodeMessage.test(n)?new i.A7({cause:e,message:e.details}):i.BG.nodeMessage.test(n)?new i.BG({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.jj.nodeMessage.test(n)?new i.jj({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.K0.nodeMessage.test(n)?new i.K0({cause:e,nonce:t?.nonce}):i.Oh.nodeMessage.test(n)?new i.Oh({cause:e,nonce:t?.nonce}):i.vW.nodeMessage.test(n)?new i.vW({cause:e,nonce:t?.nonce}):i.k5.nodeMessage.test(n)?new i.k5({cause:e}):i.lY.nodeMessage.test(n)?new i.lY({cause:e,gas:t?.gas}):i.Fo.nodeMessage.test(n)?new i.Fo({cause:e,gas:t?.gas}):i.uC.nodeMessage.test(n)?new i.uC({cause:e}):i.lN.nodeMessage.test(n)?new i.lN({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.RM({cause:e})}},37527:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(23494);function i(e,{delay:t=100,retryCount:n=2,shouldRetry:i=()=>!0}={}){return new Promise((a,s)=>{const o=async({count:c=0}={})=>{try{const t=await e();a(t)}catch(e){if(c<n&&await i({count:c,error:e}))return(async({error:e})=>{const n="function"==typeof t?t({count:c,error:e}):t;n&&await(0,r.u)(n),o({count:c+1})})({error:e});s(e)}};o()})}},37532:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=void 0;var i=r(n(35615)),a=n(42265);function s(e,t){a.Facade.call(this,e,t)}t.Delete=s,i.default(s,a.Facade),s.prototype.type=function(){return"delete"}},37656:(e,t,n)=>{"use strict";n.d(t,{zX:()=>m,bG:()=>g,M:()=>w,rR:()=>v,Po:()=>E,$S:()=>x});var r=n(34820),i=n(730),a=n(16395),s=n(27438),o=n(40022);function c({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?(0,o.A)(t[n]):t[n]}`).join(", ")})`}var l=n(76009),u=n(84599),d=n(75255),f=n(37663),p=n(14323),h=n(91836),b=n(50761),y=n(30476);class m extends p.C{constructor(e,{account:t,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:f,to:p,value:y,stateOverride:m}){const g=t?(0,r.J)(t):void 0;let w=(0,b.aO)({from:g?.address,to:p,value:void 0!==y&&`${(0,u.c)(y)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:s,gasPrice:void 0!==o&&`${(0,d.Q)(o)} gwei`,maxFeePerGas:void 0!==c&&`${(0,d.Q)(c)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,d.Q)(l)} gwei`,nonce:f});m&&(w+=`\n${(0,h.uj)(m)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class g extends p.C{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:i,functionName:a,sender:o}){const u=(0,l.iY)({abi:t,args:n,name:a}),d=u?c({abiItem:u,args:n,includeFunctionName:!1,includeName:!1}):void 0,f=u?(0,s.B)(u,{includeName:!0}):void 0,p=(0,b.aO)({address:r&&(0,y.R)(r),function:f,args:d&&"()"!==d&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=a,this.sender=o}}class w extends p.C{constructor({abi:e,data:t,functionName:n,message:r}){let o,l,u,d,p;if(t&&"0x"!==t)try{l=(0,a.W)({abi:e,data:t});const{abiItem:n,errorName:r,args:o}=l;if("Error"===r)d=o[0];else if("Panic"===r){const[e]=o;d=i.fD[e]}else{const e=n?(0,s.B)(n,{includeName:!0}):void 0,t=n&&o?c({abiItem:n,args:o,includeFunctionName:!1,includeName:!1}):void 0;u=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){o=e}else r&&(d=r);o instanceof f.Wq&&(p=o.signature,u=[`Unable to decode signature "${p}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${p}.`]),super(d&&"execution reverted"!==d||p?[`The contract function "${n}" reverted with the following ${p?"signature":"reason"}:`,d||p].join("\n"):`The contract function "${n}" reverted.`,{cause:o,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.raw=t,this.reason=d,this.signature=p}}class v extends p.C{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class E extends p.C{constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class x extends p.C{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},37663:(e,t,n)=>{"use strict";n.d(t,{BI:()=>S,EB:()=>E,Iy:()=>c,Iz:()=>w,MR:()=>v,M_:()=>g,Nc:()=>u,O:()=>l,Wl:()=>P,Wq:()=>b,YE:()=>f,YF:()=>o,YW:()=>s,ZP:()=>p,_z:()=>y,d_:()=>I,dm:()=>k,fo:()=>T,gH:()=>d,j:()=>C,kE:()=>m,l3:()=>A,nK:()=>_,nM:()=>x,yy:()=>h});var r=n(27438),i=n(96943),a=n(14323);class s extends a.C{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class o extends a.C{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}a.C;class c extends a.C{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.A)(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class l extends a.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class u extends a.C{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class d extends a.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.E)(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class f extends a.C{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class p extends a.C{constructor(e,{docsPath:t}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join("\n"),{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class h extends a.C{constructor(e,{docsPath:t}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join("\n"),{docsPath:t,name:"AbiErrorNotFoundError"})}}class b extends a.C{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class y extends a.C{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class m extends a.C{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class g extends a.C{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t,name:"AbiEventNotFoundError"})}}class w extends a.C{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class v extends a.C{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class E extends a.C{constructor(e,{docsPath:t}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class x extends a.C{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,r.B)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,r.B)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class S extends a.C{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}}class T extends a.C{constructor({abiItem:e,data:t,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.A)(n,{includeName:!0})})`,`Data:   ${t} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=i}}class A extends a.C{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,r.B)(e,{includeName:!0})}".`].join("\n"),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class _ extends a.C{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class C extends a.C{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}class k extends a.C{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n"),{name:"InvalidArrayError"})}}class I extends a.C{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}class P extends a.C{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}},38104:(e,t,n)=>{"use strict";const{SymbolAsyncIterator:r,SymbolIterator:i,SymbolFor:a}=n(70273),s=a("nodejs.stream.destroyed"),o=a("nodejs.stream.errored"),c=a("nodejs.stream.readable"),l=a("nodejs.stream.writable"),u=a("nodejs.stream.disturbed"),d=a("nodejs.webstream.isClosedPromise"),f=a("nodejs.webstream.controllerErrorFunction");function p(e,t=!1){var n;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(n=e._readableState)||void 0===n?void 0:n.readable)||e._writableState&&!e._readableState)}function h(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function b(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function y(e){return!(!e||b(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function m(e){return!(!e||b(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function g(e){return!(!e||b(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function w(e){if(!b(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[s]||null!=r&&r.destroyed)}function v(e){if(!h(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function E(e,t){if(!p(e))return null;const n=e._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function x(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!w(e)&&p(e)&&e.readable&&!E(e)}function S(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!w(e)&&h(e)&&e.writable&&!v(e)}function T(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function A(e){return"boolean"==typeof e._sent100&&T(e)}e.exports={isDestroyed:w,kIsDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,n,r,i,a,s,c,l,u,d;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(i=null!==(a=null!==(s=e[o])&&void 0!==s?s:e.readableErrored)&&void 0!==a?a:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==r?r:null===(l=e._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:o,isReadable:x,kIsReadable:c,kIsClosedPromise:d,kControllerErrorFunction:f,kIsWritable:l,isClosed:function(e){if(!b(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,n=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==t?void 0:t.closed)||(null==n?void 0:n.closed):"boolean"==typeof e._closed&&T(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return b(e)?!(!w(e)&&(!1!==(null==t?void 0:t.readable)&&x(e)||!1!==(null==t?void 0:t.writable)&&S(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[r]:!1===t?"function"==typeof e[i]:"function"==typeof e[r]||"function"==typeof e[i])},isReadableNodeStream:p,isReadableStream:y,isReadableEnded:function(e){if(!p(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:E,isReadableErrored:function(e){var t,n;return b(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:b,isWebStream:function(e){return y(e)||m(e)||g(e)},isWritable:S,isWritableNodeStream:h,isWritableStream:m,isWritableEnded:v,isWritableFinished:function(e,t){if(!h(e))return null;if(!0===e.writableFinished)return!0;const n=e._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return b(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:A,willEmitClose:function(e){if(!b(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&A(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:g}},38236:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},38364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},38400:(e,t,n)=>{"use strict";n.d(t,{e:()=>Ml});var r=n(69740),i=n(98158),a=n(39610),s=n(58470),o=({target:e,value:t=0n,callData:n="0x"})=>({target:e,value:t,callData:n}),c=[{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"callData"}],l=e=>{if(0===e.length)throw new Error("Error while getting the execution calldatas, executions is empty");if(1===e.length){const t=e[0];if(!t)throw new Error("Execution not found");return(e=>(0,a.P)(["address","uint256","bytes"],[e.target,e.value,e.callData]))(t)}return(e=>(0,s.h)([{components:c,name:"executions",type:"tuple[]"}],[e]))(e)},u=e=>{if(0===e.length)throw new Error("Error while getting the execution calldatas, executionsBatch is empty");return e.map(l)},d=n(19555),f=n(38903);class p extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function h(e,t="Assertion failed.",n=p){if(!e){if(t instanceof Error)throw t;throw function(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}(n,t)}}class b extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...a}=e,{path:s}=e,o=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??o),null!=i&&(this.cause=o),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function y(e){return"object"==typeof e&&null!==e}function m(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function g(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:a}=t,{type:s}=n,{refinement:o,message:c=`Expected a value of type \`${s}\`${o?` with refinement \`${o}\``:""}, but received: \`${m(r)}\``}=e;return{value:r,type:s,refinement:o,key:i[i.length-1],path:i,branch:a,...e,message:c}}function*w(e,t,n,r){(function(e){return y(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=g(i,t,n,r);e&&(yield e)}}function*v(e,t,n={}){const{path:r=[],branch:i=[e],coerce:a=!1,mask:s=!1}=n,o={path:r,branch:i};if(a&&(e=t.coercer(e,o),s&&"type"!==t.type&&y(t.schema)&&y(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,o))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[l,u,d]of t.entries(e,o)){const t=v(u,d,{path:void 0===l?r:[...r,l],branch:void 0===l?i:[...i,u],coerce:a,mask:s,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):a&&(u=n[1],void 0===l?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):y(e)&&(void 0!==u||l in e)&&(e[l]=u))}if("not_valid"!==c)for(const r of t.refiner(e,o))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class E{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:a=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=a,this.validator=r?(e,t)=>w(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>w(i(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=x(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return function(e,t,n){const r=x(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}is(e){return function(e,t){return!x(e,t)[0]}(e,this)}mask(e,t){return function(e,t,n){const r=x(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return x(e,this,t)}}function x(e,t,n={}){const r=v(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);return i[0]?[new b(i[0],function*(){for(const e of r)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function S(e,t){return function(e,t,n){return new E({...e,*refiner(r,i){yield*e.refiner(r,i);const a=w(n(r,i),i,e,r);for(const e of a)yield{...e,refinement:t}}})}(e,"pattern",n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`)}function T(){return new E({type:"string",schema:null,validator:e=>"string"==typeof e||`Expected a string, but received: ${m(e)}`})}var A=n(30113),_=n(45250);const{memoize:C}=_,k=/^(?:0x)?[0-9a-f]+$/iu,I=/^0x[0-9a-f]{40}$/u,P=/^0x[0-9a-fA-F]{40}$/u,O=(S(T(),k),S(T(),/^0x[0-9a-f]+$/iu),S(T(),I),S(T(),P),e=>"string"==typeof e);function M(e){return O(e)&&P.test(e)}const R=C(function(e){h(M(e),"Invalid hex address.");const t=L(e).toLowerCase(),n=(0,A.lY)(t),{length:r}=t,i=new Array(r);for(let e=0;e<r;e++){const r=1&e,a=n[e>>1],s=0===r?a>>4:15&a;i[e]=s>=8?t[e].toUpperCase():t[e]}return`0x${i.join("")}`}),N=C(function(e){return!!M(e)&&R(e)===e});function L(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}C(function(e){return O(t=e)&&I.test(t)||N(e);var t}),n(1048).Buffer;const D=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function B(e){h(function(e){return e instanceof Uint8Array}(e),"Value must be a Uint8Array.")}function j(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;!function(e){h(function(e){return O(e)&&k.test(e)}(e),"Value must be a hexadecimal string.")}(e);const t=L(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),i=n.charCodeAt(2*e+1),a=t-(t<58?48:87),s=i-(i<58?48:87);r[e]=16*a+s}return r}var U=n(88839),F={out:"hex"};function $(e,t){if("hex"===t.out){const t="string"==typeof e?e:function(e){if(B(e),0===e.length)return"0x";const t=D(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}(n.join(""))}(e);return t.startsWith("0x")?t:`0x${t}`}return e instanceof Uint8Array?e:j(e)}var z="0x0000000000000000000000000000000000000a11",H="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff";function q(e){const t=32*e.length,n=new Uint8Array(t);for(let t=0;t<e.length;t++){const r=e[t];if(!r)throw new Error(`Caveat was undefined at index ${t}`);const i=K(r);n.set(i,32*t)}return(0,A.lY)(n)}function K(e){const t="string"==typeof e.terms?j(e.terms):e.terms,n=(0,A.lY)(t),r=(0,U.encode)(["bytes32","address","bytes32"],["0x80ad7e1b04ee6d994a125f4714ca0720908bd80ed16063ec8aee4b88e9253e2d",e.enforcer,n]);return(0,A.lY)(r)}var W=n(89962),V=Object.defineProperty,G=(e,t)=>{for(var n in t)V(e,n,{get:t[n],enumerable:!0})};(0,d.S)((0,f.nj)("Caveat(address enforcer,bytes terms)"));var Y=e=>{const t=e.caveats.map(e=>({enforcer:(0,W.b)(e.enforcer),terms:e.terms,args:e.args})),n="0x"===e.salt?0n:BigInt(e.salt);return{delegate:(0,W.b)(e.delegate),delegator:(0,W.b)(e.delegator),authority:void 0===e.authority?H:e.authority,caveats:t,salt:n,signature:e.signature}},J=e=>e.map(e=>(e=>function(e,t=F){let n;if(0===e.length)n=new Uint8Array(64),n[31]=32;else{const t=e.map(e=>[e.delegate,e.delegator,e.authority,e.caveats.map(e=>[e.enforcer,e.terms,e.args]),e.salt,e.signature]);n=(0,U.encodeSingle)("(address,address,bytes32,(address,bytes,bytes)[],uint256,bytes)[]",t)}return $(n,t)}(e.map(Y)))(e)),Z={Caveat:[{name:"enforcer",type:"address"},{name:"terms",type:"bytes"}],Delegation:[{name:"delegate",type:"address"},{name:"delegator",type:"address"},{name:"authority",type:"bytes32"},{name:"caveats",type:"Caveat[]"},{name:"salt",type:"uint256"}]},X=e=>function(e,t=F){const n=(0,U.encode)(["bytes32","address","address","bytes32","bytes32","uint256"],["0x88c1d2ecf185adf710588203a5f263f0ff61be0d33da39792cde19ba9aa4331e",e.delegate,e.delegator,e.authority,q(e.caveats),e.salt]);return $((0,A.lY)(n),t)}(Y(e)),Q=Object.defineProperty,ee=(e,t)=>{for(var n in t)Q(e,n,{get:t[n],enumerable:!0})};ee({},{abi:()=>te,bytecode:()=>ne});var te=[{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]}],ne="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212204a050c4fa34153d3fae9d282b8c08f593842bb7e1d0caa440348574559167b6a64736f6c63430008170033";ee({},{abi:()=>re,bytecode:()=>ie});var re=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedMethods_",type:"bytes4[]",internalType:"bytes4[]"}],stateMutability:"pure"}],ie="0x608060405234801561001057600080fd5b506107fc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610512565b50505050505050505050565b005b610076610086366004610512565b6100b4565b61009e6100993660046105df565b610197565b6040516100ab9190610621565b60405180910390f35b856100c08160006102e5565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101228160006102e5565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b506101898c8c89896102fc565b505050505050505050505050565b60606000826101a7600482610685565b1580156101b357508015155b6102135760405162461bcd60e51b815260206004820152602b60248201527f416c6c6f7765644d6574686f6473456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610108565b61021e6004826106af565b67ffffffffffffffff811115610236576102366106c3565b60405190808252806020026020018201604052801561025f578160200160208202803683370190505b50925060005b818110156102dc5785818661027b8260046106d9565b92610288939291906106ec565b61029191610716565b8484815181106102a3576102a3610746565b6001600160e01b031990921660209283029190910190910152826102c68161075c565b93506102d590506004826106d9565b9050610265565b50505092915050565b6001600160f81b0319828116908216145b92915050565b366000610309848461045c565b90945092505050600481101561037e5760405162461bcd60e51b815260206004820152603460248201527f416c6c6f7765644d6574686f6473456e666f726365723a696e76616c69642d656044820152730f0cac6eae8d2dedc5ac8c2e8c25ad8cadccee8d60631b6064820152608401610108565b600061038d60048284866106ec565b61039691610716565b905060006103a48888610197565b805190915060005b818110156103fb578281815181106103c6576103c6610746565b60200260200101516001600160e01b031916846001600160e01b031916036103f357505050505050610456565b6001016103ac565b5060405162461bcd60e51b815260206004820152602960248201527f416c6c6f7765644d6574686f6473456e666f726365723a6d6574686f642d6e6f6044820152681d0b585b1b1bddd95960ba1b6064820152608401610108565b50505050565b600080368161046e60148287896106ec565b61047791610775565b60601c935061048a6034601487896106ec565b610493916107a8565b92506104a285603481896106ec565b949793965094505050565b60008083601f8401126104bf57600080fd5b50813567ffffffffffffffff8111156104d757600080fd5b6020830191508360208285010111156104ef57600080fd5b9250929050565b80356001600160a01b038116811461050d57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561053157600080fd5b8a3567ffffffffffffffff8082111561054957600080fd5b6105558e838f016104ad565b909c509a5060208d013591508082111561056e57600080fd5b61057a8e838f016104ad565b909a50985060408d0135975060608d013591508082111561059a57600080fd5b506105a78d828e016104ad565b90965094505060808b013592506105c060a08c016104f6565b91506105ce60c08c016104f6565b90509295989b9194979a5092959850565b600080602083850312156105f257600080fd5b823567ffffffffffffffff81111561060957600080fd5b610615858286016104ad565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156106635783516001600160e01b0319168352928401929184019160010161063d565b50909695505050505050565b634e487b7160e01b600052601260045260246000fd5b6000826106945761069461066f565b500690565b634e487b7160e01b600052601160045260246000fd5b6000826106be576106be61066f565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156102f6576102f6610699565b600080858511156106fc57600080fd5b8386111561070957600080fd5b5050820193919092039150565b6001600160e01b0319813581811691600485101561073e5780818660040360031b1b83161692505b505092915050565b634e487b7160e01b600052603260045260246000fd5b60006001820161076e5761076e610699565b5060010190565b6bffffffffffffffffffffffff19813581811691601485101561073e5760149490940360031b84901b1690921692915050565b803560208310156102f657600019602084900360031b1b169291505056fea26469706673582212200b708c0be5e7b588370a3a50ea4c9e1f7cb79f4e1abc8d9c979a4f6d6867e5ae64736f6c63430008170033";ee({},{abi:()=>ae,bytecode:()=>se});var ae=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedTargets_",type:"address[]",internalType:"address[]"}],stateMutability:"pure"}],se="0x608060405234801561001057600080fd5b50610736806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461047b565b50505050505050505050565b005b61007661008636600461047b565b6100b4565b61009e610099366004610548565b61025e565b6040516100ab919061058a565b60405180910390f35b856100c08160006103ae565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101228160006103ae565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b50600061018988886103c5565b5050509050600061019a8e8e61025e565b805190915060005b818110156101ed578281815181106101bc576101bc6105d7565b60200260200101516001600160a01b0316846001600160a01b0316036101e55750505050610250565b6001016101a2565b5060405162461bcd60e51b815260206004820152603160248201527f416c6c6f77656454617267657473456e666f726365723a7461726765742d6164604482015270191c995cdccb5b9bdd0b585b1b1bddd959607a1b6064820152608401610108565b505050505050505050505050565b606060008261026e601482610603565b15801561027a57508015155b6102da5760405162461bcd60e51b815260206004820152602b60248201527f416c6c6f77656454617267657473456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610108565b6102e560148261062d565b67ffffffffffffffff8111156102fd576102fd610641565b604051908082528060200260200182016040528015610326578160200160208202803683370190505b50925060005b818110156103a557858186610342826014610657565b9261034f9392919061066a565b61035891610694565b60601c84848151811061036d5761036d6105d7565b6001600160a01b03909216602092830291909101909101528261038f816106c9565b935061039e9050601482610657565b905061032c565b50505092915050565b6001600160f81b0319828116908216145b92915050565b60008036816103d7601482878961066a565b6103e091610694565b60601c93506103f360346014878961066a565b6103fc916106e2565b925061040b856034818961066a565b949793965094505050565b60008083601f84011261042857600080fd5b50813567ffffffffffffffff81111561044057600080fd5b60208301915083602082850101111561045857600080fd5b9250929050565b80356001600160a01b038116811461047657600080fd5b919050565b60008060008060008060008060008060e08b8d03121561049a57600080fd5b8a3567ffffffffffffffff808211156104b257600080fd5b6104be8e838f01610416565b909c509a5060208d01359150808211156104d757600080fd5b6104e38e838f01610416565b909a50985060408d0135975060608d013591508082111561050357600080fd5b506105108d828e01610416565b90965094505060808b0135925061052960a08c0161045f565b915061053760c08c0161045f565b90509295989b9194979a5092959850565b6000806020838503121561055b57600080fd5b823567ffffffffffffffff81111561057257600080fd5b61057e85828601610416565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156105cb5783516001600160a01b0316835292840192918401916001016105a6565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b600082610612576106126105ed565b500690565b634e487b7160e01b600052601160045260246000fd5b60008261063c5761063c6105ed565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156103bf576103bf610617565b6000808585111561067a57600080fd5b8386111561068757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156106c15780818660140360031b1b83161692505b505092915050565b6000600182016106db576106db610617565b5060010190565b803560208310156103bf57600019602084900360031b1b169291505056fea2646970667358221220192854344f7cbe5e3a46630068ff1c57d1382d110f4c7dae36ce8f18206bd1c864736f6c63430008170033";ee({},{abi:()=>oe,bytecode:()=>ce});var oe=[],ce="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088f05df9a321ebbfd15b9ae491704455fd55c5a0ef490ba4f3111c5cd7aa944764736f6c63430008170033";ee({},{abi:()=>le,bytecode:()=>ue});var le=[],ue="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ba35151db75ea04dd32865d4b2bd18ac453d87dfd60b81ec325260f801c1709564736f6c63430008170033";ee({},{abi:()=>de,bytecode:()=>fe});var de=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DifferentArgsAndTerms",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"terms",type:"bytes",indexed:!1,internalType:"bytes"},{name:"args",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1}],fe="0x608060405234801561001057600080fd5b506103b7806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063414c3e3314610051578063a145832a1461006d578063d3eddcc514610051578063ed46336714610051575b600080fd5b61006b61005f366004610249565b50505050505050505050565b005b61006b61007b366004610249565b85600881901b6001600160f81b03198116156100ec5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5088886040516100fd929190610316565b60405180910390208b8b604051610115929190610316565b6040518091039020146101d75783826001600160a01b0316336001600160a01b03167f07fc5f2898fc1f1cf9d6012177b7abb8d010b9e64055979af3a5bcd274e2a11a8e8e8e8e60405161016c949392919061034f565b60405180910390a460405162461bcd60e51b815260206004820152603260248201527f41726773457175616c697479436865636b456e666f726365723a646966666572604482015271656e742d617267732d616e642d7465726d7360701b60648201526084016100e3565b5050505050505050505050565b60008083601f8401126101f657600080fd5b50813567ffffffffffffffff81111561020e57600080fd5b60208301915083602082850101111561022657600080fd5b9250929050565b80356001600160a01b038116811461024457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561026857600080fd5b8a3567ffffffffffffffff8082111561028057600080fd5b61028c8e838f016101e4565b909c509a5060208d01359150808211156102a557600080fd5b6102b18e838f016101e4565b909a50985060408d0135975060608d01359150808211156102d157600080fd5b506102de8d828e016101e4565b90965094505060808b013592506102f760a08c0161022d565b915061030560c08c0161022d565b90509295989b9194979a5092959850565b8183823760009101908152919050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b604081526000610363604083018688610326565b8281036020840152610376818587610326565b97965050505050505056fea264697066735822122078e67ed2011e86335117ad2962f5a7ffbe2179a19bda7b4e0f3c3beff2ca893c64736f6c63430008170033";ee({},{abi:()=>pe,bytecode:()=>he});var pe=[],he="0x";ee({},{abi:()=>be,bytecode:()=>ye});var be=[{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]}],ye="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122010c6b66ba2fc3a92f070bf47f6d02e68772a73d44eed07c73bca1c9f7fab44e964736f6c63430008170033";ee({},{abi:()=>me,bytecode:()=>ge});var me=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"}],ge="0x",we={};ee(we,{abi:()=>ve,bytecode:()=>Ee});var ve=[{type:"receive",stateMutability:"payable"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],Ee="0x";ee({},{abi:()=>xe,bytecode:()=>Se});var xe=[{type:"constructor",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_swapApiSigner",type:"address",internalType:"address"},{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_metaSwap",type:"address",internalType:"contract IMetaSwap"},{name:"_argsEqualityCheckEnforcer",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"WHITELIST_ENFORCED",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"WHITELIST_NOT_ENFORCED",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"argsEqualityCheckEnforcer",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"isAggregatorAllowed",inputs:[{name:"aggregatorIdHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"allowed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isTokenAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}],outputs:[{name:"allowed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"metaSwap",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IMetaSwap"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setSwapApiSigner",inputs:[{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swapApiSigner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"swapByDelegation",inputs:[{name:"_signatureData",type:"tuple",internalType:"struct DelegationMetaSwapAdapter.SignatureData",components:[{name:"apiData",type:"bytes",internalType:"bytes"},{name:"expiration",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"_delegations",type:"tuple[]",internalType:"struct Delegation[]",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"_useTokenWhitelist",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swapTokens",inputs:[{name:"_aggregatorId",type:"string",internalType:"string"},{name:"_tokenFrom",type:"address",internalType:"contract IERC20"},{name:"_tokenTo",type:"address",internalType:"contract IERC20"},{name:"_recipient",type:"address",internalType:"address"},{name:"_amountFrom",type:"uint256",internalType:"uint256"},{name:"_balanceFromBefore",type:"uint256",internalType:"uint256"},{name:"_swapData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateAllowedAggregatorIds",inputs:[{name:"_aggregatorIds",type:"string[]",internalType:"string[]"},{name:"_statuses",type:"bool[]",internalType:"bool[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateAllowedTokens",inputs:[{name:"_tokens",type:"address[]",internalType:"contract IERC20[]"},{name:"_statuses",type:"bool[]",internalType:"bool[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[{name:"_token",type:"address",internalType:"contract IERC20"},{name:"_amount",type:"uint256",internalType:"uint256"},{name:"_recipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ChangedAggregatorIdStatus",inputs:[{name:"aggregatorIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"aggregatorId",type:"string",indexed:!1,internalType:"string"},{name:"status",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ChangedTokenStatus",inputs:[{name:"token",type:"address",indexed:!1,internalType:"contract IERC20"},{name:"status",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SentTokens",inputs:[{name:"token",type:"address",indexed:!0,internalType:"contract IERC20"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SetArgsEqualityCheckEnforcer",inputs:[{name:"newArgsEqualityCheckEnforcer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetMetaSwap",inputs:[{name:"newMetaSwap",type:"address",indexed:!0,internalType:"contract IMetaSwap"}],anonymous:!1},{type:"event",name:"SwapApiSignerUpdated",inputs:[{name:"newSigner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"AggregatorIdIsNotAllowed",inputs:[{name:"aggregatorId",type:"string",internalType:"string"}]},{type:"error",name:"AmountFromMismatch",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"FailedNativeTokenTransfer",inputs:[{name:"recipient",type:"address",internalType:"address"}]},{type:"error",name:"InputLengthsMismatch",inputs:[]},{type:"error",name:"InsufficientTokens",inputs:[]},{type:"error",name:"InvalidApiSignature",inputs:[]},{type:"error",name:"InvalidEmptyDelegations",inputs:[]},{type:"error",name:"InvalidIdenticalTokens",inputs:[]},{type:"error",name:"InvalidSwapFunctionSelector",inputs:[]},{type:"error",name:"InvalidZeroAddress",inputs:[]},{type:"error",name:"MissingArgsEqualityCheckEnforcer",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotLeafDelegator",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"SafeERC20FailedOperation",inputs:[{name:"token",type:"address",internalType:"address"}]},{type:"error",name:"SignatureExpired",inputs:[]},{type:"error",name:"TokenFromIsNotAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}]},{type:"error",name:"TokenFromMismatch",inputs:[]},{type:"error",name:"TokenToIsNotAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],Se="0x60e06040523480156200001157600080fd5b506040516200306738038062003067833981016040819052620000349162000258565b846001600160a01b0381166200006457604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b6200006f81620001d4565b506001600160a01b03841615806200008e57506001600160a01b038316155b80620000a157506001600160a01b038216155b80620000b457506001600160a01b038116155b15620000d35760405163f6b2911f60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0386811691821790925584821660805283821660a05290821660c0526040517fdeeca532e75e413fdd750935f0d28d3686b7e2074831c42f70db2ca0dc7b32d090600090a26040516001600160a01b038416907fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038316907f5a3c783d657606d324917524307587fd272edc5e8b257da020bb6072226b6b2c90600090a26040516001600160a01b038216907fb21681281e4a8a2f3a982e391c6e8b4638d9ccd60e9fa9715dc26c7e3cd15bbe90600090a25050505050620002d8565b600180546001600160a01b0319169055620001ef81620001f2565b50565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b0381168114620001ef57600080fd5b600080600080600060a086880312156200027157600080fd5b85516200027e8162000242565b6020870151909550620002918162000242565b6040870151909450620002a48162000242565b6060870151909350620002b78162000242565b6080870151909250620002ca8162000242565b809150509295509295909350565b60805160a05160c051612d356200033260003960008181610288015261136801526000818161033201528181610f4601528181610fd601526110010152600081816103a4015281816109120152610cf30152612d356000f3fe6080604052600436106101235760003560e01c8063ab7180f7116100a0578063ea4d3c9b11610064578063ea4d3c9b14610392578063ea9c6555146103c6578063f2fde38b1461040a578063f9eaee0d1461042a578063fcdea7a91461045a57600080fd5b8063ab7180f7146102aa578063b555ddad14610300578063cb2ef5fe14610320578063d691c96414610354578063e30c39781461037457600080fd5b8063715018a6116100e7578063715018a61461020e57806379ba5097146102235780638da5cb5b1461023857806390ef4d1b14610256578063a42ff9311461027657600080fd5b8063059ba4ee1461012f578063178984911461016c5780636451b418146101ac57806367ebd8a2146101ce57806369328dec146101ee57600080fd5b3661012a57005b600080fd5b34801561013b57600080fd5b5060025461014f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561017857600080fd5b5061019c610187366004611e85565b60046020526000908152604090205460ff1681565b6040519015158152602001610163565b3480156101b857600080fd5b506101cc6101c7366004612108565b61047a565b005b3480156101da57600080fd5b506101cc6101e9366004612281565b61098c565b3480156101fa57600080fd5b506101cc61020936600461229e565b610a05565b34801561021a57600080fd5b506101cc610a1d565b34801561022f57600080fd5b506101cc610a31565b34801561024457600080fd5b506000546001600160a01b031661014f565b34801561026257600080fd5b506101cc61027136600461232b565b610a75565b34801561028257600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b3480156102b657600080fd5b506102f36040518060400160405280601c81526020017f546f6b656e2d57686974656c6973742d4e6f742d456e666f726365640000000081525081565b60405161016391906123e6565b34801561030c57600080fd5b506101cc61031b36600461232b565b610bcb565b34801561032c57600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b61036761036236600461243a565b610ce6565b60405161016391906124df565b34801561038057600080fd5b506001546001600160a01b031661014f565b34801561039e57600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b3480156103d257600080fd5b506102f360405180604001604052806018815260200177151bdad95b8b55da1a5d195b1a5cdd0b515b999bdc98d95960421b81525081565b34801561041657600080fd5b506101cc610425366004612281565b610e1f565b34801561043657600080fd5b5061019c610445366004612281565b60036020526000908152604090205460ff1681565b34801561046657600080fd5b506101cc6104753660046124f2565b610e90565b61048b610486846125b4565b6110ba565b6000808080806104a361049e898061262a565b611194565b94509450945094509450600087519050806000036104d45760405163478bfa6560e01b815260040160405180910390fd5b836001600160a01b0316856001600160a01b03160361050657604051634e570e4560e01b815260040160405180910390fd5b61051285858a8a61132c565b600460008760405160200161052791906123e6565b60408051601f198184030181529181528151602092830120835290820192909252016000205460ff16610578578560405163b55e93d160e01b815260040161056f91906123e6565b60405180910390fd5b336001600160a01b03168860008151811061059557610595612670565b6020026020010151602001516001600160a01b0316146105c85760405163a711bbaf60e01b815260040160405180910390fd5b60003063fcdea7a98888888d6105df60018961269c565b815181106105ef576105ef612670565b602002602001015160200151896106058d6115b4565b8a60405160240161061c97969594939291906126af565b60408051601f19818403018152918152602080830180516001600160e01b031660e09590951b94909417909352805160028082526060820190925291945060009350909182015b60608152602001906001900390816106635790505090508960405160200161068b919061270f565b604051602081830303815290604052816000815181106106ad576106ad612670565b6020908102919091010152600060405190808252806020026020018201604052801561073957816020015b6107266040518060c0016040528060006001600160a01b0316815260200160006001600160a01b03168152602001600080191681526020016060815260200160008152602001606081525090565b8152602001906001900390816106d85790505b5060405160200161074a919061270f565b6040516020818303038152906040528160018151811061076c5761076c612670565b6020908102919091010152604080516002808252606082019092526000918160200160208202803683370190505090506107a4611639565b816000815181106107b7576107b7612670565b6020026020010181815250506107cb611639565b816001815181106107de576107de612670565b602090810291909101015260408051600280825260608201909252600091816020015b60608152602001906001900390816108015790505090506001600160a01b0389166108635761084030886040518060200160405280600081525061164c565b8160008151811061085357610853612670565b60200260200101819052506108d1565b6040513060248201526044810188905260009060640160408051601f198184030181529190526020810180516001600160e01b031663a9059cbb60e01b17905290506108b18a60008361164c565b826000815181106108c4576108c4612670565b6020026020010181905250505b6108dd3060008661164c565b816001815181106108f0576108f0612670565b602090810291909101015260405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061094b90869086908690600401612841565b600060405180830381600087803b15801561096557600080fd5b505af1158015610979573d6000803e3d6000fd5b5050505050505050505050505050505050565b61099461167b565b6001600160a01b0381166109bb5760405163f6b2911f60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0383169081179091556040517fdeeca532e75e413fdd750935f0d28d3686b7e2074831c42f70db2ca0dc7b32d090600090a250565b610a0d61167b565b610a188383836116a8565b505050565b610a2561167b565b610a2f60006117a1565b565b60015433906001600160a01b03168114610a695760405163118cdaa760e01b81526001600160a01b038216600482015260240161056f565b610a72816117a1565b50565b610a7d61167b565b82818114610a9e57604051637e26301b60e11b815260040160405180910390fd5b60005b81811015610bc3576000868683818110610abd57610abd612670565b9050602002810190610acf919061262a565b604051602001610ae09291906128d4565b6040516020818303038152906040528051906020012090506000858584818110610b0c57610b0c612670565b9050602002016020810190610b2191906128f0565b60008381526004602052604090205490915060ff16151581151514610bb9576000828152600460205260409020805460ff1916821515179055817ffe89a7e0da76ce9087f67dbe71c999de74699125edabbdd3ef09b42dafdf9e55898986818110610b8e57610b8e612670565b9050602002810190610ba0919061262a565b84604051610bb09392919061290d565b60405180910390a25b5050600101610aa1565b505050505050565b610bd361167b565b82818114610bf457604051637e26301b60e11b815260040160405180910390fd5b60005b81811015610bc3576000868683818110610c1357610c13612670565b9050602002016020810190610c289190612281565b90506000858584818110610c3e57610c3e612670565b9050602002016020810190610c5391906128f0565b6001600160a01b03831660009081526003602052604090205490915060ff16151581151514610cdc576001600160a01b038216600081815260036020908152604091829020805460ff19168515159081179091558251938452908301527fd0847c60d8132f1d2a3af347506243fa046f163a2c9c6698c43b31e1d7d95bc4910160405180910390a15b5050600101610bf7565b6060336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610d3157604051630692ce8160e21b815260040160405180910390fd5b83600881901b6001600160f81b0319821615610d6c57604051632e5bf3f960e21b81526001600160f81b03198316600482015260240161056f565b6001600160f81b0319811615610da1576040516308c3ee0360e11b81526001600160f81b03198216600482015260240161056f565b600080366000610db189896117ba565b6040805160018082528183019092529498509296509094509250816020015b6060815260200190600190039081610dd0579050509650610df38484848461180b565b87600081518110610e0657610e06612670565b60200260200101819052505050505050505b9392505050565b610e2761167b565b600180546001600160a01b0383166001600160a01b03199091168117909155610e586000546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b333014610eb0576040516314e1dbf760e11b815260040160405180910390fd5b600083610ebc896115b4565b610ec6919061269c565b905084811015610ee9576040516378dbf0af60e11b815260040160405180910390fd5b84811115610f0557610f0588610eff878461269c565b886116a8565b6000610f10886115b4565b905060006001600160a01b038a16610f29575085610fff565b604051636eb1769f60e11b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166024830152600091908c169063dd62ed3e90604401602060405180830381865afa158015610f99573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fbd9190612933565b905087811015610ffd57610ffd6001600160a01b038c167f0000000000000000000000000000000000000000000000000000000000000000600019611841565b505b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316635f575529828e8e8e8c8b8b6040518863ffffffff1660e01b81526004016110569695949392919061294c565b6000604051808303818588803b15801561106f57600080fd5b505af1158015611083573d6000803e3d6000fd5b50505050506000826110948b6115b4565b61109e919061269c565b90506110ab8a828b6116a8565b50505050505050505050505050565b806020015142106110de57604051630819bdcd60e01b815260040160405180910390fd5b6000816000015182602001516040516020016110fb929190612996565b604051602081830303815290604052805190602001209050600061114c827f19457468657265756d205369676e6564204d6573736167653a0a3332000000006000908152601c91909152603c902090565b9050600061115e8285604001516118cb565b6002549091506001600160a01b0380831691161461118e57604051626d46e960e31b815260040160405180910390fd5b50505050565b60606000808083816111a9600482898b6129b8565b6111b2916129e2565b90506001600160e01b03198116635f57552960e01b146111e557604051632033702760e11b815260040160405180910390fd5b60006111f4886004818c6129b8565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505082519293506112419284016020908101925084019050612a62565b60408051600060208201819052959c50939a50919750955082918291829182910160408051601f1981840301815290829052611281918a90602001612af9565b6040516020818303038152906040528060200190518101906112a39190612b28565b98505097505050955095509550508a6001600160a01b0316856001600160a01b0316146112e3576040516356cf902d60e01b815260040160405180910390fd5b801580156112fa5750886112f78484612be6565b14155b1561131857604051632f0e599760e11b815260040160405180910390fd5b839950505050505050509295509295909350565b60006001835161133c919061269c565b905082818151811061135057611350612670565b60200260200101516060015151600014806113d857507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168382815181106113a2576113a2612670565b6020026020010151606001516000815181106113c0576113c0612670565b6020026020010151600001516001600160a01b031614155b156113f65760405163113f78d160e31b815260040160405180910390fd5b8115611518576001600160a01b03851660009081526003602052604090205460ff166114405760405163550a4b9360e01b81526001600160a01b038616600482015260240161056f565b6001600160a01b03841660009081526003602052604090205460ff166114845760405163022330e760e61b81526001600160a01b038516600482015260240161056f565b60405180604001604052806018815260200177151bdad95b8b55da1a5d195b1a5cdd0b515b999bdc98d95960421b8152506040516020016114c591906123e6565b6040516020818303038152906040528382815181106114e6576114e6612670565b60200260200101516060015160008151811061150457611504612670565b6020026020010151604001819052506115ad565b6040518060400160405280601c81526020017f546f6b656e2d57686974656c6973742d4e6f742d456e666f726365640000000081525060405160200161155e91906123e6565b60405160208183030381529060405283828151811061157f5761157f612670565b60200260200101516060015160008151811061159d5761159d612670565b6020026020010151604001819052505b5050505050565b60006001600160a01b0382166115cb575047919050565b6040516370a0823160e01b81523060048201526001600160a01b038316906370a0823190602401602060405180830381865afa15801561160f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116339190612933565b92915050565b6000611647818080806118f5565b905090565b606083838360405160200161166393929190612bf9565b60405160208183030381529060405290509392505050565b6000546001600160a01b03163314610a2f5760405163118cdaa760e01b815233600482015260240161056f565b6001600160a01b03831661173b576000816001600160a01b03168360405160006040518083038185875af1925050503d8060008114611703576040519150601f19603f3d011682016040523d82523d6000602084013e611708565b606091505b5050905080611735576040516312988bef60e21b81526001600160a01b038316600482015260240161056f565b5061174f565b61174f6001600160a01b0384168284611960565b806001600160a01b0316836001600160a01b03167f2c42af0ac449800f98313b961b8c9e7d69c3065be5b86449ed4c358e01d3a7808460405161179491815260200190565b60405180910390a3505050565b600180546001600160a01b0319169055610a72816119bf565b60008036816117cc60148287896129b8565b6117d591612c38565b60601c93506117e86034601487896129b8565b6117f191612c6b565b925061180085603481896129b8565b949793965094505050565b60405181838237600038838387895af1611828573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b604051636eb1769f60e11b81523060048201526001600160a01b0383811660248301526000919085169063dd62ed3e90604401602060405180830381865afa158015611891573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118b59190612933565b905061118e84846118c68585612be6565b611a0f565b6000806000806118db8686611a9f565b9250925092506118eb8282611aec565b5090949350505050565b604080516001600160f81b03198087166020830152851660218201526000602282018190526001600160e01b03198516602683015269ffffffffffffffffffff198416602a830152910160405160208183030381529060405261195790612c89565b95945050505050565b6040516001600160a01b03838116602483015260448201839052610a1891859182169063a9059cbb906064015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050611ba9565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663095ea7b360e01b179052611a608482611c0c565b61118e576040516001600160a01b03848116602483015260006044830152611a9591869182169063095ea7b39060640161198d565b61118e8482611ba9565b60008060008351604103611ad95760208401516040850151606086015160001a611acb88828585611caf565b955095509550505050611ae5565b50508151600091506002905b9250925092565b6000826003811115611b0057611b00612cb0565b03611b09575050565b6001826003811115611b1d57611b1d612cb0565b03611b3b5760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611b4f57611b4f612cb0565b03611b705760405163fce698f760e01b81526004810182905260240161056f565b6003826003811115611b8457611b84612cb0565b03611ba5576040516335e2f38360e21b81526004810182905260240161056f565b5050565b6000611bbe6001600160a01b03841683611d7e565b90508051600014158015611be3575080806020019051810190611be19190612cc6565b155b15610a1857604051635274afe760e01b81526001600160a01b038416600482015260240161056f565b6000806000846001600160a01b031684604051611c299190612ce3565b6000604051808303816000865af19150503d8060008114611c66576040519150601f19603f3d011682016040523d82523d6000602084013e611c6b565b606091505b5091509150818015611c95575080511580611c95575080806020019051810190611c959190612cc6565b80156119575750505050506001600160a01b03163b151590565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0841115611cea5750600091506003905082611d74565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa158015611d3e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116611d6a57506000925060019150829050611d74565b9250600091508190505b9450945094915050565b6060610e188383600084600080856001600160a01b03168486604051611da49190612ce3565b60006040518083038185875af1925050503d8060008114611de1576040519150601f19603f3d011682016040523d82523d6000602084013e611de6565b606091505b5091509150611df6868383611e00565b9695505050505050565b606082611e1557611e1082611e5c565b610e18565b8151158015611e2c57506001600160a01b0384163b155b15611e5557604051639996b31560e01b81526001600160a01b038516600482015260240161056f565b5080610e18565b805115611e6c5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b600060208284031215611e9757600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b0381118282101715611ed657611ed6611e9e565b60405290565b60405160c081016001600160401b0381118282101715611ed657611ed6611e9e565b604051601f8201601f191681016001600160401b0381118282101715611f2657611f26611e9e565b604052919050565b60006001600160401b03821115611f4757611f47611e9e565b5060051b60200190565b6001600160a01b0381168114610a7257600080fd5b8035611f7181611f51565b919050565b60006001600160401b03821115611f8f57611f8f611e9e565b50601f01601f191660200190565b600082601f830112611fae57600080fd5b8135611fc1611fbc82611f76565b611efe565b818152846020838601011115611fd657600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f83011261200457600080fd5b81356020612014611fbc83611f2e565b82815260059290921b8401810191818101908684111561203357600080fd5b8286015b848110156120e45780356001600160401b03808211156120575760008081fd5b908801906060828b03601f19018113156120715760008081fd5b612079611eb4565b8784013561208681611f51565b81526040848101358481111561209c5760008081fd5b6120aa8e8b83890101611f9d565b838b0152509184013591838311156120c25760008081fd5b6120d08d8a85880101611f9d565b908201528652505050918301918301612037565b509695505050505050565b8015158114610a7257600080fd5b8035611f71816120ef565b60008060006060848603121561211d57600080fd5b83356001600160401b038082111561213457600080fd5b908501906060828803121561214857600080fd5b909350602090858201358181111561215f57600080fd5b8601601f8101881361217057600080fd5b803561217e611fbc82611f2e565b81815260059190911b8201840190848101908a83111561219d57600080fd5b8584015b83811015612262578035868111156121b857600080fd5b850160c0818e03601f190112156121ce57600080fd5b6121d6611edc565b6121e1898301611f66565b81526121ef60408301611f66565b898201526060820135604082015260808201358881111561220f57600080fd5b61221d8f8b83860101611ff3565b60608301525060a0820135608082015260c0820135888111156122405760008081fd5b61224e8f8b83860101611f9d565b60a0830152508452509186019186016121a1565b50809750505050505050612278604085016120fd565b90509250925092565b60006020828403121561229357600080fd5b8135610e1881611f51565b6000806000606084860312156122b357600080fd5b83356122be81611f51565b92506020840135915060408401356122d581611f51565b809150509250925092565b60008083601f8401126122f257600080fd5b5081356001600160401b0381111561230957600080fd5b6020830191508360208260051b850101111561232457600080fd5b9250929050565b6000806000806040858703121561234157600080fd5b84356001600160401b038082111561235857600080fd5b612364888389016122e0565b9096509450602087013591508082111561237d57600080fd5b5061238a878288016122e0565b95989497509550505050565b60005b838110156123b1578181015183820152602001612399565b50506000910152565b600081518084526123d2816020860160208601612396565b601f01601f19169290920160200192915050565b602081526000610e1860208301846123ba565b60008083601f84011261240b57600080fd5b5081356001600160401b0381111561242257600080fd5b60208301915083602082850101111561232457600080fd5b60008060006040848603121561244f57600080fd5b8335925060208401356001600160401b0381111561246c57600080fd5b612478868287016123f9565b9497909650939450505050565b60008282518085526020808601955060208260051b8401016020860160005b848110156124d257601f198684030189526124c08383516123ba565b988401989250908301906001016124a4565b5090979650505050505050565b602081526000610e186020830184612485565b600080600080600080600080600060e08a8c03121561251057600080fd5b89356001600160401b038082111561252757600080fd5b6125338d838e016123f9565b909b50995060208c0135915061254882611f51565b90975060408b01359061255a82611f51565b90965060608b01359061256c82611f51565b90955060808b0135945060a08b0135935060c08b0135908082111561259057600080fd5b5061259d8c828d016123f9565b915080935050809150509295985092959850929598565b6000606082360312156125c657600080fd5b6125ce611eb4565b82356001600160401b03808211156125e557600080fd5b6125f136838701611f9d565b835260208501356020840152604085013591508082111561261157600080fd5b5061261e36828601611f9d565b60408301525092915050565b6000808335601e1984360301811261264157600080fd5b8301803591506001600160401b0382111561265b57600080fd5b60200191503681900382131561232457600080fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561163357611633612686565b60e0815260006126c260e083018a6123ba565b6001600160a01b0389811660208501528881166040850152871660608401526080830186905260a0830185905282810360c084015261270181856123ba565b9a9950505050505050505050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b8281101561283457603f19888603018452815160c0860160018060a01b038083511688528089840151168989015260408301516040890152606083015160c060608a015282815180855260e08b01915060e08160051b8c010194508b8301925060005b818110156127f85760df198c870301835283518581511687528d81015160608f8901526127c960608901826123ba565b90506040820151915087810360408901526127e481836123ba565b97505050928c0192918c0191600101612799565b50505050506080820151608088015260a0820151915086810360a088015261282081836123ba565b965050509285019290850190600101612736565b5092979650505050505050565b6060815260006128546060830186612485565b82810360208481019190915285518083528682019282019060005b8181101561288b5784518352938301939183019160010161286f565b5050848103604086015261289f8187612485565b98975050505050505050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6020815260006128e86020830184866128ab565b949350505050565b60006020828403121561290257600080fd5b8135610e18816120ef565b6040815260006129216040830185876128ab565b90508215156020830152949350505050565b60006020828403121561294557600080fd5b5051919050565b60808152600061296060808301888a6128ab565b6001600160a01b03871660208401526040830186905282810360608401526129898185876128ab565b9998505050505050505050565b6040815260006129a960408301856123ba565b90508260208301529392505050565b600080858511156129c857600080fd5b838611156129d557600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015612a0a5780818660040360031b1b83161692505b505092915050565b6000612a20611fbc84611f76565b9050828152838383011115612a3457600080fd5b610e18836020830184612396565b600082601f830112612a5357600080fd5b610e1883835160208501612a12565b60008060008060808587031215612a7857600080fd5b84516001600160401b0380821115612a8f57600080fd5b818701915087601f830112612aa357600080fd5b612ab288835160208501612a12565b955060208701519150612ac482611f51565b60408701516060880151929550935080821115612ae057600080fd5b50612aed87828801612a42565b91505092959194509250565b60008351612b0b818460208801612396565b835190830190612b1f818360208801612396565b01949350505050565b60008060008060008060008060006101208a8c031215612b4757600080fd5b8951612b5281611f51565b60208b0151909950612b6381611f51565b60408b0151909850612b7481611f51565b8097505060608a0151955060808a0151945060a08a01516001600160401b03811115612b9f57600080fd5b612bab8c828d01612a42565b94505060c08a0151925060e08a0151612bc381611f51565b6101008b0151909250612bd5816120ef565b809150509295985092959850929598565b8082018082111561163357611633612686565b6bffffffffffffffffffffffff198460601b16815282601482015260008251612c29816034850160208701612396565b91909101603401949350505050565b6bffffffffffffffffffffffff198135818116916014851015612a0a5760149490940360031b84901b1690921692915050565b8035602083101561163357600019602084900360031b1b1692915050565b80516020808301519190811015612caa576000198160200360031b1b821691505b50919050565b634e487b7160e01b600052602160045260246000fd5b600060208284031215612cd857600080fd5b8151610e18816120ef565b60008251612cf5818460208701612396565b919091019291505056fea2646970667358221220e6349ea62bd7b0c0d8eed7da3947908c16ca3383370cc10da3a8b2b40c83b05264736f6c63430008170033";ee({},{abi:()=>Te,bytecode:()=>Ae});var Te=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"blockAfterThreshold_",type:"uint128",internalType:"uint128"},{name:"blockBeforeThreshold_",type:"uint128",internalType:"uint128"}],stateMutability:"pure"}],Ae="0x608060405234801561001057600080fd5b506104ed806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610345565b50505050505050505050565b005b610076610086366004610345565b6100c2565b61009e610099366004610412565b61023e565b604080516001600160801b0393841681529290911660208301520160405180910390f35b85600881901b6001600160f81b03198116156101335760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806101418d8d61023e565b90925090506001600160801b038216156101b957816001600160801b031643116101b95760405162461bcd60e51b8152602060048201526024808201527f426c6f636b4e756d626572456e666f726365723a6561726c792d64656c6567616044820152633a34b7b760e11b606482015260840161012a565b6001600160801b0381161561022f57806001600160801b0316431061022f5760405162461bcd60e51b815260206004820152602660248201527f426c6f636b4e756d626572456e666f726365723a657870697265642d64656c6560448201526533b0ba34b7b760d11b606482015260840161012a565b50505050505050505050505050565b600080602083146102a25760405162461bcd60e51b815260206004820152602860248201527f426c6f636b4e756d626572456e666f726365723a696e76616c69642d7465726d6044820152670e65ad8cadccee8d60c31b606482015260840161012a565b6102b0601060008587610454565b6102b99161047e565b60801c91506102cb8360108187610454565b6102d49161047e565b60801c90509250929050565b60008083601f8401126102f257600080fd5b50813567ffffffffffffffff81111561030a57600080fd5b60208301915083602082850101111561032257600080fd5b9250929050565b80356001600160a01b038116811461034057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561036457600080fd5b8a3567ffffffffffffffff8082111561037c57600080fd5b6103888e838f016102e0565b909c509a5060208d01359150808211156103a157600080fd5b6103ad8e838f016102e0565b909a50985060408d0135975060608d01359150808211156103cd57600080fd5b506103da8d828e016102e0565b90965094505060808b013592506103f360a08c01610329565b915061040160c08c01610329565b90509295989b9194979a5092959850565b6000806020838503121561042557600080fd5b823567ffffffffffffffff81111561043c57600080fd5b610448858286016102e0565b90969095509350505050565b6000808585111561046457600080fd5b8386111561047157600080fd5b5050820193919092039150565b6fffffffffffffffffffffffffffffffff1981358181169160108510156104af5780818660100360031b1b83161692505b50509291505056fea2646970667358221220e786ddc75b5e54c089f23ff0a2c6c7b67417725b5021ebc3aa3b2726c852e6cb64736f6c63430008170033";ee({},{abi:()=>_e,bytecode:()=>Ce});var _e=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"computeAddress",inputs:[{name:"_bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"expectedAddress_",type:"address",internalType:"address"},{name:"salt_",type:"bytes32",internalType:"bytes32"},{name:"bytecode_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"},{type:"event",name:"DeployedContract",inputs:[{name:"contractAddress",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"SkippedDeployment",inputs:[{name:"contractAddress",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"DeployedEmptyContract",inputs:[{name:"contractAddress",type:"address",internalType:"address"}]}],Ce="0x608060405234801561001057600080fd5b50610748806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063481286e614610083578063a145832a146100b3578063b99deb0e146100c6578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046104fe565b50505050505050505050565b005b6100966100913660046105cb565b6100e8565b6040516001600160a01b0390911681526020015b60405180910390f35b6100816100c13660046104fe565b6100fd565b6100d96100d43660046105ed565b61026d565b6040516100aa9392919061062f565b60006100f48284610353565b90505b92915050565b85600881901b6001600160f81b031981161561016e5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b50600080600061017e8e8e61026d565b919450925090506001600160a01b0383163b156101d9576040516001600160a01b03841681527f641dafeb23238fae3ef71c64fced975da90c34dede63890507f3dda6b1e0dfef9060200160405180910390a1505050610260565b60006101e58284610360565b9050836001600160a01b0316816001600160a01b03161461025b5760405162461bcd60e51b815260206004820152602a60248201527f4465706c6f796564456e666f726365723a6465706c6f7965642d6164647265736044820152690e65adad2e6dac2e8c6d60b31b6064820152608401610165565b505050505b5050505050505050505050565b6000806060603484116102d05760405162461bcd60e51b815260206004820152602560248201527f4465706c6f796564456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b6064820152608401610165565b6102de601460008688610695565b6102e7916106bf565b60601c92506102fa603460148688610695565b610303916106f4565b91506103128460348188610695565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509598949750919550929350505050565b60006100f48383306103e8565b600061036e60008385610412565b9050806001600160a01b03163b6000036103a6576040516352c7cd4960e11b81526001600160a01b0382166004820152602401610165565b6040516001600160a01b03821681527faf3c4b03f515b5a38f3c238fdc24abf10854a2f27f2a85743a71de17e9bc7e7f9060200160405180910390a192915050565b6000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b60008347101561043e5760405163392efb2b60e21b815247600482015260248101859052604401610165565b815160000361046057604051631328927760e21b815260040160405180910390fd5b8282516020840186f590506001600160a01b03811661049257604051633a0ba96160e11b815260040160405180910390fd5b9392505050565b60008083601f8401126104ab57600080fd5b50813567ffffffffffffffff8111156104c357600080fd5b6020830191508360208285010111156104db57600080fd5b9250929050565b80356001600160a01b03811681146104f957600080fd5b919050565b60008060008060008060008060008060e08b8d03121561051d57600080fd5b8a3567ffffffffffffffff8082111561053557600080fd5b6105418e838f01610499565b909c509a5060208d013591508082111561055a57600080fd5b6105668e838f01610499565b909a50985060408d0135975060608d013591508082111561058657600080fd5b506105938d828e01610499565b90965094505060808b013592506105ac60a08c016104e2565b91506105ba60c08c016104e2565b90509295989b9194979a5092959850565b600080604083850312156105de57600080fd5b50508035926020909101359150565b6000806020838503121561060057600080fd5b823567ffffffffffffffff81111561061757600080fd5b61062385828601610499565b90969095509350505050565b60018060a01b03841681526000602084602084015260606040840152835180606085015260005b8181101561067257858101830151858201608001528201610656565b506000608082860101526080601f19601f83011685010192505050949350505050565b600080858511156106a557600080fd5b838611156106b257600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156106ec5780818660140360031b1b83161692505b505092915050565b803560208310156100f757600019602084900360031b1b169291505056fea264697066735822122012632a27b82f8f9b4b083a1f26c705dcd1ceb840e52519ff7902232eb956870464736f6c63430008170033";ee({},{abi:()=>ke,bytecode:()=>Ie});var ke=[],Ie="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212201124664c489cae3f1f240552ace1b72f497b65d8c9bdbce66e0c2b36268dcd2c64736f6c63430008170033";ee({},{abi:()=>Pe,bytecode:()=>Oe});var Pe=[{type:"receive",stateMutability:"payable"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"InvalidEIP712NameLength",inputs:[]},{type:"error",name:"InvalidEIP712VersionLength",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UnauthorizedCallContext",inputs:[]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],Oe="0x";ee({},{abi:()=>Me,bytecode:()=>Re});var Me=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_recipient",type:"address",internalType:"address"},{name:"_tokenId",type:"uint256",internalType:"uint256"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"tokenId_",type:"uint256",internalType:"uint256"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],Re="0x608060405234801561001057600080fd5b506109cb806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b99deb0e1161005b578063b99deb0e14610122578063d0a3529f1461016b578063d3eddcc51461017e578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c5578063a145832a146100e1578063b5e54492146100f4575b600080fd5b6100b061009b3660046106cb565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610749565b50505050505050505050565b005b6100df6100ef366004610749565b610191565b6101146101023660046106cb565b60006020819052908152604090205481565b6040519081526020016100bc565b610135610130366004610816565b610350565b6040805195151586526001600160a01b03948516602087015292909316918401919091526060830152608082015260a0016100bc565b610114610179366004610858565b61045d565b6100df61018c366004610749565b610476565b85600881901b6101a2816000610661565b6102015760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060008060006102118e8e610350565b50935093509350506000610228338585858c610678565b60008181526001602052604090205490915060ff16156102a25760405162461bcd60e51b815260206004820152602f60248201527f4552433131353542616c616e63654368616e6765456e666f726365723a656e6660448201526e1bdc98d95c8b5a5ccb5b1bd8dad959608a1b60648201526084016101f8565b6000818152600160208190526040808320805460ff191690921790915551627eeac760e11b81526001600160a01b0385811660048301526024820185905286169062fdd58e90604401602060405180830381865afa158015610308573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061032c91906108ad565b60009283526020839052604090922091909155505050505050505050505050505050565b600080808080606986146103c05760405162461bcd60e51b815260206004820152603160248201527f4552433131353542616c616e63654368616e6765456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101f8565b868660008181106103d3576103d36108c6565b909101356001600160f81b031916151595506103f5905060156001888a6108dc565b6103fe91610906565b60601c935061041160296015888a6108dc565b61041a91610906565b60601c925061042d60496029888a6108dc565b6104369161093b565b9150610445866049818a6108dc565b61044e9161093b565b60001c90509295509295909350565b600061046c8686868686610678565b9695505050505050565b60008060008060006104888f8f610350565b9450945094509450945060006104a1338686868d610678565b600081815260016020526040808220805460ff1916905551627eeac760e11b81526001600160a01b03878116600483015260248201879052929350909187169062fdd58e90604401602060405180830381865afa158015610506573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061052a91906108ad565b905086156105bf5760008281526020819052604090205461054c90849061096f565b8110156105ba5760405162461bcd60e51b815260206004820152603660248201527f4552433131353542616c616e63654368616e6765456e666f726365723a65786360448201527565656465642d62616c616e63652d646563726561736560501b60648201526084016101f8565b61064e565b6000828152602081905260409020546105d9908490610982565b81101561064e5760405162461bcd60e51b815260206004820152603a60248201527f4552433131353542616c616e63654368616e6765456e666f726365723a696e7360448201527f756666696369656e742d62616c616e63652d696e63726561736500000000000060648201526084016101f8565b5050505050505050505050505050505050565b6001600160f81b0319828116908216145b92915050565b604080516001600160a01b0396871660208083019190915295871681830152939095166060840152608083019190915260a0808301919091528351808303909101815260c0909101909252815191012090565b6000602082840312156106dd57600080fd5b5035919050565b60008083601f8401126106f657600080fd5b50813567ffffffffffffffff81111561070e57600080fd5b60208301915083602082850101111561072657600080fd5b9250929050565b80356001600160a01b038116811461074457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561076857600080fd5b8a3567ffffffffffffffff8082111561078057600080fd5b61078c8e838f016106e4565b909c509a5060208d01359150808211156107a557600080fd5b6107b18e838f016106e4565b909a50985060408d0135975060608d01359150808211156107d157600080fd5b506107de8d828e016106e4565b90965094505060808b013592506107f760a08c0161072d565b915061080560c08c0161072d565b90509295989b9194979a5092959850565b6000806020838503121561082957600080fd5b823567ffffffffffffffff81111561084057600080fd5b61084c858286016106e4565b90969095509350505050565b600080600080600060a0868803121561087057600080fd5b6108798661072d565b94506108876020870161072d565b93506108956040870161072d565b94979396509394606081013594506080013592915050565b6000602082840312156108bf57600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b600080858511156108ec57600080fd5b838611156108f957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156109335780818660140360031b1b83161692505b505092915050565b8035602083101561067257600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561067257610672610959565b808201808211156106725761067261095956fea264697066735822122095ab63871cc701b6845065f3118822a1bb1778b7d93ba045a40145ebc06f19af64736f6c63430008170033",Ne={};ee(Ne,{abi:()=>Le,bytecode:()=>De});var Le=[{type:"constructor",inputs:[{name:"_owner",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"ANY_DELEGATE",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"ROOT_AUTHORITY",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disabledDelegations",inputs:[{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"isDisabled",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDelegationHash",inputs:[{name:"_input",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DisabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"EnabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"RedeemedDelegation",inputs:[{name:"rootDelegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"SetDomain",inputs:[{name:"domainHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"domainVersion",type:"string",indexed:!1,internalType:"string"},{name:"chainId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"contractAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadyDisabled",inputs:[]},{type:"error",name:"AlreadyEnabled",inputs:[]},{type:"error",name:"BatchDataLengthMismatch",inputs:[]},{type:"error",name:"CannotUseADisabledDelegation",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"EmptySignature",inputs:[]},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]},{type:"error",name:"InvalidAuthority",inputs:[]},{type:"error",name:"InvalidDelegate",inputs:[]},{type:"error",name:"InvalidDelegator",inputs:[]},{type:"error",name:"InvalidEOASignature",inputs:[]},{type:"error",name:"InvalidERC1271Signature",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],De="0x6101606040523480156200001257600080fd5b506040516200334f3803806200334f833981016040819052620000359162000384565b60408051808201825260118152702232b632b3b0ba34b7b726b0b730b3b2b960791b602080830191909152825180840190935260018352603160f81b9083015290826001600160a01b038116620000a757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b620000b28162000204565b506001805460ff60a01b19169055620000cd82600262000222565b61012052620000de81600362000222565b61014052815160208084019190912060e052815190820120610100524660a0526200015b60e05161010051604080516000805160206200332f83398151915260208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60805250503060c0526000620001706200025b565b9050306001600160a01b0316817f04a46d9007577c7ff1e513b900545162ec25d25991ae3dc60cf26ec01a84806d604051806040016040528060118152602001702232b632b3b0ba34b7b726b0b730b3b2b960791b815250604051806040016040528060018152602001603160f81b81525046604051620001f493929190620003fe565b60405180910390a35050620005e5565b600180546001600160a01b03191690556200021f81620002f1565b50565b600060208351101562000242576200023a8362000341565b905062000255565b816200024f8482620004df565b5060ff90505b92915050565b600060c0516001600160a01b0316306001600160a01b031614801562000282575060a05146145b156200028f575060805190565b620002ec60e05161010051604080516000805160206200332f83398151915260208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b905090565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600080829050601f815111156200036f578260405163305a27a960e01b81526004016200009e9190620005ab565b80516200037c82620005c0565b179392505050565b6000602082840312156200039757600080fd5b81516001600160a01b0381168114620003af57600080fd5b9392505050565b6000815180845260005b81811015620003de57602081850181015186830182015201620003c0565b506000602082860101526020601f19601f83011685010191505092915050565b606081526000620004136060830186620003b6565b8281036020840152620004278186620003b6565b915050826040830152949350505050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200046357607f821691505b6020821081036200048457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620004da576000816000526020600020601f850160051c81016020861015620004b55750805b601f850160051c820191505b81811015620004d657828155600101620004c1565b5050505b505050565b81516001600160401b03811115620004fb57620004fb62000438565b62000513816200050c84546200044e565b846200048a565b602080601f8311600181146200054b5760008415620005325750858301515b600019600386901b1c1916600185901b178555620004d6565b600085815260208120601f198616915b828110156200057c578886015182559484019460019091019084016200055b565b50858210156200059b5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b602081526000620003af6020830184620003b6565b80516020808301519190811015620004845760001960209190910360031b1b16919050565b60805160a05160c05160e051610100516101205161014051612cef620006406000396000611bda01526000611bad01526000611b1201526000611aea01526000611a4501526000611a6f01526000611a990152612cef6000f3fe608060405234801561001057600080fd5b506004361061012c5760003560e01c806383ebb771116100ad578063acb8cc4911610071578063acb8cc491461027f578063cef6d2091461029f578063e30c3978146102b2578063f2fde38b146102c3578063ffa1ad74146102d657600080fd5b806383ebb771146102065780638456cb591461020e57806384b0196e146102165780638da5cb5b14610231578063a3f4df7e1461024257600080fd5b806358909ebc116100f457806358909ebc146101b05780635c975abb146101d157806366134607146101e3578063715018a6146101f657806379ba5097146101fe57600080fd5b80631b13cac2146101315780632d40d0521461014d5780633ed01015146101805780633f4ba83a14610195578063499340471461019d575b600080fd5b61013a60001981565b6040519081526020015b60405180910390f35b61017061015b3660046120e6565b60046020526000908152604090205460ff1681565b6040519015158152602001610144565b61019361018e3660046120ff565b6102fa565b005b6101936103f4565b6101936101ab3660046120ff565b610406565b6101b9610a1181565b6040516001600160a01b039091168152602001610144565b600154600160a01b900460ff16610170565b61013a6101f13660046120ff565b6104f6565b61019361050f565b610193610521565b61013a61056a565b610193610579565b61021e610589565b6040516101449796959493929190612190565b6000546001600160a01b03166101b9565b610272604051806040016040528060118152602001702232b632b3b0ba34b7b726b0b730b3b2b960791b81525081565b6040516101449190612229565b610272604051806040016040528060018152602001603160f81b81525081565b6101936102ad366004612287565b6105cf565b6001546001600160a01b03166101b9565b6101936102d136600461233c565b611891565b610272604051806040016040528060058152602001640312e332e360dc1b81525081565b61030a604082016020830161233c565b6001600160a01b03811633146103335760405163b9f0f17160e01b815260040160405180910390fd5b600061033e836104f6565b60008181526004602052604090205490915060ff1661037057604051637952fbad60e11b815260040160405180910390fd5b6000818152600460209081526040909120805460ff191690556103959084018461233c565b6001600160a01b03166103ae604085016020860161233c565b6001600160a01b0316827f3feadce88fc1b49db633a56fd5307ed6ee18734df83bcc4011daa720c9cd95f1866040516103e79190612484565b60405180910390a4505050565b6103fc611902565b61040461192f565b565b610416604082016020830161233c565b6001600160a01b038116331461043f5760405163b9f0f17160e01b815260040160405180910390fd5b600061044a836104f6565b60008181526004602052604090205490915060ff161561047c57604051625ecddb60e01b815260040160405180910390fd5b6000818152600460209081526040909120805460ff191660011790556104a49084018461233c565b6001600160a01b03166104bd604085016020860161233c565b6001600160a01b0316827fea589ba9473ee1fe77d352c7ed919747715a5d22931b972de9b02a907c66d5dd866040516103e79190612484565b600061050961050483612823565b611984565b92915050565b610517611902565b6104046000611a1f565b60015433906001600160a01b0316811461055e5760405163118cdaa760e01b81526001600160a01b03821660048201526024015b60405180910390fd5b61056781611a1f565b50565b6000610574611a38565b905090565b610581611902565b610404611b63565b60006060806000806000606061059d611ba6565b6105a5611bd3565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b6105d7611c00565b8481811415806105e75750808414155b1561060557604051631bcaf69f60e01b815260040160405180910390fd5b6000816001600160401b0381111561061f5761061f612555565b60405190808252806020026020018201604052801561065257816020015b606081526020019060019003908161063d5790505b5090506000826001600160401b0381111561066f5761066f612555565b6040519080825280602002602001820160405280156106a257816020015b606081526020019060019003908161068d5790505b50905060005b83811015610c815760008a8a838181106106c4576106c461282f565b90506020028101906106d69190612845565b8101906106e3919061288b565b905080516000036107d1576040805160008082526020820190925290610765565b6107526040518060c0016040528060006001600160a01b0316815260200160006001600160a01b03168152602001600080191681526020016060815260200160008152602001606081525090565b8152602001906001900390816107045790505b508483815181106107785761077861282f565b602090810291909101015260006040519080825280602002602001820160405280156107ae578160200160208202803683370190505b508383815181106107c1576107c161282f565b6020026020010181905250610c78565b808483815181106107e4576107e461282f565b6020026020010181905250600081516001600160401b0381111561080a5761080a612555565b604051908082528060200260200182016040528015610833578160200160208202803683370190505b509050808484815181106108495761084961282f565b6020026020010181905250336001600160a01b0316826000815181106108715761087161282f565b6020026020010151600001516001600160a01b0316141580156108c65750610a116001600160a01b0316826000815181106108ae576108ae61282f565b6020026020010151600001516001600160a01b031614155b156108e457604051632d618d8160e21b815260040160405180910390fd5b60005b8251811015610ab55760008382815181106109045761090461282f565b6020026020010151905061091781611984565b8383815181106109295761092961282f565b60200260200101818152505080602001516001600160a01b03163b6000036109dc57600061099e61099461095b61056a565b86868151811061096d5761096d61282f565b602002602001015160405161190160f01b8152600281019290925260228201526042902090565b8360a00151611c2b565b905081602001516001600160a01b0316816001600160a01b0316146109d657604051630f6d9e4760e21b815260040160405180910390fd5b50610aac565b60006109fb6109e961056a565b85858151811061096d5761096d61282f565b9050600082602001516001600160a01b0316631626ba7e838560a001516040518363ffffffff1660e01b8152600401610a3592919061293b565b602060405180830381865afa158015610a52573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a76919061295c565b6001600160e01b0319169050630b135d3f60e11b8114610aa95760405163155ff42760e01b815260040160405180910390fd5b50505b506001016108e7565b5060005b8251811015610c755760046000838381518110610ad857610ad861282f565b60209081029190910181015182528101919091526040016000205460ff1615610b14576040516302dd502960e11b815260040160405180910390fd5b60018351610b22919061299c565b8114610c2b5781610b348260016129af565b81518110610b4457610b4461282f565b6020026020010151838281518110610b5e57610b5e61282f565b60200260200101516040015114610b8857604051636f6a1b8760e11b815260040160405180910390fd5b600083610b968360016129af565b81518110610ba657610ba661282f565b6020026020010151600001519050610a116001600160a01b0316816001600160a01b031614158015610c075750806001600160a01b0316848381518110610bef57610bef61282f565b6020026020010151602001516001600160a01b031614155b15610c2557604051632d618d8160e21b815260040160405180910390fd5b50610c6d565b60001960001b838281518110610c4357610c4361282f565b60200260200101516040015114610c6d57604051636f6a1b8760e11b815260040160405180910390fd5b600101610ab9565b50505b506001016106a8565b5060005b83811015610ea6576000838281518110610ca157610ca161282f565b6020026020010151511115610e9e5760005b838281518110610cc557610cc561282f565b602002602001015151811015610e9c576000848381518110610ce957610ce961282f565b60200260200101518281518110610d0257610d0261282f565b602002602001015160600151905060005b8151811015610e92576000828281518110610d3057610d3061282f565b6020026020010151600001519050806001600160a01b031663414c3e33848481518110610d5f57610d5f61282f565b602002602001015160200151858581518110610d7d57610d7d61282f565b6020026020010151604001518f8f8a818110610d9b57610d9b61282f565b905060200201358e8e8b818110610db457610db461282f565b9050602002810190610dc69190612845565b8c8c81518110610dd857610dd861282f565b60200260200101518b81518110610df157610df161282f565b60200260200101518e8d81518110610e0b57610e0b61282f565b60200260200101518c81518110610e2457610e2461282f565b602002602001015160200151336040518963ffffffff1660e01b8152600401610e549897969594939291906129c2565b600060405180830381600087803b158015610e6e57600080fd5b505af1158015610e82573d6000803e3d6000fd5b5050505050806001019050610d13565b5050600101610cb3565b505b600101610c85565b5060005b838110156114ca57828181518110610ec457610ec461282f565b602002602001015151600003610f82573363d691c964898984818110610eec57610eec61282f565b90506020020135888885818110610f0557610f0561282f565b9050602002810190610f179190612845565b6040518463ffffffff1660e01b8152600401610f3593929190612a2d565b6000604051808303816000875af1158015610f54573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610f7c9190810190612a50565b506114c2565b60005b838281518110610f9757610f9761282f565b60200260200101515181101561116e576000848381518110610fbb57610fbb61282f565b60200260200101518281518110610fd457610fd461282f565b602002602001015160600151905060005b81518110156111645760008282815181106110025761100261282f565b6020026020010151600001519050806001600160a01b031663a145832a8484815181106110315761103161282f565b60200260200101516020015185858151811061104f5761104f61282f565b6020026020010151604001518f8f8a81811061106d5761106d61282f565b905060200201358e8e8b8181106110865761108661282f565b90506020028101906110989190612845565b8c8c815181106110aa576110aa61282f565b60200260200101518b815181106110c3576110c361282f565b60200260200101518e8d815181106110dd576110dd61282f565b60200260200101518c815181106110f6576110f661282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016111269897969594939291906129c2565b600060405180830381600087803b15801561114057600080fd5b505af1158015611154573d6000803e3d6000fd5b5050505050806001019050610fe5565b5050600101610f85565b508281815181106111815761118161282f565b6020026020010151600184838151811061119d5761119d61282f565b6020026020010151516111b0919061299c565b815181106111c0576111c061282f565b6020026020010151602001516001600160a01b031663d691c9648989848181106111ec576111ec61282f565b905060200201358888858181106112055761120561282f565b90506020028101906112179190612845565b6040518463ffffffff1660e01b815260040161123593929190612a2d565b6000604051808303816000875af1158015611254573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261127c9190810190612a50565b5060008382815181106112915761129161282f565b60200260200101515190505b80156114c05760008483815181106112b7576112b761282f565b60200260200101516001836112cc919061299c565b815181106112dc576112dc61282f565b60200260200101516060015190506000815190505b80156114ad5760008261130560018461299c565b815181106113155761131561282f565b6020026020010151600001519050806001600160a01b031663d3eddcc584600185611340919061299c565b815181106113505761135061282f565b6020026020010151602001518560018661136a919061299c565b8151811061137a5761137a61282f565b6020026020010151604001518f8f8a8181106113985761139861282f565b905060200201358e8e8b8181106113b1576113b161282f565b90506020028101906113c39190612845565b8c8c815181106113d5576113d561282f565b602002602001015160018c6113ea919061299c565b815181106113fa576113fa61282f565b60200260200101518e8d815181106114145761141461282f565b602002602001015160018d611429919061299c565b815181106114395761143961282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016114699897969594939291906129c2565b600060405180830381600087803b15801561148357600080fd5b505af1158015611497573d6000803e3d6000fd5b5050505050806114a690612b2f565b90506112f1565b5050806114b990612b2f565b905061129d565b505b600101610eaa565b5060005b838110156117465760008382815181106114ea576114ea61282f565b602002602001015151111561173e57600083828151811061150d5761150d61282f565b60200260200101515190505b801561173c5760008483815181106115335761153361282f565b6020026020010151600183611548919061299c565b815181106115585761155861282f565b60200260200101516060015190506000815190505b80156117295760008261158160018461299c565b815181106115915761159161282f565b6020026020010151600001519050806001600160a01b031663ed463367846001856115bc919061299c565b815181106115cc576115cc61282f565b602002602001015160200151856001866115e6919061299c565b815181106115f6576115f661282f565b6020026020010151604001518f8f8a8181106116145761161461282f565b905060200201358e8e8b81811061162d5761162d61282f565b905060200281019061163f9190612845565b8c8c815181106116515761165161282f565b602002602001015160018c611666919061299c565b815181106116765761167661282f565b60200260200101518e8d815181106116905761169061282f565b602002602001015160018d6116a5919061299c565b815181106116b5576116b561282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016116e59897969594939291906129c2565b600060405180830381600087803b1580156116ff57600080fd5b505af1158015611713573d6000803e3d6000fd5b50505050508061172290612b2f565b905061156d565b50508061173590612b2f565b9050611519565b505b6001016114ce565b5060005b838110156118855760008382815181106117665761176661282f565b602002602001015151111561187d5760005b83828151811061178a5761178a61282f565b60200260200101515181101561187b57336001600160a01b03168483815181106117b6576117b661282f565b602002602001015160018685815181106117d2576117d261282f565b6020026020010151516117e5919061299c565b815181106117f5576117f561282f565b6020026020010151602001516001600160a01b03167f40dadaa36c6c2e3d7317e24757451ffb2d603d875f0ad5e92c5dd156573b187386858151811061183d5761183d61282f565b602002602001015184815181106118565761185661282f565b602002602001015160405161186b9190612b46565b60405180910390a3600101611778565b505b60010161174a565b50505050505050505050565b611899611902565b600180546001600160a01b0383166001600160a01b031990911681179091556118ca6000546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b6000546001600160a01b031633146104045760405163118cdaa760e01b8152336004820152602401610555565b611937611c55565b6001805460ff60a01b191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b6000807f88c1d2ecf185adf710588203a5f263f0ff61be0d33da39792cde19ba9aa4331e8360000151846020015185604001516119c48760600151611c7f565b6080808901516040805160208101989098526001600160a01b03968716908801529490931660608601529184015260a083015260c082015260e0015b60408051601f1981840301815291905280516020909101209392505050565b600180546001600160a01b031916905561056781611d4a565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015611a9157507f000000000000000000000000000000000000000000000000000000000000000046145b15611abb57507f000000000000000000000000000000000000000000000000000000000000000090565b610574604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b611b6b611c00565b6001805460ff60a01b1916600160a01b1790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2586119673390565b60606105747f00000000000000000000000000000000000000000000000000000000000000006002611d9a565b60606105747f00000000000000000000000000000000000000000000000000000000000000006003611d9a565b600154600160a01b900460ff16156104045760405163d93c066560e01b815260040160405180910390fd5b600080600080611c3b8686611e45565b925092509250611c4b8282611e92565b5090949350505050565b600154600160a01b900460ff1661040457604051638dfc202b60e01b815260040160405180910390fd5b60008082516001600160401b03811115611c9b57611c9b612555565b604051908082528060200260200182016040528015611cc4578160200160208202803683370190505b50905060005b8351811015611d1a57611cf5848281518110611ce857611ce861282f565b6020026020010151611f4f565b828281518110611d0757611d0761282f565b6020908102919091010152600101611cca565b5080604051602001611d2c9190612c33565b60405160208183030381529060405280519060200120915050919050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b606060ff8314611db457611dad83611fb0565b9050610509565b818054611dc090612c69565b80601f0160208091040260200160405190810160405280929190818152602001828054611dec90612c69565b8015611e395780601f10611e0e57610100808354040283529160200191611e39565b820191906000526020600020905b815481529060010190602001808311611e1c57829003601f168201915b50505050509050610509565b60008060008351604103611e7f5760208401516040850151606086015160001a611e7188828585611fef565b955095509550505050611e8b565b50508151600091506002905b9250925092565b6000826003811115611ea657611ea6612ca3565b03611eaf575050565b6001826003811115611ec357611ec3612ca3565b03611ee15760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611ef557611ef5612ca3565b03611f165760405163fce698f760e01b815260048101829052602401610555565b6003826003811115611f2a57611f2a612ca3565b03611f4b576040516335e2f38360e21b815260048101829052602401610555565b5050565b6000807f80ad7e1b04ee6d994a125f4714ca0720908bd80ed16063ec8aee4b88e9253e2d8360000151846020015180519060200120604051602001611a00939291909283526001600160a01b03919091166020830152604082015260600190565b60606000611fbd836120be565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a084111561202a57506000915060039050826120b4565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa15801561207e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166120aa575060009250600191508290506120b4565b9250600091508190505b9450945094915050565b600060ff8216601f81111561050957604051632cd44ac360e21b815260040160405180910390fd5b6000602082840312156120f857600080fd5b5035919050565b60006020828403121561211157600080fd5b81356001600160401b0381111561212757600080fd5b820160c0818503121561213957600080fd5b9392505050565b60005b8381101561215b578181015183820152602001612143565b50506000910152565b6000815180845261217c816020860160208601612140565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e060208401526121b160e084018a612164565b83810360408501526121c3818a612164565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b81811015612217578351835292840192918401916001016121fb565b50909c9b505050505050505050505050565b6020815260006121396020830184612164565b60008083601f84011261224e57600080fd5b5081356001600160401b0381111561226557600080fd5b6020830191508360208260051b850101111561228057600080fd5b9250929050565b600080600080600080606087890312156122a057600080fd5b86356001600160401b03808211156122b757600080fd5b6122c38a838b0161223c565b909850965060208901359150808211156122dc57600080fd5b6122e88a838b0161223c565b9096509450604089013591508082111561230157600080fd5b5061230e89828a0161223c565b979a9699509497509295939492505050565b80356001600160a01b038116811461233757600080fd5b919050565b60006020828403121561234e57600080fd5b61213982612320565b6000808335601e1984360301811261236e57600080fd5b83016020810192503590506001600160401b0381111561238d57600080fd5b80360382131561228057600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561247657858403601f19018a52823536899003605e19018112612404578283fd5b880160606001600160a01b0361241983612320565b16865261242887830183612357565b828989015261243a838901828461239c565b92505050604061244c81840184612357565b93508783038289015261246083858361239c565b9d89019d975050509386019350506001016123df565b509198975050505050505050565b6020815260006001600160a01b038061249c85612320565b166020840152806124af60208601612320565b16604084015250604083013560608301526060830135601e198436030181126124d757600080fd5b83016020810190356001600160401b038111156124f357600080fd5b8060051b360382131561250557600080fd5b60c0608085015261251a60e0850182846123c5565b915050608084013560a084015261253460a0850185612357565b848303601f190160c086015261254b83828461239c565b9695505050505050565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b038111828210171561258d5761258d612555565b60405290565b60405160c081016001600160401b038111828210171561258d5761258d612555565b604051601f8201601f191681016001600160401b03811182821017156125dd576125dd612555565b604052919050565b60006001600160401b038211156125fe576125fe612555565b5060051b60200190565b60006001600160401b0382111561262157612621612555565b50601f01601f191660200190565b600082601f83011261264057600080fd5b813561265361264e82612608565b6125b5565b81815284602083860101111561266857600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f83011261269657600080fd5b813560206126a661264e836125e5565b82815260059290921b840181019181810190868411156126c557600080fd5b8286015b848110156127745780356001600160401b03808211156126e95760008081fd5b908801906060828b03601f19018113156127035760008081fd5b61270b61256b565b612716888501612320565b81526040808501358481111561272c5760008081fd5b61273a8e8b8389010161262f565b838b0152509184013591838311156127525760008081fd5b6127608d8a8588010161262f565b9082015286525050509183019183016126c9565b509695505050505050565b600060c0828403121561279157600080fd5b612799612593565b90506127a482612320565b81526127b260208301612320565b60208201526040820135604082015260608201356001600160401b03808211156127db57600080fd5b6127e785838601612685565b60608401526080840135608084015260a084013591508082111561280a57600080fd5b506128178482850161262f565b60a08301525092915050565b6000610509368361277f565b634e487b7160e01b600052603260045260246000fd5b6000808335601e1984360301811261285c57600080fd5b8301803591506001600160401b0382111561287657600080fd5b60200191503681900382131561228057600080fd5b6000602080838503121561289e57600080fd5b82356001600160401b03808211156128b557600080fd5b818501915085601f8301126128c957600080fd5b81356128d761264e826125e5565b81815260059190911b830184019084810190888311156128f657600080fd5b8585015b8381101561292e578035858111156129125760008081fd5b6129208b89838a010161277f565b8452509186019186016128fa565b5098975050505050505050565b8281526040602082015260006129546040830184612164565b949350505050565b60006020828403121561296e57600080fd5b81516001600160e01b03198116811461213957600080fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561050957610509612986565b8082018082111561050957610509612986565b60e0815260006129d560e083018b612164565b82810360208401526129e7818b612164565b90508860408401528281036060840152612a0281888a61239c565b608084019690965250506001600160a01b0392831660a0820152911660c09091015295945050505050565b838152604060208201526000612a4760408301848661239c565b95945050505050565b60006020808385031215612a6357600080fd5b82516001600160401b0380821115612a7a57600080fd5b818501915085601f830112612a8e57600080fd5b8151612a9c61264e826125e5565b81815260059190911b83018401908481019088831115612abb57600080fd5b8585015b8381101561292e57805185811115612ad75760008081fd5b8601603f81018b13612ae95760008081fd5b878101516040612afb61264e83612608565b8281528d82848601011115612b105760008081fd5b612b1f838c8301848701612140565b8652505050918601918601612abf565b600081612b3e57612b3e612986565b506000190190565b602080825282516001600160a01b0390811683830152838201518116604080850191909152808501516060808601919091528086015160c06080870152805160e0870181905260009594610100600583901b8901810195919493870193919290890190885b81811015612c055760ff198b8903018352855187815116895289810151858b8b0152612bd9868b0182612164565b918701518a83038b890152919050612bf18183612164565b995050509488019491880191600101612bab565b50505050505050608085015160a085015260a08501519150601f198482030160c0850152612a478183612164565b815160009082906020808601845b83811015612c5d57815185529382019390820190600101612c41565b50929695505050505050565b600181811c90821680612c7d57607f821691505b602082108103612c9d57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052602160045260246000fdfea2646970667358221220ca409e8c9582544b3b8d8c05ed7b77fb8b148a77f098b1aea58f1517227de31d64736f6c634300081700338b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f";ee({},{abi:()=>Be,bytecode:()=>je});var Be=[{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]}],je="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212204f453c45fd8890597438ba3740ed042994be373737c9bd8ac833ff249df3eaab64736f6c63430008170033";ee({},{abi:()=>Ue,bytecode:()=>Fe});var Ue=[{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],Fe="0x",$e={};ee($e,{abi:()=>ze,bytecode:()=>He});var ze=[{type:"constructor",inputs:[{name:"implementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"fallback",stateMutability:"payable"},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]}],He="0x60806040526040516103f03803806103f08339810160408190526100229161025e565b61002c8282610033565b5050610341565b61003c82610091565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a280511561008557610080828261010c565b505050565b61008d61017f565b5050565b806001600160a01b03163b5f036100cb57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b60605f80846001600160a01b0316846040516101289190610326565b5f60405180830381855af49150503d805f8114610160576040519150601f19603f3d011682016040523d82523d5f602084013e610165565b606091505b5090925090506101768583836101a0565b95945050505050565b341561019e5760405163b398979f60e01b815260040160405180910390fd5b565b6060826101b5576101b0826101ff565b6101f8565b81511580156101cc57506001600160a01b0384163b155b156101f557604051639996b31560e01b81526001600160a01b03851660048201526024016100c2565b50805b9392505050565b80511561020f5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b634e487b7160e01b5f52604160045260245ffd5b5f5b8381101561025657818101518382015260200161023e565b50505f910152565b5f806040838503121561026f575f80fd5b82516001600160a01b0381168114610285575f80fd5b60208401519092506001600160401b03808211156102a1575f80fd5b818501915085601f8301126102b4575f80fd5b8151818111156102c6576102c6610228565b604051601f8201601f19908116603f011681019083821181831017156102ee576102ee610228565b81604052828152886020848701011115610306575f80fd5b61031783602083016020880161023c565b80955050505050509250929050565b5f825161033781846020870161023c565b9190910192915050565b60a38061034d5f395ff3fe6080604052600a600c565b005b60186014601a565b6050565b565b5f604b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b365f80375f80365f845af43d5f803e8080156069573d5ff35b3d5ffdfea2646970667358221220fd2cc92935c943d341edacaf5318a0b9ab0185ce62ef72e95ab393ef358730c464736f6c63430008170033";ee({},{abi:()=>qe,bytecode:()=>Ke});var qe=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"dataStart_",type:"uint256",internalType:"uint256"},{name:"value_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"}],Ke="0x608060405234801561001057600080fd5b506106dc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046104a2565b50505050505050505050565b005b6100766100863660046104a2565b6100b5565b61009e61009936600461056f565b610198565b6040516100ac9291906105b1565b60405180910390f35b856100c1816000610265565b6101125760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610123816000610265565b61017d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610109565b5061018a8c8c898961027c565b505050505050505050505050565b6000606060218310156102005760405162461bcd60e51b815260206004820152602a60248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d6044820152697465726d732d73697a6560b01b6064820152608401610109565b61020e602060008587610608565b61021791610632565b91506102268360208187610608565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250949792965091945050505050565b6001600160f81b0319828116908216145b92915050565b6000606036600061028d86866103d6565b93509350505061029d8888610198565b80519195509350816102af8287610650565b11156103155760405162461bcd60e51b815260206004820152602f60248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d60448201526e0c6c2d8d8c8c2e8c25ad8cadccee8d608b1b6064820152608401610109565b61036e8386846103258583610650565b9261033293929190610608565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250889250610427915050565b6103cb5760405162461bcd60e51b815260206004820152602860248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d60448201526763616c6c6461746160c01b6064820152608401610109565b505050505050505050565b60008036816103e86014828789610608565b6103f191610671565b60601c9350610404603460148789610608565b61040d91610632565b925061041c8560348189610608565b949793965094505050565b8051602091820120825192909101919091201490565b60008083601f84011261044f57600080fd5b50813567ffffffffffffffff81111561046757600080fd5b60208301915083602082850101111561047f57600080fd5b9250929050565b80356001600160a01b038116811461049d57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156104c157600080fd5b8a3567ffffffffffffffff808211156104d957600080fd5b6104e58e838f0161043d565b909c509a5060208d01359150808211156104fe57600080fd5b61050a8e838f0161043d565b909a50985060408d0135975060608d013591508082111561052a57600080fd5b506105378d828e0161043d565b90965094505060808b0135925061055060a08c01610486565b915061055e60c08c01610486565b90509295989b9194979a5092959850565b6000806020838503121561058257600080fd5b823567ffffffffffffffff81111561059957600080fd5b6105a58582860161043d565b90969095509350505050565b8281526000602060406020840152835180604085015260005b818110156105e6578581018301518582016060015282016105ca565b506000606082860101526060601f19601f830116850101925050509392505050565b6000808585111561061857600080fd5b8386111561062557600080fd5b5050820193919092039150565b8035602083101561027657600019602084900360031b1b1692915050565b8082018082111561027657634e487b7160e01b600052601160045260246000fd5b6bffffffffffffffffffffffff19813581811691601485101561069e5780818660140360031b1b83161692505b50509291505056fea2646970667358221220040ece6946150f16c5413920be7d1b9c5d49d2aae2b6945d7da6faa6f92f5ef664736f6c63430008170033";ee({},{abi:()=>We,bytecode:()=>Ve});var We=[],Ve="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220e387e66c46ba5a334fec27a4edf89a8be9952b587b8297dbf10cb57e8c1726d964736f6c63430008170033",Ge={};ee(Ge,{abi:()=>Ye,bytecode:()=>Je});var Ye=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedContract_",type:"address",internalType:"address"},{name:"maxTokens_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"spentMap",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Je="0x608060405234801561001057600080fd5b5061081e806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780639dd5d9ab14610083578063a145832a146100be578063b99deb0e146100d1578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046105c3565b50505050505050505050565b005b6100ab610091366004610690565b600060208181529281526040808220909352908152205481565b6040519081526020015b60405180910390f35b6100816100cc3660046105c3565b610103565b6100e46100df3660046106ba565b610247565b604080516001600160a01b0390931683526020830191909152016100b5565b8561010f8160006102df565b6101605760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101718160006102df565b6101cb5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610157565b506000806101dc8e8e8b8b8b6102f6565b9150915086856001600160a01b0316336001600160a01b03167fc026e493323d526061a052b5dd562495120e2f648797a48be61966d3a6beec8d858560405161022f929190918252602082015260400190565b60405180910390a45050505050505050505050505050565b600080603483146102a15760405162461bcd60e51b815260206004820152603060248201526000805160206107c983398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b6064820152608401610157565b6102af6014600085876106fc565b6102b891610726565b60601c91506102ca83601481876106fc565b6102d39161075b565b60001c90509250929050565b6001600160f81b0319828116908216145b92915050565b6000806000366000610308888861050d565b9295509350909150506044811461036c5760405162461bcd60e51b815260206004820152603460248201526000805160206107c98339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b6064820152608401610157565b60006103788b8b610247565b965090506001600160a01b03808216908516146103da5760405162461bcd60e51b815260206004820152602c60248201526000805160206107c983398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b6064820152608401610157565b63a9059cbb60e01b6103f06004600085876106fc565b6103f991610779565b6001600160e01b031916146104515760405162461bcd60e51b815260206004820152602a60248201526000805160206107c98339815191526044820152691b1a590b5b595d1a1bd960b21b6064820152608401610157565b61045f6044602484866106fc565b6104689161075b565b336000908152602081815260408083208b8452909152812080549091906104909084906107a7565b9250508190559450858511156104ff5760405162461bcd60e51b815260206004820152602e60248201527f45524332305472616e73666572416d6f756e74456e666f726365723a616c6c6f60448201526d1dd85b98d94b595e18d95959195960921b6064820152608401610157565b505050509550959350505050565b600080368161051f60148287896106fc565b61052891610726565b60601c935061053b6034601487896106fc565b6105449161075b565b925061055385603481896106fc565b949793965094505050565b60008083601f84011261057057600080fd5b50813567ffffffffffffffff81111561058857600080fd5b6020830191508360208285010111156105a057600080fd5b9250929050565b80356001600160a01b03811681146105be57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156105e257600080fd5b8a3567ffffffffffffffff808211156105fa57600080fd5b6106068e838f0161055e565b909c509a5060208d013591508082111561061f57600080fd5b61062b8e838f0161055e565b909a50985060408d0135975060608d013591508082111561064b57600080fd5b506106588d828e0161055e565b90965094505060808b0135925061067160a08c016105a7565b915061067f60c08c016105a7565b90509295989b9194979a5092959850565b600080604083850312156106a357600080fd5b6106ac836105a7565b946020939093013593505050565b600080602083850312156106cd57600080fd5b823567ffffffffffffffff8111156106e457600080fd5b6106f08582860161055e565b90969095509350505050565b6000808585111561070c57600080fd5b8386111561071957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156107535780818660140360031b1b83161692505b505092915050565b803560208310156102f057600019602084900360031b1b1692915050565b6001600160e01b031981358181169160048510156107535760049490940360031b84901b1690921692915050565b808201808211156102f057634e487b7160e01b600052601160045260246000fdfe45524332305472616e73666572416d6f756e74456e666f726365723a696e7661a2646970667358221220936350618a5001f34797bf97c50cd107709e028340c60e13df9fe9a2d10d7fb364736f6c63430008170033",Ze={};ee(Ze,{abi:()=>Xe,bytecode:()=>Qe});var Xe=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Qe="0x608060405234801561001057600080fd5b50610d12806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610a20565b50505050505050505050565b005b6100b16100ac366004610aed565b61018e565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df366004610b47565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610a20565b610265565b61016461015f366004610b71565b61034a565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a081018352815481526001820154938101939093526002810154918301829052600381015460608401526004015460808301528291829115610203576101f781610416565b9350935093505061025b565b6000806000610212898961034a565b9350935093505060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061024f81610416565b97509750975050505050505b9450945094915050565b856102718160006104aa565b6102c25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102d38160006104aa565b61032d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102b9565b5061033c8c8c898989886104c1565b505050505050505050505050565b6000808080607485146103a65760405162461bcd60e51b81526020600482015260306024820152600080516020610cbd83398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016102b9565b6103b4601460008789610bb3565b6103bd91610bdd565b60601c93506103d0603460148789610bb3565b6103d991610c12565b92506103e9605460348789610bb3565b6103f291610c12565b9150610402607460548789610bb3565b61040b91610c12565b939692955090935050565b60008060008360400151421015610435575060009150819050806104a3565b602084015160408501516104499042610c46565b6104539190610c59565b61045e906001610c7b565b90508084606001511415915060008261047b57846080015161047e565b60005b90508085600001511161049257600061049f565b845161049f908290610c46565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60003660006104d0878761096a565b929550935090915050604481146105345760405162461bcd60e51b81526020600482015260346024820152600080516020610cbd8339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b60648201526084016102b9565b6000806000806105448d8d61034a565b9350935093509350866001600160a01b0316846001600160a01b0316146105b05760405162461bcd60e51b815260206004820152602c6024820152600080516020610cbd83398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b60648201526084016102b9565b63a9059cbb60e01b6105c660046000888a610bb3565b6105cf91610c8e565b6001600160e01b031916146106275760405162461bcd60e51b815260206004820152602a6024820152600080516020610cbd8339815191526044820152691b1a590b5b595d1a1bd960b21b60648201526084016102b9565b336000908152602081815260408083208c8452909152812060028101549091036107e157600082116106a55760405162461bcd60e51b81526020600482015260336024820152600080516020610cbd8339815191526044820152726c69642d7a65726f2d73746172742d6461746560681b60648201526084016102b9565b600084116107025760405162461bcd60e51b81526020600482015260366024820152600080516020610cbd8339815191526044820152751b1a590b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d60521b60648201526084016102b9565b600083116107665760405162461bcd60e51b81526020600482015260386024820152600080516020610cbd83398151915260448201527f6c69642d7a65726f2d706572696f642d6475726174696f6e000000000000000060648201526084016102b9565b814210156107cf5760405162461bcd60e51b815260206004820152603060248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e60448201526f1cd9995c8b5b9bdd0b5cdd185c9d195960821b60648201526084016102b9565b83815560018101839055600281018290555b600080600061082c846040518060a001604052908160008201548152602001600182015481526020016002820154815260200160038201548152602001600482015481525050610416565b919450925090506000610843604460248c8e610bb3565b61084c91610c12565b9050838111156108bb5760405162461bcd60e51b815260206004820152603460248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e6044820152731cd9995c8b585b5bdd5b9d0b595e18d95959195960621b60648201526084016102b9565b82156108d05760038501829055600060048601555b808560040160008282546108e49190610c7b565b90915550506004850154604080516001600160a01b038c81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a4505050505050505050505050505050505050565b600080368161097c6014828789610bb3565b61098591610bdd565b60601c9350610998603460148789610bb3565b6109a191610c12565b92506109b08560348189610bb3565b949793965094505050565b60008083601f8401126109cd57600080fd5b50813567ffffffffffffffff8111156109e557600080fd5b6020830191508360208285010111156109fd57600080fd5b9250929050565b80356001600160a01b0381168114610a1b57600080fd5b919050565b60008060008060008060008060008060e08b8d031215610a3f57600080fd5b8a3567ffffffffffffffff80821115610a5757600080fd5b610a638e838f016109bb565b909c509a5060208d0135915080821115610a7c57600080fd5b610a888e838f016109bb565b909a50985060408d0135975060608d0135915080821115610aa857600080fd5b50610ab58d828e016109bb565b90965094505060808b01359250610ace60a08c01610a04565b9150610adc60c08c01610a04565b90509295989b9194979a5092959850565b60008060008060608587031215610b0357600080fd5b84359350610b1360208601610a04565b9250604085013567ffffffffffffffff811115610b2f57600080fd5b610b3b878288016109bb565b95989497509550505050565b60008060408385031215610b5a57600080fd5b610b6383610a04565b946020939093013593505050565b60008060208385031215610b8457600080fd5b823567ffffffffffffffff811115610b9b57600080fd5b610ba7858286016109bb565b90969095509350505050565b60008085851115610bc357600080fd5b83861115610bd057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610c0a5780818660140360031b1b83161692505b505092915050565b803560208310156104bb57600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156104bb576104bb610c30565b600082610c7657634e487b7160e01b600052601260045260246000fd5b500490565b808201808211156104bb576104bb610c30565b6001600160e01b03198135818116916004851015610c0a5760049490940360031b84901b169092169291505056fe4552433230506572696f645472616e73666572456e666f726365723a696e7661a264697066735822122078259b929dc2fea71614ebe238bd74e88ff3ea3542e0d11a18122c300122d3f664736f6c63430008170033";ee({},{abi:()=>et,bytecode:()=>tt});var et=[{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],tt="0x";ee({},{abi:()=>nt,bytecode:()=>rt});var nt=[],rt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ac220b672ee89e055a56513b249d66df06ecb6da367b913fa0b7b7f3f838634764736f6c63430008170033";ee({},{abi:()=>it,bytecode:()=>at});var it=[{type:"event",name:"AdminChanged",inputs:[{name:"previousAdmin",type:"address",indexed:!1,internalType:"address"},{name:"newAdmin",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeaconUpgraded",inputs:[{name:"beacon",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"ERC1967InvalidAdmin",inputs:[{name:"admin",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidBeacon",inputs:[{name:"beacon",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]}],at="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220bf999523a2735d33a4f148563c82738a41cc465257ff9df9a8912b831ab5af9564736f6c63430008170033",st={};ee(st,{abi:()=>ot,bytecode:()=>ct});var ot=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"InvalidEIP712NameLength",inputs:[]},{type:"error",name:"InvalidEIP712VersionLength",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UnauthorizedCallContext",inputs:[]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],ct="0x6101c060405230610160523480156200001757600080fd5b50604051620031b0380380620031b08339810160408190526200003a91620002b3565b81816040518060400160405280601981526020017f4549503737303253746174656c65737344656c654761746f7200000000000000815250604051806040016040528060018152602001603160f81b8152508181620000a46000836200021560201b90919060201c565b61012052620000b581600162000215565b61014052815160208084019190912060e052815190820120610100524660a0526200014360e05161010051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60805250503060c0528151601f10156200017057604051631ad9af3960e21b815260040160405180910390fd5b601f8151111562000194576040516309203c9d60e41b815260040160405180910390fd5b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a2505050505050620004db565b600060208351101562000235576200022d836200024e565b905062000248565b8162000242848262000399565b5060ff90505b92915050565b600080829050601f8151111562000285578260405163305a27a960e01b81526004016200027c919062000465565b60405180910390fd5b80516200029282620004b6565b179392505050565b6001600160a01b0381168114620002b057600080fd5b50565b60008060408385031215620002c757600080fd5b8251620002d4816200029a565b6020840151909250620002e7816200029a565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200031d57607f821691505b6020821081036200033e57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111562000394576000816000526020600020601f850160051c810160208610156200036f5750805b601f850160051c820191505b8181101562000390578281556001016200037b565b5050505b505050565b81516001600160401b03811115620003b557620003b5620002f2565b620003cd81620003c6845462000308565b8462000344565b602080601f831160018114620004055760008415620003ec5750858301515b600019600386901b1c1916600185901b17855562000390565b600085815260208120601f198616915b82811015620004365788860151825594840194600190910190840162000415565b5085821015620004555787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620004955785810183015185820160400152820162000477565b506000604082860101526040601f19601f8301168501019250505092915050565b805160208083015191908110156200033e5760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051612bb1620005ff60003960008181610471015281816107f7015281816108c20152818161094001528181610aa401528181610b9a01528181610bf201528181610c7401528181610ce601528181610e1001528181610e8f01528181611015015281816112cd01526115ce01526000818161057a015281816109a301528181610a2601528181610b0701528181610ef201526110590152600081816106190152818161073a015281816107960152818161083f01528181610b4601528181610da7015261162101526000611960015260006119330152600061174c015260006117240152600061167f015260006116a9015260006116d30152612bb16000f3fe6080604052600436106101c65760003560e01c806384b0196e116100f7578063d03c791411610095578063ea4d3c9b11610064578063ea4d3c9b14610568578063ed8101b51461059c578063f23a6e61146105bc578063ffa1ad74146105dc57600080fd5b8063d03c791414610500578063d087d28814610520578063d691c96414610535578063e9ae5c531461055557600080fd5b8063b0d691fe116100d1578063b0d691fe1461045f578063bc197c81146104ab578063c399ec88146104cb578063cef6d209146104e057600080fd5b806384b0196e146103b4578063a3f4df7e146103dc578063acb8cc491461043257600080fd5b80633ed01015116101645780634a58db191161013e5780634a58db19146103645780635c1c6dcd1461036c5780637f07bfdc1461037f57806383ebb7711461039f57600080fd5b80633ed0101514610302578063445140b814610324578063499340471461034457600080fd5b80631626ba7e116101a05780631626ba7e1461026e57806319822f7c1461028e5780632b3afd99146102ae5780633e1b0812146102e257600080fd5b806301ffc9a7146101d257806306394d6714610207578063150b7a021461023557600080fd5b366101cd57005b600080fd5b3480156101de57600080fd5b506101f26101ed366004611fb2565b61060d565b60405190151581526020015b60405180910390f35b34801561021357600080fd5b50610227610222366004611ff5565b6106f9565b6040519081526020016101fe565b34801561024157600080fd5b506102556102503660046120fb565b61072e565b6040516001600160e01b031990911681526020016101fe565b34801561027a57600080fd5b506102556102893660046121ae565b61078a565b34801561029a57600080fd5b506102276102a93660046121f9565b6107ea565b3480156102ba57600080fd5b506102277fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156102ee57600080fd5b506102276102fd366004612246565b61089b565b34801561030e57600080fd5b5061032261031d36600461226f565b610935565b005b34801561033057600080fd5b506101f261033f3660046122a9565b610a0d565b34801561035057600080fd5b5061032261035f36600461226f565b610a99565b610322610b3c565b61032261037a3660046122c2565b610be7565b34801561038b57600080fd5b5061032261039a3660046122fc565b610c69565b3480156103ab57600080fd5b50610227610d46565b3480156103c057600080fd5b506103c9610d55565b6040516101fe979695949392919061236e565b3480156103e857600080fd5b506104256040518060400160405280601981526020017f4549503737303253746174656c65737344656c654761746f720000000000000081525081565b6040516101fe9190612407565b34801561043e57600080fd5b50610425604051806040016040528060018152602001603160f81b81525081565b34801561046b57600080fd5b506104937f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016101fe565b3480156104b757600080fd5b506102556104c6366004612499565b610d9b565b3480156104d757600080fd5b50610227610df8565b3480156104ec57600080fd5b506103226104fb36600461258a565b610e84565b34801561050c57600080fd5b506101f261051b3660046122a9565b610f6b565b34801561052c57600080fd5b50610227610ff6565b6105486105433660046121ae565b61104c565b6040516101fe9190612623565b6103226105633660046121ae565b6112c2565b34801561057457600080fd5b506104937f000000000000000000000000000000000000000000000000000000000000000081565b3480156105a857600080fd5b506102276105b7366004611ff5565b6114d3565b3480156105c857600080fd5b506102556105d7366004612687565b611615565b3480156105e857600080fd5b50610425604051806040016040528060058152602001640312e332e360dc1b81525081565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361065857604051634f81d01360e11b815260040160405180910390fd5b6001600160e01b031982166335a4725960e21b148061068757506001600160e01b03198216630a85bd0160e11b145b806106a257506001600160e01b03198216630271189760e51b145b806106bd57506001600160e01b031982166301ffc9a760e01b145b806106d857506001600160e01b03198216630b135d3f60e11b145b806106f357506001600160e01b03198216633992254760e01b145b92915050565b60006106f3610706611672565b61070f846114d3565b60405161190160f01b8152600281019290925260228201526042902090565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361077957604051634f81d01360e11b815260040160405180910390fd5b50630a85bd0160e11b949350505050565b60006001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001630036107d557604051634f81d01360e11b815260040160405180910390fd5b6107e084848461179d565b90505b9392505050565b6000336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461083557604051636b31ba1560e11b815260040160405180910390fd5b6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361087e57604051634f81d01360e11b815260040160405180910390fd5b6108908461088b866106f9565b611816565b90506107e38261185e565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610911573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f391906126ef565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061096e5750333014155b1561098c57604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed01015906109d8908490600401612837565b600060405180830381600087803b1580156109f257600080fd5b505af1158015610a06573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610a75573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f39190612908565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ad25750333014155b15610af057604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906349934047906109d8908490600401612837565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610b8557604051634f81d01360e11b815260040160405180910390fd5b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b1580156109f257600080fd5b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610c205750333014155b15610c3e57604051630796d94560e01b815260040160405180910390fd5b610c65610c4e602083018361292a565b6020830135610c606040850185612947565b6118f6565b5050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ca25750333014155b15610cc057604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b158015610d2a57600080fd5b505af1158015610d3e573d6000803e3d6000fd5b505050505050565b6000610d50611672565b905090565b600060608060008060006060610d6961192c565b610d71611959565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b60006001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610de657604051634f81d01360e11b815260040160405180910390fd5b5063bc197c8160e01b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015610e60573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d5091906126ef565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ebd5750333014155b15610edb57604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d20990610f31908990899089908990899089906004016129ee565b600060405180830381600087803b158015610f4b57600080fd5b505af1158015610f5f573d6000803e3d6000fd5b50505050505050505050565b600081600881901b603082901b605083901b610f878486611986565b80610f9b5750610f9b84600160f81b611986565b8015610fc15750610fad836000611986565b80610fc15750610fc183600160f81b611986565b8015610fd557506001600160e01b03198216155b8015610fec575069ffffffffffffffffffff198116155b9695505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401610e43565b6060336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461109757604051630692ce8160e21b815260040160405180910390fd5b83600881901b6110ab82600160f81b611986565b15611131573660006110bd8787611998565b90925090506110cd836000611986565b156110e3576110dc8282611a31565b945061112a565b6110f183600160f81b611986565b15611100576110dc8282611af2565b6040516308c3ee0360e11b81526001600160f81b0319841660048201526024015b60405180910390fd5b50506112b9565b61113c826000611986565b15611294576000803660006111518989611c1f565b6040805160018082528183019092529498509296509094509250816020015b606081526020019060019003908161117057905050965060006111938682611986565b156111c7576111a4858585856118f6565b886000815181106111b7576111b7612a57565b602002602001018190525061128a565b6111d586600160f81b611986565b15611265576111e685858585611c70565b896000815181106111f9576111f9612a57565b6020908102919091010152905080611260577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008960008151811061124157611241612a57565b6020026020010151604051611257929190612a6d565b60405180910390a15b61128a565b6040516308c3ee0360e11b81526001600160f81b031987166004820152602401611121565b50505050506112b9565b604051632e5bf3f960e21b81526001600160f81b031983166004820152602401611121565b50509392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906112fb5750333014155b1561131957604051630796d94560e01b815260040160405180910390fd5b82600881901b61132d82600160f81b611986565b156113885736600061133f8686611998565b909250905061134f836000611986565b156113645761135e8282611a31565b50611381565b61137283600160f81b611986565b156111005761135e8282611af2565b5050610a06565b611393826000611986565b15611294576000803660006113a88888611c1f565b93509350935093506113be85600060f81b611986565b156113d5576113cf848484846118f6565b506114ca565b6113e385600160f81b611986565b156114a557604080516001808252818301909252600091816020015b60608152602001906001900390816113ff579050509050600061142486868686611c70565b8360008151811061143757611437612a57565b602090810291909101015290508061149e577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008360008151811061147f5761147f612a57565b6020026020010151604051611495929190612a6d565b60405180910390a15b50506114ca565b6040516308c3ee0360e11b81526001600160f81b031986166004820152602401611121565b50505050610a06565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc18611503602084018461292a565b60208401356115156040860186612947565b604051611523929190612a86565b6040519081900390206115396060870187612947565b604051611547929190612a86565b604051908190039020608087013560a088013560c089013561156c60e08b018b612947565b60405161157a929190612a86565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361166057604051634f81d01360e11b815260040160405180910390fd5b5063f23a6e6160e01b95945050505050565b6000306001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480156116cb57507f000000000000000000000000000000000000000000000000000000000000000046145b156116f557507f000000000000000000000000000000000000000000000000000000000000000090565b610d50604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b6000306001600160a01b03166117e98585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250611ca192505050565b6001600160a01b0316036118055750630b135d3f60e11b6107e3565b506001600160e01b03199392505050565b6000806118308361182b610100870187612947565b61179d565b90506374eca2c160e11b6001600160e01b03198216016118545760009150506106f3565b5060019392505050565b80156118f357604051600090339060001990849084818181858888f193505050503d80600081146118ab576040519150601f19603f3d011682016040523d82523d6000602084013e6118b0565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a2505b50565b60405181838237600038838387895af1611913573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b6060610d507f00000000000000000000000000000000000000000000000000000000000000006000611ccb565b6060610d507f00000000000000000000000000000000000000000000000000000000000000006001611ccb565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156119d05763ba597e7e6000526004601cfd5b8315611a27578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715611a1e5763ba597e7e6000526004601cfd5b505050826119da575b5050509250929050565b606081806001600160401b03811115611a4c57611a4c612046565b604051908082528060200260200182016040528015611a7f57816020015b6060815260200190600190039081611a6a5790505b50915060005b81811015611aea5736858583818110611aa057611aa0612a57565b9050602002810190611ab29190612a96565b9050611ac4610c4e602083018361292a565b848381518110611ad657611ad6612a57565b602090810291909101015250600101611a85565b505092915050565b606081806001600160401b03811115611b0d57611b0d612046565b604051908082528060200260200182016040528015611b4057816020015b6060815260200190600190039081611b2b5790505b50915060005b81811015611aea5736858583818110611b6157611b61612a57565b9050602002810190611b739190612a96565b90506000611b9e611b87602084018461292a565b6020840135611b996040860186612947565b611c70565b868581518110611bb057611bb0612a57565b6020908102919091010152905080611c15577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110611bf657611bf6612a57565b6020026020010151604051611c0c929190612a6d565b60405180910390a15b5050600101611b46565b6000803681611c316014828789612ab6565b611c3a91612ae0565b60601c9350611c4d603460148789612ab6565b611c5691612b13565b9250611c658560348189612ab6565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080611cb18686611d76565b925092509250611cc18282611dc3565b5090949350505050565b606060ff8314611ce557611cde83611e7c565b90506106f3565b818054611cf190612b31565b80601f0160208091040260200160405190810160405280929190818152602001828054611d1d90612b31565b8015611d6a5780601f10611d3f57610100808354040283529160200191611d6a565b820191906000526020600020905b815481529060010190602001808311611d4d57829003601f168201915b505050505090506106f3565b60008060008351604103611db05760208401516040850151606086015160001a611da288828585611ebb565b955095509550505050611dbc565b50508151600091506002905b9250925092565b6000826003811115611dd757611dd7612b65565b03611de0575050565b6001826003811115611df457611df4612b65565b03611e125760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611e2657611e26612b65565b03611e475760405163fce698f760e01b815260048101829052602401611121565b6003826003811115611e5b57611e5b612b65565b03610c65576040516335e2f38360e21b815260048101829052602401611121565b60606000611e8983611f8a565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0841115611ef65750600091506003905082611f80565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa158015611f4a573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116611f7657506000925060019150829050611f80565b9250600091508190505b9450945094915050565b600060ff8216601f8111156106f357604051632cd44ac360e21b815260040160405180910390fd5b600060208284031215611fc457600080fd5b81356001600160e01b0319811681146107e357600080fd5b60006101208284031215611fef57600080fd5b50919050565b60006020828403121561200757600080fd5b81356001600160401b0381111561201d57600080fd5b61202984828501611fdc565b949350505050565b6001600160a01b03811681146118f357600080fd5b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b038111828210171561208457612084612046565b604052919050565b600082601f83011261209d57600080fd5b81356001600160401b038111156120b6576120b6612046565b6120c9601f8201601f191660200161205c565b8181528460208386010111156120de57600080fd5b816020850160208301376000918101602001919091529392505050565b6000806000806080858703121561211157600080fd5b843561211c81612031565b9350602085013561212c81612031565b92506040850135915060608501356001600160401b0381111561214e57600080fd5b61215a8782880161208c565b91505092959194509250565b60008083601f84011261217857600080fd5b5081356001600160401b0381111561218f57600080fd5b6020830191508360208285010111156121a757600080fd5b9250929050565b6000806000604084860312156121c357600080fd5b8335925060208401356001600160401b038111156121e057600080fd5b6121ec86828701612166565b9497909650939450505050565b60008060006060848603121561220e57600080fd5b83356001600160401b0381111561222457600080fd5b61223086828701611fdc565b9660208601359650604090950135949350505050565b60006020828403121561225857600080fd5b81356001600160c01b03811681146107e357600080fd5b60006020828403121561228157600080fd5b81356001600160401b0381111561229757600080fd5b820160c081850312156107e357600080fd5b6000602082840312156122bb57600080fd5b5035919050565b6000602082840312156122d457600080fd5b81356001600160401b038111156122ea57600080fd5b8201606081850312156107e357600080fd5b6000806040838503121561230f57600080fd5b823561231a81612031565b946020939093013593505050565b6000815180845260005b8181101561234e57602081850181015186830182015201612332565b506000602082860101526020601f19601f83011685010191505092915050565b60ff60f81b881681526000602060e0602084015261238f60e084018a612328565b83810360408501526123a1818a612328565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156123f5578351835292840192918401916001016123d9565b50909c9b505050505050505050505050565b6020815260006107e36020830184612328565b600082601f83011261242b57600080fd5b813560206001600160401b0382111561244657612446612046565b8160051b61245582820161205c565b928352848101820192828101908785111561246f57600080fd5b83870192505b8483101561248e57823582529183019190830190612475565b979650505050505050565b600080600080600060a086880312156124b157600080fd5b85356124bc81612031565b945060208601356124cc81612031565b935060408601356001600160401b03808211156124e857600080fd5b6124f489838a0161241a565b9450606088013591508082111561250a57600080fd5b61251689838a0161241a565b9350608088013591508082111561252c57600080fd5b506125398882890161208c565b9150509295509295909350565b60008083601f84011261255857600080fd5b5081356001600160401b0381111561256f57600080fd5b6020830191508360208260051b85010111156121a757600080fd5b600080600080600080606087890312156125a357600080fd5b86356001600160401b03808211156125ba57600080fd5b6125c68a838b01612546565b909850965060208901359150808211156125df57600080fd5b6125eb8a838b01612546565b9096509450604089013591508082111561260457600080fd5b5061261189828a01612546565b979a9699509497509295939492505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b8281101561267a57603f19888603018452612668858351612328565b9450928501929085019060010161264c565b5092979650505050505050565b600080600080600060a0868803121561269f57600080fd5b85356126aa81612031565b945060208601356126ba81612031565b9350604086013592506060860135915060808601356001600160401b038111156126e357600080fd5b6125398882890161208c565b60006020828403121561270157600080fd5b5051919050565b6000808335601e1984360301811261271f57600080fd5b83016020810192503590506001600160401b0381111561273e57600080fd5b8036038213156121a757600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561282957858403601f19018a52823536899003605e190181126127b5578283fd5b8801606081356127c481612031565b6001600160a01b031686526127db82880183612708565b82898901526127ed838901828461274d565b9250505060406127ff81840184612708565b93508783038289015261281383858361274d565b9d89019d97505050938601935050600101612790565b509198975050505050505050565b602081526000823561284881612031565b6001600160a01b039081166020848101919091528401359061286982612031565b80821660408501525050604083013560608301526060830135601e1984360301811261289457600080fd5b83016020810190356001600160401b038111156128b057600080fd5b8060051b36038213156128c257600080fd5b60c060808501526128d760e085018284612776565b915050608084013560a08401526128f160a0850185612708565b848303601f190160c0860152610fec83828461274d565b60006020828403121561291a57600080fd5b815180151581146107e357600080fd5b60006020828403121561293c57600080fd5b81356107e381612031565b6000808335601e1984360301811261295e57600080fd5b8301803591506001600160401b0382111561297857600080fd5b6020019150368190038213156121a757600080fd5b6000838385526020808601955060208560051b8301018460005b878110156129e157848303601f190189526129c28288612708565b6129cd85828461274d565b9a86019a94505050908301906001016129a7565b5090979650505050505050565b606081526000612a0260608301888a61298d565b8281036020848101919091528682528791810160005b88811015612a3457833582529282019290820190600101612a18565b508481036040860152612a4881878961298d565b9b9a5050505050505050505050565b634e487b7160e01b600052603260045260246000fd5b8281526040602082015260006107e06040830184612328565b8183823760009101908152919050565b60008235605e19833603018112612aac57600080fd5b9190910192915050565b60008085851115612ac657600080fd5b83861115612ad357600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015611aea5760149490940360031b84901b1690921692915050565b803560208310156106f357600019602084900360031b1b1692915050565b600181811c90821680612b4557607f821691505b602082108103611fef57634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fdfea26469706673582212202a8fc88ef923739742bc7ec1685cd9198a7251cfb58c7e873c821a7e716b2ca664736f6c63430008170033";ee({},{abi:()=>lt,bytecode:()=>ut});var lt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],ut="0x608060405234801561001057600080fd5b5061095e806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780638678d6ef146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610677565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d33660046106f5565b50505050505050505050565b005b6100f46100ef3660046107c2565b61018d565b6040519081526020016100bc565b6100df6101103660046106f5565b6101a2565b6100f4610123366004610677565b60006020819052908152604090205481565b6101486101433660046107fe565b610353565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df6101883660046106f5565b610440565b600061019a84848461061d565b949350505050565b85600881901b6101b3816000610660565b6102125760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102208d8d610353565b509250925050600061023333848961061d565b60008181526001602052604090205490915060ff16156102ab5760405162461bcd60e51b815260206004820152602d60248201527f455243323042616c616e63654368616e6765456e666f726365723a656e666f7260448201526c18d95c8b5a5ccb5b1bd8dad959609a1b6064820152608401610209565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa15801561030c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103309190610840565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c05760405162461bcd60e51b815260206004820152602f60248201527f455243323042616c616e63654368616e6765456e666f726365723a696e76616c60448201526e0d2c85ae8cae4dae65ad8cadccee8d608b1b6064820152608401610209565b858560008181106103d3576103d3610859565b909101356001600160f81b031916151594506103f5905060156001878961086f565b6103fe91610899565b60601c925061041160296015878961086f565b61041a91610899565b60601c915061042c856029818961086f565b610435916108ce565b939692955090935050565b6000806000806104508e8e610353565b9350935093509350600061046533858a61061d565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104c5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e99190610840565b9050851561057c5760008281526020819052604090205461050b908490610902565b8110156105775760405162461bcd60e51b815260206004820152603460248201527f455243323042616c616e63654368616e6765456e666f726365723a65786365656044820152736465642d62616c616e63652d646563726561736560601b6064820152608401610209565b61060b565b600082815260208190526040902054610596908490610915565b81101561060b5760405162461bcd60e51b815260206004820152603860248201527f455243323042616c616e63654368616e6765456e666f726365723a696e73756660448201527f66696369656e742d62616c616e63652d696e63726561736500000000000000006064820152608401610209565b50505050505050505050505050505050565b604080516001600160a01b039485166020808301919091529390941684820152606080850192909252805180850390920182526080909301909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561068957600080fd5b5035919050565b60008083601f8401126106a257600080fd5b50813567ffffffffffffffff8111156106ba57600080fd5b6020830191508360208285010111156106d257600080fd5b9250929050565b80356001600160a01b03811681146106f057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561071457600080fd5b8a3567ffffffffffffffff8082111561072c57600080fd5b6107388e838f01610690565b909c509a5060208d013591508082111561075157600080fd5b61075d8e838f01610690565b909a50985060408d0135975060608d013591508082111561077d57600080fd5b5061078a8d828e01610690565b90965094505060808b013592506107a360a08c016106d9565b91506107b160c08c016106d9565b90509295989b9194979a5092959850565b6000806000606084860312156107d757600080fd5b6107e0846106d9565b92506107ee602085016106d9565b9150604084013590509250925092565b6000806020838503121561081157600080fd5b823567ffffffffffffffff81111561082857600080fd5b61083485828601610690565b90969095509350505050565b60006020828403121561085257600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561087f57600080fd5b8386111561088c57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108c65780818660140360031b1b83161692505b505092915050565b8035602083101561067157600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610671576106716108ec565b80820180821115610671576106716108ec56fea26469706673582212202ee065285e6d78b8f4f72189bef225cff106ed6fed2f250af767e847d4faa24364736f6c63430008170033";ee({},{abi:()=>dt,bytecode:()=>ft});var dt=[],ft="0x60556032600b8282823980515f1a607314602657634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea26469706673582212201dfea0fb90d440a56b093020135bfa0529382b21cf5681ce6bf65b9ef384b15664736f6c63430008170033";ee({},{abi:()=>pt,bytecode:()=>ht});var pt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_recipient",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],ht="0x608060405234801561001057600080fd5b5061097c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780635f6f02e0146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610686565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610704565b50505050505050505050565b005b6100f46100ef3660046107d1565b61018d565b6040519081526020016100bc565b6100df610110366004610704565b6101a4565b6100f4610123366004610686565b60006020819052908152604090205481565b61014861014336600461081c565b610357565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df610188366004610704565b610445565b600061019b85858585610624565b95945050505050565b85600881901b6101b581600061066f565b6102145760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102228d8d610357565b50925092505060006102363384848a610624565b60008181526001602052604090205490915060ff16156102af5760405162461bcd60e51b815260206004820152602e60248201527f45524337323142616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b606482015260840161020b565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa158015610310573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610334919061085e565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c55760405162461bcd60e51b815260206004820152603060248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b606482015260840161020b565b858560008181106103d8576103d8610877565b909101356001600160f81b031916151594506103fa905060156001878961088d565b610403916108b7565b60601c925061041660296015878961088d565b61041f916108b7565b60601c9150610431856029818961088d565b61043a916108ec565b939692955090935050565b6000806000806104558e8e610357565b9350935093509350600061046b3385858b610624565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ef919061085e565b9050851561058357600082815260208190526040902054610511908490610920565b81101561057e5760405162461bcd60e51b815260206004820152603560248201527f45524337323142616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b606482015260840161020b565b610612565b60008281526020819052604090205461059d908490610933565b8110156106125760405162461bcd60e51b815260206004820152603960248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e63726561736500000000000000606482015260840161020b565b50505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152948616818301529290941660608301526080808301919091528351808303909101815260a0909101909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561069857600080fd5b5035919050565b60008083601f8401126106b157600080fd5b50813567ffffffffffffffff8111156106c957600080fd5b6020830191508360208285010111156106e157600080fd5b9250929050565b80356001600160a01b03811681146106ff57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561072357600080fd5b8a3567ffffffffffffffff8082111561073b57600080fd5b6107478e838f0161069f565b909c509a5060208d013591508082111561076057600080fd5b61076c8e838f0161069f565b909a50985060408d0135975060608d013591508082111561078c57600080fd5b506107998d828e0161069f565b90965094505060808b013592506107b260a08c016106e8565b91506107c060c08c016106e8565b90509295989b9194979a5092959850565b600080600080608085870312156107e757600080fd5b6107f0856106e8565b93506107fe602086016106e8565b925061080c604086016106e8565b9396929550929360600135925050565b6000806020838503121561082f57600080fd5b823567ffffffffffffffff81111561084657600080fd5b6108528582860161069f565b90969095509350505050565b60006020828403121561087057600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561089d57600080fd5b838611156108aa57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108e45780818660140360031b1b83161692505b505092915050565b8035602083101561068057600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156106805761068061090a565b808201808211156106805761068061090a56fea26469706673582212201a908643c89c30b103124ac1346de2de7964be6fc4c537dea357364db407b9ad64736f6c63430008170033";ee({},{abi:()=>bt,bytecode:()=>yt});var bt=[{type:"error",name:"ERC7579DecodingError",inputs:[]}],yt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220e31e42482ef7832f3e446f04f27415313e49db77c6e6717169033c8535b19d3764736f6c63430008170033";ee({},{abi:()=>mt,bytecode:()=>gt});var mt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"permittedContract_",type:"address",internalType:"address"},{name:"permittedTokenId_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"}],gt="0x608060405234801561001057600080fd5b50610821806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046105ea565b50505050505050505050565b005b6100766100863660046105ea565b6100c1565b61009e6100993660046106bd565b61047c565b604080516001600160a01b03909316835260208301919091520160405180910390f35b856100cd816000610521565b61011e5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61012f816000610521565b6101895760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610115565b506000806101978e8e61047c565b9150915060003660006101aa8c8c610538565b929550935090915050606481101561021b5760405162461bcd60e51b815260206004820152602e60248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d6360448201526d0c2d8d8c8c2e8c25ad8cadccee8d60931b6064820152608401610115565b6000808061022c84600481886106ff565b8101906102399190610729565b919450925090506001600160a01b038316158061025d57506001600160a01b038216155b156102b95760405162461bcd60e51b815260206004820152602660248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d6160448201526564647265737360d01b6064820152608401610115565b60006102c860048287896106ff565b6102d19161076a565b9050886001600160a01b0316876001600160a01b0316146103505760405162461bcd60e51b815260206004820152603360248201527f4552433732315472616e73666572456e666f726365723a756e617574686f72696044820152721e99590b58dbdb9d1c9858dd0b5d185c99d95d606a1b6064820152608401610115565b6001600160e01b031981166323b872dd60e01b1480159061038257506001600160e01b03198116632142170760e11b14155b801561039f57506001600160e01b03198116635c46a7ef60e11b14155b156104015760405162461bcd60e51b815260206004820152602c60248201527f4552433732315472616e73666572456e666f726365723a756e617574686f726960448201526b3d32b216b9b2b632b1ba37b960a11b6064820152608401610115565b8782146104655760405162461bcd60e51b815260206004820152602c60248201527f4552433732315472616e73666572456e666f726365723a756e617574686f726960448201526b1e99590b5d1bdad95b8b5a5960a21b6064820152608401610115565b505050505050505050505050505050505050505050565b600080603483146104e35760405162461bcd60e51b815260206004820152602b60248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610115565b6104f16014600085876106ff565b6104fa9161079a565b60601c915061050c83601481876106ff565b610515916107cd565b60001c90509250929050565b6001600160f81b0319828116908216145b92915050565b600080368161054a60148287896106ff565b6105539161079a565b60601c93506105666034601487896106ff565b61056f916107cd565b925061057e85603481896106ff565b949793965094505050565b60008083601f84011261059b57600080fd5b50813567ffffffffffffffff8111156105b357600080fd5b6020830191508360208285010111156105cb57600080fd5b9250929050565b6001600160a01b03811681146105e757600080fd5b50565b60008060008060008060008060008060e08b8d03121561060957600080fd5b8a3567ffffffffffffffff8082111561062157600080fd5b61062d8e838f01610589565b909c509a5060208d013591508082111561064657600080fd5b6106528e838f01610589565b909a50985060408d0135975060608d013591508082111561067257600080fd5b5061067f8d828e01610589565b90965094505060808b0135925060a08b013561069a816105d2565b915060c08b01356106aa816105d2565b809150509295989b9194979a5092959850565b600080602083850312156106d057600080fd5b823567ffffffffffffffff8111156106e757600080fd5b6106f385828601610589565b90969095509350505050565b6000808585111561070f57600080fd5b8386111561071c57600080fd5b5050820193919092039150565b60008060006060848603121561073e57600080fd5b8335610749816105d2565b92506020840135610759816105d2565b929592945050506040919091013590565b6001600160e01b031981358181169160048510156107925780818660040360031b1b83161692505b505092915050565b6bffffffffffffffffffffffff1981358181169160148510156107925760149490940360031b84901b1690921692915050565b8035602083101561053257600019602084900360031b1b169291505056fea264697066735822122059baae7c286b09a388772bb8a0feea8851f9a4fec98691fdc00e38b6eb1a59b964736f6c63430008170033",wt={};ee(wt,{abi:()=>vt,bytecode:()=>Et});var vt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"initialAmount_",type:"uint256",internalType:"uint256"},{name:"maxAmount_",type:"uint256",internalType:"uint256"},{name:"amountPerSecond_",type:"uint256",internalType:"uint256"},{name:"startTime_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"streamingAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"initialAmount",type:"uint256",internalType:"uint256"},{name:"maxAmount",type:"uint256",internalType:"uint256"},{name:"amountPerSecond",type:"uint256",internalType:"uint256"},{name:"startTime",type:"uint256",internalType:"uint256"},{name:"spent",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"initialAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"maxAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"amountPerSecond",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startTime",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"},{name:"lastUpdateTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Et="0x608060405234801561001057600080fd5b50610b7d806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100fb578063fb7d2c5b1461011c57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610910565b50505050505050505050565b005b61009c6100ac366004610910565b610189565b6100c46100bf3660046109dd565b61026e565b604080516001600160a01b0390961686526020860194909452928401919091526060830152608082015260a0015b60405180910390f35b61010e610109366004610a1f565b610365565b6040519081526020016100f2565b61016161012a366004610a1f565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100f2565b856101958160006103d0565b6101e65760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101f78160006103d0565b6102515760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101dd565b506102608c8c898989886103e7565b505050505050505050505050565b600080808080609486146102d85760405162461bcd60e51b815260206004820152602b60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b60648201526084016101dd565b6102e660146000888a610a49565b6102ef91610a73565b60601c945061030260346014888a610a49565b61030b91610aa8565b935061031b60546034888a610a49565b61032491610aa8565b925061033460746054888a610a49565b61033d91610aa8565b915061034d60946074888a610a49565b61035691610aa8565b60001c90509295509295909350565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a081018352815481526001820154938101939093526002810154918301919091526003810154606083015260048101546080830152906103c8906107d9565b949350505050565b6001600160f81b0319828116908216145b92915050565b60003660006103f6878761085a565b929550935090915050604481146104675760405162461bcd60e51b815260206004820152602f60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6560448201526e0f0cac6eae8d2dedc5ad8cadccee8d608b1b60648201526084016101dd565b60008060008060006104798e8e61026e565b94509450945094509450838310156104e55760405162461bcd60e51b815260206004820152602960248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6d604482015268185e0b585b5bdd5b9d60ba1b60648201526084016101dd565b6000811161054c5760405162461bcd60e51b815260206004820152602e60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d7a60448201526d65726f2d73746172742d74696d6560901b60648201526084016101dd565b876001600160a01b0316856001600160a01b0316146105bd5760405162461bcd60e51b815260206004820152602760248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d636044820152661bdb9d1c9858dd60ca1b60648201526084016101dd565b63a9059cbb60e01b6105d360046000898b610a49565b6105dc91610ac6565b6001600160e01b031916146106415760405162461bcd60e51b815260206004820152602560248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6d604482015264195d1a1bd960da1b60648201526084016101dd565b336000908152602081815260408083208d84529091528120600481015490910361067e578481556001810184905560028101839055600381018290555b600061068e604460248a8c610a49565b61069791610aa8565b6040805160a081018252845481526001850154602082015260028501549181019190915260038401546060820152600484015460808201529091506106db906107d9565b81111561073c5760405162461bcd60e51b815260206004820152602960248201527f455243323053747265616d696e67456e666f726365723a616c6c6f77616e63656044820152680b595e18d95959195960ba1b60648201526084016101dd565b808260040160008282546107509190610b0a565b90915550506004820154604080516001600160a01b038a81168252602082018a9052818301899052606082018890526080820187905260a08201939093524260c082015290518e928e169133917f30ceca901166c86cac9d1024230d7f5740b26cce6bdd9bad7b1d6e616904ea639181900360e00190a450505050505050505050505050505050565b600081606001514210156107ef57506000919050565b60008260600151426108019190610b1d565b905060008184604001516108159190610b30565b84516108219190610b0a565b90508360200151811115610836575060208301515b8084608001511061084b575060009392505050565b60808401516103c89082610b1d565b600080368161086c6014828789610a49565b61087591610a73565b60601c9350610888603460148789610a49565b61089191610aa8565b92506108a08560348189610a49565b949793965094505050565b60008083601f8401126108bd57600080fd5b50813567ffffffffffffffff8111156108d557600080fd5b6020830191508360208285010111156108ed57600080fd5b9250929050565b80356001600160a01b038116811461090b57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561092f57600080fd5b8a3567ffffffffffffffff8082111561094757600080fd5b6109538e838f016108ab565b909c509a5060208d013591508082111561096c57600080fd5b6109788e838f016108ab565b909a50985060408d0135975060608d013591508082111561099857600080fd5b506109a58d828e016108ab565b90965094505060808b013592506109be60a08c016108f4565b91506109cc60c08c016108f4565b90509295989b9194979a5092959850565b600080602083850312156109f057600080fd5b823567ffffffffffffffff811115610a0757600080fd5b610a13858286016108ab565b90969095509350505050565b60008060408385031215610a3257600080fd5b610a3b836108f4565b946020939093013593505050565b60008085851115610a5957600080fd5b83861115610a6657600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610aa05780818660140360031b1b83161692505b505092915050565b803560208310156103e157600019602084900360031b1b1692915050565b6001600160e01b03198135818116916004851015610aa05760049490940360031b84901b1690921692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103e1576103e1610af4565b818103818111156103e1576103e1610af4565b80820281158282048414176103e1576103e1610af456fea2646970667358221220d9282c553e448eac7b4631259f5a457c28077fd4d88ef08db72ec3df532e99ed64736f6c63430008170033";ee({},{abi:()=>xt,bytecode:()=>St});var xt=[{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"}],St="0x";ee({},{abi:()=>Tt,bytecode:()=>At});var Tt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"callData_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"}],At="0x608060405234801561001057600080fd5b50610559806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610338565b50505050505050505050565b005b610076610086366004610338565b6100b4565b61009e610099366004610405565b61022b565b6040516100ab9190610447565b60405180910390f35b856100c081600061026b565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61012281600061026b565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b5036600061018a8989610282565b935093505050600061019c8f8f61022b565b905082826040516101ae929190610496565b604051809103902081805190602001201461021a5760405162461bcd60e51b815260206004820152602660248201527f457861637443616c6c64617461456e666f726365723a696e76616c69642d63616044820152656c6c6461746160d01b6064820152608401610108565b505050505050505050505050505050565b606082828080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929695505050505050565b6001600160f81b0319828116908216145b92915050565b600080368161029460148287896104a6565b61029d916104d0565b60601c93506102b06034601487896104a6565b6102b991610505565b92506102c885603481896104a6565b949793965094505050565b60008083601f8401126102e557600080fd5b50813567ffffffffffffffff8111156102fd57600080fd5b60208301915083602082850101111561031557600080fd5b9250929050565b80356001600160a01b038116811461033357600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035757600080fd5b8a3567ffffffffffffffff8082111561036f57600080fd5b61037b8e838f016102d3565b909c509a5060208d013591508082111561039457600080fd5b6103a08e838f016102d3565b909a50985060408d0135975060608d01359150808211156103c057600080fd5b506103cd8d828e016102d3565b90965094505060808b013592506103e660a08c0161031c565b91506103f460c08c0161031c565b90509295989b9194979a5092959850565b6000806020838503121561041857600080fd5b823567ffffffffffffffff81111561042f57600080fd5b61043b858286016102d3565b90969095509350505050565b60006020808352835180602085015260005b8181101561047557858101830151858201604001528201610459565b506000604082860101526040601f19601f8301168501019250505092915050565b8183823760009101908152919050565b600080858511156104b657600080fd5b838611156104c357600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156104fd5780818660140360031b1b83161692505b505092915050565b8035602083101561027c57600019602084900360031b1b169291505056fea26469706673582212207ea2be587c5142bd07609ab1e9e3d82af76502619dbab0e88f14c164094d01e564736f6c63430008170033";ee({},{abi:()=>_t,bytecode:()=>Ct});var _t=[{type:"function",name:"aggregateSignatures",inputs:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"aggregatedSignature",type:"bytes",internalType:"bytes"}],stateMutability:"view"},{type:"function",name:"validateSignatures",inputs:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"view"},{type:"function",name:"validateUserOpSignature",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"sigForUserOp",type:"bytes",internalType:"bytes"}],stateMutability:"view"}],Ct="0x";ee({},{abi:()=>kt,bytecode:()=>It});var kt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"execution_",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],It="0x608060405234801561001057600080fd5b5061062f806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103e9565b50505050505050505050565b005b6100766100863660046103e9565b6100b4565b61009e6100993660046104b6565b610197565b6040516100ab91906104f8565b60405180910390f35b856100c0816000610210565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610122816000610210565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b506101898c8c8989610227565b505050505050505050505050565b604080516060808201835260008083526020830152918101919091526101bd8383610333565b81818080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050506040860152505060208301526001600160a01b0316815292915050565b6001600160f81b0319828116908216145b92915050565b6000803660006102378686610333565b929650909450925090506001600160a01b038416610259601460008a8c61056c565b61026291610596565b60601c14801561028757508261027c603460148a8c61056c565b610285916105cb565b145b80156102cc5750818160405161029e9291906105e9565b6040519081900390206102b4886034818c61056c565b6040516102c29291906105e9565b6040518091039020145b6103295760405162461bcd60e51b815260206004820152602860248201527f4578616374457865637574696f6e456e666f726365723a696e76616c69642d656044820152673c32b1baba34b7b760c11b6064820152608401610108565b5050505050505050565b6000803681610345601482878961056c565b61034e91610596565b60601c935061036160346014878961056c565b61036a916105cb565b9250610379856034818961056c565b949793965094505050565b60008083601f84011261039657600080fd5b50813567ffffffffffffffff8111156103ae57600080fd5b6020830191508360208285010111156103c657600080fd5b9250929050565b80356001600160a01b03811681146103e457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561040857600080fd5b8a3567ffffffffffffffff8082111561042057600080fd5b61042c8e838f01610384565b909c509a5060208d013591508082111561044557600080fd5b6104518e838f01610384565b909a50985060408d0135975060608d013591508082111561047157600080fd5b5061047e8d828e01610384565b90965094505060808b0135925061049760a08c016103cd565b91506104a560c08c016103cd565b90509295989b9194979a5092959850565b600080602083850312156104c957600080fd5b823567ffffffffffffffff8111156104e057600080fd5b6104ec85828601610384565b90969095509350505050565b6000602080835260018060a01b038451166020840152602084015160408401526040840151606080850152805180608086015260005b8181101561054a5782810184015186820160a00152830161052e565b50600060a0828701015260a0601f19601f830116860101935050505092915050565b6000808585111561057c57600080fd5b8386111561058957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105c35780818660140360031b1b83161692505b505092915050565b8035602083101561022157600019602084900360031b1b1692915050565b818382376000910190815291905056fea2646970667358221220e961f8992a129634c5841f6f8ff7eac208b6822d2646363c613c0f46bcd65a0b64736f6c63430008170033";ee({},{abi:()=>Pt,bytecode:()=>Ot});var Pt=[{type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"}],Ot="0x";ee({},{abi:()=>Mt,bytecode:()=>Rt});var Mt=[{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disabledDelegations",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDelegationHash",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DisabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"EnabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"RedeemedDelegation",inputs:[{name:"rootDelegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"SetDomain",inputs:[{name:"domainHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"domainVersion",type:"string",indexed:!1,internalType:"string"},{name:"chainId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"contractAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadyDisabled",inputs:[]},{type:"error",name:"AlreadyEnabled",inputs:[]},{type:"error",name:"BatchDataLengthMismatch",inputs:[]},{type:"error",name:"CannotUseADisabledDelegation",inputs:[]},{type:"error",name:"EmptySignature",inputs:[]},{type:"error",name:"InvalidAuthority",inputs:[]},{type:"error",name:"InvalidDelegate",inputs:[]},{type:"error",name:"InvalidDelegator",inputs:[]},{type:"error",name:"InvalidEOASignature",inputs:[]},{type:"error",name:"InvalidERC1271Signature",inputs:[]}],Rt="0x",Nt={};ee(Nt,{abi:()=>Lt,bytecode:()=>Dt});var Lt=[{type:"receive",stateMutability:"payable"},{type:"function",name:"addStake",inputs:[{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegateAndRevert",inputs:[{name:"target",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"deposits",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getSenderAddress",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"handleAggregatedOps",inputs:[{name:"opsPerAggregator",type:"tuple[]",internalType:"struct IEntryPoint.UserOpsPerAggregator[]",components:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"aggregator",type:"address",internalType:"contract IAggregator"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"handleOps",inputs:[{name:"ops",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"innerHandleOp",inputs:[{name:"callData",type:"bytes",internalType:"bytes"},{name:"opInfo",type:"tuple",internalType:"struct EntryPoint.UserOpInfo",components:[{name:"mUserOp",type:"tuple",internalType:"struct EntryPoint.MemoryUserOp",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"verificationGasLimit",type:"uint256",internalType:"uint256"},{name:"callGasLimit",type:"uint256",internalType:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256",internalType:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256",internalType:"uint256"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"paymaster",type:"address",internalType:"address"},{name:"maxFeePerGas",type:"uint256",internalType:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256",internalType:"uint256"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"prefund",type:"uint256",internalType:"uint256"},{name:"contextOffset",type:"uint256",internalType:"uint256"},{name:"preOpGas",type:"uint256",internalType:"uint256"}]},{name:"context",type:"bytes",internalType:"bytes"}],outputs:[{name:"actualGasCost",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"nonceSequenceNumber",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AccountDeployed",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"factory",type:"address",indexed:!1,internalType:"address"},{name:"paymaster",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeforeExecution",inputs:[],anonymous:!1},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PostOpRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"SignatureAggregatorChanged",inputs:[{name:"aggregator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationEvent",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"paymaster",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"},{name:"actualGasCost",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actualGasUsed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationPrefundTooLow",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"DelegateAndRevert",inputs:[{name:"success",type:"bool",internalType:"bool"},{name:"ret",type:"bytes",internalType:"bytes"}]},{type:"error",name:"FailedOp",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"}]},{type:"error",name:"FailedOpWithRevert",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"},{name:"inner",type:"bytes",internalType:"bytes"}]},{type:"error",name:"PostOpReverted",inputs:[{name:"returnData",type:"bytes",internalType:"bytes"}]},{type:"error",name:"ReentrancyGuardReentrantCall",inputs:[]},{type:"error",name:"SenderAddressResult",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"SignatureValidationFailed",inputs:[{name:"aggregator",type:"address",internalType:"address"}]}],Dt="0x60a0604052604051620000129062000051565b604051809103905ff0801580156200002c573d5f803e3d5ffd5b506001600160a01b031660805234801562000045575f80fd5b5060016002556200005f565b6101ff806200374883390190565b6080516136c96200007f5f395f8181610de0015261271501526136c95ff3fe608060405260043610610107575f3560e01c806370a0823111610092578063b760faf911610062578063b760faf914610425578063bb9fe6bf14610438578063c23a5cea1461044c578063dbed18e01461046b578063fc7e286d1461048a575f80fd5b806370a0823114610394578063765e827f146103c8578063850aaf62146103e75780639b249f6914610406575f80fd5b80631b2e01b8116100d85780631b2e01b8146101ae578063205c2878146101e457806322cdde4c1461020357806335567e1a146102225780635287ce1214610280575f80fd5b806242dc531461011b57806301ffc9a71461014d5780630396cb601461017c5780630bd28e3b1461018f575f80fd5b366101175761011533610530565b005b5f80fd5b348015610126575f80fd5b5061013a610135366004612c4f565b610584565b6040519081526020015b60405180910390f35b348015610158575f80fd5b5061016c610167366004612d06565b610702565b6040519015158152602001610144565b61011561018a366004612d2d565b610789565b34801561019a575f80fd5b506101156101a9366004612d66565b610a14565b3480156101b9575f80fd5b5061013a6101c8366004612d7f565b600160209081525f928352604080842090915290825290205481565b3480156101ef575f80fd5b506101156101fe366004612db2565b610a4a565b34801561020e575f80fd5b5061013a61021d366004612ddc565b610b96565b34801561022d575f80fd5b5061013a61023c366004612d7f565b6001600160a01b0382165f9081526001602090815260408083206001600160c01b038516845290915290819020549082901b67ffffffffffffffff19161792915050565b34801561028b575f80fd5b5061033a61029a366004612e13565b6040805160a0810182525f80825260208201819052918101829052606081018290526080810191909152506001600160a01b03165f9081526020818152604091829020825160a0810184528154815260019091015460ff811615159282019290925261010082046001600160701b031692810192909252600160781b810463ffffffff166060830152600160981b900465ffffffffffff16608082015290565b60405161014491905f60a082019050825182526020830151151560208301526001600160701b03604084015116604083015263ffffffff606084015116606083015265ffffffffffff608084015116608083015292915050565b34801561039f575f80fd5b5061013a6103ae366004612e13565b6001600160a01b03165f9081526020819052604090205490565b3480156103d3575f80fd5b506101156103e2366004612e6e565b610bd7565b3480156103f2575f80fd5b50610115610401366004612ec0565b610d4c565b348015610411575f80fd5b50610115610420366004612f10565b610dc7565b610115610433366004612e13565b610530565b348015610443575f80fd5b50610115610e7e565b348015610457575f80fd5b50610115610466366004612e13565b610fa8565b348015610476575f80fd5b50610115610485366004612e6e565b6111c7565b348015610495575f80fd5b506104ed6104a4366004612e13565b5f602081905290815260409020805460019091015460ff81169061010081046001600160701b031690600160781b810463ffffffff1690600160981b900465ffffffffffff1685565b6040805195865293151560208601526001600160701b039092169284019290925263ffffffff909116606083015265ffffffffffff16608082015260a001610144565b5f61053b82346115ce565b9050816001600160a01b03167f2da466a7b24304f47e87fa2e1e5a81b9831ce54fec19055ce277ca2f39ba42c48260405161057891815260200190565b60405180910390a25050565b5f805a90503330146105dd5760405162461bcd60e51b815260206004820152601760248201527f4141393220696e7465726e616c2063616c6c206f6e6c7900000000000000000060448201526064015b60405180910390fd5b8451606081015160a082015181016127100160405a603f028161060257610602612f4e565b0410156106185763deaddead60e01b5f5260205ffd5b87515f90156106a6575f610631845f01515f8c86611600565b9050806106a4575f610644610800611616565b80519091501561069e57845f01516001600160a01b03168a602001517f1c4fada7374c0a9ee8841fc38afe82932dc0f8e69012e927f061a8bae611a201876020015184604051610695929190612faf565b60405180910390a35b60019250505b505b5f88608001515a86030190506106f4828a8a8a8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250879250611641915050565b9a9950505050505050505050565b5f6001600160e01b0319821663307e35b760e11b148061073257506001600160e01b0319821663122a0e9b60e31b145b8061074d57506001600160e01b0319821663cf28ef9760e01b145b8061076857506001600160e01b03198216633e84f02160e01b145b8061078357506301ffc9a760e01b6001600160e01b03198316145b92915050565b335f90815260208190526040902063ffffffff82166107ea5760405162461bcd60e51b815260206004820152601a60248201527f6d757374207370656369667920756e7374616b652064656c617900000000000060448201526064016105d4565b600181015463ffffffff600160781b9091048116908316101561084f5760405162461bcd60e51b815260206004820152601c60248201527f63616e6e6f7420646563726561736520756e7374616b652074696d650000000060448201526064016105d4565b60018101545f9061086f90349061010090046001600160701b0316612fdb565b90505f81116108b55760405162461bcd60e51b81526020600482015260126024820152711b9bc81cdd185ad9481cdc1958da599a595960721b60448201526064016105d4565b6001600160701b038111156108fd5760405162461bcd60e51b815260206004820152600e60248201526d7374616b65206f766572666c6f7760901b60448201526064016105d4565b6040805160a08101825283548152600160208083018281526001600160701b0386811685870190815263ffffffff8a8116606088018181525f60808a0181815233808352828a52918c90209a518b55965199909801805494519151965165ffffffffffff16600160981b0265ffffffffffff60981b1997909416600160781b029690961669ffffffffffffffffffff60781b1991909516610100026effffffffffffffffffffffffffff0019991515999099166effffffffffffffffffffffffffffff1990941693909317979097179190911691909117179055835185815290810192909252917fa5ae833d0bb1dcd632d98a8b70973e8516812898e19bf27b70071ebc8dc52c01910160405180910390a2505050565b335f9081526001602090815260408083206001600160c01b03851684529091528120805491610a4283612fee565b919050555050565b335f9081526020819052604090208054821115610aa95760405162461bcd60e51b815260206004820152601960248201527f576974686472617720616d6f756e7420746f6f206c617267650000000000000060448201526064016105d4565b8054610ab6908390613006565b8155604080516001600160a01b03851681526020810184905233917fd1c19fbcd4551a5edfb66d43d2e337c04837afda3482b42bdf569a8fccdae5fb910160405180910390a25f836001600160a01b0316836040515f6040518083038185875af1925050503d805f8114610b45576040519150601f19603f3d011682016040523d82523d5f602084013e610b4a565b606091505b5050905080610b905760405162461bcd60e51b81526020600482015260126024820152716661696c656420746f20776974686472617760701b60448201526064016105d4565b50505050565b5f610ba0826117f9565b6040805160208101929092523090820152466060820152608001604051602081830303815290604052805190602001209050919050565b610bdf611811565b815f816001600160401b03811115610bf957610bf9612a5a565b604051908082528060200260200182016040528015610c3257816020015b610c1f6129d0565b815260200190600190039081610c175790505b5090505f5b82811015610ca7575f828281518110610c5257610c52613019565b602002602001015190505f80610c8c848a8a87818110610c7457610c74613019565b9050602002810190610c86919061302d565b85611839565b91509150610c9c8483835f611a3b565b505050600101610c37565b506040515f907fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972908290a15f5b83811015610d2f57610d2381888884818110610cf257610cf2613019565b9050602002810190610d04919061302d565b858481518110610d1657610d16613019565b6020026020010151611bd5565b90910190600101610cd4565b50610d3a8482611e83565b505050610d476001600255565b505050565b5f80846001600160a01b03168484604051610d6892919061304c565b5f60405180830381855af49150503d805f8114610da0576040519150601f19603f3d011682016040523d82523d5f602084013e610da5565b606091505b50915091508181604051632650415560e21b81526004016105d492919061305b565b604051632b870d1b60e11b81525f906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063570e1a3690610e17908690869060040161309d565b6020604051808303815f875af1158015610e33573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610e5791906130b0565b604051633653dc0360e11b81526001600160a01b03821660048201529091506024016105d4565b335f90815260208190526040812060018101549091600160781b90910463ffffffff169003610edc5760405162461bcd60e51b815260206004820152600a6024820152691b9bdd081cdd185ad95960b21b60448201526064016105d4565b600181015460ff16610f245760405162461bcd60e51b8152602060048201526011602482015270616c726561647920756e7374616b696e6760781b60448201526064016105d4565b60018101545f90610f4290600160781b900463ffffffff16426130cb565b60018301805460ff65ffffffffffff60981b011916600160981b65ffffffffffff841690810260ff19169190911790915560405190815290915033907ffa9b3c14cc825c412c9ed81b3ba365a5b459439403f18829e572ed53a4180f0a90602001610578565b335f908152602081905260409020600181015461010090046001600160701b03168061100d5760405162461bcd60e51b81526020600482015260146024820152734e6f207374616b6520746f20776974686472617760601b60448201526064016105d4565b6001820154600160981b900465ffffffffffff1661106d5760405162461bcd60e51b815260206004820152601d60248201527f6d7573742063616c6c20756e6c6f636b5374616b65282920666972737400000060448201526064016105d4565b600182015442600160981b90910465ffffffffffff1611156110d15760405162461bcd60e51b815260206004820152601b60248201527f5374616b65207769746864726177616c206973206e6f7420647565000000000060448201526064016105d4565b600182018054610100600160c81b0319169055604080516001600160a01b03851681526020810183905233917fb7c918e0e249f999e965cafeb6c664271b3f4317d296461500e71da39f0cbda3910160405180910390a25f836001600160a01b0316826040515f6040518083038185875af1925050503d805f8114611171576040519150601f19603f3d011682016040523d82523d5f602084013e611176565b606091505b5050905080610b905760405162461bcd60e51b815260206004820152601860248201527f6661696c656420746f207769746864726177207374616b65000000000000000060448201526064016105d4565b6111cf611811565b815f805b8281101561133657368686838181106111ee576111ee613019565b905060200281019061120091906130f1565b9050365f61120e8380613105565b90925090505f6112246040850160208601612e13565b90505f196001600160a01b0382160161127f5760405162461bcd60e51b815260206004820152601760248201527f4141393620696e76616c69642061676772656761746f7200000000000000000060448201526064016105d4565b6001600160a01b0381161561131a576001600160a01b038116632dd8113384846112ac604089018961314a565b6040518563ffffffff1660e01b81526004016112cb94939291906132ab565b5f6040518083038186803b1580156112e1575f80fd5b505afa9250505080156112f2575060015b61131a5760405163086a9f7560e41b81526001600160a01b03821660048201526024016105d4565b6113248287612fdb565b955050600190930192506111d3915050565b505f816001600160401b0381111561135057611350612a5a565b60405190808252806020026020018201604052801561138957816020015b6113766129d0565b81526020019060019003908161136e5790505b5090505f805b8481101561146057368888838181106113aa576113aa613019565b90506020028101906113bc91906130f1565b9050365f6113ca8380613105565b90925090505f6113e06040850160208601612e13565b9050815f5b8181101561144e575f89898151811061140057611400613019565b602002602001015190505f806114228b898987818110610c7457610c74613019565b9150915061143284838389611a3b565b8a61143c81612fee565b9b5050600190930192506113e5915050565b50506001909401935061138f92505050565b506040517fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972905f90a1505f80805b8581101561158a57368989838181106114a9576114a9613019565b90506020028101906114bb91906130f1565b90506114cd6040820160208301612e13565b6001600160a01b03167f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d60405160405180910390a2365f61150e8380613105565b9092509050805f5b81811015611579576115588885858481811061153457611534613019565b9050602002810190611546919061302d565b8b8b81518110610d1657610d16613019565b6115629088612fdb565b96508761156e81612fee565b985050600101611516565b50506001909301925061148e915050565b506040515f907f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d908290a26115bf8682611e83565b5050505050610d476001600255565b6001600160a01b0382165f908152602081905260408120805482906115f4908590612fdb565b91829055509392505050565b5f805f845160208601878987f195945050505050565b60603d828111156116245750815b604051602082018101604052818152815f602083013e9392505050565b5f805a85519091505f908161165582611f78565b60e08301519091506001600160a01b038116611674578251935061172b565b8093505f8851111561172b57868202955060028a600281111561169957611699613325565b1461172b5760a0830151604051637c627b2160e01b81526001600160a01b03831691637c627b21916116d5908e908d908c908990600401613339565b5f604051808303815f88803b1580156116ec575f80fd5b5087f1935050505080156116fe575060015b61172b575f61170e610800611616565b905080604051632b5e552f60e21b81526004016105d49190613380565b5a60a0840151606085015160808c01519288039990990198019088038082111561175e576064600a828403020498909801975b505060408901518783029650868110156117b75760028b600281111561178657611786613325565b036117a8578096506117978a611fa9565b6117a38a5f898b611ff8565b6117eb565b63deadaa5160e01b5f5260205ffd5b8681036117c486826115ce565b505f808d60028111156117d9576117d9613325565b1490506117e88c828b8d611ff8565b50505b505050505050949350505050565b5f61180382612073565b805190602001209050919050565b600280540361183357604051633ee5aeb560e01b815260040160405180910390fd5b60028055565b5f805f5a845190915061184c8682612128565b61185586610b96565b6020860152604081015161012082015161010083015160a08401516080850151606086015160c0870151861717171717176effffffffffffffffffffffffffffff8111156118e55760405162461bcd60e51b815260206004820152601860248201527f41413934206761732076616c756573206f766572666c6f77000000000000000060448201526064016105d4565b5f6119138460c081015160a08201516080830151606084015160408501516101009095015194010101010290565b90506119228a8a8a8487612234565b9650611935845f015185602001516123c5565b61198b5789604051631101335b60e11b81526004016105d4918152604060208201819052601a908201527f4141323520696e76616c6964206163636f756e74206e6f6e6365000000000000606082015260800190565b825a860311156119e75789604051631101335b60e11b81526004016105d4918152604060208201819052601e908201527f41413236206f76657220766572696669636174696f6e4761734c696d69740000606082015260800190565b60e08401516060906001600160a01b031615611a0e57611a098b8b8b85612411565b975090505b604089018290528060608a015260a08a01355a870301896080018181525050505050505050935093915050565b5f80611a46856125c8565b91509150816001600160a01b0316836001600160a01b031614611aac5785604051631101335b60e11b81526004016105d49181526040602082018190526014908201527320a0991a1039b4b3b730ba3ab9329032b93937b960611b606082015260800190565b8015611b045785604051631101335b60e11b81526004016105d49181526040602082018190526017908201527f414132322065787069726564206f72206e6f7420647565000000000000000000606082015260800190565b5f611b0e856125c8565b925090506001600160a01b03811615611b6a5786604051631101335b60e11b81526004016105d49181526040602082018190526014908201527320a0999a1039b4b3b730ba3ab9329032b93937b960611b606082015260800190565b8115611bcc5786604051631101335b60e11b81526004016105d49181526040602082018190526021908201527f41413332207061796d61737465722065787069726564206f72206e6f742064756060820152606560f81b608082015260a00190565b50505050505050565b5f805a90505f611be6846060015190565b6040519091505f903682611bfd60608a018a61314a565b9150915060605f826003811115611c1357843591505b506372288ed160e01b6001600160e01b0319821601611cc0575f8b8b60200151604051602401611c44929190613392565b60408051601f198184030181529181526020820180516001600160e01b0316638dd7712f60e01b1790525190915030906242dc5390611c8b9084908f908d9060240161345d565b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050925050611d15565b306001600160a01b03166242dc5385858d8b604051602401611ce5949392919061349c565b604051602081830303815290604052915060e01b6020820180516001600160e01b03838183161783525050505091505b60205f8351602085015f305af195505f51985084604052505050505080611e79575f3d80602003611d4a5760205f803e5f5191505b5063deaddead60e01b8103611d9d5787604051631101335b60e11b81526004016105d4918152604060208201819052600f908201526e41413935206f7574206f662067617360881b606082015260800190565b63deadaa5160e01b8103611dec575f86608001515a611dbc9087613006565b611dc69190612fdb565b6040880151909150611dd788611fa9565b611de3885f8385611ff8565b9550611e779050565b855180516020808901519201516001600160a01b0390911691907ff62676f440ff169a3a9afdbf812e89e7f95975ee8e5c31214ffdef631c5f479290611e33610800611616565b604051611e41929190612faf565b60405180910390a35f86608001515a611e5a9087613006565b611e649190612fdb565b9050611e736002888684611641565b9550505b505b5050509392505050565b6001600160a01b038216611ed95760405162461bcd60e51b815260206004820152601860248201527f4141393020696e76616c69642062656e6566696369617279000000000000000060448201526064016105d4565b5f826001600160a01b0316826040515f6040518083038185875af1925050503d805f8114611f22576040519150601f19603f3d011682016040523d82523d5f602084013e611f27565b606091505b5050905080610d475760405162461bcd60e51b815260206004820152601f60248201527f41413931206661696c65642073656e6420746f2062656e65666963696172790060448201526064016105d4565b6101008101516101208201515f9190808203611f95575092915050565b611fa182488301612617565b949350505050565b80518051602080840151928101516040519081526001600160a01b0390921692917f67b4fa9642f42120bf031f3051d1824b0fe25627945b27b8a6a65d5761d5482e910160405180910390a350565b835160e081015181516020808801519301516040516001600160a01b039384169492909316927f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f916120659189908990899093845291151560208401526040830152606082015260800190565b60405180910390a450505050565b6060813560208301355f61209261208d604087018761314a565b61262e565b90505f6120a561208d606088018861314a565b9050608086013560a087013560c08801355f6120c761208d60e08c018c61314a565b604080516001600160a01b039a909a1660208b015289810198909852606089019690965250608087019390935260a086019190915260c085015260e08401526101008084019190915281518084039091018152610120909201905292915050565b6121356020830183612e13565b6001600160a01b03168152602082810135908201526001600160801b036080808401358281166060850152811c604084015260a084013560c0808501919091528401359182166101008401521c610120820152365f61219760e085018561314a565b9092509050801561221a5760348110156121f35760405162461bcd60e51b815260206004820152601d60248201527f4141393320696e76616c6964207061796d6173746572416e644461746100000060448201526064016105d4565b6121fd8282612640565b60a086015260808501526001600160a01b031660e0840152610b90565b5f60e084018190526080840181905260a084015250505050565b825180515f9190612252888761224d60408b018b61314a565b6126a7565b60e08201515f6001600160a01b038216612293576001600160a01b0383165f9081526020819052604090205487811161228d5780880361228f565b5f5b9150505b60208801516040516306608bdf60e21b81526001600160a01b038516916319822f7c9189916122c9918e919087906004016134d2565b6020604051808303815f8887f193505050508015612304575060408051601f3d908101601f19168201909252612301918101906134f6565b60015b61232f5789612314610800611616565b6040516365c8fd4d60e01b81526004016105d492919061350d565b94506001600160a01b0382166123b8576001600160a01b0383165f9081526020819052604090208054808911156123b2578b604051631101335b60e11b81526004016105d49181526040602082018190526017908201527f41413231206469646e2774207061792070726566756e64000000000000000000606082015260800190565b88900390555b5050505095945050505050565b6001600160a01b0382165f90815260016020908152604080832084821c80855292528220805484916001600160401b03831691908561240383612fee565b909155501495945050505050565b60605f805a855160e08101516001600160a01b0381165f9081526020819052604090208054939450919290919087811015612498578a604051631101335b60e11b81526004016105d4918152604060208201819052601e908201527f41413331207061796d6173746572206465706f73697420746f6f206c6f770000606082015260800190565b878103825f01819055505f84608001519050836001600160a01b03166352b7512c828d8d602001518d6040518563ffffffff1660e01b81526004016124df939291906134d2565b5f604051808303815f8887f19350505050801561251d57506040513d5f823e601f3d908101601f1916820160405261251a9190810190613549565b60015b612548578b61252d610800611616565b6040516365c8fd4d60e01b81526004016105d49291906135c4565b9098509650805a870311156125b9578b604051631101335b60e11b81526004016105d49181526040602082018190526027908201527f41413336206f766572207061796d6173746572566572696669636174696f6e47606082015266185cd31a5b5a5d60ca1b608082015260a00190565b50505050505094509492505050565b5f80825f036125db57505f928392509050565b5f6125e584612961565b9050806040015165ffffffffffff1642118061260c5750806020015165ffffffffffff1642105b905194909350915050565b5f8183106126255781612627565b825b9392505050565b5f604051828085833790209392505050565b5f80806126506014828688613600565b61265991613627565b60601c61266a602460148789613600565b6126739161365c565b60801c61268460346024888a613600565b61268d9161365c565b9194506001600160801b0316925060801c90509250925092565b8015610b90578251516001600160a01b0381163b156127125784604051631101335b60e11b81526004016105d4918152604060208201819052601f908201527f414131302073656e64657220616c726561647920636f6e737472756374656400606082015260800190565b5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663570e1a36865f01516040015186866040518463ffffffff1660e01b815260040161276992919061309d565b6020604051808303815f8887f1158015612785573d5f803e3d5ffd5b50505050506040513d601f19601f820116820180604052508101906127aa91906130b0565b90506001600160a01b03811661280c5785604051631101335b60e11b81526004016105d4918152604060208201819052601b908201527f4141313320696e6974436f6465206661696c6564206f72204f4f470000000000606082015260800190565b816001600160a01b0316816001600160a01b0316146128765785604051631101335b60e11b81526004016105d491815260406020808301829052908201527f4141313420696e6974436f6465206d7573742072657475726e2073656e646572606082015260800190565b806001600160a01b03163b5f036128d85785604051631101335b60e11b81526004016105d491815260406020808301829052908201527f4141313520696e6974436f6465206d757374206372656174652073656e646572606082015260800190565b5f6128e66014828688613600565b6128ef91613627565b60601c9050826001600160a01b031686602001517fd51a9c61267aa6196961883ecf5ff2da6619c37dac0fa92122513fb32c032d2d83895f015160e001516040516129509291906001600160a01b0392831681529116602082015260400190565b60405180910390a350505050505050565b604080516060810182525f80825260208201819052918101919091528160a081901c65ffffffffffff81165f0361299b575065ffffffffffff5b604080516060810182526001600160a01b03909316835260d09490941c602083015265ffffffffffff16928101929092525090565b6040518060a00160405280612a396040518061014001604052805f6001600160a01b031681526020015f81526020015f81526020015f81526020015f81526020015f81526020015f81526020015f6001600160a01b031681526020015f81526020015f81525090565b81526020015f80191681526020015f81526020015f81526020015f81525090565b634e487b7160e01b5f52604160045260245ffd5b60405160a081016001600160401b0381118282101715612a9057612a90612a5a565b60405290565b60405161014081016001600160401b0381118282101715612a9057612a90612a5a565b604051601f8201601f191681016001600160401b0381118282101715612ae157612ae1612a5a565b604052919050565b5f6001600160401b03821115612b0157612b01612a5a565b50601f01601f191660200190565b6001600160a01b0381168114612b23575f80fd5b50565b8035612b3181612b0f565b919050565b5f8183036101c0811215612b48575f80fd5b612b50612a6e565b915061014080821215612b61575f80fd5b612b69612a96565b9150612b7484612b26565b82526020840135602083015260408401356040830152606084013560608301526080840135608083015260a084013560a083015260c084013560c0830152612bbe60e08501612b26565b60e0830152610100848101359083015261012080850135908301529082528201356020820152610160820135604082015261018082013560608201526101a0909101356080820152919050565b5f8083601f840112612c1b575f80fd5b5081356001600160401b03811115612c31575f80fd5b602083019150836020828501011115612c48575f80fd5b9250929050565b5f805f806102008587031215612c63575f80fd5b84356001600160401b0380821115612c79575f80fd5b818701915087601f830112612c8c575f80fd5b8135612c9f612c9a82612ae9565b612ab9565b818152896020838601011115612cb3575f80fd5b816020850160208301375f602083830101528097505050612cd78860208901612b36565b94506101e0870135915080821115612ced575f80fd5b50612cfa87828801612c0b565b95989497509550505050565b5f60208284031215612d16575f80fd5b81356001600160e01b031981168114612627575f80fd5b5f60208284031215612d3d575f80fd5b813563ffffffff81168114612627575f80fd5b80356001600160c01b0381168114612b31575f80fd5b5f60208284031215612d76575f80fd5b61262782612d50565b5f8060408385031215612d90575f80fd5b8235612d9b81612b0f565b9150612da960208401612d50565b90509250929050565b5f8060408385031215612dc3575f80fd5b8235612dce81612b0f565b946020939093013593505050565b5f60208284031215612dec575f80fd5b81356001600160401b03811115612e01575f80fd5b82016101208185031215612627575f80fd5b5f60208284031215612e23575f80fd5b813561262781612b0f565b5f8083601f840112612e3e575f80fd5b5081356001600160401b03811115612e54575f80fd5b6020830191508360208260051b8501011115612c48575f80fd5b5f805f60408486031215612e80575f80fd5b83356001600160401b03811115612e95575f80fd5b612ea186828701612e2e565b9094509250506020840135612eb581612b0f565b809150509250925092565b5f805f60408486031215612ed2575f80fd5b8335612edd81612b0f565b925060208401356001600160401b03811115612ef7575f80fd5b612f0386828701612c0b565b9497909650939450505050565b5f8060208385031215612f21575f80fd5b82356001600160401b03811115612f36575f80fd5b612f4285828601612c0b565b90969095509350505050565b634e487b7160e01b5f52601260045260245ffd5b5f5b83811015612f7c578181015183820152602001612f64565b50505f910152565b5f8151808452612f9b816020860160208601612f62565b601f01601f19169290920160200192915050565b828152604060208201525f611fa16040830184612f84565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561078357610783612fc7565b5f60018201612fff57612fff612fc7565b5060010190565b8181038181111561078357610783612fc7565b634e487b7160e01b5f52603260045260245ffd5b5f823561011e19833603018112613042575f80fd5b9190910192915050565b818382375f9101908152919050565b8215158152604060208201525f611fa16040830184612f84565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b602081525f611fa1602083018486613075565b5f602082840312156130c0575f80fd5b815161262781612b0f565b65ffffffffffff8181168382160190808211156130ea576130ea612fc7565b5092915050565b5f8235605e19833603018112613042575f80fd5b5f808335601e1984360301811261311a575f80fd5b8301803591506001600160401b03821115613133575f80fd5b6020019150600581901b3603821315612c48575f80fd5b5f808335601e1984360301811261315f575f80fd5b8301803591506001600160401b03821115613178575f80fd5b602001915036819003821315612c48575f80fd5b5f808335601e198436030181126131a1575f80fd5b83016020810192503590506001600160401b038111156131bf575f80fd5b803603821315612c48575f80fd5b5f6101206131eb846131de85612b26565b6001600160a01b03169052565b60208301356020850152613202604084018461318c565b8260408701526132158387018284613075565b92505050613226606084018461318c565b8583036060870152613239838284613075565b925050506080830135608085015260a083013560a085015260c083013560c085015261326860e084018461318c565b85830360e087015261327b838284613075565b9250505061010061328e8185018561318c565b868403838801526132a0848284613075565b979650505050505050565b604080825281018490525f6060600586901b8301810190830187835b8881101561330f57858403605f190183528135368b900361011e190181126132ed575f80fd5b6132f9858c83016131cd565b94505060209283019291909101906001016132c7565b50505082810360208401526132a0818587613075565b634e487b7160e01b5f52602160045260245ffd5b5f6003861061335657634e487b7160e01b5f52602160045260245ffd5b8582526080602083015261336d6080830186612f84565b6040830194909452506060015292915050565b602081525f6126276020830184612f84565b604081525f6133a460408301856131cd565b90508260208301529392505050565b805180516001600160a01b031683526020810151602084015260408101516040840152606081015160608401526080810151608084015260a081015160a084015260c081015160c084015260e081015161341860e08501826001600160a01b03169052565b5061010081810151908401526101209081015190830152602081015161014083015260408101516101608301526060810151610180830152608001516101a090910152565b5f61020080835261347081840187612f84565b905061347f60208401866133b3565b8281036101e08401526134928185612f84565b9695505050505050565b5f6102008083526134b08184018789613075565b90506134bf60208401866133b3565b8281036101e08401526132a08185612f84565b606081525f6134e460608301866131cd565b60208301949094525060400152919050565b5f60208284031215613506575f80fd5b5051919050565b82815260606020820152600d60608201526c10504c8cc81c995d995c9d1959609a1b608082015260a060408201525f611fa160a0830184612f84565b5f806040838503121561355a575f80fd5b82516001600160401b0381111561356f575f80fd5b8301601f8101851361357f575f80fd5b805161358d612c9a82612ae9565b8181528660208385010111156135a1575f80fd5b6135b2826020830160208601612f62565b60209590950151949694955050505050565b82815260606020820152600d60608201526c10504cccc81c995d995c9d1959609a1b608082015260a060408201525f611fa160a0830184612f84565b5f808585111561360e575f80fd5b8386111561361a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156136545780818660140360031b1b83161692505b505092915050565b6fffffffffffffffffffffffffffffffff1981358181169160108510156136545760109490940360031b84901b169092169291505056fea2646970667358221220397996f36f516bad9951ba1f23ade372bdd0ef7639623362f57652a7762031c164736f6c63430008170033608060405234801561000f575f80fd5b506101e28061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063570e1a361461002d575b5f80fd5b61004061003b3660046100e4565b61005c565b6040516001600160a01b03909116815260200160405180910390f35b5f8061006b6014828587610150565b61007491610177565b60601c90505f6100878460148188610150565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525084519495509360209350849250905082850182875af190505f519350806100db575f93505b50505092915050565b5f80602083850312156100f5575f80fd5b823567ffffffffffffffff8082111561010c575f80fd5b818501915085601f83011261011f575f80fd5b81358181111561012d575f80fd5b86602082850101111561013e575f80fd5b60209290920196919550909350505050565b5f808585111561015e575f80fd5b8386111561016a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156101a45780818660140360031b1b83161692505b50509291505056fea264697066735822122078c1aaa9f040f8c523cf2b642dd06415593eec30d2e75021458af7e0c704e6fb64736f6c63430008170033";ee({},{abi:()=>Bt,bytecode:()=>jt});var Bt=[{type:"function",name:"executeUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"}],jt="0x";ee({},{abi:()=>Ut,bytecode:()=>Ft});var Ut=[{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"values",type:"uint256[]",internalType:"uint256[]"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"onERC1155Received",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],Ft="0x";ee({},{abi:()=>$t,bytecode:()=>zt});var $t=[{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOfBatch",inputs:[{name:"accounts",type:"address[]",internalType:"address[]"},{name:"ids",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"account",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"safeBatchTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"values",type:"uint256[]",internalType:"uint256[]"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"ApprovalForAll",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TransferBatch",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"ids",type:"uint256[]",indexed:!1,internalType:"uint256[]"},{name:"values",type:"uint256[]",indexed:!1,internalType:"uint256[]"}],anonymous:!1},{type:"event",name:"TransferSingle",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!1,internalType:"uint256"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"URI",inputs:[{name:"value",type:"string",indexed:!1,internalType:"string"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],zt="0x";ee({},{abi:()=>Ht,bytecode:()=>qt});var Ht=[{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"}],qt="0x";ee({},{abi:()=>Kt,bytecode:()=>Wt});var Kt=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"approveAndCall",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"approveAndCall",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferAndCall",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferAndCall",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFromAndCall",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFromAndCall",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Wt="0x";ee({},{abi:()=>Vt,bytecode:()=>Gt});var Vt=[{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"_newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],Gt="0x";ee({},{abi:()=>Yt,bytecode:()=>Jt});var Yt=[{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],Jt="0x";ee({},{abi:()=>Zt,bytecode:()=>Xt});var Zt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"executions_",type:"tuple[]",internalType:"struct Execution[]",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],Xt="0x608060405234801561001057600080fd5b5061083a806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610417565b50505050505050505050565b005b610076610086366004610417565b6100b4565b61009e6100993660046104e4565b6102fd565b6040516100ab9190610526565b60405180910390f35b85600160f81b6001600160f81b03198216146101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6001600160f81b03198116156101835760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b503660006101918989610319565b9150915060006101a18f8f6102fd565b8051909150821461020a5760405162461bcd60e51b815260206004820152602d60248201527f457861637443616c6c646174614261746368456e666f726365723a696e76616c60448201526c69642d62617463682d73697a6560981b606482015260840161010e565b60005b828110156102eb57838382818110610227576102276105e8565b905060200281019061023991906105fe565b61024790604081019061061e565b604051610255929190610665565b604051809103902082828151811061026f5761026f6105e8565b60200260200101516040015180519060200120146102e35760405162461bcd60e51b815260206004820152602b60248201527f457861637443616c6c646174614261746368456e666f726365723a696e76616c60448201526a69642d63616c6c6461746160a81b606482015260840161010e565b60010161020d565b50505050505050505050505050505050565b60606103098383610319565b610312916106e5565b9392505050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156103515763ba597e7e6000526004601cfd5b83156103a8578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c171561039f5763ba597e7e6000526004601cfd5b5050508261035b575b5050509250929050565b60008083601f8401126103c457600080fd5b50813567ffffffffffffffff8111156103dc57600080fd5b6020830191508360208285010111156103f457600080fd5b9250929050565b80356001600160a01b038116811461041257600080fd5b919050565b60008060008060008060008060008060e08b8d03121561043657600080fd5b8a3567ffffffffffffffff8082111561044e57600080fd5b61045a8e838f016103b2565b909c509a5060208d013591508082111561047357600080fd5b61047f8e838f016103b2565b909a50985060408d0135975060608d013591508082111561049f57600080fd5b506104ac8d828e016103b2565b90965094505060808b013592506104c560a08c016103fb565b91506104d360c08c016103fb565b90509295989b9194979a5092959850565b600080602083850312156104f757600080fd5b823567ffffffffffffffff81111561050e57600080fd5b61051a858286016103b2565b90969095509350505050565b600060208083018184528085518083526040925060408601915060408160051b8701018488016000805b848110156105d957898403603f19018652825180516001600160a01b0316855288810151898601528701516060888601819052815190860181905283905b808210156105ac578282018b015187830160800152908a019061058e565b8681016080908101869052988b0198601f909101601f191690960190950194505091870191600101610550565b50919998505050505050505050565b634e487b7160e01b600052603260045260246000fd5b60008235605e1983360301811261061457600080fd5b9190910192915050565b6000808335601e1984360301811261063557600080fd5b83018035915067ffffffffffffffff82111561065057600080fd5b6020019150368190038213156103f457600080fd5b8183823760009101908152919050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff811182821017156106ae576106ae610675565b60405290565b604051601f8201601f1916810167ffffffffffffffff811182821017156106dd576106dd610675565b604052919050565b600067ffffffffffffffff8084111561070057610700610675565b8360051b60206107118183016106b4565b86815291850191818101903684111561072957600080fd5b865b848110156107f8578035868111156107435760008081fd5b880160603682900312156107575760008081fd5b61075f61068b565b610768826103fb565b81528582013586820152604080830135898111156107865760008081fd5b9290920191601f368185011261079c5760008081fd5b83358a8111156107ae576107ae610675565b6107bf818301601f19168a016106b4565b915080825236898287010111156107d65760008081fd5b808986018a84013760009082018901529082015284525091830191830161072b565b5097965050505050505056fea26469706673582212208d28ccd8e989ae016d34ead1b420bc19b8be9eaa747049c2602c587d0a44891264736f6c63430008170033";ee({},{abi:()=>Qt,bytecode:()=>en});var Qt=[{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"}],en="0x";ee({},{abi:()=>tn,bytecode:()=>nn});var tn=[{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"}],nn="0x";ee({},{abi:()=>rn,bytecode:()=>an});var rn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"executions_",type:"tuple[]",internalType:"struct Execution[]",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],an="0x608060405234801561001057600080fd5b50610870806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103e9565b50505050505050505050565b005b6100766100863660046103e9565b6100b4565b61009e6100993660046104b6565b6102cf565b6040516100ab91906104f8565b60405180910390f35b85600160f81b6001600160f81b03198216146101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6001600160f81b03198116156101835760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b5036600061019189896102eb565b9150915060006101a18f8f6102cf565b8051909150821461020b5760405162461bcd60e51b815260206004820152602e60248201527f4578616374457865637574696f6e4261746368456e666f726365723a696e766160448201526d6c69642d62617463682d73697a6560901b606482015260840161010e565b8060405160200161021c91906104f8565b6040516020818303038152906040528051906020012083836040516020016102459291906105ba565b60405160208183030381529060405280519060200120146102be5760405162461bcd60e51b815260206004820152602d60248201527f4578616374457865637574696f6e4261746368456e666f726365723a696e766160448201526c3634b216b2bc32b1baba34b7b760991b606482015260840161010e565b505050505050505050505050505050565b60606102db83836102eb565b6102e49161071b565b9392505050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156103235763ba597e7e6000526004601cfd5b831561037a578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156103715763ba597e7e6000526004601cfd5b5050508261032d575b5050509250929050565b60008083601f84011261039657600080fd5b50813567ffffffffffffffff8111156103ae57600080fd5b6020830191508360208285010111156103c657600080fd5b9250929050565b80356001600160a01b03811681146103e457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561040857600080fd5b8a3567ffffffffffffffff8082111561042057600080fd5b61042c8e838f01610384565b909c509a5060208d013591508082111561044557600080fd5b6104518e838f01610384565b909a50985060408d0135975060608d013591508082111561047157600080fd5b5061047e8d828e01610384565b90965094505060808b0135925061049760a08c016103cd565b91506104a560c08c016103cd565b90509295989b9194979a5092959850565b600080602083850312156104c957600080fd5b823567ffffffffffffffff8111156104e057600080fd5b6104ec85828601610384565b90969095509350505050565b600060208083018184528085518083526040925060408601915060408160051b8701018488016000805b848110156105ab57898403603f19018652825180516001600160a01b0316855288810151898601528701516060888601819052815190860181905283905b8082101561057e578282018b015187830160800152908a0190610560565b8681016080908101869052988b0198601f909101601f191690960190950194505091870191600101610522565b50919998505050505050505050565b60208082528181018390526000906040808401600586901b8501820187855b8881101561069d57878303603f190184528135368b9003605e190181126105ff57600080fd5b8a0160606001600160a01b03610614836103cd565b168552878201358886015286820135601e1983360301811261063557600080fd5b90910187810191903567ffffffffffffffff81111561065357600080fd5b80360383131561066257600080fd5b8188870152808287015260809150808383880137600086820183015295880195601f01601f19169094019093019250908501906001016105d9565b509098975050505050505050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff811182821017156106e4576106e46106ab565b60405290565b604051601f8201601f1916810167ffffffffffffffff81118282101715610713576107136106ab565b604052919050565b600067ffffffffffffffff80841115610736576107366106ab565b8360051b60206107478183016106ea565b86815291850191818101903684111561075f57600080fd5b865b8481101561082e578035868111156107795760008081fd5b8801606036829003121561078d5760008081fd5b6107956106c1565b61079e826103cd565b81528582013586820152604080830135898111156107bc5760008081fd5b9290920191601f36818501126107d25760008081fd5b83358a8111156107e4576107e46106ab565b6107f5818301601f19168a016106ea565b9150808252368982870101111561080c5760008081fd5b808986018a840137600090820189015290820152845250918301918301610761565b5097965050505050505056fea26469706673582212205e0b91ba43666d3d9ebd5eb11438023697fc7df67dea03687ac126f13d8d464564736f6c63430008170033";ee({},{abi:()=>sn,bytecode:()=>on});var sn=[{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ExecutionFailed",inputs:[]}],on="0x6080604052348015600f57600080fd5b50603f80601d6000396000f3fe6080604052600080fdfea264697066735822122070e8319b78da08f58cb6bf69f50e33c8c919ae6c2113f3ef3b34f1da6bf44c5f64736f6c63430008170033";ee({},{abi:()=>cn,bytecode:()=>ln});var cn=[{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1}],ln="0x";ee({},{abi:()=>un,bytecode:()=>dn});var un=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],dn="0x";ee({},{abi:()=>fn,bytecode:()=>pn});var fn=[{type:"function",name:"approve",inputs:[{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"operator",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],pn="0x";ee({},{abi:()=>hn,bytecode:()=>bn});var hn=[{type:"function",name:"accountId",inputs:[],outputs:[{name:"accountImplementationId",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"installModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"isModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"additionalContext",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"encodedMode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"uninstallModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"deInitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"ModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"ModuleUninstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1}],bn="0x";ee({},{abi:()=>yn,bytecode:()=>mn});var yn=[{type:"function",name:"postOp",inputs:[{name:"mode",type:"uint8",internalType:"enum IPaymaster.PostOpMode"},{name:"context",type:"bytes",internalType:"bytes"},{name:"actualGasCost",type:"uint256",internalType:"uint256"},{name:"actualUserOpFeePerGas",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"validatePaymasterUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"maxCost",type:"uint256",internalType:"uint256"}],outputs:[{name:"context",type:"bytes",internalType:"bytes"},{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"}],mn="0x";ee({},{abi:()=>gn,bytecode:()=>wn});var gn=[{type:"function",name:"addStake",inputs:[{name:"_unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],wn="0x";ee({},{abi:()=>vn,bytecode:()=>En});var vn=[{type:"function",name:"addStake",inputs:[{name:"_unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegateAndRevert",inputs:[{name:"target",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getSenderAddress",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"handleAggregatedOps",inputs:[{name:"opsPerAggregator",type:"tuple[]",internalType:"struct IEntryPoint.UserOpsPerAggregator[]",components:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"aggregator",type:"address",internalType:"contract IAggregator"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"handleOps",inputs:[{name:"ops",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AccountDeployed",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"factory",type:"address",indexed:!1,internalType:"address"},{name:"paymaster",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeforeExecution",inputs:[],anonymous:!1},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PostOpRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"SignatureAggregatorChanged",inputs:[{name:"aggregator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationEvent",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"paymaster",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"},{name:"actualGasCost",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actualGasUsed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationPrefundTooLow",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"DelegateAndRevert",inputs:[{name:"success",type:"bool",internalType:"bool"},{name:"ret",type:"bytes",internalType:"bytes"}]},{type:"error",name:"FailedOp",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"}]},{type:"error",name:"FailedOpWithRevert",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"},{name:"inner",type:"bytes",internalType:"bytes"}]},{type:"error",name:"PostOpReverted",inputs:[{name:"returnData",type:"bytes",internalType:"bytes"}]},{type:"error",name:"SenderAddressResult",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"SignatureValidationFailed",inputs:[{name:"aggregator",type:"address",internalType:"address"}]}],En="0x";ee({},{abi:()=>xn,bytecode:()=>Sn});var xn=[{type:"function",name:"adapters",inputs:[{name:"id",type:"string",internalType:"string"}],outputs:[{name:"",type:"tuple",internalType:"struct IMetaSwap.Adapter",components:[{name:"addr",type:"address",internalType:"address"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"data",type:"bytes",internalType:"bytes"}]}],stateMutability:"view"},{type:"function",name:"removeAdapter",inputs:[{name:"aggregatorId",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setAdapter",inputs:[{name:"aggregatorId",type:"string",internalType:"string"},{name:"addr",type:"address",internalType:"address"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swap",inputs:[{name:"aggregatorId",type:"string",internalType:"string"},{name:"tokenFrom",type:"address",internalType:"contract IERC20"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],Sn="0x",Tn={};ee(Tn,{abi:()=>An,bytecode:()=>_n});var An=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"addKey",inputs:[{name:"_keyId",type:"string",internalType:"string"},{name:"_x",type:"uint256",internalType:"uint256"},{name:"_y",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getKey",inputs:[{name:"_keyId",type:"string",internalType:"string"}],outputs:[{name:"x_",type:"uint256",internalType:"uint256"},{name:"y_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getKeyIdHashes",inputs:[],outputs:[{name:"",type:"bytes32[]",internalType:"bytes32[]"}],stateMutability:"view"},{type:"function",name:"getKeyIdHashesCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"reinitialize",inputs:[{name:"_version",type:"uint8",internalType:"uint8"},{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"},{name:"_deleteP256Keys",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeKey",inputs:[{name:"_keyId",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"_newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateSigners",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AddedP256Key",inputs:[{name:"keyIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"keyId",type:"string",indexed:!1,internalType:"string"},{name:"x",type:"uint256",indexed:!1,internalType:"uint256"},{name:"y",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RemovedP256Key",inputs:[{name:"keyIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"x",type:"uint256",indexed:!1,internalType:"uint256"},{name:"y",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"CannotRemoveLastSigner",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InputLengthsMismatch",inputs:[{name:"keyIdsLength",type:"uint256",internalType:"uint256"},{name:"xValuesLength",type:"uint256",internalType:"uint256"},{name:"yValuesLength",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidEmptyKey",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"KeyAlreadyExists",inputs:[{name:"keyIdHash",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"KeyDoesNotExist",inputs:[{name:"keyIdHash",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"KeyNotOnCurve",inputs:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"SignersCannotBeEmpty",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],_n="0x6101c0604052306080523480156200001657600080fd5b506040516200556538038062005565833981016040819052620000399162000319565b81816040518060400160405280600f81526020016e243cb13934b22232b632a3b0ba37b960891b815250604051806040016040528060018152602001603160f81b815250818162000095600083620001ca60201b90919060201c565b61014052620000a6816001620001ca565b61016052815160208084019190912061010052815190820120610120524660c052620001366101005161012051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60a05250503060e0526200014962000203565b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a250505050505062000541565b6000602083511015620001ea57620001e283620002b7565b9050620001fd565b81620001f78482620003ff565b5060ff90505b92915050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff1615620002545760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b0390811614620002b45780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b600080829050601f81511115620002ee578260405163305a27a960e01b8152600401620002e59190620004cb565b60405180910390fd5b8051620002fb826200051c565b179392505050565b6001600160a01b0381168114620002b457600080fd5b600080604083850312156200032d57600080fd5b82516200033a8162000303565b60208401519092506200034d8162000303565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200038357607f821691505b602082108103620003a457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620003fa576000816000526020600020601f850160051c81016020861015620003d55750805b601f850160051c820191505b81811015620003f657828155600101620003e1565b5050505b505050565b81516001600160401b038111156200041b576200041b62000358565b62000433816200042c84546200036e565b84620003aa565b602080601f8311600181146200046b5760008415620004525750858301515b600019600386901b1c1916600185901b178555620003f6565b600085815260208120601f198616915b828110156200049c578886015182559484019460019091019084016200047b565b5085821015620004bb5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620004fb57858101830151858201604001528201620004dd565b506000604082860101526040601f19601f8301168501019250505092915050565b80516020808301519190811015620003a45760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051614eeb6200067a6000396000818161068c0152818161091e015281816109cb01528181610abe01528181610b3c01528181610ca001528181610d5501528181610de001528181610e5001528181610f3c01528181610ff701528181611069015281816112c301528181611342015281816113ab015281816114a60152818161156501528181611a1b01528181611d0e01528181611d7c0152612d4e0152600081816107ff01528181610b9f01528181610c2201528181610d030152818161140e01526117ac0152600061275a0152600061272d01526000611f3e01526000611f1601526000611e7101526000611e9b01526000611ec5015260008181612190015281816121b901526126100152614eeb6000f3fe6080604052600436106102765760003560e01c80638da5cb5b1161014f578063c8561e73116100c1578063e9ae5c531161007a578063e9ae5c53146107da578063ea4d3c9b146107ed578063ed8101b514610821578063f23a6e6114610841578063f2fde38b14610861578063ffa1ad741461088157600080fd5b8063c8561e7314610710578063cef6d20914610730578063d087d28814610750578063d37aec9214610765578063d5d33b551461079a578063d691c964146107ba57600080fd5b8063acb8cc4911610113578063acb8cc491461061c578063ad3cb1cc14610649578063b0d691fe1461067a578063b3c65015146106ae578063bc197c81146106db578063c399ec88146106fb57600080fd5b80638da5cb5b1461054d5780638ebf95331461058c578063a24c8f32146105ac578063a3f4df7e146105bf578063aaf10f421461060757600080fd5b8063445140b8116101e85780635c1c6dcd116101ac5780635c1c6dcd146104a8578063715018a6146104bb57806378a68ecf146104d05780637f07bfdc146104f057806383ebb7711461051057806384b0196e1461052557600080fd5b8063445140b81461043857806349934047146104585780634a58db19146104785780634f1ef2861461048057806352d1902d1461049357600080fd5b806319822f7c1161023a57806319822f7c146103605780631c03010a146103805780632b3afd99146103a25780632ffeaad6146103d65780633e1b0812146103f85780633ed010151461041857600080fd5b806301ffc9a71461028257806306394d67146102b7578063074feff3146102e5578063150b7a02146103075780631626ba7e1461034057600080fd5b3661027d57005b600080fd5b34801561028e57600080fd5b506102a261029d366004613d03565b6108b2565b60405190151581526020015b60405180910390f35b3480156102c357600080fd5b506102d76102d2366004613d46565b6108de565b6040519081526020016102ae565b3480156102f157600080fd5b50610305610300366004613ded565b610913565b005b34801561031357600080fd5b50610327610322366004613f5c565b610984565b6040516001600160e01b031990911681526020016102ae565b34801561034c57600080fd5b5061032761035b366004614008565b61099f565b34801561036c57600080fd5b506102d761037b366004614053565b6109be565b34801561038c57600080fd5b50600080516020614e36833981519152546102d7565b3480156103ae57600080fd5b506102d77fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156103e257600080fd5b506103eb610a2e565b6040516102ae91906140a0565b34801561040457600080fd5b506102d76104133660046140d8565b610a97565b34801561042457600080fd5b50610305610433366004614101565b610b31565b34801561044457600080fd5b506102a261045336600461413b565b610c09565b34801561046457600080fd5b50610305610473366004614101565b610c95565b610305610d38565b61030561048e366004614154565b610da2565b34801561049f57600080fd5b506102d7610db8565b6103056104b63660046141a3565b610dd5565b3480156104c757600080fd5b50610305610e45565b3480156104dc57600080fd5b506103056104eb3660046141f6565b610ea8565b3480156104fc57600080fd5b5061030561050b3660046142c8565b610fec565b34801561051c57600080fd5b506102d76110c9565b34801561053157600080fd5b5061053a6110d8565b6040516102ae9796959493929190614344565b34801561055957600080fd5b50600080516020614e16833981519152546001600160a01b03165b6040516001600160a01b0390911681526020016102ae565b34801561059857600080fd5b506103056105a7366004613ded565b61111e565b6103056105ba366004614154565b610daa565b3480156105cb57600080fd5b506105fa6040518060400160405280600f81526020016e243cb13934b22232b632a3b0ba37b960891b81525081565b6040516102ae91906143dd565b34801561061357600080fd5b5061057461123a565b34801561062857600080fd5b506105fa604051806040016040528060018152602001603160f81b81525081565b34801561065557600080fd5b506105fa604051806040016040528060058152602001640352e302e360dc1b81525081565b34801561068657600080fd5b506105747f000000000000000000000000000000000000000000000000000000000000000081565b3480156106ba57600080fd5b506106c361125b565b6040516001600160401b0390911681526020016102ae565b3480156106e757600080fd5b506103276106f636600461446f565b61128e565b34801561070757600080fd5b506102d76112ab565b34801561071c57600080fd5b5061030561072b36600461451c565b611337565b34801561073c57600080fd5b5061030561074b36600461456c565b6113a0565b34801561075c57600080fd5b506102d7611487565b34801561077157600080fd5b50610785610780366004614605565b6114dd565b604080519283526020830191909152016102ae565b3480156107a657600080fd5b506103056107b5366004614605565b61155a565b6107cd6107c8366004614008565b61179f565b6040516102ae9190614646565b6103056107e8366004614008565b611a10565b3480156107f957600080fd5b506105747f000000000000000000000000000000000000000000000000000000000000000081565b34801561082d57600080fd5b506102d761083c366004613d46565b611c13565b34801561084d57600080fd5b5061032761085c3660046146aa565b611d55565b34801561086d57600080fd5b5061030561087c366004614712565b611d71565b34801561088d57600080fd5b506105fa604051806040016040528060058152602001640312e332e360dc1b81525081565b60006108bd82611dd4565b806108d857506001600160e01b031982166307f5828d60e41b145b92915050565b60006108d86108eb611e64565b6108f484611c13565b60405161190160f01b8152600281019290925260228201526042902090565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061094c5750333014155b1561096a57604051630796d94560e01b815260040160405180910390fd5b61097b878787878787876001611f8f565b50505050505050565b600061098e612185565b50630a85bd0160e11b949350505050565b60006109a9612185565b6109b484848461222a565b90505b9392505050565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610a0957604051636b31ba1560e11b815260040160405180910390fd5b610a11612185565b610a2384610a1e866108de565b61244e565b90506109b782612496565b60606000600080516020614e1683398151915260028101805460408051602080840282018101909252828152939450830182828015610a8c57602002820191906000526020600020905b815481526020019060010190808311610a78575b505050505091505090565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610b0d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d8919061472f565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610b6a5750333014155b15610b8857604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed0101590610bd4908490600401614877565b600060405180830381600087803b158015610bee57600080fd5b505af1158015610c02573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610c71573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d89190614953565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610cce5750333014155b15610cec57604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690634993404790610bd4908490600401614877565b610d40612185565b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b158015610bee57600080fd5b610daa61252d565b610db482826125ea565b5050565b6000610dc2612605565b50600080516020614e5683398151915290565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610e1e57604051636b31ba1560e11b815260040160405180910390fd5b610db4610e2e6020830183614712565b6020830135610e406040850185614970565b61264e565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610e7e5750333014155b15610e9c57604051630796d94560e01b815260040160405180910390fd5b610ea66000612684565b565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805460ff8b81169291600160401b90041680610ef2575080546001600160401b03808416911610155b15610f105760405163f92ee8a960e01b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b178155336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610f6a5750333014155b15610f8857604051630796d94560e01b815260040160405180910390fd5b610f988a8a8a8a8a8a8a8a611f8f565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15050505050505050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906110255750333014155b1561104357604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156110ad57600080fd5b505af11580156110c1573d6000803e3d6000fd5b505050505050565b60006110d3611e64565b905090565b6000606080600080600060606110ec612726565b6110f4612753565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff1615906001600160401b03166000811580156111635750825b90506000826001600160401b0316600114801561117f5750303b155b90508115801561118d575080155b156111ab5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156111d557845460ff60401b1916600160401b1785555b6111e68c8c8c8c8c8c8c6000611f8f565b831561122c57845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050505050565b60006110d3600080516020614e56833981519152546001600160a01b031690565b60006110d37ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00546001600160401b031690565b6000611298612185565b5063bc197c8160e01b5b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015611313573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110d3919061472f565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906113705750333014155b1561138e57604051630796d94560e01b815260040160405180910390fd5b61139a84848484612780565b50505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906113d95750333014155b156113f757604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061144d90899089908990899089908990600401614a17565b600060405180830381600087803b15801561146757600080fd5b505af115801561147b573d6000803e3d6000fd5b50505050505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a906044016112f6565b60008080600080516020614e1683398151915290506000816001016000878760405160200161150d929190614a80565b60408051601f198184030181529181528151602092830120835282820193909352908201600020825180840190935280548084526001909101549290910182905297909650945050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906115935750333014155b156115b157604051630796d94560e01b815260040160405180910390fd5b604051600080516020614e16833981519152906000906115d79085908590602001614a80565b60408051601f198184030181528282528051602091820120600081815260018088018452908490208585019094528354808652930154918401829052935081158015611621575080155b1561164757604051631a36430d60e31b8152600481018590526024015b60405180910390fd5b6002850154600181148015611664575085546001600160a01b0316155b156116825760405163c4c8547360e01b815260040160405180910390fd5b60005b611690600183614aa6565b81101561171557858760020182815481106116ad576116ad614ab9565b90600052602060002001540361170d57600287016116cc600184614aa6565b815481106116dc576116dc614ab9565b90600052602060002001548760020182815481106116fc576116fc614ab9565b600091825260209091200155611715565b600101611685565b508560020180548061172957611729614acf565b60008281526020808220830160001990810183905590920190925586825260018881018252604080842084815590910192909255815185815290810184905286917facf0e8088062f44f734bbcb5223794fd8bb6f6db1c199cb6a72df119d002a71b910160405180910390a25050505050505050565b6060336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146117ea57604051630692ce8160e21b815260040160405180910390fd5b83600881901b6117fe82600160f81b6128fd565b1561187f57366000611810878761290f565b90925090506118208360006128fd565b156118365761182f82826129a8565b9450611878565b61184483600160f81b6128fd565b156118535761182f8282612a69565b6040516308c3ee0360e11b81526001600160f81b03198416600482015260240161163e565b5050611a07565b61188a8260006128fd565b156119e25760008036600061189f8989612b96565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816118be57905050965060006118e186826128fd565b15611915576118f28585858561264e565b8860008151811061190557611905614ab9565b60200260200101819052506119d8565b61192386600160f81b6128fd565b156119b35761193485858585612be7565b8960008151811061194757611947614ab9565b60209081029190910101529050806119ae577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008960008151811061198f5761198f614ab9565b60200260200101516040516119a5929190614ae5565b60405180910390a15b6119d8565b6040516308c3ee0360e11b81526001600160f81b03198716600482015260240161163e565b5050505050611a07565b604051632e5bf3f960e21b81526001600160f81b03198316600482015260240161163e565b50509392505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611a5957604051636b31ba1560e11b815260040160405180910390fd5b82600881901b611a6d82600160f81b6128fd565b15611ac857366000611a7f868661290f565b9092509050611a8f8360006128fd565b15611aa457611a9e82826129a8565b50611ac1565b611ab283600160f81b6128fd565b1561185357611a9e8282612a69565b5050610c02565b611ad38260006128fd565b156119e257600080366000611ae88888612b96565b9350935093509350611afe85600060f81b6128fd565b15611b1557611b0f8484848461264e565b50611c0a565b611b2385600160f81b6128fd565b15611be557604080516001808252818301909252600091816020015b6060815260200190600190039081611b3f5790505090506000611b6486868686612be7565b83600081518110611b7757611b77614ab9565b6020908102919091010152905080611bde577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb7600083600081518110611bbf57611bbf614ab9565b6020026020010151604051611bd5929190614ae5565b60405180910390a15b5050611c0a565b6040516308c3ee0360e11b81526001600160f81b03198616600482015260240161163e565b50505050610c02565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc18611c436020840184614712565b6020840135611c556040860186614970565b604051611c63929190614a80565b604051908190039020611c796060870187614970565b604051611c87929190614a80565b604051908190039020608087013560a088013560c0890135611cac60e08b018b614970565b604051611cba929190614a80565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b6000611d5f612185565b5063f23a6e6160e01b95945050505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611daa5750333014155b15611dc857604051630796d94560e01b815260040160405180910390fd5b611dd181612684565b50565b6000611dde612185565b6001600160e01b031982166335a4725960e21b1480611e0d57506001600160e01b03198216630a85bd0160e11b145b80611e2857506001600160e01b03198216630271189760e51b145b80611e4357506001600160e01b031982166301ffc9a760e01b145b806108d8575050630b135d3f60e11b6001600160e01b03198216145b919050565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015611ebd57507f000000000000000000000000000000000000000000000000000000000000000046145b15611ee757507f000000000000000000000000000000000000000000000000000000000000000090565b6110d3604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b856001600160a01b038916158015611fa5575080155b8015611fae5750815b15611fcc576040516312da594d60e11b815260040160405180910390fd5b8085141580611fdb5750808314155b1561200a5760405163a297991b60e01b815260048101829052602481018690526044810184905260640161163e565b81156120ff57600080516020614e3683398151915254600080516020614e168339815191529080156120fc5760005b818110156120ed57600083600201828154811061205857612058614ab9565b6000918252602080832090910154808352600180880180845260408086208151808301835281548152938101805485880190815286895293909652869055949093558051925193519194509284927facf0e8088062f44f734bbcb5223794fd8bb6f6db1c199cb6a72df119d002a71b926120db9290918252602082015260400190565b60405180910390a25050600101612039565b506120fc600283016000613cd1565b50505b60005b818110156121705761216889898381811061211f5761211f614ab9565b90506020028101906121319190614970565b89898581811061214357612143614ab9565b9050602002013588888681811061215c5761215c614ab9565b90506020020135612780565b600101612102565b5061217a89612684565b505050505050505050565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148061220c57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316612200600080516020614e56833981519152546001600160a01b031690565b6001600160a01b031614155b15610ea65760405163703e46dd60e11b815260040160405180910390fd5b60008160418190036122c757600080516020614e16833981519152546001600160a01b03166001600160a01b03166122988686868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250612c1892505050565b6001600160a01b0316036122b65750630b135d3f60e11b90506109b7565b506001600160e01b031990506109b7565b60608110156122e157506001600160e01b031990506109b7565b600080516020614e1683398151915260006122ff6020828789614afe565b61230891614b28565b60008181526001808501602090815260409283902083518085019094528054808552920154908301529192509015801561234457506020810151155b1561235e57506001600160e01b031993506109b792505050565b8360601480156123b257506123b28888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050855160208701519092509050612c42565b156123cb5750630b135d3f60e11b93506109b792505050565b8360601415801561242057506124208888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050855160208701519092509050612ce0565b156124395750630b135d3f60e11b93506109b792505050565b506001600160e01b031993506109b792505050565b60008061246883612463610100870187614970565b61222a565b90506374eca2c160e11b6001600160e01b031982160161248c5760009150506108d8565b5060019392505050565b8015611dd157604051600090339060001990849084818181858888f193505050503d80600081146124e3576040519150601f19603f3d011682016040523d82523d6000602084013e6124e8565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a25050565b600080516020614e3683398151915254600080516020614e168339815191529060005b818110156125a05782600101600084600201838154811061257357612573614ab9565b60009182526020808320909101548352820192909252604001812081815560019081019190915501612550565b506125af600283016000613cd1565b81546001600160a01b03191682556040517feb09d532980c3cc73dcad99b80e264204a667a54cbb7b63ec8d68dcb1c7096be90600090a15050565b6125f2612185565b6125fb82612d43565b610db48282612d9a565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610ea65760405163703e46dd60e11b815260040160405180910390fd5b60405181838237600038838387895af161266b573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b600080516020614e3683398151915254600080516020614e16833981519152901580156126b857506001600160a01b038216155b156126d65760405163c4c8547360e01b815260040160405180910390fd5b80546001600160a01b031981166001600160a01b03848116918217845560405192169182907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3505050565b60606110d37f00000000000000000000000000000000000000000000000000000000000000006000612e5c565b60606110d37f00000000000000000000000000000000000000000000000000000000000000006001612e5c565b61278a8282612f07565b6127b1576040516313c3d61f60e01b8152600481018390526024810182905260440161163e565b600084846040516020016127c6929190614a80565b6040516020818303038152906040528051906020012090508484905060000361280257604051637e25658160e11b815260040160405180910390fd5b60008181527fa2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694901602052604090208054600080516020614e1683398151915291901515806128525750600181015415155b15612873576040516361db108160e01b81526004810184905260240161163e565b604080518082018252868152602080820187815260008781526001808801845285822094518555915193820193909355600286018054918201815583529120018490555183907fd00539cb08a7c24166308150d64d603150c01baf89d3d3e4c6063d6db7c6983d906128ec908a908a908a908a90614b46565b60405180910390a250505050505050565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156129475763ba597e7e6000526004601cfd5b831561299e578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156129955763ba597e7e6000526004601cfd5b50505082612951575b5050509250929050565b606081806001600160401b038111156129c3576129c3613e99565b6040519080825280602002602001820160405280156129f657816020015b60608152602001906001900390816129e15790505b50915060005b81811015612a615736858583818110612a1757612a17614ab9565b9050602002810190612a299190614b6d565b9050612a3b610e2e6020830183614712565b848381518110612a4d57612a4d614ab9565b6020908102919091010152506001016129fc565b505092915050565b606081806001600160401b03811115612a8457612a84613e99565b604051908082528060200260200182016040528015612ab757816020015b6060815260200190600190039081612aa25790505b50915060005b81811015612a615736858583818110612ad857612ad8614ab9565b9050602002810190612aea9190614b6d565b90506000612b15612afe6020840184614712565b6020840135612b106040860186614970565b612be7565b868581518110612b2757612b27614ab9565b6020908102919091010152905080612b8c577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110612b6d57612b6d614ab9565b6020026020010151604051612b83929190614ae5565b60405180910390a15b5050600101612abd565b6000803681612ba86014828789614afe565b612bb191614b8d565b60601c9350612bc4603460148789614afe565b612bcd91614b28565b9250612bdc8560348189614afe565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080612c288686612f6a565b925092509250612c388282612fb7565b5090949350505050565b6000806000612c5086613070565b915091506000600288604051602001612c6b91815260200190565b60408051601f1981840301815290829052612c8591614bc0565b602060405180830381855afa158015612ca2573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190612cc5919061472f565b9050612cd48184848989613092565b98975050505050505050565b600080612cec85613241565b9050612d3986604051602001612d0491815260200190565b60408051601f198184030181529181528301516060840151608085015160a086015160c0870151875160208901518c8c6132bf565b9695505050505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590612d7c5750333014155b15611dd157604051630796d94560e01b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015612df4575060408051601f3d908101601f19168201909252612df19181019061472f565b60015b612e1c57604051634c9c8ce360e01b81526001600160a01b038316600482015260240161163e565b600080516020614e568339815191528114612e4d57604051632a87526960e21b81526004810182905260240161163e565b612e57838361345d565b505050565b606060ff8314612e7657612e6f836134b3565b90506108d8565b818054612e8290614bd2565b80601f0160208091040260200160405190810160405280929190818152602001828054612eae90614bd2565b8015612efb5780601f10612ed057610100808354040283529160200191612efb565b820191906000526020600020905b815481529060010190602001808311612ede57829003601f168201915b505050505090506108d8565b60006109b76ffffffffeffffffffffffffffffffffff60601b197fffffffff00000001000000000000000000000000fffffffffffffffffffffffc7f5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b86866134f2565b60008060008351604103612fa45760208401516040850151606086015160001a612f968882858561359d565b955095509550505050612fb0565b50508151600091506002905b9250925092565b6000826003811115612fcb57612fcb614c06565b03612fd4575050565b6001826003811115612fe857612fe8614c06565b036130065760405163f645eedf60e01b815260040160405180910390fd5b600282600381111561301a5761301a614c06565b0361303b5760405163fce698f760e01b81526004810182905260240161163e565b600382600381111561304f5761304f614c06565b03610db4576040516335e2f38360e21b81526004810182905260240161163e565b600080828060200190518101906130879190614c1c565b909590945092505050565b60006130bf60027fffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551614c60565b8411156130ce575060006112a2565b6040805160208101889052908101869052606081018590526080810184905260a0810183905260009060c00160405160208183030381529060405290506000806101006001600160a01b0316836040516131289190614bc0565b600060405180830381855afa9150503d8060008114613163576040519150601f19603f3d011682016040523d82523d6000602084013e613168565b606091505b5080519193509150151582801561317c5750805b156131a35781806020019051810190613195919061472f565b6001149450505050506112a2565b60405163a1f3128160e01b8152600481018b9052602481018a905260448101899052606481018890526084810187905273__$b8f96b288d4d0429e38b8ed50fd423070f$__9063a1f312819060a401602060405180830381865af415801561320f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132339190614953565b9a9950505050505050505050565b6132836040518060e001604052806000815260200160008152602001606081526020016000151581526020016060815260200160608152602001600081525090565b818060200190518101906132979190614cc7565b60c089015260a088015260808701521515606086015260408501526020840152825250919050565b600060258a5110806132f957506132f78a6020815181106132e2576132e2614ab9565b01602001516001600160f81b0319168a61366c565b155b1561330657506000613233565b6000886133128d6136d2565b8960405160200161332593929190614d86565b60408051601f198184030181528282019091526015825274113a3cb832911d113bb2b130baba34371733b2ba1160591b6020830152915061336781838a6138df565b61337657600092505050613233565b60006002836040516133889190614bc0565b602060405180830381855afa1580156133a5573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906133c8919061472f565b9050600060028e836040516020016133e1929190614dc9565b60408051601f19818403018152908290526133fb91614bc0565b602060405180830381855afa158015613418573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061343b919061472f565b905061344a818a8a8a8a613092565b9f9e505050505050505050505050505050565b6134668261398e565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a28051156134ab57612e5782826139f3565b610db4613a60565b606060006134c083613a7f565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600082158015613500575081155b8061350b5750858310155b806135165750858210155b15613523575060006112a2565b6000868061353357613533614c4a565b83840990506000878061354857613548614c4a565b888061355657613556614c4a565b888709898061356757613567614c4a565b878b8061357657613576614c4a565b898a0909089050878061358b5761358b614c4a565b86820891909114979650505050505050565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08411156135d85750600091506003905082613662565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa15801561362c573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b03811661365857506000925060019150829050613662565b9250600091508190505b9450945094915050565b6000600160f81b83811614613683575060006108d8565b8180156136965750600160fa1b83811614155b156136a3575060006108d8565b600160fb1b838116146136c957600f60fc1b600160fc1b8416016136c9575060006108d8565b50600192915050565b606060006136df83613aa7565b9050600081905060006002825111801561372a575081600283516137039190614aa6565b8151811061371357613713614ab9565b6020910101516001600160f81b031916603d60f81b145b1561373757506002613782565b60018251118015613779575081600183516137529190614aa6565b8151811061376257613762614ab9565b6020910101516001600160f81b031916603d60f81b145b15613782575060015b60008183516137919190614aa6565b90506000816001600160401b038111156137ad576137ad613e99565b6040519080825280601f01601f1916602001820160405280156137d7576020820181803683370190505b50905060005b828110156138d4578481815181106137f7576137f7614ab9565b01602001516001600160f81b031916602b60f81b0361384357602d60f81b82828151811061382757613827614ab9565b60200101906001600160f81b031916908160001a9053506138cc565b84818151811061385557613855614ab9565b01602001516001600160f81b031916602f60f81b0361388557605f60f81b82828151811061382757613827614ab9565b84818151811061389757613897614ab9565b602001015160f81c60f81b8282815181106138b4576138b4614ab9565b60200101906001600160f81b031916908160001a9053505b6001016137dd565b509695505050505050565b825182516000918591859190845b8281101561397f57816139008289614deb565b10613913576000955050505050506109b7565b8361391e8289614deb565b8151811061392e5761392e614ab9565b602001015160f81c60f81b6001600160f81b03191685828151811061395557613955614ab9565b01602001516001600160f81b03191614613977576000955050505050506109b7565b6001016138ed565b50600198975050505050505050565b806001600160a01b03163b6000036139c457604051634c9c8ce360e01b81526001600160a01b038216600482015260240161163e565b600080516020614e5683398151915280546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b031684604051613a109190614bc0565b600060405180830381855af49150503d8060008114613a4b576040519150601f19603f3d011682016040523d82523d6000602084013e613a50565b606091505b50915091506112a2858383613acd565b3415610ea65760405163b398979f60e01b815260040160405180910390fd5b600060ff8216601f8111156108d857604051632cd44ac360e21b815260040160405180910390fd5b60606108d882604051806060016040528060408152602001614e76604091396001613b29565b606082613ae257613add82613ca8565b6109b7565b8151158015613af957506001600160a01b0384163b155b15613b2257604051639996b31560e01b81526001600160a01b038516600482015260240161163e565b50806109b7565b60608351600003613b4957506040805160208101909152600081526109b7565b600082613b7a57600385516004613b609190614dfe565b613b6b906002614deb565b613b759190614c60565b613b9f565b600385516002613b8a9190614deb565b613b949190614c60565b613b9f906004614dfe565b90506000816001600160401b03811115613bbb57613bbb613e99565b6040519080825280601f01601f191660200182016040528015613be5576020820181803683370190505b50905060018501602082018788518901602081018051600082525b82841015613c5b576003840193508351603f8160121c168701518653600186019550603f81600c1c168701518653600186019550603f8160061c168701518653600186019550603f8116870151865350600185019450613c00565b905250508515613c9c57600388510660018114613c7f5760028114613c9257613c9a565b603d6001830353603d6002830353613c9a565b603d60018303535b505b50909695505050505050565b805115613cb85780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b5080546000825590600052602060002090810190611dd191905b80821115613cff5760008155600101613ceb565b5090565b600060208284031215613d1557600080fd5b81356001600160e01b0319811681146109b757600080fd5b60006101208284031215613d4057600080fd5b50919050565b600060208284031215613d5857600080fd5b81356001600160401b03811115613d6e57600080fd5b613d7a84828501613d2d565b949350505050565b6001600160a01b0381168114611dd157600080fd5b8035611e5f81613d82565b60008083601f840112613db457600080fd5b5081356001600160401b03811115613dcb57600080fd5b6020830191508360208260051b8501011115613de657600080fd5b9250929050565b60008060008060008060006080888a031215613e0857600080fd5b8735613e1381613d82565b965060208801356001600160401b0380821115613e2f57600080fd5b613e3b8b838c01613da2565b909850965060408a0135915080821115613e5457600080fd5b613e608b838c01613da2565b909650945060608a0135915080821115613e7957600080fd5b50613e868a828b01613da2565b989b979a50959850939692959293505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715613ed757613ed7613e99565b604052919050565b60006001600160401b03821115613ef857613ef8613e99565b50601f01601f191660200190565b600082601f830112613f1757600080fd5b8135613f2a613f2582613edf565b613eaf565b818152846020838601011115613f3f57600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215613f7257600080fd5b8435613f7d81613d82565b93506020850135613f8d81613d82565b92506040850135915060608501356001600160401b03811115613faf57600080fd5b613fbb87828801613f06565b91505092959194509250565b60008083601f840112613fd957600080fd5b5081356001600160401b03811115613ff057600080fd5b602083019150836020828501011115613de657600080fd5b60008060006040848603121561401d57600080fd5b8335925060208401356001600160401b0381111561403a57600080fd5b61404686828701613fc7565b9497909650939450505050565b60008060006060848603121561406857600080fd5b83356001600160401b0381111561407e57600080fd5b61408a86828701613d2d565b9660208601359650604090950135949350505050565b6020808252825182820181905260009190848201906040850190845b81811015613c9c578351835292840192918401916001016140bc565b6000602082840312156140ea57600080fd5b81356001600160c01b03811681146109b757600080fd5b60006020828403121561411357600080fd5b81356001600160401b0381111561412957600080fd5b820160c081850312156109b757600080fd5b60006020828403121561414d57600080fd5b5035919050565b6000806040838503121561416757600080fd5b823561417281613d82565b915060208301356001600160401b0381111561418d57600080fd5b61419985828601613f06565b9150509250929050565b6000602082840312156141b557600080fd5b81356001600160401b038111156141cb57600080fd5b8201606081850312156109b757600080fd5b8015158114611dd157600080fd5b8035611e5f816141dd565b600080600080600080600080600060c08a8c03121561421457600080fd5b893560ff8116811461422557600080fd5b985061423360208b01613d97565b975060408a01356001600160401b038082111561424f57600080fd5b61425b8d838e01613da2565b909950975060608c013591508082111561427457600080fd5b6142808d838e01613da2565b909750955060808c013591508082111561429957600080fd5b506142a68c828d01613da2565b90945092506142b9905060a08b016141eb565b90509295985092959850929598565b600080604083850312156142db57600080fd5b82356142e681613d82565b946020939093013593505050565b60005b8381101561430f5781810151838201526020016142f7565b50506000910152565b600081518084526143308160208601602086016142f4565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e0602084015261436560e084018a614318565b8381036040850152614377818a614318565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156143cb578351835292840192918401916001016143af565b50909c9b505050505050505050505050565b6020815260006109b76020830184614318565b600082601f83011261440157600080fd5b813560206001600160401b0382111561441c5761441c613e99565b8160051b61442b828201613eaf565b928352848101820192828101908785111561444557600080fd5b83870192505b848310156144645782358252918301919083019061444b565b979650505050505050565b600080600080600060a0868803121561448757600080fd5b853561449281613d82565b945060208601356144a281613d82565b935060408601356001600160401b03808211156144be57600080fd5b6144ca89838a016143f0565b945060608801359150808211156144e057600080fd5b6144ec89838a016143f0565b9350608088013591508082111561450257600080fd5b5061450f88828901613f06565b9150509295509295909350565b6000806000806060858703121561453257600080fd5b84356001600160401b0381111561454857600080fd5b61455487828801613fc7565b90989097506020870135966040013595509350505050565b6000806000806000806060878903121561458557600080fd5b86356001600160401b038082111561459c57600080fd5b6145a88a838b01613da2565b909850965060208901359150808211156145c157600080fd5b6145cd8a838b01613da2565b909650945060408901359150808211156145e657600080fd5b506145f389828a01613da2565b979a9699509497509295939492505050565b6000806020838503121561461857600080fd5b82356001600160401b0381111561462e57600080fd5b61463a85828601613fc7565b90969095509350505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b8281101561469d57603f1988860301845261468b858351614318565b9450928501929085019060010161466f565b5092979650505050505050565b600080600080600060a086880312156146c257600080fd5b85356146cd81613d82565b945060208601356146dd81613d82565b9350604086013592506060860135915060808601356001600160401b0381111561470657600080fd5b61450f88828901613f06565b60006020828403121561472457600080fd5b81356109b781613d82565b60006020828403121561474157600080fd5b5051919050565b6000808335601e1984360301811261475f57600080fd5b83016020810192503590506001600160401b0381111561477e57600080fd5b803603821315613de657600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561486957858403601f19018a52823536899003605e190181126147f5578283fd5b88016060813561480481613d82565b6001600160a01b0316865261481b82880183614748565b828989015261482d838901828461478d565b92505050604061483f81840184614748565b93508783038289015261485383858361478d565b9d89019d975050509386019350506001016147d0565b509198975050505050505050565b602081526000823561488881613d82565b6001600160a01b03908116602084810191909152840135906148a982613d82565b80821660408501525050604083013560608301526060830135601e198436030181126148d457600080fd5b83016020810190356001600160401b038111156148f057600080fd5b8060051b360382131561490257600080fd5b60c0608085015261491760e0850182846147b6565b915050608084013560a084015261493160a0850185614748565b848303601f190160c0860152612d3983828461478d565b8051611e5f816141dd565b60006020828403121561496557600080fd5b81516109b7816141dd565b6000808335601e1984360301811261498757600080fd5b8301803591506001600160401b038211156149a157600080fd5b602001915036819003821315613de657600080fd5b6000838385526020808601955060208560051b8301018460005b87811015614a0a57848303601f190189526149eb8288614748565b6149f685828461478d565b9a86019a94505050908301906001016149d0565b5090979650505050505050565b606081526000614a2b60608301888a6149b6565b8281036020848101919091528682528791810160005b88811015614a5d57833582529282019290820190600101614a41565b508481036040860152614a718187896149b6565b9b9a5050505050505050505050565b8183823760009101908152919050565b634e487b7160e01b600052601160045260246000fd5b818103818111156108d8576108d8614a90565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052603160045260246000fd5b8281526040602082015260006109b46040830184614318565b60008085851115614b0e57600080fd5b83861115614b1b57600080fd5b5050820193919092039150565b803560208310156108d857600019602084900360031b1b1692915050565b606081526000614b5a60608301868861478d565b6020830194909452506040015292915050565b60008235605e19833603018112614b8357600080fd5b9190910192915050565b6bffffffffffffffffffffffff198135818116916014851015612a615760149490940360031b84901b1690921692915050565b60008251614b838184602087016142f4565b600181811c90821680614be657607f821691505b602082108103613d4057634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fd5b600080600060608486031215614c3157600080fd5b8351925060208401519150604084015190509250925092565b634e487b7160e01b600052601260045260246000fd5b600082614c7d57634e487b7160e01b600052601260045260246000fd5b500490565b600082601f830112614c9357600080fd5b8151614ca1613f2582613edf565b818152846020838601011115614cb657600080fd5b613d7a8260208301602087016142f4565b600080600080600080600080610100898b031215614ce457600080fd5b88519750602089015196506040890151955060608901516001600160401b0380821115614d1057600080fd5b614d1c8c838d01614c82565b9650614d2a60808c01614948565b955060a08b0151915080821115614d4057600080fd5b614d4c8c838d01614c82565b945060c08b0151915080821115614d6257600080fd5b50614d6f8b828c01614c82565b92505060e089015190509295985092959890939650565b60008451614d988184602089016142f4565b845190830190614dac8183602089016142f4565b8451910190614dbf8183602088016142f4565b0195945050505050565b60008351614ddb8184602088016142f4565b9190910191825250602001919050565b808201808211156108d8576108d8614a90565b80820281158282048414176108d8576108d8614a9056fea2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694900a2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694902360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc4142434445464748494a4b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f707172737475767778797a303132333435363738392b2fa2646970667358221220d641f685fbc825f5c1c752f10b46c0f81d9143a8b41e10871b92196f03c53fe864736f6c63430008170033";ee({},{abi:()=>Cn,bytecode:()=>kn});var Cn=[],kn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212203d81846f7dee1e1b6ac5ec7facf37349f677e4fb70664eb5852e6414aa31b93064736f6c63430008170033",In={};ee(In,{abi:()=>Pn,bytecode:()=>On});var Pn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getIsUsed",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegator",type:"address",internalType:"address"},{name:"_id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"id_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"UsedId",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],On="0x608060405234801561001057600080fd5b50610518806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063595dce4814610083578063a145832a146100ab578063b99deb0e146100be578063d3eddcc514610067578063ed46336714610067575b600080fd5b610081610075366004610379565b50505050505050505050565b005b610096610091366004610446565b6100df565b60405190151581526020015b60405180910390f35b6100816100b9366004610379565b610116565b6100d16100cc366004610482565b61028c565b6040519081526020016100a2565b6001600160a01b03808416600090815260208181526040808320938616835292905290812061010e90836102ef565b949350505050565b85600881901b6001600160f81b03198116156101875760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101948c8c61028c565b90506101a13385836100df565b156101ee5760405162461bcd60e51b815260206004820152601a60248201527f4964456e666f726365723a69642d616c72656164792d75736564000000000000604482015260640161017e565b336000908152602081815260408083206001600160a01b03881684528252808320600885901c845290915290208054600160ff84161b179055826001600160a01b0316846001600160a01b0316336001600160a01b03167f6286af1aaf28b34723a53056e5608eabb40c823d1ce093ff371cf08c502431d68460405161027691815260200190565b60405180910390a4505050505050505050505050565b6000602082146102de5760405162461bcd60e51b815260206004820152601f60248201527f4964456e666f726365723a696e76616c69642d7465726d732d6c656e67746800604482015260640161017e565b6102e882846104c4565b9392505050565b600881901c600090815260208390526040902054600160ff83161b1615155b92915050565b60008083601f84011261032657600080fd5b50813567ffffffffffffffff81111561033e57600080fd5b60208301915083602082850101111561035657600080fd5b9250929050565b80356001600160a01b038116811461037457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561039857600080fd5b8a3567ffffffffffffffff808211156103b057600080fd5b6103bc8e838f01610314565b909c509a5060208d01359150808211156103d557600080fd5b6103e18e838f01610314565b909a50985060408d0135975060608d013591508082111561040157600080fd5b5061040e8d828e01610314565b90965094505060808b0135925061042760a08c0161035d565b915061043560c08c0161035d565b90509295989b9194979a5092959850565b60008060006060848603121561045b57600080fd5b6104648461035d565b92506104726020850161035d565b9150604084013590509250925092565b6000806020838503121561049557600080fd5b823567ffffffffffffffff8111156104ac57600080fd5b6104b885828601610314565b90969095509350505050565b8035602083101561030e57600019602084900360031b1b169291505056fea26469706673582212204a96dd3b9054d6055c3a36da342d1ecb848915fb596c41cf0571e73299243bf864736f6c63430008170033",Mn={};ee(Mn,{abi:()=>Rn,bytecode:()=>Nn});var Rn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"callCounts",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"count",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"limit_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"IncreasedCount",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"callCount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Nn="0x608060405234801561001057600080fd5b506104e9806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806319054d8914610067578063414c3e33146100a1578063a145832a146100bd578063b99deb0e146100d0578063d3eddcc5146100a1578063ed463367146100a1575b600080fd5b61008f6100753660046102ec565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100bb6100af36600461035f565b50505050505050505050565b005b6100bb6100cb36600461035f565b6100e3565b61008f6100de36600461042c565b610244565b85600881901b6100f48160006102b9565b6101535760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101608c8c610244565b33600090815260208181526040808320898452909152812080549293509091829061018a9061046e565b91829055509050818111156101ed5760405162461bcd60e51b815260206004820152602360248201527f4c696d6974656443616c6c73456e666f726365723a6c696d69742d657863656560448201526219195960ea1b606482015260840161014a565b604080518381526020810183905287916001600160a01b0387169133917f449da07f2c06c9d1a6b19d2454ffe749e8cf991d22f686e076a1a4844c5ff370910160405180910390a450505050505050505050505050565b6000602082146102a85760405162461bcd60e51b815260206004820152602960248201527f4c696d6974656443616c6c73456e666f726365723a696e76616c69642d7465726044820152680dae65ad8cadccee8d60bb1b606482015260840161014a565b6102b28284610495565b9392505050565b6001600160f81b0319828116908216145b92915050565b80356001600160a01b03811681146102e757600080fd5b919050565b600080604083850312156102ff57600080fd5b610308836102d0565b946020939093013593505050565b60008083601f84011261032857600080fd5b50813567ffffffffffffffff81111561034057600080fd5b60208301915083602082850101111561035857600080fd5b9250929050565b60008060008060008060008060008060e08b8d03121561037e57600080fd5b8a3567ffffffffffffffff8082111561039657600080fd5b6103a28e838f01610316565b909c509a5060208d01359150808211156103bb57600080fd5b6103c78e838f01610316565b909a50985060408d0135975060608d01359150808211156103e757600080fd5b506103f48d828e01610316565b90965094505060808b0135925061040d60a08c016102d0565b915061041b60c08c016102d0565b90509295989b9194979a5092959850565b6000806020838503121561043f57600080fd5b823567ffffffffffffffff81111561045657600080fd5b61046285828601610316565b90969095509350505050565b60006001820161048e57634e487b7160e01b600052601160045260246000fd5b5060010190565b803560208310156102ca57600019602084900360031b1b169291505056fea264697066735822122058fb87f0b8e8aa4745b9ef395d8bd725c313f876828d7be4c479f4049d6644ac64736f6c63430008170033";ee({},{abi:()=>Ln,bytecode:()=>Dn});var Ln=[{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"}],Dn="0x";ee({},{abi:()=>Bn,bytecode:()=>jn});var Bn=[],jn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220f3b6a0af2d4dff4702805c39f40ed768201654e38f4d05a5ef7ae0498666b77964736f6c63430008170033",Un={};ee(Un,{abi:()=>Fn,bytecode:()=>$n});var Fn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"initialAmount_",type:"uint256",internalType:"uint256"},{name:"maxAmount_",type:"uint256",internalType:"uint256"},{name:"amountPerSecond_",type:"uint256",internalType:"uint256"},{name:"startTime_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"streamingAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"initialAmount",type:"uint256",internalType:"uint256"},{name:"maxAmount",type:"uint256",internalType:"uint256"},{name:"amountPerSecond",type:"uint256",internalType:"uint256"},{name:"startTime",type:"uint256",internalType:"uint256"},{name:"spent",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"initialAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"maxAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"amountPerSecond",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startTime",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"},{name:"lastUpdateTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],$n="0x608060405234801561001057600080fd5b506109a4806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100e9578063fb7d2c5b1461010a57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610765565b50505050505050505050565b005b61009c6100ac366004610765565b610177565b6100c46100bf366004610832565b61025c565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b6100fc6100f7366004610874565b610338565b6040519081526020016100e0565b61014f610118366004610874565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100e0565b856101838160006103a3565b6101d45760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101e58160006103a3565b61023f5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101cb565b5061024e8c8c898989886103ba565b505050505050505050505050565b6000808080608085146102cb5760405162461bcd60e51b815260206004820152603160248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101cb565b6102d960206000878961089e565b6102e2916108c8565b93506102f260406020878961089e565b6102fb916108c8565b925061030b60606040878961089e565b610314916108c8565b915061032460806060878961089e565b61032d916108c8565b939692955090935050565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a0810183528154815260018201549381019390935260028101549183019190915260038101546060830152600481015460808301529061039b9061062e565b949350505050565b6001600160f81b0319828116908216145b92915050565b60006103c685856106af565b50509150506000806000806103db8b8b61025c565b93509350935093508383101561044b5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e7660448201526e185b1a590b5b585e0b585b5bdd5b9d608a1b60648201526084016101cb565b600081116104b85760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e76604482015273616c69642d7a65726f2d73746172742d74696d6560601b60648201526084016101cb565b336000908152602081815260408083208a8452909152812060048101549091036104f5578481556001810184905560028101839055600381018290555b6040805160a081018252825481526001830154602082015260028301549181019190915260038201546060820152600482015460808201526105369061062e565b86111561059d5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a616c6c60448201526e1bddd85b98d94b595e18d959591959608a1b60648201526084016101cb565b858160040160008282546105b191906108fc565b9091555050600481015460408051878152602081018790529081018590526060810184905260808101919091524260a082015288906001600160a01b0389169033907fa4d5df1d290378aabb8f054b2f3100faf35e2266bb7fbe661f947dfc686704ae9060c00160405180910390a4505050505050505050505050565b6000816060015142101561064457506000919050565b6000826060015142610656919061090f565b9050600081846040015161066a9190610922565b845161067691906108fc565b9050836020015181111561068b575060208301515b808460800151106106a0575060009392505050565b608084015161039b908261090f565b60008036816106c1601482878961089e565b6106ca91610939565b60601c93506106dd60346014878961089e565b6106e6916108c8565b92506106f5856034818961089e565b949793965094505050565b60008083601f84011261071257600080fd5b50813567ffffffffffffffff81111561072a57600080fd5b60208301915083602082850101111561074257600080fd5b9250929050565b80356001600160a01b038116811461076057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561078457600080fd5b8a3567ffffffffffffffff8082111561079c57600080fd5b6107a88e838f01610700565b909c509a5060208d01359150808211156107c157600080fd5b6107cd8e838f01610700565b909a50985060408d0135975060608d01359150808211156107ed57600080fd5b506107fa8d828e01610700565b90965094505060808b0135925061081360a08c01610749565b915061082160c08c01610749565b90509295989b9194979a5092959850565b6000806020838503121561084557600080fd5b823567ffffffffffffffff81111561085c57600080fd5b61086885828601610700565b90969095509350505050565b6000806040838503121561088757600080fd5b61089083610749565b946020939093013593505050565b600080858511156108ae57600080fd5b838611156108bb57600080fd5b5050820193919092039150565b803560208310156103b457600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103b4576103b46108e6565b818103818111156103b4576103b46108e6565b80820281158282048414176103b4576103b46108e6565b6bffffffffffffffffffffffff1981358181169160148510156109665780818660140360031b1b83161692505b50509291505056fea264697066735822122052704058a3717c34d4c81be20ba9801f9b76f6f0c65ef9abba014d246806f21f64736f6c63430008170033";ee({},{abi:()=>zn,bytecode:()=>Hn});var zn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],Hn="0x608060405234801561001057600080fd5b50610263806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063d3eddcc51461008b578063e38ad59014610099578063ed4633671461005c575b600080fd5b61007661006a366004610139565b50505050505050505050565b005b610076610086366004610139565b6100b4565b610076610057366004610139565b6100a260005481565b60405190815260200160405180910390f35b6000805490806100c383610206565b919050555050505050505050505050565b60008083601f8401126100e657600080fd5b50813567ffffffffffffffff8111156100fe57600080fd5b60208301915083602082850101111561011657600080fd5b9250929050565b80356001600160a01b038116811461013457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561015857600080fd5b8a3567ffffffffffffffff8082111561017057600080fd5b61017c8e838f016100d4565b909c509a5060208d013591508082111561019557600080fd5b6101a18e838f016100d4565b909a50985060408d0135975060608d01359150808211156101c157600080fd5b506101ce8d828e016100d4565b90965094505060808b013592506101e760a08c0161011d565b91506101f560c08c0161011d565b90509295989b9194979a5092959850565b60006001820161022657634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220bcf0049f14343021d3eb32b64d949a39aec074b673cc386de61163856ad518a964736f6c63430008170033";ee({},{abi:()=>qn,bytecode:()=>Kn});var qn=[],Kn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122074ec8ae00f245173ca026cab4a450417e87849694c5e94ec4fdf9b92eee9682e64736f6c63430008170033";ee({},{abi:()=>Wn,bytecode:()=>Vn});var Wn=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"nonpayable"},{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]}],Vn="0x60a060405234801561001057600080fd5b50604051610fa1380380610fa183398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b608051610efc6100a560003960008181609c0152818160f8015281816102010152818161030201526103f60152610efc6000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610071578063d3eddcc514610084578063ea4d3c9b14610097578063ed463367146100da575b600080fd5b61006f61006a36600461084c565b6100ed565b005b61006f61007f36600461084c565b6101c7565b61006f61009236600461084c565b6102c8565b6100be7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b61006f6100e836600461084c565b6103bc565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461013e5760405162461bcd60e51b815260040161013590610918565b60405180910390fd5b6101bb8a8a8a8a6040518060a001604052808c81526020018b8b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018a90526001600160a01b03808a166040830152881660609091015263414c3e3360e01b6104ac565b50505050505050505050565b85600881901b6001600160f81b03198116156101f55760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461023e5760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b16604083015289166060909101526350a2c19560e11b6104ac565b5050505050505050505050565b85600881901b6001600160f81b03198116156102f65760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461033f5760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b166040830152891660609091015263d3eddcc560e01b6104ac565b85600881901b6001600160f81b03198116156103ea5760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104335760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b166040830152891660609091015263ed46336760e01b5b60006104ba86880188610af1565b905060006104ca85870187610cf3565b905081518160000151106105355760405162461bcd60e51b815260206004820152602c60248201527f4c6f676963616c4f7257726170706572456e666f726365723a696e76616c696460448201526b05acee4deeae05ad2dcc8caf60a31b6064820152608401610135565b60008282600001518151811061054d5761054d610ddb565b602002602001015190506000816000015151905080836020015151146105d15760405162461bcd60e51b815260206004820152603360248201527f4c6f676963616c4f7257726170706572456e666f726365723a696e76616c696460448201527205ac6c2eccac2e85ac2e4cee65ad8cadccee8d606b1b6064820152608401610135565b60005b818110156102bb576106a8836000015182815181106105f5576105f5610ddb565b602002602001015160000151878560000151848151811061061857610618610ddb565b6020026020010151602001518760200151858151811061063a5761063a610ddb565b60200260200101518b600001518c602001518d604001518e606001518f608001516040516024016106719796959493929190610e41565b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b0319909316929092179091526106b1565b506001016105d4565b60606106bf838360006106c6565b9392505050565b6060814710156106eb5760405163cd78605960e01b8152306004820152602401610135565b600080856001600160a01b031684866040516107079190610eaa565b60006040518083038185875af1925050503d8060008114610744576040519150601f19603f3d011682016040523d82523d6000602084013e610749565b606091505b5091509150610759868383610763565b9695505050505050565b60608261077857610773826107bf565b6106bf565b815115801561078f57506001600160a01b0384163b155b156107b857604051639996b31560e01b81526001600160a01b0385166004820152602401610135565b50806106bf565b8051156107cf5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b60008083601f8401126107fa57600080fd5b5081356001600160401b0381111561081157600080fd5b60208301915083602082850101111561082957600080fd5b9250929050565b80356001600160a01b038116811461084757600080fd5b919050565b60008060008060008060008060008060e08b8d03121561086b57600080fd5b8a356001600160401b038082111561088257600080fd5b61088e8e838f016107e8565b909c509a5060208d01359150808211156108a757600080fd5b6108b38e838f016107e8565b909a50985060408d0135975060608d01359150808211156108d357600080fd5b506108e08d828e016107e8565b90965094505060808b013592506108f960a08c01610830565b915061090760c08c01610830565b90509295989b9194979a5092959850565b60208082526030908201527f4c6f676963616c4f7257726170706572456e666f726365723a6f6e6c792d646560408201526f3632b3b0ba34b7b716b6b0b730b3b2b960811b606082015260800190565b60208082526025908201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6040820152642d7479706560d81b606082015260800190565b634e487b7160e01b600052604160045260246000fd5b604051602081016001600160401b03811182821017156109e5576109e56109ad565b60405290565b604051606081016001600160401b03811182821017156109e5576109e56109ad565b604080519081016001600160401b03811182821017156109e5576109e56109ad565b604051601f8201601f191681016001600160401b0381118282101715610a5757610a576109ad565b604052919050565b60006001600160401b03821115610a7857610a786109ad565b5060051b60200190565b600082601f830112610a9357600080fd5b81356001600160401b03811115610aac57610aac6109ad565b610abf601f8201601f1916602001610a2f565b818152846020838601011115610ad457600080fd5b816020850160208301376000918101602001919091529392505050565b600060208284031215610b0357600080fd5b6001600160401b0382351115610b1857600080fd5b8135820183601f820112610b2b57600080fd5b610b3d610b388235610a5f565b610a2f565b81358082526020808301929160051b840101861015610b5b57600080fd5b602083015b6020843560051b850101811015610ce9576001600160401b0381351115610b8657600080fd5b6020813585018803601f19011215610b9d57600080fd5b610ba56109c3565b6001600160401b0360208335870101351115610bc057600080fd5b81358501602081013501603f81018913610bd957600080fd5b610be9610b386020830135610a5f565b602082810135808352908201919060051b83016040018b1015610c0b57600080fd5b604083015b6040602085013560051b850101811015610cd6576001600160401b0381351115610c3957600080fd5b803584016060818e03603f19011215610c5157600080fd5b610c596109eb565b610c6560408301610830565b81526001600160401b0360608301351115610c7f57600080fd5b610c928e60406060850135850101610a82565b60208201526001600160401b0360808301351115610caf57600080fd5b610cc28e60406080850135850101610a82565b604082015284525060209283019201610c10565b5083525050835260209283019201610b60565b5095945050505050565b60006020808385031215610d0657600080fd5b82356001600160401b0380821115610d1d57600080fd5b9084019060408287031215610d3157600080fd5b610d39610a0d565b823581528383013582811115610d4e57600080fd5b80840193505086601f840112610d6357600080fd5b8235610d71610b3882610a5f565b81815260059190911b84018501908581019089831115610d9057600080fd5b8686015b83811015610dc857803586811115610dac5760008081fd5b610dba8c8a838b0101610a82565b845250918701918701610d94565b5095830195909552509695505050505050565b634e487b7160e01b600052603260045260246000fd5b60005b83811015610e0c578181015183820152602001610df4565b50506000910152565b60008151808452610e2d816020860160208601610df1565b601f01601f19169290920160200192915050565b60e081526000610e5460e083018a610e15565b8281036020840152610e66818a610e15565b90508760408401528281036060840152610e808188610e15565b608084019690965250506001600160a01b0392831660a0820152911660c090910152949350505050565b60008251610ebc818460208701610df1565b919091019291505056fea2646970667358221220849f3e028a14dd0caba34e88e124f67834a95e85298a8ec49d35e542d61e676b64736f6c63430008170033";ee({},{abi:()=>Gn,bytecode:()=>Yn});var Gn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],Yn="0x608060405234801561001057600080fd5b5061028c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780637c46d3c814610083578063a145832a1461009e578063d3eddcc5146100b1578063e38ad590146100c4578063ed46336714610067575b600080fd5b610081610075366004610162565b50505050505050505050565b005b61008c60015481565b60405190815260200160405180910390f35b6100816100ac366004610162565b6100cd565b6100816100bf366004610162565b6100ed565b61008c60005481565b6000805490806100dc8361022f565b919050555050505050505050505050565b600180549060006100dc8361022f565b60008083601f84011261010f57600080fd5b50813567ffffffffffffffff81111561012757600080fd5b60208301915083602082850101111561013f57600080fd5b9250929050565b80356001600160a01b038116811461015d57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561018157600080fd5b8a3567ffffffffffffffff8082111561019957600080fd5b6101a58e838f016100fd565b909c509a5060208d01359150808211156101be57600080fd5b6101ca8e838f016100fd565b909a50985060408d0135975060608d01359150808211156101ea57600080fd5b506101f78d828e016100fd565b90965094505060808b0135925061021060a08c01610146565b915061021e60c08c01610146565b90509295989b9194979a5092959850565b60006001820161024f57634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220fbb59fec9ec7bf6cdda251d9d498ff456d0623f22ca1f4ef5f02ab03744fc44c64736f6c63430008170033";ee({},{abi:()=>Jn,bytecode:()=>Zn});var Jn=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_argsEqualityCheckEnforcer",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"argsEqualityCheckEnforcer",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"ValidatedPayment",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!1,internalType:"address"},{name:"redeemer",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Zn="0x60c060405234801561001057600080fd5b506040516111b73803806111b783398101604081905261002f9161005e565b6001600160a01b039182166080521660a052610098565b6001600160a01b038116811461005b57600080fd5b50565b6000806040838503121561007157600080fd5b825161007c81610046565b602084015190925061008d81610046565b809150509250929050565b60805160a0516110e66100d16000396000818160a301526103c001526000818161011901528181610273015261065a01526110e66000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063b99deb0e1161005b578063b99deb0e146100e2578063d3eddcc514610082578063ea4d3c9b14610114578063ed4633671461013b57600080fd5b8063414c3e3314610082578063a145832a14610082578063a42ff9311461009e575b600080fd5b61009c6100903660046108d5565b50505050505050505050565b005b6100c57f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100f56100f03660046109a2565b61014e565b604080516001600160a01b0390931683526020830191909152016100d9565b6100c57f000000000000000000000000000000000000000000000000000000000000000081565b61009c6101493660046108d5565b6101fc565b600080603483146101be5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a696e76616c60448201526e0d2c85ae8cae4dae65ad8cadccee8d608b1b60648201526084015b60405180910390fd5b6101cc6014600085876109e4565b6101d591610a0e565b60601c91506101e783601481876109e4565b6101f091610a43565b60001c90509250929050565b85600881901b61020d8160006107ac565b6102675760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101b5565b50336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146102fb5760405162461bcd60e51b815260206004820152603260248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a6f6e6c792d6044820152713232b632b3b0ba34b7b716b6b0b730b3b2b960711b60648201526084016101b5565b6000806103088d8d61014e565b9092509050600061031b8b8d018d610c88565b905060008151116103945760405162461bcd60e51b815260206004820152603f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a696e76616c60448201527f69642d616c6c6f77616e63652d64656c65676174696f6e732d6c656e6774680060648201526084016101b5565b6000816000815181106103a9576103a9610dcd565b6020026020010151606001515111801561043057507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316816000815181106103fb576103fb610dcd565b60200260200101516060015160008151811061041957610419610dcd565b6020026020010151600001516001600160a01b0316145b6104a25760405162461bcd60e51b815260206004820152603c60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a6d6973736960448201527f6e672d61726773457175616c697479436865636b456e666f726365720000000060648201526084016101b5565b86856040516020016104d092919091825260601b6bffffffffffffffffffffffff1916602082015260340190565b604051602081830303815290604052816000815181106104f2576104f2610dcd565b60200260200101516060015160008151811061051057610510610dcd565b602090810291909101015160409081019190915280516001808252818301909252600091816020015b6060815260200190600190039081610539579050509050816040516020016105619190610e33565b6040516020818303038152906040528160008151811061058357610583610dcd565b6020908102919091010152604080516001808252818301909252600091816020015b60608152602001906001900390816105a55790505090506105d68585604051806020016040528060008152506107c3565b816000815181106105e9576105e9610dcd565b60209081029190910101526040805160018082528183019092526000918160200160208202803683370190505090506106206107f2565b8160008151811061063357610633610dcd565b602090810291909101015260405163cef6d20960e01b81526001600160a01b0380881631917f00000000000000000000000000000000000000000000000000000000000000009091169063cef6d2099061069590879086908890600401610fbf565b600060405180830381600087803b1580156106af57600080fd5b505af11580156106c3573d6000803e3d6000fd5b505050506001600160a01b038716316106dc8783611029565b8110156107435760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a7061796d6560448201526e1b9d0b5b9bdd0b5c9958d95a5d9959608a1b60648201526084016101b5565b604080516001600160a01b038d811682528c81166020830152918101899052908916908d9033907fac266e0d9b66169d0dc4479d531985bcec62dfd9d7992d0f6865afdbb7baa5e29060600160405180910390a450505050505050505050505050505050505050565b6001600160f81b0319828116908216145b92915050565b60608383836040516020016107da9392919061104a565b60405160208183030381529060405290509392505050565b600061080081808080610805565b905090565b604080516001600160f81b03198087166020830152851660218201526000602282018190526001600160e01b03198516602683015269ffffffffffffffffffff198416602a830152910160405160208183030381529060405261086790611089565b95945050505050565b60008083601f84011261088257600080fd5b50813567ffffffffffffffff81111561089a57600080fd5b6020830191508360208285010111156108b257600080fd5b9250929050565b80356001600160a01b03811681146108d057600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108f457600080fd5b8a3567ffffffffffffffff8082111561090c57600080fd5b6109188e838f01610870565b909c509a5060208d013591508082111561093157600080fd5b61093d8e838f01610870565b909a50985060408d0135975060608d013591508082111561095d57600080fd5b5061096a8d828e01610870565b90965094505060808b0135925061098360a08c016108b9565b915061099160c08c016108b9565b90509295989b9194979a5092959850565b600080602083850312156109b557600080fd5b823567ffffffffffffffff8111156109cc57600080fd5b6109d885828601610870565b90969095509350505050565b600080858511156109f457600080fd5b83861115610a0157600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610a3b5780818660140360031b1b83161692505b505092915050565b803560208310156107bd57600019602084900360031b1b1692915050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff81118282101715610a9a57610a9a610a61565b60405290565b60405160c0810167ffffffffffffffff81118282101715610a9a57610a9a610a61565b604051601f8201601f1916810167ffffffffffffffff81118282101715610aec57610aec610a61565b604052919050565b600067ffffffffffffffff821115610b0e57610b0e610a61565b5060051b60200190565b600082601f830112610b2957600080fd5b813567ffffffffffffffff811115610b4357610b43610a61565b610b56601f8201601f1916602001610ac3565b818152846020838601011115610b6b57600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f830112610b9957600080fd5b81356020610bae610ba983610af4565b610ac3565b82815260059290921b84018101918181019086841115610bcd57600080fd5b8286015b84811015610c7d57803567ffffffffffffffff80821115610bf25760008081fd5b908801906060828b03601f1901811315610c0c5760008081fd5b610c14610a77565b610c1f8885016108b9565b815260408085013584811115610c355760008081fd5b610c438e8b83890101610b18565b838b015250918401359183831115610c5b5760008081fd5b610c698d8a85880101610b18565b908201528652505050918301918301610bd1565b509695505050505050565b60006020808385031215610c9b57600080fd5b823567ffffffffffffffff80821115610cb357600080fd5b818501915085601f830112610cc757600080fd5b8135610cd5610ba982610af4565b81815260059190911b83018401908481019088831115610cf457600080fd5b8585015b83811015610dc057803585811115610d0f57600080fd5b860160c0818c03601f19011215610d265760008081fd5b610d2e610aa0565b610d398983016108b9565b81526040610d488184016108b9565b8a83015260608084013582840152608091508184013589811115610d6c5760008081fd5b610d7a8f8d83880101610b88565b82850152505060a0808401358284015260c0840135915088821115610d9f5760008081fd5b610dad8e8c84870101610b18565b9083015250845250918601918601610cf8565b5098975050505050505050565b634e487b7160e01b600052603260045260246000fd5b60005b83811015610dfe578181015183820152602001610de6565b50506000910152565b60008151808452610e1f816020860160208601610de3565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610f5857603f19888603018452815160c0860160018060a01b038083511688528089840151168989015260408301516040890152606083015160c060608a015282815180855260e08b01915060e08160051b8c010194508b8301925060005b81811015610f1c5760df198c870301835283518581511687528d81015160608f890152610eed6060890182610e07565b9050604082015191508781036040890152610f088183610e07565b97505050928c0192918c0191600101610ebd565b50505050506080820151608088015260a0820151915086810360a0880152610f448183610e07565b965050509285019290850190600101610e5a565b5092979650505050505050565b60008282518085526020808601955060208260051b8401016020860160005b84811015610fb257601f19868403018952610fa0838351610e07565b98840198925090830190600101610f84565b5090979650505050505050565b606081526000610fd26060830186610f65565b82810360208481019190915285518083528682019282019060005b8181101561100957845183529383019391830191600101610fed565b5050848103604086015261101d8187610f65565b98975050505050505050565b808201808211156107bd57634e487b7160e01b600052601160045260246000fd5b6bffffffffffffffffffffffff198460601b1681528260148201526000825161107a816034850160208701610de3565b91909101603401949350505050565b805160208083015191908110156110aa576000198160200360031b1b821691505b5091905056fea264697066735822122085080b51672c95cef1f0b772853b91117f909ad9d873a40d2cad7c2b29f5117c64736f6c63430008170033",Xn={};ee(Xn,{abi:()=>Qn,bytecode:()=>er});var Qn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],er="0x608060405234801561001057600080fd5b50610b57806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610893565b50505050505050505050565b005b6100b16100ac366004610960565b61017f565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df3660046109ba565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610893565b610255565b61016461015f3660046109e4565b61033a565b604080519384526020840192909252908201526060016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a0810183528154815260018201549381019390935260028101549183018290526003810154606084015260040154608083015282918291156101f4576101e8816103f0565b9350935093505061024b565b6000806000610203898961033a565b92509250925060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061023f816103f0565b97509750975050505050505b9450945094915050565b85610261816000610484565b6102b25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102c3816000610484565b61031d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102a9565b5061032c8c8c8989898861049b565b505050505050505050505050565b600080806060841461039b5760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152750e474d2dcecc2d8d2c85ae8cae4dae65ad8cadccee8d60531b60648201526084016102a9565b6103a9602060008688610a26565b6103b291610a50565b92506103c2604060208688610a26565b6103cb91610a50565b91506103db606060408688610a26565b6103e491610a50565b60001c90509250925092565b6000806000836040015142101561040f5750600091508190508061047d565b602084015160408501516104239042610a84565b61042d9190610a97565b610438906001610ab9565b905080846060015114159150600082610455578460800151610458565b60005b90508085600001511161046c576000610479565b8451610479908290610a84565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60006104a785856107dd565b505091505060008060006104bb8a8a61033a565b336000908152602081815260408083208c84529091528120600281015494975092955090935090919003610684576000821161054d5760405162461bcd60e51b81526020600482015260396024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d73746172742d646174650000000000000060648201526084016102a9565b600084116105b15760405162461bcd60e51b815260206004820152603c6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d616d6f756e740000000060648201526084016102a9565b600083116106155760405162461bcd60e51b815260206004820152603e6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d6475726174696f6e000060648201526084016102a9565b814210156106725760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152751c8e9d1c985b9cd9995c8b5b9bdd0b5cdd185c9d195960521b60648201526084016102a9565b83815560018101839055600281018290555b60008060006106cf846040518060a0016040529081600082015481526020016001820154815260200160028201548152602001600382015481526020016004820154815250506103f0565b925092509250828811156107395760405162461bcd60e51b815260206004820152603a6024820152600080516020610b0283398151915260448201527f723a7472616e736665722d616d6f756e742d657863656564656400000000000060648201526084016102a9565b811561074e5760038401819055600060048501555b878460040160008282546107629190610ab9565b909155505060028401546004850154604080518a8152602081018a90529081019290925260608201524260808201528a906001600160a01b038b169033907f22e1bbd8bc0380d336958afc37cd8cb128d6c43891ed276162c30e8df467734d9060a00160405180910390a45050505050505050505050505050565b60008036816107ef6014828789610a26565b6107f891610acc565b60601c935061080b603460148789610a26565b61081491610a50565b92506108238560348189610a26565b949793965094505050565b60008083601f84011261084057600080fd5b50813567ffffffffffffffff81111561085857600080fd5b60208301915083602082850101111561087057600080fd5b9250929050565b80356001600160a01b038116811461088e57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108b257600080fd5b8a3567ffffffffffffffff808211156108ca57600080fd5b6108d68e838f0161082e565b909c509a5060208d01359150808211156108ef57600080fd5b6108fb8e838f0161082e565b909a50985060408d0135975060608d013591508082111561091b57600080fd5b506109288d828e0161082e565b90965094505060808b0135925061094160a08c01610877565b915061094f60c08c01610877565b90509295989b9194979a5092959850565b6000806000806060858703121561097657600080fd5b8435935061098660208601610877565b9250604085013567ffffffffffffffff8111156109a257600080fd5b6109ae8782880161082e565b95989497509550505050565b600080604083850312156109cd57600080fd5b6109d683610877565b946020939093013593505050565b600080602083850312156109f757600080fd5b823567ffffffffffffffff811115610a0e57600080fd5b610a1a8582860161082e565b90969095509350505050565b60008085851115610a3657600080fd5b83861115610a4357600080fd5b5050820193919092039150565b8035602083101561049557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561049557610495610a6e565b600082610ab457634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561049557610495610a6e565b6bffffffffffffffffffffffff198135818116916014851015610af95780818660140360031b1b83161692505b50509291505056fe4e6174697665546f6b656e506572696f645472616e73666572456e666f726365a2646970667358221220ddbfb33bfc3119eae666e9c14c2e492d38eed690114f0ed176d6eb49d0bc21a364736f6c63430008170033";ee({},{abi:()=>tr,bytecode:()=>nr});var tr=[{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"nonceSequenceNumber",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],nr="0x",rr={};ee(rr,{abi:()=>ir,bytecode:()=>ar});var ir=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"currentNonce",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"nonce_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"incrementNonce",inputs:[{name:"_delegationManager",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"UsedNonce",inputs:[{name:"delegationManager",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],ar="0x608060405234801561001057600080fd5b5061050e806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063b99deb0e1161005b578063b99deb0e146100eb578063d3eddcc5146100bc578063ed463367146100bc578063f5743c4c146100fe57600080fd5b80632bd4ed2114610082578063414c3e33146100bc578063a145832a146100d8575b600080fd5b6100aa610090366004610314565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100d66100ca366004610390565b50505050505050505050565b005b6100d66100e6366004610390565b610111565b6100aa6100f936600461045d565b61020f565b6100d661010c36600461049f565b61027d565b85600881901b6101228160006102e1565b6101815760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b50600061018e8c8c61020f565b336000908152602081815260408083206001600160a01b038916845290915290205490915081146102015760405162461bcd60e51b815260206004820152601b60248201527f4e6f6e6365456e666f726365723a696e76616c69642d6e6f6e636500000000006044820152606401610178565b505050505050505050505050565b60006020821461026c5760405162461bcd60e51b815260206004820152602260248201527f4e6f6e6365456e666f726365723a696e76616c69642d7465726d732d6c656e676044820152610e8d60f31b6064820152608401610178565b61027682846104ba565b9392505050565b6001600160a01b038116600081815260208181526040808320338085529083529281902080546001810190915590518181529093917fe02d340254c92bc3ad96f0fceb790db939e11c669c1f4c8a549d248f17130b33910160405180910390a35050565b6001600160f81b0319828116908216145b92915050565b80356001600160a01b038116811461030f57600080fd5b919050565b6000806040838503121561032757600080fd5b610330836102f8565b915061033e602084016102f8565b90509250929050565b60008083601f84011261035957600080fd5b50813567ffffffffffffffff81111561037157600080fd5b60208301915083602082850101111561038957600080fd5b9250929050565b60008060008060008060008060008060e08b8d0312156103af57600080fd5b8a3567ffffffffffffffff808211156103c757600080fd5b6103d38e838f01610347565b909c509a5060208d01359150808211156103ec57600080fd5b6103f88e838f01610347565b909a50985060408d0135975060608d013591508082111561041857600080fd5b506104258d828e01610347565b90965094505060808b0135925061043e60a08c016102f8565b915061044c60c08c016102f8565b90509295989b9194979a5092959850565b6000806020838503121561047057600080fd5b823567ffffffffffffffff81111561048757600080fd5b61049385828601610347565b90969095509350505050565b6000602082840312156104b157600080fd5b610276826102f8565b803560208310156102f257600019602084900360031b1b169291505056fea26469706673582212205626dd2329dbdfa25ba379781a5be6c8fc6ae0eb3a22e9122f5d8207bb7de74564736f6c63430008170033",sr={};ee(sr,{abi:()=>or,bytecode:()=>cr});var or=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAllTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"tokens_",type:"address[]",internalType:"address[]"},{name:"periodAmounts_",type:"uint256[]",internalType:"uint256[]"},{name:"periodDurations_",type:"uint256[]",internalType:"uint256[]"},{name:"startDates_",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"pure"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_tokenIndex",type:"uint256",internalType:"uint256"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],cr="0x608060405234801561001057600080fd5b5061148b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c8063a145832a11610066578063a145832a1461014b578063d3eddcc5146100c4578063da8081c21461015e578063ed463367146100c4578063f5c7d74e146101c357600080fd5b806319de6ebc14610098578063414c3e33146100c4578063733c0d80146100e05780638572e3191461011d575b600080fd5b6100ab6100a6366004610f6f565b6101e4565b6040516100bb9493929190610fed565b60405180910390f35b6100de6100d2366004611094565b50505050505050505050565b005b6100f36100ee366004611161565b6104b6565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100bb565b61013061012b3660046111ad565b61062a565b604080519384529115156020840152908201526060016100bb565b6100de610159366004611094565b6106fc565b61019b61016c366004611237565b600060208190529081526040902080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100bb565b6101d66101d1366004611250565b6107de565b6040519081526020016100bb565b6060808080846101f56074826112a8565b15801561020157508015155b6102265760405162461bcd60e51b815260040161021d906112bc565b60405180910390fd5b600061023360748361130d565b90508067ffffffffffffffff81111561024e5761024e611321565b604051908082528060200260200182016040528015610277578160200160208202803683370190505b5095508067ffffffffffffffff81111561029357610293611321565b6040519080825280602002602001820160405280156102bc578160200160208202803683370190505b5094508067ffffffffffffffff8111156102d8576102d8611321565b604051908082528060200260200182016040528015610301578160200160208202803683370190505b5093508067ffffffffffffffff81111561031d5761031d611321565b604051908082528060200260200182016040528015610346578160200160208202803683370190505b50925060005b818110156104aa576000610361826074611337565b905089818a61037182601461134e565b9261037e93929190611361565b6103879161138b565b60601c88838151811061039c5761039c6113c0565b6001600160a01b039092166020928302919091019091015289896103c183601461134e565b906103cd84603461134e565b926103da93929190611361565b6103e3916113d6565b60001c8783815181106103f8576103f86113c0565b6020908102919091010152898961041083603461134e565b9061041c84605461134e565b9261042993929190611361565b610432916113d6565b60001c868381518110610447576104476113c0565b6020908102919091010152898961045f83605461134e565b9061046b84607461134e565b9261047893929190611361565b610481916113d6565b60001c858381518110610496576104966113c0565b60209081029190910101525060010161034c565b50505092959194509250565b60008080808580158015906104d357506104d16074826112a8565b155b6104ef5760405162461bcd60e51b815260040161021d906112bc565b60006104fc60748361130d565b90508087106105505760405162461bcd60e51b815260206004820152602c602482015260008051602061143683398151915260448201526b05ae8ded6cadc5ad2dcc8caf60a31b606482015260840161021d565b600061055d886074611337565b905089818a61056d82601461134e565b9261057a93929190611361565b6105839161138b565b60601c9650898961059583601461134e565b906105a184603461134e565b926105ae93929190611361565b6105b7916113d6565b955089896105c683603461134e565b906105d284605461134e565b926105df93929190611361565b6105e8916113d6565b945089896105f783605461134e565b9061060384607461134e565b9261061093929190611361565b610619916113d6565b60001c935050505093509350935093565b60008060008060008060006106438d8d8d8d8d8d6107f5565b60008481526020818152604091829020825160a081018452815481526001820154928101929092526002810154928201839052600381015460608301526004015460808201529498509296509094509250156106b2576106a28161083c565b97509750975050505050506106f0565b6040805160a0810182528581526020810185905290810183905260006060820181905260808201526106e38161083c565b9850985098505050505050505b96509650969350505050565b856107088160006108d0565b6107545760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d74797065604482015260640161021d565b86600881901b6107658160006108d0565b6107bf5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161021d565b506107d08c8c8c8c8b8b8b8a6108e7565b505050505050505050505050565b60006107ec85858585610e8b565b95945050505050565b60008080808061080786880188611237565b905060006108168a8a846104b6565b91975095509350905061082b8b828e85610e8b565b955050509650965096509692505050565b6000806000836040015142101561085b575060009150819050806108c9565b6020840151604085015161086f90426113f4565b610879919061130d565b61088490600161134e565b9050808460600151141591506000826108a15784608001516108a4565b60005b9050808560000151116108b85760006108c5565b84516108c59082906113f4565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b6000806000803660006108fa8a8a610ed5565b935093509350935081819050604403610a0657821561096f5760405162461bcd60e51b8152602060048201526038602482015260008051602061143683398151915260448201527f2d76616c75652d696e2d65726332302d7472616e736665720000000000000000606482015260840161021d565b63a9059cbb60e01b610985600460008486611361565b61098e91611407565b6001600160e01b031916146109e35760405162461bcd60e51b815260206004820152602760248201526000805160206114368339815191526044820152660b5b595d1a1bd960ca1b606482015260840161021d565b92935083926109f6604460248385611361565b6109ff916113d6565b9550610acf565b6000819003610a7f5760008311610a735760405162461bcd60e51b815260206004820152603e602482015260008051602061143683398151915260448201527f2d7a65726f2d76616c75652d696e2d6e61746976652d7472616e736665720000606482015260840161021d565b60009450829550610acf565b60405162461bcd60e51b8152602060048201526031602482015260008051602061143683398151915260448201527005ac6c2d8d85ac8c2e8c25ad8cadccee8d607b1b606482015260840161021d565b5060009250610ae3915050888a018a611237565b9050600080600080610af68f8f876104b6565b9350935093509350836001600160a01b0316866001600160a01b031614610b6f5760405162461bcd60e51b815260206004820152602760248201527f4d756c7469546f6b656e506572696f64456e666f726365723a746f6b656e2d6d6044820152660d2e6dac2e8c6d60cb1b606482015260840161021d565b6000610b7d33888c89610e8b565b60008181526020819052604081206002810154929350919003610d1f5760008311610bf15760405162461bcd60e51b8152602060048201526030602482015260008051602061143683398151915260448201526f2d7a65726f2d73746172742d6461746560801b606482015260840161021d565b60008511610c4b5760405162461bcd60e51b815260206004820152603360248201526000805160206114368339815191526044820152720b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d606a1b606482015260840161021d565b60008411610ca75760405162461bcd60e51b8152602060048201526035602482015260008051602061143683398151915260448201527416bd32b93796b832b934b7b216b23ab930ba34b7b760591b606482015260840161021d565b82421015610d0d5760405162461bcd60e51b815260206004820152602d60248201527f4d756c7469546f6b656e506572696f64456e666f726365723a7472616e73666560448201526c1c8b5b9bdd0b5cdd185c9d1959609a1b606482015260840161021d565b84815560018101849055600281018390555b6000806000610d6a846040518060a00160405290816000820154815260200160018201548152602001600282015481526020016003820154815260200160048201548152505061083c565b925092509250828c1115610dda5760405162461bcd60e51b815260206004820152603160248201527f4d756c7469546f6b656e506572696f64456e666f726365723a7472616e7366656044820152701c8b585b5bdd5b9d0b595e18d959591959607a1b606482015260840161021d565b8115610def5760038401819055600060048501555b8b846004016000828254610e03919061134e565b90915550506004840154604080516001600160a01b038e81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a45050505050505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152949095168582015260608501929092526080808501919091528151808503909101815260a09093019052815191012090565b6000803681610ee76014828789611361565b610ef09161138b565b60601c9350610f03603460148789611361565b610f0c916113d6565b9250610f1b8560348189611361565b949793965094505050565b60008083601f840112610f3857600080fd5b50813567ffffffffffffffff811115610f5057600080fd5b602083019150836020828501011115610f6857600080fd5b9250929050565b60008060208385031215610f8257600080fd5b823567ffffffffffffffff811115610f9957600080fd5b610fa585828601610f26565b90969095509350505050565b60008151808452602080850194506020840160005b83811015610fe257815187529582019590820190600101610fc6565b509495945050505050565b6080808252855190820181905260009060209060a0840190828901845b8281101561102f5781516001600160a01b03168452928401929084019060010161100a565b50505083810360208501526110448188610fb1565b91505082810360408401526110598186610fb1565b9050828103606084015261106d8185610fb1565b979650505050505050565b80356001600160a01b038116811461108f57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156110b357600080fd5b8a3567ffffffffffffffff808211156110cb57600080fd5b6110d78e838f01610f26565b909c509a5060208d01359150808211156110f057600080fd5b6110fc8e838f01610f26565b909a50985060408d0135975060608d013591508082111561111c57600080fd5b506111298d828e01610f26565b90965094505060808b0135925061114260a08c01611078565b915061115060c08c01611078565b90509295989b9194979a5092959850565b60008060006040848603121561117657600080fd5b833567ffffffffffffffff81111561118d57600080fd5b61119986828701610f26565b909790965060209590950135949350505050565b600080600080600080608087890312156111c657600080fd5b863595506111d660208801611078565b9450604087013567ffffffffffffffff808211156111f357600080fd5b6111ff8a838b01610f26565b9096509450606089013591508082111561121857600080fd5b5061122589828a01610f26565b979a9699509497509295939492505050565b60006020828403121561124957600080fd5b5035919050565b6000806000806080858703121561126657600080fd5b61126f85611078565b935061127d60208601611078565b93969395505050506040820135916060013590565b634e487b7160e01b600052601260045260246000fd5b6000826112b7576112b7611292565b500690565b6020808252602d9082015260008051602061143683398151915260408201526c05ae8cae4dae65ad8cadccee8d609b1b606082015260800190565b634e487b7160e01b600052601160045260246000fd5b60008261131c5761131c611292565b500490565b634e487b7160e01b600052604160045260246000fd5b80820281158282048414176108e1576108e16112f7565b808201808211156108e1576108e16112f7565b6000808585111561137157600080fd5b8386111561137e57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156113b85780818660140360031b1b83161692505b505092915050565b634e487b7160e01b600052603260045260246000fd5b803560208310156108e157600019602084900360031b1b1692915050565b818103818111156108e1576108e16112f7565b6001600160e01b031981358181169160048510156113b85760049490940360031b84901b169092169291505056fe4d756c7469546f6b656e506572696f64456e666f726365723a696e76616c6964a264697066735822122024c53d9970ff849bf9025e90cc5d34bfc99b0f5ee6a61ef6c48512264a9b0a3164736f6c63430008170033";ee({},{abi:()=>lr,bytecode:()=>ur});var lr=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],ur="0x608060405234801561001057600080fd5b50610824806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461016d578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c5578063a145832a146100e1578063a79a0db5146100f4575b600080fd5b6100b061009b366004610568565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d33660046105e6565b50505050505050505050565b005b6100df6100ef3660046105e6565b610180565b6101076101023660046106b3565b6102c6565b6040519081526020016100bc565b610107610123366004610568565b60006020819052908152604090205481565b6101486101433660046106dd565b6102db565b6040805193151584526001600160a01b039092166020840152908201526060016100bc565b6100df61017b3660046105e6565b6103ad565b85600881901b6001600160f81b03198116156101f15760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101fe338661052b565b9050600061020c8d8d6102db565b5060008481526001602052604090205490925060ff161590506102885760405162461bcd60e51b815260206004820152602e60248201527f4e617469766542616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b60648201526084016101e8565b6000918252600160208181526040808520805460ff19169093179092558390529091206001600160a01b039091163190555050505050505050505050565b60006102d2838361052b565b90505b92915050565b60008080603584146103485760405162461bcd60e51b815260206004820152603060248201527f4e617469766542616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016101e8565b8484600081811061035b5761035b61071f565b909101356001600160f81b0319161515935061037d9050601560018688610735565b6103869161075f565b60601c91506103988460158188610735565b6103a191610794565b60001c90509250925092565b60008060006103bc8d8d6102db565b92509250925060006103ce338861052b565b6000818152600160205260409020805460ff1916905590508315610482576000818152602081905260409020546104069083906107c8565b836001600160a01b031631101561047d5760405162461bcd60e51b815260206004820152603560248201527f4e617469766542616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b60648201526084016101e8565b61051b565b60008181526020819052604090205461049c9083906107db565b836001600160a01b031631101561051b5760405162461bcd60e51b815260206004820152603960248201527f4e617469766542616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e6372656173650000000000000060648201526084016101e8565b5050505050505050505050505050565b604080516001600160a01b038416602082015290810182905260009060600160405160208183030381529060405280519060200120905092915050565b60006020828403121561057a57600080fd5b5035919050565b60008083601f84011261059357600080fd5b50813567ffffffffffffffff8111156105ab57600080fd5b6020830191508360208285010111156105c357600080fd5b9250929050565b80356001600160a01b03811681146105e157600080fd5b919050565b60008060008060008060008060008060e08b8d03121561060557600080fd5b8a3567ffffffffffffffff8082111561061d57600080fd5b6106298e838f01610581565b909c509a5060208d013591508082111561064257600080fd5b61064e8e838f01610581565b909a50985060408d0135975060608d013591508082111561066e57600080fd5b5061067b8d828e01610581565b90965094505060808b0135925061069460a08c016105ca565b91506106a260c08c016105ca565b90509295989b9194979a5092959850565b600080604083850312156106c657600080fd5b6106cf836105ca565b946020939093013593505050565b600080602083850312156106f057600080fd5b823567ffffffffffffffff81111561070757600080fd5b61071385828601610581565b90969095509350505050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561074557600080fd5b8386111561075257600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff19813581811691601485101561078c5780818660140360031b1b83161692505b505092915050565b803560208310156102d557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156102d5576102d56107b2565b808201808211156102d5576102d56107b256fea2646970667358221220b33a5c188759ed62e28774f4ab95ff422856e7b7a36f7de87da5f14ed435ece964736f6c63430008170033";ee({},{abi:()=>dr,bytecode:()=>fr});var dr=[{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}],fr="0x";ee({},{abi:()=>pr,bytecode:()=>hr});var pr=[],hr="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220709bae2a6201f60c7dd916d94e8aed6e76d68870a93207bbf209cbf2ce9581c664736f6c63430008170033";ee({},{abi:()=>br,bytecode:()=>yr});var br=[{type:"function",name:"onERC721Received",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"}],yr="0x";ee({},{abi:()=>mr,bytecode:()=>gr});var mr=[{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]}],gr="0x",wr={};ee(wr,{abi:()=>vr,bytecode:()=>Er});var vr=[{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}],Er="0x";ee({},{abi:()=>xr,bytecode:()=>Sr});var xr=[{type:"function",name:"execute",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],Sr="0x",Tr={};ee(Tr,{abi:()=>Ar,bytecode:()=>_r});var Ar=[{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]}],_r="0x",Cr={};ee(Cr,{abi:()=>kr,bytecode:()=>Ir});var kr=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowance_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"spentMap",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Ir="0x608060405234801561001057600080fd5b506105cd806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780639dd5d9ab14610083578063a145832a146100bd578063b99deb0e146100d0578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046103a7565b50505050505050505050565b005b6100ab610091366004610474565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100816100cb3660046103a7565b6100e3565b6100ab6100de36600461049e565b6102c5565b856100ef8160006102da565b6101405760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101518160006102da565b6101ab5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610137565b5060006101b88d8d6102c5565b905060006101c689896102f1565b5050336000908152602081815260408083208c845290915281208054929450909250839183906101f79084906104e0565b92505081905590508281111561026c5760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e5472616e73666572416d6f756e74456e666f7263656044820152731c8e985b1b1bddd85b98d94b595e18d95959195960621b6064820152608401610137565b604080518481526020810183905289916001600160a01b0389169133917fc026e493323d526061a052b5dd562495120e2f648797a48be61966d3a6beec8d910160405180910390a4505050505050505050505050505050565b60006102d382840184610501565b9392505050565b6001600160f81b0319828116908216145b92915050565b6000803681610303601482878961051a565b61030c91610544565b60601c935061031f60346014878961051a565b61032891610579565b9250610337856034818961051a565b949793965094505050565b60008083601f84011261035457600080fd5b50813567ffffffffffffffff81111561036c57600080fd5b60208301915083602082850101111561038457600080fd5b9250929050565b80356001600160a01b03811681146103a257600080fd5b919050565b60008060008060008060008060008060e08b8d0312156103c657600080fd5b8a3567ffffffffffffffff808211156103de57600080fd5b6103ea8e838f01610342565b909c509a5060208d013591508082111561040357600080fd5b61040f8e838f01610342565b909a50985060408d0135975060608d013591508082111561042f57600080fd5b5061043c8d828e01610342565b90965094505060808b0135925061045560a08c0161038b565b915061046360c08c0161038b565b90509295989b9194979a5092959850565b6000806040838503121561048757600080fd5b6104908361038b565b946020939093013593505050565b600080602083850312156104b157600080fd5b823567ffffffffffffffff8111156104c857600080fd5b6104d485828601610342565b90969095509350505050565b808201808211156102eb57634e487b7160e01b600052601160045260246000fd5b60006020828403121561051357600080fd5b5035919050565b6000808585111561052a57600080fd5b8386111561053757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105715780818660140360031b1b83161692505b505092915050565b803560208310156102eb57600019602084900360031b1b169291505056fea2646970667358221220242bcbb545bdb30c0cc3054c27d7e861e0e03c97037d12e0a3a635b723f4c96064736f6c63430008170033";ee({},{abi:()=>Pr,bytecode:()=>Or});var Pr=[],Or="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220d7aca7990ce9da4d7914667722de1ec02253803fb163d86029328ca9bb504b0164736f6c63430008170033";ee({},{abi:()=>Mr,bytecode:()=>Rr});var Mr=[{type:"fallback",stateMutability:"nonpayable"}],Rr="0x608060405234801561001057600080fd5b5061022e806100206000396000f3fe608060405234801561001057600080fd5b50600036606060a0821461004057604080516000602082015201604051602081830303815290604052905061017b565b600061004f6020828587610186565b610058916101b0565b9050600061006a604060208688610186565b610073916101b0565b90506000610085606060408789610186565b61008e916101b0565b905060006100a060806060888a610186565b6100a9916101b0565b905060006100bb60a06080898b610186565b6100c4916101b0565b60405163a1f3128160e01b8152600481018790526024810186905260448101859052606481018490526084810182905290915073__$b8f96b288d4d0429e38b8ed50fd423070f$__9063a1f312819060a401602060405180830381865af4158015610133573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061015791906101cf565b60408051911515602083015201604051602081830303815290604052955050505050505b915050805190602001f35b6000808585111561019657600080fd5b838611156101a357600080fd5b5050820193919092039150565b803560208310156101c957600019602084900360031b1b165b92915050565b6000602082840312156101e157600080fd5b815180151581146101f157600080fd5b939250505056fea26469706673582212203dafaa4c8f34ad767d36775120cdf65742956a98b33a9913f2e11f858baf2d9e64736f6c63430008170033";ee({},{abi:()=>Nr,bytecode:()=>Lr});var Nr=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"targetContract_",type:"address",internalType:"address"}],stateMutability:"pure"},{type:"event",name:"OwnershipTransferEnforced",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newOwner",type:"address",indexed:!1,internalType:"address"}],anonymous:!1}],Lr="0x608060405234801561001057600080fd5b506106af806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461049f565b50505050505050505050565b005b61007661008636600461049f565b6100ba565b61009e61009936600461056c565b6101e7565b6040516001600160a01b03909116815260200160405180910390f35b856100c6816000610252565b6101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610128816000610252565b6101825760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b5060006101918d8d8a8a610269565b6040516001600160a01b038083168252919250879186169033907f0f026cada0b544ae1cc47ac006f1f4c3d7e94832af22aa0065351de49f9284d79060200160405180910390a450505050505050505050505050565b60006014821461023e5760405162461bcd60e51b815260206004820152602e602482015260008051602061065a83398151915260448201526d0c85ae8cae4dae65ad8cadccee8d60931b606482015260840161010e565b61024882846105ae565b60601c9392505050565b6001600160f81b0319828116908216145b92915050565b60008036600061027986866103e9565b929550935090915050602481146102db5760405162461bcd60e51b8152602060048201526032602482015260008051602061065a8339815191526044820152710c85acaf0cac6eae8d2dedc5ad8cadccee8d60731b606482015260840161010e565b60006102ea60048284866105e3565b6102f39161060d565b90506001600160e01b0319811663f2fde38b60e01b146103545760405162461bcd60e51b8152602060048201526028602482015260008051602061065a833981519152604482015267190b5b595d1a1bd960c21b606482015260840161010e565b60006103608a8a6101e7565b9050846001600160a01b0316816001600160a01b0316146103c45760405162461bcd60e51b815260206004820152602a602482015260008051602061065a833981519152604482015269190b58dbdb9d1c9858dd60b21b606482015260840161010e565b6103d26024600485876105e3565b6103db9161063b565b9a9950505050505050505050565b60008036816103fb60148287896105e3565b610404916105ae565b60601c93506104176034601487896105e3565b6104209161063b565b925061042f85603481896105e3565b949793965094505050565b60008083601f84011261044c57600080fd5b50813567ffffffffffffffff81111561046457600080fd5b60208301915083602082850101111561047c57600080fd5b9250929050565b80356001600160a01b038116811461049a57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156104be57600080fd5b8a3567ffffffffffffffff808211156104d657600080fd5b6104e28e838f0161043a565b909c509a5060208d01359150808211156104fb57600080fd5b6105078e838f0161043a565b909a50985060408d0135975060608d013591508082111561052757600080fd5b506105348d828e0161043a565b90965094505060808b0135925061054d60a08c01610483565b915061055b60c08c01610483565b90509295989b9194979a5092959850565b6000806020838503121561057f57600080fd5b823567ffffffffffffffff81111561059657600080fd5b6105a28582860161043a565b90969095509350505050565b6bffffffffffffffffffffffff1981358181169160148510156105db5780818660140360031b1b83161692505b505092915050565b600080858511156105f357600080fd5b8386111561060057600080fd5b5050820193919092039150565b6001600160e01b031981358181169160048510156105db5760049490940360031b84901b1690921692915050565b8035602083101561026357600019602084900360031b1b169291505056fe4f776e6572736869705472616e73666572456e666f726365723a696e76616c69a2646970667358221220ca5ae6d7f1b90ba5d22d1aa6d07431cba5451fcdcfda2c53ba5014e9bf6c30cc64736f6c63430008170033";ee({},{abi:()=>Dr,bytecode:()=>Br});var Dr=[{type:"error",name:"SafeERC20FailedDecreaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"currentAllowance",type:"uint256",internalType:"uint256"},{name:"requestedDecrease",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SafeERC20FailedOperation",inputs:[{name:"token",type:"address",internalType:"address"}]}],Br="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088a0aa059cfc49869da70b79266115a887b85b6bf4a5e84a430f64ac0e13ee7c64736f6c63430008170033";ee({},{abi:()=>jr,bytecode:()=>Ur});var jr=[{type:"function",name:"createSender",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[{name:"sender",type:"address",internalType:"address"}],stateMutability:"nonpayable"}],Ur="0x608060405234801561000f575f80fd5b506101e28061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063570e1a361461002d575b5f80fd5b61004061003b3660046100e4565b61005c565b6040516001600160a01b03909116815260200160405180910390f35b5f8061006b6014828587610150565b61007491610177565b60601c90505f6100878460148188610150565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525084519495509360209350849250905082850182875af190505f519350806100db575f93505b50505092915050565b5f80602083850312156100f5575f80fd5b823567ffffffffffffffff8082111561010c575f80fd5b818501915085601f83011261011f575f80fd5b81358181111561012d575f80fd5b86602082850101111561013e575f80fd5b60209290920196919550909350505050565b5f808585111561015e575f80fd5b8386111561016a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156101a45780818660140360031b1b83161692505b50509291505056fea264697066735822122078c1aaa9f040f8c523cf2b642dd06415593eec30d2e75021458af7e0c704e6fb64736f6c63430008170033";ee({},{abi:()=>Fr,bytecode:()=>$r});var Fr=[{type:"error",name:"ReentrancyGuardReentrantCall",inputs:[]}],$r="0x";ee({},{abi:()=>zr,bytecode:()=>Hr});var zr=[{type:"error",name:"SafeCastOverflowedIntDowncast",inputs:[{name:"bits",type:"uint8",internalType:"uint8"},{name:"value",type:"int256",internalType:"int256"}]},{type:"error",name:"SafeCastOverflowedIntToUint",inputs:[{name:"value",type:"int256",internalType:"int256"}]},{type:"error",name:"SafeCastOverflowedUintDowncast",inputs:[{name:"bits",type:"uint8",internalType:"uint8"},{name:"value",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SafeCastOverflowedUintToInt",inputs:[{name:"value",type:"uint256",internalType:"uint256"}]}],Hr="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122061ebdeb3510df44a7d9170525bd3fc61f93c656e67274c3f3b4aa33ec92dc13864736f6c63430008170033";ee({},{abi:()=>qr,bytecode:()=>Kr});var qr=[],Kr="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212203d65f4321e18e96a0e0a3e6a8d19e56735de368638fd48b184c923bf46a5170f64736f6c63430008170033";ee({},{abi:()=>Wr,bytecode:()=>Vr});var Wr=[{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],Vr="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088910c5f67a05f7b05fc7425f62972b57385080dd0be1e4dea1ea74435bca86f64736f6c63430008170033",Gr={};ee(Gr,{abi:()=>Yr,bytecode:()=>Jr});var Yr=[{type:"function",name:"computeAddress",inputs:[{name:"_bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"deploy",inputs:[{name:"_bytecode",type:"bytes",internalType:"bytes"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"event",name:"Deployed",inputs:[{name:"addr",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SimpleFactoryEmptyContract",inputs:[{name:"deployed",type:"address",internalType:"address"}]}],Jr="0x608060405234801561001057600080fd5b506102ef806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063481286e61461003b5780634af63f021461006a575b600080fd5b61004e6100493660046101cc565b61007d565b6040516001600160a01b03909116815260200160405180910390f35b61004e610078366004610204565b610090565b60006100898284610115565b9392505050565b600061009e60008385610122565b9050806001600160a01b03163b6000036100db576040516301e3495560e61b81526001600160a01b03821660048201526024015b60405180910390fd5b6040516001600160a01b038216907ff40fcec21964ffb566044d083b4073f29f7f7929110ea19e1b3ebe375d89055e90600090a292915050565b60006100898383306101a2565b60008347101561014e5760405163392efb2b60e21b8152476004820152602481018590526044016100d2565b815160000361017057604051631328927760e21b815260040160405180910390fd5b8282516020840186f590506001600160a01b03811661008957604051633a0ba96160e11b815260040160405180910390fd5b6000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b600080604083850312156101df57600080fd5b50508035926020909101359150565b634e487b7160e01b600052604160045260246000fd5b6000806040838503121561021757600080fd5b823567ffffffffffffffff8082111561022f57600080fd5b818501915085601f83011261024357600080fd5b813581811115610255576102556101ee565b604051601f8201601f19908116603f0116810190838211818310171561027d5761027d6101ee565b8160405282815288602084870101111561029657600080fd5b82602086016020830137600060209382018401529896909101359650505050505056fea264697066735822122060b446de0182f6cf23546703f0e9eb0c1da6c4f00138f5d151474f865157cd3164736f6c63430008170033";ee({},{abi:()=>Zr,bytecode:()=>Xr});var Zr=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedRedeemers_",type:"address[]",internalType:"address[]"}],stateMutability:"pure"}],Xr="0x608060405234801561001057600080fd5b5061064b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103ae565b50505050505050505050565b005b6100766100863660046103ae565b6100b4565b61009e61009936600461047b565b6101e8565b6040516100ab91906104bd565b60405180910390f35b85600881901b6100c5816000610332565b6101245760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101318c8c6101e8565b805190915060005b81811015610183578281815181106101535761015361050a565b60200260200101516001600160a01b0316856001600160a01b03160361017b575050506101db565b600101610139565b5060405162461bcd60e51b815260206004820152602660248201527f52656465656d6572456e666f726365723a756e617574686f72697a65642d72656044820152653232b2b6b2b960d11b606482015260840161011b565b5050505050505050505050565b606060008280158015906102045750610202601482610536565b155b61025e5760405162461bcd60e51b815260206004820152602560248201527f52656465656d6572456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b606482015260840161011b565b610269601482610560565b67ffffffffffffffff81111561028157610281610574565b6040519080825280602002602001820160405280156102aa578160200160208202803683370190505b50925060005b81811015610329578581866102c682601461058a565b926102d39392919061059d565b6102dc916105c7565b60601c8484815181106102f1576102f161050a565b6001600160a01b039092166020928302919091019091015282610313816105fc565b9350610322905060148261058a565b90506102b0565b50505092915050565b6001600160f81b0319828116908216145b92915050565b60008083601f84011261035b57600080fd5b50813567ffffffffffffffff81111561037357600080fd5b60208301915083602082850101111561038b57600080fd5b9250929050565b80356001600160a01b03811681146103a957600080fd5b919050565b60008060008060008060008060008060e08b8d0312156103cd57600080fd5b8a3567ffffffffffffffff808211156103e557600080fd5b6103f18e838f01610349565b909c509a5060208d013591508082111561040a57600080fd5b6104168e838f01610349565b909a50985060408d0135975060608d013591508082111561043657600080fd5b506104438d828e01610349565b90965094505060808b0135925061045c60a08c01610392565b915061046a60c08c01610392565b90509295989b9194979a5092959850565b6000806020838503121561048e57600080fd5b823567ffffffffffffffff8111156104a557600080fd5b6104b185828601610349565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156104fe5783516001600160a01b0316835292840192918401916001016104d9565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b60008261054557610545610520565b500690565b634e487b7160e01b600052601160045260246000fd5b60008261056f5761056f610520565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156103435761034361054a565b600080858511156105ad57600080fd5b838611156105ba57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105f45780818660140360031b1b83161692505b505092915050565b60006001820161060e5761060e61054a565b506001019056fea264697066735822122021c89a0ebcdb2523c453552212243b747d81b7c16f2f3e22d20bb9692240f3a364736f6c63430008170033";ee({},{abi:()=>Qr,bytecode:()=>ei});var Qr=[],ei="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212209bac814741dd376ccf59547680acabccb0310545d980db81a1b4c6c7f17cdbc164736f6c63430008170033",ti={};ee(ti,{abi:()=>ni,bytecode:()=>ri});var ni=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"termsData_",type:"tuple",internalType:"struct SpecificActionERC20TransferBatchEnforcer.TermsData",components:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"recipient",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"firstTarget",type:"address",internalType:"address"},{name:"firstCalldata",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"},{type:"function",name:"usedDelegations",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"DelegationExecuted",inputs:[{name:"delegationManager",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],ri="0x608060405234801561001057600080fd5b50610ccf806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063a145832a14610083578063b99deb0e14610096578063b9cf5249146100bf578063d3eddcc514610067578063ed46336714610067575b600080fd5b610081610075366004610958565b50505050505050505050565b005b610081610091366004610958565b6100fa565b6100a96100a4366004610a25565b6106ce565b6040516100b69190610a67565b60405180910390f35b6100ea6100cd366004610af5565b600060208181529281526040808220909352908152205460ff1681565b60405190151581526020016100b6565b8561010981600160f81b610843565b61015a5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61016b816000610843565b6101c55760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610151565b503360009081526020818152604080832088845290915290205460ff1615610245576040805162461bcd60e51b8152602060048201526024810191909152600080516020610c7a83398151915260448201527f456e666f726365723a64656c65676174696f6e2d616c72656164792d757365646064820152608401610151565b336000908152602081815260408083208884529091528120805460ff191660011790553690610274898961085a565b9092509050600281146102dd5760405162461bcd60e51b815260206004820152603b6024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d62617463682d73697a6500000000006064820152608401610151565b60006102e98f8f6106ce565b905080606001516001600160a01b03168383600081811061030c5761030c610b1f565b905060200281019061031e9190610b35565b61032c906020810190610b55565b6001600160a01b031614158061036957508282600081811061035057610350610b1f565b90506020028101906103629190610b35565b6020013515155b806103c757508060800151805190602001208383600081811061038e5761038e610b1f565b90506020028101906103a09190610b35565b6103ae906040810190610b77565b6040516103bc929190610bbe565b604051809103902014155b156104335760405162461bcd60e51b81526020600482015260426024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d66697273742d7472616e736163746960648201526137b760f11b608482015260a401610151565b80516001600160a01b03168383600181811061045157610451610b1f565b90506020028101906104639190610b35565b610471906020810190610b55565b6001600160a01b03161415806104ae57508282600181811061049557610495610b1f565b90506020028101906104a79190610b35565b6020013515155b806104ee5750828260018181106104c7576104c7610b1f565b90506020028101906104d99190610b35565b6104e7906040810190610b77565b9050604414155b80610554575063a9059cbb60e01b8383600181811061050f5761050f610b1f565b90506020028101906105219190610b35565b61052f906040810190610b77565b61053e91600491600091610bce565b61054791610bf8565b6001600160e01b03191614155b806105bf575080602001516001600160a01b03168383600181811061057b5761057b610b1f565b905060200281019061058d9190610b35565b61059b906040810190610b77565b6105aa91602491600491610bce565b6105b391610c28565b6001600160a01b031614155b8061061857508060400151838360018181106105dd576105dd610b1f565b90506020028101906105ef9190610b35565b6105fd906040810190610b77565b61060c91604491602491610bce565b61061591610c28565b14155b156106855760405162461bcd60e51b81526020600482015260436024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d7365636f6e642d7472616e7361637460648201526234b7b760e91b608482015260a401610151565b6040516001600160a01b03881690899033907f76f83a16f9924b51c0c3ad67a44af3e517fbdec68ffa3729776df2ac0f03144090600090a4505050505050505050505050505050565b61071b6040518060a0016040528060006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160006001600160a01b03168152602001606081525090565b605c8210156107805760405162461bcd60e51b815260206004820152603d6024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d7465726d732d6c656e6774680000006064820152608401610151565b61078e601460008486610bce565b61079791610c46565b60601c81526107aa602860148486610bce565b6107b391610c46565b60601c60208201526107c9604860288486610bce565b6107d291610c28565b60408201526107e5605c60488486610bce565b6107ee91610c46565b606090811c9082015261080482605c8186610bce565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505050608082015292915050565b6001600160f81b0319828116908216145b92915050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156108925763ba597e7e6000526004601cfd5b83156108e9578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156108e05763ba597e7e6000526004601cfd5b5050508261089c575b5050509250929050565b60008083601f84011261090557600080fd5b50813567ffffffffffffffff81111561091d57600080fd5b60208301915083602082850101111561093557600080fd5b9250929050565b80356001600160a01b038116811461095357600080fd5b919050565b60008060008060008060008060008060e08b8d03121561097757600080fd5b8a3567ffffffffffffffff8082111561098f57600080fd5b61099b8e838f016108f3565b909c509a5060208d01359150808211156109b457600080fd5b6109c08e838f016108f3565b909a50985060408d0135975060608d01359150808211156109e057600080fd5b506109ed8d828e016108f3565b90965094505060808b01359250610a0660a08c0161093c565b9150610a1460c08c0161093c565b90509295989b9194979a5092959850565b60008060208385031215610a3857600080fd5b823567ffffffffffffffff811115610a4f57600080fd5b610a5b858286016108f3565b90969095509350505050565b6000602080835260018060a01b038085511660208501528060208601511660408501526040850151606085015280606086015116608085015250608084015160a08085015280518060c086015260005b81811015610ad35782810184015186820160e001528301610ab7565b50600060e0828701015260e0601f19601f830116860101935050505092915050565b60008060408385031215610b0857600080fd5b610b118361093c565b946020939093013593505050565b634e487b7160e01b600052603260045260246000fd5b60008235605e19833603018112610b4b57600080fd5b9190910192915050565b600060208284031215610b6757600080fd5b610b708261093c565b9392505050565b6000808335601e19843603018112610b8e57600080fd5b83018035915067ffffffffffffffff821115610ba957600080fd5b60200191503681900382131561093557600080fd5b8183823760009101908152919050565b60008085851115610bde57600080fd5b83861115610beb57600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015610c205780818660040360031b1b83161692505b505092915050565b8035602083101561085457600019602084900360031b1b1692915050565b6bffffffffffffffffffffffff198135818116916014851015610c205760149490940360031b84901b169092169291505056fe5370656369666963416374696f6e45524332305472616e736665724261746368a2646970667358221220e8d1de6d5cca88243b7e7a1d3b3a1ae6b1a75dad78f305486212fafaf9e3ca5264736f6c63430008170033";ee({},{abi:()=>ii,bytecode:()=>ai});var ii=[{type:"receive",stateMutability:"payable"},{type:"function",name:"addStake",inputs:[{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"deposits",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],ai="0x";ee({},{abi:()=>si,bytecode:()=>oi});var si=[{type:"error",name:"StringsInsufficientHexLength",inputs:[{name:"value",type:"uint256",internalType:"uint256"},{name:"length",type:"uint256",internalType:"uint256"}]}],oi="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ce1bfc0cd5aac1e748b751339a93cc065f5fd20fd73be10a7844adf26543eb8164736f6c63430008170033";ee({},{abi:()=>ci,bytecode:()=>li});var ci=[],li="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122089188054053227534294662d666312081d2f72553264bdfc0ce4a353c15e0f6364736f6c63430008170033";ee({},{abi:()=>ui,bytecode:()=>di});var ui=[{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"}],di="0x";ee({},{abi:()=>fi,bytecode:()=>pi});var fi=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"value_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"}],pi="0x608060405234801561001057600080fd5b506104f8806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610336565b50505050505050505050565b005b610076610086366004610336565b6100b0565b61009e610099366004610403565b6101f8565b60405190815260200160405180910390f35b856100bc816000610269565b61010d5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61011e816000610269565b6101785760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610104565b5060006101858888610280565b505091505060006101968e8e6101f8565b9050808211156101e85760405162461bcd60e51b815260206004820152601f60248201527f56616c75654c7465456e666f726365723a76616c75652d746f6f2d68696768006044820152606401610104565b5050505050505050505050505050565b6000602082146102585760405162461bcd60e51b815260206004820152602560248201527f56616c75654c7465456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b6064820152608401610104565b6102628284610445565b9392505050565b6001600160f81b0319828116908216145b92915050565b60008036816102926014828789610463565b61029b9161048d565b60601c93506102ae603460148789610463565b6102b791610445565b92506102c68560348189610463565b949793965094505050565b60008083601f8401126102e357600080fd5b50813567ffffffffffffffff8111156102fb57600080fd5b60208301915083602082850101111561031357600080fd5b9250929050565b80356001600160a01b038116811461033157600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035557600080fd5b8a3567ffffffffffffffff8082111561036d57600080fd5b6103798e838f016102d1565b909c509a5060208d013591508082111561039257600080fd5b61039e8e838f016102d1565b909a50985060408d0135975060608d01359150808211156103be57600080fd5b506103cb8d828e016102d1565b90965094505060808b013592506103e460a08c0161031a565b91506103f260c08c0161031a565b90509295989b9194979a5092959850565b6000806020838503121561041657600080fd5b823567ffffffffffffffff81111561042d57600080fd5b610439858286016102d1565b90969095509350505050565b8035602083101561027a57600019602084900360031b1b1692915050565b6000808585111561047357600080fd5b8386111561048057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156104ba5780818660140360031b1b83161692505b50509291505056fea26469706673582212201b32f956e1bfeecade9436bbfc83066c0610b5679c49ae7d06d58eaeb4e24ff564736f6c63430008170033";ee({},{abi:()=>hi,bytecode:()=>bi});var hi=[{type:"function",name:"PAYMASTER_DATA_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PAYMASTER_POSTOP_GAS_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PAYMASTER_VALIDATION_GAS_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],bi="0x60a7610034600b8282823980515f1a60731461002857634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106046575f3560e01c806325093e1b14604a578063b29a8ff4146063578063ede3150214606a575b5f80fd5b6051602481565b60405190815260200160405180910390f35b6051601481565b605160348156fea2646970667358221220e3e47e9c438ff94c86dca42d7dcd69637923bbba71e55fc90068fd2fbb4991dc64736f6c63430008170033";ee({},{abi:()=>yi,bytecode:()=>mi});var yi=[{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]}],mi="0x";ee({},{abi:()=>gi,bytecode:()=>wi});var gi=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"timestampAfterThreshold_",type:"uint128",internalType:"uint128"},{name:"timestampBeforeThreshold_",type:"uint128",internalType:"uint128"}],stateMutability:"pure"}],wi="0x608060405234801561001057600080fd5b506104e7806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461033f565b50505050505050505050565b005b61007661008636600461033f565b6100c2565b61009e61009936600461040c565b61023a565b604080516001600160801b0393841681529290911660208301520160405180910390f35b85600881901b6001600160f81b03198116156101335760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806101418d8d61023a565b90925090506001600160801b038216156101b857816001600160801b031642116101b85760405162461bcd60e51b815260206004820152602260248201527f54696d657374616d70456e666f726365723a6561726c792d64656c656761746960448201526137b760f11b606482015260840161012a565b6001600160801b0381161561022b57806001600160801b0316421061022b5760405162461bcd60e51b8152602060048201526024808201527f54696d657374616d70456e666f726365723a657870697265642d64656c6567616044820152633a34b7b760e11b606482015260840161012a565b50505050505050505050505050565b6000806020831461029c5760405162461bcd60e51b815260206004820152602660248201527f54696d657374616d70456e666f726365723a696e76616c69642d7465726d732d6044820152650d8cadccee8d60d31b606482015260840161012a565b6102a9836010818761044e565b6102b291610478565b60801c90506102c560106000858761044e565b6102ce91610478565b60801c91509250929050565b60008083601f8401126102ec57600080fd5b50813567ffffffffffffffff81111561030457600080fd5b60208301915083602082850101111561031c57600080fd5b9250929050565b80356001600160a01b038116811461033a57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035e57600080fd5b8a3567ffffffffffffffff8082111561037657600080fd5b6103828e838f016102da565b909c509a5060208d013591508082111561039b57600080fd5b6103a78e838f016102da565b909a50985060408d0135975060608d01359150808211156103c757600080fd5b506103d48d828e016102da565b90965094505060808b013592506103ed60a08c01610323565b91506103fb60c08c01610323565b90509295989b9194979a5092959850565b6000806020838503121561041f57600080fd5b823567ffffffffffffffff81111561043657600080fd5b610442858286016102da565b90969095509350505050565b6000808585111561045e57600080fd5b8386111561046b57600080fd5b5050820193919092039150565b6fffffffffffffffffffffffffffffffff1981358181169160108510156104a95780818660100360031b1b83161692505b50509291505056fea2646970667358221220493f1dd46bf21857fc13b6e41e6f29c1c53fbb939ca84fcd1536c7cf1000d18064736f6c63430008170033";ee({},{abi:()=>vi,bytecode:()=>Ei});var vi=[{type:"fallback",stateMutability:"payable"}],Ei="0x";ee({},{abi:()=>xi,bytecode:()=>Si});var xi=[],Si="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122034801a6b4534dfc9cfe9c8b31e018c344c3329b6bf478762f2158ce5781d2b7a64736f6c63430008170033",Ti={};ee(Ti,{abi:()=>Ai,bytecode:()=>_i});var Ai=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"MAX_NUMBER_OF_SIGNERS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"addSigner",inputs:[{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getSigners",inputs:[],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getSignersCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getThreshold",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isSigner",inputs:[{name:"_addr",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"reinitialize",inputs:[{name:"_version",type:"uint64",internalType:"uint64"},{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"},{name:"_clearSigners",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeSigner",inputs:[{name:"_oldSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"replaceSigner",inputs:[{name:"_oldSigner",type:"address",internalType:"address"},{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"updateMultiSigParameters",inputs:[{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"},{name:"_clearSigners",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateThreshold",inputs:[{name:"_threshold",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AddedSigner",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"RemovedSigner",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ReplacedSigner",inputs:[{name:"oldSigner",type:"address",indexed:!0,internalType:"address"},{name:"newSigner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"UpdatedThreshold",inputs:[{name:"threshold",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AlreadyASigner",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InsufficientSigners",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"InvalidSignerAddress",inputs:[]},{type:"error",name:"InvalidThreshold",inputs:[]},{type:"error",name:"NotASigner",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"TooManySigners",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],_i="0x6101c0604052306080523480156200001657600080fd5b506040516200492838038062004928833981016040819052620000399162000392565b81816040518060400160405280601181526020017026bab63a34a9b4b3a232b632a3b0ba37b960791b815250604051806040016040528060018152602001603160f81b8152508181620000976000836200021f60201b90919060201c565b61014052620000a88160016200021f565b61016052815160208084019190912061010052815190820120610120524660c052620001386101005161012051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60a05250503060e0526200014b62000258565b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a2505050506000620001d66200030c60201b60201c565b600019600282018190556040519081529091507f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d039060200160405180910390a1505050620005ba565b60006020835110156200023f57620002378362000330565b905062000252565b816200024c848262000478565b5060ff90505b92915050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff1615620002a95760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b0390811614620003095780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b7fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c0090565b600080829050601f8151111562000367578260405163305a27a960e01b81526004016200035e919062000544565b60405180910390fd5b8051620003748262000595565b179392505050565b6001600160a01b03811681146200030957600080fd5b60008060408385031215620003a657600080fd5b8251620003b3816200037c565b6020840151909250620003c6816200037c565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c90821680620003fc57607f821691505b6020821081036200041d57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111562000473576000816000526020600020601f850160051c810160208610156200044e5750805b601f850160051c820191505b818110156200046f578281556001016200045a565b5050505b505050565b81516001600160401b03811115620004945762000494620003d1565b620004ac81620004a58454620003e7565b8462000423565b602080601f831160018114620004e45760008415620004cb5750858301515b600019600386901b1c1916600185901b1785556200046f565b600085815260208120601f198616915b828110156200051557888601518255948401946001909101908401620004f4565b5085821015620005345787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620005745785810183015185820160400152820162000556565b506000604082860101526040601f19601f8301168501019250505092915050565b805160208083015191908110156200041d5760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051614235620006f3600039600081816106d8015281816109cd01528181610c2d01528181610cb701528181610d3501528181610e9901528181610f4e01528181610fd90152818161115e0152818161124e015281816113010152818161137301528181611523015281816115a20152818161169d0152818161195501528181611a4b01528181611c6101528181611e64015281816120da0152612d0d01526000818161084a01528181610d9801528181610e1b01528181610efc0152818161160501526116e1015260006129970152600061296a015260006122be01526000612296015260006121f10152600061221b0152600061224501526000818161214801528181612171015261267101526142356000f3fe6080604052600436106102815760003560e01c806394cf795e1161014f578063cef6d209116100c1578063e9ae5c531161007a578063e9ae5c5314610825578063ea4d3c9b14610838578063eb12d61e1461086c578063ed8101b51461088c578063f23a6e61146108ac578063ffa1ad74146108cc57600080fd5b8063cef6d2091461075c578063d087d2881461077c578063d691c96414610791578063d7d7442f146107b1578063e3d9109f146107d1578063e75235b8146107f157600080fd5b8063acb8cc4911610113578063acb8cc4914610668578063ad3cb1cc14610695578063b0d691fe146106c6578063b3c65015146106fa578063bc197c8114610727578063c399ec881461074757600080fd5b806394cf795e1461059a578063a0c1deb4146105bc578063a24c8f32146105de578063a3f4df7e146105f1578063aaf10f421461063b57600080fd5b806349934047116101f357806365ee81d8116101ac57806365ee81d8146104b757806378979a80146104d75780637df73e27146104f75780637f07bfdc1461053d57806383ebb7711461055d57806384b0196e1461057257600080fd5b806349934047146104345780634a58db19146104545780634f1ef2861461045c57806352d1902d1461046f5780635c1c6dcd1461048457806360b5bb3f1461049757600080fd5b806319822f7c1161024557806319822f7c1461036b5780632b3afd991461038b5780633e1b0812146103bf5780633ed01015146103df578063445140b8146103ff5780634891161f1461041f57600080fd5b806301ffc9a71461028d57806306394d67146102c25780630e316ab7146102f0578063150b7a02146103125780631626ba7e1461034b57600080fd5b3661028857005b600080fd5b34801561029957600080fd5b506102ad6102a8366004613309565b6108fd565b60405190151581526020015b60405180910390f35b3480156102ce57600080fd5b506102e26102dd36600461334c565b61098d565b6040519081526020016102b9565b3480156102fc57600080fd5b5061031061030b36600461339d565b6109c2565b005b34801561031e57600080fd5b5061033261032d36600461346f565b610be6565b6040516001600160e01b031990911681526020016102b9565b34801561035757600080fd5b50610332610366366004613522565b610c01565b34801561037757600080fd5b506102e261038636600461356d565b610c20565b34801561039757600080fd5b506102e27fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156103cb57600080fd5b506102e26103da3660046135ba565b610c90565b3480156103eb57600080fd5b506103106103fa3660046135e3565b610d2a565b34801561040b57600080fd5b506102ad61041a36600461361d565b610e02565b34801561042b57600080fd5b506102e2601e81565b34801561044057600080fd5b5061031061044f3660046135e3565b610e8e565b610310610f31565b61031061046a366004613636565b610f9b565b34801561047b57600080fd5b506102e2610fb1565b610310610492366004613685565b610fce565b3480156104a357600080fd5b506103106104b2366004613703565b61103e565b3480156104c357600080fd5b506103106104d236600461375c565b611153565b3480156104e357600080fd5b506103106104f23660046137ba565b6111bc565b34801561050357600080fd5b506102ad61051236600461339d565b6001600160a01b031660009081526000805160206141c0833981519152602052604090205460ff1690565b34801561054957600080fd5b50610310610558366004613836565b6112f6565b34801561056957600080fd5b506102e26113d3565b34801561057e57600080fd5b506105876113e2565b6040516102b997969594939291906138b2565b3480156105a657600080fd5b506105af611428565b6040516102b9919061394b565b3480156105c857600080fd5b506000805160206141a0833981519152546102e2565b6103106105ec366004613636565b610fa3565b3480156105fd57600080fd5b5061062e6040518060400160405280601181526020017026bab63a34a9b4b3a232b632a3b0ba37b960791b81525081565b6040516102b99190613998565b34801561064757600080fd5b5061065061149b565b6040516001600160a01b0390911681526020016102b9565b34801561067457600080fd5b5061062e604051806040016040528060018152602001603160f81b81525081565b3480156106a157600080fd5b5061062e604051806040016040528060058152602001640352e302e360dc1b81525081565b3480156106d257600080fd5b506106507f000000000000000000000000000000000000000000000000000000000000000081565b34801561070657600080fd5b5061070f6114bc565b6040516001600160401b0390911681526020016102b9565b34801561073357600080fd5b50610332610742366004613a2a565b6114ef565b34801561075357600080fd5b506102e261150b565b34801561076857600080fd5b50610310610777366004613ad7565b611597565b34801561078857600080fd5b506102e261167e565b6107a461079f366004613522565b6116d4565b6040516102b99190613b70565b3480156107bd57600080fd5b506103106107cc36600461361d565b61194a565b3480156107dd57600080fd5b506103106107ec366004613bd4565b611a40565b3480156107fd57600080fd5b507fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c02546102e2565b610310610833366004613522565b611c56565b34801561084457600080fd5b506106507f000000000000000000000000000000000000000000000000000000000000000081565b34801561087857600080fd5b5061031061088736600461339d565b611e59565b34801561089857600080fd5b506102e26108a736600461334c565b611fdf565b3480156108b857600080fd5b506103326108c7366004613c0d565b612121565b3480156108d857600080fd5b5061062e604051806040016040528060058152602001640312e332e360dc1b81525081565b600061090761213d565b6001600160e01b031982166335a4725960e21b148061093657506001600160e01b03198216630a85bd0160e11b145b8061095157506001600160e01b03198216630271189760e51b145b8061096c57506001600160e01b031982166301ffc9a760e01b145b8061098757506001600160e01b03198216630b135d3f60e11b145b92915050565b600061098761099a6121e4565b6109a384611fdf565b60405161190160f01b8152600281019290925260228201526042902090565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906109fb5750333014155b15610a1957604051630796d94560e01b815260040160405180910390fd5b6001600160a01b03811660009081526000805160206141c0833981519152602081905260409091205460ff16610a625760405163da0357f760e01b815260040160405180910390fd5b600181015460028201548103610a8b576040516361774dcf60e11b815260040160405180910390fd5b60005b610a99600183613c8b565b811015610b6357836001600160a01b0316836001018281548110610abf57610abf613c9e565b6000918252602090912001546001600160a01b031603610b5b5782600101600183610aea9190613c8b565b81548110610afa57610afa613c9e565b6000918252602090912001546001840180546001600160a01b039092169183908110610b2857610b28613c9e565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550610b63565b600101610a8e565b5081600101805480610b7757610b77613cb4565b60008281526020808220830160001990810180546001600160a01b03191690559092019092556001600160a01b038516808352908490526040808320805460ff191690555190917fb0073c14ccc2332b5b461c0d2fb94366f38d3954a82745e74827aa0811c9f98191a2505050565b6000610bf061213d565b50630a85bd0160e11b949350505050565b6000610c0b61213d565b610c1684848461230f565b90505b9392505050565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610c6b57604051636b31ba1560e11b815260040160405180910390fd5b610c7361213d565b610c8584610c808661098d565b6124ae565b9050610c19826124f6565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610d06573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109879190613cca565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610d635750333014155b15610d8157604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed0101590610dcd908490600401613e12565b600060405180830381600087803b158015610de757600080fd5b505af1158015610dfb573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610e6a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109879190613eed565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ec75750333014155b15610ee557604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690634993404790610dcd908490600401613e12565b610f3961213d565b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b158015610de757600080fd5b610fa361258e565b610fad828261264b565b5050565b6000610fbb612666565b506000805160206141e083398151915290565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461101757604051636b31ba1560e11b815260040160405180910390fd5b610fad611027602083018361339d565b60208301356110396040850185613f0a565b6126af565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff1615906001600160401b03166000811580156110835750825b90506000826001600160401b0316600114801561109f5750303b155b9050811580156110ad575080155b156110cb5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156110f557845460ff60401b1916600160401b1785555b61110288888860006126e5565b831561114957845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d2906020015b60405180910390a15b5050505050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061118c5750333014155b156111aa57604051630796d94560e01b815260040160405180910390fd5b6111b6848484846126e5565b50505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054869190600160401b900460ff1680611204575080546001600160401b03808416911610155b156112225760405163f92ee8a960e01b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b178155336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061127c5750333014155b1561129a57604051630796d94560e01b815260040160405180910390fd5b6112a6868686866126e5565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a150505050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061132f5750333014155b1561134d57604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156113b757600080fd5b505af11580156113cb573d6000803e3d6000fd5b505050505050565b60006113dd6121e4565b905090565b6000606080600080600060606113f6612963565b6113fe612990565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b606060006000805160206141c08339815191526001810180546040805160208084028201810190925282815293945083018282801561149057602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611472575b505050505091505090565b60006113dd6000805160206141e0833981519152546001600160a01b031690565b60006113dd7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00546001600160401b031690565b60006114f961213d565b5063bc197c8160e01b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015611573573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113dd9190613cca565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906115d05750333014155b156115ee57604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061164490899089908990899089908990600401613fb1565b600060405180830381600087803b15801561165e57600080fd5b505af1158015611672573d6000803e3d6000fd5b50505050505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401611556565b6060336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461171f57604051630692ce8160e21b815260040160405180910390fd5b83600881901b61173382600160f81b6129bd565b156117b95736600061174587876129cf565b90925090506117558360006129bd565b1561176b576117648282612a68565b94506117b2565b61177983600160f81b6129bd565b15611788576117648282612b29565b6040516308c3ee0360e11b81526001600160f81b0319841660048201526024015b60405180910390fd5b5050611941565b6117c48260006129bd565b1561191c576000803660006117d98989612c56565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816117f8579050509650600061181b86826129bd565b1561184f5761182c858585856126af565b8860008151811061183f5761183f613c9e565b6020026020010181905250611912565b61185d86600160f81b6129bd565b156118ed5761186e85858585612ca7565b8960008151811061188157611881613c9e565b60209081029190910101529050806118e8577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb76000896000815181106118c9576118c9613c9e565b60200260200101516040516118df92919061401a565b60405180910390a15b611912565b6040516308c3ee0360e11b81526001600160f81b0319871660048201526024016117a9565b5050505050611941565b604051632e5bf3f960e21b81526001600160f81b0319831660048201526024016117a9565b50509392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906119835750333014155b156119a157604051630796d94560e01b815260040160405180910390fd5b806000036119c25760405163aabd5a0960e01b815260040160405180910390fd5b6000805160206141a0833981519152546000805160206141c083398151915290821115611a025760405163aabd5a0960e01b815260040160405180910390fd5b600281018290556040518281527f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d039060200160405180910390a15050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611a795750333014155b15611a9757604051630796d94560e01b815260040160405180910390fd5b6001600160a01b0381161580611ab657506001600160a01b0381163b15155b15611ad457604051634501a91960e01b815260040160405180910390fd5b6001600160a01b03821660009081526000805160206141c0833981519152602081905260409091205460ff16611b1d5760405163da0357f760e01b815260040160405180910390fd5b6001600160a01b03821660009081526020829052604090205460ff1615611b5757604051631985f4ab60e31b815260040160405180910390fd5b600181015460005b81811015611bf157846001600160a01b0316836001018281548110611b8657611b86613c9e565b6000918252602090912001546001600160a01b031603611be95783836001018281548110611bb657611bb6613c9e565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550611bf1565b600101611b5f565b506001600160a01b03808516600081815260208590526040808220805460ff199081169091559387168083528183208054909516600117909455517f53a7b6f060162826746b07f3ff5cc66b83afad3bc9a57c9f34d7802901c6e8299190a350505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611c9f57604051636b31ba1560e11b815260040160405180910390fd5b82600881901b611cb382600160f81b6129bd565b15611d0e57366000611cc586866129cf565b9092509050611cd58360006129bd565b15611cea57611ce48282612a68565b50611d07565b611cf883600160f81b6129bd565b1561178857611ce48282612b29565b5050610dfb565b611d198260006129bd565b1561191c57600080366000611d2e8888612c56565b9350935093509350611d4485600060f81b6129bd565b15611d5b57611d55848484846126af565b50611e50565b611d6985600160f81b6129bd565b15611e2b57604080516001808252818301909252600091816020015b6060815260200190600190039081611d855790505090506000611daa86868686612ca7565b83600081518110611dbd57611dbd613c9e565b6020908102919091010152905080611e24577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb7600083600081518110611e0557611e05613c9e565b6020026020010151604051611e1b92919061401a565b60405180910390a15b5050611e50565b6040516308c3ee0360e11b81526001600160f81b0319861660048201526024016117a9565b50505050610dfb565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611e925750333014155b15611eb057604051630796d94560e01b815260040160405180910390fd5b6001600160a01b0381161580611ecf57506001600160a01b0381163b15155b15611eed57604051634501a91960e01b815260040160405180910390fd5b6000805160206141a0833981519152546000805160206141c083398151915290601d1901611f2e57604051630dc92ed360e11b815260040160405180910390fd5b6001600160a01b03821660009081526020829052604090205460ff1615611f6857604051631985f4ab60e31b815260040160405180910390fd5b6001818101805480830182556000918252602080832090910180546001600160a01b0319166001600160a01b038716908117909155808352908490526040808320805460ff191690941790935591517f82b74755d483f0688b80354268454667c377a5684e64a4dbb6820fc11a6276d49190a25050565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1861200f602084018461339d565b60208401356120216040860186613f0a565b60405161202f929190614033565b6040519081900390206120456060870187613f0a565b604051612053929190614033565b604051908190039020608087013560a088013560c089013561207860e08b018b613f0a565b604051612086929190614033565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b600061212b61213d565b5063f23a6e6160e01b95945050505050565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614806121c457507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166121b86000805160206141e0833981519152546001600160a01b031690565b6001600160a01b031614155b156121e25760405163703e46dd60e11b815260040160405180910390fd5b565b6000306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801561223d57507f000000000000000000000000000000000000000000000000000000000000000046145b1561226757507f000000000000000000000000000000000000000000000000000000000000000090565b6113dd604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b7fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c02546000906000805160206141c08339815191529061235090604190614043565b831461236757506001600160e01b03199050610c19565b600061237460418561405a565b600283015490915060008080805b858110156124965760008a8a612399604185614043565b9060416123a786600161407c565b6123b19190614043565b926123be9392919061408f565b8080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092935061240292508e9150839050612cd8565b9350846001600160a01b0316846001600160a01b031611158061243e57506001600160a01b03841660009081526020899052604090205460ff16155b1561245c57506001600160e01b03199750610c199650505050505050565b82612466816140b9565b9350508583106124885750630b135d3f60e11b9750610c199650505050505050565b509192508291600101612382565b506001600160e01b03199a9950505050505050505050565b6000806124c8836124c3610100870187613f0a565b61230f565b90506374eca2c160e11b6001600160e01b03198216016124ec576000915050610987565b5060019392505050565b801561258b57604051600090339060001990849084818181858888f193505050503d8060008114612543576040519150601f19603f3d011682016040523d82523d6000602084013e612548565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a2505b50565b6000805160206141a0833981519152546000805160206141c08339815191529060005b81811015612608578260000160008460010183815481106125d4576125d4613c9e565b60009182526020808320909101546001600160a01b031683528201929092526040019020805460ff191690556001016125b1565b506126176001830160006132d7565b6000600283018190556040517feb09d532980c3cc73dcad99b80e264204a667a54cbb7b63ec8d68dcb1c7096be9190a15050565b61265361213d565b61265c82612d02565b610fad8282612d59565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146121e25760405163703e46dd60e11b815260040160405180910390fd5b60405181838237600038838387895af16126cc573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b6000805160206141a08339815191525483906000805160206141c08339815191529060008461271d57612718828561407c565b61271f565b835b905085158061272d57508086115b1561274b5760405163aabd5a0960e01b815260040160405180910390fd5b601e81111561276d57604051630dc92ed360e11b815260040160405180910390fd5b84156128015760005b828110156127f257600084600101828154811061279557612795613c9e565b60009182526020808320909101546001600160a01b0316808352908790526040808320805460ff191690555190925082917fb0073c14ccc2332b5b461c0d2fb94366f38d3954a82745e74827aa0811c9f98191a250600101612776565b506128016001840160006132d7565b60005b8481101561292b57600089898381811061282057612820613c9e565b9050602002016020810190612835919061339d565b6001600160a01b03811660009081526020879052604090205490915060ff161561287257604051631985f4ab60e31b815260040160405180910390fd5b6001600160a01b038116158061289157506001600160a01b0381163b15155b156128af57604051634501a91960e01b815260040160405180910390fd5b6001858101805480830182556000918252602080832090910180546001600160a01b0319166001600160a01b038616908117909155808352908890526040808320805460ff191690941790935591517f82b74755d483f0688b80354268454667c377a5684e64a4dbb6820fc11a6276d49190a250600101612804565b50600283018690556040518681527f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d0390602001611140565b60606113dd7f00000000000000000000000000000000000000000000000000000000000000006000612e1b565b60606113dd7f00000000000000000000000000000000000000000000000000000000000000006001612e1b565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c1715612a075763ba597e7e6000526004601cfd5b8315612a5e578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715612a555763ba597e7e6000526004601cfd5b50505082612a11575b5050509250929050565b606081806001600160401b03811115612a8357612a836133ba565b604051908082528060200260200182016040528015612ab657816020015b6060815260200190600190039081612aa15790505b50915060005b81811015612b215736858583818110612ad757612ad7613c9e565b9050602002810190612ae991906140d2565b9050612afb611027602083018361339d565b848381518110612b0d57612b0d613c9e565b602090810291909101015250600101612abc565b505092915050565b606081806001600160401b03811115612b4457612b446133ba565b604051908082528060200260200182016040528015612b7757816020015b6060815260200190600190039081612b625790505b50915060005b81811015612b215736858583818110612b9857612b98613c9e565b9050602002810190612baa91906140d2565b90506000612bd5612bbe602084018461339d565b6020840135612bd06040860186613f0a565b612ca7565b868581518110612be757612be7613c9e565b6020908102919091010152905080612c4c577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110612c2d57612c2d613c9e565b6020026020010151604051612c4392919061401a565b60405180910390a15b5050600101612b7d565b6000803681612c68601482878961408f565b612c71916140f2565b60601c9350612c8460346014878961408f565b612c8d91614125565b9250612c9c856034818961408f565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080612ce88686612ec6565b925092509250612cf88282612f13565b5090949350505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590612d3b5750333014155b1561258b57604051630796d94560e01b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015612db3575060408051601f3d908101601f19168201909252612db091810190613cca565b60015b612ddb57604051634c9c8ce360e01b81526001600160a01b03831660048201526024016117a9565b6000805160206141e08339815191528114612e0c57604051632a87526960e21b8152600481018290526024016117a9565b612e168383612fcc565b505050565b606060ff8314612e3557612e2e83613022565b9050610987565b818054612e4190614143565b80601f0160208091040260200160405190810160405280929190818152602001828054612e6d90614143565b8015612eba5780601f10612e8f57610100808354040283529160200191612eba565b820191906000526020600020905b815481529060010190602001808311612e9d57829003601f168201915b50505050509050610987565b60008060008351604103612f005760208401516040850151606086015160001a612ef288828585613061565b955095509550505050612f0c565b50508151600091506002905b9250925092565b6000826003811115612f2757612f27614177565b03612f30575050565b6001826003811115612f4457612f44614177565b03612f625760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115612f7657612f76614177565b03612f975760405163fce698f760e01b8152600481018290526024016117a9565b6003826003811115612fab57612fab614177565b03610fad576040516335e2f38360e21b8152600481018290526024016117a9565b612fd582613130565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561301a57612e168282613195565b610fad61320b565b6060600061302f8361322a565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a084111561309c5750600091506003905082613126565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa1580156130f0573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b03811661311c57506000925060019150829050613126565b9250600091508190505b9450945094915050565b806001600160a01b03163b60000361316657604051634c9c8ce360e01b81526001600160a01b03821660048201526024016117a9565b6000805160206141e083398151915280546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b0316846040516131b2919061418d565b600060405180830381855af49150503d80600081146131ed576040519150601f19603f3d011682016040523d82523d6000602084013e6131f2565b606091505b5091509150613202858383613252565b95945050505050565b34156121e25760405163b398979f60e01b815260040160405180910390fd5b600060ff8216601f81111561098757604051632cd44ac360e21b815260040160405180910390fd5b60608261326757613262826132ae565b610c19565b815115801561327e57506001600160a01b0384163b155b156132a757604051639996b31560e01b81526001600160a01b03851660048201526024016117a9565b5080610c19565b8051156132be5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b508054600082559060005260206000209081019061258b91905b8082111561330557600081556001016132f1565b5090565b60006020828403121561331b57600080fd5b81356001600160e01b031981168114610c1957600080fd5b6000610120828403121561334657600080fd5b50919050565b60006020828403121561335e57600080fd5b81356001600160401b0381111561337457600080fd5b61338084828501613333565b949350505050565b6001600160a01b038116811461258b57600080fd5b6000602082840312156133af57600080fd5b8135610c1981613388565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b03811182821017156133f8576133f86133ba565b604052919050565b600082601f83011261341157600080fd5b81356001600160401b0381111561342a5761342a6133ba565b61343d601f8201601f19166020016133d0565b81815284602083860101111561345257600080fd5b816020850160208301376000918101602001919091529392505050565b6000806000806080858703121561348557600080fd5b843561349081613388565b935060208501356134a081613388565b92506040850135915060608501356001600160401b038111156134c257600080fd5b6134ce87828801613400565b91505092959194509250565b60008083601f8401126134ec57600080fd5b5081356001600160401b0381111561350357600080fd5b60208301915083602082850101111561351b57600080fd5b9250929050565b60008060006040848603121561353757600080fd5b8335925060208401356001600160401b0381111561355457600080fd5b613560868287016134da565b9497909650939450505050565b60008060006060848603121561358257600080fd5b83356001600160401b0381111561359857600080fd5b6135a486828701613333565b9660208601359650604090950135949350505050565b6000602082840312156135cc57600080fd5b81356001600160c01b0381168114610c1957600080fd5b6000602082840312156135f557600080fd5b81356001600160401b0381111561360b57600080fd5b820160c08185031215610c1957600080fd5b60006020828403121561362f57600080fd5b5035919050565b6000806040838503121561364957600080fd5b823561365481613388565b915060208301356001600160401b0381111561366f57600080fd5b61367b85828601613400565b9150509250929050565b60006020828403121561369757600080fd5b81356001600160401b038111156136ad57600080fd5b820160608185031215610c1957600080fd5b60008083601f8401126136d157600080fd5b5081356001600160401b038111156136e857600080fd5b6020830191508360208260051b850101111561351b57600080fd5b60008060006040848603121561371857600080fd5b83356001600160401b0381111561372e57600080fd5b61373a868287016136bf565b909790965060209590950135949350505050565b801515811461258b57600080fd5b6000806000806060858703121561377257600080fd5b84356001600160401b0381111561378857600080fd5b613794878288016136bf565b9095509350506020850135915060408501356137af8161374e565b939692955090935050565b6000806000806000608086880312156137d257600080fd5b85356001600160401b0380821682146137ea57600080fd5b9095506020870135908082111561380057600080fd5b5061380d888289016136bf565b9095509350506040860135915060608601356138288161374e565b809150509295509295909350565b6000806040838503121561384957600080fd5b823561385481613388565b946020939093013593505050565b60005b8381101561387d578181015183820152602001613865565b50506000910152565b6000815180845261389e816020860160208601613862565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e060208401526138d360e084018a613886565b83810360408501526138e5818a613886565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156139395783518352928401929184019160010161391d565b50909c9b505050505050505050505050565b6020808252825182820181905260009190848201906040850190845b8181101561398c5783516001600160a01b031683529284019291840191600101613967565b50909695505050505050565b602081526000610c196020830184613886565b600082601f8301126139bc57600080fd5b813560206001600160401b038211156139d7576139d76133ba565b8160051b6139e68282016133d0565b9283528481018201928281019087851115613a0057600080fd5b83870192505b84831015613a1f57823582529183019190830190613a06565b979650505050505050565b600080600080600060a08688031215613a4257600080fd5b8535613a4d81613388565b94506020860135613a5d81613388565b935060408601356001600160401b0380821115613a7957600080fd5b613a8589838a016139ab565b94506060880135915080821115613a9b57600080fd5b613aa789838a016139ab565b93506080880135915080821115613abd57600080fd5b50613aca88828901613400565b9150509295509295909350565b60008060008060008060608789031215613af057600080fd5b86356001600160401b0380821115613b0757600080fd5b613b138a838b016136bf565b90985096506020890135915080821115613b2c57600080fd5b613b388a838b016136bf565b90965094506040890135915080821115613b5157600080fd5b50613b5e89828a016136bf565b979a9699509497509295939492505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b82811015613bc757603f19888603018452613bb5858351613886565b94509285019290850190600101613b99565b5092979650505050505050565b60008060408385031215613be757600080fd5b8235613bf281613388565b91506020830135613c0281613388565b809150509250929050565b600080600080600060a08688031215613c2557600080fd5b8535613c3081613388565b94506020860135613c4081613388565b9350604086013592506060860135915060808601356001600160401b03811115613c6957600080fd5b613aca88828901613400565b634e487b7160e01b600052601160045260246000fd5b8181038181111561098757610987613c75565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052603160045260246000fd5b600060208284031215613cdc57600080fd5b5051919050565b6000808335601e19843603018112613cfa57600080fd5b83016020810192503590506001600160401b03811115613d1957600080fd5b80360382131561351b57600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b88811015613e0457858403601f19018a52823536899003605e19018112613d90578283fd5b880160608135613d9f81613388565b6001600160a01b03168652613db682880183613ce3565b8289890152613dc88389018284613d28565b925050506040613dda81840184613ce3565b935087830382890152613dee838583613d28565b9d89019d97505050938601935050600101613d6b565b509198975050505050505050565b6020815260008235613e2381613388565b6001600160a01b0390811660208481019190915284013590613e4482613388565b80821660408501525050604083013560608301526060830135601e19843603018112613e6f57600080fd5b83016020810190356001600160401b03811115613e8b57600080fd5b8060051b3603821315613e9d57600080fd5b60c06080850152613eb260e085018284613d51565b915050608084013560a0840152613ecc60a0850185613ce3565b848303601f190160c0860152613ee3838284613d28565b9695505050505050565b600060208284031215613eff57600080fd5b8151610c198161374e565b6000808335601e19843603018112613f2157600080fd5b8301803591506001600160401b03821115613f3b57600080fd5b60200191503681900382131561351b57600080fd5b6000838385526020808601955060208560051b8301018460005b87811015613fa457848303601f19018952613f858288613ce3565b613f90858284613d28565b9a86019a9450505090830190600101613f6a565b5090979650505050505050565b606081526000613fc560608301888a613f50565b8281036020848101919091528682528791810160005b88811015613ff757833582529282019290820190600101613fdb565b50848103604086015261400b818789613f50565b9b9a5050505050505050505050565b828152604060208201526000610c166040830184613886565b8183823760009101908152919050565b808202811582820484141761098757610987613c75565b60008261407757634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561098757610987613c75565b6000808585111561409f57600080fd5b838611156140ac57600080fd5b5050820193919092039150565b6000600182016140cb576140cb613c75565b5060010190565b60008235605e198336030181126140e857600080fd5b9190910192915050565b6bffffffffffffffffffffffff198135818116916014851015612b215760149490940360031b84901b1690921692915050565b8035602083101561098757600019602084900360031b1b1692915050565b600181811c9082168061415757607f821691505b60208210810361334657634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fd5b600082516140e881846020870161386256feb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c01b005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c00360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbca26469706673582212205fc6fdc85503c31560366339056f5ba5c2624d0697f326aa98f14cda48fe6f7164736f6c63430008170033";ee({},{abi:()=>Ci,bytecode:()=>ki});var Ci=[{type:"function",name:"verify",inputs:[{name:"message",type:"bytes32",internalType:"bytes32"},{name:"r",type:"uint256",internalType:"uint256"},{name:"s",type:"uint256",internalType:"uint256"},{name:"qx",type:"uint256",internalType:"uint256"},{name:"qy",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],ki="0x610c9761003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100355760003560e01c8063a1f312811461003a575b600080fd5b61004d610048366004610bf0565b610061565b604051901515815260200160405180910390f35b600084158061007e5750600080516020610c428339815191528510155b80610087575083155b806100a05750600080516020610c428339815191528410155b156100ad5750600061020a565b6100fe600160601b63ffffffff60c01b03196bfffffffffffffffffffffffd63ffffffff60c01b03197f5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b8686610213565b151560000361010f5750600061020a565b600061011a856102be565b90506000600080516020610c4283398151915282890990506000600080516020610c42833981519152838909905060006040518060c00160405280888152602001878152602001600160601b63ffffffff60c01b031981526020016bfffffffffffffffffffffffd63ffffffff60c01b031981526020017f6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c29681526020017f4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5815250905060006101ea828585610337565b509050600080516020610c428339815191528a8103820815955050505050505b95945050505050565b600082158015610221575081155b8061022c5750858310155b806102375750858210155b156102445750600061020a565b6000868061025457610254610c2b565b83840990506000878061026957610269610c2b565b888061027757610277610c2b565b888709898061028857610288610c2b565b878b8061029757610297610c2b565b898a090908905087806102ac576102ac610c2b565b86820891909114979650505050505050565b600060405160208152602080820152602060408201528260608201527fffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc63254f6080820152600080516020610c4283398151915260a082015260208160c0836005600019fa610330576107fe60405260206040fd5b5192915050565b600080600160ff1b8415801561034b575083155b1561035d576000809250925050610be8565b60008061080060405101604052604088015161082060405101526108206040510151610466565b6000806000808886600209898182098a8188098b82840992508b8c8d8c8d098f098d8e8b8c096003090895508b8b840993508b8a830994508b8c8260028f03098d8889090896508b8c828e03890887099150508a818c8a8509089450505082890392509650965096509692505050565b9086039086828186890908955086818803888588090894506000806000808a898a0993508a89850992508a84880991508a83890990508a84860996508a8b8860028e03098c858e038e8e8f09080893508a8a8c868e038a080994508a8b84880986089250975097509750979350505050565b60a0898101516080808c01516040519182015291820152600160c0820181905260e0909101526104a760608a01518260018060a08e015160808f0151610384565b95509350955095506104d683838789610100604051019081526020810191909152604081019190915260600152565b6104ed8160a08b015160808c015186868a8c6103f4565b955093509550955061051c83838789610180604051019081526020810191909152604081019190915260600152565b61054c60018060208c015160008d0151610200604051019081526020810191909152604081019190915260600152565b6080890151955060a089015194506105728160208b015160008c01516001808a8c6103f4565b95509350955095506105a183838789610280604051019081526020810191909152604081019190915260600152565b6105b88160a08b015160808c015186868a8c6103f4565b95509350955095506105e783838789610300604051019081526020810191909152604081019190915260600152565b6105fe8160a08b015160808c015186868a8c6103f4565b955093509550955061062d83838789610380604051019081526020810191909152604081019190915260600152565b600089015195506020890151945061064e60608a015182600180898b610384565b955093509550955061067d83838789610400604051019081526020810191909152604081019190915260600152565b6106948160a08b015160808c015186868a8c6103f4565b95509350955095506106c383838789610480604051019081526020810191909152604081019190915260600152565b6106da8160a08b015160808c015186868a8c6103f4565b955093509550955061070983838789610500604051019081526020810191909152604081019190915260600152565b6107208160a08b015160808c015186868a8c6103f4565b955093509550955061074f83838789610580604051019081526020810191909152604081019190915260600152565b6104006040510151955061042060405101519450610440604051015191506104606040510151925061078e8160208b015160008c015186868a8c6103f4565b95509350955095506107bd83838789610600604051019081526020810191909152604081019190915260600152565b6107d48160a08b015160808c015186868a8c6103f4565b955093509550955061080383838789610680604051019081526020810191909152604081019190915260600152565b61081a8160a08b015160808c015186868a8c6103f4565b955093509550955061084983838789610700604051019081526020810191909152604081019190915260600152565b6108608160a08b015160808c015186868a8c6103f4565b95509350955095505061089082828688610780604051019081526020810191909152604081019190915260600152565b600091505b816108d5578286161560010360031b8360011c87161560010360021b018388161560010360011b8460011c891615600103010191508260021c9250610895565b506040805160079290921b82018051602082015192820151606090920151610820850151919750929550919290915b8415610b7d5780866002098181820982818a09838284099250838487880960608f015109848186878e8f09600309089050848885099750848784099650600285039a508485838d0986838409089a5084858387038d088209925050508281848a850908830397508291508790506002098181820982818a09838284099250838487880960608f015109848186878e8f09600309089050848885099750848784099650600285039a508485838d0986838409089a5084858387038d088209925050508281848a850908975050508488161560010360031b8560011c89161560010360021b01858a161560010360011b8660011c8b1615600103010180610a0d575094850394610b72565b60071b828101805160609091015161086085015284610a48579083016020810151604082015160609092015192995097509094509250610b72565b82836108608601518a09848885602001880151090861084085015290830160400151908280838b0984038487840908610840850151610b005780610b005783896002860309925083838409905083818b09610840860152838184099250838487880960608f0151099150838285868d8e09600309089150838784099650838682099550838461084087015160028703098584850908995083848b8603610840880151088309905083848a850982089850505050610b72565b83818209915083818309905083838584890909955083838b0992508361086086015185838a09099650838485846002880309850985838703876108408a01516108408b01510908089950838284099150838482866108608901518d090985610840880151878e89038708090898505050505b8460021c9450610904565b61088060408190526108e085905260208082526108a08190526108c08190526001198301610900526109208390529092508260c0816005600019fa610bc8576107ff60405260206040fd5b808251870995508082518409925080838409925080838809965050505050505b935093915050565b600080600080600060a08688031215610c0857600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b634e487b7160e01b600052601260045260246000fdfeffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551a26469706673582212202032a0a92437c4c7498b5f3dbbeea2851a22a8974a563aed836730aa07e1cdda64736f6c63430008170033",Ii=n(97769),Pi=n(62266),Oi=n(40145),Mi=n(10286),Ri=n(19455),Ni=n(49634),Li={};G(Li,{getDelegationManager:()=>Di,getDeposit:()=>Bi,getEntryPoint:()=>ji,getNonce:()=>Ui,getProxyImplementation:()=>Fi,getProxyVersion:()=>$i,isValidSignature:()=>zi});var Di=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:we.abi,functionName:"delegationManager"}),Bi=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:we.abi,functionName:"getDeposit"}),ji=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:we.abi,functionName:"entryPoint"}),Ui=async({client:e,contractAddress:t,key:n})=>await(0,Oi.J)(e,{address:t,abi:we.abi,functionName:"getNonce",args:n?[n]:void 0}),Fi=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:we.abi,functionName:"getImplementation"}),$i=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:we.abi,functionName:"getInitializedVersion"}),zi=async({client:e,contractAddress:t,hash:n,signature:r})=>await(0,Oi.J)(e,{address:t,abi:we.abi,functionName:"isValidSignature",args:[n,r]}),Hi=({hash:e,signature:t})=>(0,Mi.p)({abi:we.abi,functionName:"isValidSignature",args:[e,t]});async function qi({client:e,contractAddress:t}){const n=await(0,Pi.Q)(e,{address:t});return Boolean(n)&&"0x"!==n}async function Ki({client:e,contractAddress:t,expectedImplementationAddress:n}){return!!await qi({client:e,contractAddress:t})&&await Fi({client:e,contractAddress:t})===n}var Wi=({implementationAddress:e,initcode:t})=>(0,Ii.m)({abi:$e.abi,args:[e,t],bytecode:$e.bytecode}),Vi=async({client:e,hybridDeleGatorAddress:t,eoaOwner:n,p256Owners:r})=>(0,Ri.v)(e,{address:t,abi:Tn.abi,functionName:"initialize",args:[n,r.map(e=>e.keyId),r.map(e=>e.x),r.map(e=>e.y)]}),Gi=({eoaOwner:e,p256Owners:t})=>(0,Mi.p)({abi:Tn.abi,functionName:"initialize",args:[e,t.map(e=>e.keyId),t.map(e=>e.x),t.map(e=>e.y)]}),Yi={};G(Yi,{addKey:()=>Zi,initializeHybridDeleGator:()=>Gi,reinitializeHybridDeleGator:()=>Qi,removeKey:()=>ta,updateSigners:()=>ra});var Ji=async({client:e,hybridDeleGatorAddress:t,p256Owner:n})=>(0,Ri.v)(e,{address:t,abi:Tn.abi,functionName:"addKey",args:[n.keyId,n.x,n.y]}),Zi=({p256Owner:e})=>(0,Mi.p)({abi:Tn.abi,functionName:"addKey",args:[e.keyId,e.x,e.y]}),Xi=async({client:e,hybridDeleGatorAddress:t,version:n,eoaOwner:r,p256Owners:i,removeExistingP256Owners:a})=>(0,Ri.v)(e,{address:t,abi:Tn.abi,functionName:"reinitialize",args:[n,r,i.map(e=>e.keyId),i.map(e=>e.x),i.map(e=>e.y),a]}),Qi=({version:e,eoaOwner:t,p256Owners:n,removeExistingP256Owners:r})=>(0,Mi.p)({abi:Tn.abi,functionName:"reinitialize",args:[e,t,n.map(e=>e.keyId),n.map(e=>e.x),n.map(e=>e.y),r]}),ea=async({client:e,hybridDeleGatorAddress:t,keyId:n})=>(0,Ri.v)(e,{address:t,abi:Tn.abi,functionName:"removeKey",args:[n]}),ta=({keyId:e})=>(0,Mi.p)({abi:Tn.abi,functionName:"removeKey",args:[e]}),na=async({client:e,hybridDeleGatorAddress:t,eoaOwner:n,p256Owners:r})=>(0,Ri.v)(e,{address:t,abi:Tn.abi,functionName:"updateSigners",args:[n,r.map(e=>e.keyId),r.map(e=>e.x),r.map(e=>e.y)]}),ra=({eoaOwner:e,p256Owners:t})=>(0,Mi.p)({abi:Tn.abi,functionName:"updateSigners",args:[e,t.map(e=>e.keyId),t.map(e=>e.x),t.map(e=>e.y)]}),ia=async({client:e,multiSigDeleGatorAddress:t,owners:n,threshold:r})=>(0,Ri.v)(e,{address:t,abi:Ti.abi,functionName:"initialize",args:[n,r]}),aa=({owners:e,threshold:t})=>(0,Mi.p)({abi:Ti.abi,functionName:"initialize",args:[e,t]}),sa={};G(sa,{addSigner:()=>ca,initializeMultiSigDeleGator:()=>aa,reinitializeMultiSigDeleGator:()=>ua,removeSigner:()=>fa,replaceSigner:()=>ha,updateMultiSigParameters:()=>ya,updateThreshold:()=>ga});var oa=async({client:e,multiSigDeleGatorAddress:t,signer:n})=>(0,Ri.v)(e,{address:t,abi:Ti.abi,functionName:"addSigner",args:[n]}),ca=({signer:e})=>(0,Mi.p)({abi:Ti.abi,functionName:"addSigner",args:[e]}),la=async({client:e,multiSigDeleGatorAddress:t,version:n,owners:r,threshold:i,removeExistingOwners:a})=>(0,Ri.v)(e,{address:t,abi:Ti.abi,functionName:"reinitialize",args:[n,r,i,a]}),ua=({version:e,owners:t,threshold:n,removeExistingOwners:r})=>(0,Mi.p)({abi:Ti.abi,functionName:"reinitialize",args:[e,t,n,r]}),da=async({client:e,multiSigDeleGatorAddress:t,signer:n})=>(0,Ri.v)(e,{address:t,abi:Ti.abi,functionName:"removeSigner",args:[n]}),fa=({signer:e})=>(0,Mi.p)({abi:Ti.abi,functionName:"removeSigner",args:[e]}),pa=async({client:e,multiSigDeleGatorAddress:t,oldSigner:n,newSigner:r})=>(0,Ri.v)(e,{address:t,abi:Ti.abi,functionName:"replaceSigner",args:[n,r]}),ha=({oldSigner:e,newSigner:t})=>(0,Mi.p)({abi:Ti.abi,functionName:"replaceSigner",args:[e,t]}),ba=async({client:e,multiSigDeleGatorAddress:t,owners:n,threshold:r,removeExistingOwners:i})=>(0,Ri.v)(e,{address:t,abi:Ti.abi,functionName:"updateMultiSigParameters",args:[n,r,i]}),ya=({owners:e,threshold:t,removeExistingOwners:n})=>(0,Mi.p)({abi:Ti.abi,functionName:"updateMultiSigParameters",args:[e,t,n]}),ma=async({client:e,multiSigDeleGatorAddress:t,threshold:n})=>(0,Ri.v)(e,{address:t,abi:Ti.abi,functionName:"updateThreshold",args:[n]}),ga=({threshold:e})=>(0,Mi.p)({abi:Ti.abi,functionName:"updateThreshold",args:[e]}),wa=async({client:e,factoryAddress:t,creationCode:n,salt:r})=>(0,Ri.v)(e,{address:t,abi:Gr.abi,functionName:"deploy",args:[n,r]}),va=(e,t)=>(0,Mi.p)({abi:Gr.abi,functionName:"deploy",args:[e,t]}),Ea=async({client:e,factoryAddress:t,creationCode:n,salt:r})=>{const{request:i}=await wa({client:e,factoryAddress:t,creationCode:n,salt:r});return(0,Ni.E)(e,i)},xa={};G(xa,{create2Deploy:()=>va});var Sa=async({client:e,contractAddress:t,execution:n})=>(0,Ri.v)(e,{address:t,abi:we.abi,functionName:"execute",args:[n]}),Ta=async({client:e,contractAddress:t,execution:n})=>{const{request:r}=await Sa({client:e,contractAddress:t,execution:n});return(0,Ni.E)(e,r)},Aa=({execution:e})=>(0,Mi.p)({abi:we.abi,functionName:"execute",args:[e]}),_a=async({client:e,contractAddress:t,mode:n,executions:r})=>(0,Ri.v)(e,{address:t,abi:we.abi,functionName:"execute",args:[n,l(r)]}),Ca=async({client:e,contractAddress:t,mode:n,executions:r})=>{const{request:i}=await _a({client:e,contractAddress:t,mode:n,executions:r});return(0,Ni.E)(e,i)},ka=({mode:e,executions:t})=>(0,Mi.p)({abi:we.abi,functionName:"execute",args:[e,l(t)]}),Ia={};G(Ia,{disableDelegation:()=>Ma,enableDelegation:()=>La,execute:()=>Aa,executeWithMode:()=>ka,isValidSignature:()=>Hi,upgradeToAndCall:()=>ja});var Pa=async({client:e,delegationManagerAddress:t,delegation:n})=>{const r=we.abi,i=Y(n);return(0,Ri.v)(e,{address:t,abi:r,functionName:"disableDelegation",args:[i]})},Oa=async({client:e,delegationManagerAddress:t,delegation:n})=>{const{request:r}=await Pa({client:e,delegationManagerAddress:t,delegation:n});return(0,Ni.E)(e,r)},Ma=({delegation:e})=>{const t=Y(e);return(0,Mi.p)({abi:we.abi,functionName:"disableDelegation",args:[t]})},Ra=async({client:e,delegationManagerAddress:t,delegation:n})=>{const r=we.abi,i=Y(n);return(0,Ri.v)(e,{address:t,abi:r,functionName:"enableDelegation",args:[i]})},Na=async({client:e,delegationManagerAddress:t,delegation:n})=>{const{request:r}=await Ra({client:e,delegationManagerAddress:t,delegation:n});return(0,Ni.E)(e,r)},La=({delegation:e})=>{const t=Y(e);return(0,Mi.p)({abi:we.abi,functionName:"enableDelegation",args:[t]})},Da=async({client:e,contractAddress:t,implementation:n,data:r})=>(0,Ri.v)(e,{address:t,abi:we.abi,functionName:"upgradeToAndCall",args:[n,r]}),Ba=async({client:e,contractAddress:t,implementation:n,data:r})=>{const{request:i}=await Da({client:e,contractAddress:t,implementation:n,data:r});return(0,Ni.E)(e,i)},ja=({implementation:e,data:t})=>(0,Mi.p)({abi:we.abi,functionName:"upgradeToAndCall",args:[e,t]}),Ua=n(63577),Fa=n(6619),$a=n(27685),za=n(30666),Ha=n(30036);function qa(e){return`0x${(0,Ha.My)(e)}`}var Ka=n(1048).Buffer,Wa=(e=>(e.MultiSig="MultiSig",e.Hybrid="Hybrid",e.Stateless7702="Stateless7702",e))(Wa||{}),Va=e=>"permissionsContext"in e&&"delegationManager"in e,Ga=async(e,t)=>{if(1===t.length){const n=t[0];if(n&&n.to===e&&!Va(n))return n.data??"0x"}return(e=>{if(1===e.length){const t=e[0];if(t&&!Va(t)){const{to:e,value:n,data:r}=t,i=o({target:e,value:n,callData:r});return Aa({execution:i})}}const t=e.map(e=>{if(Va(e))return(e=>{const{permissionsContext:t,delegationManager:n,to:r,value:i,data:a}=e,s=o({target:r,value:i,callData:a});if(!t)return s;const c=(0,Mi.p)({abi:Ne.abi,functionName:"redeemDelegations",args:[[t],["0x0000000000000000000000000000000000000000000000000000000000000000"],u([[s]])]});return o({target:n,callData:c})})(e);const{to:t,value:n,data:r}=e;return o({target:t,value:n,callData:r})}),n=1===e.length?"0x0000000000000000000000000000000000000000000000000000000000000000":"0x0100000000000000000000000000000000000000000000000000000000000000";return ka({mode:n,executions:t})})(t)},Ya=115792089210356248762697446949407573529996955224135760342422259061068512044369n,Ja=Ya/2n,Za=(0,$a.m)("bytes32, uint256, uint256, bytes, bool, string, string, uint256");function Xa(e,t,n,r){const i=(0,d.S)((0,a.P)(["string"],[e])),o=function(e){const t="string"==typeof e?(n=e,(0,Ha.aT)(n.slice(2))):e;var n;const r=t.slice(0,32),i=t.slice(32,64);return{r:BigInt(qa(r)),s:BigInt(qa(i))}}(t);let{s:c}=o;for(;c>Ja;)c=Ya-c;const{r:l}=o,[u,f]=(e=>{try{const{challenge:t}=JSON.parse(e);if(void 0===t)throw new Error('No "challenge" found in the input string');return e.split(t)}catch(e){throw new Error('No "challenge" found in the input string',{cause:e})}})(n),{userVerified:p}=function(e){return{userVerified:!!(4&Ka.from(e.slice(2),"hex").readUInt8(Qa))}}(r),h=(e=>{try{const t=e.indexOf('"type":');if(-1===t)throw new Error('No "type" found in the input string');return BigInt(t)}catch(e){throw new Error('No "type" found in the input string',{cause:e})}})(n);return(0,s.h)(Za,[i,l,c,r,p,u,f,h])}var Qa=32,es=n(74846),ts={};G(ts,{read:()=>ns});var ns={};G(ns,{getAvailableAmount:()=>rs});var rs=async({client:e,contractAddress:t,delegationHash:n,delegationManager:r,terms:i})=>{const[a,s,o]=await(0,Oi.J)(e,{address:t,abi:Ze.abi,functionName:"getAvailableAmount",args:[n,r,i]});return{availableAmount:a,isNewPeriod:s,currentPeriod:o}},is={};G(is,{read:()=>as});var as={};G(as,{getAvailableAmount:()=>ss});var ss=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r,terms:i})=>{const a=(await(0,es.g)(e)).timestamp,s=await(0,Oi.J)(e,{address:t,abi:wt.abi,functionName:"streamingAllowances",args:[n,r]}),[o,c,l,u,d]=s;if(0n!==u)return{availableAmount:os({initialAmount:o,maxAmount:c,amountPerSecond:l,startTime:u,spent:d,currentTimestamp:a})};const f=await(0,Oi.J)(e,{address:t,abi:wt.abi,functionName:"getTermsInfo",args:[i]}),[,p,h,b,y]=f;return{availableAmount:os({initialAmount:p,maxAmount:h,amountPerSecond:b,startTime:y,spent:0n,currentTimestamp:a})}};function os(e){if(e.currentTimestamp<e.startTime)return 0n;const t=e.currentTimestamp-e.startTime;let n=e.initialAmount+e.amountPerSecond*t;return n>e.maxAmount&&(n=e.maxAmount),e.spent>=n?0n:n-e.spent}var cs={};G(cs,{read:()=>ls});var ls={};G(ls,{getAvailableAmount:()=>us});var us=async({client:e,contractAddress:t,delegationHash:n,delegationManager:r,terms:i,args:a})=>{const[s,o,c]=await(0,Oi.J)(e,{address:t,abi:sr.abi,functionName:"getAvailableAmount",args:[n,r,i,a]});return{availableAmount:s,isNewPeriod:o,currentPeriod:c}},ds={};G(ds,{read:()=>fs});var fs={};G(fs,{getAvailableAmount:()=>ps});var ps=async({client:e,contractAddress:t,delegationHash:n,delegationManager:r,terms:i})=>{const[a,s,o]=await(0,Oi.J)(e,{address:t,abi:Xn.abi,functionName:"getAvailableAmount",args:[n,r,i]});return{availableAmount:a,isNewPeriod:s,currentPeriod:o}},hs={};G(hs,{read:()=>bs});var bs={};G(bs,{getAvailableAmount:()=>ys});var ys=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r,terms:i})=>{const a=(await(0,es.g)(e)).timestamp,s=await(0,Oi.J)(e,{address:t,abi:Un.abi,functionName:"streamingAllowances",args:[n,r]}),[o,c,l,u,d]=s;if(0n!==u)return{availableAmount:ms({initialAmount:o,maxAmount:c,amountPerSecond:l,startTime:u,spent:d,currentTimestamp:a})};const f=await(0,Oi.J)(e,{address:t,abi:Un.abi,functionName:"getTermsInfo",args:[i]}),[p,h,b,y]=f;return{availableAmount:ms({initialAmount:p,maxAmount:h,amountPerSecond:b,startTime:y,spent:0n,currentTimestamp:a})}};function ms(e){if(e.currentTimestamp<e.startTime)return 0n;const t=e.currentTimestamp-e.startTime;let n=e.initialAmount+e.amountPerSecond*t;return n>e.maxAmount&&(n=e.maxAmount),e.spent>=n?0n:n-e.spent}var gs=n(92366),ws={PackedUserOperation:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"entryPoint",type:"address"}]},vs=n(93606),Es=n(14323),xs=n(34820);function Ss({delegation:e,enforcerAddress:t,enforcerName:n}){const r=e.caveats.filter(e=>e.enforcer.toLowerCase()===t.toLowerCase());if(0===r.length)throw new Error(`No caveat found with enforcer matching ${n}`);if(r.length>1)throw new Error(`Multiple caveats found with enforcer matching ${n}`);const[{terms:i,args:a}]=r;return{terms:i,args:a}}function Ts(e){if(!e.DelegationManager)throw new Error("Delegation manager address not found");return e.DelegationManager}function As({enforcerName:e,environment:t}){const n=t.caveatEnforcers[e];if(!n)throw new Error(`${e} not found in environment`);return n}async function _s(e,t,n){const r="ERC20PeriodTransferEnforcer",i=Ts(t),a=As({enforcerName:r,environment:t}),s=X(n.delegation),{terms:o}=Ss({delegation:n.delegation,enforcerAddress:a,enforcerName:r});return ns.getAvailableAmount({client:e,contractAddress:a,delegationHash:s,delegationManager:i,terms:o})}async function Cs(e,t,n){const r="ERC20StreamingEnforcer",i=Ts(t),a=As({enforcerName:r,environment:t}),s=X(n.delegation),{terms:o}=Ss({delegation:n.delegation,enforcerAddress:a,enforcerName:r});return as.getAvailableAmount({client:e,contractAddress:a,delegationManager:i,delegationHash:s,terms:o})}async function ks(e,t,n){const r="MultiTokenPeriodEnforcer",i=Ts(t),a=As({enforcerName:r,environment:t}),s=X(n.delegation),{terms:o,args:c}=Ss({delegation:n.delegation,enforcerAddress:a,enforcerName:r});return ls.getAvailableAmount({client:e,contractAddress:a,delegationHash:s,delegationManager:i,terms:o,args:c})}async function Is(e,t,n){const r="NativeTokenPeriodTransferEnforcer",i=Ts(t),a=As({enforcerName:r,environment:t}),s=X(n.delegation),{terms:o}=Ss({delegation:n.delegation,enforcerAddress:a,enforcerName:r});return fs.getAvailableAmount({client:e,contractAddress:a,delegationHash:s,delegationManager:i,terms:o})}async function Ps(e,t,n){const r="NativeTokenStreamingEnforcer",i=Ts(t),a=As({enforcerName:r,environment:t}),s=X(n.delegation),{terms:o}=Ss({delegation:n.delegation,enforcerAddress:a,enforcerName:r});return bs.getAvailableAmount({client:e,contractAddress:a,delegationManager:i,delegationHash:s,terms:o})}G({},{caveatEnforcerActions:()=>Os,getErc20PeriodTransferEnforcerAvailableAmount:()=>_s,getErc20StreamingEnforcerAvailableAmount:()=>Cs,getMultiTokenPeriodEnforcerAvailableAmount:()=>ks,getNativeTokenPeriodTransferEnforcerAvailableAmount:()=>Is,getNativeTokenStreamingEnforcerAvailableAmount:()=>Ps,isValid7702Implementation:()=>Rs,signDelegation:()=>Ns,signDelegationActions:()=>Ls,signUserOperation:()=>Ds,signUserOperationActions:()=>Bs});var Os=({environment:e})=>t=>({getErc20PeriodTransferEnforcerAvailableAmount:async n=>_s(t,e,n),getErc20StreamingEnforcerAvailableAmount:async n=>Cs(t,e,n),getMultiTokenPeriodEnforcerAvailableAmount:async n=>ks(t,e,n),getNativeTokenPeriodTransferEnforcerAvailableAmount:async n=>Is(t,e,n),getNativeTokenStreamingEnforcerAvailableAmount:async n=>Ps(t,e,n)}),Ms="0xef0100";async function Rs({client:e,accountAddress:t,environment:n}){try{const i=(r=await(0,Pi.Q)(e,{address:t}),48!==r?.length?null:r.toLowerCase().startsWith(Ms.toLowerCase())?`0x${r.slice(8)}`:null);if(!i)return!1;const a=n.implementations.EIP7702StatelessDeleGatorImpl;return!!a&&(0,vs.h)(i,a)}catch(e){return!1}var r}async function Ns(e,t){const{account:n=e.account,delegation:r,delegationManager:i,chainId:a,name:s="DelegationManager",version:o="1",allowInsecureUnrestrictedDelegation:c=!1}=t;if(!n)throw new Es.C("Account not found. Please provide an account.");const l=(0,xs.J)(n),u=(({delegation:e,delegationManager:t,chainId:n,name:r="DelegationManager",version:i="1",allowInsecureUnrestrictedDelegation:a=!1})=>{const s=Y({...e,signature:"0x"});if(0===s.caveats.length&&!a)throw new Error("No caveats found. If you definitely want to sign a delegation without caveats, set `allowInsecureUnrestrictedDelegation` to `true`.");return{domain:{chainId:n,name:r,version:i,verifyingContract:t},types:Z,primaryType:"Delegation",message:s}})({delegation:r,delegationManager:i,chainId:a,name:s,version:o,allowInsecureUnrestrictedDelegation:c});return e.signTypedData({account:l,...u})}function Ls(){return e=>({signDelegation:async t=>Ns(e,{chainId:t.chainId??(()=>{if(!e.chain?.id)throw new Es.C("Chain ID is required. Either provide it in parameters or configure the client with a chain.");return e.chain.id})(),...t})})}async function Ds(e,t){const{account:n=e.account,userOperation:r,entryPoint:i,chainId:a,name:s,address:o,version:c="1"}=t;if(!n)throw new Es.C("Account not found. Please provide an account.");const l=(0,xs.J)(n),u=(({userOperation:e,entryPoint:t,chainId:n,name:r,address:i,version:a="1"})=>{const s=(0,gs.W)({...e,signature:"0x"});return{domain:{chainId:n,name:r,version:a,verifyingContract:i},types:ws,primaryType:"PackedUserOperation",message:{...s,entryPoint:t.address}}})({userOperation:r,entryPoint:i,chainId:a,name:s,address:o,version:c});return e.signTypedData({account:l,...u})}function Bs(){return e=>({signUserOperation:async t=>Ds(e,{chainId:t.chainId??(()=>{if(!e.chain?.id)throw new Es.C("Chain ID is required. Either provide it in parameters or configure the client with a chain.");return e.chain.id})(),...t})})}G({},{DeleGatorCore:()=>ao,DelegationManager:()=>js,EIP712:()=>co,ERC20PeriodTransferEnforcer:()=>ts,ERC20StreamingEnforcer:()=>is,ERC20TransferAmountEnforcer:()=>mo,EntryPoint:()=>ho,HybridDeleGator:()=>Eo,IdEnforcer:()=>Oo,LimitedCallsEnforcer:()=>Lo,MultiSigDeleGator:()=>Uo,MultiTokenPeriodEnforcer:()=>cs,NativeTokenPeriodTransferEnforcer:()=>ds,NativeTokenStreamingEnforcer:()=>hs,NativeTokenTransferAmountEnforcer:()=>Yo,NonceEnforcer:()=>Qo,Ownable2Step:()=>lc,Pausable:()=>Ac,SimpleFactory:()=>Uc,SpecificActionERC20TransferBatchEnforcer:()=>qc,encodeProxyCreationCode:()=>Wi,isContractDeployed:()=>qi,isImplementationExpected:()=>Ki});var js={};G(js,{constants:()=>Us,encode:()=>Hs,execute:()=>Qs,read:()=>eo,simulate:()=>io});var Us={};G(Us,{ANY_BENEFICIARY:()=>z,DOMAIN_VERSION:()=>zs,NAME:()=>Fs,ROOT_AUTHORITY:()=>H,VERSION:()=>$s});var Fs="DelegationManager",$s="1.3.0",zs="1",Hs={};G(Hs,{disableDelegation:()=>Ws,enableDelegation:()=>Ys,redeemDelegations:()=>Xs});var qs=async({client:e,delegationManagerAddress:t,delegation:n})=>{const r=Ne.abi,i=Y(n);return(0,Ri.v)(e,{address:t,abi:r,functionName:"disableDelegation",args:[i]})},Ks=async({client:e,delegationManagerAddress:t,delegation:n})=>{const{request:r}=await qs({client:e,delegationManagerAddress:t,delegation:n});return(0,Ni.E)(e,r)},Ws=({delegation:e})=>{const t=Y(e);return(0,Mi.p)({abi:Ne.abi,functionName:"disableDelegation",args:[t]})},Vs=async({client:e,delegationManagerAddress:t,delegation:n})=>{const r=Ne.abi,i=Y(n);return(0,Ri.v)(e,{address:t,abi:r,functionName:"enableDelegation",args:[i]})},Gs=async({client:e,delegationManagerAddress:t,delegation:n})=>{const{request:r}=await Vs({client:e,delegationManagerAddress:t,delegation:n});return(0,Ni.E)(e,r)},Ys=({delegation:e})=>{const t=Y(e);return(0,Mi.p)({abi:Ne.abi,functionName:"enableDelegation",args:[t]})},Js=async({client:e,delegationManagerAddress:t,delegations:n,modes:r,executions:i})=>{const a=Ne.abi;return(0,Ri.v)(e,{address:t,abi:a,functionName:"redeemDelegations",args:[J(n),r,u(i)]})},Zs=async({client:e,delegationManagerAddress:t,delegations:n,modes:r,executions:i})=>{const{request:a}=await Js({client:e,delegationManagerAddress:t,delegations:n,modes:r,executions:i});return(0,Ni.E)(e,a)},Xs=({delegations:e,modes:t,executions:n})=>(0,Mi.p)({abi:Ne.abi,functionName:"redeemDelegations",args:[J(e),t,u(n)]}),Qs={};G(Qs,{disableDelegation:()=>Ks,enableDelegation:()=>Gs,redeemDelegations:()=>Zs});var eo={};G(eo,{disabledDelegations:()=>to,getAnyDelegate:()=>no,getRootAuthority:()=>ro});var to=async({client:e,contractAddress:t,delegationHash:n})=>await(0,Oi.J)(e,{address:t,abi:Ne.abi,functionName:"disabledDelegations",args:[n]}),no=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:Ne.abi,functionName:"ANY_DELEGATE"}),ro=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:Ne.abi,functionName:"ROOT_AUTHORITY"}),io={};G(io,{disableDelegation:()=>qs,enableDelegation:()=>Vs,redeemDelegations:()=>Js});var ao={};G(ao,{encode:()=>Ia,execute:()=>so,read:()=>Li,simulate:()=>oo});var so={};G(so,{disableDelegation:()=>Oa,enableDelegation:()=>Na,execute:()=>Ta,executeWithMode:()=>Ca,upgradeToAndCall:()=>Ba});var oo={};G(oo,{disableDelegation:()=>Pa,enableDelegation:()=>Ra,execute:()=>Sa,executeWithMode:()=>_a,upgradeToAndCall:()=>Da});var co={};G(co,{read:()=>lo});var lo={};G(lo,{getContractName:()=>uo,getContractVersion:()=>fo,getDomainVersion:()=>po});var uo=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:[{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"NAME"}),fo=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:[{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"VERSION"}),po=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:[{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"DOMAIN_VERSION"}),ho={};G(ho,{read:()=>bo});var bo={};G(bo,{entryPointGetNonce:()=>yo});var yo=async({client:e,entryPoint:t,contractAddress:n,key:r})=>await(0,Oi.J)(e,{address:t,abi:Nt.abi,functionName:"getNonce",args:[n,r]}),mo={};G(mo,{read:()=>go});var go={};G(go,{getSpentAmount:()=>wo,getTermsInfo:()=>vo});var wo=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r})=>await(0,Oi.J)(e,{address:t,abi:Ge.abi,functionName:"spentMap",args:[n,r]}),vo=async({client:e,contractAddress:t,terms:n})=>{const[r,i]=await(0,Oi.J)(e,{address:t,abi:Ge.abi,functionName:"getTermsInfo",args:[n]});return{allowedContract:r,maxTokens:i}},Eo={};G(Eo,{constants:()=>Co,encode:()=>Yi,read:()=>xo,simulate:()=>_o});var xo={};G(xo,{getKey:()=>So,getKeyIdHashes:()=>To,getKeyIdHashesCount:()=>Ao});var So=async({client:e,hybridDeleGatorAddress:t,keyId:n})=>await(0,Oi.J)(e,{address:t,abi:Tn.abi,functionName:"getKey",args:[n]}),To=async({client:e,hybridDeleGatorAddress:t})=>await(0,Oi.J)(e,{address:t,abi:Tn.abi,functionName:"getKeyIdHashes"}),Ao=async({client:e,hybridDeleGatorAddress:t})=>await(0,Oi.J)(e,{address:t,abi:Tn.abi,functionName:"getKeyIdHashesCount"}),_o={};G(_o,{addKey:()=>Ji,initializeHybridDeleGator:()=>Vi,reinitializeHybridDeleGator:()=>Xi,removeKey:()=>ea,updateSigners:()=>na});var Co={};G(Co,{ANY_BENEFICIARY:()=>z,DOMAIN_VERSION:()=>Po,NAME:()=>ko,ROOT_AUTHORITY:()=>H,VERSION:()=>Io});var ko="HybridDeleGator",Io="1.3.0",Po="1",Oo={};G(Oo,{read:()=>Mo});var Mo={};G(Mo,{getIsUsed:()=>Ro,getTermsInfo:()=>No});var Ro=async({client:e,contractAddress:t,delegationManager:n,delegator:r,id:i})=>await(0,Oi.J)(e,{address:t,abi:In.abi,functionName:"getIsUsed",args:[n,r,i]}),No=async({client:e,contractAddress:t,terms:n})=>await(0,Oi.J)(e,{address:t,abi:In.abi,functionName:"getTermsInfo",args:[n]}),Lo={};G(Lo,{read:()=>Do});var Do={};G(Do,{callCounts:()=>Bo,getTermsInfo:()=>jo});var Bo=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r})=>await(0,Oi.J)(e,{address:t,abi:Mn.abi,functionName:"callCounts",args:[n,r]}),jo=async({client:e,contractAddress:t,terms:n})=>await(0,Oi.J)(e,{address:t,abi:Mn.abi,functionName:"getTermsInfo",args:[n]}),Uo={};G(Uo,{constants:()=>Vo,encode:()=>sa,read:()=>Fo,simulate:()=>Wo});var Fo={};G(Fo,{getMaxNumberOfSigners:()=>$o,getSigners:()=>zo,getSignersCount:()=>Ho,getThreshold:()=>qo,isSigner:()=>Ko});var $o=async({client:e,multiSigDeleGatorAddress:t})=>await(0,Oi.J)(e,{address:t,abi:Ti.abi,functionName:"MAX_NUMBER_OF_SIGNERS"}),zo=async({client:e,multiSigDeleGatorAddress:t})=>await(0,Oi.J)(e,{address:t,abi:Ti.abi,functionName:"getSigners"}),Ho=async({client:e,multiSigDeleGatorAddress:t})=>await(0,Oi.J)(e,{address:t,abi:Ti.abi,functionName:"getSignersCount"}),qo=async({client:e,multiSigDeleGatorAddress:t})=>await(0,Oi.J)(e,{address:t,abi:Ti.abi,functionName:"getThreshold"}),Ko=async({client:e,multiSigDeleGatorAddress:t,signer:n})=>await(0,Oi.J)(e,{address:t,abi:Ti.abi,functionName:"isSigner",args:[n]}),Wo={};G(Wo,{addSigner:()=>oa,initializeMultiSigDeleGator:()=>ia,reinitializeMultiSigDeleGator:()=>la,removeSigner:()=>da,replaceSigner:()=>pa,updateMultiSigParameters:()=>ba,updateThreshold:()=>ma});var Vo={};G(Vo,{MAX_NUMBER_OF_SIGNERS:()=>Go});var Go=30,Yo={};G(Yo,{read:()=>Jo});var Jo={};G(Jo,{getSpentAmount:()=>Zo,getTermsInfo:()=>Xo});var Zo=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r})=>await(0,Oi.J)(e,{address:t,abi:Cr.abi,functionName:"spentMap",args:[n,r]}),Xo=async({client:e,contractAddress:t,terms:n})=>await(0,Oi.J)(e,{address:t,abi:Cr.abi,functionName:"getTermsInfo",args:[n]}),Qo={};G(Qo,{encode:()=>ec,execute:()=>ic,read:()=>ac,simulate:()=>cc});var ec={};G(ec,{incrementNonce:()=>tc});var tc=e=>(0,Mi.p)({abi:rr.abi,functionName:"incrementNonce",args:[e]}),nc=async({client:e,contractAddress:t,delegationManager:n})=>(0,Ri.v)(e,{address:t,abi:rr.abi,functionName:"incrementNonce",args:[n]}),rc=async({client:e,contractAddress:t,delegationManager:n})=>{const{request:r}=await nc({client:e,contractAddress:t,delegationManager:n});return(0,Ni.E)(e,r)},ic={};G(ic,{incrementNonce:()=>rc});var ac={};G(ac,{currentNonce:()=>sc,getTermsInfo:()=>oc});var sc=async({client:e,contractAddress:t,delegationManager:n,delegator:r})=>await(0,Oi.J)(e,{address:t,abi:rr.abi,functionName:"currentNonce",args:[n,r]}),oc=async({client:e,contractAddress:t,terms:n})=>await(0,Oi.J)(e,{address:t,abi:rr.abi,functionName:"getTermsInfo",args:[n]}),cc={};G(cc,{incrementNonce:()=>nc});var lc={};G(lc,{encode:()=>Sc,execute:()=>pc,read:()=>uc,simulate:()=>Tc});var uc={};G(uc,{getOwner:()=>dc,getPendingOwner:()=>fc});var dc=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:wr.abi,functionName:"owner"}),fc=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:wr.abi,functionName:"pendingOwner"}),pc={};G(pc,{acceptOwnership:()=>bc,renounceOwnership:()=>gc,transferOwnership:()=>Ec});var hc=async({client:e,contractAddress:t})=>(0,Ri.v)(e,{address:t,abi:wr.abi,functionName:"acceptOwnership"}),bc=async({client:e,contractAddress:t})=>{const{request:n}=await hc({client:e,contractAddress:t});return(0,Ni.E)(e,n)},yc=()=>(0,Mi.p)({abi:wr.abi,functionName:"acceptOwnership"}),mc=async({client:e,contractAddress:t})=>(0,Ri.v)(e,{address:t,abi:wr.abi,functionName:"renounceOwnership"}),gc=async({client:e,contractAddress:t})=>{const{request:n}=await mc({client:e,contractAddress:t});return(0,Ni.E)(e,n)},wc=()=>(0,Mi.p)({abi:wr.abi,functionName:"renounceOwnership"}),vc=async({client:e,contractAddress:t,account:n})=>(0,Ri.v)(e,{address:t,abi:wr.abi,functionName:"transferOwnership",args:[n]}),Ec=async({client:e,contractAddress:t,account:n})=>{const{request:r}=await vc({client:e,contractAddress:t,account:n});return(0,Ni.E)(e,r)},xc=e=>(0,Mi.p)({abi:wr.abi,functionName:"transferOwnership",args:[e]}),Sc={};G(Sc,{acceptOwnership:()=>yc,renounceOwnership:()=>wc,transferOwnership:()=>xc});var Tc={};G(Tc,{acceptOwnership:()=>hc,renounceOwnership:()=>mc,transferOwnership:()=>vc});var Ac={};G(Ac,{encode:()=>Bc,execute:()=>kc,read:()=>_c,simulate:()=>jc});var _c={};G(_c,{isPaused:()=>Cc});var Cc=async({client:e,contractAddress:t})=>await(0,Oi.J)(e,{address:t,abi:Tr.abi,functionName:"paused"}),kc={};G(kc,{pause:()=>Oc,unpause:()=>Lc});var Ic=[{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"}],Pc=async({client:e,contractAddress:t})=>(0,Ri.v)(e,{address:t,abi:Ic,functionName:"pause"}),Oc=async({client:e,contractAddress:t})=>{const{request:n}=await Pc({client:e,contractAddress:t});return(0,Ni.E)(e,n)},Mc=()=>(0,Mi.p)({abi:Ic,functionName:"pause"}),Rc=[{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"}],Nc=async({client:e,contractAddress:t})=>(0,Ri.v)(e,{address:t,abi:Rc,functionName:"unpause"}),Lc=async({client:e,contractAddress:t})=>{const{request:n}=await Nc({client:e,contractAddress:t});return(0,Ni.E)(e,n)},Dc=()=>(0,Mi.p)({abi:Rc,functionName:"unpause"}),Bc={};G(Bc,{pause:()=>Mc,unpause:()=>Dc});var jc={};G(jc,{pause:()=>Pc,unpause:()=>Nc});var Uc={};G(Uc,{encode:()=>xa,execute:()=>Fc,read:()=>$c,simulate:()=>Hc});var Fc={};G(Fc,{create2Deploy:()=>Ea});var $c={};G($c,{getCreate2Address:()=>zc});var zc=async(e,t,n,r)=>(0,Oi.J)(e,{address:t,abi:Gr.abi,functionName:"computeAddress",args:[n,r]}),Hc={};G(Hc,{create2Deploy:()=>wa});var qc={};G(qc,{read:()=>Kc});var Kc={};G(Kc,{getTermsInfo:()=>Wc,usedDelegations:()=>Vc});var Wc=async({client:e,contractAddress:t,terms:n})=>await(0,Oi.J)(e,{address:t,abi:ti.abi,functionName:"getTermsInfo",args:[n]}),Vc=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r})=>await(0,Oi.J)(e,{address:t,abi:ti.abi,functionName:"usedDelegations",args:[n,r]}),Gc={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x00e0251aaA263dfE3B3541B758A82D1CBA1c3B6D",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},Yc={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},Jc={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},Zc=1,Xc=10,Qc=56,el=100,tl=137,nl=8453,rl=42161,il=59144,al=80094,sl=130,ol=42170,cl=97,ll=6342,ul=10200,dl=59141,fl=80069,pl=84532,hl=421614,bl=11155111,yl=11155420,ml=1301,gl=80002,wl=10143,vl={"1.0.0":{[Xc]:Jc,[tl]:Jc,[nl]:Jc,[rl]:Jc,[il]:Jc,[bl]:{...Jc,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},[dl]:{...Jc,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{[rl]:Yc,[nl]:Yc,[il]:Yc,[Xc]:Yc,[tl]:Yc,[bl]:Yc,[dl]:Yc,[pl]:{...Yc,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{[Zc]:Gc,[tl]:Gc,[Qc]:Gc,[Xc]:Gc,[rl]:Gc,[il]:Gc,[nl]:Gc,[el]:Gc,[al]:Gc,[sl]:Gc,[ol]:Gc,[bl]:Gc,[dl]:Gc,[pl]:Gc,[ll]:Gc,[ul]:Gc,[cl]:Gc,[yl]:Gc,[hl]:Gc,[fl]:Gc,[ml]:Gc,[gl]:Gc,[wl]:Gc}},El=new Map;var xl=n(11795),Sl=n(98844),Tl=["ECDSA"],Al=({signatures:e})=>{if(0===e.length)return"0x";for(const{type:t}of e)if(!Tl.includes(t))throw new Error(`Invalid signature type: ${t}`);const t=[...e].sort((e,t)=>e.signer.localeCompare(t.signer));return(0,za.xW)(t.map(({signature:e})=>e))},_l="0x000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000011b",Cl=e=>({signMessage:e.walletClient.signMessage,signTypedData:async t=>e.walletClient.signTypedData(t),getStubSignature:async()=>_l}),kl=e=>({signMessage:e.account.signMessage,signTypedData:e.account.signTypedData,getStubSignature:async()=>_l}),Il=e=>{const{implementation:t}=e;if("Hybrid"===t)return(e=>{if("walletClient"in e)return Cl(e);if("account"in e){const{signMessage:t,signTypedData:n,getStubSignature:r}=kl(e);if(!t)throw new Error("Account does not support signMessage");if(!n)throw new Error("Account does not support signTypedData");return{signMessage:t,signTypedData:n,getStubSignature:r}}const{keyId:t,webAuthnAccount:n}=e;if("webAuthn"!==n.type)throw new Error("Account is not a webAuthn account");const r=({signature:e,webauthn:n})=>Xa(t,e,n.clientDataJSON,n.authenticatorData);return{signMessage:async e=>n.signMessage(e).then(r),signTypedData:async e=>n.signTypedData(e).then(r),getStubSignature:async()=>(e=>{const t=(0,d.S)((0,a.P)(["string"],["AuthenticatorData"])),n=(0,za.xW)([t,"0x05","0x00000000"]),r=(0,d.S)((0,a.P)(["string"],[e])),i=57896044605178124381348723474703786764998477612067880171211129530534256022184n;return(0,s.h)(Za,[r,i,i,n,!0,'{"type":"webauthn.get","challenge":"','","origin":"passkey-domain","crossOrigin":false}',1n])})(t)}})(e.signer);if("MultiSig"===t)return(e=>{const t=e.map(e=>{let t,n,r;if("walletClient"in e){const{signMessage:i,signTypedData:a}=Cl(e);t=i,n=a,r=e.walletClient.account.address}else{const{signMessage:i,signTypedData:a}=kl(e);if(!i)throw new Error("Account does not support signMessage");if(!a)throw new Error("Account does not support signTypedData");t=i,n=a,r=e.account.address}return{address:r,individualSignMessage:t,individualSignTypedData:n}});return{signMessage:async e=>{const n=t.map(async({individualSignMessage:t,address:n})=>({signature:await t(e),signer:n,type:"ECDSA"})),r=await Promise.all(n);return Al({signatures:r})},signTypedData:async e=>{const n=t.map(async({individualSignTypedData:t,address:n})=>({signature:await t(e),signer:n,type:"ECDSA"})),r=await Promise.all(n);return Al({signatures:r})},getStubSignature:async()=>(0,za.xW)(t.map(()=>_l))}})(e.signer);if("Stateless7702"===t)return(e=>{if("walletClient"in e)return Cl(e);if("account"in e){const{signMessage:t,signTypedData:n,getStubSignature:r}=kl(e);if(!t)throw new Error("Account does not support signMessage");if(!n)throw new Error("Account does not support signTypedData");return{signMessage:t,signTypedData:n,getStubSignature:r}}throw new Error("Invalid signer config")})(e.signer);throw new Error(`Implementation type '${t}' not supported`)};async function Pl(e){const{client:t,client:{chain:n},implementation:r}=e;if(!n)throw new Error("Chain not specified");const i=Il({implementation:r,signer:e.signer}),a=e.environment??function(e,t="1.3.0"){const n=((e,t)=>`${t}:${e}`)(e,t),r=El.get(n);if(r)return r;const i=vl[t]?.[e];if(!i)throw new Error(`No contracts found for version ${t} chain ${e}`);return function(e){return{DelegationManager:e.DelegationManager,EntryPoint:e.EntryPoint,SimpleFactory:e.SimpleFactory,implementations:{MultiSigDeleGatorImpl:e.MultiSigDeleGatorImpl,HybridDeleGatorImpl:e.HybridDeleGatorImpl,EIP7702StatelessDeleGatorImpl:e.EIP7702StatelessDeleGatorImpl},caveatEnforcers:{AllowedCalldataEnforcer:e.AllowedCalldataEnforcer,AllowedMethodsEnforcer:e.AllowedMethodsEnforcer,AllowedTargetsEnforcer:e.AllowedTargetsEnforcer,ArgsEqualityCheckEnforcer:e.ArgsEqualityCheckEnforcer,BlockNumberEnforcer:e.BlockNumberEnforcer,DeployedEnforcer:e.DeployedEnforcer,ERC20BalanceChangeEnforcer:e.ERC20BalanceChangeEnforcer,ERC20TransferAmountEnforcer:e.ERC20TransferAmountEnforcer,ERC20StreamingEnforcer:e.ERC20StreamingEnforcer,ERC721BalanceChangeEnforcer:e.ERC721BalanceChangeEnforcer,ERC721TransferEnforcer:e.ERC721TransferEnforcer,ERC1155BalanceChangeEnforcer:e.ERC1155BalanceChangeEnforcer,IdEnforcer:e.IdEnforcer,LimitedCallsEnforcer:e.LimitedCallsEnforcer,NonceEnforcer:e.NonceEnforcer,TimestampEnforcer:e.TimestampEnforcer,ValueLteEnforcer:e.ValueLteEnforcer,NativeTokenTransferAmountEnforcer:e.NativeTokenTransferAmountEnforcer,NativeBalanceChangeEnforcer:e.NativeBalanceChangeEnforcer,NativeTokenStreamingEnforcer:e.NativeTokenStreamingEnforcer,NativeTokenPaymentEnforcer:e.NativeTokenPaymentEnforcer,OwnershipTransferEnforcer:e.OwnershipTransferEnforcer,RedeemerEnforcer:e.RedeemerEnforcer,SpecificActionERC20TransferBatchEnforcer:e.SpecificActionERC20TransferBatchEnforcer,ERC20PeriodTransferEnforcer:e.ERC20PeriodTransferEnforcer,NativeTokenPeriodTransferEnforcer:e.NativeTokenPeriodTransferEnforcer,ExactCalldataBatchEnforcer:e.ExactCalldataBatchEnforcer,ExactCalldataEnforcer:e.ExactCalldataEnforcer,ExactExecutionEnforcer:e.ExactExecutionEnforcer,ExactExecutionBatchEnforcer:e.ExactExecutionBatchEnforcer,MultiTokenPeriodEnforcer:e.MultiTokenPeriodEnforcer}}}(i)}(n.id);let s,o;if(e.address)o=void 0,s=e.address;else{if("Stateless7702"===r)throw new Error("Stateless7702 does not support counterfactual accounts");const t=await(async({factory:e,implementations:t,implementation:n,deployParams:r,deploySalt:i})=>{let a,s;switch(n){case"Hybrid":{const[e,n,i,o]=r;if(!t.HybridDeleGatorImpl)throw new Error("HybridDeleGatorImpl address not provided in environment");a=t.HybridDeleGatorImpl;const c=n.map((e,t)=>{const n=i[t],r=o[t];if(!n||!r)throw new Error(`Missing X or Y value for keyId ${e} at index ${t}`);return{keyId:e,x:n,y:r}});s=Gi({eoaOwner:e,p256Owners:c});break}case"MultiSig":{const[e,n]=r;if(!t.MultiSigDeleGatorImpl)throw new Error("MultiSigDeleGatorImpl address not provided in environment");a=t.MultiSigDeleGatorImpl,s=aa({owners:e,threshold:n});break}default:throw new Error(`Implementation type '${n}' not supported`)}const o=(0,Ua.eV)(i,{dir:"left",size:32}),c=Wi({implementationAddress:a,initcode:s}),l=(0,Fa.RZ)({bytecode:c,from:e,opcode:"CREATE2",salt:o});return{factoryData:va(c,o),address:l}})({factory:a.SimpleFactory,implementations:a.implementations,implementation:r,deployParams:e.deployParams,deploySalt:e.deploySalt});s=t.address,o=t.factoryData}const c={abi:xl.qe,address:a.EntryPoint,version:"0.7"},{abi:l,contractName:u}={Hybrid:{contractName:"HybridDeleGator",abi:Tn.abi},MultiSig:{contractName:"MultiSigDeleGator",abi:Ti.abi},Stateless7702:{contractName:"EIP7702StatelessDeleGator",abi:st.abi}}[r],d=await(0,Sl.q)({abi:l,client:t,entryPoint:c,environment:a,getAddress:async()=>s,getFactoryArgs:async()=>{if(void 0===o)throw new Error("Deploy params were not provided, so factory args cannot be inferred");return{factoryData:o,factory:a.SimpleFactory}},encodeCalls:async e=>Ga(s,e),getNonce:async()=>yo({client:t,entryPoint:a.EntryPoint,contractAddress:s,key:0n}),signUserOperation:async e=>{const{chainId:t}=e,r=(0,gs.W)({sender:s,...e,signature:"0x"});return await i.signTypedData({domain:{chainId:t??n.id,name:u,version:"1",verifyingContract:s},types:ws,primaryType:"PackedUserOperation",message:{...r,entryPoint:c.address}})},signDelegation:async e=>{const{delegation:t,chainId:r}=e,s=Y({...t,signature:"0x"});return i.signTypedData({domain:{chainId:r??n.id,name:"DelegationManager",version:"1",verifyingContract:a.DelegationManager},types:Z,primaryType:"Delegation",message:s})},...i});return"Stateless7702"===r?{...d,isDeployed:async()=>Rs({client:t,accountAddress:s,environment:a})}:d}var Ol=n(92336);class Ml{constructor(e){(0,i.A)(this,"name",Ol.o0.METAMASK),(0,i.A)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n,i,a,s,o,c,l,u,d,f,p,h,b;const y={walletClient:e.walletClient,webAuthnAccount:null===(t=this.options)||void 0===t||null===(t=t.hybridParams)||void 0===t?void 0:t.webAuthnAccount,keyId:null===(n=this.options)||void 0===n||null===(n=n.hybridParams)||void 0===n?void 0:n.keyId},m=[{walletClient:e.walletClient},...(null===(i=this.options)||void 0===i||null===(i=i.multiSigParams)||void 0===i?void 0:i.additionalSignerWalletClients)||[]],[g]=await e.walletClient.getAddresses(),w=[g,[...(null===(a=this.options)||void 0===a||null===(a=a.hybridParams)||void 0===a?void 0:a.p256KeyIds)||[]],[...(null===(s=this.options)||void 0===s||null===(s=s.hybridParams)||void 0===s?void 0:s.p256XValues)||[]],[...(null===(o=this.options)||void 0===o||null===(o=o.hybridParams)||void 0===o?void 0:o.p256YValues)||[]]],v=[[g,...(null===(c=this.options)||void 0===c||null===(c=c.multiSigParams)||void 0===c?void 0:c.additionalSignerAddresses)||[]],null!==(l=null===(u=this.options)||void 0===u||null===(u=u.multiSigParams)||void 0===u?void 0:u.threshold)&&void 0!==l?l:BigInt(1+((null===(d=this.options)||void 0===d||null===(d=d.multiSigParams)||void 0===d||null===(d=d.additionalSignerWalletClients)||void 0===d?void 0:d.length)||0))],E={client:e.client,deploySalt:null!==(f=null===(p=this.options)||void 0===p?void 0:p.deploySalt)&&void 0!==f?f:"0x0"},x=null!==(h=null===(b=this.options)||void 0===b?void 0:b.implementation)&&void 0!==h?h:Wa.Hybrid;if(x===Wa.Hybrid)return Pl((0,r.A)((0,r.A)({},E),{},{implementation:x,deployParams:w,signer:y}));if(x===Wa.MultiSig)return Pl((0,r.A)((0,r.A)({},E),{},{implementation:x,deployParams:v,signer:m}));throw new Error(`MetamaskSmartAccount - unsupported implementation: ${x}`)}}},38730:(e,t,n)=>{"use strict";function r(){return"undefined"!=typeof window}function i(){return!r()}n.d(t,{B:()=>r,S:()=>i})},38792:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var s=a[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},38820:(e,t,n)=>{"use strict";n.d(t,{Ci:()=>s,J8:()=>o,MU:()=>c});var r=n(40022),i=n(14323),a=n(30476);class s extends i.C{constructor({body:e,cause:t,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:t,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,a.I)(o)}`,e&&`Request body: ${(0,r.A)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}i.C;class o extends i.C{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,a.I)(n)}`,`Request body: ${(0,r.A)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data,this.url=n}}i.C;class c extends i.C{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,a.I)(t)}`,`Request body: ${(0,r.A)(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=t}}},38903:(e,t,n)=>{"use strict";n.d(t,{$P:()=>c,My:()=>l,cK:()=>u,i3:()=>f,nj:()=>o});var r=n(85704),i=n(63577),a=n(79756);const s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function o(e,t={}){return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?f(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?((0,a.Sl)(n,{size:t.size}),(0,i.eV)(n,{size:t.size})):n}function l(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=s[e[t]];const r=`0x${n}`;return"number"==typeof t.size?((0,a.Sl)(r,{size:t.size}),(0,i.eV)(r,{dir:"right",size:t.size})):r}function u(e,t={}){const{signed:n,size:a}=t,s=BigInt(e);let o;a?o=n?(1n<<8n*BigInt(a)-1n)-1n:2n**(8n*BigInt(a))-1n:"number"==typeof e&&(o=BigInt(Number.MAX_SAFE_INTEGER));const c="bigint"==typeof o&&n?-o-1n:0;if(o&&s>o||s<c){const t="bigint"==typeof e?"n":"";throw new r.Ty({max:o?`${o}${t}`:void 0,min:`${c}${t}`,signed:n,size:a,value:`${e}${t}`})}const l=`0x${(n&&s<0?(1n<<BigInt(8*a))+BigInt(s):s).toString(16)}`;return a?(0,i.eV)(l,{size:a}):l}const d=new TextEncoder;function f(e,t={}){return l(d.encode(e),t)}},38950:(e,t,n)=>{"use strict";n.d(t,{default:()=>L});const r={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const e in r)Object.freeze(r[e]);const i=Object.freeze(r),a=Object.create(null);for(const e in i)Object.hasOwn(i,e)&&(a[i[e]]=e);const s={to:{},get:{}};function o(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){const t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){let t,n;switch(e.slice(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),n="hsl";break;case"hwb":t=s.get.hwb(e),n="hwb";break;default:t=s.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},s.get.rgb=function(e){if(!e)return null;let t,n,r,a=[0,0,0,1];if(t=e.match(/^#([a-f\d]{6})([a-f\d]{2})?$/i)){for(r=t[2],t=t[1],n=0;n<3;n++){const e=2*n;a[n]=Number.parseInt(t.slice(e,e+2),16)}r&&(a[3]=Number.parseInt(r,16)/255)}else if(t=e.match(/^#([a-f\d]{3,4})$/i)){for(t=t[1],r=t[3],n=0;n<3;n++)a[n]=Number.parseInt(t[n]+t[n],16);r&&(a[3]=Number.parseInt(r+r,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?(?:\d*\.)?\d+(?:e\d+)?)(?=[\s,])\s*(?:,\s*)?([+-]?(?:\d*\.)?\d+(?:e\d+)?)(?=[\s,])\s*(?:,\s*)?([+-]?(?:\d*\.)?\d+(?:e\d+)?)\s*(?:[\s,|/]\s*([+-]?(?:\d*\.)?\d+(?:e\d+)?)(%?)\s*)?\)$/i)){for(n=0;n<3;n++)a[n]=Number.parseFloat(t[n+1]);t[4]&&(a[3]=t[5]?.01*Number.parseFloat(t[4]):Number.parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/i)))return(t=e.toLowerCase().match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:Object.hasOwn(i,t[1])?(a=i[t[1]].slice(),a[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*Number.parseFloat(t[n+1]));t[4]&&(a[3]=t[5]?.01*Number.parseFloat(t[4]):Number.parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=o(a[n],0,255);return a[3]=o(a[3],0,1),a},s.get.hsl=function(e){if(!e)return null;const t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:e[+-]?\d+)?)\s*)?\)$/i);if(t){const e=Number.parseFloat(t[4]);return[(Number.parseFloat(t[1])%360+360)%360,o(Number.parseFloat(t[2]),0,100),o(Number.parseFloat(t[3]),0,100),o(Number.isNaN(e)?1:e,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;const t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:e[+-]?\d+)?)\s*)?\)$/i);if(t){const e=Number.parseFloat(t[4]);return[(Number.parseFloat(t[1])%360+360)%360,o(Number.parseFloat(t[2]),0,100),o(Number.parseFloat(t[3]),0,100),o(Number.isNaN(e)?1:e,0,1)]}return null},s.to.hex=function(...e){return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},s.to.rgb=function(...e){return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(...e){const t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},s.to.hsl=function(...e){return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(...e){let t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(...e){return a[e.slice(0,3)]};const l=s,u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const e in u)Object.freeze(u[e]);const d=Object.freeze(u),f={};for(const e of Object.keys(d))f[d[e]]=e;const p={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},h=p,b=(6/29)**3;function y(e){const t=e>.0031308?1.055*e**(1/2.4)-.055:12.92*e;return Math.min(Math.max(0,t),1)}function m(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}for(const e of Object.keys(p)){if(!("channels"in p[e]))throw new Error("missing channels property: "+e);if(!("labels"in p[e]))throw new Error("missing channel labels property: "+e);if(p[e].labels.length!==p[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=p[e];delete p[e].channels,delete p[e].labels,Object.defineProperty(p[e],"channels",{value:t}),Object.defineProperty(p[e],"labels",{value:n})}function g(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}function w(e,t){return function(n){return t(e(n))}}function v(e,t){const n=[t[e].parent,e];let r=h[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),r=w(h[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}p.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=a-i;let o,c;switch(a){case i:o=0;break;case t:o=(n-r)/s;break;case n:o=2+(r-t)/s;break;case r:o=4+(t-n)/s}o=Math.min(60*o,360),o<0&&(o+=360);const l=(i+a)/2;return c=a===i?0:l<=.5?s/(a+i):s/(2-a-i),[o,100*c,100*l]},p.rgb.hsv=function(e){let t,n,r,i,a;const s=e[0]/255,o=e[1]/255,c=e[2]/255,l=Math.max(s,o,c),u=l-Math.min(s,o,c),d=function(e){return(l-e)/6/u+.5};if(0===u)i=0,a=0;else{switch(a=u/l,t=d(s),n=d(o),r=d(c),l){case s:i=r-n;break;case o:i=1/3+t-r;break;case c:i=2/3+n-t}i<0?i+=1:i>1&&(i-=1)}return[360*i,100*a,100*l]},p.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=p.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,100*a,100*r]},p.rgb.oklab=function(e){const t=m(e[0]/255),n=m(e[1]/255),r=m(e[2]/255),i=Math.cbrt(.4122214708*t+.5363325363*n+.0514459929*r),a=Math.cbrt(.2119034982*t+.6806995451*n+.1073969566*r),s=Math.cbrt(.0883024619*t+.2817188376*n+.6299787005*r);return[100*(.2104542553*i+.793617785*a-.0040720468*s),100*(1.9779984951*i-2.428592205*a+.4505937099*s),100*(.0259040371*i+.7827717662*a-.808675766*s)]},p.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},p.rgb.keyword=function(e){const t=f[e];if(t)return t;let n,r=Number.POSITIVE_INFINITY;for(const t of Object.keys(d)){const i=g(e,d[t]);i<r&&(r=i,n=t)}return n},p.keyword.rgb=function(e){return[...d[e]]},p.rgb.xyz=function(e){const t=m(e[0]/255),n=m(e[1]/255),r=m(e[2]/255);return[100*(.4124564*t+.3575761*n+.1804375*r),100*(.2126729*t+.7151522*n+.072175*r),100*(.0193339*t+.119192*n+.9503041*r)]},p.rgb.lab=function(e){const t=p.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];return n/=95.047,r/=100,i/=108.883,n=n>b?n**(1/3):7.787*n+16/116,r=r>b?r**(1/3):7.787*r+16/116,i=i>b?i**(1/3):7.787*i+16/116,[116*r-16,500*(n-r),200*(r-i)]},p.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,a;if(0===n)return a=255*r,[a,a,a];const s=r<.5?r*(1+n):r+n-r*n,o=2*r-s,c=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,a=6*i<1?o+6*(s-o)*i:2*i<1?s:3*i<2?o+(s-o)*(2/3-i)*6:o,c[e]=255*a;return c},p.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const a=Math.max(r,.01);return r*=2,n*=r<=1?r:2-r,i*=a<=1?a:2-a,[t,100*(0===r?2*i/(a+i):2*n/(r+n)),(r+n)/2*100]},p.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,a=t-Math.floor(t),s=255*r*(1-n),o=255*r*(1-n*a),c=255*r*(1-n*(1-a));switch(r*=255,i){case 0:return[r,c,s];case 1:return[o,r,s];case 2:return[s,r,c];case 3:return[s,o,r];case 4:return[c,s,r];case 5:return[r,s,o]}},p.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let a,s;s=(2-n)*r;const o=(2-n)*i;return a=n*i,a/=o<=1?o:2-o,a=a||0,s/=2,[t,100*a,100*s]},p.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let a;i>1&&(n/=i,r/=i);const s=Math.floor(6*t),o=1-r;a=6*t-s,1&s&&(a=1-a);const c=n+a*(o-n);let l,u,d;switch(s){default:case 6:case 0:l=o,u=c,d=n;break;case 1:l=c,u=o,d=n;break;case 2:l=n,u=o,d=c;break;case 3:l=n,u=c,d=o;break;case 4:l=c,u=n,d=o;break;case 5:l=o,u=n,d=c}return[255*l,255*u,255*d]},p.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},p.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,a,s;return i=3.2404542*t+-1.5371385*n+-.4985314*r,a=-.969266*t+1.8760108*n+.041556*r,s=.0556434*t+-.2040259*n+1.0572252*r,i=y(i),a=y(a),s=y(s),[255*i,255*a,255*s]},p.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];return t/=95.047,n/=100,r/=108.883,t=t>b?t**(1/3):7.787*t+16/116,n=n>b?n**(1/3):7.787*n+16/116,r=r>b?r**(1/3):7.787*r+16/116,[116*n-16,500*(t-n),200*(n-r)]},p.xyz.oklab=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=Math.cbrt(.8189330101*t+.3618667424*n-.1288597137*r),a=Math.cbrt(.0329845436*t+.9293118715*n+.0361456387*r),s=Math.cbrt(.0482003018*t+.2643662691*n+.633851707*r);return[100*(.2104542553*i+.793617785*a-.0040720468*s),100*(1.9779984951*i-2.428592205*a+.4505937099*s),100*(.0259040371*i+.7827717662*a-.808675766*s)]},p.oklab.oklch=function(e){return p.lab.lch(e)},p.oklab.xyz=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=(.999999998*t+.396337792*n+.215803758*r)**3,a=(1.000000008*t-.105561342*n-.063854175*r)**3,s=(1.000000055*t-.089484182*n-1.291485538*r)**3;return[100*(1.227013851*i-.55779998*a+.281256149*s),100*(-.040580178*i+1.11225687*a-.071676679*s),100*(-.076381285*i-.421481978*a+1.58616322*s)]},p.oklab.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=(t+.3963377774*n+.2158037573*r)**3,a=(t-.1055613458*n-.0638541728*r)**3,s=(t-.0894841775*n-1.291485548*r)**3;return[255*y(4.0767416621*i-3.3077115913*a+.2309699292*s),255*y(-1.2684380046*i+2.6097574011*a-.3413193965*s),255*y(-.0041960863*i-.7034186147*a+1.707614701*s)]},p.oklch.oklab=function(e){return p.lch.lab(e)},p.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const i=n**3,a=t**3,s=r**3;return n=i>b?i:(n-16/116)/7.787,t=a>b?a:(t-16/116)/7.787,r=s>b?s:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},p.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;return i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360),[t,Math.sqrt(n*n+r*r),i]},p.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},p.rgb.ansi16=function(e,t=null){const[n,r,i]=e;let a=null===t?p.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),0===a)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===a&&(s+=60),s},p.hsv.ansi16=function(e){return p.rgb.ansi16(p.hsv.rgb(e),e[2])},p.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t>>4==n>>4&&n>>4==r>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},p.ansi16.rgb=function(e){let t=(e=e[0])%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(Math.trunc(e>50)+1);return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},p.ansi256.rgb=function(e){if((e=e[0])>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},p.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".slice(t.length)+t},p.hex.rgb=function(e){const t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=[...n].map(e=>e+e).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},p.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),a=Math.min(Math.min(t,n),r),s=i-a;let o;return o=s<=0?0:i===t?(n-r)/s%6:i===n?2+(r-t)/s:4+(t-n)/s,o/=6,o%=1,[360*o,100*s,100*(s<1?a/(1-s):0)]},p.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},p.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},p.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],a=t%1*6,s=a%1,o=1-s;let c=0;switch(Math.floor(a)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return c=(1-n)*r,[255*(n*i[0]+c),255*(n*i[1]+c),255*(n*i[2]+c)]},p.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},p.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},p.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},p.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},p.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},p.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},p.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},p.gray.hsl=function(e){return[0,0,e[0]]},p.gray.hsv=p.gray.hsl,p.gray.hwb=function(e){return[0,100,e[0]]},p.gray.cmyk=function(e){return[0,0,0,e[0]]},p.gray.lab=function(e){return[e[0],0,0]},p.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(n.length)+n},p.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const E=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(h);for(let{length:n}=t,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length>0;){const e=n.pop(),r=Object.keys(h[e]);for(let{length:i}=r,a=0;a<i;a++){const i=r[a],s=t[i];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,n.unshift(i))}}return t}(e),n={},r=Object.keys(t);for(let{length:e}=r,i=0;i<e;i++){const e=r[i];null!==t[e].parent&&(n[e]=v(e,t))}return n},x={},S=Object.keys(h);function T(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function A(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let{length:e}=r,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}for(const e of S){x[e]={},Object.defineProperty(x[e],"channels",{value:h[e].channels}),Object.defineProperty(x[e],"labels",{value:h[e].labels});const t=E(e),n=Object.keys(t);for(const r of n){const n=t[r];x[e][r]=A(n),x[e][r].raw=T(n)}}const _=x,C=["keyword","gray","hex"],k={};for(const e of Object.keys(_))k[[..._[e].labels].sort().join("")]=e;const I={};function P(e,t){if(!(this instanceof P))return new P(e,t);if(t&&t in C&&(t=null),t&&!(t in _))throw new Error("Unknown model: "+t);let n,r;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof P)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=l.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,r=_[this.model].channels,this.color=t.value.slice(0,r),this.valpha="number"==typeof t.value[r]?t.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=_[this.model].channels;const n=Array.prototype.slice.call(e,0,r);this.color=N(n,r),this.valpha="number"==typeof e[r]?e[r]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const r=t.sort().join("");if(!(r in k))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=k[r];const{labels:i}=_[this.model],a=[];for(n=0;n<i.length;n++)a.push(e[i[n]]);this.color=N(a)}if(I[this.model])for(r=_[this.model].channels,n=0;n<r;n++){const e=I[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}P.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in l.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return l.to[t.model](...n)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return l.to.rgb.percent(...n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=_[this.model],{labels:n}=_[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new P([...this.color.map(O(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new P([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:M("rgb",0,R(255)),green:M("rgb",1,R(255)),blue:M("rgb",2,R(255)),hue:M(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:M("hsl",1,R(100)),lightness:M("hsl",2,R(100)),saturationv:M("hsv",1,R(100)),value:M("hsv",2,R(100)),chroma:M("hcg",1,R(100)),gray:M("hcg",2,R(100)),white:M("hwb",1,R(100)),wblack:M("hwb",2,R(100)),cyan:M("cmyk",0,R(100)),magenta:M("cmyk",1,R(100)),yellow:M("cmyk",2,R(100)),black:M("cmyk",3,R(100)),x:M("xyz",0,R(95.047)),y:M("xyz",1,R(100)),z:M("xyz",2,R(108.833)),l:M("lab",0,R(100)),a:M("lab",1),b:M("lab",2),keyword(e){return void 0!==e?new P(e):_[this.model].keyword(this.color)},hex(e){return void 0!==e?new P(e):l.to.hex(...this.rgb().round().color)},hexa(e){if(void 0!==e)return new P(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),l.to.hex(...t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const e=r/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return P.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,a=2*i-1,s=n.alpha()-r.alpha(),o=((a*s===-1?a:(a+s)/(1+a*s))+1)/2,c=1-o;return P.rgb(o*n.red()+c*r.red(),o*n.green()+c*r.green(),o*n.blue()+c*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys(_)){if(C.includes(e))continue;const{channels:t}=_[e];P.prototype[e]=function(...t){return this.model===e?new P(this):t.length>0?new P(t,e):new P([...(n=_[this.model][e].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],e);var n},P[e]=function(...n){let r=n[0];return"number"==typeof r&&(r=N(n,t)),new P(r,e)}}function O(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function M(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(I[r]||=[])[t]=n;return e=e[0],function(r){let i;return void 0!==r?(n&&(r=n(r)),i=this[e](),i.color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function R(e){return function(t){return Math.max(0,Math.min(e,t))}}function N(e,t){for(let n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}const L=P},38971:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(48578));function a(e,t){return function(){var n=this.traits(),r=this.properties?this.properties():{};return i.default(n,"address."+e)||i.default(n,e)||(t?i.default(n,"address."+t):null)||(t?i.default(n,t):null)||i.default(r,"address."+e)||i.default(r,e)||(t?i.default(r,"address."+t):null)||(t?i.default(r,t):null)}}t.default=function(e){e.zip=a("postalCode","zip"),e.country=a("country"),e.street=a("street"),e.state=a("state"),e.city=a("city"),e.region=a("region")}},38993:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(88681),i=n(50761),a=n(37237);function s(e,{docsPath:t,...n}){const s=(()=>{const t=(0,a.l)(e,n);return t instanceof r.RM?e:t})();return new i.$s(s,{docsPath:t,...n})}},39216:(e,t,n)=>{var r=n(47403);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},39318:(e,t)=>{t.read=function(e,t,n,r,i){var a,s,o=8*i-r-1,c=(1<<o)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-u)-1,p>>=-u,u+=o;u>0;a=256*a+e[t+d],d+=f,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===a)a=1-l;else{if(a===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),a-=l}return(p?-1:1)*s*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var s,o,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(o=0,s=u):s+d>=1?(o=(t*c-1)*Math.pow(2,i),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&o,p+=h,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;e[n+p]=255&s,p+=h,s/=256,l-=8);e[n+p-h]|=128*b}},39435:(e,t,n)=>{"use strict";const r=n(61253);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},39571:(e,t,n)=>{"use strict";n.d(t,{b4:()=>i,uP:()=>a});var r=n(79756);const i={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function a(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,r.ME)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,r.ME)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?i[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof n.v){if(0n===n.v||27n===n.v)return 0;if(1n===n.v||28n===n.v)return 1;if(n.v>=35n)return n.v%2n==0n?1:0}})(),"legacy"===n.type&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),"eip2930"===n.type&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),"eip1559"===n.type&&delete n.maxFeePerBlobGas,n}},39610:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var r=n(37663),i=n(66077),a=n(95068),s=n(30666),o=n(63577),c=n(38903),l=n(95976);function u(e,t){if(e.length!==t.length)throw new r.YE({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],a=t[r];n.push(d(i,a))}return(0,s.aP)(n)}function d(e,t,n=!1){if("address"===e){const e=t;if(!(0,a.P)(e))throw new i.M({address:e});return(0,o.eV)(e.toLowerCase(),{size:n?32:null})}if("string"===e)return(0,c.i3)(t);if("bytes"===e)return t;if("bool"===e)return(0,o.eV)((0,c.$P)(t),{size:n?32:1});const u=e.match(l.Ge);if(u){const[e,r,i="256"]=u,a=Number.parseInt(i,10)/8;return(0,c.cK)(t,{size:n?32:a,signed:"int"===r})}const f=e.match(l.BD);if(f){const[e,i]=f;if(Number.parseInt(i,10)!==(t.length-2)/2)throw new r.BI({expectedSize:Number.parseInt(i,10),givenSize:(t.length-2)/2});return(0,o.eV)(t,{dir:"right",size:n?32:null})}const p=e.match(l.D5);if(p&&Array.isArray(t)){const[e,n]=p,r=[];for(let e=0;e<t.length;e++)r.push(d(n,t[e],!0));return 0===r.length?"0x":(0,s.aP)(r)}throw new r.Wl(e)}},39693:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(53363),t)},39862:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r=n(39571);function i(e,t){const n=(e.transactions??[]).map(e=>"string"==typeof e?e:(0,r.uP)(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}},39876:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(77468);function i({blockNumber:e,chain:t,contract:n}){const i=t?.contracts?.[n];if(!i)throw new r.rj({chain:t,contract:{name:n}});if(e&&i.blockCreated&&i.blockCreated>e)throw new r.rj({blockNumber:e,chain:t,contract:{name:n,blockCreated:i.blockCreated}});return i.address}},39897:(e,t,n)=>{"use strict";n.d(t,{eL:()=>r,sz:()=>i});const r={gwei:9,wei:18},i={ether:-9,wei:9}},39902:(e,t,n)=>{var r,i=n(39907);!function(a){var s=Object.hasOwnProperty,o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},c="object"==typeof i&&"function"==typeof i.nextTick,l="function"==typeof Symbol,u="object"==typeof Reflect,d="function"==typeof setImmediate?setImmediate:setTimeout,f=l?u&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function p(){this._events={},this._conf&&h.call(this,this._conf)}function h(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==a&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function b(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,i.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var y=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=new Array(r);r--;)i[r]=arguments[r];return i}};function m(e,t){for(var n={},r=e.length,i=t?t.length:0,s=0;s<r;s++)n[e[s]]=s<i?t[s]:a;return n}function g(e,t,n){var r,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,i=n.off),t.addEventListener?(r=t.addEventListener,i=t.removeEventListener):t.addListener?(r=t.addListener,i=t.removeListener):t.on&&(r=t.on,i=t.off),!r&&!i)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=r,this._off=i;var a=e._observers;a?a.push(this):e._observers=[this]}function w(e,t,n,r){var i=Object.assign({},t);if(!e)return i;if("object"!=typeof e)throw TypeError("options must be an object");var o,c,l,u=Object.keys(e),d=u.length;function f(e){throw Error('Invalid "'+o+'" option value'+(e?". Reason: "+e:""))}for(var p=0;p<d;p++){if(o=u[p],!r&&!s.call(t,o))throw Error('Unknown "'+o+'" option');(c=e[o])!==a&&(l=n[o],i[o]=l?l(c,f):c)}return i}function v(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function E(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var a=typeof e;if(a===r||a===i)return e;n(t)}:function(r,i){for(var a=typeof r,s=n;s-- >0;)if(a===e[s])return r;i(t)}}Object.assign(g.prototype,{subscribe:function(e,t,n){var r=this,i=this._target,a=this._emitter,s=this._listeners,o=function(){var r=y.apply(null,arguments),s={data:r,name:t,original:e};n?!1!==n.call(i,s)&&a.emit.apply(a,[s.name].concat(r)):a.emit.apply(a,[t].concat(r))};if(s[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,a._newListener&&a._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===s[e]&&(s[e]=o,r._on.call(i,e,o))},a.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!a.hasListeners(n)&&s[e]&&(s[e]=null,r._off.call(i,e,o))},s[e]=null,a.on("removeListener",this._onRemoveListener)):(s[e]=o,r._on.call(i,e,o))},unsubscribe:function(e){var t,n,r,i=this,a=this._listeners,s=this._emitter,o=this._off,c=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function l(){i._onNewListener&&(s.off("newListener",i._onNewListener),s.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=A.call(s,i);s._observers.splice(e,1)}if(e){if(!(t=a[e]))return;o.call(c,e,t),delete a[e],--this._listenersCount||l()}else{for(r=(n=f(a)).length;r-- >0;)e=n[r],o.call(c,e,a[e]);this._listeners={},this._listenersCount=0,l()}}});var x=E(["function"]),S=E(["object","function"]);function T(e,t,n){var r,i,a,s=0,o=new e(function(c,l,u){function d(){i&&(i=null),s&&(clearTimeout(s),s=0)}n=w(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),r=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var f=function(e){d(),c(e)},p=function(e){d(),l(e)};r?t(f,p,u):(i=[function(e){p(e||Error("canceled"))}],t(f,p,function(e){if(a)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)}),a=!0),n.timeout>0&&(s=setTimeout(function(){var e=Error("timeout");e.code="ETIMEDOUT",s=0,o.cancel(e),l(e)},n.timeout))});return r||(o.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),o}function A(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function _(e,t,n,r,i){if(!n)return null;if(0===r){var a=typeof t;if("string"===a){var s,o,c=0,l=0,u=this.delimiter,d=u.length;if(-1!==(o=t.indexOf(u))){s=new Array(5);do{s[c++]=t.slice(l,o),l=o+d}while(-1!==(o=t.indexOf(u,l)));s[c++]=t.slice(l),t=s,i=c}else t=[t],i=1}else"object"===a?i=t.length:(t=[t],i=1)}var p,h,b,y,m,g,w,v=null,E=t[r],x=t[r+1];if(r===i)n._listeners&&("function"==typeof n._listeners?(e&&e.push(n._listeners),v=[n]):(e&&e.push.apply(e,n._listeners),v=[n]));else{if("*"===E){for(o=(g=f(n)).length;o-- >0;)"_listeners"!==(p=g[o])&&(w=_(e,t,n[p],r+1,i))&&(v?v.push.apply(v,w):v=w);return v}if("**"===E){for((m=r+1===i||r+2===i&&"*"===x)&&n._listeners&&(v=_(e,t,n,i,i)),o=(g=f(n)).length;o-- >0;)"_listeners"!==(p=g[o])&&("*"===p||"**"===p?(n[p]._listeners&&!m&&(w=_(e,t,n[p],i,i))&&(v?v.push.apply(v,w):v=w),w=_(e,t,n[p],r,i)):w=_(e,t,n[p],p===x?r+2:r,i),w&&(v?v.push.apply(v,w):v=w));return v}n[E]&&(v=_(e,t,n[E],r+1,i))}if((h=n["*"])&&_(e,t,h,r+1,i),b=n["**"])if(r<i)for(b._listeners&&_(e,t,b,i,i),o=(g=f(b)).length;o-- >0;)"_listeners"!==(p=g[o])&&(p===x?_(e,t,b[p],r+2,i):p===E?_(e,t,b[p],r+1,i):((y={})[p]=b[p],_(e,t,{"**":y},r+1,i)));else b._listeners?_(e,t,b,i,i):b["*"]&&b["*"]._listeners&&_(e,t,b["*"],i,i);return v}function C(e,t,n){var r,i,a=0,s=0,o=this.delimiter,c=o.length;if("string"==typeof e)if(-1!==(r=e.indexOf(o))){i=new Array(5);do{i[a++]=e.slice(s,r),s=r+c}while(-1!==(r=e.indexOf(o,s)));i[a++]=e.slice(s)}else i=[e],a=1;else i=e,a=e.length;if(a>1)for(r=0;r+1<a;r++)if("**"===i[r]&&"**"===i[r+1])return;var l,u=this.listenerTree;for(r=0;r<a;r++)if(u=u[l=i[r]]||(u[l]={}),r===a-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,b.call(this,u._listeners.length,l))):u._listeners=t,!0;return!0}function k(e,t,n,r){for(var i,a,s,o,c=f(e),l=c.length,u=e._listeners;l-- >0;)i=e[a=c[l]],s="_listeners"===a?n:n?n.concat(a):[a],o=r||"symbol"==typeof a,u&&t.push(o?s:s.join(this.delimiter)),"object"==typeof i&&k.call(this,i,t,s,o);return t}function I(e){for(var t,n,r,i=f(e),a=i.length;a-- >0;)(t=e[n=i[a]])&&(r=!0,"_listeners"===n||I(t)||delete e[n]);return r}function P(e,t,n){this.emitter=e,this.event=t,this.listener=n}function O(e,t,n){if(!0===n)s=!0;else if(!1===n)r=!0;else{if(!n||"object"!=typeof n)throw TypeError("options should be an object or true");var r=n.async,s=n.promisify,o=n.nextTick,l=n.objectify}if(r||o||s){var u=t,f=t._origin||t;if(o&&!c)throw Error("process.nextTick is not supported");s===a&&(s="AsyncFunction"===t.constructor.name),t=function(){var e=arguments,t=this,n=this.event;return s?o?Promise.resolve():new Promise(function(e){d(e)}).then(function(){return t.event=n,u.apply(t,e)}):(o?i.nextTick:d)(function(){t.event=n,u.apply(t,e)})},t._async=!0,t._origin=f}return[t,l?new P(this,e,t):this]}function M(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,h.call(this,e)}P.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},M.EventEmitter2=M,M.prototype.listenTo=function(e,t,n){if("object"!=typeof e)throw TypeError("target musts be an object");var r=this;function i(t){if("object"!=typeof t)throw TypeError("events must be an object");var i,a=n.reducers,s=A.call(r,e);i=-1===s?new g(r,e,n):r._observers[s];for(var o,c=f(t),l=c.length,u="function"==typeof a,d=0;d<l;d++)o=c[d],i.subscribe(o,t[o]||o,u?a:a&&a[o])}return n=w(n,{on:a,off:a,reducers:a},{on:x,off:x,reducers:S}),o(t)?i(m(t)):i("string"==typeof t?m(t.split(/\s+/)):t),this},M.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,i=n.length,a=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)r=n[i],e&&r._target!==e||(r.unsubscribe(t),a=!0);return a},M.prototype.delimiter=".",M.prototype.setMaxListeners=function(e){e!==a&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},M.prototype.getMaxListeners=function(){return this._maxListeners},M.prototype.event="",M.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},M.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},M.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},M.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},M.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},M.prototype._many=function(e,t,n,r,i){var a=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function s(){return 0===--t&&a.off(e,s),n.apply(this,arguments)}return s._origin=n,this._on(e,s,r,i)},M.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var e,t,n,r,i,a,s=arguments[0],o=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(o&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(n=s.length,l)for(r=0;r<n;r++)if("symbol"==typeof s[r]){a=!0;break}a||(s=s.join(this.delimiter))}var c,u=arguments.length;if(this._all&&this._all.length)for(r=0,n=(c=this._all.slice()).length;r<n;r++)switch(this.event=s,u){case 1:c[r].call(this,s);break;case 2:c[r].call(this,s,arguments[1]);break;case 3:c[r].call(this,s,arguments[1],arguments[2]);break;default:c[r].apply(this,arguments)}if(o)c=[],_.call(this,c,e,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[s])){switch(this.event=s,u){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];c.apply(this,t)}return!0}c&&(c=c.slice())}if(c&&c.length){if(u>3)for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];for(r=0,n=c.length;r<n;r++)switch(this.event=s,u){case 1:c[r].call(this);break;case 2:c[r].call(this,arguments[1]);break;case 3:c[r].call(this,arguments[1],arguments[2]);break;default:c[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===s)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},M.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var e,t,n,r,i,a,s=arguments[0],o=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(o&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(r=s.length,l)for(i=0;i<r;i++)if("symbol"==typeof s[i]){t=!0;break}t||(s=s.join(this.delimiter))}var c,u=[],d=arguments.length;if(this._all)for(i=0,r=this._all.length;i<r;i++)switch(this.event=s,d){case 1:u.push(this._all[i].call(this,s));break;case 2:u.push(this._all[i].call(this,s,arguments[1]));break;case 3:u.push(this._all[i].call(this,s,arguments[1],arguments[2]));break;default:u.push(this._all[i].apply(this,arguments))}if(o?(c=[],_.call(this,c,e,this.listenerTree,0)):c=this._events[s],"function"==typeof c)switch(this.event=s,d){case 1:u.push(c.call(this));break;case 2:u.push(c.call(this,arguments[1]));break;case 3:u.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(d-1),a=1;a<d;a++)n[a-1]=arguments[a];u.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),d>3)for(n=new Array(d-1),a=1;a<d;a++)n[a-1]=arguments[a];for(i=0,r=c.length;i<r;i++)switch(this.event=s,d){case 1:u.push(c[i].call(this));break;case 2:u.push(c[i].call(this,arguments[1]));break;case 3:u.push(c[i].call(this,arguments[1],arguments[2]));break;default:u.push(c[i].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},M.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},M.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},M.prototype.onAny=function(e){return this._onAny(e,!1)},M.prototype.prependAny=function(e){return this._onAny(e,!0)},M.prototype.addListener=M.prototype.on,M.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},M.prototype._on=function(e,t,n,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||p.call(this);var i,s=this;return r!==a&&(t=(i=O.call(this,e,t,r))[0],s=i[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?(C.call(this,e,t,n),s):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,b.call(this,this._events[e].length,e))):this._events[e]=t,s)},M.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=_.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var a=0;a<r.length;a++){var s=r[a];if(n=s._listeners,o(n)){for(var c=-1,l=0,u=n.length;l<u;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){c=l;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&I(this.listenerTree),this},M.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},M.prototype.removeListener=M.prototype.off,M.prototype.removeAllListeners=function(e){if(e===a)return!this._events||p.call(this),this;if(this.wildcard){var t,n=_.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&I(this.listenerTree)}else this._events&&(this._events[e]=null);return this},M.prototype.listeners=function(e){var t,n,r,i,s,o=this._events;if(e===a){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!o)return[];for(i=(t=f(o)).length,r=[];i-- >0;)"function"==typeof(n=o[t[i]])?r.push(n):r.push.apply(r,n);return r}if(this.wildcard){if(!(s=this.listenerTree))return[];var c=[],l="string"==typeof e?e.split(this.delimiter):e.slice();return _.call(this,c,l,s,0),c}return o&&(n=o[e])?"function"==typeof n?[n]:n:[]},M.prototype.eventNames=function(e){var t=this._events;return this.wildcard?k.call(this,this.listenerTree,[],null,e):t?f(t):[]},M.prototype.listenerCount=function(e){return this.listeners(e).length},M.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return _.call(this,t,n,this.listenerTree,0),t.length>0}var r=this._events,i=this._all;return!!(i&&i.length||r&&(e===a?f(r).length:r[e]))},M.prototype.listenersAny=function(){return this._all?this._all:[]},M.prototype.waitFor=function(e,t){var n=this,r=typeof t;return"number"===r?t={timeout:t}:"function"===r&&(t={filter:t}),T((t=w(t,{timeout:0,filter:a,handleError:!1,Promise,overload:!1},{filter:x,Promise:v})).Promise,function(r,i,a){function s(){var a=t.filter;if(!a||a.apply(n,arguments))if(n.off(e,s),t.handleError){var o=arguments[0];o?i(o):r(y.apply(null,arguments).slice(1))}else r(y.apply(null,arguments))}a(function(){n.off(e,s)}),n._on(e,s,!1)},{timeout:t.timeout,overload:t.overload})};var R=M.prototype;Object.defineProperties(M,{defaultMaxListeners:{get:function(){return R._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");R._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return T((n=w(n,{Promise,timeout:0,overload:!1},{Promise:v})).Promise,function(n,r,i){var a;if("function"==typeof e.addEventListener)return a=function(){n(y.apply(null,arguments))},i(function(){e.removeEventListener(t,a)}),void e.addEventListener(t,a,{once:!0});var s,o=function(){s&&e.removeListener("error",s),n(y.apply(null,arguments))};"error"!==t&&(s=function(n){e.removeListener(t,o),r(n)},e.once("error",s)),i(function(){s&&e.removeListener("error",s),e.removeListener(t,o)}),e.once(t,o)},{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(R,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),(r=function(){return M}.call(t,n,t,e))===a||(e.exports=r)}()},39907:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var o,c=[],l=!1,u=-1;function d(){l&&o&&(l=!1,o.length?c=o.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(o=c,c=[];++u<t;)o&&o[u].run();u=-1,t=c.length}o=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},40022:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(e,t,n)=>JSON.stringify(e,(e,n)=>{const r="bigint"==typeof n?n.toString():n;return"function"==typeof t?t(e,r):r},n)},40145:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(80339),i=n(10286),a=n(93747),s=n(58501),o=n(16067);async function c(e,t){const{abi:n,address:c,args:l,functionName:u,...d}=t,f=(0,i.p)({abi:n,args:l,functionName:u});try{const{data:t}=await(0,s.T)(e,o.T,"call")({...d,data:f,to:c});return(0,r.e)({abi:n,args:l,functionName:u,data:t||"0x"})}catch(e){throw(0,a.j)(e,{abi:n,address:c,args:l,docsPath:"/docs/contract/readContract",functionName:u})}}},40670:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ObjectSetPrototypeOf:i}=n(70273),{EventEmitter:a}=n(50046);function s(e){a.call(this,e)}function o(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}i(s.prototype,a.prototype),i(s,a),s.prototype.pipe=function(e,t){const n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",c),n.on("close",l));let s=!1;function c(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){d(),0===a.listenerCount(this,"error")&&this.emit("error",e)}function d(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",c),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",d),n.removeListener("close",d),e.removeListener("close",d)}return o(n,"error",u),o(e,"error",u),n.on("end",d),n.on("close",d),e.on("close",d),e.emit("pipe",n),e},e.exports={Stream:s,prependListener:o}},40935:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&s[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},41528:()=>{},41874:(e,t,n)=>{"use strict";var r=t,i=n(82823),a=n(7784),s=n(89042);r.assert=a,r.toArray=s.toArray,r.zero2=s.zero2,r.toHex=s.toHex,r.encode=s.encode,r.getNAF=function(e,t,n){var r,i=new Array(Math.max(e.bitLength(),n)+1);for(r=0;r<i.length;r+=1)i[r]=0;var a=1<<t+1,s=e.clone();for(r=0;r<i.length;r++){var o,c=s.andln(a-1);s.isOdd()?(o=c>(a>>1)-1?(a>>1)-c:c,s.isubn(o)):o=0,i[r]=o,s.iushrn(1)}return i},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var s,o,c=e.andln(3)+i&3,l=t.andln(3)+a&3;3===c&&(c=-1),3===l&&(l=-1),s=1&c?3!=(r=e.andln(7)+i&7)&&5!==r||2!==l?c:-c:0,n[0].push(s),o=1&l?3!=(r=t.andln(7)+a&7)&&5!==r||2!==c?l:-l:0,n[1].push(o),2*i===s+1&&(i=1-i),2*a===o+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},42062:(e,t,n)=>{"use strict";var r=n(39907),i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),b=Symbol.iterator,y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||y}function v(){}function E(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=w.prototype;var x=E.prototype=new v;x.constructor=E,m(x,w.prototype),x.isPureReactComponent=!0;var S=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function _(e,t,n,r,a,s){return n=s.ref,{$$typeof:i,type:e,key:t,ref:void 0!==n?n:null,props:s}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function P(){}function O(e,t,n,r,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0;break;case h:return O((u=e._init)(e._payload),t,n,r,s)}}if(u)return s=s(e),u=""===r?"."+I(e,0):r,S(s)?(n="",null!=u&&(n=u.replace(k,"$&/")+"/"),O(s,t,n,"",function(e){return e})):null!=s&&(C(s)&&(c=s,l=n+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+u,s=_(c.type,l,void 0,0,0,c.props)),t.push(s)),1;u=0;var d,f=""===r?".":r+":";if(S(e))for(var p=0;p<e.length;p++)u+=O(r=e[p],t,n,o=f+I(r,p),s);else if("function"==typeof(p=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=b&&d[b]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(r=e.next()).done;)u+=O(r=r.value,t,n,o=f+I(r,p++),s);else if("object"===o){if("function"==typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(P,P):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof r&&"function"==typeof r.emit)return void r.emit("uncaughtException",e);console.error(e)};function L(){}t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=E,t.StrictMode=o,t.Suspense=f,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return T.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in t.ref,void 0!==t.key&&(i=""+t.key),t)!A.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return _(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)A.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),c=0;c<s;c++)o[c]=arguments[c+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return _(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.T,n={};T.T=n;try{var r=e(),i=T.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(L,N)}catch(e){N(e)}finally{T.T=t}},t.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},t.use=function(e){return T.H.use(e)},t.useActionState=function(e,t,n){return T.H.useActionState(e,t,n)},t.useCallback=function(e,t){return T.H.useCallback(e,t)},t.useContext=function(e){return T.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return T.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=T.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return T.H.useId()},t.useImperativeHandle=function(e,t,n){return T.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.H.useMemo(e,t)},t.useOptimistic=function(e,t){return T.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return T.H.useReducer(e,t,n)},t.useRef=function(e){return T.H.useRef(e)},t.useState=function(e){return T.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.H.useTransition()},t.version="19.1.1"},42133:(e,t,n)=>{"use strict";const r=n(91715);e.exports=(e,t)=>{const n=r(e,null,!0),i=r(t,null,!0),a=n.compare(i);if(0===a)return null;const s=a>0,o=s?n:i,c=s?i:n,l=!!o.prerelease.length;if(c.prerelease.length&&!l){if(!c.patch&&!c.minor)return"major";if(0===c.compareMain(o))return c.minor&&!c.patch?"minor":"patch"}const u=l?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"}},42265:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Facade=void 0;var i=r(n(38971)),a=n(93194),s=r(n(77751)),o=r(n(87639)),c=r(n(48578)),l=r(n(50518));function u(e,t){t=t||{},this.raw=a.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=a.clone(e)),"traverse"in t||(t.traverse=!0),e.timestamp="timestamp"in e?o.default(e.timestamp):new Date,t.traverse&&l.default(e),this.opts=t,this.obj=e}t.Facade=u;var d=u.prototype;function f(e){return a.clone(e)}d.proxy=function(e){var t=e.split("."),n=this[e=t.shift()]||this.obj[e];return n?("function"==typeof n&&(n=n.call(this)||{}),0===t.length||(n=c.default(n,t.join("."))),this.opts.clone?f(n):n):n},d.field=function(e){var t=this.obj[e];return this.opts.clone?f(t):t},u.proxy=function(e){return function(){return this.proxy(e)}},u.field=function(e){return function(){return this.field(e)}},u.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var n=this.proxy(e);return n&&(n=[this.opts.clone?a.clone(n):n]),n||[]}},u.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");return Array.isArray(n)?n[0]:void 0}},d.json=function(){var e=this.opts.clone?a.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e},d.rawEvent=function(){return this.raw},d.options=function(e){var t=this.obj.options||this.obj.context||{},n=this.opts.clone?a.clone(t):t;if(!e)return n;if(this.enabled(e)){var r=this.integrations(),i=r[e]||c.default(r,e);return"object"!=typeof i&&(i=c.default(this.options(),e)),"object"==typeof i?i:{}}},d.context=d.options,d.enabled=function(e){var t=this.proxy("options.providers.all");"boolean"!=typeof t&&(t=this.proxy("options.all")),"boolean"!=typeof t&&(t=this.proxy("integrations.all")),"boolean"!=typeof t&&(t=!0);var n=t&&s.default(e),r=this.integrations();if(r.providers&&r.providers.hasOwnProperty(e)&&(n=r.providers[e]),r.hasOwnProperty(e)){var i=r[e];n="boolean"!=typeof i||i}return!!n},d.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},d.active=function(){var e=this.proxy("options.active");return null==e&&(e=!0),e},d.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},d.sessionId=d.anonymousId,d.groupId=u.proxy("options.groupId"),d.traits=function(e){var t=this.proxy("options.traits")||{},n=this.userId();for(var r in e=e||{},n&&(t.id=n),e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=null==this[r]?this.proxy("options.traits."+r):this[r]();if(null==i)continue;t[e[r]]=i,delete t[r]}return t},d.library=function(){var e=this.proxy("options.library");return e?"string"==typeof e?{name:e,version:null}:e:{name:"unknown",version:null}},d.device=function(){var e=this.proxy("context.device");"object"==typeof e&&null!==e||(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e},d.userAgent=u.proxy("context.userAgent"),d.timezone=u.proxy("context.timezone"),d.timestamp=u.field("timestamp"),d.channel=u.field("channel"),d.ip=u.proxy("context.ip"),d.userId=u.field("userId"),i.default(d)},42266:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(89962),i=n(19555),a=n(23785),s=n(96943),o=n(79756),c=n(38903);function l(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function u({hash:e,signature:t}){return function(e){const t=(0,i.S)(`0x${e.substring(4)}`).substring(26);return(0,r.o)(`0x${t}`)}(await async function({hash:e,signature:t}){const r=(0,a.q)(e)?e:(0,c.nj)(e),{secp256k1:i}=await Promise.resolve().then(n.bind(n,8011));return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:n,v:r,yParity:a}=t,s=l(Number(a??r));return new i.Signature((0,o.uU)(e),(0,o.uU)(n)).addRecoveryBit(s)}const e=(0,a.q)(t)?t:(0,c.nj)(t);if(65!==(0,s.E)(e))throw new Error("invalid signature length");const n=l((0,o.ME)(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}({hash:e,signature:t}))}},42558:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>c,xy:()=>l});var r=n(58470),i=n(30666),a=n(38903),s=n(19555),o=n(96063);function c(e){const{domain:t={},message:n,primaryType:r}=e,a={EIP712Domain:(0,o.H4)({domain:t}),...e.types};(0,o.$$)({domain:t,message:n,primaryType:r,types:a});const c=["0x1901"];return t&&c.push(l({domain:t,types:a})),"EIP712Domain"!==r&&c.push(u({data:n,primaryType:r,types:a})),(0,s.S)((0,i.xW)(c))}function l({domain:e,types:t}){return u({data:e,primaryType:"EIP712Domain",types:t})}function u({data:e,primaryType:t,types:n}){const r=d({data:e,primaryType:t,types:n});return(0,s.S)(r)}function d({data:e,primaryType:t,types:n}){const i=[{type:"bytes32"}],a=[f({primaryType:t,types:n})];for(const r of n[t]){const[t,s]=h({types:n,name:r.name,type:r.type,value:e[r.name]});i.push(t),a.push(s)}return(0,r.h)(i,a)}function f({primaryType:e,types:t}){const n=(0,a.nj)(function({primaryType:e,types:t}){let n="";const r=p({primaryType:e,types:t});r.delete(e);const i=[e,...Array.from(r).sort()];for(const e of i)n+=`${e}(${t[e].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return n}({primaryType:e,types:t}));return(0,s.S)(n)}function p({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),i=r?.[0];if(n.has(i)||void 0===t[i])return n;n.add(i);for(const e of t[i])p({primaryType:e.type,types:t},n);return n}function h({types:e,name:t,type:n,value:i}){if(void 0!==e[n])return[{type:"bytes32"},(0,s.S)(d({data:i,primaryType:n,types:e}))];if("bytes"===n)return[{type:"bytes32"},(0,s.S)(i)];if("string"===n)return[{type:"bytes32"},(0,s.S)((0,a.nj)(i))];if(n.lastIndexOf("]")===n.length-1){const a=n.slice(0,n.lastIndexOf("[")),o=i.map(n=>h({name:t,type:a,types:e,value:n}));return[{type:"bytes32"},(0,s.S)((0,r.h)(o.map(([e])=>e),o.map(([,e])=>e)))]}return[{type:n},i]}},42566:(e,t,n)=>{"use strict";n.d(t,{F:()=>X});var r=n(10415),i=n(90244),a=n(50327),s=n(38903),o=n(97769),c=n(53621),l=n(89962),u=n(65846),d=n(90958),f=n(79756),p=n(70895),h=n(34820),b=n(14323),y=n(7658),m=n(10286),g=n(30666),w=n(38993);const v="0x5792579257925792579257925792579257925792579257925792579257925792",E=(0,s.cK)(0,{size:32});async function x(e,t){const{account:n=e.account,capabilities:r,chain:i=e.chain,experimental_fallback:a,experimental_fallbackDelay:o=32,forceAtomic:l=!1,id:u,version:d="2.0.0"}=t,p=n?(0,h.J)(n):null,x=t.calls.map(e=>{const t=e,n=t.abi?(0,m.p)({abi:t.abi,functionName:t.functionName,args:t.args}):t.data;return{data:t.dataSuffix&&n?(0,g.xW)([n,t.dataSuffix]):n,to:t.to,value:t.value?(0,s.cK)(t.value):void 0}});try{const t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:l,calls:x,capabilities:r,chainId:(0,s.cK)(i.id),from:p?.address,id:u,version:d}]},{retryCount:0});return"string"==typeof t?{id:t}:t}catch(n){const u=n;if(a&&("MethodNotFoundRpcError"===u.name||"MethodNotSupportedRpcError"===u.name||"UnknownRpcError"===u.name||u.details.toLowerCase().includes("does not exist / is not available")||u.details.toLowerCase().includes("missing or invalid. request()")||u.details.toLowerCase().includes("did not match any variant of untagged enum")||u.details.toLowerCase().includes("account upgraded to unsupported contract")||u.details.toLowerCase().includes("eip-7702 not supported")||u.details.toLowerCase().includes("unsupported wc_ method")||u.details.toLowerCase().includes("feature toggled misconfigured")||u.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(e=>!e.optional)){const e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new y.L5(new b.C(e,{details:e}))}if(l&&x.length>1){const e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new y.jz(new b.C(e,{details:e}))}const t=[];for(const n of x){const r=(0,c.v)(e,{account:p,chain:i,data:n.data,to:n.to,value:n.value?(0,f.uU)(n.value):void 0});t.push(r),o>0&&await new Promise(e=>setTimeout(e,o))}const n=await Promise.allSettled(t);if(n.every(e=>"rejected"===e.status))throw n[0].reason;const a=n.map(e=>"fulfilled"===e.status?e.value:E);return{id:(0,g.xW)([...a,(0,s.cK)(i.id,{size:32}),v])}}throw(0,w.p)(n,{...t,account:p,chain:t.chain})}}async function S(e,t){const{atomic:n=!1,chainId:r,receipts:i,version:a="2.0.0",...s}=await async function(t){if(t.endsWith(v.slice(2))){const n=(0,d.B)((0,u.iN)(t,-64,-32)),r=(0,u.iN)(t,0,-64).slice(2).match(/.{1,64}/g),i=await Promise.all(r.map(t=>E.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),a=i.some(e=>null===e)?100:i.every(e=>"0x1"===e?.status)?200:i.every(e=>"0x0"===e?.status)?500:600;return{atomic:!1,chainId:(0,f.ME)(n),receipts:i.filter(Boolean),status:a,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}(t.id),[o,c]=(()=>{const e=s.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...s,atomic:n,chainId:r?(0,f.ME)(r):void 0,receipts:i?.map(e=>({...e,blockNumber:(0,f.uU)(e.blockNumber),gasUsed:(0,f.uU)(e.gasUsed),status:p.Lj[e.status]}))??[],statusCode:c,status:o,version:a}}var T=n(85723),A=n(58423);class _ extends b.C{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}var C=n(58501),k=n(32991),I=n(76154),P=n(8322),O=n(37527),M=n(40022);async function R(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:i=({statusCode:e})=>200===e||e>=300,retryCount:a=4,retryDelay:s=({count:e})=>200*(1<<e),timeout:o=6e4,throwOnFailure:c=!1}=t,l=(0,M.A)(["waitForCallsStatus",e.uid,n]),{promise:u,resolve:d,reject:f}=(0,P.Y)();let p;const h=(0,k.lB)(l,{resolve:d,reject:f},t=>{const o=(0,I.w)(async()=>{const r=e=>{clearTimeout(p),o(),e(),h()};try{const o=await(0,O.b)(async()=>{const t=await(0,C.T)(e,S,"getCallsStatus")({id:n});if(c&&"failure"===t.status)throw new _(t);return t},{retryCount:a,delay:s});if(!i(o))return;r(()=>t.resolve(o))}catch(e){r(()=>t.reject(e))}},{interval:r,emitOnBegin:!0});return o});return p=o?setTimeout(()=>{h(),clearTimeout(p),f(new N({id:n}))},o):void 0,await u}class N extends b.C{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}var L=n(24935),D=n(34976),B=n(94102),j=n(50761),U=n(81526),F=n(46853),$=n(16406),z=n(16590),H=n(95394),q=n(70823),K=n(64295);const W=new H.A(128);async function V(e,t){const{account:n=e.account,chain:r=e.chain,accessList:i,authorizationList:s,blobs:o,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:y,pollingInterval:m,throwOnReceiptRevert:g,type:v,value:E,...x}=t,S=t.timeout??Math.max(3*(r?.blockTime??0),5e3);if(void 0===n)throw new B.T({docsPath:"/docs/actions/wallet/sendTransactionSync"});const T=n?(0,h.J)(n):null;try{(0,q.c)(t);const n=await(async()=>t.to?t.to:null!==t.to&&s&&s.length>0?await(0,U.g)({authorization:s[0]}).catch(()=>{throw new b.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if("json-rpc"===T?.type||null===T){let t;null!==r&&(t=await(0,C.T)(e,a.T,"getChainId")({}),(0,F.v)({currentChainId:t,chain:r}));const h=e.chain?.formatters?.transactionRequest?.format,b=(h||z.Bv)({...(0,$.o)(x,{format:h}),accessList:i,account:T,authorizationList:s,blobs:o,chainId:t,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:y,to:n,type:v,value:E},"sendTransaction"),w=W.get(e.uid),A=w?"wallet_sendTransaction":"eth_sendTransaction",_=await(async()=>{try{return await e.request({method:A,params:[b]},{retryCount:0})}catch(t){if(!1===w)throw t;const n=t;if("InvalidInputRpcError"===n.name||"InvalidParamsRpcError"===n.name||"MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)return await e.request({method:"wallet_sendTransaction",params:[b]},{retryCount:0}).then(t=>(W.set(e.uid,!0),t)).catch(t=>{const r=t;if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw W.set(e.uid,!1),n;throw r});throw n}})(),k=await(0,C.T)(e,K.n,"waitForTransactionReceipt")({checkReplacement:!1,hash:_,pollingInterval:m,timeout:S});if(g&&"reverted"===k.status)throw new j.Sq({receipt:k});return k}if("local"===T?.type){const t=await(0,C.T)(e,A.ft,"prepareTransactionRequest")({account:T,accessList:i,authorizationList:s,blobs:o,chain:r,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:y,nonceManager:T.nonceManager,parameters:[...A.MM,"sidecars"],type:v,value:E,...x,to:n}),a=r?.serializers?.transaction,h=await T.signTransaction(t,{serializer:a});return await(0,C.T)(e,D.s,"sendRawTransactionSync")({serializedTransaction:h,throwOnReceiptRevert:g})}if("smart"===T?.type)throw new B.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new B.Z({docsPath:"/docs/actions/wallet/sendTransactionSync",type:T?.type})}catch(e){if(e instanceof B.Z)throw e;throw(0,w.p)(e,{...t,account:T,chain:t.chain||void 0})}}var G=n(65839),Y=n(96972),J=n(49634);function Z(e){return{addChain:t=>async function(e,{chain:t}){const{id:n,name:r,nativeCurrency:i,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,s.cK)(n),chainName:r,nativeCurrency:i,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}(e,t),deployContract:t=>function(e,t){const{abi:n,args:r,bytecode:i,...a}=t,s=(0,o.m)({abi:n,args:r,bytecode:i});return(0,c.v)(e,{...a,...a.authorizationList?{to:null}:{},data:s})}(e,t),fillTransaction:t=>(0,i.a)(e,t),getAddresses:()=>async function(e){return"local"===e.account?.type?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,l.o)(e))}(e),getCallsStatus:t=>S(e,t),getCapabilities:t=>async function(e,t={}){const{account:n=e.account,chainId:r}=t,i=n?(0,h.J)(n):void 0,a=r?[i?.address,[(0,s.cK)(r)]]:[i?.address],o=await e.request({method:"wallet_getCapabilities",params:a}),c={};for(const[e,t]of Object.entries(o)){c[Number(e)]={};for(let[n,r]of Object.entries(t))"addSubAccount"===n&&(n="unstable_addSubAccount"),c[Number(e)][n]=r}return"number"==typeof r?c[r]:c}(e,t),getChainId:()=>(0,a.T)(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}(e),prepareAuthorization:t=>(0,T.h)(e,t),prepareTransactionRequest:t=>(0,A.ft)(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,l.b)(e))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}(e,t),sendCalls:t=>x(e,t),sendCallsSync:t=>async function(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(3*(n?.blockTime??0),5e3),i=await x(e,t);return await R(e,{...t,id:i.id,timeout:r})}(e,t),sendRawTransaction:t=>(0,L.L)(e,t),sendRawTransactionSync:t=>(0,D.s)(e,t),sendTransaction:t=>(0,c.v)(e,t),sendTransactionSync:t=>V(e,t),showCallsStatus:t=>async function(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}(e,t),signAuthorization:t=>async function(e,t){const{account:n=e.account}=t;if(!n)throw new B.T({docsPath:"/docs/eip7702/signAuthorization"});const r=(0,h.J)(n);if(!r.signAuthorization)throw new B.Z({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await(0,T.h)(e,t);return r.signAuthorization(i)}(e,t),signMessage:t=>(0,G.l)(e,t),signTransaction:t=>async function(e,t){const{account:n=e.account,chain:r=e.chain,...i}=t;if(!n)throw new B.T({docsPath:"/docs/actions/wallet/signTransaction"});const o=(0,h.J)(n);(0,q.c)({account:o,...t});const c=await(0,C.T)(e,a.T,"getChainId")({});null!==r&&(0,F.v)({currentChainId:c,chain:r});const l=r?.formatters||e.chain?.formatters,u=l?.transactionRequest?.format||z.Bv;return o.signTransaction?o.signTransaction({...i,chainId:c},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...u({...i,account:o},"signTransaction"),chainId:(0,s.cK)(c),from:o.address}]},{retryCount:0})}(e,t),signTypedData:t=>(0,Y.C)(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.cK)(t)}]},{retryCount:0})}(e,t),waitForCallsStatus:t=>R(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}(e,t),writeContract:t=>(0,J.E)(e,t),writeContractSync:t=>async function(e,t){return J.E.internal(e,V,"sendTransactionSync",t)}(e,t)}}function X(e){const{key:t="wallet",name:n="Wallet Client",transport:i}=e;return(0,r.U)({...e,key:t,name:n,transport:i,type:"walletClient"}).extend(Z)}},43144:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(12310)},43244:(e,t,n)=>{"use strict";n.d(t,{B4:()=>i,SK:()=>a,hX:()=>s});var r=n(14323);class i extends r.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class a extends r.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class s extends r.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}},43892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixedBytes=t.getByteLength=void 0;const r=n(76728),i=n(19520),a=n(26769),s=/^bytes([0-9]{1,2})$/u;t.getByteLength=e=>{const t=e.match(s)?.[1];(0,r.assert)(t,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);const n=Number(t);return(0,r.assert)(n>0&&n<=32,new i.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),n},t.fixedBytes={isDynamic:!1,isType:e=>s.test(e),getByteLength:()=>32,encode({type:e,buffer:n,value:s,packed:o}){const c=(0,t.getByteLength)(e),l=(0,r.createBytes)(s);return(0,r.assert)(l.length<=c,new i.ParserError(`Expected a value of length ${c}, but received a value of length ${l.length}.`)),o?(0,r.concatBytes)([n,(0,a.padEnd)(l,c)]):(0,r.concatBytes)([n,(0,a.padEnd)(l)])},decode({type:e,value:n}){const r=(0,t.getByteLength)(e);return n.slice(0,r)}}},43930:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,n,r){var i=r&&r.stringify||t;if("object"==typeof e&&null!==e){var a=n.length+1;if(1===a)return e;var s=new Array(a);s[0]=i(e);for(var o=1;o<a;o++)s[o]=i(n[o]);return s.join(" ")}if("string"!=typeof e)return e;var c=n.length;if(0===c)return e;for(var l="",u=0,d=-1,f=e&&e.length||0,p=0;p<f;){if(37===e.charCodeAt(p)&&p+1<f){switch(d=d>-1?d:0,e.charCodeAt(p+1)){case 100:case 102:if(u>=c)break;if(null==n[u])break;d<p&&(l+=e.slice(d,p)),l+=Number(n[u]),d=p+2,p++;break;case 105:if(u>=c)break;if(null==n[u])break;d<p&&(l+=e.slice(d,p)),l+=Math.floor(Number(n[u])),d=p+2,p++;break;case 79:case 111:case 106:if(u>=c)break;if(void 0===n[u])break;d<p&&(l+=e.slice(d,p));var h=typeof n[u];if("string"===h){l+="'"+n[u]+"'",d=p+2,p++;break}if("function"===h){l+=n[u].name||"<anonymous>",d=p+2,p++;break}l+=i(n[u]),d=p+2,p++;break;case 115:if(u>=c)break;d<p&&(l+=e.slice(d,p)),l+=String(n[u]),d=p+2,p++;break;case 37:d<p&&(l+=e.slice(d,p)),l+="%",d=p+2,p++,u--}++u}++p}return-1===d?e:(d<f&&(l+=e.slice(d)),l)}},43961:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,a=7*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,o){o=o||{};var c,l,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return o*a;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===u&&isFinite(e))return o.long?(c=e,(l=Math.abs(c))>=i?s(c,l,i,"day"):l>=r?s(c,l,r,"hour"):l>=n?s(c,l,n,"minute"):l>=t?s(c,l,t,"second"):c+" ms"):function(e){var a=Math.abs(e);return a>=i?Math.round(e/i)+"d":a>=r?Math.round(e/r)+"h":a>=n?Math.round(e/n)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},44022:(e,t,n)=>{"use strict";n.d(t,{F8:()=>s,Xh:()=>a,Yj:()=>r,so:()=>i});const r={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr",am:"am"},i={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish",am:"amharic"},a={light:"light",dark:"dark",auto:"auto"},s={DEVICE:"deviceShareFactor",BACKUP_SHARE:"backUpShareFactor",SOCIAL_BACKUP:"socialBackupFactor",PASSWORD:"passwordFactor",PASSKEYS:"passkeysFactor",AUTHENTICATOR:"authenticatorFactor"}},44189:(e,t,n)=>{"use strict";n.d(t,{p:()=>i,r:()=>a});var r=n(85608),i=function(){function e(){this.metrics=[]}return e.prototype.increment=function(e,t,n){void 0===t&&(t=1),this.metrics.push({metric:e,value:t,tags:null!=n?n:[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(e,t,n){this.metrics.push({metric:e,value:t,tags:null!=n?n:[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var e=this.metrics.map(function(e){return(0,r.Cl)((0,r.Cl)({},e),{tags:e.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:(t=e.type,{gauge:"g",counter:"c"}[t]),e:e.timestamp};var t})},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.gauge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.increment=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.flush=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.serialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[]},t}(i)},44226:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tuple=t.getTupleElements=void 0;const r=n(76728),i=n(19520),a=n(75297),s=/^\((.+)\)$/u;t.getTupleElements=e=>{(0,r.assert)(e.startsWith("(")&&e.endsWith(")"),new i.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));const t=[];let n="",a=0;for(let r=1;r<e.length-1;r++){const i=e[r];","===i&&0===a?(t.push(n.trim()),n=""):(n+=i,"("===i?a+=1:")"===i&&(a-=1))}return n.trim()&&t.push(n.trim()),t},t.tuple={isDynamic:e=>(0,t.getTupleElements)(e).some(e=>{const t=(0,a.getParser)(e);return(0,a.isDynamicParser)(t,e)}),isType:e=>(e=>s.test(e))(e),getByteLength(e){return(0,a.isDynamicParser)(this,e)?32:(0,t.getTupleElements)(e).reduce((e,t)=>e+(0,a.getParser)(t).getByteLength(t),0)},encode({type:e,buffer:n,value:r,packed:i,tight:s}){const o=(0,t.getTupleElements)(e);return(0,a.pack)({types:o,values:r,byteArray:n,packed:i,tight:s})},decode({type:e,value:n,skip:r}){const i=(0,t.getTupleElements)(e);return r(this.getByteLength(e)-32),(0,a.unpack)(i,n)}}},44478:(e,t,n)=>{"use strict";n.d(t,{S:()=>s,ec:()=>o});var r=n(13360),i=n(54833),a=n(1048).Buffer;function s(e){return a.from((0,i.So)(e))}const o=new r.ec("secp256k1")},45247:(e,t,n)=>{"use strict";const r=n(29668);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},45250:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",s="__lodash_hash_undefined__",o="__lodash_placeholder__",c=32,l=128,u=1/0,d=9007199254740991,f=NaN,p=4294967295,h=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],b="[object Arguments]",y="[object Array]",m="[object Boolean]",g="[object Date]",w="[object Error]",v="[object Function]",E="[object GeneratorFunction]",x="[object Map]",S="[object Number]",T="[object Object]",A="[object Promise]",_="[object RegExp]",C="[object Set]",k="[object String]",I="[object Symbol]",P="[object WeakMap]",O="[object ArrayBuffer]",M="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",L="[object Int8Array]",D="[object Int16Array]",B="[object Int32Array]",j="[object Uint8Array]",U="[object Uint8ClampedArray]",F="[object Uint16Array]",$="[object Uint32Array]",z=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,V=RegExp(K.source),G=RegExp(W.source),Y=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",_e="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="["+Ee+"]",Ie="["+Ce+"]",Pe="["+xe+"]",Oe="\\d+",Me="["+Se+"]",Re="["+Te+"]",Ne="[^"+Ee+Ce+Oe+Se+Te+Ae+"]",Le="\\ud83c[\\udffb-\\udfff]",De="[^"+Ee+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Ae+"]",Fe="\\u200d",$e="(?:"+Re+"|"+Ne+")",ze="(?:"+Ue+"|"+Ne+")",He="(?:['](?:d|ll|m|re|s|t|ve))?",qe="(?:['](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Pe+"|"+Le+")?",We="["+_e+"]?",Ve=We+Ke+"(?:"+Fe+"(?:"+[De,Be,je].join("|")+")"+We+Ke+")*",Ge="(?:"+[Me,Be,je].join("|")+")"+Ve,Ye="(?:"+[De+Pe+"?",Pe,Be,je,ke].join("|")+")",Je=RegExp("[']","g"),Ze=RegExp(Pe,"g"),Xe=RegExp(Le+"(?="+Le+")|"+Ye+Ve,"g"),Qe=RegExp([Ue+"?"+Re+"+"+He+"(?="+[Ie,Ue,"$"].join("|")+")",ze+"+"+qe+"(?="+[Ie,Ue+$e,"$"].join("|")+")",Ue+"?"+$e+"+"+He,Ue+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Ge].join("|"),"g"),et=RegExp("["+Fe+Ee+xe+_e+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[R]=it[N]=it[L]=it[D]=it[B]=it[j]=it[U]=it[F]=it[$]=!0,it[b]=it[y]=it[O]=it[m]=it[M]=it[g]=it[w]=it[v]=it[x]=it[S]=it[T]=it[_]=it[C]=it[k]=it[P]=!1;var at={};at[b]=at[y]=at[O]=at[M]=at[m]=at[g]=at[R]=at[N]=at[L]=at[D]=at[B]=at[x]=at[S]=at[T]=at[_]=at[C]=at[k]=at[I]=at[j]=at[U]=at[F]=at[$]=!0,at[w]=at[v]=at[P]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ot=parseFloat,ct=parseInt,lt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ut="object"==typeof self&&self&&self.Object===Object&&self,dt=lt||ut||Function("return this")(),ft=t&&!t.nodeType&&t,pt=ft&&e&&!e.nodeType&&e,ht=pt&&pt.exports===ft,bt=ht&&lt.process,yt=function(){try{return pt&&pt.require&&pt.require("util").types||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),mt=yt&&yt.isArrayBuffer,gt=yt&&yt.isDate,wt=yt&&yt.isMap,vt=yt&&yt.isRegExp,Et=yt&&yt.isSet,xt=yt&&yt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var s=e[i];t(r,s,n(s),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function kt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}function It(e,t){return!(null==e||!e.length)&&Ut(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Nt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Dt=Ht("length");function Bt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function jt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ut(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,$t,n)}function Ft(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function $t(e){return e!=e}function zt(e,t){var n=null==e?0:e.length;return n?Wt(e,t)/n:f}function Ht(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Kt(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Wt(e,t){for(var n,r=-1,a=e.length;++r<a;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Vt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gt(e){return e?e.slice(0,fn(e)+1).replace(re,""):e}function Yt(e){return function(t){return e(t)}}function Jt(e,t){return Ot(t,function(t){return e[t]})}function Zt(e,t){return e.has(t)}function Xt(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}var en=qt({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),tn=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function an(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function sn(e,t){return function(n){return e(t(n))}}function on(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ln(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function un(e){return rn(e)?function(e){for(var t=Xe.lastIndex=0;Xe.test(e);)++t;return t}(e):Dt(e)}function dn(e){return rn(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var pn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hn=function e(t){var n,r=(t=null==t?dt:hn.defaults(dt.Object(),t,hn.pick(dt,nt))).Array,ie=t.Date,Ee=t.Error,xe=t.Function,Se=t.Math,Te=t.Object,Ae=t.RegExp,_e=t.String,Ce=t.TypeError,ke=r.prototype,Ie=xe.prototype,Pe=Te.prototype,Oe=t["__core-js_shared__"],Me=Ie.toString,Re=Pe.hasOwnProperty,Ne=0,Le=(n=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=Pe.toString,Be=Me.call(Te),je=dt._,Ue=Ae("^"+Me.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=ht?t.Buffer:i,$e=t.Symbol,ze=t.Uint8Array,He=Fe?Fe.allocUnsafe:i,qe=sn(Te.getPrototypeOf,Te),Ke=Te.create,We=Pe.propertyIsEnumerable,Ve=ke.splice,Ge=$e?$e.isConcatSpreadable:i,Ye=$e?$e.iterator:i,Xe=$e?$e.toStringTag:i,et=function(){try{var e=ca(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,lt=ie&&ie.now!==dt.Date.now&&ie.now,ut=t.setTimeout!==dt.setTimeout&&t.setTimeout,ft=Se.ceil,pt=Se.floor,bt=Te.getOwnPropertySymbols,yt=Fe?Fe.isBuffer:i,Dt=t.isFinite,qt=ke.join,bn=sn(Te.keys,Te),yn=Se.max,mn=Se.min,gn=ie.now,wn=t.parseInt,vn=Se.random,En=ke.reverse,xn=ca(t,"DataView"),Sn=ca(t,"Map"),Tn=ca(t,"Promise"),An=ca(t,"Set"),_n=ca(t,"WeakMap"),Cn=ca(Te,"create"),kn=_n&&new _n,In={},Pn=Da(xn),On=Da(Sn),Mn=Da(Tn),Rn=Da(An),Nn=Da(_n),Ln=$e?$e.prototype:i,Dn=Ln?Ln.valueOf:i,Bn=Ln?Ln.toString:i;function jn(e){if(Qs(e)&&!zs(e)&&!(e instanceof zn)){if(e instanceof $n)return e;if(Re.call(e,"__wrapped__"))return Ba(e)}return new $n(e)}var Un=function(){function e(){}return function(t){if(!Xs(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Fn(){}function $n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Vn(e){var t=this.__data__=new qn(e);this.size=t.size}function Gn(e,t){var n=zs(e),r=!n&&$s(e),i=!n&&!r&&Ws(e),a=!n&&!r&&!i&&oo(e),s=n||r||i||a,o=s?Vt(e.length,_e):[],c=o.length;for(var l in e)!t&&!Re.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ba(l,c))||o.push(l);return o}function Yn(e){var t=e.length;return t?e[Kr(0,t-1)]:i}function Jn(e,t){return Oa(_i(e),ar(t,0,e.length))}function Zn(e){return Oa(_i(e))}function Xn(e,t,n){(n!==i&&!js(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Qn(e,t,n){var r=e[t];Re.call(e,t)&&js(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(js(e[n][0],t))return n;return-1}function tr(e,t,n,r){return ur(e,function(e,i,a){t(r,e,n(e),a)}),r}function nr(e,t){return e&&Ci(t,Po(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,a=t.length,s=r(a),o=null==e;++n<a;)s[n]=o?i:Ao(e,t[n]);return s}function ar(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,a,s){var o,c=1&t,l=2&t,u=4&t;if(n&&(o=a?n(e,r,a,s):n(e)),o!==i)return o;if(!Xs(e))return e;var d=zs(e);if(d){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return _i(e,o)}else{var f=da(e),p=f==v||f==E;if(Ws(e))return vi(e,c);if(f==T||f==b||p&&!a){if(o=l||p?{}:pa(e),!c)return l?function(e,t){return Ci(e,ua(e),t)}(e,function(e,t){return e&&Ci(t,Oo(t),e)}(o,e)):function(e,t){return Ci(e,la(e),t)}(e,nr(o,e))}else{if(!at[f])return a?e:{};o=function(e,t,n){var r,i=e.constructor;switch(t){case O:return Ei(e);case m:case g:return new i(+e);case M:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case N:case L:case D:case B:case j:case U:case F:case $:return xi(e,n);case x:return new i;case S:case k:return new i(e);case _:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new i;case I:return r=e,Dn?Te(Dn.call(r)):{}}}(e,f,c)}}s||(s=new Vn);var h=s.get(e);if(h)return h;s.set(e,o),io(e)?e.forEach(function(r){o.add(sr(r,t,n,r,e,s))}):eo(e)&&e.forEach(function(r,i){o.set(i,sr(r,t,n,i,e,s))});var y=d?i:(u?l?ta:ea:l?Oo:Po)(e);return At(y||e,function(r,i){y&&(r=e[i=r]),Qn(o,i,sr(r,t,n,i,e,s))}),o}function or(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var a=n[r],s=t[a],o=e[a];if(o===i&&!(a in e)||!s(o))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ce(a);return Ca(function(){e.apply(i,n)},t)}function lr(e,t,n,r){var i=-1,a=It,s=!0,o=e.length,c=[],l=t.length;if(!o)return c;n&&(t=Ot(t,Yt(n))),r?(a=Pt,s=!1):t.length>=200&&(a=Zt,s=!1,t=new Wn(t));e:for(;++i<o;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d==d){for(var f=l;f--;)if(t[f]===d)continue e;c.push(u)}else a(t,d,r)||c.push(u)}return c}jn.templateSettings={escape:Y,evaluate:J,interpolate:Z,variable:"",imports:{_:jn}},jn.prototype=Fn.prototype,jn.prototype.constructor=jn,$n.prototype=Un(Fn.prototype),$n.prototype.constructor=$n,zn.prototype=Un(Fn.prototype),zn.prototype.constructor=zn,Hn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==i:Re.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===i?s:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():Ve.call(t,n,1),--this.size,0))},qn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},qn.prototype.has=function(e){return er(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Sn||qn),string:new Hn}},Kn.prototype.delete=function(e){var t=sa(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return sa(this,e).get(e)},Kn.prototype.has=function(e){return sa(this,e).has(e)},Kn.prototype.set=function(e,t){var n=sa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(e){return this.__data__.set(e,s),this},Wn.prototype.has=function(e){return this.__data__.has(e)},Vn.prototype.clear=function(){this.__data__=new qn,this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Vn.prototype.get=function(e){return this.__data__.get(e)},Vn.prototype.has=function(e){return this.__data__.has(e)},Vn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var ur=Pi(gr),dr=Pi(wr,!0);function fr(e,t){var n=!0;return ur(e,function(e,r,i){return n=!!t(e,r,i)}),n}function pr(e,t,n){for(var r=-1,a=e.length;++r<a;){var s=e[r],o=t(s);if(null!=o&&(c===i?o==o&&!so(o):n(o,c)))var c=o,l=s}return l}function hr(e,t){var n=[];return ur(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function br(e,t,n,r,i){var a=-1,s=e.length;for(n||(n=ha),i||(i=[]);++a<s;){var o=e[a];t>0&&n(o)?t>1?br(o,t-1,n,r,i):Mt(i,o):r||(i[i.length]=o)}return i}var yr=Oi(),mr=Oi(!0);function gr(e,t){return e&&yr(e,t,Po)}function wr(e,t){return e&&mr(e,t,Po)}function vr(e,t){return kt(t,function(t){return Ys(e[t])})}function Er(e,t){for(var n=0,r=(t=yi(t,e)).length;null!=e&&n<r;)e=e[La(t[n++])];return n&&n==r?e:i}function xr(e,t,n){var r=t(e);return zs(e)?r:Mt(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Xe&&Xe in Te(e)?function(e){var t=Re.call(e,Xe),n=e[Xe];try{e[Xe]=i;var r=!0}catch(e){}var a=De.call(e);return r&&(t?e[Xe]=n:delete e[Xe]),a}(e):function(e){return De.call(e)}(e)}function Tr(e,t){return e>t}function Ar(e,t){return null!=e&&Re.call(e,t)}function _r(e,t){return null!=e&&t in Te(e)}function Cr(e,t,n){for(var a=n?Pt:It,s=e[0].length,o=e.length,c=o,l=r(o),u=1/0,d=[];c--;){var f=e[c];c&&t&&(f=Ot(f,Yt(t))),u=mn(f.length,u),l[c]=!n&&(t||s>=120&&f.length>=120)?new Wn(c&&f):i}f=e[0];var p=-1,h=l[0];e:for(;++p<s&&d.length<u;){var b=f[p],y=t?t(b):b;if(b=n||0!==b?b:0,!(h?Zt(h,y):a(d,y,n))){for(c=o;--c;){var m=l[c];if(!(m?Zt(m,y):a(e[c],y,n)))continue e}h&&h.push(y),d.push(b)}}return d}function kr(e,t,n){var r=null==(e=Ta(e,t=yi(t,e)))?e:e[La(Ga(t))];return null==r?i:St(r,e,n)}function Ir(e){return Qs(e)&&Sr(e)==b}function Pr(e,t,n,r,a){return e===t||(null==e||null==t||!Qs(e)&&!Qs(t)?e!=e&&t!=t:function(e,t,n,r,a,s){var o=zs(e),c=zs(t),l=o?y:da(e),u=c?y:da(t),d=(l=l==b?T:l)==T,f=(u=u==b?T:u)==T,p=l==u;if(p&&Ws(e)){if(!Ws(t))return!1;o=!0,d=!1}if(p&&!d)return s||(s=new Vn),o||oo(e)?Xi(e,t,n,r,a,s):function(e,t,n,r,i,a,s){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!a(new ze(e),new ze(t)));case m:case g:case S:return js(+e,+t);case w:return e.name==t.name&&e.message==t.message;case _:case k:return e==t+"";case x:var o=an;case C:var c=1&r;if(o||(o=cn),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var u=Xi(o(e),o(t),r,i,a,s);return s.delete(e),u;case I:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,l,n,r,a,s);if(!(1&n)){var h=d&&Re.call(e,"__wrapped__"),v=f&&Re.call(t,"__wrapped__");if(h||v){var E=h?e.value():e,A=v?t.value():t;return s||(s=new Vn),a(E,A,n,r,s)}}return!!p&&(s||(s=new Vn),function(e,t,n,r,a,s){var o=1&n,c=ea(e),l=c.length;if(l!=ea(t).length&&!o)return!1;for(var u=l;u--;){var d=c[u];if(!(o?d in t:Re.call(t,d)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var h=!0;s.set(e,t),s.set(t,e);for(var b=o;++u<l;){var y=e[d=c[u]],m=t[d];if(r)var g=o?r(m,y,d,t,e,s):r(y,m,d,e,t,s);if(!(g===i?y===m||a(y,m,n,r,s):g)){h=!1;break}b||(b="constructor"==d)}if(h&&!b){var w=e.constructor,v=t.constructor;w==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof v&&v instanceof v||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,n,r,a,s))}(e,t,n,r,Pr,a))}function Or(e,t,n,r){var a=n.length,s=a,o=!r;if(null==e)return!s;for(e=Te(e);a--;){var c=n[a];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],u=e[l],d=c[1];if(o&&c[2]){if(u===i&&!(l in e))return!1}else{var f=new Vn;if(r)var p=r(u,d,l,e,t,f);if(!(p===i?Pr(d,u,3,r,f):p))return!1}}return!0}function Mr(e){return!(!Xs(e)||(t=e,Le&&Le in t))&&(Ys(e)?Ue:be).test(Da(e));var t}function Rr(e){return"function"==typeof e?e:null==e?nc:"object"==typeof e?zs(e)?jr(e[0],e[1]):Br(e):dc(e)}function Nr(e){if(!va(e))return bn(e);var t=[];for(var n in Te(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e,t){return e<t}function Dr(e,t){var n=-1,i=qs(e)?r(e.length):[];return ur(e,function(e,r,a){i[++n]=t(e,r,a)}),i}function Br(e){var t=oa(e);return 1==t.length&&t[0][2]?xa(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function jr(e,t){return ma(e)&&Ea(t)?xa(La(e),t):function(n){var r=Ao(n,e);return r===i&&r===t?_o(n,e):Pr(t,r,3)}}function Ur(e,t,n,r,a){e!==t&&yr(t,function(s,o){if(a||(a=new Vn),Xs(s))!function(e,t,n,r,a,s,o){var c=Aa(e,n),l=Aa(t,n),u=o.get(l);if(u)Xn(e,n,u);else{var d=s?s(c,l,n+"",e,t,o):i,f=d===i;if(f){var p=zs(l),h=!p&&Ws(l),b=!p&&!h&&oo(l);d=l,p||h||b?zs(c)?d=c:Ks(c)?d=_i(c):h?(f=!1,d=vi(l,!0)):b?(f=!1,d=xi(l,!0)):d=[]:no(l)||$s(l)?(d=c,$s(c)?d=yo(c):Xs(c)&&!Ys(c)||(d=pa(l))):f=!1}f&&(o.set(l,d),a(d,l,r,s,o),o.delete(l)),Xn(e,n,d)}}(e,t,o,n,Ur,r,a);else{var c=r?r(Aa(e,o),s,o+"",e,t,a):i;c===i&&(c=s),Xn(e,o,c)}},Oo)}function Fr(e,t){var n=e.length;if(n)return ba(t+=t<0?n:0,n)?e[t]:i}function $r(e,t,n){t=t.length?Ot(t,function(e){return zs(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e}):[nc];var r=-1;t=Ot(t,Yt(aa()));var i=Dr(e,function(e,n,i){var a=Ot(t,function(t){return t(e)});return{criteria:a,index:++r,value:e}});return function(e){var t=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,s=i.length,o=n.length;++r<s;){var c=Si(i[r],a[r]);if(c)return r>=o?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});t--;)e[t]=e[t].value;return e}(i)}function zr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var s=t[r],o=Er(e,s);n(o,s)&&Jr(a,yi(s,e),o)}return a}function Hr(e,t,n,r){var i=r?Ft:Ut,a=-1,s=t.length,o=e;for(e===t&&(t=_i(t)),n&&(o=Ot(e,Yt(n)));++a<s;)for(var c=0,l=t[a],u=n?n(l):l;(c=i(o,u,c,r))>-1;)o!==e&&Ve.call(o,c,1),Ve.call(e,c,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ba(i)?Ve.call(e,i,1):ci(e,i)}}return e}function Kr(e,t){return e+pt(vn()*(t-e+1))}function Wr(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Vr(e,t){return ka(Sa(e,t,nc),e+"")}function Gr(e){return Yn(Uo(e))}function Yr(e,t){var n=Uo(e);return Oa(n,ar(t,0,n.length))}function Jr(e,t,n,r){if(!Xs(e))return e;for(var a=-1,s=(t=yi(t,e)).length,o=s-1,c=e;null!=c&&++a<s;){var l=La(t[a]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=o){var d=c[l];(u=r?r(d,l,c):i)===i&&(u=Xs(d)?d:ba(t[a+1])?[]:{})}Qn(c,l,u),c=c[l]}return e}var Zr=kn?function(e,t){return kn.set(e,t),e}:nc,Xr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qo(t),writable:!0})}:nc;function Qr(e){return Oa(Uo(e))}function ei(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=r(a);++i<a;)s[i]=e[i+t];return s}function ti(e,t){var n;return ur(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,s=e[a];null!==s&&!so(s)&&(n?s<=t:s<t)?r=a+1:i=a}return i}return ri(e,t,nc,n)}function ri(e,t,n,r){var a=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,c=null===t,l=so(t),u=t===i;a<s;){var d=pt((a+s)/2),f=n(e[d]),p=f!==i,h=null===f,b=f==f,y=so(f);if(o)var m=r||b;else m=u?b&&(r||p):c?b&&p&&(r||!h):l?b&&p&&!h&&(r||!y):!h&&!y&&(r?f<=t:f<t);m?a=d+1:s=d}return mn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n],o=t?t(s):s;if(!n||!js(o,c)){var c=o;a[i++]=0===s?0:s}}return a}function ai(e){return"number"==typeof e?e:so(e)?f:+e}function si(e){if("string"==typeof e)return e;if(zs(e))return Ot(e,si)+"";if(so(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function oi(e,t,n){var r=-1,i=It,a=e.length,s=!0,o=[],c=o;if(n)s=!1,i=Pt;else if(a>=200){var l=t?null:Wi(e);if(l)return cn(l);s=!1,i=Zt,c=new Wn}else c=t?[]:o;e:for(;++r<a;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),o.push(u)}else i(c,d,n)||(c!==o&&c.push(d),o.push(u))}return o}function ci(e,t){return null==(e=Ta(e,t=yi(t,e)))||delete e[La(Ga(t))]}function li(e,t,n,r){return Jr(e,t,n(Er(e,t)),r)}function ui(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ei(e,r?0:a,r?a+1:i):ei(e,r?a+1:0,r?i:a)}function di(e,t){var n=e;return n instanceof zn&&(n=n.value()),Rt(t,function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))},n)}function fi(e,t,n){var i=e.length;if(i<2)return i?oi(e[0]):[];for(var a=-1,s=r(i);++a<i;)for(var o=e[a],c=-1;++c<i;)c!=a&&(s[a]=lr(s[a]||o,e[c],t,n));return oi(br(s,1),t,n)}function pi(e,t,n){for(var r=-1,a=e.length,s=t.length,o={};++r<a;){var c=r<s?t[r]:i;n(o,e[r],c)}return o}function hi(e){return Ks(e)?e:[]}function bi(e){return"function"==typeof e?e:nc}function yi(e,t){return zs(e)?e:ma(e,t)?[e]:Na(mo(e))}var mi=Vr;function gi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var wi=st||function(e){return dt.clearTimeout(e)};function vi(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function xi(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,a=e==e,s=so(e),o=t!==i,c=null===t,l=t==t,u=so(t);if(!c&&!u&&!s&&e>t||s&&o&&l&&!c&&!u||r&&o&&l||!n&&l||!a)return 1;if(!r&&!s&&!u&&e<t||u&&n&&a&&!r&&!s||c&&n&&a||!o&&a||!l)return-1}return 0}function Ti(e,t,n,i){for(var a=-1,s=e.length,o=n.length,c=-1,l=t.length,u=yn(s-o,0),d=r(l+u),f=!i;++c<l;)d[c]=t[c];for(;++a<o;)(f||a<s)&&(d[n[a]]=e[a]);for(;u--;)d[c++]=e[a++];return d}function Ai(e,t,n,i){for(var a=-1,s=e.length,o=-1,c=n.length,l=-1,u=t.length,d=yn(s-c,0),f=r(d+u),p=!i;++a<d;)f[a]=e[a];for(var h=a;++l<u;)f[h+l]=t[l];for(;++o<c;)(p||a<s)&&(f[h+n[o]]=e[a++]);return f}function _i(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ci(e,t,n,r){var a=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var c=t[s],l=r?r(n[c],e[c],c,n,e):i;l===i&&(l=e[c]),a?rr(n,c,l):Qn(n,c,l)}return n}function ki(e,t){return function(n,r){var i=zs(n)?Tt:tr,a=t?t():{};return i(n,e,aa(r,2),a)}}function Ii(e){return Vr(function(t,n){var r=-1,a=n.length,s=a>1?n[a-1]:i,o=a>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(a--,s):i,o&&ya(n[0],n[1],o)&&(s=a<3?i:s,a=1),t=Te(t);++r<a;){var c=n[r];c&&e(t,c,r,s)}return t})}function Pi(e,t){return function(n,r){if(null==n)return n;if(!qs(n))return e(n,r);for(var i=n.length,a=t?i:-1,s=Te(n);(t?a--:++a<i)&&!1!==r(s[a],a,s););return n}}function Oi(e){return function(t,n,r){for(var i=-1,a=Te(t),s=r(t),o=s.length;o--;){var c=s[e?o:++i];if(!1===n(a[c],c,a))break}return t}}function Mi(e){return function(t){var n=rn(t=mo(t))?dn(t):i,r=n?n[0]:t.charAt(0),a=n?gi(n,1).join(""):t.slice(1);return r[e]()+a}}function Ri(e){return function(t){return Rt(Jo(zo(t).replace(Je,"")),e,"")}}function Ni(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return Xs(r)?r:n}}function Li(e){return function(t,n,r){var a=Te(t);if(!qs(t)){var s=aa(n,3);t=Po(t),n=function(e){return s(a[e],e,a)}}var o=e(t,n,r);return o>-1?a[s?t[o]:o]:i}}function Di(e){return Qi(function(t){var n=t.length,r=n,s=$n.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new Ce(a);if(s&&!c&&"wrapper"==ra(o))var c=new $n([],!0)}for(r=c?r:n;++r<n;){var l=ra(o=t[r]),u="wrapper"==l?na(o):i;c=u&&ga(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[ra(u[0])].apply(c,u[3]):1==o.length&&ga(o)?c[l]():c.thru(o)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&zs(r))return c.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}function Bi(e,t,n,a,s,o,c,u,d,f){var p=t&l,h=1&t,b=2&t,y=24&t,m=512&t,g=b?i:Ni(e);return function l(){for(var w=arguments.length,v=r(w),E=w;E--;)v[E]=arguments[E];if(y)var x=ia(l),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,x);if(a&&(v=Ti(v,a,s,y)),o&&(v=Ai(v,o,c,y)),w-=S,y&&w<f){var T=on(v,x);return qi(e,t,Bi,l.placeholder,n,v,T,u,d,f-w)}var A=h?n:this,_=b?A[e]:e;return w=v.length,u?v=function(e,t){for(var n=e.length,r=mn(t.length,n),a=_i(e);r--;){var s=t[r];e[r]=ba(s,n)?a[s]:i}return e}(v,u):m&&w>1&&v.reverse(),p&&d<w&&(v.length=d),this&&this!==dt&&this instanceof l&&(_=g||Ni(_)),_.apply(A,v)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return gr(e,function(e,i,a){t(r,n(e),i,a)}),r}(n,e,t(r),{})}}function Ui(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ai(n),r=ai(r)),a=e(n,r)}return a}}function Fi(e){return Qi(function(t){return t=Ot(t,Yt(aa())),Vr(function(n){var r=this;return e(t,function(e){return St(e,r,n)})})})}function $i(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Wr(t,e):t;var r=Wr(t,ft(e/un(t)));return rn(t)?gi(dn(r),0,e).join(""):r.slice(0,e)}function zi(e){return function(t,n,a){return a&&"number"!=typeof a&&ya(t,n,a)&&(n=a=i),t=fo(t),n===i?(n=t,t=0):n=fo(n),function(e,t,n,i){for(var a=-1,s=yn(ft((t-e)/(n||1)),0),o=r(s);s--;)o[i?s:++a]=e,e+=n;return o}(t,n,a=a===i?t<n?1:-1:fo(a),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bo(t),n=bo(n)),e(t,n)}}function qi(e,t,n,r,a,s,o,l,u,d){var f=8&t;t|=f?c:64,4&(t&=~(f?64:c))||(t&=-4);var p=[e,t,a,f?s:i,f?o:i,f?i:s,f?i:o,l,u,d],h=n.apply(i,p);return ga(e)&&_a(h,p),h.placeholder=r,Ia(h,e,t)}function Ki(e){var t=Se[e];return function(e,n){if(e=bo(e),(n=null==n?0:mn(po(n),292))&&Dt(e)){var r=(mo(e)+"e").split("e");return+((r=(mo(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Wi=An&&1/cn(new An([,-0]))[1]==u?function(e){return new An(e)}:oc;function Vi(e){return function(t){var n=da(t);return n==x?an(t):n==C?ln(t):function(e,t){return Ot(t,function(t){return[t,e[t]]})}(t,e(t))}}function Gi(e,t,n,s,u,d,f,p){var h=2&t;if(!h&&"function"!=typeof e)throw new Ce(a);var b=s?s.length:0;if(b||(t&=-97,s=u=i),f=f===i?f:yn(po(f),0),p=p===i?p:po(p),b-=u?u.length:0,64&t){var y=s,m=u;s=u=i}var g=h?i:na(e),w=[e,t,n,s,u,y,m,d,f,p];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=r==l&&8==n||r==l&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Ti(u,c,t[4]):c,e[4]=u?on(e[3],o):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ai(u,c,t[6]):c,e[6]=u?on(e[5],o):t[6]),(c=t[7])&&(e[7]=c),r&l&&(e[8]=null==e[8]?t[8]:mn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(w,g),e=w[0],t=w[1],n=w[2],s=w[3],u=w[4],!(p=w[9]=w[9]===i?h?0:e.length:yn(w[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var a=Ni(e);return function s(){for(var o=arguments.length,c=r(o),l=o,u=ia(s);l--;)c[l]=arguments[l];var d=o<3&&c[0]!==u&&c[o-1]!==u?[]:on(c,u);return(o-=d.length)<n?qi(e,t,Bi,s.placeholder,i,c,d,i,i,n-o):St(this&&this!==dt&&this instanceof s?a:e,this,c)}}(e,t,p):t!=c&&33!=t||u.length?Bi.apply(i,w):function(e,t,n,i){var a=1&t,s=Ni(e);return function t(){for(var o=-1,c=arguments.length,l=-1,u=i.length,d=r(u+c),f=this&&this!==dt&&this instanceof t?s:e;++l<u;)d[l]=i[l];for(;c--;)d[l++]=arguments[++o];return St(f,a?n:this,d)}}(e,t,n,s);else var v=function(e,t,n){var r=1&t,i=Ni(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Ia((g?Zr:_a)(v,w),e,t)}function Yi(e,t,n,r){return e===i||js(e,Pe[n])&&!Re.call(r,n)?t:e}function Ji(e,t,n,r,a,s){return Xs(e)&&Xs(t)&&(s.set(t,e),Ur(e,t,i,Ji,s),s.delete(t)),e}function Zi(e){return no(e)?i:e}function Xi(e,t,n,r,a,s){var o=1&n,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,h=2&n?new Wn:i;for(s.set(e,t),s.set(t,e);++f<c;){var b=e[f],y=t[f];if(r)var m=o?r(y,b,f,t,e,s):r(b,y,f,e,t,s);if(m!==i){if(m)continue;p=!1;break}if(h){if(!Lt(t,function(e,t){if(!Zt(h,t)&&(b===e||a(b,e,n,r,s)))return h.push(t)})){p=!1;break}}else if(b!==y&&!a(b,y,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Qi(e){return ka(Sa(e,i,Ha),e+"")}function ea(e){return xr(e,Po,la)}function ta(e){return xr(e,Oo,ua)}var na=kn?function(e){return kn.get(e)}:oc;function ra(e){for(var t=e.name+"",n=In[t],r=Re.call(In,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ia(e){return(Re.call(jn,"placeholder")?jn:e).placeholder}function aa(){var e=jn.iteratee||rc;return e=e===rc?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function sa(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function oa(e){for(var t=Po(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ea(i)]}return t}function ca(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var la=bt?function(e){return null==e?[]:(e=Te(e),kt(bt(e),function(t){return We.call(e,t)}))}:hc,ua=bt?function(e){for(var t=[];e;)Mt(t,la(e)),e=qe(e);return t}:hc,da=Sr;function fa(e,t,n){for(var r=-1,i=(t=yi(t,e)).length,a=!1;++r<i;){var s=La(t[r]);if(!(a=null!=e&&n(e,s)))break;e=e[s]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Zs(i)&&ba(s,i)&&(zs(e)||$s(e))}function pa(e){return"function"!=typeof e.constructor||va(e)?{}:Un(qe(e))}function ha(e){return zs(e)||$s(e)||!!(Ge&&e&&e[Ge])}function ba(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function ya(e,t,n){if(!Xs(n))return!1;var r=typeof t;return!!("number"==r?qs(n)&&ba(t,n.length):"string"==r&&t in n)&&js(n[t],e)}function ma(e,t){if(zs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!so(e))||Q.test(e)||!X.test(e)||null!=t&&e in Te(t)}function ga(e){var t=ra(e),n=jn[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=na(n);return!!r&&e===r[0]}(xn&&da(new xn(new ArrayBuffer(1)))!=M||Sn&&da(new Sn)!=x||Tn&&da(Tn.resolve())!=A||An&&da(new An)!=C||_n&&da(new _n)!=P)&&(da=function(e){var t=Sr(e),n=t==T?e.constructor:i,r=n?Da(n):"";if(r)switch(r){case Pn:return M;case On:return x;case Mn:return A;case Rn:return C;case Nn:return P}return t});var wa=Oe?Ys:bc;function va(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Ea(e){return e==e&&!Xs(e)}function xa(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Te(n))}}function Sa(e,t,n){return t=yn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=yn(i.length-t,0),o=r(s);++a<s;)o[a]=i[t+a];a=-1;for(var c=r(t+1);++a<t;)c[a]=i[a];return c[t]=n(o),St(e,this,c)}}function Ta(e,t){return t.length<2?e:Er(e,ei(t,0,-1))}function Aa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _a=Pa(Zr),Ca=ut||function(e,t){return dt.setTimeout(e,t)},ka=Pa(Xr);function Ia(e,t,n){var r=t+"";return ka(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(h,function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(oe):[]}(r),n)))}function Pa(e){var t=0,n=0;return function(){var r=gn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Oa(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var s=Kr(n,a),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var Ma,Ra,Na=(Ma=Ms(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)}),t},function(e){return 500===Ra.size&&Ra.clear(),e}),Ra=Ma.cache,Ma);function La(e){if("string"==typeof e||so(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Da(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ba(e){if(e instanceof zn)return e.clone();var t=new $n(e.__wrapped__,e.__chain__);return t.__actions__=_i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ja=Vr(function(e,t){return Ks(e)?lr(e,br(t,1,Ks,!0)):[]}),Ua=Vr(function(e,t){var n=Ga(t);return Ks(n)&&(n=i),Ks(e)?lr(e,br(t,1,Ks,!0),aa(n,2)):[]}),Fa=Vr(function(e,t){var n=Ga(t);return Ks(n)&&(n=i),Ks(e)?lr(e,br(t,1,Ks,!0),i,n):[]});function $a(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:po(n);return i<0&&(i=yn(r+i,0)),jt(e,aa(t,3),i)}function za(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=po(n),a=n<0?yn(r+a,0):mn(a,r-1)),jt(e,aa(t,3),a,!0)}function Ha(e){return null!=e&&e.length?br(e,1):[]}function qa(e){return e&&e.length?e[0]:i}var Ka=Vr(function(e){var t=Ot(e,hi);return t.length&&t[0]===e[0]?Cr(t):[]}),Wa=Vr(function(e){var t=Ga(e),n=Ot(e,hi);return t===Ga(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Cr(n,aa(t,2)):[]}),Va=Vr(function(e){var t=Ga(e),n=Ot(e,hi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,i,t):[]});function Ga(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ya=Vr(Ja);function Ja(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var Za=Qi(function(e,t){var n=null==e?0:e.length,r=ir(e,t);return qr(e,Ot(t,function(e){return ba(e,n)?+e:e}).sort(Si)),r});function Xa(e){return null==e?e:En.call(e)}var Qa=Vr(function(e){return oi(br(e,1,Ks,!0))}),es=Vr(function(e){var t=Ga(e);return Ks(t)&&(t=i),oi(br(e,1,Ks,!0),aa(t,2))}),ts=Vr(function(e){var t=Ga(e);return t="function"==typeof t?t:i,oi(br(e,1,Ks,!0),i,t)});function ns(e){if(!e||!e.length)return[];var t=0;return e=kt(e,function(e){if(Ks(e))return t=yn(e.length,t),!0}),Vt(t,function(t){return Ot(e,Ht(t))})}function rs(e,t){if(!e||!e.length)return[];var n=ns(e);return null==t?n:Ot(n,function(e){return St(t,i,e)})}var is=Vr(function(e,t){return Ks(e)?lr(e,t):[]}),as=Vr(function(e){return fi(kt(e,Ks))}),ss=Vr(function(e){var t=Ga(e);return Ks(t)&&(t=i),fi(kt(e,Ks),aa(t,2))}),os=Vr(function(e){var t=Ga(e);return t="function"==typeof t?t:i,fi(kt(e,Ks),i,t)}),cs=Vr(ns),ls=Vr(function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,rs(e,n)});function us(e){var t=jn(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var fs=Qi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&ba(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ds,args:[a],thisArg:i}),new $n(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(a)}),ps=ki(function(e,t,n){Re.call(e,n)?++e[n]:rr(e,n,1)}),hs=Li($a),bs=Li(za);function ys(e,t){return(zs(e)?At:ur)(e,aa(t,3))}function ms(e,t){return(zs(e)?_t:dr)(e,aa(t,3))}var gs=ki(function(e,t,n){Re.call(e,n)?e[n].push(t):rr(e,n,[t])}),ws=Vr(function(e,t,n){var i=-1,a="function"==typeof t,s=qs(e)?r(e.length):[];return ur(e,function(e){s[++i]=a?St(t,e,n):kr(e,t,n)}),s}),vs=ki(function(e,t,n){rr(e,n,t)});function Es(e,t){return(zs(e)?Ot:Dr)(e,aa(t,3))}var xs=ki(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ss=Vr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&ya(e,t[0],t[1])?t=[]:n>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),$r(e,br(t,1),[])}),Ts=lt||function(){return dt.Date.now()};function As(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Gi(e,l,i,i,i,i,t)}function _s(e,t){var n;if("function"!=typeof t)throw new Ce(a);return e=po(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Cs=Vr(function(e,t,n){var r=1;if(n.length){var i=on(n,ia(Cs));r|=c}return Gi(e,r,t,n,i)}),ks=Vr(function(e,t,n){var r=3;if(n.length){var i=on(n,ia(ks));r|=c}return Gi(t,r,e,n,i)});function Is(e,t,n){var r,s,o,c,l,u,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new Ce(a);function b(t){var n=r,a=s;return r=s=i,d=t,c=e.apply(a,n)}function y(e){var n=e-u;return u===i||n>=t||n<0||p&&e-d>=o}function m(){var e=Ts();if(y(e))return g(e);l=Ca(m,function(e){var n=t-(e-u);return p?mn(n,o-(e-d)):n}(e))}function g(e){return l=i,h&&r?b(e):(r=s=i,c)}function w(){var e=Ts(),n=y(e);if(r=arguments,s=this,u=e,n){if(l===i)return function(e){return d=e,l=Ca(m,t),f?b(e):c}(u);if(p)return wi(l),l=Ca(m,t),b(u)}return l===i&&(l=Ca(m,t)),c}return t=bo(t)||0,Xs(n)&&(f=!!n.leading,o=(p="maxWait"in n)?yn(bo(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),w.cancel=function(){l!==i&&wi(l),d=0,r=u=s=l=i},w.flush=function(){return l===i?c:g(Ts())},w}var Ps=Vr(function(e,t){return cr(e,1,t)}),Os=Vr(function(e,t,n){return cr(e,bo(t)||0,n)});function Ms(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(Ms.Cache||Kn),n}function Rs(e){if("function"!=typeof e)throw new Ce(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ms.Cache=Kn;var Ns=mi(function(e,t){var n=(t=1==t.length&&zs(t[0])?Ot(t[0],Yt(aa())):Ot(br(t,1),Yt(aa()))).length;return Vr(function(r){for(var i=-1,a=mn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return St(e,this,r)})}),Ls=Vr(function(e,t){var n=on(t,ia(Ls));return Gi(e,c,i,t,n)}),Ds=Vr(function(e,t){var n=on(t,ia(Ds));return Gi(e,64,i,t,n)}),Bs=Qi(function(e,t){return Gi(e,256,i,i,i,t)});function js(e,t){return e===t||e!=e&&t!=t}var Us=Hi(Tr),Fs=Hi(function(e,t){return e>=t}),$s=Ir(function(){return arguments}())?Ir:function(e){return Qs(e)&&Re.call(e,"callee")&&!We.call(e,"callee")},zs=r.isArray,Hs=mt?Yt(mt):function(e){return Qs(e)&&Sr(e)==O};function qs(e){return null!=e&&Zs(e.length)&&!Ys(e)}function Ks(e){return Qs(e)&&qs(e)}var Ws=yt||bc,Vs=gt?Yt(gt):function(e){return Qs(e)&&Sr(e)==g};function Gs(e){if(!Qs(e))return!1;var t=Sr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!no(e)}function Ys(e){if(!Xs(e))return!1;var t=Sr(e);return t==v||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==po(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Xs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qs(e){return null!=e&&"object"==typeof e}var eo=wt?Yt(wt):function(e){return Qs(e)&&da(e)==x};function to(e){return"number"==typeof e||Qs(e)&&Sr(e)==S}function no(e){if(!Qs(e)||Sr(e)!=T)return!1;var t=qe(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Be}var ro=vt?Yt(vt):function(e){return Qs(e)&&Sr(e)==_},io=Et?Yt(Et):function(e){return Qs(e)&&da(e)==C};function ao(e){return"string"==typeof e||!zs(e)&&Qs(e)&&Sr(e)==k}function so(e){return"symbol"==typeof e||Qs(e)&&Sr(e)==I}var oo=xt?Yt(xt):function(e){return Qs(e)&&Zs(e.length)&&!!it[Sr(e)]},co=Hi(Lr),lo=Hi(function(e,t){return e<=t});function uo(e){if(!e)return[];if(qs(e))return ao(e)?dn(e):_i(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=da(e);return(t==x?an:t==C?cn:Uo)(e)}function fo(e){return e?(e=bo(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function po(e){var t=fo(e),n=t%1;return t==t?n?t-n:t:0}function ho(e){return e?ar(po(e),0,p):0}function bo(e){if("number"==typeof e)return e;if(so(e))return f;if(Xs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Gt(e);var n=he.test(e);return n||ye.test(e)?ct(e.slice(2),n?2:8):pe.test(e)?f:+e}function yo(e){return Ci(e,Oo(e))}function mo(e){return null==e?"":si(e)}var go=Ii(function(e,t){if(va(t)||qs(t))Ci(t,Po(t),e);else for(var n in t)Re.call(t,n)&&Qn(e,n,t[n])}),wo=Ii(function(e,t){Ci(t,Oo(t),e)}),vo=Ii(function(e,t,n,r){Ci(t,Oo(t),e,r)}),Eo=Ii(function(e,t,n,r){Ci(t,Po(t),e,r)}),xo=Qi(ir),So=Vr(function(e,t){e=Te(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ya(t[0],t[1],a)&&(r=1);++n<r;)for(var s=t[n],o=Oo(s),c=-1,l=o.length;++c<l;){var u=o[c],d=e[u];(d===i||js(d,Pe[u])&&!Re.call(e,u))&&(e[u]=s[u])}return e}),To=Vr(function(e){return e.push(i,Ji),St(Ro,i,e)});function Ao(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function _o(e,t){return null!=e&&fa(e,t,_r)}var Co=ji(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n},Qo(nc)),ko=ji(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]},aa),Io=Vr(kr);function Po(e){return qs(e)?Gn(e):Nr(e)}function Oo(e){return qs(e)?Gn(e,!0):function(e){if(!Xs(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=va(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Mo=Ii(function(e,t,n){Ur(e,t,n)}),Ro=Ii(function(e,t,n,r){Ur(e,t,n,r)}),No=Qi(function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,function(t){return t=yi(t,e),r||(r=t.length>1),t}),Ci(e,ta(e),n),r&&(n=sr(n,7,Zi));for(var i=t.length;i--;)ci(n,t[i]);return n}),Lo=Qi(function(e,t){return null==e?{}:function(e,t){return zr(e,t,function(t,n){return _o(e,n)})}(e,t)});function Do(e,t){if(null==e)return{};var n=Ot(ta(e),function(e){return[e]});return t=aa(t),zr(e,n,function(e,n){return t(e,n[0])})}var Bo=Vi(Po),jo=Vi(Oo);function Uo(e){return null==e?[]:Jt(e,Po(e))}var Fo=Ri(function(e,t,n){return t=t.toLowerCase(),e+(n?$o(t):t)});function $o(e){return Yo(mo(e).toLowerCase())}function zo(e){return(e=mo(e))&&e.replace(ge,en).replace(Ze,"")}var Ho=Ri(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),qo=Ri(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ko=Mi("toLowerCase"),Wo=Ri(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Vo=Ri(function(e,t,n){return e+(n?" ":"")+Yo(t)}),Go=Ri(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Yo=Mi("toUpperCase");function Jo(e,t,n){return e=mo(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Zo=Vr(function(e,t){try{return St(e,i,t)}catch(e){return Gs(e)?e:new Ee(e)}}),Xo=Qi(function(e,t){return At(t,function(t){t=La(t),rr(e,t,Cs(e[t],e))}),e});function Qo(e){return function(){return e}}var ec=Di(),tc=Di(!0);function nc(e){return e}function rc(e){return Rr("function"==typeof e?e:sr(e,1))}var ic=Vr(function(e,t){return function(n){return kr(n,e,t)}}),ac=Vr(function(e,t){return function(n){return kr(e,n,t)}});function sc(e,t,n){var r=Po(t),i=vr(t,r);null!=n||Xs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=vr(t,Po(t)));var a=!(Xs(n)&&"chain"in n&&!n.chain),s=Ys(e);return At(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=_i(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})}),e}function oc(){}var cc=Fi(Ot),lc=Fi(Ct),uc=Fi(Lt);function dc(e){return ma(e)?Ht(La(e)):function(e){return function(t){return Er(t,e)}}(e)}var fc=zi(),pc=zi(!0);function hc(){return[]}function bc(){return!1}var yc,mc=Ui(function(e,t){return e+t},0),gc=Ki("ceil"),wc=Ui(function(e,t){return e/t},1),vc=Ki("floor"),Ec=Ui(function(e,t){return e*t},1),xc=Ki("round"),Sc=Ui(function(e,t){return e-t},0);return jn.after=function(e,t){if("function"!=typeof t)throw new Ce(a);return e=po(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=As,jn.assign=go,jn.assignIn=wo,jn.assignInWith=vo,jn.assignWith=Eo,jn.at=xo,jn.before=_s,jn.bind=Cs,jn.bindAll=Xo,jn.bindKey=ks,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zs(e)?e:[e]},jn.chain=us,jn.chunk=function(e,t,n){t=(n?ya(e,t,n):t===i)?1:yn(po(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var s=0,o=0,c=r(ft(a/t));s<a;)c[o++]=ei(e,s,s+=t);return c},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(zs(n)?_i(n):[n],br(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=aa();return e=t?Ot(e,function(e){if("function"!=typeof e[1])throw new Ce(a);return[n(e[0]),e[1]]}):[],Vr(function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}})},jn.conforms=function(e){return function(e){var t=Po(e);return function(n){return or(n,e,t)}}(sr(e,1))},jn.constant=Qo,jn.countBy=ps,jn.create=function(e,t){var n=Un(e);return null==t?n:nr(n,t)},jn.curry=function e(t,n,r){var a=Gi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},jn.curryRight=function e(t,n,r){var a=Gi(t,16,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},jn.debounce=Is,jn.defaults=So,jn.defaultsDeep=To,jn.defer=Ps,jn.delay=Os,jn.difference=ja,jn.differenceBy=Ua,jn.differenceWith=Fa,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:po(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:po(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?ui(e,aa(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?ui(e,aa(t,3),!0):[]},jn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ya(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=po(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:po(r))<0&&(r+=a),r=n>r?0:ho(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(zs(e)?kt:hr)(e,aa(t,3))},jn.flatMap=function(e,t){return br(Es(e,t),1)},jn.flatMapDeep=function(e,t){return br(Es(e,t),u)},jn.flatMapDepth=function(e,t,n){return n=n===i?1:po(n),br(Es(e,t),n)},jn.flatten=Ha,jn.flattenDeep=function(e){return null!=e&&e.length?br(e,u):[]},jn.flattenDepth=function(e,t){return null!=e&&e.length?br(e,t=t===i?1:po(t)):[]},jn.flip=function(e){return Gi(e,512)},jn.flow=ec,jn.flowRight=tc,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:vr(e,Po(e))},jn.functionsIn=function(e){return null==e?[]:vr(e,Oo(e))},jn.groupBy=gs,jn.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},jn.intersection=Ka,jn.intersectionBy=Wa,jn.intersectionWith=Va,jn.invert=Co,jn.invertBy=ko,jn.invokeMap=ws,jn.iteratee=rc,jn.keyBy=vs,jn.keys=Po,jn.keysIn=Oo,jn.map=Es,jn.mapKeys=function(e,t){var n={};return t=aa(t,3),gr(e,function(e,r,i){rr(n,t(e,r,i),e)}),n},jn.mapValues=function(e,t){var n={};return t=aa(t,3),gr(e,function(e,r,i){rr(n,r,t(e,r,i))}),n},jn.matches=function(e){return Br(sr(e,1))},jn.matchesProperty=function(e,t){return jr(e,sr(t,1))},jn.memoize=Ms,jn.merge=Mo,jn.mergeWith=Ro,jn.method=ic,jn.methodOf=ac,jn.mixin=sc,jn.negate=Rs,jn.nthArg=function(e){return e=po(e),Vr(function(t){return Fr(t,e)})},jn.omit=No,jn.omitBy=function(e,t){return Do(e,Rs(aa(t)))},jn.once=function(e){return _s(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(zs(t)||(t=null==t?[]:[t]),zs(n=r?i:n)||(n=null==n?[]:[n]),$r(e,t,n))},jn.over=cc,jn.overArgs=Ns,jn.overEvery=lc,jn.overSome=uc,jn.partial=Ls,jn.partialRight=Ds,jn.partition=xs,jn.pick=Lo,jn.pickBy=Do,jn.property=dc,jn.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},jn.pull=Ya,jn.pullAll=Ja,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,aa(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,i,n):e},jn.pullAt=Za,jn.range=fc,jn.rangeRight=pc,jn.rearg=Bs,jn.reject=function(e,t){return(zs(e)?kt:hr)(e,Rs(aa(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=aa(t,3);++r<a;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return qr(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Ce(a);return Vr(e,t=t===i?t:po(t))},jn.reverse=Xa,jn.sampleSize=function(e,t,n){return t=(n?ya(e,t,n):t===i)?1:po(t),(zs(e)?Jn:Yr)(e,t)},jn.set=function(e,t,n){return null==e?e:Jr(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Jr(e,t,n,r)},jn.shuffle=function(e){return(zs(e)?Zn:Qr)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ya(e,t,n)?(t=0,n=r):(t=null==t?0:po(t),n=n===i?r:po(n)),ei(e,t,n)):[]},jn.sortBy=Ss,jn.sortedUniq=function(e){return e&&e.length?ii(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?ii(e,aa(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&ya(e,t,n)&&(t=n=i),(n=n===i?p:n>>>0)?(e=mo(e))&&("string"==typeof t||null!=t&&!ro(t))&&!(t=si(t))&&rn(e)?gi(dn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Ce(a);return t=null==t?0:yn(po(t),0),Vr(function(n){var r=n[t],i=gi(n,0,t);return r&&Mt(i,r),St(e,this,i)})},jn.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:po(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:po(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?ui(e,aa(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?ui(e,aa(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ce(a);return Xs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Is(e,t,{leading:r,maxWait:t,trailing:i})},jn.thru=ds,jn.toArray=uo,jn.toPairs=Bo,jn.toPairsIn=jo,jn.toPath=function(e){return zs(e)?Ot(e,La):so(e)?[e]:_i(Na(mo(e)))},jn.toPlainObject=yo,jn.transform=function(e,t,n){var r=zs(e),i=r||Ws(e)||oo(e);if(t=aa(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Xs(e)&&Ys(a)?Un(qe(e)):{}}return(i?At:gr)(e,function(e,r,i){return t(n,e,r,i)}),n},jn.unary=function(e){return As(e,1)},jn.union=Qa,jn.unionBy=es,jn.unionWith=ts,jn.uniq=function(e){return e&&e.length?oi(e):[]},jn.uniqBy=function(e,t){return e&&e.length?oi(e,aa(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?oi(e,i,t):[]},jn.unset=function(e,t){return null==e||ci(e,t)},jn.unzip=ns,jn.unzipWith=rs,jn.update=function(e,t,n){return null==e?e:li(e,t,bi(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:li(e,t,bi(n),r)},jn.values=Uo,jn.valuesIn=function(e){return null==e?[]:Jt(e,Oo(e))},jn.without=is,jn.words=Jo,jn.wrap=function(e,t){return Ls(bi(t),e)},jn.xor=as,jn.xorBy=ss,jn.xorWith=os,jn.zip=cs,jn.zipObject=function(e,t){return pi(e||[],t||[],Qn)},jn.zipObjectDeep=function(e,t){return pi(e||[],t||[],Jr)},jn.zipWith=ls,jn.entries=Bo,jn.entriesIn=jo,jn.extend=wo,jn.extendWith=vo,sc(jn,jn),jn.add=mc,jn.attempt=Zo,jn.camelCase=Fo,jn.capitalize=$o,jn.ceil=gc,jn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=bo(n))==n?n:0),t!==i&&(t=(t=bo(t))==t?t:0),ar(bo(e),t,n)},jn.clone=function(e){return sr(e,4)},jn.cloneDeep=function(e){return sr(e,5)},jn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},jn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},jn.conformsTo=function(e,t){return null==t||or(e,t,Po(t))},jn.deburr=zo,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=wc,jn.endsWith=function(e,t,n){e=mo(e),t=si(t);var r=e.length,a=n=n===i?r:ar(po(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},jn.eq=js,jn.escape=function(e){return(e=mo(e))&&G.test(e)?e.replace(W,tn):e},jn.escapeRegExp=function(e){return(e=mo(e))&&ne.test(e)?e.replace(te,"\\$&"):e},jn.every=function(e,t,n){var r=zs(e)?Ct:fr;return n&&ya(e,t,n)&&(t=i),r(e,aa(t,3))},jn.find=hs,jn.findIndex=$a,jn.findKey=function(e,t){return Bt(e,aa(t,3),gr)},jn.findLast=bs,jn.findLastIndex=za,jn.findLastKey=function(e,t){return Bt(e,aa(t,3),wr)},jn.floor=vc,jn.forEach=ys,jn.forEachRight=ms,jn.forIn=function(e,t){return null==e?e:yr(e,aa(t,3),Oo)},jn.forInRight=function(e,t){return null==e?e:mr(e,aa(t,3),Oo)},jn.forOwn=function(e,t){return e&&gr(e,aa(t,3))},jn.forOwnRight=function(e,t){return e&&wr(e,aa(t,3))},jn.get=Ao,jn.gt=Us,jn.gte=Fs,jn.has=function(e,t){return null!=e&&fa(e,t,Ar)},jn.hasIn=_o,jn.head=qa,jn.identity=nc,jn.includes=function(e,t,n,r){e=qs(e)?e:Uo(e),n=n&&!r?po(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ao(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:po(n);return i<0&&(i=yn(r+i,0)),Ut(e,t,i)},jn.inRange=function(e,t,n){return t=fo(t),n===i?(n=t,t=0):n=fo(n),function(e,t,n){return e>=mn(t,n)&&e<yn(t,n)}(e=bo(e),t,n)},jn.invoke=Io,jn.isArguments=$s,jn.isArray=zs,jn.isArrayBuffer=Hs,jn.isArrayLike=qs,jn.isArrayLikeObject=Ks,jn.isBoolean=function(e){return!0===e||!1===e||Qs(e)&&Sr(e)==m},jn.isBuffer=Ws,jn.isDate=Vs,jn.isElement=function(e){return Qs(e)&&1===e.nodeType&&!no(e)},jn.isEmpty=function(e){if(null==e)return!0;if(qs(e)&&(zs(e)||"string"==typeof e||"function"==typeof e.splice||Ws(e)||oo(e)||$s(e)))return!e.length;var t=da(e);if(t==x||t==C)return!e.size;if(va(e))return!Nr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Pr(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},jn.isError=Gs,jn.isFinite=function(e){return"number"==typeof e&&Dt(e)},jn.isFunction=Ys,jn.isInteger=Js,jn.isLength=Zs,jn.isMap=eo,jn.isMatch=function(e,t){return e===t||Or(e,t,oa(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Or(e,t,oa(t),n)},jn.isNaN=function(e){return to(e)&&e!=+e},jn.isNative=function(e){if(wa(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=to,jn.isObject=Xs,jn.isObjectLike=Qs,jn.isPlainObject=no,jn.isRegExp=ro,jn.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=d},jn.isSet=io,jn.isString=ao,jn.isSymbol=so,jn.isTypedArray=oo,jn.isUndefined=function(e){return e===i},jn.isWeakMap=function(e){return Qs(e)&&da(e)==P},jn.isWeakSet=function(e){return Qs(e)&&"[object WeakSet]"==Sr(e)},jn.join=function(e,t){return null==e?"":qt.call(e,t)},jn.kebabCase=Ho,jn.last=Ga,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=po(n))<0?yn(r+a,0):mn(a,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):jt(e,$t,a,!0)},jn.lowerCase=qo,jn.lowerFirst=Ko,jn.lt=co,jn.lte=lo,jn.max=function(e){return e&&e.length?pr(e,nc,Tr):i},jn.maxBy=function(e,t){return e&&e.length?pr(e,aa(t,2),Tr):i},jn.mean=function(e){return zt(e,nc)},jn.meanBy=function(e,t){return zt(e,aa(t,2))},jn.min=function(e){return e&&e.length?pr(e,nc,Lr):i},jn.minBy=function(e,t){return e&&e.length?pr(e,aa(t,2),Lr):i},jn.stubArray=hc,jn.stubFalse=bc,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Ec,jn.nth=function(e,t){return e&&e.length?Fr(e,po(t)):i},jn.noConflict=function(){return dt._===this&&(dt._=je),this},jn.noop=oc,jn.now=Ts,jn.pad=function(e,t,n){e=mo(e);var r=(t=po(t))?un(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return $i(pt(i),n)+e+$i(ft(i),n)},jn.padEnd=function(e,t,n){e=mo(e);var r=(t=po(t))?un(e):0;return t&&r<t?e+$i(t-r,n):e},jn.padStart=function(e,t,n){e=mo(e);var r=(t=po(t))?un(e):0;return t&&r<t?$i(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(mo(e).replace(re,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ya(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fo(e),t===i?(t=e,e=0):t=fo(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=vn();return mn(e+a*(t-e+ot("1e-"+((a+"").length-1))),t)}return Kr(e,t)},jn.reduce=function(e,t,n){var r=zs(e)?Rt:Kt,i=arguments.length<3;return r(e,aa(t,4),n,i,ur)},jn.reduceRight=function(e,t,n){var r=zs(e)?Nt:Kt,i=arguments.length<3;return r(e,aa(t,4),n,i,dr)},jn.repeat=function(e,t,n){return t=(n?ya(e,t,n):t===i)?1:po(t),Wr(mo(e),t)},jn.replace=function(){var e=arguments,t=mo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,a=(t=yi(t,e)).length;for(a||(a=1,e=i);++r<a;){var s=null==e?i:e[La(t[r])];s===i&&(r=a,s=n),e=Ys(s)?s.call(e):s}return e},jn.round=xc,jn.runInContext=e,jn.sample=function(e){return(zs(e)?Yn:Gr)(e)},jn.size=function(e){if(null==e)return 0;if(qs(e))return ao(e)?un(e):e.length;var t=da(e);return t==x||t==C?e.size:Nr(e).length},jn.snakeCase=Wo,jn.some=function(e,t,n){var r=zs(e)?Lt:ti;return n&&ya(e,t,n)&&(t=i),r(e,aa(t,3))},jn.sortedIndex=function(e,t){return ni(e,t)},jn.sortedIndexBy=function(e,t,n){return ri(e,t,aa(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&js(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return ni(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return ri(e,t,aa(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(js(e[n],t))return n}return-1},jn.startCase=Vo,jn.startsWith=function(e,t,n){return e=mo(e),n=null==n?0:ar(po(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},jn.subtract=Sc,jn.sum=function(e){return e&&e.length?Wt(e,nc):0},jn.sumBy=function(e,t){return e&&e.length?Wt(e,aa(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&ya(e,t,n)&&(t=i),e=mo(e),t=vo({},t,r,Yi);var a,s,o=vo({},t.imports,r.imports,Yi),c=Po(o),l=Jt(o,c),u=0,d=t.interpolate||we,f="__p += '",p=Ae((t.escape||we).source+"|"+d.source+"|"+(d===Z?de:we).source+"|"+(t.evaluate||we).source+"|$","g"),h="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(p,function(t,n,r,i,o,c){return r||(r=i),f+=e.slice(u,c).replace(ve,nn),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),o&&(s=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t}),f+="';\n";var b=Re.call(t,"variable")&&t.variable;if(b){if(le.test(b))throw new Ee("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(z,""):f).replace(H,"$1").replace(q,"$1;"),f="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Zo(function(){return xe(c,h+"return "+f).apply(i,l)});if(y.source=f,Gs(y))throw y;return y},jn.times=function(e,t){if((e=po(e))<1||e>d)return[];var n=p,r=mn(e,p);t=aa(t),e-=p;for(var i=Vt(r,t);++n<e;)t(n);return i},jn.toFinite=fo,jn.toInteger=po,jn.toLength=ho,jn.toLower=function(e){return mo(e).toLowerCase()},jn.toNumber=bo,jn.toSafeInteger=function(e){return e?ar(po(e),-9007199254740991,d):0===e?e:0},jn.toString=mo,jn.toUpper=function(e){return mo(e).toUpperCase()},jn.trim=function(e,t,n){if((e=mo(e))&&(n||t===i))return Gt(e);if(!e||!(t=si(t)))return e;var r=dn(e),a=dn(t);return gi(r,Xt(r,a),Qt(r,a)+1).join("")},jn.trimEnd=function(e,t,n){if((e=mo(e))&&(n||t===i))return e.slice(0,fn(e)+1);if(!e||!(t=si(t)))return e;var r=dn(e);return gi(r,0,Qt(r,dn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=mo(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=dn(e);return gi(r,Xt(r,dn(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(Xs(t)){var a="separator"in t?t.separator:a;n="length"in t?po(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=mo(e)).length;if(rn(e)){var o=dn(e);s=o.length}if(n>=s)return e;var c=n-un(r);if(c<1)return r;var l=o?gi(o,0,c).join(""):e.slice(0,c);if(a===i)return l+r;if(o&&(c+=l.length-c),ro(a)){if(e.slice(c).search(a)){var u,d=l;for(a.global||(a=Ae(a.source,mo(fe.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var f=u.index;l=l.slice(0,f===i?c:f)}}else if(e.indexOf(si(a),c)!=c){var p=l.lastIndexOf(a);p>-1&&(l=l.slice(0,p))}return l+r},jn.unescape=function(e){return(e=mo(e))&&V.test(e)?e.replace(K,pn):e},jn.uniqueId=function(e){var t=++Ne;return mo(e)+t},jn.upperCase=Go,jn.upperFirst=Yo,jn.each=ys,jn.eachRight=ms,jn.first=qa,sc(jn,(yc={},gr(jn,function(e,t){Re.call(jn.prototype,t)||(yc[t]=e)}),yc),{chain:!1}),jn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){jn[e].placeholder=jn}),At(["drop","take"],function(e,t){zn.prototype[e]=function(n){n=n===i?1:yn(po(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,p),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),At(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:aa(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),At(["head","last"],function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}}),At(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}}),zn.prototype.compact=function(){return this.filter(nc)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Vr(function(e,t){return"function"==typeof e?new zn(this):this.map(function(n){return kr(n,e,t)})}),zn.prototype.reject=function(e){return this.filter(Rs(aa(e)))},zn.prototype.slice=function(e,t){e=po(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=po(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(p)},gr(zn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=jn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);a&&(jn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,c=t instanceof zn,l=o[0],u=c||zs(t),d=function(e){var t=a.apply(jn,Mt([e],o));return r&&f?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var f=this.__chain__,p=!!this.__actions__.length,h=s&&!f,b=c&&!p;if(!s&&u){t=b?t:new zn(this);var y=e.apply(t,o);return y.__actions__.push({func:ds,args:[d],thisArg:i}),new $n(y,f)}return h&&b?e.apply(this,o):(y=this.thru(d),h?r?y.value()[0]:y.value():y)})}),At(["pop","push","shift","sort","splice","unshift"],function(e){var t=ke[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(zs(i)?i:[],e)}return this[n](function(n){return t.apply(zs(n)?n:[],e)})}}),gr(zn.prototype,function(e,t){var n=jn[t];if(n){var r=n.name+"";Re.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}}),In[Bi(i,2).name]=[{name:"wrapper",func:i}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=_i(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=_i(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=_i(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=zs(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],s=a.size;switch(a.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=mn(t,e+s);break;case"takeRight":e=yn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=a.start,o=a.end,c=o-s,l=r?o:s-1,u=this.__iteratees__,d=u.length,f=0,p=mn(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return di(e,this.__actions__);var h=[];e:for(;c--&&f<p;){for(var b=-1,y=e[l+=t];++b<d;){var m=u[b],g=m.iteratee,w=m.type,v=g(y);if(2==w)y=v;else if(!v){if(1==w)continue e;break e}}h[f++]=y}return h},jn.prototype.at=fs,jn.prototype.chain=function(){return us(this)},jn.prototype.commit=function(){return new $n(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=uo(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof Fn;){var r=Ba(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:ds,args:[Xa],thisArg:i}),new $n(t,this.__chain__)}return this.thru(Xa)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Ye&&(jn.prototype[Ye]=function(){return this}),jn}();dt._=hn,(r=function(){return hn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},45691:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r}=n(70273);e.exports=a;const i=n(13273);function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}r(a.prototype,i.prototype),r(a,i),a.prototype._transform=function(e,t,n){n(null,e)}},45834:(e,t,n)=>{"use strict";n.d(t,{f:()=>r,z:()=>i});const r={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},i={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},45845:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},46369:(e,t,n)=>{"use strict";var r=n(57859),i=n(17345),a=n(46423);e.exports=r?function(e){return r(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return i(e)}:a?function(e){return a(e)}:null},46423:(e,t,n)=>{"use strict";var r,i=n(79903),a=n(69336);try{r=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var s=!!r&&a&&a(Object.prototype,"__proto__"),o=Object,c=o.getPrototypeOf;e.exports=s&&"function"==typeof s.get?i([s.get]):"function"==typeof c&&function(e){return c(null==e?e:o(e))}},46481:(e,t,n)=>{"use strict";n.d(t,{o:()=>f});var r=n(14323),i=n(38820),a=n(7658),s=n(38903);const o=new(n(95394).A)(8192);var c=n(37527),l=n(40022);function u(e,t={}){return async(n,u={})=>{const{dedupe:d=!1,methods:f,retryDelay:p=150,retryCount:h=3,uid:b}={...t,...u},{method:y}=n;if(f?.exclude?.includes(y))throw new a.ab(new Error("method not supported"),{method:y});if(f?.include&&!f.include.includes(y))throw new a.ab(new Error("method not supported"),{method:y});return function(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(o.get(n))return o.get(n);const r=e().finally(()=>o.delete(n));return o.set(n,r),r}(()=>(0,c.b)(async()=>{try{return await e(n)}catch(e){const t=e;switch(t.code){case a.XU.code:throw new a.XU(t);case a.CL.code:throw new a.CL(t);case a.Gi.code:throw new a.Gi(t,{method:n.method});case a.D5.code:throw new a.D5(t);case a.bq.code:throw new a.bq(t);case a.Di.code:throw new a.Di(t);case a.hA.code:throw new a.hA(t);case a.qZ.code:throw new a.qZ(t);case a.YW.code:throw new a.YW(t);case a.ab.code:throw new a.ab(t,{method:n.method});case a.s0.code:throw new a.s0(t);case a.xQ.code:throw new a.xQ(t);case a.vx.code:throw new a.vx(t);case a.sV.code:throw new a.sV(t);case a.Sf.code:throw new a.Sf(t);case a.RV.code:throw new a.RV(t);case a.xq.code:throw new a.xq(t);case a.ch.code:throw new a.ch(t);case a.L5.code:throw new a.L5(t);case a.WT.code:throw new a.WT(t);case a.hl.code:throw new a.hl(t);case a.cg.code:throw new a.cg(t);case a.uL.code:throw new a.uL(t);case a.G1.code:throw new a.G1(t);case a.jz.code:throw new a.jz(t);case 5e3:throw new a.vx(t);default:if(e instanceof r.C)throw e;throw new a.MI(t)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof i.Ci){const e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return(1<<e)*p},retryCount:h,shouldRetry:({error:e})=>function(e){return"code"in e&&"number"==typeof e.code?-1===e.code||e.code===a.s0.code||e.code===a.bq.code:!(e instanceof i.Ci&&e.status)||(403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status)}(e)}),{enabled:d,id:d?(0,s.i3)(`${b}.${(0,l.A)(n)}`):void 0})}}var d=n(30398);function f({key:e,methods:t,name:n,request:r,retryCount:i=3,retryDelay:a=150,timeout:s,type:o},c){return{config:{key:e,methods:t,name:n,request:r,retryCount:i,retryDelay:a,timeout:s,type:o},request:u(r,{methods:t,retryCount:i,retryDelay:a,uid:(0,d.L)()}),value:c}}},46702:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(37663),i=n(65846),a=n(77190),s=n(32634),o=n(27438);function c(e){const{abi:t,data:n}=e,c=(0,i.di)(n,0,4),l=t.find(e=>"function"===e.type&&c===(0,a.V)((0,o.B)(e)));if(!l)throw new r.EB(c,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,s.n)(l.inputs,(0,i.di)(n,4)):void 0}}},46853:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(77468);function i({chain:e,currentChainId:t}){if(!e)throw new r.jF;if(t!==e.id)throw new r.EH({chain:e,currentChainId:t})}},46946:(e,t,n)=>{"use strict";const r=n(43930);e.exports=d;const i=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},a={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:m,res:m,err:b,errWithCause:b};function s(e,t){return"silent"===e?1/0:t.levels.values[e]}const o=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){const n={logger:t,parent:e[c]};t[c]=n}function d(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},a=function(e,t){return Array.isArray(e)?e.filter(function(e){return"!stdSerializers.err"!==e}):!0===e&&Object.keys(t)}(e.browser.serialize,r);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const b=Object.keys(e.customLevels||{}),m=["error","fatal","warn","info","debug","trace"].concat(b);"function"==typeof n&&m.forEach(function(e){n[e]=n}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const g=e.level||"info",v=Object.create(n);v.log||(v.log=w),function(e,t,n){const r={};t.forEach(e=>{r[e]=n[e]?n[e]:i[e]||i[l[e]||"log"]||w}),e[o]=r}(v,m,n),u({},v),Object.defineProperty(v,"levelVal",{get:function(){return s(this.level,this)}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,f(this,E,v,"error"),f(this,E,v,"fatal"),f(this,E,v,"warn"),f(this,E,v,"info"),f(this,E,v,"debug"),f(this,E,v,"trace"),b.forEach(e=>{f(this,E,v,e)})}});const E={transmit:t,serialize:a,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:m,timestamp:y(e),messageKey:e.messageKey||"msg",onChild:e.onChild||w};function x(n,i,s){if(!i)throw new Error("missing bindings for child Pino");s=s||{},a&&i.serializers&&(s.serializers=i.serializers);const o=s.serializers;if(a&&o){var c=Object.assign({},r,o),l=!0===e.browser.serialize?Object.keys(c):a;delete i.serializers,p([i],l,c,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.bindings=i,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=h([].concat(e._logEvent.bindings,i)))}d.prototype=this;const f=new d(this);return u(this,f),f.child=function(...e){return x.call(this,n,...e)},f.level=s.level||this.level,n.onChild(f),f}return v.levels=function(e){const t=e.customLevels||{};return{values:Object.assign({},d.levels.values,t),labels:Object.assign({},d.levels.labels,function(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t))}}(e),v.level=g,v.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=w,v.serializers=r,v._serialize=a,v._stdErrSerialize=c,v.child=function(...e){return x.call(this,E,...e)},t&&(v._logEvent=h()),v}function f(e,t,n,a){if(Object.defineProperty(e,a,{value:s(e.level,n)>s(a,n)?w:n[o][a],writable:!0,enumerable:!0,configurable:!0}),e[a]===w){if(!t.transmit)return;const r=s(t.transmit.level||e.level,n);if(s(a,n)<r)return}e[a]=function(e,t,n,a){return c=e[o][a],function(){const o=t.timestamp(),l=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];var f=!1;if(t.serialize&&(p(l,this._serialize,this.serializers,this._stdErrSerialize),f=!0),t.asObject||t.formatters?c.call(u,...function(e,t,n,i,a){const{level:s,log:o=e=>e}=a.formatters||{},c=n.slice();let l=c[0];const u={};let d=1+(0|e._childLevel);if(d<1&&(d=1),i&&(u.time=i),s){const n=s(t,e.levels.values[t]);Object.assign(u,n)}else u.level=e.levels.values[t];if(a.asObjectBindingsOnly){if(null!==l&&"object"==typeof l)for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());return[o(u),...c]}if(null!==l&&"object"==typeof l){for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());l=c.length?r(c.shift(),c):void 0}else"string"==typeof l&&(l=r(c.shift(),c));return void 0!==l&&(u[a.messageKey]=l),[o(u)]}(this,a,l,o,t)):c.apply(u,l),t.transmit){const r=t.transmit.level||e._level,i=s(r,n),c=s(a,n);if(c<i)return;!function(e,t,n,r=!1){const i=t.send,a=t.ts,s=t.methodLevel,o=t.methodValue,c=t.val,l=e._logEvent.bindings;r||p(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=a,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,i(s,e._logEvent,c),e._logEvent=h(l)}(this,{ts:o,methodLevel:a,methodValue:c,transmitLevel:r,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:s(e._level,n)},l,f)}};var c}(e,t,n,a);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[c];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[a]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[a]))}function p(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=d.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i])&&t)for(const r in e[i])t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function h(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function b(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}function y(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?v:E}function m(){return{}}function g(e){return e}function w(){}function v(){return!1}function E(){return Date.now()}d.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},d.stdSerializers=a,d.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:E,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=d,e.exports.pino=d},46950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(23493);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},47002:(e,t,n)=>{"use strict";n.d(t,{t0:()=>Si,cm:()=>Ti});var r=n(69740),i=n(98158),a=n(92336),s=n(8017),o=n(25082),c=n(10415),l=n(81788),u=n(80339),d=n(10286),f=n(39876),p=n(90958),h=n(38903),b=n(14323),y=n(37656);function m(e){if(!(e instanceof b.C))return!1;const t=e.walk(e=>e instanceof y.M);return t instanceof y.M&&("HttpError"===t.data?.errorName||"ResolverError"===t.data?.errorName||"ResolverNotContract"===t.data?.errorName||"ResolverNotFound"===t.data?.errorName||"ReverseAddressMismatch"===t.data?.errorName||"UnsupportedResolverProfile"===t.data?.errorName)}var g=n(52687),w=n(30666),v=n(62421),E=n(19555),x=n(23785);function S(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return(0,x.q)(t)?t:null}function T(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,h.My)(t);const n=e.split(".");for(let e=n.length-1;e>=0;e-=1){const r=S(n[e]),i=r?(0,v.ZJ)(r):(0,E.S)((0,v.Af)(n[e]),"bytes");t=(0,E.S)((0,w.xW)([t,i]),"bytes")}return(0,h.My)(t)}function A(e){return`[${e.slice(2)}]`}function _(e){const t=new Uint8Array(32).fill(0);return e?S(e)||(0,E.S)((0,v.Af)(e)):(0,h.My)(t)}function C(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array((0,v.Af)(t).byteLength+2);let r=0;const i=t.split(".");for(let e=0;e<i.length;e++){let t=(0,v.Af)(i[e]);t.byteLength>255&&(t=(0,v.Af)(A(_(i[e])))),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}var k=n(58501),I=n(40145);class P extends b.C{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class O extends b.C{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class M extends b.C{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class R extends b.C{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}b.C;const N=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,L=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,D=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,B=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function j(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function U({uri:e,gatewayUrls:t}){const n=D.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=j(t?.ipfs,"https://ipfs.io"),i=j(t?.arweave,"https://arweave.net"),a=e.match(N),{protocol:s,subpath:o,target:c,subtarget:l=""}=a?.groups||{},u="ipns:/"===s||"ipns/"===o,d="ipfs:/"===s||"ipfs/"===o||L.test(e);if(e.startsWith("http")&&!u&&!d){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if("ar:/"===s&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(B,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new M({uri:e})}function F(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new P({data:e});return e.image||e.image_url||e.image_data}async function $({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=U({uri:t,gatewayUrls:e});if(r)return n;const i=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!Object.hasOwn(globalThis,"Image")&&new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e})}}(n);if(i)return n;throw new M({uri:t})}async function z(e,t){const{blockNumber:n,blockTag:r,key:i,name:a,gatewayUrls:s,strict:o}=t,{chain:c}=e,p=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,f.M)({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),b=c?.ensTlds;if(b&&!b.some(e=>a.endsWith(e)))return null;try{const t={address:p,abi:l.Ag,args:[(0,h.nj)(C(a)),(0,d.p)({abi:l.SJ,functionName:"text",args:[T(a),i]}),s??[g.J]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},o=(0,k.T)(e,I.J,"readContract"),c=await o(t);if("0x"===c[0])return null;const f=(0,u.e)({abi:l.SJ,functionName:"text",data:c[0]});return""===f?null:f}catch(e){if(o)throw e;if(m(e))return null;throw e}}var H=n(16067),q=n(34820),K=n(34617),W=n(16406),V=n(16590),G=n(70823);async function Y(e,t){const{account:n=e.account,blockNumber:r,blockTag:i="latest",blobs:a,data:s,gas:o,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:p,...b}=t,y=n?(0,q.J)(n):void 0;try{(0,G.c)(t);const n=("bigint"==typeof r?(0,h.cK)(r):void 0)||i,m=e.chain?.formatters?.transactionRequest?.format,g=(m||V.Bv)({...(0,W.o)(b,{format:m}),account:y,blobs:a,data:s,gas:o,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:p},"createAccessList"),w=await e.request({method:"eth_createAccessList",params:[g,n]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(n){throw(0,K.d)(n,{...t,account:y,chain:e.chain})}}function J(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:r,status:i,transport:a})=>{"success"===i&&t===e&&(n[r]=a.request)}),t=>n[t]||e.request}var Z=n(37663);class X extends b.C{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var Q=n(62518),ee=n(58470),te=n(27438),ne=n(76009);const re="/docs/contract/encodeEventTopics";function ie(e){const{abi:t,eventName:n,args:r}=e;let i=t[0];if(n){const e=(0,ne.iY)({abi:t,name:n});if(!e)throw new Z.M_(n,{docsPath:re});i=e}if("event"!==i.type)throw new Z.M_(void 0,{docsPath:re});const a=(0,te.B)(i),s=(0,Q.h)(a);let o=[];if(r&&"inputs"in i){const e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map(e=>r[e.name])??[]:[];t.length>0&&(o=e?.map((e,n)=>Array.isArray(t[n])?t[n].map((r,i)=>ae({param:e,value:t[n][i]})):void 0!==t[n]&&null!==t[n]?ae({param:e,value:t[n]}):null)??[])}return[s,...o]}function ae({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,E.S)((0,v.ZJ)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new X(e.type);return(0,ee.h)([e],[t])}async function se(e,t){const{address:n,abi:r,args:i,eventName:a,fromBlock:s,strict:o,toBlock:c}=t,l=J(e,{method:"eth_newFilter"}),u=a?ie({abi:r,args:i,eventName:a}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:"bigint"==typeof s?(0,h.cK)(s):s,toBlock:"bigint"==typeof c?(0,h.cK)(c):c,topics:u}]});return{abi:r,args:i,eventName:a,id:d,request:l(d),strict:Boolean(o),type:"event"}}async function oe(e,{address:t,args:n,event:r,events:i,fromBlock:a,strict:s,toBlock:o}={}){const c=i??(r?[r]:void 0),l=J(e,{method:"eth_newFilter"});let u=[];if(c){const e=c.flatMap(e=>ie({abi:[e],eventName:e.name,args:n}));u=[e],r&&(u=u[0])}const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof a?(0,h.cK)(a):a,toBlock:"bigint"==typeof o?(0,h.cK)(o):o,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:d,request:l(d),strict:Boolean(s),toBlock:o,type:"event"}}async function ce(e){const t=J(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}var le=n(93747),ue=n(87041),de=n(80204),fe=n(8775),pe=n(90244),he=n(74846),be=n(75144),ye=n(79756),me=n(50327),ge=n(62266),we=n(93606),ve=n(43244),Ee=n(96943),xe=n(32634);const Se="/docs/contract/decodeEventLog";function Te(e){const{abi:t,data:n,strict:r,topics:i}=e,a=r??!0,[s,...o]=i;if(!s)throw new Z._z({docsPath:Se});const c=t.find(e=>"event"===e.type&&s===(0,Q.h)((0,te.B)(e)));if(!c||!("name"in c)||"event"!==c.type)throw new Z.kE(s,{docsPath:Se});const{name:l,inputs:u}=c,d=u?.some(e=>!("name"in e&&e.name)),f=d?[]:{},p=u.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<p.length;e++){const[t,n]=p[e],r=o[e];if(!r)throw new Z.l3({abiItem:c,param:t});f[d?n:t.name||n]=Ae({param:t,value:r})}const h=u.filter(e=>!("indexed"in e&&e.indexed));if(h.length>0)if(n&&"0x"!==n)try{const e=(0,xe.n)(h,n);if(e)if(d)for(let t=0;t<u.length;t++)f[t]=f[t]??e.shift();else for(let t=0;t<h.length;t++)f[h[t].name]=e[t]}catch(e){if(a){if(e instanceof Z.Iy||e instanceof ve.SK)throw new Z.fo({abiItem:c,data:n,params:h,size:(0,Ee.E)(n)});throw e}}else if(a)throw new Z.fo({abiItem:c,data:"0x",params:h,size:0});return{eventName:l,args:Object.values(f).length>0?f:void 0}}function Ae({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,xe.n)([e],t)||[])[0]}function _e(e){const{abi:t,args:n,logs:r,strict:i=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(e=>{try{const r=t.find(t=>"event"===t.type&&e.topics[0]===(0,Q.h)(t));if(!r)return null;const s=Te({...e,abi:[r],strict:i});return a&&!a.includes(s.eventName)?null:function(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function i(e,t,n){try{return"address"===e.type?(0,we.h)(t,n):"string"===e.type||"bytes"===e.type?(0,E.S)((0,v.ZJ)(t))===n:t===n}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((e,r)=>{if(null==e)return!0;const a=n[r];return!!a&&(Array.isArray(e)?e:[e]).some(e=>i(a,e,t[r]))}):"object"==typeof t&&!Array.isArray(t)&&"object"==typeof r&&!Array.isArray(r)&&Object.entries(r).every(([e,r])=>{if(null==r)return!0;const a=n.find(t=>t.name===e);return!!a&&(Array.isArray(r)?r:[r]).some(n=>i(a,n,t[e]))})}({args:s.args,inputs:r.inputs,matchArgs:n})?{...s,...e}:null}catch(t){let n,r;if(t instanceof Z.kE)return null;if(t instanceof Z.fo||t instanceof Z.l3){if(i)return null;n=t.abiItem.name,r=t.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:n}}}).filter(Boolean)}var Ce=n(6577);async function ke(e,{address:t,blockHash:n,fromBlock:r,toBlock:i,event:a,events:s,args:o,strict:c}={}){const l=c??!1,u=s??(a?[a]:void 0);let d,f=[];if(u){const e=u.flatMap(e=>ie({abi:[e],eventName:e.name,args:s?void 0:o}));f=[e],a&&(f=f[0])}d=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:"bigint"==typeof r?(0,h.cK)(r):r,toBlock:"bigint"==typeof i?(0,h.cK)(i):i}]});const p=d.map(e=>(0,Ce.e)(e));return u?_e({abi:u,args:o,logs:p,strict:l}):p}async function Ie(e,t){const{abi:n,address:r,args:i,blockHash:a,eventName:s,fromBlock:o,toBlock:c,strict:l}=t,u=s?(0,ne.iY)({abi:n,name:s}):void 0,d=u?void 0:n.filter(e=>"event"===e.type);return(0,k.T)(e,ke,"getLogs")({address:r,args:i,blockHash:a,event:u,events:d,fromBlock:o,toBlock:c,strict:l})}class Pe extends b.C{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}const Oe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function Me(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof r[0])return r;const i=r.map(e=>(0,Ce.e)(e));return"abi"in t&&t.abi?_e({abi:t.abi,logs:i,strict:n}):i}var Re=n(16761);var Ne=n(55211),Le=n(62408),De=n(89095),Be=n(9992),je=n(77725),Ue=n(88681),Fe=n(37237),$e=n(39862),ze=n(29274);async function He(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:i,returnFullTransactions:a,traceTransfers:s,validation:o}=t;try{const t=[];for(const e of i){const n=e.blockOverrides?je.J(e.blockOverrides):void 0,r=e.calls.map(e=>{const t=e,n=t.account?(0,q.J)(t.account):void 0,r=t.abi?(0,d.p)(t):t.data,i={...t,account:n,data:t.dataSuffix?(0,w.xW)([r||"0x",t.dataSuffix]):r,from:t.from??n?.address};return(0,G.c)(i),(0,V.Bv)(i)}),i=e.stateOverrides?(0,ze.yH)(e.stateOverrides):void 0;t.push({blockOverrides:n,calls:r,stateOverrides:i})}const c=("bigint"==typeof n?(0,h.cK)(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:a,traceTransfers:s,validation:o},c]})).map((e,t)=>({...(0,$e.$)(e),calls:e.calls.map((e,n)=>{const{abi:r,args:a,functionName:s,to:o}=i[t].calls[n],c=e.error?.data??e.returnData,l=BigInt(e.gasUsed),d=e.logs?.map(e=>(0,Ce.e)(e)),f="0x1"===e.status?"success":"failure",p=r&&"success"===f&&"0x"!==c?(0,u.e)({abi:r,data:c,functionName:s}):null,h=(()=>{if("success"===f)return;let t;return"0x"===e.error?.data?t=new Z.O:e.error&&(t=new y.$S(e.error)),t?(0,le.j)(t,{abi:r??[],address:o??"0x",args:a,functionName:s??"<unknown>"}):void 0})();return{data:c,gasUsed:l,logs:d,status:f,..."success"===f?{result:p}:{error:h}}})}))}catch(e){const t=e,n=(0,Fe.l)(t,{});if(n instanceof Ue.RM)throw t;throw n}}var qe=n(2247),Ke=n(99916),We=n(21086),Ve=n(96023);var Ge=n(66220),Ye=n(34873),Je=n(30113),Ze=n(76935);function Xe(e,t){if(st(e)>t)throw new pt({givenSize:st(e),maxSize:t})}function Qe(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function et(e,t={}){const{dir:n="left"}=t;let r=e,i=0;for(let e=0;e<r.length-1&&"0"===r["left"===n?e:r.length-e-1].toString();e++)i++;return r="left"===n?r.slice(i):r.slice(0,r.length-i),r}var tt=n(60563),nt=n(31390);const rt=new TextDecoder,it=new TextEncoder;function at(e,t={}){const{size:n}=t;let r=e;n&&(tt.Sl(e,n),r=Ze.M7(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const a=i.length/2,s=new Uint8Array(a);for(let e=0,t=0;e<a;e++){const n=Qe(i.charCodeAt(t++)),r=Qe(i.charCodeAt(t++));if(void 0===n||void 0===r)throw new Ye.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);s[e]=16*n+r}return s}function st(e){return e.length}function ot(e,t,n,r={}){const{strict:i}=r;!function(e,t){if("number"==typeof t&&t>0&&t>st(e)-1)throw new ht({offset:t,position:"start",size:st(e)})}(e,t);const a=e.slice(t,n);return i&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&st(e)!==n-t)throw new ht({offset:n,position:"end",size:st(e)})}(a,t,n),a}function ct(e,t={}){const{size:n}=t;void 0!==n&&Xe(e,n);const r=Ze.uK(e,t);return Ze.Dg(r,t)}function lt(e,t={}){const{size:n}=t;let r=e;if(void 0!==n&&(Xe(r,n),r=dt(r)),r.length>1||r[0]>1)throw new ft(r);return Boolean(r[0])}function ut(e,t={}){const{size:n}=t;void 0!==n&&Xe(e,n);const r=Ze.uK(e,t);return Ze.Ro(r,t)}function dt(e){return et(e,{dir:"left"})}class ft extends Ye.C{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}Ye.C;class pt extends Ye.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class ht extends Ye.C{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class bt extends Ye.C{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function yt(e,t={}){const{as:n=("string"==typeof e?"Hex":"Bytes")}=t,r=(0,Je.lY)(function(e){return e instanceof Uint8Array?e:"string"==typeof e?at(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}(e));return"Bytes"===n?r:Ze.uK(r)}class mt extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const gt={checksum:new mt(8192)}.checksum,wt=/^0x[a-fA-F0-9]{40}$/;function vt(e,t={}){const{strict:n=!0}=t;if(!wt.test(e))throw new St({address:e,cause:new Tt});if(n){if(e.toLowerCase()===e)return;if(Et(e)!==e)throw new St({address:e,cause:new At})}}function Et(e){if(gt.has(e))return gt.get(e);vt(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=yt(function(e,t={}){const{size:n}=t,r=it.encode(e);return"number"==typeof n?(Xe(r,n),function(e,t){return function(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new bt({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let t=0;t<r;t++){const a="right"===n;i[a?t:r-t-1]=e[a?t:e.length-t-1]}return i}(e,{dir:"right",size:t})}(r,n)):r}(t),{as:"Bytes"}),r=t.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&r[e]&&(r[e]=r[e].toUpperCase()),(15&n[e>>1])>=8&&r[e+1]&&(r[e+1]=r[e+1].toUpperCase());const i=`0x${r.join("")}`;return gt.set(e,i),i}function xt(e,t={}){const{strict:n=!0}=t??{};try{return vt(e,{strict:n}),!0}catch{return!1}}class St extends Ye.C{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Tt extends Ye.C{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class At extends Ye.C{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function _t(e){let t=!0,n="",r=0,i="",a=!1;for(let s=0;s<e.length;s++){const o=e[s];if(["(",")",","].includes(o)&&(t=!0),"("===o&&r++,")"===o&&r--,t)if(0!==r)" "!==o?(i+=o,n+=o):","!==e[s-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===o&&["event","function","error",""].includes(i))i="";else if(i+=o,")"===o){a=!0;break}}if(!a)throw new Ye.C("Unable to normalize signature.");return i}function Ct(e,t){const n=typeof e,r=t.type;switch(r){case"address":return xt(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every((t,n)=>Ct(Object.values(e)[n],t)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&Array.isArray(e)&&e.every(e=>Ct(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))}}function kt(e,t,n){for(const r in e){const i=e[r],a=t[r];if("tuple"===i.type&&"tuple"===a.type&&"components"in i&&"components"in a)return kt(i.components,a.components,n[r]);const s=[i.type,a.type];if((()=>!(!s.includes("address")||!s.includes("bytes20"))||(s.includes("address")&&s.includes("string")||!(!s.includes("address")||!s.includes("bytes")))&&xt(n[r],{strict:!1}))())return s}}function It(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=(0,Ve.uT)(e);else{const n=(0,We.e)(e),r=e.length;for(let i=0;i<r;i++){const r=e[i];if(!(0,Ke.WL)(r)){t=(0,Ve.uT)(r,n);break}}}if(!t)throw new qe.xo({signature:e});return t}(e):e;return{...r,...n?{hash:Mt(r)}:{}}}function Pt(e,t,n){const{args:r=[],prepare:i=!0}=n??{},a=Ze.tf(t,{strict:!1}),s=e.filter(e=>a?"function"===e.type||"error"===e.type?Ot(e)===Ze.di(t,0,4):"event"===e.type&&Mt(e)===t:"name"in e&&e.name===t);if(0===s.length)throw new Nt({name:t});if(1===s.length)return{...s[0],...i?{hash:Mt(s[0])}:{}};let o;for(const e of s)if("inputs"in e)if(r&&0!==r.length){if(e.inputs&&0!==e.inputs.length&&e.inputs.length===r.length&&r.every((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&Ct(t,r)})){if(o&&"inputs"in o&&o.inputs){const t=kt(e.inputs,o.inputs,r);if(t)throw new Rt({abiItem:e,type:t[0]},{abiItem:o,type:t[1]})}o=e}}else if(!e.inputs||0===e.inputs.length)return{...e,...i?{hash:Mt(e)}:{}};const c=(()=>{if(o)return o;const[e,...t]=s;return{...e,overloads:t}})();if(!c)throw new Nt({name:t});return{...c,...i?{hash:Mt(c)}:{}}}function Ot(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return Pt(t,n)}return e[0]})();return Ze.di(Mt(t),0,4)}function Mt(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return Pt(t,n)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:yt(Ze.sH(function(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return Pt(t,n)}return e[0]})();return _t("string"==typeof t?t:Ge.B(t))}(t)))}class Rt extends Ye.C{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${_t(Ge.B(e.abiItem))}\`, and`,`\`${t.type}\` in \`${_t(Ge.B(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Nt extends Ye.C{constructor({name:e,data:t,type:n="item"}){super(`ABI ${n}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}Ye.C;var Lt=n(27685),Dt=n(49380);const Bt=/^(.*)\[([0-9]*)\]$/,jt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ut=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ft=2n**256n-1n;function $t(e,t,n){const{checksumAddress:r,staticPosition:i}=n,a=Wt(t.type);if(a){const[n,s]=a;return function(e,t,n){const{checksumAddress:r,length:i,staticPosition:a}=n;if(!i){const n=a+ut(e.readBytes(Ht)),i=n+zt;e.setPosition(n);const s=ut(e.readBytes(zt)),o=Vt(t);let c=0;const l=[];for(let n=0;n<s;++n){e.setPosition(i+(o?32*n:c));const[a,s]=$t(e,t,{checksumAddress:r,staticPosition:i});c+=s,l.push(a)}return e.setPosition(a+32),[l,32]}if(Vt(t)){const n=a+ut(e.readBytes(Ht)),s=[];for(let a=0;a<i;++a){e.setPosition(n+32*a);const[i]=$t(e,t,{checksumAddress:r,staticPosition:n});s.push(i)}return e.setPosition(a+32),[s,32]}let s=0;const o=[];for(let n=0;n<i;++n){const[n,i]=$t(e,t,{checksumAddress:r,staticPosition:a+s});s+=i,o.push(n)}return[o,s]}(e,{...t,type:s},{checksumAddress:r,length:n,staticPosition:i})}if("tuple"===t.type)return function(e,t,n){const{checksumAddress:r,staticPosition:i}=n,a=0===t.components.length||t.components.some(({name:e})=>!e),s=a?[]:{};let o=0;if(Vt(t)){const n=i+ut(e.readBytes(Ht));for(let i=0;i<t.components.length;++i){const c=t.components[i];e.setPosition(n+o);const[l,u]=$t(e,c,{checksumAddress:r,staticPosition:n});o+=u,s[a?i:c?.name]=l}return e.setPosition(i+32),[s,32]}for(let n=0;n<t.components.length;++n){const c=t.components[n],[l,u]=$t(e,c,{checksumAddress:r,staticPosition:i});s[a?n:c?.name]=l,o+=u}return[s,o]}(e,t,{checksumAddress:r,staticPosition:i});if("address"===t.type)return function(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=Ze.uK(ot(r,-20)),n?Et(i):i),32];var i}(e,{checksum:r});if("bool"===t.type)return function(e){return[lt(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const t=ut(e.readBytes(32));e.setPosition(n+t);const r=ut(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const i=e.readBytes(r);return e.setPosition(n+32),[Ze.uK(i),32]}return[Ze.uK(e.readBytes(Number.parseInt(i,10),32)),32]}(e,t,{staticPosition:i});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?ct(i,{signed:n}):ut(i,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=t+ut(e.readBytes(32));e.setPosition(n);const r=ut(e.readBytes(32));if(0===r)return e.setPosition(t+32),["",32];const i=function(e,t={}){const{size:n}=t;let r=e;return void 0!==n&&(Xe(r,n),r=et(r,{dir:"right"})),rt.decode(r)}(dt(e.readBytes(r,32)));return e.setPosition(t+32),[i,32]}(e,{staticPosition:i});throw new cn(t.type)}const zt=32,Ht=32;function qt({checksumAddress:e=!1,parameter:t,value:n}){const r=t,i=Wt(r.type);if(i){const[t,a]=i;return function(e,t){const{checksumAddress:n,length:r,parameter:i}=t,a=null===r;if(!Array.isArray(e))throw new on(e);if(!a&&e.length!==r)throw new rn({expectedLength:r,givenLength:e.length,type:`${i.type}[${r}]`});let s=!1;const o=[];for(let t=0;t<e.length;t++){const r=qt({checksumAddress:n,parameter:i,value:e[t]});r.dynamic&&(s=!0),o.push(r)}if(a||s){const e=Kt(o);if(a){const t=Ze.oB(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Ze.xW(t,e):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:Ze.xW(...o.map(({encoded:e})=>e))}}(n,{checksumAddress:e,length:t,parameter:{...r,type:a}})}if("tuple"===r.type)return function(e,t){const{checksumAddress:n,parameter:r}=t;let i=!1;const a=[];for(let t=0;t<r.components.length;t++){const s=r.components[t],o=qt({checksumAddress:n,parameter:s,value:e[Array.isArray(e)?t:s.name]});a.push(o),o.dynamic&&(i=!0)}return{dynamic:i,encoded:i?Kt(a):Ze.xW(...a.map(({encoded:e})=>e))}}(n,{checksumAddress:e,parameter:r});if("address"===r.type)return function(e,t){const{checksum:n=!1}=t;return vt(e,{strict:n}),{dynamic:!1,encoded:Ze.Ho(e.toLowerCase())}}(n,{checksum:e});if("bool"===r.type)return function(e){if("boolean"!=typeof e)throw new Ye.C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ze.Ho(Ze.xb(e))}}(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const e=r.type.startsWith("int"),[,,t="256"]=Ut.exec(r.type)??[];return function(e,{signed:t,size:n}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new Ze.Ty({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Ze.oB(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){const[,n]=t.split("bytes"),r=Ze.Ej(e);if(!n){let t=e;return r%32!=0&&(t=Ze.M7(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:Ze.xW(Ze.Ho(Ze.oB(r,{size:32})),t)}}if(r!==Number.parseInt(n,10))throw new an({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ze.M7(e)}}(n,{type:r.type});if("string"===r.type)return function(e){const t=Ze.sH(e),n=Math.ceil(Ze.Ej(t)/32),r=[];for(let e=0;e<n;e++)r.push(Ze.M7(Ze.di(t,32*e,32*(e+1))));return{dynamic:!0,encoded:Ze.xW(Ze.M7(Ze.oB(Ze.Ej(t),{size:32})),...r)}}(n);throw new cn(r.type)}function Kt(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:i}=e[n];t+=r?32:Ze.Ej(i)}const n=[],r=[];let i=0;for(let a=0;a<e.length;a++){const{dynamic:s,encoded:o}=e[a];s?(n.push(Ze.oB(t+i,{size:32})),r.push(o),i+=Ze.Ej(o)):n.push(o)}return Ze.xW(...n,...r)}function Wt(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Vt(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(Vt);const n=Wt(e.type);return!(!n||!Vt({...e,type:n[1]}))}const Gt={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Zt({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Jt({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Yt({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Yt({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class Yt extends Ye.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Jt extends Ye.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Zt extends Ye.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Xt(e,t,n){const{checksumAddress:r=!1}=n??{};if(e.length!==t.length)throw new sn({expectedLength:e.length,givenLength:t.length});const i=function({checksumAddress:e,parameters:t,values:n}){const r=[];for(let i=0;i<t.length;i++)r.push(qt({checksumAddress:e,parameter:t[i],value:n[i]}));return r}({checksumAddress:r,parameters:e,values:t}),a=Kt(i);return 0===a.length?"0x":a}function Qt(e,t){if(e.length!==t.length)throw new sn({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],a=t[r];n.push(Qt.encode(i,a))}return Ze.xW(...n)}function en(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?Lt.m(e):e}!function(e){e.encode=function e(t,n,r=!1){if("address"===t){const e=n;return vt(e),Ze.Ho(e.toLowerCase(),r?32:0)}if("string"===t)return Ze.sH(n);if("bytes"===t)return n;if("bool"===t)return Ze.Ho(Ze.xb(n),r?32:1);const i=t.match(Ut);if(i){const[e,t,a="256"]=i,s=Number.parseInt(a,10)/8;return Ze.oB(n,{size:r?32:s,signed:"int"===t})}const a=t.match(jt);if(a){const[e,t]=a;if(Number.parseInt(t,10)!==(n.length-2)/2)throw new an({expectedSize:Number.parseInt(t,10),value:n});return Ze.M7(n,r?32:0)}const s=t.match(Bt);if(s&&Array.isArray(n)){const[t,r]=s,i=[];for(let t=0;t<n.length;t++)i.push(e(r,n[t],!0));return 0===i.length?"0x":Ze.xW(...i)}throw new cn(t)}}(Qt||(Qt={}));class tn extends Ye.C{constructor({data:e,parameters:t,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Dt.Q(t)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class nn extends Ye.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class rn extends Ye.C{constructor({expectedLength:e,givenLength:t,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class an extends Ye.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${Ze.Ej(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class sn extends Ye.C{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class on extends Ye.C{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class cn extends Ye.C{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function ln(e){const t=e.find(e=>"constructor"===e.type);if(!t)throw new Nt({name:"constructor"});return t}function un(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[t,n,r]=e;return[fn(t,n,{args:r}),r]}const[t,n]=e;return[t,n]})(),{overloads:r}=t,i=r?fn([t,...r],t.name,{args:n}):t,a=Ot(i),s=n.length>0?Xt(i.inputs,n):void 0;return s?Ze.xW(a,s):a}function dn(e,t={}){return It(e,t)}function fn(e,t,n){const r=Pt(e,t,n);if("function"!==r.type)throw new Nt({name:t,type:"function"});return r}var pn=n(91959);var hn=n(19455);async function bn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const yn="0x6492649264926492649264926492649264926492649264926492649264926492";class mn extends Ye.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function gn(e,t={}){const{recovered:n}=t;if(void 0===e.r)throw new xn({signature:e});if(void 0===e.s)throw new xn({signature:e});if(n&&void 0===e.yParity)throw new xn({signature:e});if(e.r<0n||e.r>Ft)throw new Sn({value:e.r});if(e.s<0n||e.s>Ft)throw new Tn({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new An({value:e.yParity})}function wn(e){if(130!==e.length&&132!==e.length)throw new En({signature:e});const t=BigInt(Ze.di(e,0,32)),n=BigInt(Ze.di(e,32,64)),r=(()=>{const t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return vn(t)}catch{throw new An({value:t})}})();return void 0===r?{r:t,s:n}:{r:t,s:n,yParity:r}}function vn(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new _n({value:e})}class En extends Ye.C{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ze.Ej(Ze.HT(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class xn extends Ye.C{constructor({signature:e}){super(`Signature \`${nt.A(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Sn extends Ye.C{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Tn extends Ye.C{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class An extends Ye.C{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class _n extends Ye.C{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Cn(e,t={}){return"string"==typeof e.chainId?function(e){const{address:t,chainId:n,nonce:r}=e,i=function(e){if(void 0!==e.r&&void 0!==e.s)return function(e){const t="string"==typeof e?wn(e):e instanceof Uint8Array?function(e){return wn(Ze.uK(e))}(e):"string"==typeof e.r?function(e){const t=(()=>{const t=e.v?Number(e.v):void 0;let n=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof n&&(n=vn(t)),"number"!=typeof n)throw new An({value:e.yParity});return n})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}(e):e.v?function(e){return{r:e.r,s:e.s,yParity:vn(e.v)}}(e):{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}};return gn(t),t}(e)}(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...i}}(e):{...e,...t.signature}}const kn=en("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function In(e){if("string"==typeof e){if("0x8010801080108010801080108010801080108010801080108010801080108010"!==Ze.di(e,-32))throw new On(e)}else gn(e.authorization)}function Pn(e){In(e);const t=Ze.Ro(Ze.di(e,-64,-32)),n=Ze.di(e,-t-64,-64),r=Ze.di(e,0,-t-64),[i,a,s]=function(e,t,n={}){const{as:r="Array",checksumAddress:i=!1}=n,a="string"==typeof t?at(t):t,s=function(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Gt);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}(a);if(0===st(a)&&e.length>0)throw new nn;if(st(a)&&st(a)<32)throw new tn({data:"string"==typeof t?t:Ze.uK(t),parameters:e,size:st(a)});let o=0;const c="Array"===r?[]:{};for(let t=0;t<e.length;++t){const n=e[t];s.setPosition(o);const[a,l]=$t(s,n,{checksumAddress:i,staticPosition:0});o+=l,"Array"===r?c.push(a):c[n.name??t]=a}return c}(kn,n);return{authorization:Cn({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...s&&"0x"!==s?{data:s,to:a}:{}}}class On extends Ye.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}var Mn=n(97769),Rn=n(89962),Nn=n(81526),Ln=n(42266),Dn=n(8011);async function Bn(e,t){const{address:n,hash:r,erc6492VerifierAddress:i=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:a=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,s=(()=>{const e=t.signature;return(0,x.q)(e)?e:"object"==typeof e&&"r"in e&&"s"in e?function({r:e,s:t,to:n="hex",v:r,yParity:i}){const a=(()=>{if(0===i||1===i)return i;if(r&&(27n===r||28n===r||r>=35n))return r%2n==0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new Dn.secp256k1.Signature((0,ye.uU)(e),(0,ye.uU)(t)).toCompactHex()}${0===a?"1b":"1c"}`;return"hex"===n?s:(0,v.aT)(s)}(e):(0,h.My)(e)})();try{return function(e){try{return In(e),!0}catch{return!1}}(s)?await async function(e,t){const{address:n,blockNumber:r,blockTag:i,hash:a,multicallAddress:s}=t,{authorization:o,data:c,signature:u,to:f}=Pn(t.signature);if(await(0,ge.Q)(e,{address:n,blockNumber:r,blockTag:i})===(0,w.aP)(["0xef0100",o.address]))return await async function(e,t){const{address:n,blockNumber:r,blockTag:i,hash:a,signature:s}=t;if((await(0,k.T)(e,I.J,"readContract")({address:n,abi:l.UW,args:[a,s],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(e=>{if(e instanceof y.bG)throw new jn;throw e})).startsWith("0x1626ba7e"))return!0;throw new jn}(e,{address:n,blockNumber:r,blockTag:i,hash:a,signature:u});const p={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:(0,h.cK)(o.r,{size:32}),s:(0,h.cK)(o.s,{size:32}),yParity:o.yParity},b=await async function({address:e,authorization:t,signature:n}){return(0,we.h)((0,Rn.b)(e),await(0,Nn.g)({authorization:t,signature:n}))}({address:n,authorization:p});if(!b)throw new jn;const m=await(0,k.T)(e,I.J,"readContract")({...s?{address:s}:{code:Be.Ez},authorizationList:[p],abi:l.v2,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:(0,d.p)({abi:l.UW,functionName:"isValidSignature",args:[a,u]})}]]}),g=m[m.length-1]?.returnData;if(g?.startsWith("0x1626ba7e"))return!0;throw new jn}(e,{...t,multicallAddress:a,signature:s}):await async function(e,t){const{address:n,factory:r,factoryData:i,hash:a,signature:s,verifierAddress:o,...c}=t,u=await(async()=>r||i?function(e){try{return function(e){if(Ze.di(e,-32)!==yn)throw new mn(e)}(e),!0}catch{return!1}}(s)?s:function(e){const{data:t,signature:n,to:r}=e;return Ze.xW(Xt(en("address, bytes, bytes"),[r,t,n]),yn)}({data:i,signature:s,to:r}):s)(),f=o?{to:o,data:(0,d.p)({abi:l.E5,functionName:"isValidSig",args:[n,a,u]}),...c}:{data:(0,Mn.m)({abi:l.E5,args:[n,a,u],bytecode:Be.fT}),...c},{data:p}=await(0,k.T)(e,H.T,"call")(f).catch(e=>{if(e instanceof y.zX)throw new jn;throw e});if((0,ye.Nx)(p??"0x0"))return!0;throw new jn}(e,{...t,verifierAddress:i,signature:s})}catch(e){try{if((0,we.h)((0,Rn.b)(n),await(0,Ln.x)({hash:r,signature:s})))return!0}catch{}if(e instanceof jn)return!1;throw e}}class jn extends Error{}var Un=n(30184),Fn=n(42558),$n=n(64295),zn=n(97686),Hn=n(32991),qn=n(76154),Kn=n(40022),Wn=n(7658);const Vn=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Gn=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;var Yn=n(95068);var Jn=n(58423),Zn=n(24935),Xn=n(34976);function Qn(e){return{call:t=>(0,H.T)(e,t),createAccessList:t=>Y(e,t),createBlockFilter:()=>async function(e){const t=J(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}(e),createContractEventFilter:t=>se(e,t),createEventFilter:t=>oe(e,t),createPendingTransactionFilter:()=>ce(e),estimateContractGas:t=>async function(e,t){const{abi:n,address:r,args:i,functionName:a,dataSuffix:s,...o}=t,c=(0,d.p)({abi:n,args:i,functionName:a});try{return await(0,k.T)(e,ue.Q,"estimateGas")({data:`${c}${s?s.replace("0x",""):""}`,to:r,...o})}catch(e){const t=o.account?(0,q.J)(o.account):void 0;throw(0,le.j)(e,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:t?.address})}}(e,t),estimateGas:t=>(0,ue.Q)(e,t),getBalance:t=>async function(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const i="bigint"==typeof n?(0,h.cK)(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,i||r]});return BigInt(a)}(e,t),getBlobBaseFee:()=>async function(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}(e),getBlock:t=>(0,he.g)(e,t),getBlockNumber:t=>(0,be.G)(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const i=void 0!==n?(0,h.cK)(n):void 0;let a;return a=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:Boolean(i)}),(0,ye.ME)(a)}(e,t),getBytecode:t=>(0,ge.Q)(e,t),getChainId:()=>(0,me.T)(e),getCode:t=>(0,ge.Q)(e,t),getContractEvents:t=>Ie(e,t),getEip712Domain:t=>async function(e,t){const{address:n,factory:r,factoryData:i}=t;try{const[t,a,s,o,c,l,u]=await(0,k.T)(e,I.J,"readContract")({abi:Oe,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:a,version:s,chainId:Number(o),verifyingContract:c,salt:l},extensions:u,fields:t}}catch(e){const t=e;if("ContractFunctionExecutionError"===t.name&&"ContractFunctionZeroDataError"===t.cause.name)throw new Pe({address:n});throw t}}(e,t),getEnsAddress:t=>async function(e,t){const{blockNumber:n,blockTag:r,coinType:i,name:a,gatewayUrls:s,strict:o}=t,{chain:c}=e,b=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,f.M)({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),y=c?.ensTlds;if(y&&!y.some(e=>a.endsWith(e)))return null;const w=null!=i?[T(a),BigInt(i)]:[T(a)];try{const t=(0,d.p)({abi:l.Rm,functionName:"addr",args:w}),i={address:b,abi:l.Ag,functionName:"resolveWithGateways",args:[(0,h.nj)(C(a)),t,s??[g.J]],blockNumber:n,blockTag:r},o=(0,k.T)(e,I.J,"readContract"),c=await o(i);if("0x"===c[0])return null;const f=(0,u.e)({abi:l.Rm,args:w,functionName:"addr",data:c[0]});return"0x"===f||"0x00"===(0,p.B)(f)?null:f}catch(e){if(o)throw e;if(m(e))return null;throw e}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:a,strict:s,universalResolverAddress:o}){const c=await(0,k.T)(e,z,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:i,universalResolverAddress:o,gatewayUrls:a,strict:s});if(!c)return null;try{return await async function(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=t.split("/"),[a,s]=n.split(":"),[o,c]=r.split(":");if(!a||"eip155"!==a.toLowerCase())throw new O({reason:"Only EIP-155 supported"});if(!s)throw new O({reason:"Chain ID not found"});if(!c)throw new O({reason:"Contract address not found"});if(!i)throw new O({reason:"Token ID not found"});if(!o)throw new O({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s,10),namespace:o.toLowerCase(),contractAddress:c,tokenID:i}}(n),i=await async function(e,{nft:t}){if("erc721"===t.namespace)return(0,I.J)(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return(0,I.J)(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new R({namespace:t.namespace})}(e,{nft:r}),{uri:a,isOnChain:s,isEncoded:o}=U({uri:i,gatewayUrls:t});if(s&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const e=o?atob(a.replace("data:application/json;base64,","")):a;return $({uri:F(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;return"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0")),async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(e=>e.json());return await $({gatewayUrls:e,uri:F(n)})}catch{throw new M({uri:t})}}({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):$({uri:n,gatewayUrls:t})}(e,{record:c,gatewayUrls:r})}catch{return null}}(e,t),getEnsName:t=>async function(e,t){const{address:n,blockNumber:r,blockTag:i,coinType:a=60n,gatewayUrls:s,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,f.M)({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const t={address:u,abi:l.oX,args:[n,a,s??[g.J]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},o=(0,k.T)(e,I.J,"readContract"),[c]=await o(t);return c||null}catch(e){if(o)throw e;if(m(e))return null;throw e}}(e,t),getEnsResolver:t=>async function(e,t){const{blockNumber:n,blockTag:r,name:i}=t,{chain:a}=e,s=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,f.M)({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),o=a?.ensTlds;if(o&&!o.some(e=>i.endsWith(e)))throw new Error(`${i} is not a valid ENS TLD (${o?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await(0,k.T)(e,I.J,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,h.nj)(C(i))],blockNumber:n,blockTag:r});return c}(e,t),getEnsText:t=>z(e,t),getFeeHistory:t=>async function(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const a="bigint"==typeof n?(0,h.cK)(n):void 0;return{baseFeePerGas:(s=await e.request({method:"eth_feeHistory",params:[(0,h.cK)(t),a||r,i]},{dedupe:Boolean(a)})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:s.gasUsedRatio,oldestBlock:BigInt(s.oldestBlock),reward:s.reward?.map(e=>e.map(e=>BigInt(e)))};var s}(e,t),estimateFeesPerGas:t=>(0,de._)(e,t),getFilterChanges:e=>Me(0,e),getFilterLogs:e=>async function(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>(0,Ce.e)(e));return t.abi?_e({abi:t.abi,logs:r,strict:n}):r}(0,e),getGasPrice:()=>(0,Re.L)(e),getLogs:t=>ke(e,t),getProof:t=>async function(e,{address:t,blockNumber:n,blockTag:r,storageKeys:i}){const a=r??"latest",s=void 0!==n?(0,h.cK)(n):void 0;return o=await e.request({method:"eth_getProof",params:[t,i,s||a]}),{...o,balance:o.balance?BigInt(o.balance):void 0,nonce:o.nonce?(0,ye.ME)(o.nonce):void 0,storageProof:o.storageProof?(c=o.storageProof,c.map(e=>({...e,value:BigInt(e.value)}))):void 0};var o,c}(e,t),estimateMaxPriorityFeePerGas:t=>(0,fe.b)(e,t),fillTransaction:t=>(0,pe.a)(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:i}){const a=void 0!==n?(0,h.cK)(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,a||r]})}(e,t),getTransaction:t=>(0,Ne.x)(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:n}){const[r,i]=await Promise.all([(0,k.T)(e,be.G,"getBlockNumber")({}),t?(0,k.T)(e,Ne.x,"getTransaction")({hash:t}):void 0]),a=n?.blockNumber||i?.blockNumber;return a?r-a+1n:0n}(e,t),getTransactionCount:t=>(0,Le.y)(e,t),getTransactionReceipt:t=>(0,De.h)(e,t),multicall:t=>async function(e,t){const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:a,blockOverrides:s,blockTag:o,stateOverride:c}=t,p=t.contracts,{batchSize:h=t.batchSize??1024,deployless:m=t.deployless??!1}="object"==typeof e.batch?.multicall?e.batch.multicall:{},g=(()=>{if(t.multicallAddress)return t.multicallAddress;if(m)return null;if(e.chain)return(0,f.M)({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),w=[[]];let v=0,E=0;for(let e=0;e<p.length;e++){const{abi:t,address:r,args:a,functionName:s}=p[e];try{const e=(0,d.p)({abi:t,args:a,functionName:s});E+=(e.length-2)/2,h>0&&E>h&&w[v].length>0&&(v++,E=(e.length-2)/2,w[v]=[]),w[v]=[...w[v],{allowFailure:!0,callData:e,target:r}]}catch(e){const o=(0,le.j)(e,{abi:t,address:r,args:a,docsPath:"/docs/contract/multicall",functionName:s,sender:n});if(!i)throw o;w[v]=[...w[v],{allowFailure:!0,callData:"0x",target:r}]}}const x=await Promise.allSettled(w.map(t=>(0,k.T)(e,I.J,"readContract")({...null===g?{code:Be.Ez}:{address:g},abi:l.v2,account:n,args:[t],authorizationList:r,blockNumber:a,blockOverrides:s,blockTag:o,functionName:"aggregate3",stateOverride:c}))),S=[];for(let e=0;e<x.length;e++){const t=x[e];if("rejected"===t.status){if(!i)throw t.reason;for(let n=0;n<w[e].length;n++)S.push({status:"failure",error:t.reason,result:void 0});continue}const n=t.value;for(let t=0;t<n.length;t++){const{returnData:r,success:a}=n[t],{callData:s}=w[e][t],{abi:o,address:c,functionName:l,args:d}=p[S.length];try{if("0x"===s)throw new Z.O;if(!a)throw new y.$S({data:r});const e=(0,u.e)({abi:o,args:d,data:r,functionName:l});S.push(i?{result:e,status:"success"}:e)}catch(e){const t=(0,le.j)(e,{abi:o,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:l});if(!i)throw t;S.push({error:t,result:void 0,status:"failure"})}}}if(S.length!==p.length)throw new b.C("multicall results mismatch");return S}(e,t),prepareTransactionRequest:t=>(0,Jn.ft)(e,t),readContract:t=>(0,I.J)(e,t),sendRawTransaction:t=>(0,Zn.L)(e,t),sendRawTransactionSync:t=>(0,Xn.s)(e,t),simulate:t=>He(e,t),simulateBlocks:t=>He(e,t),simulateCalls:t=>async function(e,t){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:a,traceAssetChanges:s,traceTransfers:o,validation:c}=t,l=t.account?(0,q.J)(t.account):void 0;if(s&&!l)throw new b.C("`account` is required when `traceAssetChanges` is true");const u=l?function(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return[ln(t),n]}return e})(),{bytecode:r,args:i}=n;return Ze.xW(r,t.inputs?.length&&i?.length?Xt(t.inputs,i):"0x")}(It("constructor(bytes, bytes)"),{bytecode:Be.LX,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",un(dn("function getBalance(address)"),[l.address])]}):void 0,f=s?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;const{accessList:n}=await Y(e,{account:l.address,...t,data:t.abi?(0,d.p)(t):t.data});return n.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],p=await He(e,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:u}],stateOverrides:a},{calls:f.map((e,t)=>({abi:[dn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:e,from:pn.Xd,nonce:t})),stateOverrides:[{address:pn.Xd,nonce:0}]}]:[],{calls:[...i,{}].map(e=>({...e,from:l?.address})),stateOverrides:a},...s?[{calls:[{data:u}]},{calls:f.map((e,t)=>({abi:[dn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:e,from:pn.Xd,nonce:t})),stateOverrides:[{address:pn.Xd,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[dn("function decimals() returns (uint256)")],functionName:"decimals",from:pn.Xd,nonce:t})),stateOverrides:[{address:pn.Xd,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[dn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:pn.Xd,nonce:t})),stateOverrides:[{address:pn.Xd,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[dn("function symbol() returns (string)")],functionName:"symbol",from:pn.Xd,nonce:t})),stateOverrides:[{address:pn.Xd,nonce:0}]}]:[]],traceTransfers:o,validation:c}),h=s?p[2]:p[0],[y,m,,g,w,v,E,x]=s?p:[],{calls:S,...T}=h,A=S.slice(0,-1)??[],_=[...y?.calls??[],...m?.calls??[]].map(e=>"success"===e.status?(0,ye.uU)(e.data):null),C=[...g?.calls??[],...w?.calls??[]].map(e=>"success"===e.status?(0,ye.uU)(e.data):null),k=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),I=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),P=(E?.calls??[]).map(e=>"success"===e.status?e.result:null),O=[];for(const[e,t]of C.entries()){const n=_[e];if("bigint"!=typeof t)continue;if("bigint"!=typeof n)continue;const r=k[e-1],i=I[e-1],a=P[e-1],s=(()=>0===e?{address:pn.m8,decimals:18,symbol:"ETH"}:{address:f[e-1],decimals:a||r?Number(r??1):void 0,symbol:i??void 0})();O.some(e=>e.token.address===s.address)||O.push({token:s,value:{pre:n,post:t,diff:t-n}})}return{assetChanges:O,block:T,results:A}}(e,t),simulateContract:t=>(0,hn.v)(e,t),verifyHash:t=>Bn(e,t),verifyMessage:t=>async function(e,{address:t,message:n,factory:r,factoryData:i,signature:a,...s}){const o=(0,Un.A)(n);return(0,k.T)(e,Bn,"verifyHash")({address:t,factory:r,factoryData:i,hash:o,signature:a,...s})}(e,t),verifySiweMessage:t=>async function(e,t){const{address:n,domain:r,message:i,nonce:a,scheme:s,signature:o,time:c=new Date,...l}=t,u=function(e){const{scheme:t,statement:n,...r}=e.match(Vn)?.groups??{},{chainId:i,expirationTime:a,issuedAt:s,notBefore:o,requestId:c,...l}=e.match(Gn)?.groups??{},u=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...a?{expirationTime:new Date(a)}:{},...s?{issuedAt:new Date(s)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}(i);if(!u.address)return!1;if(!function(e){const{address:t,domain:n,message:r,nonce:i,scheme:a,time:s=new Date}=e;if(n&&r.domain!==n)return!1;if(i&&r.nonce!==i)return!1;if(a&&r.scheme!==a)return!1;if(r.expirationTime&&s>=r.expirationTime)return!1;if(r.notBefore&&s<r.notBefore)return!1;try{if(!r.address)return!1;if(!(0,Yn.P)(r.address,{strict:!1}))return!1;if(t&&!(0,we.h)(r.address,t))return!1}catch{return!1}return!0}({address:n,domain:r,message:u,nonce:a,scheme:s,time:c}))return!1;const d=(0,Un.A)(i);return Bn(e,{address:u.address,hash:d,signature:o,...l})}(e,t),verifyTypedData:t=>async function(e,t){const{address:n,factory:r,factoryData:i,signature:a,message:s,primaryType:o,types:c,domain:l,...u}=t,d=(0,Fn.Zh)({message:s,primaryType:o,types:c,domain:l});return(0,k.T)(e,Bn,"verifyHash")({address:n,factory:r,factoryData:i,hash:d,signature:a,...u})}(e,t),uninstallFilter:e=>bn(0,e),waitForTransactionReceipt:t=>(0,$n.n)(e,t),watchBlocks:t=>function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:a,includeTransactions:s,poll:o,pollingInterval:c=e.pollingInterval}){const l=void 0!==o?o:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),u=s??!1;let d;return l?(()=>{const s=(0,Kn.A)(["watchBlocks",e.uid,t,n,r,u,c]);return(0,Hn.lB)(s,{onBlock:i,onError:a},i=>(0,qn.w)(async()=>{try{const r=await(0,k.T)(e,he.g,"getBlock")({blockTag:t,includeTransactions:u});if(null!==r.number&&null!=d?.number){if(r.number===d.number)return;if(r.number-d.number>1&&n)for(let t=d?.number+1n;t<r.number;t++){const n=await(0,k.T)(e,he.g,"getBlock")({blockNumber:t,includeTransactions:u});i.onBlock(n,d),d=n}}(null==d?.number||"pending"===t&&null==r?.number||null!==r.number&&r.number>d.number)&&(i.onBlock(r,d),d=r)}catch(e){i.onError?.(e)}},{emitOnBegin:r,interval:c}))})():(()=>{let n=!0,s=!0,o=()=>n=!1;return(async()=>{try{r&&(0,k.T)(e,he.g,"getBlock")({blockTag:t,includeTransactions:u}).then(e=>{n&&s&&(i(e,void 0),s=!1)}).catch(a);const c=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:l}=await c.subscribe({params:["newHeads"],async onData(t){if(!n)return;const r=await(0,k.T)(e,he.g,"getBlock")({blockNumber:t.result?.number,includeTransactions:u}).catch(()=>{});n&&(i(r,d),s=!1,d=r)},onError(e){a?.(e)}});o=l,n||o()}catch(e){a?.(e)}})(),()=>o()})()}(e,t),watchBlockNumber:t=>(0,zn.q)(e,t),watchContractEvent:t=>function(e,t){const{abi:n,address:r,args:i,batch:a=!0,eventName:s,fromBlock:o,onError:c,onLogs:l,poll:u,pollingInterval:d=e.pollingInterval,strict:f}=t;return(void 0!==u?u:"bigint"==typeof o||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{const t=f??!1,u=(0,Kn.A)(["watchContractEvent",r,i,a,e.uid,s,d,t,o]);return(0,Hn.lB)(u,{onLogs:l,onError:c},c=>{let l,u;void 0!==o&&(l=o-1n);let f=!1;const p=(0,qn.w)(async()=>{if(f)try{let o;if(u)o=await(0,k.T)(e,Me,"getFilterChanges")({filter:u});else{const a=await(0,k.T)(e,be.G,"getBlockNumber")({});o=l&&l<a?await(0,k.T)(e,Ie,"getContractEvents")({abi:n,address:r,args:i,eventName:s,fromBlock:l+1n,toBlock:a,strict:t}):[],l=a}if(0===o.length)return;if(a)c.onLogs(o);else for(const e of o)c.onLogs([e])}catch(e){u&&e instanceof Wn.Di&&(f=!1),c.onError?.(e)}else{try{u=await(0,k.T)(e,se,"createContractEventFilter")({abi:n,address:r,args:i,eventName:s,strict:t,fromBlock:o})}catch{}f=!0}},{emitOnBegin:!0,interval:d});return async()=>{u&&await(0,k.T)(e,bn,"uninstallFilter")({filter:u}),p()}})})():(()=>{const t=f??!1,o=(0,Kn.A)(["watchContractEvent",r,i,a,e.uid,s,d,t]);let u=!0,p=()=>u=!1;return(0,Hn.lB)(o,{onLogs:l,onError:c},t=>((async()=>{try{const a=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),o=s?ie({abi:n,eventName:s,args:i}):[],{unsubscribe:c}=await a.subscribe({params:["logs",{address:r,topics:o}],onData(e){if(!u)return;const r=e.result;try{const{eventName:e,args:i}=Te({abi:n,data:r.data,topics:r.topics,strict:f}),a=(0,Ce.e)(r,{args:i,eventName:e});t.onLogs([a])}catch(e){let n,i;if(e instanceof Z.fo||e instanceof Z.l3){if(f)return;n=e.abiItem.name,i=e.abiItem.inputs?.some(e=>!("name"in e&&e.name))}const a=(0,Ce.e)(r,{args:i?[]:{},eventName:n});t.onLogs([a])}},onError(e){t.onError?.(e)}});p=c,u||p()}catch(e){c?.(e)}})(),()=>p()))})()}(e,t),watchEvent:t=>function(e,{address:t,args:n,batch:r=!0,event:i,events:a,fromBlock:s,onError:o,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:d}){const f=void 0!==l?l:"bigint"==typeof s||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),p=d??!1;return f?(()=>{const l=(0,Kn.A)(["watchEvent",t,n,r,e.uid,i,u,s]);return(0,Hn.lB)(l,{onLogs:c,onError:o},o=>{let c,l;void 0!==s&&(c=s-1n);let d=!1;const f=(0,qn.w)(async()=>{if(d)try{let s;if(l)s=await(0,k.T)(e,Me,"getFilterChanges")({filter:l});else{const r=await(0,k.T)(e,be.G,"getBlockNumber")({});s=c&&c!==r?await(0,k.T)(e,ke,"getLogs")({address:t,args:n,event:i,events:a,fromBlock:c+1n,toBlock:r}):[],c=r}if(0===s.length)return;if(r)o.onLogs(s);else for(const e of s)o.onLogs([e])}catch(e){l&&e instanceof Wn.Di&&(d=!1),o.onError?.(e)}else{try{l=await(0,k.T)(e,oe,"createEventFilter")({address:t,args:n,event:i,events:a,strict:p,fromBlock:s})}catch{}d=!0}},{emitOnBegin:!0,interval:u});return async()=>{l&&await(0,k.T)(e,bn,"uninstallFilter")({filter:l}),f()}})})():(()=>{let r=!0,s=()=>r=!1;return(async()=>{try{const l=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),u=a??(i?[i]:void 0);let f=[];if(u){const e=u.flatMap(e=>ie({abi:[e],eventName:e.name,args:n}));f=[e],i&&(f=f[0])}const{unsubscribe:h}=await l.subscribe({params:["logs",{address:t,topics:f}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=Te({abi:u??[],data:t.data,topics:t.topics,strict:p}),r=(0,Ce.e)(t,{args:n,eventName:e});c([r])}catch(e){let n,r;if(e instanceof Z.fo||e instanceof Z.l3){if(d)return;n=e.abiItem.name,r=e.abiItem.inputs?.some(e=>!("name"in e&&e.name))}const i=(0,Ce.e)(t,{args:r?[]:{},eventName:n});c([i])}},onError(e){o?.(e)}});s=h,r||s()}catch(e){o?.(e)}})(),()=>s()})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:n,onTransactions:r,poll:i,pollingInterval:a=e.pollingInterval}){return(void 0!==i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?(()=>{const i=(0,Kn.A)(["watchPendingTransactions",e.uid,t,a]);return(0,Hn.lB)(i,{onTransactions:r,onError:n},n=>{let r;const i=(0,qn.w)(async()=>{try{if(!r)try{return void(r=await(0,k.T)(e,ce,"createPendingTransactionFilter")({}))}catch(e){throw i(),e}const a=await(0,k.T)(e,Me,"getFilterChanges")({filter:r});if(0===a.length)return;if(t)n.onTransactions(a);else for(const e of a)n.onTransactions([e])}catch(e){n.onError?.(e)}},{emitOnBegin:!0,interval:a});return async()=>{r&&await(0,k.T)(e,bn,"uninstallFilter")({filter:r}),i()}})})():(()=>{let t=!0,i=()=>t=!1;return(async()=>{try{const{unsubscribe:a}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});i=a,t||i()}catch(e){n?.(e)}})(),()=>i()})()}(e,t)}}var er=n(38820);class tr extends b.C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}var nr=n(11368);function rr(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ir=rr();var ar=n(46481);function sr(e,t={}){const{batch:n,fetchFn:r,fetchOptions:i,key:a="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=t;return({chain:f,retryCount:p,timeout:h})=>{const{batchSize:b=1e3,wait:y=0}="object"==typeof n?n:{},m=t.retryCount??p,g=h??t.timeout??1e4,w=e||f?.rpcUrls.default.http[0];if(!w)throw new tr;const v=function(e,t={}){return{async request(n){const{body:r,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:s=t.onResponse,timeout:o=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:u,signal:d}=c;try{const t=await function(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,a)=>{(async()=>{let s;try{const o=new AbortController;n>0&&(s=setTimeout(()=>{r?o.abort():a(t)},n)),i(await e({signal:o?.signal||null}))}catch(e){"AbortError"===e?.name&&a(t),a(e)}finally{clearTimeout(s)}})()})}(async({signal:t})=>{const n={...c,body:Array.isArray(r)?(0,Kn.A)(r.map(e=>({jsonrpc:"2.0",id:e.id??ir.take(),...e}))):(0,Kn.A)({jsonrpc:"2.0",id:r.id??ir.take(),...r}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:d||(o>0?t:null)},s=new Request(e,n),f=await(a?.(s,n))??{...n,url:e};return await i(f.url??e,f)},{errorInstance:new er.MU({body:r,url:e}),timeout:o,signal:!0});let n;if(s&&await s(t),t.headers.get("Content-Type")?.startsWith("application/json"))n=await t.json();else{n=await t.text();try{n=JSON.parse(n||"{}")}catch(e){if(t.ok)throw e;n={error:n}}}if(!t.ok)throw new er.Ci({body:r,details:(0,Kn.A)(n.error)||t.statusText,headers:t.headers,status:t.status,url:e});return n}catch(t){if(t instanceof er.Ci)throw t;if(t instanceof er.MU)throw t;throw new er.Ci({body:r,cause:t,url:e})}}}}(w,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:g});return(0,ar.o)({key:a,methods:s,name:o,async request({method:e,params:t}){const r={method:e,params:t},{schedule:i}=(0,nr.u)({id:w,wait:y,shouldSplitBatch:e=>e.length>b,fn:e=>v.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:a,result:s}]=await(async e=>n?i(e):[await v.request({body:e})])(r);if(d)return{error:a,result:s};if(a)throw new er.J8({body:r,error:a,url:w});return s},retryCount:m,retryDelay:u,timeout:g,type:"http"},{fetchOptions:i,url:w})}}var or=n(42566),cr=n(30638),lr=n(63577);function ur(e){const t={};var n;return void 0!==e.callData&&(t.callData=e.callData),void 0!==e.callGasLimit&&(t.callGasLimit=(0,h.cK)(e.callGasLimit)),void 0!==e.factory&&(t.factory=e.factory),void 0!==e.factoryData&&(t.factoryData=e.factoryData),void 0!==e.initCode&&(t.initCode=e.initCode),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=(0,h.cK)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,h.cK)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=(0,h.cK)(e.nonce)),void 0!==e.paymaster&&(t.paymaster=e.paymaster),void 0!==e.paymasterAndData&&(t.paymasterAndData=e.paymasterAndData||"0x"),void 0!==e.paymasterData&&(t.paymasterData=e.paymasterData),void 0!==e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=(0,h.cK)(e.paymasterPostOpGasLimit)),void 0!==e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=(0,h.cK)(e.paymasterVerificationGasLimit)),void 0!==e.preVerificationGas&&(t.preVerificationGas=(0,h.cK)(e.preVerificationGas)),void 0!==e.sender&&(t.sender=e.sender),void 0!==e.signature&&(t.signature=e.signature),void 0!==e.verificationGasLimit&&(t.verificationGasLimit=(0,h.cK)(e.verificationGasLimit)),void 0!==e.authorization&&(t.eip7702Auth={address:(n=e.authorization).address,chainId:(0,h.cK)(n.chainId),nonce:(0,h.cK)(n.nonce),r:n.r?(0,h.cK)(BigInt(n.r),{size:32}):(0,lr.eV)("0x",{size:32}),s:n.s?(0,h.cK)(BigInt(n.s),{size:32}):(0,lr.eV)("0x",{size:32}),yParity:n.yParity?(0,h.cK)(n.yParity,{size:1}):(0,lr.eV)("0x",{size:32})}),t}async function dr(e,t){const{chainId:n,entryPointAddress:r,context:i,...a}=t,s=ur(a),{paymasterPostOpGasLimit:o,paymasterVerificationGasLimit:c,...l}=await e.request({method:"pm_getPaymasterData",params:[{...s,callGasLimit:s.callGasLimit??"0x0",verificationGasLimit:s.verificationGasLimit??"0x0",preVerificationGas:s.preVerificationGas??"0x0"},r,(0,h.cK)(n),i]});return{...l,...o&&{paymasterPostOpGasLimit:(0,ye.uU)(o)},...c&&{paymasterVerificationGasLimit:(0,ye.uU)(c)}}}async function fr(e,t){const{chainId:n,entryPointAddress:r,context:i,...a}=t,s=ur(a),{paymasterPostOpGasLimit:o,paymasterVerificationGasLimit:c,...l}=await e.request({method:"pm_getPaymasterStubData",params:[{...s,callGasLimit:s.callGasLimit??"0x0",verificationGasLimit:s.verificationGasLimit??"0x0",preVerificationGas:s.preVerificationGas??"0x0"},r,(0,h.cK)(n),i]});return{...l,...o&&{paymasterPostOpGasLimit:(0,ye.uU)(o)},...c&&{paymasterVerificationGasLimit:(0,ye.uU)(c)}}}function pr(e){return{getPaymasterData:t=>dr(e,t),getPaymasterStubData:t=>fr(e,t)}}var hr=n(94102),br=n(16395);class yr extends b.C{constructor({cause:e}){super("Smart Account is not deployed.",{cause:e,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}}Object.defineProperty(yr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});class mr extends b.C{constructor({cause:e,data:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}Object.defineProperty(mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521}),Object.defineProperty(mr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class gr extends b.C{constructor({cause:e}){super("Failed to send funds to beneficiary.",{cause:e,name:"FailedToSendToBeneficiaryError"})}}Object.defineProperty(gr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});class wr extends b.C{constructor({cause:e}){super("Gas value overflowed.",{cause:e,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}}Object.defineProperty(wr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});class vr extends b.C{constructor({cause:e}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:e,name:"HandleOpsOutOfGasError"})}}Object.defineProperty(vr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});class Er extends b.C{constructor({cause:e,factory:t,factoryData:n,initCode:r}){super("Failed to simulate deployment for Smart Account.",{cause:e,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)","- Smart Account deployment execution reverted with an error\n",t&&`factory: ${t}`,n&&`factoryData: ${n}`,r&&`initCode: ${r}`].filter(Boolean),name:"InitCodeFailedError"})}}Object.defineProperty(Er,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});class xr extends b.C{constructor({cause:e,factory:t,factoryData:n,initCode:r}){super("Smart Account initialization implementation did not create an account.",{cause:e,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid","- Smart Account initialization implementation is incorrect\n",t&&`factory: ${t}`,n&&`factoryData: ${n}`,r&&`initCode: ${r}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}}Object.defineProperty(xr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});class Sr extends b.C{constructor({cause:e,factory:t,factoryData:n,initCode:r,sender:i}){super("Smart Account initialization implementation does not return the expected sender.",{cause:e,metaMessages:["This could arise when:","Smart Account initialization implementation does not return a sender address\n",t&&`factory: ${t}`,n&&`factoryData: ${n}`,r&&`initCode: ${r}`,i&&`sender: ${i}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}}Object.defineProperty(Sr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});class Tr extends b.C{constructor({cause:e}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:e,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}}Object.defineProperty(Tr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});class Ar extends b.C{constructor({cause:e}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:e,name:"InternalCallOnlyError"})}}Object.defineProperty(Ar,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});class _r extends b.C{constructor({cause:e}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:e,name:"InvalidAggregatorError"})}}Object.defineProperty(_r,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});class Cr extends b.C{constructor({cause:e,nonce:t}){super("Invalid Smart Account nonce used for User Operation.",{cause:e,metaMessages:[t&&`nonce: ${t}`].filter(Boolean),name:"InvalidAccountNonceError"})}}Object.defineProperty(Cr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});class kr extends b.C{constructor({cause:e}){super("Bundler has not set a beneficiary address.",{cause:e,name:"InvalidBeneficiaryError"})}}Object.defineProperty(kr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});class Ir extends b.C{constructor({cause:e}){super("Invalid fields set on User Operation.",{cause:e,name:"InvalidFieldsError"})}}Object.defineProperty(Ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Pr extends b.C{constructor({cause:e,paymasterAndData:t}){super("Paymaster properties provided are invalid.",{cause:e,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",t&&`paymasterAndData: ${t}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}}Object.defineProperty(Pr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});class Or extends b.C{constructor({cause:e}){super("Paymaster deposit for the User Operation is too low.",{cause:e,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}}Object.defineProperty(Or,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508}),Object.defineProperty(Or,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});class Mr extends b.C{constructor({cause:e}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:e,name:"PaymasterFunctionRevertedError"})}}Object.defineProperty(Mr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});class Rr extends b.C{constructor({cause:e}){super("The Paymaster contract has not been deployed.",{cause:e,name:"PaymasterNotDeployedError"})}}Object.defineProperty(Rr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});class Nr extends b.C{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterRateLimitError"})}}Object.defineProperty(Nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});class Lr extends b.C{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterStakeTooLowError"})}}Object.defineProperty(Lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});class Dr extends b.C{constructor({cause:e}){super("Paymaster `postOp` function reverted.",{cause:e,name:"PaymasterPostOpFunctionRevertedError"})}}Object.defineProperty(Dr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});class Br extends b.C{constructor({cause:e,factory:t,factoryData:n,initCode:r}){super("Smart Account has already been deployed.",{cause:e,metaMessages:["Remove the following properties and try again:",t&&"`factory`",n&&"`factoryData`",r&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}}Object.defineProperty(Br,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});class jr extends b.C{constructor({cause:e}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:e,name:"SignatureCheckFailedError"})}}Object.defineProperty(jr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});class Ur extends b.C{constructor({cause:e}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:e,name:"SmartAccountFunctionRevertedError"})}}Object.defineProperty(Ur,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});class Fr extends b.C{constructor({cause:e}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:e,name:"UnsupportedSignatureAggregatorError"})}}Object.defineProperty(Fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});class $r extends b.C{constructor({cause:e}){super("User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}}Object.defineProperty($r,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});class zr extends b.C{constructor({cause:e}){super("Paymaster for User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}}Object.defineProperty(zr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});class Hr extends b.C{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}}Object.defineProperty(Hr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});class qr extends b.C{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}}Object.defineProperty(qr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});class Kr extends b.C{constructor({cause:e}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:e,name:"UserOperationRejectedByEntryPointError"})}}Object.defineProperty(Kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});class Wr extends b.C{constructor({cause:e}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:e,name:"UserOperationRejectedByPaymasterError"})}}Object.defineProperty(Wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});class Vr extends b.C{constructor({cause:e}){super("User Operation rejected with op code validation error.",{cause:e,name:"UserOperationRejectedByOpCodeError"})}}Object.defineProperty(Vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});class Gr extends b.C{constructor({cause:e}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:e,name:"UserOperationOutOfTimeRangeError"})}}Object.defineProperty(Gr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});class Yr extends b.C{constructor({cause:e}){super(`An error occurred while executing user operation: ${e?.shortMessage}`,{cause:e,name:"UnknownBundlerError"})}}class Jr extends b.C{constructor({cause:e}){super("User Operation verification gas limit exceeded.",{cause:e,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}}Object.defineProperty(Jr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});class Zr extends b.C{constructor({cause:e}){super("User Operation verification gas limit is too low.",{cause:e,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}}Object.defineProperty(Zr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/});var Xr=n(50761),Qr=n(75255);class ei extends b.C{constructor(e,{callData:t,callGasLimit:n,docsPath:r,factory:i,factoryData:a,initCode:s,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:l,paymaster:u,paymasterAndData:d,paymasterData:f,paymasterPostOpGasLimit:p,paymasterVerificationGasLimit:h,preVerificationGas:b,sender:y,signature:m,verificationGasLimit:g}){const w=(0,Xr.aO)({callData:t,callGasLimit:n,factory:i,factoryData:a,initCode:s,maxFeePerGas:void 0!==o&&`${(0,Qr.Q)(o)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,Qr.Q)(c)} gwei`,nonce:l,paymaster:u,paymasterAndData:d,paymasterData:f,paymasterPostOpGasLimit:p,paymasterVerificationGasLimit:h,preVerificationGas:b,sender:y,signature:m,verificationGasLimit:g});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ti extends b.C{constructor({hash:e}){super(`User Operation receipt with hash "${e}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}}class ni extends b.C{constructor({hash:e}){super(`User Operation with hash "${e}" could not be found.`,{name:"UserOperationNotFoundError"})}}class ri extends b.C{constructor({hash:e}){super(`Timed out while waiting for User Operation with hash "${e}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}}const ii=[mr,Ir,Or,Nr,Lr,jr,Fr,Gr,Kr,Wr,Vr];function ai(e,{calls:t,docsPath:n,...r}){const i=(()=>{const n=function(e,t){const n=(e.details||"").toLowerCase();if(yr.message.test(n))return new yr({cause:e});if(gr.message.test(n))return new gr({cause:e});if(wr.message.test(n))return new wr({cause:e});if(vr.message.test(n))return new vr({cause:e});if(Er.message.test(n))return new Er({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(xr.message.test(n))return new xr({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(Sr.message.test(n))return new Sr({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode,sender:t.sender});if(Tr.message.test(n))return new Tr({cause:e});if(Ar.message.test(n))return new Ar({cause:e});if(Cr.message.test(n))return new Cr({cause:e,nonce:t.nonce});if(_r.message.test(n))return new _r({cause:e});if(kr.message.test(n))return new kr({cause:e});if(Pr.message.test(n))return new Pr({cause:e});if(Or.message.test(n))return new Or({cause:e});if(Mr.message.test(n))return new Mr({cause:e});if(Rr.message.test(n))return new Rr({cause:e});if(Dr.message.test(n))return new Dr({cause:e});if(Ur.message.test(n))return new Ur({cause:e});if(Br.message.test(n))return new Br({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if($r.message.test(n))return new $r({cause:e});if(zr.message.test(n))return new zr({cause:e});if(qr.message.test(n))return new qr({cause:e});if(Hr.message.test(n))return new Hr({cause:e});if(Jr.message.test(n))return new Jr({cause:e});if(Zr.message.test(n))return new Zr({cause:e});const r=e.walk(e=>ii.some(t=>t.code===e.code));if(r){if(r.code===mr.code)return new mr({cause:e,data:r.data,message:r.details});if(r.code===Ir.code)return new Ir({cause:e});if(r.code===Or.code)return new Or({cause:e});if(r.code===Nr.code)return new Nr({cause:e});if(r.code===Lr.code)return new Lr({cause:e});if(r.code===jr.code)return new jr({cause:e});if(r.code===Fr.code)return new Fr({cause:e});if(r.code===Gr.code)return new Gr({cause:e});if(r.code===Kr.code)return new Kr({cause:e});if(r.code===Wr.code)return new Wr({cause:e});if(r.code===Vr.code)return new Vr({cause:e})}return new Yr({cause:e})}(e,r);if(t&&n instanceof mr){const e=function(e){let t;return e.walk(e=>{const n=e;if("string"==typeof n.data||"string"==typeof n.data?.revertData||!(n instanceof b.C)&&"string"==typeof n.message){const e=(n.data?.revertData||n.data||n.message).match?.(/(0x[A-Za-z0-9]*)/);if(e)return t=e[1],!0}return!1}),t}(n),r=t?.filter(e=>e.abi);if(e&&r.length>0)return function(e){const{calls:t,revertData:n}=e,{abi:r,functionName:i,args:a,to:s}=(()=>{const e=t?.filter(e=>Boolean(e.abi));if(1===e.length)return e[0];const r=e.filter(e=>{try{return Boolean((0,br.W)({abi:e.abi,data:n}))}catch{return!1}});return 1===r.length?r[0]:{abi:[],functionName:e.reduce((e,t)=>`${e?`${e} | `:""}${t.functionName}`,""),args:void 0,to:void 0}})(),o="0x"===n?new y.rR({functionName:i}):new y.M({abi:r,data:n,functionName:i});return new y.bG(o,{abi:r,args:a,contractAddress:s,functionName:i})}({calls:r,revertData:e})}return n})();return new ei(i,{docsPath:n,...r})}var si=n(85723);const oi=["factory","fees","gas","paymaster","nonce","signature","authorization"];async function ci(e,t){const n=t,{account:r=e.account,parameters:i=oi,stateOverride:a}=n;if(!r)throw new hr.T;const s=(0,q.J)(r),o=e,c=n.paymaster??o?.paymaster,l="string"==typeof c?c:void 0,{getPaymasterStubData:u,getPaymasterData:f}=(()=>{if(!0===c)return{getPaymasterStubData:e=>(0,k.T)(o,fr,"getPaymasterStubData")(e),getPaymasterData:e=>(0,k.T)(o,dr,"getPaymasterData")(e)};if("object"==typeof c){const{getPaymasterStubData:e,getPaymasterData:t}=c;return{getPaymasterStubData:t&&e?e:t,getPaymasterData:t&&e?t:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),p=n.paymasterContext?n.paymasterContext:o?.paymasterContext;let h={...n,paymaster:l,sender:s.address};const[b,y,m,g,v]=await Promise.all([(async()=>n.calls?s.encodeCalls(n.calls.map(e=>{const t=e;return t.abi?{data:(0,d.p)(t),to:t.to,value:t.value}:t})):n.callData)(),(async()=>{if(!i.includes("factory"))return;if(n.initCode)return{initCode:n.initCode};if(n.factory&&n.factoryData)return{factory:n.factory,factoryData:n.factoryData};const{factory:e,factoryData:t}=await s.getFactoryArgs();return"0.6"===s.entryPoint.version?{initCode:e&&t?(0,w.xW)([e,t]):void 0}:{factory:e,factoryData:t}})(),(async()=>{if(i.includes("fees")){if("bigint"==typeof n.maxFeePerGas&&"bigint"==typeof n.maxPriorityFeePerGas)return h;if(o?.userOperation?.estimateFeesPerGas){const e=await o.userOperation.estimateFeesPerGas({account:s,bundlerClient:o,userOperation:h});return{...h,...e}}try{const t=o.client??e,r=await(0,k.T)(t,de._,"estimateFeesPerGas")({chain:t.chain,type:"eip1559"});return{maxFeePerGas:"bigint"==typeof n.maxFeePerGas?n.maxFeePerGas:BigInt(2n*r.maxFeePerGas),maxPriorityFeePerGas:"bigint"==typeof n.maxPriorityFeePerGas?n.maxPriorityFeePerGas:BigInt(2n*r.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(i.includes("nonce"))return"bigint"==typeof n.nonce?n.nonce:s.getNonce()})(),(async()=>{if(i.includes("authorization")){if("object"==typeof n.authorization)return n.authorization;if(s.authorization&&!await s.isDeployed())return{...await(0,si.h)(s.client,s.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);let E;async function x(){if(E)return E;if(e.chain)return e.chain.id;const t=await(0,k.T)(e,me.T,"getChainId")({});return E=t,E}void 0!==b&&(h.callData=b),void 0!==y&&(h={...h,...y}),void 0!==m&&(h={...h,...m}),void 0!==g&&(h.nonce=g),void 0!==v&&(h.authorization=v),i.includes("signature")&&(void 0!==n.signature?h.signature=n.signature:h.signature=await s.getStubSignature(h)),"0.6"!==s.entryPoint.version||h.initCode||(h.initCode="0x");let S=!1;if(i.includes("paymaster")&&u&&!l&&!n.paymasterAndData){const{isFinal:e=!1,sponsor:t,...n}=await u({chainId:await x(),entryPointAddress:s.entryPoint.address,context:p,...h});S=e,h={...h,...n}}if("0.6"!==s.entryPoint.version||h.paymasterAndData||(h.paymasterAndData="0x"),i.includes("gas")){if(s.userOperation?.estimateGas){const e=await s.userOperation.estimateGas(h);h={...h,...e}}if(void 0===h.callGasLimit||void 0===h.preVerificationGas||void 0===h.verificationGasLimit||h.paymaster&&void 0===h.paymasterPostOpGasLimit||h.paymaster&&void 0===h.paymasterVerificationGasLimit){const e=await(0,k.T)(o,li,"estimateUserOperationGas")({account:s,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:a,...h.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...h});h={...h,callGasLimit:h.callGasLimit??e.callGasLimit,preVerificationGas:h.preVerificationGas??e.preVerificationGas,verificationGasLimit:h.verificationGasLimit??e.verificationGasLimit,paymasterPostOpGasLimit:h.paymasterPostOpGasLimit??e.paymasterPostOpGasLimit,paymasterVerificationGasLimit:h.paymasterVerificationGasLimit??e.paymasterVerificationGasLimit}}}if(i.includes("paymaster")&&f&&!l&&!n.paymasterAndData&&!S){const e=await f({chainId:await x(),entryPointAddress:s.entryPoint.address,context:p,...h});h={...h,...e}}return delete h.calls,delete h.parameters,delete h.paymasterContext,"string"!=typeof h.paymaster&&delete h.paymaster,h}async function li(e,t){const{account:n=e.account,entryPointAddress:r,stateOverride:i}=t;if(!n&&!t.sender)throw new hr.T;const a=n?(0,q.J)(n):void 0,s=(0,ze.yH)(i),o=a?await(0,k.T)(e,ci,"prepareUserOperation")({...t,parameters:["authorization","factory","nonce","paymaster","signature"]}):t;try{const t=[ur(o),r??a?.entryPoint?.address];return function(e){const t={};return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),t}(await e.request({method:"eth_estimateUserOperationGas",params:s?[...t,s]:[...t]}))}catch(e){const n=t.calls;throw ai(e,{...o,...n?{calls:n}:{}})}}function ui(e){const t={...e};return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.maxFeePerGas&&(t.maxFeePerGas=BigInt(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=BigInt(e.maxPriorityFeePerGas)),e.nonce&&(t.nonce=BigInt(e.nonce)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),t}var di=n(70895);async function fi(e,{hash:t}){const n=await e.request({method:"eth_getUserOperationReceipt",params:[t]},{dedupe:!0});if(!n)throw new ti({hash:t});return function(e){const t={...e};return e.actualGasCost&&(t.actualGasCost=BigInt(e.actualGasCost)),e.actualGasUsed&&(t.actualGasUsed=BigInt(e.actualGasUsed)),e.logs&&(t.logs=e.logs.map(e=>(0,Ce.e)(e))),e.receipt&&(t.receipt=(0,di.uL)(t.receipt)),t}(n)}function pi(e){return{estimateUserOperationGas:t=>li(e,t),getChainId:()=>(0,me.T)(e),getSupportedEntryPoints:()=>function(e){return e.request({method:"eth_supportedEntryPoints"})}(e),getUserOperation:t=>async function(e,{hash:t}){const n=await e.request({method:"eth_getUserOperationByHash",params:[t]},{dedupe:!0});if(!n)throw new ni({hash:t});const{blockHash:r,blockNumber:i,entryPoint:a,transactionHash:s,userOperation:o}=n;return{blockHash:r,blockNumber:BigInt(i),entryPoint:a,transactionHash:s,userOperation:ui(o)}}(e,t),getUserOperationReceipt:t=>fi(e,t),prepareUserOperation:t=>ci(e,t),sendUserOperation:t=>async function(e,t){const{account:n=e.account,entryPointAddress:r}=t;if(!n&&!t.sender)throw new hr.T;const i=n?(0,q.J)(n):void 0,a=i?await(0,k.T)(e,ci,"prepareUserOperation")(t):t,s=t.signature||await(i?.signUserOperation?.(a)),o=ur({...a,signature:s});try{return await e.request({method:"eth_sendUserOperation",params:[o,r??i?.entryPoint?.address]},{retryCount:0})}catch(e){const n=t.calls;throw ai(e,{...a,...n?{calls:n}:{},signature:s})}}(e,t),waitForUserOperationReceipt:t=>function(e,t){const{hash:n,pollingInterval:r=e.pollingInterval,retryCount:i,timeout:a=12e4}=t;let s=0;const o=(0,Kn.A)(["waitForUserOperationReceipt",e.uid,n]);return new Promise((t,c)=>{const l=(0,Hn.lB)(o,{resolve:t,reject:c},t=>{const o=e=>{u(),e(),l()},c=a?setTimeout(()=>o(()=>t.reject(new ri({hash:n}))),a):void 0,u=(0,qn.w)(async()=>{i&&s>=i&&(clearTimeout(c),o(()=>t.reject(new ri({hash:n}))));try{const r=await(0,k.T)(e,fi,"getUserOperationReceipt")({hash:n});o(()=>t.resolve(r))}catch(e){const n=e;"UserOperationReceiptNotFoundError"!==n.name&&o(()=>t.reject(n))}finally{clearTimeout(c)}s++},{emitOnBegin:!0,interval:r});return u})})}(e,t)}}var hi=n(34449);function bi(e){return async(t,n,r,i)=>{try{const r=await e.request(t);return n.result=r,i()}catch(e){return i(e)}}}var yi,mi=n(69860),gi=n(96250),wi=n(81632),vi=n(18963),Ei=n(26358);class xi extends wi.D{constructor({config:e,state:t}){super({config:e,state:t}),(0,i.A)(this,"PROVIDER_CHAIN_NAMESPACE",vi.l.EIP155),(0,i.A)(this,"_smartAccount",void 0),(0,i.A)(this,"_publicClient",void 0),(0,i.A)(this,"_bundlerClient",void 0),(0,i.A)(this,"_paymasterClient",void 0),(0,i.A)(this,"_useProviderAsTransport",void 0),this.update({chainId:e.chain.chainId})}get smartAccount(){return this._smartAccount}get bundlerClient(){return this._bundlerClient}get paymasterClient(){return this._paymasterClient}get publicClient(){return this._publicClient}async enable(){if(!this.state.eoaProvider)throw s.P.custom({message:"eoaProvider is not found in state, please pass it",code:4902});return await this.setupProvider(this.state.eoaProvider),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){var t;const{currentChain:n}=this,{chainNamespace:i}=n;if(i!==this.PROVIDER_CHAIN_NAMESPACE)throw Ei.il.incompatibleChainNameSpace("Invalid chain namespace");const l=this.config.smartAccountChainsConfig.find(e=>e.chainId===n.chainId);if(!l)throw Ei.il.invalidProviderConfigError(`Bundler and paymaster config not found for chain ${n.chainId}`);const{bundlerConfig:u,paymasterConfig:d}=l,f=function(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}({id:Number.parseInt(n.chainId,16),name:n.displayName,rpcUrls:{default:{http:[n.rpcTarget],webSocket:[n.wsTarget]}},blockExplorers:n.blockExplorerUrl?{default:{name:"explorer",url:n.blockExplorerUrl}}:void 0,nativeCurrency:{name:n.tickerName,symbol:n.ticker,decimals:n.decimals||18}});this._publicClient=function(e){const{key:t="public",name:n="Public Client"}=e;return(0,c.U)({...e,key:t,name:n,type:"publicClient"}).extend(Qn)}({chain:f,transport:sr(n.rpcTarget)});const[p]=await e.request({method:a.oK.ETH_REQUEST_ACCOUNTS}),h=(0,or.F)({account:p,chain:f,transport:(0,cr.I)(e)});var b;this._smartAccount=await this.config.smartAccountInit.getSmartAccount({walletClient:h,client:this._publicClient}),d&&(this._paymasterClient=function(e){const{key:t="bundler",name:n="Bundler Client",transport:r}=e;return(0,c.U)({...e,key:t,name:n,transport:r,type:"PaymasterClient"}).extend(pr)}((0,r.A)((0,r.A)({},d),{},{transport:this._useProviderAsTransport?(0,cr.I)(e):null!==(b=d.transport)&&void 0!==b?b:sr(d.url)}))),this._bundlerClient=function(e){const{client:t,key:n="bundler",name:r="Bundler Client",paymaster:i,paymasterContext:a,transport:s,userOperation:o}=e;return Object.assign((0,c.U)({...e,chain:e.chain??t?.chain,key:n,name:r,transport:s,type:"bundlerClient"}),{client:t,paymaster:i,paymasterContext:a,userOperation:o}).extend(pi)}((0,r.A)((0,r.A)({},u),{},{account:this.smartAccount,client:this._publicClient,transport:this._useProviderAsTransport?(0,cr.I)(e):null!==(t=u.transport)&&void 0!==t?t:sr(u.url),paymaster:this._paymasterClient}));const y=function({bundlerClient:e,smartAccount:t,chain:n,eoaProvider:i}){const a=(0,or.F)({account:t,chain:n,transport:sr()});return{getAccounts:async e=>{const[n,r]=await Promise.all([t.getAddress(),i.request({method:"eth_accounts"})]);return gi.R.info("smartAccounts",n),gi.R.info("eoaAccounts",r),[n,...r]},getPrivateKey:async e=>{throw s.P.custom({message:"Smart accounts do not have private key",code:4903})},getPublicKey:async e=>{throw s.P.custom({message:"Smart accounts do not have a public key. Use address instead.",code:4903})},processTransaction:async n=>{n.input&&!n.data&&(n.data=(0,mi.VO2)(n.input));const{to:r,value:i,data:a}=n,o={account:t,calls:[{to:r,value:BigInt(i),data:a}]},c=await e.sendUserOperation(o),l=await e.waitForUserOperationReceipt({hash:c});if(!l.success)throw s.P.custom({message:l.reason,code:4905});return l.receipt.transactionHash},processSignTransaction:async n=>{const{to:r,value:i,data:a}=n,s=await e.prepareUserOperation({account:t,calls:[{to:r,value:BigInt(i),data:a}]});return await t.signUserOperation({callData:s.callData,callGasLimit:s.callGasLimit,maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas,nonce:s.nonce,preVerificationGas:s.preVerificationGas,verificationGasLimit:s.verificationGasLimit,signature:s.signature})},processEthSignMessage:async(e,t)=>i.request(t),processPersonalMessage:async(e,n)=>{const r=e.data;return a.signMessage({account:t,message:(0,mi.Lov)(r)?{raw:r}:r})},processTypedMessageV4:async(e,n)=>{try{const n="string"==typeof e.data?JSON.parse(e.data):e.data;return await a.signTypedData({account:t,domain:(0,r.A)((0,r.A)({},n.domain),{},{verifyingContract:n.domain.verifyingContract,salt:n.domain.salt,chainId:Number(n.domain.chainId)}),primaryType:n.primaryType,types:n.types,message:n.message})}catch(e){throw s.P.custom({message:e instanceof Error?e.message:"Failed to sign typed data",code:4905})}}}}({bundlerClient:this._bundlerClient,smartAccount:this._smartAccount,chain:f,eoaProvider:e}),m=new o.WJ,g=await async function({eoaProvider:e,handlers:t}){const[n]=await e.request({method:a.oK.GET_ACCOUNTS});async function i(e,n){n.result=await t.getAccounts(e)}async function o(e,n){if(!t.getPrivateKey)throw s.r.methodNotSupported();n.result=await t.getPrivateKey(e)}async function c(e,n){if(!t.getPublicKey)throw s.r.methodNotSupported();n.result=await t.getPublicKey(e)}return(0,hi.ld)({eth_accounts:(0,hi.jg)(i),eth_requestAccounts:(0,hi.jg)(i),eth_private_key:(0,hi.jg)(o),private_key:(0,hi.jg)(o),eth_public_key:(0,hi.jg)(c),public_key:(0,hi.jg)(c),eth_sendTransaction:(0,hi.jg)(async function(e,n){if(!t.processTransaction)throw s.r.methodNotSupported();const r=e.params[0]||{from:""};r.from=await async function(e,n){if("string"==typeof e&&e.length>0){const r=(await t.getAccounts(n)).map(e=>e.toLowerCase()),i=e.toLowerCase();if(r.includes(i))return i}throw s.r.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}(r.from,e),n.result=t.processTransaction(r,e)}),eth_signTransaction:(0,hi.jg)(async function(e,r){const i=e.params[0]||{from:""};i.from&&(i.from=await async function(e,r){if(e.toLowerCase()===n.toLowerCase())return n;const[i]=await t.getAccounts(r);if(e.toLowerCase()===i.toLowerCase())return n;throw s.r.invalidParams({message:"Invalid parameters: must provide valid sender address."})}(i.from,e)),r.result=await t.processSignTransaction(i,e)}),eth_sign:(0,hi.jg)(async function(e,n){let i=e.params;const a=e.params[2]||{};if(Array.isArray(e.params)){if(2!==e.params.length)throw new Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [address, message]`);const t=e.params;i={from:t[0],data:t[1]}}i=(0,r.A)((0,r.A)({},a),i),n.result=await t.processEthSignMessage(i,e)}),eth_signTypedData_v4:(0,hi.jg)(async function(e,n){if(null==e||!e.params)throw new Error("WalletMiddleware - missing params");let r=e.params;if(Array.isArray(e.params)){if(2!==e.params.length)throw new Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [address, typedData]`);const t=e.params;r={from:t[0],data:t[1]}}n.result=await t.processTypedMessageV4(r,e)}),personal_sign:(0,hi.jg)(async function(e,n){let i=e.params;const a=e.params[2]||{};if(Array.isArray(e.params)){if(!(e.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [message, address]`);const t=e.params;if("object"==typeof t[0]){const{challenge:e,address:n}=t[0];i={from:n,data:e}}else{const e=t[0];i={from:t[1],data:e}}}i=(0,r.A)((0,r.A)({},a),i),n.result=await t.processPersonalMessage(i,e)})})}({eoaProvider:e,handlers:y});m.push(g);const w=bi(e);m.push(w);const v=(0,o.iR)(m);this.updateProviderEngineProxy(v),e.once("chainChanged",e=>{this.update({chainId:e}),this.setupChainSwitchMiddleware(),this.emit("chainChanged",e)})}async updateAccount(e){throw s.P.unsupportedMethod("updateAccount. Please call it on eoaProvider")}async switchChain(e){throw s.P.unsupportedMethod("switchChain. Please call it on eoaProvider")}async lookupNetwork(){throw s.P.unsupportedMethod("lookupNetwork. Please call it on eoaProvider")}async setupChainSwitchMiddleware(){return this.setupProvider(this.state.eoaProvider)}}yi=xi,(0,i.A)(xi,"getProviderInstance",async e=>{const t=new yi({config:e});return t._useProviderAsTransport=e.useProviderAsTransport,await t.setupProvider(e.eoaProvider),t.update({eoaProvider:e.eoaProvider}),t});const Si=async({accountAbstractionConfig:e,chain:t,chains:r,provider:i,useProviderAsTransport:s})=>{let o;const{smartAccountType:c,chains:l}=e,{smartAccountConfig:u}=l.find(e=>e.chainId===t.chainId)||{};switch(c){case a.o0.BICONOMY:{const{BiconomySmartAccount:e}=await Promise.resolve().then(n.bind(n,83279));o=new e(u);break}case a.o0.KERNEL:{const{KernelSmartAccount:e}=await Promise.resolve().then(n.bind(n,83279));o=new e(u);break}case a.o0.NEXUS:{const{NexusSmartAccount:e}=await Promise.resolve().then(n.bind(n,83279));o=new e(u);break}case a.o0.SAFE:{const{SafeSmartAccount:e}=await Promise.resolve().then(n.bind(n,83279));o=new e(u);break}case a.o0.TRUST:{const{TrustSmartAccount:e}=await Promise.resolve().then(n.bind(n,83279));o=new e(u);break}case a.o0.METAMASK:{const{MetamaskSmartAccount:e}=await Promise.resolve().then(n.bind(n,83279));o=new e(u);break}default:throw new Error("Smart account type not supported")}return xi.getProviderInstance({eoaProvider:i,smartAccountInit:o,chain:t,chains:r,smartAccountChainsConfig:l,useProviderAsTransport:s})},Ti=async e=>{const t=new o.WJ,n=await async function({aaProvider:e}){return(0,hi.ld)({eth_accounts:(0,hi.jg)(async function(t,n){const[,r]=await e.request({method:a.oK.GET_ACCOUNTS});n.result=[r]}),eth_requestAccounts:(0,hi.jg)(async function(t,n){const[,r]=await e.request({method:a.oK.ETH_REQUEST_ACCOUNTS});n.result=[r]})})}({aaProvider:e});return t.push(n),t.push(bi(e)),(0,o.iR)(t)}},47026:(e,t,n)=>{"use strict";n.d(t,{aT:()=>a,RS:()=>s});var r=n(30036);const i=r.DO;function a(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,r.aT)(t)}function s(e){return t=>(i(t),e(t))}},47031:e=>{"use strict";const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},47048:(e,t,n)=>{var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=n(93553);if("function"!=typeof a.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return a.randomBytes(e)}}catch(e){}},47403:(e,t,n)=>{"use strict";var r=n(25636).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),s=a.charCodeAt(0);if(255!==t[s])throw new TypeError(a+" is ambiguous");t[s]=i}var o=e.length,c=e.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,a=0;e[n]===c;)i++,n++;for(var s=(e.length-n)*l+1>>>0,u=new Uint8Array(s);n<e.length;){var d=e.charCodeAt(n);if(d>255)return;var f=t[d];if(255===f)return;for(var p=0,h=s-1;(0!==f||p<a)&&-1!==h;h--,p++)f+=o*u[h]>>>0,u[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");a=p,n++}for(var b=s-a;b!==s&&0===u[b];)b++;var y=r.allocUnsafe(i+(s-b));y.fill(0,0,i);for(var m=i;b!==s;)y[m++]=u[b++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,a=0,s=t.length;a!==s&&0===t[a];)a++,n++;for(var l=(s-a)*u+1>>>0,d=new Uint8Array(l);a!==s;){for(var f=t[a],p=0,h=l-1;(0!==f||p<i)&&-1!==h;h--,p++)f+=256*d[h]>>>0,d[h]=f%o>>>0,f=f/o>>>0;if(0!==f)throw new Error("Non-zero carry");i=p,a++}for(var b=l-i;b!==l&&0===d[b];)b++;for(var y=c.repeat(n);b<l;++b)y+=e.charAt(d[b]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},47531:(e,t,n)=>{"use strict";var r=n(82823),i=n(41874).assert;function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=a,a.fromPublic=function(e,t,n){return t instanceof a?t:new a(e,{pub:t,pubEnc:n})},a.fromPrivate=function(e,t,n){return t instanceof a?t:new a(e,{priv:t,privEnc:n})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},a.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},a.prototype.verify=function(e,t,n){return this.ec.verify(e,t,this,void 0,n)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},47544:(e,t,n)=>{"use strict";n.d(t,{offchainLookup:()=>w,offchainLookupSignature:()=>m});var r=n(16067),i=n(40022),a=n(14323),s=n(30476);class o extends a.C{constructor({callbackSelector:e,cause:t,data:n,extraData:r,sender:i,urls:a}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(e=>`    ${(0,s.I)(e)}`)],`  Sender: ${i}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${r}`].flat(),name:"OffchainLookupError"})}}class c extends a.C{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,s.I)(t)}`,`Response: ${(0,i.A)(e)}`],name:"OffchainLookupResponseMalformedError"})}}class l extends a.C{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}var u=n(38820),d=n(16395),f=n(58470),p=n(93606),h=n(30666),b=n(23785),y=n(52687);const m="0x556f1830",g={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function w(e,{blockNumber:t,blockTag:n,data:i,to:a}){const{args:s}=(0,d.W)({data:i,abi:[g]}),[c,u,b,m,w]=s,{ccipRead:E}=e,x=E&&"function"==typeof E?.request?E.request:v;try{if(!(0,p.h)(a,c))throw new l({sender:c,to:a});const i=u.includes(y.J)?await(0,y.X)({data:b,ccipRequest:x}):await x({data:b,sender:c,urls:u}),{data:s}=await(0,r.T)(e,{blockNumber:t,blockTag:n,data:(0,h.xW)([m,(0,f.h)([{type:"bytes"},{type:"bytes"}],[i,w])]),to:a});return s}catch(e){throw new o({callbackSelector:m,cause:e,data:i,extraData:w,sender:c,urls:u})}}async function v({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let a=0;a<n.length;a++){const s=n[a],o=s.includes("{data}")?"GET":"POST",l="POST"===o?{data:e,sender:t}:void 0,d="POST"===o?{"Content-Type":"application/json"}:{};try{const n=await fetch(s.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(l),headers:d,method:o});let a;if(a=n.headers.get("Content-Type")?.startsWith("application/json")?(await n.json()).data:await n.text(),!n.ok){r=new u.Ci({body:l,details:a?.error?(0,i.A)(a.error):n.statusText,headers:n.headers,status:n.status,url:s});continue}if(!(0,b.q)(a)){r=new c({result:a,url:s});continue}return a}catch(e){r=new u.Ci({body:l,details:e.message,url:s})}}throw r}},47565:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,D:()=>s});var r=n(85608),i=n(13433);function a(e,t){e.log("debug","plugin",{plugin:t.name});var n=(new Date).getTime(),a=t[e.event.type];return void 0===a?Promise.resolve(e):function(){return(0,r.sH)(this,void 0,void 0,function(){var n;return(0,r.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,a.apply(t,[e])];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,Promise.reject(n)];case 3:return[2]}})})}().then(function(e){var r=(new Date).getTime()-n;return e.stats.gauge("plugin_time",r,["plugin:".concat(t.name)]),e}).catch(function(n){if(n instanceof i.d&&"middleware_cancellation"===n.type)throw n;return n instanceof i.d?(e.log("warn",n.type,{plugin:t.name,error:n}),n):(e.log("error","plugin Error",{plugin:t.name,error:n}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),n)})}function s(e,t){return a(e,t).then(function(t){if(t instanceof i.j)return t;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(t)})}},47684:(e,t,n)=>{"use strict";const r=n(39435);e.exports=(e,t)=>r(e,t,!0)},47858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHex=t.createBytes=t.createBigInt=t.createNumber=void 0;const r=n(87093),i=n(15482),a=n(2949),s=n(76179),o=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),s.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),o,Number),l=(0,r.coerce)((0,r.bigint)(),o,BigInt),u=((0,r.union)([s.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([s.StrictHexStruct]),a.hexToBytes)),d=(0,r.coerce)(s.StrictHexStruct,(0,r.instance)(Uint8Array),a.bytesToHex);t.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},t.createBigInt=function(e){try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},t.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},t.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}},48272:(e,t,n)=>{"use strict";n.d(t,{mb:()=>r,rf:()=>i});const r={PRODUCTION:"production",STAGING:"staging",DEVELOPMENT:"development",TESTING:"testing"},i={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"}},48449:(e,t,n)=>{"use strict";const r=n(1048),{format:i,inspect:a}=n(11158),{codes:{ERR_INVALID_ARG_TYPE:s}}=n(61150),{kResistStopPropagation:o,AggregateError:c,SymbolDispose:l}=n(70273),u=globalThis.AbortSignal||n(67083).AbortSignal,d=globalThis.AbortController||n(67083).AbortController,f=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||r.Blob,h=void 0!==p?function(e){return e instanceof p}:function(e){return!1},b=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new s(t,"AbortSignal",e)};e.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...n){t||(t=!0,e.apply(this,n))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}},promisify:e=>new Promise((t,n)=>{e((e,...r)=>e?n(e):t(...r))}),debuglog:()=>function(){},format:i,inspect:a,types:{isAsyncFunction:e=>e instanceof f,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:h,deprecate:(e,t)=>e,addAbortListener:n(50046).addAbortListener||function(e,t){if(void 0===e)throw new s("signal","AbortSignal",e);let n;return b(e,"signal"),(e=>{if("function"!=typeof e)throw new s("listener","Function",e)})(t),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[o]:!0}),n=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[l](){var e;null===(e=n)||void 0===e||e()}}},AbortSignalAny:u.any||function(e){if(1===e.length)return e[0];const t=new d,n=()=>t.abort();return e.forEach(e=>{b(e,"signals"),e.addEventListener("abort",n,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",n))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},48578:e=>{function t(e){return function(t,n,r,a){var s,o=a&&function(e){return"function"==typeof e}(a.normalizer)?a.normalizer:i;n=o(n);for(var c=!1;!c;)l();function l(){for(s in t){var e=o(s);if(0===n.indexOf(e)){var r=n.substr(e.length);if("."===r.charAt(0)||0===r.length){n=r.substr(1);var i=t[s];return null==i?void(c=!0):n.length?void(t=i):void(c=!0)}}}s=void 0,c=!0}if(s)return null==t?t:e(t,s,r)}}function n(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function r(e,t,n){return e.hasOwnProperty(t)&&(e[t]=n),e}function i(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}e.exports=t(function(e,t){if(e.hasOwnProperty(t))return e[t]}),e.exports.find=e.exports,e.exports.replace=function(e,n,i,a){return t(r).call(this,e,n,i,a),e},e.exports.del=function(e,r,i){return t(n).call(this,e,r,null,i),e}},48723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23299);r.__exportStar(n(2522),t),r.__exportStar(n(61916),t)},49074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=i,t.anumber=a,t.abytes=s,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");a(e.outputLen),a(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},t.aoutput=function(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=o,t.byteSwap32=c,t.bytesToHex=function(e){if(s(e),l)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=u[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(l)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=f(e.charCodeAt(i)),a=f(e.charCodeAt(i+1));if(void 0===n||void 0===a){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+a}return r},t.asyncLoop=async function(e,n,r){let i=Date.now();for(let a=0;a<e;a++){r(a);const e=Date.now()-i;e>=0&&e<n||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=p,t.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},t.toBytes=h,t.kdfInputToBytes=function(e){return"string"==typeof e&&(e=p(e)),s(e),e},t.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];s(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!=={}.toString.call(t))throw new Error("options should be object or undefined");return Object.assign(e,t)},t.createHasher=b,t.createOptHasher=y,t.createXOFer=m,t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return Uint8Array.from(r.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")};const r=n(76910);function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function s(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function c(e){for(let t=0;t<e.length;t++)e[t]=o(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>o(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:c;const l=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),d={_0:48,_9:57,A:65,F:70,a:97,f:102};function f(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function p(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function h(e){return"string"==typeof e&&(e=p(e)),s(e),e}function b(e){const t=t=>e().update(h(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function y(e){const t=(t,n)=>e(n).update(h(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}function m(e){const t=(t,n)=>e(n).update(h(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}t.nextTick=async()=>{},t.Hash=class{},t.wrapConstructor=b,t.wrapConstructorWithOpts=y,t.wrapXOFConstructorWithOpts=m},49228:(e,t,n)=>{"use strict";var r=Array.prototype.slice,i=n(50968),a=Object.keys,s=a?function(e){return a(e)}:n(78160),o=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?o(r.call(e)):o(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},49380:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(90932);const i=/^tuple(?<array>(\[(\d*)\])*)$/;function a(e){let t=e.type;if(i.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++)t+=a(e.components[r]),r<n-1&&(t+=", ");const s=(0,r.Yv)(i,e.type);return t+=`)${s?.array??""}`,a({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function s(e){let t="";const n=e.length;for(let r=0;r<n;r++)t+=a(e[r]),r!==n-1&&(t+=", ");return t}},49385:(e,t,n)=>{"use strict";n.d(t,{A9:()=>i,NO:()=>o,Pj:()=>c,dV:()=>a,nx:()=>l,zd:()=>s});var r=n(88615);r.C;class i extends r.C{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class a extends r.C{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class s extends r.C{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class o extends r.C{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class c extends r.C{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class l extends r.C{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},49521:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});const r={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",MULTICHAIN:"multichain"}},49549:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},49634:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var r=n(34820),i=n(94102),a=n(10286),s=n(93747),o=n(58501),c=n(53621);async function l(e,t){return l.internal(e,c.v,"sendTransaction",t)}!function(e){e.internal=async function(e,t,n,c){const{abi:l,account:u=e.account,address:d,args:f,dataSuffix:p,functionName:h,...b}=c;if(void 0===u)throw new i.T({docsPath:"/docs/contract/writeContract"});const y=u?(0,r.J)(u):null,m=(0,a.p)({abi:l,args:f,functionName:h});try{return await(0,o.T)(e,t,n)({data:`${m}${p?p.replace("0x",""):""}`,to:d,account:y,...b})}catch(e){throw(0,s.j)(e,{abi:l,address:d,args:f,docsPath:"/docs/contract/writeContract",functionName:h,sender:y?.address})}}}(l||(l={}))},49742:e=>{"use strict";const t=/^[0-9]+$/,n=(e,n)=>{if("number"==typeof e&&"number"==typeof n)return e===n?0:e<n?-1:1;const r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},49933:(e,t,n)=>{"use strict";const r=n(61253);e.exports=(e,t)=>new r(e,t).major},49964:(e,t,n)=>{"use strict";n.d(t,{B4:()=>h,CQ:()=>E,CW:()=>v,Ei:()=>f,F8:()=>x,P5:()=>p,TH:()=>S,Vl:()=>g,Vr:()=>w,WM:()=>b,WQ:()=>m,im:()=>y,jm:()=>c,lD:()=>s,qh:()=>d,rE:()=>l,ry:()=>u,xn:()=>o});const r=BigInt(2**32-1),i=BigInt(32);function a(e,t=!1){return t?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function s(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=a(e[s],t);[r[s],i[s]]=[n,o]}return[r,i]}const o=(e,t,n)=>e>>>n,c=(e,t,n)=>e<<32-n|t>>>n,l=(e,t,n)=>e>>>n|t<<32-n,u=(e,t,n)=>e<<32-n|t>>>n,d=(e,t,n)=>e<<64-n|t>>>n-32,f=(e,t,n)=>e>>>n-32|t<<64-n,p=(e,t,n)=>e<<n|t>>>32-n,h=(e,t,n)=>t<<n|e>>>32-n,b=(e,t,n)=>t<<n-32|e>>>64-n,y=(e,t,n)=>e<<n-32|t>>>64-n;function m(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const g=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),w=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,v=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),E=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,x=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),S=(e,t,n,r,i,a)=>t+n+r+i+a+(e/2**32|0)|0},50046:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}b(e,t,a,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&b(e,"error",t,{once:!0})}(e,i)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,a,s,l;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"==typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(a){r.once&&e.removeEventListener(t,i),n(a)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=h(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,s;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},50068:(e,t,n)=>{"use strict";n.d(t,{N:()=>c,a:()=>o});var r=n(8017),i=n(34449),a=n(25082),s=n(73468);function o(e){const{getAccounts:t,getPrivateKey:n,getPublicKey:r,processTransaction:o,processSignTransaction:c,processEthSignMessage:l,processTypedMessageV4:u,processPersonalMessage:d}=e;return(0,a.Vv)([(0,i.ld)({eth_syncing:!1}),(0,s.s)({getAccounts:t,getPrivateKey:n,getPublicKey:r,processTransaction:o,processEthSignMessage:l,processSignTransaction:c,processTypedMessageV4:u,processPersonalMessage:d})])}function c({switchChain:e,addChain:t}){return(0,i.ld)({wallet_switchEthereumChain:(0,i.jg)(async function(t,n){var i;const a=null!==(i=t.params)&&void 0!==i&&i.length?t.params[0]:void 0;if(!a)throw r.r.invalidParams("Missing chainId");n.result=await e(a)}),wallet_addEthereumChain:(0,i.jg)(async function(e,n){var i;const a=null!==(i=e.params)&&void 0!==i&&i.length?e.params[0]:void 0;if(!a)throw r.r.invalidParams("Missing chainConfig");n.result=await t(a)})})}},50327:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(79756);async function i(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,r.ME)(t)}},50394:(e,t,n)=>{"use strict";const r=n(93510);e.exports=(e,t,n)=>r(e,t,">",n)},50518:(e,t,n)=>{"use strict";var r=n(27237);e.exports=function e(t,n){return void 0===n&&(n=!0),t&&"object"==typeof t?function(t,n){return Object.keys(t).forEach(function(r){t[r]=e(t[r],n)}),t}(t,n):Array.isArray(t)?function(t,n){return t.forEach(function(r,i){t[i]=e(r,n)}),t}(t,n):r.is(t,n)?r.parse(t):t}},50536:(e,t,n)=>{"use strict";var r=n(70461),i=n(32191),a=n(600),s=n(7784),o=r.sum32,c=r.sum32_4,l=r.sum32_5,u=a.ch32,d=a.maj32,f=a.s0_256,p=a.s1_256,h=a.g0_256,b=a.g1_256,y=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}r.inherits(g,y),e.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(b(n[r-2]),n[r-7],h(n[r-15]),n[r-16]);var i=this.h[0],a=this.h[1],y=this.h[2],m=this.h[3],g=this.h[4],w=this.h[5],v=this.h[6],E=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var x=l(E,p(g),u(g,w,v),this.k[r],n[r]),S=o(f(i),d(i,a,y));E=v,v=w,w=g,g=o(m,x),m=y,y=a,a=i,i=o(x,S)}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],y),this.h[3]=o(this.h[3],m),this.h[4]=o(this.h[4],g),this.h[5]=o(this.h[5],w),this.h[6]=o(this.h[6],v),this.h[7]=o(this.h[7],E)},g.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},50761:(e,t,n)=>{"use strict";n.d(t,{$s:()=>c,Kc:()=>u,Kz:()=>l,Sq:()=>d,Vg:()=>o,WA:()=>f,aO:()=>s});var r=n(84599),i=n(75255),a=n(14323);function s(e){const t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),n=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`).join("\n")}a.C,a.C;class o extends a.C{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",s(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}a.C,a.C,a.C;class c extends a.C{constructor(e,{account:t,docsPath:n,chain:a,data:o,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:f,to:p,value:h}){const b=s({chain:a&&`${a?.name} (id: ${a?.id})`,from:t?.address,to:p,value:void 0!==h&&`${(0,r.c)(h)} ${a?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:c,gasPrice:void 0!==l&&`${(0,i.Q)(l)} gwei`,maxFeePerGas:void 0!==u&&`${(0,i.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,i.Q)(d)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",b].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class l extends a.C{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:i}){let a="Transaction";n&&void 0!==i&&(a=`Transaction at block time "${n}" at index "${i}"`),e&&void 0!==i&&(a=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(a=`Transaction at block number "${t}" at index "${i}"`),r&&(a=`Transaction with hash "${r}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class u extends a.C{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class d extends a.C{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class f extends a.C{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}},50968:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},51503:(e,t,n)=>{"use strict";n.d(t,{m:()=>d});var r=n(10286),i=n(58470),a=n(30666),s=n(38903),o=n(39610),c=n(62421);function l(e){switch(e){case"call":return"0x00";case"batchcall":return"0x01";case"delegatecall":return"0xff"}}function u({type:e,revertOnError:t,selector:n,context:r}){return(0,o.P)(["bytes1","bytes1","bytes4","bytes4","bytes22"],[(0,s.nj)((0,c.ZJ)(l(e),{size:1})),(0,s.nj)((0,c.ZJ)(t?"0x01":"0x00",{size:1})),(0,s.nj)((0,c.ZJ)("0x0",{size:4})),(0,s.nj)((0,c.ZJ)(n??"0x",{size:4})),(0,s.nj)((0,c.ZJ)(r??"0x",{size:22}))])}function d({mode:e,callData:t}){if(t.length>1&&"batchcall"!==e?.type)throw new Error(`mode ${JSON.stringify(e)} does not supported for batchcall calldata`);const n=[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}];if(t.length>1)return(0,r.p)({abi:n,functionName:"execute",args:[u(e),(0,i.h)([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],[t.map(e=>({target:e.to,value:e.value??0n,callData:e.data??"0x"}))])]});const o=0===t.length?void 0:t[0];if(!o)throw new Error("No calls to encode");return(0,r.p)({abi:n,functionName:"execute",args:[u(e),(0,a.aP)([o.to,(0,s.nj)(o.value??0n,{size:32}),o.data??"0x"])]})}},52001:(e,t,n)=>{"use strict";n.d(t,{sc:()=>r});const r=n(64639).sc},52218:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r="solana:signTransaction"},52348:(e,t,n)=>{"use strict";var r=n(70461),i=n(92157);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(a,i),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},52682:(e,t,n)=>{"use strict";const{SymbolDispose:r}=n(70273),{AbortError:i,codes:a}=n(61150),{isNodeStream:s,isWebStream:o,kControllerErrorFunction:c}=n(38104),l=n(92549),{ERR_INVALID_ARG_TYPE:u}=a;let d;e.exports.addAbortSignal=function(t,n){if((e=>{if("object"!=typeof e||!("aborted"in e))throw new u("signal","AbortSignal",e)})(t),!s(n)&&!o(n))throw new u("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const a=s(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[c](new i(void 0,{cause:e.reason}))};if(e.aborted)a();else{d=d||n(48449).addAbortListener;const i=d(e,a);l(t,i[r])}return t}},52687:(e,t,n)=>{"use strict";n.d(t,{X:()=>y,J:()=>b});var r=n(81788),i=n(730),a=n(46702),s=n(37663),o=n(30666),c=n(77190),l=n(58470),u=n(27438),d=n(76009);const f="/docs/contract/encodeErrorResult";function p(e){const{abi:t,errorName:n,args:r}=e;let i=t[0];if(n){const e=(0,d.iY)({abi:t,args:r,name:n});if(!e)throw new s.yy(n,{docsPath:f});i=e}if("error"!==i.type)throw new s.yy(void 0,{docsPath:f});const a=(0,u.B)(i),p=(0,c.V)(a);let h="0x";if(r&&r.length>0){if(!i.inputs)throw new s.ZP(i.name,{docsPath:f});h=(0,l.h)(i.inputs,r)}return(0,o.aP)([p,h])}const h="/docs/contract/encodeFunctionResult",b="x-batch-gateway:true";async function y(e){const{data:t,ccipRequest:n}=e,{args:[o]}=(0,a.J)({abi:r.b2,data:t}),c=[],u=[];return await Promise.all(o.map(async(e,t)=>{try{u[t]=e.urls.includes(b)?await y({data:e.data,ccipRequest:n}):await n(e),c[t]=!1}catch(e){c[t]=!0,u[t]="HttpRequestError"===(a=e).name&&a.status?p({abi:r.b2,errorName:"HttpError",args:[a.status,a.shortMessage]}):p({abi:[i.Mc],errorName:"Error",args:["shortMessage"in a?a.shortMessage:a.message]})}var a})),function(e){const{abi:t,functionName:n,result:r}=e;let i=t[0];if(n){const e=(0,d.iY)({abi:t,name:n});if(!e)throw new s.Iz(n,{docsPath:h});i=e}if("function"!==i.type)throw new s.Iz(void 0,{docsPath:h});if(!i.outputs)throw new s.MR(i.name,{docsPath:h});const a=(()=>{if(0===i.outputs.length)return[];if(1===i.outputs.length)return[r];if(Array.isArray(r))return r;throw new s.dm(r)})();return(0,l.h)(i.outputs,a)}({abi:r.b2,functionName:"query",result:[c,u]})}},52743:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map(function(e){return r(e,n)})}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function o(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var l=Array.isArray(n);return l===Array.isArray(e)?l?c.arrayMerge(e,n,c):function(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach(function(t){i[t]=r(e[t],n)}),a(t).forEach(function(a){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(s(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return o;var n=t.customMerge(e);return"function"==typeof n?n:o}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))}),i}(e,n,c):r(n,c)}o.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return o(e,n,t)},{})};var c=o;e.exports=c},53031:(e,t,n)=>{"use strict";function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}n.d(t,{p:()=>r})},53201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterate=void 0;const r=n(76728);t.iterate=function*(e,t=32){for(let n=0;n<e.length;n+=t){const i=e=>{(0,r.assert)(e>=0,"Cannot skip a negative number of bytes."),(0,r.assert)(e%t===0,"Length must be a multiple of the size."),n+=e},a=e.subarray(n);yield{skip:i,value:a}}return{skip:()=>{},value:new Uint8Array}}},53358:(e,t,n)=>{var r=n(37086);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function a(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(a),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return a(this)},configurable:!0})})},53363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53373:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},53453:(e,t,n)=>{"use strict";n.d(t,{a:()=>X});var r=n(69740),i=n(98158),a=n(90785),s=n(22073);const o=new TextEncoder,c=(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[t,e.charCodeAt(0)]),{...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[e.charCodeAt(0),t])),["=".charCodeAt(0)]:0,["-".charCodeAt(0)]:62,["_".charCodeAt(0)]:63});var l=n(91959),u=n(30666),d=n(10286),f=n(19555),p=n(58470),h=n(38903),b=n(35682),y=n(11795),m=n(98844),g=n(93493),w=n(50327),v=n(58501),E=n(35864),x=n(5339),S=n(34052);const T=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Operation",name:"",type:"uint8"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Call[]",name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"}],A=[{inputs:[{internalType:"contract IKernelValidator",name:"_defaultValidator",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"}],_=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],C=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"},{name:"initConfig",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"}],k=[{type:"function",name:"createAccount",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}],I=[{type:"function",name:"deployWithFactory",inputs:[{name:"factory",type:"address",internalType:"contract KernelFactory"},{name:"createData",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}],P="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c";var O;!function(e){e.DEFAULT="0x00",e.ENABLE="0x01"}(O||(O={}));var M=n(46702),R=n(21283);const N=e=>/0\.2\.\d+/.test(e);var L=n(51503),D=n(30818),B=n(63577);const j=(e,t,n=0n)=>{if(N(e))return n;if(n>D.Au)throw new Error(`nonce key must be equal or less than 2 bytes(maxUint16) for Kernel version ${e}`);const r=O.DEFAULT,i=(0,B.eV)((0,u.aP)([r,"0x00",t,(0,h.nj)(n,{size:2})]),{size:24});return BigInt(i)},U=e=>"webAuthn"===e.type;var F=n(73619),$=n(30184),z=n(96063);const H=(e,{accountAddress:t,kernelVersion:n,chainId:r})=>{const i=(0,z.KU)({domain:{name:"Kernel",version:n,chainId:r,verifyingContract:t}}),a=N(n)?e:(0,f.S)((0,p.h)([{type:"bytes32"},{type:"bytes32"}],[(0,f.S)((0,h.i3)("Kernel(bytes32 hash)")),e]));return(0,f.S)((0,u.aP)(["0x1901",i,a]))};async function q({message:e,owner:t,accountAddress:n,kernelVersion:r,chainId:i,eip7702:a}){if(U(t)){let a;if("string"==typeof e)a=H((0,$.A)(e),{kernelVersion:r,accountAddress:n,chainId:i});else if("raw"in e&&"string"==typeof e.raw)a=e.raw;else{if(!("raw"in e&&e.raw instanceof Uint8Array))throw new Error("Unsupported message format");a=e.raw.toString()}const{signature:s,webauthn:o}=await t.sign({hash:a}),c=F.aD(s);return(0,p.h)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],[o.authenticatorData,o.clientDataJSON,BigInt(o.typeIndex),BigInt(c.r),BigInt(c.s),!1])}if(a)return t.signTypedData({message:{hash:(0,$.A)(e)},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:"Kernel",version:r,chainId:i,verifyingContract:n}});if("0.2.1"===r||"0.2.2"===r)return t.signMessage({message:e});const s=H((0,$.A)(e),{kernelVersion:r,accountAddress:n,chainId:i});return t.signMessage({message:{raw:s}})}var K=n(42558);const W=[{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"}],V={"0.2.1":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xf048AD83CB2dfd6037A43902a2A5Be04e53cd2Eb",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.2":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0x0DA6a956B9488eD4dd761E59f52FDc6c8068E6B5",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.3":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xD3F582F6B4814E989Ee8E96bc3175320B5A540ab",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.4":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xd3082872F8B06073A021b4602e022d5A070d7cfC",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.3.0-beta":{ECDSA_VALIDATOR:"0x8104e3Ad430EA6d354d013A6789fDFc71E671c43",ACCOUNT_LOGIC:"0x94F097E1ebEB4ecA3AAE54cabb08905B239A7D27",FACTORY_ADDRESS:"0x6723b44Abeec4E71eBE3232BD5B455805baDD22f",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"},"0.3.1":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xBAC849bB641841b44E965fB01A4Bf5F074f84b4D",FACTORY_ADDRESS:"0xaac5D4240AF87249B3f71BC8E4A2cae074A3E419",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"},"0.3.2":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xD830D15D3dc0C269F3dBAa0F3e8626d33CFdaBe1",FACTORY_ADDRESS:"0x7a1dBAB750f12a90EB1B60D2Ae3aD17D4D81EfFe",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"},"0.3.3":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xd6CEDDe84be40893d153Be9d467CD6aD37875b28",FACTORY_ADDRESS:"0x2577507b78c2008Ff367261CB6285d44ba5eF2E9",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"}},G=(e,t=!1)=>(0,u.aP)([t?"0x00":"0x01",t?"0x":e]),Y=async e=>{if("local"===e.type)return e.address;if(U(e)){const t=a.aD(e.publicKey),n=(0,f.S)(s.uK(function(e){const t=e.replace(/=+$/,""),n=t.length,r=new Uint8Array(n+3);o.encodeInto(t+"===",r);for(let e=0,n=0;e<t.length;e+=4,n+=3){const t=(c[r[e]]<<18)+(c[r[e+1]]<<12)+(c[r[e+2]]<<6)+c[r[e+3]];r[n]=t>>16,r[n+1]=t>>8&255,r[n+2]=255&t}const i=3*(n>>2)+(n%4&&n%4-1);return new Uint8Array(r.buffer,0,i)}(e.id)));return(0,p.h)([{components:[{name:"x",type:"uint256"},{name:"y",type:"uint256"}],name:"webAuthnData",type:"tuple"},{name:"authenticatorIdHash",type:"bytes32"}],[{x:t.x,y:t.y},n])}throw new Error("Invalid owner type")};async function J(e){const{client:t,address:n,index:r=0n,version:i,validatorAddress:a,factoryAddress:s,metaFactoryAddress:o,accountLogicAddress:c,useMetaFactory:f=!0,eip7702:O=!1}=e,D=(()=>{if(O&&"owner"in e)return[e.owner];if("owners"in e)return e.owners;throw new Error("Invalid parameters")})(),B="webAuthn"===D[0].type,F=await(B?D[0]:(0,S.F)({owner:D[0]})),$=(()=>{const t=e.entryPoint?.address??b.oi,n=e.entryPoint?.version??"0.7";let r=y.qe;return"0.6"===n&&(r=y.hw),{address:t,abi:r,version:n}})(),J=((e,t,n)=>n?"0.3.3":t||("0.6"===e?"0.2.2":"0.3.0-beta"))($.version,i,O),{accountLogicAddress:Z,validatorAddress:X,factoryAddress:Q,metaFactoryAddress:ee}=(({validatorAddress:e,accountLogicAddress:t,factoryAddress:n,metaFactoryAddress:r,kernelVersion:i,isWebAuthn:a})=>{const s=V[i];return{validatorAddress:e??(a?s.WEB_AUTHN_VALIDATOR:s.ECDSA_VALIDATOR),accountLogicAddress:t??s.ACCOUNT_LOGIC,factoryAddress:n??s.FACTORY_ADDRESS,metaFactoryAddress:r??s?.META_FACTORY_ADDRESS??l.Xd}})({validatorAddress:a,accountLogicAddress:c,factoryAddress:s,metaFactoryAddress:o,kernelVersion:J,isWebAuthn:B});if(!X)throw new Error("Validator address is required");const te=async e=>(async({entryPointVersion:e,kernelVersion:t,validatorData:n,index:r,factoryAddress:i,accountLogicAddress:a,validatorAddress:s,useMetaFactory:o})=>{const c=(({entryPoint:{version:e},kernelVersion:t,validatorData:n,validatorAddress:r})=>"0.6"===e?(0,d.p)({abi:A,functionName:"initialize",args:[r,n]}):"0.3.0-beta"===t?(0,d.p)({abi:_,functionName:"initialize",args:[G(r),l.Xd,n,"0x"]}):(0,d.p)({abi:C,functionName:"initialize",args:[G(r),l.Xd,n,"0x",[]]}))({entryPoint:{version:e},kernelVersion:t,validatorAddress:s,validatorData:n});return"0.6"===e?(0,d.p)({abi:W,functionName:"createAccount",args:[a,c,r]}):o?(0,d.p)({abi:I,functionName:"deployWithFactory",args:[i,c,(0,h.nj)(r,{size:32})]}):(0,d.p)({abi:k,functionName:"createAccount",args:[c,(0,h.nj)(r,{size:32})]})})({entryPointVersion:$.version,kernelVersion:J,validatorData:await Y(F),index:r,factoryAddress:Q,accountLogicAddress:Z,validatorAddress:X,useMetaFactory:e});let ne;const re=async()=>ne||(ne=t.chain?t.chain.id:await(0,v.T)(t,w.T,"getChainId")({}),ne),ie=e=>async()=>({factory:"0.6"===$.version||!1===e?Q:ee,factoryData:await te(e)}),{accountAddress:ae,getFactoryArgs:se}=await(async()=>{if(O)return{accountAddress:F.address,getFactoryArgs:async()=>({factory:void 0,factoryData:void 0})};let e=ie("optional"===f||f);if(n&&"optional"!==f)return{accountAddress:n,getFactoryArgs:e};const{factory:r,factoryData:i}=await e();let a=await(0,x.s)(t,{factory:r,factoryData:i,entryPointAddress:$.address});if(n===a)return{accountAddress:a,getFactoryArgs:e};if("optional"===f&&a===l.Xd){e=ie(!1);const{factory:n,factoryData:r}=await e();a=await(0,x.s)(t,{factory:n,factoryData:r,entryPointAddress:$.address})}return{accountAddress:a,getFactoryArgs:e}})();return(0,m.q)({client:t,entryPoint:$,getFactoryArgs:se,extend:O?{implementation:Z}:void 0,authorization:O?{address:Z,account:F}:void 0,getAddress:async()=>ae,encodeCalls:async e=>(({kernelVersion:e,calls:t})=>{if(N(e)){if(t.length>1)return(0,d.p)({abi:T,functionName:"executeBatch",args:[t.map(e=>({to:e.to,value:e.value??0n,data:e.data??"0x"}))]});const e=0===t.length?void 0:t[0];if(!e)throw new Error("No calls to encode");return(0,d.p)({abi:T,functionName:"execute",args:[e.to,e.value??0n,e.data??"0x",0]})}return(0,L.m)({mode:{type:t.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:t})})({calls:e,kernelVersion:J}),decodeCalls:async e=>(({kernelVersion:e,callData:t})=>{if(N(e)){const e=(0,M.J)({abi:T,data:t});if("executeBatch"===e.functionName)return e.args[0].map(e=>({to:e.to,value:e.value,data:e.data}));if("execute"===e.functionName){const[t,n,r]=e.args;return[{to:t,value:n,data:r}]}throw new Error("Invalid function name")}return(0,R.w)(t).callData})({callData:e,kernelVersion:J}),async getNonce(n){return(0,E.p)(t,{address:await this.getAddress(),entryPointAddress:$.address,key:j(J,X,e.nonceKey??0n)})},getStubSignature:async()=>N(J)?(0,u.aP)(["0x00000000",P]):U(F)?(0,p.h)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'{"type":"webauthn.get","challenge":"tbxXNFS9X_4Byr1cMwqKrIGB-_30a0QhZ6y7ucM0BOE","origin":"http://localhost:3000","crossOrigin":false, "other_keys_can_be_added_here":"do not compare clientDataJSON against a template. See https://goo.gl/yabPex"}',1n,44941127272049826721201904734628716258498742255959991581049806490182030242267n,9910254599581058084911561569808925251374718953855182016200087235935345969636n,!1]):P,async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){if("isDeployed"in this&&!await this.isDeployed()&&O)throw new Error("Kernel with EIP-7702 isn't 1271 compliant before delegation.");const t=await q({owner:F,message:e,accountAddress:await this.getAddress(),kernelVersion:J,chainId:await re(),eip7702:O});return N(J)?t:(0,u.aP)([G(X,O),t])},async signTypedData(e){if("isDeployed"in this&&!await this.isDeployed()&&O)throw new Error("Kernel with EIP-7702 isn't 1271 compliant before delegation.");const t=await async function(e){const{owner:t,accountAddress:n,kernelVersion:r,chainId:i,eip7702:a,...s}=e;if(("0.2.1"===r||"0.2.2"===r)&&!U(t))return t.signTypedData({...s});const{message:o,primaryType:c,types:l,domain:u}=s,d={EIP712Domain:(0,z.H4)({domain:u}),...l};(0,z.$$)({domain:u,message:o,primaryType:c,types:d});const f=(0,K.Zh)({message:o,primaryType:c,types:d,domain:u});if(a&&!U(t))return t.signTypedData({message:{hash:f},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:"Kernel",version:r,chainId:i,verifyingContract:n}});const p=H(f,{kernelVersion:r,accountAddress:n,chainId:i});return U(t)?q({message:{raw:p},owner:t,accountAddress:n,kernelVersion:r,chainId:i,eip7702:!1}):t.signMessage({message:{raw:p}})}({owner:F,chainId:await re(),...e,accountAddress:await this.getAddress(),kernelVersion:J,eip7702:O});return N(J)?t:(0,u.aP)([G(X,O),t])},async signUserOperation(e){const{chainId:t=await re(),...n}=e,r=(0,g.Z)({userOperation:{...n,sender:n.sender??await this.getAddress(),signature:"0x"},entryPointAddress:$.address,entryPointVersion:$.version,chainId:t}),i=U(F)?await q({owner:F,message:{raw:r},chainId:t,accountAddress:await this.getAddress(),kernelVersion:J,eip7702:!1}):await F.signMessage({message:{raw:r}});return N(J)?(0,u.aP)(["0x00000000",i]):i}})}var Z=n(92336);class X{constructor(e){(0,i.A)(this,"name",Z.o0.KERNEL),(0,i.A)(this,"options",void 0),this.options=e}async getSmartAccount(e){return async function(e){return J({...e,validatorAddress:e.validatorAddress??e.ecdsaValidatorAddress})}((0,r.A)((0,r.A)((0,r.A)({},this.options||{}),e),{},{owners:[e.walletClient],client:e.client}))}}},53558:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(62908);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},53621:(e,t,n)=>{"use strict";n.d(t,{v:()=>g});var r=n(34820),i=n(94102),a=n(14323),s=n(81526),o=n(46853),c=n(38993),l=n(16406),u=n(16590),d=n(58501),f=n(95394),p=n(70823),h=n(50327),b=n(58423),y=n(24935);const m=new f.A(128);async function g(e,t){const{account:n=e.account,chain:f=e.chain,accessList:g,authorizationList:w,blobs:v,data:E,gas:x,gasPrice:S,maxFeePerBlobGas:T,maxFeePerGas:A,maxPriorityFeePerGas:_,nonce:C,type:k,value:I,...P}=t;if(void 0===n)throw new i.T({docsPath:"/docs/actions/wallet/sendTransaction"});const O=n?(0,r.J)(n):null;try{(0,p.c)(t);const n=await(async()=>t.to?t.to:null!==t.to&&w&&w.length>0?await(0,s.g)({authorization:w[0]}).catch(()=>{throw new a.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if("json-rpc"===O?.type||null===O){let t;null!==f&&(t=await(0,d.T)(e,h.T,"getChainId")({}),(0,o.v)({currentChainId:t,chain:f}));const r=e.chain?.formatters?.transactionRequest?.format,i=(r||u.Bv)({...(0,l.o)(P,{format:r}),accessList:g,account:O,authorizationList:w,blobs:v,chainId:t,data:E,gas:x,gasPrice:S,maxFeePerBlobGas:T,maxFeePerGas:A,maxPriorityFeePerGas:_,nonce:C,to:n,type:k,value:I},"sendTransaction"),a=m.get(e.uid),s=a?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:s,params:[i]},{retryCount:0})}catch(t){if(!1===a)throw t;const n=t;if("InvalidInputRpcError"===n.name||"InvalidParamsRpcError"===n.name||"MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)return await e.request({method:"wallet_sendTransaction",params:[i]},{retryCount:0}).then(t=>(m.set(e.uid,!0),t)).catch(t=>{const r=t;if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw m.set(e.uid,!1),n;throw r});throw n}}if("local"===O?.type){const t=await(0,d.T)(e,b.ft,"prepareTransactionRequest")({account:O,accessList:g,authorizationList:w,blobs:v,chain:f,data:E,gas:x,gasPrice:S,maxFeePerBlobGas:T,maxFeePerGas:A,maxPriorityFeePerGas:_,nonce:C,nonceManager:O.nonceManager,parameters:[...b.MM,"sidecars"],type:k,value:I,...P,to:n}),r=f?.serializers?.transaction,i=await O.signTransaction(t,{serializer:r});return await(0,d.T)(e,y.L,"sendRawTransaction")({serializedTransaction:i})}if("smart"===O?.type)throw new i.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new i.Z({docsPath:"/docs/actions/wallet/sendTransaction",type:O?.type})}catch(e){if(e instanceof i.Z)throw e;throw(0,c.p)(e,{...t,account:O,chain:t.chain||void 0})}}},54009:(e,t,n)=>{"use strict";const r=n(91715);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},54057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.array=t.getTupleType=t.getArrayType=t.isArrayType=void 0;const r=n(76728),i=n(19520),a=n(75297),s=n(26769),o=n(43892),c=n(44226),l=/^(?<type>.*)\[(?<length>\d*?)\]$/u;t.isArrayType=e=>l.test(e),t.getArrayType=e=>{const t=e.match(l);return(0,r.assert)(t?.groups?.type,new i.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[t.groups.type,t.groups.length?parseInt(t.groups.length,10):void 0]},t.getTupleType=(e,t)=>`(${new Array(t).fill(e).join(",")})`,t.array={isDynamic(e){const[n,r]=(0,t.getArrayType)(e);return void 0===r||(0,a.isDynamicParser)((0,a.getParser)(n),n)},isType:e=>(0,t.isArrayType)(e),getByteLength(e){(0,r.assert)((0,t.isArrayType)(e),new i.ParserError(`Expected an array type, but received "${e}".`));const[n,s]=(0,t.getArrayType)(e);return(0,a.isDynamicParser)(this,e)||void 0===s?32:c.tuple.getByteLength((0,t.getTupleType)(n,s))},encode({type:e,buffer:n,value:l,packed:u,tight:d}){const[f,p]=(0,t.getArrayType)(e);if((0,r.assert)(!u||!(0,t.isArrayType)(f),new i.ParserError("Cannot pack nested arrays.")),u&&(0,a.isDynamicParser)((0,a.getParser)(f),f))return(0,a.pack)({types:new Array(l.length).fill(f),values:l,byteArray:n,packed:u,arrayPacked:!0,tight:d});if(p)return(0,r.assert)(p===l.length,new i.ParserError(`Array length does not match type length. Expected a length of ${p}, but received ${l.length}.`)),c.tuple.encode({type:(0,t.getTupleType)(f,p),buffer:n,value:l,packed:o.fixedBytes.isType(f)&&d,tight:d});if(u)return(0,a.pack)({types:new Array(l.length).fill(f),values:l,byteArray:n,packed:o.fixedBytes.isType(f)&&d,arrayPacked:!0,tight:d});const h=(0,s.padStart)((0,r.numberToBytes)(l.length));return(0,a.pack)({types:new Array(l.length).fill(f),values:l,byteArray:(0,r.concatBytes)([n,h]),packed:u,tight:d})},decode({type:e,value:n,...s}){const[o,l]=(0,t.getArrayType)(e);if(l){const e=c.tuple.decode({type:(0,t.getTupleType)(o,l),value:n,...s});return(0,r.assert)(e.length===l,new i.ParserError(`Array length does not match type length. Expected a length of ${l}, but received ${e.length}.`)),e}const u=(0,r.bytesToNumber)(n.subarray(0,32));return(0,a.unpack)(new Array(u).fill(o),n.subarray(32))}}},54280:(e,t,n)=>{"use strict";n.d(t,{EQ:()=>o});var r=n(14323),i=n(55441),a=n(62421),s=n(38903);function o(e,t="hex"){const n=c(e),r=(0,i.l)(new Uint8Array(n.length));return n.encode(r),"hex"===t?(0,s.My)(r.bytes):r.bytes}function c(e){return Array.isArray(e)?function(e){const t=e.reduce((e,t)=>e+t.length,0),n=l(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),1===n?r.pushUint8(t):2===n?r.pushUint16(t):3===n?r.pushUint24(t):r.pushUint32(t));for(const{encode:t}of e)t(r)}}}(e.map(e=>c(e))):function(e){const t="string"==typeof e?(0,a.aT)(e):e,n=l(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+n),1===n?e.pushUint8(t.length):2===n?e.pushUint16(t.length):3===n?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function l(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new r.C("Length is too large.")}},54407:e=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";n.r(t);var r="function"==typeof fetch?fetch.bind():function(e,t){return t=t||{},new Promise(function(n,r){var i=new XMLHttpRequest;for(var a in i.open(t.method||"get",e,!0),t.headers)i.setRequestHeader(a,t.headers[a]);function s(){var e,t=[],n=[],r={};return i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(i,a,s){t.push(a=a.toLowerCase()),n.push([a,s]),e=r[a],r[a]=e?e+","+s:s}),{ok:2==(i.status/100|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:s,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}i.withCredentials="include"==t.credentials,i.onload=function(){n(s())},i.onerror=r,i.send(t.body)})};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pluginName=t}return r(e,[{key:"track",value:function(e,t){window.analytics.track(e,t,{integration:{name:this.pluginName}})}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YouTubeAnalytics=t.VimeoAnalytics=void 0;var r=a(n(3)),i=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}t.VimeoAnalytics=r.default,t.YouTubeAnalytics=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"VimeoAnalytics"));return r.authToken=n,r.player=e,r.metadata={content:{},playback:{videoPlayer:"Vimeo"}},r.mostRecentHeartbeat=0,r.isPaused=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"initialize",value:function(){var e=this,t={loaded:this.retrieveMetadata,play:this.trackPlay,pause:this.trackPause,ended:this.trackEnded,timeupdate:this.trackHeartbeat};for(var n in t)this.registerHandler(n,t[n]);this.player.getVideoId().then(function(t){e.retrieveMetadata({id:t})}).catch(console.error)}},{key:"registerHandler",value:function(e,t){var n=this;this.player.on(e,function(e){n.updateMetadata(e),t.call(n,e)})}},{key:"trackPlay",value:function(){this.isPaused?(this.track("Video Playback Resumed",this.metadata.playback),this.isPaused=!1):(this.track("Video Playback Started",this.metadata.playback),this.track("Video Content Started",this.metadata.content))}},{key:"trackEnded",value:function(){this.track("Video Playback Completed",this.metadata.playback),this.track("Video Content Completed",this.metadata.content)}},{key:"trackHeartbeat",value:function(){var e=this.mostRecentHeartbeat,t=this.metadata.playback.position;t!==e&&t-e>=10&&(this.track("Video Content Playing",this.metadata.content),this.mostRecentHeartbeat=Math.floor(t))}},{key:"trackPause",value:function(){this.isPaused=!0,this.track("Video Playback Paused",this.metadata.playback)}},{key:"retrieveMetadata",value:function(e){var t=this;return new Promise(function(n,r){var a=e.id;(0,i.default)("https://api.vimeo.com/videos/"+a,{headers:{Authorization:"Bearer "+t.authToken}}).then(function(e){return e.ok?e.json():r(e)}).then(function(e){t.metadata.content.title=e.name,t.metadata.content.description=e.description,t.metadata.content.publisher=e.user.name,t.metadata.playback.position=0,t.metadata.playback.totalLength=e.duration}).catch(function(e){return console.error("Request to Vimeo API Failed with: ",e),r(e)})})}},{key:"updateMetadata",value:function(e){var t=this;return new Promise(function(n,r){t.player.getVolume().then(function(r){r&&(t.metadata.playback.sound=100*r),t.metadata.playback.position=e.seconds,n()}).catch(r)})}}]),t}(a(n(1)).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"YoutubeAnalytics"));return r.player=e,r.apiKey=n,r.playerLoaded=!1,r.playbackStarted=!1,r.contentStarted=!1,r.isPaused=!1,r.isBuffering=!1,r.isSeeking=!1,r.lastRecordedTime={timeReported:Date.now(),timeElapsed:0},r.metadata=[{playback:{video_player:"youtube"},content:{}}],r.playlistIndex=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"initialize",value:function(){window.segmentYoutubeOnStateChange=this.onPlayerStateChange.bind(this),window.segmentYoutubeOnReady=this.onPlayerReady.bind(this),this.player.addEventListener("onReady","segmentYoutubeOnReady"),this.player.addEventListener("onStateChange","segmentYoutubeOnStateChange")}},{key:"onPlayerReady",value:function(e){this.retrieveMetadata()}},{key:"onPlayerStateChange",value:function(e){var t=this.player.getCurrentTime();switch(this.metadata[this.playlistIndex]&&(this.metadata[this.playlistIndex].playback.position=this.metadata[this.playlistIndex].content.position=t,this.metadata[this.playlistIndex].playback.quality=this.player.getPlaybackQuality(),this.metadata[this.playlistIndex].playback.sound=this.player.isMuted()?0:this.player.getVolume()),e.data){case-1:if(this.playerLoaded)break;this.retrieveMetadata(),this.playerLoaded=!0;break;case YT.PlayerState.BUFFERING:this.handleBuffer();break;case YT.PlayerState.PLAYING:this.handlePlay();break;case YT.PlayerState.PAUSED:this.handlePause();break;case YT.PlayerState.ENDED:this.handleEnd()}this.lastRecordedTime={timeReported:Date.now(),timeElapsed:1e3*this.player.getCurrentTime()}}},{key:"retrieveMetadata",value:function(){var e=this;return new Promise(function(t,n){var r=e.player.getVideoData(),a=e.player.getPlaylist()||[r.video_id],s=a.join();(0,i.default)("https://www.googleapis.com/youtube/v3/videos?id="+s+"&part=snippet,contentDetails&key="+e.apiKey).then(function(e){if(!e.ok){var t=new Error("Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)");throw t.response=e,t}return e.json()}).then(function(n){e.metadata=[];for(var r=0,i=0;i<a.length;i++){var s=n.items[i];e.metadata.push({content:{title:s.snippet.title,description:s.snippet.description,keywords:s.snippet.tags,channel:s.snippet.channelTitle,airdate:s.snippet.publishedAt}}),r+=o(s.contentDetails.duration)}for(i=0;i<a.length;i++)e.metadata[i].playback={total_length:r,video_player:"youtube"};t()}).catch(function(t){e.metadata=a.map(function(e){return{playback:{video_player:"youtube"},content:{}}}),n(t)})})}},{key:"handleBuffer",value:function(){var e=this.determineSeek();this.playbackStarted||(this.playbackStarted=!0,this.track("Video Playback Started",this.metadata[this.playlistIndex].playback)),e&&!this.isSeeking&&(this.isSeeking=!0,this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback)),this.isSeeking&&(this.track("Video Playback Seek Completed",this.metadata[this.playlistIndex].playback),this.isSeeking=!1);var t=this.player.getPlaylist();t&&0===this.player.getCurrentTime()&&this.player.getPlaylistIndex()!==this.playlistIndex&&(this.contentStarted=!1,this.playlistIndex===t.length-1&&0===this.player.getPlaylistIndex()&&(this.track("Video Playback Completed",this.metadata[this.player.getPlaylistIndex()].playback),this.track("Video Playback Started",this.metadata[this.player.getPlaylistIndex()].playback))),this.track("Video Playback Buffer Started",this.metadata[this.playlistIndex].playback),this.isBuffering=!0}},{key:"handlePlay",value:function(){this.contentStarted||(this.playlistIndex=this.player.getPlaylistIndex(),-1===this.playlistIndex&&(this.playlistIndex=0),this.track("Video Content Started",this.metadata[this.playlistIndex].content),this.contentStarted=!0),this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused&&(this.track("Video Playback Resumed",this.metadata[this.playlistIndex].playback),this.isPaused=!1)}},{key:"handlePause",value:function(){var e=this.determineSeek();this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused||(e?(this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback),this.isSeeking=!0):(this.track("Video Playback Paused",this.metadata[this.playlistIndex].playback),this.isPaused=!0))}},{key:"handleEnd",value:function(){this.track("Video Content Completed",this.metadata[this.playlistIndex].content),this.contentStarted=!1;var e=this.player.getPlaylistIndex(),t=this.player.getPlaylist();(t&&e===t.length-1||-1===e)&&(this.track("Video Playback Completed",this.metadata[this.playlistIndex].playback),this.playbackStarted=!1)}},{key:"determineSeek",value:function(){var e=this.isPaused||this.isBuffering?0:Date.now()-this.lastRecordedTime.timeReported,t=1e3*this.player.getCurrentTime()-this.lastRecordedTime.timeElapsed;return Math.abs(e-t)>2e3}}]),t}(a(n(1)).default);function o(e){var t=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return t=t.slice(1).map(function(e){if(null!=e)return e.replace(/\D/,"")}),3600*(parseInt(t[0])||0)+60*(parseInt(t[1])||0)+(parseInt(t[2])||0)}t.default=s}])},54672:(e,t,n)=>{"use strict";var r=n(41874),i=r.assert,a=r.parseBytes,s=r.cachedProperty;function o(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},s(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(o,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),s(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},o.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=o},54833:(e,t,n)=>{"use strict";n.d(t,{So:()=>a});var r=n(30113),i=n(47026);(0,i.RS)(r.Md);const a=(()=>{const e=(0,i.RS)(r.lY);return e.create=r.lY.create,e})();(0,i.RS)(r.DZ),(0,i.RS)(r.a0)},54905:(e,t,n)=>{"use strict";const r=n(61253);e.exports=(e,t)=>new r(e,t).minor},54994:(e,t,n)=>{"use strict";var r;n.d(t,{v4:()=>u});var i=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var o=[],c=0;c<256;++c)o.push((c+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&s.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},u=function(e,t,n){var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return l(r)}},55211:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(50761),i=n(38903),a=n(39571);async function s(e,{blockHash:t,blockNumber:n,blockTag:s,hash:o,index:c,sender:l,nonce:u}){const d=s||"latest",f=void 0!==n?(0,i.cK)(n):void 0;let p=null;if(o?p=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?p=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,i.cK)(c)]},{dedupe:!0}):(f||d)&&"number"==typeof c?p=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[f||d,(0,i.cK)(c)]},{dedupe:Boolean(f)}):l&&"number"==typeof u&&(p=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[l,(0,i.cK)(u)]},{dedupe:!0})),!p)throw new r.Kz({blockHash:t,blockNumber:n,blockTag:d,hash:o,index:c});return(e.chain?.formatters?.transaction?.format||a.uP)(p,"getTransaction")}},55441:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(43244);const i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new r.hX({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new r.SK({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new r.B4({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new r.B4({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function a(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(i);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}},55608:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":"Verifique a sua conta {{adapter}} para continuar","adapter-loader.message1":"Verifique o(a) seu/sua {{adapter}}","adapter-loader.message2":"conta para continuar","allChains":"Todas as cadeias","connect-wallet.more-wallets":"Mais carteiras","connectYourWallet":"Conecte seu portefeuille","errors-invalid-email":"E-mail invlido","errors-invalid-number":"Nmero de telefone invlido","errors-invalid-number-email":"Email ou nmero de telefone invlido","errors-required":"Obrigatrio","external.all-wallets":"Todas as carteiras","external.back":"Voltar","external.connect":"Continuar com uma carteira","external.connect-wallet":"Conectar carteira","external.continue":"Continuar com carteira externa","external.continue-custom":"Continue com o {{wallet}}","external.dont-have":"No tem","external.get":"Obter","external.get-wallet":"Obter carteira","external.install-browser-extension":"Instalar extenso {{browser}}","external.install-mobile-app":"Instalar aplicativo {{os}}","external.installed":"Instalado","external.no-wallets-found":"Nenhuma carteira encontrada","external.qr-code-copied-to-clipboard":"URI copiado para a rea de transferncia","external.search-subtext":"Tente pesquisar","external.search-text":"No v sua carteira?","external.search-wallet":"Pesquisar atravs de {{count}} carteiras...","external.select-chain":"Selecionar cadeia","external.select-chain-description":"Este {{wallet}} carteira suporta vrias cadeias. Selecione a cadeia que voc gostaria de conectar","external.title":"Carteira Externa","external.walletconnect-connect":"Conectar","external.walletconnect-copy":"Digitalize o cdigo QR com uma carteira compatvel com WalletConnect ou clique no cdigo QR para copiar o link","external.walletconnect-subtitle":"Digitalize o cdigo QR com uma carteira compatvel com WalletConnect","footer.and":"e","footer.by-signing-in":"Ao se conectar, voc concorda com nossos","footer.message":"Login de autocustdia por","footer.message-new":"Autoconfiana via","footer.policy":"Poltica de Privacidade","footer.privacy-policy":"Poltica de privacidade","footer.terms":"Termos de Uso","footer.terms-of-service":"Termos de uso","footer.terms-service":"Termos de Servio","footer.version":"Verso","getWallet":"Obter carteira","header-subtitle":"Selecione uma das seguintes opes para continuar","header-subtitle-name":"Sua carteira {{appName}} com um clique","header-subtitle-new":"Sua carteira de blockchain com um clique","header-title":"Entrar","header-tooltip-desc":"A carteira serve como uma conta para armazenar e gerenciar seus ativos digitais na blockchain.","header-tooltip-title":"Carteira","loader.authorizing-header":"Verificar em {{connector}}","loader.authorizing-message":"Enviamos uma solicitao para seu portflio. Verifique no seu portflio para confirmar que voc possui este portflio.","loader.authorizing-verify-btn":"Clique aqui para verificar","network.add-request":"Este site est solicitando adicionar uma rede","network.cancel":"Cancelar","network.from":"De","network.proceed":"Prosseguir","network.switch-request":"Este site est solicitando trocar de rede","network.to":"Para","otp.email-subtext":"Por favor, insira o cdigo de verificao de 6 dgitos","otp.email-subtext-example":"que foi enviado para o seu email {{email}}","otp.email-title":"Verificao de email","otp.mobile-subtext":"Verifique o OTP enviado para","otp.mobile-title":"Verificao OTP","otp.success":"Voc est conectado ao seu conta!","passkey.add":"Adicionar Passkey","passkey.haveExisting":"Voc j possui um passkey?","passkey.learn-more":"Saber mais","passkey.or":"ou","passkey.register-desc":"Com passkeys, voc pode verificar sua identidade por meio de seu rosto, impresso digital ou chaves de segurana.","passkey.register-title":"Registre-se Passkey","passkey.use":"Eu tenho uma passkey","passwordless.title":"Continuar com {{title}}","popup.phone-body":"O cdigo do seu pas ser detectado automaticamente, mas se estiver usando um nmero de telefone de um pas diferente, voc precisar inserir manualmente o cdigo correto do pas.","popup.phone-header":"Nmero de telefone e cdigo do pas","post-loading.connected":"Voc est conectado com sua conta","post-loading.something-wrong":"Algo deu errado!","resendCode":"Reenviar cdigo","resendTimer":" Reenviar em {{timer}} segundos","social.continue":"Continuar com","social.continueCustom":"Continue com o {{adapter}}","social.email":"Email","social.email-continue":"Continuar com email","social.email-new":"nome@exemplo.com","social.passwordless-cta":"Continuar","social.passwordless-login":"Conecte-se","social.passwordless-title":"Email/Telefone","social.phone":"Telefone","social.policy":"No armazenamos nenhum dado relacionado ao seu login por rede social.","social.sign-in":"Entrar","social.sms":"Mvel","social.sms-continue":"Continuar com o celular","social.sms-invalid-number":"Nmero de telefone invlido","social.sms-placeholder-text":"Por exemplo:","social.view-less":"Ver menos","social.view-less-socials":"Ver menos socials","social.view-more":"Ver mais","social.view-more-socials":"Ver mais socials"},"passwordless":{"error-invalid-link":"Link de verificao invlido ou link expirado","error-invalid-origin":"Algo deu errado, cdigo de erro: E002","error-invalid-otp":"OTP invlido, por favor tente novamente","error-invalid-params":"Parmetros ausentes ou invlidos","error-invalid-test-account":"Conta de teste invlida","error-max-retry-limit-reached":"Voc atingiu o limite para tentativas erradas. Reinicie o fluxo novamente para concluir a verificao.","error-new-link-generated-heading":"Novo link de verificao gerado","error-no-mail-generated":"Nenhum correio gerado. Inicie o fluxo sem senha primeiro.","error-no-sms-generated":"Nenhum OTP gerado. Inicie o fluxo sem senha primeiro.","error-otp-expired":"OTP expirou","error-plan-limit-reached":"E411. Limite atingido","error-recaptcha-verification-failed":"A verificao Captcha falhou. Por favor, tente novamente.","error-sending-sms-failed":"Houve um erro de envio de um SMS. Por favor, tente novamente.","something-wrong-error":"Algo deu errado"}}')},55770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.definePattern=void 0;const r=n(87093);t.definePattern=function(e,t){return(0,r.define)(e,e=>"string"==typeof e&&t.test(e))}},55880:function(e,t,n){var r,i;!function(){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],i={},a=null;function s(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(){for(var n=this.getLevel(),i=0;i<r.length;i++){var a=r[i];this[a]=i<n?e:this.methodFactory(a,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function u(r,i,a){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?o:void 0!==console[r]?s(console,r):void 0!==console.log?s(console,"log"):e)}(r)||l.apply(this,arguments)}function d(e,n){var s,o,l,d=this,f="loglevel";function p(){var e;if(typeof window!==t&&f){try{e=window.localStorage[f]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(f),i=n.indexOf(r+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i+r.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function h(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?f+=":"+e:"symbol"==typeof e&&(f=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=n||u,d.getLevel=function(){return null!=l?l:null!=o?o:s},d.setLevel=function(e,n){return l=h(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&f){try{return void(window.localStorage[f]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+n+";"}catch(e){}}}(l),c.call(d)},d.setDefaultLevel=function(e){o=h(e),p()||d.setLevel(e,!1)},d.resetLevel=function(){l=null,function(){if(typeof window!==t&&f){try{window.localStorage.removeItem(f)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),c.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(a!==d&&(s=h(a.getLevel())),c.call(d),a===d)for(var e in i)i[e].rebuild()},s=h(a?a.getLevel():"WARN");var b=p();null!=b&&(l=h(b)),c.call(d)}(a=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=i[e];return t||(t=i[e]=new d(e,a.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return a.noConflict=function(){return typeof window!==t&&window.log===a&&(window.log=f),a},a.getLoggers=function(){return i},a.default=a,a},void 0===(i=r.call(t,n,t,e))||(e.exports=i)}()},56512:e=>{e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,n=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return n%=t,n++}}},56666:(e,t,n)=>{"use strict";n.d(t,{m:()=>f});var r=n(98158),i=n(3861),a=n(26088),s=n(49521),o=n(18963),c=n(32073),l=n(96250),u=n(26358);class d extends a.t{constructor(e){super(e),(0,r.A)(this,"connectorNamespace",s.R.EIP155),(0,r.A)(this,"currentChainNamespace",o.l.EIP155),(0,r.A)(this,"type",c.rp.EXTERNAL),(0,r.A)(this,"name",void 0),(0,r.A)(this,"isInjected",!0),(0,r.A)(this,"status",c.bo.NOT_READY),(0,r.A)(this,"injectedProvider",null),this.name=e.name,this.injectedProvider=e.provider,this.icon=e.icon}get provider(){return this.status!==c.bo.NOT_READY&&this.injectedProvider?this.injectedProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){await super.init(e);const t=this.coreOptions.chains.find(t=>t.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:t}),this.status=c.bo.READY,this.emit(c.qM.READY,this.name);try{if(l.R.debug(`initializing ${this.name} injected connector`),e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId,getIdentityToken:e.getIdentityToken})))throw this.rehydrated=!1,u.T7.connectionError("Failed to rehydrate.")}catch(e){this.emit(c.qM.REHYDRATION_ERROR,e)}}async connect({chainId:e,getIdentityToken:t}){if(super.checkConnectionRequirements(),!this.injectedProvider)throw u.T7.connectionError("Injected provider is not available");const n=this.coreOptions.chains.find(t=>t.chainId===e);if(!n)throw u.T7.connectionError("Chain config is not available");this.status=c.bo.CONNECTING,this.emit(c.qM.CONNECTING,{connector:this.name});try{if(await this.injectedProvider.request({method:"eth_requestAccounts"}),this.injectedProvider.chainId!==n.chainId)try{await this.switchChain(n,!0)}catch{await this.addChain(n,!0),await this.switchChain(n,!0)}this.status=c.bo.CONNECTED;const e=t=>{var n;0===t.length&&(this.disconnect(),null!==(n=this.injectedProvider)&&void 0!==n&&n.removeListener&&this.injectedProvider.removeListener("accountsChanged",e))};let r;return this.injectedProvider.on("accountsChanged",e),this.emit(c.qM.CONNECTED,{connector:this.name,reconnected:this.rehydrated,provider:this.injectedProvider,identityTokenInfo:r}),t&&(r=await this.getIdentityToken()),this.injectedProvider}catch(e){if(this.status=c.bo.READY,this.rehydrated||this.emit(c.qM.ERRORED,e),this.rehydrated=!1,e instanceof u.uF)throw e;throw u.T7.connectionError(`Failed to login with ${this.name} injected wallet`)}}async disconnect(e={cleanup:!1}){if(!this.injectedProvider)throw u.T7.connectionError("Injected provider is not available");await super.disconnectSession(),void 0!==this.injectedProvider.removeAllListeners&&this.injectedProvider.removeAllListeners();try{await this.injectedProvider.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch{}e.cleanup?(this.status=c.bo.NOT_READY,this.injectedProvider=null):this.status=c.bo.READY,await super.disconnect()}async getUserInfo(){if(!this.canAuthorize)throw u.T7.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e,t=!1){if(!this.injectedProvider)throw u.T7.connectionError("Injected provider is not available");await this.injectedProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}async switchChain(e,t=!1){if(!this.injectedProvider)throw u.T7.connectionError("Injected provider is not available");super.checkSwitchChainRequirements(e,t),await this.injectedProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]})}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}}const f=e=>({coreOptions:t})=>new d({name:(0,i.ks)(e.info.name),provider:e.provider,icon:e.info.icon,coreOptions:t})},56710:(e,t)=>{"use strict";function n(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function r(e,...t){if(!n(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function i(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function a(e){if("function"!=typeof e)throw new Error("function expected");return!0}function s(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function o(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function c(e){if(!Array.isArray(e))throw new Error("array expected")}function l(e,t){if(!i(!0,t))throw new Error(`${e}: array of strings expected`)}function u(e,t){if(!i(!1,t))throw new Error(`${e}: array of numbers expected`)}function d(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map(e=>e.encode).reduceRight(n,t),decode:e.map(e=>e.decode).reduce(n,t)}}function f(e){const t="string"==typeof e?e.split(""):e,n=t.length;l("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(c(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]})),decode:t=>(c(t),t.map(t=>{s("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}function p(e=""){return s("join",e),{encode:t=>(l("join.decode",t),t.join(e)),decode:t=>(s("join.decode",t),t.split(e))}}function h(e,t="="){return o(e),s("padding",t),{encode(n){for(l("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){l("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8==0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function b(e){return a(e),{encode:e=>e,decode:t=>e(t)}}function y(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(c(e),!e.length)return[];let r=0;const i=[],a=Array.from(e,e=>{if(o(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e}),s=a.length;for(;;){let e=0,o=!0;for(let i=r;i<s;i++){const s=a[i],c=t*e,l=c+s;if(!Number.isSafeInteger(l)||c/t!==e||l-s!==c)throw new Error("convertRadix: carry overflow");const u=l/n;e=l%n;const d=Math.floor(u);if(a[i]=d,!Number.isSafeInteger(d)||d*n+e!==l)throw new Error("convertRadix: carry overflow");o&&(d?o=!1:r=i)}if(i.push(e),o)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hexnopad=t.base32hex=t.base32nopad=t.base32=t.base16=t.utils=void 0;const m=(e,t)=>0===t?e:m(t,e%t),g=(e,t)=>e+(t-m(e,t)),w=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function v(e,t,n,r){if(c(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(g(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${g(t,n)}`);let i=0,a=0;const s=w[t],l=w[n]-1,u=[];for(const r of e){if(o(r),r>=s)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,a+t>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=n;a-=n)u.push((i>>a-n&l)>>>0);const e=w[a];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<n-a&l,!r&&a>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&a>0&&u.push(i>>>0),u}function E(e){return o(e),{encode:t=>{if(!n(t))throw new Error("radix.encode input should be Uint8Array");return y(Array.from(t),256,e)},decode:t=>(u("radix.decode",t),Uint8Array.from(y(t,e,256)))}}function x(e,t=!1){if(o(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(g(8,e)>32||g(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!n(r))throw new Error("radix2.encode input should be Uint8Array");return v(Array.from(r),8,e,!t)},decode:n=>(u("radix2.decode",n),Uint8Array.from(v(n,e,8,t)))}}function S(e){return a(e),function(...t){try{return e.apply(null,t)}catch(e){}}}function T(e,t){return o(e),a(t),{encode(r){if(!n(r))throw new Error("checksum.encode: input should be Uint8Array");const i=t(r).slice(0,e),a=new Uint8Array(r.length+e);return a.set(r),a.set(i,r.length),a},decode(r){if(!n(r))throw new Error("checksum.decode: input should be Uint8Array");const i=r.slice(0,-e),a=r.slice(-e),s=t(i).slice(0,e);for(let t=0;t<e;t++)if(s[t]!==a[t])throw new Error("Invalid checksum");return i}}}t.utils={alphabet:f,chain:d,checksum:T,convertRadix:y,convertRadix2:v,radix:E,radix2:x,join:p,padding:h},t.base16=d(x(4),f("0123456789ABCDEF"),p("")),t.base32=d(x(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),h(5),p("")),t.base32nopad=d(x(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p("")),t.base32hex=d(x(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),h(5),p("")),t.base32hexnopad=d(x(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p("")),t.base32crockford=d(x(5),f("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),p(""),b(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const A=(()=>"function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64)(),_=(e,t)=>{s("base64",e);const n=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,r=t?"base64url":"base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})};t.base64=A?{encode:e=>(r(e),e.toBase64()),decode:e=>_(e,!1)}:d(x(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),h(6),p("")),t.base64nopad=d(x(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p("")),t.base64url=A?{encode:e=>(r(e),e.toBase64({alphabet:"base64url"})),decode:e=>_(e,!0)}:d(x(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),h(6),p("")),t.base64urlnopad=d(x(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p(""));const C=e=>d(E(58),f(e),p(""));t.base58=C("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=C("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=C("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const k=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let n="";for(let r=0;r<e.length;r+=8){const i=e.subarray(r,r+8);n+=t.base58.encode(i).padStart(k[i.length],"1")}return n},decode(e){let n=[];for(let r=0;r<e.length;r+=11){const i=e.slice(r,r+11),a=k.indexOf(i.length),s=t.base58.decode(i);for(let e=0;e<s.length-a;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(s.slice(s.length-a)))}return Uint8Array.from(n)}},t.createBase58check=e=>d(T(4,t=>e(e(t))),t.base58),t.base58check=t.createBase58check;const I=d(f("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),p("")),P=[996825010,642813549,513874426,1027748829,705979059];function O(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<P.length;e++)1==(t>>e&1)&&(n^=P[e]);return n}function M(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=O(i)^n>>5}i=O(i);for(let t=0;t<r;t++)i=O(i)^31&e.charCodeAt(t);for(let e of t)i=O(i)^e;for(let e=0;e<6;e++)i=O(i);return i^=n,I.encode(v([i%w[30]],30,5,!1))}function R(e){const t="bech32"===e?1:734539939,r=x(5),i=r.decode,a=r.encode,o=S(i);function c(e,r,i=90){s("bech32.encode prefix",e),n(r)&&(r=Array.from(r)),u("bech32.encode",r);const a=e.length;if(0===a)throw new TypeError(`Invalid prefix length ${a}`);const o=a+7+r.length;if(!1!==i&&o>i)throw new TypeError(`Length ${o} exceeds limit ${i}`);const c=e.toLowerCase(),l=M(c,r,t);return`${c}1${I.encode(r)}${l}`}function l(e,n=90){s("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError(`invalid string length: ${r} (${e}). Expected (8..${n})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const a=i.lastIndexOf("1");if(0===a||-1===a)throw new Error('Letter "1" must be present between prefix and data only');const o=i.slice(0,a),c=i.slice(a+1);if(c.length<6)throw new Error("Data must be at least 6 characters long");const l=I.decode(c).slice(0,-6),u=M(o,l,t);if(!c.endsWith(u))throw new Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:o,words:l}}return{encode:c,decode:l,encodeFromBytes:function(e,t){return c(e,a(t))},decodeToBytes:function(e){const{prefix:t,words:n}=l(e,!1);return{prefix:t,words:n,bytes:i(n)}},decodeUnsafe:S(l),fromWords:i,fromWordsUnsafe:o,toWords:a}}t.bech32=R("bech32"),t.bech32m=R("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};const N=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),L={encode:e=>(r(e),e.toHex()),decode:e=>(s("hex",e),Uint8Array.fromHex(e))};t.hex=N?L:d(x(4),f("0123456789abcdef"),p(""),b(e=>{if("string"!=typeof e||e.length%2!=0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const D={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},B="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!D.hasOwnProperty(e))throw new TypeError(B);if(!n(t))throw new TypeError("bytesToString() expects Uint8Array");return D[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!D.hasOwnProperty(e))throw new TypeError(B);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return D[e].decode(t)},t.bytes=t.stringToBytes},56857:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":" {{adapter}}  ","adapter-loader.message1":"{{adapter}} ","adapter-loader.message2":" ","allChains":" ","connect-wallet.more-wallets":"  ","connectYourWallet":" ","errors-invalid-email":"  ","errors-invalid-number":"  ","errors-invalid-number-email":"    ","errors-required":"","external.all-wallets":" ","external.back":"","external.connect":" ","external.connect-wallet":" ","external.continue":"  ","external.continue-custom":"{{wallet}} ","external.dont-have":"","external.get":"","external.get-wallet":" ","external.install-browser-extension":"{{browser}}   ","external.install-mobile-app":"{{os}}  ","external.installed":" ","external.no-wallets-found":"   .","external.qr-code-copied-to-clipboard":"URI   .","external.search-subtext":"","external.search-text":"  ?","external.search-wallet":"{{count}}   ...","external.select-chain":" ","external.select-chain-description":" {{wallet}}    .   ","external.title":" ","external.walletconnect-connect":"","external.walletconnect-copy":"WalletConnect   QR   QR    .","external.walletconnect-subtitle":"WalletConnect   QR  ","footer.and":"","footer.by-signing-in":" ","footer.message":"  ","footer.message-new":" ","footer.policy":" ","footer.privacy-policy":"  ","footer.terms":" ","footer.terms-of-service":" ","footer.terms-service":" ","footer.version":"","getWallet":" ","header-subtitle":"    ","header-subtitle-name":"   {{appName}}  ","header-subtitle-new":"     ","header-title":"","header-tooltip-desc":"          .","header-tooltip-title":"","loader.authorizing-header":"{{connector}} ","loader.authorizing-message":"  .       .","loader.authorizing-verify-btn":"  ","network.add-request":"     ","network.cancel":"","network.from":" ","network.proceed":"","network.switch-request":"     ","network.to":" ","otp.email-subtext":"6   ","otp.email-subtext-example":"{{email}}  ","otp.email-title":" ","otp.mobile-subtext":"OTP ","otp.mobile-title":"OTP ","otp.success":"    !","passkey.add":"Passkey ","passkey.haveExisting":" passkey ?","passkey.learn-more":" ","passkey.or":"","passkey.register-desc":"passkeys   ,         .","passkey.register-title":"Passkey ","passkey.use":" Passkey ","passwordless.title":"{{title}}  ","popup.phone-body":"   .      ,      .","popup.phone-header":"   ","post-loading.connected":" ","post-loading.something-wrong":" !","resendCode":"  ","resendTimer":" {{timer}}    ","social.continue":"","social.continueCustom":"{{adapter}} ","social.email":"","social.email-continue":" ","social.email-new":"name@example.com","social.passwordless-cta":"","social.passwordless-login":"","social.passwordless-title":"/","social.phone":"","social.policy":"       .","social.sign-in":"","social.sms":"","social.sms-continue":" ","social.sms-invalid-number":"  ","social.sms-placeholder-text":":","social.view-less":" ","social.view-less-socials":"Socials  ","social.view-more":"","social.view-more-socials":"Socials "},"passwordless":{"error-invalid-link":"     ","error-invalid-origin":" ,  : E002","error-invalid-otp":"  OTP.   .","error-invalid-params":"   .","error-invalid-test-account":"  ","error-max-retry-limit-reached":"   .      .","error-new-link-generated-heading":"   .","error-no-mail-generated":"  .     .","error-no-sms-generated":"OTP  .     .","error-otp-expired":"OTP ","error-plan-limit-reached":"E411.  ","error-recaptcha-verification-failed":"Captcha  .   .","error-sending-sms-failed":"SMS    .   .","something-wrong-error":" "}}')},57782:(e,t,n)=>{"use strict";var r=n(82823),i=n(41874),a=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function o(){this.place=0}function c(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;if(0===e[t.place])return!1;for(var i=0,a=0,s=t.place;a<r;a++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function l(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new o;if(48!==e[n.place++])return!1;var a=c(e,n);if(!1===a)return!1;if(a+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var s=c(e,n);if(!1===s)return!1;if(128&e[n.place])return!1;var l=e.slice(n.place,s+n.place);if(n.place+=s,2!==e[n.place++])return!1;var u=c(e,n);if(!1===u)return!1;if(e.length!==u+n.place)return!1;if(128&e[n.place])return!1;var d=e.slice(n.place,u+n.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new r(l),this.s=new r(d),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=l(t),n=l(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];u(r,t.length),(r=r.concat(t)).push(2),u(r,n.length);var a=r.concat(n),s=[48];return u(s,a.length),s=s.concat(a),i.encode(s,e)}},57859:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},58423:(e,t,n)=>{"use strict";n.d(t,{MM:()=>O,ft:()=>N});var r=n(34820),i=n(80204),a=n(87041),s=n(74846),o=n(62408),c=n(86237),l=n(62421),u=n(38903);function d(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,l.aT)(e)):e.blobs,i=[];for(const e of r)i.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===n?i:i.map(e=>(0,u.My)(e))}function f(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,l.aT)(e)):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,l.aT)(e)):e.commitments,a=[];for(let e=0;e<r.length;e++){const n=r[e],s=i[e];a.push(Uint8Array.from(t.computeBlobKzgProof(n,s)))}return"bytes"===n?a:a.map(e=>(0,u.My)(e))}var p=n(52001),h=n(23785);function b(e){const{commitment:t,version:n=1}=e,r=e.to??("string"==typeof t?"hex":"bytes"),i=function(e){const t=(0,p.sc)((0,h.q)(e,{strict:!1})?(0,l.ZJ)(e):e);return t}(t);return i.set([n],0),"bytes"===r?i:(0,u.My)(i)}const y=32,m=4096,g=y*m,w=6*g-1-1*m*6;var v=n(14323);class E extends v.C{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class x extends v.C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}v.C,v.C;var S=n(55441),T=n(96943);var A=n(58501),_=n(95394),C=n(70823),k=n(50761),I=n(90244),P=n(50327);const O=["blobVersionedHashes","chainId","fees","gas","nonce","type"],M=new Map,R=new _.A(128);async function N(e,t){const{account:n=e.account,chain:p,nonceManager:h,parameters:v=O}=t;let _;async function N(){if(_)return _;if(p)return p.id;if(void 0!==t.chainId)return t.chainId;const n=await(0,A.T)(e,P.T,"getChainId")({});return _=n,_}const L=n?(0,r.J)(n):n;let D=t.nonce;if(v.includes("nonce")&&void 0===D&&L&&h){const t=await N();D=await h.consume({address:L.address,chainId:t,client:e})}const B=!1!==R.get(e.uid)&&["fees","gas"].some(e=>t.parameters?.includes(e))?await(0,A.T)(e,I.a,"fillTransaction")({...t,nonce:D}).then(n=>{const{chainId:r,from:i,gas:a,gasPrice:s,nonce:o,maxFeePerBlobGas:c,maxFeePerGas:l,maxPriorityFeePerGas:u,type:d}=n.transaction;return R.set(e.uid,!0),{...t,...r?{chainId:r}:{},...i?{from:i}:{},...a?{gas:a}:{},...s?{gasPrice:s}:{},...o?{nonce:o}:{},...c?{maxFeePerBlobGas:c}:{},...l?{maxFeePerGas:l}:{},...u?{maxPriorityFeePerGas:u}:{},...d?{type:d}:{}}}).catch(n=>(n.walk(e=>{const t=e;return"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name})&&R.set(e.uid,!1),t)):t,{blobs:j,gas:U,kzg:F,type:$}=B;D??=B.nonce;const z={...B,...L?{from:L?.address}:{},...D?{nonce:D}:{}};let H;async function q(){return H||(H=await(0,A.T)(e,s.g,"getBlock")({blockTag:"latest"}),H)}if(v.includes("nonce")&&void 0===D&&L&&!h&&(z.nonce=await(0,A.T)(e,o.y,"getTransactionCount")({address:L.address,blockTag:"pending"})),(v.includes("blobVersionedHashes")||v.includes("sidecars"))&&j&&F){const e=d({blobs:j,kzg:F});if(v.includes("blobVersionedHashes")){const t=function(e){const{commitments:t,version:n}=e,r=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(const e of t)i.push(b({commitment:e,to:r,version:n}));return i}({commitments:e,to:"hex"});z.blobVersionedHashes=t}if(v.includes("sidecars")){const t=function(e){const{data:t,kzg:n,to:r}=e,i=e.blobs??function(e){const t=e.to??("string"==typeof e.data?"hex":"bytes"),n="string"==typeof e.data?(0,l.aT)(e.data):e.data,r=(0,T.E)(n);if(!r)throw new x;if(r>w)throw new E({maxSize:w,size:r});const i=[];let a=!0,s=0;for(;a;){const e=(0,S.l)(new Uint8Array(g));let t=0;for(;t<m;){const r=n.slice(s,s+(y-1));if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),a=!1;break}t++,s+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>(0,u.My)(e.bytes))}({data:t,to:r}),a=e.commitments??d({blobs:i,kzg:n,to:r}),s=e.proofs??f({blobs:i,commitments:a,kzg:n,to:r}),o=[];for(let e=0;e<i.length;e++)o.push({blob:i[e],commitment:a[e],proof:s[e]});return o}({blobs:j,commitments:e,proofs:f({blobs:j,commitments:e,kzg:F}),to:"hex"});z.sidecars=t}}if(v.includes("chainId")&&(z.chainId=await N()),(v.includes("fees")||v.includes("type"))&&void 0===$)try{z.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new k.Vg({transaction:e})}(z)}catch{let t=M.get(e.uid);if(void 0===t){const n=await q();t="bigint"==typeof n?.baseFeePerGas,M.set(e.uid,t)}z.type=t?"eip1559":"legacy"}if(v.includes("fees"))if("legacy"!==z.type&&"eip2930"!==z.type){if(void 0===z.maxFeePerGas||void 0===z.maxPriorityFeePerGas){const t=await q(),{maxFeePerGas:n,maxPriorityFeePerGas:r}=await(0,i.O)(e,{block:t,chain:p,request:z});if(void 0===z.maxPriorityFeePerGas&&z.maxFeePerGas&&z.maxFeePerGas<r)throw new c.RR({maxPriorityFeePerGas:r});z.maxPriorityFeePerGas=r,z.maxFeePerGas=n}}else{if(void 0!==z.maxFeePerGas||void 0!==z.maxPriorityFeePerGas)throw new c.pw;if(void 0===z.gasPrice){const t=await q(),{gasPrice:n}=await(0,i.O)(e,{block:t,chain:p,request:z,type:"legacy"});z.gasPrice=n}}return v.includes("gas")&&void 0===U&&(z.gas=await(0,A.T)(e,a.Q,"estimateGas")({...z,account:L,prepare:"local"===L?.type?[]:["blobVersionedHashes"]})),(0,C.c)(z),delete z.parameters,z}},58470:(e,t,n)=>{"use strict";n.d(t,{h:()=>h,k:()=>m});var r=n(37663),i=n(66077),a=n(14323),s=n(85704),o=n(95068),c=n(30666),l=n(63577),u=n(96943),d=n(65846),f=n(38903),p=n(95976);function h(e,t){if(e.length!==t.length)throw new r.YE({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(b({param:e[r],value:t[r]}));return n}({params:e,values:t}),i=y(n);return 0===i.length?"0x":i}function b({param:e,value:t}){const n=m(e.type);if(n){const[i,a]=n;return function(e,{length:t,param:n}){const i=null===t;if(!Array.isArray(e))throw new r.dm(e);if(!i&&e.length!==t)throw new r.Nc({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let a=!1;const s=[];for(let t=0;t<e.length;t++){const r=b({param:n,value:e[t]});r.dynamic&&(a=!0),s.push(r)}if(i||a){const e=y(s);if(i){const t=(0,f.cK)(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?(0,c.xW)([t,e]):t}}if(a)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,c.xW)(s.map(({encoded:e})=>e))}}(t,{length:i,param:{...e,type:a}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const a=t.components[i],s=b({param:a,value:e[Array.isArray(e)?i:a.name]});r.push(s),s.dynamic&&(n=!0)}return{dynamic:n,encoded:n?y(r):(0,c.xW)(r.map(({encoded:e})=>e))}}(t,{param:e});if("address"===e.type)return function(e){if(!(0,o.P)(e))throw new i.M({address:e});return{dynamic:!1,encoded:(0,l.db)(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){if("boolean"!=typeof e)throw new a.C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,l.db)((0,f.$P)(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int"),[,,r="256"]=p.Ge.exec(e.type)??[];return function(e,{signed:t,size:n=256}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new s.Ty({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:(0,f.cK)(e,{size:32,signed:t})}}(t,{signed:n,size:Number(r)})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),i=(0,u.E)(e);if(!n){let t=e;return i%32!=0&&(t=(0,l.db)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,c.xW)([(0,l.db)((0,f.cK)(i,{size:32})),t])}}if(i!==Number.parseInt(n,10))throw new r.gH({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:(0,l.db)(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=(0,f.i3)(e),n=Math.ceil((0,u.E)(t)/32),r=[];for(let e=0;e<n;e++)r.push((0,l.db)((0,d.di)(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,c.xW)([(0,l.db)((0,f.cK)((0,u.E)(t),{size:32})),...r])}}(t);throw new r.nK(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function y(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:i}=e[n];t+=r?32:(0,u.E)(i)}const n=[],r=[];let i=0;for(let a=0;a<e.length;a++){const{dynamic:s,encoded:o}=e[a];s?(n.push((0,f.cK)(t+i,{size:32})),r.push(o),i+=(0,u.E)(o)):n.push(o)}return(0,c.xW)([...n,...r])}function m(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},58479:e=>{"use strict";e.exports=Math.abs},58501:(e,t,n)=>{"use strict";function r(e,t,n){const r=e[t.name];if("function"==typeof r)return r;const i=e[n];return"function"==typeof i?i:n=>t(e,n)}n.d(t,{T:()=>r})},59333:(e,t,n)=>{"use strict";const r=n(39907),{ArrayPrototypeIndexOf:i,NumberIsInteger:a,NumberIsNaN:s,NumberParseInt:o,ObjectDefineProperties:c,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:d,SafeSet:f,SymbolAsyncDispose:p,SymbolAsyncIterator:h,Symbol:b}=n(70273);e.exports=V,V.ReadableState=W;const{EventEmitter:y}=n(50046),{Stream:m,prependListener:g}=n(40670),{Buffer:w}=n(1048),{addAbortSignal:v}=n(52682),E=n(92549);let x=n(48449).debuglog("stream",e=>{x=e});const S=n(88610),T=n(20863),{getHighWaterMark:A,getDefaultHighWaterMark:_}=n(97872),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:O,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:R}=n(61150),{validateObject:N}=n(98080),L=b("kPaused"),{StringDecoder:D}=n(32664),B=n(17533);u(V.prototype,m.prototype),u(V,m);const j=()=>{},{errorOrDestroy:U}=T,F=1,$=16,z=32,H=2048,q=4096;function K(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function W(e,t,r){"boolean"!=typeof r&&(r=t instanceof n(96631)),this.state=H|q|$|z,e&&e.objectMode&&(this.state|=F),r&&e&&e.readableObjectMode&&(this.state|=F),this.highWaterMark=e?A(this,e,"readableHighWaterMark",r):_(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[L]=null,e&&!1===e.emitClose&&(this.state&=~H),e&&!1===e.autoDestroy&&(this.state&=~q),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new D(e.encoding),this.encoding=e.encoding)}function V(e){if(!(this instanceof V))return new V(e);const t=this instanceof n(96631);this._readableState=new W(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&v(e.signal,this)),m.call(this,e),T.construct(this,()=>{this._readableState.needReadable&&Q(this,this._readableState)})}function G(e,t,n,r){x("readableAddChunk",t);const i=e._readableState;let a;if(0===(i.state&F)&&("string"==typeof t?(n=n||i.defaultEncoding,i.encoding!==n&&(r&&i.encoding?t=w.from(t,n).toString(i.encoding):(t=w.from(t,n),n=""))):t instanceof w?n="":m._isUint8Array(t)?(t=m._uint8ArrayToBuffer(t),n=""):null!=t&&(a=new k("chunk",["string","Buffer","Uint8Array"],t))),a)U(e,a);else if(null===t)i.state&=-9,function(e,t){if(x("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?Z(e):(t.needReadable=!1,t.emittedReadable=!0,X(e))}}(e,i);else if(0!==(i.state&F)||t&&t.length>0)if(r)if(4&i.state)U(e,new M);else{if(i.destroyed||i.errored)return!1;Y(e,i,t,!0)}else if(i.ended)U(e,new O);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!n?(t=i.decoder.write(t),i.objectMode||0!==t.length?Y(e,i,t,!1):Q(e,i)):Y(e,i,t,!1)}else r||(i.state&=-9,Q(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function Y(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(65536&t.state?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),64&t.state&&Z(e)),Q(e,t)}function J(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&F)?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function Z(e){const t=e._readableState;x("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(x("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(X,e))}function X(e){const t=e._readableState;x("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Q(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const n=t.length;if(x("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function te(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[L]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function ne(e){x("readable nexttick read 0"),e.read(0)}function re(e,t){x("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){const t=e._readableState;for(x("flow",t.flowing);t.flowing&&null!==e.read(););}function ae(e,t){"function"!=typeof e.read&&(e=V.wrap(e,{objectMode:!0}));const n=async function*(e,t){let n,r=j;function i(t){this===e?(r(),r=j):r=t}e.on("readable",i);const a=E(e,{writable:!1},e=>{n=e?C(n,e):null,r(),r=j});try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new d(i)}}}catch(e){throw n=C(n,e),n}finally{!n&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",i),a()):T.destroyer(e,null)}}(e,t);return n.stream=e,n}function se(e,t){if(0===t.length)return null;let n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function oe(e){const t=e._readableState;x("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(ce,t,e))}function ce(e,t){if(x("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(le,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function le(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ue;function de(){return void 0===ue&&(ue={}),ue}c(W.prototype,{objectMode:K(F),ended:K(2),endEmitted:K(4),reading:K(8),constructed:K($),sync:K(z),needReadable:K(64),emittedReadable:K(128),readableListening:K(256),resumeScheduled:K(512),errorEmitted:K(1024),emitClose:K(H),autoDestroy:K(q),destroyed:K(8192),closed:K(16384),closeEmitted:K(32768),multiAwaitDrain:K(65536),readingMore:K(1<<17),dataEmitted:K(1<<18)}),V.prototype.destroy=T.destroy,V.prototype._undestroy=T.undestroy,V.prototype._destroy=function(e,t){t(e)},V.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},V.prototype[p]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new R,this.destroy(e)),new d((t,n)=>E(this,r=>r&&r!==e?n(r):t(null)))},V.prototype.push=function(e,t){return G(this,e,t,!1)},V.prototype.unshift=function(e,t){return G(this,e,t,!0)},V.prototype.isPaused=function(){const e=this._readableState;return!0===e[L]||!1===e.flowing},V.prototype.setEncoding=function(e){const t=new D(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const e of n)r+=t.write(e);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this},V.prototype.read=function(e){x("read",e),void 0===e?e=NaN:a(e)||(e=o(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new P("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return x("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?oe(this):Z(this),null;if(0===(e=J(e,t))&&t.ended)return 0===t.length&&oe(this),null;let r,i=!!(64&t.state);if(x("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,x("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,x("reading, ended or constructing",i);else if(i){x("do read"),t.state|=8|z,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(e){U(this,e)}t.state&=~z,t.reading||(e=J(n,t))}return r=e>0?se(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&oe(this)),null===r||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",r)),r},V.prototype._read=function(e){throw new I("_read()")},V.prototype.pipe=function(e,t){const n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),x("pipe count=%d opts=%j",i.pipes.length,t);const a=t&&!1===t.end||e===r.stdout||e===r.stderr?b:s;function s(){x("onend"),e.end()}let o;i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",function t(r,a){x("onunpipe"),r===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,x("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),o&&e.removeListener("drain",o),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",b),n.removeListener("data",u),c=!0,o&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&o())});let c=!1;function l(){c||(1===i.pipes.length&&i.pipes[0]===e?(x("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(x("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),o||(o=function(e,t){return function(){const n=e._readableState;n.awaitDrainWriters===t?(x("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(x("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(n,e),e.on("drain",o))}function u(t){x("ondata");const n=e.write(t);x("dest.write",n),!1===n&&l()}function d(t){if(x("onerror",t),b(),e.removeListener("error",d),0===e.listenerCount("error")){const n=e._writableState||e._readableState;n&&!n.errorEmitted?U(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",h),b()}function h(){x("onfinish"),e.removeListener("close",p),b()}function b(){x("unpipe"),n.unpipe(e)}return n.on("data",u),g(e,"error",d),e.once("close",p),e.once("finish",h),e.emit("pipe",n),!0===e.writableNeedDrain?l():i.flowing||(x("pipe resume"),n.resume()),e},V.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const n=i(t.pipes,e);return-1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},V.prototype.on=function(e,t){const n=m.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,x("on readable",i.length,i.reading),i.length?Z(this):i.reading||r.nextTick(ne,this))),n},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(e,t){const n=m.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(te,this),n},V.prototype.off=V.prototype.removeListener,V.prototype.removeAllListeners=function(e){const t=m.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(te,this),t},V.prototype.resume=function(){const e=this._readableState;return e.flowing||(x("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(re,e,t))}(this,e)),e[L]=!1,this},V.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[L]=!0,this},V.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{U(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const n=l(e);for(let t=1;t<n.length;t++){const r=n[t];void 0===this[r]&&"function"==typeof e[r]&&(this[r]=e[r].bind(e))}return this},V.prototype[h]=function(){return ae(this)},V.prototype.iterator=function(e){return void 0!==e&&N(e,"options"),ae(this,e)},c(V.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[L]},set(e){this[L]=!!e}}}),V._fromList=se,V.from=function(e,t){return B(V,e,t)},V.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},V.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},V.wrap=function(e,t){var n,r;return new V({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n,...t,destroy(t,n){T.destroyer(e,t),n(t)}}).wrap(e)}},59499:(e,t,n)=>{"use strict";const r=n(54994).v4,i=n(93514),a=function(e,t){if(!(this instanceof a))return new a(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return r()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=a,a.prototype.request=function(e,t,n,r){const a=this;let s=null;const o=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&e&&"object"==typeof e&&"function"==typeof t)r=t,s=e;else{"function"==typeof n&&(r=n,n=void 0);const a="function"==typeof r;try{s=i(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(a)return r(e);throw e}if(!a)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(e){return r(e)}return this.callServer(c,function(e,t){a._parseResponse(e,t,r)}),s},a.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(e){return n(e)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return void 0!==e.error},t=function(t){return!e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r)}},59680:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,a,s=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),a=i-(n||i);r.diff=a,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return"%";s++;const a=t.formatters[i];if("function"==typeof a){const t=e[s];n=a.call(r,t),e.splice(s,1),s--}return n}),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(43961),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},59756:(e,t,n)=>{"use strict";const{ErrorWithCause:r}=n(14525),{findCauseByReference:i,getErrorCause:a,messageWithCauses:s,stackWithCauses:o}=n(12197);e.exports={ErrorWithCause:r,findCauseByReference:i,getErrorCause:a,stackWithCauses:o,messageWithCauses:s}},60177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64=void 0;const r=n(87093),i=n(15482);t.base64=(e,t={})=>{const n=t.paddingRequired??!1,a=t.characterSet??"base64";let s,o;return"base64"===a?s=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===a),s=String.raw`[-_A-Za-z0-9]`),o=n?new RegExp(`^(?:${s}{4})*(?:${s}{3}=|${s}{2}==)?$`,"u"):new RegExp(`^(?:${s}{4})*(?:${s}{2,3}|${s}{3}=|${s}{2}==)?$`,"u"),(0,r.pattern)(e,o)}},60277:(e,t,n)=>{"use strict";var r=n(41874),i=n(82823),a=n(35615),s=n(85174),o=r.assert;function c(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,n,r){s.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,n,r){s.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?n=a[0]:(n=a[1],o(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map(function(e){return{a:new i(e.a,16),b:new i(e.b,16)}}):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),a=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(a).fromRed(),r.redSub(a).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,n,r,a,s,o,c,l,u,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,p=this.n.clone(),h=new i(1),b=new i(0),y=new i(0),m=new i(1),g=0;0!==f.cmpn(0);){var w=p.div(f);l=p.sub(w.mul(f)),u=y.sub(w.mul(h));var v=m.sub(w.mul(b));if(!r&&l.cmp(d)<0)t=c.neg(),n=h,r=l.neg(),a=u;else if(r&&2===++g)break;c=l,p=f,f=l,y=h,h=u,m=b,b=v}s=l.neg(),o=u;var E=r.sqr().add(a.sqr());return s.sqr().add(o.sqr()).cmp(E)>=0&&(s=t,o=n),r.negative&&(r=r.neg(),a=a.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:r,b:a},{a:s,b:o}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),s=i.mul(n.a),o=a.mul(r.a),c=i.mul(n.b),l=a.mul(r.b);return{k1:e.sub(s).sub(o),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var a=r.fromRed().isOdd();return(t&&!a||!t&&a)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),r[2*a]=o,r[2*a+1]=c,i[2*a]=s.k1,i[2*a+1]=s.k2}for(var l=this._wnafMulAdd(1,r,i,2*a,n),u=0;u<2*a;u++)r[u]=null,i[u]=null;return l},a(l,s.BasePoint),c.prototype.point=function(e,t,n){return new l(this,e,t,n)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var a=t[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(i))}},r},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},l.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(u,s.BasePoint),c.prototype.jpoint=function(e,t,n){return new u(this,e,t,n)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),o=r.redSub(i),c=a.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),d=r.redMul(l),f=c.redSqr().redIAdd(u).redISub(d).redISub(d),p=c.redMul(d.redISub(f)).redISub(a.redMul(u)),h=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(f,p,h)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=n.redSub(r),o=i.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),u=n.redMul(c),d=o.redSqr().redIAdd(l).redISub(u).redISub(u),f=o.redMul(u.redISub(d)).redISub(i.redMul(l)),p=this.z.redMul(s);return this.curve.jpoint(d,f,p)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),l=s.redAdd(s);for(t=0;t<e;t++){var u=a.redSqr(),d=l.redSqr(),f=d.redSqr(),p=u.redAdd(u).redIAdd(u).redIAdd(r.redMul(c)),h=a.redMul(d),b=p.redSqr().redISub(h.redAdd(h)),y=h.redISub(b),m=p.redMul(y);m=m.redIAdd(m).redISub(f);var g=l.redMul(o);t+1<e&&(c=c.redMul(f)),a=b,o=g,l=m}return this.curve.jpoint(a,l.redMul(i),o)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(a);s=s.redIAdd(s);var o=r.redAdd(r).redIAdd(r),c=o.redSqr().redISub(s).redISub(s),l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=o.redMul(s.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(u).redISub(f);p=p.redIAdd(p);var h=u.redAdd(u).redIAdd(u),b=h.redSqr(),y=f.redIAdd(f);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(p).redISub(p),t=h.redMul(p.redISub(e)).redISub(y),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},u.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(a);s=s.redIAdd(s);var o=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),t=o.redMul(s.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),p=this.x.redSub(u).redMul(this.x.redAdd(u));p=p.redAdd(p).redIAdd(p);var h=f.redIAdd(f),b=(h=h.redIAdd(h)).redAdd(h);e=p.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);var y=d.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=p.redMul(h.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,n)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),a=t.redSqr(),s=n.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(s),u=o.redSqr().redISub(l.redAdd(l)),d=l.redISub(u),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=o.redMul(d).redISub(f),h=n.redAdd(n).redMul(r);return this.curve.jpoint(u,p,h)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(r),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.x.redMul(o).redISub(u);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(l.redMul(c.redISub(l)).redISub(s.redMul(o)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=this.z.redAdd(s).redSqr().redISub(n).redISub(o);return this.curve.jpoint(d,f,p)},u.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},60351:(e,t,n)=>{"use strict";const r=n(93510);e.exports=(e,t,n)=>r(e,t,"<",n)},60563:(e,t,n)=>{"use strict";n.d(t,{Sl:()=>i,X:()=>s,eV:()=>o,kK:()=>a});var r=n(76935);function i(e,t){if(r.Ej(e)>t)throw new r.u({givenSize:r.Ej(e),maxSize:t})}function a(e,t){if("number"==typeof t&&t>0&&t>r.Ej(e)-1)throw new r.ii({offset:t,position:"start",size:r.Ej(e)})}function s(e,t,n){if("number"==typeof t&&"number"==typeof n&&r.Ej(e)!==n-t)throw new r.ii({offset:n,position:"end",size:r.Ej(e)})}function o(e,t={}){const{dir:n,size:i=32}=t;if(0===i)return e;const a=e.replace("0x","");if(a.length>2*i)throw new r.Fl({size:Math.ceil(a.length/2),targetSize:i,type:"Hex"});return`0x${a["right"===n?"padEnd":"padStart"](2*i,"0")}`}},61049:(e,t,n)=>{const r=n(72694);function i(e,t,n){const r=e[t]+e[n];let i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function a(e,t,n,r){let i=e[t]+n;n<0&&(i+=4294967296);let a=e[t+1]+r;i>=4294967296&&a++,e[t]=i,e[t+1]=a}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function o(e,t,n,r,s,o){const c=d[s],l=d[s+1],f=d[o],p=d[o+1];i(u,e,t),a(u,e,c,l);let h=u[r]^u[e],b=u[r+1]^u[e+1];u[r]=b,u[r+1]=h,i(u,n,r),h=u[t]^u[n],b=u[t+1]^u[n+1],u[t]=h>>>24^b<<8,u[t+1]=b>>>24^h<<8,i(u,e,t),a(u,e,f,p),h=u[r]^u[e],b=u[r+1]^u[e+1],u[r]=h>>>16^b<<16,u[r+1]=b>>>16^h<<16,i(u,n,r),h=u[t]^u[n],b=u[t+1]^u[n+1],u[t]=b>>>31^h<<1,u[t+1]=h>>>31^b<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),d=new Uint32Array(32);function f(e,t){let n=0;for(n=0;n<16;n++)u[n]=e.h[n],u[n+16]=c[n];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),n=0;n<32;n++)d[n]=s(e.b,4*n);for(n=0;n<12;n++)o(0,8,16,24,l[16*n+0],l[16*n+1]),o(2,10,18,26,l[16*n+2],l[16*n+3]),o(4,12,20,28,l[16*n+4],l[16*n+5]),o(6,14,22,30,l[16*n+6],l[16*n+7]),o(0,10,20,30,l[16*n+8],l[16*n+9]),o(2,12,22,24,l[16*n+10],l[16*n+11]),o(4,14,16,26,l[16*n+12],l[16*n+13]),o(6,8,18,28,l[16*n+14],l[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^u[n]^u[n+16]}const p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function h(e,t,n,r){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&16!==n.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&16!==r.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};p.fill(0),p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,n&&p.set(n,32),r&&p.set(r,48);for(let e=0;e<16;e++)i.h[e]=c[e]^s(p,4*e);return t&&(b(i,t),i.c=128),i}function b(e,t){for(let n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,f(e,!1),e.c=0),e.b[e.c++]=t[n]}function y(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;f(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function m(e,t,n,i,a){n=n||64,e=r.normalizeInput(e),i&&(i=r.normalizeInput(i)),a&&(a=r.normalizeInput(a));const s=h(n,t,i,a);return b(s,e),y(s)}e.exports={blake2b:m,blake2bHex:function(e,t,n,i,a){const s=m(e,t,n,i,a);return r.toHex(s)},blake2bInit:h,blake2bUpdate:b,blake2bFinal:y}},61150:(e,t,n)=>{"use strict";const{format:r,inspect:i}=n(11158),{AggregateError:a}=n(70273),s=globalThis.AggregateError||a,o=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u={};function d(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function p(e,t,n){n||(n=Error);class i extends n{constructor(...n){super(function(e,t,n){if("function"==typeof t)return d(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const i=(t.match(/%[dfijoOs]/g)||[]).length;return d(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?t:r(t,...n)}(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[o]=!0,u[e]=i}function h(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class b extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(e,t,n)=>{d("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const a=[],s=[],o=[];for(const e of t)d("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?a.push(e.toLowerCase()):l.test(e)?s.push(e):(d("object"!==e,'The value "object" should be written as "Object"'),o.push(e));if(s.length>0){const e=a.indexOf("object");-1!==e&&(a.splice(a,e,1),s.push("Object"))}if(a.length>0){switch(a.length){case 1:r+=`of type ${a[0]}`;break;case 2:r+=`one of type ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();r+=`one of type ${a.join(", ")}, or ${e}`}}(s.length>0||o.length>0)&&(r+=" or ")}if(s.length>0){switch(s.length){case 1:r+=`an instance of ${s[0]}`;break;case 2:r+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();r+=`an instance of ${s.join(", ")}, or ${e}`}}o.length>0&&(r+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(r+="an "),r+=`${o[0]}`;break;case 2:r+=`one of ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();r+=`one of ${o.join(", ")}, or ${e}`}}if(null==n)r+=`. Received ${n}`;else if("function"==typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"==typeof n){var u;null!==(u=n.constructor)&&void 0!==u&&u.name?r+=`. Received an instance of ${n.constructor.name}`:r+=`. Received ${i(n,{depth:-1})}`}else{let e=i(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),r+=`. Received type ${typeof n} (${e})`}return r},TypeError),p("ERR_INVALID_ARG_VALUE",(e,t,n="is invalid")=>{let r=i(t);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${r}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(e,t,n)=>{var r;return`Expected ${e} to be returned from the "${t}" function but got ${null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`},TypeError),p("ERR_MISSING_ARGS",(...e)=>{let t;d(e.length>0,"At least one arg needs to be specified");const n=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),n){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}}return`${t} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(e,t,n)=>{let r;if(d(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32)r=f(String(n));else if("bigint"==typeof n){r=String(n);const e=BigInt(2)**BigInt(32);(n>e||n<-e)&&(r=f(r)),r+="n"}else r=i(n);return`The value of "${e}" is out of range. It must be ${t}. Received ${r}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:b,aggregateTwoErrors:h(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new s([t,e],t.message);return n.code=t.code,n}return e||t}),hideStackFrames:h,codes:u}},61155:e=>{"use strict";e.exports=RangeError},61197:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},61253:(e,t,n)=>{"use strict";const r=n(9265),{MAX_LENGTH:i,MAX_SAFE_INTEGER:a}=n(47031),{safeRe:s,t:o}=n(32169),c=n(63846),{compareIdentifiers:l}=n(49742);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return l(n,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("build compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return l(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?s[o.PRERELEASELOOSE]:s[o.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},61290:(e,t,n)=>{"use strict";n.r(t),n.d(t,{applyDestinationMiddleware:()=>s,sourceMiddlewarePlugin:()=>o});var r=n(85608),i=n(13433),a=n(9252);function s(e,t,n){return(0,r.sH)(this,void 0,void 0,function(){function i(t,n){return(0,r.sH)(this,void 0,void 0,function(){var i,s,o;return(0,r.YH)(this,function(c){switch(c.label){case 0:return i=!1,s=null,[4,n({payload:(0,a.W)(t,{clone:!0,traverse:!1}),integration:e,next:function(e){i=!0,null===e&&(s=null),e&&(s=e.obj)}})];case 1:return c.sent(),i||null===s||(s.integrations=(0,r.Cl)((0,r.Cl)({},t.integrations),((o={})[e]=!1,o))),[2,s]}})})}var s,o,c,l,u;return(0,r.YH)(this,function(e){switch(e.label){case 0:s=(0,a.W)(t,{clone:!0,traverse:!1}).rawEvent(),o=0,c=n,e.label=1;case 1:return o<c.length?(l=c[o],[4,i(s,l)]):[3,4];case 2:if(null===(u=e.sent()))return[2,null];s=u,e.label=3;case 3:return o++,[3,1];case 4:return[2,s]}})})}function o(e,t){function n(n){return(0,r.sH)(this,void 0,void 0,function(){var s;return(0,r.YH)(this,function(r){switch(r.label){case 0:return s=!1,[4,e({payload:(0,a.W)(n.event,{clone:!0,traverse:!1}),integrations:null!=t?t:{},next:function(e){s=!0,e&&(n.event=e.obj)}})];case 1:if(r.sent(),!s)throw new i.d({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(e){return Promise.resolve(e)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}},61292:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},61347:(e,t,n)=>{"use strict";const r=n(39435);e.exports=(e,t,n)=>r(t,e,n)},61916:(e,t,n)=>{"use strict";var r=n(39907);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function a(){return void 0!==r&&void 0!==r.versions&&void 0!==r.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=a,t.isBrowser=function(){return!i()&&!a()}},62012:(e,t,n)=>{"use strict";var r=n(79138),i=n(6095),a=n(68165);e.exports=function(){return a(r,i,arguments)}},62266:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var r=n(38903);async function i(e,{address:t,blockNumber:n,blockTag:i="latest"}){const a=void 0!==n?(0,r.cK)(n):void 0,s=await e.request({method:"eth_getCode",params:[t,a||i]},{dedupe:Boolean(a)});if("0x"!==s)return s}},62408:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});var r=n(79756),i=n(38903);async function a(e,{address:t,blockTag:n="latest",blockNumber:a}){const s=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof a?(0,i.cK)(a):n]},{dedupe:Boolean(a)});return(0,r.ME)(s)}},62421:(e,t,n)=>{"use strict";n.d(t,{Af:()=>p,ZJ:()=>l,aT:()=>f});var r=n(14323),i=n(23785),a=n(63577),s=n(79756),o=n(38903);const c=new TextEncoder;function l(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){return f((0,o.cK)(e,t))}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),"number"==typeof t.size?((0,s.Sl)(n,{size:t.size}),(0,a.eV)(n,{size:t.size})):n}(e,t):(0,i.q)(e)?f(e,t):p(e,t)}const u={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function f(e,t={}){let n=e;t.size&&((0,s.Sl)(n,{size:t.size}),n=(0,a.eV)(n,{dir:"right",size:t.size}));let i=n.slice(2);i.length%2&&(i=`0${i}`);const o=i.length/2,c=new Uint8Array(o);for(let e=0,t=0;e<o;e++){const n=d(i.charCodeAt(t++)),a=d(i.charCodeAt(t++));if(void 0===n||void 0===a)throw new r.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);c[e]=16*n+a}return c}function p(e,t={}){const n=c.encode(e);return"number"==typeof t.size?((0,s.Sl)(n,{size:t.size}),(0,a.eV)(n,{dir:"right",size:t.size})):n}},62422:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},62518:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});const r=n(11824).k},62908:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},63245:(e,t,n)=>{"use strict";var r=n(82823),i=n(35615),a=n(85174),s=n(41874);function o(e){a.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,n){a.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(o,a),e.exports=o,o.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(c,a.BasePoint),o.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},o.prototype.point=function(e,t){return new c(this,e,t)},o.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(n),s=i.redMul(r),o=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,c)},c.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},63330:(e,t,n)=>{"use strict";var r=n(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length,n=t%4;if(!n)return e;var i=t,a=4-n,s=t+a,o=r.alloc(s);for(o.write(e);a--;)o.write("=",i++);return o.toString()}},63390:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});class r extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof r){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof r&&t.cause.docsPath||t.docsPath,a=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${a}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return i(this,e)}}function i(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?i(e.cause,t):t?null:e}},63400:(e,t,n)=>{"use strict";n.d(t,{LZ:()=>o,Nq:()=>i,WF:()=>s,kk:()=>a,zI:()=>c});var r=n(69740);const i={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",METAMASK:"metamask"},a=(0,r.A)({},i),s=(0,r.A)({COINBASE:"coinbase"},i),o=(0,r.A)((0,r.A)({},s),a),c={[i.AUTH]:"Auth",[i.WALLET_CONNECT_V2]:"Wallet Connect v2",[s.COINBASE]:"Coinbase Smart Wallet",[s.METAMASK]:"MetaMask"}},63434:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});const r="standard:connect"},63577:(e,t,n)=>{"use strict";n.d(t,{db:()=>a,eV:()=>i});var r=n(96485);function i(e,{dir:t,size:n=32}={}){return"string"==typeof e?a(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new r.Fl({size:e.length,targetSize:n,type:"bytes"});const i=new Uint8Array(n);for(let r=0;r<n;r++){const a="right"===t;i[a?r:n-r-1]=e[a?r:e.length-r-1]}return i}(e,{dir:t,size:n})}function a(e,{dir:t,size:n=32}={}){if(null===n)return e;const i=e.replace("0x","");if(i.length>2*n)throw new r.Fl({size:Math.ceil(i.length/2),targetSize:n,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*n,"0")}`}},63846:e=>{"use strict";const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},63957:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});const r="solana:signAndSendTransaction"},64240:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(89048),t),i(n(54057),t),i(n(86966),t),i(n(36771),t),i(n(43892),t),i(n(95810),t),i(n(20367),t),i(n(45845),t),i(n(14015),t),i(n(44226),t)},64295:(e,t,n)=>{"use strict";n.d(t,{n:()=>h});var r=n(12108),i=n(50761),a=n(58501),s=n(32991),o=n(8322),c=n(37527),l=n(40022),u=n(74846),d=n(55211),f=n(89095),p=n(97686);async function h(e,t){const{checkReplacement:n=!0,confirmations:h=1,hash:b,onReplaced:y,retryCount:m=6,retryDelay:g=({count:e})=>200*(1<<e),timeout:w=18e4}=t,v=(0,l.A)(["waitForTransactionReceipt",e.uid,b]),E=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let x,S,T,A,_,C=!1;const{promise:k,resolve:I,reject:P}=(0,o.Y)(),O=w?setTimeout(()=>{_?.(),A?.(),P(new i.WA({hash:b}))},w):void 0;return A=(0,s.lB)(v,{onReplaced:y,resolve:I,reject:P},async t=>{if(T=await(0,a.T)(e,f.h,"getTransactionReceipt")({hash:b}).catch(()=>{}),T&&h<=1)return clearTimeout(O),t.resolve(T),void A?.();_=(0,a.T)(e,p.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:E,async onBlockNumber(s){const o=e=>{clearTimeout(O),_?.(),e(),A?.()};let l=s;if(!C)try{if(T){if(h>1&&(!T.blockNumber||l-T.blockNumber+1n<h))return;return void o(()=>t.resolve(T))}if(n&&!x&&(C=!0,await(0,c.b)(async()=>{x=await(0,a.T)(e,d.x,"getTransaction")({hash:b}),x.blockNumber&&(l=x.blockNumber)},{delay:g,retryCount:m}),C=!1),T=await(0,a.T)(e,f.h,"getTransactionReceipt")({hash:b}),h>1&&(!T.blockNumber||l-T.blockNumber+1n<h))return;o(()=>t.resolve(T))}catch(n){if(n instanceof i.Kz||n instanceof i.Kc){if(!x)return void(C=!1);try{S=x,C=!0;const n=await(0,c.b)(()=>(0,a.T)(e,u.g,"getBlock")({blockNumber:l,includeTransactions:!0}),{delay:g,retryCount:m,shouldRetry:({error:e})=>e instanceof r.l});C=!1;const i=n.transactions.find(({from:e,nonce:t})=>e===S.from&&t===S.nonce);if(!i)return;if(T=await(0,a.T)(e,f.h,"getTransactionReceipt")({hash:i.hash}),h>1&&(!T.blockNumber||l-T.blockNumber+1n<h))return;let s="replaced";i.to===S.to&&i.value===S.value&&i.input===S.input?s="repriced":i.from===i.to&&0n===i.value&&(s="cancelled"),o(()=>{t.onReplaced?.({reason:s,replacedTransaction:S,transaction:i,transactionReceipt:T}),t.resolve(T)})}catch(e){o(()=>t.reject(e))}}else o(()=>t.reject(n))}}})}),k}},64531:e=>{"use strict";e.exports=Function.prototype.call},64639:(e,t,n)=>{"use strict";n.d(t,{sc:()=>w,Zf:()=>v});var r=n(30036);function i(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}class s extends r.Vw{constructor(e,t,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,r.O8)(this.buffer)}update(e){(0,r.CC)(this),e=(0,r.ZJ)(e),(0,r.DO)(e);const{view:t,buffer:n,blockLen:i}=this,a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const t=(0,r.O8)(e);for(;i<=a-s;s+=i)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.CC)(this),(0,r.Ht)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;t[s++]=128,(0,r.uH)(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(n,0),s=0);for(let e=s;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,o,r)}(n,i-8,BigInt(8*this.length),a),this.process(n,0);const o=(0,r.O8)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,u[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=r,e.pos=s,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const o=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var l=n(49964);const u=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),d=new Uint32Array(64);class f extends s{constructor(e=32){super(64,e,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:a,G:s,H:o}=this;return[e,t,n,r,i,a,s,o]}set(e,t,n,r,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)d[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=d[e-15],n=d[e-2],i=(0,r.Ow)(t,7)^(0,r.Ow)(t,18)^t>>>3,a=(0,r.Ow)(n,17)^(0,r.Ow)(n,19)^n>>>10;d[e]=a+d[e-7]+i+d[e-16]|0}let{A:n,B:s,C:o,D:c,E:l,F:f,G:p,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,r.Ow)(l,6)^(0,r.Ow)(l,11)^(0,r.Ow)(l,25))+i(l,f,p)+u[e]+d[e]|0,b=((0,r.Ow)(n,2)^(0,r.Ow)(n,13)^(0,r.Ow)(n,22))+a(n,s,o)|0;h=p,p=f,f=l,l=c+t|0,c=o,o=s,s=n,n=t+b|0}n=n+this.A|0,s=s+this.B|0,o=o+this.C|0,c=c+this.D|0,l=l+this.E|0,f=f+this.F|0,p=p+this.G|0,h=h+this.H|0,this.set(n,s,o,c,l,f,p,h)}roundClean(){(0,r.uH)(d)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,r.uH)(this.buffer)}}const p=(()=>l.lD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),h=(()=>p[0])(),b=(()=>p[1])(),y=new Uint32Array(80),m=new Uint32Array(80);class g extends s{constructor(e=64){super(128,e,16,!1),this.Ah=0|c[0],this.Al=0|c[1],this.Bh=0|c[2],this.Bl=0|c[3],this.Ch=0|c[4],this.Cl=0|c[5],this.Dh=0|c[6],this.Dl=0|c[7],this.Eh=0|c[8],this.El=0|c[9],this.Fh=0|c[10],this.Fl=0|c[11],this.Gh=0|c[12],this.Gl=0|c[13],this.Hh=0|c[14],this.Hl=0|c[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:a,Dh:s,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:p,Hh:h,Hl:b}=this;return[e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b]}set(e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|h,this.Hl=0|b}process(e,t){for(let n=0;n<16;n++,t+=4)y[n]=e.getUint32(t),m[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|y[e-15],n=0|m[e-15],r=l.rE(t,n,1)^l.rE(t,n,8)^l.xn(t,n,7),i=l.ry(t,n,1)^l.ry(t,n,8)^l.jm(t,n,7),a=0|y[e-2],s=0|m[e-2],o=l.rE(a,s,19)^l.qh(a,s,61)^l.xn(a,s,6),c=l.ry(a,s,19)^l.Ei(a,s,61)^l.jm(a,s,6),u=l.CW(i,c,m[e-7],m[e-16]),d=l.CQ(u,r,o,y[e-7],y[e-16]);y[e]=0|d,m[e]=0|u}let{Ah:n,Al:r,Bh:i,Bl:a,Ch:s,Cl:o,Dh:c,Dl:u,Eh:d,El:f,Fh:p,Fl:g,Gh:w,Gl:v,Hh:E,Hl:x}=this;for(let e=0;e<80;e++){const t=l.rE(d,f,14)^l.rE(d,f,18)^l.qh(d,f,41),S=l.ry(d,f,14)^l.ry(d,f,18)^l.Ei(d,f,41),T=d&p^~d&w,A=f&g^~f&v,_=l.F8(x,S,A,b[e],m[e]),C=l.TH(_,E,t,T,h[e],y[e]),k=0|_,I=l.rE(n,r,28)^l.qh(n,r,34)^l.qh(n,r,39),P=l.ry(n,r,28)^l.Ei(n,r,34)^l.Ei(n,r,39),O=n&i^n&s^i&s,M=r&a^r&o^a&o;E=0|w,x=0|v,w=0|p,v=0|g,p=0|d,g=0|f,({h:d,l:f}=l.WQ(0|c,0|u,0|C,0|k)),c=0|s,u=0|o,s=0|i,o=0|a,i=0|n,a=0|r;const R=l.Vl(k,P,M);n=l.Vr(R,C,I,O),r=0|R}({h:n,l:r}=l.WQ(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:a}=l.WQ(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:o}=l.WQ(0|this.Ch,0|this.Cl,0|s,0|o)),({h:c,l:u}=l.WQ(0|this.Dh,0|this.Dl,0|c,0|u)),({h:d,l:f}=l.WQ(0|this.Eh,0|this.El,0|d,0|f)),({h:p,l:g}=l.WQ(0|this.Fh,0|this.Fl,0|p,0|g)),({h:w,l:v}=l.WQ(0|this.Gh,0|this.Gl,0|w,0|v)),({h:E,l:x}=l.WQ(0|this.Hh,0|this.Hl,0|E,0|x)),this.set(n,r,i,a,s,o,c,u,d,f,p,g,w,v,E,x)}roundClean(){(0,r.uH)(y,m)}destroy(){(0,r.uH)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const w=(0,r.qj)(()=>new f),v=(0,r.qj)(()=>new g)},64784:(e,t,n)=>{"use strict";const r=n(39435);e.exports=(e,t,n)=>0===r(e,t,n)},64836:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var r=n(65593),i=n(28147),a=n(6972),s=n(26358),o=n(32073),c=n(14928);class l extends a.x{async init(e){}async getIdentityToken(){if(!this.provider||!this.canAuthorize)throw s.T7.notConnectedError();if(!this.coreOptions)throw s.il.invalidParams("Please initialize Web3Auth with a valid options");this.status=o.bo.AUTHORIZING,this.emit(o.qM.AUTHORIZING,{connector:this.name});const e=await this.provider.request({method:i.zl.GET_ACCOUNTS});if(e&&e.length>0){const t=(0,c.Ly)(e[0],this.name);if(t&&!(0,c._P)(t))return this.status=o.bo.AUTHORIZED,this.emit(o.qM.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:t}}),{idToken:t};const n=await this.provider.request({method:"solana_chainId"}),a=this.coreOptions.chains.find(e=>e.chainId===n);if(!a)throw s.il.invalidParams("chainConfig is required before authentication");const{chainNamespace:l}=a,u={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(n,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},d=await(0,r.$p)(u,l),f=await this.provider.request({method:i.zl.SIGN_MESSAGE,params:{data:d,display:"utf8"}}),p=await(0,r.lA)(l,f,d,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return(0,c.f7)(e[0],this.name,p),this.status=o.bo.AUTHORIZED,this.emit(o.qM.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:p}}),{idToken:p}}throw s.T7.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:i.zl.GET_ACCOUNTS});e&&e.length>0&&(0,c.L)(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(o.qM.DISCONNECTED)}}},64922:(e,t,n)=>{"use strict";const r=n(18650);e.exports=(e,t)=>e.sort((e,n)=>r(e,n,t))},64940:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},65118:(e,t,n)=>{"use strict";n.d(t,{R2:()=>at,J9:()=>st,jb:()=>ot,j0:()=>it});var r=n(69740),i=n(98158),a=n(85608),s=n(39907);function o(){return void 0!==s&&s.env?s.env:{}}var c=n(74695),l=n(91576);function u(e,t,n,r){var i,a=[e,t,n,r],s=(0,l.Qd)(e)?e.event:e;if(!s||!(0,l.Kg)(s))throw new Error("Event missing");var o=(0,l.Qd)(e)?null!==(i=e.properties)&&void 0!==i?i:{}:(0,l.Qd)(t)?t:{},c={};return(0,l.Tn)(n)||(c=null!=n?n:{}),(0,l.Qd)(e)&&!(0,l.Tn)(t)&&(c=null!=t?t:{}),[s,o,c,a.find(l.Tn)]}function d(e,t,n,r,i){var a,s,o=null,c=null,u=[e,t,n,r,i],d=u.filter(l.Kg);1===d.length?(0,l.Kg)(u[1])?(c=u[1],o=null):(c=d[0],o=null):2===d.length&&("string"==typeof u[0]&&(o=u[0]),"string"==typeof u[1]&&(c=u[1]));var f=u.find(l.Tn),p=u.filter(l.Qd);return 1===p.length?(0,l.Qd)(u[2])?(s={},a=u[2]):(0,l.Qd)(u[3])?(a={},s=u[3]):(a=p[0],s={}):2===p.length&&(a=p[0],s=p[1]),[o,c,null!=a?a:a={},null!=s?s:s={},f]}var f=function(e){return function(){for(var t,n,r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var s={},o=["callback","options","traits","id"],c=0,u=i;c<u.length;c++){var d=u[c],f=o.pop();if("id"===f){if((0,l.Kg)(d)||(0,l.Et)(d)){s.id=d.toString();continue}if(null==d)continue;f=o.pop()}if("traits"!==f&&"options"!==f||null!=d&&!(0,l.Qd)(d)||(s[f]=d),(0,l.Tn)(d)){s.callback=d;break}}return[null!==(t=s.id)&&void 0!==t?t:e.id(),null!==(n=s.traits)&&void 0!==n?n:{},null!==(r=s.options)&&void 0!==r?r:{},s.callback]}};function p(e,t,n,r){(0,l.Et)(e)&&(e=e.toString()),(0,l.Et)(t)&&(t=t.toString());var i=[e,t,n,r],a=i.filter(l.Kg),s=a[0],o=void 0===s?e:s,c=a[1],u=void 0===c?null:c,d=i.filter(l.Qd)[0];return[o,u,void 0===d?{}:d,i.find(l.Tn)]}var h=n(15621),b=n(2880),y=n(81945);function m(e,t,n,r){return(0,a.sH)(this,void 0,void 0,function(){var i,s;return(0,a.YH)(this,function(a){switch(a.label){case 0:return n.emit("dispatch_start",e),i=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return s=a.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:s=a.sent(),a.label=4;case 4:return(null==r?void 0:r.callback)?[4,(0,y.w_)(s,r.callback,(o=i,c=r.timeout,l=Date.now()-o,Math.max((null!=c?c:300)-l,0)))]:[3,6];case 5:s=a.sent(),a.label=6;case 6:return(null==r?void 0:r.debug)&&s.flush(),[2,s]}var o,c,l})})}var g=n(80566),w=n(29659),v=function(e,t,n,r,i,a){return{__t:"bpc",c:t,p:r,u:e,s:n,t:i,r:a}},E=Object.keys(v("","","","","",""));var x=function(e){var t,n,r=e.c,i=e.p,a=e.s,s=e.u,o=e.r,c=e.t,l=r?function(e){try{return new URL(e).pathname}catch(t){return"/"===e[0]?e:"/"+e}}(r):i,u=r?function(e,t){return e.indexOf("?")>-1?e:e+t}(r,a):-1===(n=(t=s).indexOf("#"))?t:t.slice(0,n);return{path:l,referrer:o,search:a,title:c,url:u}},S=function(){var e=document.querySelector("link[rel='canonical']");return v(location.href,e&&e.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},T=function(e,t){void 0===t&&(t=x(S()));var n,r,i,s=e.context;"page"===e.type&&(n=e.properties&&(r=e.properties,i=Object.keys(t),Object.assign.apply(Object,(0,a.fX)([{}],i.map(function(e){var t;if(r&&Object.prototype.hasOwnProperty.call(r,e))return(t={})[e]=r[e],t}),!1))),e.properties=(0,a.Cl)((0,a.Cl)((0,a.Cl)({},t),e.properties),e.name?{name:e.name}:{})),s.page=(0,a.Cl)((0,a.Cl)((0,a.Cl)({},t),n),s.page)},A=n(83435),_=function(e){function t(t,n){var r=e.call(this,"".concat(t," ").concat(n))||this;return r.field=t,r}return(0,a.C6)(t,e),t}(Error),C="is not a string",k="is not an object";var I=function(e){var t,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=null!==(t=e.onEventMethodCall)&&void 0!==t?t:function(){},this.onFinishedEvent=null!==(n=e.onFinishedEvent)&&void 0!==n?n:function(){}},P=function(){function e(e){this.settings=new I(e)}return e.prototype.track=function(e,t,n,r){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize((0,a.Cl)((0,a.Cl)({},this.baseEvent()),{event:e,type:"track",properties:null!=t?t:{},options:(0,a.Cl)({},n),integrations:(0,a.Cl)({},r)}))},e.prototype.page=function(e,t,n,r,i){var s;this.settings.onEventMethodCall({type:"page",options:r});var o={type:"page",properties:(0,a.Cl)({},n),options:(0,a.Cl)({},r),integrations:(0,a.Cl)({},i)};return null!==e&&(o.category=e,o.properties=null!==(s=o.properties)&&void 0!==s?s:{},o.properties.category=e),null!==t&&(o.name=t),this.normalize((0,a.Cl)((0,a.Cl)({},this.baseEvent()),o))},e.prototype.screen=function(e,t,n,r,i){this.settings.onEventMethodCall({type:"screen",options:r});var s={type:"screen",properties:(0,a.Cl)({},n),options:(0,a.Cl)({},r),integrations:(0,a.Cl)({},i)};return null!==e&&(s.category=e),null!==t&&(s.name=t),this.normalize((0,a.Cl)((0,a.Cl)({},this.baseEvent()),s))},e.prototype.identify=function(e,t,n,r){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize((0,a.Cl)((0,a.Cl)({},this.baseEvent()),{type:"identify",userId:e,traits:null!=t?t:{},options:(0,a.Cl)({},n),integrations:r}))},e.prototype.group=function(e,t,n,r){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize((0,a.Cl)((0,a.Cl)({},this.baseEvent()),{type:"group",traits:null!=t?t:{},options:(0,a.Cl)({},n),integrations:(0,a.Cl)({},r),groupId:e}))},e.prototype.alias=function(e,t,n,r){this.settings.onEventMethodCall({type:"alias",options:n});var i={userId:e,type:"alias",options:(0,a.Cl)({},n),integrations:(0,a.Cl)({},r)};return null!==t&&(i.previousId=t),void 0===e?this.normalize((0,a.Cl)((0,a.Cl)({},i),this.baseEvent())):this.normalize((0,a.Cl)((0,a.Cl)({},this.baseEvent()),i))},e.prototype.baseEvent=function(){return{integrations:{},options:{}}},e.prototype.context=function(e){var t,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var r=Object.keys(e),i=null!==(t=e.context)&&void 0!==t?t:{},a={};return r.forEach(function(t){"context"!==t&&(n.includes(t)?(0,A.J)(a,t,e[t]):(0,A.J)(i,t,e[t]))}),[i,a]},e.prototype.normalize=function(e){var t,n,r,i,s=Object.keys(null!==(t=e.integrations)&&void 0!==t?t:{}).reduce(function(t,n){var r,i;return(0,a.Cl)((0,a.Cl)({},t),((r={})[n]=Boolean(null===(i=e.integrations)||void 0===i?void 0:i[n]),r))},{});e.options=(r=e.options||{},i=function(e,t){return void 0!==t},Object.keys(r).filter(function(e){return i(0,r[e])}).reduce(function(e,t){return e[t]=r[t],e},{}));var o=(0,a.Cl)((0,a.Cl)({},s),null===(n=e.options)||void 0===n?void 0:n.integrations),c=e.options?this.context(e.options):[],u=c[0],d=c[1],f=e.options,p=(0,a.Tt)(e,["options"]),h=(0,a.Cl)((0,a.Cl)((0,a.Cl)((0,a.Cl)({timestamp:new Date},p),{context:u,integrations:o}),d),{messageId:f.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(h),function(e){!function(e){if(!(0,l.t2)(e))throw new _("Event","is nil");if("object"!=typeof e)throw new _("Event",k)}(e),function(e){if(!(0,l.Kg)(e.type))throw new _(".type",C)}(e),function(e){if(!(0,l.Kg)(e.messageId))throw new _(".messageId",C)}(e),"track"===e.type&&(function(e){if(!(0,l.Kg)(e.event))throw new _(".event",C)}(e),function(e){if(!(0,l.Qd)(e.properties))throw new _(".properties",k)}(e)),["group","identify"].includes(e.type)&&function(e){if(!(0,l.Qd)(e.traits))throw new _(".traits",k)}(e)}(h),h},e}(),O=function(e){function t(t){var n=e.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat((0,w.v4)())},onEventMethodCall:function(e){var t=e.options;n.maybeUpdateAnonId(t)},onFinishedEvent:function(e){return n.addIdentity(e),e}})||this;return n.user=t,n}return(0,a.C6)(t,e),t.prototype.maybeUpdateAnonId=function(e){(null==e?void 0:e.anonymousId)&&this.user.anonymousId(e.anonymousId)},t.prototype.addIdentity=function(e){this.user.id()&&(e.userId=this.user.id()),this.user.anonymousId()&&(e.anonymousId=this.user.anonymousId())},t.prototype.track=function(t,n,r,i,a){var s=e.prototype.track.call(this,t,n,r,i);return T(s,a),s},t.prototype.page=function(t,n,r,i,a,s){var o=e.prototype.page.call(this,t,n,r,i,a);return T(o,s),o},t.prototype.screen=function(t,n,r,i,a,s){var o=e.prototype.screen.call(this,t,n,r,i,a);return T(o,s),o},t.prototype.identify=function(t,n,r,i,a){var s=e.prototype.identify.call(this,t,n,r,i);return T(s,a),s},t.prototype.group=function(t,n,r,i,a){var s=e.prototype.group.call(this,t,n,r,i);return T(s,a),s},t.prototype.alias=function(t,n,r,i,a){var s=e.prototype.alias.call(this,t,n,r,i);return T(s,a),s},t}(P),M=function(e){return"addMiddleware"in e&&"destination"===e.type},R=n(15140),N=n(71348),L=n(13433),D=n(47565),B=function(e){function t(t){var n,r,i,a=e.call(this)||this;return a.criticalTasks=(i=0,{done:function(){return n},run:function(e){var t,a=e();return"object"==typeof(t=a)&&null!==t&&"then"in t&&"function"==typeof t.then&&(1===++i&&(n=new Promise(function(e){return r=e})),a.finally(function(){return 0===--i&&r()})),a}}),a.plugins=[],a.failedInitializations=[],a.flushing=!1,a.queue=t,a.queue.on(N.g,function(){a.scheduleFlush(0)}),a}return(0,a.C6)(t,e),t.prototype.register=function(e,t,n){return(0,a.sH)(this,void 0,void 0,function(){var r,i,s=this;return(0,a.YH)(this,function(a){switch(a.label){case 0:return this.plugins.push(t),r=function(n){s.failedInitializations.push(t.name),s.emit("initialization_failure",t),console.warn(t.name,n),e.log("warn","Failed to load destination",{plugin:t.name,error:n}),s.plugins=s.plugins.filter(function(e){return e!==t})},"destination"!==t.type||"Segment.io"===t.name?[3,1]:(t.load(e,n).catch(r),[3,4]);case 1:return a.trys.push([1,3,,4]),[4,t.load(e,n)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(i),[3,4];case 4:return[2]}})})},t.prototype.deregister=function(e,t,n){return(0,a.sH)(this,void 0,void 0,function(){var r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t.unload?[4,Promise.resolve(t.unload(e,n))]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.plugins=this.plugins.filter(function(e){return e.name!==t.name}),[3,4];case 3:return r=i.sent(),e.log("warn","Failed to unload destination",{plugin:t.name,error:r}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(e){return(0,a.sH)(this,void 0,void 0,function(){var t;return(0,a.YH)(this,function(n){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.push(e),t=this.subscribeToDelivery(e),this.scheduleFlush(0),[2,t]})})},t.prototype.subscribeToDelivery=function(e){return(0,a.sH)(this,void 0,void 0,function(){var t=this;return(0,a.YH)(this,function(n){return[2,new Promise(function(n){var r=function(i,a){i.isSame(e)&&(t.off("flush",r),n(i))};t.on("flush",r)})]})})},t.prototype.dispatchSingle=function(e){return(0,a.sH)(this,void 0,void 0,function(){var t=this;return(0,a.YH)(this,function(n){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.updateAttempts(e),e.attempts=1,[2,this.deliver(e).catch(function(n){return t.enqueuRetry(n,e)?t.subscribeToDelivery(e):(e.setFailedDelivery({reason:n}),e)})]})})},t.prototype.isEmpty=function(){return 0===this.queue.length},t.prototype.scheduleFlush=function(e){var t=this;void 0===e&&(e=500),this.flushing||(this.flushing=!0,setTimeout(function(){t.flush().then(function(){setTimeout(function(){t.flushing=!1,t.queue.length&&t.scheduleFlush(0)},0)})},e))},t.prototype.deliver=function(e){return(0,a.sH)(this,void 0,void 0,function(){var t,n,r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,this.criticalTasks.done()];case 1:a.sent(),t=Date.now(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.flushOne(e)];case 3:return e=a.sent(),n=Date.now()-t,this.emit("delivery_success",e),e.stats.gauge("delivered",n),e.log("debug","Delivered",e.event),[2,e];case 4:throw r=a.sent(),i=r,e.log("error","Failed to deliver",i),this.emit("delivery_failure",e,i),e.stats.increment("delivery_failed"),r;case 5:return[2]}})})},t.prototype.enqueuRetry=function(e,t){return!(e instanceof L.d&&!e.retry)&&this.queue.pushWithBackoff(t)},t.prototype.flush=function(){return(0,a.sH)(this,void 0,void 0,function(){var e,t;return(0,a.YH)(this,function(n){switch(n.label){case 0:if(0===this.queue.length)return[2,[]];if(!(e=this.queue.pop()))return[2,[]];e.attempts=this.queue.getAttempts(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.deliver(e)];case 2:return e=n.sent(),this.emit("flush",e,!0),[3,4];case 3:return t=n.sent(),this.enqueuRetry(t,e)||(e.setFailedDelivery({reason:t}),this.emit("flush",e,!1)),[2,[]];case 4:return[2,[e]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(e){var t,n,r=this.plugins.filter(function(t){var n,r,i;if("destination"!==t.type&&"Segment.io"!==t.name)return!0;var a=void 0;return null===(n=t.alternativeNames)||void 0===n||n.forEach(function(t){void 0!==e[t]&&(a=e[t])}),null!==(i=null!==(r=e[t.name])&&void 0!==r?r:a)&&void 0!==i?i:!1!==("Segment.io"===t.name||e.All)}),i=(t="type",n={},r.forEach(function(e){var r,i=void 0,s=e[t];void 0!==(i="string"!=typeof s?JSON.stringify(s):s)&&(n[i]=(0,a.fX)((0,a.fX)([],null!==(r=n[i])&&void 0!==r?r:[],!0),[e],!1))}),n),s=i.before,o=void 0===s?[]:s,c=i.enrichment,l=void 0===c?[]:c,u=i.destination,d=void 0===u?[]:u,f=i.after;return{before:o,enrichment:l,destinations:d,after:void 0===f?[]:f}},t.prototype.flushOne=function(e){var t,n;return(0,a.sH)(this,void 0,void 0,function(){var r,i,s,o,c,l,u,d,f,p,h,b,y,m;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(!this.isReady())throw new Error("Not ready");e.attempts>1&&this.emit("delivery_retry",e),r=this.availableExtensions(null!==(t=e.event.integrations)&&void 0!==t?t:{}),i=r.before,s=r.enrichment,o=0,c=i,a.label=1;case 1:return o<c.length?(l=c[o],[4,(0,D.D)(e,l)]):[3,4];case 2:(p=a.sent())instanceof L.j&&(e=p),this.emit("message_enriched",e,l),a.label=3;case 3:return o++,[3,1];case 4:u=0,d=s,a.label=5;case 5:return u<d.length?(f=d[u],[4,(0,D.C)(e,f)]):[3,8];case 6:(p=a.sent())instanceof L.j&&(e=p),this.emit("message_enriched",e,f),a.label=7;case 7:return u++,[3,5];case 8:return h=this.availableExtensions(null!==(n=e.event.integrations)&&void 0!==n?n:{}),b=h.destinations,y=h.after,[4,new Promise(function(t,n){setTimeout(function(){var r=b.map(function(t){return(0,D.C)(e,t)});Promise.all(r).then(t).catch(n)},0)})];case 9:return a.sent(),e.stats.increment("message_delivered"),this.emit("message_delivered",e),m=y.map(function(t){return(0,D.C)(e,t)}),[4,Promise.all(m)];case 10:return a.sent(),[2,e]}})})},t}(g.v),j=function(e){function t(t){return e.call(this,"string"==typeof t?new R.x(4,t):t)||this}return(0,a.C6)(t,e),t.prototype.flush=function(){return(0,a.sH)(this,void 0,void 0,function(){return(0,a.YH)(this,function(t){return(0,h.a)()?[2,[]]:[2,e.prototype.flush.call(this)]})})},t}(B);function U(e){for(var t=e.constructor.prototype,n=0,r=Object.getOwnPropertyNames(t);n<r.length;n++){var i=r[n];if("constructor"!==i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);a&&"function"==typeof a.value&&(e[i]=e[i].bind(e))}}return e}var F={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"},$=function(e,t,n,r){console.warn("".concat(e.constructor.name,": Can't ").concat(t,' key "').concat(n,'" | Err: ').concat(r))},z=function(){function e(e){this.stores=e}return e.prototype.get=function(e){for(var t=null,n=0,r=this.stores;n<r.length;n++){var i=r[n];try{if(null!=(t=i.get(e)))return t}catch(t){$(i,"get",e,t)}}return null},e.prototype.set=function(e,t){this.stores.forEach(function(n){try{n.set(e,t)}catch(t){$(n,"set",e,t)}})},e.prototype.clear=function(e){this.stores.forEach(function(t){try{t.remove(e)}catch(n){$(t,"remove",e,n)}})},e.prototype.getAndSync=function(e){var t=this.get(e),n="number"==typeof t?t.toString():t;return this.set(e,n),n},e}(),H=function(){function e(){this.cache={}}return e.prototype.get=function(e){var t;return null!==(t=this.cache[e])&&void 0!==t?t:null},e.prototype.set=function(e,t){this.cache[e]=t},e.prototype.remove=function(e){delete this.cache[e]},e}();function q(e){return e&&e.stores&&Array.isArray(e.stores)&&e.stores.every(function(e){return Object.values(F).includes(e)})}function K(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}const W=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=K({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in i)i[s]&&(a+="; "+s,!0!==i[s]&&(a+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var a=n[i].split("="),s=a.slice(1).join("=");try{var o=decodeURIComponent(a[0]);if(r[o]=t.read(s,o),e===o)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",K({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,K({},this.attributes,t))},withConverter:function(t){return e(K({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function V(e){var t=function(e){try{return new URL(e)}catch(e){return}}(e);if(t)for(var n=function(e){var t=e.hostname.split("."),n=t[t.length-1],r=[];if(4===t.length&&parseInt(n,10)>0)return r;if(t.length<=1)return r;for(var i=t.length-2;i>=0;--i)r.push(t.slice(i).join("."));return r}(t),r=0;r<n.length;++r){var i="__tld__",a=n[r],s={domain:"."+a};try{if(W.set(i,"1",s),W.get(i))return W.remove(i,s),a}catch(e){return}}}var G=function(){function e(t){void 0===t&&(t=e.defaults),this.options=(0,a.Cl)((0,a.Cl)({},e.defaults),t)}return Object.defineProperty(e,"defaults",{get:function(){return{maxage:365,domain:V(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},e.prototype.get=function(e){var t;try{var n=W.get(e);if(null==n)return null;try{return null!==(t=JSON.parse(n))&&void 0!==t?t:null}catch(e){return null!=n?n:null}}catch(e){return null}},e.prototype.set=function(e,t){"string"==typeof t?W.set(e,t,this.opts()):null===t?W.remove(e,this.opts()):W.set(e,JSON.stringify(t),this.opts())},e.prototype.remove=function(e){return W.remove(e,this.opts())},e}(),Y=function(){function e(){}return e.prototype.localStorageWarning=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},e.prototype.get=function(e){var t;try{var n=localStorage.getItem(e);if(null===n)return null;try{return null!==(t=JSON.parse(n))&&void 0!==t?t:null}catch(e){return null!=n?n:null}}catch(t){return this.localStorageWarning(e,"unavailable"),null}},e.prototype.set=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(t){this.localStorageWarning(e,"full")}},e.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch(t){this.localStorageWarning(e,"unavailable")}},e}();function J(e){return e.map(function(e){var t,n;switch(function(e){return"object"==typeof e&&void 0!==e.name}(e)?(t=e.name,n=e.settings):t=e,t){case F.Cookie:return new G(n);case F.LocalStorage:return new Y;case F.Memory:return new H;default:throw new Error("Unknown Store Type: ".concat(e))}})}function Z(e,t){return e.map(function(e){return t&&e===F.Cookie?{name:e,settings:t}:e})}var X={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Q=function(){function e(e,t){void 0===e&&(e=X);var n,r,i,s,o=this;this.options={},this.id=function(e){if(o.options.disable)return null;var t=o.identityStore.getAndSync(o.idKey);void 0!==e&&(o.identityStore.set(o.idKey,e),e!==t&&null!==t&&null!==e&&o.anonymousId(null));var n=o.identityStore.getAndSync(o.idKey);if(n)return n;var r=o.legacyUserStore.get(X.cookie.oldKey);return r?"object"==typeof r?r.id:r:null},this.anonymousId=function(e){var t,n;if(o.options.disable)return null;if(void 0===e){var r=null!==(t=o.identityStore.getAndSync(o.anonKey))&&void 0!==t?t:null===(n=o.legacySIO())||void 0===n?void 0:n[0];if(r)return r}return null===e?(o.identityStore.set(o.anonKey,null),o.identityStore.getAndSync(o.anonKey)):(o.identityStore.set(o.anonKey,null!=e?e:(0,w.v4)()),o.identityStore.getAndSync(o.anonKey))},this.traits=function(e){var t;if(!o.options.disable)return null===e&&(e={}),e&&o.traitsStore.set(o.traitsKey,null!=e?e:{}),null!==(t=o.traitsStore.get(o.traitsKey))&&void 0!==t?t:{}},this.options=(0,a.Cl)((0,a.Cl)({},X),e),this.cookieOptions=t,this.idKey=null!==(r=null===(n=e.cookie)||void 0===n?void 0:n.key)&&void 0!==r?r:X.cookie.key,this.traitsKey=null!==(s=null===(i=e.localStorage)||void 0===i?void 0:i.key)&&void 0!==s?s:X.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,t),this.legacyUserStore=this.createStorage(this.options,t,function(e){return e===F.Cookie}),this.traitsStore=this.createStorage(this.options,t,function(e){return e!==F.Cookie});var c=this.legacyUserStore.get(X.cookie.oldKey);c&&"object"==typeof c&&(c.id&&this.id(c.id),c.traits&&this.traits(c.traits)),U(this)}return e.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var t=e.split("----");return[t[0],t[1]]},e.prototype.identify=function(e,t){if(!this.options.disable){t=null!=t?t:{};var n=this.id();null!==n&&n!==e||(t=(0,a.Cl)((0,a.Cl)({},this.traits()),t)),e&&this.id(e),this.traits(t)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.prototype.createStorage=function(e,t,n){var r=[F.LocalStorage,F.Cookie,F.Memory];return e.disable?new z([]):e.persist?(void 0!==e.storage&&null!==e.storage&&q(e.storage)&&(r=e.storage.stores),e.localStorageFallbackDisabled&&(r=r.filter(function(e){return e!==F.LocalStorage})),n&&(r=r.filter(n)),new z(J(Z(r,t)))):new z([new H])},e.defaults=X,e}(),ee={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},te=function(e){function t(t,n){void 0===t&&(t=ee);var r=e.call(this,(0,a.Cl)((0,a.Cl)({},ee),t),n)||this;return r.anonymousId=function(e){},U(r),r}return(0,a.C6)(t,e),t}(Q),ne=n(22136),re=n(3356),ie=n(74607),ae=n(31415),se=function(e,t,n){n.getAndRemove(e).forEach(function(e){be(t,e).catch(console.error)})},oe=function(e,t){return(0,a.sH)(void 0,void 0,void 0,function(){var n,r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:n=0,r=t.getAndRemove("addSourceMiddleware"),a.label=1;case 1:return n<r.length?(i=r[n],[4,be(e,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},ce=function(e,t){return(0,a.sH)(void 0,void 0,void 0,function(){var n,r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:n=0,r=t.getAndRemove("register"),a.label=1;case 1:return n<r.length?(i=r[n],[4,be(e,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},le=se.bind(void 0,"on"),ue=se.bind(void 0,"setAnonymousId"),de=function(e){if(fe(e)){var t=e.pop();return x(t)}},fe=function(e){return function(e){if(t=e,"object"!==Object.prototype.toString.call(t).slice(8,-1).toLowerCase())return!1;var t;if("bpc"!==e.__t)return!1;for(var n in e)if(!E.includes(n))return!1;return!0}(e[e.length-1])},pe=function(e,t,n,r){void 0===n&&(n=function(){}),void 0===r&&(r=console.error),this.method=e,this.resolve=n,this.reject=r,this.called=!1,this.args=t},he=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(e.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t;return null!==(t=this.calls[e])&&void 0!==t?t:[]},e.prototype.getAndRemove=function(e){var t=this.get(e);return this.calls[e]=[],t},e.prototype.add=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){["track","screen","alias","group","page","identify"].includes(t.method)&&!fe(t.args)&&(t.args=(0,a.fX)((0,a.fX)([],t.args,!0),[S()],!1)),e.calls[t.method]?e.calls[t.method].push(t):e.calls[t.method]=[t]})},e.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},e.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},e.prototype._pushSnippetWindowBuffer=function(){if("npm"!==(0,ae.X)()){var e=(0,ie.kJ)();if(Array.isArray(e)){var t=e.splice(0,e.length).map(function(e){var t=e[0],n=e.slice(1);return new pe(t,n)});this.add.apply(this,t)}}},e}();function be(e,t){return(0,a.sH)(this,void 0,void 0,function(){var n,r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t.called?[2,void 0]:(t.called=!0,"object"==typeof(a=n=e[t.method].apply(e,t.args))&&null!==a&&"then"in a&&"function"==typeof a.then?[4,n]:[3,2]);case 1:i.sent(),i.label=2;case 2:return t.resolve(n),[3,4];case 3:return r=i.sent(),t.reject(r),[3,4];case 4:return[2]}var a})})}var ye=function(){function e(e){var t=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=ne.r,this._preInitBuffer=new he,this._promise=e(this._preInitBuffer),this._promise.then(function(e){var n=e[0],r=e[1];t.instance=n,t.ctx=r}).catch(function(){})}return e.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},e.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},e.prototype.finally=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).finally.apply(e,t)},e.prototype._createMethod=function(e){var t=this;return function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t.instance){var a=(n=t.instance)[e].apply(n,r);return Promise.resolve(a)}return new Promise(function(n,i){t._preInitBuffer.add(new pe(e,r,n,i))})}},e.prototype._createChainableMethod=function(e){var t=this;return function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.instance?((n=t.instance)[e].apply(n,r),t):(t._preInitBuffer.add(new pe(e,r)),t)}},e}(),me=n(9252),ge=n(19365),we=function(e){function t(t,n){var r=e.call(this,t)||this;return r.retryTimeout=n,r.name="RateLimitError",r}return(0,a.C6)(t,e),t}(Error),ve=function(e){return(0,a.Cl)({"Content-Type":"text/plain"},"function"==typeof e?e():e)};function Ee(e){return(encodeURI(JSON.stringify(e)).split(/%..|./).length-1)/1024}function xe(e,t,n,r,i){var s,o=e.user();delete t.options,t.writeKey=null==n?void 0:n.apiKey,t.userId=t.userId||o.id(),t.anonymousId=t.anonymousId||o.anonymousId(),t.sentAt=new Date;var c=e.queue.failedInitializations||[];c.length>0&&(t._metadata={failedInitializations:c}),null!=i&&(i.attempts>1&&(t._metadata=(0,a.Cl)((0,a.Cl)({},t._metadata),{retryCount:i.attempts})),i.attempts++);var l=[],u=[];for(var d in r){var f=r[d];"Segment.io"===d&&l.push(d),"bundled"===f.bundlingStatus&&l.push(d),"unbundled"===f.bundlingStatus&&u.push(d)}for(var p=0,h=(null==n?void 0:n.unbundledIntegrations)||[];p<h.length;p++){var b=h[p];u.includes(b)||u.push(b)}var y=null!==(s=null==n?void 0:n.maybeBundledConfigIds)&&void 0!==s?s:{},m=[];return l.sort().forEach(function(e){var t;(null!==(t=y[e])&&void 0!==t?t:[]).forEach(function(e){m.push(e)})}),!1!==(null==n?void 0:n.addBundledMetadata)&&(t._metadata=(0,a.Cl)((0,a.Cl)({},t._metadata),{bundled:l.sort(),unbundled:u.sort(),bundledIds:m})),t}var Se=n(22634);function Te(e,t){return(0,a.sH)(this,void 0,void 0,function(){var n,r=this;return(0,a.YH)(this,function(i){switch(i.label){case 0:return n=[],(0,h.a)()?[2,t]:[4,(0,Se._)(function(){return t.length>0&&!(0,h.a)()},function(){return(0,a.sH)(r,void 0,void 0,function(){var r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return(r=t.pop())?[4,(0,D.C)(r,e)]:[2];case 1:return i.sent()instanceof b.o||n.push(r),[2]}})})})];case 1:return i.sent(),n.map(function(e){return t.pushWithBackoff(e)}),[2,t]}})})}function Ae(e,t,n,r){var i=this;e||setTimeout(function(){return(0,a.sH)(i,void 0,void 0,function(){var e,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return e=!0,[4,Te(n,t)];case 1:return i=a.sent(),e=!1,t.todo>0&&r(e,i,n,r),[2]}})})},5e3*Math.random())}var _e=n(73346),Ce=function(e){return"Segment.io"===e.name};function ke(e,t,n){var r,i,s;window.addEventListener("pagehide",function(){l.push.apply(l,Array.from(u)),u.clear()});var o,c=null!==(r=null==t?void 0:t.apiKey)&&void 0!==r?r:"",l=e.options.disableClientPersistence?new N.M(e.queue.queue.maxAttempts,[]):new R.x(e.queue.queue.maxAttempts,"".concat(c,":dest-Segment.io")),u=new Set,d=!1,f=null!==(i=null==t?void 0:t.apiHost)&&void 0!==i?i:_e.a,p=null!==(s=null==t?void 0:t.protocol)&&void 0!==s?s:"https",y="".concat(p,"://").concat(f),m=null==t?void 0:t.deliveryStrategy,g=m&&"strategy"in m&&"batching"===m.strategy?function(e,t){var n,r,i,s,o,c=[],l=!1,u=null!==(n=null==t?void 0:t.size)&&void 0!==n?n:10,d=null!==(r=null==t?void 0:t.timeout)&&void 0!==r?r:5e3,f=0;function p(n){var r;if(0!==n.length){var i=null===(r=n[0])||void 0===r?void 0:r.writeKey,s=n.map(function(e){var t=e;return t.sentAt,(0,a.Tt)(t,["sentAt"])});return(0,ge.h)("https://".concat(e,"/b"),{credentials:null==t?void 0:t.credentials,keepalive:(null==t?void 0:t.keepalive)||l,headers:ve(null==t?void 0:t.headers),method:"post",body:JSON.stringify({writeKey:i,batch:s,sentAt:(new Date).toISOString()}),priority:null==t?void 0:t.priority}).then(function(e){var t;if(e.status>=500)throw new Error("Bad response from server: ".concat(e.status));if(429===e.status){var n=null===(t=e.headers)||void 0===t?void 0:t.get("x-ratelimit-reset"),r="string"==typeof n?1e3*parseInt(n):d;throw new we("Rate limit exceeded: ".concat(e.status),r)}})}}function h(e){var n;return void 0===e&&(e=1),(0,a.sH)(this,void 0,void 0,function(){var r;return(0,a.YH)(this,function(i){return c.length?(r=c,c=[],[2,null===(n=p(r))||void 0===n?void 0:n.catch(function(n){var i;b.o.system().log("error","Error sending batch",n),e<=(null!==(i=null==t?void 0:t.maxRetries)&&void 0!==i?i:10)&&("RateLimitError"===n.name&&(f=n.retryTimeout),c.push.apply(c,r),c.map(function(t){if("_metadata"in t){var n=t;n._metadata=(0,a.Cl)((0,a.Cl)({},n._metadata),{retryCount:e})}}),y(e+1))})]):[2]})})}function y(e){void 0===e&&(e=1),i||(i=setTimeout(function(){i=void 0,h(e).catch(console.error)},f||d),f=0)}return s=function(e){if((l=e)&&c.length){var t=function(e){var t=[],n=0;return e.forEach(function(e){Ee(t[n])>=64&&n++,t[n]?t[n].push(e):t[n]=[e]}),t}(c).map(p);Promise.all(t).catch(console.error)}},o=!1,window.addEventListener("pagehide",function(){o||s(o=!0)}),document.addEventListener("visibilitychange",function(){if("hidden"==document.visibilityState){if(o)return;o=!0}else o=!1;s(o)}),{dispatch:function(e,n){return(0,a.sH)(this,void 0,void 0,function(){var e;return(0,a.YH)(this,function(r){return c.push(n),e=c.length>=u||function(e){return Ee(e)>=450}(c)||(null==t?void 0:t.keepalive)&&function(e){return Ee(e)>=54}(c),[2,e||l?h():y()]})})}}}(f,m.config):(o=null==m?void 0:m.config,{dispatch:function(e,t){return(0,ge.h)(e,{credentials:null==o?void 0:o.credentials,keepalive:null==o?void 0:o.keepalive,headers:ve(null==o?void 0:o.headers),method:"post",body:JSON.stringify(t),priority:null==o?void 0:o.priority}).then(function(e){var t;if(e.status>=500)throw new Error("Bad response from server: ".concat(e.status));if(429===e.status){var n=null===(t=e.headers)||void 0===t?void 0:t.get("x-ratelimit-reset"),r=n?1e3*parseInt(n):5e3;throw new we("Rate limit exceeded: ".concat(e.status),r)}})}});function w(r){return(0,a.sH)(this,void 0,void 0,function(){var i,s;return(0,a.YH)(this,function(a){return(0,h.a)()?(l.push(r),Ae(d,l,v,Ae),[2,r]):(u.add(r),i=r.event.type.charAt(0),s=(0,me.W)(r.event).json(),"track"===r.event.type&&delete s.traits,"alias"===r.event.type&&(s=function(e,t){var n,r,i,a,s=e.user();return t.previousId=null!==(i=null!==(r=null!==(n=t.previousId)&&void 0!==n?n:t.from)&&void 0!==r?r:s.id())&&void 0!==i?i:s.anonymousId(),t.userId=null!==(a=t.userId)&&void 0!==a?a:t.to,delete t.from,delete t.to,t}(e,s)),l.getAttempts(r)>=l.maxAttempts?(u.delete(r),[2,r]):[2,g.dispatch("".concat(y,"/").concat(i),xe(e,s,t,n,r)).then(function(){return r}).catch(function(e){if(r.log("error","Error sending event",e),"RateLimitError"===e.name){var t=e.retryTimeout;l.pushWithBackoff(r,t)}else l.pushWithBackoff(r);return Ae(d,l,v,Ae),r}).finally(function(){u.delete(r)})])})})}var v={metadata:{writeKey:c,apiHost:f,protocol:p},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:w,identify:w,page:w,alias:w,group:w,screen:w};return l.todo&&Ae(d,l,v,Ae),v}var Ie="This is being deprecated and will be not be available in future releases of Analytics JS",Pe=(0,re.m)(),Oe=null==Pe?void 0:Pe.analytics,Me=function(){function e(e,t){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var e;return null===(e=t.plugins.find(Ce))||void 0===e?void 0:e.metadata},this.writeKey=e.writeKey,this.cdnSettings=null!==(n=e.cdnSettings)&&void 0!==n?n:{integrations:{"Segment.io":{apiKey:""}}},this.cdnURL=e.cdnURL}return Object.defineProperty(e.prototype,"apiHost",{get:function(){var e,t;return null===(t=null===(e=this._getSegmentPluginMetadata)||void 0===e?void 0:e.call(this))||void 0===t?void 0:t.apiHost},enumerable:!1,configurable:!0}),e}();function Re(){console.warn(Ie)}var Ne,Le=function(e){function t(t,n,r,i,s){var o,c,l=this;(l=e.call(this)||this)._debug=!1,l.initialized=!1,l.user=function(){return l._user},l.init=l.initialize.bind(l),l.log=Re,l.addIntegrationMiddleware=Re,l.listeners=Re,l.addEventListener=Re,l.removeAllListeners=Re,l.removeListener=Re,l.removeEventListener=Re,l.hasListeners=Re,l.add=Re,l.addIntegration=Re;var u=null==n?void 0:n.cookie,d=null!==(o=null==n?void 0:n.disableClientPersistence)&&void 0!==o&&o;l.queue=null!=r?r:function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=t?10:1,i=n?new N.M(r,[]):new R.x(r,e);return new j(i)}("".concat(t.writeKey,":event-queue"),null==n?void 0:n.retryQueue,d),l.settings=new Me(t,l.queue);var f=null==n?void 0:n.storage;return l._universalStorage=l.createStore(d,f,u),l._user=null!=i?i:new Q((0,a.Cl)({persist:!d,storage:null==n?void 0:n.storage},null==n?void 0:n.user),u).load(),l._group=null!=s?s:new te((0,a.Cl)({persist:!d,storage:null==n?void 0:n.storage},null==n?void 0:n.group),u).load(),l.eventFactory=new O(l._user),l.integrations=null!==(c=null==n?void 0:n.integrations)&&void 0!==c?c:{},l.options=null!=n?n:{},U(l),l}return(0,a.C6)(t,e),t.prototype.createStore=function(e,t,n){return e?new z([new H]):t&&q(t)?new z(J(Z(t.stores,n))):new z(J([F.LocalStorage,{name:F.Cookie,settings:n},F.Memory]))},Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,n,r,i,s,o,c,l=this;return(0,a.YH)(this,function(a){return t=de(e),n=u.apply(void 0,e),r=n[0],i=n[1],s=n[2],o=n[3],c=this.eventFactory.track(r,i,s,this.integrations,t),[2,this._dispatch(c,o).then(function(e){return l.emit("track",r,e.event.properties,e.event.options),e})]})})},t.prototype.page=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,n,r,i,s,o,c,l,u=this;return(0,a.YH)(this,function(a){return t=de(e),n=d.apply(void 0,e),r=n[0],i=n[1],s=n[2],o=n[3],c=n[4],l=this.eventFactory.page(r,i,s,o,this.integrations,t),[2,this._dispatch(l,c).then(function(e){return u.emit("page",r,i,e.event.properties,e.event.options),e})]})})},t.prototype.identify=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,n,r,i,s,o,c,l=this;return(0,a.YH)(this,function(a){return t=de(e),n=f(this._user).apply(void 0,e),r=n[0],i=n[1],s=n[2],o=n[3],this._user.identify(r,i),c=this.eventFactory.identify(this._user.id(),this._user.traits(),s,this.integrations,t),[2,this._dispatch(c,o).then(function(e){return l.emit("identify",e.event.userId,e.event.traits,e.event.options),e})]})})},t.prototype.group=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=de(t);if(0===t.length)return this._group;var i=f(this._group).apply(void 0,t),a=i[0],s=i[1],o=i[2],c=i[3];this._group.identify(a,s);var l=this._group.id(),u=this._group.traits(),d=this.eventFactory.group(l,u,o,this.integrations,r);return this._dispatch(d,c).then(function(t){return e.emit("group",t.event.groupId,t.event.traits,t.event.options),t})},t.prototype.alias=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,n,r,i,s,o,c,l=this;return(0,a.YH)(this,function(a){return t=de(e),n=p.apply(void 0,e),r=n[0],i=n[1],s=n[2],o=n[3],c=this.eventFactory.alias(r,i,s,this.integrations,t),[2,this._dispatch(c,o).then(function(e){return l.emit("alias",r,i,e.event.options),e})]})})},t.prototype.screen=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,n,r,i,s,o,c,l,u=this;return(0,a.YH)(this,function(a){return t=de(e),n=d.apply(void 0,e),r=n[0],i=n[1],s=n[2],o=n[3],c=n[4],l=this.eventFactory.screen(r,i,s,o,this.integrations,t),[2,this._dispatch(l,c).then(function(e){return u.emit("screen",r,i,e.event.properties,e.event.options),e})]})})},t.prototype.trackClick=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,33851))];case 1:return t=i.sent(),[2,(r=t.link).call.apply(r,(0,a.fX)([this],e,!1))]}})})},t.prototype.trackLink=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,33851))];case 1:return t=i.sent(),[2,(r=t.link).call.apply(r,(0,a.fX)([this],e,!1))]}})})},t.prototype.trackSubmit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,33851))];case 1:return t=i.sent(),[2,(r=t.form).call.apply(r,(0,a.fX)([this],e,!1))]}})})},t.prototype.trackForm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,33851))];case 1:return t=i.sent(),[2,(r=t.form).call.apply(r,(0,a.fX)([this],e,!1))]}})})},t.prototype.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,n,r=this;return(0,a.YH)(this,function(i){switch(i.label){case 0:return t=b.o.system(),n=e.map(function(e){return r.queue.register(t,e,r)}),[4,Promise.all(n)];case 1:return i.sent(),[2,t]}})})},t.prototype.deregister=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.sH)(this,void 0,void 0,function(){var t,n,r=this;return(0,a.YH)(this,function(i){switch(i.label){case 0:return t=b.o.system(),n=e.map(function(e){var n=r.queue.plugins.find(function(t){return t.name===e});if(n)return r.queue.deregister(t,n,r);t.log("warn","plugin ".concat(e," not found"))}),[4,Promise.all(n)];case 1:return i.sent(),[2,t]}})})},t.prototype.debug=function(e){return!1===e&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=e,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(e){this.settings.timeout=e},t.prototype._dispatch=function(e,t){return(0,a.sH)(this,void 0,void 0,function(){var n;return(0,a.YH)(this,function(r){return(n=new b.o(e)).stats.increment("analytics_js.invoke",1,[e.type]),(0,h.a)()&&!this.options.retryQueue?[2,n]:[2,m(n,this.queue,this,{callback:t,debug:this._debug,timeout:this.settings.timeout})]})})},t.prototype.addSourceMiddleware=function(e){return(0,a.sH)(this,void 0,void 0,function(){var t=this;return(0,a.YH)(this,function(r){switch(r.label){case 0:return[4,this.queue.criticalTasks.run(function(){return(0,a.sH)(t,void 0,void 0,function(){var t,r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(n.bind(n,61290))];case 1:return t=a.sent().sourceMiddlewarePlugin,r={},this.queue.plugins.forEach(function(e){if("destination"===e.type)return r[e.name]=!0}),i=t(e,r),[4,this.register(i)];case 2:return a.sent(),[2]}})})})];case 1:return r.sent(),[2,this]}})})},t.prototype.addDestinationMiddleware=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.queue.plugins.filter(M).forEach(function(n){"*"!==e&&n.name.toLowerCase()!==e.toLowerCase()||n.addMiddleware.apply(n,t)}),Promise.resolve(this)},t.prototype.setAnonymousId=function(e){return this._user.anonymousId(e)},t.prototype.queryString=function(e){return(0,a.sH)(this,void 0,void 0,function(){return(0,a.YH)(this,function(t){switch(t.label){case 0:return!1===this.options.useQueryString?[2,[]]:[4,Promise.resolve().then(n.bind(n,11465))];case 1:return[2,(0,t.sent().queryString)(this,e)]}})})},t.prototype.use=function(e){return e(this),this},t.prototype.ready=function(e){return void 0===e&&(e=function(e){return e}),(0,a.sH)(this,void 0,void 0,function(){return(0,a.YH)(this,function(t){return[2,Promise.all(this.queue.plugins.map(function(e){return e.ready?e.ready():Promise.resolve()})).then(function(t){return e(t),t})]})})},t.prototype.noConflict=function(){return console.warn(Ie),(0,ie.Ud)(null!=Oe?Oe:this),this},t.prototype.normalize=function(e){return console.warn(Ie),this.eventFactory.normalize(e)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(Ie),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return ne.r},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e,t){return(0,a.sH)(this,void 0,void 0,function(){return(0,a.YH)(this,function(e){return console.warn(Ie),[2,Promise.resolve(this)]})})},t.prototype.pageview=function(e){return(0,a.sH)(this,void 0,void 0,function(){return(0,a.YH)(this,function(t){switch(t.label){case 0:return console.warn(Ie),[4,this.page({path:e})];case 1:return t.sent(),[2,this]}})})},Object.defineProperty(t.prototype,"plugins",{get:function(){var e;return console.warn(Ie),null!==(e=this._plugins)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){return console.warn(Ie),this.queue.plugins.filter(function(e){return"destination"===e.type}).reduce(function(e,t){var n="".concat(t.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),r=window[n];if(!r)return e;var i=r.Integration;return i?(e[t.name]=i,e):(e[t.name]=r,e)},{})},enumerable:!1,configurable:!0}),t.prototype.push=function(e){var t=e.shift();t&&!this[t]||this[t].apply(this,e)},t}(g.v),De=function(e){function t(){var t=e.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return t.initialized=!0,t}return(0,a.C6)(t,e),t}(Le),Be=n(23135),je=n(8986),Ue=n(53031);function Fe(e){return(0,a.sH)(this,void 0,void 0,function(){var t;return(0,a.YH)(this,function(n){return(t=navigator.userAgentData)?e?[2,t.getHighEntropyValues(e).catch(function(){return t.toJSON()})]:[2,t.toJSON()]:[2,void 0]})})}function $e(){if(Ne)return Ne;var e=V(window.location.href);return Ne={expires:31536e6,secure:!1,path:"/"},e&&(Ne.domain=e),Ne}var ze,He,qe=new function(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(t,n){return(0,a.sH)(e,void 0,void 0,function(){var e;return(0,a.YH)(this,function(t){switch(t.label){case 0:this.instance=n,t.label=1;case 1:return t.trys.push([1,3,,4]),e=this,[4,Fe(this.instance.options.highEntropyValuesClientHints)];case 2:return e.userAgentData=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(t){var n,r,i=t.event.context,s=i.page.search||"",o="object"==typeof s?function(e){try{var t=new URLSearchParams;return Object.entries(e).forEach(function(e){var n=e[0],r=e[1];Array.isArray(r)?r.forEach(function(e){return t.append(n,e)}):t.append(n,r)}),t.toString()}catch(e){return""}}(s):s;i.userAgent=navigator.userAgent,i.userAgentData=e.userAgentData;var c=navigator.userLanguage||navigator.language;void 0===i.locale&&void 0!==c&&(i.locale=c),null!==(n=i.library)&&void 0!==n||(i.library={name:"analytics.js",version:"".concat("web"===(0,ae.X)()?"next":"npm:next","-").concat(ne.r)}),o&&!i.campaign&&(i.campaign=function(e){return e.startsWith("?")&&(e=e.substring(1)),(e=e.replace(/\?/g,"&")).split("&").reduce(function(e,t){var n=t.split("="),r=n[0],i=n[1],a=void 0===i?"":i;if(r.includes("utm_")&&r.length>4){var s=r.slice(4);"campaign"===s&&(s="name"),e[s]=(0,Ue.p)(a)}return e},{})}(o));var l=function(){var e=W.get("_ga");if(e&&e.startsWith("amp"))return e}();l&&(i.amp={id:l}),function(e,t,n){var r,i=new z(n?[]:[new G($e())]),s=i.get("s:context.referrer"),o=null!==(r=function(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1));for(var n=0,r=(e=e.replace(/\?/g,"&")).split("&");n<r.length;n++){var i=r[n].split("="),a=i[0],s=i[1];if(t[a])return{id:s,type:t[a]}}}(e))&&void 0!==r?r:s;o&&(t&&(t.referrer=(0,a.Cl)((0,a.Cl)({},t.referrer),o)),i.set("s:context.referrer",o))}(o,i,null!==(r=e.instance.options.disableClientPersistence)&&void 0!==r&&r);try{i.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}return t},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich},Ke=n(20162),We=n(61290),Ve=n(32502),Ge=function(){function e(e,t){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=(0,je.u)(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=t,this.name=e,this.type=t.type,this.alternativeNames.push(t.name)}return e.prototype.addMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];"destination"===this.type&&(e=this.middleware).push.apply(e,t)},e.prototype.transform=function(e){return(0,a.sH)(this,void 0,void 0,function(){var t;return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,(0,We.applyDestinationMiddleware)(this.name,e.event,this.middleware)];case 1:return null===(t=n.sent())&&e.cancel(new L.d({retry:!1,reason:"dropped by destination middleware"})),[2,new b.o(t)]}})})},e.prototype._createMethod=function(e){var t=this;return function(n){return(0,a.sH)(t,void 0,void 0,function(){var t,r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return this.action[e]?(t=n,"destination"!==this.type?[3,2]:[4,this.transform(n)]):[2,n];case 1:t=i.sent(),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!i.sent())throw new Error("Something prevented the destination from getting ready");return(0,Ve.y)(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](t)];case 4:return i.sent(),[3,6];case 5:throw r=i.sent(),(0,Ve.y)(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),r;case 6:return[2,n]}})})}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return(0,a.sH)(this,void 0,void 0,function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},e.prototype.load=function(e,t){return(0,a.sH)(this,void 0,void 0,function(){var n,r,i,s;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];a.label=1;case 1:return a.trys.push([1,3,,4]),(0,Ve.y)(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,t),i=(r=this.loadPromise).resolve,[4,n];case 2:return i.apply(r,[a.sent()]),[2,n];case 3:throw s=a.sent(),(0,Ve.y)(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(s),s;case 4:return[2]}})})},e.prototype.unload=function(e,t){var n,r;return null===(r=(n=this.action).unload)||void 0===r?void 0:r.call(n,e,t)},e}();function Ye(e,t){return(0,a.sH)(this,void 0,void 0,function(){var n,r,i,s,o,l;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(a.trys.push([0,9,,10]),n=new RegExp("https://cdn.segment.(com|build)"),r=(0,c.I2)(),!t)return[3,6];i=e.url.split("/"),s=i[i.length-2],o=e.url.replace(s,btoa(s).replace(/=/g,"")),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,(0,Ke.k)(o.replace(n,r))];case 2:return a.sent(),[3,5];case 3:return a.sent(),[4,(0,Ke.k)(e.url.replace(n,r))];case 4:return a.sent(),[3,5];case 5:return[3,8];case 6:return[4,(0,Ke.k)(e.url.replace(n,r))];case 7:a.sent(),a.label=8;case 8:return"function"==typeof window[e.libraryName]?[2,window[e.libraryName]]:[3,10];case 9:throw l=a.sent(),console.error("Failed to create PluginFactory",e),l;case 10:return[2]}})})}function Je(e,t,n,r,i,s){var o,c,l;return(0,a.sH)(this,void 0,void 0,function(){var u,d,f,p=this;return(0,a.YH)(this,function(h){switch(h.label){case 0:return u=[],d=null!==(c=null===(o=e.middlewareSettings)||void 0===o?void 0:o.routingRules)&&void 0!==c?c:[],f=(null!==(l=e.remotePlugins)&&void 0!==l?l:[]).map(function(e){return(0,a.sH)(p,void 0,void 0,function(){var o,c,l,f,p,h,b;return(0,a.YH)(this,function(y){switch(y.label){case 0:if(function(e,t){var n=e[t.creationName],r=e[t.name];return!1===e.All&&!n&&!r||!1===n||!1===r}(t,e))return[2];y.label=1;case 1:return y.trys.push([1,6,,7]),(c=null==s?void 0:s.find(function(t){return t.pluginName===e.name}))?[3,3]:[4,Ye(e,null==r?void 0:r.obfuscate)];case 2:c=y.sent(),y.label=3;case 3:return(o=c)?(l=n[e.name],[4,o((0,a.Cl)((0,a.Cl)({},e.settings),l))]):[3,5];case 4:f=y.sent(),function(e){if(!Array.isArray(e))throw new Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];e.forEach(function(e){t.forEach(function(t){var n;if(void 0===e[t])throw new Error("Plugin: ".concat(null!==(n=e.name)&&void 0!==n?n:"unknown"," missing required function ").concat(t))})})}(p=Array.isArray(f)?f:[f]),h=d.filter(function(t){return t.destinationName===e.creationName}),p.forEach(function(t){var n=new Ge(e.creationName,t);h.length&&i&&n.addMiddleware(i),u.push(n)}),y.label=5;case 5:return[3,7];case 6:return b=y.sent(),console.warn("Failed to load Remote Plugin",b),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return h.sent(),[2,u.filter(Boolean)]}})})}var Ze=null!==(ze=(He=(0,re.m)()).__SEGMENT_INSPECTOR__)&&void 0!==ze?ze:He.__SEGMENT_INSPECTOR__={},Xe=n(2063);function Qe(e,t,n){return(0,a.sH)(this,void 0,void 0,function(){return(0,a.YH)(this,function(r){switch(r.label){case 0:return[4,et(e,t)];case 1:return r.sent(),function(e,t){Object.keys(t.calls).forEach(function(n){t.getAndRemove(n).forEach(function(t){setTimeout(function(){be(e,t).catch(console.error)},0)})})}(e,n),[2]}})})}var et=function(e,t){return(0,a.sH)(void 0,void 0,void 0,function(){return(0,a.YH)(this,function(n){switch(n.label){case 0:return t.includes("ajs_")?[4,e.queryString(t).catch(console.error)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})};function tt(e,t,r,i,s,c,l){var u,d,f;return void 0===s&&(s=[]),(0,a.sH)(this,void 0,void 0,function(){var p,h,b,y,m,g,w,v,E,x,S,T,A,_,C=this;return(0,a.YH)(this,function(k){switch(k.label){case 0:return function(e,t){ue(e,t),le(e,t)}(r,l),p=null==s?void 0:s.filter(function(e){return"object"==typeof e}),h=null==s?void 0:s.filter(function(e){return"function"==typeof e&&"string"==typeof e.pluginName}),function(e){var t,n,r;return"test"!==o().NODE_ENV&&(null!==(r=null===(n=null===(t=e.middlewareSettings)||void 0===t?void 0:t.routingRules)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>0}(t)?[4,Promise.resolve().then(n.bind(n,76243)).then(function(e){return e.tsubMiddleware(t.middlewareSettings.routingRules)})]:[3,2];case 1:return y=k.sent(),[3,3];case 2:y=void 0,k.label=3;case 3:return b=y,I=t,"test"!==o().NODE_ENV&&Object.keys(I.integrations).length>1||c.length>0?[4,Promise.resolve().then(n.bind(n,28512)).then(function(n){return n.ajsDestinations(e,t,r.integrations,i,b,c)})]:[3,5];case 4:return g=k.sent(),[3,6];case 5:g=[],k.label=6;case 6:return m=g,t.legacyVideoPluginsEnabled?[4,Promise.resolve().then(n.bind(n,97470)).then(function(e){return e.loadLegacyVideoPlugins(r)})]:[3,8];case 7:k.sent(),k.label=8;case 8:return(null===(u=i.plan)||void 0===u?void 0:u.track)?[4,Promise.resolve().then(n.bind(n,33322)).then(function(e){var n;return e.schemaFilter(null===(n=i.plan)||void 0===n?void 0:n.track,t)})]:[3,10];case 9:return v=k.sent(),[3,11];case 10:v=void 0,k.label=11;case 11:return w=v,E=(0,Be.J)(t,i),[4,Je(t,r.integrations,E,i,b,h).catch(function(){return[]})];case 12:return x=k.sent(),S=(0,a.fX)((0,a.fX)([qe],m,!0),x,!0),w&&S.push(w),!1===(null===(d=i.integrations)||void 0===d?void 0:d.All)&&!i.integrations["Segment.io"]||i.integrations&&!1===i.integrations["Segment.io"]?[3,14]:(A=(T=S).push,[4,ke(r,E["Segment.io"],t.integrations)]);case 13:A.apply(T,[k.sent()]),k.label=14;case 14:return[4,r.register.apply(r,(0,a.fX)((0,a.fX)([],S,!1),p,!1))];case 15:return _=k.sent(),[4,ce(r,l)];case 16:return k.sent(),Object.entries(null!==(f=t.enabledMiddleware)&&void 0!==f?f:{}).some(function(e){return e[1]})?[4,Promise.resolve().then(n.bind(n,90247)).then(function(e){var n=e.remoteMiddlewares;return(0,a.sH)(C,void 0,void 0,function(){var e,s;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,n(_,t,i.obfuscate)];case 1:return e=a.sent(),s=e.map(function(e){return r.addSourceMiddleware(e)}),[2,Promise.all(s)]}})})})]:[3,18];case 17:k.sent(),k.label=18;case 18:return[4,oe(r,l)];case 19:return k.sent(),[2,_]}var I})})}var nt=function(e){function t(){var t=this,n=(0,je.u)(),r=n.promise,i=n.resolve;return t=e.call(this,function(e){return r.then(function(t){return function(e,t,n){var r,i,s,o,l,u,d,f,p;return void 0===t&&(t={}),(0,a.sH)(this,void 0,void 0,function(){var h,y,m,g,w,v,E,x,S,T;return(0,a.YH)(this,function(A){switch(A.label){case 0:return!0===t.disable?[2,[new De,b.o.system()]]:(t.globalAnalyticsKey&&(0,ie.rY)(t.globalAnalyticsKey),e.cdnURL&&(0,c.qQ)(e.cdnURL),t.initialPageview&&n.add(new pe("page",[])),h=function(){var e,t,n=null!==(e=window.location.hash)&&void 0!==e?e:"",r=null!==(t=window.location.search)&&void 0!==t?t:"";return r.length?r:n.replace(/(?=#).*(?=\?)/,"")}(),y=null!==(r=e.cdnURL)&&void 0!==r?r:(0,c.I2)(),null===(i=e.cdnSettings)||void 0===i?[3,1]:(g=i,[3,3]));case 1:return[4,(_=e.writeKey,C=y,(0,ge.h)("".concat(C,"/v1/projects/").concat(_,"/settings")).then(function(e){return e.ok?e.json():e.text().then(function(e){throw new Error(e)})}).catch(function(e){throw console.error(e.message),e}))];case 2:g=A.sent(),A.label=3;case 3:return m=g,t.updateCDNSettings&&(m=t.updateCDNSettings(m)),"function"!=typeof t.disable?[3,5]:[4,t.disable(m)];case 4:if(A.sent())return[2,[new De,b.o.system()]];A.label=5;case 5:return w=null===(o=null===(s=m.integrations["Segment.io"])||void 0===s?void 0:s.retryQueue)||void 0===o||o,t=(0,a.Cl)({retryQueue:w},t),function(e){var t;null===(t=Ze.attach)||void 0===t||t.call(Ze,e)}(v=new Le((0,a.Cl)((0,a.Cl)({},e),{cdnSettings:m,cdnURL:y}),t)),E=null!==(l=e.plugins)&&void 0!==l?l:[],x=null!==(u=e.classicIntegrations)&&void 0!==u?u:[],S=null===(d=t.integrations)||void 0===d?void 0:d["Segment.io"],Xe.U.initRemoteMetrics((0,a.Cl)((0,a.Cl)({},m.metrics),{host:null!==(f=null==S?void 0:S.apiHost)&&void 0!==f?f:null===(p=m.metrics)||void 0===p?void 0:p.host,protocol:null==S?void 0:S.protocol})),[4,tt(e.writeKey,m,v,t,E,x,n)];case 6:return T=A.sent(),v.initialized=!0,v.emit("initialize",e,t),[4,Qe(v,h,n)];case 7:return A.sent(),[2,[v,T]]}var _,C})})}(t[0],t[1],e)})})||this,t._resolveLoadStart=function(e,t){return i([e,t])},t}return(0,a.C6)(t,e),t.prototype.load=function(e,t){return void 0===t&&(t={}),this._resolveLoadStart(e,t),this},t.load=function(e,n){return void 0===n&&(n={}),(new t).load(e,n)},t.standalone=function(e,n){return t.load({writeKey:e},n).then(function(e){return e[0]})},t}(ye),rt=n(96250);class it{constructor(){(0,i.A)(this,"segment",void 0),(0,i.A)(this,"globalProperties",{}),(0,i.A)(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw new Error("Analytics already initialized");this.segment=new nt,this.segment.load({writeKey:"f6LbNqCeVRf512ggdME4b6CyflhF1tsX"},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>(rt.R.debug("Analytics initialized"),!0)).catch(e=>{rt.R.error("Failed to initialize Analytics",e)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(e){this.globalProperties=(0,r.A)((0,r.A)({},this.globalProperties),e)}async identify(e,t){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(e,(0,r.A)({},t))}catch(t){rt.R.error(`Failed to identify user ${e} in analytics`,t)}}async track(e,t){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(e,(0,r.A)((0,r.A)({},t),this.globalProperties))}catch(t){rt.R.error(`Failed to track event ${e}`,t)}}getSegment(){if(!this.segment)throw rt.R.error("Analytics not initialized. Call Analytics.init() first."),new Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){const e=window.location.origin;return!!e.startsWith("http://")||!!e.includes("localhost")}}const at={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_FUNDING_CLICKED:"Wallet Funding Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_RECEIVE_CLICKED:"Wallet Receive Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},st={REACT_HOOKS:"React Hooks",VUE_COMPOSABLES:"Vue Composables",NATIVE_SDK:"Native SDK"},ot={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"}},65204:(e,t,n)=>{"use strict";n.d(t,{F6:()=>b,He:()=>l,Jt:()=>p,bE:()=>h,yJ:()=>y});var r=n(69740),i=n(52743),a=n.n(i),s=n(55880);const o=n.n(s)().getLogger("http-helpers");o.setLevel(s.levels.INFO);let c="torus-default";function l(e){o.setLevel(e)}async function u(e,t){let n=null;try{n=new URL(e)}catch{}return fetch(e,t)}function d(){const e={};return c&&(e["x-api-key"]=c),e}function f(e){o.info(`Response: ${e.status} ${e.statusText}`),o.info(`Url: ${e.url}`)}const p=async(e,t={},n={})=>{const i={mode:"cors",headers:{}};n.useAPIKey&&(i.headers=(0,r.A)((0,r.A)({},i.headers),d())),t.method="GET";const s=a()(i,t),o=await u(e,s);if(o.ok){const e=o.headers.get("content-type");return null!=e&&e.includes("application/json")?o.json():o.text()}throw f(o),o},h=(e,t={},n={},i={})=>{const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(s.headers=(0,r.A)((0,r.A)({},s.headers),d())),n.method="POST";const c=a()(s,n);return i.isUrlEncodedData?(c.body=t,"application/json; charset=utf-8"===c.headers["Content-Type"]&&delete c.headers["Content-Type"]):c.body=JSON.stringify(t),(async(e,t)=>{let n=null;try{const r=new Promise((t,r)=>{n=setTimeout(()=>{r(new Error(`Timed out in ${e}ms`))},e)}),i=await Promise.race([t,r]);return null!=n&&clearTimeout(n),i}catch(e){throw null!=n&&clearTimeout(n),e}})(i.timeout||6e4,u(e,c).then(e=>{if(i.logTracingHeader&&function(e){const t=e.headers.get("x-web3-correlation-id");t&&o.info(`Request tracing with traceID = ${t}`)}(e),e.ok){const t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?e.json():e.text()}throw f(e),e}))},b=async(e,t={},n={},i={})=>{const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(s.headers=(0,r.A)((0,r.A)({},s.headers),d())),n.method="PATCH";const o=a()(s,n);i.isUrlEncodedData?(o.body=t,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(t);const c=await u(e,o);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw f(c),c},y=async(e,t={},n={},i={})=>{const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(s.headers=(0,r.A)((0,r.A)({},s.headers),d())),n.method="PUT";const o=a()(s,n);i.isUrlEncodedData?(o.body=t,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(t);const c=await u(e,o);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw f(c),c}},65388:(e,t,n)=>{"use strict";const r=n(43930);e.exports=d;const i=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},a={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:m,res:m,err:b,errWithCause:b};function s(e,t){return"silent"===e?1/0:t.levels.values[e]}const o=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){const n={logger:t,parent:e[c]};t[c]=n}function d(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},a=function(e,t){return Array.isArray(e)?e.filter(function(e){return"!stdSerializers.err"!==e}):!0===e&&Object.keys(t)}(e.browser.serialize,r);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const b=Object.keys(e.customLevels||{}),m=["error","fatal","warn","info","debug","trace"].concat(b);"function"==typeof n&&m.forEach(function(e){n[e]=n}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const g=e.level||"info",v=Object.create(n);v.log||(v.log=w),function(e,t,n){const r={};t.forEach(e=>{r[e]=n[e]?n[e]:i[e]||i[l[e]||"log"]||w}),e[o]=r}(v,m,n),u({},v),Object.defineProperty(v,"levelVal",{get:function(){return s(this.level,this)}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,f(this,E,v,"error"),f(this,E,v,"fatal"),f(this,E,v,"warn"),f(this,E,v,"info"),f(this,E,v,"debug"),f(this,E,v,"trace"),b.forEach(e=>{f(this,E,v,e)})}});const E={transmit:t,serialize:a,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:m,timestamp:y(e),messageKey:e.messageKey||"msg",onChild:e.onChild||w};function x(n,i,s){if(!i)throw new Error("missing bindings for child Pino");s=s||{},a&&i.serializers&&(s.serializers=i.serializers);const o=s.serializers;if(a&&o){var c=Object.assign({},r,o),l=!0===e.browser.serialize?Object.keys(c):a;delete i.serializers,p([i],l,c,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.bindings=i,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=h([].concat(e._logEvent.bindings,i)))}d.prototype=this;const f=new d(this);return u(this,f),f.child=function(...e){return x.call(this,n,...e)},f.level=s.level||this.level,n.onChild(f),f}return v.levels=function(e){const t=e.customLevels||{};return{values:Object.assign({},d.levels.values,t),labels:Object.assign({},d.levels.labels,function(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t))}}(e),v.level=g,v.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=w,v.serializers=r,v._serialize=a,v._stdErrSerialize=c,v.child=function(...e){return x.call(this,E,...e)},t&&(v._logEvent=h()),v}function f(e,t,n,a){if(Object.defineProperty(e,a,{value:s(e.level,n)>s(a,n)?w:n[o][a],writable:!0,enumerable:!0,configurable:!0}),e[a]===w){if(!t.transmit)return;const r=s(t.transmit.level||e.level,n);if(s(a,n)<r)return}e[a]=function(e,t,n,a){return c=e[o][a],function(){const o=t.timestamp(),l=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];var f=!1;if(t.serialize&&(p(l,this._serialize,this.serializers,this._stdErrSerialize),f=!0),t.asObject||t.formatters?c.call(u,...function(e,t,n,i,a){const{level:s,log:o=e=>e}=a.formatters||{},c=n.slice();let l=c[0];const u={};let d=1+(0|e._childLevel);if(d<1&&(d=1),i&&(u.time=i),s){const n=s(t,e.levels.values[t]);Object.assign(u,n)}else u.level=e.levels.values[t];if(a.asObjectBindingsOnly){if(null!==l&&"object"==typeof l)for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());return[o(u),...c]}if(null!==l&&"object"==typeof l){for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());l=c.length?r(c.shift(),c):void 0}else"string"==typeof l&&(l=r(c.shift(),c));return void 0!==l&&(u[a.messageKey]=l),[o(u)]}(this,a,l,o,t)):c.apply(u,l),t.transmit){const r=t.transmit.level||e._level,i=s(r,n),c=s(a,n);if(c<i)return;!function(e,t,n,r=!1){const i=t.send,a=t.ts,s=t.methodLevel,o=t.methodValue,c=t.val,l=e._logEvent.bindings;r||p(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=a,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,i(s,e._logEvent,c),e._logEvent=h(l)}(this,{ts:o,methodLevel:a,methodValue:c,transmitLevel:r,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:s(e._level,n)},l,f)}};var c}(e,t,n,a);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[c];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[a]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[a]))}function p(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=d.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i])&&t)for(const r in e[i])t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function h(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function b(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}function y(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?v:E}function m(){return{}}function g(e){return e}function w(){}function v(){return!1}function E(){return Date.now()}d.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},d.stdSerializers=a,d.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:E,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=d,e.exports.pino=d},65391:(e,t,n)=>{"use strict";const r=n(61253),i=n(91715),{safeRe:a,t:s}=n(32169);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?a[s.COERCERTLFULL]:a[s.COERCERTL];let i;for(;(i=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&i.index+i[0].length===n.index+n[0].length||(n=i),r.lastIndex=i.index+i[1].length+i[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?a[s.COERCEFULL]:a[s.COERCE]);if(null===n)return null;const o=n[2],c=n[3]||"0",l=n[4]||"0",u=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return i(`${o}.${c}.${l}${u}${d}`,t)}},65464:(e,t,n)=>{"use strict";n.d(t,{Lq:()=>i,ZE:()=>s,pI:()=>o});var r=n(2317);const i=e=>{const{document:t}=e,n=t.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:e.location.hostname};function a(e){return new Promise((t,n)=>{try{const n=document.createElement("img");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(e){n(e)}})}async function s(e){const{document:t}=e;let n=t.querySelector('head > link[rel="shortcut icon"]');return n&&await a(n.href)?n.href:(n=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(e=>Boolean(e.href))||null,n&&await a(n.href)?n.href:void 0)}function o(e){const[t,n]=e.split(".");return{header:JSON.parse((0,r._i)(t)),payload:JSON.parse((0,r._i)(n))}}},65543:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identify=void 0;var i=n(42265),a=r(n(48578)),s=r(n(35615)),o=r(n(86362)),c=r(n(87639)),l=function(e){return e.trim()};function u(e,t){i.Facade.call(this,e,t)}t.Identify=u,s.default(u,i.Facade);var d=u.prototype;d.action=function(){return"identify"},d.type=d.action,d.traits=function(e){var t=this.field("traits")||{},n=this.userId();for(var r in e=e||{},n&&(t.id=n),e){var i=null==this[r]?this.proxy("traits."+r):this[r]();null!=i&&(t[e[r]]=i,r!==e[r]&&delete t[r])}return t},d.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();return o.default(t)?t:void 0},d.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return c.default(e)},d.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return c.default(e)},d.companyName=function(){return this.proxy("traits.company.name")},d.name=function(){var e=this.proxy("traits.name");if("string"==typeof e)return l(e);var t=this.firstName(),n=this.lastName();return t&&n?l(t+" "+n):void 0},d.firstName=function(){var e=this.proxy("traits.firstName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");return"string"==typeof t?l(t).split(" ")[0]:void 0},d.lastName=function(){var e=this.proxy("traits.lastName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");if("string"==typeof t){var n=l(t).indexOf(" ");if(-1!==n)return l(t.substr(n+1))}},d.uid=function(){return this.userId()||this.username()||this.email()},d.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},d.age=function(){var e=this.birthday(),t=a.default(this.traits(),"age");return null!=t?t:e instanceof Date?(new Date).getFullYear()-e.getFullYear():void 0},d.avatar=function(){var e=this.traits();return a.default(e,"avatar")||a.default(e,"photoUrl")||a.default(e,"avatarUrl")},d.position=function(){var e=this.traits();return a.default(e,"position")||a.default(e,"jobTitle")},d.username=i.Facade.proxy("traits.username"),d.website=i.Facade.one("traits.website"),d.websites=i.Facade.multi("traits.website"),d.phone=i.Facade.one("traits.phone"),d.phones=i.Facade.multi("traits.phone"),d.address=i.Facade.proxy("traits.address"),d.gender=i.Facade.proxy("traits.gender"),d.birthday=i.Facade.proxy("traits.birthday")},65593:(e,t,n)=>{"use strict";n.d(t,{$p:()=>c,lA:()=>l});var r=n(69740),i=n(65204),a=n(55880),s=n.n(a);const o="https://authjs.web3auth.io",c=async(e,t)=>{const n={payload:e,header:{t:"solana"===t?"sip99":"eip191"},network:"solana"===t?"solana":"ethereum"},r=await(0,i.bE)(`${o}/siww/get`,n);if(!r.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return r.challenge},l=async(e,t,n,a,c,l,u,d,f)=>{var p;const h="solana"===e?"sip99":"eip191",b=(0,r.A)({signature:{s:t,t:h},message:n,issuer:a,audience:d||"undefined"!=typeof window&&(null===(p=window.location)||void 0===p?void 0:p.hostname)||"com://reactnative",timeout:c},f||{}),y=await(0,i.bE)(`${o}/siww/verify`,b,{headers:{client_id:l,wallet_provider:a,web3auth_network:u}});if(!y.success)throw s().error("Failed to authenticate user, ,message verification failed",y.error),new Error("Failed to authenticate user, ,message verification failed");return y.token}},65793:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},65839:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(34820),i=n(94102),a=n(38903);async function s(e,{account:t=e.account,message:n}){if(!t)throw new i.T({docsPath:"/docs/actions/wallet/signMessage"});const s=(0,r.J)(t);if(s.signMessage)return s.signMessage({message:n});const o="string"==typeof n?(0,a.i3)(n):n.raw instanceof Uint8Array?(0,a.nj)(n.raw):n.raw;return e.request({method:"personal_sign",params:[o,s.address]},{retryCount:0})}},65846:(e,t,n)=>{"use strict";n.d(t,{A1:()=>l,di:()=>s,iN:()=>u});var r=n(96485),i=n(23785),a=n(96943);function s(e,t,n,{strict:r}={}){return(0,i.q)(e,{strict:!1})?u(e,t,n,{strict:r}):l(e,t,n,{strict:r})}function o(e,t){if("number"==typeof t&&t>0&&t>(0,a.E)(e)-1)throw new r.ii({offset:t,position:"start",size:(0,a.E)(e)})}function c(e,t,n){if("number"==typeof t&&"number"==typeof n&&(0,a.E)(e)!==n-t)throw new r.ii({offset:n,position:"end",size:(0,a.E)(e)})}function l(e,t,n,{strict:r}={}){o(e,t);const i=e.slice(t,n);return r&&c(i,t,n),i}function u(e,t,n,{strict:r}={}){o(e,t);const i=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return r&&c(i,t,n),i}},66009:(e,t,n)=>{"use strict";const{pipeline:r}=n(87103),i=n(96631),{destroyer:a}=n(20863),{isNodeStream:s,isReadable:o,isWritable:c,isWebStream:l,isTransformStream:u,isWritableStream:d,isReadableStream:f}=n(38104),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:b}}=n(61150),y=n(92549);e.exports=function(...e){if(0===e.length)throw new b("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let n=0;n<e.length;++n)if(s(e[n])||l(e[n])){if(n<e.length-1&&!(o(e[n])||f(e[n])||u(e[n])))throw new h(`streams[${n}]`,t[n],"must be readable");if(n>0&&!(c(e[n])||d(e[n])||u(e[n])))throw new h(`streams[${n}]`,t[n],"must be writable")}let n,m,g,w,v;const E=e[0],x=r(e,function(e){const t=w;w=null,t?t(e):e?v.destroy(e):T||S||v.destroy()}),S=!!(c(E)||d(E)||u(E)),T=!!(o(x)||f(x)||u(x));if(v=new i({writableObjectMode:!(null==E||!E.writableObjectMode),readableObjectMode:!(null==x||!x.readableObjectMode),writable:S,readable:T}),S){if(s(E))v._write=function(e,t,r){E.write(e,t)?r():n=r},v._final=function(e){E.end(),m=e},E.on("drain",function(){if(n){const e=n;n=null,e()}});else if(l(E)){const e=(u(E)?E.writable:E).getWriter();v._write=async function(t,n,r){try{await e.ready,e.write(t).catch(()=>{}),r()}catch(e){r(e)}},v._final=async function(t){try{await e.ready,e.close().catch(()=>{}),m=t}catch(e){t(e)}}}const e=u(x)?x.readable:x;y(e,()=>{if(m){const e=m;m=null,e()}})}if(T)if(s(x))x.on("readable",function(){if(g){const e=g;g=null,e()}}),x.on("end",function(){v.push(null)}),v._read=function(){for(;;){const e=x.read();if(null===e)return void(g=v._read);if(!v.push(e))return}};else if(l(x)){const e=(u(x)?x.readable:x).getReader();v._read=async function(){for(;;)try{const{value:t,done:n}=await e.read();if(!v.push(t))return;if(n)return void v.push(null)}catch{return}}}return v._destroy=function(e,t){e||null===w||(e=new p),g=null,n=null,m=null,null===w?t(e):(w=t,s(x)&&a(x,e))},v}},66077:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(14323);class i extends r.C{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},66220:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var r=n(49380);function i(e){return"function"===e.type?`function ${e.name}(${(0,r.Q)(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${(0,r.Q)(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${(0,r.Q)(e.inputs)})`:"error"===e.type?`error ${e.name}(${(0,r.Q)(e.inputs)})`:"constructor"===e.type?`constructor(${(0,r.Q)(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback() external"+("payable"===e.stateMutability?" payable":""):"receive() external payable"}},66310:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,c=e[o],l=o+1,u=e[l];if(0>a(c,n))l<i&&0>a(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[o]=n,r=o);else{if(!(l<i&&0>a(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],u=[],d=1,f=null,p=3,h=!1,b=!1,y=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function x(e){if(y=!1,E(e),!b)if(null!==r(l))b=!0,T||(T=!0,S());else{var t=r(u);null!==t&&M(x,t.startTime-e)}}var S,T=!1,A=-1,_=5,C=-1;function k(){return!(!m&&t.unstable_now()-C<_)}function I(){if(m=!1,T){var e=t.unstable_now();C=e;var n=!0;try{e:{b=!1,y&&(y=!1,w(A),A=-1),h=!0;var a=p;try{t:{for(E(e),f=r(l);null!==f&&!(f.expirationTime>e&&k());){var s=f.callback;if("function"==typeof s){f.callback=null,p=f.priorityLevel;var o=s(f.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof o){f.callback=o,E(e),n=!0;break t}f===r(l)&&i(l),E(e)}else i(l);f=r(l)}if(null!==f)n=!0;else{var c=r(u);null!==c&&M(x,c.startTime-e),n=!1}}break e}finally{f=null,p=a,h=!1}n=void 0}}finally{n?S():T=!1}}}if("function"==typeof v)S=function(){v(I)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=I,S=function(){O.postMessage(null)}}else S=function(){g(I,0)};function M(e,n){A=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){m=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(l)&&e===r(u)&&(y?(w(A),A=-1):y=!0,M(x,a-s))):(e.sortIndex=o,n(l,e),b||h||(b=!0,T||(T=!0,S()))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},66450:(e,t,n)=>{"use strict";const r=n(18650);e.exports=(e,t)=>e.sort((e,n)=>r(n,e,t))},66690:(e,t,n)=>{"use strict";const r=n(32169),i=n(47031),a=n(61253),s=n(49742),o=n(91715),c=n(85210),l=n(54009),u=n(16916),d=n(42133),f=n(49933),p=n(54905),h=n(68050),b=n(17844),y=n(39435),m=n(61347),g=n(47684),w=n(18650),v=n(64922),E=n(66450),x=n(14305),S=n(34686),T=n(64784),A=n(83484),_=n(2018),C=n(33127),k=n(82132),I=n(65391),P=n(29997),O=n(29668),M=n(12285),R=n(15484),N=n(32351),L=n(6749),D=n(19088),B=n(26299),j=n(93510),U=n(50394),F=n(60351),$=n(45247),z=n(12166),H=n(12647);e.exports={parse:o,valid:c,clean:l,inc:u,diff:d,major:f,minor:p,patch:h,prerelease:b,compare:y,rcompare:m,compareLoose:g,compareBuild:w,sort:v,rsort:E,gt:x,lt:S,eq:T,neq:A,gte:_,lte:C,cmp:k,coerce:I,Comparator:P,Range:O,satisfies:M,toComparators:R,maxSatisfying:N,minSatisfying:L,minVersion:D,validRange:B,outside:j,gtr:U,ltr:F,intersects:$,simplifyRange:z,subset:H,SemVer:a,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},66871:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0;var i=r(n(35615)),a=n(13644),s=n(85616);function o(e,t){a.Page.call(this,e,t)}t.Screen=o,i.default(o,a.Page),o.prototype.action=function(){return"screen"},o.prototype.type=o.prototype.action,o.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"},o.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new s.Track(t,this.opts)}},67083:e=>{"use strict";const{AbortController:t,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=n,e.exports.default=t},67766:(e,t,n)=>{"use strict";var r,i=n(39907),a=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,l=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,d=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of c(t))u.call(e,i)||i===n||s(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},f={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(f,{analytics:()=>m}),e.exports=(r=f,d(s({},"__esModule",{value:!0}),r));var p,h,b=((e,t,n)=>(n=null!=e?a(l(e)):{},d(e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)))(n(27699)),y=class{constructor(e){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=e.batchSize,this.baseTimeoutMs=e.baseTimeoutMs,this.currentTimeoutMs=e.baseTimeoutMs,this.sendFn=e.sendFn}enqueue(e){this.batch.push(e),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||0===this.batch.length)return;this.isSending=!0;const e=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(e),this.currentTimeoutMs=this.baseTimeoutMs}catch(t){console.error("Sender: Failed to send batch",t),this.batch=[...e,...this.batch],this.currentTimeoutMs=Math.min(2*this.currentTimeoutMs,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}};void 0!==i&&i.env&&(p=null!=(h=i.env.METAMASK_ANALYTICS_ENDPOINT)?h:i.env.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var m=new class{constructor(e){this.enabled=!1,this.properties={};const t=(0,b.default)({baseUrl:e});this.sender=new y({batchSize:100,baseTimeoutMs:200,sendFn:async e=>{const n=await t.POST("/v1/events",{body:e});if(200!==n.response.status)throw new Error(n.error)}})}enable(){this.enabled=!0}setGlobalProperty(e,t){this.properties[e]=t}track(e,t){if(!this.enabled)return;const n={name:e,...this.properties,...t};this.sender.enqueue(n)}}(null!=p?p:"https://mm-sdk-analytics.api.cx.metamask.io/")},67822:(e,t,n)=>{"use strict";t.g=void 0;const r=n(20635);t.g=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(e){return null}function n(...t){const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const r=n[e],i=["itemprop","property","name"].map(e=>r.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){const e=r.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],a=i.getAttribute("rel");if(a&&a.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop(),n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},68050:(e,t,n)=>{"use strict";const r=n(61253);e.exports=(e,t)=>new r(e,t).patch},68165:(e,t,n)=>{"use strict";var r=n(79138),i=n(6095),a=n(64531),s=n(87196);e.exports=s||r.call(a,i)},68711:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(50046);function i(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout(()=>{throw e})}}class a extends r.EventEmitter{emit(e,...t){let n="error"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));throw n.context=e,n}const a=r[e];if(void 0===a)return!1;if("function"==typeof a)i(a,this,t);else{const e=a.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(a);for(let r=0;r<e;r+=1)i(n[r],this,t)}return!0}}},69336:(e,t,n)=>{"use strict";var r=n(61292);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},69740:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(98158);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},69860:(e,t,n)=>{"use strict";n.d(t,{VO2:()=>Oe,Lov:()=>_e,$mX:()=>Me,Agw:()=>Ce});var r=n(64639),i=n(97713),a=n(30036);const s=BigInt(0),o=BigInt(1);function c(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function l(e){if(!c(e))throw new Error("Uint8Array expected")}function u(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function d(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function f(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}const p="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,h=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function b(e){if(l(e),p)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=h[e[n]];return t}function y(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function m(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(p)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=y(e.charCodeAt(i)),a=y(e.charCodeAt(i+1));if(void 0===n||void 0===a){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+a}return r}function g(e){return f(b(e))}function w(e){return l(e),f(b(Uint8Array.from(e).reverse()))}function v(e,t){return m(e.toString(16).padStart(2*t,"0"))}function E(e,t){return v(e,t).reverse()}function x(e,t,n){let r;if("string"==typeof t)try{r=m(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!c(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function S(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];l(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const T=e=>"bigint"==typeof e&&s<=e;function A(e,t,n){return T(e)&&T(t)&&T(n)&&t<=e&&e<n}function _(e,t,n,r){if(!A(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const C=e=>(o<<BigInt(e))-o,k=e=>new Uint8Array(e),I=e=>Uint8Array.from(e),P={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||c(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function O(e,t,n={}){const r=(t,n,r)=>{const i=P[n];if("function"!=typeof i)throw new Error("invalid validator function");const a=e[t];if(!(r&&void 0===a||i(a,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+a)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function M(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const a=e(n,...r);return t.set(n,a),a}}const R=BigInt(0),N=BigInt(1),L=BigInt(2),D=BigInt(3),B=BigInt(4),j=BigInt(5),U=BigInt(8);function F(e,t){const n=e%t;return n>=R?n:t+n}function $(e,t,n){let r=e;for(;t-- >R;)r*=r,r%=n;return r}function z(e,t){if(e===R)throw new Error("invert: expected non-zero number");if(t<=R)throw new Error("invert: expected positive modulus, got "+t);let n=F(e,t),r=t,i=R,a=N,s=N,o=R;for(;n!==R;){const e=r/n,t=r%n,c=i-s*e,l=a-o*e;r=n,n=t,i=s,a=o,s=c,o=l}if(r!==N)throw new Error("invert: does not exist");return F(i,t)}const H=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function q(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),a=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),a),r}function K(e,t){const n=function(e,t){const n=(e.ORDER-N)/L,r=e.pow(t,n),i=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!a&&!s)throw new Error("Cannot find square root: probably non-prime P");return i?1:a?0:-1}(e,t);return 0===n||1===n}function W(e,t){void 0!==t&&(0,a.Fe)(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function V(e,t,n=!1,r={}){if(e<=R)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:a}=W(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const o=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:a,MASK:C(i),ZERO:R,ONE:N,create:t=>F(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return R<=t&&t<e},is0:e=>e===R,isOdd:e=>(e&N)===N,neg:t=>F(-t,e),eql:(e,t)=>e===t,sqr:t=>F(t*t,e),add:(t,n)=>F(t+n,e),sub:(t,n)=>F(t-n,e),mul:(t,n)=>F(t*n,e),pow:(e,t)=>function(e,t,n){if(n<R)throw new Error("invalid exponent, negatives unsupported");if(n===R)return e.ONE;if(n===N)return t;let r=e.ONE,i=t;for(;n>R;)n&N&&(r=e.mul(r,i)),i=e.sqr(i),n>>=N;return r}(o,e,t),div:(t,n)=>F(t*z(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>z(t,e),sqrt:r.sqrt||(t=>{return s||(s=(n=e)%B===D?function(e,t){const r=(n+N)/B,i=e.pow(t,r);if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}:n%U===j?function(e,t){const r=e.mul(t,L),i=(n-j)/U,a=e.pow(r,i),s=e.mul(t,a),o=e.mul(e.mul(s,L),a),c=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}:function(e){let t=e-N,n=0;for(;t%L===R;)t/=L,n++;let r=L;const i=V(e);for(;r<e&&K(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n){const t=(e+N)/B;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const a=(t+N)/L;return function(e,i){if(!K(e,i))throw new Error("Cannot find square root");let s=n,o=e.pow(e.mul(e.ONE,r),t),c=e.pow(i,a),l=e.pow(i,t);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(l);t<s&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(o,N<<BigInt(s-t-1));o=e.sqr(n),c=e.mul(c,n),l=e.mul(l,o),s=t}return c}}(n)),s(o,t);var n}),toBytes:e=>n?E(e,a):v(e,a),fromBytes:e=>{if(e.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return n?w(e):g(e)},invertBatch:e=>q(o,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(o)}function G(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Y(e){const t=G(e);return t+Math.ceil(t/2)}const J=BigInt(0),Z=BigInt(1);function X(e,t){const n=t.negate();return e?n:t}function Q(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ee(e,t){Q(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:C(e),maxNumber:n,shiftBy:BigInt(e)}}function te(e,t,n){const{windowSize:r,mask:i,maxNumber:a,shiftBy:s}=n;let o=Number(e&i),c=e>>s;o>r&&(o-=a,c+=Z);const l=t*r;return{nextN:c,offset:l+Math.abs(o)-1,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:l}}const ne=new WeakMap,re=new WeakMap;function ie(e){return re.get(e)||1}function ae(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=function(e){let t;for(t=0;e>s;e>>=o,t+=1);return t}(BigInt(n.length)),c=a>12?a-3:a>4?a-2:a?2:1,l=C(c),u=new Array(Number(l)+1).fill(i);let d=i;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){u.fill(i);for(let t=0;t<r.length;t++){const i=r[t],a=Number(i>>BigInt(e)&l);u[a]=u[a].add(n[t])}let t=i;for(let e=u.length-1,n=i;e>0;e--)n=n.add(u[e]),t=t.add(n);if(d=d.add(t),0!==e)for(let e=0;e<c;e++)d=d.double()}return d}function se(e){return O(e.Fp,H.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),O(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...W(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function oe(e){void 0!==e.lowS&&u("lowS",e.lowS),void 0!==e.prehash&&u("prehash",e.prehash)}class ce extends Error{constructor(e=""){super(e)}}const le={Err:ce,_tlv:{encode:(e,t)=>{const{Err:n}=le;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=d(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?d(i.length/2|128):"";return d(e)+a+i+t},decode(e,t){const{Err:n}=le;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let a=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of s)a=a<<8|e;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=i;const s=t.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=le;if(e<ue)throw new t("integer: negative integers are not allowed");let n=d(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=le;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return g(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=le,i=x("signature",e),{v:a,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=le,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},ue=BigInt(0),de=BigInt(1),fe=(BigInt(2),BigInt(3));function pe(e){const t=function(e){const t=se(e);return O(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,a=2*n.BYTES+1;function s(e){return F(e,r)}function o(e){return z(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:p}=function(e){const t=function(e){const t=se(e);O(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=V(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return S(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,a=n.sqr(e),s=n.mul(a,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:a}=t;if(n&&"bigint"!=typeof e){if(c(e)&&(e=b(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:g(x("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(s=F(s,a)),_("private key",s,de,a),s}function l(e){if(!(e instanceof p))throw new Error("ProjectivePoint expected")}const d=M((e,t)=>{const{px:r,py:i,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:i};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(a));const o=n.mul(r,t),c=n.mul(i,t),l=n.mul(a,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:o,y:c}}),f=M(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const a=n.sqr(i),o=s(r);if(!n.eql(a,o))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof p)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?p.ZERO:new p(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=q(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(p.fromAffine)}static fromHex(e){const t=p.fromAffine(a(x("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return p.BASE.multiply(o(e))}static msm(e,t){return ae(p,r,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){f(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:i}=this,{px:a,py:s,pz:o}=e,c=n.eql(n.mul(t,o),n.mul(a,i)),u=n.eql(n.mul(r,o),n.mul(s,i));return c&&u}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,fe),{px:a,py:s,pz:o}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(a,a),f=n.mul(s,s),h=n.mul(o,o),b=n.mul(a,s);return b=n.add(b,b),u=n.mul(a,o),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,h),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(b,c),u=n.mul(i,u),h=n.mul(e,h),b=n.sub(d,h),b=n.mul(e,b),b=n.add(b,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,b),l=n.add(l,d),h=n.mul(s,o),h=n.add(h,h),d=n.mul(h,b),c=n.sub(c,d),u=n.mul(h,f),u=n.add(u,u),u=n.add(u,u),new p(c,l,u)}add(e){l(e);const{px:r,py:i,pz:a}=this,{px:s,py:o,pz:c}=e;let u=n.ZERO,d=n.ZERO,f=n.ZERO;const h=t.a,b=n.mul(t.b,fe);let y=n.mul(r,s),m=n.mul(i,o),g=n.mul(a,c),w=n.add(r,i),v=n.add(s,o);w=n.mul(w,v),v=n.add(y,m),w=n.sub(w,v),v=n.add(r,a);let E=n.add(s,c);return v=n.mul(v,E),E=n.add(y,g),v=n.sub(v,E),E=n.add(i,a),u=n.add(o,c),E=n.mul(E,u),u=n.add(m,g),E=n.sub(E,u),f=n.mul(h,v),u=n.mul(b,g),f=n.add(u,f),u=n.sub(m,f),f=n.add(m,f),d=n.mul(u,f),m=n.add(y,y),m=n.add(m,y),g=n.mul(h,g),v=n.mul(b,v),m=n.add(m,g),g=n.sub(y,g),g=n.mul(h,g),v=n.add(v,g),y=n.mul(m,v),d=n.add(d,y),y=n.mul(E,v),u=n.mul(w,u),u=n.sub(u,y),y=n.mul(w,m),f=n.mul(E,f),f=n.add(f,y),new p(u,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(p.ZERO)}wNAF(e){return y.wNAFCached(this,e,p.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;_("scalar",e,ue,i);const a=p.ZERO;if(e===ue)return a;if(this.is0()||e===de)return this;if(!r||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,p.normalizeZ);let{k1neg:s,k1:o,k2neg:c,k2:l}=r.splitScalar(e),u=a,d=a,f=this;for(;o>ue||l>ue;)o&de&&(u=u.add(f)),l&de&&(d=d.add(f)),f=f.double(),o>>=de,l>>=de;return s&&(u=u.negate()),c&&(d=d.negate()),d=new p(n.mul(d.px,r.beta),d.py,d.pz),u.add(d)}multiply(e){const{endo:r,n:i}=t;let a,s;if(_("scalar",e,de,i),r){const{k1neg:t,k1:i,k2neg:o,k2:c}=r.splitScalar(e);let{p:l,f:u}=this.wNAF(i),{p:d,f}=this.wNAF(c);l=y.constTimeNegate(t,l),d=y.constTimeNegate(o,d),d=new p(n.mul(d.px,r.beta),d.py,d.pz),a=l.add(d),s=u.add(f)}else{const{p:t,f:n}=this.wNAF(e);a=t,s=n}return p.normalizeZ([a,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=p.BASE,i=(e,t)=>t!==ue&&t!==de&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,n));return a.is0()?void 0:a}toAffine(e){return d(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===de)return!0;if(n)return n(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===de?this:n?n(p,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return u("isCompressed",e),this.assertValidity(),i(p,this,e)}toHex(e=!0){return u("isCompressed",e),b(this.toRawBytes(e))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,y=(m=p,w=t.endo?Math.ceil(h/2):h,{constTimeNegate:X,hasPrecomputes:e=>1!==ie(e),unsafeLadder(e,t,n=m.ZERO){let r=e;for(;t>J;)t&Z&&(n=n.add(r)),r=r.double(),t>>=Z;return n},precomputeWindow(e,t){const{windows:n,windowSize:r}=ee(t,w),i=[];let a=e,s=a;for(let e=0;e<n;e++){s=a,i.push(s);for(let e=1;e<r;e++)s=s.add(a),i.push(s);a=s.double()}return i},wNAF(e,t,n){let r=m.ZERO,i=m.BASE;const a=ee(e,w);for(let e=0;e<a.windows;e++){const{nextN:s,offset:o,isZero:c,isNeg:l,isNegF:u,offsetF:d}=te(n,e,a);n=s,c?i=i.add(X(u,t[d])):r=r.add(X(l,t[o]))}return{p:r,f:i}},wNAFUnsafe(e,t,n,r=m.ZERO){const i=ee(e,w);for(let e=0;e<i.windows&&n!==J;e++){const{nextN:a,offset:s,isZero:o,isNeg:c}=te(n,e,i);if(n=a,!o){const e=t[s];r=r.add(c?e.negate():e)}}return r},getPrecomputes(e,t,n){let r=ne.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&ne.set(t,n(r))),r},wNAFCached(e,t,n){const r=ie(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=ie(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,t){Q(t,w),re.set(e,t),ne.delete(e)}});var m,w;return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:o,weierstrassEquation:s,isWithinCurveOrder:function(e){return A(e,de,t.n)}}}({...t,toBytes(e,t,r){const i=t.toAffine(),a=n.toBytes(i.x),s=S;return u("isCompressed",r),r?s(Uint8Array.from([t.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===a&&4===r)return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+i+", or uncompressed "+a+", got "+t)}{const e=g(s);if(!A(e,de,n.ORDER))throw new Error("Point is not on curve");const t=f(e);let i;try{i=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!=((i&de)===de)&&(i=n.neg(i)),{x:e,y:i}}}}),h=e=>b(v(e,t.nByteLength));function y(e){return e>r>>de}const T=(e,t,n)=>g(e.slice(t,n));class P{constructor(e,t,n){_("r",e,de,r),_("s",t,de,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const n=t.nByteLength;return e=x("compactSignature",e,2*n),new P(T(e,0,n),T(e,n,2*n))}static fromDER(e){const{r:t,s:n}=le.toSig(x("DER",e));return new P(t,n)}assertValidity(){}addRecoveryBit(e){return new P(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:a}=this,c=B(x("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const u=2===a||3===a?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&a?"03":"02",f=l.fromHex(d+h(u)),p=o(u),b=s(-c*p),y=s(i*p),m=l.BASE.multiplyAndAddUnsafe(f,b,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return m(this.toDERHex())}toDERHex(){return le.hexFromSig(this)}toCompactRawBytes(){return m(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const R={isValidPrivateKey(e){try{return d(e),!0}catch(e){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const e=Y(t.n);return function(e,t,n=!1){const r=e.length,i=G(t),a=Y(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const s=F(n?w(e):g(e),t-N)+N;return n?E(s,i):v(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function L(e){const t=c(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===a:n?r===2*i||r===2*a:e instanceof l}const D=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const n=g(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},B=t.bits2int_modN||function(e){return s(D(e))},j=C(t.nBitLength);function U(e){return _("num < 2^"+t.nBitLength,e,ue,j),v(e,t.nByteLength)}const $={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(L(e))throw new Error("first arg must be private key");if(!L(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(d(e)).toRawBytes(n)},sign:function(e,r,i=$){const{seed:a,k2sig:c}=function(e,r,i=$){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:c}=t;let{lowS:u,prehash:f,extraEntropy:h}=i;null==u&&(u=!0),e=x("msgHash",e),oe(i),f&&(e=x("prehashed msgHash",a(e)));const b=B(e),m=d(r),g=[U(m),U(b)];if(null!=h&&!1!==h){const e=!0===h?c(n.BYTES):h;g.push(x("extraEntropy",e))}const w=S(...g),v=b;return{seed:w,k2sig:function(e){const t=D(e);if(!p(t))return;const n=o(t),r=l.BASE.multiply(t).toAffine(),i=s(r.x);if(i===ue)return;const a=s(n*s(v+i*m));if(a===ue)return;let c=(r.x===i?0:2)|Number(r.y&de),d=a;return u&&y(a)&&(d=function(e){return y(e)?s(-e):e}(a),c^=1),new P(i,d,c)}}}(e,r,i),u=t;return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=k(e),i=k(e),a=0;const s=()=>{r.fill(1),i.fill(0),a=0},o=(...e)=>n(i,r,...e),c=(e=k(0))=>{i=o(I([0]),e),r=o(),0!==e.length&&(i=o(I([1]),e),r=o())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return S(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(l()));)c();return s(),n}}(u.hash.outputLen,u.nByteLength,u.hmac)(a,c)},verify:function(e,n,r,i=H){const a=e;n=x("msgHash",n),r=x("publicKey",r);const{lowS:u,prehash:d,format:f}=i;if(oe(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw new Error("format must be compact or der");const p="string"==typeof a||c(a),h=!p&&!f&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!p&&!h)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let b,y;try{if(h&&(b=new P(a.r,a.s)),p){try{"compact"!==f&&(b=P.fromDER(a))}catch(e){if(!(e instanceof le.Err))throw e}b||"der"===f||(b=P.fromCompact(a))}y=l.fromHex(r)}catch(e){return!1}if(!b)return!1;if(u&&b.hasHighS())return!1;d&&(n=t.hash(n));const{r:m,s:g}=b,w=B(n),v=o(g),E=s(w*v),S=s(m*v),T=l.BASE.multiplyAndAddUnsafe(y,E,S)?.toAffine();return!!T&&s(T.x)===m},ProjectivePoint:l,Signature:P,utils:R}}function he(e){return{hash:e,hmac:(t,...n)=>(0,i.w)(e,t,(0,a.Id)(...n)),randomBytes:a.po}}BigInt(4);const be=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ye=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),me=BigInt(1),ge=BigInt(2),we=(e,t)=>(e+t/ge)/t;const ve=V(be,void 0,void 0,{sqrt:function(e){const t=be,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=$(u,n,t)*u%t,f=$(d,n,t)*u%t,p=$(f,ge,t)*l%t,h=$(p,i,t)*p%t,b=$(h,a,t)*h%t,y=$(b,o,t)*b%t,m=$(y,c,t)*y%t,g=$(m,o,t)*b%t,w=$(g,n,t)*u%t,v=$(w,s,t)*h%t,E=$(v,r,t)*l%t,x=$(E,ge,t);if(!ve.eql(ve.sqr(x),e))throw new Error("Cannot find square root");return x}}),Ee=function(e,t){const n=t=>pe({...e,...he(t)});return{...n(t),create:n}}({a:BigInt(0),b:BigInt(7),Fp:ve,n:ye,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ye,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-me*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,s=BigInt("0x100000000000000000000000000000000"),o=we(a*e,t),c=we(-r*e,t);let l=F(e-o*n-c*i,t),u=F(-o*r-c*a,t);const d=l>s,f=u>s;if(d&&(l=t-l),f&&(u=t-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},r.sc);BigInt(0),Ee.ProjectivePoint;var xe=n(47026);const Se=(0,xe.RS)(r.sc);class Te extends Error{constructor(e,t,n){super(t??e.code),this.type=e,void 0!==n&&(this.stack=n)}getMetadata(){return this.type}toObject(){return{type:this.getMetadata(),message:this.message??"",stack:this.stack??"",className:this.constructor.name}}}function Ae(e,t){return new Te({code:"ETHEREUMJS_DEFAULT_ERROR_CODE"},e,t)}function _e(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||void 0!==t&&t>0&&e.length!==2+2*t)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const Ce=e=>{if("string"!=typeof e)throw Ae("[stripHexPrefix] input must be type 'string', received "+typeof e);return _e(e)?e.slice(2):e};BigInt(0);const ke=e=>{if(!e.startsWith("0x"))throw Ae("input string must be 0x prefixed");return(0,xe.aT)(function(e){let t=e;if("string"!=typeof t)throw Ae("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}(Ce(e)))},Ie=[];for(let e=0;e<=65535;e++)Ie[e]=BigInt(e);const Pe=e=>{const t=(e=>{if(!Number.isSafeInteger(e)||e<0)throw Ae(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`})(e);return ke(t)},Oe=e=>"string"!=typeof e||_e(e)?e:`0x${e}`;BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),Ee.CURVE.n,Ee.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),ke("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),ke("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),ke("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),Se(new Uint8Array),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(10**9),BigInt(10**18),n(54833);const Me=function(e){try{!function(e){if("string"!=typeof e)throw Ae(`This method only supports strings but input was: ${e}`)}(e)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};new Uint8Array(0),ke("0x05");Pe(0),Pe(1),BigInt(256),BigInt(31)},70011:(e,t,n)=>{"use strict";n.d(t,{createSolanaMipd:()=>s.d,hasSolanaWalletStandardFeatures:()=>l,walletStandardConnector:()=>c.m});var r=n(63957),i=n(90465),a=n(52218),s=n(12200),o=n(63434),c=n(76152);const l=e=>{const{chains:t,features:n}=e;if(t.some(e=>e.startsWith("solana")))return!![o.u,i.F,a.q,r.R].every(e=>Object.keys(n).includes(e))}},70273:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,n)=>e.slice(t,n),Error,FunctionPrototypeCall:(e,t,...n)=>e.call(t,...n),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,n)=>Object.defineProperty(e,t,n),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,n)=>e.then(t,n),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,n)=>e.slice(t,n),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,n)=>e.set(t,n),Boolean,Uint8Array}},70448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=w;const r=n(98081),i=n(49074),a=BigInt(0),s=BigInt(1),o=BigInt(2),c=BigInt(7),l=BigInt(256),u=BigInt(113),d=[],f=[],p=[];for(let e=0,t=s,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],d.push(2*(5*r+n)),f.push((e+1)*(e+2)/2%64);let i=a;for(let e=0;e<7;e++)t=(t<<s^(t>>c)*u)%l,t&o&&(i^=s<<(s<<BigInt(e))-s);p.push(i)}const h=(0,r.split)(p,!0),b=h[0],y=h[1],m=(e,t,n)=>n>32?(0,r.rotlBH)(e,t,n):(0,r.rotlSH)(e,t,n),g=(e,t,n)=>n>32?(0,r.rotlBL)(e,t,n):(0,r.rotlSL)(e,t,n);function w(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,a=n[i],s=n[i+1],o=m(a,s,1)^n[r],c=g(a,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=f[n],a=m(t,i,r),s=g(t,i,r),o=d[n];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=b[r],e[1]^=y[r]}(0,i.clean)(n)}class v extends i.Hash{constructor(e,t,n,r=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=a,(0,i.anumber)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.swap32IfBE)(this.state32),w(this.state32,this.rounds),(0,i.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.aexists)(this),e=(0,i.toBytes)(e),(0,i.abytes)(e);const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const a=Math.min(t-this.pos,r-i);for(let t=0;t<a;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,i.aexists)(this,!1),(0,i.abytes)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.clean)(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:a}=this;return e||(e=new v(t,n,r,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}t.Keccak=v;const E=(e,t,n)=>(0,i.createHasher)(()=>new v(t,e,n));t.sha3_224=E(6,144,28),t.sha3_256=E(6,136,32),t.sha3_384=E(6,104,48),t.sha3_512=E(6,72,64),t.keccak_224=E(1,144,28),t.keccak_256=E(1,136,32),t.keccak_384=E(1,104,48),t.keccak_512=E(1,72,64);const x=(e,t,n)=>(0,i.createXOFer)((r={})=>new v(t,e,void 0===r.dkLen?n:r.dkLen,!0));t.shake128=x(31,168,16),t.shake256=x(31,136,32)},70461:(e,t,n)=>{"use strict";var r=n(7784),i=n(35615);function a(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):a(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=o(e[n].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=s(i)),n+=c(i.toString(16))}return n},t.zero2=o,t.zero8=c,t.join32=function(e,t,n,i){var a=n-t;r(a%4==0);for(var s=new Array(a/4),o=0,c=t;o<s.length;o++,c+=4){var l;l="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[o]=l>>>0}return s},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var a=e[r];"big"===t?(n[i]=a>>>24,n[i+1]=a>>>16&255,n[i+2]=a>>>8&255,n[i+3]=255&a):(n[i+3]=a>>>24,n[i+2]=a>>>16&255,n[i+1]=a>>>8&255,n[i]=255&a)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],a=r+e[t+1]>>>0,s=(a<r?1:0)+n+i;e[t]=s>>>0,e[t+1]=a},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,a,s,o){var c=0,l=t;return c+=(l=l+r>>>0)<t?1:0,c+=(l=l+a>>>0)<a?1:0,e+n+i+s+(c+=(l=l+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,a,s,o){return t+r+a+o>>>0},t.sum64_5_hi=function(e,t,n,r,i,a,s,o,c,l){var u=0,d=t;return u+=(d=d+r>>>0)<t?1:0,u+=(d=d+a>>>0)<a?1:0,u+=(d=d+o>>>0)<o?1:0,e+n+i+s+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,a,s,o,c,l){return t+r+a+o+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},70521:(e,t,n)=>{"use strict";n.d(t,{DW:()=>h,Es:()=>w,Qd:()=>f,_K:()=>g,el:()=>v});var r=n(69740),i=n(45834),a=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};const s=i.f.rpc.internal,o="Unspecified error message. This is a bug, please report it.",c="Unspecified server error.";function l(e){return Number.isInteger(e)}function u(e){return"string"==typeof e&&e.length>0}function d(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}function f(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}function p(e){const t=e;return!(!t||!l(t.code)||!u(t.message)||t.stack&&!u(t.stack))}function h(e,t=o){if(l(e)){const t=e.toString();if(a(i.z,t))return i.z[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return c}return t}const b={code:s,message:h(s)};function y(e){try{JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"===e||"constructor"===e)throw new Error("Not valid json");if("function"==typeof t||"symbol"==typeof t)throw new Error("Not valid json");return t}),(e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})}catch{return!1}return!0}function m(e){return Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return y(r)&&(t[n]=r),t},{})}function g(e){return Array.isArray(e)?e.map(e=>y(e)?e:d(e)?m(e):null):d(e)?m(e):y(e)?e:null}function w(e,{fallbackError:t=b,shouldIncludeStack:n=!0}={}){if(!p(t))throw new Error("Must provide fallback error with integer number code and string message.");const i=function(e,t){if(e&&"object"==typeof e&&"serialize"in e&&"function"==typeof e.serialize)return e.serialize();if(p(e))return e;const n=g(e);return(0,r.A)((0,r.A)({},t),{},{data:{cause:n}})}(e,t);return n||delete i.stack,i}function v(e){return d(e)&&a(e,"cause")&&d(e.cause)}},70686:(e,t,n)=>{"use strict";var r=n(64940),i=n(5731),a=n(3468),s=n(69336);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!s&&s(e,t);if(r)r(e,t,{configurable:null===l&&d?d.configurable:!l,enumerable:null===o&&d?d.enumerable:!o,value:n,writable:null===c&&d?d.writable:!c});else{if(!u&&(o||c||l))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},70823:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var r=n(34820),i=n(30818),a=n(66077),s=n(88681),o=n(95068);function c(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:c,to:l}=e,u=t?(0,r.J)(t):void 0;if(u&&!(0,o.P)(u.address))throw new a.M({address:u.address});if(l&&!(0,o.P)(l))throw new a.M({address:l});if(n&&n>i.Ao)throw new s.BG({maxFeePerGas:n});if(c&&n&&c>n)throw new s.lN({maxFeePerGas:n,maxPriorityFeePerGas:c})}},70895:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>s,uL:()=>o});var r=n(79756),i=n(6577),a=n(39571);const s={"0x0":"reverted","0x1":"success"};function o(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>(0,i.e)(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,r.ME)(e.transactionIndex):null,status:e.status?s[e.status]:null,type:e.type?a.b4[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}},71115:(e,t,n)=>{"use strict";function r(e,t){var n,r;return"boolean"==typeof(null==t?void 0:t.enabled)?t.enabled:null===(r=null===(n=null==e?void 0:e.__default)||void 0===n?void 0:n.enabled)||void 0===r||r}n.d(t,{j:()=>r})},71348:(e,t,n)=>{"use strict";n.d(t,{g:()=>a,M:()=>s});var r=n(85608),i=n(80566),a="onRemoveFromFuture",s=function(e){function t(t,n,r){var i=e.call(this)||this;return i.future=[],i.maxAttempts=t,i.queue=n,i.seen=null!=r?r:{},i}return(0,r.C6)(t,e),t.prototype.push=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.map(function(t){return!(e.updateAttempts(t)>e.maxAttempts||e.includes(t)||(e.queue.push(t),0))});return this.queue=this.queue.sort(function(t,n){return e.getAttempts(t)-e.getAttempts(n)}),r},t.prototype.pushWithBackoff=function(e,t){var n=this;if(void 0===t&&(t=0),0==t&&0===this.getAttempts(e))return this.push(e)[0];var r=this.updateAttempts(e);if(r>this.maxAttempts||this.includes(e))return!1;var i=function(e){var t=Math.random()+1,n=e.minTimeout,r=void 0===n?500:n,i=e.factor,a=void 0===i?2:i,s=e.attempt,o=e.maxTimeout,c=void 0===o?1/0:o;return Math.min(t*r*Math.pow(a,s),c)}({attempt:r-1});return t>0&&i<t&&(i=t),setTimeout(function(){n.queue.push(e),n.future=n.future.filter(function(t){return t.id!==e.id}),n.emit(a)},i),this.future.push(e),!0},t.prototype.getAttempts=function(e){var t;return null!==(t=this.seen[e.id])&&void 0!==t?t:0},t.prototype.updateAttempts=function(e){return this.seen[e.id]=this.getAttempts(e)+1,this.getAttempts(e)},t.prototype.includes=function(e){return this.queue.includes(e)||this.future.includes(e)||Boolean(this.queue.find(function(t){return t.id===e.id}))||Boolean(this.future.find(function(t){return t.id===e.id}))},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(i.v)},71822:(e,t,n)=>{var r=n(39907),i=n(53358),a=function(){},s=n.g.Bare?queueMicrotask:r.nextTick.bind(r),o=function(e,t,n){if("function"==typeof t)return o(e,null,t);t||(t={}),n=i(n||a);var r=e._writableState,c=e._readableState,l=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,d=!1,f=function(){e.writable||p()},p=function(){u=!1,l||n.call(e)},h=function(){l=!1,u||n.call(e)},b=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){n.call(e,t)},m=function(){s(g)},g=function(){if(!d)return(!l||c&&c.ended&&!c.destroyed)&&(!u||r&&r.ended&&!r.destroyed)?void 0:n.call(e,new Error("premature close"))},w=function(){e.req.on("finish",p)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",p),e.on("abort",m),e.req?w():e.on("request",w)):u&&!r&&(e.on("end",f),e.on("close",f)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",b),e.on("end",h),e.on("finish",p),!1!==t.error&&e.on("error",y),e.on("close",m),function(){d=!0,e.removeListener("complete",p),e.removeListener("abort",m),e.removeListener("request",w),e.req&&e.req.removeListener("finish",p),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("exit",b),e.removeListener("end",h),e.removeListener("error",y),e.removeListener("close",m)}};e.exports=o},72591:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},s=[],o=0;o<e.length;o++){var c=e[o],l=r.base?c[0]+r.base:c[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var f=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=i(p,r);r.byIndex=o,t.splice(o,0,{identifier:d,updater:h,references:1})}s.push(d)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var o=n(a[s]);t[o].references--}for(var c=r(e,i),l=0;l<a.length;l++){var u=n(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=c}}},72694:e=>{function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,n,r){let i="\n"+e+" = ";for(let a=0;a<n.length;a+=2){if(32===r)i+=t(n[a]).toUpperCase(),i+=" ",i+=t(n[a+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=t(n[a+1]).toUpperCase(),i+=t(n[a]).toUpperCase()}a%6==4?i+="\n"+new Array(e.length+4).join(" "):a<n.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){let r=(new Date).getTime();const i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;const a=(new Date).getTime();console.log("Generated random input in "+(a-r)+"ms"),r=a;for(let a=0;a<n;a++){const n=e(i),a=(new Date).getTime(),s=a-r;r=a,console.log("Hashed in "+s+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(s/1e3)*100)/100+" MB PER SECOND")}}}},73111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StructError=void 0;class n extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...a}=e,{path:s}=e,o=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??o),null!=i&&(this.cause=o),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}t.StructError=n},73298:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},73346:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r="api.segment.io/v1"},73468:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var r=n(69740),i=n(8017),a=n(34449);function s({getAccounts:e,getPrivateKey:t,getPublicKey:n,processEthSignMessage:s,processPersonalMessage:o,processTransaction:c,processSignTransaction:l,processTypedMessageV4:u}){if(!e)throw new Error("opts.getAccounts is required");async function d(t,n){if("string"==typeof t&&t.length>0){const r=(await e(n)).map(e=>e.toLowerCase()),i=t.toLowerCase();if(r.includes(i))return i}throw i.r.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function f(t,n){n.result=await e(t)}async function p(e,n){if(!t)throw i.r.methodNotSupported();n.result=await t(e)}async function h(e,t){if(!n)throw i.r.methodNotSupported();t.result=await n(e)}return(0,a.ld)({eth_accounts:(0,a.jg)(f),eth_requestAccounts:(0,a.jg)(f),eth_private_key:(0,a.jg)(p),eth_public_key:(0,a.jg)(h),public_key:(0,a.jg)(h),private_key:(0,a.jg)(p),eth_sendTransaction:(0,a.jg)(async function(e,t){if(!c)throw i.r.methodNotSupported();const n=e.params[0]||{from:""};n.from=await d(n.from,e),t.result=await c(n,e)}),eth_signTransaction:(0,a.jg)(async function(e,t){if(!l)throw i.r.methodNotSupported();const n=e.params[0]||{from:""};n.from=await d(n.from,e),t.result=await l(n,e)}),eth_sign:(0,a.jg)(async function(e,t){if(!s)throw i.r.methodNotSupported();let n=e.params;const a=e.params[2]||{};if(Array.isArray(e.params)){if(2!==e.params.length)throw new Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [address, message]`);const t=e.params;n={from:t[0],data:t[1]}}n=(0,r.A)((0,r.A)({},a),n),t.result=await s(n,e)}),eth_signTypedData_v4:(0,a.jg)(async function(e,t){if(!u)throw i.r.methodNotSupported();if(null==e||!e.params)throw new Error("WalletMiddleware - missing params");let n=e.params;if(Array.isArray(e.params)){if(2!==e.params.length)throw new Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [address, typedData]`);const t=e.params;n={from:t[0],data:t[1]}}t.result=await u(n,e)}),personal_sign:(0,a.jg)(async function(e,t){if(!o)throw i.r.methodNotSupported();let n=e.params;const a=e.params[2]||{};if(Array.isArray(e.params)){if(!(e.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [message, address]`);const t=e.params;if("object"==typeof t[0]){const{challenge:e,address:r}=t[0];n={from:r,data:e}}else{const e=t[0];n={from:t[1],data:e}}}n=(0,r.A)((0,r.A)({},a),n),t.result=await o(n,e)})})}},73619:(e,t,n)=>{"use strict";n.d(t,{aD:()=>a});var r=n(63390),i=n(22073);function a(e){if(130!==e.length&&132!==e.length)throw new s({signature:e});const t=BigInt(i.di(e,0,32)),n=BigInt(i.di(e,32,64)),r=(()=>{const t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return function(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new c({value:e})}(t)}catch{throw new o({value:t})}})();return void 0===r?{r:t,s:n}:{r:t,s:n,yParity:r}}n(79423);class s extends r.C{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${i.Ej(i.HT(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}r.C,r.C,r.C;class o extends r.C{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class c extends r.C{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}},73656:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},73961:(e,t,n)=>{var r=n(39907);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(59680)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},74169:(e,t,n)=>{"use strict";var r=n(70461),i=n(32191),a=r.rotl32,s=r.sum32,o=r.sum32_3,c=r.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],g=n,w=r,v=i,E=l,x=u,S=0;S<80;S++){var T=s(a(c(n,d(S,r,i,l),e[h[S]+t],f(S)),y[S]),u);n=u,u=l,l=a(i,10),i=r,r=T,T=s(a(c(g,d(79-S,w,v,E),e[b[S]+t],p(S)),m[S]),x),g=x,x=E,E=a(v,10),v=w,w=T}T=o(this.h[1],i,E),this.h[1]=o(this.h[2],l,x),this.h[2]=o(this.h[3],u,g),this.h[3]=o(this.h[4],n,w),this.h[4]=o(this.h[0],r,v),this.h[0]=T},u.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},74595:(e,t,n)=>{"use strict";n.d(t,{EK:()=>o,LZ:()=>u,MG:()=>f,N4:()=>h,Vi:()=>l,d3:()=>c,iR:()=>p,jz:()=>s,rz:()=>d});var r=n(65464),i=n(23553),a=n(18963);let s=function(e){return e.ETH_SEND_TRANSACTION="eth_sendTransaction",e.ETH_SIGN_TRANSACTION="eth_signTransaction",e.ETH_SIGN="eth_sign",e.PERSONAL_SIGN="personal_sign",e.ETH_SIGN_TYPED_DATA="eth_signTypedData",e.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",e.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",e.ADD_ETHEREUM_CHAIN="wallet_addEthereumChain",e.SWITCH_ETHEREUM_CHAIN="wallet_switchEthereumChain",e}({}),o=function(e){return e.SIGN_TRANSACTION="solana_signTransaction",e.SIGN_MESSAGE="solana_signMessage",e}({}),c=function(e){return e.ETH_CHAIN_CHANGED="chainChanged",e.ETH_ACCOUNTS_CHANGED="accountsChanged",e}({}),l=function(e){return e.SOL_CHAIN_CHANGED="chainChanged",e.SOL_ACCOUNTS_CHANGED="accountsChanged",e}({});const u=e=>{const t=[];return e.forEach(e=>{const[n]=e.split(":");t.includes(n)||t.push(n)}),t},d=e=>{switch(e){case a.l.EIP155:return Object.values(s);case a.l.SOLANA:return Object.values(o);default:throw new Error(`No default methods for namespace: ${e}`)}},f=e=>{switch(e){case a.l.EIP155:return Object.values(c);case a.l.SOLANA:return Object.values(l);default:throw new Error(`No default events for namespace: ${e}`)}},p=e=>{const t=u(e);return Object.fromEntries(t.map(t=>[t,{methods:d(t),chains:e.filter(e=>e.startsWith(t)),events:f(t)}]))},h=async(e,t)=>{const n=await(async()=>({name:(0,r.Lq)(window),icon:await(0,r.ZE)(window)}))(),s={walletConnectInitOptions:{projectId:t,relayUrl:"wss://relay.walletconnect.com",metadata:{name:n.name,description:n.name,url:window.location.origin,icons:[n.icon||""]}}},o=e.map(e=>{if(e.chainNamespace===a.l.SOLANA)return`${e.chainNamespace}:${i.Ah[e.chainId]}`;if(e.chainNamespace===a.l.EIP155)return`${e.chainNamespace}:${parseInt(e.chainId,16)}`;throw new Error(`Unsupported chain namespace: ${e.chainNamespace}`)});return{connectorSettings:s,loginSettings:{optionalNamespaces:p(o)}}}},74607:(e,t,n)=>{"use strict";n.d(t,{Ud:()=>s,kJ:()=>i,rY:()=>a});var r="analytics";function i(){return window[r]}function a(e){r=e}function s(e){window[r]=e}},74695:(e,t,n)=>{"use strict";n.d(t,{I2:()=>o,YM:()=>c,qQ:()=>s});var r,i=n(74607),a=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,s=function(e){var t=(0,i.kJ)();t&&(t._cdn=e),r=e},o=function(){var e,t=null!=r?r:null===(e=(0,i.kJ)())||void 0===e?void 0:e._cdn;if(t)return t;var n,s=(Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(e){var t,r=null!==(t=e.getAttribute("src"))&&void 0!==t?t:"",i=a.exec(r);i&&i[1]&&(n=i[1])}),n);return s||"https://cdn.segment.com"},c=function(){var e=o();return"".concat(e,"/next-integrations")}},74846:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var r=n(12108),i=n(38903),a=n(39862);async function s(e,{blockHash:t,blockNumber:n,blockTag:s=e.experimental_blockTag??"latest",includeTransactions:o}={}){const c=o??!1,l=void 0!==n?(0,i.cK)(n):void 0;let u=null;if(u=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[l||s,c]},{dedupe:Boolean(l)}),!u)throw new r.l({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||a.$)(u,"getBlock")}},75144:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});const r=new Map,i=new Map;const a=e=>`blockNumber.${e}`;async function s(e,{cacheTime:t=e.cacheTime}={}){const n=await async function(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const a=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,r),a=t(e,i);return{clear:()=>{n.clear(),a.clear()},promise:n,response:a}}(t),s=a.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=a.promise.get();o||(o=e(),a.promise.set(o));try{const e=await o;return a.response.set({created:new Date,data:e}),e}finally{a.promise.clear()}}(()=>e.request({method:"eth_blockNumber"}),{cacheKey:a(e.uid),cacheTime:t});return BigInt(n)}},75255:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var r=n(39897),i=n(88612);function a(e,t="wei"){return(0,i.J)(e,r.sz[t])}},75297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpack=t.pack=t.isDynamicParser=t.getParser=void 0;const r=n(76728),i=n(19520),a=n(53201),s=n(64240),o=n(26769);t.getParser=e=>{const t={address:s.address,array:s.array,bool:s.bool,bytes:s.bytes,fixedBytes:s.fixedBytes,function:s.fn,number:s.number,string:s.string,tuple:s.tuple},n=t[e];if(n)return n;const r=Object.values(t).find(t=>t.isType(e));if(r)return r;throw new i.ParserError(`The type "${e}" is not supported.`)},t.isDynamicParser=(e,t)=>{const{isDynamic:n}=e;return"function"==typeof n?n(t):n},t.pack=({types:e,values:n,packed:a=!1,tight:s=!1,arrayPacked:c=!1,byteArray:l=new Uint8Array})=>{(0,r.assert)(e.length===n.length,new i.ParserError(`The number of types (${e.length}) does not match the number of values (${n.length}).`));const{staticBuffer:u,dynamicBuffer:d,pointers:f}=e.reduce(({staticBuffer:e,dynamicBuffer:i,pointers:o},l,u)=>{const d=(0,t.getParser)(l),f=n[u];return a||c||!(0,t.isDynamicParser)(d,l)?{staticBuffer:d.encode({buffer:e,value:f,type:l,packed:a,tight:s}),dynamicBuffer:i,pointers:o}:{staticBuffer:(0,r.concatBytes)([e,new Uint8Array(32)]),dynamicBuffer:d.encode({buffer:i,value:f,type:l,packed:a,tight:s}),pointers:[...o,{position:e.length,pointer:i.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,r.assert)(!a&&!c||0===d.length,new i.ParserError("Invalid pack state."));const p=u.length,h=f.reduce((e,{pointer:t,position:n})=>{const i=(0,o.padStart)((0,r.numberToBytes)(p+t));return(0,o.set)(e,i,n)},u);return(0,r.concatBytes)([l,h,d])},t.unpack=(e,n)=>{const s=(0,a.iterate)(n);return e.map(e=>{const{value:{value:a,skip:o},done:c}=s.next();(0,r.assert)(!c,new i.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${e}".`));const l=(0,t.getParser)(e);if((0,t.isDynamicParser)(l,e)){const t=(0,r.bytesToNumber)(a.subarray(0,32)),i=n.subarray(t);return l.decode({type:e,value:i,skip:o})}return l.decode({type:e,value:a,skip:o})})}},75345:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":"{{adapter}}","adapter-loader.message1":"{{adapter}}","adapter-loader.message2":"","allChains":"","connect-wallet.more-wallets":"","connectYourWallet":"","errors-invalid-email":"","errors-invalid-number":"","errors-invalid-number-email":"","errors-required":"","external.all-wallets":"","external.back":"","external.connect":"","external.connect-wallet":"","external.continue":"","external.continue-custom":"{{wallet}}","external.dont-have":"","external.get":"","external.get-wallet":"","external.install-browser-extension":"{{browser}}","external.install-mobile-app":"{{os}}","external.installed":"","external.no-wallets-found":"","external.qr-code-copied-to-clipboard":"URI","external.search-subtext":"","external.search-text":"","external.search-wallet":"{{count}}...","external.select-chain":"","external.select-chain-description":" {{wallet}} ","external.title":"","external.walletconnect-connect":"","external.walletconnect-copy":" WalletConnect  QR  QR ","external.walletconnect-subtitle":" WalletConnect  QR ","footer.and":"","footer.by-signing-in":"","footer.message":"","footer.message-new":"castody","footer.policy":"","footer.privacy-policy":"","footer.terms":"","footer.terms-of-service":"","footer.terms-service":"","footer.version":"","getWallet":"","header-subtitle":"","header-subtitle-name":" {{appName}} ","header-subtitle-new":"","header-title":"","header-tooltip-desc":"","header-tooltip-title":"","loader.authorizing-header":"{{connector}}","loader.authorizing-message":"","loader.authorizing-verify-btn":"","network.add-request":"","network.cancel":"","network.from":"","network.proceed":"","network.switch-request":"","network.to":"","otp.email-subtext":"6","otp.email-subtext-example":"{{email}} ","otp.email-title":"","otp.mobile-subtext":" OTP ","otp.mobile-title":"OTP ","otp.success":"","passkey.add":"Passkey","passkey.haveExisting":" passkey ","passkey.learn-more":"","passkey.or":"","passkey.register-desc":"passkeys","passkey.register-title":"Passkey","passkey.use":"Passkey","passwordless.title":" {{title}}","popup.phone-body":"/","popup.phone-header":"","post-loading.connected":"","post-loading.something-wrong":"","resendCode":"","resendTimer":" {{timer}} ","social.continue":"","social.continueCustom":"{{adapter}}","social.email":"","social.email-continue":"","social.email-new":"name@example.com","social.passwordless-cta":"","social.passwordless-login":"","social.passwordless-title":"/","social.phone":"","social.policy":"","social.sign-in":"","social.sms":"","social.sms-continue":"","social.sms-invalid-number":"","social.sms-placeholder-text":"","social.view-less":"","social.view-less-socials":"socials","social.view-more":"","social.view-more-socials":"socials"},"passwordless":{"error-invalid-link":"","error-invalid-origin":", : E002","error-invalid-otp":"OTP","error-invalid-params":"","error-invalid-test-account":"","error-max-retry-limit-reached":"","error-new-link-generated-heading":"","error-no-mail-generated":"","error-no-sms-generated":"OTP","error-otp-expired":"OTP","error-plan-limit-reached":"E411. ","error-recaptcha-verification-failed":"Captcha ","error-sending-sms-failed":"","something-wrong-error":""}}')},75393:(e,t,n)=>{"use strict";var r=n(70461),i=n(50536);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(a,i),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},75573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknown=t.union=t.type=t.tuple=t.string=t.set=t.regexp=t.record=t.exactOptional=t.optional=t.object=t.number=t.nullable=t.never=t.map=t.literal=t.intersection=t.integer=t.instance=t.func=t.enums=t.date=t.boolean=t.bigint=t.array=t.any=void 0;const r=n(90172),i=n(92062),a=n(96174);function s(){return(0,a.define)("never",()=>!1)}t.any=function(){return(0,a.define)("any",()=>!0)},t.array=function(e){return new r.Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${(0,i.print)(e)}`})},t.bigint=function(){return(0,a.define)("bigint",e=>"bigint"==typeof e)},t.boolean=function(){return(0,a.define)("boolean",e=>"boolean"==typeof e)},t.date=function(){return(0,a.define)("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${(0,i.print)(e)}`)},t.enums=function(e){const t={},n=e.map(e=>(0,i.print)(e)).join();for(const n of e)t[n]=n;return new r.Struct({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${n}\`, but received: ${(0,i.print)(t)}`})},t.func=function(){return(0,a.define)("func",e=>"function"==typeof e||`Expected a function, but received: ${(0,i.print)(e)}`)},t.instance=function(e){return(0,a.define)("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${(0,i.print)(t)}`)},t.integer=function(){return(0,a.define)("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${(0,i.print)(e)}`)},t.intersection=function(e){return new r.Struct({type:"intersection",schema:null,*entries(t,n){for(const{entries:r}of e)yield*r(t,n)},*validator(t,n){for(const{validator:r}of e)yield*r(t,n)},*refiner(t,n){for(const{refiner:r}of e)yield*r(t,n)}})},t.literal=function(e){const t=(0,i.print)(e),n=typeof e;return new r.Struct({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${(0,i.print)(n)}`})},t.map=function(e,t){return new r.Struct({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,e],yield[r,i,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${(0,i.print)(e)}`})},t.never=s,t.nullable=function(e){return new r.Struct({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})},t.number=function(){return(0,a.define)("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${(0,i.print)(e)}`)},t.object=function(e){const t=e?Object.keys(e):[],n=s();return new r.Struct({type:"object",schema:e??null,*entries(a){if(e&&(0,i.isObject)(a)){const i=new Set(Object.keys(a));for(const n of t){i.delete(n);const t=e[n];r.ExactOptionalStruct.isExactOptional(t)&&!Object.prototype.hasOwnProperty.call(a,n)||(yield[n,a[n],e[n]])}for(const e of i)yield[e,a[e],n]}},validator:e=>(0,i.isObject)(e)||`Expected an object, but received: ${(0,i.print)(e)}`,coercer:e=>(0,i.isObject)(e)?{...e}:e})},t.optional=function(e){return new r.Struct({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})},t.exactOptional=function(e){return new r.ExactOptionalStruct(e)},t.record=function(e,t){return new r.Struct({type:"record",schema:null,*entries(n){if((0,i.isObject)(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>(0,i.isObject)(e)||`Expected an object, but received: ${(0,i.print)(e)}`})},t.regexp=function(){return(0,a.define)("regexp",e=>e instanceof RegExp)},t.set=function(e){return new r.Struct({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const n of t)yield[n,n,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${(0,i.print)(e)}`})},t.string=function(){return(0,a.define)("string",e=>"string"==typeof e||`Expected a string, but received: ${(0,i.print)(e)}`)},t.tuple=function(e){const t=s();return new r.Struct({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${(0,i.print)(e)}`})},t.type=function(e){const t=Object.keys(e);return new r.Struct({type:"type",schema:e,*entries(n){if((0,i.isObject)(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>(0,i.isObject)(e)||`Expected an object, but received: ${(0,i.print)(e)}`,coercer:e=>(0,i.isObject)(e)?{...e}:e})},t.union=function(e){const t=e.map(e=>e.type).join(" | ");return new r.Struct({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const a=[];for(const t of e){const[...e]=(0,i.run)(n,t,r),[s]=e;if(!s?.[0])return[];for(const[t]of e)t&&a.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${(0,i.print)(n)}`,...a]}})},t.unknown=function(){return(0,a.define)("unknown",()=>!0)}},75690:(e,t,n)=>{"use strict";n.d(t,{BO:()=>o,Ch:()=>c,Fo:()=>u,Rb:()=>l,ng:()=>s,uJ:()=>d,wZ:()=>f});var r=n(34449),i=n(25082),a=n(28147);function s({getAccounts:e}){return(0,r.jg)(async(t,n,r)=>{const{method:i}=t;if(i!==a.zl.GET_ACCOUNTS)return r();if(!e)throw new Error("WalletMiddleware - opts.getAccounts not provided");const s=await e(t);n.result=s})}function o({getPublicKey:e}){return(0,r.jg)(async(t,n,r)=>{const{method:i}=t;if("getPublicKey"!==i)return r();if(!e)throw new Error("WalletMiddleware - opts.getPublicKey not provided");const a=await e(t);n.result=a})}function c({requestAccounts:e}){return(0,r.jg)(async(t,n,r)=>{const{method:i}=t;if(i!==a.zl.SOLANA_REQUEST_ACCOUNTS)return r();if(!e)throw new Error("WalletMiddleware - opts.requestAccounts not provided");const s=await e(t);n.result=s})}function l(e,t){return(0,r.jg)(async(n,r,i)=>{const{method:a}=n;if(a!==e)return i();if(!t)throw new Error(`WalletMiddleware - ${e} not provided`);const s=await t(n);r.result=s})}function u(e){const{getAccounts:t,requestAccounts:n,signTransaction:r,signAndSendTransaction:o,signAllTransactions:u,signMessage:d,getPrivateKey:f,getSecretKey:p,getPublicKey:h}=e;return(0,i.Vv)([c({requestAccounts:n}),s({getAccounts:t}),l(a.zl.SIGN_TRANSACTION,r),l(a.zl.SEND_TRANSACTION,o),l(a.zl.SIGN_ALL_TRANSACTIONS,u),l(a.zl.SIGN_MESSAGE,d),l(a.zl.SOLANA_PRIVATE_KEY,f),l(a.zl.PRIVATE_KEY,f),l("public_key",h),l("solanaPublicKey",h),l("solanaSecretKey",p)])}function d({switchSolanaChain:e}){return(0,i.Vv)([l("switchSolanaChain",e)])}function f({updatePrivatekey:e}){return(0,i.Vv)([l("updateAccount",e)])}},75746:(e,t,n)=>{"use strict";t.sha1=n(12986),t.sha224=n(75393),t.sha256=n(50536),t.sha384=n(52348),t.sha512=n(92157)},76009:(e,t,n)=>{"use strict";n.d(t,{iY:()=>c});var r=n(37663),i=n(23785),a=n(95068),s=n(62518),o=n(77190);function c(e){const{abi:t,args:n=[],name:a}=e,c=(0,i.q)(a,{strict:!1}),d=t.filter(e=>c?"function"===e.type?(0,o.V)(e)===a:"event"===e.type&&(0,s.h)(e)===a:"name"in e&&e.name===a);if(0===d.length)return;if(1===d.length)return d[0];let f;for(const e of d)if("inputs"in e)if(n&&0!==n.length){if(e.inputs&&0!==e.inputs.length&&e.inputs.length===n.length&&n.every((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&l(t,r)})){if(f&&"inputs"in f&&f.inputs){const t=u(e.inputs,f.inputs,n);if(t)throw new r.nM({abiItem:e,type:t[0]},{abiItem:f,type:t[1]})}f=e}}else if(!e.inputs||0===e.inputs.length)return e;return f||d[0]}function l(e,t){const n=typeof e,r=t.type;switch(r){case"address":return(0,a.P)(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every((t,n)=>l(Object.values(e)[n],t)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&Array.isArray(e)&&e.every(e=>l(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))}}function u(e,t,n){for(const r in e){const i=e[r],s=t[r];if("tuple"===i.type&&"tuple"===s.type&&"components"in i&&"components"in s)return u(i.components,s.components,n[r]);const o=[i.type,s.type];if((()=>!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&(0,a.P)(n[r],{strict:!1}))())return o}}},76152:(e,t,n)=>{"use strict";n.d(t,{m:()=>b});var r=n(98158),i=n(63434);var a=n(64836),s=n(89827),o=n(31721),c=n(3861),l=n(49521),u=n(18963),d=n(32073),f=n(96250),p=n(26358);class h extends a.R{constructor(e){super(e),(0,r.A)(this,"name",void 0),(0,r.A)(this,"connectorNamespace",l.R.SOLANA),(0,r.A)(this,"currentChainNamespace",u.l.SOLANA),(0,r.A)(this,"type",d.rp.EXTERNAL),(0,r.A)(this,"isInjected",!0),(0,r.A)(this,"status",d.bo.NOT_READY),(0,r.A)(this,"wallet",null),(0,r.A)(this,"injectedProvider",null),this.name=e.name,this.icon=e.wallet.icon,this.wallet=["gate","solflare"].includes(this.name)?Object.freeze(e.wallet):e.wallet}get provider(){return this.status!==d.bo.NOT_READY&&this.injectedProvider?this.injectedProvider:null}get isWalletConnected(){return!!(this.connected&&this.wallet.accounts.length>0)}async init(e){await super.init(e);const t=this.coreOptions.chains.find(t=>t.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:t}),this.injectedProvider=new s.e({config:{chain:t,chains:this.coreOptions.chains}}),await this.injectedProvider.setupProvider(this.wallet,e.chainId),this.status=d.bo.READY,this.emit(d.qM.READY,this.name);try{if(f.R.debug("initializing solana injected connector"),e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId,getIdentityToken:e.getIdentityToken})))throw this.rehydrated=!1,p.T7.connectionError("Failed to rehydrate.")}catch(e){this.emit(d.qM.REHYDRATION_ERROR,e)}}async connect({chainId:e,getIdentityToken:t}){try{super.checkConnectionRequirements();const n=this.coreOptions.chains.find(t=>t.chainId===e);if(!n)throw p.T7.connectionError("Chain config is not available");this.status=d.bo.CONNECTING,this.emit(d.qM.CONNECTING,{connector:this.name});const r=(0,o.M)(n);if(!this.wallet.chains.find(e=>e===r))throw p.T7.connectionError(`Chain ${r} not supported. Supported chains are ${this.wallet.chains.join(", ")}`);if(this.isWalletConnected||await this.wallet.features[i.u].connect(),0===this.wallet.accounts.length)throw p.T7.connectionError();let a;return this.status=d.bo.CONNECTED,this.emit(d.qM.CONNECTED,{connector:this.name,reconnected:this.rehydrated,provider:this.provider,identityTokenInfo:a}),t&&(a=await this.getIdentityToken()),this.provider}catch(e){throw this.status=d.bo.READY,this.rehydrated||this.emit(d.qM.ERRORED,e),this.rehydrated=!1,e}}async disconnect(e={cleanup:!1}){await super.disconnectSession();try{var t;await(null===(t=this.wallet.features["standard:disconnect"])||void 0===t?void 0:t.disconnect()),e.cleanup?(this.status=d.bo.NOT_READY,this.injectedProvider=null):this.status=d.bo.READY,await super.disconnect()}catch(e){this.emit(d.qM.ERRORED,p.T7.disconnectionError(null==e?void 0:e.message))}}async getUserInfo(){if(!this.canAuthorize)throw p.T7.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,t=!1){var n;super.checkSwitchChainRequirements(e,t),await(null===(n=this.injectedProvider)||void 0===n?void 0:n.switchChain(e))}async enableMFA(){throw new Error("Method not implemented.")}async manageMFA(){throw new Error("Method Not implemented")}}const b=e=>({coreOptions:t})=>new h({name:(0,c.ks)(e.name),wallet:e,coreOptions:t})},76154:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(23494);function i(e,{emitOnBegin:t,initialWaitTime:n,interval:i}){let a=!0;const s=()=>a=!1;return(async()=>{let o;t&&(o=await e({unpoll:s}));const c=await(n?.(o))??i;await(0,r.u)(c);const l=async()=>{a&&(await e({unpoll:s}),await(0,r.u)(i),l())};l()})(),s}},76179:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.isValidHexAddress=t.isValidHexAddressUnmemoized=t.isValidChecksumAddress=t.isValidChecksumAddressUnmemoized=t.getChecksumAddress=t.getChecksumAddressUnmemoized=t.assertIsStrictHexString=t.assertIsHexString=t.isHexChecksumAddress=t.isHexAddress=t.isStrictHexString=t.isHexString=t.HexChecksumAddressStruct=t.HexAddressStruct=t.StrictHexStruct=t.HexStruct=void 0;const r=n(87093),i=n(70448),a=n(45250),s=n(15482),o=/^(?:0x)?[0-9a-f]+$/iu,c=/^0x[0-9a-f]+$/iu,l=/^0x[0-9a-f]{40}$/u,u=/^0x[0-9a-fA-F]{40}$/u;t.HexStruct=(0,r.pattern)((0,r.string)(),o),t.StrictHexStruct=(0,r.pattern)((0,r.string)(),c),t.HexAddressStruct=(0,r.pattern)((0,r.string)(),l),t.HexChecksumAddressStruct=(0,r.pattern)((0,r.string)(),u);const d=e=>"string"==typeof e;function f(e){return d(e)&&o.test(e)}function p(e){return d(e)&&c.test(e)}function h(e){return d(e)&&l.test(e)}function b(e){return d(e)&&u.test(e)}function y(e){(0,s.assert)(b(e),"Invalid hex address.");const t=w(e).toLowerCase(),n=(0,i.keccak_256)(t),{length:r}=t,a=new Array(r);for(let e=0;e<r;e++){const r=1&e,i=n[e>>1],s=0===r?i>>4:15&i;a[e]=s>=8?t[e].toUpperCase():t[e]}return`0x${a.join("")}`}function m(e){return!!b(e)&&(0,t.getChecksumAddress)(e)===e}function g(e){return h(e)||(0,t.isValidChecksumAddress)(e)}function w(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}t.isHexString=f,t.isStrictHexString=p,t.isHexAddress=h,t.isHexChecksumAddress=b,t.assertIsHexString=function(e){(0,s.assert)(f(e),"Value must be a hexadecimal string.")},t.assertIsStrictHexString=function(e){(0,s.assert)(p(e),'Value must be a hexadecimal string, starting with "0x".')},t.getChecksumAddressUnmemoized=y,t.getChecksumAddress=(0,a.memoize)(y),t.isValidChecksumAddressUnmemoized=m,t.isValidChecksumAddress=(0,a.memoize)(m),t.isValidHexAddressUnmemoized=g,t.isValidHexAddress=(0,a.memoize)(g),t.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},t.remove0x=w},76243:(e,t,n)=>{"use strict";n.d(t,{tsubMiddleware:()=>i});var r=n(8120),i=function(e){return function(t){var n=t.payload,i=t.integration,a=t.next;new r.Store(e).getRulesByDestinationName(i).forEach(function(e){for(var t=e.matchers,i=e.transformers,s=0;s<t.length;s++)if(r.matches(n.obj,t[s])&&(n.obj=r.transform(n.obj,i[s]),null===n.obj))return a(null)}),a(n)}}},76728:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.unitMap=t.getValueOfUnit=t.numberToString=t.fromWei=t.toWei=t.remove0x=t.add0x=t.isValidChecksumAddress=t.getChecksumAddress=t.isValidHexAddress=t.assertIsStrictHexString=t.assertIsHexString=t.isHexChecksumAddress=t.isHexAddress=t.isStrictHexString=t.isHexString=t.HexChecksumAddressStruct=t.HexAddressStruct=t.StrictHexStruct=t.HexStruct=void 0,i(n(15482),t),i(n(60177),t),i(n(2949),t),i(n(26163),t),i(n(81725),t),i(n(47858),t),i(n(12675),t),i(n(21115),t),i(n(9137),t);var a=n(76179);Object.defineProperty(t,"HexStruct",{enumerable:!0,get:function(){return a.HexStruct}}),Object.defineProperty(t,"StrictHexStruct",{enumerable:!0,get:function(){return a.StrictHexStruct}}),Object.defineProperty(t,"HexAddressStruct",{enumerable:!0,get:function(){return a.HexAddressStruct}}),Object.defineProperty(t,"HexChecksumAddressStruct",{enumerable:!0,get:function(){return a.HexChecksumAddressStruct}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return a.isHexString}}),Object.defineProperty(t,"isStrictHexString",{enumerable:!0,get:function(){return a.isStrictHexString}}),Object.defineProperty(t,"isHexAddress",{enumerable:!0,get:function(){return a.isHexAddress}}),Object.defineProperty(t,"isHexChecksumAddress",{enumerable:!0,get:function(){return a.isHexChecksumAddress}}),Object.defineProperty(t,"assertIsHexString",{enumerable:!0,get:function(){return a.assertIsHexString}}),Object.defineProperty(t,"assertIsStrictHexString",{enumerable:!0,get:function(){return a.assertIsStrictHexString}}),Object.defineProperty(t,"isValidHexAddress",{enumerable:!0,get:function(){return a.isValidHexAddress}}),Object.defineProperty(t,"getChecksumAddress",{enumerable:!0,get:function(){return a.getChecksumAddress}}),Object.defineProperty(t,"isValidChecksumAddress",{enumerable:!0,get:function(){return a.isValidChecksumAddress}}),Object.defineProperty(t,"add0x",{enumerable:!0,get:function(){return a.add0x}}),Object.defineProperty(t,"remove0x",{enumerable:!0,get:function(){return a.remove0x}}),i(n(6122),t),i(n(3127),t),i(n(99831),t),i(n(26556),t),i(n(85127),t),i(n(37165),t),i(n(36271),t),i(n(55770),t),i(n(6263),t),i(n(24128),t),i(n(89011),t);var s=n(80665);Object.defineProperty(t,"toWei",{enumerable:!0,get:function(){return s.toWei}}),Object.defineProperty(t,"fromWei",{enumerable:!0,get:function(){return s.fromWei}}),Object.defineProperty(t,"numberToString",{enumerable:!0,get:function(){return s.numberToString}}),Object.defineProperty(t,"getValueOfUnit",{enumerable:!0,get:function(){return s.getValueOfUnit}}),Object.defineProperty(t,"unitMap",{enumerable:!0,get:function(){return s.unitMap}})},76910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},76935:(e,t,n)=>{"use strict";n.d(t,{Dg:()=>g,Ej:()=>m,Fl:()=>_,HT:()=>l,Ho:()=>h,M7:()=>b,Ro:()=>w,Ty:()=>E,di:()=>y,ii:()=>A,oB:()=>f,sH:()=>p,tf:()=>v,u:()=>T,uK:()=>d,xW:()=>c,xb:()=>u});var r=n(34873),i=n(60563),a=n(31390);const s=new TextEncoder,o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function c(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function l(e){return e instanceof Uint8Array?d(e):Array.isArray(e)?d(new Uint8Array(e)):e}function u(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(i.Sl(n,t.size),h(n,t.size)):n}function d(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=o[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(i.Sl(r,t.size),b(r,t.size)):r}function f(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let a;r?a=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const s="bigint"==typeof a&&n?-a-1n:0;if(a&&i>a||i<s){const t="bigint"==typeof e?"n":"";throw new E({max:a?`${a}${t}`:void 0,min:`${s}${t}`,signed:n,size:r,value:`${e}${t}`})}const o=`0x${(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16)}`;return r?h(o,r):o}function p(e,t={}){return d(s.encode(e),t)}function h(e,t){return i.eV(e,{dir:"left",size:t})}function b(e,t){return i.eV(e,{dir:"right",size:t})}function y(e,t,n,r={}){const{strict:a}=r;i.kK(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return a&&i.X(s,t,n),s}function m(e){return Math.ceil((e.length-2)/2)}function g(e,t={}){const{signed:n}=t;t.size&&i.Sl(e,t.size);const r=BigInt(e);if(!n)return r;const a=(e.length-2)/2,s=(1n<<8n*BigInt(a))-1n;return r<=s>>1n?r:r-s-1n}function w(e,t={}){const{signed:n,size:r}=t;return Number(n||r?g(e,t):e)}function v(e,t={}){const{strict:n=!1}=t;try{return function(e,t={}){const{strict:n=!1}=t;if(!e)throw new x(e);if("string"!=typeof e)throw new x(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new S(e);if(!e.startsWith("0x"))throw new S(e)}(e,{strict:n}),!0}catch{return!1}}class E extends r.C{constructor({max:e,min:t,signed:n,size:r,value:i}){super(`Number \`${i}\` is not in safe${r?` ${8*r}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}r.C;class x extends r.C{constructor(e){super(`Value \`${"object"==typeof e?a.A(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class S extends r.C{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}r.C;class T extends r.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class A extends r.C{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class _ extends r.C{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},77048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(void 0!==t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if(void 0===t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},77190:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var r=n(65846),i=n(11824);const a=e=>(0,r.di)((0,i.k)(e),0,4)},77468:(e,t,n)=>{"use strict";n.d(t,{EH:()=>a,YE:()=>o,jF:()=>s,rj:()=>i});var r=n(14323);class i extends r.C{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class a extends r.C{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class s extends r.C{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n"),{name:"ChainNotFoundError"})}}class o extends r.C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}r.C},77725:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var r=n(76935);function i(e){return{address:e.address,amount:r.oB(e.amount),index:r.oB(e.index),validatorIndex:r.oB(e.validatorIndex)}}function a(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:r.oB(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:r.oB(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:r.oB(e.gasLimit)},..."bigint"==typeof e.number&&{number:r.oB(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:r.oB(e.prevRandao)},..."bigint"==typeof e.time&&{time:r.oB(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i)}}}},77751:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={Salesforce:!0};t.default=function(e){return!n[e]}},78160:(e,t,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=n(50968),o=Object.prototype.propertyIsEnumerable,c=!o.call({toString:null},"toString"),l=o.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===a.call(e),r=s(e),o=t&&"[object String]"===a.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=l&&n;if(o&&e.length>0&&!i.call(e,0))for(var b=0;b<e.length;++b)f.push(String(b));if(r&&e.length>0)for(var y=0;y<e.length;++y)f.push(String(y));else for(var m in e)h&&"prototype"===m||!i.call(e,m)||f.push(String(m));if(c)for(var g=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),w=0;w<u.length;++w)g&&"constructor"===u[w]||!i.call(e,u[w])||f.push(u[w]);return f}}e.exports=r},78484:(e,t,n)=>{"use strict";const r=globalThis.AbortController||n(67083).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:a,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:o},AbortError:c}=n(61150),{validateAbortSignal:l,validateInteger:u,validateObject:d}=n(98080),f=n(70273).Symbol("kWeak"),p=n(70273).Symbol("kResistStopPropagation"),{finished:h}=n(92549),b=n(66009),{addAbortSignalNoValidate:y}=n(52682),{isWritable:m,isNodeStream:g}=n(38104),{deprecate:w}=n(48449),{ArrayPrototypePush:v,Boolean:E,MathFloor:x,Number:S,NumberIsNaN:T,Promise:A,PromiseReject:_,PromiseResolve:C,PromisePrototypeThen:k,Symbol:I}=n(70273),P=I("kEmpty"),O=I("kEof");function M(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");let r=1;null!=(null==t?void 0:t.concurrency)&&(r=x(t.concurrency));let i=r-1;return null!=(null==t?void 0:t.highWaterMark)&&(i=x(t.highWaterMark)),u(r,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=r,async function*(){const a=n(48449).AbortSignalAny([null==t?void 0:t.signal].filter(E)),s=this,o=[],l={signal:a};let u,d,f=!1,p=0;function h(){f=!0,b()}function b(){p-=1,y()}function y(){d&&!f&&p<r&&o.length<i&&(d(),d=null)}!async function(){try{for await(let t of s){if(f)return;if(a.aborted)throw new c;try{if(t=e(t,l),t===P)continue;t=C(t)}catch(e){t=_(e)}p+=1,k(t,b,h),o.push(t),u&&(u(),u=null),!f&&(o.length>=i||p>=r)&&await new A(e=>{d=e})}o.push(O)}catch(e){const t=_(e);k(t,b,h),o.push(t)}finally{f=!0,u&&(u(),u=null)}}();try{for(;;){for(;o.length>0;){const e=await o[0];if(e===O)return;if(a.aborted)throw new c;e!==P&&(yield e),o.shift(),y()}await new A(e=>{u=e})}}finally{f=!0,d&&(d(),d=null)}}.call(this)}async function R(e,t=void 0){for await(const n of N.call(this,e,t))return!0;return!1}function N(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);return M.call(this,async function(t,n){return await e(t,n)?t:P},t)}class L extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function D(e){if(e=S(e),T(e))return 0;if(e<0)throw new o("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:w(function(e=void 0){return null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),async function*(){let t=0;for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new c({cause:e.signal.reason});yield[t++,r]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=D(e),async function*(){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;e--<=0&&(yield n)}}.call(this)},filter:N,flatMap:function(e,t){const n=M.call(this,e,t);return async function*(){for await(const e of n)yield*e}.call(this)},map:M,take:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=D(e),async function*(){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;if(e-- >0&&(yield n),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),g(e)&&!m(e))throw new i("stream",e,"must be writable");const n=b(this,e);return null!=t&&t.signal&&y(t.signal,n),n}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);return!await R.call(this,async(...t)=>!await e(...t),t)},forEach:async function(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);for await(const n of M.call(this,async function(t,n){return await e(t,n),P},t));},reduce:async function(e,t,n){var i;if("function"!=typeof e)throw new a("reducer",["Function","AsyncFunction"],e);null!=n&&d(n,"options"),null!=(null==n?void 0:n.signal)&&l(n.signal,"options.signal");let s=arguments.length>1;if(null!=n&&null!==(i=n.signal)&&void 0!==i&&i.aborted){const e=new c(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(e)),e}const o=new r,u=o.signal;if(null!=n&&n.signal){const e={once:!0,[f]:this,[p]:!0};n.signal.addEventListener("abort",()=>o.abort(),e)}let b=!1;try{for await(const r of this){var y;if(b=!0,null!=n&&null!==(y=n.signal)&&void 0!==y&&y.aborted)throw new c;s?t=await e(t,r,{signal:u}):(t=r,s=!0)}if(!b&&!s)throw new L}finally{o.abort()}return t},toArray:async function(e){null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new c(void 0,{cause:e.signal.reason});v(t,r)}return t},some:R,find:async function(e,t){for await(const n of N.call(this,e,t))return n}}},78554:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,a=n(79138);e.exports=a.call(r,i)},78843:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});const r=async e=>{const t=e instanceof Error,n="string"==typeof e;let r;if(e&&"object"==typeof e&&"status"in e&&"type"in e){const t=e,n=t.headers.get("content-type");if(n.includes("application/json")){const e=await t.json();r=new Error((null==e?void 0:e.error)||(null==e?void 0:e.message)||JSON.stringify(e))}else r=n.includes("text/plain")?new Error(await t.text()):new Error(`${t.status} ${t.type.toString()} ${t.statusText}`)}else r=n?new Error(e):t?e:new Error("Unknown error");return r}},78918:(e,t,n)=>{"use strict";t.I0=t.DH=t.NX=t.u8=t.cY=void 0,t.av=t.O6=t.w3=t.Wg=void 0;const r=n(1048);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function a(e){return i(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}class s{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function o(e,t){return t.property?e+"["+t.property+"]":e}class c extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class l extends c{constructor(e,t=0,n){if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof u||this.layout instanceof d}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}class u extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readUIntLE(t,this.span)}encode(e,t,n=0){return a(t).writeUIntLE(e,n,this.span),this.span}}class d extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readUIntBE(t,this.span)}encode(e,t,n=0){return a(t).writeUIntBE(e,n,this.span),this.span}}const f=Math.pow(2,32);function p(e){const t=Math.floor(e/f);return{hi32:t,lo32:e-t*f}}function h(e,t){return e*f+t}class b extends s{constructor(e){super(8,e)}decode(e,t=0){const n=a(e),r=n.readUInt32LE(t);return h(n.readUInt32LE(t+4),r)}encode(e,t,n=0){const r=p(e),i=a(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class y extends s{constructor(e){super(8,e)}decode(e,t=0){const n=a(e),r=n.readUInt32LE(t);return h(n.readInt32LE(t+4),r)}encode(e,t,n=0){const r=p(e),i=a(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class m extends s{constructor(e,t,n){if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof c)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof c&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let r=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,i=e.reduce((e,i)=>e+r.encode(i,t,n+e),0);return this.count instanceof c&&this.count.encode(e.length,t,n),i}}class g extends s{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce((e,t)=>e&&t instanceof s,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i},0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t=0){i(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const r=n;let i=0,a=0;for(const r of this.fields){let s=r.span;if(a=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(a=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+a-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class w extends s{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof c||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),a(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof c&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(o("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=a(e);return a(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,t,n),r}}t.cY=(e,t,n)=>new l(e,t,n),t.u8=e=>new u(1,e),t.NX=e=>new u(2,e),t.DH=e=>new u(4,e),t.I0=e=>new b(e),t.Wg=e=>new y(e),t.w3=(e,t,n)=>new g(e,t,n),t.O6=(e,t,n)=>new m(e,t,n),t.av=(e,t)=>new w(e,t)},79138:(e,t,n)=>{"use strict";var r=n(28794);e.exports=Function.prototype.bind||r},79374:(e,t,n)=>{!function(e){"use strict";var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var s=t(),o=t([1]),c=t([56129,1]),l=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function b(e,t,n,r,i){var a,s=0;for(a=0;a<i;a++)s|=e[t+a]^n[r+a];return(1&s-1>>>8)-1}function y(e,t,n,r){return b(e,t,n,r,16)}function m(e,t,n,r){return b(e,t,n,r,32)}function g(e,t,n,r){!function(e,t,n,r){for(var i,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,h=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,w=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,v=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,E=a,x=s,S=o,T=c,A=l,_=u,C=d,k=f,I=p,P=h,O=b,M=y,R=m,N=g,L=w,D=v,B=0;B<20;B+=2)E^=(i=(R^=(i=(I^=(i=(A^=(i=E+R|0)<<7|i>>>25)+E|0)<<9|i>>>23)+A|0)<<13|i>>>19)+I|0)<<18|i>>>14,_^=(i=(x^=(i=(N^=(i=(P^=(i=_+x|0)<<7|i>>>25)+_|0)<<9|i>>>23)+P|0)<<13|i>>>19)+N|0)<<18|i>>>14,O^=(i=(C^=(i=(S^=(i=(L^=(i=O+C|0)<<7|i>>>25)+O|0)<<9|i>>>23)+L|0)<<13|i>>>19)+S|0)<<18|i>>>14,D^=(i=(M^=(i=(k^=(i=(T^=(i=D+M|0)<<7|i>>>25)+D|0)<<9|i>>>23)+T|0)<<13|i>>>19)+k|0)<<18|i>>>14,E^=(i=(T^=(i=(S^=(i=(x^=(i=E+T|0)<<7|i>>>25)+E|0)<<9|i>>>23)+x|0)<<13|i>>>19)+S|0)<<18|i>>>14,_^=(i=(A^=(i=(k^=(i=(C^=(i=_+A|0)<<7|i>>>25)+_|0)<<9|i>>>23)+C|0)<<13|i>>>19)+k|0)<<18|i>>>14,O^=(i=(P^=(i=(I^=(i=(M^=(i=O+P|0)<<7|i>>>25)+O|0)<<9|i>>>23)+M|0)<<13|i>>>19)+I|0)<<18|i>>>14,D^=(i=(L^=(i=(N^=(i=(R^=(i=D+L|0)<<7|i>>>25)+D|0)<<9|i>>>23)+R|0)<<13|i>>>19)+N|0)<<18|i>>>14;E=E+a|0,x=x+s|0,S=S+o|0,T=T+c|0,A=A+l|0,_=_+u|0,C=C+d|0,k=k+f|0,I=I+p|0,P=P+h|0,O=O+b|0,M=M+y|0,R=R+m|0,N=N+g|0,L=L+w|0,D=D+v|0,e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=_>>>0&255,e[21]=_>>>8&255,e[22]=_>>>16&255,e[23]=_>>>24&255,e[24]=C>>>0&255,e[25]=C>>>8&255,e[26]=C>>>16&255,e[27]=C>>>24&255,e[28]=k>>>0&255,e[29]=k>>>8&255,e[30]=k>>>16&255,e[31]=k>>>24&255,e[32]=I>>>0&255,e[33]=I>>>8&255,e[34]=I>>>16&255,e[35]=I>>>24&255,e[36]=P>>>0&255,e[37]=P>>>8&255,e[38]=P>>>16&255,e[39]=P>>>24&255,e[40]=O>>>0&255,e[41]=O>>>8&255,e[42]=O>>>16&255,e[43]=O>>>24&255,e[44]=M>>>0&255,e[45]=M>>>8&255,e[46]=M>>>16&255,e[47]=M>>>24&255,e[48]=R>>>0&255,e[49]=R>>>8&255,e[50]=R>>>16&255,e[51]=R>>>24&255,e[52]=N>>>0&255,e[53]=N>>>8&255,e[54]=N>>>16&255,e[55]=N>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=D>>>0&255,e[61]=D>>>8&255,e[62]=D>>>16&255,e[63]=D>>>24&255}(e,t,n,r)}function w(e,t,n,r){!function(e,t,n,r){for(var i,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,h=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,w=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,v=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,E=0;E<20;E+=2)a^=(i=(m^=(i=(p^=(i=(l^=(i=a+m|0)<<7|i>>>25)+a|0)<<9|i>>>23)+l|0)<<13|i>>>19)+p|0)<<18|i>>>14,u^=(i=(s^=(i=(g^=(i=(h^=(i=u+s|0)<<7|i>>>25)+u|0)<<9|i>>>23)+h|0)<<13|i>>>19)+g|0)<<18|i>>>14,b^=(i=(d^=(i=(o^=(i=(w^=(i=b+d|0)<<7|i>>>25)+b|0)<<9|i>>>23)+w|0)<<13|i>>>19)+o|0)<<18|i>>>14,v^=(i=(y^=(i=(f^=(i=(c^=(i=v+y|0)<<7|i>>>25)+v|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,a^=(i=(c^=(i=(o^=(i=(s^=(i=a+c|0)<<7|i>>>25)+a|0)<<9|i>>>23)+s|0)<<13|i>>>19)+o|0)<<18|i>>>14,u^=(i=(l^=(i=(f^=(i=(d^=(i=u+l|0)<<7|i>>>25)+u|0)<<9|i>>>23)+d|0)<<13|i>>>19)+f|0)<<18|i>>>14,b^=(i=(h^=(i=(p^=(i=(y^=(i=b+h|0)<<7|i>>>25)+b|0)<<9|i>>>23)+y|0)<<13|i>>>19)+p|0)<<18|i>>>14,v^=(i=(w^=(i=(g^=(i=(m^=(i=v+w|0)<<7|i>>>25)+v|0)<<9|i>>>23)+m|0)<<13|i>>>19)+g|0)<<18|i>>>14;e[0]=a>>>0&255,e[1]=a>>>8&255,e[2]=a>>>16&255,e[3]=a>>>24&255,e[4]=u>>>0&255,e[5]=u>>>8&255,e[6]=u>>>16&255,e[7]=u>>>24&255,e[8]=b>>>0&255,e[9]=b>>>8&255,e[10]=b>>>16&255,e[11]=b>>>24&255,e[12]=v>>>0&255,e[13]=v>>>8&255,e[14]=v>>>16&255,e[15]=v>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=p>>>0&255,e[25]=p>>>8&255,e[26]=p>>>16&255,e[27]=p>>>24&255,e[28]=h>>>0&255,e[29]=h>>>8&255,e[30]=h>>>16&255,e[31]=h>>>24&255}(e,t,n,r)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(e,t,n,r,i,a,s){var o,c,l=new Uint8Array(16),u=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=a[c];for(;i>=64;){for(g(u,l,s,v),c=0;c<64;c++)e[t+c]=n[r+c]^u[c];for(o=1,c=8;c<16;c++)o=o+(255&l[c])|0,l[c]=255&o,o>>>=8;i-=64,t+=64,r+=64}if(i>0)for(g(u,l,s,v),c=0;c<i;c++)e[t+c]=n[r+c]^u[c];return 0}function x(e,t,n,r,i){var a,s,o=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)o[s]=0;for(s=0;s<8;s++)o[s]=r[s];for(;n>=64;){for(g(c,o,i,v),s=0;s<64;s++)e[t+s]=c[s];for(a=1,s=8;s<16;s++)a=a+(255&o[s])|0,o[s]=255&a,a>>>=8;n-=64,t+=64}if(n>0)for(g(c,o,i,v),s=0;s<n;s++)e[t+s]=c[s];return 0}function S(e,t,n,r,i){var a=new Uint8Array(32);w(a,r,i,v);for(var s=new Uint8Array(8),o=0;o<8;o++)s[o]=r[o+16];return x(e,t,n,s,a)}function T(e,t,n,r,i,a,s){var o=new Uint8Array(32);w(o,a,s,v);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=a[l+16];return E(e,t,n,r,i,c,o)}var A=function(e){var t,n,r,i,a,s,o,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),a=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|a<<12),this.r[5]=a>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(a>>>14|s<<2),o=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|o<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(o>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function _(e,t,n,r,i,a){var s=new A(a);return s.update(n,r,i),s.finish(e,t),0}function C(e,t,n,r,i,a){var s=new Uint8Array(16);return _(s,0,n,r,i,a),y(e,t,s,0)}function k(e,t,n,r,i){var a;if(n<32)return-1;for(T(e,0,t,0,n,r,i),_(e,16,e,32,n-32,e),a=0;a<16;a++)e[a]=0;return 0}function I(e,t,n,r,i){var a,s=new Uint8Array(32);if(n<32)return-1;if(S(s,0,32,r,i),0!==C(t,16,t,32,n-32,s))return-1;for(T(e,0,t,0,n,r,i),a=0;a<32;a++)e[a]=0;return 0}function P(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function O(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function M(e,t,n){for(var r,i=~(n-1),a=0;a<16;a++)r=i&(e[a]^t[a]),e[a]^=r,t[a]^=r}function R(e,n){var r,i,a,s=t(),o=t();for(r=0;r<16;r++)o[r]=n[r];for(O(o),O(o),O(o),i=0;i<2;i++){for(s[0]=o[0]-65517,r=1;r<15;r++)s[r]=o[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),a=s[15]>>16&1,s[14]&=65535,M(o,s,1-a)}for(r=0;r<16;r++)e[2*r]=255&o[r],e[2*r+1]=o[r]>>8}function N(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return R(n,e),R(r,t),m(n,0,r,0)}function L(e){var t=new Uint8Array(32);return R(t,e),1&t[0]}function D(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function B(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function j(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function U(e,t,n){var r,i,a=0,s=0,o=0,c=0,l=0,u=0,d=0,f=0,p=0,h=0,b=0,y=0,m=0,g=0,w=0,v=0,E=0,x=0,S=0,T=0,A=0,_=0,C=0,k=0,I=0,P=0,O=0,M=0,R=0,N=0,L=0,D=n[0],B=n[1],j=n[2],U=n[3],F=n[4],$=n[5],z=n[6],H=n[7],q=n[8],K=n[9],W=n[10],V=n[11],G=n[12],Y=n[13],J=n[14],Z=n[15];a+=(r=t[0])*D,s+=r*B,o+=r*j,c+=r*U,l+=r*F,u+=r*$,d+=r*z,f+=r*H,p+=r*q,h+=r*K,b+=r*W,y+=r*V,m+=r*G,g+=r*Y,w+=r*J,v+=r*Z,s+=(r=t[1])*D,o+=r*B,c+=r*j,l+=r*U,u+=r*F,d+=r*$,f+=r*z,p+=r*H,h+=r*q,b+=r*K,y+=r*W,m+=r*V,g+=r*G,w+=r*Y,v+=r*J,E+=r*Z,o+=(r=t[2])*D,c+=r*B,l+=r*j,u+=r*U,d+=r*F,f+=r*$,p+=r*z,h+=r*H,b+=r*q,y+=r*K,m+=r*W,g+=r*V,w+=r*G,v+=r*Y,E+=r*J,x+=r*Z,c+=(r=t[3])*D,l+=r*B,u+=r*j,d+=r*U,f+=r*F,p+=r*$,h+=r*z,b+=r*H,y+=r*q,m+=r*K,g+=r*W,w+=r*V,v+=r*G,E+=r*Y,x+=r*J,S+=r*Z,l+=(r=t[4])*D,u+=r*B,d+=r*j,f+=r*U,p+=r*F,h+=r*$,b+=r*z,y+=r*H,m+=r*q,g+=r*K,w+=r*W,v+=r*V,E+=r*G,x+=r*Y,S+=r*J,T+=r*Z,u+=(r=t[5])*D,d+=r*B,f+=r*j,p+=r*U,h+=r*F,b+=r*$,y+=r*z,m+=r*H,g+=r*q,w+=r*K,v+=r*W,E+=r*V,x+=r*G,S+=r*Y,T+=r*J,A+=r*Z,d+=(r=t[6])*D,f+=r*B,p+=r*j,h+=r*U,b+=r*F,y+=r*$,m+=r*z,g+=r*H,w+=r*q,v+=r*K,E+=r*W,x+=r*V,S+=r*G,T+=r*Y,A+=r*J,_+=r*Z,f+=(r=t[7])*D,p+=r*B,h+=r*j,b+=r*U,y+=r*F,m+=r*$,g+=r*z,w+=r*H,v+=r*q,E+=r*K,x+=r*W,S+=r*V,T+=r*G,A+=r*Y,_+=r*J,C+=r*Z,p+=(r=t[8])*D,h+=r*B,b+=r*j,y+=r*U,m+=r*F,g+=r*$,w+=r*z,v+=r*H,E+=r*q,x+=r*K,S+=r*W,T+=r*V,A+=r*G,_+=r*Y,C+=r*J,k+=r*Z,h+=(r=t[9])*D,b+=r*B,y+=r*j,m+=r*U,g+=r*F,w+=r*$,v+=r*z,E+=r*H,x+=r*q,S+=r*K,T+=r*W,A+=r*V,_+=r*G,C+=r*Y,k+=r*J,I+=r*Z,b+=(r=t[10])*D,y+=r*B,m+=r*j,g+=r*U,w+=r*F,v+=r*$,E+=r*z,x+=r*H,S+=r*q,T+=r*K,A+=r*W,_+=r*V,C+=r*G,k+=r*Y,I+=r*J,P+=r*Z,y+=(r=t[11])*D,m+=r*B,g+=r*j,w+=r*U,v+=r*F,E+=r*$,x+=r*z,S+=r*H,T+=r*q,A+=r*K,_+=r*W,C+=r*V,k+=r*G,I+=r*Y,P+=r*J,O+=r*Z,m+=(r=t[12])*D,g+=r*B,w+=r*j,v+=r*U,E+=r*F,x+=r*$,S+=r*z,T+=r*H,A+=r*q,_+=r*K,C+=r*W,k+=r*V,I+=r*G,P+=r*Y,O+=r*J,M+=r*Z,g+=(r=t[13])*D,w+=r*B,v+=r*j,E+=r*U,x+=r*F,S+=r*$,T+=r*z,A+=r*H,_+=r*q,C+=r*K,k+=r*W,I+=r*V,P+=r*G,O+=r*Y,M+=r*J,R+=r*Z,w+=(r=t[14])*D,v+=r*B,E+=r*j,x+=r*U,S+=r*F,T+=r*$,A+=r*z,_+=r*H,C+=r*q,k+=r*K,I+=r*W,P+=r*V,O+=r*G,M+=r*Y,R+=r*J,N+=r*Z,v+=(r=t[15])*D,s+=38*(x+=r*j),o+=38*(S+=r*U),c+=38*(T+=r*F),l+=38*(A+=r*$),u+=38*(_+=r*z),d+=38*(C+=r*H),f+=38*(k+=r*q),p+=38*(I+=r*K),h+=38*(P+=r*W),b+=38*(O+=r*V),y+=38*(M+=r*G),m+=38*(R+=r*Y),g+=38*(N+=r*J),w+=38*(L+=r*Z),a=(r=(a+=38*(E+=r*B))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=o,e[3]=c,e[4]=l,e[5]=u,e[6]=d,e[7]=f,e[8]=p,e[9]=h,e[10]=b,e[11]=y,e[12]=m,e[13]=g,e[14]=w,e[15]=v}function F(e,t){U(e,t,t)}function $(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)F(i,i),2!==r&&4!==r&&U(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function z(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)F(i,i),1!==r&&U(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function H(e,n,r){var i,a,s=new Uint8Array(32),o=new Float64Array(80),l=t(),u=t(),d=t(),f=t(),p=t(),h=t();for(a=0;a<31;a++)s[a]=n[a];for(s[31]=127&n[31]|64,s[0]&=248,D(o,r),a=0;a<16;a++)u[a]=o[a],f[a]=l[a]=d[a]=0;for(l[0]=f[0]=1,a=254;a>=0;--a)M(l,u,i=s[a>>>3]>>>(7&a)&1),M(d,f,i),B(p,l,d),j(l,l,d),B(d,u,f),j(u,u,f),F(f,p),F(h,l),U(l,d,l),U(d,u,p),B(p,l,d),j(l,l,d),F(u,l),j(d,f,h),U(l,d,c),B(l,l,f),U(d,d,l),U(l,f,h),U(f,u,o),F(u,p),M(l,u,i),M(d,f,i);for(a=0;a<16;a++)o[a+16]=l[a],o[a+32]=d[a],o[a+48]=u[a],o[a+64]=f[a];var b=o.subarray(32),y=o.subarray(16);return $(b,b),U(y,y,b),R(e,y),0}function q(e,t){return H(e,t,a)}function K(e,t){return r(t,32),q(e,t)}function W(e,t,n){var r=new Uint8Array(32);return H(r,n,t),w(e,i,r,v)}A.prototype.blocks=function(e,t,n){for(var r,i,a,s,o,c,l,u,d,f,p,h,b,y,m,g,w,v,E,x=this.fin?0:2048,S=this.h[0],T=this.h[1],A=this.h[2],_=this.h[3],C=this.h[4],k=this.h[5],I=this.h[6],P=this.h[7],O=this.h[8],M=this.h[9],R=this.r[0],N=this.r[1],L=this.r[2],D=this.r[3],B=this.r[4],j=this.r[5],U=this.r[6],F=this.r[7],$=this.r[8],z=this.r[9];n>=16;)f=d=0,f+=(S+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*R,f+=(T+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*z),f+=(A+=8191&(i>>>10|(a=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*$),f+=(_+=8191&(a>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),d=(f+=(C+=8191&(s>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*U))>>>13,f&=8191,f+=(k+=o>>>1&8191)*(5*j),f+=(I+=8191&(o>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*B),f+=(P+=8191&(c>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*D),f+=(O+=8191&(l>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*L),p=d+=(f+=(M+=u>>>5|x)*(5*N))>>>13,p+=S*N,p+=T*R,p+=A*(5*z),p+=_*(5*$),d=(p+=C*(5*F))>>>13,p&=8191,p+=k*(5*U),p+=I*(5*j),p+=P*(5*B),p+=O*(5*D),d+=(p+=M*(5*L))>>>13,p&=8191,h=d,h+=S*L,h+=T*N,h+=A*R,h+=_*(5*z),d=(h+=C*(5*$))>>>13,h&=8191,h+=k*(5*F),h+=I*(5*U),h+=P*(5*j),h+=O*(5*B),b=d+=(h+=M*(5*D))>>>13,b+=S*D,b+=T*L,b+=A*N,b+=_*R,d=(b+=C*(5*z))>>>13,b&=8191,b+=k*(5*$),b+=I*(5*F),b+=P*(5*U),b+=O*(5*j),y=d+=(b+=M*(5*B))>>>13,y+=S*B,y+=T*D,y+=A*L,y+=_*N,d=(y+=C*R)>>>13,y&=8191,y+=k*(5*z),y+=I*(5*$),y+=P*(5*F),y+=O*(5*U),m=d+=(y+=M*(5*j))>>>13,m+=S*j,m+=T*B,m+=A*D,m+=_*L,d=(m+=C*N)>>>13,m&=8191,m+=k*R,m+=I*(5*z),m+=P*(5*$),m+=O*(5*F),g=d+=(m+=M*(5*U))>>>13,g+=S*U,g+=T*j,g+=A*B,g+=_*D,d=(g+=C*L)>>>13,g&=8191,g+=k*N,g+=I*R,g+=P*(5*z),g+=O*(5*$),w=d+=(g+=M*(5*F))>>>13,w+=S*F,w+=T*U,w+=A*j,w+=_*B,d=(w+=C*D)>>>13,w&=8191,w+=k*L,w+=I*N,w+=P*R,w+=O*(5*z),v=d+=(w+=M*(5*$))>>>13,v+=S*$,v+=T*F,v+=A*U,v+=_*j,d=(v+=C*B)>>>13,v&=8191,v+=k*D,v+=I*L,v+=P*N,v+=O*R,E=d+=(v+=M*(5*z))>>>13,E+=S*z,E+=T*$,E+=A*F,E+=_*U,d=(E+=C*j)>>>13,E&=8191,E+=k*B,E+=I*D,E+=P*L,E+=O*N,S=f=8191&(d=(d=((d+=(E+=M*R)>>>13)<<2)+d|0)+(f&=8191)|0),T=p+=d>>>=13,A=h&=8191,_=b&=8191,C=y&=8191,k=m&=8191,I=g&=8191,P=w&=8191,O=v&=8191,M=E&=8191,t+=16,n-=16;this.h[0]=S,this.h[1]=T,this.h[2]=A,this.h[3]=_,this.h[4]=C,this.h[5]=k,this.h[6]=I,this.h[7]=P,this.h[8]=O,this.h[9]=M},A.prototype.finish=function(e,t){var n,r,i,a,s=new Uint16Array(10);if(this.leftover){for(a=this.leftover,this.buffer[a++]=1;a<16;a++)this.buffer[a]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,a=2;a<10;a++)this.h[a]+=n,n=this.h[a]>>>13,this.h[a]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,a=1;a<10;a++)s[a]=this.h[a]+n,n=s[a]>>>13,s[a]&=8191;for(s[9]-=8192,r=(1^n)-1,a=0;a<10;a++)s[a]&=r;for(r=~r,a=0;a<10;a++)this.h[a]=this.h[a]&r|s[a];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,a=1;a<8;a++)i=(this.h[a]+this.pad[a]|0)+(i>>>16)|0,this.h[a]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var V=k,G=I,Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,n,r){for(var i,a,s,o,c,l,u,d,f,p,h,b,y,m,g,w,v,E,x,S,T,A,_,C,k,I,P=new Int32Array(16),O=new Int32Array(16),M=e[0],R=e[1],N=e[2],L=e[3],D=e[4],B=e[5],j=e[6],U=e[7],F=t[0],$=t[1],z=t[2],H=t[3],q=t[4],K=t[5],W=t[6],V=t[7],G=0;r>=128;){for(x=0;x<16;x++)S=8*x+G,P[x]=n[S+0]<<24|n[S+1]<<16|n[S+2]<<8|n[S+3],O[x]=n[S+4]<<24|n[S+5]<<16|n[S+6]<<8|n[S+7];for(x=0;x<80;x++)if(i=M,a=R,s=N,o=L,c=D,l=B,u=j,f=F,p=$,h=z,b=H,y=q,m=K,g=W,_=65535&(A=V),C=A>>>16,k=65535&(T=U),I=T>>>16,_+=65535&(A=(q>>>14|D<<18)^(q>>>18|D<<14)^(D>>>9|q<<23)),C+=A>>>16,k+=65535&(T=(D>>>14|q<<18)^(D>>>18|q<<14)^(q>>>9|D<<23)),I+=T>>>16,_+=65535&(A=q&K^~q&W),C+=A>>>16,k+=65535&(T=D&B^~D&j),I+=T>>>16,_+=65535&(A=Y[2*x+1]),C+=A>>>16,k+=65535&(T=Y[2*x]),I+=T>>>16,T=P[x%16],C+=(A=O[x%16])>>>16,k+=65535&T,I+=T>>>16,k+=(C+=(_+=65535&A)>>>16)>>>16,_=65535&(A=E=65535&_|C<<16),C=A>>>16,k=65535&(T=v=65535&k|(I+=k>>>16)<<16),I=T>>>16,_+=65535&(A=(F>>>28|M<<4)^(M>>>2|F<<30)^(M>>>7|F<<25)),C+=A>>>16,k+=65535&(T=(M>>>28|F<<4)^(F>>>2|M<<30)^(F>>>7|M<<25)),I+=T>>>16,C+=(A=F&$^F&z^$&z)>>>16,k+=65535&(T=M&R^M&N^R&N),I+=T>>>16,d=65535&(k+=(C+=(_+=65535&A)>>>16)>>>16)|(I+=k>>>16)<<16,w=65535&_|C<<16,_=65535&(A=b),C=A>>>16,k=65535&(T=o),I=T>>>16,C+=(A=E)>>>16,k+=65535&(T=v),I+=T>>>16,R=i,N=a,L=s,D=o=65535&(k+=(C+=(_+=65535&A)>>>16)>>>16)|(I+=k>>>16)<<16,B=c,j=l,U=u,M=d,$=f,z=p,H=h,q=b=65535&_|C<<16,K=y,W=m,V=g,F=w,x%16==15)for(S=0;S<16;S++)T=P[S],_=65535&(A=O[S]),C=A>>>16,k=65535&T,I=T>>>16,T=P[(S+9)%16],_+=65535&(A=O[(S+9)%16]),C+=A>>>16,k+=65535&T,I+=T>>>16,v=P[(S+1)%16],_+=65535&(A=((E=O[(S+1)%16])>>>1|v<<31)^(E>>>8|v<<24)^(E>>>7|v<<25)),C+=A>>>16,k+=65535&(T=(v>>>1|E<<31)^(v>>>8|E<<24)^v>>>7),I+=T>>>16,v=P[(S+14)%16],C+=(A=((E=O[(S+14)%16])>>>19|v<<13)^(v>>>29|E<<3)^(E>>>6|v<<26))>>>16,k+=65535&(T=(v>>>19|E<<13)^(E>>>29|v<<3)^v>>>6),I+=T>>>16,I+=(k+=(C+=(_+=65535&A)>>>16)>>>16)>>>16,P[S]=65535&k|I<<16,O[S]=65535&_|C<<16;_=65535&(A=F),C=A>>>16,k=65535&(T=M),I=T>>>16,T=e[0],C+=(A=t[0])>>>16,k+=65535&T,I+=T>>>16,I+=(k+=(C+=(_+=65535&A)>>>16)>>>16)>>>16,e[0]=M=65535&k|I<<16,t[0]=F=65535&_|C<<16,_=65535&(A=$),C=A>>>16,k=65535&(T=R),I=T>>>16,T=e[1],C+=(A=t[1])>>>16,k+=65535&T,I+=T>>>16,I+=(k+=(C+=(_+=65535&A)>>>16)>>>16)>>>16,e[1]=R=65535&k|I<<16,t[1]=$=65535&_|C<<16,_=65535&(A=z),C=A>>>16,k=65535&(T=N),I=T>>>16,T=e[2],C+=(A=t[2])>>>16,k+=65535&T,I+=T>>>16,I+=(k+=(C+=(_+=65535&A)>>>16)>>>16)>>>16,e[2]=N=65535&k|I<<16,t[2]=z=65535&_|C<<16,_=65535&(A=H),C=A>>>16,k=65535&(T=L),I=T>>>16,T=e[3],C+=(A=t[3])>>>16,k+=65535&T,I+=T>>>16,I+=(k+=(C+=(_+=65535&A)>>>16)>>>16)>>>16,e[3]=L=65535&k|I<<16,t[3]=H=65535&_|C<<16,_=65535&(A=q),C=A>>>16,k=65535&(T=D),I=T>>>16,T=e[4],C+=(A=t[4])>>>16,k+=65535&T,I+=T>>>16,I+=(k+=(C+=(_+=65535&A)>>>16)>>>16)>>>16,e[4]=D=65535&k|I<<16,t[4]=q=65535&_|C<<16,_=65535&(A=K),C=A>>>16,k=65535&(T=B),I=T>>>16,T=e[5],C+=(A=t[5])>>>16,k+=65535&T,I+=T>>>16,I+=(k+=(C+=(_+=65535&A)>>>16)>>>16)>>>16,e[5]=B=65535&k|I<<16,t[5]=K=65535&_|C<<16,_=65535&(A=W),C=A>>>16,k=65535&(T=j),I=T>>>16,T=e[6],C+=(A=t[6])>>>16,k+=65535&T,I+=T>>>16,I+=(k+=(C+=(_+=65535&A)>>>16)>>>16)>>>16,e[6]=j=65535&k|I<<16,t[6]=W=65535&_|C<<16,_=65535&(A=V),C=A>>>16,k=65535&(T=U),I=T>>>16,T=e[7],C+=(A=t[7])>>>16,k+=65535&T,I+=T>>>16,I+=(k+=(C+=(_+=65535&A)>>>16)>>>16)>>>16,e[7]=U=65535&k|I<<16,t[7]=V=65535&_|C<<16,G+=128,r-=128}return r}function Z(e,t,n){var r,i=new Int32Array(8),a=new Int32Array(8),s=new Uint8Array(256),o=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,J(i,a,t,n),n%=128,r=0;r<n;r++)s[r]=t[o-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,h(s,n-8,o/536870912|0,o<<3),J(i,a,s,n),r=0;r<8;r++)h(e,8*r,i[r],a[r]);return 0}function X(e,n){var r=t(),i=t(),a=t(),s=t(),o=t(),c=t(),l=t(),d=t(),f=t();j(r,e[1],e[0]),j(f,n[1],n[0]),U(r,r,f),B(i,e[0],e[1]),B(f,n[0],n[1]),U(i,i,f),U(a,e[3],n[3]),U(a,a,u),U(s,e[2],n[2]),B(s,s,s),j(o,i,r),j(c,s,a),B(l,s,a),B(d,i,r),U(e[0],o,c),U(e[1],d,l),U(e[2],l,c),U(e[3],o,d)}function Q(e,t,n){var r;for(r=0;r<4;r++)M(e[r],t[r],n)}function ee(e,n){var r=t(),i=t(),a=t();$(a,n[2]),U(r,n[0],a),U(i,n[1],a),R(e,i),e[31]^=L(r)<<7}function te(e,t,n){var r,i;for(P(e[0],s),P(e[1],o),P(e[2],o),P(e[3],s),i=255;i>=0;--i)Q(e,t,r=n[i/8|0]>>(7&i)&1),X(t,e),X(e,e),Q(e,t,r)}function ne(e,n){var r=[t(),t(),t(),t()];P(r[0],d),P(r[1],f),P(r[2],o),U(r[3],d,f),te(e,r,n)}function re(e,n,i){var a,s=new Uint8Array(64),o=[t(),t(),t(),t()];for(i||r(n,32),Z(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,ne(o,s),ee(e,o),a=0;a<32;a++)n[a+32]=e[a];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ae(e,t){var n,r,i,a;for(r=63;r>=32;--r){for(n=0,i=r-32,a=r-12;i<a;++i)t[i]+=n-16*t[r]*ie[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*ie[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*ie[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function se(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;ae(e,n)}function oe(e,n,r,i){var a,s,o=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),u=new Float64Array(64),d=[t(),t(),t(),t()];Z(o,i,32),o[0]&=248,o[31]&=127,o[31]|=64;var f=r+64;for(a=0;a<r;a++)e[64+a]=n[a];for(a=0;a<32;a++)e[32+a]=o[32+a];for(Z(l,e.subarray(32),r+32),se(l),ne(d,l),ee(e,d),a=32;a<64;a++)e[a]=i[a];for(Z(c,e,r+64),se(c),a=0;a<64;a++)u[a]=0;for(a=0;a<32;a++)u[a]=l[a];for(a=0;a<32;a++)for(s=0;s<32;s++)u[a+s]+=c[a]*o[s];return ae(e.subarray(32),u),f}function ce(e,n,r,i){var a,c=new Uint8Array(32),u=new Uint8Array(64),d=[t(),t(),t(),t()],f=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,n){var r=t(),i=t(),a=t(),c=t(),u=t(),d=t(),f=t();return P(e[2],o),D(e[1],n),F(a,e[1]),U(c,a,l),j(a,a,e[2]),B(c,e[2],c),F(u,c),F(d,u),U(f,d,u),U(r,f,a),U(r,r,c),z(r,r),U(r,r,a),U(r,r,c),U(r,r,c),U(e[0],r,c),F(i,e[0]),U(i,i,c),N(i,a)&&U(e[0],e[0],p),F(i,e[0]),U(i,i,c),N(i,a)?-1:(L(e[0])===n[31]>>7&&j(e[0],s,e[0]),U(e[3],e[0],e[1]),0)}(f,i))return-1;for(a=0;a<r;a++)e[a]=n[a];for(a=0;a<32;a++)e[a+32]=i[a];if(Z(u,e,r),se(u),te(d,f,u),ne(f,n.subarray(32)),X(d,f),ee(c,d),r-=64,m(n,0,c,0)){for(a=0;a<r;a++)e[a]=0;return-1}for(a=0;a<r;a++)e[a]=n[a+64];return r}var le=64,ue=32,de=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function he(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:T,crypto_stream:S,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:x,crypto_onetimeauth:_,crypto_onetimeauth_verify:C,crypto_verify_16:y,crypto_verify_32:m,crypto_secretbox:k,crypto_secretbox_open:I,crypto_scalarmult:H,crypto_scalarmult_base:q,crypto_box_beforenm:W,crypto_box_afternm:V,crypto_box:function(e,t,n,r,i,a){var s=new Uint8Array(32);return W(s,i,a),V(e,t,n,r,s)},crypto_box_open:function(e,t,n,r,i,a){var s=new Uint8Array(32);return W(s,i,a),G(e,t,n,r,s)},crypto_box_keypair:K,crypto_hash:Z,crypto_sign:oe,crypto_sign_keypair:re,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:ue,crypto_sign_SECRETKEYBYTES:de,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:l,L:ie,pack:ee,pack25519:R,unpack25519:D,M:U,A:B,S:F,Z:j,pow2523:z,add:X,set25519:P,modL:ae,scalarmult:te,scalarbase:ne},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,n){pe(e,t,n),fe(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+32]=e[a];return k(i,r,r.length,t,n),i.subarray(16)},e.secretbox.open=function(e,t,n){pe(e,t,n),fe(n,t);for(var r=new Uint8Array(16+e.length),i=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+16]=e[a];return r.length<32||0!==I(i,r,r.length,t,n)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return H(n,e,t),n},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var a=e.box.before(r,i);return e.secretbox(t,n,a)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return W(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var a=e.box.before(r,i);return e.secretbox.open(t,n,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad secret key size");var n=new Uint8Array(le+e.length);return oe(n,e,e.length,t),n},e.sign.open=function(e,t){if(pe(e,t),t.length!==ue)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=ce(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),a=0;a<i.length;a++)i[a]=n[a];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(le),a=0;a<i.length;a++)i[a]=r[a];return i},e.sign.detached.verify=function(e,t,n){if(pe(e,t,n),t.length!==le)throw new Error("bad signature size");if(n.length!==ue)throw new Error("bad public key size");var r,i=new Uint8Array(le+e.length),a=new Uint8Array(le+e.length);for(r=0;r<le;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+le]=e[r];return ce(a,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(ue),t=new Uint8Array(de);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==de)throw new Error("bad secret key size");for(var t=new Uint8Array(ue),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(ue),n=new Uint8Array(de),r=0;r<32;r++)n[r]=e[r];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=ue,e.sign.secretKeyLength=de,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===b(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG(function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];he(i)}):(t=n(41528))&&t.randomBytes&&e.setPRNG(function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];he(i)})}()}(e.exports?e.exports:self.nacl=self.nacl||{})},79423:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r="#__bigint";function i(e,t,n){return JSON.stringify(e,(e,n)=>"function"==typeof t?t(e,n):"bigint"==typeof n?n.toString()+r:n,n)}},79756:(e,t,n)=>{"use strict";n.d(t,{ME:()=>l,Nx:()=>c,Sl:()=>s,uU:()=>o});var r=n(85704),i=n(96943),a=n(90958);function s(e,{size:t}){if((0,i.E)(e)>t)throw new r.u({givenSize:(0,i.E)(e),maxSize:t})}function o(e,t={}){const{signed:n}=t;t.size&&s(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2;return r<=(1n<<8n*BigInt(i)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function c(e,t={}){let n=e;if(t.size&&(s(n,{size:t.size}),n=(0,a.B)(n)),"0x00"===(0,a.B)(n))return!1;if("0x01"===(0,a.B)(n))return!0;throw new r.H2(n)}function l(e,t={}){return Number(o(e,t))}},79903:(e,t,n)=>{"use strict";var r=n(79138),i=n(3468),a=n(64531),s=n(68165);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return s(r,a,e)}},79921:(e,t,n)=>{"use strict";n.d(t,{walletConnectV2Connector:()=>r.f});var r=n(36703)},80145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimmed=t.defaulted=t.coerce=void 0;const r=n(90172),i=n(92062),a=n(75573);function s(e,t,n){return new r.Struct({...e,coercer:(i,a)=>(0,r.is)(i,t)?e.coercer(n(i,a),a):e.coercer(i,a)})}t.coerce=s,t.defaulted=function(e,t,n={}){return s(e,(0,a.unknown)(),e=>{const r="function"==typeof t?t():t;if(void 0===e)return r;if(!n.strict&&(0,i.isPlainObject)(e)&&(0,i.isPlainObject)(r)){const t={...e};let n=!1;for(const e in r)void 0===t[e]&&(t[e]=r[e],n=!0);if(n)return t}return e})},t.trimmed=function(e){return s(e,(0,a.string)(),e=>e.trim())}},80204:(e,t,n)=>{"use strict";n.d(t,{O:()=>l,_:()=>c});var r=n(86237),i=n(58501),a=n(8775),s=n(74846),o=n(16761);async function c(e,t){return l(e,t)}async function l(e,t){const{block:n,chain:c=e.chain,request:l,type:u="eip1559"}=t||{},d=await(async()=>"function"==typeof c?.fees?.baseFeeMultiplier?c.fees.baseFeeMultiplier({block:n,client:e,request:l}):c?.fees?.baseFeeMultiplier??1.2)();if(d<1)throw new r.sM;const f=10**(d.toString().split(".")[1]?.length??0),p=e=>e*BigInt(Math.ceil(d*f))/BigInt(f),h=n||await(0,i.T)(e,s.g,"getBlock")({});if("function"==typeof c?.fees?.estimateFeesPerGas){const t=await c.fees.estimateFeesPerGas({block:n,client:e,multiply:p,request:l,type:u});if(null!==t)return t}if("eip1559"===u){if("bigint"!=typeof h.baseFeePerGas)throw new r.pw;const t="bigint"==typeof l?.maxPriorityFeePerGas?l.maxPriorityFeePerGas:await(0,a.N)(e,{block:h,chain:c,request:l}),n=p(h.baseFeePerGas);return{maxFeePerGas:l?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:l?.gasPrice??p(await(0,i.T)(e,o.L,"getGasPrice")({}))}}},80339:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(37663),i=n(32634),a=n(76009);const s="/docs/contract/decodeFunctionResult";function o(e){const{abi:t,args:n,functionName:o,data:c}=e;let l=t[0];if(o){const e=(0,a.iY)({abi:t,args:n,name:o});if(!e)throw new r.Iz(o,{docsPath:s});l=e}if("function"!==l.type)throw new r.Iz(void 0,{docsPath:s});if(!l.outputs)throw new r.MR(l.name,{docsPath:s});const u=(0,i.n)(l.outputs,c);return u&&u.length>1?u:u&&1===u.length?u[0]:void 0}},80527:(e,t,n)=>{"use strict";var r=n(1048).Buffer,i=n(63330);function a(e,t){return void 0===t&&(t="utf8"),r.isBuffer(e)?o(e.toString("base64")):o(r.from(e,t).toString("base64"))}function s(e){return e=e.toString(),i.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function o(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var c=a;c.encode=a,c.decode=function(e,t){return void 0===t&&(t="utf8"),r.from(s(e),"base64").toString(t)},c.toBase64=s,c.fromBase64=o,c.toBuffer=function(e){return r.from(s(e),"base64")},t.default=c},80566:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r=function(){function e(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=null!==(t=null==e?void 0:e.maxListeners)&&void 0!==t?t:10}return e.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},e.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},e.prototype.once=function(e,t){var n=this,r=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];n.off(e,r),t.apply(n,i)};return this.on(e,r),this},e.prototype.off=function(e,t){var n,r=(null!==(n=this.callbacks[e])&&void 0!==n?n:[]).filter(function(e){return e!==t});return this.callbacks[e]=r,this},e.prototype.emit=function(e){for(var t,n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(null!==(t=this.callbacks[e])&&void 0!==t?t:[]).forEach(function(e){e.apply(n,r)}),this},e}()},80617:(e,t,n)=>{"use strict";n.d(t,{W:()=>a,x:()=>i});var r=n(32073);const i=[r.bo.CONNECTED,r.bo.AUTHORIZED],a=[r.bo.AUTHORIZING,r.bo.AUTHORIZED,r.bo.CONNECTED]},80665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toWei=t.fromWei=t.numberToString=t.getValueOfUnit=t.unitMap=t.numericToBigInt=void 0;const n=BigInt(0),r=BigInt(-1);function i(e){if("string"==typeof e)return BigInt(e);if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;throw new Error(`Cannot convert ${typeof e} to BigInt`)}t.numericToBigInt=i,t.unitMap={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};const a=Object.fromEntries(Object.entries(t.unitMap).map(([e,t])=>[e,BigInt(t)])),s=Object.fromEntries(Object.entries(t.unitMap).map(([e,t])=>[e,t.length-1||1])),o=/^-?[0-9.]+$/u,c=/^([0-9]*[1-9]|0)(0*)/u,l=/\B(?=(\d{3})+(?!\d))/gu;function u(e){if("string"==typeof e){if(!o.test(e))throw new Error(`while converting number to string, invalid number value '${e}', should be a number matching (^-?[0-9.]+).`);return e}if("number"==typeof e)return String(e);if("bigint"==typeof e)return e.toString();throw new Error(`while converting number to string, invalid number value '${String(e)}' type ${typeof e}.`)}t.getValueOfUnit=function(e="ether"){const n=e.toLowerCase(),r=a[n];if(void 0===r)throw new Error(`The unit provided ${e} doesn't exist, please use the one of the following units ${JSON.stringify(t.unitMap,null,2)}`);return r},t.numberToString=u,t.fromWei=function(e,o,u){let d=i(e);const f=d<n,p=o.toLowerCase(),h=a[p],b=s[p],y=u??{};if(void 0===h)throw new Error(`The unit provided ${o} doesn't exist, please use the one of the following units ${JSON.stringify(t.unitMap,null,2)}`);if(h===n)return f?"-0":"0";f&&(d*=r);let m=(d%h).toString();if(m=m.padStart(b,"0"),!y.pad){const e=m.match(c);m=e?.[1]??"0"}let g=(d/h).toString();y.commify&&(g=g.replace(l,","));let w=`${g}${"0"===m?"":`.${m}`}`;return f&&(w=`-${w}`),w},t.toWei=function(e,i){const o=i.toLowerCase(),c=a[o],l=s[o];if(void 0===c)throw new Error(`The unit provided ${i} doesn't exist, please use the one of the following units ${JSON.stringify(t.unitMap,null,2)}`);if(c===n)return n;if("bigint"==typeof e&&"wei"===o)return e;if("bigint"==typeof e)return e*c;let d=u(e);const f=d.startsWith("-");if(f&&(d=d.substring(1)),"."===d)throw new Error(`While converting number ${e} to wei, invalid value`);const p=d.split(".");if(p.length>2)throw new Error(`While converting number ${e} to wei,  too many decimal points`);let h=p[0],b=p[1];if(h||(h="0"),b||(b="0"),b.length>l)throw new Error(`While converting number ${e} to wei, too many decimal places`);b=b.padEnd(l,"0");let y=BigInt(h)*c+BigInt(b);return f&&(y*=r),y}},80745:e=>{"use strict";e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},80789:(e,t,n)=>{"use strict";const r=n(39907),{ArrayPrototypeSlice:i,Error:a,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:o,ObjectDefineProperties:c,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:d,SymbolHasInstance:f}=n(70273);e.exports=N,N.WritableState=M;const{EventEmitter:p}=n(50046),h=n(40670).Stream,{Buffer:b}=n(1048),y=n(20863),{addAbortSignal:m}=n(52682),{getHighWaterMark:g,getDefaultHighWaterMark:w}=n(97872),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:_,ERR_STREAM_WRITE_AFTER_END:C,ERR_UNKNOWN_ENCODING:k}=n(61150).codes,{errorOrDestroy:I}=y;function P(){}l(N.prototype,h.prototype),l(N,h);const O=d("kOnFinished");function M(e,t,r){"boolean"!=typeof r&&(r=t instanceof n(96631)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?g(this,e,"writableHighWaterMark",r):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,R(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[O]=[]}function R(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function N(e){const t=this instanceof n(96631);if(!t&&!s(N,this))return new N(e);this._writableState=new M(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),h.call(this,e),y.construct(this,()=>{const e=this._writableState;e.writing||z(this,e),q(this,e)})}function L(e,t,n,i){const a=e._writableState;if("function"==typeof n)i=n,n=a.defaultEncoding;else{if(n){if("buffer"!==n&&!b.isEncoding(n))throw new k(n)}else n=a.defaultEncoding;"function"!=typeof i&&(i=P)}if(null===t)throw new _;if(!a.objectMode)if("string"==typeof t)!1!==a.decodeStrings&&(t=b.from(t,n),n="buffer");else if(t instanceof b)n="buffer";else{if(!h._isUint8Array(t))throw new v("chunk",["string","Buffer","Uint8Array"],t);t=h._uint8ArrayToBuffer(t),n="buffer"}let s;return a.ending?s=new C:a.destroyed&&(s=new T("write")),s?(r.nextTick(i,s),I(e,s,!0),s):(a.pendingcb++,function(e,t,n,r,i){const a=t.objectMode?1:n.length;t.length+=a;const s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:i}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&i!==P&&(t.allNoop=!1)):(t.writelen=a,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,a,t,n,i))}function D(e,t,n,r,i,a,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new T("write")):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function B(e,t,n,r){--t.pendingcb,r(n),$(t),I(e,n)}function j(e,t){const n=e._writableState,i=n.sync,a=n.writecb;"function"==typeof a?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(B,e,n,t,a):B(e,n,t,a)):(n.buffered.length>n.bufferedIndex&&z(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===a?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:a,stream:e,state:n},r.nextTick(U,n.afterWriteTickInfo)):F(e,n,1,a))):I(e,new x)}function U({stream:e,state:t,count:n,cb:r}){return t.afterWriteTickInfo=null,F(e,t,n,r)}function F(e,t,n,r){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,r();t.destroyed&&$(t),q(e,t)}function $(e){if(e.writing)return;for(let n=e.bufferedIndex;n<e.buffered.length;++n){var t;const{chunk:r,callback:i}=e.buffered[n],a=e.objectMode?1:r.length;e.length-=a,i(null!==(t=e.errored)&&void 0!==t?t:new T("write"))}const n=e[O].splice(0);for(let t=0;t<n.length;t++){var r;n[t](null!==(r=e.errored)&&void 0!==r?r:new T("end"))}R(e)}function z(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:a}=t,s=n.length-r;if(!s)return;let o=r;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;const r=t.allNoop?P:e=>{for(let t=o;t<n.length;++t)n[t].callback(e)},a=t.allNoop&&0===o?n:i(n,o);a.allBuffers=t.allBuffers,D(e,t,!0,t.length,a,"",r),R(t)}else{do{const{chunk:r,encoding:i,callback:s}=n[o];n[o++]=null,D(e,t,!1,a?1:r.length,r,i,s)}while(o<n.length&&!t.writing);o===n.length?R(t):o>256?(n.splice(0,o),t.bufferedIndex=0):t.bufferedIndex=o}t.bufferProcessing=!1}function H(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function q(e,t,n){H(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function i(i){if(n)I(e,null!=i?i:x());else if(n=!0,t.pendingcb--,i){const n=t[O].splice(0);for(let e=0;e<n.length;e++)n[e](i);I(e,i,t.sync)}else H(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(K,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick((e,t)=>{H(t)?K(e,t):t.pendingcb--},e,t)):H(t)&&(t.pendingcb++,K(e,t))))}function K(e,t){t.pendingcb--,t.finished=!0;const n=t[O].splice(0);for(let e=0;e<n.length;e++)n[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},o(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),o(N,f,{__proto__:null,value:function(e){return!!s(this,e)||this===N&&e&&e._writableState instanceof M}}),N.prototype.pipe=function(){I(this,new S)},N.prototype.write=function(e,t,n){return!0===L(this,e,t,n)},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||z(this,e))},N.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=u(e)),!b.isEncoding(e))throw new k(e);return this._writableState.defaultEncoding=e,this},N.prototype._write=function(e,t,n){if(!this._writev)throw new E("_write()");this._writev([{chunk:e,encoding:t}],n)},N.prototype._writev=null,N.prototype.end=function(e,t,n){const i=this._writableState;let s;if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e){const n=L(this,e,t);n instanceof a&&(s=n)}return i.corked&&(i.corked=1,this.uncork()),s||(i.errored||i.ending?i.finished?s=new A("end"):i.destroyed&&(s=new T("end")):(i.ending=!0,q(this,i,!0),i.ended=!0)),"function"==typeof n&&(s||i.finished?r.nextTick(n,s):i[O].push(n)),this},c(N.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const W=y.destroy;let V;function G(){return void 0===V&&(V={}),V}N.prototype.destroy=function(e,t){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[O].length)&&r.nextTick($,n),W.call(this,e,t),this},N.prototype._undestroy=y.undestroy,N.prototype._destroy=function(e,t){t(e)},N.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},N.fromWeb=function(e,t){return G().newStreamWritableFromWritableStream(e,t)},N.toWeb=function(e){return G().newWritableStreamFromStreamWritable(e)}},81526:(e,t,n)=>{"use strict";n.d(t,{g:()=>u});var r=n(42266),i=n(30666),a=n(62421),s=n(38903),o=n(54280),c=n(19555);function l(e){const{chainId:t,nonce:n,to:r}=e,l=e.contractAddress??e.address,u=(0,c.S)((0,i.aP)(["0x05",(0,o.EQ)([t?(0,s.cK)(t):"0x",l,n?(0,s.cK)(n):"0x"])]));return"bytes"===r?(0,a.aT)(u):u}async function u(e){const{authorization:t,signature:n}=e;return(0,r.x)({hash:l(t),signature:n??t})}},81632:(e,t,n)=>{"use strict";n.d(t,{D:()=>p});var r=n(69740),i=n(98158),a=n(68711);class s extends a.C{constructor({config:e={},state:t={}}){super(),(0,i.A)(this,"defaultConfig",{}),(0,i.A)(this,"defaultState",{}),(0,i.A)(this,"disabled",!1),(0,i.A)(this,"name","BaseController"),(0,i.A)(this,"initialConfig",void 0),(0,i.A)(this,"initialState",void 0),(0,i.A)(this,"internalConfig",this.defaultConfig),(0,i.A)(this,"internalState",this.defaultState),this.initialState=t,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,n=!0){if(n){this.internalConfig=t?e:Object.assign(this.internalConfig,e);for(const e in this.internalConfig)void 0!==this.internalConfig[e]&&(this[e]=this.internalConfig[e])}else for(const t in e)void 0!==this.internalConfig[t]&&(this.internalConfig[t]=e[t],this[t]=e[t])}update(e,t=!1){this.internalState=t?(0,r.A)({},e):(0,r.A)((0,r.A)({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const o=()=>!0,c=["newListener","removeListener"],l=e=>!c.includes(e);var u=n(8017),d=n(89146),f=n(26358);class p extends s{constructor({config:e,state:t}){super({config:e,state:t}),(0,i.A)(this,"_providerEngineProxy",null),(0,i.A)(this,"keyExportFlagSetByCode",!1);const{chain:n}=e;if(!n)throw f.il.invalidProviderConfigError("Please provide chain");if(!n.chainId)throw f.il.invalidProviderConfigError("Please provide chainId inside chain");if(!n.rpcTarget)throw f.il.invalidProviderConfigError("Please provide rpcTarget inside chain");"boolean"==typeof e.keyExportEnabled&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:"boolean"!=typeof e.keyExportEnabled||e.keyExportEnabled},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var t;if(!e||"object"!=typeof e||Array.isArray(e))throw u.r.invalidRequest({message:f.t2.invalidRequestArgs().message,data:(0,r.A)((0,r.A)({},e||{}),{},{cause:f.t2.invalidRequestArgs().message})});const{method:n,params:i}=e;if("string"!=typeof n||0===n.length)throw u.r.invalidRequest({message:f.t2.invalidRequestMethod().message,data:(0,r.A)((0,r.A)({},e||{}),{},{cause:f.t2.invalidRequestMethod().message})});if(void 0!==i&&!Array.isArray(i)&&("object"!=typeof i||null===i))throw u.r.invalidRequest({message:f.t2.invalidRequestParams().message,data:(0,r.A)((0,r.A)({},e||{}),{},{cause:f.t2.invalidRequestParams().message})});return null===(t=this.provider)||void 0===t?void 0:t.request(e)}sendAsync(e,t){return t?this.send(e,t):this.request(e)}send(e,t){this.request(e).then(e=>t(null,{result:e})).catch(e=>t(e,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);const t=t=>{"newListener"!==t&&e.on(t,(...e)=>{if(t===d.$j.CHAIN_CHANGED){const t=e[0];this.update({chainId:t})}this.emit(t,...e)})};this.eventNames().forEach(e=>{t(e)}),this.on("newListener",e=>{this.listenerCount(e)>0||t(e)})}else this._providerEngineProxy=function(e){let t={}.eventFilter||o;if("string"==typeof t&&"skipInternal"===t&&(t=l),"function"!=typeof t)throw new Error("createEventEmitterProxy - Invalid eventFilter");let n=e,r=e=>{if(n===e)return;const r=n;n=e,r.eventNames().filter(t).forEach(t=>{(function(e,t){return void 0!==e.rawListeners?e.rawListeners(t):e.listeners(t)})(r,t).forEach(n=>{e.on(t,n)})}),r.removeAllListeners()};return new Proxy({},{get:(e,t)=>"setTarget"===t?r:n[t],set:(e,t,i)=>"setTarget"===t?(r=i,!0):(n[t]=i,!0),has:(e,t)=>"_"!==t[0]&&t in n})}(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(t=>t.chainId===e)}}},81725:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStruct=void 0;const r=n(87093),i=n(60177);t.ChecksumStruct=(0,r.size)((0,i.base64)((0,r.string)(),{paddingRequired:!0}),44,44)},81788:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>s,E5:()=>d,Rm:()=>l,SJ:()=>c,UW:()=>u,b2:()=>i,oX:()=>o,v2:()=>r});const r=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],a=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],s=[...a,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],o=[...a,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],c=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],l=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],u=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],d=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]},81818:function(e,t,n){"use strict";var r=n(1048).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const l=c(n(82823)),u=c(n(39216)),d=o(n(9822)),f=new("function"!=typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"==typeof e&&(e=r.from(e,"utf8")),u.default.encode(r.from(e))},t.baseDecode=function(e){return r.from(u.default.decode(e))};const p=1024;class h extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=h;class b{constructor(){this.buf=r.alloc(p),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(p)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(r.from(new l.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(r.from(new l.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(r.from(new l.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(r.from(new l.default(e).toArray("le",64)))}writeBuffer(e){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),e,r.alloc(p)]),this.length+=e.length}writeString(e){this.maybeResize();const t=r.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(r.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function y(e,t,n){const r=n.value;n.value=function(...e){try{return r.apply(this,e)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new h("Reached the end of buffer when deserializing")}throw e}}}t.BinaryWriter=b;class m{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new l.default(e,"le")}readU128(){const e=this.readBuffer(16);return new l.default(e,"le")}readU256(){const e=this.readBuffer(32);return new l.default(e,"le")}readU512(){const e=this.readBuffer(64);return new l.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new h(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return f.decode(t)}catch(e){throw new h(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t,n,r,i){try{if("string"==typeof r)i[`write${g(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new h(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new h(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let t=0;t<r[1];t++)w(e,null,n[t],r[0],i)}else i.writeArray(n,n=>{w(e,t,n,r[0],i)});else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),w(e,t,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach((n,a)=>{w(e,t,a,r.key,i),w(e,t,n,r.value,i)});break;default:throw new h(`FieldType ${r} unrecognized`)}else v(e,n,i)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function v(e,t,n){if("function"==typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new h(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map(([r,i])=>{w(e,r,t[r],i,n)});else{if("enum"!==r.kind)throw new h(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const i=t[r.field];for(let a=0;a<r.values.length;++a){const[s,o]=r.values[a];if(s===i){n.writeU8(a),w(e,s,t[s],o,n);break}}}}}function E(e,t,n,r){try{if("string"==typeof n)return r[`read${g(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(E(e,null,n[0],r));return t}return r.readArray(()=>E(e,t,n[0],r))}if("option"===n.kind)return r.readU8()?E(e,t,n.type,r):void 0;if("map"===n.kind){let i=new Map;const a=r.readU32();for(let s=0;s<a;s++){const a=E(e,t,n.key,r),s=E(e,t,n.value,r);i.set(a,s)}return i}return x(e,n,r)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function x(e,t,n){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new h(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,a]of e.get(t).fields)r[i]=E(e,i,a,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new h(`Enum index: ${i} is out of range`);const[a,s]=r.values[i],o=E(e,a,s,n);return new t({[a]:o})}throw new h(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}s([y],m.prototype,"readU8",null),s([y],m.prototype,"readU16",null),s([y],m.prototype,"readU32",null),s([y],m.prototype,"readU64",null),s([y],m.prototype,"readU128",null),s([y],m.prototype,"readU256",null),s([y],m.prototype,"readU512",null),s([y],m.prototype,"readString",null),s([y],m.prototype,"readFixedArray",null),s([y],m.prototype,"readArray",null),t.BinaryReader=m,t.serialize=function(e,t,n=b){const r=new n;return v(e,t,r),r.toArray()},t.deserialize=function(e,t,n,r=m){const i=new r(n),a=x(e,t,i);if(i.offset<n.length)throw new h(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return a},t.deserializeUnchecked=function(e,t,n,r=m){return x(e,t,new r(n))}},81945:(e,t,n)=>{"use strict";function r(e,t){return new Promise(function(n,r){var i=setTimeout(function(){r(Error("Promise timed out"))},t);e.then(function(e){return clearTimeout(i),n(e)}).catch(r)})}function i(e,t,n){var i;return(i=n,new Promise(function(e){return setTimeout(e,i)})).then(function(){return r(function(){try{return Promise.resolve(t(e))}catch(e){return Promise.reject(e)}}(),1e3)}).catch(function(t){null==e||e.log("warn","Callback Error",{error:t}),null==e||e.stats.increment("callback_error")}).then(function(){return e})}n.d(t,{s2:()=>r,w_:()=>i})},82132:(e,t,n)=>{"use strict";const r=n(64784),i=n(83484),a=n(14305),s=n(2018),o=n(34686),c=n(33127);e.exports=(e,t,n,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,l);case"!=":return i(e,n,l);case">":return a(e,n,l);case">=":return s(e,n,l);case"<":return o(e,n,l);case"<=":return c(e,n,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},82823:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t,n){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(8379).Buffer}catch(e){}function o(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function c(e,t,n){var r=o(e,n);return n-1>=t&&(r|=o(e,n-1)<<4),r}function l(e,t,n,i){for(var a=0,s=0,o=Math.min(e.length,n),c=t;c<o;c++){var l=e.charCodeAt(c)-48;a*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&s<i,"Invalid character"),a+=s}return a}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},a.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,s,o=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this._strip()},a.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,a=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=c(e,t,r)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=c(e,t,r)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this._strip()},a.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,s=a%r,o=Math.min(a,a-s)+n,c=0,u=n;u<o;u+=r)c=l(e,u,u+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=l(e,u,e.length,t),u=0;u<s;u++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){u(e,this)},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){a.prototype.inspect=d}else a.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=67108863&s,c=s/67108864|0;n.words[0]=o;for(var l=1;l<r;l++){for(var u=c>>>26,d=67108863&c,f=Math.min(l,t.length-1),p=Math.max(0,l-e.length+1);p<=f;p++){var h=l-p|0;u+=(s=(i=0|e.words[h])*(a=0|t.words[p])+d)/67108864|0,d=67108863&s}n.words[l]=0|d,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n._strip()}a.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<i|a)).toString(16);a=o>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==a||s!==this.length-1?f[6-c.length]+c+n:c+n}for(0!==a&&(n=a.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=p[e],u=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var b=d.modrn(u).toString(e);n=(d=d.idivn(u)).isZero()?b+n:f[l-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},s&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},a.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,a=0;i<this.length;i++){var s=this.words[i]<<a|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===a?(n<e.length&&(e[n++]=s>>24&255),r=0,a=0):(r=s>>>24,a+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,a=0;i<this.length;i++){var s=this.words[i]<<a|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===a?(n>=0&&(e[n--]=s>>24&255),r=0,a=0):(r=s>>>24,a+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 8191&t||(n+=13,t>>>=13),127&t||(n+=7,t>>>=7),15&t||(n+=4,t>>>=4),3&t||(n+=2,t>>>=2),1&t||n++,n},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},a.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var a=0,s=0;s<r.length;s++)a=(t=(0|n.words[s])-(0|r.words[s])+a)>>26,this.words[s]=67108863&t;for(;0!==a&&s<n.length;s++)a=(t=(0|n.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,n){var r,i,a,s=e.words,o=t.words,c=n.words,l=0,u=0|s[0],d=8191&u,f=u>>>13,p=0|s[1],h=8191&p,b=p>>>13,y=0|s[2],m=8191&y,g=y>>>13,w=0|s[3],v=8191&w,E=w>>>13,x=0|s[4],S=8191&x,T=x>>>13,A=0|s[5],_=8191&A,C=A>>>13,k=0|s[6],I=8191&k,P=k>>>13,O=0|s[7],M=8191&O,R=O>>>13,N=0|s[8],L=8191&N,D=N>>>13,B=0|s[9],j=8191&B,U=B>>>13,F=0|o[0],$=8191&F,z=F>>>13,H=0|o[1],q=8191&H,K=H>>>13,W=0|o[2],V=8191&W,G=W>>>13,Y=0|o[3],J=8191&Y,Z=Y>>>13,X=0|o[4],Q=8191&X,ee=X>>>13,te=0|o[5],ne=8191&te,re=te>>>13,ie=0|o[6],ae=8191&ie,se=ie>>>13,oe=0|o[7],ce=8191&oe,le=oe>>>13,ue=0|o[8],de=8191&ue,fe=ue>>>13,pe=0|o[9],he=8191&pe,be=pe>>>13;n.negative=e.negative^t.negative,n.length=19;var ye=(l+(r=Math.imul(d,$))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(f,$)|0))<<13)|0;l=((a=Math.imul(f,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(h,$),i=(i=Math.imul(h,z))+Math.imul(b,$)|0,a=Math.imul(b,z);var me=(l+(r=r+Math.imul(d,q)|0)|0)+((8191&(i=(i=i+Math.imul(d,K)|0)+Math.imul(f,q)|0))<<13)|0;l=((a=a+Math.imul(f,K)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,$),i=(i=Math.imul(m,z))+Math.imul(g,$)|0,a=Math.imul(g,z),r=r+Math.imul(h,q)|0,i=(i=i+Math.imul(h,K)|0)+Math.imul(b,q)|0,a=a+Math.imul(b,K)|0;var ge=(l+(r=r+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(f,V)|0))<<13)|0;l=((a=a+Math.imul(f,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(v,$),i=(i=Math.imul(v,z))+Math.imul(E,$)|0,a=Math.imul(E,z),r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(g,q)|0,a=a+Math.imul(g,K)|0,r=r+Math.imul(h,V)|0,i=(i=i+Math.imul(h,G)|0)+Math.imul(b,V)|0,a=a+Math.imul(b,G)|0;var we=(l+(r=r+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(f,J)|0))<<13)|0;l=((a=a+Math.imul(f,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(S,$),i=(i=Math.imul(S,z))+Math.imul(T,$)|0,a=Math.imul(T,z),r=r+Math.imul(v,q)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(E,q)|0,a=a+Math.imul(E,K)|0,r=r+Math.imul(m,V)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(g,V)|0,a=a+Math.imul(g,G)|0,r=r+Math.imul(h,J)|0,i=(i=i+Math.imul(h,Z)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,Z)|0;var ve=(l+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((a=a+Math.imul(f,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,$),i=(i=Math.imul(_,z))+Math.imul(C,$)|0,a=Math.imul(C,z),r=r+Math.imul(S,q)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(T,q)|0,a=a+Math.imul(T,K)|0,r=r+Math.imul(v,V)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(E,V)|0,a=a+Math.imul(E,G)|0,r=r+Math.imul(m,J)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(g,J)|0,a=a+Math.imul(g,Z)|0,r=r+Math.imul(h,Q)|0,i=(i=i+Math.imul(h,ee)|0)+Math.imul(b,Q)|0,a=a+Math.imul(b,ee)|0;var Ee=(l+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(f,ne)|0))<<13)|0;l=((a=a+Math.imul(f,re)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(I,$),i=(i=Math.imul(I,z))+Math.imul(P,$)|0,a=Math.imul(P,z),r=r+Math.imul(_,q)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(C,q)|0,a=a+Math.imul(C,K)|0,r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(T,V)|0,a=a+Math.imul(T,G)|0,r=r+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(E,J)|0,a=a+Math.imul(E,Z)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(g,Q)|0,a=a+Math.imul(g,ee)|0,r=r+Math.imul(h,ne)|0,i=(i=i+Math.imul(h,re)|0)+Math.imul(b,ne)|0,a=a+Math.imul(b,re)|0;var xe=(l+(r=r+Math.imul(d,ae)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(f,ae)|0))<<13)|0;l=((a=a+Math.imul(f,se)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(M,$),i=(i=Math.imul(M,z))+Math.imul(R,$)|0,a=Math.imul(R,z),r=r+Math.imul(I,q)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(P,q)|0,a=a+Math.imul(P,K)|0,r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(C,V)|0,a=a+Math.imul(C,G)|0,r=r+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(T,J)|0,a=a+Math.imul(T,Z)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(E,Q)|0,a=a+Math.imul(E,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(g,ne)|0,a=a+Math.imul(g,re)|0,r=r+Math.imul(h,ae)|0,i=(i=i+Math.imul(h,se)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,se)|0;var Se=(l+(r=r+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(f,ce)|0))<<13)|0;l=((a=a+Math.imul(f,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(L,$),i=(i=Math.imul(L,z))+Math.imul(D,$)|0,a=Math.imul(D,z),r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(R,q)|0,a=a+Math.imul(R,K)|0,r=r+Math.imul(I,V)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(P,V)|0,a=a+Math.imul(P,G)|0,r=r+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(C,J)|0,a=a+Math.imul(C,Z)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(T,Q)|0,a=a+Math.imul(T,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(E,ne)|0,a=a+Math.imul(E,re)|0,r=r+Math.imul(m,ae)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,se)|0,r=r+Math.imul(h,ce)|0,i=(i=i+Math.imul(h,le)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,le)|0;var Te=(l+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;l=((a=a+Math.imul(f,fe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,z))+Math.imul(U,$)|0,a=Math.imul(U,z),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(D,q)|0,a=a+Math.imul(D,K)|0,r=r+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(R,V)|0,a=a+Math.imul(R,G)|0,r=r+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(C,Q)|0,a=a+Math.imul(C,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(T,ne)|0,a=a+Math.imul(T,re)|0,r=r+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,se)|0,r=r+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,le)|0)+Math.imul(g,ce)|0,a=a+Math.imul(g,le)|0,r=r+Math.imul(h,de)|0,i=(i=i+Math.imul(h,fe)|0)+Math.imul(b,de)|0,a=a+Math.imul(b,fe)|0;var Ae=(l+(r=r+Math.imul(d,he)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(f,he)|0))<<13)|0;l=((a=a+Math.imul(f,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(j,q),i=(i=Math.imul(j,K))+Math.imul(U,q)|0,a=Math.imul(U,K),r=r+Math.imul(L,V)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(D,V)|0,a=a+Math.imul(D,G)|0,r=r+Math.imul(M,J)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(R,J)|0,a=a+Math.imul(R,Z)|0,r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(P,Q)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(C,ne)|0,a=a+Math.imul(C,re)|0,r=r+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(T,ae)|0,a=a+Math.imul(T,se)|0,r=r+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(E,ce)|0,a=a+Math.imul(E,le)|0,r=r+Math.imul(m,de)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(g,de)|0,a=a+Math.imul(g,fe)|0;var _e=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,be)|0)+Math.imul(b,he)|0))<<13)|0;l=((a=a+Math.imul(b,be)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(j,V),i=(i=Math.imul(j,G))+Math.imul(U,V)|0,a=Math.imul(U,G),r=r+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(D,J)|0,a=a+Math.imul(D,Z)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(P,ne)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(_,ae)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,se)|0,r=r+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(T,ce)|0,a=a+Math.imul(T,le)|0,r=r+Math.imul(v,de)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(E,de)|0,a=a+Math.imul(E,fe)|0;var Ce=(l+(r=r+Math.imul(m,he)|0)|0)+((8191&(i=(i=i+Math.imul(m,be)|0)+Math.imul(g,he)|0))<<13)|0;l=((a=a+Math.imul(g,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(j,J),i=(i=Math.imul(j,Z))+Math.imul(U,J)|0,a=Math.imul(U,Z),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(D,Q)|0,a=a+Math.imul(D,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(R,ne)|0,a=a+Math.imul(R,re)|0,r=r+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,se)|0,r=r+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(C,ce)|0,a=a+Math.imul(C,le)|0,r=r+Math.imul(S,de)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(T,de)|0,a=a+Math.imul(T,fe)|0;var ke=(l+(r=r+Math.imul(v,he)|0)|0)+((8191&(i=(i=i+Math.imul(v,be)|0)+Math.imul(E,he)|0))<<13)|0;l=((a=a+Math.imul(E,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(U,Q)|0,a=Math.imul(U,ee),r=r+Math.imul(L,ne)|0,i=(i=i+Math.imul(L,re)|0)+Math.imul(D,ne)|0,a=a+Math.imul(D,re)|0,r=r+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,se)|0,r=r+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,le)|0,r=r+Math.imul(_,de)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(C,de)|0,a=a+Math.imul(C,fe)|0;var Ie=(l+(r=r+Math.imul(S,he)|0)|0)+((8191&(i=(i=i+Math.imul(S,be)|0)+Math.imul(T,he)|0))<<13)|0;l=((a=a+Math.imul(T,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(j,ne),i=(i=Math.imul(j,re))+Math.imul(U,ne)|0,a=Math.imul(U,re),r=r+Math.imul(L,ae)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(D,ae)|0,a=a+Math.imul(D,se)|0,r=r+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(R,ce)|0,a=a+Math.imul(R,le)|0,r=r+Math.imul(I,de)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(P,de)|0,a=a+Math.imul(P,fe)|0;var Pe=(l+(r=r+Math.imul(_,he)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(C,he)|0))<<13)|0;l=((a=a+Math.imul(C,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(j,ae),i=(i=Math.imul(j,se))+Math.imul(U,ae)|0,a=Math.imul(U,se),r=r+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(D,ce)|0,a=a+Math.imul(D,le)|0,r=r+Math.imul(M,de)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(R,de)|0,a=a+Math.imul(R,fe)|0;var Oe=(l+(r=r+Math.imul(I,he)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(P,he)|0))<<13)|0;l=((a=a+Math.imul(P,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(j,ce),i=(i=Math.imul(j,le))+Math.imul(U,ce)|0,a=Math.imul(U,le),r=r+Math.imul(L,de)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(D,de)|0,a=a+Math.imul(D,fe)|0;var Me=(l+(r=r+Math.imul(M,he)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(R,he)|0))<<13)|0;l=((a=a+Math.imul(R,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(j,de),i=(i=Math.imul(j,fe))+Math.imul(U,de)|0,a=Math.imul(U,fe);var Re=(l+(r=r+Math.imul(L,he)|0)|0)+((8191&(i=(i=i+Math.imul(L,be)|0)+Math.imul(D,he)|0))<<13)|0;l=((a=a+Math.imul(D,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Ne=(l+(r=Math.imul(j,he))|0)+((8191&(i=(i=Math.imul(j,be))+Math.imul(U,he)|0))<<13)|0;return l=((a=Math.imul(U,be))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=ye,c[1]=me,c[2]=ge,c[3]=we,c[4]=ve,c[5]=Ee,c[6]=xe,c[7]=Se,c[8]=Te,c[9]=Ae,c[10]=_e,c[11]=Ce,c[12]=ke,c[13]=Ie,c[14]=Pe,c[15]=Oe,c[16]=Me,c[17]=Re,c[18]=Ne,0!==l&&(c[19]=l,n.length++),n};function m(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var s=i;i=0;for(var o=67108863&r,c=Math.min(a,t.length-1),l=Math.max(0,a-e.length+1);l<=c;l++){var u=a-l,d=(0|e.words[u])*(0|t.words[l]),f=67108863&d;o=67108863&(f=f+o|0),i+=(s=(s=s+(d/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[a]=o,r=s,s=i}return 0!==r?n.words[a]=r:n.length--,n._strip()}function g(e,t,n){return m(e,t,n)}function w(e,t){this.x=e,this.y=t}Math.imul||(y=b),a.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):n<63?b(this,e,t):n<1024?m(this,e,t):g(this,e,t)},w.prototype.makeRBT=function(e){for(var t=new Array(e),n=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},w.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},w.prototype.permute=function(e,t,n,r,i,a){for(var s=0;s<a;s++)r[s]=t[e[s]],i[s]=n[e[s]]},w.prototype.transform=function(e,t,n,r,i,a){this.permute(a,e,t,n,r,i);for(var s=1;s<i;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),l=Math.sin(2*Math.PI/o),u=0;u<i;u+=o)for(var d=c,f=l,p=0;p<s;p++){var h=n[u+p],b=r[u+p],y=n[u+p+s],m=r[u+p+s],g=d*y-f*m;m=d*m+f*y,y=g,n[u+p]=h+y,r[u+p]=b+m,n[u+p+s]=h-y,r[u+p+s]=b-m,p!==o&&(g=c*d-l*f,f=c*f+l*d,d=g)}},w.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},w.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},w.prototype.convert13b=function(e,t,n,i){for(var a=0,s=0;s<t;s++)a+=0|e[s],n[2*s]=8191&a,a>>>=13,n[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===a),r(!(-8192&a))},w.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},w.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),a=this.stub(r),s=new Array(r),o=new Array(r),c=new Array(r),l=new Array(r),u=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,s,r),this.convert13b(t.words,t.length,l,r),this.transform(s,a,o,c,r,i),this.transform(l,a,u,d,r,i);for(var p=0;p<r;p++){var h=o[p]*u[p]-c[p]*d[p];c[p]=o[p]*d[p]+c[p]*u[p],o[p]=h}return this.conjugate(o,c,r),this.transform(o,c,f,a,r,i),this.conjugate(f,a,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),g(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,s=(67108863&a)+(67108863&n);n>>=26,n+=a/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new a(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<n;this.words[t]=c|s,s=o>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=n;if(i-=s,i=Math.max(0,i),c){for(var l=0;l<s;l++)c.words[l]=this.words[l];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var d=0|this.words[l];this.words[l]=u<<26-a|d>>>a,u=d&o}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,n){var i,a,s=e.length+n;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+o;var c=(0|e.words[i])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)o=(a=(0|this.words[i+n])+o)>>26,this.words[i+n]=67108863&a;if(0===o)return this._strip();for(r(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var o,c=r.length-i.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var l=0;l<o.length;l++)o.words[l]=0}var u=r.clone()._ishlnsubmul(i,1,c);0===u.negative&&(r=u,o&&(o.words[c]=1));for(var d=c-1;d>=0;d--){var f=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);o&&(o.words[d]=f)}return o&&o._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(n*i+(0|this.words[a]))%e;return t?-i:i},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*n;this.words[i]=a/e|0,n=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),s=new a(0),o=new a(0),c=new a(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),d=t.clone();!t.isZero();){for(var f=0,p=1;0===(t.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(u),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var h=0,b=1;0===(n.words[0]&b)&&h<26;++h,b<<=1);if(h>0)for(n.iushrn(h);h-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(u),c.isub(d)),o.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(o),s.isub(c)):(n.isub(t),o.isub(i),c.isub(s))}return{a:o,b:c,gcd:n.iushln(l)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new a(1),o=new a(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,f=1;0===(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(o)):(n.isub(t),o.isub(s))}return(i=0===t.cmpn(1)?s:o).cmpn(0)<0&&i.iadd(e),i},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return!(1&this.words[0])},a.prototype.isOdd=function(){return!(1&~this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,s=n;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function T(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(x,E),x.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|a>>>22,a=s}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},x.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(S,E),i(T,E),i(A,E),A.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new x;else if("p224"===e)t=new S;else if("p192"===e)t=new T;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return v[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},_.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new a(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var o=new a(1).toRed(this),c=o.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var d=this.pow(u,i),f=this.pow(e,i.addn(1).iushrn(1)),p=this.pow(e,i),h=s;0!==p.cmp(o);){for(var b=p,y=0;0!==b.cmp(o);y++)b=b.redSqr();r(y<h);var m=this.pow(d,new a(1).iushln(h-y-1));f=f.redMul(m),d=m.redSqr(),p=p.redMul(d),h=y}return f},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new a(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],u=c-1;u>=0;u--){var d=l>>u&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4===++o||0===r&&0===u)&&(i=this.mul(i,n[s]),o=0,s=0)):o=0}c=26}return i},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new C(e)},i(C,_),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},83279:(e,t,n)=>{"use strict";n.d(t,{BiconomySmartAccount:()=>r.v,KernelSmartAccount:()=>i.a,MetamaskSmartAccount:()=>a.e,NexusSmartAccount:()=>s.G,SafeSmartAccount:()=>o.c,TrustSmartAccount:()=>c.J});var r=n(20328),i=n(53453),a=n(38400),s=n(28470),o=n(7645),c=n(90097)},83435:(e,t,n)=>{"use strict";function r(e,t,n){t.split&&(t=t.split("."));for(var r,i,a=0,s=t.length,o=e;a<s&&"__proto__"!=(i=""+t[a++])&&"constructor"!==i&&"prototype"!==i;)o=o[i]=a===s?n:typeof(r=o[i])==typeof t?r:0*t[a]!=0||~(""+t[a]).indexOf(".")?{}:[]}n.d(t,{J:()=>r})},83484:(e,t,n)=>{"use strict";const r=n(39435);e.exports=(e,t,n)=>0!==r(e,t,n)},83986:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},84599:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(39897),i=n(88612);function a(e,t="wei"){return(0,i.J)(e,r.eL[t])}},84742:(e,t,n)=>{"use strict";var r=n(99499),i=n(89042),a=n(7784);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=s,s.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},s.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,i.encode(s,t)}},84807:(e,t,n)=>{"use strict";var r=n(99499),i=n(86443),a=n(41874),s=a.assert,o=a.parseBytes,c=n(54672),l=n(18401);function u(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=u,u.prototype.sign=function(e,t){e=o(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),a=this.encodePoint(i),s=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=r.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:a})},u.prototype.verify=function(e,t,n){if(e=o(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(a)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=!!(128&e[t]),i=a.intFromLE(n);return this.curve.pointFromY(i,r)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return a.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},84834:(e,t)=>{"use strict";var n=/\d{10}/;t.is=function(e){return n.test(e)},t.parse=function(e){var t=1e3*parseInt(e,10);return new Date(t)}},85127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBigInt=t.hexToNumber=t.bigIntToHex=t.numberToHex=void 0;const r=n(15482),i=n(76179);t.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16))),t.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16))),t.hexToNumber=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},t.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))},85174:(e,t,n)=>{"use strict";var r=n(82823),i=n(41874),a=i.getNAF,s=i.getJSF,o=i.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var n=e._getDoubles(),r=a(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;var s,c,l=[];for(s=0;s<r.length;s+=n.step){c=0;for(var u=s+n.step-1;u>=s;u--)c=(c<<1)+r[u];l.push(c)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),p=i;p>0;p--){for(s=0;s<l.length;s++)(c=l[s])===p?f=f.mixedAdd(n.points[s]):c===-p&&(f=f.mixedAdd(n.points[s].neg()));d=d.add(f)}return d.toP()},c.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,s=a(t,n,this._bitLength),c=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var u=0;l>=0&&0===s[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var d=s[l];o(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,n,r,i){var o,c,l,u=this._wnafT1,d=this._wnafT2,f=this._wnafT3,p=0;for(o=0;o<r;o++){var h=(l=t[o])._getNAFPoints(e);u[o]=h.wnd,d[o]=h.points}for(o=r-1;o>=1;o-=2){var b=o-1,y=o;if(1===u[b]&&1===u[y]){var m=[t[b],null,null,t[y]];0===t[b].y.cmp(t[y].y)?(m[1]=t[b].add(t[y]),m[2]=t[b].toJ().mixedAdd(t[y].neg())):0===t[b].y.cmp(t[y].y.redNeg())?(m[1]=t[b].toJ().mixedAdd(t[y]),m[2]=t[b].add(t[y].neg())):(m[1]=t[b].toJ().mixedAdd(t[y]),m[2]=t[b].toJ().mixedAdd(t[y].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],w=s(n[b],n[y]);for(p=Math.max(w[0].length,p),f[b]=new Array(p),f[y]=new Array(p),c=0;c<p;c++){var v=0|w[0][c],E=0|w[1][c];f[b][c]=g[3*(v+1)+(E+1)],f[y][c]=0,d[b]=m}}else f[b]=a(n[b],u[b],this._bitLength),f[y]=a(n[y],u[y],this._bitLength),p=Math.max(f[b].length,p),p=Math.max(f[y].length,p)}var x=this.jpoint(null,null,null),S=this._wnafT4;for(o=p;o>=0;o--){for(var T=0;o>=0;){var A=!0;for(c=0;c<r;c++)S[c]=0|f[c][o],0!==S[c]&&(A=!1);if(!A)break;T++,o--}if(o>=0&&T++,x=x.dblp(T),o<0)break;for(c=0;c<r;c++){var _=S[c];0!==_&&(_>0?l=d[c][_-1>>1]:_<0&&(l=d[c][-_-1>>1].neg()),x="affine"===l.type?x.mixedAdd(l):x.add(l))}}for(o=0;o<r;o++)d[o]=null;return i?x:x.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?o(e[e.length-1]%2==0):7===e[0]&&o(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)r=r.dbl();n.push(r)}return{step:e,points:n}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},85210:(e,t,n)=>{"use strict";const r=n(91715);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},85608:(e,t,n)=>{"use strict";n.d(t,{C6:()=>i,Cl:()=>a,Tt:()=>s,YH:()=>c,fX:()=>l,sH:()=>o});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}c((r=r.apply(e,t||[])).next())})}function c(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},85616:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=r(n(35615)),a=n(42265),s=n(65543),o=r(n(86362)),c=r(n(48578));function l(e,t){a.Facade.call(this,e,t)}t.Track=l,i.default(l,a.Facade);var u=l.prototype;u.action=function(){return"track"},u.type=u.action,u.event=a.Facade.field("event"),u.value=a.Facade.proxy("properties.value"),u.category=a.Facade.proxy("properties.category"),u.id=a.Facade.proxy("properties.id"),u.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},u.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},u.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},u.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},u.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},u.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},u.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},u.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},u.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},u.sku=a.Facade.proxy("properties.sku"),u.tax=a.Facade.proxy("properties.tax"),u.name=a.Facade.proxy("properties.name"),u.price=a.Facade.proxy("properties.price"),u.total=a.Facade.proxy("properties.total"),u.repeat=a.Facade.proxy("properties.repeat"),u.coupon=a.Facade.proxy("properties.coupon"),u.shipping=a.Facade.proxy("properties.shipping"),u.discount=a.Facade.proxy("properties.discount"),u.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},u.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},u.description=a.Facade.proxy("properties.description"),u.plan=a.Facade.proxy("properties.plan"),u.subtotal=function(){var e=c.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var n=this.tax();n&&(t-=n),(n=this.shipping())&&(t-=n),(n=this.discount())&&(t+=n)}return t},u.products=function(){var e=this.properties(),t=c.default(e,"products");return Array.isArray(t)?t.filter(function(e){return null!==e}):[]},u.quantity=function(){return(this.obj.properties||{}).quantity||1},u.currency=function(){return(this.obj.properties||{}).currency||"USD"},u.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},u.query=a.Facade.proxy("options.query"),u.properties=function(e){var t=this.field("properties")||{};for(var n in e=e||{})if(Object.prototype.hasOwnProperty.call(e,n)){var r=null==this[n]?this.proxy("properties."+n):this[n]();if(null==r)continue;t[e[n]]=r,delete t[n]}return t},u.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},u.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();return o.default(t)?t:void 0},u.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event();return!e&&t&&t.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(e=this.proxy("properties.total")),function(e){if(e){if("number"==typeof e)return e;if("string"==typeof e)return e=e.replace(/\$/g,""),e=parseFloat(e),isNaN(e)?void 0:e}}(e)},u.cents=function(){var e=this.revenue();return"number"!=typeof e?this.value()||0:100*e},u.identify=function(){var e=this.json();return e.traits=this.traits(),new s.Identify(e,this.opts)}},85651:(e,t,n)=>{"use strict";n.d(t,{Ah:()=>s,R2:()=>i,bZ:()=>a,oH:()=>r});const r={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},i={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},a={INTERNAL:"internal",NETWORK:"network"},s={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"}},85704:(e,t,n)=>{"use strict";n.d(t,{H2:()=>s,Ty:()=>i,u:()=>o,xO:()=>a});var r=n(14323);class i extends r.C{constructor({max:e,min:t,signed:n,size:r,value:i}){super(`Number "${i}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class a extends r.C{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class s extends r.C{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}r.C;class o extends r.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}},85723:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var r=n(34820),i=n(94102),a=n(93606),s=n(58501),o=n(50327),c=n(62408);async function l(e,t){const{account:n=e.account,chainId:l,nonce:u}=t;if(!n)throw new i.T({docsPath:"/docs/eip7702/prepareAuthorization"});const d=(0,r.J)(n),f=(()=>{if(t.executor)return"self"===t.executor?t.executor:(0,r.J)(t.executor)})(),p={address:t.contractAddress??t.address,chainId:l,nonce:u};return void 0===p.chainId&&(p.chainId=e.chain?.id??await(0,s.T)(e,o.T,"getChainId")({})),void 0===p.nonce&&(p.nonce=await(0,s.T)(e,c.y,"getTransactionCount")({address:d.address,blockTag:"pending"}),("self"===f||f?.address&&(0,a.h)(f.address,d.address))&&(p.nonce+=1)),p}},85865:e=>{"use strict";e.exports=Math.pow},86237:(e,t,n)=>{"use strict";n.d(t,{RR:()=>o,pw:()=>s,sM:()=>a});var r=n(75255),i=n(14323);class a extends i.C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class s extends i.C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class o extends i.C{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,r.Q)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},86362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/.+\@.+\..+/;t.default=function(e){return n.test(e)}},86443:(e,t,n)=>{"use strict";var r,i=t,a=n(99499),s=n(7131),o=n(41874).assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(83986)}catch(e){r=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},86821:(e,t,n)=>{const r=n(39907),i=n(1048),{isReadable:a,isWritable:s,isIterable:o,isNodeStream:c,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:d,isReadableStream:f,isWritableStream:p}=n(38104),h=n(92549),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:m}}=n(61150),{destroyer:g}=n(20863),w=n(96631),v=n(59333),E=n(80789),{createDeferredPromise:x}=n(48449),S=n(17533),T=globalThis.Blob||i.Blob,A=void 0!==T?function(e){return e instanceof T}:function(e){return!1},_=globalThis.AbortController||n(67083).AbortController,{FunctionPrototypeCall:C}=n(70273);class k extends w{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function I(e){const t=e.readable&&"function"!=typeof e.readable.read?v.wrap(e.readable):e.readable,n=e.writable;let r,i,o,c,l,u=!!a(t),d=!!s(n);function f(e){const t=c;c=null,t?t(e):e&&l.destroy(e)}return l=new k({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:u,writable:d}),d&&(h(n,e=>{d=!1,e&&g(t,e),f(e)}),l._write=function(e,t,i){n.write(e,t)?i():r=i},l._final=function(e){n.end(),i=e},n.on("drain",function(){if(r){const e=r;r=null,e()}}),n.on("finish",function(){if(i){const e=i;i=null,e()}})),u&&(h(t,e=>{u=!1,e&&g(t,e),f(e)}),t.on("readable",function(){if(o){const e=o;o=null,e()}}),t.on("end",function(){l.push(null)}),l._read=function(){for(;;){const e=t.read();if(null===e)return void(o=l._read);if(!l.push(e))return}}),l._destroy=function(e,a){e||null===c||(e=new b),o=null,r=null,i=null,null===c?a(e):(c=a,g(n,e),g(t,e))},l}e.exports=function e(t,n){if(d(t))return t;if(l(t))return I({readable:t});if(u(t))return I({writable:t});if(c(t))return I({writable:!1,readable:!1});if(f(t))return I({readable:v.fromWeb(t)});if(p(t))return I({writable:E.fromWeb(t)});if("function"==typeof t){const{value:e,write:i,final:a,destroy:s}=function(e){let{promise:t,resolve:n}=x();const i=new _,a=i.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:s,cb:o}=await e;if(r.nextTick(o),s)return;if(a.aborted)throw new b(void 0,{cause:a.reason});({promise:t,resolve:n}=x()),yield i}}(),{signal:a}),write(e,t,r){const i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(o(e))return S(k,e,{objectMode:!0,write:i,final:a,destroy:s});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const n=C(c,e,e=>{if(null!=e)throw new m("nully","body",e)},e=>{g(t,e)});return t=new k({objectMode:!0,readable:!1,write:i,final(e){a(async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}})},destroy:s})}throw new m("Iterable, AsyncIterable or AsyncFunction",n,e)}if(A(t))return e(t.arrayBuffer());if(o(t))return S(k,t,{objectMode:!0,writable:!1});if(f(null==t?void 0:t.readable)&&p(null==t?void 0:t.writable))return k.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return I({readable:null!=t&&t.readable?l(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const i=null==t?void 0:t.then;if("function"==typeof i){let e;return C(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{g(e,t)}),e=new k({objectMode:!0,writable:!1,read(){}})}throw new y(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},86966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bool=t.getBooleanValue=void 0;const r=n(87093),i=n(76728),a=n(19520),s=n(20367),o=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),e=>"true"===e);t.getBooleanValue=e=>{try{return(0,r.create)(e,o)?BigInt(1):BigInt(0)}catch{throw new a.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}},t.bool={isDynamic:!1,isType:e=>"bool"===e,getByteLength:()=>32,encode({buffer:e,value:n,packed:r,tight:a}){const o=(0,t.getBooleanValue)(n);return r?(0,i.concatBytes)([e,(0,i.bigIntToBytes)(o)]):s.number.encode({type:"uint256",buffer:e,value:o,packed:r,tight:a})},decode:e=>s.number.decode({...e,type:"uint256"})===BigInt(1)}},86974:(e,t,n)=>{"use strict";var r=n(39907),i=n(97967),a=n(36422),s=n(43144);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function u(e){if(c(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),E=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case g:return"Profiler";case m:return"StrictMode";case S:return"Suspense";case T:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case b:return"Portal";case E:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return M(e(t))}catch(e){}}return null}var R=Array.isArray,N=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},B=[],j=-1;function U(e){return{current:e}}function F(e){0>j||(e.current=B[j],B[j]=null,j--)}function $(e,t){j++,B[j]=e.current,e.current=t}var z=U(null),H=U(null),q=U(null),K=U(null);function W(e,t){switch($(q,t),$(H,e),$(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(z),$(z,e)}function V(){F(z),F(H),F(q)}function G(e){null!==e.memoizedState&&$(K,e);var t=z.current,n=ad(t,e.type);t!==n&&($(H,e),$(z,n))}function Y(e){H.current===e&&(F(z),F(H)),K.current===e&&(F(K),Gd._currentValue=D)}var J=Object.prototype.hasOwnProperty,Z=i.unstable_scheduleCallback,X=i.unstable_cancelCallback,Q=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,re=i.unstable_ImmediatePriority,ie=i.unstable_UserBlockingPriority,ae=i.unstable_NormalPriority,se=i.unstable_LowPriority,oe=i.unstable_IdlePriority,ce=i.log,le=i.unstable_setDisableYieldValue,ue=null,de=null;function fe(e){if("function"==typeof ce&&le(e),de&&"function"==typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(e){}}var pe=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(he(e)/be|0)|0},he=Math.log,be=Math.LN2,ye=256,me=4194304;function ge(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=ge(r):0!==(s&=o)?i=ge(s):n||0!==(n=o&~e)&&(i=ge(n)):0!==(o=r&~a)?i=ge(o):0!==s?i=ge(s):n||0!==(n=r&~e)&&(i=ge(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function Se(){var e=me;return!(62914560&(me<<=1))&&(me=4194304),e}function Te(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function ke(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Pe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:cf(e.type)}var Oe=Math.random().toString(36).slice(2),Me="__reactFiber$"+Oe,Re="__reactProps$"+Oe,Ne="__reactContainer$"+Oe,Le="__reactEvents$"+Oe,De="__reactListeners$"+Oe,Be="__reactHandles$"+Oe,je="__reactResources$"+Oe,Ue="__reactMarker$"+Oe;function Fe(e){delete e[Me],delete e[Re],delete e[Le],delete e[De],delete e[Be]}function $e(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ne]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Me])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function ze(e){if(e=e[Me]||e[Ne]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function qe(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Ue]=!0}var We=new Set,Ve={};function Ge(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ve[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Je,Ze,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qe={},et={};function tt(e,t,n){if(i=t,J.call(et,i)||!J.call(Qe,i)&&(Xe.test(i)?et[i]=!0:(Qe[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Je)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Ze=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Ze}var at=!1;function st(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var c=s.split("\n"),l=o.split("\n");for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||c[r]!==l[i]){var u="\n"+c[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function ct(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function bt(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?gt(e,s,lt(t)):null!=n?gt(e,s,lt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+lt(o):e.removeAttribute("name")}function mt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+lt(n):"",t=null!=t?""+lt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function gt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+lt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(R(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=lt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return kt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Rt=null;function Nt(e){var t=ze(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Re]||null;if(!i)throw Error(o(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Dt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Mt||null!==Rt)&&($l(),Mt&&(t=Mt,e=Rt,Rt=Mt=null,Nt(t),e)))for(t=0;t<e.length;t++)Nt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var jt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ut=!1;if(jt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(e){Ut=!1}var $t=null,zt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=zt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Vt(){return!1}function Gt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:Vt,this.isPropagationStopped=Vt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Yt,Jt,Zt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qt=Gt(Xt),en=f({},Xt,{view:0,detail:0}),tn=Gt(en),nn=f({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Yt=e.screenX-Zt.screenX,Jt=e.screenY-Zt.screenY):Jt=Yt=0,Zt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),rn=Gt(nn),an=Gt(f({},nn,{dataTransfer:0})),sn=Gt(f({},en,{relatedTarget:0})),on=Gt(f({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Gt(f({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Gt(f({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function hn(){return pn}var bn=Gt(f({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Gt(f({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=Gt(f({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),gn=Gt(f({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Gt(f({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Gt(f({},Xt,{newState:0,oldState:0})),En=[9,13,27,32],xn=jt&&"CompositionEvent"in window,Sn=null;jt&&"documentMode"in document&&(Sn=document.documentMode);var Tn=jt&&"TextEvent"in window&&!Sn,An=jt&&(!xn||Sn&&8<Sn&&11>=Sn),_n=String.fromCharCode(32),Cn=!1;function kn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1,On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Rn(e,t,n,r){Mt?Rt?Rt.push(r):Rt=[r]:Mt=r,0<(t=qu(t,"onChange")).length&&(n=new Qt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nn=null,Ln=null;function Dn(e){Du(e,0)}function Bn(e){if(ft(He(e)))return e}function jn(e,t){if("change"===e)return t}var Un=!1;if(jt){var Fn;if(jt){var $n="oninput"in document;if(!$n){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),$n="function"==typeof zn.oninput}Fn=$n}else Fn=!1;Un=Fn&&(!document.documentMode||9<document.documentMode)}function Hn(){Nn&&(Nn.detachEvent("onpropertychange",qn),Ln=Nn=null)}function qn(e){if("value"===e.propertyName&&Bn(Ln)){var t=[];Rn(t,Ln,e,Ot(e)),Dt(Dn,t)}}function Kn(e,t,n){"focusin"===e?(Hn(),Ln=n,(Nn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Ln)}function Vn(e,t){if("click"===e)return Bn(t)}function Gn(e,t){if("input"===e||"change"===e)return Bn(t)}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Jn(e,t){if(Yn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!J.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function Qn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=jt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||(r="selectionStart"in(r=rr)&&tr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Jn(ar,r)||(ar=r,0<(r=qu(ir,"onSelect")).length&&(t=new Qt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},ur={},dr={};function fr(e){if(ur[e])return ur[e];if(!lr[e])return e;var t,n=lr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}jt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);var pr=fr("animationend"),hr=fr("animationiteration"),br=fr("animationstart"),yr=fr("transitionrun"),mr=fr("transitionstart"),gr=fr("transitioncancel"),wr=fr("transitionend"),vr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){vr.set(e,t),Ge(t,[e])}Er.push("scrollEnd");var Sr=new WeakMap;function Tr(e,t){if("object"==typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ct(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var Ar=[],_r=0,Cr=0;function kr(){for(var e=_r,t=Cr=_r=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var a=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Mr(n,i,a)}}function Ir(e,t,n,r){Ar[_r++]=e,Ar[_r++]=t,Ar[_r++]=n,Ar[_r++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Ir(e,t,n,r),Rr(e)}function Or(e,t){return Ir(e,null,null,t),Rr(e)}function Mr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Ml)throw Ml=0,Rl=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new Lr(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Dr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fr(e,t,n,r,i,a){var s=0;if(r=e,"function"==typeof e)Br(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Dr(31,n,t,i)).elementType=C,e.lanes=a,e;case y:return $r(n.children,i,a,t);case m:s=8,i|=24;break;case g:return(e=Dr(12,n,t,2|i)).elementType=g,e.lanes=a,e;case S:return(e=Dr(13,n,t,i)).elementType=S,e.lanes=a,e;case T:return(e=Dr(19,n,t,i)).elementType=T,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:case E:s=10;break e;case v:s=9;break e;case x:s=11;break e;case A:s=14;break e;case _:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Dr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $r(e,t,n,r){return(e=Dr(7,e,r,t)).lanes=n,e}function zr(e,t,n){return(e=Dr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Dr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Kr=0,Wr=null,Vr=0,Gr=[],Yr=0,Jr=null,Zr=1,Xr="";function Qr(e,t){qr[Kr++]=Vr,qr[Kr++]=Wr,Wr=e,Vr=t}function ei(e,t,n){Gr[Yr++]=Zr,Gr[Yr++]=Xr,Gr[Yr++]=Jr,Jr=e;var r=Zr;e=Xr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var a=32-pe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zr=1<<32-pe(t)+i|n<<i|r,Xr=a+e}else Zr=1<<a|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Qr(e,1),ei(e,1,0))}function ni(e){for(;e===Wr;)Wr=qr[--Kr],qr[Kr]=null,Vr=qr[--Kr],qr[Kr]=null;for(;e===Jr;)Jr=Gr[--Yr],Gr[Yr]=null,Xr=Gr[--Yr],Gr[Yr]=null,Zr=Gr[--Yr],Gr[Yr]=null}var ri=null,ii=null,ai=!1,si=null,oi=!1,ci=Error(o(519));function li(e){throw bi(Tr(Error(o(418,"")),e)),ci}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Me]=e,t[Re]=r,n){case"dialog":Bu("cancel",t),Bu("close",t);break;case"iframe":case"object":case"embed":Bu("load",t);break;case"video":case"audio":for(n=0;n<Nu.length;n++)Bu(Nu[n],t);break;case"source":Bu("error",t);break;case"img":case"image":case"link":Bu("error",t),Bu("load",t);break;case"details":Bu("toggle",t);break;case"input":Bu("invalid",t),mt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Bu("invalid",t);break;case"textarea":Bu("invalid",t),Et(t,r.value,r.defaultValue,r.children),dt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ju(t.textContent,n)?(null!=r.popover&&(Bu("beforetoggle",t),Bu("toggle",t)),null!=r.onScroll&&Bu("scroll",t),null!=r.onScrollEnd&&Bu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||li(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function fi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&li(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=md(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pd(e.type)?(e=gd,gd=null,ii=e):ii=n):ii=ri?md(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,ai=!1}function hi(){var e=si;return null!==e&&(null===wl?wl=e:wl.push.apply(wl,e),si=null),e}function bi(e){null===si?si=[e]:si.push(e)}var yi=U(null),mi=null,gi=null;function wi(e,t,n){$(yi,t._currentValue),t._currentValue=n}function vi(e){e._currentValue=yi.current,F(yi)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var c=a;a=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ei(a.return,n,e),r||(s=null);break e}a=c.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ei(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(524288&i.flags)a=!0;else if(262144&i.flags)break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var c=i.type;Yn(i.pendingProps.value,s.value)||(null!==e?e.push(c):e=[c])}}else if(i===K.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}i=i.return}null!==e&&xi(t,e,n,r),t.flags|=262144}function Ti(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){mi=e,gi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _i(e){return ki(mi,e)}function Ci(e,t){return null===mi&&Ai(e),ki(e,t)}function ki(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===gi){if(null===e)throw Error(o(308));gi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gi=gi.next=t;return n}var Ii="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pi=i.unstable_scheduleCallback,Oi=i.unstable_NormalPriority,Mi={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new Ii,data:new Map,refCount:0}}function Ni(e){e.refCount--,0===e.refCount&&Pi(Oi,function(){e.controller.abort()})}var Li=null,Di=0,Bi=0,ji=null;function Ui(){if(0===--Di&&null!==Li){null!==ji&&(ji.status="fulfilled");var e=Li;Li=null,Bi=0,ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Fi=N.S;N.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Di=0,Bi=Iu(),ji={status:"pending",value:void 0,then:function(e){n.push(e)}}}Di++,t.then(Ui,Ui)}(0,t),null!==Fi&&Fi(e,t)};var $i=U(null);function zi(){var e=$i.current;return null!==e?e:rl.pooledCache}function Hi(e,t){$($i,null===t?$i.current:t.pool)}function qi(){var e=zi();return null===e?null:{parent:Mi._currentValue,pool:e}}var Ki=Error(o(460)),Wi=Error(o(474)),Vi=Error(o(542)),Gi={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ji(){}function Zi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ji,Ji),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"==typeof t.status)t.then(Ji,Ji);else{if(null!==(e=rl)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Xi=t,Ki}}var Xi=null;function Qi(){if(null===Xi)throw Error(o(459));var e=Xi;return Xi=null,e}function ea(e){if(e===Ki||e===Vi)throw Error(o(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&nl){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Mr(e,null,n),t}return Ir(e,r,t,n),Rr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ca=!1;function la(){if(ca&&null!==ji)throw ji}function ua(e,t,n,r){ca=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var c=o,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var u=e.alternate;null!==u&&(o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c)}if(null!==a){var d=i.baseState;for(s=0,u=l=c=null,o=a;;){var p=-536870913&o.lane,h=p!==o.lane;if(h?(al&p)===p:(r&p)===p){0!==p&&p===Bi&&(ca=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var b=e,y=o;p=t;var m=n;switch(y.tag){case 1:if("function"==typeof(b=y.payload)){d=b.call(m,d,p);break e}d=b;break e;case 3:b.flags=-65537&b.flags|128;case 0:if(null==(p="function"==typeof(b=y.payload)?b.call(m,d,p):b))break e;d=f({},d,p);break e;case 2:ta=!0}}null!==(p=o.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=i.callbacks)?i.callbacks=[p]:h.push(p))}else h={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(l=u=h,c=d):u=u.next=h,s|=p;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),pl|=s,e.lanes=s,e.memoizedState=d}}function da(e,t){if("function"!=typeof e)throw Error(o(191,e));e.call(t)}function fa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var pa=U(null),ha=U(0);function ba(e,t){$(ha,e=dl),$(pa,t),dl=e|t.baseLanes}function ya(){$(ha,dl),$(pa,pa.current)}function ma(){dl=ha.current,F(pa),F(ha)}var ga=0,wa=null,va=null,Ea=null,xa=!1,Sa=!1,Ta=!1,Aa=0,_a=0,Ca=null,ka=0;function Ia(){throw Error(o(321))}function Pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Oa(e,t,n,r,i,a){return ga=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Ks:Ws,Ta=!1,a=n(r,i),Ta=!1,Sa&&(a=Ra(t,n,r,i)),Ma(e),a}function Ma(e){N.H=qs;var t=null!==va&&null!==va.next;if(ga=0,Ea=va=wa=null,xa=!1,_a=0,Ca=null,t)throw Error(o(300));null===e||Co||null!==(e=e.dependencies)&&Ti(e)&&(Co=!0)}function Ra(e,t,n,r){wa=e;var i=0;do{if(Sa&&(Ca=null),_a=0,Sa=!1,25<=i)throw Error(o(301));if(i+=1,Ea=va=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}N.H=Vs,a=t(n,r)}while(Sa);return a}function Na(){var e=N.H,t=e.useState()[0];return t="function"==typeof t.then?Fa(t):t,e=e.useState()[0],(null!==va?va.memoizedState:null)!==e&&(wa.flags|=1024),t}function La(){var e=0!==Aa;return Aa=0,e}function Da(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ba(e){if(xa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xa=!1}ga=0,Ea=va=wa=null,Sa=!1,_a=Aa=0,Ca=null}function ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ea?wa.memoizedState=Ea=e:Ea=Ea.next=e,Ea}function Ua(){if(null===va){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===Ea?wa.memoizedState:Ea.next;if(null!==t)Ea=t,va=e;else{if(null===e){if(null===wa.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===Ea?wa.memoizedState=Ea=e:Ea=Ea.next=e}return Ea}function Fa(e){var t=_a;return _a+=1,null===Ca&&(Ca=[]),e=Zi(Ca,e,t),t=wa,null===(null===Ea?t.memoizedState:Ea.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Ks:Ws),e}function $a(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Fa(e);if(e.$$typeof===E)return _i(e)}throw Error(o(438,String(e)))}function za(e){var t=null,n=wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wa.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function Ha(e,t){return"function"==typeof t?t(e):t}function qa(e){return Ka(Ua(),va,e)}function Ka(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var c=s=null,l=null,u=t=i.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(al&f)===f:(ga&f)===f){var p=u.revertLane;if(0===p)null!==l&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Bi&&(d=!0);else{if((ga&p)===p){u=u.next,p===Bi&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,s=a):l=l.next=f,wa.lanes|=p,pl|=p}f=u.action,Ta&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else p={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=p,s=a):l=l.next=p,wa.lanes|=f,pl|=f;u=u.next}while(null!==u&&u!==t);if(null===l?s=a:l.next=c,!Yn(a,e.memoizedState)&&(Co=!0,d&&null!==(n=ji)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wa(e){var t=Ua(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Yn(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Va(e,t,n){var r=wa,i=Ua(),a=ai;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Yn((va||i).memoizedState,n);if(s&&(i.memoizedState=n,Co=!0),i=i.queue,ys(2048,8,Ja.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==Ea&&1&Ea.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,i,n,t),null),null===rl)throw Error(o(349));a||124&ga||Ga(r,t,n)}return n}function Ga(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ya(e,t,n,r){t.value=n,t.getSnapshot=r,Za(t)&&Xa(e)}function Ja(e,t,n){return n(function(){Za(t)&&Xa(e)})}function Za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(e){return!0}}function Xa(e){var t=Or(e,2);null!==t&&Dl(t,0,2)}function Qa(e){var t=ja();if("function"==typeof e){var n=e;if(e=n(),Ta){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Ka(e,va,"function"==typeof r?r:Ha)}function ts(e,t,n,r,i){if($s(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==N.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ns(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ns(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=N.T,s={};N.T=s;try{var o=n(i,r),c=N.S;null!==c&&c(s,o),rs(e,t,o)}catch(n){as(e,t,n)}finally{N.T=a}}else try{rs(e,t,a=n(i,r))}catch(n){as(e,t,n)}}function rs(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){is(e,t,n)},function(n){return as(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function as(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function cs(e,t){if(ai){var n=rl.formState;if(null!==n){e:{var r=wa;if(ai){if(ii){t:{for(var i=ii,a=oi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=md(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=md(i.nextSibling),r="F!"===i.data;break e}}li(r)}r=!1}r&&(t=n[0])}}return(n=ja()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=js.bind(null,wa,r),r.dispatch=n,r=Qa(!1),a=Fs.bind(null,wa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ja()).queue=i,n=ts.bind(null,wa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ls(e){return us(Ua(),va,e)}function us(e,t,n){if(t=Ka(e,t,os)[0],e=qa(Ha)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Fa(t)}catch(e){if(e===Ki)throw Vi;throw e}else r=t;var i=(t=Ua()).queue,a=i.dispatch;return n!==t.memoizedState&&(wa.flags|=2048,ps(9,{destroy:void 0,resource:void 0},ds.bind(null,i,n),null)),[r,a,e]}function ds(e,t){e.action=t}function fs(e){var t=Ua(),n=va;if(null!==n)return us(t,n,e);Ua(),t=t.memoizedState;var r=(n=Ua()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hs(){return Ua().memoizedState}function bs(e,t,n,r){var i=ja();r=void 0===r?null:r,wa.flags|=e,i.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function ys(e,t,n,r){var i=Ua();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==va&&null!==r&&Pa(r,va.memoizedState.deps)?i.memoizedState=ps(t,a,n,r):(wa.flags|=e,i.memoizedState=ps(1|t,a,n,r))}function ms(e,t){bs(8390656,8,e,t)}function gs(e,t){ys(2048,8,e,t)}function ws(e,t){return ys(4,2,e,t)}function vs(e,t){return ys(4,4,e,t)}function Es(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function xs(e,t,n){n=null!=n?n.concat([e]):null,ys(4,4,Es.bind(null,t,e),n)}function Ss(){}function Ts(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function As(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pa(t,r[1]))return r[0];if(r=e(),Ta){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r}function _s(e,t,n){return void 0===n||1073741824&ga?e.memoizedState=t:(e.memoizedState=n,e=Ll(),wa.lanes|=e,pl|=e,n)}function Cs(e,t,n,r){return Yn(n,t)?n:null!==pa.current?(e=_s(e,n,r),Yn(e,t)||(Co=!0),e):42&ga?(e=Ll(),wa.lanes|=e,pl|=e,t):(Co=!0,e.memoizedState=n)}function ks(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var s,o,c,l=N.T,u={};N.T=u,Fs(e,!1,t,n);try{var d=i(),f=N.S;null!==f&&f(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?Us(e,t,(s=r,o=[],c={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){c.status="fulfilled",c.value=s;for(var e=0;e<o.length;e++)(0,o[e])(s)},function(e){for(c.status="rejected",c.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),c),Nl()):Us(e,t,r,Nl())}catch(n){Us(e,t,{then:function(){},status:"rejected",reason:n},Nl())}finally{L.p=a,N.T=l}}function Is(){}function Ps(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=Os(e).queue;ks(e,i,t,D,null===n?Is:function(){return Ms(e),n(r)})}function Os(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ms(e){Us(e,Os(e).next.queue,{},Nl())}function Rs(){return _i(Gd)}function Ns(){return Ua().memoizedState}function Ls(){return Ua().memoizedState}function Ds(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nl(),r=aa(t,e=ia(n),n);return null!==r&&(Dl(r,0,n),sa(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function Bs(e,t,n){var r=Nl();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e)?zs(t,n):null!==(n=Pr(e,t,n,r))&&(Dl(n,0,r),Hs(n,t,r))}function js(e,t,n){Us(e,t,n,Nl())}function Us(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))zs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Yn(o,s))return Ir(e,t,i,0),null===rl&&kr(),!1}catch(e){}if(null!==(n=Pr(e,t,i,r)))return Dl(n,0,r),Hs(n,t,r),!0}return!1}function Fs(e,t,n,r){if(r={lane:2,revertLane:Iu(),action:r,hasEagerState:!1,eagerState:null,next:null},$s(e)){if(t)throw Error(o(479))}else null!==(t=Pr(e,n,r,2))&&Dl(t,0,2)}function $s(e){var t=e.alternate;return e===wa||null!==t&&t===wa}function zs(e,t){Sa=xa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var qs={readContext:_i,use:$a,useCallback:Ia,useContext:Ia,useEffect:Ia,useImperativeHandle:Ia,useLayoutEffect:Ia,useInsertionEffect:Ia,useMemo:Ia,useReducer:Ia,useRef:Ia,useState:Ia,useDebugValue:Ia,useDeferredValue:Ia,useTransition:Ia,useSyncExternalStore:Ia,useId:Ia,useHostTransitionStatus:Ia,useFormState:Ia,useActionState:Ia,useOptimistic:Ia,useMemoCache:Ia,useCacheRefresh:Ia},Ks={readContext:_i,use:$a,useCallback:function(e,t){return ja().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:ms,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,bs(4194308,4,Es.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bs(4194308,4,e,t)},useInsertionEffect:function(e,t){bs(4,2,e,t)},useMemo:function(e,t){var n=ja();t=void 0===t?null:t;var r=e();if(Ta){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ja();if(void 0!==n){var i=n(t);if(Ta){fe(!0);try{n(t)}finally{fe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Bs.bind(null,wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ja().memoizedState=e},useState:function(e){var t=(e=Qa(e)).queue,n=js.bind(null,wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ss,useDeferredValue:function(e,t){return _s(ja(),e,t)},useTransition:function(){var e=Qa(!1);return e=ks.bind(null,wa,e.queue,!0,!1),ja().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wa,i=ja();if(ai){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rl)throw Error(o(349));124&al||Ga(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ms(Ja.bind(null,r,a,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,a,n,t),null),n},useId:function(){var e=ja(),t=rl.identifierPrefix;if(ai){var n=Xr;t=""+t+"R"+(n=(Zr&~(1<<32-pe(Zr)-1)).toString(32)+n),0<(n=Aa++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=ka++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Rs,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=ja();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fs.bind(null,wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:za,useCacheRefresh:function(){return ja().memoizedState=Ds.bind(null,wa)}},Ws={readContext:_i,use:$a,useCallback:Ts,useContext:_i,useEffect:gs,useImperativeHandle:xs,useInsertionEffect:ws,useLayoutEffect:vs,useMemo:As,useReducer:qa,useRef:hs,useState:function(){return qa(Ha)},useDebugValue:Ss,useDeferredValue:function(e,t){return Cs(Ua(),va.memoizedState,e,t)},useTransition:function(){var e=qa(Ha)[0],t=Ua().memoizedState;return["boolean"==typeof e?e:Fa(e),t]},useSyncExternalStore:Va,useId:Ns,useHostTransitionStatus:Rs,useFormState:ls,useActionState:ls,useOptimistic:function(e,t){return es(Ua(),0,e,t)},useMemoCache:za,useCacheRefresh:Ls},Vs={readContext:_i,use:$a,useCallback:Ts,useContext:_i,useEffect:gs,useImperativeHandle:xs,useInsertionEffect:ws,useLayoutEffect:vs,useMemo:As,useReducer:Wa,useRef:hs,useState:function(){return Wa(Ha)},useDebugValue:Ss,useDeferredValue:function(e,t){var n=Ua();return null===va?_s(n,e,t):Cs(n,va.memoizedState,e,t)},useTransition:function(){var e=Wa(Ha)[0],t=Ua().memoizedState;return["boolean"==typeof e?e:Fa(e),t]},useSyncExternalStore:Va,useId:Ns,useHostTransitionStatus:Rs,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){var n=Ua();return null!==va?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:za,useCacheRefresh:Ls},Gs=null,Ys=0;function Js(e){var t=Ys;return Ys+=1,null===Gs&&(Gs=[]),Zi(Gs,e,t)}function Zs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xs(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=zr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===_&&Qs(a)===t.type)?(Zs(t=i(t,n.props),n),t.return=e,t):(Zs(t=Fr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=$r(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=zr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return Zs(n=Fr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case b:return(t=Hr(t,e.mode,n)).return=e,t;case _:return f(e,t=(0,t._init)(t._payload),n)}if(R(t)||P(t))return(t=$r(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,Js(t),n);if(t.$$typeof===E)return f(e,Ci(e,t),n);Xs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===i?l(e,t,n,r):null;case b:return n.key===i?u(e,t,n,r):null;case _:return p(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return p(e,t,Js(n),r);if(n.$$typeof===E)return p(e,t,Ci(e,n),r);Xs(e,n)}return null}function m(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return m(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return m(e,t,n,Js(r),i);if(r.$$typeof===E)return m(e,t,n,Ci(t,r),i);Xs(t,r)}return null}function g(c,l,u,d){if("object"==typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case h:e:{for(var w=u.key;null!==l;){if(l.key===w){if((w=u.type)===y){if(7===l.tag){n(c,l.sibling),(d=i(l,u.props.children)).return=c,c=d;break e}}else if(l.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===_&&Qs(w)===l.type){n(c,l.sibling),Zs(d=i(l,u.props),u),d.return=c,c=d;break e}n(c,l);break}t(c,l),l=l.sibling}u.type===y?((d=$r(u.props.children,c.mode,d,u.key)).return=c,c=d):(Zs(d=Fr(u.type,u.key,u.props,null,c.mode,d),u),d.return=c,c=d)}return s(c);case b:e:{for(w=u.key;null!==l;){if(l.key===w){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(c,l.sibling),(d=i(l,u.children||[])).return=c,c=d;break e}n(c,l);break}t(c,l),l=l.sibling}(d=Hr(u,c.mode,d)).return=c,c=d}return s(c);case _:return g(c,l,u=(w=u._init)(u._payload),d)}if(R(u))return function(i,s,o,c){for(var l=null,u=null,d=s,h=s=0,b=null;null!==d&&h<o.length;h++){d.index>h?(b=d,d=null):b=d.sibling;var y=p(i,d,o[h],c);if(null===y){null===d&&(d=b);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,h),null===u?l=y:u.sibling=y,u=y,d=b}if(h===o.length)return n(i,d),ai&&Qr(i,h),l;if(null===d){for(;h<o.length;h++)null!==(d=f(i,o[h],c))&&(s=a(d,s,h),null===u?l=d:u.sibling=d,u=d);return ai&&Qr(i,h),l}for(d=r(d);h<o.length;h++)null!==(b=m(d,i,h,o[h],c))&&(e&&null!==b.alternate&&d.delete(null===b.key?h:b.key),s=a(b,s,h),null===u?l=b:u.sibling=b,u=b);return e&&d.forEach(function(e){return t(i,e)}),ai&&Qr(i,h),l}(c,l,u,d);if(P(u)){if("function"!=typeof(w=P(u)))throw Error(o(150));return function(i,s,c,l){if(null==c)throw Error(o(151));for(var u=null,d=null,h=s,b=s=0,y=null,g=c.next();null!==h&&!g.done;b++,g=c.next()){h.index>b?(y=h,h=null):y=h.sibling;var w=p(i,h,g.value,l);if(null===w){null===h&&(h=y);break}e&&h&&null===w.alternate&&t(i,h),s=a(w,s,b),null===d?u=w:d.sibling=w,d=w,h=y}if(g.done)return n(i,h),ai&&Qr(i,b),u;if(null===h){for(;!g.done;b++,g=c.next())null!==(g=f(i,g.value,l))&&(s=a(g,s,b),null===d?u=g:d.sibling=g,d=g);return ai&&Qr(i,b),u}for(h=r(h);!g.done;b++,g=c.next())null!==(g=m(h,i,b,g.value,l))&&(e&&null!==g.alternate&&h.delete(null===g.key?b:g.key),s=a(g,s,b),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach(function(e){return t(i,e)}),ai&&Qr(i,b),u}(c,l,u=w.call(u),d)}if("function"==typeof u.then)return g(c,l,Js(u),d);if(u.$$typeof===E)return g(c,l,Ci(c,u),d);Xs(c,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==l&&6===l.tag?(n(c,l.sibling),(d=i(l,u)).return=c,c=d):(n(c,l),(d=zr(u,c.mode,d)).return=c,c=d),s(c)):n(c,l)}return function(e,t,n,r){try{Ys=0;var i=g(e,t,n,r);return Gs=null,i}catch(t){if(t===Ki||t===Vi)throw t;var a=Dr(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var to=eo(!0),no=eo(!1),ro=U(null),io=null;function ao(e){var t=e.alternate;$(lo,1&lo.current),$(ro,e),null===io&&(null===t||null!==pa.current||null!==t.memoizedState)&&(io=e)}function so(e){if(22===e.tag){if($(lo,lo.current),$(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){$(lo,lo.current),$(ro,ro.current)}function co(e){F(ro),io===e&&(io=null),F(lo)}var lo=U(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nl(),i=ia(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Dl(t,0,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nl(),i=ia(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Dl(t,0,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nl(),r=ia(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Dl(t,0,n),sa(t,e,n))}};function ho(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&Jn(n,r)&&Jn(i,a))}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var mo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof r&&"function"==typeof r.emit)return void r.emit("uncaughtException",e);console.error(e)};function go(e){mo(e)}function wo(e){console.error(e)}function vo(e){mo(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function xo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function So(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function To(e){return(e=ia(e)).tag=3,e}function Ao(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){xo(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){xo(t,n,r),"function"!=typeof i&&(null===Tl?Tl=new Set([this]):Tl.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var _o=Error(o(461)),Co=!1;function ko(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Io(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ai(t),r=Oa(e,t,n,s,a,i),o=La(),null===e||Co?(ai&&o&&ti(t),t.flags|=1,ko(e,t,r,i),t.child):(Da(e,t,i),Yo(e,t,i))}function Po(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Br(a)||void 0!==a.defaultProps||null!==n.compare?((e=Fr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Oo(e,t,a,r,i))}if(a=e.child,!Jo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(s,r)&&e.ref===t.ref)return Yo(e,t,i)}return t.flags|=1,(e=jr(a,r)).ref=t.ref,e.return=t,t.child=e}function Oo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Jn(a,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=a,!Jo(e,i))return t.lanes=e.lanes,Yo(e,t,i);131072&e.flags&&(Co=!0)}}return Lo(e,t,n,r,i)}function Mo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==a?a.cachePool:null),null!==a?ba(t,a):ya(),so(t)}else null!==a?(Hi(0,a.cachePool),ba(t,a),oo(),t.memoizedState=null):(null!==e&&Hi(0,null),ya(),oo());return ko(e,t,i,n),t.child}function Ro(e,t,n,r){var i=zi();return i=null===i?null:{parent:Mi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),ya(),so(t),null!==e&&Si(e,t,r,!0),null}function No(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Lo(e,t,n,r,i){return Ai(t),n=Oa(e,t,n,r,void 0,i),r=La(),null===e||Co?(ai&&r&&ti(t),t.flags|=1,ko(e,t,n,i),t.child):(Da(e,t,i),Yo(e,t,i))}function Do(e,t,n,r,i,a){return Ai(t),t.updateQueue=null,n=Ra(t,r,n,i),Ma(e),r=La(),null===e||Co?(ai&&r&&ti(t),t.flags|=1,ko(e,t,n,a),t.child):(Da(e,t,a),Yo(e,t,a))}function Bo(e,t,n,r,i){if(Ai(t),null===t.stateNode){var a=Nr,s=n.contextType;"object"==typeof s&&null!==s&&(a=_i(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=po,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),s=n.contextType,a.context="object"==typeof s&&null!==s?_i(s):Nr,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(fo(t,n,s,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&po.enqueueReplaceState(a,a.state,null),ua(t,r,a,i),la(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,c=yo(n,o);a.props=c;var l=a.context,u=n.contextType;s=Nr,"object"==typeof u&&null!==u&&(s=_i(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||l!==s)&&bo(t,a,r,s),ta=!1;var f=t.memoizedState;a.state=f,ua(t,r,a,i),la(),l=t.memoizedState,o||f!==l||ta?("function"==typeof d&&(fo(t,n,d,r),l=t.memoizedState),(c=ta||ho(t,n,c,r,f,l,s))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=s,r=c):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),u=yo(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=Nr,"object"==typeof l&&null!==l&&(c=_i(l)),(l="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==c)&&bo(t,a,r,c),ta=!1,f=t.memoizedState,a.state=f,ua(t,r,a,i),la();var p=t.memoizedState;s!==d||f!==p||ta||null!==e&&null!==e.dependencies&&Ti(e.dependencies)?("function"==typeof o&&(fo(t,n,o,r),p=t.memoizedState),(u=ta||ho(t,n,u,r,f,p,c)||null!==e&&null!==e.dependencies&&Ti(e.dependencies))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,No(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):ko(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Yo(e,t,i),e}function jo(e,t,n,r){return pi(),t.flags|=256,ko(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fo(e){return{baseLanes:e,cachePool:qi()}}function $o(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yl),e}function zo(e,t,n){var r,i=t.pendingProps,a=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&lo.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?ao(t):oo(),ai){var c,l=ii;if(c=l){e:{for(c=l,l=oi;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=md(c.nextSibling))){l=null;break e}}l=c}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==Jr?{id:Zr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(c=Dr(18,null,null,0)).stateNode=l,c.return=t,t.child=c,ri=t,ii=null,c=!0):c=!1}c||li(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return yd(l)?t.lanes=32:t.lanes=536870912,null;co(t)}return l=i.children,i=i.fallback,a?(oo(),l=qo({mode:"hidden",children:l},a=t.mode),i=$r(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(a=t.child).memoizedState=Fo(n),a.childLanes=$o(e,r,n),t.memoizedState=Uo,i):(ao(t),Ho(t,l))}if(null!==(c=e.memoizedState)&&null!==(l=c.dehydrated)){if(s)256&t.flags?(ao(t),t.flags&=-257,t=Ko(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),a=i.fallback,l=t.mode,i=qo({mode:"visible",children:i.children},l),(a=$r(a,l,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Fo(n),i.childLanes=$o(e,r,n),t.memoizedState=Uo,t=a);else if(ao(t),yd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,bi({value:i,source:null,stack:null}),t=Ko(e,t,n)}else if(Co||Si(e,t,n,!1),r=0!==(n&e.childLanes),Co||r){if(null!==(r=rl)&&0!==(i=0!==((i=42&(i=n&-n)?1:ke(i))&(r.suspendedLanes|n))?0:i)&&i!==c.retryLane)throw c.retryLane=i,Or(e,i),Dl(r,0,i),_o;"$?"===l.data||Vl(),t=Ko(e,t,n)}else"$?"===l.data?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ii=md(l.nextSibling),ri=t,ai=!0,si=null,oi=!1,null!==e&&(Gr[Yr++]=Zr,Gr[Yr++]=Xr,Gr[Yr++]=Jr,Zr=e.id,Xr=e.overflow,Jr=t),(t=Ho(t,i.children)).flags|=4096);return t}return a?(oo(),a=i.fallback,l=t.mode,u=(c=e.child).sibling,(i=jr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?a=jr(u,a):(a=$r(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(l=e.child.memoizedState)?l=Fo(n):(null!==(c=l.cachePool)?(u=Mi._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=qi(),l={baseLanes:l.baseLanes|n,cachePool:c}),a.memoizedState=l,a.childLanes=$o(e,r,n),t.memoizedState=Uo,i):(ao(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Dr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ko(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Vo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ko(e,t,r.children,n),2&(r=lo.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch($(lo,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,a);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Jo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ti(e))}function Zo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!(Jo(e,n)||128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),wi(0,Mi,e.memoizedState.cache),pi();break;case 27:case 5:G(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:wi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(ao(t),null!==(e=Yo(e,t,n))?e.sibling:null);ao(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),$(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Mo(e,t,n);case 24:wi(0,Mi,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);Co=!!(131072&e.flags)}else Co=!1,ai&&1048576&t.flags&&ei(t,Vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((i=r.$$typeof)===x){t.tag=11,t=Io(null,t,r,e,n);break e}if(i===A){t.tag=14,t=Po(null,t,r,e,n);break e}}throw t=M(r)||r,Error(o(306,t,""))}Br(r)?(e=yo(r,e),t.tag=1,t=Bo(null,t,r,e,n)):(t.tag=0,t=Lo(null,t,r,e,n))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,n);case 1:return Bo(e,t,r=t.type,i=yo(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.cache,wi(0,Mi,r),r!==a.cache&&xi(t,[Mi],n,!0),la(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jo(e,t,r,n);break e}if(r!==i){bi(i=Tr(Error(o(424)),t)),t=jo(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,ii=md(e.firstChild),ri=t,ai=!0,si=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Yo(e,t,n);break e}ko(e,t,r,n)}t=t.child}return t;case 26:return No(e,t),null===e?(n=kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[Me]=t,r[Re]=e,ed(r,n,e),Ke(r),t.stateNode=r):t.memoizedState=kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ai&&(r=t.stateNode=vd(t.type,t.pendingProps,q.current),ri=t,oi=!0,i=ii,pd(t.type)?(gd=i,ii=md(r.firstChild)):ii=i),ko(e,t,t.pendingProps.children,n),No(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=md(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=md(r.firstChild),oi=!1,i=!0):i=!1),i||li(t)),G(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,sd(i,a)?r=null:null!==s&&sd(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Oa(e,t,Na,null,null,n),Gd._currentValue=i),No(e,t),ko(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=md(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||li(t)),null;case 13:return zo(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):ko(e,t,r,n),t.child;case 11:return Io(e,t,t.type,t.pendingProps,n);case 7:return ko(e,t,t.pendingProps,n),t.child;case 8:case 12:return ko(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wi(0,t.type,r.value),ko(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ai(t),r=r(i=_i(i)),t.flags|=1,ko(e,t,r,n),t.child;case 14:return Po(e,t,t.type,t.pendingProps,n);case 15:return Oo(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Mo(e,t,n);case 24:return Ai(t),r=_i(Mi),null===e?(null===(i=zi())&&(i=rl,a=Ri(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),wi(0,Mi,i)):(0!==(e.lanes&n)&&(ra(e,t),ua(t,null,null,n),la()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),wi(0,Mi,r)):(r=a.cache,wi(0,Mi,r),r!==i.cache&&xi(t,[Mi],n,!0))),ko(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xo(e){e.flags|=4}function Qo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!$d(t)){if(null!==(t=ro.current)&&((4194048&al)===al?null!==io:(62914560&al)!==al&&!(536870912&al)||t!==io))throw Xi=Gi,Wi;e.flags|=8192}}function ec(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,ml|=t)}function tc(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rc(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nc(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),vi(Mi),V(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fi(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,hi())),nc(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nc(t),Qo(t,n)):(nc(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nc(t),Qo(t,n)):(nc(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xo(t),nc(t),t.flags&=-16777217),null;case 27:Y(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nc(t),null}e=z.current,fi(t)?ui(t):(e=vd(i,r,n),t.stateNode=e,Xo(t))}return nc(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nc(t),null}if(e=z.current,fi(t))ui(t);else{switch(i=rd(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Me]=t,e[Re]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,fi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Ju(e.nodeValue,n)))||li(t)}else(e=rd(e).createTextNode(r))[Me]=t,t.stateNode=e}return nc(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Me]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nc(t),i=!1}else i=hi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(co(t),t):(co(t),null)}if(co(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ec(t,t.updateQueue),nc(t),null;case 4:return V(),null===e&&Fu(t.stateNode.containerInfo),nc(t),null;case 10:return vi(t.type),nc(t),null;case 19:if(F(lo),null===(i=t.memoizedState))return nc(t),null;if(r=!!(128&t.flags),null===(a=i.rendering))if(r)tc(i,!1);else{if(0!==fl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=uo(e))){for(t.flags|=128,tc(i,!1),e=a.updateQueue,t.updateQueue=e,ec(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return $(lo,1&lo.current|2),t.child}e=e.sibling}null!==i.tail&&te()>xl&&(t.flags|=128,r=!0,tc(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ec(t,e),tc(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nc(t),null}else 2*te()-i.renderingStartTime>xl&&536870912!==n&&(t.flags|=128,r=!0,tc(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=lo.current,$(lo,r?1&e|2:1&e),t):(nc(t),null);case 22:case 23:return co(t),ma(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(nc(t),6&t.subtreeFlags&&(t.flags|=8192)):nc(t),null!==(n=t.updateQueue)&&ec(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F($i),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vi(Mi),nc(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ic(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vi(Mi),V(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(co(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(lo),null;case 4:return V(),null;case 10:return vi(t.type),null;case 22:case 23:return co(t),ma(),null!==e&&F($i),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return vi(Mi),null;default:return null}}function ac(e,t){switch(ni(t),t.tag){case 3:vi(Mi),V();break;case 26:case 27:case 5:Y(t);break;case 4:V();break;case 13:co(t);break;case 19:F(lo);break;case 10:vi(t.type);break;case 22:case 23:co(t),ma(),null!==e&&F($i);break;case 24:vi(Mi)}}function sc(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(e){uu(t,t.return,e)}}function oc(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var c=n,l=o;try{l()}catch(e){uu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){uu(t,t.return,e)}}function cc(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fa(t,n)}catch(t){uu(e,e.return,t)}}}function lc(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){uu(e,t,n)}}function uc(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){uu(e,t,n)}}function dc(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){uu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){uu(e,t,n)}else n.current=null}function fc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){uu(e,e.return,t)}}function pc(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,c=null,l=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&null!=f)switch(h){case"checked":case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(h)||Xu(e,t,h,null,r,f)}}for(var p in r){var h=r[p];if(f=n[p],r.hasOwnProperty(p)&&(null!=h||null!=f))switch(p){case"type":a=h;break;case"name":i=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":s=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:h!==f&&Xu(e,t,p,h,r,f)}}return void yt(e,s,c,l,u,d,a,i);case"select":for(a in h=s=c=p=null,n)if(l=n[a],n.hasOwnProperty(a)&&null!=l)switch(a){case"value":break;case"multiple":h=l;default:r.hasOwnProperty(a)||Xu(e,t,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=a||null!=l))switch(i){case"value":p=a;break;case"defaultValue":c=a;break;case"multiple":s=a;default:a!==l&&Xu(e,t,i,a,r,l)}return t=c,n=s,r=h,void(null!=p?wt(e,!!n,p,!1):!!r!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(c in h=p=null,n)if(i=n[c],n.hasOwnProperty(c)&&null!=i&&!r.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Xu(e,t,c,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":p=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&Xu(e,t,s,i,r,a)}return void vt(e,p,h);case"option":for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!r.hasOwnProperty(b)&&("selected"===b?e.selected=!1:Xu(e,t,b,null,r,p));for(l in r)p=r[l],h=n[l],!r.hasOwnProperty(l)||p===h||null==p&&null==h||("selected"===l?e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p:Xu(e,t,l,p,r,h));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Xu(e,t,y,null,r,p);for(u in r)if(p=r[u],h=n[u],r.hasOwnProperty(u)&&p!==h&&(null!=p||null!=h))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:Xu(e,t,u,p,r,h)}return;default:if(_t(t)){for(var m in n)p=n[m],n.hasOwnProperty(m)&&void 0!==p&&!r.hasOwnProperty(m)&&Qu(e,t,m,void 0,r,p);for(d in r)p=r[d],h=n[d],!r.hasOwnProperty(d)||p===h||void 0===p&&void 0===h||Qu(e,t,d,p,r,h);return}}for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,p);for(f in r)p=r[f],h=n[f],!r.hasOwnProperty(f)||p===h||null==p&&null==h||Xu(e,t,f,p,r,h)}(r,e.type,n,t),r[Re]=t}catch(t){uu(e,e.return,t)}}function hc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function bc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yc(e,t,n),e=e.sibling;null!==e;)yc(e,t,n),e=e.sibling}function mc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(mc(e,t,n),e=e.sibling;null!==e;)mc(e,t,n),e=e.sibling}function gc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Me]=e,t[Re]=n}catch(t){uu(e,e.return,t)}}var wc=!1,vc=!1,Ec=!1,xc="function"==typeof WeakSet?WeakSet:Set,Sc=null;function Tc(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Bc(e,n),4&r&&sc(5,n);break;case 1:if(Bc(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){uu(n,n.return,e)}else{var i=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){uu(n,n.return,e)}}64&r&&cc(n),512&r&&uc(n,n.return);break;case 3:if(Bc(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fa(e,t)}catch(e){uu(n,n.return,e)}}break;case 27:null===t&&4&r&&gc(n);case 26:case 5:Bc(e,n),null===t&&4&r&&fc(n),512&r&&uc(n,n.return);break;case 12:Bc(e,n);break;case 13:Bc(e,n),4&r&&Pc(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=hu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||wc)){t=null!==t&&null!==t.memoizedState||vc,i=wc;var a=vc;wc=r,(vc=t)&&!a?Uc(e,n,!!(8772&n.subtreeFlags)):Bc(e,n),wc=i,vc=a}break;case 30:break;default:Bc(e,n)}}function Ac(e){var t=e.alternate;null!==t&&(e.alternate=null,Ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Fe(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _c=null,Cc=!1;function kc(e,t,n){for(n=n.child;null!==n;)Ic(e,t,n),n=n.sibling}function Ic(e,t,n){if(de&&"function"==typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(e){}switch(n.tag){case 26:vc||dc(n,t),kc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:vc||dc(n,t);var r=_c,i=Cc;pd(n.type)&&(_c=n.stateNode,Cc=!1),kc(e,t,n),Ed(n.stateNode),_c=r,Cc=i;break;case 5:vc||dc(n,t);case 6:if(r=_c,i=Cc,_c=null,kc(e,t,n),Cc=i,null!==(_c=r))if(Cc)try{(9===_c.nodeType?_c.body:"HTML"===_c.nodeName?_c.ownerDocument.body:_c).removeChild(n.stateNode)}catch(e){uu(n,t,e)}else try{_c.removeChild(n.stateNode)}catch(e){uu(n,t,e)}break;case 18:null!==_c&&(Cc?(hd(9===(e=_c).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),_f(e)):hd(_c,n.stateNode));break;case 4:r=_c,i=Cc,_c=n.stateNode.containerInfo,Cc=!0,kc(e,t,n),_c=r,Cc=i;break;case 0:case 11:case 14:case 15:vc||oc(2,n,t),vc||oc(4,n,t),kc(e,t,n);break;case 1:vc||(dc(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&lc(n,t,r)),kc(e,t,n);break;case 21:kc(e,t,n);break;case 22:vc=(r=vc)||null!==n.memoizedState,kc(e,t,n),vc=r;break;default:kc(e,t,n)}}function Pc(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{_f(e)}catch(e){uu(t,t.return,e)}}function Oc(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xc),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 27:if(pd(c.type)){_c=c.stateNode,Cc=!1;break e}break;case 5:_c=c.stateNode,Cc=!1;break e;case 3:case 4:_c=c.stateNode.containerInfo,Cc=!0;break e}c=c.return}if(null===_c)throw Error(o(160));Ic(a,s,i),_c=null,Cc=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Nc(t,e),t=t.sibling}var Rc=null;function Nc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mc(t,e),Lc(e),4&r&&(oc(3,e,e.return),sc(3,e),oc(5,e,e.return));break;case 1:Mc(t,e),Lc(e),512&r&&(vc||null===n||dc(n,n.return)),64&r&&wc&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var i=Rc;if(Mc(t,e),Lc(e),512&r&&(vc||null===n||dc(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ue]||a[Me]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,r,n),a[Me]=e,Ke(a),r=a;break e;case"link":var s=Ud("link","href",i).get(r+(n.href||""));if(s)for(var c=0;c<s.length;c++)if((a=s[c]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(c,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=Ud("meta","content",i).get(r+(n.content||"")))for(c=0;c<s.length;c++)if((a=s[c]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(c,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Me]=e,Ke(a),r=a}e.stateNode=r}else Fd(i,e.type,e.stateNode);else e.stateNode=Nd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Fd(i,e.type,e.stateNode):Nd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Mc(t,e),Lc(e),512&r&&(vc||null===n||dc(n,n.return)),null!==n&&4&r&&pc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Mc(t,e),Lc(e),512&r&&(vc||null===n||dc(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(t){uu(e,e.return,t)}}4&r&&null!=e.stateNode&&pc(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Ec=!0);break;case 6:if(Mc(t,e),Lc(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){uu(e,e.return,t)}}break;case 3:if(jd=null,i=Rc,Rc=Td(t.containerInfo),Mc(t,e),Rc=i,Lc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{_f(t.containerInfo)}catch(t){uu(e,e.return,t)}Ec&&(Ec=!1,Dc(e));break;case 4:r=Rc,Rc=Td(e.stateNode.containerInfo),Mc(t,e),Lc(e),Rc=r;break;case 12:default:Mc(t,e),Lc(e);break;case 13:Mc(t,e),Lc(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(El=te()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Oc(e,r));break;case 22:i=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,u=wc,d=vc;if(wc=u||i,vc=d||l,Mc(t,e),vc=d,wc=u,Lc(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||l||wc||vc||jc(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(a=l.stateNode,i)"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{c=l.stateNode;var f=l.memoizedProps.style,p=null!=f&&f.hasOwnProperty("display")?f.display:null;c.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(e){uu(l,l.return,e)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(e){uu(l,l.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,Oc(e,n));break;case 19:Mc(t,e),Lc(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Oc(e,r));case 30:case 21:}}function Lc(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(hc(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;mc(e,bc(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(xt(a,""),n.flags&=-33),mc(e,bc(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;yc(e,bc(e),s);break;default:throw Error(o(161))}}catch(t){uu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Bc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Tc(e,t.alternate,t),t=t.sibling}function jc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oc(4,t,t.return),jc(t);break;case 1:dc(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&lc(t,t.return,n),jc(t);break;case 27:Ed(t.stateNode);case 26:case 5:dc(t,t.return),jc(t);break;case 22:null===t.memoizedState&&jc(t);break;default:jc(t)}e=e.sibling}}function Uc(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Uc(i,a,n),sc(4,a);break;case 1:if(Uc(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){uu(r,r.return,e)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)da(c[i],o)}catch(e){uu(r,r.return,e)}}n&&64&s&&cc(a),uc(a,a.return);break;case 27:gc(a);case 26:case 5:Uc(i,a,n),n&&null===r&&4&s&&fc(a),uc(a,a.return);break;case 12:Uc(i,a,n);break;case 13:Uc(i,a,n),n&&4&s&&Pc(i,a);break;case 22:null===a.memoizedState&&Uc(i,a,n),uc(a,a.return);break;case 30:break;default:Uc(i,a,n)}t=t.sibling}}function Fc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ni(n))}function $c(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ni(e))}function zc(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hc(e,t,n,r),t=t.sibling}function Hc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:zc(e,t,n,r),2048&i&&sc(9,t);break;case 1:case 13:default:zc(e,t,n,r);break;case 3:zc(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ni(e)));break;case 12:if(2048&i){zc(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){uu(t,t.return,e)}}else zc(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?zc(e,t,n,r):Kc(e,t):2&a._visibility?zc(e,t,n,r):(a._visibility|=2,qc(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Fc(s,t);break;case 24:zc(e,t,n,r),2048&i&&$c(t.alternate,t)}}function qc(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,c=r,l=s.flags;switch(s.tag){case 0:case 11:case 15:qc(a,s,o,c,i),sc(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?qc(a,s,o,c,i):Kc(a,s):(u._visibility|=2,qc(a,s,o,c,i)),i&&2048&l&&Fc(s.alternate,s);break;case 24:qc(a,s,o,c,i),i&&2048&l&&$c(s.alternate,s);break;default:qc(a,s,o,c,i)}t=t.sibling}}function Kc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kc(n,r),2048&i&&Fc(r.alternate,r);break;case 24:Kc(n,r),2048&i&&$c(r.alternate,r);break;default:Kc(n,r)}t=t.sibling}}var Wc=8192;function Vc(e){if(e.subtreeFlags&Wc)for(e=e.child;null!==e;)Gc(e),e=e.sibling}function Gc(e){switch(e.tag){case 26:Vc(e),e.flags&Wc&&null!==e.memoizedState&&function(e,t,n){if(null===zd)throw Error(o(475));var r=zd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var i=Id(n.href),a=e.querySelector(Pd(i));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Ke(a);a=e.ownerDocument||e,n=Od(n),(i=xd.get(i))&&Dd(n,i),Ke(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rc,e.memoizedState,e.memoizedProps);break;case 5:default:Vc(e);break;case 3:case 4:var t=Rc;Rc=Td(e.stateNode.containerInfo),Vc(e),Rc=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wc,Wc=16777216,Vc(e),Wc=t):Vc(e))}}function Yc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sc=r,Qc(r,e)}Yc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zc(e),e=e.sibling}function Zc(e){switch(e.tag){case 0:case 11:case 15:Jc(e),2048&e.flags&&oc(9,e,e.return);break;case 3:case 12:default:Jc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xc(e)):Jc(e)}}function Xc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sc=r,Qc(r,e)}Yc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oc(8,t,t.return),Xc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xc(t));break;default:Xc(t)}e=e.sibling}}function Qc(e,t){for(;null!==Sc;){var n=Sc;switch(n.tag){case 0:case 11:case 15:oc(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ni(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sc=r;else e:for(n=e;null!==Sc;){var i=(r=Sc).sibling,a=r.return;if(Ac(r),r===n){Sc=null;break e}if(null!==i){i.return=a,Sc=i;break e}Sc=a}}}var el={getCacheForType:function(e){var t=_i(Mi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tl="function"==typeof WeakMap?WeakMap:Map,nl=0,rl=null,il=null,al=0,sl=0,ol=null,cl=!1,ll=!1,ul=!1,dl=0,fl=0,pl=0,hl=0,bl=0,yl=0,ml=0,gl=null,wl=null,vl=!1,El=0,xl=1/0,Sl=null,Tl=null,Al=0,_l=null,Cl=null,kl=0,Il=0,Pl=null,Ol=null,Ml=0,Rl=null;function Nl(){return 2&nl&&0!==al?al&-al:null!==N.T?0!==Bi?Bi:Iu():Pe()}function Ll(){0===yl&&(yl=536870912&al&&!ai?536870912:xe());var e=ro.current;return null!==e&&(e.flags|=32),yl}function Dl(e,t,n){(e!==rl||2!==sl&&9!==sl)&&null===e.cancelPendingCommit||(Hl(e,0),Fl(e,al,yl,!1)),Ae(e,n),2&nl&&e===rl||(e===rl&&(!(2&nl)&&(hl|=n),4===fl&&Fl(e,al,yl,!1)),xu(e))}function Bl(e,t,n){if(6&nl)throw Error(o(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||ve(e,t),i=r?function(e,t){var n=nl;nl|=2;var r=Kl(),i=Wl();rl!==e||al!==t?(Sl=null,xl=te()+500,Hl(e,t)):ll=ve(e,t);e:for(;;)try{if(0!==sl&&null!==il){t=il;var a=ol;t:switch(sl){case 1:sl=0,ol=null,Ql(e,t,a,1);break;case 2:case 9:if(Yi(a)){sl=0,ol=null,Xl(t);break}t=function(){2!==sl&&9!==sl||rl!==e||(sl=7),xu(e)},a.then(t,t);break e;case 3:sl=7;break e;case 4:sl=5;break e;case 7:Yi(a)?(sl=0,ol=null,Xl(t)):(sl=0,ol=null,Ql(e,t,a,7));break;case 5:var s=null;switch(il.tag){case 26:s=il.memoizedState;case 5:case 27:var c=il;if(!s||$d(s)){sl=0,ol=null;var l=c.sibling;if(null!==l)il=l;else{var u=c.return;null!==u?(il=u,eu(u)):il=null}break t}}sl=0,ol=null,Ql(e,t,a,5);break;case 6:sl=0,ol=null,Ql(e,t,a,6);break;case 8:zl(),fl=6;break e;default:throw Error(o(462))}}Jl();break}catch(t){ql(e,t)}return gi=mi=null,N.H=r,N.A=i,nl=n,null!==il?0:(rl=null,al=0,kr(),fl)}(e,t):Gl(e,t,!0),a=r;;){if(0===i){ll&&!r&&Fl(e,t,0,!1);break}if(n=e.current.alternate,!a||Ul(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!=(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var c=e;i=gl;var l=c.current.memoizedState.isDehydrated;if(l&&(Hl(c,s).flags|=256),2!==(s=Gl(c,s,!1))){if(ul&&!l){c.errorRecoveryDisabledLanes|=a,hl|=a,i=4;break e}a=wl,wl=i,null!==a&&(null===wl?wl=a:wl.push.apply(wl,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){Hl(e,0),Fl(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Fl(r,t,yl,!cl);break e;case 2:wl=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=El+300-te())){if(Fl(r,t,yl,!cl),0!==we(r,0,!0))break e;r.timeoutHandle=cd(jl.bind(null,r,n,wl,Sl,vl,t,yl,hl,ml,cl,a,2,-0,0),i)}else jl(r,n,wl,Sl,vl,t,yl,hl,ml,cl,a,0,-0,0)}break}i=Gl(e,t,!1),a=!1}xu(e)}function jl(e,t,n,r,i,a,s,c,l,u,d,f,p,h){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||!(16785408&~f))&&(zd={stylesheets:null,count:0,unsuspend:Hd},Gc(t),null!==(f=function(){if(null===zd)throw Error(o(475));var e=zd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(nu.bind(null,e,t,a,n,r,i,s,c,l,d,1,p,h)),void Fl(e,a,s,!u);nu(e,t,a,n,r,i,s,c,l)}function Ul(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Yn(a(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fl(e,t,n,r){t&=~bl,t&=~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-pe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&_e(e,n,t)}function $l(){return!!(6&nl)||(Su(0,!1),!1)}function zl(){if(null!==il){if(0===sl)var e=il.return;else gi=mi=null,Ba(e=il),Gs=null,Ys=0,e=il;for(;null!==e;)ac(e.alternate,e),e=e.return;il=null}}function Hl(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ld(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zl(),rl=e,il=n=jr(e.current,null),al=t,sl=0,ol=null,cl=!1,ll=ve(e,t),ul=!1,ml=yl=bl=hl=pl=fl=0,wl=gl=null,vl=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),a=1<<i;t|=e[i],r&=~a}return dl=t,kr(),n}function ql(e,t){wa=null,N.H=qs,t===Ki||t===Vi?(t=Qi(),sl=3):t===Wi?(t=Qi(),sl=4):sl=t===_o?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,ol=t,null===il&&(fl=1,Eo(e,Tr(t,e.current)))}function Kl(){var e=N.H;return N.H=qs,null===e?qs:e}function Wl(){var e=N.A;return N.A=el,e}function Vl(){fl=4,cl||(4194048&al)!==al&&null!==ro.current||(ll=!0),!(134217727&pl)&&!(134217727&hl)||null===rl||Fl(rl,al,yl,!1)}function Gl(e,t,n){var r=nl;nl|=2;var i=Kl(),a=Wl();rl===e&&al===t||(Sl=null,Hl(e,t)),t=!1;var s=fl;e:for(;;)try{if(0!==sl&&null!==il){var o=il,c=ol;switch(sl){case 8:zl(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var l=sl;if(sl=0,ol=null,Ql(e,o,c,l),n&&ll){s=0;break e}break;default:l=sl,sl=0,ol=null,Ql(e,o,c,l)}}Yl(),s=fl;break}catch(t){ql(e,t)}return t&&e.shellSuspendCounter++,gi=mi=null,nl=r,N.H=i,N.A=a,null===il&&(rl=null,al=0,kr()),s}function Yl(){for(;null!==il;)Zl(il)}function Jl(){for(;null!==il&&!Q();)Zl(il)}function Zl(e){var t=Zo(e.alternate,e,dl);e.memoizedProps=e.pendingProps,null===t?eu(e):il=t}function Xl(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Do(n,t,t.pendingProps,t.type,void 0,al);break;case 11:t=Do(n,t,t.pendingProps,t.type.render,t.ref,al);break;case 5:Ba(t);default:ac(n,t),t=Zo(n,t=il=Ur(t,dl),dl)}e.memoizedProps=e.pendingProps,null===t?eu(e):il=t}function Ql(e,t,n,r){gi=mi=null,Ba(t),Gs=null,Ys=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Vl():null===n.alternate&&0===fl&&(fl=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(o(435,n.tag))}return du(e,r,i),Vl(),!1}if(ai)return null!==(t=ro.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==ci&&bi(Tr(e=Error(o(422),{cause:r}),n))):(r!==ci&&bi(Tr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Tr(r,n),oa(e,i=So(e.stateNode,r,i)),4!==fl&&(fl=2)),!1;var a=Error(o(520),{cause:r});if(a=Tr(a,n),null===gl?gl=[a]:gl.push(a),4!==fl&&(fl=2),null===t)return!0;r=Tr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,oa(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Tl&&Tl.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Ao(i=To(i),e,n,r),oa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,al))return fl=1,Eo(e,Tr(n,e.current)),void(il=null)}catch(t){if(null!==i)throw il=i,t;return fl=1,Eo(e,Tr(n,e.current)),void(il=null)}32768&t.flags?(ai||1===r?e=!0:ll||536870912&al?e=!1:(cl=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384)),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(32768&t.flags)return void tu(t,cl);e=t.return;var n=rc(t.alternate,t,dl);if(null!==n)return void(il=n);if(null!==(t=t.sibling))return void(il=t);il=t=e}while(null!==t);0===fl&&(fl=5)}function tu(e,t){do{var n=ic(e.alternate,e);if(null!==n)return n.flags&=32767,void(il=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(il=e);il=e=n}while(null!==e);fl=6,il=null}function nu(e,t,n,r,i,a,s,c,l){e.cancelPendingCommit=null;do{ou()}while(0!==Al);if(6&nl)throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),d=1<<u;o[u]=0,c[u]=-1;var f=l[u];if(null!==f)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=Cr,s,c,l),e===rl&&(il=rl=null,al=0),Cl=t,_l=e,kl=n,Il=a,Pl=i,Ol=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Z(ae,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=N.T,N.T=null,i=L.p,L.p=2,s=nl,nl|=4;try{!function(e,t){if(e=e.containerInfo,td=ef,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(c=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===i&&(c=s),p===a&&++d===r&&(l=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},ef=!1,Sc=t;null!==Sc;)if(e=(t=Sc).child,1024&t.subtreeFlags&&null!==e)e.return=t,Sc=e;else for(;null!==Sc;){switch(a=(t=Sc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var b=yo(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(b,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){uu(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))bd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Sc=e;break}Sc=t.return}}(e,t)}finally{nl=s,L.p=i,N.T=r}}Al=1,ru(),iu(),au()}}function ru(){if(1===Al){Al=0;var e=_l,t=Cl,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=N.T,N.T=null;var r=L.p;L.p=2;var i=nl;nl|=4;try{Nc(t,e);var a=nd,s=er(e.containerInfo),o=a.focusedElem,c=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Qn(o.ownerDocument.documentElement,o)){if(null!==c&&tr(o)){var l=c.start,u=c.end;if(void 0===u&&(u=l),"selectionStart"in o)o.selectionStart=l,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),h=o.textContent.length,b=Math.min(c.start,h),y=void 0===c.end?b:Math.min(c.end,h);!p.extend&&b>y&&(s=y,y=b,b=s);var m=Xn(o,b),g=Xn(o,y);if(m&&g&&(1!==p.rangeCount||p.anchorNode!==m.node||p.anchorOffset!==m.offset||p.focusNode!==g.node||p.focusOffset!==g.offset)){var w=d.createRange();w.setStart(m.node,m.offset),p.removeAllRanges(),b>y?(p.addRange(w),p.extend(g.node,g.offset)):(w.setEnd(g.node,g.offset),p.addRange(w))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var v=d[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}ef=!!td,nd=td=null}finally{nl=i,L.p=r,N.T=n}}e.current=t,Al=2}}function iu(){if(2===Al){Al=0;var e=_l,t=Cl,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=N.T,N.T=null;var r=L.p;L.p=2;var i=nl;nl|=4;try{Tc(e,t.alternate,t)}finally{nl=i,L.p=r,N.T=n}}Al=3}}function au(){if(4===Al||3===Al){Al=0,ee();var e=_l,t=Cl,n=kl,r=Ol;10256&t.subtreeFlags||10256&t.flags?Al=5:(Al=0,Cl=_l=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Tl=null),Ie(n),t=t.stateNode,de&&"function"==typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=N.T,i=L.p,L.p=2,N.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{N.T=t,L.p=i}}3&kl&&ou(),xu(e),i=e.pendingLanes,4194090&n&&42&i?e===Rl?Ml++:(Ml=0,Rl=e):Ml=0,Su(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Ni(t))}function ou(e){return ru(),iu(),au(),cu()}function cu(){if(5!==Al)return!1;var e=_l,t=Il;Il=0;var n=Ie(kl),r=N.T,i=L.p;try{L.p=32>n?32:n,N.T=null,n=Pl,Pl=null;var a=_l,s=kl;if(Al=0,Cl=_l=null,kl=0,6&nl)throw Error(o(331));var c=nl;if(nl|=4,Zc(a.current),Hc(a,a.current,s,n),nl=c,Su(0,!1),de&&"function"==typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(e){}return!0}finally{L.p=i,N.T=r,su(e,t)}}function lu(e,t,n){t=Tr(n,t),null!==(e=aa(e,t=So(e.stateNode,t,2),2))&&(Ae(e,2),xu(e))}function uu(e,t,n){if(3===e.tag)lu(e,e,n);else for(;null!==t;){if(3===t.tag){lu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Tl||!Tl.has(r))){e=Tr(n,e),null!==(r=aa(t,n=To(2),2))&&(Ao(n,r,t,e),Ae(r,2),xu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(ul=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rl===e&&(al&n)===n&&(4===fl||3===fl&&(62914560&al)===al&&300>te()-El?!(2&nl)&&Hl(e,0):bl|=n,ml===al&&(ml=0)),xu(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Or(e,t))&&(Ae(e,t),xu(e))}function hu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function bu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,mu=null,gu=!1,wu=!1,vu=!1,Eu=0;function xu(e){e!==mu&&null===e.next&&(null===mu?yu=mu=e:mu=mu.next=e),wu=!0,gu||(gu=!0,dd(function(){6&nl?Z(re,Tu):Au()}))}function Su(e,t){if(!vu&&wu){vu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-pe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,ku(r,a))}else a=al,!(3&(a=we(r,r===rl?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ve(r,a)||(n=!0,ku(r,a));r=r.next}}while(n);vu=!1}}function Tu(){Au()}function Au(){wu=gu=!1;var e,t=0;0!==Eu&&(((e=window.event)&&"popstate"===e.type?e!==od&&(od=e,!0):(od=null,!1))&&(t=Eu),Eu=0);for(var n=te(),r=null,i=yu;null!==i;){var a=i.next,s=_u(i,n);0===s?(i.next=null,null===r?yu=a:r.next=a,null===a&&(mu=r)):(r=i,(0!==t||3&s)&&(wu=!0)),i=a}Su(t,!1)}function _u(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-pe(a),o=1<<s,c=i[s];-1===c?0!==(o&n)&&0===(o&r)||(i[s]=Ee(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}if(n=al,n=we(e,e===(t=rl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sl||9===sl)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||ve(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Ie(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=oe}return r=Cu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Al&&5!==Al)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=al;return 0===(r=we(e,e===rl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Bl(e,r,t),_u(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function ku(e,t){if(ou())return null;Bl(e,t,!0)}function Iu(){return 0===Eu&&(Eu=xe()),Eu}function Pu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:It(""+e)}function Ou(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Mu=0;Mu<Er.length;Mu++){var Ru=Er[Mu];xr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}xr(pr,"onAnimationEnd"),xr(hr,"onAnimationIteration"),xr(br,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(yr,"onTransitionRun"),xr(mr,"onTransitionStart"),xr(gr,"onTransitionCancel"),xr(wr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function Du(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=l;try{a(i)}catch(e){mo(e)}i.currentTarget=null,a=c}else for(s=0;s<r.length;s++){if(c=(o=r[s]).instance,l=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=l;try{a(i)}catch(e){mo(e)}i.currentTarget=null,a=c}}}}function Bu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||($u(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),$u(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Uu]){e[Uu]=!0,We.forEach(function(t){"selectionchange"!==t&&(Lu.has(t)||ju(t,!1,e),ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,ju("selectionchange",!1,t))}}function $u(e,t,n,r){switch(cf(t)){case 2:var i=tf;break;case 8:i=nf;break;default:i=rf}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zu(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=$e(o)))return;if(5===(l=s.tag)||6===l||26===l||27===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Dt(function(){var r=a,i=Ot(n),s=[];e:{var o=vr.get(e);if(void 0!==o){var l=Qt,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":l=bn;break;case"focusin":u="focus",l=sn;break;case"focusout":u="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mn;break;case pr:case hr:case br:l=on;break;case wr:l=gn;break;case"scroll":case"scrollend":l=tn;break;case"wheel":l=wn;break;case"copy":case"cut":case"paste":l=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=yn;break;case"toggle":case"beforetoggle":l=vn}var d=!!(4&t),f=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var h,b=r;null!==b;){var y=b;if(h=y.stateNode,5!==(y=y.tag)&&26!==y&&27!==y||null===h||null===p||null!=(y=Bt(b,p))&&d.push(Hu(b,y,h)),f)break;b=b.return}0<d.length&&(o=new l(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[Ne])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(f=c(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(l=null,u=r),l!==u)){if(d=rn,y="onMouseLeave",p="onMouseEnter",b="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,y="onPointerLeave",p="onPointerEnter",b="pointer"),f=null==l?o:He(l),h=null==u?o:He(u),(o=new d(y,b+"leave",l,n,i)).target=f,o.relatedTarget=h,y=null,$e(i)===r&&((d=new d(p,b+"enter",u,n,i)).target=h,d.relatedTarget=f,y=d),f=y,l&&u)e:{for(p=u,b=0,h=d=l;h;h=Ku(h))b++;for(h=0,y=p;y;y=Ku(y))h++;for(;0<b-h;)d=Ku(d),b--;for(;0<h-b;)p=Ku(p),h--;for(;b--;){if(d===p||null!==p&&d===p.alternate)break e;d=Ku(d),p=Ku(p)}d=null}else d=null;null!==l&&Wu(s,o,l,d,!1),null!==u&&null!==f&&Wu(s,f,u,d,!0)}if("select"===(l=(o=r?He(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=jn;else if(Mn(o))if(Un)m=Gn;else{m=Wn;var g=Kn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(m=jn):m=Vn;switch(m&&(m=m(e,r))?Rn(s,m,n,i):(g&&g(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&gt(o,"number",o.value)),g=r?He(r):window,e){case"focusin":(Mn(g)||"true"===g.contentEditable)&&(rr=g,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var w;if(xn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Pn?kn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(An&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Pn&&(w=qt()):(zt="value"in($t=i)?$t.value:$t.textContent,Pn=!0)),0<(g=qu(r,v)).length&&(v=new ln(v,e,null,n,i),s.push({event:v,listeners:g}),(w||null!==(w=In(n)))&&(v.data=w))),(w=Tn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Cn=!0,_n);case"textInput":return(e=t.data)===_n&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!xn&&kn(e,t)?(e=qt(),Ht=zt=$t=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(v=qu(r,"onBeforeInput")).length&&(g=new ln("onBeforeInput","beforeinput",null,n,i),s.push({event:g,listeners:v}),g.data=w),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Pu((i[Re]||null).action),s=r.submitter;s&&null!==(t=(t=s[Re]||null)?Pu(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Qt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Eu){var e=s?Ou(i,s):new FormData(i);Ps(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(o.preventDefault(),e=s?Ou(i,s):new FormData(i),Ps(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Du(s,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Bt(e,n))&&r.unshift(Hu(e,i,a)),null!=(i=Bt(e,t))&&r.push(Hu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,c=o.alternate,l=o.stateNode;if(o=o.tag,null!==c&&c===r)break;5!==o&&26!==o&&27!==o||null===l||(c=l,i?null!=(l=Bt(n,a))&&s.unshift(Hu(n,l,c)):i||null!=(l=Bt(n,a))&&s.push(Hu(n,l,c))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Vu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Yu(e){return("string"==typeof e?e:""+e).replace(Vu,"\n").replace(Gu,"")}function Ju(e,t){return t=Yu(t),Yu(e)===t}function Zu(){}function Xu(e,t,n,r,i,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":At(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"onScroll":null!=r&&Bu("scroll",e);break;case"onScrollEnd":null!=r&&Bu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Bu("beforetoggle",e),Bu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Qu(e,t,n,r,i,a){switch(n){case"style":At(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"==typeof r?xt(e,r):("number"==typeof r||"bigint"==typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&Bu("scroll",e);break;case"onScrollEnd":null!=r&&Bu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ve.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(a=null!=(a=e[Re]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bu("error",e),Bu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,r,s,n,null)}}return a&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Bu("invalid",e);var c=r=s=a=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Xu(e,t,i,d,n,null)}}return mt(e,r,c,l,u,s,a,!1),void dt(e);case"select":for(a in Bu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(c=n[a]))switch(a){case"value":r=c;break;case"defaultValue":s=c;break;case"multiple":i=c;default:Xu(e,t,a,c,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(s in Bu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(c=n[s]))switch(s){case"value":i=c;break;case"defaultValue":a=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(o(91));break;default:Xu(e,t,s,c,n,null)}return Et(e,i,a,r),void dt(e);case"option":for(l in n)n.hasOwnProperty(l)&&null!=(i=n[l])&&("selected"===l?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:Xu(e,t,l,i,n,null));return;case"dialog":Bu("beforetoggle",e),Bu("toggle",e),Bu("cancel",e),Bu("close",e);break;case"iframe":case"object":Bu("load",e);break;case"video":case"audio":for(i=0;i<Nu.length;i++)Bu(Nu[i],e);break;case"image":Bu("error",e),Bu("load",e);break;case"details":Bu("toggle",e);break;case"embed":case"source":case"link":Bu("error",e),Bu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(i=n[d])&&Qu(e,t,d,i,n,void 0);return}}for(c in n)n.hasOwnProperty(c)&&null!=(i=n[c])&&Xu(e,t,c,i,n,null)}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null,cd="function"==typeof setTimeout?setTimeout:void 0,ld="function"==typeof clearTimeout?clearTimeout:void 0,ud="function"==typeof Promise?Promise:void 0,dd="function"==typeof queueMicrotask?queueMicrotask:void 0!==ud?function(e){return ud.resolve(null).then(e).catch(fd)}:cd;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function hd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&Ed(s.documentElement),2&n&&Ed(s.body),4&n)for(Ed(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,c=s.nodeName;s[Ue]||"SCRIPT"===c||"STYLE"===c||"LINK"===c&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void _f(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);_f(t)}function bd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":bd(n),Fe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function md(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var gd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Ed(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fe(e)}var xd=new Map,Sd=new Set;function Td(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ad=L.d;L.d={f:function(){var e=Ad.f(),t=$l();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Ms(t):Ad.r(e)},D:function(e){Ad.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Ad.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Ad.L(e,t,n);var r=_d;if(r&&e&&t){var i='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+bt(n.imageSizes)+'"]')):i+='[href="'+bt(e)+'"]';var a=i;switch(t){case"style":a=Id(e);break;case"script":a=Md(e)}xd.has(a)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),xd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Pd(a))||"script"===t&&r.querySelector(Rd(a))||(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){Ad.m(e,t);var n=_d;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Md(e)}if(!xd.has(a)&&(e=f({rel:"modulepreload",href:e},t),xd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(a)))return}ed(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){Ad.X(e,t);var n=_d;if(n&&e){var r=qe(n).hoistableScripts,i=Md(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=f({src:e,async:!0},t),(t=xd.get(i))&&Bd(e,t),Ke(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Ad.S(e,t,n);var r=_d;if(r&&e){var i=qe(r).hoistableStyles,a=Id(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Pd(a)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=xd.get(a))&&Dd(e,n);var c=s=r.createElement("link");Ke(c),ed(c,"link",e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ld(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Ad.M(e,t);var n=_d;if(n&&e){var r=qe(n).hoistableScripts,i=Md(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=xd.get(i))&&Bd(e,t),Ke(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var _d="undefined"==typeof document?null:document;function Cd(e,t,n){var r=_d;if(r&&"string"==typeof t&&t){var i=bt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Sd.has(i)||(Sd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function kd(e,t,n,r){var i,a,s,c,l=(l=q.current)?Td(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Id(n.href),(r=(n=qe(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Id(n.href);var u=qe(l).hoistableStyles,d=u.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=l.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),xd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xd.set(e,n),u||(i=l,a=e,s=n,c=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),ed(a,"link",s),Ke(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Md(n),(r=(n=qe(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Id(e){return'href="'+bt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Md(e){return'[src="'+bt(e)+'"]'}function Rd(e){return"script[async]"+e}function Nd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(r)return t.instance=r,Ke(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Ld(r,n.precedence,e),t.instance=r;case"stylesheet":i=Id(n.href);var a=e.querySelector(Pd(i));if(a)return t.state.loading|=4,t.instance=a,Ke(a),a;r=Od(n),(i=xd.get(i))&&Dd(r,i),Ke(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",r),t.state.loading|=4,Ld(a,n.precedence,e),t.instance=a;case"script":return a=Md(n.src),(i=e.querySelector(Rd(a)))?(t.instance=i,Ke(i),i):(r=n,(i=xd.get(a))&&Bd(r=f({},n),i),Ke(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ld(r,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jd=null;function Ud(e,t,n){if(null===jd){var r=new Map,i=jd=new Map;i.set(n,r)}else(r=(i=jd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ue]||a[Me]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Fd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function $d(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var zd=null;function Hd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Vd,e),Kd=null,qd.call(e))}function Vd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=qd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:E,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Yd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Jd(e,t,n,r,i,a){i=function(e){return e?e=Nr:Nr}(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Dl(n,0,t),sa(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xd(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function Qd(e){if(13===e.tag){var t=Or(e,67108864);null!==t&&Dl(t,0,67108864),Xd(e,67108864)}}var ef=!0;function tf(e,t,n,r){var i=N.T;N.T=null;var a=L.p;try{L.p=2,rf(e,t,n,r)}finally{L.p=a,N.T=i}}function nf(e,t,n,r){var i=N.T;N.T=null;var a=L.p;try{L.p=8,rf(e,t,n,r)}finally{L.p=a,N.T=i}}function rf(e,t,n,r){if(ef){var i=af(r);if(null===i)zu(e,t,r,sf,n),mf(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return uf=gf(uf,e,t,n,r,i),!0;case"dragenter":return df=gf(df,e,t,n,r,i),!0;case"mouseover":return ff=gf(ff,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return pf.set(a,gf(pf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,hf.set(a,gf(hf.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(mf(e,r),4&t&&-1<yf.indexOf(e)){for(;null!==i;){var a=ze(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=ge(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var c=1<<31-pe(s);o.entanglements[1]|=c,s&=~c}xu(a),!(6&nl)&&(xl=te()+500,Su(0,!1))}}break;case 13:null!==(o=Or(a,2))&&Dl(o,0,2),$l(),Xd(a,2)}if(null===(a=af(r))&&zu(e,t,r,sf,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zu(e,t,r,null,n)}}function af(e){return of(e=Ot(e))}var sf=null;function of(e){if(sf=null,null!==(e=$e(e))){var t=c(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sf=e,null}function cf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var lf=!1,uf=null,df=null,ff=null,pf=new Map,hf=new Map,bf=[],yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mf(e,t){switch(e){case"focusin":case"focusout":uf=null;break;case"dragenter":case"dragleave":df=null;break;case"mouseover":case"mouseout":ff=null;break;case"pointerover":case"pointerout":pf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hf.delete(t.pointerId)}}function gf(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=ze(t))&&Qd(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wf(e){var t=$e(e.target);if(null!==t){var n=c(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void function(e){var t=L.p;try{return L.p=e,function(){if(13===n.tag){var e=Nl();e=ke(e);var t=Or(n,e);null!==t&&Dl(t,0,e),Xd(n,e)}}()}finally{L.p=t}}(e.priority)}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=af(e.nativeEvent);if(null!==n)return null!==(t=ze(n))&&Qd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Ef(e,t,n){vf(e)&&n.delete(t)}function xf(){lf=!1,null!==uf&&vf(uf)&&(uf=null),null!==df&&vf(df)&&(df=null),null!==ff&&vf(ff)&&(ff=null),pf.forEach(Ef),hf.forEach(Ef)}function Sf(e,t){e.blockedOn===t&&(e.blockedOn=null,lf||(lf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xf)))}var Tf=null;function Af(e){Tf!==e&&(Tf=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Tf===e&&(Tf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===of(r||n))continue;break}var a=ze(n);null!==a&&(e.splice(t,3),t-=3,Ps(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function _f(e){function t(t){return Sf(t,e)}null!==uf&&Sf(uf,e),null!==df&&Sf(df,e),null!==ff&&Sf(ff,e),pf.forEach(t),hf.forEach(t);for(var n=0;n<bf.length;n++){var r=bf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<bf.length&&null===(n=bf[0]).blockedOn;)wf(n),null===n.blockedOn&&bf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Re]||null;if("function"==typeof a)s||Af(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Re]||null)o=s.formAction;else if(null!==of(i))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Af(n)}}}function Cf(e){this._internalRoot=e}function kf(e){this._internalRoot=e}kf.prototype.render=Cf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jd(t.current,Nl(),e,t,null,null)},kf.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),$l(),t[Ne]=null}},kf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bf.length&&0!==t&&t<bf[n].priority;n++);bf.splice(n,0,e),0===n&&wf(e)}};var If=a.version;if("19.1.1"!==If)throw Error(o(527,If,"19.1.1"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?d(e):null)?null:e.stateNode};var Pf={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{ue=Of.inject(Pf),de=Of}catch(e){}}t.createRoot=function(e,t){if(!(n=e)||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(o(299));var n,r=!1,i="",a=go,s=wo,c=vo;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=function(e,t,n,r,i,a,s,o,c,l,u,d){return e=new Yd(e,t,n,s,o,c,l,d),t=1,!0===a&&(t|=24),a=Dr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}(e,1,!1,null,0,r,i,a,s,c,0,null),e[Ne]=t.current,Fu(e),new Cf(t)}},87041:(e,t,n)=>{"use strict";n.d(t,{Q:()=>g});var r=n(34820),i=n(14323),a=n(81526),s=n(38903),o=n(84599),c=n(75255),l=n(50761);class u extends i.C{constructor(e,{account:t,docsPath:n,chain:r,data:i,gas:a,gasPrice:s,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:f,to:p,value:h}){const b=(0,l.aO)({from:t?.address,to:p,value:void 0!==h&&`${(0,o.c)(h)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:void 0!==s&&`${(0,c.Q)(s)} gwei`,maxFeePerGas:void 0!==u&&`${(0,c.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,c.Q)(d)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var d=n(88681),f=n(37237),p=n(16406),h=n(16590),b=n(29274),y=n(70823),m=n(58423);async function g(e,t){const{account:n=e.account,prepare:o=!0}=t,c=n?(0,r.J)(n):void 0,l=Array.isArray(o)?o:"local"!==c?.type?["blobVersionedHashes"]:void 0;try{const{accessList:n,authorizationList:r,blobs:u,blobVersionedHashes:d,blockNumber:f,blockTag:g,data:w,gas:v,gasPrice:E,maxFeePerBlobGas:x,maxFeePerGas:S,maxPriorityFeePerGas:T,nonce:A,value:_,stateOverride:C,...k}=o?await(0,m.ft)(e,{...t,parameters:l}):t,I=("bigint"==typeof f?(0,s.cK)(f):void 0)||g,P=(0,b.yH)(C),O=await(async()=>k.to?k.to:r&&r.length>0?await(0,a.g)({authorization:r[0]}).catch(()=>{throw new i.C("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,y.c)(t);const M=e.chain?.formatters?.transactionRequest?.format,R=(M||h.Bv)({...(0,p.o)(k,{format:M}),account:c,accessList:n,authorizationList:r,blobs:u,blobVersionedHashes:d,data:w,gas:v,gasPrice:E,maxFeePerBlobGas:x,maxFeePerGas:S,maxPriorityFeePerGas:T,nonce:A,to:O,value:_},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:P?[R,I??e.experimental_blockTag??"latest",P]:I?[R,I]:[R]}))}catch(n){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,f.l)(e,n);return t instanceof d.RM?e:t})();return new u(r,{docsPath:t,...n})}(n,{...t,account:c,chain:e.chain})}}},87093:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(73111),t),i(n(90172),t),i(n(80145),t),i(n(95636),t),i(n(75573),t),i(n(96174),t)},87103:(e,t,n)=>{const r=n(39907),{ArrayIsArray:i,Promise:a,SymbolAsyncIterator:s,SymbolDispose:o}=n(70273),c=n(92549),{once:l}=n(48449),u=n(20863),d=n(96631),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:g}=n(61150),{validateFunction:w,validateAbortSignal:v}=n(98080),{isIterable:E,isReadable:x,isReadableNodeStream:S,isNodeStream:T,isTransformStream:A,isWebStream:_,isReadableStream:C,isReadableFinished:k}=n(38104),I=globalThis.AbortController||n(67083).AbortController;let P,O,M;function R(e,t,n){let r=!1;return e.on("close",()=>{r=!0}),{destroy:t=>{r||(r=!0,u.destroyer(e,t||new y("pipe")))},cleanup:c(e,{readable:t,writable:n},e=>{r=!e})}}function N(e){if(E(e))return e;if(S(e))return async function*(e){O||(O=n(59333)),yield*O.prototype[s].call(e)}(e);throw new p("val",["Readable","Iterable","AsyncIterable"],e)}async function L(e,t,n,{end:r}){let i,s=null;const o=e=>{if(e&&(i=e),s){const e=s;s=null,e()}},l=()=>new a((e,t)=>{i?t(i):s=()=>{i?t(i):e()}});t.on("drain",o);const u=c(t,{readable:!1},o);try{t.writableNeedDrain&&await l();for await(const n of e)t.write(n)||await l();r&&(t.end(),await l()),n()}catch(e){n(i!==e?f(i,e):e)}finally{u(),t.off("drain",o)}}async function D(e,t,n,{end:r}){A(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,r&&await i.close(),n()}catch(e){try{await i.abort(e),n(e)}catch(e){n(e)}}}function B(e,t,a){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new b("streams");const s=new I,c=s.signal,l=null==a?void 0:a.signal,u=[];function f(){F(new g)}let y,m,w;v(l,"options.signal"),M=M||n(48449).addAbortListener,l&&(y=M(l,f));const k=[];let O,B=0;function U(e){F(e,0===--B)}function F(e,n){var i;if(!e||m&&"ERR_STREAM_PREMATURE_CLOSE"!==m.code||(m=e),m||n){for(;k.length;)k.shift()(m);null===(i=y)||void 0===i||i[o](),s.abort(),n&&(m||u.forEach(e=>e()),r.nextTick(t,m,w))}}for(let q=0;q<e.length;q++){const K=e[q],W=q<e.length-1,V=q>0,G=W||!1!==(null==a?void 0:a.end),Y=q===e.length-1;if(T(K)){if(G){const{destroy:J,cleanup:Z}=R(K,W,V);k.push(J),x(K)&&Y&&u.push(Z)}function $(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&U(e)}K.on("error",$),x(K)&&Y&&u.push(()=>{K.removeListener("error",$)})}if(0===q)if("function"==typeof K){if(O=K({signal:c}),!E(O))throw new h("Iterable, AsyncIterable or Stream","source",O)}else O=E(K)||S(K)||A(K)?K:d.from(K);else if("function"==typeof K){var z;if(O=A(O)?N(null===(z=O)||void 0===z?void 0:z.readable):N(O),O=K(O,{signal:c}),W){if(!E(O,!0))throw new h("AsyncIterable",`transform[${q-1}]`,O)}else{var H;P||(P=n(45691));const X=new P({objectMode:!0}),Q=null===(H=O)||void 0===H?void 0:H.then;if("function"==typeof Q)B++,Q.call(O,e=>{w=e,null!=e&&X.write(e),G&&X.end(),r.nextTick(U)},e=>{X.destroy(e),r.nextTick(U,e)});else if(E(O,!0))B++,L(O,X,U,{end:G});else{if(!C(O)&&!A(O))throw new h("AsyncIterable or Promise","destination",O);{const ne=O.readable||O;B++,L(ne,X,U,{end:G})}}O=X;const{destroy:ee,cleanup:te}=R(O,!1,!0);k.push(ee),Y&&u.push(te)}}else if(T(K)){if(S(O)){B+=2;const re=j(O,K,U,{end:G});x(K)&&Y&&u.push(re)}else if(A(O)||C(O)){const ie=O.readable||O;B++,L(ie,K,U,{end:G})}else{if(!E(O))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],O);B++,L(O,K,U,{end:G})}O=K}else if(_(K)){if(S(O))B++,D(N(O),K,U,{end:G});else if(C(O)||E(O))B++,D(O,K,U,{end:G});else{if(!A(O))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],O);B++,D(O.readable,K,U,{end:G})}O=K}else O=d.from(K)}return(null!=c&&c.aborted||null!=l&&l.aborted)&&r.nextTick(f),O}function j(e,t,n,{end:i}){let a=!1;if(t.on("close",()=>{a||n(new m)}),e.pipe(t,{end:!1}),i){function s(){a=!0,t.end()}k(e)?r.nextTick(s):e.once("end",s)}else n();return c(e,{readable:!0,writable:!1},t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)}),c(t,{readable:!1,writable:!0},n)}e.exports={pipelineImpl:B,pipeline:function(...e){return B(e,l(function(e){return w(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},87196:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},87433:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,r:()=>r});const r={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},i={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"}},87639:(e,t,n)=>{"use strict";var r=n(27237),i=n(28101),a=n(84834),s=Object.prototype.toString;e.exports=function(e){return t=e,"[object Date]"===s.call(t)?e:function(e){return"[object Number]"===s.call(e)}(e)?new Date((n=e)<315576e5?1e3*n:n):r.is(e)?r.parse(e):i.is(e)?i.parse(e):a.is(e)?a.parse(e):new Date(e);var t,n}},88128:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},88129:e=>{"use strict";e.exports=Math.max},88610:(e,t,n)=>{"use strict";const{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:a,Uint8Array:s}=n(70273),{Buffer:o}=n(1048),{inspect:c}=n(48449);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;for(;null!==(t=t.next);)n+=e+t.data;return n}concat(e){if(0===this.length)return o.alloc(0);const t=o.allocUnsafe(e>>>0);let n=this.head,r=0;for(;n;)a(t,n.data,r),r+=n.data.length,n=n.next;return t}consume(e,t){const n=this.head.data;if(e<n.length){const t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{const a=n.data;if(!(e>a.length)){e===a.length?(t+=a,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(a,0,e),this.head=n,n.data=r(a,e));break}t+=a,e-=a.length,++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){const t=o.allocUnsafe(e),n=e;let r=this.head,i=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(a(t,o,n-e),++i,r.next?this.head=r.next:this.head=this.tail=null):(a(t,new s(o.buffer,o.byteOffset,e),n-e),this.head=r,r.data=o.slice(e));break}a(t,o,n-e),e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},88612:(e,t,n)=>{"use strict";function r(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${a?`.${a}`:""}`}n.d(t,{J:()=>r})},88615:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});class r extends Error{constructor(e,t={}){const n=t.cause instanceof r?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof r&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],"Version: abitype@1.1.0"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}}},88681:(e,t,n)=>{"use strict";n.d(t,{A7:()=>a,BG:()=>s,Fo:()=>p,K0:()=>c,Oh:()=>l,RM:()=>y,jj:()=>o,k5:()=>d,lN:()=>b,lY:()=>f,uC:()=>h,vW:()=>u});var r=n(75255),i=n(14323);class a extends i.C{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class s extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.Q)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class o extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.Q)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends i.C{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.C{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class f extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class p extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class h extends i.C{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class b extends i.C{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,r.Q)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${(0,r.Q)(n)} gwei`:""}).`].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(b,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class y extends i.C{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}},88839:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(31693),t),i(n(19520),t),i(n(39693),t)},89011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const r=n(87093),i=n(66690),a=n(15482);t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",e=>null!==(0,i.valid)(e)||`Expected SemVer version, got "${e}"`),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",e=>null!==(0,i.validRange)(e)||`Expected SemVer range, got "${e}"`),t.isValidSemVerVersion=function(e){return(0,r.is)(e,t.VersionStruct)},t.isValidSemVerRange=function(e){return(0,r.is)(e,t.VersionRangeStruct)},t.assertIsSemVerVersion=function(e){(0,a.assertStruct)(e,t.VersionStruct)},t.assertIsSemVerRange=function(e){(0,a.assertStruct)(e,t.VersionRangeStruct)},t.gtVersion=function(e,t){return(0,i.gt)(e,t)},t.gtRange=function(e,t){return(0,i.gtr)(e,t)},t.satisfiesVersionRange=function(e,t){return(0,i.satisfies)(e,t,{includePrerelease:!0})}},89042:(e,t)=>{"use strict";var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),a=i>>8,s=255&i;a?n.push(a,s):n.push(s)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}},89048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.address=t.getAddress=void 0;const r=n(76728),i=n(19520),a=n(26769);t.getAddress=e=>{const t=(0,r.createBytes)(e);return(0,r.assert)(t.length<=20,new i.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${t.length} bytes.`)),(0,a.padStart)(t,20)},t.address={isDynamic:!1,isType:e=>"address"===e,getByteLength:()=>32,encode({buffer:e,value:n,packed:i}){const s=(0,t.getAddress)(n);if(i)return(0,r.concatBytes)([e,s]);const o=(0,a.padStart)(s);return(0,r.concatBytes)([e,o])},decode:({value:e})=>(0,r.add0x)((0,r.bytesToHex)(e.slice(12,32)))}},89059:(e,t,n)=>{"use strict";function r(){const e=new Set;let t=[];const n=()=>function(){if("undefined"==typeof window)return;const n=n=>{return r=n.detail,void(t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]}))));var r};return window.addEventListener("eip6963:announceProvider",n),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",n)}();let r=n();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),r?.(),r=n()},subscribe:(n,{emitImmediately:r}={})=>(e.add(n),r&&n(t,{added:t}),()=>e.delete(n))}}n.d(t,{y:()=>r})},89095:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(50761),i=n(70895);async function a(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new r.Kc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||i.uL)(n,"getTransactionReceipt")}},89146:(e,t,n)=>{"use strict";n.d(t,{$j:()=>a,JB:()=>i});var r=n(56512);const i=n.n(r)()();let a=function(e){return e.ACCOUNTS_CHANGED="accountsChanged",e.CHAIN_CHANGED="chainChanged",e.CONNECT="connect",e.DISCONNECT="disconnect",e.MESSAGE="message",e}({})},89620:(e,t,n)=>{const r=n(61049),i=n(34202);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},89827:(e,t,n)=>{"use strict";n.d(t,{e:()=>m});var r=n(90465),i=n(52218),a=n(63957),s=n(3833),o=n(33378),c=n(25082),l=n(13888),u=n(75690),d=n(81632),f=n(26358);class p extends d.D{constructor({config:e,state:t}){super({config:e,state:t})}async switchChain(e){throw f.T7.unsupportedOperation("Chain switching is not supported by this connector")}async setupProvider(e,t){const n=new c.WJ,r=this.getChain(t),i=this.getProviderHandlers(e),a=(0,u.Fo)(i);n.push(a);const s=(0,l.N9)(r);n.push(s);const o=this.getInjectedProviderProxy(e);o&&n.push(o);const d=(0,c.iR)(n);this.updateProviderEngineProxy(d),await this.lookupNetwork(e,t)}async lookupNetwork(e,t){return this.update({chainId:t}),t||""}getInjectedProviderProxy(e){}}var h=n(8017),b=n(31721),y=n(1048).Buffer;class m extends p{getProviderHandlers(e){const t=(0,b.M)(this.config.chain),n=()=>{const t=null==e?void 0:e.accounts[0];if(!t)throw f.T7.notConnectedError();return t};return c={get publicKey(){return new s.J3(n().publicKey)},signMessage:async t=>{const i=n(),a=new Uint8Array(y.from(t,"utf-8")),s=await e.features[r.F].signMessage({account:i,message:a});return o.r.encode(s[0].signature)},signTransaction:async r=>{const a=n(),c=await e.features[i.q].signTransaction({account:a,transaction:new Uint8Array(y.from(r,"base64")),chain:t});return o.r.encode(s.Kt.deserialize(c[0].signedTransaction).signatures[0])},signAllTransactions:async r=>{const a=n();return Promise.all(r.map(async n=>{const r=await e.features[i.q].signTransaction({account:a,transaction:new Uint8Array(y.from(n,"base64")),chain:t});return y.from(r[0].signedTransaction).toString("base64")}))},signAndSendTransaction:async r=>{const i=n(),s=await e.features[a.R].signAndSendTransaction({account:i,transaction:new Uint8Array(y.from(r,"base64")),chain:t});return o.r.encode(s[0].signature)}},{requestAccounts:async()=>c.publicKey?[o.r.encode(c.publicKey.toBytes())]:[],getPublicKey:async()=>c.publicKey?o.r.encode(c.publicKey.toBytes()):"",getAccounts:async()=>c.publicKey?[o.r.encode(c.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw h.r.methodNotSupported()},getSecretKey:async()=>{throw h.r.methodNotSupported()},signTransaction:async e=>await c.signTransaction(e.params.message),signMessage:async e=>await c.signMessage(e.params.data,e.params.from,e.params.display),signAllTransactions:async e=>{var t,n;if(null===(t=e.params)||void 0===t||!t.message||null===(n=e.params)||void 0===n||!n.message.length)throw h.r.invalidParams("message");return await c.signAllTransactions(e.params.message)},signAndSendTransaction:async e=>await c.signAndSendTransaction(e.params.message)};var c}}},89962:(e,t,n)=>{"use strict";n.d(t,{b:()=>u,o:()=>l});var r=n(66077),i=n(62421),a=n(19555),s=n(95394),o=n(95068);const c=new s.A(8192);function l(e,t){if(c.has(`${e}.${t}`))return c.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=(0,a.S)((0,i.Af)(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&s[e]&&(s[e]=s[e].toUpperCase()),(15&r[e>>1])>=8&&s[e+1]&&(s[e+1]=s[e+1].toUpperCase());const o=`0x${s.join("")}`;return c.set(`${e}.${t}`,o),o}function u(e,t){if(!(0,o.P)(e,{strict:!1}))throw new r.M({address:e});return l(e,t)}},90097:(e,t,n)=>{"use strict";n.d(t,{J:()=>S});var r=n(69740),i=n(98158),a=n(30184),s=n(42558),o=n(50327),c=n(65839),l=n(35864),u=n(35682),d=n(11795),f=n(98844),p=n(93493),h=n(58501),b=n(5339),y=n(34052),m=n(46702),g=n(10286);const w=async({bytes:e,index:t,secp256k1VerificationFacetAddress:n})=>(0,g.p)({abi:[{inputs:[{internalType:"address",name:"_verificationFacet",type:"address"},{internalType:"bytes",name:"_owner",type:"bytes"},{internalType:"uint256",name:"_salt",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract Barz",name:"barz",type:"address"}],stateMutability:"nonpayable",type:"function"}],functionName:"createAccount",args:[n,e,t]});async function v(e,t,n,r){return e.signTypedData({domain:{chainId:Number(t),name:"Barz",verifyingContract:n,version:"v0.2.0"},types:{BarzMessage:[{name:"message",type:"bytes"}]},message:{message:r},primaryType:"BarzMessage"})}const E={secp256k1VerificationFacetAddress:"0x81b9E3689390C7e74cF526594A105Dea21a8cdD5",factoryAddress:"0x729c310186a57833f622630a16d13f710b83272a"};var x=n(92336);class S{constructor(e){(0,i.A)(this,"name",x.o0.TRUST),(0,i.A)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n;return async function(e){const{owner:t,client:n,index:r=0n,address:i,factoryAddress:x=E.factoryAddress,secp256k1VerificationFacetAddress:S=E.secp256k1VerificationFacetAddress}=e,T=await(0,y.F)({owner:t});let A=i;const _={address:e.entryPoint?.address??u.B9,abi:d.hw,version:e.entryPoint?.version??"0.6"};let C;const k=async()=>C||(C=n.chain?n.chain.id:await(0,h.T)(n,o.T,"getChainId")({}),C),I=async()=>({factory:x,factoryData:await w({bytes:T.address,secp256k1VerificationFacetAddress:S,index:r})});return(0,f.q)({client:n,entryPoint:_,getFactoryArgs:I,async getAddress(){if(A)return A;const{factory:e,factoryData:t}=await I();return A=await(0,b.s)(n,{factory:e,factoryData:t,entryPointAddress:_.address}),A},encodeCalls:async e=>(async e=>{if(e.length>1)return(0,g.p)({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"executeBatch",args:[e.map(e=>e.to),e.map(e=>e.value??0n),e.map(e=>e.data??"0x")]});const t=0===e.length?void 0:e[0];if(!t)throw new Error("No calls to encode");return(0,g.p)({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"execute",args:[t.to,t.value??0n,t.data??"0x"]})})(e),decodeCalls:async e=>(async e=>{try{const t=(0,m.J)({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],data:e}),n=[];for(let e=0;e<t.args[0].length;e++)n.push({to:t.args[0][e],value:t.args[1][e],data:t.args[2][e]});return n}catch(e){}const t=(0,m.J)({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],data:e});return[{to:t.args[0],value:t.args[1],data:t.args[2]}]})(e),async getNonce(t){return(0,l.p)(n,{address:await this.getAddress(),entryPointAddress:_.address,key:e?.nonceKey??t?.key})},getStubSignature:async()=>"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c",async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){return v(T,await k(),await this.getAddress(),(0,a.A)(e))},async signTypedData(e){return v(T,await k(),await this.getAddress(),(0,s.Zh)(e))},async signUserOperation(e){const{chainId:t=await k(),...r}=e;return(0,c.l)(n,{account:T,message:{raw:(0,p.Z)({userOperation:{...r,sender:r.sender??await this.getAddress(),signature:"0x"},entryPointAddress:_.address,entryPointVersion:_.version,chainId:t})}})}})}((0,r.A)((0,r.A)((0,r.A)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||u.B9,version:(null===(n=this.options)||void 0===n||null===(n=n.entryPoint)||void 0===n?void 0:n.version)||"0.6"}},e),{},{owner:e.walletClient,client:e.client}))}}},90172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.is=t.mask=t.create=t.assert=t.ExactOptionalStruct=t.Struct=void 0;const r=n(73111),i=n(92062);class a{constructor(e){const{type:t,schema:n,validator:r,refiner:a,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=n,this.entries=o,this.coercer=s,this.validator=r?(e,t)=>{const n=r(e,t);return(0,i.toFailures)(n,t,this,e)}:()=>[],this.refiner=a?(e,t)=>{const n=a(e,t);return(0,i.toFailures)(n,t,this,e)}:()=>[]}assert(e,t){return o(e,this,t)}create(e,t){return c(e,this,t)}is(e){return u(e,this)}mask(e,t){return l(e,this,t)}validate(e,t={}){return d(e,this,t)}}t.Struct=a;const s="EXACT_OPTIONAL";function o(e,t,n){const r=d(e,t,{message:n});if(r[0])throw r[0]}function c(e,t,n){const r=d(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function l(e,t,n){const r=d(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function u(e,t){return!d(e,t)[0]}function d(e,t,n={}){const a=(0,i.run)(e,t,n),s=(0,i.shiftIterator)(a);return s[0]?[new r.StructError(s[0],function*(){for(const e of a)e[0]&&(yield e[0])}),void 0]:[void 0,s[1]]}t.ExactOptionalStruct=class extends a{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=s}static isExactOptional(e){return(0,i.isObject)(e)&&"brand"in e&&e.brand===s}},t.assert=o,t.create=c,t.mask=l,t.is=u,t.validate=d},90244:(e,t,n)=>{"use strict";n.d(t,{a:()=>p});var r=n(34820),i=n(86237),a=n(38993),s=n(16406),o=n(39571),c=n(16590),l=n(58501),u=n(70823),d=n(74846),f=n(50327);async function p(e,t){const{account:n=e.account,accessList:p,authorizationList:h,chain:b=e.chain,blobVersionedHashes:y,blobs:m,data:g,gas:w,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:x,maxPriorityFeePerGas:S,nonce:T,nonceManager:A,to:_,type:C,value:k,...I}=t,P=await(async()=>{if(!n)return T;if(!A)return T;if(void 0!==T)return T;const t=(0,r.J)(n),i=b?b.id:await(0,l.T)(e,f.T,"getChainId")({});return await A.consume({address:t.address,chainId:i,client:e})})();(0,u.c)(t);const O=b?.formatters?.transactionRequest?.format,M=(O||c.Bv)({...(0,s.o)(I,{format:O}),account:n?(0,r.J)(n):void 0,accessList:p,authorizationList:h,blobs:m,blobVersionedHashes:y,data:g,gas:w,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:x,maxPriorityFeePerGas:S,nonce:P,to:_,type:C,value:k},"fillTransaction");try{const n=await e.request({method:"eth_fillTransaction",params:[M]}),r=(b?.formatters?.transaction?.format||o.uP)(n.tx);delete r.blockHash,delete r.blockNumber,delete r.r,delete r.s,delete r.transactionIndex,delete r.v,delete r.yParity,r.data=r.input,r.gas&&(r.gas=t.gas??r.gas),r.gasPrice&&(r.gasPrice=t.gasPrice??r.gasPrice),r.maxFeePerBlobGas&&(r.maxFeePerBlobGas=t.maxFeePerBlobGas??r.maxFeePerBlobGas),r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas??r.maxFeePerGas),r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas??r.maxPriorityFeePerGas),r.nonce&&(r.nonce=t.nonce??r.nonce);const a=await(async()=>{if("function"==typeof b?.fees?.baseFeeMultiplier){const n=await(0,l.T)(e,d.g,"getBlock")({});return b.fees.baseFeeMultiplier({block:n,client:e,request:t})}return b?.fees?.baseFeeMultiplier??1.2})();if(a<1)throw new i.sM;const s=10**(a.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(a*s))/BigInt(s);return r.maxFeePerGas&&!t.maxFeePerGas&&(r.maxFeePerGas=c(r.maxFeePerGas)),r.gasPrice&&!t.gasPrice&&(r.gasPrice=c(r.gasPrice)),{raw:n.raw,transaction:{from:M.from,...r}}}catch(n){throw(0,a.p)(n,{...t,chain:e.chain})}}},90247:(e,t,n)=>{"use strict";n.d(t,{remoteMiddlewares:()=>o});var r=n(85608),i=n(38730),a=n(20162),s=n(74695);function o(e,t,n){var o;return(0,r.sH)(this,void 0,void 0,function(){var c,l,u,d,f=this;return(0,r.YH)(this,function(p){switch(p.label){case 0:return(0,i.S)()?[2,[]]:(c=(0,s.YM)(),l=null!==(o=t.enabledMiddleware)&&void 0!==o?o:{},u=Object.entries(l).filter(function(e){return e[0],e[1]}).map(function(e){return e[0]}),d=u.map(function(t){return(0,r.sH)(f,void 0,void 0,function(){var i,s,o,l;return(0,r.YH)(this,function(r){switch(r.label){case 0:i=t.replace("@segment/",""),s=i,n&&(s=btoa(i).replace(/=/g,"")),o="".concat(c,"/middleware/").concat(s,"/latest/").concat(s,".js.gz"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,a.k)(o)];case 2:return r.sent(),[2,window["".concat(i,"Middleware")]];case 3:return l=r.sent(),e.log("error",l),e.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}),[4,Promise.all(d)]);case 1:return[2,p.sent().filter(Boolean)]}})})}},90465:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});const r="solana:signMessage"},90785:(e,t,n)=>{"use strict";n.d(t,{aD:()=>a});var r=n(63390),i=n(22073);function a(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new s({publicKey:e});return 130===e.length?{prefix:4,x:BigInt(i.di(e,0,32)),y:BigInt(i.di(e,32,64))}:132===e.length?{prefix:Number(i.di(e,0,1)),x:BigInt(i.di(e,1,33)),y:BigInt(i.di(e,33,65))}:{prefix:Number(i.di(e,0,1)),x:BigInt(i.di(e,1,33))}}n(79423),r.C,r.C,r.C,r.C;class s extends r.C{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${i.Ej(i.HT(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}},90932:(e,t,n)=>{"use strict";function r(e,t){const n=e.exec(t);return n?.groups}n.d(t,{BD:()=>i,Ge:()=>a,Yv:()=>r,wj:()=>s});const i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,a=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,s=/^\(.+?\).*?$/},90958:(e,t,n)=>{"use strict";function r(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let e=0;e<n.length-1&&"0"===n["left"===t?e:n.length-e-1].toString();e++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}n.d(t,{B:()=>r})},91194:(e,t,n)=>{"use strict";n.d(t,{accountAbstractionProvider:()=>r.t0,toEoaProvider:()=>r.cm});var r=n(47002)},91315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14979);r.__exportStar(n(33661),t),r.__exportStar(n(77048),t),r.__exportStar(n(17009),t),r.__exportStar(n(23493),t)},91576:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e}function i(e){return"number"==typeof e}function a(e){return"function"==typeof e}function s(e){return null!=e}function o(e){return"object"===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}n.d(t,{Et:()=>i,Kg:()=>r,Qd:()=>o,Tn:()=>a,t2:()=>s})},91715:(e,t,n)=>{"use strict";const r=n(61253);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},91836:(e,t,n)=>{"use strict";n.d(t,{Hi:()=>i,ft:()=>a,uj:()=>o});var r=n(14323);class i extends r.C{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class a extends r.C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function s(e){return e.reduce((e,{slot:t,value:n})=>`${e}        ${t}: ${n}\n`,"")}function o(e){return e.reduce((e,{address:t,...n})=>{let r=`${e}    ${t}:\n`;return n.nonce&&(r+=`      nonce: ${n.nonce}\n`),n.balance&&(r+=`      balance: ${n.balance}\n`),n.code&&(r+=`      code: ${n.code}\n`),n.state&&(r+="      state:\n",r+=s(n.state)),n.stateDiff&&(r+="      stateDiff:\n",r+=s(n.stateDiff)),r},"  State Override:\n").slice(0,-1)}},91959:(e,t,n)=>{"use strict";n.d(t,{Xd:()=>i,m8:()=>r});const r="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",i="0x0000000000000000000000000000000000000000"},92062:(e,t)=>{"use strict";function n(e){return"object"==typeof e&&null!==e}function r(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function i(e,t,n,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:a,branch:s}=t,{type:o}=n,{refinement:c,message:l=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${r(i)}\``}=e;return{value:i,type:o,refinement:c,key:a[a.length-1],path:a,branch:s,...e,message:l}}Object.defineProperty(t,"__esModule",{value:!0}),t.run=t.toFailures=t.toFailure=t.shiftIterator=t.print=t.isPlainObject=t.isObject=void 0,t.isObject=n,t.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},t.print=r,t.shiftIterator=function(e){const{done:t,value:n}=e.next();return t?void 0:n},t.toFailure=i,t.toFailures=function*(e,t,r,a){(function(e){return n(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const n of e){const e=i(n,t,r,a);e&&(yield e)}},t.run=function*e(t,r,i={}){const{path:a=[],branch:s=[t],coerce:o=!1,mask:c=!1}=i,l={path:a,branch:s};if(o&&(t=r.coercer(t,l),c&&"type"!==r.type&&n(r.schema)&&n(t)&&!Array.isArray(t)))for(const e in t)void 0===r.schema[e]&&delete t[e];let u="valid";for(const e of r.validator(t,l))e.explanation=i.message,u="not_valid",yield[e,void 0];for(let[d,f,p]of r.entries(t,l)){const r=e(f,p,{path:void 0===d?a:[...a,d],branch:void 0===d?s:[...s,f],coerce:o,mask:c,message:i.message});for(const e of r)e[0]?(u=null===e[0].refinement||void 0===e[0].refinement?"not_valid":"not_refined",yield[e[0],void 0]):o&&(f=e[1],void 0===d?t=f:t instanceof Map?t.set(d,f):t instanceof Set?t.add(f):n(t)&&(void 0!==f||d in t)&&(t[d]=f))}if("not_valid"!==u)for(const e of r.refiner(t,l))e.explanation=i.message,u="not_refined",yield[e,void 0];"valid"===u&&(yield[void 0,t])}},92157:(e,t,n)=>{"use strict";var r=n(70461),i=n(32191),a=n(7784),s=r.rotr64_hi,o=r.rotr64_lo,c=r.shr64_hi,l=r.shr64_lo,u=r.sum64,d=r.sum64_hi,f=r.sum64_lo,p=r.sum64_4_hi,h=r.sum64_4_lo,b=r.sum64_5_hi,y=r.sum64_5_lo,m=i.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function v(e,t,n,r,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function E(e,t,n,r,i,a){var s=t&r^~t&a;return s<0&&(s+=4294967296),s}function x(e,t,n,r,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function S(e,t,n,r,i,a){var s=t&r^t&a^r&a;return s<0&&(s+=4294967296),s}function T(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=o(e,t,28)^o(t,e,2)^o(t,e,7);return n<0&&(n+=4294967296),n}function _(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function C(e,t){var n=o(e,t,14)^o(e,t,18)^o(t,e,9);return n<0&&(n+=4294967296),n}function k(e,t){var n=s(e,t,1)^s(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function I(e,t){var n=o(e,t,1)^o(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function P(e,t){var n=s(e,t,19)^s(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function O(e,t){var n=o(e,t,19)^o(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(w,m),e.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=P(n[r-4],n[r-3]),a=O(n[r-4],n[r-3]),s=n[r-14],o=n[r-13],c=k(n[r-30],n[r-29]),l=I(n[r-30],n[r-29]),u=n[r-32],d=n[r-31];n[r]=p(i,a,s,o,c,l,u,d),n[r+1]=h(i,a,s,o,c,l,u,d)}},w.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],l=this.h[5],p=this.h[6],h=this.h[7],m=this.h[8],g=this.h[9],w=this.h[10],k=this.h[11],I=this.h[12],P=this.h[13],O=this.h[14],M=this.h[15];a(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var N=O,L=M,D=_(m,g),B=C(m,g),j=v(m,0,w,0,I),U=E(0,g,0,k,0,P),F=this.k[R],$=this.k[R+1],z=n[R],H=n[R+1],q=b(N,L,D,B,j,U,F,$,z,H),K=y(N,L,D,B,j,U,F,$,z,H);N=T(r,i),L=A(r,i),D=x(r,0,s,0,c),B=S(0,i,0,o,0,l);var W=d(N,L,D,B),V=f(N,L,D,B);O=I,M=P,I=w,P=k,w=m,k=g,m=d(p,h,q,K),g=f(h,h,q,K),p=c,h=l,c=s,l=o,s=r,o=i,r=d(q,K,W,V),i=f(q,K,W,V)}u(this.h,0,r,i),u(this.h,2,s,o),u(this.h,4,c,l),u(this.h,6,p,h),u(this.h,8,m,g),u(this.h,10,w,k),u(this.h,12,I,P),u(this.h,14,O,M)},w.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},92336:(e,t,n)=>{"use strict";n.d(t,{o0:()=>o,oK:()=>s});var r=n(18963),i=n(19024),a=n(39907);(0,i.mT)("VITE_APP_INFURA_PROJECT_KEY")||a.env.VITE_APP_INFURA_PROJECT_KEY;const s=(r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,r.l.EIP155,{GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_SIGN_TRANSACTION:"eth_signTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_ESTIMATE_USER_OPERATION_GAS:"eth_estimateUserOperationGas",ETH_GET_SUPPORTED_ENTRY_POINTS:"eth_supportedEntryPoints",ETH_GET_USER_OPERATION:"eth_getUserOperationByHash",ETH_GET_USER_OPERATION_RECEIPT:"eth_getUserOperationReceipt",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",PIMLICO_GET_USER_OPERATION_GAS_PRICE:"pimlico_getUserOperationGasPrice",PIMLICO_GET_USER_OPERATION_STATUS:"pimlico_getUserOperationStatus",PIMLICO_SIMULATE_ASSET_CHANGES:"pimlico_simulateAssetChanges",BICONOMY_GET_GAS_FEE_VALUES:"biconomy_getGasFeeValues",BICONOMY_GET_USER_OPERATION_STATUS:"biconomy_getUserOperationStatus",ETH_GET_PAYMASTER_DATA:"pm_getPaymasterData",ETH_GET_PAYMASTER_STUB_DATA:"pm_getPaymasterStubData",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",ETH_GET_FEE_QUOTE_OR_DATA:"pm_getFeeQuoteOrData",PIMLICO_GET_TOKEN_QUOTES:"pimlico_getTokenQuotes",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"}),o=(s.ETH_ESTIMATE_USER_OPERATION_GAS,s.ETH_GET_SUPPORTED_ENTRY_POINTS,s.ETH_GET_USER_OPERATION,s.ETH_GET_USER_OPERATION_RECEIPT,s.ETH_SEND_USER_OPERATION,s.PIMLICO_GET_USER_OPERATION_GAS_PRICE,s.PIMLICO_GET_USER_OPERATION_STATUS,s.PIMLICO_SIMULATE_ASSET_CHANGES,s.BICONOMY_GET_GAS_FEE_VALUES,s.BICONOMY_GET_USER_OPERATION_STATUS,s.ETH_GET_PAYMASTER_DATA,s.ETH_GET_PAYMASTER_STUB_DATA,s.ETH_SPONSOR_USER_OPERATION,s.PIMLICO_GET_TOKEN_QUOTES,s.ETH_GET_FEE_QUOTE_OR_DATA,new Set(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]),{BICONOMY:"biconomy",KERNEL:"kernel",SAFE:"safe",TRUST:"trust",LIGHT:"light",SIMPLE:"simple",NEXUS:"nexus",METAMASK:"metamask"})},92366:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(30666),i=n(63577),a=n(38903),s=n(1113);function o(e){const{callGasLimit:t,callData:n,maxPriorityFeePerGas:o,maxFeePerGas:c,paymaster:l,paymasterData:u,paymasterPostOpGasLimit:d,paymasterVerificationGasLimit:f,sender:p,signature:h="0x",verificationGasLimit:b}=e;return{accountGasLimits:(0,r.xW)([(0,i.eV)((0,a.cK)(b||0n),{size:16}),(0,i.eV)((0,a.cK)(t||0n),{size:16})]),callData:n,initCode:(0,s.K)(e),gasFees:(0,r.xW)([(0,i.eV)((0,a.cK)(o||0n),{size:16}),(0,i.eV)((0,a.cK)(c||0n),{size:16})]),nonce:e.nonce??0n,paymasterAndData:l?(0,r.xW)([l,(0,i.eV)((0,a.cK)(f||0n),{size:16}),(0,i.eV)((0,a.cK)(d||0n),{size:16}),u||"0x"]):"0x",preVerificationGas:e.preVerificationGas??0n,sender:p,signature:h}}},92549:(e,t,n)=>{"use strict";const r=n(39907),{AbortError:i,codes:a}=n(61150),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:o}=a,{kEmptyObject:c,once:l}=n(48449),{validateAbortSignal:u,validateFunction:d,validateObject:f,validateBoolean:p}=n(98080),{Promise:h,PromisePrototypeThen:b,SymbolDispose:y}=n(70273),{isClosed:m,isReadable:g,isReadableNodeStream:w,isReadableStream:v,isReadableFinished:E,isReadableErrored:x,isWritable:S,isWritableNodeStream:T,isWritableStream:A,isWritableFinished:_,isWritableErrored:C,isNodeStream:k,willEmitClose:I,kIsClosedPromise:P}=n(38104);let O;const M=()=>{};function R(e,t,a){var p,h;if(2===arguments.length?(a=t,t=c):null==t?t=c:f(t,"options"),d(a,"callback"),u(t.signal,"options.signal"),a=l(a),v(e)||A(e))return function(e,t,a){let s=!1,o=M;if(t.signal)if(o=()=>{s=!0,a.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(o);else{O=O||n(48449).addAbortListener;const r=O(t.signal,o),i=a;a=l((...t)=>{r[y](),i.apply(e,t)})}const c=(...t)=>{s||r.nextTick(()=>a.apply(e,t))};return b(e[P].promise,c,c),M}(e,t,a);if(!k(e))throw new s("stream",["ReadableStream","WritableStream","Stream"],e);const R=null!==(p=t.readable)&&void 0!==p?p:w(e),N=null!==(h=t.writable)&&void 0!==h?h:T(e),L=e._writableState,D=e._readableState,B=()=>{e.writable||F()};let j=I(e)&&w(e)===R&&T(e)===N,U=_(e,!1);const F=()=>{U=!0,e.destroyed&&(j=!1),(!j||e.readable&&!R)&&(R&&!$||a.call(e))};let $=E(e,!1);const z=()=>{$=!0,e.destroyed&&(j=!1),(!j||e.writable&&!N)&&(N&&!U||a.call(e))},H=t=>{a.call(e,t)};let q=m(e);const K=()=>{q=!0;const t=C(e)||x(e);return t&&"boolean"!=typeof t?a.call(e,t):R&&!$&&w(e,!0)&&!E(e,!1)?a.call(e,new o):!N||U||_(e,!1)?void a.call(e):a.call(e,new o)},W=()=>{q=!0;const t=C(e)||x(e);if(t&&"boolean"!=typeof t)return a.call(e,t);a.call(e)},V=()=>{e.req.on("finish",F)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?N&&!L&&(e.on("end",B),e.on("close",B)):(e.on("complete",F),j||e.on("abort",K),e.req?V():e.on("request",V)),j||"boolean"!=typeof e.aborted||e.on("aborted",K),e.on("end",z),e.on("finish",F),!1!==t.error&&e.on("error",H),e.on("close",K),q?r.nextTick(K):null!=L&&L.errorEmitted||null!=D&&D.errorEmitted?j||r.nextTick(W):(R||j&&!g(e)||!U&&!1!==S(e))&&(N||j&&!S(e)||!$&&!1!==g(e))?D&&e.req&&e.aborted&&r.nextTick(W):r.nextTick(W);const G=()=>{a=M,e.removeListener("aborted",K),e.removeListener("complete",F),e.removeListener("abort",K),e.removeListener("request",V),e.req&&e.req.removeListener("finish",F),e.removeListener("end",B),e.removeListener("close",B),e.removeListener("finish",F),e.removeListener("end",z),e.removeListener("error",H),e.removeListener("close",K)};if(t.signal&&!q){const s=()=>{const n=a;G(),n.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(s);else{O=O||n(48449).addAbortListener;const r=O(t.signal,s),i=a;a=l((...t)=>{r[y](),i.apply(e,t)})}}return G}e.exports=R,e.exports.finished=function(e,t){var n;let r=!1;return null===t&&(t=c),null!==(n=t)&&void 0!==n&&n.cleanup&&(p(t.cleanup,"cleanup"),r=t.cleanup),new h((n,i)=>{const a=R(e,t,e=>{r&&a(),e?i(e):n()})})}},93051:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},93194:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t){if("object"!=typeof t)return t;if("[object Object]"===Object.prototype.toString.call(t)){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e(t[r]));return n}return Array.isArray(t)?t.map(e):t}},93493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(58470),i=n(19555),a=n(42558),s=n(1113),o=n(92366);const c={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function l(e){const{chainId:t,entryPointAddress:n,entryPointVersion:l}=e,u=e.userOperation,{authorization:d,callData:f="0x",callGasLimit:p,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:y,paymasterAndData:m="0x",preVerificationGas:g,sender:w,verificationGasLimit:v}=u;if("0.8"===l)return(0,a.Zh)(function(e){const{chainId:t,entryPointAddress:n,userOperation:r}=e,i=(0,o.W)(r);return{types:c,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:t,verifyingContract:n},message:i}}({chainId:t,entryPointAddress:n,userOperation:u}));const E=(()=>{if("0.6"===l){const e=u.initCode?.slice(0,42),t=u.initCode?.slice(42),n=(0,s.K)({authorization:d,factory:e,factoryData:t});return(0,r.h)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[w,y,(0,i.S)(n),(0,i.S)(f),p,v,g,h,b,(0,i.S)(m)])}if("0.7"===l){const e=(0,o.W)(u);return(0,r.h)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[e.sender,e.nonce,(0,i.S)(e.initCode),(0,i.S)(e.callData),e.accountGasLimits,e.preVerificationGas,e.gasFees,(0,i.S)(e.paymasterAndData)])}throw new Error(`entryPointVersion "${l}" not supported.`)})();return(0,i.S)((0,r.h)([{type:"bytes32"},{type:"address"},{type:"uint256"}],[(0,i.S)(E),n,BigInt(t)]))}},93510:(e,t,n)=>{"use strict";const r=n(61253),i=n(29997),{ANY:a}=i,s=n(29668),o=n(12285),c=n(14305),l=n(34686),u=n(33127),d=n(2018);e.exports=(e,t,n,f)=>{let p,h,b,y,m;switch(e=new r(e,f),t=new s(t,f),n){case">":p=c,h=u,b=l,y=">",m=">=";break;case"<":p=l,h=d,b=c,y="<",m="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,f))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let s=null,o=null;if(r.forEach(e=>{e.semver===a&&(e=new i(">=0.0.0")),s=s||e,o=o||e,p(e.semver,s.semver,f)?s=e:b(e.semver,o.semver,f)&&(o=e)}),s.operator===y||s.operator===m)return!1;if((!o.operator||o.operator===y)&&h(e,o.semver))return!1;if(o.operator===m&&b(e,o.semver))return!1}return!0}},93514:(e,t,n)=>{"use strict";const r=n(54994).v4;e.exports=function(e,t,n,i){if("string"!=typeof e)throw new TypeError(e+" must be a string");const a="number"==typeof(i=i||{}).version?i.version:2;if(1!==a&&2!==a)throw new TypeError(a+" must be 1 or 2");const s={method:e};if(2===a&&(s.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(void 0===n){const e="function"==typeof i.generator?i.generator:function(){return r()};s.id=e(s,i)}else 2===a&&null===n?i.notificationIdNull&&(s.id=null):s.id=n;return s}},93553:()=>{},93606:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(66077),i=n(95068);function a(e,t){if(!(0,i.P)(e,{strict:!1}))throw new r.M({address:e});if(!(0,i.P)(t,{strict:!1}))throw new r.M({address:t});return e.toLowerCase()===t.toLowerCase()}},93643:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});t.push(0);var n=t[0],r=t[1];if(10===n)switch(r){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}switch(n){case 11:return"Big Sur";case 12:return"Monterey";case 13:return"Ventura";case 14:return"Sonoma";case 15:return"Sequoia";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),a=e.getVersionPrecision(n),s=Math.max(i,a),o=0,c=e.map([t,n],function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(r&&(o=s-Math.min(i,a)),s-=1;s>=o;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===o)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var o=function(){var e=a[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){r[t]=e[t]})};for(t=0,n=a.length;t<n;t+=1)o();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={AmazonBot:"amazonbot","Amazon Silk":"amazon_silk","Android Browser":"android",BaiduSpider:"baiduspider",Bada:"bada",BingCrawler:"bingcrawler",BlackBerry:"blackberry","ChatGPT-User":"chatgpt_user",Chrome:"chrome",ClaudeBot:"claudebot",Chromium:"chromium",Diffbot:"diffbot",DuckDuckBot:"duckduckbot",Electron:"electron",Epiphany:"epiphany",FacebookExternalHit:"facebookexternalhit",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot",GPTBot:"gptbot","Internet Explorer":"ie",InternetArchiveCrawler:"internetarchivecrawler","K-Meleon":"k_meleon",LibreWolf:"librewolf",Maxthon:"maxthon","Meta-ExternalAds":"meta_externalads","Meta-ExternalAgent":"meta_externalagent","Meta-ExternalFetcher":"meta_externalfetcher","Meta-WebIndexer":"meta_webindexer","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver","OAI-SearchBot":"oai_searchbot",Omgilibot:"omgilibot",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PerplexityBot:"perplexitybot","Perplexity-User":"perplexity_user",PhantomJS:"phantomjs",PingdomBot:"pingdombot",Puffin:"puffin",QQ:"qq",QQLite:"qqlite",QupZilla:"qupzilla",Roku:"roku",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir","Sogou Browser":"sogou",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat",YahooSlurp:"yahooslurp","Yandex Browser":"yandex",YandexBot:"yandexbot",YouBot:"youbot"},t.BROWSER_MAP={amazonbot:"AmazonBot",amazon_silk:"Amazon Silk",android:"Android Browser",baiduspider:"BaiduSpider",bada:"Bada",bingcrawler:"BingCrawler",blackberry:"BlackBerry",chatgpt_user:"ChatGPT-User",chrome:"Chrome",claudebot:"ClaudeBot",chromium:"Chromium",diffbot:"Diffbot",duckduckbot:"DuckDuckBot",edge:"Microsoft Edge",electron:"Electron",epiphany:"Epiphany",facebookexternalhit:"FacebookExternalHit",firefox:"Firefox",focus:"Focus",generic:"Generic",google_search:"Google Search",googlebot:"Googlebot",gptbot:"GPTBot",ie:"Internet Explorer",internetarchivecrawler:"InternetArchiveCrawler",k_meleon:"K-Meleon",librewolf:"LibreWolf",maxthon:"Maxthon",meta_externalads:"Meta-ExternalAds",meta_externalagent:"Meta-ExternalAgent",meta_externalfetcher:"Meta-ExternalFetcher",meta_webindexer:"Meta-WebIndexer",mz:"MZ Browser",naver:"NAVER Whale Browser",oai_searchbot:"OAI-SearchBot",omgilibot:"Omgilibot",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",perplexitybot:"PerplexityBot",perplexity_user:"Perplexity-User",phantomjs:"PhantomJS",pingdombot:"PingdomBot",puffin:"Puffin",qq:"QQ Browser",qqlite:"QQ Browser Lite",qupzilla:"QupZilla",roku:"Roku",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",sogou:"Sogou Browser",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yahooslurp:"YahooSlurp",yandex:"Yandex Browser",yandexbot:"YandexBot",youbot:"YouBot"},t.PLATFORMS_MAP={bot:"bot",desktop:"desktop",mobile:"mobile",tablet:"tablet",tv:"tv"},t.OS_MAP={Android:"Android",Bada:"Bada",BlackBerry:"BlackBerry",ChromeOS:"Chrome OS",HarmonyOS:"HarmonyOS",iOS:"iOS",Linux:"Linux",MacOS:"macOS",PlayStation4:"PlayStation 4",Roku:"Roku",Tizen:"Tizen",WebOS:"WebOS",Windows:"Windows",WindowsPhone:"Windows Phone"},t.ENGINE_MAP={Blink:"Blink",EdgeHTML:"EdgeHTML",Gecko:"Gecko",Presto:"Presto",Trident:"Trident",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],null&&s(t.prototype,null),n&&s(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),a=c(n(94)),s=c(n(95)),o=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(r.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},a=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(i[t]=s,a+=1):"object"==typeof s&&(n[t]=s,r+=1)}),r>0){var s=Object.keys(n),c=o.default.find(s,function(e){return t.isOS(e)});if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}var u=o.default.find(s,function(e){return t.isPlatform(e)});if(u){var d=this.satisfies(n[u]);if(void 0!==d)return d}}if(a>0){var f=Object.keys(i),p=o.default.find(f,function(e){return t.isBrowser(e,!0)});if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(o.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=l,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/gptbot/i],describe:function(e){var t={name:"GPTBot"},n=i.default.getFirstMatch(/gptbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chatgpt-user/i],describe:function(e){var t={name:"ChatGPT-User"},n=i.default.getFirstMatch(/chatgpt-user\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/oai-searchbot/i],describe:function(e){var t={name:"OAI-SearchBot"},n=i.default.getFirstMatch(/oai-searchbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe:function(e){var t={name:"ClaudeBot"},n=i.default.getFirstMatch(/(?:claudebot|claude-web|claude-user|claude-searchbot)\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/omgilibot/i,/webzio-extended/i],describe:function(e){var t={name:"Omgilibot"},n=i.default.getFirstMatch(/(?:omgilibot|webzio-extended)\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/diffbot/i],describe:function(e){var t={name:"Diffbot"},n=i.default.getFirstMatch(/diffbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/perplexitybot/i],describe:function(e){var t={name:"PerplexityBot"},n=i.default.getFirstMatch(/perplexitybot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/perplexity-user/i],describe:function(e){var t={name:"Perplexity-User"},n=i.default.getFirstMatch(/perplexity-user\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/youbot/i],describe:function(e){var t={name:"YouBot"},n=i.default.getFirstMatch(/youbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/meta-webindexer/i],describe:function(e){var t={name:"Meta-WebIndexer"},n=i.default.getFirstMatch(/meta-webindexer\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/meta-externalads/i],describe:function(e){var t={name:"Meta-ExternalAds"},n=i.default.getFirstMatch(/meta-externalads\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/meta-externalagent/i],describe:function(e){var t={name:"Meta-ExternalAgent"},n=i.default.getFirstMatch(/meta-externalagent\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/meta-externalfetcher/i],describe:function(e){var t={name:"Meta-ExternalFetcher"},n=i.default.getFirstMatch(/meta-externalfetcher\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/amazonbot/i],describe:function(e){var t={name:"AmazonBot"},n=i.default.getFirstMatch(/amazonbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/bingbot/i],describe:function(e){var t={name:"BingCrawler"},n=i.default.getFirstMatch(/bingbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/baiduspider/i],describe:function(e){var t={name:"BaiduSpider"},n=i.default.getFirstMatch(/baiduspider\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/duckduckbot/i],describe:function(e){var t={name:"DuckDuckBot"},n=i.default.getFirstMatch(/duckduckbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ia_archiver/i],describe:function(e){var t={name:"InternetArchiveCrawler"},n=i.default.getFirstMatch(/ia_archiver\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe:function(){return{name:"FacebookExternalHit"}}},{test:[/yahoo!?[\s/]*slurp/i],describe:function(){return{name:"YahooSlurp"}}},{test:[/yandexbot/i,/yandexmobilebot/i],describe:function(){return{name:"YandexBot"}}},{test:[/pingdom/i],describe:function(){return{name:"PingdomBot"}}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/PaleMoon/i],describe:function(e){var t={name:"Pale Moon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/librewolf/i],describe:function(e){var t={name:"LibreWolf"},n=i.default.getFirstMatch(/(?:librewolf)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sogoumobilebrowser/i,/metasr/i,/se 2\.[x]/i],describe:function(e){var t={name:"Sogou Browser"},n=i.default.getFirstMatch(/(?:sogoumobilebrowser)[\s/](\d+(\.?_?\d+)+)/i,e),r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),a=i.default.getFirstMatch(/se ([\d.]+)x/i,e),s=n||r||a;return s&&(t.version=s),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:a.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:a.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:a.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:a.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:t}}},{test:[/OpenHarmony/i],describe:function(e){var t=i.default.getFirstMatch(/OpenHarmony\s+(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.HarmonyOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:a.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:a.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:a.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Google"}}},{test:[/amazonbot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Amazon"}}},{test:[/gptbot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"OpenAI"}}},{test:[/chatgpt-user/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"OpenAI"}}},{test:[/oai-searchbot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"OpenAI"}}},{test:[/baiduspider/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Baidu"}}},{test:[/bingbot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Bing"}}},{test:[/duckduckbot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"DuckDuckGo"}}},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Anthropic"}}},{test:[/omgilibot/i,/webzio-extended/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Webz.io"}}},{test:[/diffbot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Diffbot"}}},{test:[/perplexitybot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Perplexity AI"}}},{test:[/perplexity-user/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Perplexity AI"}}},{test:[/youbot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"You.com"}}},{test:[/ia_archiver/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Internet Archive"}}},{test:[/meta-webindexer/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/meta-externalads/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/meta-externalagent/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/meta-externalfetcher/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/yahoo/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Yahoo"}}},{test:[/yandexbot/i,/yandexmobilebot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Yandex"}}},{test:[/pingdom/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Pingdom"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe:function(e){var t=i.default.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,e),n={type:a.PLATFORMS_MAP.mobile,vendor:"Nokia"};return t&&(n.model=t),n}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:a.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:a.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:a.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:a.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:a.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:a.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},93747:(e,t,n)=>{"use strict";n.d(t,{j:()=>l});var r=n(37663),i=n(14323),a=n(37656),s=n(38820),o=n(7658);const c=3;function l(e,{abi:t,address:n,args:l,docsPath:u,functionName:d,sender:f}){const p=e instanceof a.$S?e:e instanceof i.C?e.walk(e=>"data"in e)||e.walk():{},{code:h,data:b,details:y,message:m,shortMessage:g}=p,w=e instanceof r.O?new a.rR({functionName:d}):[c,o.bq.code].includes(h)&&(b||y||m||g)||h===o.Di.code&&"execution reverted"===y&&b?new a.M({abi:t,data:"object"==typeof b?b.data:b,functionName:d,message:p instanceof s.J8?y:g??m}):e;return new a.bG(w,{abi:t,args:l,contractAddress:n,docsPath:u,functionName:d,sender:f})}},94102:(e,t,n)=>{"use strict";n.d(t,{T:()=>i,Z:()=>a});var r=n(14323);class i extends r.C{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join("\n"),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class a extends r.C{constructor({docsPath:e,metaMessages:t,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}},94943:e=>{"use strict";e.exports=ReferenceError},95068:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(95394),i=n(89962);const a=/^0x[a-fA-F0-9]{40}$/,s=new r.A(8192);function o(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(s.has(r))return s.get(r);const o=!(!a.test(e)||e.toLowerCase()!==e&&n&&(0,i.o)(e)!==e);return s.set(r,o),o}},95394:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});class r extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}},95636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refine=t.size=t.pattern=t.nonempty=t.min=t.max=t.empty=void 0;const r=n(90172),i=n(92062);function a(e){return e instanceof Map||e instanceof Set?e.size:e.length}function s(e,t,n){return new r.Struct({...e,*refiner(r,a){yield*e.refiner(r,a);const s=n(r,a),o=(0,i.toFailures)(s,a,e,r);for(const e of o)yield{...e,refinement:t}}})}t.empty=function(e){return s(e,"empty",t=>{const n=a(t);return 0===n||`Expected an empty ${e.type} but received one with a size of \`${n}\``})},t.max=function(e,t,n={}){const{exclusive:r}=n;return s(e,"max",n=>r?n<t:n<=t||`Expected a ${e.type} less than ${r?"":"or equal to "}${t} but received \`${n}\``)},t.min=function(e,t,n={}){const{exclusive:r}=n;return s(e,"min",n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?"":"or equal to "}${t} but received \`${n}\``)},t.nonempty=function(e){return s(e,"nonempty",t=>a(t)>0||`Expected a nonempty ${e.type} but received an empty one`)},t.pattern=function(e,t){return s(e,"pattern",n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`)},t.size=function(e,t,n=t){const r=`Expected a ${e.type}`,i=t===n?`of \`${t}\``:`between \`${t}\` and \`${n}\``;return s(e,"size",e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=n||`${r} ${i} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:a}=e;return t<=a&&a<=n||`${r} with a size ${i} but received one with a size of \`${a}\``}const{length:a}=e;return t<=a&&a<=n||`${r} with a length ${i} but received one with a length of \`${a}\``})},t.refine=s},95810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fn=t.getFunction=void 0;const r=n(87093),i=n(76728),a=n(19520),s=n(43892),o=(0,r.coerce)((0,r.object)({address:i.StrictHexStruct,selector:i.StrictHexStruct}),(0,r.union)([i.StrictHexStruct,(0,r.instance)(Uint8Array)]),e=>{const t=(0,i.createBytes)(e);return(0,i.assert)(24===t.length,new a.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${t.length} bytes.`)),{address:(0,i.bytesToHex)(t.subarray(0,20)),selector:(0,i.bytesToHex)(t.subarray(20,24))}});t.getFunction=e=>{const t=(0,r.create)(e,o);return(0,i.concatBytes)([(0,i.hexToBytes)(t.address),(0,i.hexToBytes)(t.selector)])},t.fn={isDynamic:!1,isType:e=>"function"===e,getByteLength:()=>32,encode({buffer:e,value:n,packed:r,tight:i}){const a=(0,t.getFunction)(n);return s.fixedBytes.encode({type:"bytes24",buffer:e,value:a,packed:r,tight:i})},decode:({value:e})=>({address:(0,i.bytesToHex)(e.slice(0,20)),selector:(0,i.bytesToHex)(e.slice(20,24))})}},95976:(e,t,n)=>{"use strict";n.d(t,{BD:()=>i,D5:()=>r,Ge:()=>a});const r=/^(.*)\[([0-9]*)\]$/,i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,a=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},96023:(e,t,n)=>{"use strict";n.d(t,{_o:()=>m,Pj:()=>b,uT:()=>d,NV:()=>y});var r=n(90932),i=n(2247),a=n(49385),s=n(96516),o=n(88615);class c extends o.C{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const l=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var u=n(99916);function d(e,t={}){if((0,u.Ji)(e))return function(e,t={}){const n=(0,u.ej)(e);if(!n)throw new s.s7({signature:e,type:"function"});const r=y(n.parameters),i=[],a=r.length;for(let e=0;e<a;e++)i.push(b(r[e],{modifiers:u.v7,structs:t,type:"function"}));const o=[];if(n.returns){const e=y(n.returns),r=e.length;for(let n=0;n<r;n++)o.push(b(e[n],{modifiers:u.v7,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}(e,t);if((0,u.Rv)(e))return function(e,t={}){const n=(0,u.iB)(e);if(!n)throw new s.s7({signature:e,type:"event"});const r=y(n.parameters),i=[],a=r.length;for(let e=0;e<a;e++)i.push(b(r[e],{modifiers:u.fC,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}(e,t);if((0,u.pc)(e))return function(e,t={}){const n=(0,u.kz)(e);if(!n)throw new s.s7({signature:e,type:"error"});const r=y(n.parameters),i=[],a=r.length;for(let e=0;e<a;e++)i.push(b(r[e],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}(e,t);if((0,u.l9)(e))return function(e,t={}){const n=(0,u.Yo)(e);if(!n)throw new s.s7({signature:e,type:"constructor"});const r=y(n.parameters),i=[],a=r.length;for(let e=0;e<a;e++)i.push(b(r[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}(e,t);if((0,u.v8)(e))return function(e){const t=(0,u.If)(e);if(!t)throw new s.s7({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if((0,u.sP)(e))return{type:"receive",stateMutability:"payable"};throw new s.x8({signature:e})}const f=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,h=/^u?int$/;function b(e,t){const n=function(e,t,n){let r="";if(n)for(const e of Object.entries(n)){if(!e)continue;let t="";for(const n of e[1])t+=`[${n.type}${n.name?`:${n.name}`:""}]`;r+=`(${e[0]}{${t}})`}return t?`${t}:${e}${r}`:e}(e,t?.type,t?.structs);if(l.has(n))return l.get(n);const s=r.wj.test(e),o=(0,r.Yv)(s?p:f,e);if(!o)throw new a.dV({param:e});if(o.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||r.BD.test(e)||r.Ge.test(e)||g.test(e)}(o.name))throw new a.zd({param:e,name:o.name});const c=o.name?{name:o.name}:{},d="indexed"===o.modifier?{indexed:!0}:{},w=t?.structs??{};let v,E={};if(s){v="tuple";const e=y(o.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(b(e[r],{structs:w}));E={components:t}}else if(o.type in w)v="tuple",E={components:w[o.type]};else if(h.test(o.type))v=`${o.type}256`;else if("address payable"===o.type)v="address";else if(v=o.type,"struct"!==t?.type&&!m(v))throw new i.UG({type:v});if(o.modifier){if(!t?.modifiers?.has?.(o.modifier))throw new a.NO({param:e,type:t?.type,modifier:o.modifier});if(u.v7.has(o.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(v,!!o.array))throw new a.Pj({param:e,type:t?.type,modifier:o.modifier})}const x={type:`${v}${o.array??""}`,...c,...d,...E};return l.set(n,x),x}function y(e,t=[],n="",r=0){const i=e.trim().length;for(let a=0;a<i;a++){const i=e[a],s=e.slice(a+1);switch(i){case",":return 0===r?y(s,[...t,n.trim()]):y(s,t,`${n}${i}`,r);case"(":return y(s,t,`${n}${i}`,r+1);case")":return y(s,t,`${n}${i}`,r-1);default:return y(s,t,`${n}${i}`,r)}}if(""===n)return t;if(0!==r)throw new c({current:n,depth:r});return t.push(n.trim()),t}function m(e){return"address"===e||"bool"===e||"function"===e||"string"===e||r.BD.test(e)||r.Ge.test(e)}const g=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},96063:(e,t,n)=>{"use strict";n.d(t,{KU:()=>g,H4:()=>m,v8:()=>b,$$:()=>y});var r=n(37663),i=n(66077),a=n(40022),s=n(14323);class o extends s.C{constructor({domain:e}){super(`Invalid domain "${(0,a.A)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class c extends s.C{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class l extends s.C{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var u=n(95068),d=n(96943),f=n(38903),p=n(95976),h=n(42558);function b(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(e,t)=>{const n={...t};for(const t of e){const{name:e,type:r}=t;"address"===r&&(n[e]=n[e].toLowerCase())}return n},o=i.EIP712Domain&&t?s(i.EIP712Domain,t):{},c=(()=>{if("EIP712Domain"!==r)return s(i[r],n)})();return(0,a.A)({domain:o,message:c,primaryType:r,types:i})}function y(e){const{domain:t,message:n,primaryType:a,types:s}=e,l=(e,t)=>{for(const n of e){const{name:e,type:a}=n,o=t[e],c=a.match(p.Ge);if(c&&("number"==typeof o||"bigint"==typeof o)){const[e,t,n]=c;(0,f.cK)(o,{signed:"int"===t,size:Number.parseInt(n,10)/8})}if("address"===a&&"string"==typeof o&&!(0,u.P)(o))throw new i.M({address:o});const h=a.match(p.BD);if(h){const[e,t]=h;if(t&&(0,d.E)(o)!==Number.parseInt(t,10))throw new r.BI({expectedSize:Number.parseInt(t,10),givenSize:(0,d.E)(o)})}const b=s[a];b&&(w(a),l(b,o))}};if(s.EIP712Domain&&t){if("object"!=typeof t)throw new o({domain:t});l(s.EIP712Domain,t)}if("EIP712Domain"!==a){if(!s[a])throw new c({primaryType:a,types:s});l(s[a],n)}}function m({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function g({domain:e}){return(0,h.xy)({domain:e,types:{EIP712Domain:m({domain:e})}})}function w(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new l({type:e})}},96174:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=t.partial=t.omit=t.lazy=t.dynamic=t.deprecated=t.define=t.assign=void 0;const r=n(90172),i=n(75573);t.assign=function(...e){const t="type"===e[0]?.type,n=e.map(({schema:e})=>e),r=Object.assign({},...n);return t?(0,i.type)(r):(0,i.object)(r)},t.define=function(e,t){return new r.Struct({type:e,schema:null,validator:t})},t.deprecated=function(e,t){return new r.Struct({...e,refiner:(t,n)=>void 0===t||e.refiner(t,n),validator:(n,r)=>void 0===n||(t(n,r),e.validator(n,r))})},t.dynamic=function(e){return new r.Struct({type:"dynamic",schema:null,*entries(t,n){const r=e(t,n);yield*r.entries(t,n)},validator:(t,n)=>e(t,n).validator(t,n),coercer:(t,n)=>e(t,n).coercer(t,n),refiner:(t,n)=>e(t,n).refiner(t,n)})},t.lazy=function(e){let t;return new r.Struct({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})},t.omit=function(e,t){const{schema:n}=e,r={...n};for(const e of t)delete r[e];return"type"===e.type?(0,i.type)(r):(0,i.object)(r)},t.partial=function(e){const t=e instanceof r.Struct,n=t?{...e.schema}:{...e};for(const e in n)n[e]=(0,i.optional)(n[e]);return t&&"type"===e.type?(0,i.type)(n):(0,i.object)(n)},t.pick=function(e,t){const{schema:n}=e,r={};for(const e of t)r[e]=n[e];return"type"===e.type?(0,i.type)(r):(0,i.object)(r)}},96250:(e,t,n)=>{"use strict";n.d(t,{R:()=>m});var r=n(69740),i=n(98158);const a=Object.prototype.toString;function s(e,t){return a.call(e)===`[object ${t}]`}function o(e,t){try{return e instanceof t}catch{return!1}}const c=globalThis;function l(e,t){const n=e,r=[];if(!n?.tagName)return"";if(c.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t?.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(i?.length)i.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&s(e,"String")){const t=e.split(/\s+/);for(const e of t)r.push(`.${e}`)}}const a=["aria-label","type","name","title","alt"];for(const e of a){const t=n.getAttribute(e);t&&r.push(`[${e}="${t}"]`)}return r.join("")}function u(e){try{return"undefined"!=typeof Element&&o(e,Element)?function(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let a=0,s=0;const o=" > ",c=o.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&a++<r&&(u=l(n,d),!("html"===u||a>1&&s+i.length*c+u.length>=f));)i.push(u),s+=u.length,n=n.parentNode;return i.reverse().join(o)}catch{return"<unknown>"}}(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function d(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}const f="<anonymous>";function p(e,t=100,n=1/0){try{return h("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function h(e,t,n=1/0,r=1/0,i=function(){const e=new WeakSet;return[function(t){return!!e.has(t)||(e.add(t),!1)},function(t){e.delete(t)}]}()){const[c,l]=i;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const p=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if("object"==typeof(n=t)&&null!==n&&(n.__isVue||n._isVue))return"[VueViewModel]";if(function(e){return function(e){return s(e,"Object")}(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${function(e){try{return e&&"function"==typeof e&&e.name||f}catch{return f}}(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!p.startsWith("[object "))return p;if(t.__sentry_skip_normalization__)return t;const b="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===b)return p.replace("object ","");if(c(t))return"[Circular ~]";const y=t;if(y&&"function"==typeof y.toJSON)try{return h("",y.toJSON(),b-1,r,i)}catch{}const m=Array.isArray(t)?[]:{};let g=0;const w=function(e){if(function(e){switch(a.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return o(e,Error)}}(e))return{message:e.message,name:e.name,stack:e.stack,...d(e)};if("undefined"!=typeof Event&&o(e,Event)){const t={type:e.type,target:u(e.target),currentTarget:u(e.currentTarget),...d(e)};return"undefined"!=typeof CustomEvent&&o(e,CustomEvent)&&(t.detail=e.detail),t}return e}(t);for(const e in w){if(!Object.prototype.hasOwnProperty.call(w,e))continue;if(g>=r){m[e]="[MaxProperties ~]";break}const t=w[e];m[e]=h(e,t,b-1,r,i),g++}return l(t),m}class b{constructor(e){(0,i.A)(this,"sentry",void 0),(0,i.A)(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){const t=e.findIndex(e=>e instanceof Error),n=e.findIndex(e=>"string"==typeof e),r=e.findIndex(e=>e&&"object"==typeof e&&"status"in e&&"type"in e),i=e.findIndex(e=>e&&"object"==typeof e&&"isAxiosError"in e&&!0===e.isAxiosError);let a;if(-1!==r){var s;const t=e[r],n=null===(s=t.headers)||void 0===s?void 0:s.get("content-type");if(n.includes("application/json")){const e=await t.json();a=new Error((null==e?void 0:e.error)||(null==e?void 0:e.message)||JSON.stringify(e))}else a=n.includes("text/plain")?new Error(await t.text()):new Error(`${t.status} ${t.type.toString()} ${t.statusText}`)}else if(-1!==i){const t=e[i].response;if(t){var o;const e=null===(o=t.headers)||void 0===o?void 0:o["content-type"];if(e.includes("application/json")){const e=t.data,n="error"in e?e.error:"message"in e?e.message:JSON.stringify(e);a=new Error(n)}else a=e.includes("text/plain")?new Error(t.data):new Error(`${t.status} ${t.data.toString()}`)}else a=new Error("Network error")}else a=-1!==t?e.splice(t,1)[0]:-1!==n?new Error(e.splice(n,1)[0]):new Error("Unknown error");return[a,e]}static translateArgs(e){const t=e.findIndex(e=>"string"==typeof e),n=-1!==t?e.splice(t,1)[0]:void 0;return n?{message:n,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){const t=e.methodFactory;e.methodFactory=(e,n,i)=>{i&&(this.category=i.toString());const a=t(e,n,i),s="undefined"!=typeof window,o=(...t)=>{var n;const o=null===(n=this.sentry)||void 0===n?void 0:n.getActiveSpan(),{traceId:c,spanId:l}=(null==o?void 0:o.spanContext())||{},u="error"===e&&t.length>=1&&t[0]instanceof Error;if(s){if(u){const e=t[0],n=c||l?`${e.message}: traceId: ${c} - spanId: ${l}`:e.message,r=[new Error(n,{cause:e}),...t.slice(1)];return void(a&&a(...r))}a&&a(...t)}else{let n={timestamp:new Date,level:e.toUpperCase(),logger:i};if((c||l)&&(n=(0,r.A)((0,r.A)({},n),{},{traceId:c,spanId:l})),u){var d;const e=t[0];n=(0,r.A)((0,r.A)({},n),{},{message:null!==(d=e.message)&&void 0!==d?d:"",stack:e.stack,extra:t.length>1?t.slice(1):void 0})}else{var f;n=(0,r.A)((0,r.A)({},n),{},{message:null!==(f=t[0])&&void 0!==f?f:"",extra:t.length>1?t.slice(1):void 0})}a&&a(JSON.stringify(p(n)))}};return"error"===e?async(...e)=>{const{stack:t}=e.find(e=>e instanceof Error)||new Error,[n,r]=await b.translateError(e);n.stack=t,this.error(n,...r),o(n,...r)}:(...t)=>{this.log(b.translateLevel(e),...t),o(...t)}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){const t=this.sentry.getClient().getOptions();t&&(t.enabled=e)}}isEnabled(){if(this.sentry){var e;const t=this.sentry.getClient().getOptions();return null!==(e=null==t?void 0:t.enabled)&&void 0!==e&&e}return!1}log(e,...t){this.sentry&&this.sentry.addBreadcrumb((0,r.A)((0,r.A)({},b.translateArgs(t)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...t){if(this.sentry){const n={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:t}};this.sentry.captureException(e,n)}}}var y=n(55880);const m=n.n(y)().getLogger("web3auth-logger");(new b).install(m)},96483:(e,t,n)=>{"use strict";n.d(t,{g:()=>E});var r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,a=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,u=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,p=1e9;function h(e){var t=0|e;return e>0||e===t?t:t-1}function b(e){for(var t,n,r=1,i=e.length,a=e[0]+"";r<i;){for(t=e[r++]+"",n=l-t.length;n--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function y(e,t){var n,r,i=e.c,a=t.c,s=e.s,o=t.s,c=e.e,l=t.e;if(!s||!o)return null;if(n=i&&!i[0],r=a&&!a[0],n||r)return n?r?0:-o:s;if(s!=o)return s;if(n=s<0,r=c==l,!i||!a)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(o=(c=i.length)<(l=a.length)?c:l,s=0;s<o;s++)if(i[s]!=a[s])return i[s]>a[s]^n?1:-1;return c==l?0:c>l^n?1:-1}function m(e,t,n,r){if(e<t||e>n||e!==a(e))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return h(e.e/l)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var E=function e(t){var n,E,x,S,T,A,_,C,k,I,P=q.prototype={constructor:q,toString:null,valueOf:null},O=new q(1),M=20,R=4,N=-7,L=21,D=-1e7,B=1e7,j=!1,U=1,F=0,$={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",H=!0;function q(e,t){var n,i,s,c,d,f,p,h,b=this;if(!(b instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return b.s=e.s,void(!e.c||e.e>B?b.c=b.e=null:e.e<D?b.c=[b.e=0]:(b.e=e.e,b.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(b.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>B?b.c=b.e=null:(b.e=c,b.c=[e]))}h=String(e)}else{if(!r.test(h=String(e)))return x(b,h,f);b.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(c=h.indexOf("."))>-1&&(h=h.replace(".","")),(d=h.search(/e/i))>0?(c<0&&(c=d),c+=+h.slice(d+1),h=h.substring(0,d)):c<0&&(c=h.length)}else{if(m(t,2,z.length,"Base"),10==t&&H)return G(b=new q(e),M+b.e+1,R);if(h=String(e),f="number"==typeof e){if(0*e!=0)return x(b,h,f,t);if(b.s=1/e<0?(h=h.slice(1),-1):1,q.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else b.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(n=z.slice(0,t),c=d=0,p=h.length;d<p;d++)if(n.indexOf(i=h.charAt(d))<0){if("."==i){if(d>c){c=p;continue}}else if(!s&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){s=!0,d=-1,c=0;continue}return x(b,String(e),f,t)}f=!1,(c=(h=E(h,t,10,b.s)).indexOf("."))>-1?h=h.replace(".",""):c=h.length}for(d=0;48===h.charCodeAt(d);d++);for(p=h.length;48===h.charCodeAt(--p););if(h=h.slice(d,++p)){if(p-=d,f&&q.DEBUG&&p>15&&(e>u||e!==a(e)))throw Error(o+b.s*e);if((c=c-d-1)>B)b.c=b.e=null;else if(c<D)b.c=[b.e=0];else{if(b.e=c,b.c=[],d=(c+1)%l,c<0&&(d+=l),d<p){for(d&&b.c.push(+h.slice(0,d)),p-=l;d<p;)b.c.push(+h.slice(d,d+=l));d=l-(h=h.slice(d)).length}else d-=p;for(;d--;h+="0");b.c.push(+h)}}else b.c=[b.e=0]}function K(e,t,n,r){var i,a,s,o,c;if(null==n?n=R:m(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=b(e.c),c=1==r||2==r&&(s<=N||s>=L)?w(c,s):v(c,s,"0");else if(a=(e=G(new q(e),t,n)).e,o=(c=b(e.c)).length,1==r||2==r&&(t<=a||a<=N)){for(;o<t;c+="0",o++);c=w(c,a)}else if(t-=s+(2===r&&a>s),c=v(c,a,"0"),a+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=a-o)>0)for(a+1==o&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function W(e,t){for(var n,r,i=1,a=new q(e[0]);i<e.length;i++)(!(r=new q(e[i])).s||(n=y(a,r))===t||0===n&&a.s===t)&&(a=r);return a}function V(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*l-1)>B?e.c=e.e=null:n<D?e.c=[e.e=0]:(e.e=n,e.c=t),e}function G(e,t,n,r){var s,o,u,f,p,h,b,y=e.c,m=d;if(y){e:{for(s=1,f=y[0];f>=10;f/=10,s++);if((o=t-s)<0)o+=l,u=t,p=y[h=0],b=a(p/m[s-u-1]%10);else if((h=i((o+1)/l))>=y.length){if(!r)break e;for(;y.length<=h;y.push(0));p=b=0,s=1,u=(o%=l)-l+1}else{for(p=f=y[h],s=1;f>=10;f/=10,s++);b=(u=(o%=l)-l+s)<0?0:a(p/m[s-u-1]%10)}if(r=r||t<0||null!=y[h+1]||(u<0?p:p%m[s-u-1]),r=n<4?(b||r)&&(0==n||n==(e.s<0?3:2)):b>5||5==b&&(4==n||r||6==n&&(o>0?u>0?p/m[s-u]:0:y[h-1])%10&1||n==(e.s<0?8:7)),t<1||!y[0])return y.length=0,r?(t-=e.e+1,y[0]=m[(l-t%l)%l],e.e=-t||0):y[0]=e.e=0,e;if(0==o?(y.length=h,f=1,h--):(y.length=h+1,f=m[l-o],y[h]=u>0?a(p/m[s-u]%m[u])*f:0),r)for(;;){if(0==h){for(o=1,u=y[0];u>=10;u/=10,o++);for(u=y[0]+=f,f=1;u>=10;u/=10,f++);o!=f&&(e.e++,y[0]==c&&(y[0]=1));break}if(y[h]+=f,y[h]!=c)break;y[h--]=0,f=1}for(o=y.length;0===y[--o];y.pop());}e.e>B?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function Y(e){var t,n=e.e;return null===n?e.toString():(t=b(e.c),t=n<=N||n>=L?w(t,n):v(t,n,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(m(n=e[t],0,p,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(m(n=e[t],0,8,t),R=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(m(n[0],-p,0,t),m(n[1],0,p,t),N=n[0],L=n[1]):(m(n,-p,p,t),N=-(L=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)m(n[0],-p,-1,t),m(n[1],1,p,t),D=n[0],B=n[1];else{if(m(n,-p,p,t),!n)throw Error(s+t+" cannot be zero: "+n);D=-(B=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw j=!n,Error(s+"crypto unavailable");j=n}else j=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(m(n=e[t],0,9,t),U=n),e.hasOwnProperty(t="POW_PRECISION")&&(m(n=e[t],0,p,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);$=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);H="0123456789"==n.slice(0,10),z=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:R,EXPONENTIAL_AT:[N,L],RANGE:[D,B],CRYPTO:j,MODULO_MODE:U,POW_PRECISION:F,FORMAT:$,ALPHABET:z}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,r=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-p&&i<=p&&i===a(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%l)<1&&(t+=l),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==a(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(s+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return W(arguments,-1)},q.minimum=q.min=function(){return W(arguments,1)},q.random=(S=9007199254740992,T=Math.random()*S&2097151?function(){return a(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,c,u=0,f=[],h=new q(O);if(null==e?e=M:m(e,0,p),o=i(e/l),j)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));u<o;)(c=131072*t[u]+(t[u+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[u]=n[0],t[u+1]=n[1]):(f.push(c%1e14),u+=2);u=o/2}else{if(!crypto.randomBytes)throw j=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(o*=7);u<o;)(c=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(f.push(c%1e14),u+=7);u=o/7}if(!j)for(;u<o;)(c=T())<9e15&&(f[u++]=c%1e14);for(o=f[--u],e%=l,o&&e&&(c=d[l-e],f[u]=a(o/c)*c);0===f[u];f.pop(),u--);if(u<0)f=[r=0];else{for(r=-1;0===f[0];f.splice(0,1),r-=l);for(u=1,c=f[0];c>=10;c/=10,u++);u<l&&(r-=l-u)}return h.e=r,h.c=f,h}),q.sum=function(){for(var e=1,t=arguments,n=new q(t[0]);e<t.length;)n=n.plus(t[e++]);return n},E=function(){var e="0123456789";function t(e,t,n,r){for(var i,a,s=[0],o=0,c=e.length;o<c;){for(a=s.length;a--;s[a]*=t);for(s[0]+=r.indexOf(e.charAt(o++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,a,s,o){var c,l,u,d,f,p,h,y,m=r.indexOf("."),g=M,w=R;for(m>=0&&(d=F,F=0,r=r.replace(".",""),p=(y=new q(i)).pow(r.length-m),F=d,y.c=t(v(b(p.c),p.e,"0"),10,a,e),y.e=y.c.length),u=d=(h=t(r,i,a,o?(c=z,e):(c=e,z))).length;0==h[--d];h.pop());if(!h[0])return c.charAt(0);if(m<0?--u:(p.c=h,p.e=u,p.s=s,h=(p=n(p,y,g,w,a)).c,f=p.r,u=p.e),m=h[l=u+g+1],d=a/2,f=f||l<0||null!=h[l+1],f=w<4?(null!=m||f)&&(0==w||w==(p.s<0?3:2)):m>d||m==d&&(4==w||f||6==w&&1&h[l-1]||w==(p.s<0?8:7)),l<1||!h[0])r=f?v(c.charAt(1),-g,c.charAt(0)):c.charAt(0);else{if(h.length=l,f)for(--a;++h[--l]>a;)h[l]=0,l||(++u,h=[1].concat(h));for(d=h.length;!h[--d];);for(m=0,r="";m<=d;r+=c.charAt(h[m++]));r=v(r,u,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,a,s,o=0,c=e.length,l=t%f,u=t/f|0;for(e=e.slice();c--;)o=((i=l*(a=e[c]%f)+(r=u*a+(s=e[c]/f|0)*l)%f*f+o)/n|0)+(r/f|0)+u*s,e[c]=i%n;return o&&(e=[o].concat(e)),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,o,u){var d,f,p,b,y,m,g,w,v,E,x,S,T,A,_,C,k,I=r.s==i.s?1:-1,P=r.c,O=i.c;if(!(P&&P[0]&&O&&O[0]))return new q(r.s&&i.s&&(P?!O||P[0]!=O[0]:O)?P&&0==P[0]||!O?0*I:I/0:NaN);for(v=(w=new q(I)).c=[],I=s+(f=r.e-i.e)+1,u||(u=c,f=h(r.e/l)-h(i.e/l),I=I/l|0),p=0;O[p]==(P[p]||0);p++);if(O[p]>(P[p]||0)&&f--,I<0)v.push(1),b=!0;else{for(A=P.length,C=O.length,p=0,I+=2,(y=a(u/(O[0]+1)))>1&&(O=e(O,y,u),P=e(P,y,u),C=O.length,A=P.length),T=C,x=(E=P.slice(0,C)).length;x<C;E[x++]=0);k=O.slice(),k=[0].concat(k),_=O[0],O[1]>=u/2&&_++;do{if(y=0,(d=t(O,E,C,x))<0){if(S=E[0],C!=x&&(S=S*u+(E[1]||0)),(y=a(S/_))>1)for(y>=u&&(y=u-1),g=(m=e(O,y,u)).length,x=E.length;1==t(m,E,g,x);)y--,n(m,C<g?k:O,g,u),g=m.length,d=1;else 0==y&&(d=y=1),g=(m=O.slice()).length;if(g<x&&(m=[0].concat(m)),n(E,m,x,u),x=E.length,-1==d)for(;t(O,E,C,x)<1;)y++,n(E,C<x?k:O,x,u),x=E.length}else 0===d&&(y++,E=[0]);v[p++]=y,E[0]?E[x++]=P[T]||0:(E=[P[T]],x=1)}while((T++<A||null!=E[0])&&I--);b=null!=E[0],v[0]||v.splice(0,1)}if(u==c){for(p=1,I=v[0];I>=10;I/=10,p++);G(w,s+(w.e=p+f*l-1)+1,o,b)}else w.e=f,w.r=+b;return w}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,_=/^([^.]+)\.$/,C=/^\.([^.]+)$/,k=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,n,r){var i,a=n?t:t.replace(I,"");if(k.test(a))e.s=isNaN(a)?null:a<0?-1:1;else{if(!n&&(a=a.replace(A,function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t}),r&&(i=r,a=a.replace(_,"$1").replace(C,"0.$1")),t!=a))return new q(a,i);if(q.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},P.absoluteValue=P.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},P.comparedTo=function(e,t){return y(this,new q(e,t))},P.decimalPlaces=P.dp=function(e,t){var n,r,i,a=this;if(null!=e)return m(e,0,p),null==t?t=R:m(t,0,8),G(new q(a),e+a.e+1,t);if(!(n=a.c))return null;if(r=((i=n.length-1)-h(this.e/l))*l,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},P.dividedBy=P.div=function(e,t){return n(this,new q(e,t),M,R)},P.dividedToIntegerBy=P.idiv=function(e,t){return n(this,new q(e,t),0,1)},P.exponentiatedBy=P.pow=function(e,t){var n,r,o,c,u,d,f,p,h=this;if((e=new q(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new q(t)),u=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return p=new q(Math.pow(+Y(h),u?e.s*(2-g(e)):+Y(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(r=!d&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||u&&h.c[1]>=24e7:h.c[0]<8e13||u&&h.c[0]<=9999975e7)))return c=h.s<0&&g(e)?-0:0,h.e>-1&&(c=1/c),new q(d?1/c:c);F&&(c=i(F/l+2))}for(u?(n=new q(.5),d&&(e.s=1),f=g(e)):f=(o=Math.abs(+Y(e)))%2,p=new q(O);;){if(f){if(!(p=p.times(h)).c)break;c?p.c.length>c&&(p.c.length=c):r&&(p=p.mod(t))}if(o){if(0===(o=a(o/2)))break;f=o%2}else if(G(e=e.times(n),e.e+1,1),e.e>14)f=g(e);else{if(0===(o=+Y(e)))break;f=o%2}h=h.times(h),c?h.c&&h.c.length>c&&(h.c.length=c):r&&(h=h.mod(t))}return r?p:(d&&(p=O.div(p)),t?p.mod(t):c?G(p,F,R,void 0):p)},P.integerValue=function(e){var t=new q(this);return null==e?e=R:m(e,0,8),G(t,t.e+1,e)},P.isEqualTo=P.eq=function(e,t){return 0===y(this,new q(e,t))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(e,t){return y(this,new q(e,t))>0},P.isGreaterThanOrEqualTo=P.gte=function(e,t){return 1===(t=y(this,new q(e,t)))||0===t},P.isInteger=function(){return!!this.c&&h(this.e/l)>this.c.length-2},P.isLessThan=P.lt=function(e,t){return y(this,new q(e,t))<0},P.isLessThanOrEqualTo=P.lte=function(e,t){return-1===(t=y(this,new q(e,t)))||0===t},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(e,t){var n,r,i,a,s=this,o=s.s;if(t=(e=new q(e,t)).s,!o||!t)return new q(NaN);if(o!=t)return e.s=-t,s.plus(e);var u=s.e/l,d=e.e/l,f=s.c,p=e.c;if(!u||!d){if(!f||!p)return f?(e.s=-t,e):new q(p?s:NaN);if(!f[0]||!p[0])return p[0]?(e.s=-t,e):new q(f[0]?s:3==R?-0:0)}if(u=h(u),d=h(d),f=f.slice(),o=u-d){for((a=o<0)?(o=-o,i=f):(d=u,i=p),i.reverse(),t=o;t--;i.push(0));i.reverse()}else for(r=(a=(o=f.length)<(t=p.length))?o:t,o=t=0;t<r;t++)if(f[t]!=p[t]){a=f[t]<p[t];break}if(a&&(i=f,f=p,p=i,e.s=-e.s),(t=(r=p.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=c-1;r>o;){if(f[--r]<p[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=c}f[r]-=p[r]}for(;0==f[0];f.splice(0,1),--d);return f[0]?V(e,f,d):(e.s=3==R?-1:1,e.c=[e.e=0],e)},P.modulo=P.mod=function(e,t){var r,i,a=this;return e=new q(e,t),!a.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||a.c&&!a.c[0]?new q(a):(9==U?(i=e.s,e.s=1,r=n(a,e,0,3),e.s=i,r.s*=i):r=n(a,e,0,U),(e=a.minus(r.times(e))).c[0]||1!=U||(e.s=a.s),e)},P.multipliedBy=P.times=function(e,t){var n,r,i,a,s,o,u,d,p,b,y,m,g,w,v,E=this,x=E.c,S=(e=new q(e,t)).c;if(!(x&&S&&x[0]&&S[0]))return!E.s||!e.s||x&&!x[0]&&!S||S&&!S[0]&&!x?e.c=e.e=e.s=null:(e.s*=E.s,x&&S?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=h(E.e/l)+h(e.e/l),e.s*=E.s,(u=x.length)<(b=S.length)&&(g=x,x=S,S=g,i=u,u=b,b=i),i=u+b,g=[];i--;g.push(0));for(w=c,v=f,i=b;--i>=0;){for(n=0,y=S[i]%v,m=S[i]/v|0,a=i+(s=u);a>i;)n=((d=y*(d=x[--s]%v)+(o=m*d+(p=x[s]/v|0)*y)%v*v+g[a]+n)/w|0)+(o/v|0)+m*p,g[a--]=d%w;g[a]=n}return n?++r:g.splice(0,1),V(e,g,r)},P.negated=function(){var e=new q(this);return e.s=-e.s||null,e},P.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,r.minus(e);var a=r.e/l,s=e.e/l,o=r.c,u=e.c;if(!a||!s){if(!o||!u)return new q(i/0);if(!o[0]||!u[0])return u[0]?e:new q(o[0]?r:0*i)}if(a=h(a),s=h(s),o=o.slice(),i=a-s){for(i>0?(s=a,n=u):(i=-i,n=o),n.reverse();i--;n.push(0));n.reverse()}for((i=o.length)-(t=u.length)<0&&(n=u,u=o,o=n,t=i),i=0;t;)i=(o[--t]=o[t]+u[t]+i)/c|0,o[t]=c===o[t]?0:o[t]%c;return i&&(o=[i].concat(o),++s),V(e,o,s)},P.precision=P.sd=function(e,t){var n,r,i,a=this;if(null!=e&&e!==!!e)return m(e,1,p),null==t?t=R:m(t,0,8),G(new q(a),e,t);if(!(n=a.c))return null;if(r=(i=n.length-1)*l+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&a.e+1>r&&(r=a.e+1),r},P.shiftedBy=function(e){return m(e,-9007199254740991,u),this.times("1e"+e)},P.squareRoot=P.sqrt=function(){var e,t,r,i,a,s=this,o=s.c,c=s.s,l=s.e,u=M+4,d=new q("0.5");if(1!==c||!o||!o[0])return new q(!c||c<0&&(!o||o[0])?NaN:o?s:1/0);if(0==(c=Math.sqrt(+Y(s)))||c==1/0?(((t=b(o)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=h((l+1)/2)-(l<0||l%2),r=new q(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new q(c+""),r.c[0])for((c=(l=r.e)+u)<3&&(c=0);;)if(a=r,r=d.times(a.plus(n(s,a,u,1))),b(a.c).slice(0,c)===(t=b(r.c)).slice(0,c)){if(r.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+M+2,1),e=!r.times(r).eq(s));break}if(!i&&(G(a,a.e+M+2,0),a.times(a).eq(s))){r=a;break}u+=4,c+=4,i=1}return G(r,r.e+M+1,R,e)},P.toExponential=function(e,t){return null!=e&&(m(e,0,p),e++),K(this,e,t,1)},P.toFixed=function(e,t){return null!=e&&(m(e,0,p),e=e+this.e+1),K(this,e,t)},P.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=$;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var a,o=r.split("."),c=+n.groupSize,l=+n.secondaryGroupSize,u=n.groupSeparator||"",d=o[0],f=o[1],p=i.s<0,h=p?d.slice(1):d,b=h.length;if(l&&(a=c,c=l,l=a,b-=a),c>0&&b>0){for(a=b%c||c,d=h.substr(0,a);a<b;a+=c)d+=u+h.substr(a,c);l>0&&(d+=u+h.slice(a)),p&&(d="-"+d)}r=f?d+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):d}return(n.prefix||"")+r+(n.suffix||"")},P.toFraction=function(e){var t,r,i,a,o,c,u,f,p,h,y,m,g=this,w=g.c;if(null!=e&&(!(u=new q(e)).isInteger()&&(u.c||1!==u.s)||u.lt(O)))throw Error(s+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Y(u));if(!w)return new q(g);for(t=new q(O),p=r=new q(O),i=f=new q(O),m=b(w),o=t.e=m.length-g.e-1,t.c[0]=d[(c=o%l)<0?l+c:c],e=!e||u.comparedTo(t)>0?o>0?t:p:u,c=B,B=1/0,u=new q(m),f.c[0]=0;h=n(u,t,0,1),1!=(a=r.plus(h.times(i))).comparedTo(e);)r=i,i=a,p=f.plus(h.times(a=p)),f=a,t=u.minus(h.times(a=t)),u=a;return a=n(e.minus(r),i,0,1),f=f.plus(a.times(p)),r=r.plus(a.times(i)),f.s=p.s=g.s,y=n(p,i,o*=2,R).minus(g).abs().comparedTo(n(f,r,o,R).minus(g).abs())<1?[p,i]:[f,r],B=c,y},P.toNumber=function(){return+Y(this)},P.toPrecision=function(e,t){return null!=e&&m(e,1,p),K(this,e,t,2)},P.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=N||i>=L?w(b(n.c),i):v(b(n.c),i,"0"):10===e&&H?t=v(b((n=G(new q(n),M+i+1,R)).c),n.e,"0"):(m(e,2,z.length,"Base"),t=E(v(b(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},P.valueOf=P.toJSON=function(){return Y(this)},P._isBigNumber=!0,P[Symbol.toStringTag]="BigNumber",P[Symbol.for("nodejs.util.inspect.custom")]=P.valueOf,null!=t&&q.set(t),q}()},96485:(e,t,n)=>{"use strict";n.d(t,{Fl:()=>a,NV:()=>s,ii:()=>i});var r=n(14323);class i extends r.C{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}class a extends r.C{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class s extends r.C{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}},96516:(e,t,n)=>{"use strict";n.d(t,{X9:()=>s,s7:()=>i,x8:()=>a});var r=n(88615);class i extends r.C{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class a extends r.C{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class s extends r.C{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},96631:(e,t,n)=>{"use strict";const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:a,ObjectSetPrototypeOf:s}=n(70273);e.exports=l;const o=n(59333),c=n(80789);s(l.prototype,o.prototype),s(l,o);{const e=a(c.prototype);for(let t=0;t<e.length;t++){const n=e[t];l.prototype[n]||(l.prototype[n]=c.prototype[n])}}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let u,d;function f(){return void 0===u&&(u={}),u}r(l.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),l.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},l.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},l.from=function(e){return d||(d=n(86821)),d(e,"body")}},96943:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(23785);function i(e){return(0,r.q)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},96949:(e,t,n)=>{"use strict";n.d(t,{io:()=>Te});var r={};n.r(r),n.d(r,{Decoder:()=>ye,Encoder:()=>he,PacketType:()=>pe,protocol:()=>fe});const i=Object.create(null);i.open="0",i.close="1",i.ping="2",i.pong="3",i.message="4",i.upgrade="5",i.noop="6";const a=Object.create(null);Object.keys(i).forEach(e=>{a[i[e]]=e});const s={type:"error",data:"parser error"},o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"==typeof ArrayBuffer,l=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,u=({type:e,data:t},n,r)=>o&&t instanceof Blob?n?r(t):d(t,r):c&&(t instanceof ArrayBuffer||l(t))?n?r(t):d(new Blob([t]),r):r(i[e]+(t||"")),d=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function f(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let p;const h="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(e)]=e;const b="function"==typeof ArrayBuffer,y=(e,t)=>{if("string"!=typeof e)return{type:"message",data:g(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:m(e.substring(1),t)}:a[n]?e.length>1?{type:a[n],data:e.substring(1)}:{type:a[n]}:s},m=(e,t)=>{if(b){const n=(e=>{let t,n,r,i,a,s=.75*e.length,o=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const l=new ArrayBuffer(s),u=new Uint8Array(l);for(t=0;t<o;t+=4)n=h[e.charCodeAt(t)],r=h[e.charCodeAt(t+1)],i=h[e.charCodeAt(t+2)],a=h[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|i>>2,u[c++]=(3&i)<<6|63&a;return l})(e);return g(n,t)}return{base64:!0,data:e}},g=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,w=String.fromCharCode(30);let v;function E(e){return e.reduce((e,t)=>e+t.length,0)}function x(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function S(e){if(e)return function(e){for(var t in S.prototype)e[t]=S.prototype[t];return e}(e)}S.prototype.on=S.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},S.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},S.prototype.off=S.prototype.removeListener=S.prototype.removeAllListeners=S.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},S.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},S.prototype.emitReserved=S.prototype.emit,S.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},S.prototype.hasListeners=function(e){return!!this.listeners(e).length};const T="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),A="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function _(e,...t){return t.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const C=A.setTimeout,k=A.clearTimeout;function I(e,t){t.useNativeTimers?(e.setTimeoutFn=C.bind(A),e.clearTimeoutFn=k.bind(A)):(e.setTimeoutFn=A.setTimeout.bind(A),e.clearTimeoutFn=A.clearTimeout.bind(A))}function P(e){return"string"==typeof e?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function O(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class M extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class R extends S{constructor(e){super(),this.writable=!1,I(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new M(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=y(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class N extends R{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(w),r=[];for(let e=0;e<n.length;e++){const i=y(n[e],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((e,a)=>{u(e,!1,e=>{r[a]=e,++i===n&&t(r.join(w))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=O()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let L=!1;try{L="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const D=L;function B(){}class j extends N{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class U extends S{constructor(e,t,n){super(),this.createRequest=e,I(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=_(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(e){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},n.send(this._data)}catch(e){return void this.setTimeoutFn(()=>{this._onError(e)},0)}"undefined"!=typeof document&&(this._index=U.requestsCount++,U.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=B,e)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete U.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}function F(){for(let e in U.requests)U.requests.hasOwnProperty(e)&&U.requests[e].abort()}U.requestsCount=0,U.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",F):"function"==typeof addEventListener&&addEventListener("onpagehide"in A?"pagehide":"unload",F,!1));const $=function(){const e=z({xdomain:!1});return e&&null!==e.responseType}();function z(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||D))return new XMLHttpRequest}catch(e){}if(!t)try{return new(A[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}const H="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class q extends R{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=H?{}:_(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;u(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(e){}r&&T(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=O()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const K=A.WebSocket||A.MozWebSocket,W={websocket:class extends q{createSocket(e,t,n){return H?new K(e,t,n):t?new K(e,t):new K(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends R{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){v||(v=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,c){for(n.push(o);;){if(0===r){if(E(n)<1)break;const e=x(n,1);a=!(128&~e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(E(n)<2)break;const e=x(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(E(n)<8)break;const e=x(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){c.enqueue(s);break}i=a*Math.pow(2,32)+t.getUint32(4),r=3}else{if(E(n)<i)break;const e=x(n,i);c.enqueue(y(a?e:v.decode(e),t)),r=0}if(0===i||i>e){c.enqueue(s);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=new TransformStream({transform(e,t){!function(e,t){o&&e.data instanceof Blob?e.data.arrayBuffer().then(f).then(t):c&&(e.data instanceof ArrayBuffer||l(e.data))?t(f(e.data)):u(e,!1,e=>{p||(p=new TextEncoder),t(p.encode(e))})}(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!=typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}});r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(({done:e,value:t})=>{e||(this.onPacket(t),i())}).catch(e=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&T(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends j{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=$&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new U(z,this.uri(),e)}}},V=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,G=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Y(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=V.exec(e||""),a={},s=14;for(;s--;)a[G[s]]=i[s]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,a.query),a}const J="function"==typeof addEventListener&&"function"==typeof removeEventListener,Z=[];J&&addEventListener("offline",()=>{Z.forEach(e=>e())},!1);class X extends S{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const n=Y(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Y(t.host).host);I(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),J&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Z.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&X.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",X.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=P(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,T(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(X.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),J&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Z.indexOf(this._offlineEventListener);-1!==e&&Z.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}X.protocol=4;class Q extends X{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;X.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;X.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,l(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function s(){a("transport closed")}function o(){a("socket closed")}function c(e){t&&e.name!==t.name&&i()}const l=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",s),this.off("close",o),this.off("upgrading",c)};t.once("open",r),t.once("error",a),t.once("close",s),this.once("close",o),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class ee extends Q{constructor(e,t={}){const n="object"==typeof e?e:t;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(e=>W[e]).filter(e=>!!e)),super(e,n)}}const te="function"==typeof ArrayBuffer,ne=Object.prototype.toString,re="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===ne.call(Blob),ie="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===ne.call(File);function ae(e){return te&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||re&&e instanceof Blob||ie&&e instanceof File}function se(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(se(e[t]))return!0;return!1}if(ae(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return se(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&se(e[t]))return!0;return!1}function oe(e){const t=[],n=e.data,r=e;return r.data=ce(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ce(e,t){if(!e)return e;if(ae(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ce(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ce(e[r],t));return n}return e}function le(e,t){return e.data=ue(e.data,t),delete e.attachments,e}function ue(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ue(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ue(e[n],t));return e}const de=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],fe=5;var pe;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(pe||(pe={}));class he{constructor(e){this.replacer=e}encode(e){return e.type!==pe.EVENT&&e.type!==pe.ACK||!se(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==pe.BINARY_EVENT&&e.type!==pe.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=oe(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function be(e){return"[object Object]"===Object.prototype.toString.call(e)}class ye extends S{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===pe.BINARY_EVENT;n||t.type===pe.BINARY_ACK?(t.type=n?pe.EVENT:pe.ACK,this.reconstructor=new me(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ae(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===pe[n.type])throw new Error("unknown packet type "+n.type);if(n.type===pe.BINARY_EVENT||n.type===pe.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!ye.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case pe.CONNECT:return be(t);case pe.DISCONNECT:return void 0===t;case pe.CONNECT_ERROR:return"string"==typeof t||be(t);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===de.indexOf(t[0]));case pe.ACK:case pe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class me{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=le(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ge(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const we=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ve extends S{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ge(e,"open",this.onopen.bind(this)),ge(e,"packet",this.onpacket.bind(this)),ge(e,"error",this.onerror.bind(this)),ge(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,r,i;if(we.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:pe.EVENT,data:t,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,n=t.pop();this._registerAckCallback(e,n),a.id=e}const s=null===(r=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===r?void 0:r.writable,o=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!s||(o?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},r),a=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,e)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((n,r)=>{const i=(e,t)=>e?r(e):n(t);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...r)=>{if(n===this._queue[0])return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(e);break;case pe.ACK:case pe.BINARY_ACK:this.onack(e);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:pe.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Ee(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ee.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},Ee.prototype.reset=function(){this.attempts=0},Ee.prototype.setMin=function(e){this.ms=e},Ee.prototype.setMax=function(e){this.max=e},Ee.prototype.setJitter=function(e){this.jitter=e};class xe extends S{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,I(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Ee({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ee(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=ge(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=ge(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ge(e,"ping",this.onping.bind(this)),ge(e,"data",this.ondata.bind(this)),ge(e,"error",this.onerror.bind(this)),ge(e,"close",this.onclose.bind(this)),ge(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){T(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new ve(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Se={};function Te(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=Y(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,a=n.path,s=Se[i]&&a in Se[i].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?o=new xe(r,t):(Se[i]||(Se[i]=new xe(r,t)),o=Se[i]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(Te,{Manager:xe,Socket:ve,io:Te,connect:Te})},96972:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var r=n(34820),i=n(94102),a=n(96063);async function s(e,t){const{account:n=e.account,domain:s,message:o,primaryType:c}=t;if(!n)throw new i.T({docsPath:"/docs/actions/wallet/signTypedData"});const l=(0,r.J)(n),u={EIP712Domain:(0,a.H4)({domain:s}),...t.types};if((0,a.$$)({domain:s,message:o,primaryType:c,types:u}),l.signTypedData)return l.signTypedData({domain:s,message:o,primaryType:c,types:u});const d=(0,a.v8)({domain:s,message:o,primaryType:c,types:u});return e.request({method:"eth_signTypedData_v4",params:[l.address,d]},{retryCount:0})}},97353:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>Pn,FA:()=>Mn,TZ:()=>On,UF:()=>kn});var r=n(91315),i=n(25607);function a(e,...t){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const o="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,c=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function l(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),a(e),e}class u{clone(){return this._cloneInto()}}function d(e=32){if(o&&"function"==typeof o.getRandomValues)return o.getRandomValues(new Uint8Array(e));if(o&&"function"==typeof o.randomBytes)return o.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class f extends u{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=c(this.buffer)}update(e){s(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=l(e)).length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);if(s===r){const t=c(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){s(this),function(e,t){a(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,o,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const l=c(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)l.setUint32(4*e,f[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=a,r%t&&e.buffer.set(n),e}}const p=BigInt(2**32-1),h=BigInt(32);function b(e,t=!1){return t?{h:Number(e&p),l:Number(e>>h&p)}:{h:0|Number(e>>h&p),l:0|Number(e&p)}}const y=function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:a,l:s}=b(e[i],t);[n[i],r[i]]=[a,s]}return[n,r]},m=(e,t,n)=>e>>>n,g=(e,t,n)=>e<<32-n|t>>>n,w=(e,t,n)=>e>>>n|t<<32-n,v=(e,t,n)=>e<<32-n|t>>>n,E=(e,t,n)=>e<<64-n|t>>>n-32,x=(e,t,n)=>e>>>n-32|t<<64-n,S=function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},T=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),A=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,_=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),C=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,k=(e,t,n,r,i,a)=>t+n+r+i+a+(e/2**32|0)|0,I=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),[P,O]=y(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),M=new Uint32Array(80),R=new Uint32Array(80);class N extends f{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:a,Dh:s,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:p,Hh:h,Hl:b}=this;return[e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b]}set(e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|h,this.Hl=0|b}process(e,t){for(let n=0;n<16;n++,t+=4)M[n]=e.getUint32(t),R[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|M[e-15],n=0|R[e-15],r=w(t,n,1)^w(t,n,8)^m(t,n,7),i=v(t,n,1)^v(t,n,8)^g(t,n,7),a=0|M[e-2],s=0|R[e-2],o=w(a,s,19)^E(a,s,61)^m(a,s,6),c=v(a,s,19)^x(a,s,61)^g(a,s,6),l=_(i,c,R[e-7],R[e-16]),u=C(l,r,o,M[e-7],M[e-16]);M[e]=0|u,R[e]=0|l}let{Ah:n,Al:r,Bh:i,Bl:a,Ch:s,Cl:o,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:p,Gh:h,Gl:b,Hh:y,Hl:N}=this;for(let e=0;e<80;e++){const t=w(u,d,14)^w(u,d,18)^E(u,d,41),m=v(u,d,14)^v(u,d,18)^x(u,d,41),g=u&f^~u&h,_=I(N,m,d&p^~d&b,O[e],R[e]),C=k(_,y,t,g,P[e],M[e]),L=0|_,D=w(n,r,28)^E(n,r,34)^E(n,r,39),B=v(n,r,28)^x(n,r,34)^x(n,r,39),j=n&i^n&s^i&s,U=r&a^r&o^a&o;y=0|h,N=0|b,h=0|f,b=0|p,f=0|u,p=0|d,({h:u,l:d}=S(0|c,0|l,0|C,0|L)),c=0|s,l=0|o,s=0|i,o=0|a,i=0|n,a=0|r;const F=T(L,B,U);n=A(F,C,D,j),r=0|F}({h:n,l:r}=S(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:a}=S(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:o}=S(0|this.Ch,0|this.Cl,0|s,0|o)),({h:c,l}=S(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=S(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:p}=S(0|this.Fh,0|this.Fl,0|f,0|p)),({h,l:b}=S(0|this.Gh,0|this.Gl,0|h,0|b)),({h:y,l:N}=S(0|this.Hh,0|this.Hl,0|y,0|N)),this.set(n,r,i,a,s,o,c,l,u,d,f,p,h,b,y,N)}roundClean(){M.fill(0),R.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const L=function(e){const t=t=>e().update(l(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}(()=>new N),D=BigInt(0),B=BigInt(1),j=BigInt(2);function U(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function F(e){if(!U(e))throw new Error("Uint8Array expected")}function $(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const z=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function H(e){F(e);let t="";for(let n=0;n<e.length;n++)t+=z[e[n]];return t}function q(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?D:BigInt("0x"+e)}function K(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function W(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=K(e.charCodeAt(i)),a=K(e.charCodeAt(i+1));if(void 0===n||void 0===a){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+a}return r}function V(e){return F(e),q(H(Uint8Array.from(e).reverse()))}function G(e,t){return W(e.toString(16).padStart(2*t,"0"))}function Y(e,t){return G(e,t).reverse()}function J(e,t,n){let r;if("string"==typeof t)try{r=W(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!U(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Z(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];F(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const X=e=>"bigint"==typeof e&&D<=e;function Q(e,t,n,r){if(!function(e,t,n){return X(e)&&X(t)&&X(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const ee=e=>(j<<BigInt(e-1))-B,te={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||U(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ne(e,t,n={}){const r=(t,n,r)=>{const i=te[n];if("function"!=typeof i)throw new Error("invalid validator function");const a=e[t];if(!(r&&void 0===a||i(a,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+a)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function re(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const a=e(n,...r);return t.set(n,a),a}}const ie=BigInt(0),ae=BigInt(1),se=BigInt(2),oe=BigInt(3),ce=BigInt(4),le=BigInt(5),ue=BigInt(8);function de(e,t){const n=e%t;return n>=ie?n:t+n}function fe(e,t,n){if(t<ie)throw new Error("invalid exponent, negatives unsupported");if(n<=ie)throw new Error("invalid modulus");if(n===ae)return ie;let r=ae;for(;t>ie;)t&ae&&(r=r*e%n),e=e*e%n,t>>=ae;return r}function pe(e,t,n){let r=e;for(;t-- >ie;)r*=r,r%=n;return r}function he(e,t){if(e===ie)throw new Error("invert: expected non-zero number");if(t<=ie)throw new Error("invert: expected positive modulus, got "+t);let n=de(e,t),r=t,i=ie,a=ae;for(;n!==ie;){const e=r%n,t=i-a*(r/n);r=n,n=e,i=a,a=t}if(r!==ae)throw new Error("invert: does not exist");return de(i,t)}const be=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ye(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function me(e,t,n=!1,r={}){if(e<=ie)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:a}=ye(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const o=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:a,MASK:ee(i),ZERO:ie,ONE:ae,create:t=>de(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return ie<=t&&t<e},is0:e=>e===ie,isOdd:e=>(e&ae)===ae,neg:t=>de(-t,e),eql:(e,t)=>e===t,sqr:t=>de(t*t,e),add:(t,n)=>de(t+n,e),sub:(t,n)=>de(t-n,e),mul:(t,n)=>de(t*n,e),pow:(e,t)=>function(e,t,n){if(n<ie)throw new Error("invalid exponent, negatives unsupported");if(n===ie)return e.ONE;if(n===ae)return t;let r=e.ONE,i=t;for(;n>ie;)n&ae&&(r=e.mul(r,i)),i=e.sqr(i),n>>=ae;return r}(o,e,t),div:(t,n)=>de(t*he(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>he(t,e),sqrt:r.sqrt||(t=>(s||(s=function(e){if(e%ce===oe){const t=(e+ae)/ce;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%ue===le){const t=(e-le)/ue;return function(e,n){const r=e.mul(n,se),i=e.pow(r,t),a=e.mul(n,i),s=e.mul(e.mul(a,se),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-ae)/se;let n,r,i;for(n=e-ae,r=0;n%se===ie;n/=se,r++);for(i=se;i<e&&fe(i,t,e)!==e-ae;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+ae)/ce;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const a=(n+ae)/se;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(s,a),u=e.pow(s,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<o&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,ae<<BigInt(o-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),o=t}return l}}(e)}(e)),s(o,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Y(e,a):G(e,a),fromBytes:e=>{if(e.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return n?V(e):function(e){return q(H(e))}(e)}});return Object.freeze(o)}const ge=BigInt(0),we=BigInt(1);function ve(e,t){const n=t.negate();return e?n:t}function Ee(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function xe(e,t){return Ee(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const Se=new WeakMap,Te=new WeakMap;function Ae(e){return Te.get(e)||1}const _e=BigInt(0),Ce=BigInt(1),ke=BigInt(2),Ie=BigInt(8),Pe={zip215:!0};BigInt(0),BigInt(1);const Oe=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Me=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Re=BigInt(1),Ne=BigInt(2);BigInt(3);const Le=BigInt(5),De=BigInt(8);const Be=me(Oe,void 0,!0),je=function(e){const t=function(e){const t=function(e){return function(e){ne(e,be.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),ne(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ye(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}(e);return ne(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:a,randomBytes:s,nByteLength:o,h:c}=t,l=ke<<BigInt(8*o)-Ce,u=n.create,d=me(t.n,t.nBitLength),f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:_e}}}),p=t.adjustScalarBytes||(e=>e),h=t.domain||((e,t,n)=>{if($("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function b(e,t){Q("coordinate "+e,t,_e,l)}function y(e){if(!(e instanceof w))throw new Error("ExtendedPoint expected")}const m=re((e,t)=>{const{ex:r,ey:i,ez:a}=e,s=e.is0();null==t&&(t=s?Ie:n.inv(a));const o=u(r*t),c=u(i*t),l=u(a*t);if(s)return{x:_e,y:Ce};if(l!==Ce)throw new Error("invZ was invalid");return{x:o,y:c}}),g=re(e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:a,ez:s,et:o}=e,c=u(i*i),l=u(a*a),d=u(s*s),f=u(d*d),p=u(c*n);if(u(d*u(p+l))!==u(f+u(r*u(c*l))))throw new Error("bad point: equation left != right (1)");if(u(i*a)!==u(s*o))throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,b("x",e),b("y",t),b("z",n),b("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return b("x",t),b("y",n),new w(t,n,Ce,u(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.ez));return e.map((e,n)=>e.toAffine(t[n])).map(w.fromAffine)}static msm(e,t){return function(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=function(e){let t;for(t=0;e>D;e>>=B,t+=1);return t}(BigInt(n.length)),s=a>12?a-3:a>4?a-2:a?2:1,o=(1<<s)-1,c=new Array(o+1).fill(i);let l=i;for(let e=Math.floor((t.BITS-1)/s)*s;e>=0;e-=s){c.fill(i);for(let t=0;t<r.length;t++){const i=r[t],a=Number(i>>BigInt(e)&BigInt(o));c[a]=c[a].add(n[t])}let t=i;for(let e=c.length-1,n=i;e>0;e--)n=n.add(c[e]),t=t.add(n);if(l=l.add(t),0!==e)for(let e=0;e<s;e++)l=l.double()}return l}(w,d,e,t)}_setWindowSize(e){x.setWindowSize(this,e)}assertValidity(){g(this)}equals(e){y(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:a,ez:s}=e,o=u(t*s),c=u(i*r),l=u(n*s),d=u(a*r);return o===c&&l===d}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,a=u(n*n),s=u(r*r),o=u(ke*u(i*i)),c=u(e*a),l=n+r,d=u(u(l*l)-a-s),f=c+s,p=f-o,h=c-s,b=u(d*p),y=u(f*h),m=u(d*h),g=u(p*f);return new w(b,y,g,m)}add(e){y(e);const{a:n,d:r}=t,{ex:i,ey:a,ez:s,et:o}=this,{ex:c,ey:l,ez:d,et:f}=e;if(n===BigInt(-1)){const e=u((a-i)*(l+c)),t=u((a+i)*(l-c)),n=u(t-e);if(n===_e)return this.double();const r=u(s*ke*f),p=u(o*ke*d),h=p+r,b=t+e,y=p-r,m=u(h*n),g=u(b*y),v=u(h*y),E=u(n*b);return new w(m,g,E,v)}const p=u(i*c),h=u(a*l),b=u(o*r*f),m=u(s*d),g=u((i+a)*(c+l)-p-h),v=m-b,E=m+b,x=u(h-n*p),S=u(g*v),T=u(E*x),A=u(g*x),_=u(v*E);return new w(S,T,_,A)}subtract(e){return this.add(e.negate())}wNAF(e){return x.wNAFCached(this,e,w.normalizeZ)}multiply(e){const t=e;Q("scalar",t,Ce,r);const{p:n,f:i}=this.wNAF(t);return w.normalizeZ([n,i])[0]}multiplyUnsafe(e,t=w.ZERO){const n=e;return Q("scalar",n,_e,r),n===_e?E:this.is0()||n===Ce?this:x.wNAFCachedUnsafe(this,n,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(e){return m(this,e)}clearCofactor(){const{h:e}=t;return e===Ce?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a}=t,s=n.BYTES;e=J("pointHex",e,s),$("zip215",r);const o=e.slice(),c=e[s-1];o[s-1]=-129&c;const d=V(o),p=r?l:n.ORDER;Q("pointHex.y",d,_e,p);const h=u(d*d),b=u(h-Ce),y=u(i*h-a);let{isValid:m,value:g}=f(b,y);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const v=(g&Ce)===Ce,E=!!(128&c);if(!r&&g===_e&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==v&&(g=u(-g)),w.fromAffine({x:g,y:d})}static fromPrivateKey(e){return A(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=Y(t,n.BYTES);return r[r.length-1]|=e&Ce?128:0,r}toHex(){return H(this.toRawBytes())}}w.BASE=new w(t.Gx,t.Gy,Ce,u(t.Gx*t.Gy)),w.ZERO=new w(_e,Ce,Ce,_e);const{BASE:v,ZERO:E}=w,x=function(e,t){return{constTimeNegate:ve,hasPrecomputes:e=>1!==Ae(e),unsafeLadder(t,n,r=e.ZERO){let i=t;for(;n>ge;)n&we&&(r=r.add(i)),i=i.double(),n>>=we;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=xe(n,t),a=[];let s=e,o=s;for(let e=0;e<r;e++){o=s,a.push(o);for(let e=1;e<i;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(n,r,i){const{windows:a,windowSize:s}=xe(n,t);let o=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let e=0;e<a;e++){const t=e*s;let n=Number(i&l);i>>=d,n>s&&(n-=u,i+=we);const a=t,f=t+Math.abs(n)-1,p=e%2!=0,h=n<0;0===n?c=c.add(ve(p,r[a])):o=o.add(ve(h,r[f]))}return{p:o,f:c}},wNAFUnsafe(n,r,i,a=e.ZERO){const{windows:s,windowSize:o}=xe(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let e=0;e<s;e++){const t=e*o;if(i===ge)break;let n=Number(i&c);if(i>>=u,n>o&&(n-=l,i+=we),0===n)continue;let s=r[t+Math.abs(n)-1];n<0&&(s=s.negate()),a=a.add(s)}return a},getPrecomputes(e,t,n){let r=Se.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Se.set(t,n(r))),r},wNAFCached(e,t,n){const r=Ae(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=Ae(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){Ee(n,t),Te.set(e,n),Se.delete(e)}}}(w,8*o);function S(e){return de(e,r)}function T(e){return S(V(e))}function A(e){const t=n.BYTES;e=J("private key",e,t);const r=J("hashed private key",a(e),2*t),i=p(r.slice(0,t)),s=r.slice(t,2*t),o=T(i),c=v.multiply(o),l=c.toRawBytes();return{head:i,prefix:s,scalar:o,point:c,pointBytes:l}}function _(e=new Uint8Array,...t){const n=Z(...t);return T(a(h(n,J("context",e),!!i)))}const C=Pe;return v._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return A(e).pointBytes},sign:function(e,t,a={}){e=J("message",e),i&&(e=i(e));const{prefix:s,scalar:o,pointBytes:c}=A(t),l=_(a.context,s,e),u=v.multiply(l).toRawBytes(),d=S(l+_(a.context,u,c,e)*o);return Q("signature.s",d,_e,r),J("result",Z(u,Y(d,n.BYTES)),2*n.BYTES)},verify:function(e,t,r,a=C){const{context:s,zip215:o}=a,c=n.BYTES;e=J("signature",e,2*c),t=J("message",t),r=J("publicKey",r,c),void 0!==o&&$("zip215",o),i&&(t=i(t));const l=V(e.slice(c,2*c));let u,d,f;try{u=w.fromHex(r,o),d=w.fromHex(e.slice(0,c),o),f=v.multiplyUnsafe(l)}catch{return!1}if(!o&&u.isSmallOrder())return!1;const p=_(s,d.toRawBytes(),u.toRawBytes(),t);return d.add(u.multiplyUnsafe(p)).subtract(f).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Be,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:De,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:L,randomBytes:d,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){const n=Oe,r=de(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),a=Oe,s=e*e%a*e%a,o=pe(s,Ne,a)*s%a,c=pe(o,Re,a)*e%a,l=pe(c,Le,a)*c%a,u=pe(l,t,a)*l%a,d=pe(u,n,a)*u%a,f=pe(d,r,a)*d%a,p=pe(f,i,a)*f%a,h=pe(p,i,a)*f%a,b=pe(h,t,a)*l%a;return{pow_p_5_8:pe(b,Ne,a)*e%a,b2:s}}(e*de(r*r*t,n)).pow_p_5_8;let a=de(e*r*i,n);const s=de(t*a*a,n),o=a,c=de(a*Me,n),l=s===e,u=s===de(-e,n),d=s===de(-e*Me,n);return l&&(a=o),(u||d)&&(a=c),((e,t)=>(de(e,t)&ae)===ae)(a,n)&&(a=de(-a,n)),{isValid:l||u,value:a}}}),Ue="EdDSA",Fe="JWT",$e=".",ze="base64url",He="utf8",qe="utf8",Ke=":",We="did",Ve="key",Ge="base58btc",Ye="z",Je="K36",Ze=32;function Xe(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Qe(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Xe(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function et(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=Qe(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return Xe(n)}const tt=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class nt{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class rt{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return at(this,e)}}class it{constructor(e){this.decoders=e}or(e){return at(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const at=(e,t)=>new it({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class st{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new nt(e,t,n),this.decoder=new rt(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ot=({name:e,prefix:t,encode:n,decode:r})=>new st(e,t,n,r),ct=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),s=a.charCodeAt(0);if(255!==n[s])throw new TypeError(a+" is ambiguous");n[s]=i}var o=e.length,c=e.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var a=(e.length-t)*l+1>>>0,s=new Uint8Array(a);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,f=a-1;(0!==u||d<i)&&-1!==f;f--,d++)u+=o*s[f]>>>0,s[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var p=a-i;p!==a&&0===s[p];)p++;for(var h=new Uint8Array(r+(a-p)),b=r;p!==a;)h[b++]=s[p++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,a=t.length;i!==a&&0===t[i];)i++,n++;for(var s=(a-i)*u+1>>>0,l=new Uint8Array(s);i!==a;){for(var d=t[i],f=0,p=s-1;(0!==d||f<r)&&-1!==p;p--,f++)d+=256*l[p]>>>0,l[p]=d%o>>>0,d=d/o>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var h=s-r;h!==s&&0===l[h];)h++;for(var b=c.repeat(n);h<s;++h)b+=e.charAt(l[h]);return b},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}}(n,t);return ot({prefix:e,name:t,encode:r,decode:e=>tt(i(e))})},lt=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>ot({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let a="",s=0,o=0;for(let r=0;r<e.length;++r)for(o=o<<8|e[r],s+=8;s>n;)s-=n,a+=t[i&o>>s];if(s&&(a+=t[i&o<<n-s]),r)for(;a.length*n&7;)a+="=";return a})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let a=e.length;for(;"="===e[a-1];)--a;const s=new Uint8Array(a*n/8|0);let o=0,c=0,l=0;for(let t=0;t<a;++t){const a=i[e[t]];if(void 0===a)throw new SyntaxError(`Non-${r} character`);c=c<<n|a,o+=n,o>=8&&(o-=8,s[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),ut=ot({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var dt=Object.freeze({__proto__:null,identity:ut});const ft=lt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pt=Object.freeze({__proto__:null,base2:ft});const ht=lt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bt=Object.freeze({__proto__:null,base8:ht});const yt=ct({prefix:"9",name:"base10",alphabet:"0123456789"});var mt=Object.freeze({__proto__:null,base10:yt});const gt=lt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wt=lt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vt=Object.freeze({__proto__:null,base16:gt,base16upper:wt});const Et=lt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),xt=lt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),St=lt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tt=lt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),At=lt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_t=lt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ct=lt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kt=lt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),It=lt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Pt=Object.freeze({__proto__:null,base32:Et,base32upper:xt,base32pad:St,base32padupper:Tt,base32hex:At,base32hexupper:_t,base32hexpad:Ct,base32hexpadupper:kt,base32z:It});const Ot=ct({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Mt=ct({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Rt=Object.freeze({__proto__:null,base36:Ot,base36upper:Mt});const Nt=ct({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Lt=ct({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Dt=Object.freeze({__proto__:null,base58btc:Nt,base58flickr:Lt});const Bt=lt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),jt=lt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ut=lt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ft=lt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $t=Object.freeze({__proto__:null,base64:Bt,base64pad:jt,base64url:Ut,base64urlpad:Ft});const zt=Array.from(""),Ht=zt.reduce((e,t,n)=>(e[n]=t,e),[]),qt=zt.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]),Kt=ot({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+Ht[t],"")},decode:function(e){const t=[];for(const n of e){const e=qt[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var Wt=Object.freeze({__proto__:null,base256emoji:Kt}),Vt=128,Gt=-128,Yt=Math.pow(2,31),Jt=Math.pow(2,7),Zt=Math.pow(2,14),Xt=Math.pow(2,21),Qt=Math.pow(2,28),en=Math.pow(2,35),tn=Math.pow(2,42),nn=Math.pow(2,49),rn=Math.pow(2,56),an=Math.pow(2,63),sn=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=Yt;)n[r++]=255&t|Vt,t/=128;for(;t&Gt;)n[r++]=255&t|Vt,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},on=function(e){return e<Jt?1:e<Zt?2:e<Xt?3:e<Qt?4:e<en?5:e<tn?6:e<nn?7:e<rn?8:e<an?9:10};const cn=(e,t,n=0)=>(sn(e,t,n),t),ln=e=>on(e),un=(e,t)=>{const n=t.byteLength,r=ln(e),i=r+ln(n),a=new Uint8Array(i+n);return cn(e,a,0),cn(n,a,r),a.set(t,i),new dn(e,n,t,a)};class dn{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const fn=({name:e,code:t,encode:n})=>new pn(e,t,n);class pn{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?un(this.code,t):t.then(e=>un(this.code,e))}throw Error("Unknown type, must be binary type")}}const hn=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),bn=fn({name:"sha2-256",code:18,encode:hn("SHA-256")}),yn=fn({name:"sha2-512",code:19,encode:hn("SHA-512")});Object.freeze({__proto__:null,sha256:bn,sha512:yn});const mn=tt,gn={code:0,name:"identity",encode:mn,digest:e=>un(0,mn(e))};Object.freeze({__proto__:null,identity:gn}),new TextEncoder,new TextDecoder;const wn={...dt,...pt,...bt,...mt,...vt,...Pt,...Rt,...Dt,...$t,...Wt};function vn(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const En=vn("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),xn=vn("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=Qe((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Sn={utf8:En,"utf-8":En,hex:wn.base16,latin1:xn,ascii:xn,binary:xn,...wn};function Tn(e,t="utf8"){const n=Sn[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function An(e,t="utf8"){const n=Sn[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):Xe(globalThis.Buffer.from(e,"utf-8"))}function _n(e){return(0,i.j)(Tn(An(e,ze),He))}function Cn(e){return Tn(An((0,i.h)(e),He),ze)}function kn(e){const t=An(Je,Ge),n=Ye+Tn(et([t,e]),Ge);return[We,Ve,n].join(Ke)}function In(e){return Tn(e,ze)}function Pn(e){const t=e.split($e),n=_n(t[0]),r=_n(t[1]),i=function(e){return An(e,ze)}(t[2]);return{header:n,payload:r,signature:i,data:An(t.slice(0,2).join($e),qe)}}function On(e=d(Ze)){const t=je.getPublicKey(e);return{secretKey:et([e,t]),publicKey:t}}async function Mn(e,t,n,i,a=(0,r.fromMiliseconds)(Date.now())){const s={alg:Ue,typ:Fe},o={iss:kn(i.publicKey),sub:e,aud:t,iat:a,exp:a+n},c=function(e){return An([Cn(e.header),Cn(e.payload)].join($e),qe)}({header:s,payload:o});return function(e){return[Cn(e.header),Cn(e.payload),In(e.signature)].join($e)}({header:s,payload:o,signature:je.sign(c,i.secretKey.slice(0,32))})}},97470:(e,t,n)=>{"use strict";n.d(t,{loadLegacyVideoPlugins:()=>i});var r=n(85608);function i(e){return(0,r.sH)(this,void 0,void 0,function(){var t;return(0,r.YH)(this,function(r){switch(r.label){case 0:return[4,Promise.resolve().then(n.t.bind(n,54407,23))];case 1:return t=r.sent(),e._plugins=t,[2]}})})}},97663:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Alias=void 0;var i=r(n(35615)),a=n(42265);function s(e,t){a.Facade.call(this,e,t)}t.Alias=s,i.default(s,a.Facade),s.prototype.action=function(){return"alias"},s.prototype.type=s.prototype.action,s.prototype.previousId=function(){return this.field("previousId")||this.field("from")},s.prototype.from=s.prototype.previousId,s.prototype.userId=function(){return this.field("userId")||this.field("to")},s.prototype.to=s.prototype.userId},97686:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(79756),i=n(58501),a=n(32991),s=n(76154),o=n(40022),c=n(75144);function l(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:l,onError:u,poll:d,pollingInterval:f=e.pollingInterval}){let p;return(void 0!==d?d:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{const r=(0,o.A)(["watchBlockNumber",e.uid,t,n,f]);return(0,a.lB)(r,{onBlockNumber:l,onError:u},r=>(0,s.w)(async()=>{try{const t=await(0,i.T)(e,c.G,"getBlockNumber")({cacheTime:0});if(void 0!==p){if(t===p)return;if(t-p>1&&n)for(let e=p+1n;e<t;e++)r.onBlockNumber(e,p),p=e}(void 0===p||t>p)&&(r.onBlockNumber(t,p),p=t)}catch(e){r.onError?.(e)}},{emitOnBegin:t,interval:f}))})():(()=>{const i=(0,o.A)(["watchBlockNumber",e.uid,t,n]);return(0,a.lB)(i,{onBlockNumber:l,onError:u},t=>{let n=!0,i=()=>n=!1;return(async()=>{try{const a=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await a.subscribe({params:["newHeads"],onData(e){if(!n)return;const i=(0,r.uU)(e.result?.number);t.onBlockNumber(i,p),p=i},onError(e){t.onError?.(e)}});i=s,n||i()}catch(e){u?.(e)}})(),()=>i()})})()}},97702:(e,t,n)=>{e.exports=n(80527).default,e.exports.default=e.exports},97713:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(30036);class i extends r.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.sd)(e);const n=(0,r.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),(0,r.uH)(a)}update(e){return(0,r.CC)(this),this.iHash.update(e),this}digestInto(e){(0,r.CC)(this),(0,r.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const a=(e,t,n)=>new i(e,t).update(n).digest();a.create=(e,t)=>new i(e,t)},97769:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(37663),i=n(30666),a=n(58470);const s="/docs/contract/encodeDeployData";function o(e){const{abi:t,args:n,bytecode:o}=e;if(!n||0===n.length)return o;const c=t.find(e=>"type"in e&&"constructor"===e.type);if(!c)throw new r.YW({docsPath:s});if(!("inputs"in c))throw new r.YF({docsPath:s});if(!c.inputs||0===c.inputs.length)throw new r.YF({docsPath:s});const l=(0,a.h)(c.inputs,n);return(0,i.aP)([o,l])}},97872:(e,t,n)=>{"use strict";const{MathFloor:r,NumberIsInteger:i}=n(70273),{validateInteger:a}=n(98080),{ERR_INVALID_ARG_VALUE:s}=n(61150).codes;let o=16384,c=16;function l(e){return e?c:o}e.exports={getHighWaterMark:function(e,t,n,a){const o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,a,n);if(null!=o){if(!i(o)||o<0)throw new s(a?`options.${n}`:"options.highWaterMark",o);return r(o)}return l(e.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(e,t){a(t,"value",0),e?c=t:o=t}}},97967:(e,t,n)=>{"use strict";e.exports=n(66310)},98080:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:a,ArrayPrototypeMap:s,NumberIsInteger:o,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:p,String:h,StringPrototypeToUpperCase:b,StringPrototypeTrim:y}=n(70273),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:g,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:x}}=n(61150),{normalizeEncoding:S}=n(48449),{isAsyncFunction:T,isArrayBufferView:A}=n(48449).types,_={},C=/^[0-7]+$/,k=m((e,t,n=u,r=l)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!o(e))throw new E(t,"an integer",e);if(e<n||e>r)throw new E(t,`>= ${n} && <= ${r}`,e)}),I=m((e,t,n=-2147483648,r=2147483647)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!o(e))throw new E(t,"an integer",e);if(e<n||e>r)throw new E(t,`>= ${n} && <= ${r}`,e)}),P=m((e,t,n=!1)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!o(e))throw new E(t,"an integer",e);const r=n?1:0,i=4294967295;if(e<r||e>i)throw new E(t,`>= ${r} && <= ${i}`,e)});function O(e,t){if("string"!=typeof e)throw new w(t,"string",e)}const M=m((e,t,n)=>{if(!i(n,e)){const r=a(s(n,e=>"string"==typeof e?`'${e}'`:h(e)),", ");throw new v(t,e,"must be one of: "+r)}});function R(e,t){if("boolean"!=typeof e)throw new w(t,"boolean",e)}function N(e,t,n){return null!=e&&f(e,t)?e[t]:n}const L=m((e,t,n=null)=>{const i=N(n,"allowArray",!1),a=N(n,"allowFunction",!1);if(!N(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!=typeof e&&(!a||"function"!=typeof e))throw new w(t,"Object",e)}),D=m((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new w(t,"a dictionary",e)}),B=m((e,t,n=0)=>{if(!r(e))throw new w(t,"Array",e);if(e.length<n)throw new v(t,e,`must be longer than ${n}`)}),j=m((e,t="buffer")=>{if(!A(e))throw new w(t,["Buffer","TypedArray","DataView"],e)}),U=m((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new w(t,"AbortSignal",e)}),F=m((e,t)=>{if("function"!=typeof e)throw new w(t,"Function",e)}),$=m((e,t)=>{if("function"!=typeof e||T(e))throw new w(t,"Function",e)}),z=m((e,t)=>{if(void 0!==e)throw new w(t,"undefined",e)}),H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function q(e,t){if(void 0===e||!p(H,e))throw new v(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if(void 0===e&&(e=n),"string"==typeof e){if(null===p(C,e))throw new v(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return P(e,t),e},validateArray:B,validateStringArray:function(e,t){B(e,t);for(let n=0;n<e.length;n++)O(e[n],`${t}[${n}]`)},validateBooleanArray:function(e,t){B(e,t);for(let n=0;n<e.length;n++)R(e[n],`${t}[${n}]`)},validateAbortSignalArray:function(e,t){B(e,t);for(let n=0;n<e.length;n++){const r=e[n],i=`${t}[${n}]`;if(null==r)throw new w(i,"AbortSignal",r);U(r,i)}},validateBoolean:R,validateBuffer:j,validateDictionary:D,validateEncoding:function(e,t){const n=S(t),r=e.length;if("hex"===n&&r%2!=0)throw new v("encoding",t,`is invalid for data of length ${r}`)},validateFunction:F,validateInt32:I,validateInteger:k,validateNumber:function(e,t,n=void 0,r){if("number"!=typeof e)throw new w(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&c(e))throw new E(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,e)},validateObject:L,validateOneOf:M,validatePlainFunction:$,validatePort:function(e,t="Port",n=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===y(e).length||+e!==+e>>>0||e>65535||0===e&&!n)throw new g(t,e,n);return 0|e},validateSignalName:function(e,t="signal"){if(O(e,t),void 0===_[e]){if(void 0!==_[b(e)])throw new x(e+" (signals must use all capital letters)");throw new x(e)}},validateString:O,validateUint32:P,validateUndefined:z,validateUnion:function(e,t,n){if(!i(n,e))throw new w(t,`('${a(n,"|")}')`,e)},validateAbortSignal:U,validateLinkHeaderValue:function(e){if("string"==typeof e)return q(e,"hints"),e;if(r(e)){const t=e.length;let n="";if(0===t)return n;for(let r=0;r<t;r++){const i=e[r];q(i,"hints"),n+=i,r!==t-1&&(n+=", ")}return n}throw new v("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},98081:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=w,t.fromBig=i,t.split=a;const n=BigInt(2**32-1),r=BigInt(32);function i(e,t=!1){return t?{h:Number(e&n),l:Number(e>>r&n)}:{h:0|Number(e>>r&n),l:0|Number(e&n)}}function a(e,t=!1){const n=e.length;let r=new Uint32Array(n),a=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=i(e[s],t);[r[s],a[s]]=[n,o]}return[r,a]}const s=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);t.toBig=s;const o=(e,t,n)=>e>>>n;t.shrSH=o;const c=(e,t,n)=>e<<32-n|t>>>n;t.shrSL=c;const l=(e,t,n)=>e>>>n|t<<32-n;t.rotrSH=l;const u=(e,t,n)=>e<<32-n|t>>>n;t.rotrSL=u;const d=(e,t,n)=>e<<64-n|t>>>n-32;t.rotrBH=d;const f=(e,t,n)=>e>>>n-32|t<<64-n;t.rotrBL=f;const p=(e,t)=>t;t.rotr32H=p;const h=(e,t)=>e;t.rotr32L=h;const b=(e,t,n)=>e<<n|t>>>32-n;t.rotlSH=b;const y=(e,t,n)=>t<<n|e>>>32-n;t.rotlSL=y;const m=(e,t,n)=>t<<n-32|e>>>64-n;t.rotlBH=m;const g=(e,t,n)=>e<<n-32|t>>>64-n;function w(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}t.rotlBL=g;const v=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);t.add3L=v;const E=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;t.add3H=E;const x=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);t.add4L=x;const S=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;t.add4H=S;const T=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);t.add5L=T;const A=(e,t,n,r,i,a)=>t+n+r+i+a+(e/2**32|0)|0;t.add5H=A;const _={fromBig:i,split:a,toBig:s,shrSH:o,shrSL:c,rotrSH:l,rotrSL:u,rotrBH:d,rotrBL:f,rotr32H:p,rotr32L:h,rotlSH:b,rotlSL:y,rotlBH:m,rotlBL:g,add:w,add3L:v,add3H:E,add4L:x,add4H:S,add5H:A,add5L:T};t.default=_},98158:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>i})},98844:(e,t,n)=>{"use strict";n.d(t,{q:()=>h});var r=n(997),i=n(62266),a=n(40145),s=n(58501),o=(n(62408),n(95394));function c(e){const{source:t}=e,n=new Map,r=new o.A(8192),i=new Map,a=({address:e,chainId:t})=>`${e}.${t}`;return{async consume({address:e,chainId:n,client:i}){const s=a({address:e,chainId:n}),o=this.get({address:e,chainId:n,client:i});this.increment({address:e,chainId:n});const c=await o;return await t.set({address:e,chainId:n},c),r.set(s,c),c},async increment({address:e,chainId:t}){const r=a({address:e,chainId:t}),i=n.get(r)??0;n.set(r,i+1)},async get({address:e,chainId:s,client:o}){const c=a({address:e,chainId:s});let l=i.get(c);return l||(l=(async()=>{try{const n=await t.get({address:e,chainId:s,client:o}),i=r.get(c)??0;return i>0&&n<=i?i+1:(r.delete(c),n)}finally{this.reset({address:e,chainId:s})}})(),i.set(c,l)),(n.get(c)??0)+await l},reset({address:e,chainId:t}){const r=a({address:e,chainId:t});n.delete(r),i.delete(r)}}}const l="0x6492649264926492649264926492649264926492649264926492649264926492";var u=n(58470),d=n(30666),f=n(62421);function p(e){const{address:t,data:n,signature:r,to:i="hex"}=e,a=(0,d.aP)([(0,u.h)([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),l]);return"hex"===i?a:(0,f.aT)(a)}async function h(e){const{extend:t,nonceKeyManager:n=c({source:{get:()=>Date.now(),set(){}}}),...o}=e;let l=!1;const u=await e.getAddress();return{...t,...o,address:u,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:e.getFactoryArgs()},async getNonce(t){const i=t?.key??BigInt(await n.consume({address:u,chainId:e.client.chain.id,client:e.client}));return e.getNonce?await e.getNonce({...t,key:i}):await(0,a.J)(e.client,{abi:(0,r.U)(["function getNonce(address, uint192) pure returns (uint256)"]),address:e.entryPoint.address,functionName:"getNonce",args:[u,i]})},async isDeployed(){if(l)return!0;const t=await(0,s.T)(e.client,i.Q,"getCode")({address:u});return l=Boolean(t),l},...e.sign?{async sign(t){const[{factory:n,factoryData:r},i]=await Promise.all([this.getFactoryArgs(),e.sign(t)]);return n&&r?p({address:n,data:r,signature:i}):i}}:{},async signMessage(t){const[{factory:n,factoryData:r},i]=await Promise.all([this.getFactoryArgs(),e.signMessage(t)]);return n&&r&&"0x7702"!==n?p({address:n,data:r,signature:i}):i},async signTypedData(t){const[{factory:n,factoryData:r},i]=await Promise.all([this.getFactoryArgs(),e.signTypedData(t)]);return n&&r&&"0x7702"!==n?p({address:n,data:r,signature:i}):i},type:"smart"}}},99191:e=>{"use strict";var t,n,r,i=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function o(e,i){var a,c,l,u,d,f=t,p=i[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof r&&(p=r.call(i,e,p)),typeof p){case"string":return s(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(t+=n,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(u=p.length,a=0;a<u;a+=1)d[a]=o(a,p)||"null";return l=0===d.length?"[]":t?"[\n"+t+d.join(",\n"+t)+"\n"+f+"]":"["+d.join(",")+"]",t=f,l}if(r&&"object"==typeof r)for(u=r.length,a=0;a<u;a+=1)"string"==typeof(c=r[a])&&(l=o(c,p))&&d.push(s(c)+(t?": ":":")+l);else for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(l=o(c,p))&&d.push(s(c)+(t?": ":":")+l);return l=0===d.length?"{}":t?"{\n"+t+d.join(",\n"+t)+"\n"+f+"}":"{"+d.join(",")+"}",t=f,l}}e.exports=function(e,i,a){var s;if(t="",n="","number"==typeof a)for(s=0;s<a;s+=1)n+=" ";else"string"==typeof a&&(n=a);if(r=i,i&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw new Error("JSON.stringify");return o("",{"":e})}},99467:()=>{},99471:e=>{"use strict";e.exports=JSON.parse('{"modal":{"adapter-loader.message":"Devam etmek iin {{adapter}} hesabnz dorula","adapter-loader.message1":"{{adapter}} dorula","adapter-loader.message2":"devam edecek hesap","allChains":"Tm zincirler","connect-wallet.more-wallets":"Daha fazla czdan","connectYourWallet":"Czdannz balayn","errors-invalid-email":"Geersiz E-posta","errors-invalid-number":"Geersiz Telefon Numaras","errors-invalid-number-email":"Geersiz E-posta veya Telefon Numaras","errors-required":"Zorunlu","external.all-wallets":"Tm czdanlar","external.back":"Geri","external.connect":"Czdanla devam et","external.connect-wallet":"Czdan Bala","external.continue":"Harici czdanla devam et","external.continue-custom":"{{wallet}} ile devam et","external.dont-have":"Yok","external.get":"Al","external.get-wallet":"Czdan Al","external.install-browser-extension":"{{browser}} uzantsn ykle","external.install-mobile-app":"{{os}} uygulamasn ykle","external.installed":"Yklendi","external.no-wallets-found":"Czdan bulunamad","external.qr-code-copied-to-clipboard":"URI panoya kopyaland","external.search-subtext":"Bunun yerine aramay deneyin","external.search-text":"Czdannz grmyor musunuz?","external.search-wallet":"{{count}} czdan ara...","external.select-chain":"Zincir se","external.select-chain-description":"Bu {{wallet}} czdan birden fazla zincir destekler. stediiniz zinciri sein","external.title":"Harici Czdan","external.walletconnect-connect":"Bala","external.walletconnect-copy":"QR kodunu WalletConnect uyumlu bir czdanla tarayn veya QR koduna tklayarak balanty kopyalayn","external.walletconnect-subtitle":"QR kodunu WalletConnect uyumlu bir czdanla tarayn","footer.and":"ve","footer.by-signing-in":"Giri yapmak, bizimle ilgili artlar kabul ettiiniz anlamna gelir.","footer.message":"z-ynetimli giri yapan:","footer.message-new":"Kendi kendine velayet","footer.policy":"Gizlilik Politikas","footer.privacy-policy":"Gizlilik Politikas","footer.terms":"Kullanm artlar","footer.terms-of-service":"Kullanm artlar","footer.terms-service":"Hizmet artlar","footer.version":"Versiyon","getWallet":"Czdan al","header-subtitle":"Devam etmek iin seeneklerden birini iaretle","header-subtitle-name":"Tek tklama ile {{appName}} czdannz","header-subtitle-new":"Tek tklama ile blockchain czdannz","header-title":"Giri yap","header-tooltip-desc":"Czdan, dijital varlklarnz blockchain\'de saklama ve ynetme grevi grr.","header-tooltip-title":"Czdan","loader.authorizing-header":"{{connector}} ile dorula","loader.authorizing-message":"Biz size bir istek gnderdik. Bu czdannz olduunu dorulamak iin czdannzda dorulayn.","loader.authorizing-verify-btn":"Dorulamak iin buraya tklayn","network.add-request":"Bu site bir a eklemek istiyor","network.cancel":"ptal","network.from":"Nereden","network.proceed":"Devam","network.switch-request":"Bu site a deitirmeyi talep ediyor","network.to":"Nereye","otp.email-subtext":"6 haneli dorulama kodunu giriniz","otp.email-subtext-example":"{{email}} adresine gnderildi","otp.email-title":"Email Dorulama","otp.mobile-subtext":"OTP Dorulama","otp.mobile-title":"OTP Dorulama","otp.success":"Hesabnza balandnz!","passkey.add":"Passkey ekle","passkey.haveExisting":"Mevcut bir passkey\'nz m var?","passkey.learn-more":"Daha fazla bilgi edin","passkey.or":"veya","passkey.register-desc":"passkeys ile kimliinizi yznz, parmak iziniz veya gvenlik anahtarlarnz araclyla dorulayabilirsiniz.","passkey.register-title":"Passkey\' kaydedin","passkey.use":"Bir passkey\'im var","passwordless.title":"{{title}} ile devam et","popup.phone-body":"lke kodunuz otomatik olarak alglanacaktr, ancak farkl bir lkeden bir telefon numaras kullanyorsanz, doru lke kodunu manuel olarak girmeniz gerekir.","popup.phone-header":"Telefon numaras ve lke kodu","post-loading.connected":"Hesabnzla balandnz","post-loading.something-wrong":"Bir eyler ters gitti!","resendCode":"Kodu tekrar gnder","resendTimer":" {{timer}} saniye sonra tekrar gnder","social.continue":"Devam et: ","social.continueCustom":"{{adapter}} ile devam et","social.email":"E-posta","social.email-continue":"E-posta ile devam et","social.email-new":"isim@ornek.com","social.passwordless-cta":"Devam et","social.passwordless-login":"Giri yapmak","social.passwordless-title":"E-posta/Telefon","social.phone":"Telefon","social.policy":"Sosyal medya girilerinizle ilgili hibir veriyi saklamyoruz.","social.sign-in":"Giri yap","social.sms":"Mobil Telefon","social.sms-continue":"Telefon ile devam et","social.sms-invalid-number":"Geersiz telefon numaras","social.sms-placeholder-text":"rnein:","social.view-less":"Daha az grntle","social.view-less-socials":"Daha az socials grntle","social.view-more":"Daha fazla grntle","social.view-more-socials":"Daha fazlasn grntle socials"},"passwordless":{"error-invalid-link":"Hatal ya da sresi gemi dorulama linki","error-invalid-origin":"Bir eyler ters gitti, hata kodu: E002","error-invalid-otp":"Hatal OTP, ltfen tekrar deneyin.","error-invalid-params":"Eksik ya da hatal parametreler var.","error-invalid-test-account":"Geersiz test hesab","error-max-retry-limit-reached":"Hatal deneme limitine ulatnz. Dorulamay tamamlamak iin ltfen ak batan balatn.","error-new-link-generated-heading":"Yeni dorulama linki oluturuldu.","error-no-mail-generated":"E-posta oluturulmad. Ltfen nce ifresiz ak balatn.","error-no-sms-generated":"OTP oluturulmad. Ltfen nce ifresiz ak balatn.","error-otp-expired":"OTP\'nin sresi geti.","error-plan-limit-reached":"E411. Snr ald","error-recaptcha-verification-failed":"Captcha dorulama hatas. Ltfen tekrar deneyin.","error-sending-sms-failed":"SMS gnderilirken bir hata oldu. Ltfen tekrar deneyin.","something-wrong-error":"Bir eyler ters gitti"}}')},99499:(e,t,n)=>{var r=t;r.utils=n(70461),r.common=n(32191),r.sha=n(75746),r.ripemd=n(74169),r.hmac=n(11825),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},99831:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.createProjectLogger=void 0;const i=(0,r(n(20124)).default)("metamask");t.createProjectLogger=function(e){return i.extend(e)},t.createModuleLogger=function(e,t){return e.extend(t)}},99916:(e,t,n)=>{"use strict";n.d(t,{Dv:()=>T,FO:()=>b,If:()=>E,Ji:()=>d,Rv:()=>c,WL:()=>h,Yo:()=>g,ej:()=>f,fC:()=>A,iB:()=>l,kz:()=>s,l9:()=>m,pc:()=>a,sP:()=>S,v7:()=>_,v8:()=>v});var r=n(90932);const i=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function a(e){return i.test(e)}function s(e){return(0,r.Yv)(i,e)}const o=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function c(e){return o.test(e)}function l(e){return(0,r.Yv)(o,e)}const u=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function d(e){return u.test(e)}function f(e){return(0,r.Yv)(u,e)}const p=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function h(e){return p.test(e)}function b(e){return(0,r.Yv)(p,e)}const y=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function m(e){return y.test(e)}function g(e){return(0,r.Yv)(y,e)}const w=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function v(e){return w.test(e)}function E(e){return(0,r.Yv)(w,e)}const x=/^receive\(\) external payable$/;function S(e){return x.test(e)}const T=new Set(["memory","indexed","storage","calldata"]),A=new Set(["indexed"]),_=new Set(["calldata","memory","storage"])}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,i.d(a,s),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.nc=void 0;var a={};return(()=>{"use strict";i.r(a),i.d(a,{ANALYTICS_EVENTS:()=>F.R2,ANALYTICS_INTEGRATION_TYPE:()=>F.J9,ANALYTICS_SDK_TYPE:()=>F.jb,AUTH_CONNECTION:()=>f,Analytics:()=>F.j0,BUTTON_POSITION:()=>mx.rf,BaseConnector:()=>Fe.x,BaseEvmConnector:()=>Qy.t,BaseProvider:()=>K.D,BaseSolanaConnector:()=>cx.R,BiconomySmartAccount:()=>wx.v,CAN_AUTHORIZE_STATUSES:()=>qe.W,CHAIN_NAMESPACES:()=>l.l,CONFIRMATION_STRATEGY:()=>u.E,CONNECTED_STATUSES:()=>qe.x,CONNECTOR_CATEGORY:()=>$.rp,CONNECTOR_EVENTS:()=>$.qM,CONNECTOR_INITIAL_AUTHENTICATION_MODE:()=>$.M8,CONNECTOR_NAMES:()=>e.zI,CONNECTOR_NAMESPACES:()=>$e.R,CONNECTOR_STATUS:()=>$.bo,CommonJRPCProvider:()=>Y,CommonPrivateKeyProvider:()=>_x.l,DEFAULT_EIP155_METHODS:()=>hx.jz,DEFAULT_EIP_155_EVENTS:()=>hx.d3,DEFAULT_SOLANA_EVENTS:()=>hx.Vi,DEFAULT_SOLANA_METHODS:()=>hx.EK,EIP1193_EVENTS:()=>Cx.$j,EIP1559APIEndpoint:()=>Ix,EVM_CONNECTORS:()=>e.WF,EVM_PLUGINS:()=>Ze,GAS_ESTIMATE_TYPES:()=>Mx,KernelSmartAccount:()=>vx.a,LOGIN_MODE:()=>L.GG,LegacyGasAPIEndpoint:()=>kx,MFA_FACTOR:()=>pe.F8,MFA_LEVELS:()=>fe.PV,MODAL_SIGN_IN_METHODS:()=>L.X7,MULTI_CHAIN_CONNECTORS:()=>e.Nq,MetamaskSmartAccount:()=>Ex.e,NexusSmartAccount:()=>xx.G,PLUGIN_EVENTS:()=>Je,PLUGIN_NAMESPACES:()=>Ge,PLUGIN_STATUS:()=>Ye,PROVIDER_EVENTS:()=>ox,SMART_ACCOUNT:()=>Sx.o0,SMART_ACCOUNT_WALLET_SCOPE:()=>L.lg,SOLANA_CAIP_CHAIN_MAP:()=>L.Ah,SOLANA_CONNECTORS:()=>e.kk,SOLANA_PLUGINS:()=>Xe,SafeSmartAccount:()=>Tx.c,SignTypedDataVersion:()=>tS,SolanaWallet:()=>fS,TRANSACTION_ENVELOPE_TYPES:()=>Px,TRANSACTION_TYPES:()=>Ox,TransactionFormatter:()=>eS,TrustSmartAccount:()=>Ax.J,UX_MODE:()=>p,WALLET_CONNECTORS:()=>e.LZ,WALLET_PLUGINS:()=>Qe,WALLET_REGISTRY_URL:()=>L.SY,WEB3AUTH_NETWORK:()=>fe.Lr,WEB3AUTH_STATE_STORAGE_KEY:()=>L.__,WIDGET_TYPE:()=>L.a3,WalletConnectV2Provider:()=>yx.b,WalletInitializationError:()=>ze.il,WalletLoginError:()=>ze.T7,WalletOperationsError:()=>ze.AR,WalletProviderError:()=>ze.t2,WalletServicesPluginError:()=>et,WalletStandardProvider:()=>sS.e,Web3Auth:()=>ex,Web3AuthContextKey:()=>tx,Web3AuthError:()=>ze.uF,Web3AuthNoModal:()=>rm,accountAbstractionProvider:()=>gx.t0,authConnector:()=>Ve,checkIfTokenIsExpired:()=>it._P,clearToken:()=>it.L,cloneDeep:()=>Ke,cookieToWeb3AuthState:()=>B,createConfigMiddleware:()=>oS.N9,createEthChainIdMiddleware:()=>rS.eU,createEthChainSwitchMiddleware:()=>nS.N,createEthJsonRpcClient:()=>rS.ub,createEthMiddleware:()=>nS.a,createEthProviderConfigMiddleware:()=>rS.DA,createGenericJRPCMiddleware:()=>cS.Rb,createGetAccountsMiddleware:()=>cS.ng,createGetPublicKeyMiddleware:()=>cS.BO,createMipd:()=>ux.y,createRandomId:()=>Cx.JB,createRequestAccountsMiddleware:()=>cS.Ch,createSolanaAccountMiddleware:()=>cS.wZ,createSolanaChainIdMiddleware:()=>oS.T4,createSolanaChainSwitchMiddleware:()=>cS.uJ,createSolanaJsonRpcClient:()=>oS.zZ,createSolanaMiddleware:()=>cS.Fo,createSolanaMipd:()=>dx.d,createSolanaProviderConfigMiddleware:()=>oS.kK,createWalletMiddleware:()=>iS.s,defaultConnectorsModalConfig:()=>n,fetchEip1159GasEstimates:()=>Jx,fetchLegacyGasPriceEstimates:()=>Zx,fetchProjectConfig:()=>z.ce,fetchWalletRegistry:()=>z.x8,fromViemChain:()=>z.He,fromWagmiChain:()=>z.Jy,getAaAnalyticsProperties:()=>z.at,getCaipChainId:()=>z.Eo,getED25519Key:()=>sx,getErrorAnalyticsProperties:()=>z.is,getHostname:()=>z.EW,getNamespacesFromChains:()=>hx.LZ,getRequiredNamespaces:()=>hx.iR,getSavedToken:()=>it.Ly,getSolanaChainByChainConfig:()=>aS.M,getSupportedEventsByNamespace:()=>hx.MG,getSupportedMethodsByNamespace:()=>hx.rz,getWalletConnectV2Settings:()=>hx.N4,getWalletServicesAnalyticsProperties:()=>z.dr,getWhitelabelAnalyticsProperties:()=>z.tP,hasSolanaWalletStandardFeatures:()=>fx.hasSolanaWalletStandardFeatures,injectedEvmConnector:()=>lx.m,isBrowser:()=>z.Bd,isHexStrict:()=>z.lX,log:()=>He.R,metaMaskConnector:()=>tm,normalizeGWEIDecimalNumbers:()=>Yx,normalizeWalletName:()=>z.ks,saveToken:()=>it.f7,sdkVersion:()=>z.XL,signerHost:()=>z.xG,storageAvailable:()=>it.VS,toEoaProvider:()=>gx.cm,validateAddress:()=>Xx,validateTypedSignMessageDataV4:()=>Qx,version:()=>t,walletConnectV2Connector:()=>bx.f,walletServicesPlugin:()=>nt,walletStandardConnector:()=>px.m,withAbort:()=>z.zr});var e=i(63400);const t="10.11.0",n={hideWalletDiscovery:!1,connectors:{[e.WF.AUTH]:{label:"Auth",showOnModal:!0}}};var r=i(69740),s=i(98158),o=i(78843);function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=i(18963),u=i(87433),d=i(68711);const f={GOOGLE:"google",TWITTER:"twitter",FACEBOOK:"facebook",DISCORD:"discord",FARCASTER:"farcaster",APPLE:"apple",GITHUB:"github",REDDIT:"reddit",LINE:"line",KAKAO:"kakao",LINKEDIN:"linkedin",TWITCH:"twitch",TELEGRAM:"telegram",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",CUSTOM:"custom",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},p={POPUP:"popup",REDIRECT:"redirect"};var h=i(2317),b=i(97702),y=i.n(b),m=i(93643),g=i.n(m);const w={[f.APPLE]:"apple",[f.GITHUB]:"github",[f.LINKEDIN]:"linkedin",[f.TWITTER]:"twitter",[f.LINE]:"line",[f.EMAIL_PASSWORDLESS]:"email",[f.SMS_PASSWORDLESS]:"sms"},v=e=>e.href.endsWith("/")?e.href:`${e.href}/`,E=()=>Math.random().toString(36).slice(2),x={webWorkerSupport:!1};function S(e,t){return t?e:e.toLowerCase()}const T=(e,t,n,r=!0)=>{const{name:i,sub:a}=e;if(n)return S(e[n],r);switch(t){case f.EMAIL_PASSWORDLESS:case f.SMS_PASSWORDLESS:case f.AUTHENTICATOR:return S(i,r);case f.GITHUB:case f.TWITTER:case f.APPLE:case f.LINKEDIN:case f.LINE:case f.WECHAT:case f.KAKAO:case f.FARCASTER:case f.CUSTOM:return S(a,r);default:throw new Error("Invalid login type to get auth connection id")}};function A(e){let t;try{t=window[e];const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){const n=e;return n&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}function _(){const e=void 0!==window.screenLeft?window.screenLeft:window.screenX,t=void 0!==window.screenTop?window.screenTop:window.screenY,n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,i=Math.abs((n-1200)/2/1+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=1200,top=${Math.abs((r-700)/2/1+t)},left=${i}`}function C(e){const{baseURL:t,query:n,hash:r}=e,i=new URL(t);if(n&&Object.keys(n).forEach(e=>{i.searchParams.append(e,n[e])}),r){const e=new URL(C({baseURL:t,query:r})).searchParams.toString();i.hash=e}return i.toString()}const k=e=>{try{return new URL(decodeURIComponent(e))}catch(t){throw new Error(`${(null==t?void 0:t.message)||""}, Note: Your jwt domain: (i.e ${e}) must have http:// or https:// prefix`)}};function I(e){return e!==f.FACEBOOK&&e!==f.LINE||!function(){const e=g().getParser(navigator.userAgent).getPlatform();return e.type===g().PLATFORMS_MAP.tablet||e.type===g().PLATFORMS_MAP.mobile}()?1e3:3e4}function P(e){const[t,n]=e.split(".");return{header:JSON.parse(y().decode(t)),payload:JSON.parse(y().decode(n))}}class O{constructor(){(0,s.A)(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,t){this.store.set(e,t)}removeItem(e){this.store.delete(e)}}class M{constructor(e,t){(0,s.A)(this,"storage",void 0),(0,s.A)(this,"_storeKey",void 0),this.storage=t,this._storeKey=e;try{t.getItem(e)||this.resetStore()}catch{}}static getInstance(e,t="local"){if(!this.instanceMap.has(e)){let n;n="local"===t&&A("localStorage")?window.localStorage:"session"===t&&A("sessionStorage")?window.sessionStorage:new O,this.instanceMap.set(e,new this(e,n))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,t){const n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");n[e]=t,this.storage.setItem(this._storeKey,JSON.stringify(n))}}(0,s.A)(M,"instanceMap",new Map);var R=i(52743),N=i.n(R),L=i(23553);function D(e,t){return JSON.parse(e,(e,t)=>{var n,r;let i=t;return"bigint"===(null===(n=i)||void 0===n?void 0:n.__type)&&(i=BigInt(i.value)),"Map"===(null===(r=i)||void 0===r?void 0:r.__type)&&(i=new Map(i.value)),i})}function B(e){if(!e)return;const t=j(e,L.__);return t?D(t):void 0}function j(e,t){const n=e.split("; ").find(e=>e.startsWith(`${t}=`));if(n)return n.substring(t.length+1)}var U,F=i(65118),$=i(32073),z=i(3861),H=i(8017),q=i(25082),K=i(81632),W=i(11038);function V(e){return(t,n,r,i)=>"chainId"===t.method?(n.result=e,i()):r()}function G(e){return(t,n,r,i)=>"provider_config"===t.method?(n.result=e,i()):r()}class Y extends K.D{constructor({config:e,state:t}){super({config:e,state:t})}async setupProvider(e){const t=this.getChain(e);if(!t)throw H.P.custom({message:"Chain not found",code:4902});const{networkMiddleware:n}=function(e){const{chainId:t,rpcTarget:n}=e,r=(0,W.N)({rpcTarget:n});return{networkMiddleware:(0,q.Vv)([V(t),G(e),r]),fetchMiddleware:r}}(t),r=new q.WJ;r.push(n);const i=(0,q.iR)(r);this.updateProviderEngineProxy(i),this.emit("chainChanged",e),this.emit("connect",{chainId:e}),this.update({chainId:e})}async switchChain(e){if(!this._providerEngineProxy)throw H.P.custom({message:"Provider is not initialized",code:4902});const t=e.chainId;this.chainId!==t&&(this.update({chainId:"loading"}),await this.setupProvider(t))}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}U=Y,(0,s.A)(Y,"getProviderInstance",async e=>{const t=new U({config:{chain:e.chain,chains:e.chains}}),{chainId:n}=e.chain;return await t.setupProvider(n),t});var J=i(2439),Z=i(65204),X=i(44478),Q=i(3856),ee=i(96949),te=i(55880),ne=i.n(te),re=ne().getLogger("SecurePubSub"),ie=i(1048).Buffer;class ae{constructor(e={}){(0,s.A)(this,"options",void 0),(0,s.A)(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||"https://api.web3auth.io/session-service",this.options.socketUrl=e.socketUrl||"https://session.web3auth.io",this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.allowedOrigin=e.allowedOrigin||"*",this.options.enableLogging?re.enableAll():re.disableAll()}static setLogLevel(e){re.setLevel(e),(0,Z.He)(e)}async publish(e,t){if(!this.isValidTopic(e))throw re.error("Invalid topic"),new Error("Invalid topic");const n=(0,X.S)(ie.from(e,"utf8")),r=await(0,Q.yv)(n.toString("hex"),t),i=await(0,J._S)(n,(0,X.S)(ie.from(r,"utf8"))),a={key:(0,J.qb)(n).toString("hex"),data:r,signature:i.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return(0,Z.bE)(`${this.options.serverUrl}/v2/channel/set`,a)}async subscribe(e){let t=!0;const n=(0,X.S)(ie.from(e,"utf8")),r=(0,J.qb)(n).toString("hex"),i=this.getSocketConnection();i.connected?(re.debug("already connected with socket"),i.emit("v2:check_auth_status",r,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):i.once("connect",()=>{re.debug("connected with socket"),i.emit("v2:check_auth_status",r,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});const a=()=>{i.once("connect",async()=>{re.debug("connected with socket using reconnect"),t&&i.emit("v2:check_auth_status",r,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},s=()=>{t||document.removeEventListener("visibilitychange",s),i.connected||"visible"!==document.visibilityState||a()},o=()=>{re.debug("socket disconnected",t),t?(re.error("socket disconnected unexpectedly, reconnecting socket"),a()):i.removeListener("disconnect",o)};i.on("disconnect",o);const c=new Promise((e,a)=>{re.info("listening to",`${r}_success`),i.once(`${r}_success`,async r=>{try{const t=await(0,Q.af)(n.toString("hex"),r);re.info("got data",t),e(t)}catch(e){re.error(e),a(e)}finally{t=!1,"undefined"!=typeof document&&document.removeEventListener("visibilitychange",s)}})});return"undefined"!=typeof document&&document.addEventListener("visibilitychange",s),c}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=(0,ee.io)(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",t=>{e.io.opts.transports=["polling","websocket"],re.error("connect error",t)}),e.on("connect",async()=>{const{engine:t}=e.io;re.debug("initially connected to",t.transport.name),t.once("upgrade",()=>{re.debug("upgraded",t.transport.name)}),t.once("close",e=>{re.debug("connection closed",e)})}),e.on("error",t=>{re.error("socket errored",t),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}isValidTopic(e){return e&&e.length>0}}var se=i(33890);const oe=e=>e.padStart(64,"0").slice(0,64);class ce{constructor(){(0,s.A)(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=oe(this.sessionId)}request({method:e="GET",url:t,data:n={},headers:r={}}){const i={headers:r};switch(e){case"GET":return(0,Z.Jt)(t,i);case"POST":return(0,Z.bE)(t,n,i);case"PUT":return(0,Z.yJ)(t,n,i);case"PATCH":return(0,Z.F6)(t,n,i)}throw new Error("Invalid method type")}}var le=i(1048).Buffer;class ue extends ce{constructor({sessionServerBaseUrl:e,sessionNamespace:t,sessionTime:n,sessionId:r,allowedOrigin:i}={}){super(),(0,s.A)(this,"sessionServerBaseUrl","https://api.web3auth.io/session-service"),(0,s.A)(this,"sessionNamespace",void 0),(0,s.A)(this,"allowedOrigin",void 0),(0,s.A)(this,"sessionTime",86400),(0,s.A)(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),t&&(this.sessionNamespace=t),n&&(this.sessionTime=n),r&&(this.sessionId=oe(r)),this.allowedOrigin=i||"*"}static generateRandomSessionKey(){return oe((0,J.F_)().toString("hex"))}async createSession(e,t={}){super.checkSessionParams();const n=le.from(this.sessionId,"hex"),r=(0,J.qb)(n).toString("hex"),i=await(0,Q.yv)(this.sessionId,e),a={key:r,data:i,signature:(await(0,J._S)(n,(0,X.S)(le.from(i,"utf8")))).toString("hex"),namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:t}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const t={key:(0,J.qb)(le.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},n=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:t,headers:e});if(!n.message)throw new Error("Session Expired or Invalid public key");const r=await(0,Q.af)(this.sessionId,n.message);if(r.error)throw new Error("There was an error decrypting data.");return r}async updateSession(e,t={}){super.checkSessionParams();const n=le.from(this.sessionId,"hex"),r=(0,J.qb)(n).toString("hex"),i=await(0,Q.yv)(this.sessionId,e),a={key:r,data:i,signature:(await(0,J._S)(n,(0,X.S)(le.from(i,"utf8")))).toString("hex"),namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:a,headers:t})}async invalidateSession(e={}){super.checkSessionParams();const t=le.from(this.sessionId,"hex"),n=(0,J.qb)(t).toString("hex"),r=await(0,Q.yv)(this.sessionId,{}),i={key:n,data:r,signature:(await(0,J._S)(t,(0,X.S)(le.from(r,"utf8")))).toString("hex"),namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:i,headers:e}),this.sessionId="",!0}}var de=i(12794),fe=i(12361),pe=i(44022);const he=new Map;class be{constructor({sdkUrl:e,whiteLabel:t}){(0,s.A)(this,"sdkUrl",void 0),(0,s.A)(this,"whiteLabel",void 0),(0,s.A)(this,"initialized",!1),(0,s.A)(this,"loginCallbackSuccess",null),(0,s.A)(this,"loginCallbackFailed",null),(0,s.A)(this,"embedNonce",E()),this.sdkUrl=e,this.whiteLabel=t}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return he.get(this.embedNonce)}registerAuthServiceIframe(e){he.set(this.embedNonce,e)}cleanup(){const e=he.get(this.embedNonce);e&&e.parentNode&&(e.parentNode.removeChild(e),he.delete(this.embedNonce))}async init({network:e,clientId:t}){if("undefined"==typeof window||"undefined"==typeof document)throw new Error("window or document is not available");if(this.initialized)throw new Error("AuthProvider already initialized");const n=new URL(this.sdkUrl);n.pathname.endsWith("/")?n.pathname+="frame":n.pathname+="/frame";const r=new URLSearchParams;r.append("origin",window.location.origin),r.append("nonce",this.embedNonce),n.hash=r.toString();const i=(a=this.whiteLabel.mode||pe.Xh.light)===pe.Xh.light?"light":a===pe.Xh.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";var a;const s=(0,h.fc)(`<iframe\n        id="${fe.vP}-${this.embedNonce}"\n        class="${fe.vP}-${this.embedNonce}"\n        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"\n        src="${n.href}"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;\n        height: 100%; border: none; border-radius: 0; color-scheme: ${i};"\n        allow="clipboard-write"\n      ></iframe>`);return this.registerAuthServiceIframe(s),new Promise((n,r)=>{try{window.document.body.appendChild(s);const r=r=>{var i,a,s;if(r.origin!==this.targetOrigin)return;const{data:o}=r,{type:c,nonce:l}=o;if(l!==this.embedNonce)return;const u=o.data;switch(c){case fe.Z_.SETUP_COMPLETE:null===(i=this.getAuthServiceIframe())||void 0===i||null===(i=i.contentWindow)||void 0===i||i.postMessage({type:fe.Z_.INIT_DAPP,data:{network:e,clientId:t}},this.targetOrigin),this.initialized=!0,n();break;case fe.Z_.LOGIN_FAILED:null===(a=this.loginCallbackFailed)||void 0===a||a.call(this,(null==u?void 0:u.error)||"Login failed, reason: unknown");break;case fe.Z_.DISPLAY_IFRAME:this.getAuthServiceIframe().style.display="block";break;case fe.Z_.HIDE_IFRAME:this.getAuthServiceIframe().style.display="none";break;case fe.Z_.LOGIN_SUCCESS:de.R.info("LOGIN_SUCCESS",u),this.getAuthServiceIframe().style.display="none",null!=u&&u.sessionId&&(null===(s=this.loginCallbackSuccess)||void 0===s||s.call(this,u));break;default:de.R.warn(`Unknown message type: ${c}`)}};window.addEventListener("message",r)}catch(e){r(e)}})}postLoginInitiatedMessage(e,t){var n;if(!this.initialized)throw new Error("Iframe not initialized");return null===(n=this.getAuthServiceIframe().contentWindow)||void 0===n||n.postMessage({type:fe.Z_.LOGIN_INITIATED,data:{loginConfig:e,nonce:t}},this.targetOrigin),new Promise((e,t)=>{this.loginCallbackSuccess=e,this.loginCallbackFailed=t})}postLoginCancelledMessage(e){var t;if(!this.initialized)throw new Error("Iframe not initialized");null===(t=this.getAuthServiceIframe().contentWindow)||void 0===t||t.postMessage({type:fe.Z_.LOGIN_CANCELLED,data:{nonce:e}},this.targetOrigin)}}var ye=i(26031);class me extends ye.e{constructor(e,t){super(t),(0,s.A)(this,"code",void 0),(0,s.A)(this,"message",void 0),this.code=e,this.message=t||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class ge extends me{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,t=""){return new ge(e,`${ge.messages[e]}, ${t}`)}static invalidParams(e=""){return ge.fromCode(5001,e)}static notInitialized(e=""){return ge.fromCode(5002,e)}}(0,s.A)(ge,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class we extends me{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,t=""){return new we(e,`${we.messages[e]}, ${t}`)}static invalidLoginParams(e=""){return we.fromCode(5111,e)}static userNotLoggedIn(e=""){return we.fromCode(5112,e)}static popupClosed(e=""){return we.fromCode(5113,e)}static loginFailed(e=""){return we.fromCode(5114,e)}static popupBlocked(e=""){return we.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return we.fromCode(5116,e)}static mfaNotEnabled(e=""){return we.fromCode(5117,e)}}(0,s.A)(we,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});var ve=i(50046);class Ee extends ve.EventEmitter{constructor({url:e,target:t,features:n,timeout:r=3e4,sessionSocketUrl:i,sessionServerUrl:a}){super(),(0,s.A)(this,"url",void 0),(0,s.A)(this,"target",void 0),(0,s.A)(this,"features",void 0),(0,s.A)(this,"window",void 0),(0,s.A)(this,"windowTimer",void 0),(0,s.A)(this,"iClosedWindow",void 0),(0,s.A)(this,"timeout",void 0),(0,s.A)(this,"sessionSocketUrl",void 0),(0,s.A)(this,"sessionServerUrl",void 0),this.url=e,this.target=t||"_blank",this.features=n||_(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=r,this.sessionServerUrl=a||se.Wv,this.sessionSocketUrl=i||se.hH,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw we.popupBlocked();null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const t=new ae({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),n=await t.subscribe(e);this.close(),t.cleanup();const r=JSON.parse(n);return r.error?{error:r.error,state:r.state}:r.data}}const xe="10.8.0";class Se{constructor(e){if((0,s.A)(this,"state",{}),(0,s.A)(this,"options",void 0),(0,s.A)(this,"sessionManager",void 0),(0,s.A)(this,"currentStorage",void 0),(0,s.A)(this,"_storageBaseKey","auth_store"),(0,s.A)(this,"dappState",void 0),(0,s.A)(this,"addVersionInUrls",!0),(0,s.A)(this,"authProvider",void 0),(0,s.A)(this,"authProviderPromise",void 0),!e.clientId)throw ge.invalidParams("clientId is required");e.network||(e.network=fe.Lr.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=fe.F3.PRODUCTION),e.sdkMode||(e.sdkMode=fe.fm.DEFAULT),(e.buildEnv===fe.F3.DEVELOPMENT||e.buildEnv===fe.F3.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),e.sdkUrl||e.useMpc||(e.buildEnv===fe.F3.DEVELOPMENT?(e.sdkUrl=fe.Bx,e.dashboardUrl=fe.g5):e.buildEnv===fe.F3.STAGING?(e.sdkUrl=fe.tF,e.dashboardUrl=fe.We):e.buildEnv===fe.F3.TESTING?(e.sdkUrl=fe.ur,e.dashboardUrl=fe.Lz):(e.sdkUrl=fe.jV,e.dashboardUrl=fe.KW)),e.redirectUrl||"undefined"==typeof window||(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=p.REDIRECT),"boolean"!=typeof e.replaceUrlOnRedirect&&(e.replaceUrlOnRedirect=!0),"boolean"!=typeof e.includeUserDataInToken&&(e.includeUserDataInToken=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.authConnectionConfig||(e.authConnectionConfig=[]),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=se.Wv),e.sessionSocketUrl||(e.sessionSocketUrl=se.hH),e.storage||(e.storage="local"),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${xe.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${xe.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){const e=function(e=!1){const t={},n=new URLSearchParams(window.location.search.slice(1));n.forEach((e,n)=>{"b64Params"!==n&&(t[n]=e)});const i=n.get("b64Params");if(i)try{const e=JSON.parse((0,h._i)(i));Object.keys(e).forEach(n=>{t[n]=e[n]})}catch(e){de.R.error(e)}const a=new URLSearchParams(window.location.hash.substring(1));a.forEach((e,n)=>{"b64Params"!==n&&(t[n]=e)});const s=a.get("b64Params");if(s)try{const e=JSON.parse((0,h._i)(s));Object.keys(e).forEach(n=>{t[n]=e[n]})}catch(e){de.R.error(e)}if(e){const e=new URL(window.location.origin+window.location.pathname);0!==n.size&&(n.delete("error"),n.delete("state"),n.delete("b64Params"),n.delete("sessionNamespace"),e.search=n.toString()),0!==a.size&&(a.delete("error"),a.delete("state"),a.delete("b64Params"),a.delete("sessionNamespace"),e.hash=a.toString()),window.history.replaceState((0,r.A)((0,r.A)({},window.history.state),{},{as:e.href,url:e.href}),"",e.href)}return t}(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const t=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=M.getInstance(t,this.options.storage);const n=this.currentStorage.get("sessionId");if(this.sessionManager=new ue({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:n,allowedOrigin:this.options.sdkUrl}),this.options.network!==fe.Lr.TESTNET&&this.options.network!==fe.Lr.SAPPHIRE_DEVNET||console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==fe.F3.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,we.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const e=await this._authorizeSession();this.updateState(e),0===Object.keys(e).length?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===fe.fm.IFRAME&&(this.authProvider=new be({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),this.state.sessionId||(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),e.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(e.loginParams),e.nonce))))}async login(e){if(!(e.authConnection||e.authConnectionId&&e.groupedAuthConnectionId))throw we.invalidLoginParams("AuthConnection is required");const t=(0,r.A)({},e),n={actionType:fe.FR.LOGIN,options:this.options,params:t},i=await this.authHandler(`${this.baseUrl}/start`,n,I(e.authConnection));if(this.options.uxMode===p.REDIRECT)return null;if(i.error)throw this.dappState=i.state,we.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(e,t){var n;if(this.options.sdkMode!==fe.fm.IFRAME)throw we.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,null!==(n=this.authProvider)&&void 0!==n&&n.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});const r=await this.authProvider.postLoginInitiatedMessage({actionType:fe.FR.LOGIN,params:e,options:this.options},t);if(r.error)throw we.loginFailed(r.error);this.sessionManager.sessionId=r.sessionId,this.options.sessionNamespace=r.sessionNamespace,this.currentStorage.set("sessionId",r.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(e){var t;if(this.options.sdkMode!==fe.fm.IFRAME)throw we.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,null===(t=this.authProvider)||void 0===t||!t.initialized)throw ge.notInitialized();this.authProvider.postLoginCancelledMessage(e)}async logout(){if(!this.sessionManager.sessionId)throw we.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var t;if(!this.sessionId)throw we.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw we.mfaAlreadyEnabled();const n={actionType:fe.FR.ENABLE_MFA,options:(0,r.A)((0,r.A)({},this.options),{},{sdkMode:fe.fm.DEFAULT}),params:(0,r.A)((0,r.A)({},e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n,fe.t);if(this.options.uxMode===p.REDIRECT)return null;if(i.error)throw this.dappState=i.state,we.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),Boolean(null===(t=this.state.userInfo)||void 0===t?void 0:t.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw we.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw we.mfaNotEnabled();const t={dappUrl:`${window.location.origin}${window.location.pathname}`},n=ue.generateRandomSessionKey(),i={actionType:fe.FR.MANAGE_MFA,options:(0,r.A)((0,r.A)({},this.options),{},{uxMode:p.REDIRECT,sdkMode:fe.fm.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:(0,r.A)((0,r.A)((0,r.A)({},t),e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:(0,h.Rm)({loginId:n})}),sessionId:this.sessionId};this.createLoginSession(n,i,i.options.sessionTime,!0);const a={loginId:n,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},s=C({baseURL:`${this.baseUrl}/start`,hash:{b64Params:(0,h.Rm)(a)}});window.open(s,"_blank")}async manageSocialFactor(e,t){if(!this.sessionId)throw we.userNotLoggedIn();const n={actionType:e,options:(0,r.A)((0,r.A)({},this.options),{},{sdkMode:fe.fm.DEFAULT}),params:(0,r.A)({},t),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==p.REDIRECT)return!i.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw we.userNotLoggedIn();const t={actionType:fe.FR.ADD_AUTHENTICATOR_FACTOR,options:(0,r.A)((0,r.A)({},this.options),{},{sdkMode:fe.fm.DEFAULT}),params:(0,r.A)((0,r.A)({},e),{},{authConnection:f.AUTHENTICATOR}),sessionId:this.sessionId},n=await this.authHandler(`${this.baseUrl}/start`,t);if(this.options.uxMode!==p.REDIRECT)return!n.error}async addPasskeyFactor(e){if(!this.sessionId)throw we.userNotLoggedIn();const t={actionType:fe.FR.ADD_PASSKEY_FACTOR,options:(0,r.A)((0,r.A)({},this.options),{},{sdkMode:fe.fm.DEFAULT}),params:(0,r.A)((0,r.A)({},e),{},{authConnection:f.PASSKEYS}),sessionId:this.sessionId},n=await this.authHandler(`${this.baseUrl}/start`,t);if(this.options.uxMode!==p.REDIRECT)return!n.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw we.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,t,n=600,r=!1){if(!this.sessionManager)throw ge.notInitialized();const i=new ue({sessionServerBaseUrl:t.options.storageServerUrl,sessionNamespace:t.options.sessionNamespace,sessionTime:n,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(t)));t.options.uxMode!==p.REDIRECT||r||await i}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return de.R.error("authorization failed",e),{}}}updateState(e){this.state=(0,r.A)((0,r.A)({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async authHandler(e,t,n=1e4){const r=ue.generateRandomSessionKey();await this.createLoginSession(r,t);const i={loginId:r,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===p.REDIRECT){const t=C({baseURL:e,hash:{b64Params:(0,h.Rm)(i)}});return void(window.location.href=t)}const a=C({baseURL:e,hash:{b64Params:(0,h.Rm)(i)}}),s=new Ee({url:a,timeout:n,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((e,t)=>{s.on("close",()=>{t(we.popupClosed())}),s.listenOnChannel(r).then(e).catch(t);try{s.open()}catch(e){t(e)}})}}var Te=ne().getLogger("customauth");class Ae extends ve.EventEmitter{constructor({url:e,target:t,features:n,timeout:r=3e4}){super(),(0,s.A)(this,"url",void 0),(0,s.A)(this,"target",void 0),(0,s.A)(this,"features",void 0),(0,s.A)(this,"window",void 0),(0,s.A)(this,"windowTimer",void 0),(0,s.A)(this,"iClosedWindow",void 0),(0,s.A)(this,"timeout",void 0),this.url=e,this.target=t||"_blank",this.features=n||_(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=r,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw new Error("popup window is blocked");return null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}const _e=["access_token","id_token"];class Ce{constructor(e){(0,s.A)(this,"nonce",E()),(0,s.A)(this,"finalURL",void 0),(0,s.A)(this,"params",void 0),this.params=e}get state(){return encodeURIComponent(y().encode(JSON.stringify((0,r.A)((0,r.A)({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(e){const t=new Ae({url:this.finalURL,features:e.popupFeatures,timeout:I(this.params.authConnection)});if(this.params.uxMode!==p.REDIRECT){const{RedundantAdaptiveBroadcastChannel:e}=await Promise.resolve().then(i.bind(i,20726));return new Promise((n,i)=>{let a;const s=async e=>{try{const{error:t,data:s}=e,o=s||{},{instanceParams:l,hashParams:{access_token:u,id_token:d}}=o,f=c(o.hashParams,_e);if(t)return Te.error(e),void i(new Error(`Error: ${t}. Info: ${JSON.stringify(e.data||{})}`));e.data&&l.authConnectionId===this.params.authConnectionId&&(Te.info(e.data),!this.params.redirectToOpener&&a&&await a.postMessage({success:!0}),n((0,r.A)((0,r.A)({accessToken:u,idToken:d||""},f),{},{state:l})))}catch(e){Te.error(e),i(e)}};if(this.params.redirectToOpener){const e=async n=>{if(!n.data)return;const r=n.data;r.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",e),s(r),t.close())};window.addEventListener("message",e)}else a=new e(`redirect_channel_${this.nonce}`,x),a.addEventListener("message",async e=>{await s(e),a.close(),t.close()});try{t.open()}catch(e){return Te.error(e),void i(e)}t.once("close",()=>{a&&a.close(),i(new Error("user closed popup"))})})}return t.redirect(e.locationReplaceOnRedirect),null}}class ke extends Ce{constructor(e){super(e),(0,s.A)(this,"RESPONSE_TYPE","token"),(0,s.A)(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://discord.com/api/oauth2/authorize"),t=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=N()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},t);Object.keys(n).forEach(t=>{const r=t;n[r]&&e.searchParams.append(r,n[r])}),this.finalURL=e}async getUserInfo(e){const{accessToken:t}=e,n=await(0,Z.Jt)("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${t}`}}),{id:r,avatar:i,email:a="",username:s="",discriminator:o=""}=n;return{profileImage:null===i?`https://cdn.discordapp.com/embed/avatars/${Number(o)%5}.png`:`https://cdn.discordapp.com/avatars/${r}/${i}.png?size=2048`,name:`${s}#${o}`,email:a,userId:r,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}class Ie extends Ce{constructor(e){super(e),(0,s.A)(this,"RESPONSE_TYPE","token"),(0,s.A)(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://www.facebook.com/v20.0/dialog/oauth"),t=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=N()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},t);Object.keys(n).forEach(t=>{const r=t;n[r]&&e.searchParams.append(r,n[r])}),this.finalURL=e}async getUserInfo(e){const{accessToken:t}=e,n=await(0,Z.Jt)("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${t}`}}),{name:r="",id:i,picture:a,email:s=""}=n;return{email:s,name:r,profileImage:a.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:i}}}class Pe extends Ce{constructor(e){super(e),(0,s.A)(this,"RESPONSE_TYPE","token id_token"),(0,s.A)(this,"SCOPE","profile email openid"),(0,s.A)(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),t=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=N()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},t);Object.keys(n).forEach(t=>{const r=t;n[r]&&e.searchParams.append(r,n[r])}),this.finalURL=e}async getUserInfo(e){const{accessToken:t}=e,n=await(0,Z.Jt)("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${t}`}}),{picture:r="",email:i="",name:a=""}=n;return{email:i,name:a,profileImage:r,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:i.toLowerCase()}}}class Oe extends Ce{constructor(e){super(e),(0,s.A)(this,"SCOPE","openid profile email"),(0,s.A)(this,"RESPONSE_TYPE","token id_token"),(0,s.A)(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,t=k(e);t.pathname+=t.pathname.endsWith("/")?"authorize":"/authorize";const n=JSON.parse(JSON.stringify(this.params.jwtParams));delete n.domain;const r=N()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:w[this.params.authConnection],nonce:this.nonce},n);Object.keys(r).forEach(e=>{const n=e;r[n]&&t.searchParams.append(n,r[n])}),this.finalURL=t}async getUserInfo(e){const{idToken:t,accessToken:n}=e,{domain:r,userIdField:i,isUserIdCaseSensitive:a,user_info_route:s="userinfo"}=this.params.jwtParams;if(t){const e=P(t).payload,{name:n,email:r,picture:s}=e;return{profileImage:s,name:n,email:r,userId:T(e,this.params.authConnection,i,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}if(n)try{const e=new URL(r),t=await(0,Z.Jt)(`${v(e)}${s}`,{headers:{Authorization:`Bearer ${n}`}}),{picture:o,name:c,email:l}=t;return{email:l,name:c,profileImage:o,userId:T(t,this.params.authConnection,i,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(e){ne().warn(e,"Unable to get userinfo from endpoint")}throw new Error("Access/id token not available")}}class Me extends Ce{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const e=JSON.parse(JSON.stringify(this.params.jwtParams));delete e.domain;const t=N()({state:this.state,client_id:this.params.clientId,nonce:this.nonce},e);this.finalURL=new URL(C({baseURL:this.params.redirect_uri,query:null,hash:t}))}async getUserInfo(e){const{idToken:t,accessToken:n}=e,{domain:r,userIdField:i,isUserIdCaseSensitive:a,user_info_route:s="userinfo"}=this.params.jwtParams;if(t){const e=P(t).payload,{name:n,email:r,picture:s}=e;return{profileImage:s,name:n,email:r,userId:T(e,this.params.authConnection,i,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}if(n)try{const e=new URL(r),t=await(0,Z.Jt)(`${v(e)}${s}`,{headers:{Authorization:`Bearer ${n}`}}),{picture:o,name:c,email:l}=t;return{email:l,name:c,profileImage:o,userId:T(t,this.params.authConnection,i,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(e){ne().warn(e,"Unable to get userinfo from endpoint")}throw new Error("Access/id token not available")}handleLoginWindow(e){const{id_token:t,access_token:n}=this.params.jwtParams,r=new Ae({url:this.finalURL,features:e.popupFeatures});return this.params.uxMode!==p.REDIRECT?Promise.resolve({state:{},idToken:t,accessToken:n}):(r.redirect(e.locationReplaceOnRedirect),null)}}class Re extends Ce{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const{passkeysHostUrl:e}=this.params.customState||{};if(!e)throw new Error("Invalid passkeys url.");const t=new URL(e),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=N()({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},n);Object.keys(r).forEach(e=>{const n=e;r[n]&&t.searchParams.append(n,r[n])}),this.finalURL=t}async getUserInfo(e,t){const{idToken:n,extraParams:r}=e,{sessionId:i}=JSON.parse(y().decode(r))||{};if(!i)throw new Error("sessionId not found");const{verifier_id:a,signature:s,clientDataJSON:o,authenticatorData:c,publicKey:l,challenge:u,rpOrigin:d,rpId:f,credId:p,transports:h,username:b}=await async function(e,t){try{const n=new ue({sessionId:e,sessionServerBaseUrl:t,allowedOrigin:!0});return await n.authorizeSession()}catch(e){throw ne().error("fetch data from storage server error",e),new Error("Unable to retrieve data from storage server, invalid key or key expired.")}}(i,t);if(s!==n)throw new Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:a,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:s,clientDataJSON:o,authenticatorData:c,publicKey:l,challenge:u,rpOrigin:d,rpId:f,credId:p,transports:h,username:b}}}}const Ne=["event","origin","result"];class Le extends Ce{constructor(e){super(e),(0,s.A)(this,"RESPONSE_TYPE","token"),(0,s.A)(this,"SCOPE","profile"),(0,s.A)(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,t=k(e||"https://oauth.telegram.org/auth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{}));n.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;const r=N()({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},n);Object.keys(r).forEach(e=>{const n=e;r[n]&&t.searchParams.append(n,r[n])}),this.finalURL=t}async getUserInfo(e){const{idToken:t}=e,n=(r=t,JSON.parse(y().decode(r)));var r;const{photo_url:i="",first_name:a="",last_name:s="",id:o}=n;return{email:"",name:`${a} ${s}`,profileImage:i,authConnectionId:this.params.authConnectionId,userId:o.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(e){const t=new Ae({url:this.finalURL,features:e.popupFeatures,timeout:I(this.params.authConnection)});return this.params.uxMode!==p.REDIRECT?new Promise((e,n)=>{const i=async a=>{if(!a.data)throw new Error("Invalid data received");if(this.finalURL.origin!==a.origin)throw new Error("Invalid origin received");const s=a.data;if("string"!=typeof s)throw new Error("Invalid data type received");const{event:o}=JSON.parse(s)||{};o&&"auth_result"!==o&&Te.info("Invalid event received"),window.removeEventListener("message",i),(async t=>{try{const n=JSON.parse(t)||{},{event:i,origin:a,result:s}=n,o=c(n,Ne),l=new URL(a).searchParams.get("state");i&&"auth_result"===i&&e((0,r.A)((0,r.A)({accessToken:""},o),{},{idToken:y().encode(JSON.stringify(s))||"",state:y().decode(l)}))}catch(e){Te.error(e),n(e)}})(s),t.close()};window.addEventListener("message",i);try{t.open()}catch(e){return Te.error(e),void n(e)}t.once("close",()=>{n(new Error("user closed popup"))})}):(t.redirect(e.locationReplaceOnRedirect),null)}}class De extends Ce{constructor(e){super(e),(0,s.A)(this,"RESPONSE_TYPE","token"),(0,s.A)(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://id.twitch.tv/oauth2/authorize"),t=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=N()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},t);Object.keys(n).forEach(t=>{const r=t;n[r]&&e.searchParams.append(r,n[r])}),this.finalURL=e}async getUserInfo(e){const{accessToken:t}=e,n=await(0,Z.Jt)("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${t}`,"Client-ID":this.params.clientId}}),[{profile_image_url:r="",display_name:i="",email:a="",id:s}]=n.data||[];return{profileImage:r,name:i,email:a,userId:s,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const Be="code";class je extends Ce{constructor(e){super(e),(0,s.A)(this,"SCOPE","openid profile email"),(0,s.A)(this,"RESPONSE_TYPE","token id_token"),(0,s.A)(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams||{},t=k(e||"https://passwordless.web3auth.io/v7");t.pathname+=t.pathname.endsWith("/")?"authorize":"/authorize";const n=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete n.domain,this.params.customState=(0,r.A)((0,r.A)({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});const i=N()({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:w[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:(null==n?void 0:n.flow_type)||Be},n);Object.keys(i).forEach(e=>{const n=e;i[n]&&t.searchParams.append(n,i[n])}),this.finalURL=t}async getUserInfo(e){const{idToken:t}=e,n=P(t).payload,{name:r,email:i,picture:a}=n;return{profileImage:a,name:r,email:i,userId:r.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}var Ue=i(65464),Fe=i(6972),$e=i(49521),ze=i(26358),He=i(96250),qe=i(80617);function Ke(e){try{return structuredClone(e)}catch{return JSON.parse(JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t))}}class We extends Fe.x{constructor(t){super(t),(0,s.A)(this,"name",e.LZ.AUTH),(0,s.A)(this,"connectorNamespace",$e.R.MULTICHAIN),(0,s.A)(this,"type",$.rp.IN_APP),(0,s.A)(this,"authInstance",null),(0,s.A)(this,"status",$.bo.NOT_READY),(0,s.A)(this,"privateKeyProvider",null),(0,s.A)(this,"authOptions",void 0),(0,s.A)(this,"loginSettings",{authConnection:""}),(0,s.A)(this,"wsSettings",void 0),(0,s.A)(this,"wsEmbedInstance",null),(0,s.A)(this,"authConnectionConfig",[]),(0,s.A)(this,"wsEmbedInstancePromise",null),this.authOptions=t.connectorSettings,this.loginSettings=t.loginSettings||{authConnection:""},this.wsSettings=t.walletServicesSettings||{},this.authConnectionConfig=t.authConnectionConfig||[]}get provider(){if(this.status!==$.bo.NOT_READY){var e;if(null!==(e=this.wsEmbedInstance)&&void 0!==e&&e.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(e){throw new Error("Not implemented")}async init(t){const{chains:n}=this.coreOptions,{chainId:a}=t,s=n.find(e=>e.chainId===a);if(super.checkInitializationRequirements({chainConfig:s}),!this.coreOptions.clientId)throw ze.il.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw ze.il.invalidParams("authOptions is required before auth's initialization");if(0===this.authConnectionConfig.length)throw ze.il.invalidParams("authConnectionConfig is required before auth's initialization");const o=this.authOptions.uxMode===p.REDIRECT;this.authOptions=(0,r.A)((0,r.A)({},this.authOptions),{},{replaceUrlOnRedirect:o,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new Se((0,r.A)((0,r.A)({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:fe.fm.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(e=>!e.isDefault),mfaSettings:this.coreOptions.mfaSettings})),He.R.debug("initializing auth connector init",this.authOptions);const c=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(s.chainNamespace){case l.l.EIP155:case l.l.SOLANA:{const{default:e}=await Promise.resolve().then(i.bind(i,16266));this.wsEmbedInstance=new e({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});const t=n.filter(e=>e.chainNamespace===l.l.EIP155||e.chainNamespace===l.l.SOLANA);this.wsEmbedInstancePromise=this.wsEmbedInstance.init((0,r.A)((0,r.A)({},this.wsSettings),{},{chains:t,chainId:a,whiteLabel:(0,r.A)((0,r.A)({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel)})).then(()=>{this.wsEmbedInstancePromise=null});break}case l.l.XRPL:throw ze.T7.connectionError("Private key provider is required for XRPL");default:{const{CommonPrivateKeyProvider:e}=await Promise.resolve().then(i.bind(i,25471));this.privateKeyProvider=new e({config:{chain:s,chains:this.coreOptions.chains}})}}He.R.debug("initializing auth connector"),await c,this.status=$.bo.READY,this.emit($.qM.READY,e.LZ.AUTH);try{const{sessionId:e}=this.authInstance||{};if(e&&(t.autoConnect||o))this.rehydrated=!0,await this.connect({chainId:t.chainId,getIdentityToken:t.getIdentityToken});else if(!e&&t.autoConnect)throw ze.T7.connectionError("Failed to rehydrate")}catch(e){this.emit($.qM.REHYDRATION_ERROR,e)}}async connect(t){super.checkConnectionRequirements(),this.status=$.bo.CONNECTING,this.emit($.qM.CONNECTING,(0,r.A)((0,r.A)({},t),{},{connector:e.LZ.AUTH}));try{return await this.connectWithProvider(t),this.provider}catch(e){var n;if(He.R.error("Failed to connect with auth provider",e),this.status=$.bo.READY,this.emit($.qM.ERRORED,e),null!=e&&null!==(n=e.message)&&void 0!==n&&n.includes("user closed popup"))throw ze.T7.popupClosed();if(e instanceof ze.uF)throw e;throw ze.T7.connectionError("Failed to login with auth",e)}}async enableMFA(e={authConnection:""}){if(!this.connected)throw ze.T7.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ze.il.notReady("authInstance is not ready");try{const t=await this.authInstance.enableMFA(e);t&&this.emit($.qM.MFA_ENABLED,t)}catch(e){if(He.R.error("Failed to enable MFA with auth provider",e),e instanceof ze.uF)throw e;throw ze.T7.connectionError("Failed to enable MFA with auth",e)}}async manageMFA(e={authConnection:""}){if(!this.connected)throw ze.T7.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ze.il.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(e){if(He.R.error("Failed to manage MFA with auth provider",e),e instanceof ze.uF)throw e;throw ze.T7.connectionError("Failed to manage MFA with auth",e)}}async disconnect(e={cleanup:!1}){if(!this.connected)throw ze.T7.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ze.il.notReady("authInstance is not ready");this.status=$.bo.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),e.cleanup?(this.status=$.bo.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=$.bo.READY,this.rehydrated=!1,this.emit($.qM.DISCONNECTED)}async getIdentityToken(){if(!this.canAuthorize)throw ze.T7.notConnectedError("Not connected with wallet, Please login/connect first");this.status=$.bo.AUTHORIZING,this.emit($.qM.AUTHORIZING,{connector:e.LZ.AUTH});const t=await this.getUserInfo();return this.status=$.bo.AUTHORIZED,this.emit($.qM.AUTHORIZED,{connector:e.LZ.AUTH,identityTokenInfo:{idToken:t.idToken}}),{idToken:t.idToken}}async getUserInfo(){if(!this.canAuthorize)throw ze.T7.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ze.il.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(e,t=!1){super.checkSwitchChainRequirements(e,t);const{chainId:n}=e,{chainId:r}=this.provider,{chainNamespace:i}=this.getChain(r),{chainNamespace:a}=this.getChain(n);if(r!==n)if(i===l.l.SOLANA||i===l.l.EIP155){var s;if(a!==l.l.SOLANA&&a!==l.l.EIP155)throw ze.T7.connectionError("Cannot switch to other chain namespace");const t=`${a}:${Number(e.chainId)}`;await(null===(s=this.wsEmbedInstance.provider)||void 0===s?void 0:s.request({method:"wallet_switchChain",params:{chainId:t}}))}else{var o;if(i!==a)throw ze.T7.connectionError("Cannot switch to other chain namespace");await(null===(o=this.privateKeyProvider)||void 0===o?void 0:o.switchChain(e))}}async cleanup(){if(!this.authInstance)throw ze.il.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(e){const{authConnection:t,authConnectionId:n,groupedAuthConnectionId:r}=e,i=this.authConnectionConfig.find(e=>r&&n?e.authConnection===t&&e.groupedAuthConnectionId===r&&e.authConnectionId===n:n?e.authConnection===t&&e.authConnectionId===n:e.authConnection===t&&e.isDefault);return i}getChain(e){return this.coreOptions.chains.find(t=>t.chainId===e)}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw ze.T7.sfaKeyNotFound();e=this.authInstance.coreKitKey}return e}async connectWithProvider(t){var n,i;if(!this.authInstance)throw ze.il.notReady("authInstance is not ready");const a=this.coreOptions.chains.find(e=>e.chainId===t.chainId);if(!a)throw ze.T7.connectionError("Chain config is not available");const{chainNamespace:s}=a,o=s===l.l.EIP155||s===l.l.SOLANA?null===(n=this.authInstance)||void 0===n?void 0:n.sessionId:this._getFinalPrivKey();if(t.idToken&&(t.extraLoginOptions=(0,r.A)((0,r.A)({},t.extraLoginOptions),{},{id_token:t.idToken})),!o||null!==(i=t.extraLoginOptions)&&void 0!==i&&i.id_token){var c;this.loginSettings.curve=fe.el.OTHER;const e=N()(this.loginSettings,t);null!==(c=t.extraLoginOptions)&&void 0!==c&&c.id_token?await this.connectWithJwtLogin(e):await this.connectWithSocialLogin(e)}if(s===l.l.EIP155||s===l.l.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;const{sessionId:n,sessionNamespace:r}=this.authInstance||{};if(n&&await this.wsEmbedInstance.loginWithSessionId({sessionId:n,sessionNamespace:r})){var u;let n;this.status=$.bo.CONNECTED,this.emit($.qM.CONNECTED,{connector:e.LZ.AUTH,reconnected:this.rehydrated,provider:this.provider,identityTokenInfo:n}),t.getIdentityToken&&(n=await this.getIdentityToken()),null===(u=this.wsEmbedInstance)||void 0===u||u.provider.on("accountsChanged",(e=[])=>{0===e.length&&qe.x.includes(this.status)&&this.disconnect({cleanup:!1})})}}else{const n=this._getFinalPrivKey();n&&(await this.privateKeyProvider.setupProvider(n,t.chainId),this.status=$.bo.CONNECTED,this.emit($.qM.CONNECTED,{connector:e.LZ.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(e){var t,n;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(null==i||!i.authConnection)throw ze.T7.connectionError("Invalid auth connection.");const a=(0,r.A)((0,r.A)((0,r.A)({},i.jwtParameters||{}),e.extraLoginOptions||{}),{},{login_hint:e.loginHint||(null===(t=e.extraLoginOptions)||void 0===t?void 0:t.login_hint)}),s=E(),o=Ke(e);o.extraLoginOptions=(0,r.A)((0,r.A)({},o.extraLoginOptions||{}),{},{login_hint:e.loginHint||(null===(n=e.extraLoginOptions)||void 0===n?void 0:n.login_hint)}),delete o.chainId;const c=(e=>{const{authConnectionId:t,authConnection:n,clientId:r,jwtParams:i}=e;if(!t||!n||!r)throw new Error("Invalid params. Missing authConnectionId, authConnection or clientId");const{domain:a,login_hint:s,id_token:o,access_token:c}=i||{};switch(n){case f.GOOGLE:return new Pe(e);case f.TELEGRAM:return new Le(e);case f.FACEBOOK:return new Ie(e);case f.TWITCH:return new De(e);case f.DISCORD:return new ke(e);case f.EMAIL_PASSWORDLESS:case f.SMS_PASSWORDLESS:if(!s)throw new Error("Invalid params. Missing login_hint for web3auth passwordless login");return new je(e);case f.APPLE:case f.GITHUB:case f.LINKEDIN:case f.TWITTER:case f.LINE:case f.CUSTOM:case f.REDDIT:case f.WECHAT:case f.KAKAO:case f.FARCASTER:case f.AUTHENTICATOR:if(o||c)return new Me(e);if(!a)throw new Error("Invalid params for jwt login. Missing domain");return new Oe(e);case f.PASSKEYS:return new Re(e);default:throw new Error("Unsupported login type")}})({authConnection:e.authConnection,authConnectionId:i.authConnectionId,clientId:i.clientId||a.client_id,groupedAuthConnectionId:i.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:a,customState:{nonce:s,appState:e.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(o),version:xe.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork}),l=new Ae({url:c.finalURL,timeout:0});if(this.authOptions.uxMode===p.REDIRECT)return l.redirect(this.authOptions.replaceUrlOnRedirect);let u=!1;return new Promise((e,t)=>{l.open().catch(e=>{He.R.error("Error during login with social",e),this.authInstance.postLoginCancelledMessage(s),t(e)});const n=new ae({sameIpCheck:!0});n.subscribe(`web3auth-login-${s}`).then(e=>{const r=JSON.parse(e||"{}");return"login_finished"===(null==r?void 0:r.message)&&(null!=r&&r.error&&(this.authInstance.postLoginCancelledMessage(s),t(r.error)),u=!0,n.cleanup(),l.close()),!0}).catch(e=>{He.R.error("Error during login with social",e)}),l.once("close",()=>{u||(n.cleanup(),this.authInstance.postLoginCancelledMessage(s),t(ze.T7.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(o,s).then(e).catch(e=>{if(e instanceof ze.uF)throw e;t(ze.T7.connectionError(e instanceof Error?e.message:e||"Failed to login with social"))})})}connectWithJwtLogin(e){var t,n;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(null!=i&&i.authConnection||e.authConnectionId))throw ze.T7.connectionError("Invalid auth connection.");null!=i&&i.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});const a=Ke(e),s=(0,r.A)((0,r.A)({},(null==i?void 0:i.jwtParameters)||{}),e.extraLoginOptions||{});let o;if(e.loginHint||null!==(t=e.extraLoginOptions)&&void 0!==t&&t.login_hint){var c;o=e.loginHint||(null===(c=e.extraLoginOptions)||void 0===c?void 0:c.login_hint)}else{if(null===(n=e.extraLoginOptions)||void 0===n||!n.id_token)throw ze.T7.connectionError("Invalid login hint or id_token");{const{payload:t}=(0,Ue.pI)(e.extraLoginOptions.id_token);o=T(t,a.authConnection,s.userIdField,s.isUserIdCaseSensitive)}}return a.extraLoginOptions=(0,r.A)((0,r.A)({},s),{},{login_hint:o}),delete a.chainId,this.authInstance.postLoginInitiatedMessage(a)}}const Ve=e=>({projectConfig:t,coreOptions:n})=>{var i,a,s,o;const c={},{whitelist:l,sessionTime:u}=t;l&&(c.originData=l.signed_urls),n.sessionTime?c.sessionTime=n.sessionTime:u&&(c.sessionTime=u),null!==(i=n.uiConfig)&&void 0!==i&&i.uxMode&&(c.uxMode=n.uiConfig.uxMode);const d=n.uiConfig||{};c.whiteLabel=d;const f=N().all([{uxMode:p.POPUP,buildEnv:n.authBuildEnv||fe.F3.PRODUCTION},c,(null==e?void 0:e.connectorSettings)||{}]),h=N().all([d,(null===(a=n.walletServicesConfig)||void 0===a?void 0:a.whiteLabel)||{}]),b=(0,r.A)((0,r.A)({},n.walletServicesConfig),{},{whiteLabel:h,accountAbstractionConfig:n.accountAbstractionConfig,enableLogging:n.enableLogging}),y=null===(s=null===(o=n.walletServicesConfig)||void 0===o?void 0:o.enableKeyExport)||void 0===s||s;return n.privateKeyProvider&&n.privateKeyProvider.setKeyExportFlag(y),new We({connectorSettings:f,walletServicesSettings:b,loginSettings:(0,r.A)((0,r.A)({},(null==e?void 0:e.loginSettings)||{}),{},{mfaLevel:n.mfaLevel}),coreOptions:n,authConnectionConfig:t.embeddedWalletAuth})},Ge=(0,r.A)((0,r.A)({},l.l),{},{MULTICHAIN:"multichain"}),Ye={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},Je=(0,r.A)({},Ye),Ze={WALLET_SERVICES:"wallet-services"},Xe={SOLANA:"solana"},Qe=(0,r.A)((0,r.A)({},Ze),Xe);class et extends ze.uF{constructor(e,t,n){super(e,t,n),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(e,t="",n){return new et(e,`${et.messages[e]}${t}`,n)}static notInitialized(e="",t){return et.fromCode(5210,e,t)}static unsupportedConnector(e="",t){return et.fromCode(5211,e,t)}static providerRequired(e="",t){return et.fromCode(5212,e,t)}static web3authRequired(e="",t){return et.fromCode(5213,e,t)}static web3AuthNotConnected(e="",t){return et.fromCode(5214,e,t)}static alreadyInitialized(e="",t){return et.fromCode(5216,e,t)}static unsupportedChainNamespace(e="",t){return et.fromCode(5218,e,t)}static differentWeb3AuthNetwork(e="",t){return et.fromCode(5219,e,t)}static invalidParams(e="",t){return et.fromCode(5220,e,t)}static web3authNotInitialized(e="",t){return et.fromCode(5221,e,t)}static invalidSession(e="",t){return et.fromCode(5222,e,t)}static walletPluginNotConnected(e="",t){return et.fromCode(5223,e,t)}}(0,s.A)(et,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class tt extends d.C{constructor(...t){super(...t),(0,s.A)(this,"name",Ze.WALLET_SERVICES),(0,s.A)(this,"status",Ye.DISCONNECTED),(0,s.A)(this,"SUPPORTED_CONNECTORS",[e.LZ.AUTH]),(0,s.A)(this,"pluginNamespace",Ge.MULTICHAIN),(0,s.A)(this,"wsEmbedInstance",void 0),(0,s.A)(this,"provider",null),(0,s.A)(this,"web3auth",null),(0,s.A)(this,"isInitialized",!1),(0,s.A)(this,"analytics",void 0)}get proxyProvider(){var e;return null!==(e=this.wsEmbedInstance)&&void 0!==e&&e.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(t,n,r){if(this.isInitialized)return;if(!t)throw et.web3authRequired();if(t.provider&&!this.SUPPORTED_CONNECTORS.includes(t.connectedConnectorName))throw et.notInitialized();const i=t.currentChain;if(![l.l.EIP155,l.l.SOLANA].includes(null==i?void 0:i.chainNamespace))throw et.unsupportedChainNamespace();t.provider&&(this.provider=t.provider),this.web3auth=t,this.analytics=r;const a=t.getConnector(e.LZ.AUTH);if(!a||!a.wsEmbed)throw et.web3AuthNotConnected();this.wsEmbedInstance=a.wsEmbed,this.isInitialized=!0,this.status=Ye.READY,this.emit(Je.READY)}initWithProvider(){throw new Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw et.notInitialized();var e;if(this.emit(Je.CONNECTING),this.status=Ye.CONNECTING,this.provider||null!==(e=this.web3auth)&&void 0!==e&&e.provider&&(this.provider=this.web3auth.provider),!qe.W.includes(this.web3auth.status))throw et.web3AuthNotConnected();if(!this.web3auth.provider)throw et.providerRequired();try{this.emit(Je.CONNECTED),this.status=Ye.CONNECTED}catch(e){He.R.error(e),this.status=Ye.ERRORED,this.emit(Je.ERRORED,{error:e.message||"Something went wrong"})}}async showWalletConnectScanner(e){var t,n;if(null===(t=this.wsEmbedInstance)||void 0===t||!t.isLoggedIn)throw et.walletPluginNotConnected();return null===(n=this.analytics)||void 0===n||n.track(F.R2.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:null==e?void 0:e.show}),this.wsEmbedInstance.showWalletConnectScanner(e)}async showFunding(e){var t,n;if(null===(t=this.wsEmbedInstance)||void 0===t||!t.isLoggedIn)throw et.walletPluginNotConnected();return null===(n=this.analytics)||void 0===n||n.track(F.R2.WALLET_FUNDING_CLICKED,{is_visible:null==e?void 0:e.show}),this.wsEmbedInstance.showFunding(e)}async showCheckout(e){var t,n;if(null===(t=this.wsEmbedInstance)||void 0===t||!t.isLoggedIn)throw et.walletPluginNotConnected();return null===(n=this.analytics)||void 0===n||n.track(F.R2.WALLET_CHECKOUT_CLICKED,{is_visible:null==e?void 0:e.show,receive_wallet_address_enabled:!(null==e||!e.receiveWalletAddress),token_list:null==e?void 0:e.tokenList,fiat_list:null==e?void 0:e.fiatList,crypto:null==e?void 0:e.crypto,fiat:null==e?void 0:e.fiat,fiat_amount:null==e?void 0:e.fiatAmount,crypto_amount:null==e?void 0:e.cryptoAmount}),this.wsEmbedInstance.showCheckout(e)}async showReceive(e){var t,n;if(null===(t=this.wsEmbedInstance)||void 0===t||!t.isLoggedIn)throw et.walletPluginNotConnected();return null===(n=this.analytics)||void 0===n||n.track(F.R2.WALLET_RECEIVE_CLICKED,{is_visible:null==e?void 0:e.show}),this.wsEmbedInstance.showReceive(e)}async showWalletUi(e){var t,n;if(null===(t=this.wsEmbedInstance)||void 0===t||!t.isLoggedIn)throw et.walletPluginNotConnected();return null===(n=this.analytics)||void 0===n||n.track(F.R2.WALLET_UI_CLICKED,{is_visible:null==e?void 0:e.show,path:null==e?void 0:e.path}),this.wsEmbedInstance.showWalletUi(e)}async showSwap(e){var t,n;if(null===(t=this.wsEmbedInstance)||void 0===t||!t.isLoggedIn)throw et.walletPluginNotConnected();return null===(n=this.analytics)||void 0===n||n.track(F.R2.WALLET_SWAP_CLICKED,{is_visible:null==e?void 0:e.show,from_token:null==e?void 0:e.fromToken,to_token:null==e?void 0:e.toToken,from_value_enabled:!(null==e||!e.fromValue),to_address_enabled:!(null==e||!e.toAddress)}),this.wsEmbedInstance.showSwap(e)}async cleanup(){var e;return null===(e=this.wsEmbedInstance)||void 0===e?void 0:e.cleanUp()}async disconnect(){var e;if(this.status!==Ye.CONNECTED)throw et.invalidSession("Wallet Services plugin is not connected");null!==(e=this.wsEmbedInstance)&&void 0!==e&&e.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(Je.DISCONNECTED),this.status=Ye.DISCONNECTED}}const nt=()=>()=>new tt;var rt,it=i(14928),at=i(10288),st=i.n(at),ot=i(73961),ct=i.n(ot),lt=i(67766),ut=i(39902),dt=i.n(ut),ft=new Uint8Array(16);function pt(){if(!rt&&!(rt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rt(ft)}const ht=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,bt=function(e){return"string"==typeof e&&ht.test(e)};for(var yt=[],mt=0;mt<256;++mt)yt.push((mt+256).toString(16).substr(1));const gt=function(e,t,n){var r=(e=e||{}).random||(e.rng||pt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(yt[e[t+0]]+yt[e[t+1]]+yt[e[t+2]]+yt[e[t+3]]+"-"+yt[e[t+4]]+yt[e[t+5]]+"-"+yt[e[t+6]]+yt[e[t+7]]+"-"+yt[e[t+8]]+yt[e[t+9]]+"-"+yt[e[t+10]]+yt[e[t+11]]+yt[e[t+12]]+yt[e[t+13]]+yt[e[t+14]]+yt[e[t+15]]).toLowerCase();if(!bt(n))throw TypeError("Stringified UUID is invalid");return n}(r)};function wt(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}c((r=r.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;var vt=void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Et=[],xt=[],St="undefined"!=typeof Uint8Array?Uint8Array:Array,Tt=!1;function At(){Tt=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)Et[t]=e[t],xt[e.charCodeAt(t)]=t;xt["-".charCodeAt(0)]=62,xt["_".charCodeAt(0)]=63}function _t(e,t,n){for(var r,i,a=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a.push(Et[(i=r)>>18&63]+Et[i>>12&63]+Et[i>>6&63]+Et[63&i]);return a.join("")}function Ct(e){var t;Tt||At();for(var n=e.length,r=n%3,i="",a=[],s=16383,o=0,c=n-r;o<c;o+=s)a.push(_t(e,o,o+s>c?c:o+s));return 1===r?(t=e[n-1],i+=Et[t>>2],i+=Et[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=Et[t>>10],i+=Et[t>>4&63],i+=Et[t<<2&63],i+="="),a.push(i),a.join("")}function kt(e,t,n,r,i){var a,s,o=8*i-r-1,c=(1<<o)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-u)-1,p>>=-u,u+=o;u>0;a=256*a+e[t+d],d+=f,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===a)a=1-l;else{if(a===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),a-=l}return(p?-1:1)*s*Math.pow(2,a-r)}function It(e,t,n,r,i,a){var s,o,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(o=0,s=u):s+d>=1?(o=(t*c-1)*Math.pow(2,i),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&o,p+=h,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;e[n+p]=255&s,p+=h,s/=256,l-=8);e[n+p-h]|=128*b}var Pt={}.toString,Ot=Array.isArray||function(e){return"[object Array]"==Pt.call(e)};Lt.TYPED_ARRAY_SUPPORT=void 0===vt.TYPED_ARRAY_SUPPORT||vt.TYPED_ARRAY_SUPPORT;var Mt=Rt();function Rt(){return Lt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Nt(e,t){if(Rt()<t)throw new RangeError("Invalid typed array length");return Lt.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Lt.prototype:(null===e&&(e=new Lt(t)),e.length=t),e}function Lt(e,t,n){if(!(Lt.TYPED_ARRAY_SUPPORT||this instanceof Lt))return new Lt(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return jt(this,e)}return Dt(this,e,t,n)}function Dt(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Lt.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Lt.prototype:e=Ut(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!Lt.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|zt(t,n),i=(e=Nt(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if($t(t)){var n=0|Ft(t.length);return 0===(e=Nt(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?Nt(e,0):Ut(e,t);if("Buffer"===t.type&&Ot(t.data))return Ut(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Bt(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function jt(e,t){if(Bt(t),e=Nt(e,t<0?0:0|Ft(t)),!Lt.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function Ut(e,t){var n=t.length<0?0:0|Ft(t.length);e=Nt(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function Ft(e){if(e>=Rt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Rt().toString(16)+" bytes");return 0|e}function $t(e){return!(null==e||!e._isBuffer)}function zt(e,t){if($t(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return yn(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return mn(e).length;default:if(r)return yn(e).length;t=(""+t).toLowerCase(),r=!0}}function Ht(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return an(this,t,n);case"utf8":case"utf-8":return en(this,t,n);case"ascii":return nn(this,t,n);case"latin1":case"binary":return rn(this,t,n);case"base64":return Qt(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sn(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function qt(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Kt(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=Lt.from(t,r)),$t(t))return 0===t.length?-1:Wt(e,t,n,r,i);if("number"==typeof t)return t&=255,Lt.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Wt(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Wt(e,t,n,r,i){var a,s=1,o=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,o/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(a=n;a<o;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*s}else-1!==u&&(a-=a-u),u=-1}else for(n+c>o&&(n=o-c),a=n;a>=0;a--){for(var d=!0,f=0;f<c;f++)if(l(e,a+f)!==l(t,f)){d=!1;break}if(d)return a}return-1}function Vt(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var s=0;s<r;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[n+s]=o}return s}function Gt(e,t,n,r){return gn(yn(t,e.length-n),e,n,r)}function Yt(e,t,n,r){return gn(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function Jt(e,t,n,r){return Yt(e,t,n,r)}function Zt(e,t,n,r){return gn(mn(t),e,n,r)}function Xt(e,t,n,r){return gn(function(e,t){for(var n,r,i,a=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function Qt(e,t,n){return 0===t&&n===e.length?Ct(e):Ct(e.slice(t,n))}function en(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,s,o,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(a=e[i+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[i+1],s=e[i+2],128==(192&a)&&128==(192&s)&&(c=(15&l)<<12|(63&a)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[i+1],s=e[i+2],o=e[i+3],128==(192&a)&&128==(192&s)&&128==(192&o)&&(c=(15&l)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=tn)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=tn));return n}(r)}Lt.poolSize=8192,Lt._augment=function(e){return e.__proto__=Lt.prototype,e},Lt.from=function(e,t,n){return Dt(null,e,t,n)},Lt.TYPED_ARRAY_SUPPORT&&(Lt.prototype.__proto__=Uint8Array.prototype,Lt.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Lt[Symbol.species]),Lt.alloc=function(e,t,n){return function(e,t,n,r){return Bt(t),t<=0?Nt(e,t):void 0!==n?"string"==typeof r?Nt(e,t).fill(n,r):Nt(e,t).fill(n):Nt(e,t)}(null,e,t,n)},Lt.allocUnsafe=function(e){return jt(null,e)},Lt.allocUnsafeSlow=function(e){return jt(null,e)},Lt.isBuffer=wn,Lt.compare=function(e,t){if(!$t(e)||!$t(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Lt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Lt.concat=function(e,t){if(!Ot(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Lt.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Lt.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!$t(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},Lt.byteLength=zt,Lt.prototype._isBuffer=!0,Lt.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)qt(this,t,t+1);return this},Lt.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)qt(this,t,t+3),qt(this,t+1,t+2);return this},Lt.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)qt(this,t,t+7),qt(this,t+1,t+6),qt(this,t+2,t+5),qt(this,t+3,t+4);return this},Lt.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?en(this,0,e):Ht.apply(this,arguments)},Lt.prototype.equals=function(e){if(!$t(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Lt.compare(this,e)},Lt.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Lt.prototype.compare=function(e,t,n,r,i){if(!$t(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),o=Math.min(a,s),c=this.slice(r,i),l=e.slice(t,n),u=0;u<o;++u)if(c[u]!==l[u]){a=c[u],s=l[u];break}return a<s?-1:s<a?1:0},Lt.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Lt.prototype.indexOf=function(e,t,n){return Kt(this,e,t,n,!0)},Lt.prototype.lastIndexOf=function(e,t,n){return Kt(this,e,t,n,!1)},Lt.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return Vt(this,e,t,n);case"utf8":case"utf-8":return Gt(this,e,t,n);case"ascii":return Yt(this,e,t,n);case"latin1":case"binary":return Jt(this,e,t,n);case"base64":return Zt(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xt(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},Lt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tn=4096;function nn(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function rn(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function an(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=bn(e[a]);return i}function sn(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function on(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function cn(e,t,n,r,i,a){if(!$t(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function ln(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function un(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function dn(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function fn(e,t,n,r,i){return i||dn(e,0,n,4),It(e,t,n,r,23,4),n+4}function pn(e,t,n,r,i){return i||dn(e,0,n,8),It(e,t,n,r,52,8),n+8}Lt.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),Lt.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Lt.prototype;else{var i=t-e;n=new Lt(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},Lt.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||on(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},Lt.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||on(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},Lt.prototype.readUInt8=function(e,t){return t||on(e,1,this.length),this[e]},Lt.prototype.readUInt16LE=function(e,t){return t||on(e,2,this.length),this[e]|this[e+1]<<8},Lt.prototype.readUInt16BE=function(e,t){return t||on(e,2,this.length),this[e]<<8|this[e+1]},Lt.prototype.readUInt32LE=function(e,t){return t||on(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Lt.prototype.readUInt32BE=function(e,t){return t||on(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Lt.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||on(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},Lt.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||on(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},Lt.prototype.readInt8=function(e,t){return t||on(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Lt.prototype.readInt16LE=function(e,t){t||on(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Lt.prototype.readInt16BE=function(e,t){t||on(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Lt.prototype.readInt32LE=function(e,t){return t||on(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Lt.prototype.readInt32BE=function(e,t){return t||on(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Lt.prototype.readFloatLE=function(e,t){return t||on(e,4,this.length),kt(this,e,!0,23,4)},Lt.prototype.readFloatBE=function(e,t){return t||on(e,4,this.length),kt(this,e,!1,23,4)},Lt.prototype.readDoubleLE=function(e,t){return t||on(e,8,this.length),kt(this,e,!0,52,8)},Lt.prototype.readDoubleBE=function(e,t){return t||on(e,8,this.length),kt(this,e,!1,52,8)},Lt.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||cn(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},Lt.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||cn(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},Lt.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,1,255,0),Lt.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Lt.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,2,65535,0),Lt.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ln(this,e,t,!0),t+2},Lt.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,2,65535,0),Lt.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ln(this,e,t,!1),t+2},Lt.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,4,4294967295,0),Lt.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):un(this,e,t,!0),t+4},Lt.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,4,4294967295,0),Lt.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):un(this,e,t,!1),t+4},Lt.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);cn(this,e,t,n,i-1,-i)}var a=0,s=1,o=0;for(this[t]=255&e;++a<n&&(s*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/s|0)-o&255;return t+n},Lt.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);cn(this,e,t,n,i-1,-i)}var a=n-1,s=1,o=0;for(this[t+a]=255&e;--a>=0&&(s*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/s|0)-o&255;return t+n},Lt.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,1,127,-128),Lt.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Lt.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,2,32767,-32768),Lt.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ln(this,e,t,!0),t+2},Lt.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,2,32767,-32768),Lt.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ln(this,e,t,!1),t+2},Lt.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,4,2147483647,-2147483648),Lt.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):un(this,e,t,!0),t+4},Lt.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||cn(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Lt.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):un(this,e,t,!1),t+4},Lt.prototype.writeFloatLE=function(e,t,n){return fn(this,e,t,!0,n)},Lt.prototype.writeFloatBE=function(e,t,n){return fn(this,e,t,!1,n)},Lt.prototype.writeDoubleLE=function(e,t,n){return pn(this,e,t,!0,n)},Lt.prototype.writeDoubleBE=function(e,t,n){return pn(this,e,t,!1,n)},Lt.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!Lt.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},Lt.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Lt.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=$t(e)?e:yn(new Lt(e,r).toString()),o=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%o]}return this};var hn=/[^+\/0-9A-Za-z-_]/g;function bn(e){return e<16?"0"+e.toString(16):e.toString(16)}function yn(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function mn(e){return function(e){var t,n,r,i,a,s;Tt||At();var o=e.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[o-2]?2:"="===e[o-1]?1:0,s=new St(3*o/4-a),r=a>0?o-4:o;var c=0;for(t=0,n=0;t<r;t+=4,n+=3)i=xt[e.charCodeAt(t)]<<18|xt[e.charCodeAt(t+1)]<<12|xt[e.charCodeAt(t+2)]<<6|xt[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===a?(i=xt[e.charCodeAt(t)]<<2|xt[e.charCodeAt(t+1)]>>4,s[c++]=255&i):1===a&&(i=xt[e.charCodeAt(t)]<<10|xt[e.charCodeAt(t+1)]<<4|xt[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(hn,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function gn(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function wn(e){return null!=e&&(!!e._isBuffer||vn(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&vn(e.slice(0,0))}(e))}function vn(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var En=Object.freeze({__proto__:null,Buffer:Lt,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),Lt.alloc(+e)},isBuffer:wn,kMaxLength:Mt}),xn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function Sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Tn(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var An={},_n={},Cn={};function kn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function In(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function Pn(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function On(e,...t){if(!Pn(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Mn(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("hash must be wrapped by utils.wrapConstructor");kn(e.outputLen),kn(e.blockLen)}function Rn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Nn(e,t){On(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.isBytes=Pn,Cn.number=kn,Cn.bool=In,Cn.bytes=On,Cn.hash=Mn,Cn.exists=Rn,Cn.output=Nn;const Ln={number:kn,bool:In,bytes:On,hash:Mn,exists:Rn,output:Nn};Cn.default=Ln,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapCipher=e.Hash=e.nextTick=e.isLE=e.createView=e.u32=e.u16=e.u8=void 0,e.bytesToHex=r,e.hexToBytes=s,e.hexToNumber=o,e.bytesToNumberBE=function(e){return o(r(e))},e.numberToBytesBE=function(e,t){return s(e.toString(16).padStart(2*t,"0"))},e.asyncLoop=async function(t,n,r){let i=Date.now();for(let a=0;a<t;a++){r(a);const t=Date.now()-i;t>=0&&t<n||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=c,e.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},e.toBytes=function(e){if("string"==typeof e)e=c(e);else{if(!(0,t.isBytes)(e))throw new Error("Uint8Array expected, got "+typeof e);e=u(e)}return e},e.concatBytes=function(...e){let n=0;for(let r=0;r<e.length;r++){const i=e[r];(0,t.bytes)(i),n+=i.length}const r=new Uint8Array(n);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},e.checkOpts=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)},e.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},e.setBigUint64=l,e.u64Lengths=function(t,n){const r=new Uint8Array(16),i=(0,e.createView)(r);return l(i,0,BigInt(n?n.length:0),!0),l(i,8,BigInt(t.length),!0),r},e.isAligned32=function(e){return e.byteOffset%4==0},e.copyBytes=u,e.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)};const t=Cn;if(e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),e.u16=e=>new Uint16Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/2)),e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function r(e){(0,t.bytes)(e);let r="";for(let t=0;t<e.length;t++)r+=n[e[t]];return r}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=i._0&&e<=i._9?e-i._0:e>=i._A&&e<=i._F?e-(i._A-10):e>=i._a&&e<=i._f?e-(i._a-10):void 0}function s(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=a(e.charCodeAt(i)),s=a(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r}function o(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function c(e){if("string"!=typeof e)throw new Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function l(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,o,r)}function u(e){return Uint8Array.from(e)}e.nextTick=async()=>{},e.Hash=class{},e.wrapCipher=(e,t)=>(Object.assign(t,e),t)}(_n);var Dn={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.AEAD_TAG_LENGTH=Bn.XCHACHA20_NONCE_LENGTH=Bn.CURVE25519_PUBLIC_KEY_SIZE=Bn.ETH_PUBLIC_KEY_SIZE=Bn.UNCOMPRESSED_PUBLIC_KEY_SIZE=Bn.COMPRESSED_PUBLIC_KEY_SIZE=Bn.SECRET_KEY_LENGTH=void 0,Bn.SECRET_KEY_LENGTH=32,Bn.COMPRESSED_PUBLIC_KEY_SIZE=33,Bn.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,Bn.ETH_PUBLIC_KEY_SIZE=64,Bn.CURVE25519_PUBLIC_KEY_SIZE=32,Bn.XCHACHA20_NONCE_LENGTH=24,Bn.AEAD_TAG_LENGTH=16,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ephemeralKeySize=e.symmetricNonceLength=e.symmetricAlgorithm=e.isHkdfKeyCompressed=e.isEphemeralKeyCompressed=e.ellipticCurve=e.ECIES_CONFIG=void 0;var t=Bn;e.ECIES_CONFIG=new function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16},e.ellipticCurve=function(){return e.ECIES_CONFIG.ellipticCurve},e.isEphemeralKeyCompressed=function(){return e.ECIES_CONFIG.isEphemeralKeyCompressed},e.isHkdfKeyCompressed=function(){return e.ECIES_CONFIG.isHkdfKeyCompressed},e.symmetricAlgorithm=function(){return e.ECIES_CONFIG.symmetricAlgorithm},e.symmetricNonceLength=function(){return e.ECIES_CONFIG.symmetricNonceLength},e.ephemeralKeySize=function(){var n={secp256k1:e.ECIES_CONFIG.isEphemeralKeyCompressed?t.COMPRESSED_PUBLIC_KEY_SIZE:t.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:t.CURVE25519_PUBLIC_KEY_SIZE,ed25519:t.CURVE25519_PUBLIC_KEY_SIZE};if(e.ECIES_CONFIG.ellipticCurve in n)return n[e.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}}(Dn);var jn={},Un={},Fn={},$n={},zn={},Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.crypto=void 0,Hn.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.gcm=e.ctr=e.cbc=e.utils=void 0,e.randomBytes=i,e.getWebcryptoSubtle=a,e.managedNonce=function(e){return(0,n.number)(e.nonceLength),(t,...n)=>({encrypt(a,...s){const{nonceLength:o}=e,c=i(o),l=e(t,c,...n).encrypt(a,...s),u=(0,r.concatBytes)(c,l);return l.fill(0),u},decrypt(r,...i){const{nonceLength:a}=e,s=r.subarray(0,a),o=r.subarray(a);return e(t,s,...n).decrypt(o,...i)}})};const t=Hn,n=Cn,r=_n;function i(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));if(t.crypto&&"function"==typeof t.crypto.randomBytes)return t.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function a(){if(t.crypto&&"object"==typeof t.crypto.subtle&&null!=t.crypto.subtle)return t.crypto.subtle;throw new Error("crypto.subtle must be defined")}e.utils={async encrypt(e,t,n,r){const i=a(),s=await i.importKey("raw",e,t,!0,["encrypt"]),o=await i.encrypt(n,s,r);return new Uint8Array(o)},async decrypt(e,t,n,r){const i=a(),s=await i.importKey("raw",e,t,!0,["decrypt"]),o=await i.decrypt(n,s,r);return new Uint8Array(o)}};const s="AES-CBC",o="AES-CTR",c="AES-GCM";function l(t){return(r,i,a)=>{(0,n.bytes)(r),(0,n.bytes)(i);const l={name:t,length:8*r.length},u=function(e,t,n){if(e===s)return{name:s,iv:t};if(e===o)return{name:o,counter:t,length:64};if(e===c)return n?{name:c,iv:t,additionalData:n}:{name:c,iv:t};throw new Error("unknown aes block mode")}(t,i,a);return{encrypt:t=>((0,n.bytes)(t),e.utils.encrypt(r,l,u,t)),decrypt:t=>((0,n.bytes)(t),e.utils.decrypt(r,l,u,t))}}}e.cbc=l(s),e.ctr=l(o),e.gcm=l(c)}(zn);var qn={},Kn={},Wn={},Vn={};function Gn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Yn(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function Jn(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function Zn(e,...t){if(!Jn(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Xn(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Gn(e.outputLen),Gn(e.blockLen)}function Qn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function er(e,t){Zn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.isBytes=Jn,Vn.number=Gn,Vn.bool=Yn,Vn.bytes=Zn,Vn.hash=Xn,Vn.exists=Qn,Vn.output=er;const tr={number:Gn,bool:Yn,bytes:Zn,hash:Xn,exists:Qn,output:er};Vn.default=tr;var nr={},rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.crypto=void 0,rr.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=e.nextTick=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=void 0,e.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name},e.byteSwap32=function(t){for(let n=0;n<t.length;n++)t[n]=(0,e.byteSwap)(t[n])},e.bytesToHex=function(e){(0,n.bytes)(e);let t="";for(let n=0;n<e.length;n++)t+=r[e[n]];return t},e.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=a(e.charCodeAt(i)),s=a(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r},e.asyncLoop=async function(t,n,r){let i=Date.now();for(let a=0;a<t;a++){r(a);const t=Date.now()-i;t>=0&&t<n||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=s,e.toBytes=o,e.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];(0,n.bytes)(i),t+=i.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},e.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==c.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},e.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(o(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(o(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));if(t.crypto&&"function"==typeof t.crypto.randomBytes)return t.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")};const t=rr,n=Vn;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),e.rotr=(e,t)=>e<<32-t|e>>>t,e.rotl=(e,t)=>e<<t|e>>>32-t>>>0,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],e.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,e.byteSwapIfBE=e.isLE?e=>e:t=>(0,e.byteSwap)(t);const r=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=i._0&&e<=i._9?e-i._0:e>=i._A&&e<=i._F?e-(i._A-10):e>=i._a&&e<=i._f?e-(i._a-10):void 0}function s(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function o(e){return"string"==typeof e&&(e=s(e)),(0,n.bytes)(e),e}e.nextTick=async()=>{},e.Hash=class{clone(){return this._cloneInto()}};const c={}.toString}(nr),Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.HashMD=Wn.Maj=Wn.Chi=void 0;const ir=Vn,ar=nr;Wn.Chi=(e,t,n)=>e&t^~e&n,Wn.Maj=(e,t,n)=>e&t^e&n^t&n,Wn.HashMD=class extends ar.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,ar.createView)(this.buffer)}update(e){(0,ir.exists)(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=(0,ar.toBytes)(e)).length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);if(s!==r)n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=(0,ar.createView)(e);for(;r<=i-a;a+=r)this.process(t,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,ir.exists)(this),(0,ir.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(n>>i&a),o=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,o,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=(0,ar.createView)(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=a,r%t&&e.buffer.set(n),e}};var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.add5L=sr.add5H=sr.add4H=sr.add4L=sr.add3H=sr.add3L=sr.rotlBL=sr.rotlBH=sr.rotlSL=sr.rotlSH=sr.rotr32L=sr.rotr32H=sr.rotrBL=sr.rotrBH=sr.rotrSL=sr.rotrSH=sr.shrSL=sr.shrSH=sr.toBig=void 0,sr.fromBig=lr,sr.split=ur,sr.add=Tr;const or=BigInt(2**32-1),cr=BigInt(32);function lr(e,t=!1){return t?{h:Number(e&or),l:Number(e>>cr&or)}:{h:0|Number(e>>cr&or),l:0|Number(e&or)}}function ur(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:a,l:s}=lr(e[i],t);[n[i],r[i]]=[a,s]}return[n,r]}const dr=(e,t)=>BigInt(e>>>0)<<cr|BigInt(t>>>0);sr.toBig=dr;const fr=(e,t,n)=>e>>>n;sr.shrSH=fr;const pr=(e,t,n)=>e<<32-n|t>>>n;sr.shrSL=pr;const hr=(e,t,n)=>e>>>n|t<<32-n;sr.rotrSH=hr;const br=(e,t,n)=>e<<32-n|t>>>n;sr.rotrSL=br;const yr=(e,t,n)=>e<<64-n|t>>>n-32;sr.rotrBH=yr;const mr=(e,t,n)=>e>>>n-32|t<<64-n;sr.rotrBL=mr;const gr=(e,t)=>t;sr.rotr32H=gr;const wr=(e,t)=>e;sr.rotr32L=wr;const vr=(e,t,n)=>e<<n|t>>>32-n;sr.rotlSH=vr;const Er=(e,t,n)=>t<<n|e>>>32-n;sr.rotlSL=Er;const xr=(e,t,n)=>t<<n-32|e>>>64-n;sr.rotlBH=xr;const Sr=(e,t,n)=>e<<n-32|t>>>64-n;function Tr(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}sr.rotlBL=Sr;const Ar=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);sr.add3L=Ar;const _r=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;sr.add3H=_r;const Cr=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);sr.add4L=Cr;const kr=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;sr.add4H=kr;const Ir=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);sr.add5L=Ir;const Pr=(e,t,n,r,i,a)=>t+n+r+i+a+(e/2**32|0)|0;sr.add5H=Pr;const Or={fromBig:lr,split:ur,toBig:dr,shrSH:fr,shrSL:pr,rotrSH:hr,rotrSL:br,rotrBH:yr,rotrBL:mr,rotr32H:gr,rotr32L:wr,rotlSH:vr,rotlSL:Er,rotlBH:xr,rotlBL:Sr,add:Tr,add3L:Ar,add3H:_r,add4L:Cr,add4H:kr,add5H:Pr,add5L:Ir};sr.default=Or,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.sha384=Kn.sha512_256=Kn.sha512_224=Kn.sha512=Kn.SHA384=Kn.SHA512_256=Kn.SHA512_224=Kn.SHA512=void 0;const Mr=Wn,Rr=sr,Nr=nr,[Lr,Dr]=Rr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Br=new Uint32Array(80),jr=new Uint32Array(80);class Ur extends Mr.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:a,Dh:s,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:p,Hh:h,Hl:b}=this;return[e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b]}set(e,t,n,r,i,a,s,o,c,l,u,d,f,p,h,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|h,this.Hl=0|b}process(e,t){for(let n=0;n<16;n++,t+=4)Br[n]=e.getUint32(t),jr[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Br[e-15],n=0|jr[e-15],r=Rr.default.rotrSH(t,n,1)^Rr.default.rotrSH(t,n,8)^Rr.default.shrSH(t,n,7),i=Rr.default.rotrSL(t,n,1)^Rr.default.rotrSL(t,n,8)^Rr.default.shrSL(t,n,7),a=0|Br[e-2],s=0|jr[e-2],o=Rr.default.rotrSH(a,s,19)^Rr.default.rotrBH(a,s,61)^Rr.default.shrSH(a,s,6),c=Rr.default.rotrSL(a,s,19)^Rr.default.rotrBL(a,s,61)^Rr.default.shrSL(a,s,6),l=Rr.default.add4L(i,c,jr[e-7],jr[e-16]),u=Rr.default.add4H(l,r,o,Br[e-7],Br[e-16]);Br[e]=0|u,jr[e]=0|l}let{Ah:n,Al:r,Bh:i,Bl:a,Ch:s,Cl:o,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:p,Gh:h,Gl:b,Hh:y,Hl:m}=this;for(let e=0;e<80;e++){const t=Rr.default.rotrSH(u,d,14)^Rr.default.rotrSH(u,d,18)^Rr.default.rotrBH(u,d,41),g=Rr.default.rotrSL(u,d,14)^Rr.default.rotrSL(u,d,18)^Rr.default.rotrBL(u,d,41),w=u&f^~u&h,v=d&p^~d&b,E=Rr.default.add5L(m,g,v,Dr[e],jr[e]),x=Rr.default.add5H(E,y,t,w,Lr[e],Br[e]),S=0|E,T=Rr.default.rotrSH(n,r,28)^Rr.default.rotrBH(n,r,34)^Rr.default.rotrBH(n,r,39),A=Rr.default.rotrSL(n,r,28)^Rr.default.rotrBL(n,r,34)^Rr.default.rotrBL(n,r,39),_=n&i^n&s^i&s,C=r&a^r&o^a&o;y=0|h,m=0|b,h=0|f,b=0|p,f=0|u,p=0|d,({h:u,l:d}=Rr.default.add(0|c,0|l,0|x,0|S)),c=0|s,l=0|o,s=0|i,o=0|a,i=0|n,a=0|r;const k=Rr.default.add3L(S,A,C);n=Rr.default.add3H(k,x,T,_),r=0|k}({h:n,l:r}=Rr.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:a}=Rr.default.add(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:o}=Rr.default.add(0|this.Ch,0|this.Cl,0|s,0|o)),({h:c,l}=Rr.default.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Rr.default.add(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:p}=Rr.default.add(0|this.Fh,0|this.Fl,0|f,0|p)),({h,l:b}=Rr.default.add(0|this.Gh,0|this.Gl,0|h,0|b)),({h:y,l:m}=Rr.default.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(n,r,i,a,s,o,c,l,u,d,f,p,h,b,y,m)}roundClean(){Br.fill(0),jr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Kn.SHA512=Ur;class Fr extends Ur{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Kn.SHA512_224=Fr;class $r extends Ur{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Kn.SHA512_256=$r;class zr extends Ur{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Kn.SHA384=zr,Kn.sha512=(0,Nr.wrapConstructor)(()=>new Ur),Kn.sha512_224=(0,Nr.wrapConstructor)(()=>new Fr),Kn.sha512_256=(0,Nr.wrapConstructor)(()=>new $r),Kn.sha384=(0,Nr.wrapConstructor)(()=>new zr);var Hr={},qr={},Kr={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.notImplemented=Wr.bitMask=void 0,Wr.isBytes=Jr,Wr.abytes=Zr,Wr.abool=function(e,t){if("boolean"!=typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)},Wr.bytesToHex=Qr,Wr.numberToHexUnpadded=ei,Wr.hexToNumber=ti,Wr.hexToBytes=ii,Wr.bytesToNumberBE=function(e){return ti(Qr(e))},Wr.bytesToNumberLE=function(e){return Zr(e),ti(Qr(Uint8Array.from(e).reverse()))},Wr.numberToBytesBE=ai,Wr.numberToBytesLE=function(e,t){return ai(e,t).reverse()},Wr.numberToVarBytesBE=function(e){return ii(ei(e))},Wr.ensureBytes=function(e,t,n){let r;if("string"==typeof t)try{r=ii(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!Jr(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r},Wr.concatBytes=si,Wr.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},Wr.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},Wr.inRange=ci,Wr.aInRange=function(e,t,n,r){if(!ci(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)},Wr.bitLen=function(e){let t;for(t=0;e>Vr;e>>=Gr,t+=1);return t},Wr.bitGet=function(e,t){return e>>BigInt(t)&Gr},Wr.bitSet=function(e,t,n){return e|(n?Gr:Vr)<<BigInt(t)},Wr.createHmacDrbg=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=li(e),i=li(e),a=0;const s=()=>{r.fill(1),i.fill(0),a=0},o=(...e)=>n(i,r,...e),c=(e=li())=>{i=o(ui([0]),e),r=o(),0!==e.length&&(i=o(ui([1]),e),r=o())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return si(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(l()));)c();return s(),n}},Wr.validateObject=function(e,t,n={}){const r=(t,n,r)=>{const i=di[n];if("function"!=typeof i)throw new Error(`Invalid validator "${n}", expected function`);const a=e[t];if(!(r&&void 0===a||i(a,e)))throw new Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e},Wr.memoized=function(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const a=e(n,...r);return t.set(n,a),a}};const Vr=BigInt(0),Gr=BigInt(1),Yr=BigInt(2);function Jr(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function Zr(e){if(!Jr(e))throw new Error("Uint8Array expected")}const Xr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qr(e){Zr(e);let t="";for(let n=0;n<e.length;n++)t+=Xr[e[n]];return t}function ei(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function ti(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const ni={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ri(e){return e>=ni._0&&e<=ni._9?e-ni._0:e>=ni._A&&e<=ni._F?e-(ni._A-10):e>=ni._a&&e<=ni._f?e-(ni._a-10):void 0}function ii(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=ri(e.charCodeAt(i)),a=ri(e.charCodeAt(i+1));if(void 0===n||void 0===a){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+a}return r}function ai(e,t){return ii(e.toString(16).padStart(2*t,"0"))}function si(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Zr(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const oi=e=>"bigint"==typeof e&&Vr<=e;function ci(e,t,n){return oi(e)&&oi(t)&&oi(n)&&t<=e&&e<n}Wr.bitMask=e=>(Yr<<BigInt(e-1))-Gr;const li=e=>new Uint8Array(e),ui=e=>Uint8Array.from(e),di={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Jr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};Wr.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.isNegativeLE=void 0,Kr.mod=vi,Kr.pow=Ei,Kr.pow2=function(e,t,n){let r=e;for(;t-- >pi;)r*=r,r%=n;return r},Kr.invert=xi,Kr.tonelliShanks=Si,Kr.FpSqrt=Ti,Kr.validateField=function(e){const t=Ai.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,fi.validateObject)(e,t)},Kr.FpPow=_i,Kr.FpInvertBatch=Ci,Kr.FpDiv=function(e,t,n){return e.mul(t,"bigint"==typeof n?xi(n,e.ORDER):e.inv(n))},Kr.FpLegendre=ki,Kr.FpIsSquare=function(e){const t=ki(e.ORDER);return n=>{const r=t(e,n);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}},Kr.nLength=Ii,Kr.Field=function(e,t,n=!1,r={}){if(e<=pi)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:a}=Ii(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Ti(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:(0,fi.bitMask)(i),ZERO:pi,ONE:hi,create:t=>vi(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return pi<=t&&t<e},is0:e=>e===pi,isOdd:e=>(e&hi)===hi,neg:t=>vi(-t,e),eql:(e,t)=>e===t,sqr:t=>vi(t*t,e),add:(t,n)=>vi(t+n,e),sub:(t,n)=>vi(t-n,e),mul:(t,n)=>vi(t*n,e),pow:(e,t)=>_i(o,e,t),div:(t,n)=>vi(t*xi(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>xi(t,e),sqrt:r.sqrt||(e=>s(o,e)),invertBatch:e=>Ci(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?(0,fi.numberToBytesLE)(e,a):(0,fi.numberToBytesBE)(e,a),fromBytes:e=>{if(e.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return n?(0,fi.bytesToNumberLE)(e):(0,fi.bytesToNumberBE)(e)}});return Object.freeze(o)},Kr.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},Kr.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},Kr.hashToPrivateScalar=function(e,t,n=!1){const r=(e=(0,fi.ensureBytes)("privateHash",e)).length,i=Ii(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);return vi(n?(0,fi.bytesToNumberLE)(e):(0,fi.bytesToNumberBE)(e),t-hi)+hi},Kr.getFieldBytesLength=Pi,Kr.getMinHashLength=Oi,Kr.mapHashToField=function(e,t,n=!1){const r=e.length,i=Pi(t),a=Oi(t);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const s=vi(n?(0,fi.bytesToNumberBE)(e):(0,fi.bytesToNumberLE)(e),t-hi)+hi;return n?(0,fi.numberToBytesLE)(s,i):(0,fi.numberToBytesBE)(s,i)};const fi=Wr,pi=BigInt(0),hi=BigInt(1),bi=BigInt(2),yi=BigInt(3),mi=BigInt(4),gi=BigInt(5),wi=BigInt(8);function vi(e,t){const n=e%t;return n>=pi?n:t+n}function Ei(e,t,n){if(n<=pi||t<pi)throw new Error("Expected power/modulo > 0");if(n===hi)return pi;let r=hi;for(;t>pi;)t&hi&&(r=r*e%n),e=e*e%n,t>>=hi;return r}function xi(e,t){if(e===pi||t<=pi)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=vi(e,t),r=t,i=pi,a=hi;for(;n!==pi;){const e=r%n,t=i-a*(r/n);r=n,n=e,i=a,a=t}if(r!==hi)throw new Error("invert: does not exist");return vi(i,t)}function Si(e){const t=(e-hi)/bi;let n,r,i;for(n=e-hi,r=0;n%bi===pi;n/=bi,r++);for(i=bi;i<e&&Ei(i,t,e)!==e-hi;i++);if(1===r){const t=(e+hi)/mi;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const a=(n+hi)/bi;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(s,a),u=e.pow(s,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<o&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,hi<<BigInt(o-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),o=t}return l}}function Ti(e){if(e%mi===yi){const t=(e+hi)/mi;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%wi===gi){const t=(e-gi)/wi;return function(e,n){const r=e.mul(n,bi),i=e.pow(r,t),a=e.mul(n,i),s=e.mul(e.mul(a,bi),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return Si(e)}BigInt(9),BigInt(16),Kr.isNegativeLE=(e,t)=>(vi(e,t)&hi)===hi;const Ai=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _i(e,t,n){if(n<pi)throw new Error("Expected power > 0");if(n===pi)return e.ONE;if(n===hi)return t;let r=e.ONE,i=t;for(;n>pi;)n&hi&&(r=e.mul(r,i)),i=e.sqr(i),n>>=hi;return r}function Ci(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}function ki(e){const t=(e-hi)/bi;return(e,n)=>e.pow(n,t)}function Ii(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Pi(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Oi(e){const t=Pi(e);return t+Math.ceil(t/2)}Object.defineProperty(qr,"__esModule",{value:!0}),qr.wNAF=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error(`Wrong window size=${e}, should be [1..${t}]`)},i=e=>(r(e),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Ni;)n&Li&&(r=r.add(i)),i=i.double(),n>>=Li;return r},precomputeWindow(e,t){const{windows:n,windowSize:r}=i(t),a=[];let s=e,o=s;for(let e=0;e<n;e++){o=s,a.push(o);for(let e=1;e<r;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(t,r,a){const{windows:s,windowSize:o}=i(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let e=0;e<s;e++){const t=e*o;let i=Number(a&u);a>>=f,i>o&&(i-=d,a+=Li);const s=t,p=t+Math.abs(i)-1,h=e%2!=0,b=i<0;0===i?l=l.add(n(h,r[s])):c=c.add(n(b,r[p]))}return{p:c,f:l}},wNAFCached(e,t,n){const r=Bi.get(e)||1;let i=Di.get(e);return i||(i=this.precomputeWindow(e,r),1!==r&&Di.set(e,n(i))),this.wNAF(r,i,t)},setWindowSize(e,t){r(t),Bi.set(e,t),Di.delete(e)}}},qr.pippenger=function(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((e,n)=>{if(!t.isValid(e))throw new Error(`wrong scalar at index ${n}`)}),n.forEach((t,n)=>{if(!(t instanceof e))throw new Error(`wrong point at index ${n}`)});const i=(0,Ri.bitLen)(BigInt(n.length)),a=i>12?i-3:i>4?i-2:i?2:1,s=(1<<a)-1,o=new Array(s+1).fill(e.ZERO),c=Math.floor((t.BITS-1)/a)*a;let l=e.ZERO;for(let t=c;t>=0;t-=a){o.fill(e.ZERO);for(let e=0;e<r.length;e++){const i=r[e],a=Number(i>>BigInt(t)&BigInt(s));o[a]=o[a].add(n[e])}let i=e.ZERO;for(let t=o.length-1,n=e.ZERO;t>0;t--)n=n.add(o[t]),i=i.add(n);if(l=l.add(i),0!==t)for(let e=0;e<a;e++)l=l.double()}return l},qr.validateBasic=function(e){return(0,Mi.validateField)(e.Fp),(0,Ri.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Mi.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};const Mi=Kr,Ri=Wr,Ni=BigInt(0),Li=BigInt(1),Di=new WeakMap,Bi=new WeakMap;Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.twistedEdwards=function(e){const t=function(e){const t=(0,ji.validateBasic)(e);return Fi.validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:a,randomBytes:s,nByteLength:o,h:c}=t,l=qi<<BigInt(8*o)-Hi,u=n.create,d=(0,Ui.Field)(t.n,t.nBitLength),f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return{isValid:!1,value:zi}}}),p=t.adjustScalarBytes||(e=>e),h=t.domain||((e,t,n)=>{if((0,$i.abool)("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function b(e,t){Fi.aInRange("coordinate "+e,t,zi,l)}function y(e){if(!(e instanceof w))throw new Error("ExtendedPoint expected")}const m=(0,$i.memoized)((e,t)=>{const{ex:r,ey:i,ez:a}=e,s=e.is0();null==t&&(t=s?Ki:n.inv(a));const o=u(r*t),c=u(i*t),l=u(a*t);if(s)return{x:zi,y:Hi};if(l!==Hi)throw new Error("invZ was invalid");return{x:o,y:c}}),g=(0,$i.memoized)(e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:a,ez:s,et:o}=e,c=u(i*i),l=u(a*a),d=u(s*s),f=u(d*d),p=u(c*n);if(u(d*u(p+l))!==u(f+u(r*u(c*l))))throw new Error("bad point: equation left != right (1)");if(u(i*a)!==u(s*o))throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,b("x",e),b("y",t),b("z",n),b("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return b("x",t),b("y",n),new w(t,n,Hi,u(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.ez));return e.map((e,n)=>e.toAffine(t[n])).map(w.fromAffine)}static msm(e,t){return(0,ji.pippenger)(w,d,e,t)}_setWindowSize(e){x.setWindowSize(this,e)}assertValidity(){g(this)}equals(e){y(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:a,ez:s}=e,o=u(t*s),c=u(i*r),l=u(n*s),d=u(a*r);return o===c&&l===d}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,a=u(n*n),s=u(r*r),o=u(qi*u(i*i)),c=u(e*a),l=n+r,d=u(u(l*l)-a-s),f=c+s,p=f-o,h=c-s,b=u(d*p),y=u(f*h),m=u(d*h),g=u(p*f);return new w(b,y,g,m)}add(e){y(e);const{a:n,d:r}=t,{ex:i,ey:a,ez:s,et:o}=this,{ex:c,ey:l,ez:d,et:f}=e;if(n===BigInt(-1)){const e=u((a-i)*(l+c)),t=u((a+i)*(l-c)),n=u(t-e);if(n===zi)return this.double();const r=u(s*qi*f),p=u(o*qi*d),h=p+r,b=t+e,y=p-r,m=u(h*n),g=u(b*y),v=u(h*y),E=u(n*b);return new w(m,g,E,v)}const p=u(i*c),h=u(a*l),b=u(o*r*f),m=u(s*d),g=u((i+a)*(c+l)-p-h),v=m-b,E=m+b,x=u(h-n*p),S=u(g*v),T=u(E*x),A=u(g*x),_=u(v*E);return new w(S,T,_,A)}subtract(e){return this.add(e.negate())}wNAF(e){return x.wNAFCached(this,e,w.normalizeZ)}multiply(e){const t=e;Fi.aInRange("scalar",t,Hi,r);const{p:n,f:i}=this.wNAF(t);return w.normalizeZ([n,i])[0]}multiplyUnsafe(e){const t=e;return Fi.aInRange("scalar",t,zi,r),t===zi?E:this.equals(E)||t===Hi?this:this.equals(v)?this.wNAF(t).p:x.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(e){return m(this,e)}clearCofactor(){const{h:e}=t;return e===Hi?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a}=t,s=n.BYTES;e=(0,$i.ensureBytes)("pointHex",e,s),(0,$i.abool)("zip215",r);const o=e.slice(),c=e[s-1];o[s-1]=-129&c;const d=Fi.bytesToNumberLE(o),p=r?l:n.ORDER;Fi.aInRange("pointHex.y",d,zi,p);const h=u(d*d),b=u(h-Hi),y=u(i*h-a);let{isValid:m,value:g}=f(b,y);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const v=(g&Hi)===Hi,E=!!(128&c);if(!r&&g===zi&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==v&&(g=u(-g)),w.fromAffine({x:g,y:d})}static fromPrivateKey(e){return A(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=Fi.numberToBytesLE(t,n.BYTES);return r[r.length-1]|=e&Hi?128:0,r}toHex(){return Fi.bytesToHex(this.toRawBytes())}}w.BASE=new w(t.Gx,t.Gy,Hi,u(t.Gx*t.Gy)),w.ZERO=new w(zi,Hi,Hi,zi);const{BASE:v,ZERO:E}=w,x=(0,ji.wNAF)(w,8*o);function S(e){return(0,Ui.mod)(e,r)}function T(e){return S(Fi.bytesToNumberLE(e))}function A(e){const t=o;e=(0,$i.ensureBytes)("private key",e,t);const n=(0,$i.ensureBytes)("hashed private key",a(e),2*t),r=p(n.slice(0,t)),i=n.slice(t,2*t),s=T(r),c=v.multiply(s),l=c.toRawBytes();return{head:r,prefix:i,scalar:s,point:c,pointBytes:l}}function _(e=new Uint8Array,...t){const n=Fi.concatBytes(...t);return T(a(h(n,(0,$i.ensureBytes)("context",e),!!i)))}const C=Wi;v._setWindowSize(8);const k={getExtendedPublicKey:A,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};return{CURVE:t,getPublicKey:function(e){return A(e).pointBytes},sign:function(e,t,a={}){e=(0,$i.ensureBytes)("message",e),i&&(e=i(e));const{prefix:s,scalar:c,pointBytes:l}=A(t),u=_(a.context,s,e),d=v.multiply(u).toRawBytes(),f=S(u+_(a.context,d,l,e)*c);Fi.aInRange("signature.s",f,zi,r);const p=Fi.concatBytes(d,Fi.numberToBytesLE(f,n.BYTES));return(0,$i.ensureBytes)("result",p,2*o)},verify:function(e,t,r,a=C){const{context:s,zip215:o}=a,c=n.BYTES;e=(0,$i.ensureBytes)("signature",e,2*c),t=(0,$i.ensureBytes)("message",t),void 0!==o&&(0,$i.abool)("zip215",o),i&&(t=i(t));const l=Fi.bytesToNumberLE(e.slice(c,2*c));let u,d,f;try{u=w.fromHex(r,o),d=w.fromHex(e.slice(0,c),o),f=v.multiplyUnsafe(l)}catch(e){return!1}if(!o&&u.isSmallOrder())return!1;const p=_(s,d.toRawBytes(),u.toRawBytes(),t);return d.add(u.multiplyUnsafe(p)).subtract(f).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:k}};const ji=qr,Ui=Kr,Fi=Wr,$i=Wr,zi=BigInt(0),Hi=BigInt(1),qi=BigInt(2),Ki=BigInt(8),Wi={zip215:!0};var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.expand_message_xmd=ea,Vi.expand_message_xof=ta,Vi.hash_to_field=na,Vi.isogenyMap=function(e,t){const n=t.map(e=>Array.from(e).reverse());return(t,r)=>{const[i,a,s,o]=n.map(n=>n.reduce((n,r)=>e.add(e.mul(n,t),r)));return t=e.div(i,a),r=e.mul(r,e.div(s,o)),{x:t,y:r}}},Vi.createHasher=function(e,t,n){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const a=na(r,2,{...n,DST:n.DST,...i}),s=e.fromAffine(t(a[0])),o=e.fromAffine(t(a[1])),c=s.add(o).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const a=na(r,1,{...n,DST:n.encodeDST,...i}),s=e.fromAffine(t(a[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const e of n)if("bigint"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const r=e.fromAffine(t(n)).clearCofactor();return r.assertValidity(),r}}};const Gi=Kr,Yi=Wr,Ji=Yi.bytesToNumberBE;function Zi(e,t){if(Qi(e),Qi(t),e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function Xi(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Qi(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function ea(e,t,n,r){(0,Yi.abytes)(e),(0,Yi.abytes)(t),Qi(n),t.length>255&&(t=r((0,Yi.concatBytes)((0,Yi.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:a}=r,s=Math.ceil(n/i);if(n>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const o=(0,Yi.concatBytes)(t,Zi(t.length,1)),c=Zi(0,a),l=Zi(n,2),u=new Array(s),d=r((0,Yi.concatBytes)(c,e,l,Zi(0,1),o));u[0]=r((0,Yi.concatBytes)(d,Zi(1,1),o));for(let e=1;e<=s;e++){const t=[Xi(d,u[e-1]),Zi(e+1,1),o];u[e]=r((0,Yi.concatBytes)(...t))}return(0,Yi.concatBytes)(...u).slice(0,n)}function ta(e,t,n,r,i){if((0,Yi.abytes)(e),(0,Yi.abytes)(t),Qi(n),t.length>255){const e=Math.ceil(2*r/8);t=i.create({dkLen:e}).update((0,Yi.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(Zi(n,2)).update(t).update(Zi(t.length,1)).digest()}function na(e,t,n){(0,Yi.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:a,hash:s,expand:o,DST:c}=n;(0,Yi.abytes)(e),Qi(t);const l="string"==typeof c?(0,Yi.utf8ToBytes)(c):c,u=r.toString(2).length,d=Math.ceil((u+i)/8),f=t*a*d;let p;if("xmd"===o)p=ea(e,l,f,s);else if("xof"===o)p=ta(e,l,f,i,s);else{if("_internal_pass"!==o)throw new Error('expand must be "xmd" or "xof"');p=e}const h=new Array(t);for(let e=0;e<t;e++){const t=new Array(a);for(let n=0;n<a;n++){const i=d*(n+e*a),s=p.subarray(i,i+d);t[n]=(0,Gi.mod)(Ji(s),r)}h[e]=t}return h}var ra={};Object.defineProperty(ra,"__esModule",{value:!0}),ra.montgomery=function(e){const t=function(e){return(0,aa.validateObject)(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}(e),{P:n}=t,r=e=>(0,ia.mod)(e,n),i=t.montgomeryBits,a=Math.ceil(i/8),s=t.nByteLength,o=t.adjustScalarBytes||(e=>e),c=t.powPminus2||(e=>(0,ia.pow)(e,n-BigInt(2),n));function l(e,t,n){const i=r(e*(t-n));return[t=r(t-i),n=r(n+i)]}const u=(t.a-BigInt(2))/BigInt(4);function d(e){return(0,aa.numberToBytesLE)(r(e),a)}function f(e,t){const f=function(e){const t=(0,aa.ensureBytes)("u coordinate",e,a);return 32===s&&(t[31]&=127),(0,aa.bytesToNumberLE)(t)}(t),p=function(e){const t=(0,aa.ensureBytes)("scalar",e),n=t.length;if(n!==a&&n!==s)throw new Error(`Expected ${a} or ${s} bytes, got ${n}`);return(0,aa.bytesToNumberLE)(o(t))}(e),h=function(e,t){(0,aa.aInRange)("u",e,sa,n),(0,aa.aInRange)("scalar",t,sa,n);const a=t,s=e;let o,d=oa,f=sa,p=e,h=oa,b=sa;for(let e=BigInt(i-1);e>=sa;e--){const t=a>>e&oa;b^=t,o=l(b,d,p),d=o[0],p=o[1],o=l(b,f,h),f=o[0],h=o[1],b=t;const n=d+f,i=r(n*n),c=d-f,y=r(c*c),m=i-y,g=p+h,w=r((p-h)*n),v=r(g*c),E=w+v,x=w-v;p=r(E*E),h=r(s*r(x*x)),d=r(i*y),f=r(m*(i+r(u*m)))}o=l(b,d,p),d=o[0],p=o[1],o=l(b,f,h),f=o[0],h=o[1];const y=c(f);return r(d*y)}(f,p);if(h===sa)throw new Error("Invalid private or public key received");return d(h)}const p=d(t.Gu);function h(e){return f(e,p)}return{scalarMult:f,scalarMultBase:h,getSharedSecret:(e,t)=>f(e,t),getPublicKey:e=>h(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:p}};const ia=Kr,aa=Wr,sa=BigInt(0),oa=BigInt(1);!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.edwardsToMontgomery=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0,e.edwardsToMontgomeryPub=x,e.edwardsToMontgomeryPriv=function(e){const t=v.hash(e.subarray(0,32));return v.adjustScalarBytes(t).subarray(0,32)};const t=Kn,n=nr,r=Hr,i=Vi,a=Kr,s=ra,o=Wr,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),u=BigInt(0),d=BigInt(1),f=BigInt(2),p=BigInt(3),h=BigInt(5),b=BigInt(8);function y(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=c,o=e*e%s*e%s,l=(0,a.pow2)(o,f,s)*o%s,u=(0,a.pow2)(l,d,s)*e%s,p=(0,a.pow2)(u,h,s)*u%s,b=(0,a.pow2)(p,t,s)*p%s,y=(0,a.pow2)(b,n,s)*b%s,m=(0,a.pow2)(y,r,s)*y%s,g=(0,a.pow2)(m,i,s)*m%s,w=(0,a.pow2)(g,i,s)*m%s,v=(0,a.pow2)(w,t,s)*p%s;return{pow_p_5_8:(0,a.pow2)(v,f,s)*e%s,b2:o}}function m(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function g(e,t){const n=c,r=(0,a.mod)(t*t*t,n),i=y(e*(0,a.mod)(r*r*t,n)).pow_p_5_8;let s=(0,a.mod)(e*r*i,n);const o=(0,a.mod)(t*s*s,n),u=s,d=(0,a.mod)(s*l,n),f=o===e,p=o===(0,a.mod)(-e,n),h=o===(0,a.mod)(-e*l,n);return f&&(s=u),(p||h)&&(s=d),(0,a.isNegativeLE)(s,n)&&(s=(0,a.mod)(-s,n)),{isValid:f||p,value:s}}e.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const w=(0,a.Field)(c,void 0,!0),v={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:w,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:b,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:t.sha512,randomBytes:n.randomBytes,adjustScalarBytes:m,uvRatio:g};function E(e,t,r){if(t.length>255)throw new Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}function x(t){const{y:n}=e.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return w.toBytes(w.create((r+n)*w.inv(r-n)))}e.ed25519=(0,r.twistedEdwards)(v),e.ed25519ctx=(0,r.twistedEdwards)({...v,domain:E}),e.ed25519ph=(0,r.twistedEdwards)(Object.assign({},v,{domain:E,prehash:t.sha512})),e.x25519=(0,s.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=c,{pow_p_5_8:n,b2:r}=y(e);return(0,a.mod)((0,a.pow2)(n,p,t)*r,t)},adjustScalarBytes:m,randomBytes:n.randomBytes}),e.edwardsToMontgomery=x;const S=(w.ORDER+p)/b,T=w.pow(f,S),A=w.sqrt(w.neg(w.ONE)),_=(0,a.FpSqrtEven)(w,w.neg(BigInt(486664))),C=(0,i.createHasher)(e.ed25519.ExtendedPoint,e=>function(e){const{xMn:t,xMd:n,yMn:r,yMd:i}=function(e){const t=(w.ORDER-h)/b,n=BigInt(486662);let r=w.sqr(e);r=w.mul(r,f);let i=w.add(r,w.ONE),a=w.neg(n),s=w.sqr(i),o=w.mul(s,i),c=w.mul(r,n);c=w.mul(c,a),c=w.add(c,s),c=w.mul(c,a);let l=w.sqr(o);s=w.sqr(l),l=w.mul(l,o),l=w.mul(l,c),s=w.mul(s,l);let u=w.pow(s,t);u=w.mul(u,l);let p=w.mul(u,A);s=w.sqr(u),s=w.mul(s,o);let y=w.eql(s,c),m=w.cmov(p,u,y),g=w.mul(a,r),v=w.mul(u,e);v=w.mul(v,T);let E=w.mul(v,A),x=w.mul(c,r);s=w.sqr(v),s=w.mul(s,o);let S=w.eql(s,x),_=w.cmov(E,v,S);s=w.sqr(m),s=w.mul(s,o);let C=w.eql(s,c),k=w.cmov(g,a,C),I=w.cmov(_,m,C),P=w.isOdd(I);return I=w.cmov(I,w.neg(I),C!==P),{xMn:k,xMd:i,yMn:I,yMd:d}}(e);let a=w.mul(t,i);a=w.mul(a,_);let s=w.mul(n,r),o=w.sub(t,n),c=w.add(t,n),l=w.mul(s,c),u=w.eql(l,w.ZERO);a=w.cmov(a,w.ZERO,u),s=w.cmov(s,w.ONE,u),o=w.cmov(o,w.ONE,u),c=w.cmov(c,w.ONE,u);const p=w.invertBatch([s,c]);return{x:w.mul(a,p[0]),y:w.mul(o,p[1])}}(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:w.ORDER,m:1,k:128,expand:"xmd",hash:t.sha512});function k(e){if(!(e instanceof j))throw new Error("RistrettoPoint expected")}e.hashToCurve=C.hashToCurve,e.encodeToCurve=C.encodeToCurve;const I=l,P=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),O=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),M=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),R=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),N=e=>g(d,e),L=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),D=t=>e.ed25519.CURVE.Fp.create((0,o.bytesToNumberLE)(t)&L);function B(t){const{d:n}=e.ed25519.CURVE,r=e.ed25519.CURVE.Fp.ORDER,i=e.ed25519.CURVE.Fp.create,s=i(I*t*t),o=i((s+d)*M);let c=BigInt(-1);const l=i((c-n*s)*i(s+n));let{isValid:u,value:f}=g(o,l),p=i(f*t);(0,a.isNegativeLE)(p,r)||(p=i(-p)),u||(f=p),u||(c=s);const h=i(c*(s-d)*R-l),b=f*f,y=i((f+f)*l),m=i(h*P),w=i(d-b),v=i(d+b);return new e.ed25519.ExtendedPoint(i(y*v),i(w*m),i(m*v),i(y*w))}class j{constructor(e){this.ep=e}static fromAffine(t){return new j(e.ed25519.ExtendedPoint.fromAffine(t))}static hashToCurve(e){e=(0,o.ensureBytes)("ristrettoHash",e,64);const t=B(D(e.slice(0,32))),n=B(D(e.slice(32,64)));return new j(t.add(n))}static fromHex(t){t=(0,o.ensureBytes)("ristrettoHex",t,32);const{a:n,d:r}=e.ed25519.CURVE,i=e.ed25519.CURVE.Fp.ORDER,s=e.ed25519.CURVE.Fp.create,c="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",l=D(t);if(!(0,o.equalBytes)((0,o.numberToBytesLE)(l,32),t)||(0,a.isNegativeLE)(l,i))throw new Error(c);const f=s(l*l),p=s(d+n*f),h=s(d-n*f),b=s(p*p),y=s(h*h),m=s(n*r*b-y),{isValid:g,value:w}=N(s(m*y)),v=s(w*h),E=s(w*v*m);let x=s((l+l)*v);(0,a.isNegativeLE)(x,i)&&(x=s(-x));const S=s(p*E),T=s(x*S);if(!g||(0,a.isNegativeLE)(T,i)||S===u)throw new Error(c);return new j(new e.ed25519.ExtendedPoint(x,S,d,T))}toRawBytes(){let{ex:t,ey:n,ez:r,et:i}=this.ep;const s=e.ed25519.CURVE.Fp.ORDER,c=e.ed25519.CURVE.Fp.create,l=c(c(r+n)*c(r-n)),u=c(t*n),d=c(u*u),{value:f}=N(c(l*d)),p=c(f*l),h=c(f*u),b=c(p*h*i);let y;if((0,a.isNegativeLE)(i*b,s)){let e=c(n*I),r=c(t*I);t=e,n=r,y=c(p*O)}else y=h;(0,a.isNegativeLE)(t*b,s)&&(n=c(-n));let m=c((r-n)*y);return(0,a.isNegativeLE)(m,s)&&(m=c(-m)),(0,o.numberToBytesLE)(m,32)}toHex(){return(0,o.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(t){k(t);const{ex:n,ey:r}=this.ep,{ex:i,ey:a}=t.ep,s=e.ed25519.CURVE.Fp.create,o=s(n*a)===s(r*i),c=s(r*a)===s(n*i);return o||c}add(e){return k(e),new j(this.ep.add(e.ep))}subtract(e){return k(e),new j(this.ep.subtract(e.ep))}multiply(e){return new j(this.ep.multiply(e))}multiplyUnsafe(e){return new j(this.ep.multiplyUnsafe(e))}double(){return new j(this.ep.double())}negate(){return new j(this.ep.negate())}}e.RistrettoPoint=(j.BASE||(j.BASE=new j(e.ed25519.ExtendedPoint.BASE)),j.ZERO||(j.ZERO=new j(e.ed25519.ExtendedPoint.ZERO)),j),e.hashToRistretto255=(e,r)=>{const a=r.DST,s="string"==typeof a?(0,n.utf8ToBytes)(a):a,o=(0,i.expand_message_xmd)(e,s,64,t.sha512);return j.hashToCurve(o)},e.hash_to_ristretto255=e.hashToRistretto255}(qn);var ca={},la={};Object.defineProperty(la,"__esModule",{value:!0}),la.sha224=la.sha256=la.SHA256=void 0;const ua=Wn,da=nr,fa=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ha=new Uint32Array(64);class ba extends ua.HashMD{constructor(){super(64,32,8,!1),this.A=0|pa[0],this.B=0|pa[1],this.C=0|pa[2],this.D=0|pa[3],this.E=0|pa[4],this.F=0|pa[5],this.G=0|pa[6],this.H=0|pa[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:a,G:s,H:o}=this;return[e,t,n,r,i,a,s,o]}set(e,t,n,r,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)ha[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=ha[e-15],n=ha[e-2],r=(0,da.rotr)(t,7)^(0,da.rotr)(t,18)^t>>>3,i=(0,da.rotr)(n,17)^(0,da.rotr)(n,19)^n>>>10;ha[e]=i+ha[e-7]+r+ha[e-16]|0}let{A:n,B:r,C:i,D:a,E:s,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+((0,da.rotr)(s,6)^(0,da.rotr)(s,11)^(0,da.rotr)(s,25))+(0,ua.Chi)(s,o,c)+fa[e]+ha[e]|0,u=((0,da.rotr)(n,2)^(0,da.rotr)(n,13)^(0,da.rotr)(n,22))+(0,ua.Maj)(n,r,i)|0;l=c,c=o,o=s,s=a+t|0,a=i,i=r,r=n,n=t+u|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,a,s,o,c,l)}roundClean(){ha.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}la.SHA256=ba;class ya extends ba{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}la.sha256=(0,da.wrapConstructor)(()=>new ba),la.sha224=(0,da.wrapConstructor)(()=>new ya);var ma={},ga={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=Vn,n=nr;class r extends n.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(e);const i=(0,n.toBytes)(r);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,s=new Uint8Array(a);s.set(i.length>a?e.create().update(i).digest():i);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,t.exists)(this),this.iHash.update(e),this}digestInto(e){(0,t.exists)(this),(0,t.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=r,e.hmac=(e,t,n)=>new r(e,t).update(n).digest(),e.hmac.create=(e,t)=>new r(e,t)}(ga);var wa={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DER=void 0,e.weierstrassPoints=p,e.weierstrass=function(s){const o=function(e){const n=(0,t.validateBasic)(e);return r.validateObject(n,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...n})}(s),{Fp:u,n:d}=o,f=u.BYTES+1,h=2*u.BYTES+1;function b(e){return n.mod(e,d)}function y(e){return n.invert(e,d)}const{ProjectivePoint:m,normPrivateKeyToScalar:g,weierstrassEquation:w,isWithinCurveOrder:v}=p({...o,toBytes(e,t,n){const a=t.toAffine(),s=u.toBytes(a.x),o=r.concatBytes;return(0,i.abool)("isCompressed",n),n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,u.toBytes(a.y))},fromBytes(e){const t=e.length,n=e[0],i=e.subarray(1);if(t!==f||2!==n&&3!==n){if(t===h&&4===n)return{x:u.fromBytes(i.subarray(0,u.BYTES)),y:u.fromBytes(i.subarray(u.BYTES,2*u.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${f} compressed bytes or ${h} uncompressed bytes`)}{const t=r.bytesToNumberBE(i);if(!r.inRange(t,l,u.ORDER))throw new Error("Point is not on curve");const a=w(t);let s;try{s=u.sqrt(a)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!=((s&l)===l)&&(s=u.neg(s)),{x:t,y:s}}}}),E=e=>r.bytesToHex(r.numberToBytesBE(e,o.nByteLength));function x(e){return e>d>>l}const S=(e,t,n)=>r.bytesToNumberBE(e.slice(t,n));class T{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const t=o.nByteLength;return e=(0,i.ensureBytes)("compactSignature",e,2*t),new T(S(e,0,t),S(e,t,2*t))}static fromDER(t){const{r:n,s:r}=e.DER.toSig((0,i.ensureBytes)("DER",t));return new T(n,r)}assertValidity(){r.aInRange("r",this.r,l,d),r.aInRange("s",this.s,l,d)}addRecoveryBit(e){return new T(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:n,recovery:r}=this,a=k((0,i.ensureBytes)("msgHash",e));if(null==r||![0,1,2,3].includes(r))throw new Error("recovery id invalid");const s=2===r||3===r?t+o.n:t;if(s>=u.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=1&r?"03":"02",l=m.fromHex(c+E(s)),d=y(s),f=b(-a*d),p=b(n*d),h=m.BASE.multiplyAndAddUnsafe(l,f,p);if(!h)throw new Error("point at infinify");return h.assertValidity(),h}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new T(this.r,b(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const A={isValidPrivateKey(e){try{return g(e),!0}catch(e){return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const e=n.getMinHashLength(o.n);return n.mapHashToField(o.randomBytes(e),o.n)},precompute:(e=8,t=m.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function _(e){const t=r.isBytes(e),n="string"==typeof e,i=(t||n)&&e.length;return t?i===f||i===h:n?i===2*f||i===2*h:e instanceof m}const C=o.bits2int||function(e){const t=r.bytesToNumberBE(e),n=8*e.length-o.nBitLength;return n>0?t>>BigInt(n):t},k=o.bits2int_modN||function(e){return b(C(e))},I=r.bitMask(o.nBitLength);function P(e){return r.aInRange(`num < 2^${o.nBitLength}`,e,c,I),r.numberToBytesBE(e,o.nByteLength)}function O(e,t,n=M){if(["recovered","canonical"].some(e=>e in n))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:d}=o;let{lowS:f,prehash:p,extraEntropy:h}=n;null==f&&(f=!0),e=(0,i.ensureBytes)("msgHash",e),a(n),p&&(e=(0,i.ensureBytes)("prehashed msgHash",s(e)));const w=k(e),E=g(t),S=[P(E),P(w)];if(null!=h&&!1!==h){const e=!0===h?d(u.BYTES):h;S.push((0,i.ensureBytes)("extraEntropy",e))}const A=r.concatBytes(...S),_=w;return{seed:A,k2sig:function(e){const t=C(e);if(!v(t))return;const n=y(t),r=m.BASE.multiply(t).toAffine(),i=b(r.x);if(i===c)return;const a=b(n*b(_+i*E));if(a===c)return;let s=(r.x===i?0:2)|Number(r.y&l),o=a;return f&&x(a)&&(o=function(e){return x(e)?b(-e):e}(a),s^=1),new T(i,o,s)}}}const M={lowS:o.lowS,prehash:!1},R={lowS:o.lowS,prehash:!1};return m.BASE._setWindowSize(8),{CURVE:o,getPublicKey:function(e,t=!0){return m.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(_(e))throw new Error("first arg must be private key");if(!_(t))throw new Error("second arg must be public key");return m.fromHex(t).multiply(g(e)).toRawBytes(n)},sign:function(e,t,n=M){const{seed:i,k2sig:a}=O(e,t,n),s=o;return r.createHmacDrbg(s.hash.outputLen,s.nByteLength,s.hmac)(i,a)},verify:function(t,n,s,c=R){const l=t;if(n=(0,i.ensureBytes)("msgHash",n),s=(0,i.ensureBytes)("publicKey",s),"strict"in c)throw new Error("options.strict was renamed to lowS");a(c);const{lowS:u,prehash:d}=c;let f,p;try{if("string"==typeof l||r.isBytes(l))try{f=T.fromDER(l)}catch(t){if(!(t instanceof e.DER.Err))throw t;f=T.fromCompact(l)}else{if("object"!=typeof l||"bigint"!=typeof l.r||"bigint"!=typeof l.s)throw new Error("PARSE");{const{r:e,s:t}=l;f=new T(e,t)}}p=m.fromHex(s)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;d&&(n=o.hash(n));const{r:h,s:g}=f,w=k(n),v=y(g),E=b(w*v),x=b(h*v),S=m.BASE.multiplyAndAddUnsafe(p,E,x)?.toAffine();return!!S&&b(S.x)===h},ProjectivePoint:m,Signature:T,utils:A}},e.SWUFpSqrtRatio=h,e.mapToCurveSimpleSWU=function(e,t){if(n.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=h(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,a,s,o,c,l,u,d;i=e.sqr(n),i=e.mul(i,t.Z),a=e.sqr(i),a=e.add(a,i),s=e.add(a,e.ONE),s=e.mul(s,t.B),o=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),o=e.mul(o,t.A),a=e.sqr(s),l=e.sqr(o),c=e.mul(l,t.A),a=e.add(a,c),a=e.mul(a,s),l=e.mul(l,o),c=e.mul(l,t.B),a=e.add(a,c),u=e.mul(i,s);const{isValid:f,value:p}=r(a,l);d=e.mul(i,n),d=e.mul(d,p),u=e.cmov(u,s,f),d=e.cmov(d,p,f);const h=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,h),u=e.div(u,o),{x:u,y:d}}};const t=qr,n=Kr,r=Wr,i=Wr;function a(e){void 0!==e.lowS&&(0,i.abool)("lowS",e.lowS),void 0!==e.prehash&&(0,i.abool)("prehash",e.prehash)}const{bytesToNumberBE:s,hexToBytes:o}=r;e.DER={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,n)=>{const{Err:i}=e.DER;if(t<0||t>256)throw new i("tlv.encode: wrong tag");if(1&n.length)throw new i("tlv.encode: unpadded data");const a=n.length/2,s=r.numberToHexUnpadded(a);if(s.length/2&128)throw new i("tlv.encode: long form length too big");const o=a>127?r.numberToHexUnpadded(s.length/2|128):"";return`${r.numberToHexUnpadded(t)}${o}${s}${n}`},decode(t,n){const{Err:r}=e.DER;let i=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(n.length<2||n[i++]!==t)throw new r("tlv.decode: wrong tlv");const a=n[i++];let s=0;if(128&a){const e=127&a;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const t=n.subarray(i,i+e);if(t.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===t[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of t)s=s<<8|e;if(i+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=a;const o=n.subarray(i,i+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:n.subarray(i+s)}}},_int:{encode(t){const{Err:n}=e.DER;if(t<c)throw new n("integer: negative integers are not allowed");let i=r.numberToHexUnpadded(t);if(8&Number.parseInt(i[0],16)&&(i="00"+i),1&i.length)throw new n("unexpected assertion");return i},decode(t){const{Err:n}=e.DER;if(128&t[0])throw new n("Invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new n("Invalid signature integer: unnecessary leading zero");return s(t)}},toSig(t){const{Err:n,_int:i,_tlv:a}=e.DER,s="string"==typeof t?o(t):t;r.abytes(s);const{v:c,l}=a.decode(48,s);if(l.length)throw new n("Invalid signature: left bytes after parsing");const{v:u,l:d}=a.decode(2,c),{v:f,l:p}=a.decode(2,d);if(p.length)throw new n("Invalid signature: left bytes after parsing");return{r:i.decode(u),s:i.decode(f)}},hexFromSig(t){const{_tlv:n,_int:r}=e.DER,i=`${n.encode(2,r.encode(t.r))}${n.encode(2,r.encode(t.s))}`;return n.encode(48,i)}};const c=BigInt(0),l=BigInt(1),u=BigInt(2),d=BigInt(3),f=BigInt(4);function p(e){const a=function(e){const n=(0,t.validateBasic)(e);r.validateObject(n,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:i,Fp:a,a:s}=n;if(i){if(!a.eql(s,a.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof i||"bigint"!=typeof i.beta||"function"!=typeof i.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...n})}(e),{Fp:s}=a,o=n.Field(a.n,a.nBitLength),u=a.toBytes||((e,t,n)=>{const i=t.toAffine();return r.concatBytes(Uint8Array.from([4]),s.toBytes(i.x),s.toBytes(i.y))}),f=a.fromBytes||(e=>{const t=e.subarray(1);return{x:s.fromBytes(t.subarray(0,s.BYTES)),y:s.fromBytes(t.subarray(s.BYTES,2*s.BYTES))}});function p(e){const{a:t,b:n}=a,r=s.sqr(e),i=s.mul(r,e);return s.add(s.add(i,s.mul(e,t)),n)}if(!s.eql(s.sqr(a.Gy),p(a.Gx)))throw new Error("bad generator point: equation left != right");function h(e){const{allowedPrivateKeyLengths:t,nByteLength:s,wrapPrivateKey:o,n:c}=a;if(t&&"bigint"!=typeof e){if(r.isBytes(e)&&(e=r.bytesToHex(e)),"string"!=typeof e||!t.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}let u;try{u="bigint"==typeof e?e:r.bytesToNumberBE((0,i.ensureBytes)("private key",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return o&&(u=n.mod(u,c)),r.aInRange("private key",u,l,c),u}function b(e){if(!(e instanceof g))throw new Error("ProjectivePoint expected")}const y=(0,i.memoized)((e,t)=>{const{px:n,py:r,pz:i}=e;if(s.eql(i,s.ONE))return{x:n,y:r};const a=e.is0();null==t&&(t=a?s.ONE:s.inv(i));const o=s.mul(n,t),c=s.mul(r,t),l=s.mul(i,t);if(a)return{x:s.ZERO,y:s.ZERO};if(!s.eql(l,s.ONE))throw new Error("invZ was invalid");return{x:o,y:c}}),m=(0,i.memoized)(e=>{if(e.is0()){if(a.allowInfinityPoint&&!s.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:t,y:n}=e.toAffine();if(!s.isValid(t)||!s.isValid(n))throw new Error("bad point: x or y not FE");const r=s.sqr(n),i=p(t);if(!s.eql(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!s.isValid(e))throw new Error("x required");if(null==t||!s.isValid(t))throw new Error("y required");if(null==n||!s.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!s.isValid(t)||!s.isValid(n))throw new Error("invalid affine point");if(e instanceof g)throw new Error("projective point not allowed");const r=e=>s.eql(e,s.ZERO);return r(t)&&r(n)?g.ZERO:new g(t,n,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=s.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(g.fromAffine)}static fromHex(e){const t=g.fromAffine(f((0,i.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return g.BASE.multiply(h(e))}static msm(e,n){return(0,t.pippenger)(g,o,e,n)}_setWindowSize(e){v.setWindowSize(this,e)}assertValidity(){m(this)}hasEvenY(){const{y:e}=this.toAffine();if(s.isOdd)return!s.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){b(e);const{px:t,py:n,pz:r}=this,{px:i,py:a,pz:o}=e,c=s.eql(s.mul(t,o),s.mul(i,r)),l=s.eql(s.mul(n,o),s.mul(a,r));return c&&l}negate(){return new g(this.px,s.neg(this.py),this.pz)}double(){const{a:e,b:t}=a,n=s.mul(t,d),{px:r,py:i,pz:o}=this;let c=s.ZERO,l=s.ZERO,u=s.ZERO,f=s.mul(r,r),p=s.mul(i,i),h=s.mul(o,o),b=s.mul(r,i);return b=s.add(b,b),u=s.mul(r,o),u=s.add(u,u),c=s.mul(e,u),l=s.mul(n,h),l=s.add(c,l),c=s.sub(p,l),l=s.add(p,l),l=s.mul(c,l),c=s.mul(b,c),u=s.mul(n,u),h=s.mul(e,h),b=s.sub(f,h),b=s.mul(e,b),b=s.add(b,u),u=s.add(f,f),f=s.add(u,f),f=s.add(f,h),f=s.mul(f,b),l=s.add(l,f),h=s.mul(i,o),h=s.add(h,h),f=s.mul(h,b),c=s.sub(c,f),u=s.mul(h,p),u=s.add(u,u),u=s.add(u,u),new g(c,l,u)}add(e){b(e);const{px:t,py:n,pz:r}=this,{px:i,py:o,pz:c}=e;let l=s.ZERO,u=s.ZERO,f=s.ZERO;const p=a.a,h=s.mul(a.b,d);let y=s.mul(t,i),m=s.mul(n,o),w=s.mul(r,c),v=s.add(t,n),E=s.add(i,o);v=s.mul(v,E),E=s.add(y,m),v=s.sub(v,E),E=s.add(t,r);let x=s.add(i,c);return E=s.mul(E,x),x=s.add(y,w),E=s.sub(E,x),x=s.add(n,r),l=s.add(o,c),x=s.mul(x,l),l=s.add(m,w),x=s.sub(x,l),f=s.mul(p,E),l=s.mul(h,w),f=s.add(l,f),l=s.sub(m,f),f=s.add(m,f),u=s.mul(l,f),m=s.add(y,y),m=s.add(m,y),w=s.mul(p,w),E=s.mul(h,E),m=s.add(m,w),w=s.sub(y,w),w=s.mul(p,w),E=s.add(E,w),y=s.mul(m,E),u=s.add(u,y),y=s.mul(x,E),l=s.mul(v,l),l=s.sub(l,y),y=s.mul(v,m),f=s.mul(x,f),f=s.add(f,y),new g(l,u,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(g.ZERO)}wNAF(e){return v.wNAFCached(this,e,g.normalizeZ)}multiplyUnsafe(e){r.aInRange("scalar",e,c,a.n);const t=g.ZERO;if(e===c)return t;if(e===l)return this;const{endo:n}=a;if(!n)return v.unsafeLadder(this,e);let{k1neg:i,k1:o,k2neg:u,k2:d}=n.splitScalar(e),f=t,p=t,h=this;for(;o>c||d>c;)o&l&&(f=f.add(h)),d&l&&(p=p.add(h)),h=h.double(),o>>=l,d>>=l;return i&&(f=f.negate()),u&&(p=p.negate()),p=new g(s.mul(p.px,n.beta),p.py,p.pz),f.add(p)}multiply(e){const{endo:t,n}=a;let i,o;if(r.aInRange("scalar",e,l,n),t){const{k1neg:n,k1:r,k2neg:a,k2:c}=t.splitScalar(e);let{p:l,f:u}=this.wNAF(r),{p:d,f}=this.wNAF(c);l=v.constTimeNegate(n,l),d=v.constTimeNegate(a,d),d=new g(s.mul(d.px,t.beta),d.py,d.pz),i=l.add(d),o=u.add(f)}else{const{p:t,f:n}=this.wNAF(e);i=t,o=n}return g.normalizeZ([i,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=g.BASE,i=(e,t)=>t!==c&&t!==l&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,n));return a.is0()?void 0:a}toAffine(e){return y(this,e)}isTorsionFree(){const{h:e,isTorsionFree:t}=a;if(e===l)return!0;if(t)return t(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:t}=a;return e===l?this:t?t(g,this):this.multiplyUnsafe(a.h)}toRawBytes(e=!0){return(0,i.abool)("isCompressed",e),this.assertValidity(),u(g,this,e)}toHex(e=!0){return(0,i.abool)("isCompressed",e),r.bytesToHex(this.toRawBytes(e))}}g.BASE=new g(a.Gx,a.Gy,s.ONE),g.ZERO=new g(s.ZERO,s.ONE,s.ZERO);const w=a.nBitLength,v=(0,t.wNAF)(g,a.endo?Math.ceil(w/2):w);return{CURVE:a,ProjectivePoint:g,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:function(e){return r.inRange(e,l,a.n)}}}function h(e,t){const n=e.ORDER;let r=c;for(let e=n-l;e%u===c;e/=u)r+=l;const i=r,a=u<<i-l-l,s=a*u,o=(n-l)/s,p=(o-l)/u,h=s-l,b=a,y=e.pow(t,o),m=e.pow(t,(o+l)/u);let g=(t,n)=>{let r=y,a=e.pow(n,h),s=e.sqr(a);s=e.mul(s,n);let o=e.mul(t,s);o=e.pow(o,p),o=e.mul(o,a),a=e.mul(o,n),s=e.mul(o,t);let c=e.mul(s,a);o=e.pow(c,b);let d=e.eql(o,e.ONE);a=e.mul(s,m),o=e.mul(c,r),s=e.cmov(a,s,d),c=e.cmov(o,c,d);for(let t=i;t>l;t--){let n=t-u;n=u<<n-l;let i=e.pow(c,n);const o=e.eql(i,e.ONE);a=e.mul(s,r),r=e.mul(r,r),i=e.mul(c,r),s=e.cmov(a,s,o),c=e.cmov(i,c,o)}return{isValid:d,value:s}};if(e.ORDER%f===d){const n=(e.ORDER-d)/f,r=e.sqrt(e.neg(t));g=(t,i)=>{let a=e.sqr(i);const s=e.mul(t,i);a=e.mul(a,s);let o=e.pow(a,n);o=e.mul(o,s);const c=e.mul(o,r),l=e.mul(e.sqr(o),i),u=e.eql(l,t);return{isValid:u,value:e.cmov(c,o,u)}}}return g}}(wa),Object.defineProperty(ma,"__esModule",{value:!0}),ma.getHash=Sa,ma.createCurve=function(e,t){const n=t=>(0,xa.weierstrass)({...e,...Sa(t)});return Object.freeze({...n(t),create:n})};const va=ga,Ea=nr,xa=wa;function Sa(e){return{hash:e,hmac:(t,...n)=>(0,va.hmac)(e,t,(0,Ea.concatBytes)(...n)),randomBytes:Ea.randomBytes}}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;const t=la,n=nr,r=ma,i=Vi,a=Kr,s=Wr,o=wa,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u=BigInt(1),d=BigInt(2),f=(e,t)=>(e+t/d)/t;function p(e){const t=c,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),l=BigInt(44),u=BigInt(88),f=e*e*e%t,p=f*f*e%t,b=(0,a.pow2)(p,n,t)*p%t,y=(0,a.pow2)(b,n,t)*p%t,m=(0,a.pow2)(y,d,t)*f%t,g=(0,a.pow2)(m,i,t)*m%t,w=(0,a.pow2)(g,s,t)*g%t,v=(0,a.pow2)(w,l,t)*w%t,E=(0,a.pow2)(v,u,t)*v%t,x=(0,a.pow2)(E,l,t)*w%t,S=(0,a.pow2)(x,n,t)*p%t,T=(0,a.pow2)(S,o,t)*g%t,A=(0,a.pow2)(T,r,t)*f%t,_=(0,a.pow2)(A,d,t);if(!h.eql(h.sqr(_),e))throw new Error("Cannot find square root");return _}const h=(0,a.Field)(c,void 0,void 0,{sqrt:p});e.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:h,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=l,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),c=f(s*e,t),d=f(-r*e,t);let p=(0,a.mod)(e-c*n-d*i,t),h=(0,a.mod)(-c*r-d*s,t);const b=p>o,y=h>o;if(b&&(p=t-p),y&&(h=t-h),p>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:b,k1:p,k2neg:y,k2:h}}}},t.sha256);const b=BigInt(0),y={};function m(e,...n){let r=y[e];if(void 0===r){const n=(0,t.sha256)(Uint8Array.from(e,e=>e.charCodeAt(0)));r=(0,s.concatBytes)(n,n),y[e]=r}return(0,t.sha256)((0,s.concatBytes)(r,...n))}const g=e=>e.toRawBytes(!0).slice(1),w=e=>(0,s.numberToBytesBE)(e,32),v=e=>(0,a.mod)(e,c),E=e=>(0,a.mod)(e,l),x=e.secp256k1.ProjectivePoint;function S(t){let n=e.secp256k1.utils.normPrivateKeyToScalar(t),r=x.fromPrivateKey(n);return{scalar:r.hasEvenY()?n:E(-n),bytes:g(r)}}function T(e){(0,s.aInRange)("x",e,u,c);const t=v(e*e);let n=p(v(t*e+BigInt(7)));n%d!==b&&(n=v(-n));const r=new x(e,n,u);return r.assertValidity(),r}const A=s.bytesToNumberBE;function _(...e){return E(A(m("BIP0340/challenge",...e)))}function C(e,t,n){const r=(0,s.ensureBytes)("signature",e,64),i=(0,s.ensureBytes)("message",t),a=(0,s.ensureBytes)("publicKey",n,32);try{const e=T(A(a)),t=A(r.subarray(0,32));if(!(0,s.inRange)(t,u,c))return!1;const n=A(r.subarray(32,64));if(!(0,s.inRange)(n,u,l))return!1;const o=_(w(t),g(e),i),d=((e,t,n)=>x.BASE.multiplyAndAddUnsafe(e,t,n))(e,n,E(-o));return!(!d||!d.hasEvenY()||d.toAffine().x!==t)}catch(e){return!1}}e.schnorr={getPublicKey:function(e){return S(e).bytes},sign:function(e,t,r=(0,n.randomBytes)(32)){const i=(0,s.ensureBytes)("message",e),{bytes:a,scalar:o}=S(t),c=(0,s.ensureBytes)("auxRand",r,32),l=w(o^A(m("BIP0340/aux",c))),u=m("BIP0340/nonce",l,a,i),d=E(A(u));if(d===b)throw new Error("sign failed: k is zero");const{bytes:f,scalar:p}=S(d),h=_(f,a,i),y=new Uint8Array(64);if(y.set(f,0),y.set(w(E(p+h*o)),32),!C(y,i,a))throw new Error("sign: Invalid signature produced");return y},verify:C,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:T,pointToBytes:g,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:m,mod:a.mod}};const k=(0,i.isogenyMap)(h,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))),I=(0,o.mapToCurveSimpleSWU)(h,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:h.create(BigInt("-11"))}),P=(0,i.createHasher)(e.secp256k1.ProjectivePoint,e=>{const{x:t,y:n}=I(h.create(e[0]));return k(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:h.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256});e.hashToCurve=P.hashToCurve,e.encodeToCurve=P.encodeToCurve}(ca);var Ta={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHex=e.remove0x=void 0;var t=_n;e.remove0x=function(e){return e.startsWith("0x")||e.startsWith("0X")?e.slice(2):e},e.decodeHex=function(n){return(0,t.hexToBytes)((0,e.remove0x)(n))}}(Ta),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hexToPublicKey=e.convertPublicKeyFormat=e.getSharedPoint=e.getPublicKey=e.isValidPrivateKey=e.getValidSecret=void 0;var t=zn,n=qn,r=ca,i=Dn,a=Bn,s=Ta;function o(e,t,i,a){if("secp256k1"===e)return t(r.secp256k1);if("x25519"===e)return i(n.x25519);if("ed25519"===e)return a(n.ed25519);throw new Error("Not implemented")}e.getValidSecret=function(){var n;do{n=(0,t.randomBytes)(a.SECRET_KEY_LENGTH)}while(!(0,e.isValidPrivateKey)(n));return n},e.isValidPrivateKey=function(e){return o((0,i.ellipticCurve)(),function(t){return t.utils.isValidPrivateKey(e)},function(){return!0},function(){return!0})},e.getPublicKey=function(e){return o((0,i.ellipticCurve)(),function(t){return t.getPublicKey(e)},function(t){return t.getPublicKey(e)},function(t){return t.getPublicKey(e)})},e.getSharedPoint=function(e,t,n){return o((0,i.ellipticCurve)(),function(r){return r.getSharedSecret(e,t,n)},function(n){return n.getSharedSecret(e,t)},function(n){return l(n,e,t)})},e.convertPublicKeyFormat=function(e,t){return o((0,i.ellipticCurve)(),function(n){return n.getSharedSecret(BigInt(1),e,t)},function(){return e},function(){return e})},e.hexToPublicKey=function(e){var t=(0,s.decodeHex)(e);return o((0,i.ellipticCurve)(),function(){return c(t)},function(){return t},function(){return t})};var c=function(e){if(e.length===a.ETH_PUBLIC_KEY_SIZE){var t=new Uint8Array(1+e.length);return t.set([4]),t.set(e,1),t}return e},l=function(e,t,n){var r=e.utils.getExtendedPublicKey(t).scalar;return e.ExtendedPoint.fromHex(n).multiply(r).toRawBytes()}}($n);var Aa={},_a={};Object.defineProperty(_a,"__esModule",{value:!0}),_a.hkdf=void 0,_a.extract=Pa,_a.expand=Ra;const Ca=Vn,ka=nr,Ia=ga;function Pa(e,t,n){return(0,Ca.hash)(e),void 0===n&&(n=new Uint8Array(e.outputLen)),(0,Ia.hmac)(e,(0,ka.toBytes)(n),(0,ka.toBytes)(t))}const Oa=new Uint8Array([0]),Ma=new Uint8Array;function Ra(e,t,n,r=32){if((0,Ca.hash)(e),(0,Ca.number)(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=Ma);const a=new Uint8Array(i*e.outputLen),s=Ia.hmac.create(e,t),o=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let t=0;t<i;t++)Oa[0]=t+1,o.update(0===t?Ma:c).update(n).update(Oa).digestInto(c),a.set(c,e.outputLen*t),s._cloneInto(o);return s.destroy(),o.destroy(),c.fill(0),Oa.fill(0),a.slice(0,r)}_a.hkdf=(e,t,n,r,i)=>Ra(e,Pa(e,t,n),r,i),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSharedKey=e.deriveKey=void 0;var t=_n,n=_a,r=la;e.deriveKey=function(e,t,i){return(0,n.hkdf)(r.sha256,e,t,i,32)},e.getSharedKey=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(0,e.deriveKey)(t.concatBytes.apply(void 0,n))}}(Aa);var Na={},La={},Da={},Ba={};Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.polyval=Ba.ghash=void 0,Ba._toGHASHKey=qa;const ja=Cn,Ua=_n,Fa=16,$a=new Uint8Array(16),za=(0,Ua.u32)($a),Ha=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;function qa(e){e.reverse();const t=1&e[15];let n=0;for(let t=0;t<e.length;t++){const r=e[t];e[t]=r>>>1|n,n=(1&r)<<7}return e[0]^=225&-t,e}class Ka{constructor(e,t){this.blockLen=Fa,this.outputLen=Fa,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,Ua.toBytes)(e),(0,ja.bytes)(e,16);const n=(0,Ua.createView)(e);let r=n.getUint32(0,!1),i=n.getUint32(4,!1),a=n.getUint32(8,!1),s=n.getUint32(12,!1);const o=[];for(let e=0;e<128;e++)o.push({s0:Ha(r),s1:Ha(i),s2:Ha(a),s3:Ha(s)}),({s0:r,s1:i,s2:a,s3:s}={s3:(u=a)<<31|(d=s)>>>1,s2:(l=i)<<31|u>>>1,s1:(c=r)<<31|l>>>1,s0:c>>>1^225<<24&-(1&d)});var c,l,u,d;const f=(e=>e>65536?8:e>1024?4:2)(t||1024);if(![1,2,4,8].includes(f))throw new Error(`ghash: wrong window size=${f}, should be 2, 4 or 8`);this.W=f;const p=128/f,h=this.windowSize=2**f,b=[];for(let e=0;e<p;e++)for(let t=0;t<h;t++){let n=0,r=0,i=0,a=0;for(let s=0;s<f;s++){if(!(t>>>f-s-1&1))continue;const{s0:c,s1:l,s2:u,s3:d}=o[f*e+s];n^=c,r^=l,i^=u,a^=d}b.push({s0:n,s1:r,s2:i,s3:a})}this.t=b}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;const{W:i,t:a,windowSize:s}=this;let o=0,c=0,l=0,u=0;const d=(1<<i)-1;let f=0;for(const p of[e,t,n,r])for(let e=0;e<4;e++){const t=p>>>8*e&255;for(let e=8/i-1;e>=0;e--){const n=t>>>i*e&d,{s0:r,s1:p,s2:h,s3:b}=a[f*s+n];o^=r,c^=p,l^=h,u^=b,f+=1}}this.s0=o,this.s1=c,this.s2=l,this.s3=u}update(e){e=(0,Ua.toBytes)(e),(0,ja.exists)(this);const t=(0,Ua.u32)(e),n=Math.floor(e.length/Fa),r=e.length%Fa;for(let e=0;e<n;e++)this._updateBlock(t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]);return r&&($a.set(e.subarray(n*Fa)),this._updateBlock(za[0],za[1],za[2],za[3]),(0,Ua.clean)(za)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){(0,ja.exists)(this),(0,ja.output)(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,a=(0,Ua.u32)(e);return a[0]=t,a[1]=n,a[2]=r,a[3]=i,e}digest(){const e=new Uint8Array(Fa);return this.digestInto(e),this.destroy(),e}}class Wa extends Ka{constructor(e,t){e=(0,Ua.toBytes)(e);const n=qa((0,Ua.copyBytes)(e));super(n,t),(0,Ua.clean)(n)}update(e){e=(0,Ua.toBytes)(e),(0,ja.exists)(this);const t=(0,Ua.u32)(e),n=e.length%Fa,r=Math.floor(e.length/Fa);for(let e=0;e<r;e++)this._updateBlock(Ha(t[4*e+3]),Ha(t[4*e+2]),Ha(t[4*e+1]),Ha(t[4*e+0]));return n&&($a.set(e.subarray(r*Fa)),this._updateBlock(Ha(za[3]),Ha(za[2]),Ha(za[1]),Ha(za[0])),(0,Ua.clean)(za)),this}digestInto(e){(0,ja.exists)(this),(0,ja.output)(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,a=(0,Ua.u32)(e);return a[0]=t,a[1]=n,a[2]=r,a[3]=i,e.reverse()}}function Va(e){const t=(t,n)=>e(n,t.length).update((0,Ua.toBytes)(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}Ba.ghash=Va((e,t)=>new Ka(e,t)),Ba.polyval=Va((e,t)=>new Wa(e,t)),Object.defineProperty(Da,"__esModule",{value:!0}),Da.unsafe=Da.aeskwp=Da.aeskw=Da.siv=Da.gcm=Da.cfb=Da.cbc=Da.ecb=Da.ctr=void 0,Da.expandKeyLE=us,Da.expandKeyDecLE=ds;const Ga=Cn,Ya=Ba,Ja=_n,Za=16,Xa=new Uint8Array(Za);function Qa(e){return e<<1^283&-(e>>7)}function es(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(1&t),e=Qa(e);return n}const ts=(()=>{const e=new Uint8Array(256);for(let t=0,n=1;t<256;t++,n^=Qa(n))e[t]=n;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,Ja.clean)(e),t})(),ns=ts.map((e,t)=>ts.indexOf(t)),rs=e=>e<<24|e>>>8,is=e=>e<<8|e>>>24,as=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function ss(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((n,r)=>t(e[r])),r=n.map(is),i=r.map(is),a=i.map(is),s=new Uint32Array(65536),o=new Uint32Array(65536),c=new Uint16Array(65536);for(let t=0;t<256;t++)for(let l=0;l<256;l++){const u=256*t+l;s[u]=n[t]^r[l],o[u]=i[t]^a[l],c[u]=e[t]<<8|e[l]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:i,T3:a,T01:s,T23:o}}const os=ss(ts,e=>es(e,3)<<24|e<<16|e<<8|es(e,2)),cs=ss(ns,e=>es(e,11)<<24|es(e,13)<<16|es(e,9)<<8|es(e,14)),ls=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Qa(n))e[t]=n;return e})();function us(e){(0,Ga.bytes)(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=os,r=[];(0,Ja.isAligned32)(e)||r.push(e=(0,Ja.copyBytes)(e));const i=(0,Ja.u32)(e),a=i.length,s=e=>ps(n,e,e,e,e),o=new Uint32Array(t+28);o.set(i);for(let e=a;e<o.length;e++){let t=o[e-1];e%a==0?t=s(rs(t))^ls[e/a-1]:a>6&&e%a==4&&(t=s(t)),o[e]=o[e-a]^t}return(0,Ja.clean)(...r),o}function ds(e){const t=us(e),n=t.slice(),r=t.length,{sbox2:i}=os,{T0:a,T1:s,T2:o,T3:c}=cs;for(let e=0;e<r;e+=4)for(let i=0;i<4;i++)n[e+i]=t[r-e-4+i];(0,Ja.clean)(t);for(let e=4;e<r-4;e++){const t=n[e],r=ps(i,t,t,t,t);n[e]=a[255&r]^s[r>>>8&255]^o[r>>>16&255]^c[r>>>24]}return n}function fs(e,t,n,r,i,a){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|a>>>24&255]}function ps(e,t,n,r,i){return e[255&t|65280&n]|e[r>>>16&255|i>>>16&65280]<<16}function hs(e,t,n,r,i){const{sbox2:a,T01:s,T23:o}=os;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];const l=e.length/4-2;for(let a=0;a<l;a++){const a=e[c++]^fs(s,o,t,n,r,i),l=e[c++]^fs(s,o,n,r,i,t),u=e[c++]^fs(s,o,r,i,t,n),d=e[c++]^fs(s,o,i,t,n,r);t=a,n=l,r=u,i=d}return{s0:e[c++]^ps(a,t,n,r,i),s1:e[c++]^ps(a,n,r,i,t),s2:e[c++]^ps(a,r,i,t,n),s3:e[c++]^ps(a,i,t,n,r)}}function bs(e,t,n,r,i){const{sbox2:a,T01:s,T23:o}=cs;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];const l=e.length/4-2;for(let a=0;a<l;a++){const a=e[c++]^fs(s,o,t,i,r,n),l=e[c++]^fs(s,o,n,t,i,r),u=e[c++]^fs(s,o,r,n,t,i),d=e[c++]^fs(s,o,i,r,n,t);t=a,n=l,r=u,i=d}return{s0:e[c++]^ps(a,t,i,r,n),s1:e[c++]^ps(a,n,t,i,r),s2:e[c++]^ps(a,r,n,t,i),s3:e[c++]^ps(a,i,r,n,t)}}function ys(e,t){if(void 0===t)return new Uint8Array(e);if((0,Ga.bytes)(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);if(!(0,Ja.isAligned32)(t))throw new Error("unaligned dst");return t}function ms(e,t,n,r){(0,Ga.bytes)(t,Za),(0,Ga.bytes)(n);const i=n.length;r=ys(i,r);const a=t,s=(0,Ja.u32)(a);let{s0:o,s1:c,s2:l,s3:u}=hs(e,s[0],s[1],s[2],s[3]);const d=(0,Ja.u32)(n),f=(0,Ja.u32)(r);for(let t=0;t+4<=d.length;t+=4){f[t+0]=d[t+0]^o,f[t+1]=d[t+1]^c,f[t+2]=d[t+2]^l,f[t+3]=d[t+3]^u;let n=1;for(let e=a.length-1;e>=0;e--)n=n+(255&a[e])|0,a[e]=255&n,n>>>=8;({s0:o,s1:c,s2:l,s3:u}=hs(e,s[0],s[1],s[2],s[3]))}const p=Za*Math.floor(d.length/4);if(p<i){const e=new Uint32Array([o,c,l,u]),t=(0,Ja.u8)(e);for(let e=p,a=0;e<i;e++,a++)r[e]=n[e]^t[a];(0,Ja.clean)(e)}return r}function gs(e,t,n,r,i){(0,Ga.bytes)(n,Za),(0,Ga.bytes)(r),i=ys(r.length,i);const a=n,s=(0,Ja.u32)(a),o=(0,Ja.createView)(a),c=(0,Ja.u32)(r),l=(0,Ja.u32)(i),u=t?0:12,d=r.length;let f=o.getUint32(u,t),{s0:p,s1:h,s2:b,s3:y}=hs(e,s[0],s[1],s[2],s[3]);for(let n=0;n+4<=c.length;n+=4)l[n+0]=c[n+0]^p,l[n+1]=c[n+1]^h,l[n+2]=c[n+2]^b,l[n+3]=c[n+3]^y,f=f+1>>>0,o.setUint32(u,f,t),({s0:p,s1:h,s2:b,s3:y}=hs(e,s[0],s[1],s[2],s[3]));const m=Za*Math.floor(c.length/4);if(m<d){const e=new Uint32Array([p,h,b,y]),t=(0,Ja.u8)(e);for(let e=m,n=0;e<d;e++,n++)i[e]=r[e]^t[n];(0,Ja.clean)(e)}return i}function ws(e){if((0,Ga.bytes)(e),e.length%Za!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function vs(e,t,n){(0,Ga.bytes)(e);let r=e.length;const i=r%Za;if(!t&&0!==i)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,Ja.isAligned32)(e)||(e=(0,Ja.copyBytes)(e));const a=(0,Ja.u32)(e);if(t){let e=Za-i;e||(e=Za),r+=e}const s=ys(r,n);return{b:a,o:(0,Ja.u32)(s),out:s}}function Es(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");const i=e.subarray(0,-r);for(let t=0;t<r;t++)if(e[n-t-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function xs(e){const t=new Uint8Array(16),n=(0,Ja.u32)(t);t.set(e);const r=Za-e.length;for(let e=Za-r;e<Za;e++)t[e]=r;return n}function Ss(e,t,n,r,i){const a=null==i?0:i.length,s=e.create(n,r.length+a);i&&s.update(i),s.update(r);const o=new Uint8Array(16),c=(0,Ja.createView)(o);i&&(0,Ja.setBigUint64)(c,0,BigInt(8*a),t),(0,Ja.setBigUint64)(c,8,BigInt(8*r.length),t),s.update(o);const l=s.digest();return(0,Ja.clean)(o),l}Da.ctr=(0,Ja.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function n(n,r){if((0,Ga.bytes)(n),void 0!==r&&((0,Ga.bytes)(r),!(0,Ja.isAligned32)(r)))throw new Error("unaligned destination");const i=us(e),a=(0,Ja.copyBytes)(t),s=[i,a];(0,Ja.isAligned32)(n)||s.push(n=(0,Ja.copyBytes)(n));const o=ms(i,a,n,r);return(0,Ja.clean)(...s),o}return(0,Ga.bytes)(e),(0,Ga.bytes)(t,Za),{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}}),Da.ecb=(0,Ja.wrapCipher)({blockSize:16},function(e,t={}){(0,Ga.bytes)(e);const n=!t.disablePadding;return{encrypt(t,r){const{b:i,o:a,out:s}=vs(t,n,r),o=us(e);let c=0;for(;c+4<=i.length;){const{s0:e,s1:t,s2:n,s3:r}=hs(o,i[c+0],i[c+1],i[c+2],i[c+3]);a[c++]=e,a[c++]=t,a[c++]=n,a[c++]=r}if(n){const e=xs(t.subarray(4*c)),{s0:n,s1:r,s2:i,s3:s}=hs(o,e[0],e[1],e[2],e[3]);a[c++]=n,a[c++]=r,a[c++]=i,a[c++]=s}return(0,Ja.clean)(o),s},decrypt(t,r){ws(t);const i=ds(e),a=ys(t.length,r),s=[i];(0,Ja.isAligned32)(t)||s.push(t=(0,Ja.copyBytes)(t));const o=(0,Ja.u32)(t),c=(0,Ja.u32)(a);for(let e=0;e+4<=o.length;){const{s0:t,s1:n,s2:r,s3:a}=bs(i,o[e+0],o[e+1],o[e+2],o[e+3]);c[e++]=t,c[e++]=n,c[e++]=r,c[e++]=a}return(0,Ja.clean)(...s),Es(a,n)}}}),Da.cbc=(0,Ja.wrapCipher)({blockSize:16,nonceLength:16},function(e,t,n={}){(0,Ga.bytes)(e),(0,Ga.bytes)(t,16);const r=!n.disablePadding;return{encrypt(n,i){const a=us(e),{b:s,o,out:c}=vs(n,r,i);let l=t;const u=[a];(0,Ja.isAligned32)(l)||u.push(l=(0,Ja.copyBytes)(l));const d=(0,Ja.u32)(l);let f=d[0],p=d[1],h=d[2],b=d[3],y=0;for(;y+4<=s.length;)f^=s[y+0],p^=s[y+1],h^=s[y+2],b^=s[y+3],({s0:f,s1:p,s2:h,s3:b}=hs(a,f,p,h,b)),o[y++]=f,o[y++]=p,o[y++]=h,o[y++]=b;if(r){const e=xs(n.subarray(4*y));f^=e[0],p^=e[1],h^=e[2],b^=e[3],({s0:f,s1:p,s2:h,s3:b}=hs(a,f,p,h,b)),o[y++]=f,o[y++]=p,o[y++]=h,o[y++]=b}return(0,Ja.clean)(...u),c},decrypt(n,i){ws(n);const a=ds(e);let s=t;const o=[a];(0,Ja.isAligned32)(s)||o.push(s=(0,Ja.copyBytes)(s));const c=(0,Ja.u32)(s),l=ys(n.length,i);(0,Ja.isAligned32)(n)||o.push(n=(0,Ja.copyBytes)(n));const u=(0,Ja.u32)(n),d=(0,Ja.u32)(l);let f=c[0],p=c[1],h=c[2],b=c[3];for(let e=0;e+4<=u.length;){const t=f,n=p,r=h,i=b;f=u[e+0],p=u[e+1],h=u[e+2],b=u[e+3];const{s0:s,s1:o,s2:c,s3:l}=bs(a,f,p,h,b);d[e++]=s^t,d[e++]=o^n,d[e++]=c^r,d[e++]=l^i}return(0,Ja.clean)(...o),Es(l,r)}}}),Da.cfb=(0,Ja.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function n(n,r,i){(0,Ga.bytes)(n);const a=n.length;i=ys(a,i);const s=us(e);let o=t;const c=[s];(0,Ja.isAligned32)(o)||c.push(o=(0,Ja.copyBytes)(o)),(0,Ja.isAligned32)(n)||c.push(n=(0,Ja.copyBytes)(n));const l=(0,Ja.u32)(n),u=(0,Ja.u32)(i),d=r?u:l,f=(0,Ja.u32)(o);let p=f[0],h=f[1],b=f[2],y=f[3];for(let e=0;e+4<=l.length;){const{s0:t,s1:n,s2:r,s3:i}=hs(s,p,h,b,y);u[e+0]=l[e+0]^t,u[e+1]=l[e+1]^n,u[e+2]=l[e+2]^r,u[e+3]=l[e+3]^i,p=d[e++],h=d[e++],b=d[e++],y=d[e++]}const m=Za*Math.floor(l.length/4);if(m<a){({s0:p,s1:h,s2:b,s3:y}=hs(s,p,h,b,y));const e=(0,Ja.u8)(new Uint32Array([p,h,b,y]));for(let t=m,r=0;t<a;t++,r++)i[t]=n[t]^e[r];(0,Ja.clean)(e)}return(0,Ja.clean)(...c),i}return(0,Ga.bytes)(e),(0,Ga.bytes)(t,16),{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}}),Da.gcm=(0,Ja.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(e,t,n){if((0,Ga.bytes)(e),(0,Ga.bytes)(t),void 0!==n&&(0,Ga.bytes)(n),t.length<8)throw new Error("aes/gcm: invalid nonce length");function r(e,t,r){const i=Ss(Ya.ghash,!1,e,r,n);for(let e=0;e<t.length;e++)i[e]^=t[e];return i}function i(){const n=us(e),r=Xa.slice(),i=Xa.slice();if(gs(n,!1,i,i,r),12===t.length)i.set(t);else{const e=Xa.slice(),n=(0,Ja.createView)(e);(0,Ja.setBigUint64)(n,8,BigInt(8*t.length),!1);const a=Ya.ghash.create(r).update(t).update(e);a.digestInto(i),a.destroy()}return{xk:n,authKey:r,counter:i,tagMask:gs(n,!1,i,Xa)}}return{encrypt(e){(0,Ga.bytes)(e);const{xk:t,authKey:n,counter:a,tagMask:s}=i(),o=new Uint8Array(e.length+16),c=[t,n,a,s];(0,Ja.isAligned32)(e)||c.push(e=(0,Ja.copyBytes)(e)),gs(t,!1,a,e,o);const l=r(n,s,o.subarray(0,o.length-16));return c.push(l),o.set(l,e.length),(0,Ja.clean)(...c),o},decrypt(e){if((0,Ga.bytes)(e),e.length<16)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:t,authKey:n,counter:a,tagMask:s}=i(),o=[t,n,s,a];(0,Ja.isAligned32)(e)||o.push(e=(0,Ja.copyBytes)(e));const c=e.subarray(0,-16),l=e.subarray(-16),u=r(n,s,c);if(o.push(u),!(0,Ja.equalBytes)(u,l))throw new Error("aes/gcm: invalid ghash tag");const d=gs(t,!1,a,c);return(0,Ja.clean)(...o),d}}});const Ts=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw new Error(`${e}: invalid value=${r}, must be [${t}..${n}]`)};function As(e){return null!=e&&"object"==typeof e&&(e instanceof Uint32Array||"Uint32Array"===e.constructor.name)}function _s(e,t){if((0,Ga.bytes)(t,16),!As(e))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,Ja.u32)(t);let{s0:r,s1:i,s2:a,s3:s}=hs(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=a,n[3]=s,t}function Cs(e,t){if((0,Ga.bytes)(t,16),!As(e))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,Ja.u32)(t);let{s0:r,s1:i,s2:a,s3:s}=bs(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=a,n[3]=s,t}Da.siv=(0,Ja.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(e,t,n){const r=Ts("AAD",0,2**36),i=Ts("plaintext",0,2**36),a=Ts("nonce",12,12),s=Ts("ciphertext",16,2**36+16);function o(){const n=us(e),r=new Uint8Array(e.length),i=new Uint8Array(16),a=[n,r];let s=t;(0,Ja.isAligned32)(s)||a.push(s=(0,Ja.copyBytes)(s));const o=(0,Ja.u32)(s);let c=0,l=o[0],u=o[1],d=o[2],f=0;for(const e of[i,r].map(Ja.u32)){const t=(0,Ja.u32)(e);for(let e=0;e<t.length;e+=2){const{s0:r,s1:i}=hs(n,c,l,u,d);t[e+0]=r,t[e+1]=i,c=++f}}const p={authKey:i,encKey:us(r)};return(0,Ja.clean)(...a),p}function c(e,r,i){const a=Ss(Ya.polyval,!0,r,i,n);for(let e=0;e<12;e++)a[e]^=t[e];a[15]&=127;const s=(0,Ja.u32)(a);let o=s[0],c=s[1],l=s[2],u=s[3];return({s0:o,s1:c,s2:l,s3:u}=hs(e,o,c,l,u)),s[0]=o,s[1]=c,s[2]=l,s[3]=u,a}function l(e,t,n){let r=(0,Ja.copyBytes)(t);r[15]|=128;const i=gs(e,!0,r,n);return(0,Ja.clean)(r),i}return(0,Ga.bytes)(e,16,24,32),(0,Ga.bytes)(t),a(t.length),void 0!==n&&((0,Ga.bytes)(n),r(n.length)),{encrypt(e){(0,Ga.bytes)(e),i(e.length);const{encKey:t,authKey:n}=o(),r=c(t,n,e),a=[t,n,r];(0,Ja.isAligned32)(e)||a.push(e=(0,Ja.copyBytes)(e));const s=new Uint8Array(e.length+16);return s.set(r,e.length),s.set(l(t,r,e)),(0,Ja.clean)(...a),s},decrypt(e){(0,Ga.bytes)(e),s(e.length);const t=e.subarray(-16),{encKey:n,authKey:r}=o(),i=[n,r];(0,Ja.isAligned32)(e)||i.push(e=(0,Ja.copyBytes)(e));const a=l(n,t,e.subarray(0,-16)),u=c(n,r,a);if(i.push(u),!(0,Ja.equalBytes)(t,u))throw(0,Ja.clean)(...i),new Error("invalid polyval tag");return(0,Ja.clean)(...i),a}}});const ks={encrypt(e,t){if(t.length>=2**32)throw new Error("plaintext should be less than 4gb");const n=us(e);if(16===t.length)_s(n,t);else{const e=(0,Ja.u32)(t);let r=e[0],i=e[1];for(let t=0,a=1;t<6;t++)for(let t=2;t<e.length;t+=2,a++){const{s0:s,s1:o,s2:c,s3:l}=hs(n,r,i,e[t],e[t+1]);r=s,i=o^as(a),e[t]=c,e[t+1]=l}e[0]=r,e[1]=i}n.fill(0)},decrypt(e,t){if(t.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const n=ds(e),r=t.length/8-1;if(1===r)Cs(n,t);else{const e=(0,Ja.u32)(t);let i=e[0],a=e[1];for(let t=0,s=6*r;t<6;t++)for(let t=2*r;t>=1;t-=2,s--){a^=as(s);const{s0:r,s1:o,s2:c,s3:l}=bs(n,i,a,e[t],e[t+1]);i=r,a=o,e[t]=c,e[t+1]=l}e[0]=i,e[1]=a}n.fill(0)}},Is=new Uint8Array(8).fill(166);Da.aeskw=(0,Ja.wrapCipher)({blockSize:8},e=>({encrypt(t){if((0,Ga.bytes)(t),!t.length||t.length%8!=0)throw new Error("invalid plaintext length");if(8===t.length)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=(0,Ja.concatBytes)(Is,t);return ks.encrypt(e,n),n},decrypt(t){if((0,Ga.bytes)(t),t.length%8!=0||t.length<24)throw new Error("invalid ciphertext length");const n=(0,Ja.copyBytes)(t);if(ks.decrypt(e,n),!(0,Ja.equalBytes)(n.subarray(0,8),Is))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}));const Ps=2790873510;Da.aeskwp=(0,Ja.wrapCipher)({blockSize:8},e=>({encrypt(t){if((0,Ga.bytes)(t),!t.length)throw new Error("invalid plaintext length");const n=8*Math.ceil(t.length/8),r=new Uint8Array(8+n);r.set(t,8);const i=(0,Ja.u32)(r);return i[0]=Ps,i[1]=as(t.length),ks.encrypt(e,r),r},decrypt(t){if((0,Ga.bytes)(t),t.length<16)throw new Error("invalid ciphertext length");const n=(0,Ja.copyBytes)(t),r=(0,Ja.u32)(n);ks.decrypt(e,n);const i=as(r[1])>>>0,a=8*Math.ceil(i/8);if(r[0]!==Ps||n.length-8!==a)throw new Error("integrity check failed");for(let e=i;e<a;e++)if(0!==n[8+e])throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+i)}})),Da.unsafe={expandKeyLE:us,expandKeyDecLE:ds,encrypt:hs,decrypt:bs,encryptBlock:_s,decryptBlock:Cs,ctrCounter:ms,ctr32:gs},Object.defineProperty(La,"__esModule",{value:!0}),La.aes256cbc=La.aes256gcm=void 0;var Os=Da;La.aes256gcm=function(e,t,n){return(0,Os.gcm)(e,t,n)},La.aes256cbc=function(e,t,n){return(0,Os.cbc)(e,t)};var Ms={},Rs={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.sigma=void 0,Ns.rotl=function(e,t){return e<<t|e>>>32-t},Ns.createCipher=function(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:a,rounds:s}=(0,Ds.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return(0,Ls.number)(i),(0,Ls.number)(s),(0,Ls.bool)(a),(0,Ls.bool)(n),(t,o,c,l,u=0)=>{(0,Ls.bytes)(t),(0,Ls.bytes)(o),(0,Ls.bytes)(c);const d=c.length;if(void 0===l&&(l=new Uint8Array(d)),(0,Ls.bytes)(l),(0,Ls.number)(u),u<0||u>=Ks)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const f=[];let p,h,b=t.length;if(32===b)f.push(p=(0,Ds.copyBytes)(t)),h=$s;else{if(16!==b||!n)throw new Error(`arx: invalid 32-byte key, got length=${b}`);p=new Uint8Array(32),p.set(t),p.set(t,16),h=Fs,f.push(p)}zs(o)||f.push(o=(0,Ds.copyBytes)(o));const y=(0,Ds.u32)(p);if(r){if(24!==o.length)throw new Error("arx: extended nonce must be 24 bytes");r(h,y,(0,Ds.u32)(o.subarray(0,16)),y),o=o.subarray(16)}const m=16-i;if(m!==o.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(12!==m){const e=new Uint8Array(12);e.set(o,a?0:12-o.length),o=e,f.push(o)}const g=(0,Ds.u32)(o);return function(e,t,n,r,i,a,s,o){const c=i.length,l=new Uint8Array(Hs),u=(0,Ds.u32)(l),d=zs(i)&&zs(a),f=d?(0,Ds.u32)(i):Ws,p=d?(0,Ds.u32)(a):Ws;for(let h=0;h<c;s++){if(e(t,n,r,u,s,o),s>=Ks)throw new Error("arx: counter overflow");const b=Math.min(Hs,c-h);if(d&&b===Hs){const e=h/4;if(h%4!=0)throw new Error("arx: invalid block position");for(let t,n=0;n<qs;n++)t=e+n,p[t]=f[t]^u[n];h+=Hs}else{for(let e,t=0;t<b;t++)e=h+t,a[e]=i[e]^l[t];h+=b}}}(e,h,y,g,c,l,u,s),(0,Ds.clean)(...f),l}};const Ls=Cn,Ds=_n,Bs=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),js=Bs("expand 16-byte k"),Us=Bs("expand 32-byte k"),Fs=(0,Ds.u32)(js),$s=(0,Ds.u32)(Us);function zs(e){return e.byteOffset%4==0}Ns.sigma=$s.slice();const Hs=64,qs=16,Ks=2**32-1,Ws=new Uint32Array;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.poly1305=void 0,Vs.wrapConstructorWithKey=Xs;const Gs=Cn,Ys=_n,Js=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Zs{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,Ys.toBytes)(e),(0,Gs.bytes)(e,32);const t=Js(e,0),n=Js(e,2),r=Js(e,4),i=Js(e,6),a=Js(e,8),s=Js(e,10),o=Js(e,12),c=Js(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|s<<2),this.r[7]=8065&(s>>>11|o<<5),this.r[8]=8191&(o>>>8|c<<8),this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=Js(e,16+2*t)}process(e,t,n=!1){const r=n?0:2048,{h:i,r:a}=this,s=a[0],o=a[1],c=a[2],l=a[3],u=a[4],d=a[5],f=a[6],p=a[7],h=a[8],b=a[9],y=Js(e,t+0),m=Js(e,t+2),g=Js(e,t+4),w=Js(e,t+6),v=Js(e,t+8),E=Js(e,t+10),x=Js(e,t+12),S=Js(e,t+14);let T=i[0]+(8191&y),A=i[1]+(8191&(y>>>13|m<<3)),_=i[2]+(8191&(m>>>10|g<<6)),C=i[3]+(8191&(g>>>7|w<<9)),k=i[4]+(8191&(w>>>4|v<<12)),I=i[5]+(v>>>1&8191),P=i[6]+(8191&(v>>>14|E<<2)),O=i[7]+(8191&(E>>>11|x<<5)),M=i[8]+(8191&(x>>>8|S<<8)),R=i[9]+(S>>>5|r),N=0,L=N+T*s+A*(5*b)+_*(5*h)+C*(5*p)+k*(5*f);N=L>>>13,L&=8191,L+=I*(5*d)+P*(5*u)+O*(5*l)+M*(5*c)+R*(5*o),N+=L>>>13,L&=8191;let D=N+T*o+A*s+_*(5*b)+C*(5*h)+k*(5*p);N=D>>>13,D&=8191,D+=I*(5*f)+P*(5*d)+O*(5*u)+M*(5*l)+R*(5*c),N+=D>>>13,D&=8191;let B=N+T*c+A*o+_*s+C*(5*b)+k*(5*h);N=B>>>13,B&=8191,B+=I*(5*p)+P*(5*f)+O*(5*d)+M*(5*u)+R*(5*l),N+=B>>>13,B&=8191;let j=N+T*l+A*c+_*o+C*s+k*(5*b);N=j>>>13,j&=8191,j+=I*(5*h)+P*(5*p)+O*(5*f)+M*(5*d)+R*(5*u),N+=j>>>13,j&=8191;let U=N+T*u+A*l+_*c+C*o+k*s;N=U>>>13,U&=8191,U+=I*(5*b)+P*(5*h)+O*(5*p)+M*(5*f)+R*(5*d),N+=U>>>13,U&=8191;let F=N+T*d+A*u+_*l+C*c+k*o;N=F>>>13,F&=8191,F+=I*s+P*(5*b)+O*(5*h)+M*(5*p)+R*(5*f),N+=F>>>13,F&=8191;let $=N+T*f+A*d+_*u+C*l+k*c;N=$>>>13,$&=8191,$+=I*o+P*s+O*(5*b)+M*(5*h)+R*(5*p),N+=$>>>13,$&=8191;let z=N+T*p+A*f+_*d+C*u+k*l;N=z>>>13,z&=8191,z+=I*c+P*o+O*s+M*(5*b)+R*(5*h),N+=z>>>13,z&=8191;let H=N+T*h+A*p+_*f+C*d+k*u;N=H>>>13,H&=8191,H+=I*l+P*c+O*o+M*s+R*(5*b),N+=H>>>13,H&=8191;let q=N+T*b+A*h+_*p+C*f+k*d;N=q>>>13,q&=8191,q+=I*u+P*l+O*c+M*o+R*s,N+=q>>>13,q&=8191,N=(N<<2)+N|0,N=N+L|0,L=8191&N,N>>>=13,D+=N,i[0]=L,i[1]=D,i[2]=B,i[3]=j,i[4]=U,i[5]=F,i[6]=$,i[7]=z,i[8]=H,i[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let i=(1^r)-1;for(let e=0;e<10;e++)n[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|n[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let a=e[0]+t[0];e[0]=65535&a;for(let n=1;n<8;n++)a=(e[n]+t[n]|0)+(a>>>16)|0,e[n]=65535&a;(0,Ys.clean)(n)}update(e){(0,Gs.exists)(this);const{buffer:t,blockLen:n}=this,r=(e=(0,Ys.toBytes)(e)).length;for(let i=0;i<r;){const a=Math.min(n-this.pos,r-i);if(a!==n)t.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){(0,Ys.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,Gs.exists)(this),(0,Gs.output)(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=n[t]>>>0,e[i++]=n[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}function Xs(e){const t=(t,n)=>e(n).update((0,Ys.toBytes)(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}Vs.poly1305=Xs(e=>new Zs(e)),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.xchacha20poly1305=e.chacha20poly1305=e._poly1305_aead=e.chacha12=e.chacha8=e.xchacha20=e.chacha20=e.chacha20orig=void 0,e.hchacha=s;const t=Ns,n=Cn,r=Vs,i=_n;function a(e,n,r,i,a,s=20){let o=e[0],c=e[1],l=e[2],u=e[3],d=n[0],f=n[1],p=n[2],h=n[3],b=n[4],y=n[5],m=n[6],g=n[7],w=a,v=r[0],E=r[1],x=r[2],S=o,T=c,A=l,_=u,C=d,k=f,I=p,P=h,O=b,M=y,R=m,N=g,L=w,D=v,B=E,j=x;for(let e=0;e<s;e+=2)S=S+C|0,L=(0,t.rotl)(L^S,16),O=O+L|0,C=(0,t.rotl)(C^O,12),S=S+C|0,L=(0,t.rotl)(L^S,8),O=O+L|0,C=(0,t.rotl)(C^O,7),T=T+k|0,D=(0,t.rotl)(D^T,16),M=M+D|0,k=(0,t.rotl)(k^M,12),T=T+k|0,D=(0,t.rotl)(D^T,8),M=M+D|0,k=(0,t.rotl)(k^M,7),A=A+I|0,B=(0,t.rotl)(B^A,16),R=R+B|0,I=(0,t.rotl)(I^R,12),A=A+I|0,B=(0,t.rotl)(B^A,8),R=R+B|0,I=(0,t.rotl)(I^R,7),_=_+P|0,j=(0,t.rotl)(j^_,16),N=N+j|0,P=(0,t.rotl)(P^N,12),_=_+P|0,j=(0,t.rotl)(j^_,8),N=N+j|0,P=(0,t.rotl)(P^N,7),S=S+k|0,j=(0,t.rotl)(j^S,16),R=R+j|0,k=(0,t.rotl)(k^R,12),S=S+k|0,j=(0,t.rotl)(j^S,8),R=R+j|0,k=(0,t.rotl)(k^R,7),T=T+I|0,L=(0,t.rotl)(L^T,16),N=N+L|0,I=(0,t.rotl)(I^N,12),T=T+I|0,L=(0,t.rotl)(L^T,8),N=N+L|0,I=(0,t.rotl)(I^N,7),A=A+P|0,D=(0,t.rotl)(D^A,16),O=O+D|0,P=(0,t.rotl)(P^O,12),A=A+P|0,D=(0,t.rotl)(D^A,8),O=O+D|0,P=(0,t.rotl)(P^O,7),_=_+C|0,B=(0,t.rotl)(B^_,16),M=M+B|0,C=(0,t.rotl)(C^M,12),_=_+C|0,B=(0,t.rotl)(B^_,8),M=M+B|0,C=(0,t.rotl)(C^M,7);let U=0;i[U++]=o+S|0,i[U++]=c+T|0,i[U++]=l+A|0,i[U++]=u+_|0,i[U++]=d+C|0,i[U++]=f+k|0,i[U++]=p+I|0,i[U++]=h+P|0,i[U++]=b+O|0,i[U++]=y+M|0,i[U++]=m+R|0,i[U++]=g+N|0,i[U++]=w+L|0,i[U++]=v+D|0,i[U++]=E+B|0,i[U++]=x+j|0}function s(e,n,r,i){let a=e[0],s=e[1],o=e[2],c=e[3],l=n[0],u=n[1],d=n[2],f=n[3],p=n[4],h=n[5],b=n[6],y=n[7],m=r[0],g=r[1],w=r[2],v=r[3];for(let e=0;e<20;e+=2)a=a+l|0,m=(0,t.rotl)(m^a,16),p=p+m|0,l=(0,t.rotl)(l^p,12),a=a+l|0,m=(0,t.rotl)(m^a,8),p=p+m|0,l=(0,t.rotl)(l^p,7),s=s+u|0,g=(0,t.rotl)(g^s,16),h=h+g|0,u=(0,t.rotl)(u^h,12),s=s+u|0,g=(0,t.rotl)(g^s,8),h=h+g|0,u=(0,t.rotl)(u^h,7),o=o+d|0,w=(0,t.rotl)(w^o,16),b=b+w|0,d=(0,t.rotl)(d^b,12),o=o+d|0,w=(0,t.rotl)(w^o,8),b=b+w|0,d=(0,t.rotl)(d^b,7),c=c+f|0,v=(0,t.rotl)(v^c,16),y=y+v|0,f=(0,t.rotl)(f^y,12),c=c+f|0,v=(0,t.rotl)(v^c,8),y=y+v|0,f=(0,t.rotl)(f^y,7),a=a+u|0,v=(0,t.rotl)(v^a,16),b=b+v|0,u=(0,t.rotl)(u^b,12),a=a+u|0,v=(0,t.rotl)(v^a,8),b=b+v|0,u=(0,t.rotl)(u^b,7),s=s+d|0,m=(0,t.rotl)(m^s,16),y=y+m|0,d=(0,t.rotl)(d^y,12),s=s+d|0,m=(0,t.rotl)(m^s,8),y=y+m|0,d=(0,t.rotl)(d^y,7),o=o+f|0,g=(0,t.rotl)(g^o,16),p=p+g|0,f=(0,t.rotl)(f^p,12),o=o+f|0,g=(0,t.rotl)(g^o,8),p=p+g|0,f=(0,t.rotl)(f^p,7),c=c+l|0,w=(0,t.rotl)(w^c,16),h=h+w|0,l=(0,t.rotl)(l^h,12),c=c+l|0,w=(0,t.rotl)(w^c,8),h=h+w|0,l=(0,t.rotl)(l^h,7);let E=0;i[E++]=a,i[E++]=s,i[E++]=o,i[E++]=c,i[E++]=m,i[E++]=g,i[E++]=w,i[E++]=v}e.chacha20orig=(0,t.createCipher)(a,{counterRight:!1,counterLength:8,allowShortKeys:!0}),e.chacha20=(0,t.createCipher)(a,{counterRight:!1,counterLength:4,allowShortKeys:!1}),e.xchacha20=(0,t.createCipher)(a,{counterRight:!1,counterLength:8,extendNonceFn:s,allowShortKeys:!1}),e.chacha8=(0,t.createCipher)(a,{counterRight:!1,counterLength:4,rounds:8}),e.chacha12=(0,t.createCipher)(a,{counterRight:!1,counterLength:4,rounds:12});const o=new Uint8Array(16),c=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(o.subarray(n))},l=new Uint8Array(32);function u(e,t,n,a,s){const o=e(t,n,l),u=r.poly1305.create(o);s&&c(u,s),c(u,a);const d=new Uint8Array(16),f=(0,i.createView)(d);(0,i.setBigUint64)(f,0,BigInt(s?s.length:0),!0),(0,i.setBigUint64)(f,8,BigInt(a.length),!0),u.update(d);const p=u.digest();return(0,i.clean)(o,d),p}e._poly1305_aead=e=>(t,r,a)=>((0,n.bytes)(t,32),(0,n.bytes)(r),{encrypt(s,o){const c=s.length,l=c+16;o?(0,n.bytes)(o,l):o=new Uint8Array(l),e(t,r,s,o,1);const d=u(e,t,r,o.subarray(0,-16),a);return o.set(d,c),(0,i.clean)(d),o},decrypt(s,o){const c=s.length,l=c-16;if(c<16)throw new Error("encrypted data must be at least 16 bytes");o?(0,n.bytes)(o,l):o=new Uint8Array(l);const d=s.subarray(0,-16),f=s.subarray(-16),p=u(e,t,r,d,a);if(!(0,i.equalBytes)(f,p))throw new Error("invalid tag");return e(t,r,d,o,1),(0,i.clean)(p),o}}),e.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,e._poly1305_aead)(e.chacha20)),e.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,e._poly1305_aead)(e.xchacha20))}(Rs),Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.xchacha20=void 0;var Qs,eo,to,no=Rs;Ms.xchacha20=function(e,t,n){return(0,no.xchacha20poly1305)(e,t,n)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.aesDecrypt=e.aesEncrypt=e.symDecrypt=e.symEncrypt=void 0;var t=_n,n=zn,r=La,i=Ms,a=Dn,s=Bn;function o(e,t,n,o){var c=(0,a.symmetricAlgorithm)();if("aes-256-gcm"===c)return e(r.aes256gcm,t,n,(0,a.symmetricNonceLength)(),s.AEAD_TAG_LENGTH,o);if("xchacha20"===c)return e(i.xchacha20,t,n,s.XCHACHA20_NONCE_LENGTH,s.AEAD_TAG_LENGTH,o);if("aes-256-cbc"===c)return e(r.aes256cbc,t,n,16,0);throw new Error("Not implemented")}function c(e,r,i,a,s,o){var c=(0,n.randomBytes)(a),l=e(r,c,o).encrypt(i);if(0===s)return(0,t.concatBytes)(c,l);var u=l.length-s,d=l.subarray(0,u),f=l.subarray(u);return(0,t.concatBytes)(c,f,d)}function l(e,n,r,i,a,s){var o=r.subarray(0,i),c=e(n,Uint8Array.from(o),s),l=r.subarray(i);if(0===a)return c.decrypt(l);var u=l.subarray(0,a),d=l.subarray(a);return c.decrypt((0,t.concatBytes)(d,u))}e.symEncrypt=function(e,t,n){return o(c,e,t,n)},e.symDecrypt=function(e,t,n){return o(l,e,t,n)},e.aesEncrypt=e.symEncrypt,e.aesDecrypt=e.symDecrypt}(Na),Qs=Fn,eo=xn&&xn.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),to=xn&&xn.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||eo(t,e,n)},Object.defineProperty(Qs,"__esModule",{value:!0}),to($n,Qs),to(Aa,Qs),to(Ta,Qs),to(Na,Qs);var ro={};Object.defineProperty(ro,"__esModule",{value:!0}),ro.PublicKey=void 0;var io=_n,ao=Fn,so=function(){function e(e){this.data=(0,ao.convertPublicKeyFormat)(e,!0)}return e.fromHex=function(t){return new e((0,ao.hexToPublicKey)(t))},Object.defineProperty(e.prototype,"uncompressed",{get:function(){return Lt.from((0,ao.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"compressed",{get:function(){return Lt.from(this.data)},enumerable:!1,configurable:!0}),e.prototype.toHex=function(e){return void 0===e&&(e=!0),(0,io.bytesToHex)(e?this.data:this.uncompressed)},e.prototype.decapsulate=function(e,t){void 0===t&&(t=!1);var n=t?this.data:this.uncompressed,r=e.multiply(this,t);return(0,ao.getSharedKey)(n,r)},e.prototype.equals=function(e){return(0,io.equalBytes)(this.data,e.data)},e}();ro.PublicKey=so,Object.defineProperty(Un,"__esModule",{value:!0}),Un.PrivateKey=void 0;var oo=_n,co=Fn,lo=ro,uo=function(){function e(e){if(void 0===e)this.data=(0,co.getValidSecret)();else{if(!(0,co.isValidPrivateKey)(e))throw new Error("Invalid private key");this.data=e}this.publicKey=new lo.PublicKey((0,co.getPublicKey)(this.data))}return e.fromHex=function(t){return new e((0,co.decodeHex)(t))},Object.defineProperty(e.prototype,"secret",{get:function(){return Lt.from(this.data)},enumerable:!1,configurable:!0}),e.prototype.toHex=function(){return(0,oo.bytesToHex)(this.data)},e.prototype.encapsulate=function(e,t){void 0===t&&(t=!1);var n=t?this.publicKey.compressed:this.publicKey.uncompressed,r=this.multiply(e,t);return(0,co.getSharedKey)(n,r)},e.prototype.multiply=function(e,t){return void 0===t&&(t=!1),(0,co.getSharedPoint)(this.data,e.compressed,t)},e.prototype.equals=function(e){return(0,oo.equalBytes)(this.data,e.data)},e}();Un.PrivateKey=uo,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.PrivateKey=void 0;var t=Un;Object.defineProperty(e,"PrivateKey",{enumerable:!0,get:function(){return t.PrivateKey}});var n=ro;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return n.PublicKey}})}(jn),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.PublicKey=e.PrivateKey=e.ECIES_CONFIG=void 0,e.encrypt=function(e,a){var s=new r.PrivateKey,o=e instanceof Uint8Array?new r.PublicKey(e):r.PublicKey.fromHex(e),c=s.encapsulate(o,(0,n.isHkdfKeyCompressed)()),l=(0,n.isEphemeralKeyCompressed)()?s.publicKey.compressed:s.publicKey.uncompressed,u=(0,i.symEncrypt)(c,a);return Lt.from((0,t.concatBytes)(l,u))},e.decrypt=function(e,t){var a=e instanceof Uint8Array?new r.PrivateKey(e):r.PrivateKey.fromHex(e),s=(0,n.ephemeralKeySize)(),o=new r.PublicKey(t.subarray(0,s)),c=t.subarray(s),l=o.decapsulate(a,(0,n.isHkdfKeyCompressed)());return Lt.from((0,i.symDecrypt)(l,c))};var t=_n,n=Dn,r=jn,i=Fn,a=Dn;Object.defineProperty(e,"ECIES_CONFIG",{enumerable:!0,get:function(){return a.ECIES_CONFIG}});var s=jn;Object.defineProperty(e,"PrivateKey",{enumerable:!0,get:function(){return s.PrivateKey}}),Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return s.PublicKey}}),e.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}}(An);const fo=ct()("KeyExchange:Layer"),po=ct()("SocketService:Layer"),ho=ct()("Ecies:Layer"),bo=ct()("RemoteCommunication:Layer");fo.color="##95c44e",po.color="#f638d7",ho.color="#465b9c",bo.color="#47a2be";const yo={KeyExchange:fo,SocketService:po,Ecies:ho,RemoteCommunication:bo};let mo,go=[],wo=[];const vo=(e,t)=>wt(void 0,void 0,void 0,function*(){mo=t,wo.push(e),function(e){return wt(this,void 0,void 0,function*(){if(!mo||!e)return;!function(){const e=wo;wo=go,go=e}();const t=mo.endsWith("/")?`${mo}evt`:`${mo}/evt`,n=Object.assign({},e);if(delete n.params,e.params)for(const[t,r]of Object.entries(e.params))n[t]=r;const r=JSON.stringify(n);yo.RemoteCommunication(`[sendBufferedEvents] Sending ${go.length} analytics events to ${t}`);try{const e=yield st()(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:r}),n=yield e.text();yo.RemoteCommunication(`[sendBufferedEvents] Response: ${n}`),go.length=0}catch(t){}})}(e).catch(()=>{})});class Eo{constructor(e){this.enabled=!0,(null==e?void 0:e.debug)&&ct().enable("Ecies:Layer"),this.ecies=(null==e?void 0:e.privateKey)?An.PrivateKey.fromHex(e.privateKey):new An.PrivateKey,yo.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),yo.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),yo.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new An.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,t){let n=e;if(this.enabled)try{yo.Ecies("[ECIES: encrypt()] using otherPublicKey",t);const r=Lt.from(e),i=An.encrypt(t,r);n=Lt.from(i).toString("base64")}catch(n){throw yo.Ecies("[ECIES: encrypt()] error encrypt:",n),yo.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),yo.Ecies("[ECIES: encrypt()] data: ",e),yo.Ecies("[ECIES: encrypt()] otherkey: ",t),n}return n}decrypt(e){let t=e;if(this.enabled)try{yo.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const n=Lt.from(e.toString(),"base64");t=An.decrypt(this.ecies.toHex(),n).toString()}catch(t){throw yo.Ecies("[ECIES: decrypt()] error decrypt",t),yo.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),yo.Ecies("[ECIES: decrypt()] encryptedData: ",e),t}return t}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){yo.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var xo="0.33.1";const So="https://metamask-sdk.api.cx.metamask.io/",To=["websocket"],Ao=6048e5,_o=3e3,Co=["metamask_connectSign","metamask_connectWith","metamask_open","metamask_batch","personal_sign","wallet_requestPermissions","wallet_revokePermissions","wallet_watchAsset","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTransaction","eth_sign","personal_ecRecover"];function ko(e){return Co.includes(e)}function Io(e){const{context:t}=e;yo.RemoteCommunication(`[RemoteCommunication: clean()] context=${t}`),e.channelConfig=void 0,e.ready=!1,e.originatorConnectStarted=!1}var Po,Oo,Mo,Ro,No,Lo,Do,Bo;(Do=Po||(Po={})).DISCONNECTED="disconnected",Do.WAITING="waiting",Do.TIMEOUT="timeout",Do.LINKED="linked",Do.PAUSED="paused",Do.TERMINATED="terminated",(Bo=Oo||(Oo={})).KEY_INFO="key_info",Bo.SERVICE_STATUS="service_status",Bo.PROVIDER_UPDATE="provider_update",Bo.RPC_UPDATE="rpc_update",Bo.KEYS_EXCHANGED="keys_exchanged",Bo.JOIN_CHANNEL="join_channel",Bo.PUBLIC_KEY="public_key",Bo.CHANNEL_CREATED="channel_created",Bo.CLIENTS_CONNECTED="clients_connected",Bo.CLIENTS_DISCONNECTED="clients_disconnected",Bo.CLIENTS_WAITING="clients_waiting",Bo.CLIENTS_READY="clients_ready",Bo.REJECTED="rejected",Bo.WALLET_INIT="wallet_init",Bo.CHANNEL_PERSISTENCE="channel_persistence",Bo.CONFIG="config",Bo.MESSAGE_ACK="ack",Bo.SOCKET_DISCONNECTED="socket_disconnected",Bo.SOCKET_RECONNECT="socket_reconnect",Bo.OTP="otp",Bo.SDK_RPC_CALL="sdk_rpc_call",Bo.AUTHORIZED="authorized",Bo.CONNECTION_STATUS="connection_status",Bo.MESSAGE="message",Bo.TERMINATE="terminate",(Mo||(Mo={})).KEY_EXCHANGE="key_exchange",function(e){e.KEY_HANDSHAKE_START="key_handshake_start",e.KEY_HANDSHAKE_CHECK="key_handshake_check",e.KEY_HANDSHAKE_SYN="key_handshake_SYN",e.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",e.KEY_HANDSHAKE_ACK="key_handshake_ACK",e.KEY_HANDSHAKE_WALLET="key_handshake_wallet",e.KEY_HANDSHAKE_NONE="none"}(Ro||(Ro={}));class jo extends ut.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:t,context:n,ecies:r,logging:i}){super(),this.keysExchanged=!1,this.step=Ro.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=n,this.communicationLayer=e,(null==r?void 0:r.privateKey)&&t&&(yo.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${t} set keysExchanged to true!`,r),this.keysExchanged=!0),this.myECIES=new Eo(Object.assign(Object.assign({},r),{debug:null==i?void 0:i.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=!0===(null==i?void 0:i.keyExchangeLayer),t&&this.setOtherPublicKey(t),this.communicationLayer.on(Mo.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:t}=this.communicationLayer.remote.state;if(yo.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${t}`,e),t)return void yo.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:n}=e;this.keysExchanged&&yo.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(Oo.KEY_INFO,n.type),n.type===Ro.KEY_HANDSHAKE_SYN?(this.checkStep([Ro.KEY_HANDSHAKE_NONE,Ro.KEY_HANDSHAKE_ACK]),yo.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",n),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:Ro.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(e=>{yo.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",e)}),this.setStep(Ro.KEY_HANDSHAKE_ACK)):n.type===Ro.KEY_HANDSHAKE_SYNACK?(this.checkStep([Ro.KEY_HANDSHAKE_SYNACK,Ro.KEY_HANDSHAKE_ACK,Ro.KEY_HANDSHAKE_NONE]),yo.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:Ro.KEY_HANDSHAKE_ACK}).catch(e=>{yo.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",e)}),this.keysExchanged=!0,this.setStep(Ro.KEY_HANDSHAKE_ACK),this.emit(Oo.KEYS_EXCHANGED)):n.type===Ro.KEY_HANDSHAKE_ACK&&(yo.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([Ro.KEY_HANDSHAKE_ACK,Ro.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(Ro.KEY_HANDSHAKE_ACK),this.emit(Oo.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new Eo(e)}clean(){yo.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(Ro.KEY_HANDSHAKE_NONE),this.emit(Oo.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:t}){const{relayPersistence:n,protocolVersion:r}=this.communicationLayer.remote.state,i=r>=2;n?yo.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(yo.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${r} isOriginator=${e} step=${this.step} force=${t} relayPersistence=${n} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==Ro.KEY_HANDSHAKE_NONE&&this.step!==Ro.KEY_HANDSHAKE_SYNACK)||t?(yo.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${t}) -- step=${this.step}`,this.step),this.clean(),this.setStep(Ro.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:Ro.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(e=>{yo.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",e)})):yo.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&!0!==t?yo.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):i?this.communicationLayer.sendMessage({type:Ro.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(e=>{yo.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",e)}):(this.communicationLayer.sendMessage({type:Ro.KEY_HANDSHAKE_START}).catch(e=>{yo.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",e)}),this.clean()))}setStep(e){this.step=e,this.emit(Oo.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:t}){this.otherPublicKey=t,this.myECIES=new Eo({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){yo.KeyExchange("[KeyExchange: setOtherPubKey()]",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}}!function(e){e.TERMINATE="terminate",e.ANSWER="answer",e.OFFER="offer",e.CANDIDATE="candidate",e.JSONRPC="jsonrpc",e.WALLET_INFO="wallet_info",e.WALLET_INIT="wallet_init",e.ORIGINATOR_INFO="originator_info",e.PAUSE="pause",e.OTP="otp",e.AUTHORIZED="authorized",e.PING="ping",e.READY="ready"}(No||(No={})),function(e){e.REQUEST="sdk_connect_request_started",e.REQUEST_MOBILE="sdk_connect_request_started_mobile",e.RECONNECT="sdk_reconnect_request_started",e.CONNECTED="sdk_connection_established",e.CONNECTED_MOBILE="sdk_connection_established_mobile",e.AUTHORIZED="sdk_connection_authorized",e.REJECTED="sdk_connection_rejected",e.TERMINATED="sdk_connection_terminated",e.DISCONNECTED="sdk_disconnected",e.SDK_USE_EXTENSION="sdk_use_extension",e.SDK_RPC_REQUEST="sdk_rpc_request",e.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",e.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",e.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",e.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"}(Lo||(Lo={}));const Uo=(e,t,n)=>wt(void 0,void 0,void 0,function*(){var r,i,a,s,o,c;const{remote:l,state:u}=e,{channelId:d,isOriginator:f}=u;if("error_terminated"===t)return yo.SocketService(`handleJoinChannelResults: Channel ${d} terminated`),void e.emit(Oo.TERMINATE);if(!n)return void yo.SocketService(`handleJoinChannelResults: No result for channel ${d}`);const{persistence:p,walletKey:h,rejected:b}=n;if(yo.SocketService(`handleJoinChannelResults: Channel ${d} persistence=${p} walletKey=${h} rejected=${b}`),b)return yo.SocketService(`handleJoinChannelResults: Channel ${d} rejected`),yield e.remote.disconnect({terminate:!0}),e.remote.emit(Oo.REJECTED,{channelId:d}),void e.remote.emitServiceStatusEvent();if(h&&!(null===(r=l.state.channelConfig)||void 0===r?void 0:r.otherKey)){e.getKeyExchange().setOtherPublicKey(h),null===(i=e.state.keyExchange)||void 0===i||i.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Oo.AUTHORIZED);const{communicationLayer:t,storageManager:n}=l.state,r=Object.assign(Object.assign({},l.state.channelConfig),{channelId:null!==(a=l.state.channelId)&&void 0!==a?a:"",validUntil:Date.now()+Ao,localKey:null==t?void 0:t.getKeyInfo().ecies.private,otherKey:h});e.sendMessage({type:Ro.KEY_HANDSHAKE_ACK}).catch(e=>{}),null===(s=e.state.socket)||void 0===s||s.emit(No.PING,{id:d,clientType:f?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield null==n?void 0:n.persistChannelConfig(r),l.emitServiceStatusEvent(),l.setConnectionStatus(Po.LINKED)}p&&(e.emit(Oo.CHANNEL_PERSISTENCE),null===(o=e.state.keyExchange)||void 0===o||o.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Oo.AUTHORIZED),vo(Object.assign(Object.assign({id:null!=d?d:"",event:f?Lo.CONNECTED:Lo.CONNECTED_MOBILE},e.remote.state.originatorInfo),{sdkVersion:e.remote.state.sdkVersion,commLayer:e.state.communicationLayerPreference,commLayerVersion:xo,walletVersion:null===(c=e.remote.state.walletInfo)||void 0===c?void 0:c.version}),u.communicationServerUrl).catch(e=>{}))}),Fo=e=>new Promise(t=>{setTimeout(t,e)}),$o=(e,t,...n)=>wt(void 0,[e,t,...n],void 0,function*(e,t,n=200){let r;const i=Date.now();let a=!1;for(;!a;){if(a=Date.now()-i>3e5,r=t[e],void 0!==r.elapsedTime)return r;yield Fo(n)}throw new Error(`RPC ${e} timed out`)}),zo=e=>wt(void 0,void 0,void 0,function*(){const{state:t}=e,{socket:n,channelId:r,context:i,isOriginator:a,isReconnecting:s}=t;if(s)return yo.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",e),!1;if(!n)return yo.SocketService("[SocketService: reconnectSocket()] socket is not defined",e),!1;if(!r)return!1;const{connected:o}=n;t.isReconnecting=!0,t.reconnectionAttempts=0,yo.SocketService(`[SocketService: reconnectSocket()] connected=${o} trying to reconnect after socketio disconnection`,e);try{for(;3>t.reconnectionAttempts;){if(yo.SocketService(`[SocketService: reconnectSocket()] Attempt ${t.reconnectionAttempts+1} of 3`,e),yield Fo(200),n.connected)return yo.SocketService("Socket already connected --- ping to retrieve messages"),n.emit(No.PING,{id:r,clientType:a?"dapp":"wallet",context:"on_channel_config",message:""}),!0;t.resumed=!0,n.connect(),e.emit(Oo.SOCKET_RECONNECT);try{if(yield new Promise((t,s)=>{n.emit(Oo.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:a?"dapp":"wallet"},(n,r)=>wt(void 0,void 0,void 0,function*(){try{yield Uo(e,n,r),t()}catch(e){s(e)}}))}),yield Fo(100),n.connected)return yo.SocketService(`Reconnection successful on attempt ${t.reconnectionAttempts+1}`),!0}catch(e){yo.SocketService(`Error during reconnection attempt ${t.reconnectionAttempts+1}:`,e)}t.reconnectionAttempts+=1,3>t.reconnectionAttempts&&(yield Fo(200))}return yo.SocketService("Failed to reconnect after 3 attempts"),!1}finally{t.isReconnecting=!1,t.reconnectionAttempts=0}});function Ho(e,t){return wt(this,void 0,void 0,function*(){var n;const r=null===(n=e.state.keyExchange)||void 0===n?void 0:n.encryptMessage(JSON.stringify(t)),i={id:e.state.channelId,context:e.state.context,clientType:e.state.isOriginator?"dapp":"wallet",message:r,plaintext:e.state.hasPlaintext?JSON.stringify(t):void 0};return yo.SocketService(`[SocketService: encryptAndSendMessage()] context=${e.state.context}`,i),t.type===No.TERMINATE&&(e.state.manualDisconnect=!0),new Promise((t,n)=>{var r;null===(r=e.state.socket)||void 0===r||r.emit(Oo.MESSAGE,i,(e,r)=>{var i;e&&(yo.SocketService(`[SocketService: encryptAndSendMessage()] error=${e}`),n(e)),yo.SocketService("[encryptAndSendMessage] response",r),t(null!==(i=null==r?void 0:r.success)&&void 0!==i&&i)})})})}var qo;!function(e){e.RPC_CHECK="rpcCheck",e.SKIPPED_RPC="skippedRpc"}(qo||(qo={}));const Ko=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(e=>e.toLowerCase()),Wo=[{event:Oo.CLIENTS_CONNECTED,handler:function(e,t){return n=>wt(this,void 0,void 0,function*(){var n,r,i,a,s,o,c,l,u,d,f;const p=null!==(r=null===(n=e.remote.state.channelConfig)||void 0===n?void 0:n.relayPersistence)&&void 0!==r&&r;if(yo.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected-${t}' relayPersistence=${p} resumed=${e.state.resumed}  clientsPaused=${e.state.clientsPaused} keysExchanged=${null===(i=e.state.keyExchange)||void 0===i?void 0:i.areKeysExchanged()} isOriginator=${e.state.isOriginator}`),e.emit(Oo.CLIENTS_CONNECTED,{isOriginator:e.state.isOriginator,keysExchanged:null===(a=e.state.keyExchange)||void 0===a?void 0:a.areKeysExchanged(),context:e.state.context}),e.state.resumed)e.state.isOriginator||(yo.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} 'clients_connected' / keysExchanged=${null===(s=e.state.keyExchange)||void 0===s?void 0:s.areKeysExchanged()} -- backward compatibility`),null===(o=e.state.keyExchange)||void 0===o||o.start({isOriginator:null!==(c=e.state.isOriginator)&&void 0!==c&&c})),e.state.resumed=!1;else if(e.state.clientsPaused)yo.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!e.state.isOriginator){const t=!p;yo.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected' / keysExchanged=${null===(l=e.state.keyExchange)||void 0===l?void 0:l.areKeysExchanged()} -- force=${t} -- backward compatibility`),yo.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected' / keysExchanged=${null===(u=e.state.keyExchange)||void 0===u?void 0:u.areKeysExchanged()} -- force=${t} -- backward compatibility`),null===(d=e.state.keyExchange)||void 0===d||d.start({isOriginator:null!==(f=e.state.isOriginator)&&void 0!==f&&f,force:t})}e.state.clientsConnected=!0,e.state.clientsPaused=!1})}},{event:Oo.CHANNEL_CREATED,handler:function(e,t){return n=>{yo.SocketService(`[SocketService: handleChannelCreated()] context=${e.state.context} on 'channel_created-${t}'`,n),e.emit(Oo.CHANNEL_CREATED,n)}}},{event:Oo.CLIENTS_DISCONNECTED,handler:function(e,t){return()=>{var n;e.state.clientsConnected=!1,yo.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e.state.context} on 'clients_disconnected-${t}'`),e.remote.state.relayPersistence?yo.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e.state.context} on 'clients_disconnected-${t}' - relayPersistence enabled, skipping key exchange cleanup.`):(e.state.isOriginator&&!e.state.clientsPaused&&(null===(n=e.state.keyExchange)||void 0===n||n.clean()),e.emit(Oo.CLIENTS_DISCONNECTED,t))}}},{event:Oo.CONFIG,handler:function(e,t){return n=>wt(this,void 0,void 0,function*(){var r,i,a;yo.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${t}'`,n);const{persistence:s,walletKey:o}=n;e.state.isOriginator&&e.remote.state.channelConfig?(n.walletKey&&!e.remote.state.channelConfig.otherKey&&(yo.SocketService(`Setting wallet key ${o}`),e.remote.state.channelConfig.otherKey=o,e.getKeyExchange().setOtherPublicKey(n.walletKey),null===(r=e.state.keyExchange)||void 0===r||r.setKeysExchanged(!0),yield e.remote.sendMessage({type:Ro.KEY_HANDSHAKE_ACK}),yield e.remote.sendMessage({type:No.PING}),yield null===(i=e.remote.state.storageManager)||void 0===i?void 0:i.persistChannelConfig(e.remote.state.channelConfig)),!0!==s||e.remote.state.channelConfig.relayPersistence||(yo.SocketService(`Setting relay persistence ${s}`),e.remote.state.channelConfig.relayPersistence=s,e.remote.state.relayPersistence=!0,e.remote.emit(Oo.CHANNEL_PERSISTENCE),e.remote.state.authorized=!0,e.remote.state.ready=!0,e.remote.emit(Oo.AUTHORIZED),yield null===(a=e.remote.state.storageManager)||void 0===a?void 0:a.persistChannelConfig(e.remote.state.channelConfig))):e.state.isOriginator||n.persistence&&(e.remote.state.relayPersistence=!0,e.remote.emit(Oo.CHANNEL_PERSISTENCE))})}},{event:Oo.MESSAGE,handler:function(e,t){return n=>{var r,i,a,s,o,c,l,u,d,f,p,h,b,y,m,g,w,v;const{ackId:E,message:x,error:S}=n,T=null!==(r=e.remote.state.relayPersistence)&&void 0!==r&&r;if(yo.SocketService(`[SocketService handleMessage()]  relayPersistence=${T}  context=${e.state.context} on 'message' ${t} keysExchanged=${null===(i=e.state.keyExchange)||void 0===i?void 0:i.areKeysExchanged()}`,n),S)throw yo.SocketService(`\n      [SocketService handleMessage()] context=${e.state.context}::on 'message' error=${S}`),new Error(S);const A="string"==typeof x;if(!A&&(null==x?void 0:x.type)===Ro.KEY_HANDSHAKE_START){if(T)return;return yo.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' received HANDSHAKE_START isOriginator=${e.state.isOriginator}`,x),void(null===(a=e.state.keyExchange)||void 0===a||a.start({isOriginator:null!==(s=e.state.isOriginator)&&void 0!==s&&s,force:!0}))}if(!A&&(null===(o=null==x?void 0:x.type)||void 0===o?void 0:o.startsWith("key_handshake"))){if(T)return;return yo.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' emit KEY_EXCHANGE`,x),void e.emit(Mo.KEY_EXCHANGE,{message:x,context:e.state.context})}if(A&&!(null===(c=e.state.keyExchange)||void 0===c?void 0:c.areKeysExchanged())){let t=!1;try{yo.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' trying to decrypt message`),null===(l=e.state.keyExchange)||void 0===l||l.decryptMessage(x),t=!0}catch(t){yo.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' error`,t)}if(!t)return e.state.isOriginator?null===(d=e.state.keyExchange)||void 0===d||d.start({isOriginator:null!==(f=e.state.isOriginator)&&void 0!==f&&f}):e.sendMessage({type:Ro.KEY_HANDSHAKE_START}).catch(e=>{}),void yo.SocketService(`Message ignored because invalid key exchange status. step=${null===(p=e.state.keyExchange)||void 0===p?void 0:p.getKeyInfo().step}`,null===(h=e.state.keyExchange)||void 0===h?void 0:h.getKeyInfo(),x);yo.SocketService("Invalid key exchange status detected --- updating it."),null===(u=e.state.keyExchange)||void 0===u||u.setKeysExchanged(!0)}else if(!A&&(null==x?void 0:x.type))return void e.emit(Oo.MESSAGE,x);if(!A)return void e.emit(Oo.MESSAGE,x);const _=null===(b=e.state.keyExchange)||void 0===b?void 0:b.decryptMessage(x),C=JSON.parse(null!=_?_:"{}");if(E&&(null==E?void 0:E.length)>0&&(yo.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' ackid=${E} channelId=${t}`),null===(y=e.state.socket)||void 0===y||y.emit(Oo.MESSAGE_ACK,{ackId:E,channelId:t,clientType:e.state.isOriginator?"dapp":"wallet"})),e.state.clientsPaused=(null==C?void 0:C.type)===No.PAUSE,e.state.isOriginator&&C.data){const t=C.data,n=e.state.rpcMethodTracker[t.id];if(n){const r=Date.now()-n.timestamp;yo.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' received answer for id=${t.id} method=${n.method} responseTime=${r}`,C),e.remote.state.analytics&&Ko.includes(n.method.toLowerCase())&&vo(Object.assign(Object.assign({id:null!==(m=e.remote.state.channelId)&&void 0!==m?m:"",event:Lo.SDK_RPC_REQUEST_DONE,sdkVersion:e.remote.state.sdkVersion,commLayerVersion:xo},e.remote.state.originatorInfo),{walletVersion:null===(g=e.remote.state.walletInfo)||void 0===g?void 0:g.version,params:{method:n.method,from:"mobile"}}),e.remote.state.communicationServerUrl).catch(e=>{}),ko(n.method)&&lt.analytics.track(t.error?4001===t.error.code?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:n.method});const i=Object.assign(Object.assign({},n),{result:t.result,error:t.error?{code:null===(w=t.error)||void 0===w?void 0:w.code,message:null===(v=t.error)||void 0===v?void 0:v.message}:void 0,elapsedTime:r});e.state.rpcMethodTracker[t.id]=i,e.emit(Oo.RPC_UPDATE,i)}}e.emit(Oo.MESSAGE,{message:C})}}},{event:Oo.REJECTED,handler:function(e,t){return n=>wt(this,void 0,void 0,function*(){var n;e.state.isOriginator&&!e.remote.state.ready?(yo.SocketService(`[SocketService: handleChannelRejected()] context=${e.state.context} channelId=${t} isOriginator=${e.state.isOriginator} ready=${e.remote.state.ready}`,e.remote.state.originatorInfo),vo(Object.assign(Object.assign({id:t,event:Lo.REJECTED},e.remote.state.originatorInfo),{sdkVersion:e.remote.state.sdkVersion,commLayer:e.state.communicationLayerPreference,commLayerVersion:xo,walletVersion:null===(n=e.remote.state.walletInfo)||void 0===n?void 0:n.version}),e.remote.state.communicationServerUrl).catch(e=>{}),lt.analytics.track("sdk_connection_rejected",{transport_type:"websocket"}),yield e.remote.disconnect({terminate:!0}),e.remote.emit(Oo.REJECTED,{channelId:t}),e.remote.setConnectionStatus(Po.DISCONNECTED)):yo.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${t} isOriginator=${e.state.isOriginator} ready=${e.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(e,t){return n=>{yo.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${e.state.context} on 'clients_waiting_to_join-${t}'`,n),e.emit(Oo.CLIENTS_WAITING,n)}}}],Vo=[{event:Oo.KEY_INFO,handler:function(e){return t=>{yo.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",t),e.emit(Oo.KEY_INFO,t)}}},{event:Oo.KEYS_EXCHANGED,handler:function(e){return()=>{var t,n,r;yo.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${null===(t=e.state.keyExchange)||void 0===t?void 0:t.areKeysExchanged()}`);const{channelConfig:i}=e.remote.state;if(i){const t=e.getKeyExchange().getKeyInfo().ecies;i.localKey=t.private,i.otherKey=t.otherPubKey,e.remote.state.channelConfig=i,null===(n=e.remote.state.storageManager)||void 0===n||n.persistChannelConfig(i).catch(e=>{})}e.emit(Oo.KEYS_EXCHANGED,{keysExchanged:null===(r=e.state.keyExchange)||void 0===r?void 0:r.areKeysExchanged(),isOriginator:e.state.isOriginator});const a={keyInfo:e.getKeyInfo()};e.emit(Oo.SERVICE_STATUS,a)}}}];function Go(e,t){yo.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} setting socket listeners for channel ${t}...`);const{socket:n}=e.state,{keyExchange:r}=e.state;n&&e.state.isOriginator&&(e.state.debug&&(null==n||n.io.on("error",t=>{yo.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=error`,t)}),null==n||n.io.on("reconnect",t=>{yo.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect`,t),zo(e).catch(e=>{})}),null==n||n.io.on("reconnect_error",t=>{yo.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect_error`,t)}),null==n||n.io.on("reconnect_failed",()=>{yo.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect_failed`)})),null==n||n.on("disconnect",t=>(yo.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${t}' begin recovery...`),function(e){return t=>{yo.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${e.state.manualDisconnect}`,t),e.state.manualDisconnect||(e.emit(Oo.SOCKET_DISCONNECTED),zo(e).catch(e=>{}))}}(e)(t)))),Wo.forEach(({event:r,handler:i})=>{null==n||n.on(`${r}-${t}`,i(e,t))}),Vo.forEach(({event:t,handler:n})=>{null==r||r.on(t,n(e))}),e.state.setupChannelListeners=!0}class Yo extends ut.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:t,communicationLayerPreference:n,communicationServerUrl:r,context:i,remote:a,logging:s}=e;this.state.resumed=t,this.state.context=i,this.state.isOriginator=a.state.isOriginator,this.state.communicationLayerPreference=n,this.state.debug=!0===(null==s?void 0:s.serviceLayer),this.remote=a,!0===(null==s?void 0:s.serviceLayer)&&ct().enable("SocketService:Layer"),this.state.communicationServerUrl=r,this.state.hasPlaintext=this.state.communicationServerUrl!==So&&!0===(null==s?void 0:s.plaintext),yo.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:t,ecies:n,logging:r}=this.options,i={autoConnect:!1,transports:To,withCredentials:!0},a=this.state.communicationServerUrl;yo.SocketService(`[SocketService: initSocket()] Socket IO url: ${a}`),this.state.socket=(0,ee.io)(a,i),function(e){if("undefined"!=typeof window&&"undefined"!=typeof document&&(yo.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,e),!e.state.focusListenerAdded)){const t=()=>{yo.SocketService("Document has focus --- reconnecting socket"),zo(e).catch(e=>{})};window.addEventListener("focus",t),e.state.focusListenerAdded=!0,e.state.removeFocusListener=()=>{window.removeEventListener("focus",t),e.state.focusListenerAdded=!1}}}(this);const s={communicationLayer:this,otherPublicKey:t,sendPublicKey:!1,context:null!==(e=this.state.context)&&void 0!==e?e:"",ecies:n,logging:r};this.state.keyExchange=new jo(s)}resetKeys(){return yo.SocketService("[SocketService: resetKeys()] Resetting keys."),void(null===(e=this.state.keyExchange)||void 0===e||e.resetKeys());var e}createChannel(){return wt(this,void 0,void 0,function*(){return function(e){return wt(this,void 0,void 0,function*(){var t,n,r;if(yo.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),null===(t=e.state.socket)||void 0===t?void 0:t.connected)throw new Error("socket already connected");null===(n=e.state.socket)||void 0===n||n.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const i=gt();e.state.channelId=i,Go(e,i),yield new Promise((t,n)=>{var r;null===(r=e.state.socket)||void 0===r||r.emit(Oo.JOIN_CHANNEL,{channelId:i,context:`${e.state.context}createChannel`,clientType:"dapp"},(r,i)=>wt(this,void 0,void 0,function*(){try{yield Uo(e,r,i),t()}catch(e){n(e)}}))});const a=null===(r=e.state.keyExchange)||void 0===r?void 0:r.getKeyInfo();return{channelId:i,pubKey:(null==a?void 0:a.ecies.public)||"",privKey:(null==a?void 0:a.ecies.private)||""}})}(this)})}connectToChannel({channelId:e,withKeyExchange:t=!1,authorized:n}){return function(e){return wt(this,arguments,void 0,function*({options:e,instance:t}){const{channelId:n,authorized:r,withKeyExchange:i}=e,{state:a,remote:s}=t,{isOriginator:o=!1,socket:c,keyExchange:l}=a,{channelConfig:u}=s.state;if(null==c?void 0:c.connected)throw new Error("socket already connected");if(o&&(null==u?void 0:u.relayPersistence)){const{localKey:e,otherKey:t}=u;e&&t&&(null==l||l.setRelayPersistence({localKey:e,otherKey:t}))}return Object.assign(a,{manualDisconnect:!1,withKeyExchange:i,isOriginator:o,channelId:n}),null==c||c.connect(),Go(t,n),!o&&r&&(null==l||l.setKeysExchanged(!0),Object.assign(s.state,{ready:!0,authorized:!0})),new Promise(e=>{var i;const s=null===(i=null==l?void 0:l.getKeyInfo())||void 0===i?void 0:i.ecies.public;null==c||c.emit(Oo.JOIN_CHANNEL,{channelId:n,context:`${a.context}_connectToChannel`,clientType:o?"dapp":"wallet",publicKey:r&&!o?s:void 0},(n,r)=>wt(this,void 0,void 0,function*(){yield Uo(t,n,r),e()}))})})}({options:{channelId:e,withKeyExchange:t,authorized:n},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,t;null===(t=(e=this).state.socket)||void 0===t||t.emit(Oo.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:Ro.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return wt(this,void 0,void 0,function*(){return function(e,t){return wt(this,void 0,void 0,function*(){var n,r,i;if(!e.state.channelId)throw yo.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(yo.SocketService(`[SocketService: handleSendMessage()] context=${e.state.context} areKeysExchanged=${null===(n=e.state.keyExchange)||void 0===n?void 0:n.areKeysExchanged()}`,t),null===(r=null==t?void 0:t.type)||void 0===r?void 0:r.startsWith("key_handshake"))return function(e,t){var n;yo.SocketService(`[SocketService: handleKeyHandshake()] context=${e.state.context}`,t),null===(n=e.state.socket)||void 0===n||n.emit(Oo.MESSAGE,{id:e.state.channelId,context:e.state.context,clientType:e.state.isOriginator?"dapp":"wallet",message:t})}(e,t),!0;!function(e,t){var n;if(!(null===(n=e.state.keyExchange)||void 0===n?void 0:n.areKeysExchanged())&&!e.remote.state.relayPersistence)throw yo.SocketService(`[SocketService: validateKeyExchange()] context=${e.state.context} ERROR keys not exchanged`,t),new Error("Keys not exchanged BBB")}(e,t),function(e,t){var n;const r=null!==(n=null==t?void 0:t.method)&&void 0!==n?n:"",i=null==t?void 0:t.id;e.state.isOriginator&&i&&(e.state.rpcMethodTracker[i]={id:i,timestamp:Date.now(),method:r},e.emit(Oo.RPC_UPDATE,e.state.rpcMethodTracker[i]))}(e,t);const a=yield Ho(e,t);return e.remote.state.analytics&&e.remote.state.isOriginator&&t.method&&Ko.includes(t.method.toLowerCase())&&vo({id:null!==(i=e.remote.state.channelId)&&void 0!==i?i:"",event:Lo.SDK_RPC_REQUEST,params:{method:t.method,from:"mobile"}},e.remote.state.communicationServerUrl).catch(e=>{}),e.remote.state.isOriginator&&t.method&&ko(t.method)&&lt.analytics.track("sdk_action_requested",{action:t.method}),function(e,t){return wt(this,void 0,void 0,function*(){var n;const r=null==t?void 0:t.id,i=null!==(n=null==t?void 0:t.method)&&void 0!==n?n:"";if(e.state.isOriginator&&r)try{const n=$o(r,e.state.rpcMethodTracker,200).then(e=>({type:qo.RPC_CHECK,result:e})),a=(()=>wt(this,void 0,void 0,function*(){const t=yield(e=>wt(void 0,[e],void 0,function*({rpcId:e,instance:t}){for(;t.state.lastRpcId===e||void 0===t.state.lastRpcId;)yield Fo(200);return t.state.lastRpcId}))({instance:e,rpcId:r}),n=yield $o(t,e.state.rpcMethodTracker,200);return{type:qo.SKIPPED_RPC,result:n}}))(),s=yield Promise.race([n,a]);if(s.type===qo.RPC_CHECK){const e=s.result;yo.SocketService(`[SocketService:handleRpcReplies()] id=${t.id} ${i} ( ${e.elapsedTime} ms)`,e.result)}else{if(s.type!==qo.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${r}`);{const t=Object.assign(Object.assign({},e.state.rpcMethodTracker[r]),{error:new Error("SDK_CONNECTION_ISSUE")});e.emit(Oo.RPC_UPDATE,t);const n={data:Object.assign(Object.assign({},t),{jsonrpc:"2.0"}),name:"metamask-provider"};e.emit(Oo.MESSAGE,{message:n})}}}catch(e){throw e}})}(e,t).catch(e=>{}),a})}(this,e)})}ping(){return function(e){return wt(this,void 0,void 0,function*(){var t,n;yo.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${null===(t=e.state.keyExchange)||void 0===t?void 0:t.areKeysExchanged()}`),null===(n=e.state.socket)||void 0===n||n.emit(No.PING,{id:e.state.channelId,context:"ping",clientType:e.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(e){return wt(this,void 0,void 0,function*(){var t,n;yo.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,(null===(t=e.state.keyExchange)||void 0===t?void 0:t.areKeysExchanged())&&(yield e.sendMessage({type:No.PAUSE})),null===(n=e.state.socket)||void 0===n||n.disconnect()})}(this)}isConnected(){var e;return null===(e=this.state.socket)||void 0===e?void 0:e.connected}resume(){return function(e){return wt(this,void 0,void 0,function*(){const{state:t,remote:n}=e,{socket:r,channelId:i,context:a,keyExchange:s,isOriginator:o}=t,{isOriginator:c}=n.state;if(yo.SocketService(`[SocketService: resume()] channelId=${i} context=${a} connected=${null==r?void 0:r.connected} manualDisconnect=${t.manualDisconnect} resumed=${t.resumed} keysExchanged=${null==s?void 0:s.areKeysExchanged()}`),!i)throw yo.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");(null==r?void 0:r.connected)?(yo.SocketService("[SocketService: resume()] already connected."),r.emit(No.PING,{id:i,clientType:c?"dapp":"wallet",context:"on_channel_config",message:""}),n.hasRelayPersistence()||(null==s?void 0:s.areKeysExchanged())||(o?yield e.sendMessage({type:No.READY}):null==s||s.start({isOriginator:!1}))):(null==r||r.connect(),yo.SocketService(`[SocketService: resume()] after connecting socket --\x3e connected=${null==r?void 0:r.connected}`),null==r||r.emit(Oo.JOIN_CHANNEL,{channelId:i,context:`${a}_resume`,clientType:c?"dapp":"wallet"},(t,n)=>wt(this,void 0,void 0,function*(){try{yield Uo(e,t,n)}catch(e){}}))),t.manualDisconnect=!1,t.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return function(e,t){var n,r,i,a,s;yo.SocketService(`[SocketService: disconnect()] context=${e.state.context}`,t),(null==t?void 0:t.terminate)&&(null===(r=(n=e.state).removeFocusListener)||void 0===r||r.call(n),e.state.channelId=t.channelId,null===(i=e.state.socket)||void 0===i||i.removeAllListeners(),null===(a=e.state.keyExchange)||void 0===a||a.clean(),e.remote.state.ready=!1,e.state.socket=void 0,e.state.rpcMethodTracker={}),e.state.manualDisconnect=!0,null===(s=e.state.socket)||void 0===s||s.disconnect()}(this,e)}}var Jo,Zo,Xo;function Qo(e){return()=>wt(this,void 0,void 0,function*(){var t,n,r;const{state:i}=e;if(i.authorized)return;yield(()=>wt(this,void 0,void 0,function*(){for(;!i.walletInfo;)yield Fo(500)}))();const a="7.3".localeCompare((null===(t=i.walletInfo)||void 0===t?void 0:t.version)||"");if(yo.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${null===(n=i.walletInfo)||void 0===n?void 0:n.version} compareValue=${a}`),1!==a)return;const s=i.platformType===Zo.MobileWeb||i.platformType===Zo.ReactNative||i.platformType===Zo.MetaMaskMobileWebview;yo.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${s} channel=${i.channelId} walletVersion=${null===(r=i.walletInfo)||void 0===r?void 0:r.version}`),s&&(i.authorized=!0,e.emit(Oo.AUTHORIZED))})}function ec(e){return t=>{const{state:n}=e;yo.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${t}`),e.emit(Oo.CHANNEL_CREATED,t)}}function tc(e,t){return()=>{var n,r,i,a;const{state:s}=e;yo.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${s.channelId} keysExchanged=${null===(r=null===(n=s.communicationLayer)||void 0===n?void 0:n.getKeyInfo())||void 0===r?void 0:r.keysExchanged}`),s.analytics&&vo(Object.assign(Object.assign({id:null!==(i=s.channelId)&&void 0!==i?i:"",event:s.reconnection?Lo.RECONNECT:s.isOriginator?Lo.REQUEST:Lo.REQUEST_MOBILE},s.originatorInfo),{commLayer:t,sdkVersion:s.sdkVersion,walletVersion:null===(a=s.walletInfo)||void 0===a?void 0:a.version,commLayerVersion:xo}),s.communicationServerUrl).catch(e=>{}),s.isOriginator&&!s.reconnection&&lt.analytics.track("sdk_connection_established",{transport_type:"websocket"}),s.clientsConnected=!0,s.originatorInfoSent=!1,e.emit(Oo.CLIENTS_CONNECTED)}}function nc(e){return t=>{const{state:n}=e;yo.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${t}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),e.emit(Oo.CLIENTS_DISCONNECTED,n.channelId),e.setConnectionStatus(Po.DISCONNECTED)}}function rc(e){return t=>{var n;const{state:r}=e;if(yo.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${t} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),e.setConnectionStatus(Po.WAITING),e.emit(Oo.CLIENTS_WAITING,t),r.originatorConnectStarted){yo.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const t=(null===(n=r.autoConnectOptions)||void 0===n?void 0:n.timeout)||3e3,i=setTimeout(()=>{yo.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${t}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||e.setConnectionStatus(Po.TIMEOUT),clearTimeout(i)},t)}}}function ic(e,t){return n=>{var r,i,a,s,o,c,l,u;const{state:d}=e;if(yo.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${d.context} on commLayer.'keys_exchanged' channel=${d.channelId}`,n),null===(i=null===(r=d.communicationLayer)||void 0===r?void 0:r.getKeyInfo())||void 0===i?void 0:i.keysExchanged){const t=Object.assign(Object.assign({},d.channelConfig),{channelId:null!==(a=d.channelId)&&void 0!==a?a:"",validUntil:(null===(s=d.channelConfig)||void 0===s?void 0:s.validUntil)||Ao,localKey:d.communicationLayer.getKeyInfo().ecies.private,otherKey:d.communicationLayer.getKeyInfo().ecies.otherPubKey});null===(o=d.storageManager)||void 0===o||o.persistChannelConfig(t).catch(e=>{}),e.setConnectionStatus(Po.LINKED)}!function(e,t){var n,r,i,a,s,o,c,l;const{state:u}=e;yo.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${u.channelId}`,t);const d=Object.assign(Object.assign({},u.channelConfig),{channelId:null!==(n=u.channelId)&&void 0!==n?n:"",validUntil:null!==(i=null===(r=u.channelConfig)||void 0===r?void 0:r.validUntil)&&void 0!==i?i:0,relayPersistence:u.relayPersistence,localKey:null===(s=null===(a=u.communicationLayer)||void 0===a?void 0:a.state.keyExchange)||void 0===s?void 0:s.getKeyInfo().ecies.private,otherKey:null===(c=null===(o=u.communicationLayer)||void 0===o?void 0:o.state.keyExchange)||void 0===c?void 0:c.getKeyInfo().ecies.otherPubKey,lastActive:t.getTime()});null===(l=u.storageManager)||void 0===l||l.persistChannelConfig(d)}(e,new Date),d.analytics&&d.channelId&&vo(Object.assign(Object.assign({id:d.channelId,event:n.isOriginator?Lo.CONNECTED:Lo.CONNECTED_MOBILE},d.originatorInfo),{sdkVersion:d.sdkVersion,commLayer:t,commLayerVersion:xo,walletVersion:null===(c=d.walletInfo)||void 0===c?void 0:c.version}),d.communicationServerUrl).catch(e=>{}),d.isOriginator=n.isOriginator,n.isOriginator||(null===(l=d.communicationLayer)||void 0===l||l.sendMessage({type:No.READY}),d.ready=!0,d.paused=!1),n.isOriginator&&!d.originatorInfoSent&&(null===(u=d.communicationLayer)||void 0===u||u.sendMessage({type:No.ORIGINATOR_INFO,originatorInfo:d.originatorInfo,originator:d.originatorInfo}),d.originatorInfoSent=!0)}}function ac(e){return t=>{let n=t;t.message&&(n=n.message),function(e,t){const{state:n}=t;if(yo.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${n.context} on 'message' typeof=${typeof e}`,e),t.state.ready=!0,n.isOriginator||e.type!==No.ORIGINATOR_INFO)if(n.isOriginator&&e.type===No.WALLET_INFO)!function(e,t){const{state:n}=e;n.walletInfo=t.walletInfo,n.paused=!1}(t,e);else{if(n.isOriginator&&e.type===No.WALLET_INIT)(function(e,t){return wt(this,void 0,void 0,function*(){var n,r,i;const{state:a}=e;if(a.isOriginator){const a=t.data||{};if("object"==typeof a&&"accounts"in a&&"chainId"in a&&"walletKey"in a)try{const{channelConfig:t}=e.state;if(yo.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(t,null,2)),t){const s=a.accounts,o=a.chainId,c=a.walletKey;let l,u=!1;"deeplinkProtocol"in a&&(u=Boolean(a.deeplinkProtocol),e.state.deeplinkProtocolAvailable=u),"walletVersion"in a&&(l=a.walletVersion),yield null===(n=e.state.storageManager)||void 0===n?void 0:n.persistChannelConfig(Object.assign(Object.assign({},t),{otherKey:c,walletVersion:l,deeplinkProtocolAvailable:u,relayPersistence:!0})),yield null===(r=e.state.storageManager)||void 0===r?void 0:r.persistAccounts(s),yield null===(i=e.state.storageManager)||void 0===i?void 0:i.persistChainId(o)}e.emit(Oo.WALLET_INIT,{accounts:a.accounts,chainId:a.chainId})}catch(n){}}})})(t,e).catch(e=>{yo.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${e}`)});else if(e.type===No.TERMINATE)(function(e){return wt(this,void 0,void 0,function*(){const{state:t}=e;t.isOriginator&&(yield uc({options:{terminate:!0,sendMessage:!1},instance:e}),e.emit(Oo.TERMINATE))})})(t).catch(e=>{yo.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${e}`)});else if(e.type===No.PAUSE)!function(e){const{state:t}=e;t.paused=!0,e.setConnectionStatus(Po.PAUSED)}(t);else if(e.type===No.READY&&n.isOriginator)!function(e){const{state:t}=e;e.setConnectionStatus(Po.LINKED);const n=t.paused;t.paused=!1,e.emit(Oo.CLIENTS_READY,{isOriginator:t.isOriginator,walletInfo:t.walletInfo}),n&&(t.authorized=!0,e.emit(Oo.AUTHORIZED))}(t);else{if(e.type===No.OTP&&n.isOriginator)return void function(e,t){var n;const{state:r}=e;e.emit(Oo.OTP,t.otpAnswer),1==="6.6".localeCompare((null===(n=r.walletInfo)||void 0===n?void 0:n.version)||"")&&e.emit(Oo.SDK_RPC_CALL,{method:"eth_requestAccounts",params:[]})}(t,e);e.type===No.AUTHORIZED&&n.isOriginator&&function(e){const{state:t}=e;t.authorized=!0,e.emit(Oo.AUTHORIZED)}(t)}t.emit(Oo.MESSAGE,e)}else!function(e,t){var n;const{state:r}=e;null===(n=r.communicationLayer)||void 0===n||n.sendMessage({type:No.WALLET_INFO,walletInfo:r.walletInfo}),r.originatorInfo=t.originatorInfo||t.originator,e.emit(Oo.CLIENTS_READY,{isOriginator:r.isOriginator,originatorInfo:r.originatorInfo}),r.paused=!1}(t,e)}(n,e)}}function sc(e){return()=>{const{state:t}=e;yo.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),t.ready=!1,t.authorized=!1,Io(t),e.emitServiceStatusEvent({context:"socket_reconnect"})}}function oc(e){return()=>{const{state:t}=e;yo.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),t.ready=!1}}function cc(e){return()=>wt(this,void 0,void 0,function*(){var t,n,r,i,a,s,o;const{state:c}=e;yo.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${c.context}`),e.state.ready=!0,e.state.clientsConnected=!0,e.state.authorized=!0,e.state.relayPersistence=!0,null===(t=e.state.communicationLayer)||void 0===t||t.getKeyExchange().setKeysExchanged(!0),e.emit(Oo.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),e.emit(Oo.AUTHORIZED),e.emit(Oo.CLIENTS_READY),e.emit(Oo.CHANNEL_PERSISTENCE);try{c.channelConfig=Object.assign(Object.assign({},c.channelConfig),{localKey:null===(n=c.communicationLayer)||void 0===n?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:null===(r=c.communicationLayer)||void 0===r?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:null!==(i=c.channelId)&&void 0!==i?i:"",validUntil:null!==(s=null===(a=c.channelConfig)||void 0===a?void 0:a.validUntil)&&void 0!==s?s:Ao,relayPersistence:!0}),yield null===(o=c.storageManager)||void 0===o?void 0:o.persistChannelConfig(c.channelConfig)}catch(t){}})}function lc({communicationLayerPreference:e,otherPublicKey:t,reconnect:n,ecies:r,communicationServerUrl:i=So,instance:a}){var s,o,c,l,u,d,f,p,h,b,y;const{state:m}=a;if(yo.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(m,null,2)),e!==Jo.SOCKET)throw new Error("Invalid communication protocol");m.communicationLayer=new Yo({communicationLayerPreference:e,otherPublicKey:t,reconnect:n,transports:m.transports,communicationServerUrl:i,context:m.context,ecies:r,logging:m.logging,remote:a});let g="undefined"!=typeof document&&document.URL||"",w="undefined"!=typeof document&&document.title||"";(null===(s=m.dappMetadata)||void 0===s?void 0:s.url)&&(g=m.dappMetadata.url),(null===(o=m.dappMetadata)||void 0===o?void 0:o.name)&&(w=m.dappMetadata.name);const v=null!==(d=null!==(l=null===(c=m.dappMetadata)||void 0===c?void 0:c.name)&&void 0!==l?l:null===(u=m.dappMetadata)||void 0===u?void 0:u.url)&&void 0!==d?d:"N/A",E="undefined"!=typeof window&&void 0!==window.location&&null!==(f=window.location.hostname)&&void 0!==f?f:v,x={url:g,title:w,source:null===(p=m.dappMetadata)||void 0===p?void 0:p.source,dappId:E,anonId:m.anonId,icon:(null===(h=m.dappMetadata)||void 0===h?void 0:h.iconUrl)||(null===(b=m.dappMetadata)||void 0===b?void 0:b.base64Icon),platform:m.platformType,apiVersion:xo,connector:null===(y=m.dappMetadata)||void 0===y?void 0:y.connector};m.originatorInfo=x;const S={[Oo.AUTHORIZED]:Qo(a),[Oo.MESSAGE]:ac(a),[Oo.CHANNEL_PERSISTENCE]:cc(a),[Oo.CLIENTS_CONNECTED]:tc(a,e),[Oo.KEYS_EXCHANGED]:ic(a,e),[Oo.SOCKET_DISCONNECTED]:oc(a),[Oo.SOCKET_RECONNECT]:sc(a),[Oo.CLIENTS_DISCONNECTED]:nc(a),[Oo.KEY_INFO]:()=>{},[Oo.CHANNEL_CREATED]:ec(a),[Oo.CLIENTS_WAITING]:rc(a),[Oo.RPC_UPDATE]:e=>{a.emit(Oo.RPC_UPDATE,e)}};for(const[t,n]of Object.entries(S))try{m.communicationLayer.on(t,n)}catch(e){}}function uc(e){return wt(this,arguments,void 0,function*({options:e,instance:t}){const{state:n}=t;return yo.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${n.channelId}`,e),new Promise((r,i)=>{var a,s,o,c,l,u;(null==e?void 0:e.terminate)?(t.state.ready&&vo({id:null!==(a=t.state.channelId)&&void 0!==a?a:"",event:Lo.TERMINATED},t.state.communicationServerUrl).catch(e=>{}),n.ready=!1,n.paused=!1,null===(s=n.storageManager)||void 0===s||s.terminate(null!==(o=n.channelId)&&void 0!==o?o:""),t.state.terminated=!0,e.sendMessage?(null===(c=n.communicationLayer)||void 0===c?void 0:c.getKeyInfo().keysExchanged)&&t.state.communicationLayer&&Ho(t.state.communicationLayer,{type:No.TERMINATE}).then(()=>{r(!0)}).catch(e=>{i(e)}):r(!0),n.authorized=!1,n.relayPersistence=!1,n.channelId=gt(),e.channelId=n.channelId,n.channelConfig=void 0,n.originatorConnectStarted=!1,null===(l=n.communicationLayer)||void 0===l||l.disconnect(e),t.setConnectionStatus(Po.TERMINATED)):(null===(u=n.communicationLayer)||void 0===u||u.disconnect(e),t.setConnectionStatus(Po.DISCONNECTED),r(!0))})})}(Jo||(Jo={})).SOCKET="socket",function(e){e.NonBrowser="nodejs",e.MetaMaskMobileWebview="in-app-browser",e.DesktopWeb="web-desktop",e.MobileWeb="web-mobile",e.ReactNative="react-native"}(Zo||(Zo={}));class dc extends ut.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:So,context:"",persist:!1,clientsConnected:!1,sessionDuration:Ao,originatorConnectStarted:!1,debug:!1,_connectionStatus:Po.DISCONNECTED},this._options=e;const{anonId:t,platformType:n,communicationLayerPreference:r,otherPublicKey:i,reconnect:a,walletInfo:s,dappMetadata:o,protocolVersion:c,transports:l,context:u,relayPersistence:d,ecies:f,analytics:p=!1,storage:h,sdkVersion:b,communicationServerUrl:y=So,logging:m,autoConnect:g={timeout:_o}}=e;this.state.anonId=t,this.state.otherPublicKey=i,this.state.dappMetadata=o,this.state.walletInfo=s,this.state.transports=l,this.state.platformType=n,this.state.analytics=p,this.state.protocolVersion=null!=c?c:1,this.state.isOriginator=!i,this.state.relayPersistence=d,this.state.communicationServerUrl=y,this.state.context=u,this.state.terminated=!1,this.state.sdkVersion=b,this.setMaxListeners(50),this.setConnectionStatus(Po.DISCONNECTED),(null==h?void 0:h.duration)&&(this.state.sessionDuration=Ao),this.state.storageOptions=h,this.state.autoConnectOptions=g,this.state.debug=!0===(null==m?void 0:m.remoteLayer),!0===(null==m?void 0:m.remoteLayer)&&ct().enable("RemoteCommunication:Layer"),!0===(null==m?void 0:m.serviceLayer)&&ct().enable("SocketService:Layer"),!0===(null==m?void 0:m.eciesLayer)&&ct().enable("ECIES:Layer"),!0===(null==m?void 0:m.keyExchangeLayer)&&ct().enable("KeyExchange:Layer"),this.state.logging=m,(null==h?void 0:h.storageManager)&&(this.state.storageManager=h.storageManager),yo.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${c} relayPersistence=${d} isOriginator=${this.state.isOriginator} communicationLayerPreference=${r} otherPublicKey=${i} reconnect=${a}`),this.state.isOriginator||lc({communicationLayerPreference:r,otherPublicKey:i,reconnect:a,ecies:f,communicationServerUrl:y,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return wt(this,void 0,void 0,function*(){var e;if(this.state.storageManager){const t=yield this.state.storageManager.getPersistedChannelConfig({});t&&(this.state.channelConfig=t,this.state.channelId=t.channelId,this.state.deeplinkProtocolAvailable=null!==(e=t.deeplinkProtocolAvailable)&&void 0!==e&&e,t.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(Po.LINKED),yield this.connectToChannel({channelId:t.channelId})))}lc({communicationLayerPreference:Jo.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return wt(this,void 0,void 0,function*(){return yield function(e){return wt(this,void 0,void 0,function*(){var t;const{state:n}=e;if(!n.storageManager)return void yo.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const r=yield n.storageManager.getPersistedChannelConfig({});if(yo.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${n.originatorConnectStarted} channelConfig`,r),null===(t=n.communicationLayer)||void 0===t?void 0:t.isConnected())return yo.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),r;if(r){if(r.validUntil>Date.now())return n.channelConfig=r,n.originatorConnectStarted=!0,n.channelId=null==r?void 0:r.channelId,n.reconnection=!0,r;yo.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}n.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return wt(this,void 0,void 0,function*(){return function(e){return wt(this,void 0,void 0,function*(){var t,n,r,i,a,s;if(!e.communicationLayer)throw new Error("communication layer not initialized");if(e.ready)throw new Error("Channel already connected");if(e.channelId&&(null===(t=e.communicationLayer)||void 0===t?void 0:t.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),null===(n=e.storageManager)||void 0===n||n.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:null===(i=null===(r=e.communicationLayer)||void 0===r?void 0:r.getKeyInfo())||void 0===i?void 0:i.ecies.private,pubKey:null===(s=null===(a=e.communicationLayer)||void 0===a?void 0:a.getKeyInfo())||void 0===s?void 0:s.ecies.public};yo.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const o=yield e.communicationLayer.createChannel();yo.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",o);const c=Object.assign(Object.assign({},e.channelConfig),{channelId:o.channelId,localKey:o.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=o.channelId,e.channelConfig=c,{channelId:e.channelId,pubKey:o.pubKey,privKey:o.privKey}})}(this.state)})}clean(){return Io(this.state)}connectToChannel({channelId:e,withKeyExchange:t,authorized:n}){return function(e){return wt(this,arguments,void 0,function*({channelId:e,withKeyExchange:t,authorized:n,state:r}){var i,a,s;if(!bt(e))throw yo.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r.context} invalid channel channelId=${e}`),new Error(`Invalid channel ${e}`);if(yo.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r.context} channelId=${e} withKeyExchange=${t}`),null===(i=r.communicationLayer)||void 0===i?void 0:i.isConnected())return void yo.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r.context} already connected - interrupt connection.`);r.channelId=e,yield null===(a=r.communicationLayer)||void 0===a?void 0:a.connectToChannel({channelId:e,authorized:n,withKeyExchange:t});const o=Object.assign(Object.assign({},r.channelConfig),{channelId:e,validUntil:Date.now()+r.sessionDuration});r.channelConfig=o,null===(s=r.storageManager)||void 0===s||s.persistChannelConfig(o)})}({channelId:e,authorized:n,withKeyExchange:t,state:this.state})}sendMessage(e){return wt(this,void 0,void 0,function*(){const t=this.state.isOriginator&&e.method&&ko(e.method);t&&lt.analytics.track("sdk_action_requested",{action:e.method});try{return yield function(e,t){return wt(this,void 0,void 0,function*(){var n,r;const{state:i}=e;yo.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${i.context} paused=${i.paused} ready=${i.ready} relayPersistence=${i.relayPersistence} authorized=${i.authorized} socket=${null===(n=i.communicationLayer)||void 0===n?void 0:n.isConnected()} clientsConnected=${i.clientsConnected} status=${i._connectionStatus}`,t),i.relayPersistence||i.ready&&(null===(r=i.communicationLayer)||void 0===r?void 0:r.isConnected())&&i.clientsConnected||(yo.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${i.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(t=>{e.once(Oo.CLIENTS_READY,t)}),yo.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${i.context}  AFTER SKIP / READY -- sending pending message`));try{const n=yield function(e,t){return wt(this,void 0,void 0,function*(){return new Promise(n=>{var r;const{state:i}=e;yo.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${i.context} ready=${i.ready} authorized=${i.authorized} method=${t.method}`),!i.isOriginator||i.authorized||i.relayPersistence?null===(r=i.communicationLayer)||void 0===r||r.sendMessage(t).then(e=>{n(e)}).catch(e=>{n(!1)}):e.once(Oo.AUTHORIZED,()=>{var e;yo.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${i.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),null===(e=i.communicationLayer)||void 0===e||e.sendMessage(t).then(e=>{n(e)}).catch(e=>{n(!1)})})})})}(e,t);return n}catch(e){throw e}})}(this,e)}catch(n){throw t&&lt.analytics.track("sdk_action_failed",{action:e.method}),n}})}testStorage(){return wt(this,void 0,void 0,function*(){return function(e){return wt(this,void 0,void 0,function*(){var t;const n=yield null===(t=e.storageManager)||void 0===t?void 0:t.getPersistedChannelConfig();yo.RemoteCommunication("[RemoteCommunication: testStorage()] res",n)})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return null===(e=this.state.communicationLayer)||void 0===e?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return wt(this,void 0,void 0,function*(){var e;yo.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield null===(e=this.state.communicationLayer)||void 0===e?void 0:e.ping()})}testLogger(){yo.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),yo.SocketService(`testLogger() channel=${this.state.channelId}`),yo.Ecies(`testLogger() channel=${this.state.channelId}`),yo.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;yo.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),null===(e=this.state.communicationLayer)||void 0===e||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(Oo.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(e={}){this.emit(Oo.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return null===(e=this.state.communicationLayer)||void 0===e?void 0:e.getKeyInfo()}resetKeys(){var e;null===(e=this.state.communicationLayer)||void 0===e||e.resetKeys()}setOtherPublicKey(e){var t;const n=null===(t=this.state.communicationLayer)||void 0===t?void 0:t.getKeyExchange();if(!n)throw new Error("KeyExchange is not initialized.");n.getOtherPublicKey()!==e&&n.setOtherPublicKey(e)}pause(){return wt(this,void 0,void 0,function*(){var e;yo.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield null===(e=this.state.communicationLayer)||void 0===e?void 0:e.pause(),this.setConnectionStatus(Po.PAUSED)})}getVersion(){return xo}hasRelayPersistence(){var e;return null!==(e=this.state.relayPersistence)&&void 0!==e&&e}resume(){return wt(this,void 0,void 0,function*(){return function(e){return wt(this,void 0,void 0,function*(){var t;const{state:n}=e;yo.RemoteCommunication(`[RemoteCommunication: resume()] channel=${n.channelId}`),yield null===(t=n.communicationLayer)||void 0===t?void 0:t.resume(),e.setConnectionStatus(Po.LINKED)})}(this)})}encrypt(e){var t,n,r;const i=null===(t=this.state.communicationLayer)||void 0===t?void 0:t.getKeyExchange(),a=null==i?void 0:i.getOtherPublicKey();if(!a)throw new Error("KeyExchange not completed");return null===(r=null===(n=this.state.communicationLayer)||void 0===n?void 0:n.state.eciesInstance)||void 0===r?void 0:r.encrypt(e,a)}decrypt(e){var t,n,r;if(!(null===(t=this.state.communicationLayer)||void 0===t?void 0:t.state.eciesInstance))throw new Error("ECIES instance is not initialized");return null===(r=null===(n=this.state.communicationLayer)||void 0===n?void 0:n.state.eciesInstance)||void 0===r?void 0:r.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return null===(e=this.state.communicationLayer)||void 0===e?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return function(e){return wt(this,arguments,void 0,function*({channelId:e,state:t}){var n,r,i;if(!bt(e))throw yo.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${t.context} invalid channel channelId=${e}`),new Error(`Invalid channel ${e}`);if(t.isOriginator)return void yo.RemoteCommunication(`[RemoteCommunication: reject()] context=${t.context} isOriginator=${t.isOriginator} channelId=${e}`);const{socket:a}=null!==(r=null===(n=t.communicationLayer)||void 0===n?void 0:n.state)&&void 0!==r?r:{};(null==a?void 0:a.connected)||(yo.RemoteCommunication(`[RemoteCommunication: reject()] context=${t.context} socket already connected`),null==a||a.connect()),vo(Object.assign(Object.assign({id:e,event:Lo.REJECTED},t.originatorInfo),{sdkVersion:t.sdkVersion,commLayerVersion:xo,walletVersion:null===(i=t.walletInfo)||void 0===i?void 0:i.version}),t.communicationServerUrl).catch(e=>{}),yield new Promise((n,r)=>{null==a||a.emit(Oo.REJECTED,{channelId:e},(e,i)=>{yo.RemoteCommunication(`[RemoteCommunication: reject()] context=${t.context} socket=${null==a?void 0:a.id}`,{error:e,response:i}),e?r(e):n(i)})})})}({channelId:e,state:this.state})}disconnect(e){return wt(this,void 0,void 0,function*(){return uc({options:e,instance:this})})}}!function(e){e.RENEW="renew",e.LINK="link"}(Xo||(Xo={}));var fc="ERC721",pc="ERC1155",hc={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{chainIdDeprecation:"MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23",networkVersionDeprecation:"MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23",selectedAddressDeprecation:"MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23",enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},rpc:{ethDecryptDeprecation:"MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686",ethGetEncryptionPublicKeyDeprecation:"MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686",walletWatchAssetNFTExperimental:"MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function bc(e){const t={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{t.ethDecryptDeprecation||"eth_decrypt"!==n.method?t.ethGetEncryptionPublicKeyDeprecation||"eth_getEncryptionPublicKey"!==n.method?!t.walletWatchAssetNFTExperimental&&"wallet_watchAsset"===n.method&&[fc,pc].includes(n.params?.type||"")&&(e.warn(hc.warnings.rpc.walletWatchAssetNFTExperimental),t.walletWatchAssetNFTExperimental=!0):(e.warn(hc.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),t.ethGetEncryptionPublicKeyDeprecation=!0):(e.warn(hc.warnings.rpc.ethDecryptDeprecation),t.ethDecryptDeprecation=!0),i()}}var yc=4294967295,mc=Math.floor(Math.random()*yc),gc=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},wc=(e,t,n)=>(gc(e,t,"read from private field"),n?n.call(e):t.get(e)),vc=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ec=(e,t,n,r)=>(gc(e,t,"write to private field"),t.set(e,n),n),xc=(e,t,n)=>(gc(e,t,"access private method"),n),Sc=-32600,Tc=-32603,Ac={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function _c(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}var Cc=(e,t)=>Object.hasOwnProperty.call(e,t);class kc extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...a}=e,{path:s}=e,o=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??o),null!=i&&(this.cause=o),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function Ic(e){return"object"==typeof e&&null!=e}function Pc(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function Oc(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:a}=t,{type:s}=n,{refinement:o,message:c=`Expected a value of type \`${s}\`${o?` with refinement \`${o}\``:""}, but received: \`${Pc(r)}\``}=e;return{value:r,type:s,refinement:o,key:i[i.length-1],path:i,branch:a,...e,message:c}}function*Mc(e,t,n,r){(function(e){return Ic(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=Oc(i,t,n,r);e&&(yield e)}}function*Rc(e,t,n={}){const{path:r=[],branch:i=[e],coerce:a=!1,mask:s=!1}=n,o={path:r,branch:i};if(a&&(e=t.coercer(e,o),s&&"type"!==t.type&&Ic(t.schema)&&Ic(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,o))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[l,u,d]of t.entries(e,o)){const t=Rc(u,d,{path:void 0===l?r:[...r,l],branch:void 0===l?i:[...i,u],coerce:a,mask:s,message:n.message});for(const n of t)n[0]?(c=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):a&&(u=n[1],void 0===l?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):Ic(e)&&(void 0!==u||l in e)&&(e[l]=u))}if("not_valid"!==c)for(const r of t.refiner(e,o))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class Nc{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:a=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=a,this.validator=r?(e,t)=>Mc(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>Mc(i(e,t),t,this,e):()=>[]}assert(e,t){return Lc(e,this,t)}create(e,t){return Dc(e,this,t)}is(e){return Bc(e,this)}mask(e,t){return function(e,t,n){const r=jc(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return jc(e,this,t)}}function Lc(e,t,n){const r=jc(e,t,{message:n});if(r[0])throw r[0]}function Dc(e,t,n){const r=jc(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Bc(e,t){return!jc(e,t)[0]}function jc(e,t,n={}){const r=Rc(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);return i[0]?[new kc(i[0],function*(){for(const e of r)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function Uc(e,t){return new Nc({type:e,schema:null,validator:t})}function Fc(e){let t;return new Nc({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})}function $c(e){return new Nc({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Pc(e)}`})}function zc(e){const t=Pc(e),n=typeof e;return new Nc({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${Pc(n)}`})}function Hc(){return Uc("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${Pc(e)}`)}function qc(e){const t=e?Object.keys(e):[],n=Uc("never",()=>!1);return new Nc({type:"object",schema:e||null,*entries(r){if(e&&Ic(r)){const i=new Set(Object.keys(r));for(const n of t)i.delete(n),yield[n,r[n],e[n]];for(const e of i)yield[e,r[e],n]}},validator:e=>Ic(e)||`Expected an object, but received: ${Pc(e)}`,coercer:e=>Ic(e)?{...e}:e})}function Kc(e){return new Nc({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function Wc(e,t){return new Nc({type:"record",schema:null,*entries(n){if(Ic(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>Ic(e)||`Expected an object, but received: ${Pc(e)}`})}function Vc(){return Uc("string",e=>"string"==typeof e||`Expected a string, but received: ${Pc(e)}`)}function Gc(e){const t=e.map(e=>e.type).join(" | ");return new Nc({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const i=[];for(const t of e){const[...e]=Rc(n,t,r),[a]=e;if(!a[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Pc(n)}`,...i]}})}var Yc=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};function Jc(){throw new Error("setTimeout has not been defined")}function Zc(){throw new Error("clearTimeout has not been defined")}var Xc=Jc,Qc=Zc;function el(e){if(Xc===setTimeout)return setTimeout(e,0);if((Xc===Jc||!Xc)&&setTimeout)return Xc=setTimeout,setTimeout(e,0);try{return Xc(e,0)}catch(t){try{return Xc.call(null,e,0)}catch(t){return Xc.call(this,e,0)}}}"function"==typeof vt.setTimeout&&(Xc=setTimeout),"function"==typeof vt.clearTimeout&&(Qc=clearTimeout);var tl,nl=[],rl=!1,il=-1;function al(){rl&&tl&&(rl=!1,tl.length?nl=tl.concat(nl):il=-1,nl.length&&sl())}function sl(){if(!rl){var e=el(al);rl=!0;for(var t=nl.length;t;){for(tl=nl,nl=[];++il<t;)tl&&tl[il].run();il=-1,t=nl.length}tl=null,rl=!1,function(e){if(Qc===clearTimeout)return clearTimeout(e);if((Qc===Zc||!Qc)&&clearTimeout)return Qc=clearTimeout,clearTimeout(e);try{return Qc(e)}catch(t){try{return Qc.call(null,e)}catch(t){return Qc.call(this,e)}}}(e)}}function ol(e,t){this.fun=e,this.array=t}function cl(){}ol.prototype.run=function(){this.fun.apply(null,this.array)};var ll=cl,ul=cl,dl=cl,fl=cl,pl=cl,hl=cl,bl=cl,yl=vt.performance||{},ml=yl.now||yl.mozNow||yl.msNow||yl.oNow||yl.webkitNow||function(){return(new Date).getTime()},gl=new Date,wl={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];nl.push(new ol(e,t)),1!==nl.length||rl||el(sl)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ll,addListener:ul,once:dl,off:fl,removeListener:pl,removeAllListeners:hl,emit:bl,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*ml.call(yl),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-gl)/1e3}},vl=e=>qc(e);function El({path:e,branch:t}){const n=e[e.length-1];return Cc(t[t.length-2],n)}function xl(e){return new Nc({...e,type:`optional ${e.type}`,validator:(t,n)=>!El(n)||e.validator(t,n),refiner:(t,n)=>!El(n)||e.refiner(t,n)})}var Sl,Tl,Al,_l=Gc([zc(null),Uc("boolean",e=>"boolean"==typeof e),Uc("finite number",e=>Bc(e,Hc())&&Number.isFinite(e)),Vc(),$c(Fc(()=>_l)),Wc(Vc(),Fc(()=>_l))]),Cl=(Sl=_l,Tl=Uc("any",()=>!0),Al=e=>(function(e,t,n="Assertion failed",r=Yc){try{Lc(e,t)}catch(e){throw function(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}(r,`${n}: ${function(e){return function(e){return function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)&&"string"==typeof e.message?e.message:null==e?"":String(e)}(e).replace(/\.$/u,"")}(e)}.`)}}(e,_l),JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t}))),new Nc({...Sl,coercer:(e,t)=>Bc(e,Tl)?Sl.coercer(Al(e),t):Sl.coercer(e,t)}));function kl(e){try{return function(e){Dc(e,Cl)}(e),!0}catch{return!1}}var Il=zc("2.0"),Pl=function(e){return new Nc({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}(Gc([Hc(),Vc()])),Ol=vl({code:Uc("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Pc(e)}`),message:Vc(),data:xl(Cl),stack:xl(Vc())}),Ml=Gc([Wc(Vc(),Cl),$c(Cl)]),Rl=vl({id:Pl,jsonrpc:Il,method:Vc(),params:xl(Ml)}),Nl=vl({jsonrpc:Il,method:Vc(),params:xl(Ml)});function Ll(e){return Bc(e,Rl)}function Dl(e){return Bc(e,Ol)}qc({id:Pl,jsonrpc:Il,result:Kc(Uc("unknown",()=>!0)),error:Kc(Ol)}),Gc([vl({id:Pl,jsonrpc:Il,result:Cl}),vl({id:Pl,jsonrpc:Il,error:Ol})]);var Bl={code:Tc,message:Ul(Tc)},jl="Unspecified server error.";function Ul(e,t="Unspecified error message. This is a bug, please report it."){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(Cc(Ac,t))return Ac[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return jl}return t}function Fl(e,{fallbackError:t=Bl,shouldIncludeStack:n=!0}={}){if(!Dl(t))throw new Error("Must provide fallback error with integer number code and string message.");const r=function(e,t){return e&&"object"==typeof e&&"serialize"in e&&"function"==typeof e.serialize?e.serialize():Dl(e)?e:{...t,data:{cause:$l(e)}}}(e,t);return n||delete r.stack,r}function $l(e){return Array.isArray(e)?e.map(e=>kl(e)?e:_c(e)?zl(e):null):_c(e)?zl(e):kl(e)?e:null}function zl(e){return Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return kl(r)&&(t[n]=r),t},{})}var Hl=Yl;Yl.default=Yl,Yl.stable=Ql,Yl.stableStringify=Ql;var ql="[...]",Kl="[Circular]",Wl=[],Vl=[];function Gl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Yl(e,t,n,r){var i;void 0===r&&(r=Gl()),Zl(e,"",0,[],void 0,0,r);try{i=0===Vl.length?JSON.stringify(e,t,n):JSON.stringify(e,tu(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==Wl.length;){var a=Wl.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function Jl(e,t,n,r){var i=Object.getOwnPropertyDescriptor(r,n);void 0!==i.get?i.configurable?(Object.defineProperty(r,n,{value:e}),Wl.push([r,n,t,i])):Vl.push([t,n,e]):(r[n]=e,Wl.push([r,n,t]))}function Zl(e,t,n,r,i,a,s){var o;if(a+=1,"object"==typeof e&&null!==e){for(o=0;o<r.length;o++)if(r[o]===e)return void Jl(Kl,e,t,i);if(void 0!==s.depthLimit&&a>s.depthLimit)return void Jl(ql,e,t,i);if(void 0!==s.edgesLimit&&n+1>s.edgesLimit)return void Jl(ql,e,t,i);if(r.push(e),Array.isArray(e))for(o=0;o<e.length;o++)Zl(e[o],o,o,r,e,a,s);else{var c=Object.keys(e);for(o=0;o<c.length;o++){var l=c[o];Zl(e[l],l,o,r,e,a,s)}}r.pop()}}function Xl(e,t){return e<t?-1:e>t?1:0}function Ql(e,t,n,r){void 0===r&&(r=Gl());var i,a=eu(e,"",0,[],void 0,0,r)||e;try{i=0===Vl.length?JSON.stringify(a,t,n):JSON.stringify(a,tu(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==Wl.length;){var s=Wl.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function eu(e,t,n,r,i,a,s){var o;if(a+=1,"object"==typeof e&&null!==e){for(o=0;o<r.length;o++)if(r[o]===e)return void Jl(Kl,e,t,i);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==s.depthLimit&&a>s.depthLimit)return void Jl(ql,e,t,i);if(void 0!==s.edgesLimit&&n+1>s.edgesLimit)return void Jl(ql,e,t,i);if(r.push(e),Array.isArray(e))for(o=0;o<e.length;o++)eu(e[o],o,o,r,e,a,s);else{var c={},l=Object.keys(e).sort(Xl);for(o=0;o<l.length;o++){var u=l[o];eu(e[u],u,o,r,e,a,s),c[u]=e[u]}if(void 0===i)return c;Wl.push([i,t,e]),i[t]=c}r.pop()}}function tu(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(Vl.length>0)for(var r=0;r<Vl.length;r++){var i=Vl[r];if(i[1]===t&&i[0]===n){n=i[2],Vl.splice(r,1);break}}return e.call(this,t,n)}}var nu=Sn(Hl),ru=class extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=$l(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return nu(this.serialize(),iu,2)}};function iu(e,t){if("[Circular]"!==t)return t}var au=e=>function(e,t){const[n,r]=function(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??void 0,n]}}return[]}(t);return new ru(e,n??Ul(e),r)}(Sc,e),su={};function ou(){}function cu(){cu.init.call(this)}function lu(e){return void 0===e._maxListeners?cu.defaultMaxListeners:e._maxListeners}function uu(e,t,n,r){var i,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=new ou,e._eventsCount=0),s){if("function"==typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=lu(e))&&i>0&&s.length>i){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,function(e){"function"==typeof console.warn?console.warn(e):console.log(e)}(o)}}else s=a[t]=n,++e._eventsCount;return e}function du(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function fu(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function pu(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}ou.prototype=Object.create(null),cu.EventEmitter=cu,cu.usingDomains=!1,cu.prototype.domain=void 0,cu.prototype._events=void 0,cu.prototype._maxListeners=void 0,cu.defaultMaxListeners=10,cu.init=function(){this.domain=null,cu.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new ou,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},cu.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},cu.prototype.getMaxListeners=function(){return lu(this)},cu.prototype.emit=function(e){var t,n,r,i,a,s,o,c="error"===e;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(o=this.domain,c){if(t=arguments[1],!o){if(t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=o,t.domainThrown=!1,o.emit("error",t),!1}if(!(n=s[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=pu(e,r),a=0;a<r;++a)i[a].call(n)}(n,u,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=pu(e,i),s=0;s<i;++s)a[s].call(n,r)}(n,u,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,s=pu(e,a),o=0;o<a;++o)s[o].call(n,r,i)}(n,u,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var s=e.length,o=pu(e,s),c=0;c<s;++c)o[c].call(n,r,i,a)}(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=pu(e,i),s=0;s<i;++s)a[s].apply(n,r)}(n,u,this,i)}return!0},cu.prototype.addListener=function(e,t){return uu(this,e,t,!1)},cu.prototype.on=cu.prototype.addListener,cu.prototype.prependListener=function(e,t){return uu(this,e,t,!0)},cu.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,du(this,e,t)),this},cu.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,du(this,e,t)),this},cu.prototype.removeListener=function(e,t){var n,r,i,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new ou:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new ou,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,s||t)}return this},cu.prototype.off=function(e,t){return this.removeListener(e,t)},cu.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new ou,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new ou:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new ou,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},cu.prototype.listeners=function(e){var t,n,r=this._events;return n=r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[],n},cu.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):fu.call(e,t)},cu.prototype.listenerCount=fu,cu.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var hu=Tn(Object.freeze({__proto__:null,EventEmitter:cu,default:cu}));Object.defineProperty(su,"__esModule",{value:!0});const bu=hu;function yu(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout(()=>{throw e})}}let mu=class extends bu.EventEmitter{emit(e,...t){let n="error"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if("function"==typeof i)yu(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)yu(n[r],this,t)}return!0}};var gu,wu,vu,Eu,xu,Su,Tu,Au,_u,Cu,ku,Iu,Pu,Ou,Mu,Ru,Nu,Lu,Du,Bu=su.default=mu,ju=class e extends Bu{constructor({notificationHandler:e}={}){super(),vc(this,Eu),vc(this,Su),vc(this,Au),vc(this,gu,!1),vc(this,wu,void 0),vc(this,vu,void 0),Ec(this,wu,[]),Ec(this,vu,e)}destroy(){wc(this,wu).forEach(e=>{"destroy"in e&&"function"==typeof e.destroy&&e.destroy()}),Ec(this,wu,[]),Ec(this,gu,!0)}push(e){xc(this,Eu,xu).call(this),wc(this,wu).push(e)}handle(e,t){if(xc(this,Eu,xu).call(this),t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?xc(this,Su,Tu).call(this,e,t):xc(this,Su,Tu).call(this,e):t?xc(this,Au,_u).call(this,e,t):this._promiseHandle(e)}asMiddleware(){return xc(this,Eu,xu).call(this),async(t,n,r,i)=>{var a,s;try{const[o,c,l]=await xc(a=e,Iu,Pu).call(a,t,n,wc(this,wu));return c?(await xc(s=e,Ru,Nu).call(s,l),i(o)):r(async t=>{var n;try{await xc(n=e,Ru,Nu).call(n,l)}catch(e){return t(e)}return t()})}catch(e){return i(e)}}}async _promiseHandle(e){return new Promise((t,n)=>{xc(this,Au,_u).call(this,e,(e,r)=>{e&&void 0===r?n(e):t(r)}).catch(n)})}};gu=new WeakMap,wu=new WeakMap,vu=new WeakMap,Eu=new WeakSet,xu=function(){if(wc(this,gu))throw new Error("This engine is destroyed and can no longer be used.")},Su=new WeakSet,Tu=async function(e,t){try{if(0===e.length){const e=[{id:null,jsonrpc:"2.0",error:new ru(Sc,"Request batch must contain plain objects. Received an empty array")}];return t?t(null,e):e}const n=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter(e=>void 0!==e);return t?t(null,n):n}catch(e){if(t)return t(e);throw e}},Au=new WeakSet,_u=async function(e,t){var n;if(!e||Array.isArray(e)||"object"!=typeof e){const n=new ru(Sc,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(n,{id:null,jsonrpc:"2.0",error:n})}if("string"!=typeof e.method){const n=new ru(Sc,"Must specify a string method. Received: "+typeof e.method,{request:e});return wc(this,vu)&&!Ll(e)?t(null):t(n,{id:e.id??null,jsonrpc:"2.0",error:n})}if(wc(this,vu)&&Bc(e,Nl)&&!Ll(e)){try{await wc(this,vu).call(this,e)}catch(e){return t(e)}return t(null)}let r=null;const i={...e},a={id:i.id,jsonrpc:i.jsonrpc};try{await xc(n=ju,Cu,ku).call(n,i,a,wc(this,wu))}catch(e){r=e}return r&&(delete a.result,a.error||(a.error=Fl(r))),t(r,a)},Cu=new WeakSet,ku=async function(e,t,n){var r,i,a;const[s,o,c]=await xc(r=ju,Iu,Pu).call(r,e,t,n);if(xc(i=ju,Lu,Du).call(i,e,t,o),await xc(a=ju,Ru,Nu).call(a,c),s)throw s},Iu=new WeakSet,Pu=async function(e,t,n){var r;const i=[];let a=null,s=!1;for(const o of n)if([a,s]=await xc(r=ju,Ou,Mu).call(r,e,t,o,i),s)break;return[a,s,i.reverse()]},Ou=new WeakSet,Mu=async function(e,t,n,r){return new Promise(i=>{const a=e=>{const n=e||t.error;n&&(t.error=Fl(n)),i([n,!0])},s=n=>{t.error?a(t.error):(n&&("function"!=typeof n&&a(new ru(Tc,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof n}" for request:\n${Fu(e)}`,{request:e})),r.push(n)),i([null,!1]))};try{n(e,t,s,a)}catch(e){a(e)}})},Ru=new WeakSet,Nu=async function(e){for(const t of e)await new Promise((e,n)=>{t(t=>t?n(t):e())})},Lu=new WeakSet,Du=function(e,t,n){if(!Cc(t,"result")&&!Cc(t,"error"))throw new ru(Tc,`JsonRpcEngine: Response has no error or result for request:\n${Fu(e)}`,{request:e});if(!n)throw new ru(Tc,`JsonRpcEngine: Nothing ended request:\n${Fu(e)}`,{request:e})},vc(ju,Cu),vc(ju,Iu),vc(ju,Ou),vc(ju,Ru),vc(ju,Lu);var Uu=ju;function Fu(e){return JSON.stringify(e,null,2)}var $u=Object.freeze(["eth_subscription"]),zu=(e=console)=>[(e,t,n,r)=>{const i=e.id,a=mc=(mc+1)%yc;e.id=a,t.id=a,n(n=>{e.id=i,t.id=i,n()})},Hu(e),bc(e)];function Hu(e){return(t,n,r)=>{"string"==typeof t.method&&t.method||(n.error=au({message:"The request 'method' must be a non-empty string.",data:t})),r(t=>{const{error:r}=n;return r?(e.error(`MetaMask - RPC Error: ${r.message}`,r),t()):t()})}}var qu=(e,t,n=!0)=>(r,i)=>{r||i.error?t(r||i.error):!n||Array.isArray(i)?e(i):e(i.result)},Ku=e=>Boolean(e)&&"string"==typeof e&&e.startsWith("0x"),Wu=()=>{};async function Vu(e,t){try{const t=await async function(){return{name:Gu(window),icon:await Yu(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t},Wu)}catch(e){t.error({message:hc.errors.sendSiteMetadata(),originalError:e})}}function Gu(e){const{document:t}=e,n=t.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function Yu(e){const{document:t}=e,n=t.querySelectorAll('head > link[rel~="icon"]');for(const e of Array.from(n))if(e&&await Ju(e.href))return e.href;return null}async function Ju(e){return new Promise((t,n)=>{try{const n=document.createElement("img");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(e){n(e)}})}var Zu=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Xu=(e,t,n)=>(Zu(e,t,"read from private field"),n?n.call(e):t.get(e)),Qu=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ed=(e,t,n,r)=>(Zu(e,t,"write to private field"),t.set(e,n),n);function td(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout(()=>{throw e})}}class nd extends cu{emit(e,...t){let n="error"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if("function"==typeof i)td(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)td(n[r],this,t)}return!0}}var rd,id,ad=Sn(function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var s=a[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}),sd=class e extends nd{constructor({logger:t=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),Qu(this,rd,void 0),Qu(this,id,void 0),this._log=t,this.setMaxListeners(n),this._state={...e._defaultState},ed(this,id,null),ed(this,rd,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new Uu;r.forEach(e=>i.push(e)),this._rpcEngine=i}get chainId(){return Xu(this,rd)}get selectedAddress(){return Xu(this,id)}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw au({message:hc.errors.invalidRequestArgs(),data:e});const{method:t,params:n}=e;if("string"!=typeof t||0===t.length)throw au({message:hc.errors.invalidRequestMethod(),data:e});if(void 0!==n&&!Array.isArray(n)&&("object"!=typeof n||null===n))throw au({message:hc.errors.invalidRequestParams(),data:e});const r=null==n?{method:t}:{method:t,params:n};return new Promise((e,t)=>{this._rpcRequest(r,qu(e,t))})}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:t,chainId:n,isUnlocked:r,networkVersion:i}=e;this._handleConnect(n),this._handleChainChanged({chainId:n,networkVersion:i}),this._handleUnlockStateChanged({accounts:t,isUnlocked:r}),this._handleAccountsChanged(t)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,t){let n=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(n=(n,r)=>{this._handleAccountsChanged(r.result??[],"eth_accounts"===e.method),t(n,r)})),this._rpcEngine.handle(e,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(hc.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let n;this._state.isConnected=!1,e?(n=new ru(1013,t??hc.errors.disconnected()),this._log.debug(n)):(n=new ru(1011,t??hc.errors.permanentlyDisconnected()),this._log.error(n),ed(this,rd,null),this._state.accounts=null,ed(this,id,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleChainChanged({chainId:e}={}){Ku(e)?(this._handleConnect(e),e!==Xu(this,rd)&&(ed(this,rd,e),this._state.initialized&&this.emit("chainChanged",Xu(this,rd)))):this._log.error(hc.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,t=!1){let n=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),n=[]);for(const t of e)if("string"!=typeof t){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),n=[];break}if(!ad(this._state.accounts,n)&&(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",n),this._state.accounts=n,Xu(this,id)!==n[0]&&ed(this,id,n[0]||null),this._state.initialized)){const e=[...n];this.emit("accountsChanged",e)}}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"==typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};rd=new WeakMap,id=new WeakMap,sd._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var od,cd=sd,ld={exports:{}},ud=hu.EventEmitter,dd=Tn(En);od="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var fd=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},pd=/%[sdj%]/g;function hd(e){if(!Pd(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(wd(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(pd,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<i;s=r[++n])Cd(s)||!Nd(s)?a+=" "+s:a+=" "+wd(s);return a}function bd(e,t){if(Md(vt.process))return function(){return bd(e,t).apply(this,arguments)};if(!0===wl.noDeprecation)return e;var n=!1;return function(){if(!n){if(wl.throwDeprecation)throw new Error(t);wl.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}}var yd,md={};function gd(e){return Md(yd)&&(yd=wl.env.NODE_DEBUG||""),e=e.toUpperCase(),md[e]||(new RegExp("\\b"+e+"\\b","i").test(yd)?md[e]=function(){var t=hd.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:md[e]=function(){}),md[e]}function wd(e,t){var n={seen:[],stylize:Ed};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),_d(t)?n.showHidden=t:t&&qd(n,t),Md(n.showHidden)&&(n.showHidden=!1),Md(n.depth)&&(n.depth=2),Md(n.colors)&&(n.colors=!1),Md(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=vd),xd(n,e,n.depth)}function vd(e,t){var n=wd.styles[t];return n?"["+wd.colors[n][0]+"m"+e+"["+wd.colors[n][1]+"m":e}function Ed(e,t){return e}function xd(e,t,n){if(e.customInspect&&t&&Bd(t.inspect)&&t.inspect!==wd&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return Pd(r)||(r=xd(e,r,n)),r}var i=function(e,t){if(Md(t))return e.stylize("undefined","undefined");if(Pd(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return Id(t)?e.stylize(""+t,"number"):_d(t)?e.stylize(""+t,"boolean"):Cd(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var a=Object.keys(t),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),Dd(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return Sd(t);if(0===a.length){if(Bd(t)){var o=t.name?": "+t.name:"";return e.stylize("[Function"+o+"]","special")}if(Rd(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Ld(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Dd(t))return Sd(t)}var c,l="",u=!1,d=["{","}"];return Ad(t)&&(u=!0,d=["[","]"]),Bd(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),Rd(t)&&(l=" "+RegExp.prototype.toString.call(t)),Ld(t)&&(l=" "+Date.prototype.toUTCString.call(t)),Dd(t)&&(l=" "+Sd(t)),0!==a.length||u&&0!=t.length?n<0?Rd(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=u?function(e,t,n,r,i){for(var a=[],s=0,o=t.length;s<o;++s)Kd(t,String(s))?a.push(Td(e,t,n,r,String(s),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(Td(e,t,n,r,i,!0))}),a}(e,t,n,s,a):a.map(function(r){return Td(e,t,n,s,r,u)}),e.seen.pop(),function(e,t,n){var r=e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,l,d)):d[0]+l+d[1]}function Sd(e){return"["+Error.prototype.toString.call(e)+"]"}function Td(e,t,n,r,i,a){var s,o,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),Kd(r,i)||(s="["+i+"]"),o||(e.seen.indexOf(c.value)<0?(o=Cd(n)?xd(e,c.value,null):xd(e,c.value,n-1)).indexOf("\n")>-1&&(o=a?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),Md(s)){if(a&&i.match(/^\d+$/))return o;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function Ad(e){return Array.isArray(e)}function _d(e){return"boolean"==typeof e}function Cd(e){return null===e}function kd(e){return null==e}function Id(e){return"number"==typeof e}function Pd(e){return"string"==typeof e}function Od(e){return"symbol"==typeof e}function Md(e){return void 0===e}function Rd(e){return Nd(e)&&"[object RegExp]"===Fd(e)}function Nd(e){return"object"==typeof e&&null!==e}function Ld(e){return Nd(e)&&"[object Date]"===Fd(e)}function Dd(e){return Nd(e)&&("[object Error]"===Fd(e)||e instanceof Error)}function Bd(e){return"function"==typeof e}function jd(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function Ud(e){return Lt.isBuffer(e)}function Fd(e){return Object.prototype.toString.call(e)}function $d(e){return e<10?"0"+e.toString(10):e.toString(10)}wd.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},wd.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var zd=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Hd(){var e,t;console.log("%s - %s",(t=[$d((e=new Date).getHours()),$d(e.getMinutes()),$d(e.getSeconds())].join(":"),[e.getDate(),zd[e.getMonth()],t].join(" ")),hd.apply(null,arguments))}function qd(e,t){if(!t||!Nd(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function Kd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Wd="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function Vd(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(Wd&&e[Wd]){var t;if("function"!=typeof(t=e[Wd]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Wd,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Wd&&Object.defineProperty(t,Wd,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,fd(e))}function Gd(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function Yd(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return r.apply(i,arguments)};e.apply(this,t).then(function(e){wl.nextTick(a.bind(null,null,e))},function(e){wl.nextTick(Gd.bind(null,e,a))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,fd(e)),t}Vd.custom=Wd;var Jd,Zd,Xd={inherits:od,_extend:qd,log:Hd,isBuffer:Ud,isPrimitive:jd,isFunction:Bd,isError:Dd,isDate:Ld,isObject:Nd,isRegExp:Rd,isUndefined:Md,isSymbol:Od,isString:Pd,isNumber:Id,isNullOrUndefined:kd,isNull:Cd,isBoolean:_d,isArray:Ad,inspect:wd,deprecate:bd,format:hd,debuglog:gd,promisify:Vd,callbackify:Yd},Qd=Tn(Object.freeze({__proto__:null,_extend:qd,callbackify:Yd,debuglog:gd,default:Xd,deprecate:bd,format:hd,inherits:od,inspect:wd,isArray:Ad,isBoolean:_d,isBuffer:Ud,isDate:Ld,isError:Dd,isFunction:Bd,isNull:Cd,isNullOrUndefined:kd,isNumber:Id,isObject:Nd,isPrimitive:jd,isRegExp:Rd,isString:Pd,isSymbol:Od,isUndefined:Md,log:Hd,promisify:Vd}));function ef(e,t){nf(e,t),tf(e)}function tf(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function nf(e,t){e.emit("error",t)}var rf={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,wl.nextTick(nf,this,e)):wl.nextTick(nf,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?n._writableState?n._writableState.errorEmitted?wl.nextTick(tf,n):(n._writableState.errorEmitted=!0,wl.nextTick(ef,n,e)):wl.nextTick(ef,n,e):t?(wl.nextTick(tf,n),t(e)):wl.nextTick(tf,n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}},af={},sf={};function of(e,t,n){n||(n=Error);var r=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);r.prototype.name=n.name,r.prototype.code=e,sf[e]=r}function cf(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}of("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),of("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i;if("string"==typeof t&&"not "===t.substr(0,4)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length)," argument"===e.substring(n-9,n)}(e))i="The ".concat(e," ").concat(r," ").concat(cf(t,"type"));else{var a=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+1>e.length)&&-1!==e.indexOf(".",n)}(e)?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(r," ").concat(cf(t,"type"))}return i+". Received type ".concat(typeof n)},TypeError),of("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),of("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),of("ERR_STREAM_PREMATURE_CLOSE","Premature close"),of("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),of("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),of("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),of("ERR_STREAM_WRITE_AFTER_END","write after end"),of("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),of("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),of("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),af.codes=sf;var lf,uf,df,ff,pf=af.codes.ERR_INVALID_OPT_VALUE,hf=function(e,t,n,r){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new pf(r?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384},bf="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},yf=Tn(Object.freeze({__proto__:null,default:bf})),mf=function(e,t){if(gf("noDeprecation"))return e;var n=!1;return function(){if(!n){if(gf("throwDeprecation"))throw new Error(t);gf("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}};function gf(e){try{if(!xn.localStorage)return!1}catch(e){return!1}var t=xn.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}function wf(){if(uf)return lf;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t){var n=e.entry;for(e.entry=null;n;){var r=n.callback;t.pendingcb--,r(void 0),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var t;uf=1,lf=E,E.WritableState=v;var n,r=mf,i=ud,a=dd.Buffer,s=(void 0!==xn?xn:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},o=rf,c=hf,l=af.codes,u=l.ERR_INVALID_ARG_TYPE,d=l.ERR_METHOD_NOT_IMPLEMENTED,f=l.ERR_MULTIPLE_CALLBACK,p=l.ERR_STREAM_CANNOT_PIPE,h=l.ERR_STREAM_DESTROYED,b=l.ERR_STREAM_NULL_VALUES,y=l.ERR_STREAM_WRITE_AFTER_END,m=l.ERR_UNKNOWN_ENCODING,g=o.errorOrDestroy;function w(){}function v(n,r,i){t=t||vf(),n=n||{},"boolean"!=typeof i&&(i=r instanceof t),this.objectMode=!!n.objectMode,i&&(this.objectMode=this.objectMode||!!n.writableObjectMode),this.highWaterMark=c(this,n,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===n.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new f;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(wl.nextTick(i,r),wl.nextTick(C,e,t),e._writableState.errorEmitted=!0,g(e,r)):(i(r),e._writableState.errorEmitted=!0,g(e,r),C(e,t))}(e,n,r,t,i);else{var a=A(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),r?wl.nextTick(S,e,n,a,i):S(e,n,a,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==n.emitClose,this.autoDestroy=!!n.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function E(e){var r=this instanceof(t=t||vf());if(!r&&!n.call(E,this))return new E(e);this._writableState=new v(e,this,r),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function x(e,t,n,r,i,a,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new h("write")):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function S(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),C(e,t)}function T(t,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(t._writev&&r&&r.next){var i=n.bufferedRequestCount,a=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var o=0,c=!0;r;)a[o]=r,r.isBuf||(c=!1),r=r.next,o+=1;a.allBuffers=c,x(t,n,!0,n.length,a,"",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new e(n),n.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,d=r.callback;if(x(t,n,!1,n.objectMode?1:l.length,l,u,d),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final(function(n){t.pendingcb--,n&&g(e,n),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,wl.nextTick(_,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}return yf(E,i),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:r(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(n=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!n.call(this,e)||this===E&&e&&e._writableState instanceof v}})):n=function(e){return e instanceof this},E.prototype.pipe=function(){g(this,new p)},E.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,c=!i.objectMode&&(r=e,a.isBuffer(r)||r instanceof s);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),c?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=w),i.ending?function(e,t){var n=new y;g(e,n),wl.nextTick(t,n)}(this,n):(c||function(e,t,n,r){var i;return null===n?i=new b:"string"==typeof n||t.objectMode||(i=new u("chunk",["string","Buffer"],n)),!i||(g(e,i),wl.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n)),t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var c=t.objectMode?1:r.length;t.length+=c;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,c,r,i,s);return l}(this,i,c,e,t,n)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new m(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new d("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?wl.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=o.destroy,E.prototype._undestroy=o.undestroy,E.prototype._destroy=function(e,t){t(e)},lf}function vf(){if(ff)return df;ff=1;var e=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};df=s;var t=Df(),n=wf();yf(s,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var a=r[i];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e),n.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",o)))}function o(){this._writableState.ended||wl.nextTick(c,this)}function c(e){e.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),df}var Ef=Lt.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function xf(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!Ef(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Tf;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Af;break;default:return void(this.write=Sf)}this.charBuffer=new Lt(6),this.charReceived=0,this.charLength=0}function Sf(e){return e.toString(this.encoding)}function Tf(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function Af(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}xf.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(e=e.slice(n,e.length),!((r=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r,i=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),i=(t+=e.toString(this.encoding,0,i)).length-1,(r=t.charCodeAt(i))>=55296&&r<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),e.copy(this.charBuffer,0,0,a),t.substring(0,i)}return t},xf.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},xf.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t};var _f=Tn(Object.freeze({__proto__:null,StringDecoder:xf})),Cf=af.codes.ERR_STREAM_PREMATURE_CLOSE;function kf(){}var If,Pf,Of,Mf,Rf,Nf,Lf=function e(t,n,r){if("function"==typeof n)return e(t,null,n);n||(n={}),r=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(r||kf);var i=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,s=function(){t.writable||c()},o=t._writableState&&t._writableState.finished,c=function(){a=!1,o=!0,i||r.call(t)},l=t._readableState&&t._readableState.endEmitted,u=function(){i=!1,l=!0,a||r.call(t)},d=function(e){r.call(t,e)},f=function(){var e;return i&&!l?(t._readableState&&t._readableState.ended||(e=new Cf),r.call(t,e)):a&&!o?(t._writableState&&t._writableState.ended||(e=new Cf),r.call(t,e)):void 0},p=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",f),t.req?p():t.on("request",p)):a&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",c),!1!==n.error&&t.on("error",d),t.on("close",f),function(){t.removeListener("complete",c),t.removeListener("abort",f),t.removeListener("request",p),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",u),t.removeListener("error",d),t.removeListener("close",f)}};function Df(){if(Nf)return Rf;var e;Nf=1,Rf=E,E.ReadableState=v,hu.EventEmitter;var t,n=function(e,t){return e.listeners(t).length},r=ud,i=dd.Buffer,a=(void 0!==xn?xn:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},s=Qd;t=s&&s.debuglog?s.debuglog("stream"):function(){};var o,c,l,u=function(){if(Zd)return Jd;function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function n(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}Zd=1;var i=dd.Buffer,a=Qd.inspect,s=a&&a.custom||"inspect";return Jd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return i.alloc(0);for(var t,n,r,a=i.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,n=a,r=o,i.prototype.copy.call(t,n,r),o+=s.data.length,s=s.next;return a}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?r+=i:r+=i.slice(0,e),0===(e-=a)){a===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=i.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var a=n.data,s=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,s),0===(e-=s)){s===a.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++r}return this.length-=r,t}},{key:s,value:function(e,n){return a(this,t(t({},n),{},{depth:0,customInspect:!1}))}}]),e}(),Jd}(),d=rf,f=hf,p=af.codes,h=p.ERR_INVALID_ARG_TYPE,b=p.ERR_STREAM_PUSH_AFTER_EOF,y=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;yf(E,r);var g=d.errorOrDestroy,w=["error","close","destroy","pause","resume"];function v(t,n,r){e=e||vf(),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=f(this,t,"readableHighWaterMark",r),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o||(o=_f.StringDecoder),this.decoder=new o(t.encoding),this.encoding=t.encoding)}function E(t){if(e=e||vf(),!(this instanceof E))return new E(t);var n=this instanceof e;this._readableState=new v(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function x(e,n,r,s,o){t("readableAddChunk",n);var c,l=e._readableState;if(null===n)l.reading=!1,function(e,n){if(t("onEofChunk"),!n.ended){if(n.decoder){var r=n.decoder.end();r&&r.length&&(n.buffer.push(r),n.length+=n.objectMode?1:r.length)}n.ended=!0,n.sync?_(e):(n.needReadable=!1,n.emittedReadable||(n.emittedReadable=!0,C(e)))}}(e,l);else if(o||(c=function(e,t){var n,r;return r=t,i.isBuffer(r)||r instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new h("chunk",["string","Buffer","Uint8Array"],t)),n}(l,n)),c)g(e,c);else if(l.objectMode||n&&n.length>0)if("string"==typeof n||l.objectMode||Object.getPrototypeOf(n)===i.prototype||(n=function(e){return i.from(e)}(n)),s)l.endEmitted?g(e,new m):S(e,l,n,!0);else if(l.ended)g(e,new b);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!r?(n=l.decoder.write(n),l.objectMode||0!==n.length?S(e,l,n,!1):k(e,l)):S(e,l,n,!1)}else s||(l.reading=!1,k(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&_(e)),k(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=d.destroy,E.prototype._undestroy=d.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=i.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},E.prototype.unshift=function(e){return x(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){o||(o=_f.StringDecoder);var t=new o(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var T=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var n=e._readableState;t("emitReadable",n.needReadable,n.emittedReadable),n.needReadable=!1,n.emittedReadable||(t("emitReadable",n.flowing),n.emittedReadable=!0,wl.nextTick(C,e))}function C(e){var n=e._readableState;t("emitReadable_",n.destroyed,n.length,n.ended),n.destroyed||!n.length&&!n.ended||(e.emit("readable"),n.emittedReadable=!1),n.needReadable=!n.flowing&&!n.ended&&n.length<=n.highWaterMark,R(e)}function k(e,t){t.readingMore||(t.readingMore=!0,wl.nextTick(I,e,t))}function I(e,n){for(;!n.reading&&!n.ended&&(n.length<n.highWaterMark||n.flowing&&0===n.length);){var r=n.length;if(t("maybeReadMore read 0"),e.read(0),r===n.length)break}n.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){t("readable nexttick read 0"),e.read(0)}function M(e,n){t("resume",n.reading),n.reading||e.read(0),n.resumeScheduled=!1,e.emit("resume"),R(e),n.flowing&&!n.reading&&e.read(0)}function R(e){var n=e._readableState;for(t("flow",n.flowing);n.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function L(e){var n=e._readableState;t("endReadable",n.endEmitted),n.endEmitted||(n.ended=!0,wl.nextTick(D,n,e))}function D(e,n){if(t("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,n.readable=!1,n.emit("end"),e.autoDestroy)){var r=n._writableState;(!r||r.autoDestroy&&r.finished)&&n.destroy()}}function B(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}return E.prototype.read=function(e){t("read",e),e=parseInt(e,10);var n=this._readableState,r=e;if(0!==e&&(n.emittedReadable=!1),0===e&&n.needReadable&&((0!==n.highWaterMark?n.length>=n.highWaterMark:n.length>0)||n.ended))return t("read: emitReadable",n.length,n.ended),0===n.length&&n.ended?L(this):_(this),null;if(0===(e=A(e,n))&&n.ended)return 0===n.length&&L(this),null;var i,a=n.needReadable;return t("need readable",a),(0===n.length||n.length-e<n.highWaterMark)&&t("length less than watermark",a=!0),n.ended||n.reading?t("reading or ended",a=!1):a&&(t("do read"),n.reading=!0,n.sync=!0,0===n.length&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(e=A(r,n))),null===(i=e>0?N(e,n):null)?(n.needReadable=n.length<=n.highWaterMark,e=0):(n.length-=e,n.awaitDrain=0),0===n.length&&(n.ended||(n.needReadable=!0),r!==e&&n.ended&&L(this)),null!==i&&this.emit("data",i),i},E.prototype._read=function(e){g(this,new y("_read()"))},E.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,t("pipe count=%d opts=%j",a.pipesCount,r);var s=r&&!1===r.end||e===wl.stdout||e===wl.stderr?h:o;function o(){t("onend"),e.end()}a.endEmitted?wl.nextTick(s):i.once("end",s),e.on("unpipe",function n(r,s){t("onunpipe"),r===i&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,t("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",n),i.removeListener("end",o),i.removeListener("end",h),i.removeListener("data",u),l=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||c())});var c=function(e){return function(){var r=e._readableState;t("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,0===r.awaitDrain&&n(e,"data")&&(r.flowing=!0,R(e))}}(i);e.on("drain",c);var l=!1;function u(n){t("ondata");var r=e.write(n);t("dest.write",r),!1===r&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==B(a.pipes,e))&&!l&&(t("false write response, pause",a.awaitDrain),a.awaitDrain++),i.pause())}function d(r){t("onerror",r),h(),e.removeListener("error",d),0===n(e,"error")&&g(e,r)}function f(){e.removeListener("finish",p),h()}function p(){t("onfinish"),e.removeListener("close",f),h()}function h(){t("unpipe"),i.unpipe(e)}return i.on("data",u),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",f),e.once("finish",p),e.emit("pipe",i),a.flowing||(t("pipe resume"),i.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=B(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},E.prototype.on=function(e,n){var i=r.prototype.on.call(this,e,n),a=this._readableState;return"data"===e?(a.readableListening=this.listenerCount("readable")>0,!1!==a.flowing&&this.resume()):"readable"===e&&(a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,t("on readable",a.length,a.reading),a.length?_(this):a.reading||wl.nextTick(O,this))),i},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&wl.nextTick(P,this),n},E.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||wl.nextTick(P,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(t("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,wl.nextTick(M,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return t("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(t("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var n=this,r=this._readableState,i=!1;for(var a in e.on("end",function(){if(t("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(a){t("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&null==a||(r.objectMode||a&&a.length)&&(n.push(a)||(i=!0,e.pause()))}),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var s=0;s<w.length;s++)e.on(w[s],this.emit.bind(this,w[s]));return this._read=function(n){t("wrapped _read",n),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=function(){if(Pf)return If;var e;function t(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Pf=1;var n=Lf,r=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),s=Symbol("ended"),o=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(e,t){return{value:e,done:t}}function d(e){var t=e[r];if(null!==t){var n=e[l].read();null!==n&&(e[o]=null,e[r]=null,e[i]=null,t(u(n,!1)))}}function f(e){wl.nextTick(d,e)}var p=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((t(e={get stream(){return this[l]},next:function(){var e=this,t=this[a];if(null!==t)return Promise.reject(t);if(this[s])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise(function(t,n){wl.nextTick(function(){e[a]?n(e[a]):t(u(void 0,!0))})});var n,r=this[o];if(r)n=new Promise(function(e,t){return function(n,r){e.then(function(){t[s]?n(u(void 0,!0)):t[c](n,r)},r)}}(r,this));else{var i=this[l].read();if(null!==i)return Promise.resolve(u(i,!1));n=new Promise(this[c])}return this[o]=n,n}},Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var e=this;return new Promise(function(t,n){e[l].destroy(null,function(e){e?n(e):t(u(void 0,!0))})})}),e),p);return If=function(e){var d,p=Object.create(h,(t(d={},l,{value:e,writable:!0}),t(d,r,{value:null,writable:!0}),t(d,i,{value:null,writable:!0}),t(d,a,{value:null,writable:!0}),t(d,s,{value:e._readableState.endEmitted,writable:!0}),t(d,c,{value:function(e,t){var n=p[l].read();n?(p[o]=null,p[r]=null,p[i]=null,e(u(n,!1))):(p[r]=e,p[i]=t)},writable:!0}),d));return p[o]=null,n(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=p[i];return null!==t&&(p[o]=null,p[r]=null,p[i]=null,t(e)),void(p[a]=e)}var n=p[r];null!==n&&(p[o]=null,p[r]=null,p[i]=null,n(u(void 0,!0))),p[s]=!0}),e.on("readable",f.bind(null,p)),p},If}()),c(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=N,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===l&&(l=Mf?Of:(Mf=1,Of=function(){throw new Error("Readable.from is not available in the browser")})),l(E,e,t)}),Rf}var Bf=Kf,jf=af.codes,Uf=jf.ERR_METHOD_NOT_IMPLEMENTED,Ff=jf.ERR_MULTIPLE_CALLBACK,$f=jf.ERR_TRANSFORM_ALREADY_TRANSFORMING,zf=jf.ERR_TRANSFORM_WITH_LENGTH_0,Hf=vf();function qf(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new Ff);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Kf(e){if(!(this instanceof Kf))return new Kf(e);Hf.call(this,e),this._transformState={afterTransform:qf.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",Wf)}function Wf(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?Vf(this,null,null):this._flush(function(t,n){Vf(e,t,n)})}function Vf(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new zf;if(e._transformState.transforming)throw new $f;return e.push(null)}yf(Kf,Hf),Kf.prototype.push=function(e,t){return this._transformState.needTransform=!1,Hf.prototype.push.call(this,e,t)},Kf.prototype._transform=function(e,t,n){n(new Uf("_transform()"))},Kf.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Kf.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},Kf.prototype._destroy=function(e,t){Hf.prototype._destroy.call(this,e,function(e){t(e)})};var Gf,Yf=Zf,Jf=Bf;function Zf(e){if(!(this instanceof Zf))return new Zf(e);Jf.call(this,e)}yf(Zf,Jf),Zf.prototype._transform=function(e,t,n){n(null,e)};var Xf=af.codes,Qf=Xf.ERR_MISSING_ARGS,ep=Xf.ERR_STREAM_DESTROYED;function tp(e){if(e)throw e}function np(e){e()}function rp(e,t){return e.pipe(t)}var ip,ap=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=function(e){return e.length?"function"!=typeof e[e.length-1]?tp:e.pop():tp}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Qf("streams");var a=t.map(function(e,n){var s=n<t.length-1;return function(e,t,n,r){r=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(r);var i=!1;e.on("close",function(){i=!0}),void 0===Gf&&(Gf=Lf),Gf(e,{readable:t,writable:n},function(e){if(e)return r(e);i=!0,r()});var a=!1;return function(t){if(!i&&!a)return a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void r(t||new ep("pipe"))}}(e,s,n>0,function(e){r||(r=e),e&&a.forEach(np),s||(a.forEach(np),i(r))})});return t.reduce(rp)};ip=ld.exports,(ip=ld.exports=Df()).Stream=ip,ip.Readable=ip,ip.Writable=wf(),ip.Duplex=vf(),ip.Transform=Bf,ip.PassThrough=Yf,ip.finished=Lf,ip.pipeline=ap;var sp=ld.exports,op={},cp={exports:{}},lp=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}};function up(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function dp(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}cp.exports=lp(up),cp.exports.strict=lp(dp),up.proto=up(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return up(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return dp(this)},configurable:!0})});var fp=cp.exports,pp={};Object.defineProperty(pp,"__esModule",{value:!0}),pp.Substream=void 0;const hp=sp;class bp extends hp.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}pp.Substream=bp;var yp=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(op,"__esModule",{value:!0}),op.ObjectMultiplex=void 0;const mp=sp,gp=yp(fp),wp=pp,vp=Symbol("IGNORE_SUBSTREAM");let Ep=class extends mp.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new wp.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,t){const n=(0,gp.default)(t);(0,mp.finished)(e,{readable:!1},n),(0,mp.finished)(e,{writable:!1},n)}(this,e=>t.destroy(e||void 0)),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=vp}_read(){}_write(e,t,n){const{name:r,data:i}=e;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const a=this._substreams[r];return a?(a!==vp&&a.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}};op.ObjectMultiplex=Ep;var xp=Sn(op.ObjectMultiplex);const Sp=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;Sp.writable=e=>Sp(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,Sp.readable=e=>Sp(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,Sp.duplex=e=>Sp.writable(e)&&Sp.readable(e),Sp.transform=e=>Sp.duplex(e)&&"function"==typeof e._transform;var Tp,Ap=Sp,_p=class extends cd{constructor(e,{jsonRpcStreamName:t,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!Ap.duplex(e))throw new Error(hc.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const a=new xp;sp.pipeline(e,a,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=function(e={}){const t={},n=new sp.Duplex({objectMode:!0,read:()=>{},write:function(n,a,s){let o=null;try{n.id?function(e){const{id:n}=e;if(null===n)return;const r=t[n];r?(delete t[n],Object.assign(r.res,e),setTimeout(r.end)):console.warn(`StreamMiddleware - Unknown response id "${n}"`)}(n):function(n){e?.retryOnMessage&&n.method===e.retryOnMessage&&Object.values(t).forEach(({req:e,retryCount:n=0})=>{if(!e.id)return;if(n>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${e.id}"`);const r=t[e.id];r&&(r.retryCount=n+1),i(e)}),r.emit("notification",n)}(n)}catch(e){o=e}s(o)}}),r=new Bu;return{events:r,middleware:(e,n,r,a)=>{t[e.id]={req:e,res:n,next:r,end:a},i(e)},stream:n};function i(e){n.push(e)}}({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),sp.pipeline(this._jsonRpcConnection.stream,a.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",t=>{const{method:n,params:r}=t;"metamask_accountsChanged"===n?this._handleAccountsChanged(r):"metamask_unlockStateChanged"===n?this._handleUnlockStateChanged(r):"metamask_chainChanged"===n?this._handleChainChanged(r):$u.includes(n)?this.emit("message",{type:n,data:r}):"METAMASK_STREAM_FAILURE"===n&&e.destroy(new Error(hc.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let e;try{e=await this.request({method:"metamask_getProviderState"})}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}this._initializeState(e)}_handleStreamDisconnect(e,t){let n=`MetaMask: Lost connection to "${e}".`;t?.stack&&(n+=`\n${t.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){Ku(e)&&(e=>Boolean(e)&&"string"==typeof e)(t)?"loading"===t?this._handleDisconnect(!0):super._handleChainChanged({chainId:e}):this._log.error(hc.errors.invalidNetworkParams(),{chainId:e,networkVersion:t})}},Cp=class extends _p{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(e,{jsonRpcStreamName:t,logger:n,maxEventListeners:r,rpcMiddleware:zu(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},Qu(this,Tp,void 0),this._initializeStateAsync(),ed(this,Tp,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",e=>{const{method:t}=e;$u.includes(t)&&(this.emit("data",e),this.emit("notification",e.params.result))}),i)if("complete"===document.readyState)Vu(this._rpcEngine,this._log);else{const e=()=>{Vu(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",e)};window.addEventListener("DOMContentLoaded",e)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(hc.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(hc.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),Xu(this,Tp)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(hc.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),Xu(this,Tp)&&!e&&ed(this,Tp,null)}_warnOfDeprecation(e){!1===this._sentWarnings?.events[e]&&(this._log.warn(hc.warnings.events[e]),this._sentWarnings.events[e]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(hc.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},qu(e,t))}catch(e){t(e)}})}send(e,t){return this._sentWarnings.send||(this._log.warn(hc.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof e||t&&!Array.isArray(t)?e&&"object"==typeof e&&"function"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise((n,r)=>{try{this._rpcRequest({method:e,params:t},qu(n,r,!1))}catch(e){r(e)}})}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(e,Wu),t=!0;break;case"net_version":t=Xu(this,Tp)??null;break;default:throw new Error(hc.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(e=>{this.on("_initialized",()=>e())}),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw au({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise((t,n)=>{this._rpcRequest(e,qu(t,n))})}},{get:(e,t,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(hc.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...n))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),this._state.isConnected&&t!==Xu(this,Tp)&&(ed(this,Tp,t),this._state.initialized&&this.emit("networkChanged",Xu(this,Tp)))}};Tp=new WeakMap;const kp=ct()("MM_SDK");let Ip;kp.color="#FFAC1C";var Pp={},Op={};Object.defineProperty(Op,"__esModule",{value:!0}),Op.EthereumProviderError=Op.EthereumRpcError=void 0;const Mp=Hl;class Rp extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Mp.default(this.serialize(),Np,2)}}function Np(e,t){if("[Circular]"!==t)return t}Op.EthereumRpcError=Rp,Op.EthereumProviderError=class extends Rp{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}};var Lp={},Dp={};Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.errorValues=Dp.errorCodes=void 0,Dp.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Dp.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Dp,n=Op,r=t.errorCodes.rpc.internal,i={code:r,message:a(r)};function a(n,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(n)){const r=n.toString();if(l(t.errorValues,r))return t.errorValues[r].message;if(o(n))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function s(e){if(!Number.isInteger(e))return!1;const n=e.toString();return!!t.errorValues[n]||!!o(e)}function o(e){return e>=-32099&&e<=-32e3}function c(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=a,e.isValidCode=s,e.serializeError=function(e,{fallbackError:t=i,shouldIncludeStack:r=!1}={}){var o,u;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof n.EthereumRpcError)return e.serialize();const d={};if(e&&"object"==typeof e&&!Array.isArray(e)&&l(e,"code")&&s(e.code)){const t=e;d.code=t.code,t.message&&"string"==typeof t.message?(d.message=t.message,l(t,"data")&&(d.data=t.data)):(d.message=a(d.code),d.data={originalError:c(e)})}else{d.code=t.code;const n=null===(o=e)||void 0===o?void 0:o.message;d.message=n&&"string"==typeof n?n:t.message,d.data={originalError:c(e)}}const f=null===(u=e)||void 0===u?void 0:u.stack;return r&&e&&f&&"string"==typeof f&&(d.stack=f),d}}(Lp);var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.ethErrors=void 0;const jp=Op,Up=Lp,Fp=Dp;function $p(e,t){const[n,r]=Hp(t);return new jp.EthereumRpcError(e,n||Up.getMessageFromCode(e),r)}function zp(e,t){const[n,r]=Hp(t);return new jp.EthereumProviderError(e,n||Up.getMessageFromCode(e),r)}function Hp(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}Bp.ethErrors={rpc:{parse:e=>$p(Fp.errorCodes.rpc.parse,e),invalidRequest:e=>$p(Fp.errorCodes.rpc.invalidRequest,e),invalidParams:e=>$p(Fp.errorCodes.rpc.invalidParams,e),methodNotFound:e=>$p(Fp.errorCodes.rpc.methodNotFound,e),internal:e=>$p(Fp.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return $p(t,e)},invalidInput:e=>$p(Fp.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>$p(Fp.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>$p(Fp.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>$p(Fp.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>$p(Fp.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>$p(Fp.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>zp(Fp.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>zp(Fp.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>zp(Fp.errorCodes.provider.unsupportedMethod,e),disconnected:e=>zp(Fp.errorCodes.provider.disconnected,e),chainDisconnected:e=>zp(Fp.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:r}=e;if(!n||"string"!=typeof n)throw new Error('"message" must be a nonempty string');return new jp.EthereumProviderError(t,n,r)}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Op;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const n=Lp;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=Bp;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=Dp;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(Pp);var qp={exports:{}};qp.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),a=e.getVersionPrecision(n),s=Math.max(i,a),o=0,c=e.map([t,n],function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(r&&(o=s-Math.min(i,a)),s-=1;s>=o;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===o)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var o=function(){var e=a[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){r[t]=e[t]})};for(t=0,n=a.length;t<n;t+=1)o();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}])&&s(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),a=c(n(94)),s=c(n(95)),o=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(r.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},a=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(i[t]=s,a+=1):"object"==typeof s&&(n[t]=s,r+=1)}),r>0){var s=Object.keys(n),c=o.default.find(s,function(e){return t.isOS(e)});if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}var u=o.default.find(s,function(e){return t.isPlatform(e)});if(u){var d=this.satisfies(n[u]);if(void 0!==d)return d}}if(a>0){var f=Object.keys(i),p=o.default.find(f,function(e){return t.isBrowser(e,!0)});if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(o.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=l,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:a.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:a.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:a.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:a.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:a.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:a.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:a.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:a.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:a.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:a.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:a.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:a.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:a.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}});var Kp=Sn(qp.exports);const Wp="provider_update",Vp="connectWithResponse",Gp="connection_status",Yp="service_status";class Jp{constructor({shouldSetOnWindow:e,connectionStream:t,shouldSendMetadata:n=!1,shouldShimWeb3:r,sdkInstance:i}){const a=new Qp({connectionStream:t,shouldSendMetadata:n,shouldSetOnWindow:e,shouldShimWeb3:r,autoRequestAccounts:!1}),s=new Proxy(a,{deleteProperty:()=>!0});if(this.provider=s,this.sdkInstance=i,e&&"undefined"!=typeof window)try{o=a,window.ethereum=o,window.dispatchEvent(new Event("ethereum#initialized"))}catch(e){kp("[Ethereum] Unable to set global provider - window.ethereum may be read-only",e)}var o;if(r&&"undefined"!=typeof window)try{!function(e,t=console){let n=!1,r=!1;if(!window.web3){const i="__isMetaMaskShim__";let a={currentProvider:e};Object.defineProperty(a,i,{value:!0,enumerable:!0,configurable:!1,writable:!1}),a=new Proxy(a,{get:(a,s,...o)=>("currentProvider"!==s||n?"currentProvider"===s||s===i||r||(r=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch(e=>{t.debug("MetaMask: Failed to log web3 shim usage.",e)})):(n=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(a,s,...o)),set:(...e)=>(t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...e))}),Object.defineProperty(window,"web3",{value:a,enumerable:!1,configurable:!0,writable:!0})}}(this.provider)}catch(e){kp("[Ethereum] Unable to shim web3 - window.web3 may be read-only",e)}this.provider.on("display_uri",e=>{this.sdkInstance.emit("display_uri",e)}),this.provider.on("_initialized",()=>{const e={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit("initialized",e),kp("[Ethereum: constructor()] provider initialized",e)})}static init(e){var t;return kp("[Ethereum: init()] Initializing Ethereum service"),this.instance=new Jp(e),null===(t=this.instance)||void 0===t?void 0:t.provider}static destroy(){}static getInstance(){var e;if(!(null===(e=this.instance)||void 0===e?void 0:e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var e;if(!(null===(e=this.instance)||void 0===e?void 0:e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class Zp{constructor({useDeepLink:e,preferredOpenLink:t,debug:n=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=t,this.state.debug=n}openDeeplink(e,t,n){return function(e,t,n,r){const{state:i}=e;kp(`[PlatfformManager: openDeeplink()] universalLink --\x3e ${t}`),kp(`[PlatfformManager: openDeeplink()] deepLink --\x3e ${n}`);try{if(i.preferredOpenLink)return void i.preferredOpenLink(i.useDeeplink?n:t,r);if(kp(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${i.useDeeplink} link=${i.useDeeplink?n:t}`),i.useDeeplink)"undefined"!=typeof window&&(window.location.href=n);else if("undefined"!=typeof document){const e=document.createElement("a");e.href=t,e.target="_self",e.rel="noreferrer noopener",e.click()}}catch(e){console.log("[PlatfformManager: openDeeplink()] can't open link",e)}}(this,e,t,n)}isReactNative(){var e;return this.isNotBrowser()&&"undefined"!=typeof window&&(null===window||void 0===window?void 0:window.navigator)&&"ReactNative"===(null===(e=window.navigator)||void 0===e?void 0:e.product)}isMetaMaskInstalled(){return function(){const e=Jp.getProvider()||(null===window||void 0===window?void 0:window.ethereum);return kp(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${null==e?void 0:e.isMetaMask} isConnected=${null==e?void 0:e.isConnected()}`),(null==e?void 0:e.isMetaMask)&&(null==e?void 0:e.isConnected())}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,t;const n=Kp.parse(window.navigator.userAgent);return"mobile"===(null===(e=null==n?void 0:n.platform)||void 0===e?void 0:e.type)||"tablet"===(null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type)}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return"undefined"!=typeof window&&Boolean(window.ReactNativeWebView)&&Boolean(navigator.userAgent.endsWith("MetaMaskMobile"))}isMobileWeb(){return this.state.platformType===Zo.MobileWeb}static isNotBrowser(){var e;return"undefined"==typeof window||!(null===window||void 0===window?void 0:window.navigator)||void 0!==vt&&"ReactNative"===(null===(e=null==vt?void 0:vt.navigator)||void 0===e?void 0:e.product)||"ReactNative"===(null===navigator||void 0===navigator?void 0:navigator.product)}isNotBrowser(){return Zp.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return Zp.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(e){const{state:t}=e;return t.platformType?t.platformType:e.isReactNative()?Zo.ReactNative:e.isNotBrowser()?Zo.NonBrowser:e.isMetaMaskMobileWebView()?Zo.MetaMaskMobileWebview:e.isMobile()?Zo.MobileWeb:Zo.DesktopWeb}(this)}}const Xp=e=>wt(void 0,void 0,void 0,function*(){if(Zp.isBrowser()){const{StorageManagerWeb:t}=yield Promise.resolve().then(function(){return Zh});return new t(e)}const t={persistChannelConfig:()=>wt(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>wt(void 0,void 0,void 0,function*(){}),persistAccounts:()=>wt(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>wt(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>wt(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>wt(void 0,void 0,void 0,function*(){}),terminate:()=>wt(void 0,void 0,void 0,function*(){})};return Promise.resolve(t)});class Qp extends Cp{constructor({connectionStream:e,shouldSendMetadata:t,autoRequestAccounts:n=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:t}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},kp(`[SDKProvider: constructor()] autoRequestAccounts=${n}`),this.state.autoRequestAccounts=n}forceInitializeState(){return wt(this,void 0,void 0,function*(){return kp(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){kp("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:t}=this._state;return t&&0!==t.length?(null===(e=t[0])||void 0===e?void 0:e.toLowerCase())||"":(kp("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,t){return this._handleAccountsChanged(e,t)}handleDisconnect({terminate:e=!1}){!function({terminate:e=!1,instance:t}){const{state:n}=t;kp(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${e}`,t),e&&(t._state.accounts=null,t._state.isUnlocked=!1,t._state.isPermanentlyDisconnected=!0,t._state.initialized=!1),t._handleAccountsChanged([]),t._state.isConnected=!1,t.emit("disconnect",Pp.ethErrors.provider.disconnected()),n.providerStateRequested=!1}({terminate:e,instance:this})}_initializeStateAsync(){return wt(this,void 0,void 0,function*(){return function(e){var t,n;return wt(this,void 0,void 0,function*(){void 0===e.state&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:r}=e;let i;if(r.providerStateRequested)kp("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let a;r.providerStateRequested=!0;let s=null,o=!1,c=!1;const l=yield Xp({enabled:!0});if(l){const e=yield l.getPersistedChannelConfig({});o=null!==(t=null==e?void 0:e.relayPersistence)&&void 0!==t&&t,a=yield l.getCachedChainId();const n=yield l.getCachedAccounts();n.length>0&&(s=n[0])}if(kp(`[SDKProvider: initializeStateAsync()] relayPersistence=${o}`,{relayPersistence:o,cachedChainId:a,cachedSelectedAddress:s}),o)if(a&&s)i={accounts:[s],chainId:a,isUnlocked:!1},c=!0;else try{i=yield e.request({method:"metamask_getProviderState"})}catch(t){return e._log.error("MetaMask: Failed to get initial state. Please report this bug.",t),void(r.providerStateRequested=!1)}if(0===(null===(n=null==i?void 0:i.accounts)||void 0===n?void 0:n.length))if(e.getSelectedAddress())i.accounts=[e.getSelectedAddress()];else{kp("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const t=yield e.request({method:"eth_requestAccounts",params:[]});i.accounts=t}e._initializeState(i),r.providerStateRequested=!1,c&&(e._state.isConnected=!0,e.emit("connect",{chainId:null==i?void 0:i.chainId}))}})}(this)})}_initializeState(e){return kp("[SDKProvider: _initializeState()]",e),function(e,t,n){return kp("[SDKProvider: initializeState()] set state._initialized to false"),e._state.initialized=!1,t(n)}(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:t}={}){this.state.chainId=e,this.state.networkVersion=t,function({instance:e,chainId:t,networkVersion:n,superHandleChainChanged:r}){kp(`[SDKProvider: handleChainChanged()] chainId=${t} networkVersion=${n}`);let i=n;n||(kp("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),i="1"),t!==Ip&&(lt.analytics.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(null!=t?t:"0x1",16)}`}),Ip=t),e._state.isConnected=!0,e.emit("connect",{chainId:t}),r({chainId:t,networkVersion:i})}({instance:this,chainId:e,networkVersion:t,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var eh,th="0.34.0";!function(e){e.INPAGE="metamask-inpage",e.CONTENT_SCRIPT="metamask-contentscript",e.PROVIDER="metamask-provider"}(eh||(eh={}));const nh="https://metamask.app.link/connect",rh="metamask://connect",ih={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},ah=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,sh={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},oh={[sh.ETH_REQUESTACCOUNTS]:!0,[sh.ETH_SENDTRANSACTION]:!0,[sh.ETH_SIGNTRANSACTION]:!0,[sh.ETH_SIGN]:!0,[sh.PERSONAL_SIGN]:!0,[sh.ETH_ACCOUNTS]:!1,[sh.ETH_CHAINID]:!1,[sh.PERSONAL_SIGN]:!0,[sh.ETH_SIGNTYPEDDATA]:!0,[sh.ETH_SIGNTYPEDDATA_V3]:!0,[sh.ETH_SIGNTYPEDDATA_V4]:!0,[sh.WALLET_REQUESTPERMISSIONS]:!0,[sh.WALLET_GETPERMISSIONS]:!0,[sh.WALLET_WATCHASSET]:!0,[sh.WALLET_ADDETHEREUMCHAIN]:!0,[sh.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[sh.METAMASK_CONNECTSIGN]:!0,[sh.METAMASK_CONNECTWITH]:!0,[sh.PERSONAL_EC_RECOVER]:!0,[sh.METAMASK_BATCH]:!0,[sh.METAMASK_OPEN]:!0},ch=Object.keys(oh).filter(e=>!0===oh[e]).map(e=>e.toLowerCase()),lh=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(e=>e.toLowerCase()),uh=".sdk-comm",dh="providerType",fh=".MMSDK_cached_address",ph=".MMSDK_cached_chainId",hh="chainChanged",bh="accountsChanged",yh="disconnect",mh="connect",gh="connected";var wh;!function(e){e.TERMINATE="terminate",e.EXTENSION="extension",e.INITIALIZED="initialized"}(wh||(wh={}));const vh="undefined"!=typeof window&&window.localStorage;function Eh(e){var t,n;return wt(this,void 0,void 0,function*(){kp("[MetaMaskSDK: connectWithExtensionProvider()] ",e),e.sdkProvider=e.activeProvider,e.activeProvider=window.extension,window.ethereum=window.extension;try{const e=yield null===(t=window.extension)||void 0===t?void 0:t.request({method:"eth_requestAccounts"});kp(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${e}`)}catch(e){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",e)}localStorage.setItem(dh,"extension"),e.extensionActive=!0,e.emit(Wp,wh.EXTENSION),e.options.enableAnalytics&&(null===(n=e.analytics)||void 0===n||n.send({event:Lo.SDK_USE_EXTENSION}))})}function xh(e){let t;if(void 0!==Lt)t=Lt.from(e,"utf8").toString("base64");else if("function"==typeof btoa)t=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/gu,(e,t)=>String.fromCharCode(parseInt(t,16))));else{if("object"!=typeof vt||!("Buffer"in vt))throw new Error("Unable to base64 encode: No available method.");t=vt.Buffer.from(e,"utf8").toString("base64")}return t}class Sh extends sp.Duplex{constructor({name:e,remote:t,deeplinkProtocol:n,hideReturnToAppNotification:r,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,hideReturnToAppNotification:!1,platformManager:null},this.state._name=e,this.state.remote=t,this.state.deeplinkProtocol=n,this.state.hideReturnToAppNotification=null!=r?r:this.state.hideReturnToAppNotification,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(Oo.MESSAGE,this._onMessage)}_write(e,t,n){return wt(this,void 0,void 0,function*(){return function(e,t,n,r){var i,a,s,o,c,l,u,d,f,p,h,b,y,m,g,w,v,E,x,S;return wt(this,void 0,void 0,function*(){const n=null===(i=e.state.remote)||void 0===i?void 0:i.isReady(),T=null===(a=e.state.remote)||void 0===a?void 0:a.isConnected(),A=null===(s=e.state.remote)||void 0===s?void 0:s.isPaused(),_=Jp.getProvider(),C=null===(o=e.state.remote)||void 0===o?void 0:o.getChannelId(),k=null===(c=e.state.remote)||void 0===c?void 0:c.isAuthorized(),{deeplinkProtocol:I}=e.state,{method:P,data:O,triggeredInstaller:M}=(e=>{var t,n,r,i;let a;Lt.isBuffer(e)?(a=e.toJSON(),a._isBuffer=!0):a=e;const s=null===(t=null==a?void 0:a.data)||void 0===t?void 0:t.method;let o=!1;return"object"==typeof(null===(n=null==a?void 0:a.data)||void 0===n?void 0:n.params)&&!0===(null===(i=null===(r=null==a?void 0:a.data)||void 0===r?void 0:r.params)||void 0===i?void 0:i.__triggeredInstaller)&&(o=!0,a.data.params=a.data.params.wrappedParams),{method:s,data:a,triggeredInstaller:o}})(t);if(kp(`[RCPMS: write()] method='${P}' isRemoteReady=${n} channelId=${C} isSocketConnected=${T} isRemotePaused=${A} providerConnected=${_.isConnected()}`,t),!C)return P!==sh.METAMASK_GETPROVIDERSTATE&&kp(`[RCPMS: write()] ${P} --\x3e channelId is undefined`),r(new Error("disconnected"));kp(`[RCPMS: write()] remote.isPaused()=${null===(l=e.state.remote)||void 0===l?void 0:l.isPaused()} authorized=${k} ready=${n} socketConnected=${T}`,t);const R=null===(u=e.state.platformManager)||void 0===u?void 0:u.isSecure(),N=null!==(f=null===(d=e.state.platformManager)||void 0===d?void 0:d.isMobileWeb())&&void 0!==f&&f,L=null!==(h=null===(p=e.state.remote)||void 0===p?void 0:p.hasDeeplinkProtocol())&&void 0!==h&&h&&N&&k;try{if(!M){const t=JSON.stringify(null==O?void 0:O.data);if(t.length>1e6)return r(new Error(`Message size ${t.length} exceeds maximum allowed size of 1000000 bytes`));null===(b=e.state.remote)||void 0===b||b.sendMessage(null==O?void 0:O.data).then(()=>{kp(`[RCPMS: _write()] ${P} sent successfully`)}).catch(e=>{kp("[RCPMS: _write()] error sending message",e)})}if(!R)return kp(`[RCPMS: _write()] unsecure platform for method ${P} -- return callback`),r();if(M)return kp("[RCPMS: _write()] prevent deeplink -- installation completed separately."),r();const t=null!==(g=null===(m=null===(y=e.state.remote)||void 0===y?void 0:y.getKeyInfo())||void 0===m?void 0:m.ecies.public)&&void 0!==g?g:"";let n=encodeURI(`channelId=${C}&pubkey=${t}&comm=socket&t=d&v=2&hr=${e.state.hideReturnToAppNotification?1:0}`);if(L){const t=JSON.stringify(null==O?void 0:O.data),i=null===(w=e.state.remote)||void 0===w?void 0:w.encrypt(t);if(!i)return kp("[RCPMS: _write()] error encrypting message"),r(new Error("RemoteCommunicationPostMessageStream - disconnected"));n+=`&scheme=${I}&rpc=${xh(i)}`}if(!(null===(v=e.state.platformManager)||void 0===v?void 0:v.isMetaMaskInstalled()))return kp("[RCPMS: _write()] prevent deeplink until installation is completed."),r();oh[P]?(kp(`[RCPMS: _write()] redirect link for '${P}' socketConnected=${T} connect?${n}`),null===(E=e.state.platformManager)||void 0===E||E.openDeeplink(`${nh}?${n}`,`${rh}?${n}`,"_self")):(null===(x=e.state.remote)||void 0===x?void 0:x.isPaused())?(kp(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${P}`),null===(S=e.state.platformManager)||void 0===S||S.openDeeplink(`${nh}?redirect=true&${n}`,`${rh}?redirect=true&${n}`,"_self")):kp(`[RCPMS: _write()] method ${P} doesn't need redirect.`)}catch(e){return kp("[RCPMS: _write()] error sending message",e),r(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return r()})}(this,e,0,n)})}_read(){}_onMessage(e){return function(e,t){try{if(kp("[RCPMS: onMessage()] message",t),!t||"object"!=typeof t)return;if("object"!=typeof(null==t?void 0:t.data))return;if(!(null==t?void 0:t.name))return void kp("[RCPMS: onMessage()] ignore message without name",t);if((null==t?void 0:t.name)!==eh.PROVIDER)return void kp(`[RCPMS: onMessage()] ignore message with wrong name message=${t}`);if(Lt.isBuffer(t)){const n=Lt.from(t);e.push(n)}else e.push(t)}catch(e){kp(`[RCPMS: onMessage()] ignore message error err=${e}`)}}(this,e)}start(){}}let Th=1;const Ah=e=>new Promise(t=>{setTimeout(()=>{t(!0)},e)});class _h{constructor({serverUrl:e,enabled:t,originatorInfo:n}){this.serverURL=So,this.serverURL=e,this.originatorInfo=n,this.enabled=null==t||t}send({event:e,params:t}){if(!this.enabled)return;const n=Object.assign(Object.assign({id:"sdk",event:e,sdkVersion:th},this.originatorInfo),{params:t});kp(`[Analytics: send()] event: ${e}`,n),vo(n,this.serverURL).catch(e=>{kp(`[Analytics: send()] error: ${e}`)})}}function Ch(e){var t,n,r;const{dappMetadata:i}=e,a=function({url:e,name:t}){var n;const r=xh(e+t);if(!localStorage)return"";let i=null!==(n=localStorage.getItem(r))&&void 0!==n?n:"";if(!i){i=gt();try{localStorage.setItem(r,i)}catch(e){return""}}return i}({url:null!==(t=null==i?void 0:i.url)&&void 0!==t?t:"no_url",name:null!==(n=null==i?void 0:i.name)&&void 0!==n?n:"no_name"}),s=null===(r=e.platformManager)||void 0===r?void 0:r.getPlatformType(),o=s===Zo.DesktopWeb,c=s===Zo.MetaMaskMobileWebview;let l="N/A";return o?l="extension":c&&(l="mobile"),{id:a,from:l}}const kh=(e,t,n)=>{if(ko(e))if(n||t&&"object"==typeof t&&null!==t&&"error"in t){const r=n||(null==t?void 0:t.error);r&&4001===r.code?lt.analytics.track("sdk_action_rejected",{action:e}):lt.analytics.track("sdk_action_failed",{action:e})}else lt.analytics.track("sdk_action_succeeded",{action:e})},Ih=({provider:e,sdkInstance:t})=>{if("state"in e)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(e,{get:(n,r)=>"request"===r?function(e){var r,i;return wt(this,void 0,void 0,function*(){kp("[wrapExtensionProvider()] Overwriting request method",e);const{method:a,params:s}=e,o=ch.includes(a.toLowerCase()),{id:c,from:l}=Ch(t);if(o&&(null===(r=t.analytics)||void 0===r||r.send({event:Lo.SDK_RPC_REQUEST,params:{method:a,from:l,id:c}})),ko(a)&&lt.analytics.track("sdk_action_requested",{action:a}),a===sh.METAMASK_BATCH&&Array.isArray(s))return(({target:e,args:t,trackEvent:n,sdkInstance:r})=>wt(void 0,void 0,void 0,function*(){var i,a;if("metamask_batch"!==t.method)throw new Error("Invalid usage");const s=[],o=null!==(i=null==t?void 0:t.params)&&void 0!==i?i:[];for(const t of o){const n=yield null==e?void 0:e.request({method:t.method,params:t.params});s.push(n)}const{id:c,from:l}=Ch(r);n&&(null===(a=r.analytics)||void 0===a||a.send({event:Lo.SDK_RPC_REQUEST_DONE,params:{method:t.method,from:l,id:c}}));for(const e of s)kh(t.method,e,null);return s}))({target:n,args:e,trackEvent:o,sdkInstance:t});if(a.toLowerCase()===sh.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(s))return(({target:e,params:t})=>wt(void 0,void 0,void 0,function*(){let n,r=null;try{const r=yield e.request({method:sh.ETH_REQUESTACCOUNTS,params:[]});if(!r.length)throw new Error("SDK state invalid -- undefined accounts");return n=yield e.request({method:sh.PERSONAL_SIGN,params:[t[0],r[0]]}),n}catch(e){throw r=e,e}finally{kh(sh.PERSONAL_SIGN,n,r)}}))({target:n,params:s});if(a.toLowerCase()===sh.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(s))return(({target:e,params:t})=>wt(void 0,void 0,void 0,function*(){const[n]=t,r=n.method,i=n.params;let a,s=null;try{const t=yield e.request({method:sh.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(t)||!t.length)throw new Error("SDK state invalid -- undefined accounts");return(null==r?void 0:r.toLowerCase())===sh.PERSONAL_SIGN.toLowerCase()?(a=yield e.request({method:r,params:[i[0],t[0]]}),a):(null==r?void 0:r.toLowerCase())===sh.ETH_SENDTRANSACTION.toLowerCase()?(a=yield e.request({method:r,params:[Object.assign(Object.assign({},i[0]),{from:t[0]})]}),a):lh.includes(r.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${r} -- not handled by the extension -- call separately`),a=t,a):(a=yield e.request({method:r,params:i}),a)}catch(e){throw s=e,e}finally{kh(r,a,s)}}))({target:n,params:s});let u,d=null;try{return u=yield n.request(e),u}catch(e){throw d=e,e}finally{o&&(null===(i=t.analytics)||void 0===i||i.send({event:Lo.SDK_RPC_REQUEST_DONE,params:{method:a,from:l,id:c}})),kh(a,u,d)}})}:"getChainId"===r?function(){return e.chainId}:"getNetworkVersion"===r?function(){return e.networkVersion}:"getSelectedAddress"===r?function(){return e.selectedAddress}:"isConnected"===r?function(){return e._state.isConnected}:n[r]})};var Ph;!function(e){e.Announce="eip6963:announceProvider",e.Request="eip6963:requestProvider"}(Ph||(Ph={}));var Oh="INSTALLED",Mh="NOT_INSTALLED",Rh="REGISTERED",Nh="REGISTERING",Lh="RELOADING",Dh={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},Bh="REGISTRATION_IN_PROGRESS",jh="FORWARDER_ID",Uh=function(){function e(t){var n=void 0===t?{}:t,r=n.forwarderOrigin,i=void 0===r?"https://fwd.metamask.io":r,a=n.forwarderMode,s=void 0===a?e.FORWARDER_MODE.INJECT:a;this.forwarderOrigin=i,this.forwarderMode=s,this.state=e.isMetaMaskInstalled()?Oh:Mh;var o=e._detectBrowser();this.downloadUrl=o?Dh[o]:Dh.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),s===e.FORWARDER_MODE.INJECT&&"true"===sessionStorage.getItem(Bh)&&e._injectForwarder(this.forwarderOrigin)}return e.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return"metamask:reload"===e.data.type?this._onMessageFromForwarder(e):void console.debug("Unknown message from '"+e.origin+"' with data "+JSON.stringify(e.data))},e.prototype._onMessageUnknownStateError=function(e){throw new Error("Unknown state: '"+e+"'")},e.prototype._onMessageFromForwarder=function(t){return function(e,t,n,r){return new(n||(n=Promise))(function(t,i){function a(e){try{o(r.next(e))}catch(e){i(e)}}function s(e){try{o(r.throw(e))}catch(e){i(e)}}function o(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(a,s)}o((r=r.apply(e,[])).next())})}(this,0,void 0,function(){return function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,function(n){switch(n.label){case 0:switch(this.state){case Lh:return[3,1];case Mh:return[3,2];case Oh:return[3,3];case Nh:return[3,5];case Rh:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=Lh,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=Nh,[4,e._register()];case 4:return n.sent(),this.state=Rh,t.source.postMessage({type:"metamask:registrationCompleted"},t.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}})})},e.prototype.startOnboarding=function(){sessionStorage.setItem(Bh,"true"),this._openDownloadPage(),this._openForwarder()},e.prototype.stopOnboarding=function(){"true"===sessionStorage.getItem(Bh)&&(this.forwarderMode===e.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),e._removeForwarder()),sessionStorage.setItem(Bh,"false"))},e.prototype._openForwarder=function(){this.forwarderMode===e.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):e._injectForwarder(this.forwarderOrigin)},e.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},e.isMetaMaskInstalled=function(){return Boolean(window.ethereum&&window.ethereum.isMetaMask)},e._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},e._injectForwarder=function(e){var t=document.body,n=document.createElement("iframe");n.setAttribute("height","0"),n.setAttribute("width","0"),n.setAttribute("style","display: none;"),n.setAttribute("src",e),n.setAttribute("id",jh),t.insertBefore(n,t.children[0])},e._removeForwarder=function(){var e;null===(e=document.getElementById(jh))||void 0===e||e.remove()},e._detectBrowser=function(){var e=Kp.parse(window.navigator.userAgent);return"Firefox"===e.browser.name?"FIREFOX":["Chrome","Chromium"].includes(e.browser.name||"")?"CHROME":null},e.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},e}();class Fh{constructor({remote:e,preferDesktop:t,platformManager:n,debug:r=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=t,this.state.platformManager=n,this.state.debug=r}startDesktopOnboarding(){return function(){return wt(this,void 0,void 0,function*(){kp("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),(new Uh).startOnboarding()})}()}redirectToProperInstall(){return wt(this,void 0,void 0,function*(){return function(e){var t,n;return wt(this,void 0,void 0,function*(){const{state:r}=e,i=null===(t=r.platformManager)||void 0===t?void 0:t.getPlatformType();if(kp(`[MetamaskInstaller: redirectToProperInstall()] platform=${i}`),i===Zo.MetaMaskMobileWebview)return!1;r.isInstalling=!0;try{yield null===(n=r.remote)||void 0===n?void 0:n.startConnection({connectWith:r.connectWith}),r.isInstalling=!1,r.hasInstalled=!0}catch(e){throw r.isInstalling=!1,e}return!0})}(this)})}checkInstallation(){return wt(this,void 0,void 0,function*(){return function(e){var t;return wt(this,void 0,void 0,function*(){const{state:n}=e,r=null===(t=n.platformManager)||void 0===t?void 0:t.isMetaMaskInstalled();return kp(`[MetamaskInstaller: checkInstallation()] isInstalled=${r}`),!!r||(yield e.redirectToProperInstall())})}(this)})}start({wait:e=!1,connectWith:t}){return wt(this,void 0,void 0,function*(){this.state.connectWith=t,kp(`[MetaMaskInstaller: start()] wait=${e}`,t),yield function(e,{wait:t=!1}){return wt(this,void 0,void 0,function*(){return kp(`[MetamaskInstaller: startInstaller()] wait=${t}`),t&&(yield Ah(1e3)),yield e.checkInstallation()})}(this,{wait:e})})}}class $h{constructor({debug:e,sdkVersion:t}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=null!=e&&e,this.sdkVersion=t}loadComponent(e){return wt(this,void 0,void 0,function*(){if(!this.defined[e]){this.defined[e]=!0;try{const e=yield Promise.resolve().then(function(){return py});console.log("loader",e),e.defineCustomElements()}catch(t){console.error(`Failed to load ${e} modal:`,t)}}})}renderInstallModal(e){var t;return wt(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",e),this.containers.install=e.parentElement,yield this.loadComponent("install");const n=document.createElement("mm-install-modal");n.link=e.link,n.preferDesktop=e.preferDesktop,n.sdkVersion=null!==(t=e.sdkVersion)&&void 0!==t?t:this.sdkVersion,n.addEventListener("close",({detail:{shouldTerminate:t}})=>e.onClose(t)),n.addEventListener("startDesktopOnboarding",e.metaMaskInstaller.startDesktopOnboarding),n.addEventListener("trackAnalytics",t=>{var n;return null===(n=e.onAnalyticsEvent)||void 0===n?void 0:n.call(e,t.detail)}),e.parentElement.appendChild(n)})}renderSelectModal(e){var t;return wt(this,void 0,void 0,function*(){this.containers.select=e.parentElement,yield this.loadComponent("select");const n=document.createElement("mm-select-modal");n.link=e.link,n.sdkVersion=null!==(t=e.sdkVersion)&&void 0!==t?t:this.sdkVersion,n.preferDesktop=e.preferDesktop,n.addEventListener("close",({detail:{shouldTerminate:t}})=>e.onClose(t)),n.addEventListener("connectWithExtension",e.connectWithExtension),e.parentElement.appendChild(n),setTimeout(()=>this.updateQRCode(e.link),100)})}renderPendingModal(e){var t;return wt(this,void 0,void 0,function*(){this.containers.pending=e.parentElement,yield this.loadComponent("pending");const n=document.createElement("mm-pending-modal");n.sdkVersion=null!==(t=e.sdkVersion)&&void 0!==t?t:this.sdkVersion,n.displayOTP=e.displayOTP,n.addEventListener("close",e.onClose),n.addEventListener("updateOTPValue",({detail:{otpValue:t}})=>e.updateOTPValue(t)),e.onDisconnect&&n.addEventListener("disconnect",e.onDisconnect),e.parentElement.appendChild(n)})}updateOTPValue(e){const t=()=>{var t;const n=null===(t=this.containers.pending)||void 0===t?void 0:t.querySelector("mm-pending-modal");return!!n&&(n.otpCode=e,!0)};setTimeout(()=>{t()},800)}updateQRCode(e){var t,n;const r=null===(t=this.containers.install)||void 0===t?void 0:t.querySelector("mm-install-modal");if(r)r.link=e;else{const t=null===(n=this.containers.select)||void 0===n?void 0:n.querySelector("mm-select-modal");t&&(t.link=e)}}unmount(){Object.entries(this.containers).forEach(([e,t])=>{var n;null===(n=null==t?void 0:t.parentNode)||void 0===n||n.removeChild(t),this.containers[e]=void 0})}}const zh=({link:e,debug:t,installer:n,terminate:r,connectWithExtension:i,preferDesktop:a,onAnalyticsEvent:s})=>{let o=null,c=null;kp("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),kp(`[UI: InstallModal-web: sdkWebInstallModal()] link=${e}`),kp(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${e}" --ios`),kp(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${e}" --android`),kp(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${e}"`);const l=e=>{var t;kp("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",e,c),(null==c?void 0:c.parentNode)&&(null===(t=c.parentNode)||void 0===t||t.removeChild(c)),c=null,o=null,!0===e&&(null==r||r())};return{mount:r=>{if(kp("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",c),c)return c.style.display="block",void(null==o||o.updateQRCode(r));o=new $h({debug:t,sdkVersion:th}),c=document.createElement("div"),document.body.appendChild(c),window.extension?o.renderSelectModal({parentElement:c,connectWithExtension:()=>{l(),null==i||i()},onClose:l,link:e,preferDesktop:null!=a&&a}).catch(e=>{console.error(e)}):o.renderInstallModal({parentElement:c,preferDesktop:null!=a&&a,link:e,metaMaskInstaller:n,onClose:l,onAnalyticsEvent:s}).catch(e=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",e)})},unmount:l}},Hh=({onDisconnect:e,debug:t})=>{let n=null,r=null;const i=()=>{kp("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",n),(null==n?void 0:n.parentNode)&&n.parentNode.removeChild(n),n=null,r=null},a=e=>{kp("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",e),r&&r.updateOTPValue(e)},s=({displayOTP:s}={displayOTP:!0})=>{kp("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",n),n?n.style.display="block":(r=new $h({debug:t,sdkVersion:th}),n=document.createElement("div"),document.body.appendChild(n),r.renderPendingModal({parentElement:n,onClose:i,onDisconnect:e,updateOTPValue:a,displayOTP:s}).catch(e=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",e)}))};return s(),{mount:s,unmount:i,updateOTPValue:a}};function qh(e,t){var n,r,i,a;e.connector||(kp("[RemoteConnection: initializeConnector()] initialize connector"),e.connector=new dc({anonId:t.anonId,platformType:t.platformManager.getPlatformType(),communicationLayerPreference:t.communicationLayerPreference,transports:t.transports,dappMetadata:Object.assign(Object.assign({},t.dappMetadata),{source:t._source}),analytics:t.enableAnalytics,communicationServerUrl:t.communicationServerUrl,sdkVersion:th,context:"dapp",ecies:t.ecies,storage:t.storage,logging:t.logging}),t.timer&&(kp("[RemoteConnection: initializeConnector()] reset background timer",t.timer),null===(r=null===(n=t.timer)||void 0===n?void 0:n.stopBackgroundTimer)||void 0===r||r.call(n),null===(a=null===(i=t.timer)||void 0===i?void 0:i.runBackgroundTimer)||void 0===a||a.call(i,()=>!1,1e4)))}function Kh(e){e.listeners.forEach(({event:t,handler:n})=>{var r;null===(r=e.connector)||void 0===r||r.off(t,n)}),e.listeners=[]}function Wh(e,t){function n(t,n){var r;null===(r=e.connector)||void 0===r||r.on(t,n),e.listeners.push({event:t,handler:n})}e.connector&&(Kh(e),n(Oo.WALLET_INIT,({accounts:e,chainId:t})=>wt(this,void 0,void 0,function*(){kp(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${e} chainId=${t}`);const n=Jp.getProvider();n._setConnected();const r={accounts:e,chainId:t,isUnlocked:!1};n._initializeState(r),n.emit("chainChanged",t),n.emit("accountsChanged",e)})),n(Oo.AUTHORIZED,()=>wt(this,void 0,void 0,function*(){var t,n,r,i;try{kp("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",e.pendingModal,e.installModal);const a=Jp.getProvider();a._setConnected(),null===(n=null===(t=e.pendingModal)||void 0===t?void 0:t.unmount)||void 0===n||n.call(t),null===(i=null===(r=e.installModal)||void 0===r?void 0:r.unmount)||void 0===i||i.call(r,!1),e.otpAnswer=void 0,e.authorized=!0,kp("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",a.getState()),yield a.forceInitializeState()}catch(e){}})),n(Oo.TERMINATE,()=>{var t,n,r,i,a;null===(n=null===(t=e.pendingModal)||void 0===t?void 0:t.unmount)||void 0===n||n.call(t),null===(i=null===(r=e.installModal)||void 0===r?void 0:r.unmount)||void 0===i||i.call(r,!0),e.pendingModal=void 0,e.installModal=void 0,e.otpAnswer=void 0,null===(a=e.connector)||void 0===a||a.disconnect({terminate:!0}),e.authorized=!1,Jp.getProvider().handleDisconnect({terminate:!0}),Kh(e),kp("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}class Vh{constructor(e){var t,n,r;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const i=!0===(null===(t=e.logging)||void 0===t?void 0:t.developerMode)||!0===(null===(n=e.logging)||void 0===n?void 0:n.sdk);this.state.developerMode=i,this.state.analytics=e.analytics,this.state.preferDesktop=null!==(r=e.preferDesktop)&&void 0!==r&&r,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.hideReturnToAppNotification=e.sdk.options.hideReturnToAppNotification,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=zh),e.modals.otp||(e.modals.otp=Hh)}startConnection(e){return wt(this,void 0,void 0,function*(){return function(e,t,{initialCheck:n,connectWith:r}={}){var i,a,s,o,c,l,u,d,f,p,h,b,y,m,g,w,v,E,x;return wt(this,void 0,void 0,function*(){try{if(qh(e,t),!e.connector)throw new Error("no connector defined");Wh(e);const S=Jp.getProvider();e.authorized=!1,S.emit("connecting");const T=yield null===(i=e.connector)||void 0===i?void 0:i.originatorSessionConnect();kp(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,T);let A=null!==(a=null==T?void 0:T.channelId)&&void 0!==a?a:"",_=null!==(o=null===(s=e.connector.getKeyInfo())||void 0===s?void 0:s.ecies.public)&&void 0!==o?o:"",C=null!==(l=null===(c=e.connector.getKeyInfo())||void 0===c?void 0:c.ecies.private)&&void 0!==l?l:"";if(n&&!T)return Promise.resolve();if(!T&&!n){const t=yield e.connector.generateChannelIdConnect();A=null!==(u=t.channelId)&&void 0!==u?u:"",_=null!==(d=t.pubKey)&&void 0!==d?d:"",C=null!==(f=t.privKey)&&void 0!==f?f:"";const n=Date.now();null===(p=e.connector.state.storageManager)||void 0===p||p.persistChannelConfig({channelId:A,localKey:C,lastActive:n,validUntil:n+Ao})}if(n&&(null==T?void 0:T.channelId))return(null===(h=e.connector)||void 0===h?void 0:h.isConnected())||(kp(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,T),yield null===(b=e.connector)||void 0===b?void 0:b.connectToChannel({channelId:A})),Promise.resolve();T&&!(null===(y=e.connector)||void 0===y?void 0:y.isConnected())&&(kp("[RemoteConnection: startConnection()] reconnecting to channel",T),yield null===(m=e.connector)||void 0===m?void 0:m.connectToChannel({channelId:A}));const k=(null===(g=e.platformManager)||void 0===g?void 0:g.isSecure())?"":"&t=q",I=th,{iconUrl:P,name:O,url:M,scheme:R}=t.dappMetadata||{},N=null===(w=e.platformManager)||void 0===w?void 0:w.getPlatformType();let L="N/A";"undefined"!=typeof window&&window.location&&window.location.hostname?L=window.location.hostname:void 0!==O?L=O:void 0!==M&&(L=M);const D={url:null!=M?M:"",title:null!=O?O:"",icon:P,scheme:null!=R?R:"",apiVersion:I,dappId:L||M||"N/A",anonId:t.anonId,platform:null!=N?N:"",source:null!==(v=t._source)&&void 0!==v?v:""},B=xh(JSON.stringify(D));let j=`channelId=${A}&v=2&comm=${null!==(E=e.communicationLayerPreference)&&void 0!==E?E:""}&pubkey=${_}${k}&originatorInfo=${B}&hr=${e.hideReturnToAppNotification?1:0}`;if(r){j+=`&rpc=${xh(JSON.stringify(r))}`;const t=e.connector.getRPCMethodTracker();t&&(t[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const U=encodeURI(j),F=`${e.useDeeplink?rh:nh}?${j}`;if(e.qrcodeLink=F,e.developerMode&&kp(`[RemoteConnection: startConnection()] qrcodeLink=${U}`),S.emit("display_uri",F),lt.analytics.track("sdk_connection_initiated",{transport_type:"websocket"}),null===(x=e.platformManager)||void 0===x?void 0:x.isSecure()){const t=setTimeout(()=>{lt.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return yield function(e,t){var n,r;return wt(this,void 0,void 0,function*(){const i=`${nh}?${t}`,a=`${rh}?${t}`;null===(r=null===(n=e.platformManager)||void 0===n?void 0:n.openDeeplink)||void 0===r||r.call(n,i,a,"_self")})}(e,U),new Promise((n,r)=>{var i,a,s;if(null===(i=e.connector)||void 0===i?void 0:i.isAuthorized())return clearTimeout(t),void n();null===(a=e.connector)||void 0===a||a.once(Oo.AUTHORIZED,()=>{clearTimeout(t),n()}),null===(s=e.connector)||void 0===s||s.once(Oo.REJECTED,()=>{clearTimeout(t),r(Oo.REJECTED)})})}return function(e,t,n){return wt(this,void 0,void 0,function*(){const r=setTimeout(()=>{lt.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return new Promise((i,a)=>{if(!e.connector)return void a(new Error("No connector available"));kp("[RemoteConnection: connectWithModalInstaller()]",{state:e,options:t,linkParams:n});const s=`${e.useDeeplink?rh:nh}?${n}`;!function(e,t,n){var r,i,a,s;e.installModal=null===(i=(r=t.modals).install)||void 0===i?void 0:i.call(r,{link:n,preferDesktop:e.preferDesktop,installer:t.getMetaMaskInstaller(),terminate:()=>{kp("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),t.sdk.terminate().catch(e=>{console.warn("[MMSDK] failed to terminate connection",e)})},debug:e.developerMode,connectWithExtension:()=>{var e;return null===(e=t.connectWithExtensionProvider)||void 0===e||e.call(t),!1},onAnalyticsEvent:({event:n,params:r})=>{var i,a,s;const o=Object.assign(Object.assign({},r),{sdkVersion:t.sdk.getVersion(),dappId:null===(i=t.dappMetadata)||void 0===i?void 0:i.name,source:t._source,url:null===(a=t.dappMetadata)||void 0===a?void 0:a.url});null===(s=e.analytics)||void 0===s||s.send({event:n,params:o})}}),null===(s=null===(a=e.installModal)||void 0===a?void 0:a.mount)||void 0===s||s.call(a,n)}(e,t,s),t.sdk.once(Oo.PROVIDER_UPDATE,e=>wt(this,void 0,void 0,function*(){if(kp("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),e===wh.TERMINATE){const e={code:4001,message:"User rejected the request."};return clearTimeout(r),void a(e)}a(e)})),e.connector.once(Oo.AUTHORIZED,()=>{clearTimeout(r),i()}),e.connector.once(Oo.REJECTED,()=>{clearTimeout(r),a(Oo.REJECTED)}),e.connector.once(Oo.CLIENTS_READY,()=>wt(this,void 0,void 0,function*(){kp("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(r),i()}))})})}(e,t,U)}catch(e){throw console.error("[startConnection] error",e),e}})}(this.state,this.options,e)})}initRemoteCommunication({sdkInstance:e}){var t,n,r;return wt(this,void 0,void 0,function*(){const i=yield null===(n=null===(t=e.options.storage)||void 0===t?void 0:t.storageManager)||void 0===n?void 0:n.getPersistedChannelConfig();if(!this.options.ecies){const e={privateKey:null==i?void 0:i.localKey};this.options.ecies=e}qh(this.state,this.options),yield null===(r=this.getConnector())||void 0===r?void 0:r.initFromDappStorage(),Wh(this.state,this.options)})}showActiveModal(){return function(e){var t,n,r,i;e.authorized?kp("[RemoteConnection: showActiveModal()] already authorized"):e.pendingModal?null===(n=(t=e.pendingModal).mount)||void 0===n||n.call(t):e.installModal&&(null===(i=(r=e.installModal).mount)||void 0===i||i.call(r,e.qrcodeLink||""))}(this.state)}closeModal(){var e,t,n,r;null===(t=null===(e=this.state.pendingModal)||void 0===e?void 0:e.unmount)||void 0===t||t.call(e),null===(r=null===(n=this.state.installModal)||void 0===n?void 0:n.unmount)||void 0===r||r.call(n,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var e;return null===(e=this.state.connector)||void 0===e?void 0:e.getChannelConfig()}getKeyInfo(){var e;return null===(e=this.state.connector)||void 0===e?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var e;return(null===(e=this.state.connector)||void 0===e?void 0:e.isReady())||!1}isAuthorized(){var e;return(null===(e=this.state.connector)||void 0===e?void 0:e.isAuthorized())||!1}isPaused(){var e;return null===(e=this.state.connector)||void 0===e?void 0:e.isPaused()}disconnect(e){var t,n,r;kp("[RemoteConnection: disconnect()]",e),(null==e?void 0:e.terminate)&&(Jp.getProvider().handleDisconnect({terminate:!0}),null===(n=null===(t=this.state.pendingModal)||void 0===t?void 0:t.unmount)||void 0===n||n.call(t),this.state.otpAnswer=void 0),null===(r=this.state.connector)||void 0===r||r.disconnect(e),function(e){kp("[RemoteConnection: cleanupConnector()] cleaning up connector"),e.connector&&(Kh(e),e.connector.disconnect({terminate:!0}).catch(e=>{kp("[RemoteConnection: cleanupConnector()] error disconnecting connector",e)}))}(this.state)}}function Gh(e){var t,n,r,i,a,s,o,c,l,u,d,f;return wt(this,void 0,void 0,function*(){const{options:p}=e;if(p.logging=null!==(t=p.logging)&&void 0!==t?t:{},p.communicationLayerPreference=null!==(n=p.communicationLayerPreference)&&void 0!==n?n:Jo.SOCKET,void 0!==p.enableDebug&&(ct().enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),p.enableAnalytics=null===(r=p.enableAnalytics)||void 0===r||r,p.injectProvider=null===(i=p.injectProvider)||void 0===i||i,p.shouldShimWeb3=null===(a=p.shouldShimWeb3)||void 0===a||a,p.extensionOnly=null===(s=p.extensionOnly)||void 0===s||s,p.useDeeplink=null===(o=p.useDeeplink)||void 0===o||o,p.hideReturnToAppNotification=null!==(c=p.hideReturnToAppNotification)&&void 0!==c&&c,p.storage=null!==(l=p.storage)&&void 0!==l?l:{enabled:!0},p.headless){ct()("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const e=()=>{},t={install:()=>({mount:e,unmount:e})},n={installer:e};p.modals=t,p.ui=n}const h=!0===(null===(u=p.logging)||void 0===u?void 0:u.developerMode);e.debug=(null===(d=p.logging)||void 0===d?void 0:d.sdk)||h,kp("[MetaMaskSDK: performSDKInitialization()] options",e.options);const b=Object.assign({},p.logging);h&&(b.sdk=!0,b.eciesLayer=!0,b.keyExchangeLayer=!0,b.remoteLayer=!0,b.serviceLayer=!0,b.plaintext=!0),yield function(e){var t;return wt(this,void 0,void 0,function*(){const{options:n}=e;e.platformManager=new Zp({useDeepLink:null!==(t=n.useDeeplink)&&void 0!==t&&t,preferredOpenLink:n.openDeeplink,debug:e.debug})})}(e),yield function(e){var t,n,r,i,a;return wt(this,void 0,void 0,function*(){const{options:s}=e,o=null===(t=e.platformManager)||void 0===t?void 0:t.getPlatformType();e.analytics=new _h({serverUrl:null!==(n=s.communicationServerUrl)&&void 0!==n?n:So,enabled:s.enableAnalytics,originatorInfo:{url:null!==(r=s.dappMetadata.url)&&void 0!==r?r:"",title:null!==(i=s.dappMetadata.name)&&void 0!==i?i:"",dappId:e.getDappId(),platform:null!=o?o:"",source:null!==(a=s._source)&&void 0!==a?a:"",anonId:""}})})}(e),yield function(e){var t,n,r;return wt(this,void 0,void 0,function*(){if(!e.options.enableAnalytics)return;if(!(null===(t=e.platformManager)||void 0===t?void 0:t.isBrowser())&&!(null===(n=e.platformManager)||void 0===n?void 0:n.isReactNative()))return;const i=e.getVersion(),a=e.getDappId(),s=yield e.getAnonId(),o=null===(r=e.platformManager)||void 0===r?void 0:r.getPlatformType(),c=e.options._source;lt.analytics.setGlobalProperty("sdk_version",i),lt.analytics.setGlobalProperty("dapp_id",a),lt.analytics.setGlobalProperty("anon_id",s),lt.analytics.setGlobalProperty("platform",o),lt.analytics.setGlobalProperty("integration_type",c),lt.analytics.enable(),lt.analytics.track("sdk_initialized",{})})}(e),yield function(e){var t;return wt(this,void 0,void 0,function*(){const{options:n}=e;!0!==(null===(t=n.storage)||void 0===t?void 0:t.enabled)||n.storage.storageManager||(n.storage.storageManager=yield Xp(n.storage))})}(e),yield function(e){return wt(this,void 0,void 0,function*(){const{options:t}=e,n=/^(http|https):\/\/[^\s]*$/;if(t.dappMetadata){t.dappMetadata.iconUrl&&!n.test(t.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),t.dappMetadata.iconUrl=void 0),t.dappMetadata.base64Icon&&t.dappMetadata.base64Icon.length>163400&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),t.dappMetadata.base64Icon=void 0),t.dappMetadata.url&&!n.test(t.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const e=(()=>{if("undefined"==typeof document)return;let e;const t=document.getElementsByTagName("link");for(let n=0;n<t.length;n++)"icon"!==t[n].getAttribute("rel")&&"shortcut icon"!==t[n].getAttribute("rel")||(e=t[n].getAttribute("href"));return e})();if(e&&!t.dappMetadata.iconUrl&&!t.dappMetadata.base64Icon){const n=`${window.location.protocol}//${window.location.host}${e}`;t.dappMetadata.iconUrl=n}}e.dappMetadata=t.dappMetadata})}(e),yield(e=>wt(void 0,void 0,void 0,function*(){const{options:t}=e,{infuraAPIKey:n}=t;if(!n)return;const r={"0x1":`https://mainnet.infura.io/v3/${n}`,"0x5":`https://goerli.infura.io/v3/${n}`,"0xaa36a7":`https://sepolia.infura.io/v3/${n}`,"0xe708":`https://linea-mainnet.infura.io/v3/${n}`,"0xe704":`https://linea-goerli.infura.io/v3/${n}`,"0x89":`https://polygon-mainnet.infura.io/v3/${n}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${n}`,"0x45":`https://optimism-mainnet.infura.io/v3/${n}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${n}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${n}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${n}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${n}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${n}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${n}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${n}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${n}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${n}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${n}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${n}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${n}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${n}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${n}`};e.options.readonlyRPCMap?e.options.readonlyRPCMap=Object.assign(Object.assign({},e.options.readonlyRPCMap),r):e.options.readonlyRPCMap=r}))(e),yield(e=>wt(void 0,void 0,void 0,function*(){const{options:t}=e,{readonlyRPCMap:n}=t;if(n)try{kp("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",n),e.setReadOnlyRPCCalls(!0)}catch(e){throw new Error("Invalid Infura Settings")}}))(e);const{metamaskBrowserExtension:y,preferExtension:m,shouldReturn:g}=yield function(e){var t,n,r,i;return wt(this,void 0,void 0,function*(){const{options:a}=e;let s,o=!1,c=!1;if("undefined"!=typeof window&&window.ethereum&&!(null===(t=e.platformManager)||void 0===t?void 0:t.isMetaMaskMobileWebView())){o="extension"===localStorage.getItem(dh);try{s=yield function({mustBeMetaMask:e,sdkInstance:t}){return wt(this,void 0,void 0,function*(){if("undefined"==typeof window)throw new Error("window not available");try{const e=yield new Promise((e,t)=>{const n=setTimeout(()=>{t(new Error("eip6963RequestProvider timed out"))},500);window.addEventListener(Ph.Announce,t=>{const r=t,{detail:{info:i,provider:a}={}}=r,{name:s,rdns:o,uuid:c}=null!=i?i:{};ah.test(c)&&s.startsWith(ih.NAME)&&ih.RDNS.includes(o)&&(clearTimeout(n),e(a))}),window.dispatchEvent(new Event(Ph.Request))});return Ih({provider:e,sdkInstance:t})}catch(n){if(!e&&window.ethereum)return Ih({provider:window.ethereum,sdkInstance:t});throw new Error("Provider not found")}})}({mustBeMetaMask:!0,sdkInstance:e}),window.extension=s,s.on(hh,t=>{kp(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${t}`),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(hh,t)}),s.on(bh,t=>wt(this,void 0,void 0,function*(){var n;kp(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${t}`);const r=Boolean(e.sdkProvider),i=Boolean(e.extensionActive);if(r&&e.getMobileProvider().emit(bh,t),i&&0===(null==t?void 0:t.length)&&0===(yield null===(n=e.getProvider())||void 0===n?void 0:n.request({method:sh.WALLET_GETPERMISSIONS,params:[]})).length)try{yield e.terminate()}catch(e){kp("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",e)}})),s.on(yh,t=>{kp(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${t}`),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(yh,t)}),s.on(mh,t=>{kp(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${t}`),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(mh,t)}),s.on(gh,t=>{kp("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",t),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(gh,t)})}catch(e){window.extension=void 0}}else(null===(n=e.platformManager)||void 0===n?void 0:n.isMetaMaskMobileWebView())&&(null===(r=e.analytics)||void 0===r||r.send({event:Lo.SDK_USE_INAPP_BROWSER}),e.activeProvider=Ih({provider:window.ethereum,sdkInstance:e}),e._initialized=!0,c=!0);return s&&a.extensionOnly&&(kp("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),null===(i=e.analytics)||void 0===i||i.send({event:Lo.SDK_USE_EXTENSION}),e.activeProvider=s,e.extensionActive=!0,e.extension=s,e._initialized=!0,c=!0),{preferExtension:o,shouldReturn:c,metamaskBrowserExtension:s}})}(e);if(g)kp("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(e,t){var n,r,i,a,s;return wt(this,void 0,void 0,function*(){const{options:o}=e,c=Object.assign({},o.logging);e.remoteConnection=new Vh({anonId:yield e.getAnonId(),preferDesktop:null!==(n=o.preferDesktop)&&void 0!==n&&n,communicationLayerPreference:null!==(r=o.communicationLayerPreference)&&void 0!==r?r:Jo.SOCKET,analytics:e.analytics,dappMetadata:o.dappMetadata,_source:o._source,enableAnalytics:null===(i=o.enableAnalytics)||void 0===i||i,timer:o.timer,sdk:e,platformManager:e.platformManager,transports:o.transports,communicationServerUrl:o.communicationServerUrl,storage:null!==(a=o.storage)&&void 0!==a?a:{enabled:!0},getMetaMaskInstaller:()=>{if(!e.installer)throw new Error("Invalid SDK status -- installer not initialized");return e.installer},logging:c,connectWithExtensionProvider:void 0===t?void 0:()=>Eh(e),modals:Object.assign(Object.assign({},o.modals),{onPendingModalDisconnect:e.terminate.bind(e)})}),yield e.remoteConnection.initRemoteCommunication({sdkInstance:e}),e.installer=new Fh({remote:e.remoteConnection,preferDesktop:null!==(s=o.preferDesktop)&&void 0!==s&&s,platformManager:e.platformManager,debug:e.debug})})}(e,y),yield function(e){var t,n,r,i;return wt(this,void 0,void 0,function*(){const{options:a}=e,s={communicationLayerPreference:null!==(t=a.communicationLayerPreference)&&void 0!==t?t:Jo.SOCKET,platformManager:e.platformManager,sdk:e,checkInstallationOnAllCalls:a.checkInstallationOnAllCalls,injectProvider:null===(n=a.injectProvider)||void 0===n||n,shouldShimWeb3:null===(r=a.shouldShimWeb3)||void 0===r||r,extensionOnly:null===(i=a.extensionOnly)||void 0===i||i,installer:e.installer,remoteConnection:e.remoteConnection,debug:e.debug},o=yield(({checkInstallationOnAllCalls:e=!1,communicationLayerPreference:t,injectProvider:n,shouldShimWeb3:r,platformManager:i,installer:a,sdk:s,remoteConnection:o,debug:c})=>wt(void 0,void 0,void 0,function*(){var l,u;const d=(({name:e,remoteConnection:t})=>{if(!t||!(null==t?void 0:t.getConnector()))throw new Error("Missing remote connection parameter");return new Sh({name:e,remote:null==t?void 0:t.getConnector(),deeplinkProtocol:null==t?void 0:t.state.deeplinkProtocol,hideReturnToAppNotification:null==t?void 0:t.state.hideReturnToAppNotification,platformManager:null==t?void 0:t.getPlatformManager()})})({name:eh.INPAGE,target:eh.CONTENT_SCRIPT,platformManager:i,communicationLayerPreference:t,remoteConnection:o}),f=i.getPlatformType(),p=s.options.dappMetadata,h=`Sdk/Javascript SdkVersion/${th} Platform/${f} dApp/${null!==(l=p.url)&&void 0!==l?l:p.name} dAppTitle/${p.name}`;let b=null,y=null;const m=null===(u=s.options.storage)||void 0===u?void 0:u.storageManager;if(m){try{const e=yield m.getCachedAccounts();e.length>0&&(b=e[0])}catch(e){console.error(`[initializeMobileProvider] failed to get cached addresses: ${e}`)}try{const e=yield m.getCachedChainId();e&&(y=e)}catch(e){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${e}`)}}kp(`[initializeMobileProvider] cachedAccountAddress: ${b}, cachedChainId: ${y}`);const g=!(!n||f===Zo.NonBrowser||f===Zo.ReactNative),w=Jp.init({shouldSetOnWindow:g,connectionStream:d,shouldShimWeb3:r,sdkInstance:s});let v=!1;const E=e=>{v=e},x=()=>v,S=(t,n,r,c)=>wt(void 0,void 0,void 0,function*(){var l,u,d,f,p,g,w,S,T;const A=Jp.getProvider();if(v){A.emit("display_uri",(null==o?void 0:o.state.qrcodeLink)||""),null==o||o.showActiveModal();let e=x();for(;e;){const t=x(),n=null==o?void 0:o.isAuthorized();e=t&&!n,kp(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${t} authorized: ${n}`),yield Ah(1e3)}return kp("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),r(...n)}const _=i.isMetaMaskInstalled(),C=null==o?void 0:o.isConnected();let k=null,I=null,P=null;if(k=null!==(l=A.getSelectedAddress())&&void 0!==l?l:b,P=A.getChainId()||y,k&&m&&k!==b&&m.persistAccounts([k]).catch(e=>{console.error(`[initializeMobileProvider] failed to persist account: ${e}`)}),P&&(y=P,m&&m.persistChainId(P).catch(e=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${e}`)})),kp("[initializeMobileProvider: sendRequest()]",{selectedAddress:k,chainId:P}),c&&kp(`[initializeMobileProvider: sendRequest()] method=${t} ongoing=${v} selectedAddress=${k} isInstalled=${_} checkInstallationOnAllCalls=${e} socketConnected=${C}`),k&&t.toLowerCase()===sh.ETH_ACCOUNTS.toLowerCase())return[k];if(P&&t.toLowerCase()===sh.ETH_CHAINID.toLowerCase())return P;const O=[sh.ETH_REQUESTACCOUNTS,sh.WALLET_REQUESTPERMISSIONS,sh.METAMASK_CONNECTSIGN,sh.METAMASK_CONNECTWITH],M=!oh[t],R=null===(u=s.options.readonlyRPCMap)||void 0===u?void 0:u[P];if(R&&M)try{const e=null===(d=null==n?void 0:n[0])||void 0===d?void 0:d.params,r=yield(({rpcEndpoint:e,method:t,sdkInfo:n,params:r})=>wt(void 0,void 0,void 0,function*(){const i=JSON.stringify({jsonrpc:"2.0",method:t,params:r,id:(Th+=1,Th)}),a={Accept:"application/json","Content-Type":"application/json"};let s;e.includes("infura")&&(a["Metamask-Sdk-Info"]=n);try{s=yield st()(e,{method:"POST",headers:a,body:i})}catch(e){throw e instanceof Error?new Error(`Failed to fetch from RPC: ${e.message}`):new Error(`Failed to fetch from RPC: ${e}`)}if(!s.ok)throw new Error(`Server responded with a status of ${s.status}`);return(yield s.json()).result}))({rpcEndpoint:R,sdkInfo:h,method:t,params:e||[]});return c&&kp(`initializeProvider::ReadOnlyRPCResponse ${r}`),r}catch(e){console.warn(`[initializeMobileProvider: sendRequest()] method=${t} readOnlyRPCRequest failed:`,e)}if((!_||_&&!C)&&t!==sh.METAMASK_GETPROVIDERSTATE){const c=(null===(f=null==n?void 0:n[0])||void 0===f?void 0:f.params)||[];if(-1!==O.indexOf(t)||e){E(!0);const e=t===sh.METAMASK_CONNECTWITH,i=`${Date.now()}`;try{yield a.start({wait:!1,connectWith:e?{method:t,id:i,params:c}:void 0}),yield new Promise((e,t)=>{(null==o?void 0:o.isAuthorized())&&(kp("[initializeMobileProvider: sendRequest()] already authorized"),e(!0)),null==o||o.getConnector().once(Oo.AUTHORIZED,()=>{e(!0)}),s.once(Oo.PROVIDER_UPDATE,e=>{kp(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${e}`),e===wh.EXTENSION?t(Oo.PROVIDER_UPDATE):t(new Error("Connection Terminated"))})})}catch(e){if(wh.EXTENSION===e){if(kp(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${t} on the active provider`),t.toLowerCase()===sh.METAMASK_CONNECTSIGN.toLowerCase()){const e=yield null===(p=s.getProvider())||void 0===p?void 0:p.request({method:sh.ETH_REQUESTACCOUNTS,params:[]});if(!e.length)throw new Error("SDK state invalid -- undefined accounts");const t=yield null===(g=s.getProvider())||void 0===g?void 0:g.request({method:sh.PERSONAL_SIGN,params:[c[0],e[0]]});return s.emit(Vp,t),t}if(t.toLowerCase()===sh.METAMASK_CONNECTWITH.toLowerCase()){const[e]=c,t=yield(({method:e,sdk:t,params:n})=>wt(void 0,void 0,void 0,function*(){var r,i,a,s;if(!t.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");kp("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",e,n);const o=yield null===(r=t.getProvider())||void 0===r?void 0:r.request({method:sh.ETH_REQUESTACCOUNTS,params:[]});if(!o.length)throw new Error("SDK state invalid -- undefined accounts");if((null==e?void 0:e.toLowerCase())===sh.PERSONAL_SIGN.toLowerCase()){const r={method:e,params:[n[0],o[0]]};return yield null===(i=t.getProvider())||void 0===i?void 0:i.request(r)}if((null==e?void 0:e.toLowerCase())===sh.ETH_SENDTRANSACTION.toLowerCase()){const r={method:e,params:[Object.assign(Object.assign({},n[0]),{from:o[0]})]};return yield null===(a=t.getProvider())||void 0===a?void 0:a.request(r)}return lh.includes(e.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${e} -- not handled by the extension -- call separately`),o):yield null===(s=t.getProvider())||void 0===s?void 0:s.request({method:e,params:n})}))({method:e.method,sdk:s,params:e.params});return s.emit(Vp,t),t}return kp(`[initializeMobileProvider: sendRequest()] sending '${t}' on active provider`,c),yield null===(w=s.getProvider())||void 0===w?void 0:w.request({method:t,params:c})}if(e===Oo.REJECTED)throw null==o||o.closeModal(),null===(S=s.getProvider())||void 0===S||S.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001});throw kp(`[initializeMobileProvider: sendRequest()] failed to start installer: ${e}`),e}finally{E(!1)}if(t===sh.ETH_REQUESTACCOUNTS)return I=yield new Promise(e=>{const t=setInterval(()=>{const{accounts:n}=A.getState();n&&(clearInterval(t),e(n))},100)}),kp(`[initializeMobileProvider: sendRequest()] selectedAddress: ${k} --- SKIP rpc call`),I;if(t===sh.METAMASK_CONNECTWITH)try{let e=0;const t=5,n=({resolve:n,reject:r})=>{e+=1;const a=null==o?void 0:o.getConnector().getRPCMethodTracker(),c=null==a?void 0:a[i];return kp(`TRACKER: update method ${i}`,c),(null==c?void 0:c.result)?(kp("[initializeMobileProvider: sendRequest()] found result",c.result),s.emit(Vp,c.result),void n(c.result)):(null==c?void 0:c.error)?(kp("[initializeMobileProvider: sendRequest()] found error",c.error),void r(c.error)):e>=t?(kp("[initializeMobileProvider: sendRequest()] max message count reached without result"),void r(new Error("Max message count reached without result"))):void kp("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let r,a;const c=yield new Promise((e,t)=>{const s=null==o?void 0:o.getConnector().getRPCMethodTracker();kp(`TRACKER: method ${i}`,s),(null==s?void 0:s[i].result)?(kp("[initializeMobileProvider: sendRequest()] found result",null==s?void 0:s[i].result),e(null==s?void 0:s[i].result)):(null==s?void 0:s[i].error)&&(kp("[initializeMobileProvider: sendRequest()] found error",null==s?void 0:s[i].error),t(null==s?void 0:s[i].error)),a=()=>n({resolve:e,reject:t}),r=null==o?void 0:o.getConnector().on(Oo.RPC_UPDATE,a)});return a&&(null==r||r.off(Oo.RPC_UPDATE,a)),kp("TRACKER: result",c),c}catch(e){throw kp("[initializeMobileProvider: sendRequest()] error:",e),e}return n[0]&&"object"==typeof n[0]&&(n[0].params={__triggeredInstaller:!0,wrappedParams:n[0].params}),r(...n)}if(i.isSecure()&&oh[t])return r(...n);if(s.isExtensionActive())return kp(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${t}' to it`,n,c),yield null===(T=s.getProvider())||void 0===T?void 0:T.request({method:t,params:c});throw kp(`[initializeMobileProvider: sendRequest()] method=${t} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const e=yield r(...n);if(kp(`[initializeMobileProvider: sendRequest()] method=${t} rpcResponse`,e),t===sh.WALLET_REQUESTPERMISSIONS){const t=e.reduce((e,t)=>{var n;if("eth_accounts"===t.parentCapability){const r=null===(n=t.caveats.find(e=>"restrictReturnedAccounts"===e.type))||void 0===n?void 0:n.value;r&&e.push(...r)}return e},[]);kp("[initializeMobileProvider: sendRequest()] accountsToPersist:",t),t.length>0&&(A.handleAccountsChanged(t,!1),null==m||m.persistAccounts(t))}return e}catch(e){throw console.error("[initializeMobileProvider: sendRequest()] error:",e),e}}),{request:T}=w;w.request=(...e)=>wt(void 0,void 0,void 0,function*(){return S(null==e?void 0:e[0].method,e,T,c)});const{send:A}=w;return w.send=(...e)=>wt(void 0,void 0,void 0,function*(){return S(null==e?void 0:e[0],e,A,c)}),kp("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),d.start(),w}))(s);e.activeProvider=o,function(e){var t,n,r,i;null===(n=null===(t=e.remoteConnection)||void 0===t?void 0:t.getConnector())||void 0===n||n.on(Gp,t=>{e.emit(Gp,t)}),null===(i=null===(r=e.remoteConnection)||void 0===r?void 0:r.getConnector())||void 0===i||i.on(Yp,t=>{e.emit(Yp,t)})}(e)})}(e),yield function(e,t){var n,r;return wt(this,void 0,void 0,function*(){const{options:i}=e;t?(kp("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),null===(n=e.analytics)||void 0===n||n.send({event:Lo.SDK_EXTENSION_UTILIZED}),Eh(e).catch(e=>{console.warn("Can't connect with MetaMask extension...",e),localStorage.removeItem(dh)})):i.checkInstallationImmediately&&((null===(r=e.platformManager)||void 0===r?void 0:r.isDesktopWeb())?(kp("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),e.connect().catch(e=>{kp(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${e}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),e._initialized=!0})}(e,m);try{yield null===(f=e.remoteConnection)||void 0===f?void 0:f.startConnection({initialCheck:!0})}catch(e){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",e)}e.emit(Wp,wh.INITIALIZED)}})}const Yh={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,hideReturnToAppNotification:!1,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:"direct",i18nOptions:{enabled:!1}};class Jh extends(dt()){constructor(e){var t,n,r;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",ct().disable(),this.options=Object.assign(Object.assign({},Yh),e);const i=!0===(null===(t=this.options.logging)||void 0===t?void 0:t.developerMode);if(((null===(n=this.options.logging)||void 0===n?void 0:n.sdk)||i)&&ct().enable("MM_SDK"),kp("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(null===(r=this.options.dappMetadata)||void 0===r?void 0:r.url)){if("undefined"==typeof window||"undefined"==typeof document)throw new Error("You must provide dAppMetadata url");this.options.dappMetadata=Object.assign(Object.assign({},this.options.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.init().then(()=>{kp("[MetaMaskSDK: constructor()]: initialized successfully."),"undefined"!=typeof window&&(window.mmsdk=this)}).catch(e=>{console.error("[MetaMaskSDK: constructor()] error during initialization",e)})}init(){return wt(this,void 0,void 0,function*(){return function(e){var t;return wt(this,void 0,void 0,function*(){if("undefined"!=typeof window&&(null===(t=window.mmsdk)||void 0===t?void 0:t.isInitialized()))return kp("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(e._initialized)return kp("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),e.sdkInitPromise;if(e.sdkInitPromise)return kp("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),e.sdkInitPromise;try{e.sdkInitPromise=Gh(e),yield e.sdkInitPromise}catch(e){throw console.error(e),e}return e.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return"undefined"!=typeof window&&Boolean(null===(e=window.ethereum)||void 0===e?void 0:e.isMetaMask)}connect(){return wt(this,void 0,void 0,function*(){return function(e){return wt(this,void 0,void 0,function*(){if(e._initialized||(kp("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield e.init()),kp(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");const t=e.activeProvider.getSelectedAddress();return t?[t]:e.activeProvider.request({method:sh.ETH_REQUESTACCOUNTS,params:[]})})}(this)})}connectAndSign({msg:e}){return wt(this,void 0,void 0,function*(){return function({instance:e,msg:t}){return wt(this,void 0,void 0,function*(){if(e._initialized||(kp("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield e.init()),kp(`[MetaMaskSDK: connectAndSign()] activeProvider=${e.activeProvider}`),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=/^0x([0-9A-Fa-f]{2})*$/u.test(t)?t:function(e){let t;if(void 0!==Lt)t=Lt.from(e,"utf8").toString("hex");else if("undefined"!=typeof TextEncoder){const n=(new TextEncoder).encode(e);t=Array.from(n).map(e=>e.toString(16).padStart(2,"0")).join("")}else{if("object"!=typeof vt||!("Buffer"in vt))throw new Error("Unable to convert string to hex: No available method.");t=vt.Buffer.from(e,"utf8").toString("hex")}return`0x${t}`}(t);return e.activeProvider.request({method:sh.METAMASK_CONNECTWITH,params:[{method:sh.PERSONAL_SIGN,params:[n]}]})})}({instance:this,msg:e})})}connectWith(e){return wt(this,void 0,void 0,function*(){return function({instance:e,rpc:t}){return wt(this,void 0,void 0,function*(){if(e._initialized||(kp("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield e.init()),kp(`[MetaMaskSDK: connectWith()] method: ${t.method} rpc=${t}`),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");return e.activeProvider.request({method:sh.METAMASK_CONNECTWITH,params:[t]})})}({instance:this,rpc:e})})}resume(){return function(e){var t,n,r;return wt(this,void 0,void 0,function*(){if(!(null===(n=null===(t=e.remoteConnection)||void 0===t?void 0:t.getConnector())||void 0===n?void 0:n.isReady()))return kp("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void(null===(r=e.remoteConnection)||void 0===r||r.startConnection());kp("[MetaMaskSDK: resume()] channel is ready")})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var e;null===(e=this.remoteConnection)||void 0===e||e.isAuthorized()}terminate(){return function(e){var t,n,r;return wt(this,void 0,void 0,function*(){if(!(null===(t=e.platformManager)||void 0===t?void 0:t.isMetaMaskMobileWebView())){if(vh&&(window.localStorage.removeItem(dh),window.localStorage.removeItem(ph),window.localStorage.removeItem(fh)),e.extensionActive){try{yield null===(n=e.activeProvider)||void 0===n?void 0:n.request({method:sh.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(e){kp("[MetaMaskSDK: terminate()] error revoking permissions",e)}return e.options.extensionOnly?(e.emit(Wp,wh.TERMINATE),void kp("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(Wp,wh.TERMINATE))}e.emit(Wp,wh.TERMINATE),kp(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),null===(r=e.remoteConnection)||void 0===r||r.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var e;const t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getUniversalLink();if(!t)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return t}getChannelId(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getChannelConfig())||void 0===t?void 0:t.channelId}getRPCHistory(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t?void 0:t.getRPCMethodTracker()}getVersion(){return th}getDappId(){var e,t,n,r;return"undefined"==typeof window||void 0===window.location?null!==(r=null!==(t=null===(e=this.options.dappMetadata)||void 0===e?void 0:e.name)&&void 0!==t?t:null===(n=this.options.dappMetadata)||void 0===n?void 0:n.url)&&void 0!==r?r:"N/A":window.location.hostname}getAnonId(){var e,t;return wt(this,void 0,void 0,function*(){if(this._anonId)return this._anonId;let n;return n=(null===(e=this.platformManager)||void 0===e?void 0:e.isBrowser())?this.getBrowserAnonId():(null===(t=this.platformManager)||void 0===t?void 0:t.isReactNative())?yield this.getReactNativeAnonId():gt(),this._anonId=n,n})}getBrowserAnonId(){const e=this.ANON_ID_STORAGE_KEY;try{const t=localStorage.getItem(e);if(t)return t;const n=gt();return localStorage.setItem(e,n),n}catch(e){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",e),gt()}}getReactNativeAnonId(){return wt(this,void 0,void 0,function*(){const e=this.ANON_ID_STORAGE_KEY;try{const t=Object(function(){var e=new Error("Cannot find module '@react-native-async-storage/async-storage'");throw e.code="MODULE_NOT_FOUND",e}()),n=yield t.getItem(e);if(n)return n;const r=gt();return yield t.setItem(e,r),r}catch(e){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",e),gt()}})}getWalletStatus(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t?void 0:t.getConnectionStatus()}_getChannelConfig(){var e;return null===(e=this.remoteConnection)||void 0===e?void 0:e.getChannelConfig()}_ping(){var e,t;null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t||t.ping()}_keyCheck(){var e,t;null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t||t.keyCheck()}_getServiceStatus(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t?void 0:t.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return null===(e=this.remoteConnection)||void 0===e?void 0:e.getKeyInfo()}_resetKeys(){var e,t;null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t||t.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,t){return super.emit(e,t)}on(e,t){return super.on(e,t)}}var Zh=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:e}={enabled:!1}){this.enabled=!1,this.enabled=e}persistChannelConfig(e){return wt(this,void 0,void 0,function*(){const t=JSON.stringify(e);kp(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,e),localStorage.setItem(uh,t)})}getPersistedChannelConfig(){return wt(this,void 0,void 0,function*(){let e;try{if(kp(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),e=localStorage.getItem(uh),kp("[StorageManagerWeb: getPersistedChannelConfig()]",e),!e)return;const t=JSON.parse(e);return kp("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",t),t}catch(e){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",e)}})}persistAccounts(e){return wt(this,void 0,void 0,function*(){kp(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,e);const t=JSON.stringify(e);localStorage.setItem(fh,t)})}getCachedAccounts(){return wt(this,void 0,void 0,function*(){try{const e=localStorage.getItem(fh);return e?JSON.parse(e):[]}catch(e){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",e),e}})}persistChainId(e){return wt(this,void 0,void 0,function*(){kp(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,e),localStorage.setItem(ph,e)})}getCachedChainId(){return wt(this,void 0,void 0,function*(){try{const e=localStorage.getItem(ph);return null!=e?e:void 0}catch(e){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",e),e}})}terminate(){return wt(this,void 0,void 0,function*(){kp(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(uh)})}}}),Xh=Object.defineProperty,Qh=new WeakMap,eb=e=>Qh.get(e),tb=(e,t)=>Qh.set(t.$lazyInstance$=e,t),nb=(e,t)=>t in e,rb=(e,t)=>(0,console.error)(e,t),ib=new Map,ab=new Map,sb="slot-fb{display:contents}slot-fb[hidden]{display:none}",ob="undefined"!=typeof window?window:{},cb=ob.document||{head:{}},lb={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},ub=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),db=!1,fb=[],pb=[],hb=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){rb(e)}e.length=0},bb=()=>{hb(fb),hb(pb),(db=fb.length>0)&&lb.raf(bb)},yb=e=>Promise.resolve(void 0).then(e),mb=(e=>t=>{e.push(t),db||(db=!0,4&lb.$flags$?yb(bb):lb.raf(bb))})(pb),gb={},wb=e=>"object"==(e=typeof e)||"function"===e;function vb(e){var t,n,r;return null!=(r=null==(n=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:n.getAttribute("content"))?r:void 0}((e,t)=>{for(var n in t)Xh(e,n,{get:t[n],enumerable:!0})})({},{err:()=>xb,map:()=>Sb,ok:()=>Eb,unwrap:()=>Ab,unwrapErr:()=>_b});var Eb=e=>({isOk:!0,isErr:!1,value:e}),xb=e=>({isOk:!1,isErr:!0,value:e});function Sb(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then(e=>Eb(e)):Eb(n)}if(e.isErr){const t=e.value;return xb(t)}throw"should never get here"}var Tb,Ab=e=>{if(e.isOk)return e.value;throw e.value},_b=e=>{if(e.isErr)return e.value;throw e.value},Cb=(e,t,...n)=>{let r=null,i=!1,a=!1;const s=[],o=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?o(r):null!=r&&"boolean"!=typeof r&&((i="function"!=typeof e&&!wb(r))&&(r=String(r)),i&&a?s[s.length-1].$text$+=r:s.push(i?kb(null,r):r),a=i)};if(o(n),t){const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}if("function"==typeof e)return e(null===t?{}:t,s,Pb);const c=kb(e,null);return c.$attrs$=t,s.length>0&&(c.$children$=s),c},kb=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null}),Ib={},Pb={forEach:(e,t)=>e.map(Ob).forEach(t),map:(e,t)=>e.map(Ob).map(t).map(Mb)},Ob=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),Mb=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),Cb(e.vtag,t,...e.vchildren||[])}const t=kb(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},Rb=e=>eb(e).$hostElement$,Nb=(e,t,n)=>{const r=Rb(e);return{emit:e=>Lb(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},Lb=(e,t,n)=>{const r=lb.ce(t,n);return e.dispatchEvent(r),r},Db=new WeakMap,Bb=(e,t)=>"sc-"+e.$tagName$,jb=(e,t,n,r,i,a)=>{if(n!==r){let s=nb(e,t),o=t.toLowerCase();if("class"===t){const t=e.classList,i=Fb(n),a=Fb(r);t.remove(...i.filter(e=>e&&!a.includes(e))),t.add(...a.filter(e=>e&&!i.includes(e)))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if(s||"o"!==t[0]||"n"!==t[1]){const o=wb(r);if((s||o&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{const i=null==r?"":r;"list"===t?s=!1:null!=n&&e[t]==i||("function"==typeof e.__lookupSetter__(t)?e[t]=i:e.setAttribute(t,i))}}catch(e){}null==r||!1===r?!1===r&&""!==e.getAttribute(t)||e.removeAttribute(t):(!s||4&a||i)&&!o&&(r=!0===r?"":r,e.setAttribute(t,r))}else if(t="-"===t[2]?t.slice(3):nb(ob,o)?o.slice(2):o[2]+t.slice(3),n||r){const i=t.endsWith($b);t=t.replace(zb,""),n&&lb.rel(e,t,n,i),r&&lb.ael(e,t,r,i)}}},Ub=/\s/,Fb=e=>e?e.split(Ub):[],$b="Capture",zb=new RegExp($b+"$"),Hb=(e,t,n)=>{const r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||gb,a=t.$attrs$||gb;for(const e of qb(Object.keys(i)))e in a||jb(r,e,i[e],void 0,n,t.$flags$);for(const e of qb(Object.keys(a)))jb(r,e,i[e],a[e],n,t.$flags$)};function qb(e){return e.includes("ref")?[...e.filter(e=>"ref"!==e),"ref"]:e}var Kb=!1,Wb=(e,t,n,r)=>{const i=t.$children$[n];let a,s,o=0;if(null!==i.$text$)a=i.$elm$=cb.createTextNode(i.$text$);else{if(Kb||(Kb="svg"===i.$tag$),a=i.$elm$=cb.createElementNS(Kb?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),Kb&&"foreignObject"===i.$tag$&&(Kb=!1),Hb(null,i,Kb),a.getRootNode().querySelector("body"),i.$children$)for(o=0;o<i.$children$.length;++o)s=Wb(e,i,o),s&&a.appendChild(s);"svg"===i.$tag$?Kb=!1:"foreignObject"===a.tagName&&(Kb=!0)}return a["s-hn"]=Tb,a},Vb=(e,t,n,r,i,a)=>{let s,o=e;for(o.shadowRoot&&o.tagName===Tb&&(o=o.shadowRoot);i<=a;++i)r[i]&&(s=Wb(null,n,i),s&&(r[i].$elm$=s,Zb(o,s,t)))},Gb=(e,t,n)=>{for(let r=t;r<=n;++r){const t=e[r];if(t){const e=t.$elm$;e&&e.remove()}}},Yb=(e,t,n=!1)=>e.$tag$===t.$tag$,Jb=(e,t,n=!1)=>{const r=t.$elm$=e.$elm$,i=e.$children$,a=t.$children$,s=t.$tag$,o=t.$text$;null===o?(Hb(e,t,Kb="svg"===s||"foreignObject"!==s&&Kb),null!==i&&null!==a?((e,t,n,r,i=!1)=>{let a,s=0,o=0,c=t.length-1,l=t[0],u=t[c],d=r.length-1,f=r[0],p=r[d];for(;s<=c&&o<=d;)null==l?l=t[++s]:null==u?u=t[--c]:null==f?f=r[++o]:null==p?p=r[--d]:Yb(l,f,i)?(Jb(l,f,i),l=t[++s],f=r[++o]):Yb(u,p,i)?(Jb(u,p,i),u=t[--c],p=r[--d]):Yb(l,p,i)?(Jb(l,p,i),Zb(e,l.$elm$,u.$elm$.nextSibling),l=t[++s],p=r[--d]):Yb(u,f,i)?(Jb(u,f,i),Zb(e,u.$elm$,l.$elm$),u=t[--c],f=r[++o]):(a=Wb(t&&t[o],n,o),f=r[++o],a&&Zb(l.$elm$.parentNode,a,l.$elm$));s>c?Vb(e,null==r[d+1]?null:r[d+1].$elm$,n,r,o,d):o>d&&Gb(t,s,c)})(r,i,t,a,n):null!==a?(null!==e.$text$&&(r.textContent=""),Vb(r,null,t,a,0,a.length-1)):!n&&null!==i&&Gb(i,0,i.length-1),Kb&&"svg"===s&&(Kb=!1)):e.$text$!==o&&(r.data=o)},Zb=(e,t,n)=>null==e?void 0:e.insertBefore(t,n),Xb=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(t=>e.$onRenderResolve$=t))},Qb=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return Xb(e,e.$ancestorComponent$),mb(()=>ey(e,t));e.$flags$|=512},ey=(e,t)=>{const n=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{}),i=e.$lazyInstance$;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return r(),ty(void 0,()=>ry(e,i,t))},ty=(e,t)=>ny(e)?e.then(t).catch(e=>{console.error(e),t()}):t(),ny=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,ry=async(e,t,n)=>{var r;const i=e.$hostElement$,a=(e.$cmpMeta$.$tagName$,()=>{}),s=i["s-rc"];n&&(e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=(t.$tagName$,()=>{}),a=((e,t)=>{var n;const r=Bb(t),i=ab.get(r);if(e=11===e.nodeType?e:cb,i)if("string"==typeof i){e=e.head||e;let a,s=Db.get(e);if(s||Db.set(e,s=new Set),!s.has(r)){{a=cb.createElement("style"),a.innerHTML=i;const r=null!=(n=lb.$nonce$)?n:vb(cb);if(null!=r&&a.setAttribute("nonce",r),!(1&t.$flags$))if("HEAD"===e.nodeName){const t=e.querySelectorAll("link[rel=preconnect]"),n=t.length>0?t[t.length-1].nextSibling:e.querySelector("style");e.insertBefore(a,n)}else if("host"in e)if(ub){const t=new CSSStyleSheet;t.replaceSync(i),e.adoptedStyleSheets=[t,...e.adoptedStyleSheets]}else{const t=e.querySelector("style");t?t.innerHTML=i+t.innerHTML:e.prepend(a)}else e.append(a);1&t.$flags$&&"HEAD"!==e.nodeName&&e.insertBefore(a,null)}4&t.$flags$&&(a.innerHTML+=sb),s&&s.add(r)}}else e.adoptedStyleSheets.includes(i)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,i]);return r})(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);10&r&&2&r&&(n["s-sc"]=a,n.classList.add(a+"-h")),i()})(e);const o=(e.$cmpMeta$.$tagName$,()=>{});iy(e,t,i,n),s&&(s.map(e=>e()),i["s-rc"]=void 0),o(),a();{const t=null!=(r=i["s-p"])?r:[],n=()=>ay(e);0===t.length?n():(Promise.all(t).then(n),e.$flags$|=4,t.length=0)}},iy=(e,t,n,r)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,((e,t,n=!1)=>{const r=e.$hostElement$,i=e.$cmpMeta$,a=e.$vnode$||kb(null,null),s=(o=t)&&o.$tag$===Ib?t:Cb(null,null,t);var o;if(Tb=r.tagName,n&&s.$attrs$)for(const e of Object.keys(s.$attrs$))r.hasAttribute(e)&&!["key","ref","style","class"].includes(e)&&(s.$attrs$[e]=r[e]);s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=a.$elm$=r.shadowRoot||r,r["s-sc"],i.$flags$,Jb(a,s,n)})(e,t,r)}catch(t){rb(t,e.$hostElement$)}return null},ay=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,n=e.$lazyInstance$,r=e.$ancestorComponent$;64&e.$flags$||(e.$flags$|=64,cy(t),oy(n,"componentDidLoad"),e.$onReadyResolve$(t),r||sy()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&yb(()=>Qb(e,!1)),e.$flags$&=-517},sy=e=>{cy(cb.documentElement),yb(()=>Lb(ob,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},oy=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(e){rb(e)}},cy=e=>e.classList.add("hydrated"),ly=(e,t,n)=>{var r,i;const a=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const s=Object.entries(null!=(r=t.$members$)?r:{});if(s.map(([e,[r]])=>{(31&r||2&n&&32&r)&&Object.defineProperty(a,e,{get(){return t=e,eb(this).$instanceValues$.get(t);var t},set(n){((e,t,n,r)=>{const i=eb(this);if(!i)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const a=i.$hostElement$,s=i.$instanceValues$.get(t),o=i.$flags$,c=i.$lazyInstance$;var l,u;l=n,u=r.$members$[t][0],n=null==l||wb(l)?l:4&u?"false"!==l&&(""===l||!!l):1&u?String(l):l;const d=Number.isNaN(s)&&Number.isNaN(n);if((!(8&o)||void 0===s)&&n!==s&&!d&&(i.$instanceValues$.set(t,n),c)){if(r.$watchers$&&128&o){const e=r.$watchers$[t];e&&e.map(e=>{try{c[e](n,s,t)}catch(e){rb(e,a)}})}2==(18&o)&&Qb(i,!1)}})(0,e,n,t)},configurable:!0,enumerable:!0})}),1&n){const n=new Map;a.attributeChangedCallback=function(e,r,i){lb.jmp(()=>{var s;const o=n.get(e);if(this.hasOwnProperty(o))i=this[o],delete this[o];else{if(a.hasOwnProperty(o)&&"number"==typeof this[o]&&this[o]==i)return;if(null==o){const n=eb(this),a=null==n?void 0:n.$flags$;if(a&&!(8&a)&&128&a&&i!==r){const a=n.$lazyInstance$,o=null==(s=t.$watchers$)?void 0:s[e];null==o||o.forEach(t=>{null!=a[t]&&a[t].call(a,i,r,e)})}return}}this[o]=(null!==i||"boolean"!=typeof this[o])&&i})},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(i=t.$watchers$)?i:{}),...s.filter(([e,t])=>15&t[0]).map(([e,t])=>{const r=t[1]||e;return n.set(r,e),r})]))}}return e},uy=e=>{oy(e,"connectedCallback")},dy=e=>{oy(e,"disconnectedCallback")},fy=(e,t={})=>{var n;const r=[],i=t.exclude||[],a=ob.customElements,s=cb.head,o=s.querySelector("meta[charset]"),c=cb.createElement("style"),l=[];let u,d=!0;Object.assign(lb,t),lb.$resourcesUrl$=new URL(t.resourcesUrl||"./",cb.baseURI).href;let f=!1;if(e.map(e=>{e[1].map(t=>{var n;const s={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};4&s.$flags$&&(f=!0),s.$members$=t[2],s.$watchers$=null!=(n=t[4])?n:{};const o=s.$tagName$,c=class extends HTMLElement{constructor(e){if(super(e),this.hasRegisteredEventListeners=!1,((e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};n.$onReadyPromise$=new Promise(e=>n.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[],Qh.set(e,n)})(e=this,s),1&s.$flags$)if(e.shadowRoot){if("open"!==e.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${s.$tagName$}! Mode is set to ${e.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else e.attachShadow({mode:"open"})}connectedCallback(){eb(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),u&&(clearTimeout(u),u=null),d?l.push(this):lb.jmp(()=>(e=>{if(!(1&lb.$flags$)){const t=eb(e),n=t.$cmpMeta$,r=(n.$tagName$,()=>{});if(1&t.$flags$)(null==t?void 0:t.$lazyInstance$)?uy(t.$lazyInstance$):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then(()=>uy(t.$lazyInstance$));else{t.$flags$|=1;{let n=e;for(;n=n.parentNode||n.host;)if(n["s-p"]){Xb(t,t.$ancestorComponent$=n);break}}n.$members$&&Object.entries(n.$members$).map(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),(async(e,t,n)=>{let r;if(!(32&t.$flags$)){if(t.$flags$|=32,n.$lazyBundleId$){const i=(e=>{const t=e.$tagName$.replace(/-/g,"_"),n=e.$lazyBundleId$;if(!n)return;const r=ib.get(n);if(r)return r[t];{const e=e=>(ib.set(n,e),e[t]);if("mm-install-modal_3"===n)return Promise.resolve().then(function(){return Zy}).then(e,rb)}return import(`./${n}.entry.js`).then(e=>(ib.set(n,e),e[t]),rb)})(n);if(i&&"then"in i){const e=()=>{};r=await i,e()}else r=i;if(!r)throw new Error(`Constructor for "${n.$tagName$}#${t.$modeName$}" was not found`);r.isProxied||(n.$watchers$=r.watchers,ly(r,n,2),r.isProxied=!0);const a=(n.$tagName$,()=>{});t.$flags$|=8;try{new r(t)}catch(e){rb(e)}t.$flags$&=-9,t.$flags$|=128,a(),uy(t.$lazyInstance$)}else{r=e.constructor;const n=e.localName;customElements.whenDefined(n).then(()=>t.$flags$|=128)}if(r&&r.style){let e;"string"==typeof r.style&&(e=r.style);const t=Bb(n);if(!ab.has(t)){const r=(n.$tagName$,()=>{});((e,t,n)=>{let r=ab.get(e);ub&&n?(r=r||new CSSStyleSheet,"string"==typeof r?r=t:r.replaceSync(t)):r=t,ab.set(e,r)})(t,e,!!(1&n.$flags$)),r()}}}const i=t.$ancestorComponent$,a=()=>Qb(t,!0);i&&i["s-rc"]?i["s-rc"].push(a):a()})(e,t,n)}r()}})(this))}disconnectedCallback(){lb.jmp(()=>(async e=>{if(!(1&lb.$flags$)){const t=eb(e);(null==t?void 0:t.$lazyInstance$)?dy(t.$lazyInstance$):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then(()=>dy(t.$lazyInstance$))}})(this))}componentOnReady(){return eb(this).$onReadyPromise$}};s.$lazyBundleId$=e[0],i.includes(o)||a.get(o)||(r.push(o),a.define(o,ly(c,s,1)))})}),r.length>0&&(f&&(c.textContent+=sb),c.textContent+=r.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",c.innerHTML.length)){c.setAttribute("data-styles","");const e=null!=(n=lb.$nonce$)?n:vb(cb);null!=e&&c.setAttribute("nonce",e),s.insertBefore(c,o?o.nextSibling:s.firstChild)}d=!1,l.length?l.map(e=>e.connectedCallback()):lb.jmp(()=>u=setTimeout(sy,30))};!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();var py=Object.freeze({__proto__:null,defineCustomElements:async(e,t)=>{if("undefined"!=typeof window)return await void 0,fy([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],t)},setNonce:e=>lb.$nonce$=e});const hy={fontFamily:"Roboto, sans-serif"},by=({className:e},t)=>Cb("div",{style:hy,class:e},t),yy=({Icon:e,text:t})=>Cb("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},Cb("div",{class:"flexItem1"},Cb(e,null)),Cb("div",{class:"flexItem11"},Cb("span",{style:{lineHeight:"2",color:"black"}},t))),my=()=>Cb("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cb("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),Cb("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),gy=()=>Cb("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cb("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),wy=()=>Cb("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cb("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),vy=()=>Cb("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cb("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Cb("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Cb("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function Ey({version:e}){return Cb("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",e?`v${e}`:"unknown")}const xy=()=>Cb("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cb("rect",{width:"16",height:"16",fill:"white"}),Cb("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),Sy=()=>Cb("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},Cb("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function Ty(e,t){return e.toString(2).padStart(t,"0")}function Ay(e,t){const n=e%t;return n>=0?n:t+n}function _y(e,t){return new Array(e).fill(t)}function Cy(...e){let t=0;for(const n of e)t=Math.max(t,n.length);const n=[];for(let r=0;r<t;r++)for(const t of e)r>=t.length||n.push(t[r]);return new Uint8Array(n)}function ky(e,t,n){if(n<0||n+t.length>e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[n+r])return!1;return!0}function Iy(e){return{has:t=>e.includes(t),decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n})},encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(function(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})}}}class Py{static size(e,t){if("number"==typeof e&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return void 0!==t&&(e={width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}),e}static fromString(e){const t=(e=e.replace(/^\n+/g,"").replace(/\n+$/g,"")).split("\n"),n=t.length,r=new Array(n);let i;for(const e of t){const t=e.split("").map(e=>{if("X"===e)return!0;if(" "===e)return!1;if("?"!==e)throw new Error(`Bitmap.fromString: unknown symbol=${e}`)});if(i&&t.length!==i)throw new Error(`Bitmap.fromString different row sizes: width=${i} cur=${t.length}`);i=t.length,r.push(t)}return i||(i=0),new Py({height:n,width:i},r)}constructor(e,t){const{height:n,width:r}=Py.size(e);this.data=t||Array.from({length:n},()=>_y(r,void 0)),this.height=n,this.width=r}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:t,y:n}=this.xy(e);return{height:this.height-n,width:this.width-t}}xy(e){if("number"==typeof e&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=Ay(e.x,this.width),e.y=Ay(e.y,this.height),e}rect(e,t,n){const{x:r,y:i}=this.xy(e),{height:a,width:s}=Py.size(t,this.size({x:r,y:i}));for(let e=0;e<a;e++)for(let t=0;t<s;t++)this.data[i+e][r+t]="function"==typeof n?n({x:t,y:e},this.data[i+e][r+t]):n;return this}rectRead(e,t,n){return this.rect(e,t,(e,t)=>(n(e,t),t))}hLine(e,t,n){return this.rect(e,{width:t,height:1},n)}vLine(e,t,n){return this.rect(e,{width:1,height:t},n)}border(e=2,t){const n=this.height+2*e,r=this.width+2*e,i=_y(e,t),a=Array.from({length:e},()=>_y(r,t));return new Py({height:n,width:r},[...a,...this.data.map(e=>[...i,...e,...i]),...a])}embed(e,t){return this.rect(e,t.size(),({x:e,y:n})=>t.data[n][e])}rectSlice(e,t=this.size()){const n=new Py(Py.size(t,this.size(this.xy(e))));return this.rect(e,t,({x:e,y:t},r)=>n.data[t][e]=r),n}inverse(){const{height:e,width:t}=this;return new Py({height:t,width:e}).rect({x:0,y:0},1/0,({x:e,y:t})=>this.data[e][t])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:t,width:n}=this;return new Py({height:e*t,width:e*n}).rect({x:0,y:0},1/0,({x:t,y:n})=>this.data[Math.floor(n/e)][Math.floor(t/e)])}clone(){return new Py(this.size()).rect({x:0,y:0},this.size(),({x:e,y:t})=>this.data[t][e])}assertDrawn(){this.rectRead(0,1/0,(e,t)=>{if("boolean"!=typeof t)throw new Error("Invalid color type="+typeof t)})}toString(){return this.data.map(e=>e.map(e=>void 0===e?"?":e?"X":" ").join("")).join("\n")}toASCII(){const{height:e,width:t,data:n}=this;let r="";for(let i=0;i<e;i+=2){for(let a=0;a<t;a++){const t=n[i][a],s=i+1>=e||n[i+1][a];t||s?!t&&s?r+="":t&&!s?r+="":t&&s&&(r+=" "):r+=""}r+="\n"}return r}toTerm(){const e="[0m",t=`[1;47m  ${e}`,n=`[40m  ${e}`;return this.data.map(e=>e.map(e=>e?n:t).join("")).join("\n")}toSVG(){let e=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:t,y:n},r)=>{r&&(e+=`<rect x="${t}" y="${n}" width="1" height="1" />`)}),e+="</svg>",e}toGIF(){const e=e=>[255&e,e>>>8&255],t=[...e(this.width),...e(this.height)],n=[];this.rectRead(0,1/0,(e,t)=>n.push(+(!0===t)));const r=126,i=[71,73,70,56,55,97,...t,246,0,0,255,255,255,..._y(381,0),44,0,0,0,0,...t,0,7],a=Math.floor(n.length/r);for(let e=0;e<a;e++)i.push(127,128,...n.slice(r*e,r*(e+1)).map(e=>+e));return i.push(n.length%r+1,128,...n.slice(a*r).map(e=>+e)),i.push(1,129,0,59),new Uint8Array(i)}toImage(e=!1){const{height:t,width:n}=this.size(),r=new Uint8Array(t*n*(e?3:4));let i=0;for(let a=0;a<t;a++)for(let t=0;t<n;t++){const n=this.data[a][t]?0:255;r[i++]=n,r[i++]=n,r[i++]=n,e||(r[i++]=255)}return{height:t,width:n,data:r}}}const Oy=["low","medium","quartile","high"],My=["numeric","alphanumeric","byte","kanji","eci"],Ry=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Ny={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},Ly={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Dy={size:{encode:e=>21+4*(e-1),decode:e=>(e-17)/4},sizeType:e=>Math.floor((e+7)/17),alignmentPatterns(e){if(1===e)return[];const t=Dy.size.encode(e)-6-1,n=t-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const a=[6];for(let e=1;e<r;e++)a.push(t-(r-e)*i);return a.push(t),a},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(e,t){const n=Dy.ECCode[e]<<3|t;let r=n;for(let e=0;e<10;e++)r=r<<1^1335*(r>>9);return(n<<10|r)^Dy.formatMask},versionBits(e){let t=e;for(let e=0;e<12;e++)t=t<<1^7973*(t>>11);return e<<12|t},alphabet:{numeric:Iy("0123456789"),alphanumerc:Iy("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(e,t)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[t][Dy.sizeType(e)]),modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(e,t){const n=Ry[e-1],r=Ny[t][e-1],i=Ly[t][e-1],a=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:a,capacity:8*(n-r*i),total:(r+a)*i+i-s}}},By=[(e,t)=>(e+t)%2==0,(e,t)=>t%2==0,(e,t)=>e%3==0,(e,t)=>(e+t)%3==0,(e,t)=>(Math.floor(t/2)+Math.floor(e/3))%2==0,(e,t)=>e*t%2+e*t%3==0,(e,t)=>(e*t%2+e*t%3)%2==0,(e,t)=>((e+t)%2+e*t%3)%2==0],jy={tables:(()=>{const e=_y(256,0),t=_y(256,0);for(let n=0,r=1;n<256;n++)e[n]=r,t[r]=n,r<<=1,256&r&&(r^=285);return{exp:e,log:t}})(),exp:e=>jy.tables.exp[e],log(e){if(0===e)throw new Error(`GF.log: wrong arg=${e}`);return jy.tables.log[e]%255},mul:(e,t)=>0===e||0===t?0:jy.tables.exp[(jy.tables.log[e]+jy.tables.log[t])%255],add:(e,t)=>e^t,pow:(e,t)=>jy.tables.exp[jy.tables.log[e]*t%255],inv(e){if(0===e)throw new Error(`GF.inverse: wrong arg=${e}`);return jy.tables.exp[255-jy.tables.log[e]]},polynomial(e){if(0==e.length)throw new Error("GF.polymomial: wrong length");if(0!==e[0])return e;let t=0;for(;t<e.length-1&&0==e[t];t++);return e.slice(t)},monomial(e,t){if(e<0)throw new Error(`GF.monomial: wrong degree=${e}`);if(0==t)return[0];let n=_y(e+1,0);return n[0]=t,jy.polynomial(n)},degree:e=>e.length-1,coefficient:(e,t)=>e[jy.degree(e)-t],mulPoly(e,t){if(0===e[0]||0===t[0])return[0];const n=_y(e.length+t.length-1,0);for(let r=0;r<e.length;r++)for(let i=0;i<t.length;i++)n[r+i]=jy.add(n[r+i],jy.mul(e[r],t[i]));return jy.polynomial(n)},mulPolyScalar(e,t){if(0==t)return[0];if(1==t)return e;const n=_y(e.length,0);for(let r=0;r<e.length;r++)n[r]=jy.mul(e[r],t);return jy.polynomial(n)},mulPolyMonomial(e,t,n){if(t<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(0==n)return[0];const r=_y(e.length+t,0);for(let t=0;t<e.length;t++)r[t]=jy.mul(e[t],n);return jy.polynomial(r)},addPoly(e,t){if(0===e[0])return t;if(0===t[0])return e;let n=e,r=t;n.length>r.length&&([n,r]=[r,n]);let i=_y(r.length,0),a=r.length-n.length,s=r.slice(0,a);for(let e=0;e<s.length;e++)i[e]=s[e];for(let e=a;e<r.length;e++)i[e]=jy.add(n[e-a],r[e]);return jy.polynomial(i)},remainderPoly(e,t){const n=Array.from(e);for(let r=0;r<e.length-t.length+1;r++){const e=n[r];if(0!==e)for(let i=1;i<t.length;i++)0!==t[i]&&(n[r+i]=jy.add(n[r+i],jy.mul(t[i],e)))}return n.slice(e.length-t.length+1,n.length)},divisorPoly(e){let t=[1];for(let n=0;n<e;n++)t=jy.mulPoly(t,[1,jy.pow(2,n)]);return t},evalPoly(e,t){if(0==t)return jy.coefficient(e,0);let n=e[0];for(let r=1;r<e.length;r++)n=jy.add(jy.mul(t,n),e[r]);return n},euclidian(e,t,n){jy.degree(e)<jy.degree(t)&&([e,t]=[t,e]);let r=e,i=t,a=[0],s=[1];for(;2*jy.degree(i)>=n;){let e=r,t=a;if(r=i,a=s,0===r[0])throw new Error("rLast[0] === 0");i=e;let n=[0];const o=jy.inv(r[0]);for(;jy.degree(i)>=jy.degree(r)&&0!==i[0];){const e=jy.degree(i)-jy.degree(r),t=jy.mul(i[0],o);n=jy.addPoly(n,jy.monomial(e,t)),i=jy.addPoly(i,jy.mulPolyMonomial(r,e,t))}if(n=jy.mulPoly(n,a),s=jy.addPoly(n,t),jy.degree(i)>=jy.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const o=jy.coefficient(s,0);if(0==o)throw new Error("sigmaTilde(0) was zero");const c=jy.inv(o);return[jy.mulPolyScalar(s,c),jy.mulPolyScalar(i,c)]}};function Uy(e,t,n,r){let i="",a=n.length;if("numeric"===r){const e=Dy.alphabet.numeric.decode(n.split("")),t=e.length;for(let n=0;n<t-2;n+=3)i+=Ty(100*e[n]+10*e[n+1]+e[n+2],10);t%3==1?i+=Ty(e[t-1],4):t%3==2&&(i+=Ty(10*e[t-2]+e[t-1],7))}else if("alphanumeric"===r){const e=Dy.alphabet.alphanumerc.decode(n.split("")),t=e.length;for(let n=0;n<t-1;n+=2)i+=Ty(45*e[n]+e[n+1],11);t%2==1&&(i+=Ty(e[t-1],6))}else{if("byte"!==r)throw new Error("encode: unsupported type");{const e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(n);a=e.length,i=Array.from(e).map(e=>Ty(e,8)).join("")}}const{capacity:s}=Dy.capacity(e,t),o=Ty(a,Dy.lengthBits(e,r));let c=Dy.modeBits[r]+o+i;if(c.length>s)throw new Error("Capacity overflow");c+="0".repeat(Math.min(4,Math.max(0,s-c.length))),c.length%8&&(c+="0".repeat(8-c.length%8));for(let e=0;c.length!==s;e++)c+="1110110000010001"[e%16];const l=Uint8Array.from(c.match(/(.{8})/g).map(e=>Number(`0b${e}`)));return function(e,t){const{words:n,shortBlocks:r,numBlocks:i,blockLen:a,total:s}=Dy.capacity(e,t),o=(c=n,{encode(e){const t=jy.divisorPoly(c),n=Array.from(e);return n.push(...t.slice(0,-1).fill(0)),Uint8Array.from(jy.remainderPoly(n,t))},decode(e){const t=e.slice(),n=jy.polynomial(Array.from(e));let r=_y(c,0),i=!1;for(let e=0;e<c;e++){const t=jy.evalPoly(n,jy.exp(e));r[r.length-1-e]=t,0!==t&&(i=!0)}if(!i)return t;r=jy.polynomial(r);const a=jy.monomial(c,1),[s,o]=jy.euclidian(a,r,c),l=_y(jy.degree(s),0);let u=0;for(let e=1;e<256&&u<l.length;e++)0===jy.evalPoly(s,e)&&(l[u++]=jy.inv(e));if(u!==l.length)throw new Error("RS.decode: wrong errors number");for(let e=0;e<l.length;e++){const n=t.length-1-jy.log(l[e]);if(n<0)throw new Error("RS.decode: wrong error location");const r=jy.inv(l[e]);let i=1;for(let t=0;t<l.length;t++)e!==t&&(i=jy.mul(i,jy.add(1,jy.mul(l[t],r))));t[n]=jy.add(t[n],jy.mul(jy.evalPoly(o,r),jy.inv(i)))}return t}});var c;return{encode(e){const t=[],n=[];for(let s=0;s<i;s++){const i=a+(s<r?0:1);t.push(e.subarray(0,i)),n.push(o.encode(e.subarray(0,i))),e=e.subarray(i)}const s=Cy(...t),c=Cy(...n),l=new Uint8Array(s.length+c.length);return l.set(s),l.set(c,s.length),l},decode(e){if(e.length!==s)throw new Error(`interleave.decode: len(data)=${e.length}, total=${s}`);const t=[];for(let e=0;e<i;e++){const i=e<r;t.push(new Uint8Array(n+a+(i?0:1)))}let c=0;for(let n=0;n<a;n++)for(let r=0;r<i;r++)t[r][n]=e[c++];for(let n=r;n<i;n++)t[n][a]=e[c++];for(let s=a;s<a+n;s++)for(let n=0;n<i;n++){const i=n<r;t[n][s+(i?0:1)]=e[c++]}const l=[];for(const e of t)l.push(...Array.from(o.decode(e)).slice(0,-n));return Uint8Array.from(l)}}}(e,t).encode(l)}function Fy(e,t,n,r,i=!1){const a=function(e,t,n,r=!1){const i=Dy.size.encode(e);let a=new Py(i+2);const s=new Py(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);a=a.embed(0,s).embed({x:-s.width,y:0},s).embed({x:0,y:-s.height},s),a=a.rectSlice(1,i);const o=new Py(1).rect(0,1,!0).border(1,!1).border(1,!0),c=Dy.alignmentPatterns(e);for(const e of c)for(const t of c)void 0===a.data[e][t]&&a.embed({x:t-2,y:e-2},o);a=a.hLine({x:0,y:6},1/0,({x:e},t)=>void 0===t?e%2==0:t).vLine({x:6,y:0},1/0,({y:e},t)=>void 0===t?e%2==0:t);{const e=Dy.formatBits(t,n),s=t=>!r&&1==(e>>t&1);for(let e=0;e<6;e++)a.data[e][8]=s(e);for(let e=6;e<8;e++)a.data[e+1][8]=s(e);for(let e=8;e<15;e++)a.data[i-15+e][8]=s(e);for(let e=0;e<8;e++)a.data[8][i-e-1]=s(e);for(let e=8;e<9;e++)a.data[8][15-e-1+1]=s(e);for(let e=9;e<15;e++)a.data[8][15-e-1]=s(e);a.data[i-8][8]=!r}if(e>=7){const t=Dy.versionBits(e);for(let e=0;e<18;e+=1){const n=!r&&1==(t>>e&1),s=Math.floor(e/3),o=e%3+i-8-3;a.data[s][o]=n,a.data[o][s]=n}}return a}(e,t,r,i);let s=0;const o=8*n.length;if(function(e,t,n){const r=e.height,i=By[t];let a=-1,s=r-1;for(let t=r-1;t>0;t-=2){for(6==t&&(t=5);;s+=a){for(let r=0;r<2;r+=1){const a=t-r;void 0===e.data[s][a]&&n(a,s,i(a,s))}if(s+a<0||s+a>=r)break}a=-a}}(a,r,(e,t,r)=>{let i=!1;s<o&&(i=!!(n[s>>>3]>>(7-s&7)&1),s++),a.data[t][e]=i!==r}),s!==o)throw new Error("QR: bytes left after draw");return a}function $y(e){const t=e.inverse(),n=e=>{let t=0;for(let n,r=0,i=1;r<e.length;r++)n===e[r]&&(i++,r!==e.length-1)||(i>=5&&(t+=i-5+3),n=e[r],i=1);return t};let r=0;e.data.forEach(e=>r+=n(e)),t.data.forEach(e=>r+=n(e));let i=0,a=e.data;const s=e.width-1,o=e.height-1;for(let e=0;e<s;e++)for(let t=0;t<o;t++){const n=e+1,r=t+1;a[e][t]===a[n][t]&&a[n][t]===a[e][r]&&a[n][t]===a[n][r]&&(i+=3)}const c=e=>{const t=[!0,!1,!0,!0,!0,!1,!0],n=[!1,!1,!1,!1],r=[...t,...n],i=[...n,...t];let a=0;for(let t=0;t<e.length;t++)ky(e,r,t)&&(a+=40),ky(e,i,t)&&(a+=40);return a};let l=0;for(const t of e.data)l+=c(t);for(const e of t.data)l+=c(e);let u=0;e.rectRead(0,1/0,(e,t)=>u+=t?1:0);const d=u/(e.height*e.width)*100,f=10*Math.floor(Math.abs(d-50)/5);return r+i+l+f}function zy(e,t="raw",n={}){const r=void 0!==n.ecc?n.ecc:"medium";!function(e){if(!Oy.includes(e))throw new Error(`Invalid error correction mode=${e}. Expected: ${Oy}`)}(r);const i=void 0!==n.encoding?n.encoding:function(e){let t="numeric";for(let n of e)if(!Dy.alphabet.numeric.has(n)&&(t="alphanumeric",!Dy.alphabet.alphanumerc.has(n)))return"byte";return t}(e);!function(e){if(!My.includes(e))throw new Error(`Encoding: invalid mode=${e}. Expected: ${My}`);if("kanji"===e||"eci"===e)throw new Error(`Encoding: ${e} is not supported (yet?).`)}(i),void 0!==n.mask&&function(e){if(![0,1,2,3,4,5,6,7].includes(e)||!By[e])throw new Error(`Invalid mask=${e}. Expected number [0..7]`)}(n.mask);let a,s=n.version,o=new Error("Unknown error");if(void 0!==s)!function(e){if(!Number.isSafeInteger(e)||e<1||e>40)throw new Error(`Invalid version=${e}. Expected number [1..40]`)}(s),a=Uy(s,r,e,i);else for(let t=1;t<=40;t++)try{a=Uy(t,r,e,i),s=t;break}catch(e){o=e}if(!s||!a)throw o;let c=function(e,t,n,r){if(void 0===r){const i=function(){let e,t=1/0;return{add(n,r){n>=t||(e=r,t=n)},get:()=>e,score:()=>t}}();for(let r=0;r<By.length;r++)i.add($y(Fy(e,t,n,r,!0)),r);r=i.get()}if(void 0===r)throw new Error("Cannot find mask");return Fy(e,t,n,r)}(s,r,a,n.mask);c.assertDrawn();const l=void 0===n.border?2:n.border;if(!Number.isSafeInteger(l))throw new Error("Wrong border type="+typeof l);if(c=c.border(l,!1),void 0!==n.scale&&(c=c.scale(n.scale)),"raw"===t)return c.data;if("ascii"===t)return c.toASCII();if("svg"===t)return c.toSVG();if("gif"===t)return c.toGIF();if("term"===t)return c.toTerm();throw new Error(`Unknown output: ${t}`)}const Hy={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class qy{constructor(e){var t;this.translations=Hy,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=null!==(t=null==e?void 0:e.baseUrl)&&void 0!==t?t:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(e=>e.toLowerCase().startsWith("en")))return"en";const e=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(e)?e:"en"}async init(e){const t=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(t)}async loadTranslations(e){const t=e.split("-")[0];if("en"!==t&&this.supportedLocales.includes(t))try{const e=`${this.baseUrl}/${t}.json`,n=await fetch(e);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);this.translations=await n.json()}catch(e){console.warn(` Failed to load ${t} translations, falling back to English:`,e),this.translations=Hy}else this.translations=Hy}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,t){const n=e.split(".");let r=t;for(const e of n){if("object"!=typeof r)return"";r=r[e]}return"string"==typeof r?r:""}}var Ky;!function(e){e.SDK_MODAL_VIEWED="sdk_modal_viewed",e.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",e.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"}(Ky||(Ky={}));const Wy=class{constructor(e){tb(this,e),this.close=Nb(this,"close",7),this.startDesktopOnboarding=Nb(this,"startDesktopOnboarding",7),this.trackAnalytics=Nb(this,"trackAnalytics",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new qy}componentDidLoad(){this.trackAnalytics.emit({event:Ky.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:1===this.tab?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(e){e?this.setTab(1):this.setTab(2)}onClose(e=!1){this.close.emit({shouldTerminate:e})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:Ky.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(e,t=!1){t&&this.trackAnalytics.emit({event:Ky.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:1===this.tab?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=e,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const e=e=>this.i18nInstance.t(e),t=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=zy(this.link,"svg",{ecc:"medium",scale:2});return Cb(by,{className:"install-model"},Cb("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Cb("div",{class:"modal"},Cb("div",{class:"closeButtonContainer"},Cb("div",{class:"right"},Cb("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Cb(xy,null)))),Cb("div",{class:"logoContainer"},Cb(Sy,null)),Cb("div",null,Cb("div",{class:"tabcontainer"},Cb("div",{class:"flexContainer"},Cb("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(1===t?"tabactive":"")},e("DESKTOP")),Cb("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(2===t?"tabactive":"")},e("MOBILE")))),Cb("div",{style:{display:1===t?"none":"block"}},Cb("div",{class:"flexContainer"},Cb("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},n&&Cb("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:n}),Cb("div",{class:"connectMobileText"},e("SCAN_TO_CONNECT")," ",Cb("br",null),Cb("span",{class:"blue"},Cb("b",null,e("META_MASK_MOBILE_APP"))))))),Cb("div",{style:{display:2===t?"none":"block"}},Cb("div",{class:"item"},Cb(yy,{Icon:gy,text:e("INSTALL_MODAL.TRUSTED_BY_USERS")})),Cb("div",{class:"item"},Cb(yy,{Icon:my,text:e("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),Cb("div",{class:"item"},Cb(yy,{Icon:wy,text:e("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),Cb("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},Cb(vy,null),Cb("span",{class:"installExtensionText"},e("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),Cb(Ey,{version:this.sdkVersion})))}get el(){return Rb(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};Wy.style=".flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}";const Vy=class{constructor(e){tb(this,e),this.close=Nb(this,"close",7),this.disconnect=Nb(this,"disconnect",7),this.updateOTPValue=Nb(this,"updateOTPValue",7),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new qy}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(e){this.updateOTPValue.emit({otpValue:e})}disconnectedCallback(){this.onClose()}render(){var e;if(!this.translationsLoaded)return null;const t=null===(e=this.displayOTP)||void 0===e||e,n=this.sdkVersion,r=e=>this.i18nInstance.t(e);return Cb(by,{className:"pending-modal"},Cb("div",{class:"backdrop",onClick:()=>this.onClose()}),Cb("div",{class:"modal"},Cb("div",{class:"closeButtonContainer"},Cb("div",{class:"right"},Cb("span",{class:"closeButton",onClick:()=>this.onClose()},Cb(xy,null)))),Cb("div",{class:"logoContainer"},Cb(Sy,null)),Cb("div",null,Cb("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},Cb("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},r(t?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),Cb("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),t&&Cb("div",{class:"notice"},"* ",r("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),Cb("div",{style:{marginTop:"20px"}},Cb("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},r("PENDING_MODAL.DISCONNECT")))),Cb(Ey,{version:n})))}get el(){return Rb(this)}};Vy.style=".flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}";const Gy=()=>Cb("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cb("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),Yy=()=>Cb("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cb("rect",{width:"400",height:"300",fill:"white"}),Cb("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),Cb("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),Cb("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),Cb("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),Cb("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),Cb("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),Cb("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),Cb("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),Cb("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),Cb("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),Cb("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),Cb("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),Cb("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),Cb("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),Cb("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),Cb("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),Cb("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),Cb("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),Cb("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),Cb("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),Cb("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),Cb("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),Jy=class{constructor(e){tb(this,e),this.close=Nb(this,"close",7),this.connectWithExtension=Nb(this,"connectWithExtension",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new qy,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(e=!1){this.close.emit({shouldTerminate:e})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(e){this.tab=e,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(e){e?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const e=e=>this.i18nInstance.t(e),t=this.sdkVersion,n=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=zy(this.link,"svg",{ecc:"medium",scale:2});return Cb(by,{className:"select-modal"},Cb("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Cb("div",{class:"modal"},Cb("div",{class:"closeButtonContainer"},Cb("div",{class:"right"},Cb("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Cb(xy,null)))),Cb("div",{class:"logoContainer"},Cb(Sy,null)),Cb("div",null,Cb("div",{class:"tabcontainer"},Cb("div",{class:"flexContainer"},Cb("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(1===n?"tabactive":"")},e("DESKTOP")),Cb("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(2===n?"tabactive":"")},e("MOBILE")))),Cb("div",{style:{display:1===n?"none":"block"}},Cb("div",{class:"flexContainer"},Cb("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},Cb("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:r}),Cb("div",{class:"connectMobileText"},e("SCAN_TO_CONNECT"),Cb("br",null),Cb("span",{class:"blue"},Cb("b",null,e("META_MASK_MOBILE_APP"))))))),Cb("div",{style:{display:2===n?"none":"block"}},Cb("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},Cb(Yy,null)),Cb("div",{class:"extensionLabel"},e("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),Cb("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},Cb(Gy,null),Cb("span",{class:"installExtensionText"},e("CONNECT_WITH_EXTENSION"))))),Cb(Ey,{version:t})))}get el(){return Rb(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};Jy.style=".flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}";var Zy=Object.freeze({__proto__:null,mm_install_modal:Wy,mm_pending_modal:Vy,mm_select_modal:Jy}),Xy=i(19024),Qy=i(26088);class em extends Qy.t{constructor(t){super(t),(0,s.A)(this,"connectorNamespace",$e.R.EIP155),(0,s.A)(this,"currentChainNamespace",l.l.EIP155),(0,s.A)(this,"type",$.rp.EXTERNAL),(0,s.A)(this,"name",e.LZ.METAMASK),(0,s.A)(this,"status",$.bo.NOT_READY),(0,s.A)(this,"metamaskProvider",null),(0,s.A)(this,"metamaskSDK",null),(0,s.A)(this,"metamaskOptions",void 0),(0,s.A)(this,"analytics",void 0),this.metamaskOptions=t.connectorSettings,this.analytics=t.analytics}get provider(){return this.status!==$.bo.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw new Error("Not implemented")}async init(t){await super.init(t);const n=this.coreOptions.chains.find(e=>e.chainId===t.chainId);super.checkInitializationRequirements({chainConfig:n});const i=await(0,Ue.ZE)(window),a={name:(0,Ue.Lq)(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:null!=i?i:void 0},s=N()(this.metamaskOptions||{},{dappMetadata:a});this.metamaskSDK=new Jh((0,r.A)((0,r.A)({},s),{},{_source:"web3auth",preferDesktop:!0}));const o=await this.metamaskSDK.init();o&&(this.metamaskSDK=o),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=$.bo.READY,this.emit($.qM.READY,e.LZ.METAMASK);try{if(t.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:t.chainId,getIdentityToken:t.getIdentityToken})))throw this.rehydrated=!1,ze.T7.connectionError("Failed to rehydrate.")}catch(e){this.emit($.qM.REHYDRATION_ERROR,e)}}async connect({chainId:t,getIdentityToken:n}){if(super.checkConnectionRequirements(),!this.metamaskSDK)throw ze.T7.notConnectedError("Connector is not initialized");const i=this.coreOptions.chains.find(e=>e.chainId===t);if(!i)throw ze.T7.connectionError("Chain config is not available");const a=!this.isInjected&&!this.rehydrated,s=Date.now(),o={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:(0,z.Eo)(i),chain_name:null==i?void 0:i.displayName,chain_namespace:null==i?void 0:i.chainNamespace};try{var c;if(this.status!==$.bo.CONNECTING&&(this.status=$.bo.CONNECTING,this.emit($.qM.CONNECTING,{connector:e.LZ.METAMASK}),!this.metamaskSDK.isExtensionActive()&&null!==(c=this.metamaskOptions)&&void 0!==c&&c.headless&&this.metamaskSDK.getProvider().on("display_uri",e=>{this.updateConnectorData({uri:e})}),await this.metamaskSDK.connect()),this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw ze.T7.notConnectedError("Failed to connect with provider");await this.metamaskProvider.request({method:"eth_chainId"})!==i.chainId&&await this.switchChain(i,!0);const t=e=>{0===e.length&&this.disconnect()};var l,u;let d;return this.metamaskProvider.on("accountsChanged",t),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=$.bo.CONNECTED,a&&(null===(l=this.analytics)||void 0===l||l.track(F.R2.CONNECTION_STARTED,o),null===(u=this.analytics)||void 0===u||u.track(F.R2.CONNECTION_COMPLETED,(0,r.A)((0,r.A)({},o),{},{duration:Date.now()-s}))),n&&(d=await this.getIdentityToken()),this.emit($.qM.CONNECTED,{connector:e.LZ.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider,identityTokenInfo:d}),this.metamaskProvider}catch(e){var d,f;if(this.status=$.bo.READY,this.rehydrated||this.emit($.qM.ERRORED,e),this.rehydrated=!1,a&&(null===(d=this.analytics)||void 0===d||d.track(F.R2.CONNECTION_STARTED,o),null===(f=this.analytics)||void 0===f||f.track(F.R2.CONNECTION_FAILED,(0,r.A)((0,r.A)((0,r.A)({},o),(0,Xy.is)(e)),{},{duration:Date.now()-s}))),e instanceof ze.uF)throw e;throw ze.T7.connectionError("Failed to login with MetaMask wallet",e)}}async disconnect(e={cleanup:!1}){if(!this.metamaskProvider)throw ze.T7.connectionError("MetaMask provider is not available");await super.disconnectSession(),void 0!==this.metamaskProvider.removeAllListeners&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),e.cleanup?(this.status=$.bo.NOT_READY,this.metamaskProvider=null):this.status=$.bo.READY,await super.disconnect()}async getUserInfo(){if(!this.canAuthorize)throw ze.T7.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,t=!1){super.checkSwitchChainRequirements(e,t);const n=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});try{await n()}catch(t){if(4902!==(null==t?void 0:t.code))throw t;{const t=this.coreOptions.chains.find(t=>t.chainId===e.chainId&&[l.l.EIP155].includes(t.chainNamespace));await this.addChain(t),await n()}}}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}async addChain(e){if(!this.metamaskProvider)throw ze.T7.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}}const tm=e=>({coreOptions:t,analytics:n})=>new em({connectorSettings:e,coreOptions:t,analytics:n}),nm=["walletScope"];class rm extends d.C{constructor(e,t){if(super(),(0,s.A)(this,"coreOptions",void 0),(0,s.A)(this,"status",$.bo.NOT_READY),(0,s.A)(this,"aaProvider",null),(0,s.A)(this,"connectors",[]),(0,s.A)(this,"commonJRPCProvider",null),(0,s.A)(this,"analytics",void 0),(0,s.A)(this,"plugins",{}),(0,s.A)(this,"storage",void 0),(0,s.A)(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),(0,s.A)(this,"loginMode",L.GG.NO_MODAL),!e.clientId)throw ze.il.invalidParams("Please provide a valid clientId in constructor");e.enableLogging?He.R.enableAll():He.R.setLevel("error"),e.storageType||(e.storageType="local"),this.coreOptions=e,this.storage=this.getStorageMethod(),this.analytics=new F.j0,this.analytics.setGlobalProperties({integration_type:F.J9.NATIVE_SDK}),this.loadState(t),this.state.idToken&&this.coreOptions.ssr&&(this.status=this.coreOptions.initialAuthenticationMode===$.M8.CONNECT_AND_SIGN?$.bo.AUTHORIZED:$.bo.CONNECTED)}get currentChain(){var e;if(this.currentChainId)return null===(e=this.coreOptions.chains)||void 0===e?void 0:e.find(e=>e.chainId===this.currentChainId)}get connected(){return Boolean(this.connectedConnector)}get provider(){return this.status!==$.bo.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var e;return this.state.currentChainId||this.coreOptions.defaultChainId||(null===(e=this.coreOptions.chains)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.chainId)||null}get connectedConnector(){var e;return this.getConnector(this.connectedConnectorName,null===(e=this.currentChain)||void 0===e?void 0:e.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}get idToken(){return this.state.idToken||null}set provider(e){throw new Error("Not implemented")}async init(t){const n=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:F.jb.WEB_NO_MODAL,sdk_version:z.XL,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let i={};try{var a,s;const{signal:l}=t||{};let u;try{var c;u=await(0,z.ce)({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:null===(c=this.coreOptions.accountAbstractionConfig)||void 0===c?void 0:c.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(e){const t=await(0,o.P)(e);throw He.R.error("Failed to fetch project configurations",t),ze.il.notReady("failed to fetch project configurations",t)}this.initAccountAbstractionConfig(u),this.initChainsConfig(u),this.initCachedConnectorAndChainId(),this.initUIConfig(u),this.initWalletServicesConfig(u),this.initSessionTimeConfig(u),this.analytics.setGlobalProperties({team_id:u.teamId}),i=this.getInitializationTrackData(),await(0,z.zr)(()=>this.setupCommonJRPCProvider(),l),this.on($.qM.CONNECTORS_UPDATED,async({connectors:e})=>{await(0,z.zr)(()=>Promise.all(e.map(this.setupConnector.bind(this))),l,()=>{var e;(null===(e=this.connectors)||void 0===e?void 0:e.length)>0&&this.cleanup()}),this.status===$.bo.NOT_READY&&(this.status=$.bo.READY,this.emit($.qM.READY))}),await(0,z.zr)(()=>this.loadConnectors({projectConfig:u}),l),await(0,z.zr)(()=>this.initPlugins(),l);const d=this.getConnector(e.LZ.AUTH);i=(0,r.A)((0,r.A)({},i),{},{connectors:this.connectors.map(e=>e.name),plugins:Object.keys(this.plugins),auth_ux_mode:(null==d||null===(a=d.authInstance)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.uxMode)||(null===(s=this.coreOptions.uiConfig)||void 0===s?void 0:s.uxMode)}),this.analytics.track(F.R2.SDK_INITIALIZATION_COMPLETED,(0,r.A)((0,r.A)({},i),{},{duration:Date.now()-n}))}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return;throw this.analytics.track(F.R2.SDK_INITIALIZATION_FAILED,(0,r.A)((0,r.A)((0,r.A)({},i),(0,z.is)(e)),{},{duration:Date.now()-n})),He.R.error("Failed to initialize modal",e),e}}getConnector(e,t){return this.connectors.find(n=>n.name===e&&(!t||n.connectorNamespace===$e.R.MULTICHAIN||n.connectorNamespace===t))||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(const e of this.connectors)e.cleanup&&await e.cleanup()}async switchChain(e){var t;if(e.chainId===(null===(t=this.currentChain)||void 0===t?void 0:t.chainId))return;const n=this.coreOptions.chains.find(t=>t.chainId===e.chainId);if(!n)throw ze.il.invalidParams("Invalid chainId");if(qe.x.includes(this.status)&&this.connectedConnector)await this.connectedConnector.switchChain(e);else{if(!this.commonJRPCProvider)throw ze.il.notReady("No wallet is ready");await this.commonJRPCProvider.switchChain(e)}}async connectTo(t,n,i){this.loginMode=i||"no-modal";const a=this.getConnector(t,null==n?void 0:n.chainNamespace);if(!a||!this.commonJRPCProvider)throw ze.il.notFound(`Please add wallet connector for ${t} wallet, before connecting`);const s=this.getInitialChainIdForConnector(a),o=(0,r.A)((0,r.A)({},n),{},{chainId:s.chainId,getIdentityToken:this.coreOptions.initialAuthenticationMode===$.M8.CONNECT_AND_SIGN}),c=Date.now();let l;if(t===e.LZ.AUTH){var u;const e=n,r=a.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});l={connector:t,connector_type:a.type,chain_id:(0,z.Eo)(s),chain_name:s.displayName,chain_namespace:s.chainNamespace,auth_connection:e.authConnection,auth_connection_id:e.authConnectionId,group_auth_connection_id:e.groupedAuthConnectionId,mfa_level:e.mfaLevel,wallet_key_enabled:e.getWalletKey,extra_login_options_enabled:Boolean(e.extraLoginOptions),dapp_share_enabled:Boolean(e.dappShare),curve:e.curve,auth_dapp_url:e.dappUrl,is_sfa:Boolean(e.idToken),is_default_auth_connection:null==r?void 0:r.isDefault,auth_ux_mode:null===(u=a.authInstance)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.uxMode}}else l={connector:t,connector_type:a.type,is_injected:a.isInjected,chain_id:(0,z.Eo)(s),chain_name:s.displayName,chain_namespace:s.chainNamespace};return this.analytics.track(F.R2.CONNECTION_STARTED,l),new Promise((e,t)=>{let n=!1,i=!1;const u=()=>{this.removeListener($.qM.CONNECTED,p),this.removeListener($.qM.ERRORED,b),this.removeListener($.qM.AUTHORIZED,h)},d=async()=>{o.getIdentityToken?n&&i&&await f():n&&await f()},f=async()=>{try{const t=await a.getUserInfo();this.analytics.track(F.R2.CONNECTION_COMPLETED,(0,r.A)((0,r.A)({},l),{},{is_mfa_enabled:null==t?void 0:t.isMfaEnabled,duration:Date.now()-c})),u(),e(this.provider)}catch(e){u(),t(e)}},p=async()=>{n=!0,await d()},h=async()=>{i=!0,await d()},b=async e=>{this.analytics.track(F.R2.CONNECTION_FAILED,(0,r.A)((0,r.A)((0,r.A)({},l),(0,z.is)(e)),{},{duration:Date.now()-c})),u(),t(e)};this.once($.qM.CONNECTED,p),o.getIdentityToken&&this.once($.qM.AUTHORIZED,h),this.once($.qM.ERRORED,b),a.connect(o),this.setCurrentChain(s.chainId)})}async logout(e={cleanup:!1}){if(!qe.x.includes(this.status)||!this.connectedConnector)throw ze.T7.notConnectedError("No wallet is connected");this.connectedConnector.status!==$.bo.DISCONNECTING&&await this.connectedConnector.disconnect(e)}async getUserInfo(){var e;if(He.R.debug("Getting user info",this.status,null===(e=this.connectedConnector)||void 0===e?void 0:e.name),!qe.W.includes(this.status)||!this.connectedConnector)throw ze.T7.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(t){var n;if(!qe.x.includes(this.status)||!this.connectedConnector)throw ze.T7.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==e.LZ.AUTH)throw ze.T7.unsupportedOperation("EnableMFA is not supported for this connector.");const i=this.connectedConnector,a={connector:this.connectedConnector.name,auth_ux_mode:null===(n=i.authInstance)||void 0===n||null===(n=n.options)||void 0===n?void 0:n.uxMode};try{this.analytics.track(F.R2.MFA_ENABLEMENT_STARTED,a),await this.connectedConnector.enableMFA(t)}catch(e){throw this.analytics.track(F.R2.MFA_ENABLEMENT_FAILED,(0,r.A)((0,r.A)({},a),(0,z.is)(e))),e}}async manageMFA(t){var n;if(!qe.x.includes(this.status)||!this.connectedConnector)throw ze.T7.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==e.LZ.AUTH)throw ze.T7.unsupportedOperation("ManageMFA is not supported for this connector.");const i=this.connectedConnector,a={connector:this.connectedConnector.name,auth_ux_mode:null===(n=i.authInstance)||void 0===n||null===(n=n.options)||void 0===n?void 0:n.uxMode};try{this.analytics.track(F.R2.MFA_MANAGEMENT_SELECTED,a),await this.connectedConnector.manageMFA(t)}catch(e){throw this.analytics.track(F.R2.MFA_MANAGEMENT_FAILED,(0,r.A)((0,r.A)({},a),(0,z.is)(e))),e}}async getIdentityToken(){if(!qe.W.includes(this.status)||!this.connectedConnector)throw ze.T7.notConnectedError("No wallet is connected");const e={connector:this.connectedConnector.name};try{this.analytics.track(F.R2.IDENTITY_TOKEN_STARTED,e);const t=await this.connectedConnector.getIdentityToken();return this.analytics.track(F.R2.IDENTITY_TOKEN_COMPLETED,e),t}catch(t){throw this.analytics.track(F.R2.IDENTITY_TOKEN_FAILED,(0,r.A)((0,r.A)({},e),(0,z.is)(t))),t}}getPlugin(e){return this.plugins[e]||null}setAnalyticsProperties(e){this.analytics.setGlobalProperties(e)}initChainsConfig(e){const t=new Map,n=[...e.chains||[],...this.coreOptions.chains||[]];for(const e of n){const n=t.get(e.chainId);n?t.set(e.chainId,(0,r.A)((0,r.A)({},n),e)):t.set(e.chainId,e)}if(this.coreOptions.chains=Array.from(t.values()),0===this.coreOptions.chains.length)throw He.R.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),ze.il.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");const i=new Set(Object.values(l.l));for(const e of this.coreOptions.chains){if(!e.chainNamespace||!i.has(e.chainNamespace))throw He.R.error(`Please provide a valid chainNamespace in chains for chain ${e.chainId}`),ze.il.invalidParams(`Please provide a valid chainNamespace in chains for chain ${e.chainId}`);if(e.chainNamespace!==l.l.OTHER&&!(0,z.lX)(e.chainId))throw He.R.error(`Please provide a valid chainId in chains for chain ${e.chainId}`),ze.il.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${e.chainId}`);if(e.chainNamespace!==l.l.OTHER)try{new URL(e.rpcTarget)}catch(t){throw He.R.error(`Please provide a valid rpcTarget in chains for chain ${e.chainId}`,t),ze.il.invalidParams(`Please provide a valid rpcTarget in chains for chain ${e.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(0===this.coreOptions.accountAbstractionConfig.chains.length)throw He.R.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),ze.il.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(const e of this.coreOptions.accountAbstractionConfig.chains){if(!(0,z.lX)(e.chainId))throw He.R.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${e.chainId}`),ze.il.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${e.chainId}`);try{var a;new URL(null===(a=e.bundlerConfig)||void 0===a?void 0:a.url)}catch(t){throw He.R.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${e.chainId}`,t),ze.il.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${e.chainId}`)}if(!t.has(e.chainId))throw He.R.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${e.chainId}`),ze.il.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${e.chainId}`)}}}initAccountAbstractionConfig(e){var t;if(!Boolean(this.coreOptions.accountAbstractionConfig||(null==e?void 0:e.smartAccounts)))return;const n=(null==e?void 0:e.smartAccounts)||{},{walletScope:i}=n,a=c(n,nm),s=new Map,o=[...(null==a?void 0:a.chains)||[],...(null===(t=this.coreOptions.accountAbstractionConfig)||void 0===t?void 0:t.chains)||[]];for(const e of o){const t=s.get(e.chainId);t?s.set(e.chainId,(0,r.A)((0,r.A)({},t),e)):s.set(e.chainId,e)}this.coreOptions.accountAbstractionConfig=(0,r.A)((0,r.A)({},N()(a||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(s.values())}),void 0===this.coreOptions.useAAWithExternalWallet&&(this.coreOptions.useAAWithExternalWallet=i===L.lg.ALL)}initUIConfig(e){this.coreOptions.uiConfig=N().all([{mode:"light",uxMode:p.POPUP},(0,h.mg)(e.whitelabel||{}),this.coreOptions.uiConfig||{}])}initSessionTimeConfig(e){this.coreOptions.sessionTime||e.sessionTime&&(this.coreOptions.sessionTime=e.sessionTime)}initCachedConnectorAndChainId(){const e=this.state.currentChainId,t=e&&this.coreOptions.chains.some(t=>t.chainId===e);if(this.coreOptions.defaultChainId&&!(0,z.lX)(this.coreOptions.defaultChainId))throw ze.il.invalidParams("Please provide a valid defaultChainId in constructor");const n=t?e:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:n})}initWalletServicesConfig(e){var t,n,i,a,s,o;const{enableKeyExport:c,walletUi:l}=e,{enablePortfolioWidget:d=!1,enableTokenDisplay:f=!0,enableNftDisplay:p=!0,enableWalletConnect:h=!0,enableBuyButton:b=!0,enableSendButton:y=!0,enableSwapButton:m=!0,enableReceiveButton:g=!0,enableShowAllTokensButton:w=!0,enableConfirmationModal:v=!1,enableDefiPositionsDisplay:E=!0,portfolioWidgetPosition:x=u.r.BOTTOM_LEFT,defaultPortfolio:S="token"}=l||{},T={showWidgetButton:d,hideNftDisplay:!p,hideTokenDisplay:!f,hideTransfers:!y,hideTopup:!b,hideReceive:!g,hideSwap:!m,hideShowAllTokens:!w,hideWalletConnect:!h,hideDefiPositionsDisplay:!E,buttonPosition:x,defaultPortfolio:S},A=N().all([T,(null===(t=this.coreOptions.walletServicesConfig)||void 0===t?void 0:t.whiteLabel)||{}]),_=null!==(n=null===(i=this.coreOptions.walletServicesConfig)||void 0===i?void 0:i.confirmationStrategy)&&void 0!==n?n:v?u.E.MODAL:u.E.AUTO_APPROVE,C=null===(a=null!==(s=null===(o=this.coreOptions.walletServicesConfig)||void 0===o?void 0:o.enableKeyExport)&&void 0!==s?s:c)||void 0===a||a;this.coreOptions.walletServicesConfig=(0,r.A)((0,r.A)({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:_,whiteLabel:A,enableKeyExport:C})}getInitializationTrackData(){try{var e,t,n,i,a;const s=null===(e=this.coreOptions.chains)||void 0===e?void 0:e.find(e=>e.chainId===this.coreOptions.defaultChainId),o=Array.from(new Set(null===(t=this.coreOptions.chains)||void 0===t?void 0:t.map(e=>(0,z.EW)(e.rpcTarget)))).filter(Boolean);return(0,r.A)((0,r.A)((0,r.A)({chain_ids:null===(n=this.coreOptions.chains)||void 0===n?void 0:n.map(e=>(0,z.Eo)(e)),chain_names:null===(i=this.coreOptions.chains)||void 0===i?void 0:i.map(e=>e.displayName),chain_rpc_targets:o,default_chain_id:s?(0,z.Eo)(s):void 0,default_chain_name:null==s?void 0:s.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:Boolean(this.coreOptions.privateKeyProvider),ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:null===(a=this.coreOptions.uiConfig)||void 0===a?void 0:a.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},(0,z.tP)(this.coreOptions.uiConfig)),(0,z.at)(this.coreOptions.accountAbstractionConfig)),(0,z.dr)(this.coreOptions.walletServicesConfig))}catch(e){return He.R.error("Failed to get initialization track data",e),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await Y.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",e=>this.setCurrentChain(e))}async setupConnector(e){this.subscribeToConnectorEvents(e);try{const t=this.getInitialChainIdForConnector(e),n=this.checkIfAutoConnect(e);await e.init({autoConnect:n,chainId:t.chainId,getIdentityToken:this.coreOptions.initialAuthenticationMode===$.M8.CONNECT_AND_SIGN})}catch(t){He.R.error(t,e.name)}}async loadConnectors({projectConfig:e,modalMode:t}){var n;const r=[...this.coreOptions.connectors||[],Ve()],a={projectConfig:e,coreOptions:this.coreOptions,analytics:this.analytics},s=Boolean(e.externalWalletAuth),o=s&&(null===(n=this.coreOptions.multiInjectedProviderDiscovery)||void 0===n||n),c=new Set(this.coreOptions.chains.map(e=>e.chainNamespace));if((0,z.Bd)()&&c.has(l.l.EIP155)&&r.push(tm(t?{headless:!0}:void 0)),o&&(0,z.Bd)()){if(c.has(l.l.SOLANA)){const{createSolanaMipd:e,hasSolanaWalletStandardFeatures:t,walletStandardConnector:n}=await Promise.resolve().then(i.bind(i,70011)),s=e();s.on("register",async(...e)=>{const r=e.filter(t).map(e=>n(e)(a));this.setConnectors(r)}),r.push(...s.get().filter(e=>t(e)).map(n))}if(c.has(l.l.EIP155)){const{createMipd:e,injectedEvmConnector:t}=await Promise.resolve().then(i.bind(i,13743)),n=e();n.subscribe(e=>{const n=e.map(e=>t(e)(a));this.setConnectors(n)}),r.push(...n.getProviders().map(t))}}if((0,z.Bd)()&&s&&(c.has(l.l.SOLANA)||c.has(l.l.EIP155))){const{walletConnectV2Connector:e}=await Promise.resolve().then(i.bind(i,79921));r.push(e())}const u=r.map(e=>e(a));this.setConnectors(u)}async initPlugins(){const{chains:e,plugins:t}=this.coreOptions,n=t||[],r=e.some(e=>e.chainNamespace===l.l.EIP155||e.chainNamespace===l.l.SOLANA);r&&n.push(nt());for(const e of n){const t=e();this.plugins[t.name]||(this.plugins[t.name]=t)}}setConnectors(e){const t=e=>`${e.connectorNamespace}-${e.name}`,n=new Set(this.connectors.map(t)),r=e.map(e=>{const r=t(e);return n.has(r)?null:(n.add(r),e)}).filter(e=>null!==e);r.length>0&&(this.connectors=[...this.connectors,...r],this.emit($.qM.CONNECTORS_UPDATED,{connectors:r}))}subscribeToConnectorEvents(t){t.on($.qM.CONNECTED,async n=>{var a,s;if(!this.commonJRPCProvider)throw ze.il.notFound("CommonJrpcProvider not found");const{provider:o,identityTokenInfo:c}=n;if(c&&this.setState({idToken:c.idToken}),this.coreOptions.ssr)try{const e=await t.getIdentityToken();if(!e.idToken)throw ze.T7.connectionError("No idToken found");this.setState({idToken:e.idToken})}catch(e){return He.R.error(e),this.status=$.bo.ERRORED,void this.emit($.qM.ERRORED,e,this.loginMode)}let u=o.provider||o;const{accountAbstractionConfig:d}=this.coreOptions;if((null===(a=this.currentChain)||void 0===a?void 0:a.chainNamespace)===l.l.EIP155&&(null==d||null===(s=d.chains)||void 0===s?void 0:s.some(e=>{var t;return e.chainId===(null===(t=this.currentChain)||void 0===t?void 0:t.chainId)}))&&(n.connector===e.LZ.AUTH||this.coreOptions.useAAWithExternalWallet)){var f;const{accountAbstractionProvider:t,toEoaProvider:r}=await Promise.resolve().then(i.bind(i,91194)),a=n.connector===e.LZ.AUTH?await r(o):o,s=new Set((null==d||null===(f=d.chains)||void 0===f?void 0:f.map(e=>e.chainId))||[]),c=await t({accountAbstractionConfig:d,provider:a,chain:this.currentChain,chains:this.coreOptions.chains.filter(e=>s.has(e.chainId)),useProviderAsTransport:n.connector===e.LZ.AUTH});this.aaProvider=c,n.connector!==e.LZ.AUTH&&this.coreOptions.useAAWithExternalWallet&&(u=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(u),this.setState({connectedConnectorName:n.connector}),this.cacheWallet(n.connector),this.status=$.bo.CONNECTED,He.R.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins((0,r.A)((0,r.A)({},n),{},{connector:n.connector})),this.emit($.qM.CONNECTED,(0,r.A)((0,r.A)({},n),{},{loginMode:this.loginMode}))}),t.on($.qM.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=$.bo.READY;const e=this.state.cachedConnector;this.connectedConnectorName===e&&this.clearCache(),He.R.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async e=>{if(e.SUPPORTED_CONNECTORS.includes(t.name)&&e.status===Ye.CONNECTED)return e.disconnect().catch(e=>{5211!==e.code&&He.R.error(e)})})),this.setState({connectedConnectorName:null}),this.emit($.qM.DISCONNECTED)}),t.on($.qM.CONNECTING,e=>{this.status=$.bo.CONNECTING,this.emit($.qM.CONNECTING,e),He.R.debug("connecting",this.status,this.connectedConnectorName)}),t.on($.qM.ERRORED,e=>{this.status=$.bo.ERRORED,this.clearCache(),this.emit($.qM.ERRORED,e,this.loginMode),He.R.debug("errored",this.status,this.connectedConnectorName)}),t.on($.qM.REHYDRATION_ERROR,e=>{this.status=$.bo.READY,this.clearCache(),this.emit($.qM.REHYDRATION_ERROR,e)}),t.on($.qM.CONNECTOR_DATA_UPDATED,e=>{He.R.debug("connector data updated",e),this.emit($.qM.CONNECTOR_DATA_UPDATED,e)}),t.on($.qM.CACHE_CLEAR,e=>{He.R.debug("connector cache clear",e),this.clearCache()}),t.on($.qM.MFA_ENABLED,e=>{var t;He.R.debug("mfa enabled",e);const n=this.connectedConnector;this.analytics.track(F.R2.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:null===(t=n.authInstance)||void 0===t||null===(t=t.options)||void 0===t?void 0:t.uxMode,is_mfa_enabled:e}),this.emit($.qM.MFA_ENABLED,e)}),t.on($.qM.AUTHORIZING,e=>{this.status=$.bo.AUTHORIZING,this.emit($.qM.AUTHORIZING,e),He.R.debug("authorizing",this.status,this.connectedConnectorName)}),t.on($.qM.AUTHORIZED,e=>{this.status=$.bo.AUTHORIZED,this.setState({idToken:e.identityTokenInfo.idToken}),this.emit($.qM.AUTHORIZED,e),He.R.debug("authorized",this.status,this.connectedConnectorName)})}checkInitRequirements(){if(this.status===$.bo.READY)throw ze.il.notReady("Connector is already initialized")}checkIfAutoConnect(e){var t;let n=this.cachedConnector===e.name;return n&&null!==(t=this.currentChain)&&void 0!==t&&t.chainNamespace&&(n=e.connectorNamespace===$e.R.MULTICHAIN||e.connectorNamespace===this.currentChain.chainNamespace),n}getInitialChainIdForConnector(e){var t;let n=this.currentChain;if((null===(t=n)||void 0===t?void 0:t.chainNamespace)!==e.connectorNamespace&&e.connectorNamespace!==$e.R.MULTICHAIN&&(n=this.coreOptions.chains.find(t=>t.chainNamespace===e.connectorNamespace),!n))throw ze.il.invalidParams(`No chain found for ${e.connectorNamespace}`);return n}cacheWallet(e){this.setState({cachedConnector:e})}setCurrentChain(e){if(e!==this.currentChainId){if(!this.coreOptions.chains.find(t=>t.chainId===e))throw ze.il.invalidParams(`Invalid chainId: ${e}`);this.setState({currentChainId:e})}}connectToPlugins(e){Object.values(this.plugins).map(async t=>{try{var n;if(!t.SUPPORTED_CONNECTORS.includes(e.connector))return;if(t.pluginNamespace!==Ge.MULTICHAIN&&t.pluginNamespace!==(null===(n=this.currentChain)||void 0===n?void 0:n.chainNamespace))return;if(t.status===Ye.CONNECTED)return;await t.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await t.connect()}catch(e){if(5211===e.code)return;He.R.error(e)}})}setState(e){this.state=(0,r.A)((0,r.A)({},this.state),e),this.storage.setItem(L.__,JSON.stringify(this.state))}loadState(e){if(e)return void(this.state=e);const t=this.storage.getItem(L.__);t&&(this.state=D(t))}getStorageMethod(){return this.coreOptions.ssr||"cookies"===this.coreOptions.storageType?(e=>({getItem(e){if("undefined"==typeof window)return null;const t=j(document.cookie,e);return null!=t?t:null},setItem(t,n){if("undefined"==typeof window)return;let r=`${t}=${n};path=/;samesite=Lax`;null!=e&&e.expiry&&"number"==typeof e.expiry&&(r+=`; expires=${new Date(Date.now()+e.expiry).toUTCString()}`),r+="; secure",document.cookie=r},removeItem(e){"undefined"!=typeof window&&(document.cookie=`${e}=;max-age=-1;path=/`)}}))({expiry:this.coreOptions.sessionTime}):"session"===this.coreOptions.storageType&&(0,it.VS)("sessionStorage")?window.sessionStorage:"local"===this.coreOptions.storageType&&(0,it.VS)("localStorage")?window.localStorage:new O}}function im(e){return e.charAt(0).toUpperCase()+e.slice(1)}const am=new Set([f.CUSTOM,f.PASSKEYS,f.TELEGRAM,f.AUTHENTICATOR]),sm=Object.values(f).filter(e=>!am.has(e)),om=sm.reduce((e,t)=>(e[t]="email_passwordless"===t?"Email":"sms_passwordless"===t?"Mobile":im(t),e),{}),cm={[fe.F3.DEVELOPMENT]:"https://api-develop.web3auth.io/passwordless-service",[fe.F3.STAGING]:"https://api.web3auth.io/passwordless-service",[fe.F3.PRODUCTION]:"https://api.web3auth.io/passwordless-service",[fe.F3.TESTING]:"https://api-develop.web3auth.io/passwordless-service"},lm="MODAL_VISIBILITY",um="initialized",dm="connected",fm="connecting",pm="errored",hm="authorizing",bm="authorized";let ym=function(e){return e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e}({});var mm=i(72591),gm=i.n(mm),wm=i(1740),vm=i.n(wm),Em=i(88128),xm=i.n(Em),Sm=i(30855),Tm=i.n(Sm),Am=i(93051),_m=i.n(Am),Cm=i(73656),km=i.n(Cm),Im=i(32586),Pm={};function Om(e,t=3,n=50,r="black",i=0,a=20,s="#0346ff"){const o=[];let c;for(c=0;c<t;c+=1)o.push(e(s).rotate((c+1)/t*-i).saturate((c+1)/t*(a/100)).mix(e(r),n/100*(c+1)/t).hex());return o}Pm.styleTagTransform=km(),Pm.setAttributes=Tm(),Pm.insert=xm().bind(null,"head"),Pm.domAPI=vm(),Pm.insertStyleElement=_m(),gm()(Im.A,Pm),Im.A&&Im.A.locals&&Im.A.locals;var Mm=i(25873),Rm=i(36422);const Nm="login",Lm="connect_wallet",Dm="Connect Your Wallet",Bm="Selected Wallet",jm="https://images.web3auth.io/web3auth-logo-w.svg",Um="https://images.web3auth.io/web3auth-logo-w-light.svg",Fm={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}};function $m(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$m(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const zm=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Hm="-",qm=[],Km=e=>{const t=Gm(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return Vm(e);const n=e.split(Hm),r=""===n[0]&&n.length>1?1:0;return Wm(n,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=r[e],i=n[e];return t?i?((e,t)=>{const n=new Array(e.length+t.length);for(let t=0;t<e.length;t++)n[t]=e[t];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n})(i,t):t:i||qm}return n[e]||qm}}},Wm=(e,t,n)=>{if(0===e.length-t)return n.classGroupId;const r=e[t],i=n.nextPart.get(r);if(i){const n=Wm(e,t+1,i);if(n)return n}const a=n.validators;if(null===a)return;const s=0===t?e.join(Hm):e.slice(t).join(Hm),o=a.length;for(let e=0;e<o;e++){const t=a[e];if(t.validator(s))return t.classGroupId}},Vm=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?"arbitrary.."+r:void 0})(),Gm=e=>{const{theme:t,classGroups:n}=e;return Ym(n,t)},Ym=(e,t)=>{const n=zm();for(const r in e){const i=e[r];Jm(i,n,r,t)}return n},Jm=(e,t,n,r)=>{const i=e.length;for(let a=0;a<i;a++){const i=e[a];Zm(i,t,n,r)}},Zm=(e,t,n,r)=>{"string"!=typeof e?"function"!=typeof e?eg(e,t,n,r):Qm(e,t,n,r):Xm(e,t,n)},Xm=(e,t,n)=>{(""===e?t:tg(t,e)).classGroupId=n},Qm=(e,t,n,r)=>{ng(e)?Jm(e(r),t,n,r):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},eg=(e,t,n,r)=>{const i=Object.entries(e),a=i.length;for(let e=0;e<a;e++){const[a,s]=i[e];Jm(s,tg(t,a),n,r)}},tg=(e,t)=>{let n=e;const r=t.split(Hm),i=r.length;for(let e=0;e<i;e++){const t=r[e];let i=n.nextPart.get(t);i||(i=zm(),n.nextPart.set(t,i)),n=i}return n},ng=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,rg=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(i,a)=>{n[i]=a,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(i(e,t),t):void 0},set(e,t){e in n?n[e]=t:i(e,t)}}},ig=[],ag=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),sg=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;const s=e.length;for(let o=0;o<s;o++){const s=e[o];if(0===r&&0===i){if(":"===s){t.push(e.slice(a,o)),a=o+1;continue}if("/"===s){n=o;continue}}"["===s?r++:"]"===s?r--:"("===s?i++:")"===s&&i--}const o=0===t.length?e:e.slice(a);let c=o,l=!1;return o.endsWith("!")?(c=o.slice(0,-1),l=!0):o.startsWith("!")&&(c=o.slice(1),l=!0),ag(t,l,c,n&&n>a?n-a:void 0)};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):ag(ig,!1,t,void 0,!0)}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},og=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let r=[];for(let i=0;i<e.length;i++){const a=e[i],s="["===a[0],o=t.has(a);s||o?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(a)):r.push(a)}return r.length>0&&(r.sort(),n.push(...r)),n}},cg=/\s+/,lg=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=lg(e[r]))&&(n&&(n+=" "),n+=t);return n},ug=(e,...t)=>{let n,r,i,a;const s=e=>{const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(cg);let c="";for(let e=o.length-1;e>=0;e-=1){const t=o[e],{isExternal:l,modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=n(t);if(l){c=t+(c.length>0?" "+c:c);continue}let h=!!p,b=r(h?f.substring(0,p):f);if(!b){if(!h){c=t+(c.length>0?" "+c:c);continue}if(b=r(f),!b){c=t+(c.length>0?" "+c:c);continue}h=!1}const y=0===u.length?"":1===u.length?u[0]:a(u).join(":"),m=d?y+"!":y,g=m+b;if(s.indexOf(g)>-1)continue;s.push(g);const w=i(b,h);for(let e=0;e<w.length;++e){const t=w[e];s.push(m+t)}c=t+(c.length>0?" "+c:c)}return c})(e,n);return i(e,a),a};return a=o=>{const c=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:rg(e.cacheSize),parseClassName:sg(e),sortModifiers:og(e),...Km(e)}))(c),r=n.cache.get,i=n.cache.set,a=s,s(o)},(...e)=>a(((...e)=>{let t,n,r=0,i="";for(;r<e.length;)(t=e[r++])&&(n=lg(t))&&(i&&(i+=" "),i+=n);return i})(...e))},dg=[],fg=e=>{const t=t=>t[e]||dg;return t.isThemeGetter=!0,t},pg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bg=/^\d+\/\d+$/,yg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eg=e=>bg.test(e),xg=e=>!!e&&!Number.isNaN(Number(e)),Sg=e=>!!e&&Number.isInteger(Number(e)),Tg=e=>e.endsWith("%")&&xg(e.slice(0,-1)),Ag=e=>yg.test(e),_g=()=>!0,Cg=e=>mg.test(e)&&!gg.test(e),kg=()=>!1,Ig=e=>wg.test(e),Pg=e=>vg.test(e),Og=e=>!Rg(e)&&!Ug(e),Mg=e=>Wg(e,Jg,kg),Rg=e=>pg.test(e),Ng=e=>Wg(e,Zg,Cg),Lg=e=>Wg(e,Xg,xg),Dg=e=>Wg(e,Gg,kg),Bg=e=>Wg(e,Yg,Pg),jg=e=>Wg(e,ew,Ig),Ug=e=>hg.test(e),Fg=e=>Vg(e,Zg),$g=e=>Vg(e,Qg),zg=e=>Vg(e,Gg),Hg=e=>Vg(e,Jg),qg=e=>Vg(e,Yg),Kg=e=>Vg(e,ew,!0),Wg=(e,t,n)=>{const r=pg.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},Vg=(e,t,n=!1)=>{const r=hg.exec(e);return!!r&&(r[1]?t(r[1]):n)},Gg=e=>"position"===e||"percentage"===e,Yg=e=>"image"===e||"url"===e,Jg=e=>"length"===e||"size"===e||"bg-size"===e,Zg=e=>"length"===e,Xg=e=>"number"===e,Qg=e=>"family-name"===e,ew=e=>"shadow"===e,tw=ug((Symbol.toStringTag,()=>{const e=fg("color"),t=fg("font"),n=fg("text"),r=fg("font-weight"),i=fg("tracking"),a=fg("leading"),s=fg("breakpoint"),o=fg("container"),c=fg("spacing"),l=fg("radius"),u=fg("shadow"),d=fg("inset-shadow"),f=fg("text-shadow"),p=fg("drop-shadow"),h=fg("blur"),b=fg("perspective"),y=fg("aspect"),m=fg("ease"),g=fg("animate"),w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Ug,Rg],v=()=>[Ug,Rg,c],E=()=>[Eg,"full","auto",...v()],x=()=>[Sg,"none","subgrid",Ug,Rg],S=()=>["auto",{span:["full",Sg,Ug,Rg]},Sg,Ug,Rg],T=()=>[Sg,"auto",Ug,Rg],A=()=>["auto","min","max","fr",Ug,Rg],_=()=>["auto",...v()],C=()=>[Eg,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],k=()=>[e,Ug,Rg],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",zg,Dg,{position:[Ug,Rg]}],P=()=>["auto","cover","contain",Hg,Mg,{size:[Ug,Rg]}],O=()=>[Tg,Fg,Ng],M=()=>["","none","full",l,Ug,Rg],R=()=>["",xg,Fg,Ng],N=()=>[xg,Tg,zg,Dg],L=()=>["","none",h,Ug,Rg],D=()=>["none",xg,Ug,Rg],B=()=>["none",xg,Ug,Rg],j=()=>[xg,Ug,Rg],U=()=>[Eg,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ag],breakpoint:[Ag],color:[_g],container:[Ag],"drop-shadow":[Ag],ease:["in","out","in-out"],font:[Og],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ag],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ag],shadow:[Ag],spacing:["px",xg],text:[Ag],"text-shadow":[Ag],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Eg,Rg,Ug,y]}],container:["container"],columns:[{columns:[xg,Rg,Ug,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Sg,"auto",Ug,Rg]}],basis:[{basis:[Eg,"full","auto",o,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xg,Eg,"auto","initial","none",Rg]}],grow:[{grow:["",xg,Ug,Rg]}],shrink:[{shrink:["",xg,Ug,Rg]}],order:[{order:[Sg,"first","last","none",Ug,Rg]}],"grid-cols":[{"grid-cols":x()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":x()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[o,"screen",...C()]}],"min-w":[{"min-w":[o,"screen","none",...C()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",n,Fg,Ng]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ug,Lg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Tg,Rg]}],"font-family":[{font:[$g,Rg,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ug,Rg]}],"line-clamp":[{"line-clamp":[xg,"none",Ug,Lg]}],leading:[{leading:[a,...v()]}],"list-image":[{"list-image":["none",Ug,Rg]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ug,Rg]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[xg,"from-font","auto",Ug,Ng]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[xg,"auto",Ug,Rg]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ug,Rg]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ug,Rg]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sg,Ug,Rg],radial:["",Ug,Rg],conic:[Sg,Ug,Rg]},qg,Bg]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[xg,Ug,Rg]}],"outline-w":[{outline:["",xg,Fg,Ng]}],"outline-color":[{outline:k()}],shadow:[{shadow:["","none",u,Kg,jg]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",d,Kg,jg]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[xg,Ng]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":k()}],"text-shadow":[{"text-shadow":["none",f,Kg,jg]}],"text-shadow-color":[{"text-shadow":k()}],opacity:[{opacity:[xg,Ug,Rg]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xg]}],"mask-image-linear-from-pos":[{"mask-linear-from":N()}],"mask-image-linear-to-pos":[{"mask-linear-to":N()}],"mask-image-linear-from-color":[{"mask-linear-from":k()}],"mask-image-linear-to-color":[{"mask-linear-to":k()}],"mask-image-t-from-pos":[{"mask-t-from":N()}],"mask-image-t-to-pos":[{"mask-t-to":N()}],"mask-image-t-from-color":[{"mask-t-from":k()}],"mask-image-t-to-color":[{"mask-t-to":k()}],"mask-image-r-from-pos":[{"mask-r-from":N()}],"mask-image-r-to-pos":[{"mask-r-to":N()}],"mask-image-r-from-color":[{"mask-r-from":k()}],"mask-image-r-to-color":[{"mask-r-to":k()}],"mask-image-b-from-pos":[{"mask-b-from":N()}],"mask-image-b-to-pos":[{"mask-b-to":N()}],"mask-image-b-from-color":[{"mask-b-from":k()}],"mask-image-b-to-color":[{"mask-b-to":k()}],"mask-image-l-from-pos":[{"mask-l-from":N()}],"mask-image-l-to-pos":[{"mask-l-to":N()}],"mask-image-l-from-color":[{"mask-l-from":k()}],"mask-image-l-to-color":[{"mask-l-to":k()}],"mask-image-x-from-pos":[{"mask-x-from":N()}],"mask-image-x-to-pos":[{"mask-x-to":N()}],"mask-image-x-from-color":[{"mask-x-from":k()}],"mask-image-x-to-color":[{"mask-x-to":k()}],"mask-image-y-from-pos":[{"mask-y-from":N()}],"mask-image-y-to-pos":[{"mask-y-to":N()}],"mask-image-y-from-color":[{"mask-y-from":k()}],"mask-image-y-to-color":[{"mask-y-to":k()}],"mask-image-radial":[{"mask-radial":[Ug,Rg]}],"mask-image-radial-from-pos":[{"mask-radial-from":N()}],"mask-image-radial-to-pos":[{"mask-radial-to":N()}],"mask-image-radial-from-color":[{"mask-radial-from":k()}],"mask-image-radial-to-color":[{"mask-radial-to":k()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[xg]}],"mask-image-conic-from-pos":[{"mask-conic-from":N()}],"mask-image-conic-to-pos":[{"mask-conic-to":N()}],"mask-image-conic-from-color":[{"mask-conic-from":k()}],"mask-image-conic-to-color":[{"mask-conic-to":k()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ug,Rg]}],filter:[{filter:["","none",Ug,Rg]}],blur:[{blur:L()}],brightness:[{brightness:[xg,Ug,Rg]}],contrast:[{contrast:[xg,Ug,Rg]}],"drop-shadow":[{"drop-shadow":["","none",p,Kg,jg]}],"drop-shadow-color":[{"drop-shadow":k()}],grayscale:[{grayscale:["",xg,Ug,Rg]}],"hue-rotate":[{"hue-rotate":[xg,Ug,Rg]}],invert:[{invert:["",xg,Ug,Rg]}],saturate:[{saturate:[xg,Ug,Rg]}],sepia:[{sepia:["",xg,Ug,Rg]}],"backdrop-filter":[{"backdrop-filter":["","none",Ug,Rg]}],"backdrop-blur":[{"backdrop-blur":L()}],"backdrop-brightness":[{"backdrop-brightness":[xg,Ug,Rg]}],"backdrop-contrast":[{"backdrop-contrast":[xg,Ug,Rg]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xg,Ug,Rg]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xg,Ug,Rg]}],"backdrop-invert":[{"backdrop-invert":["",xg,Ug,Rg]}],"backdrop-opacity":[{"backdrop-opacity":[xg,Ug,Rg]}],"backdrop-saturate":[{"backdrop-saturate":[xg,Ug,Rg]}],"backdrop-sepia":[{"backdrop-sepia":["",xg,Ug,Rg]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ug,Rg]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xg,"initial",Ug,Rg]}],ease:[{ease:["linear","initial",m,Ug,Rg]}],delay:[{delay:[xg,Ug,Rg]}],animate:[{animate:["none",g,Ug,Rg]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ug,Rg]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:B()}],"scale-x":[{"scale-x":B()}],"scale-y":[{"scale-y":B()}],"scale-z":[{"scale-z":B()}],"scale-3d":["scale-3d"],skew:[{skew:j()}],"skew-x":[{"skew-x":j()}],"skew-y":[{"skew-y":j()}],transform:[{transform:[Ug,Rg,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:U()}],"translate-x":[{"translate-x":U()}],"translate-y":[{"translate-y":U()}],"translate-z":[{"translate-z":U()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ug,Rg]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ug,Rg]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[xg,Fg,Ng,Lg]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}})),nw=new Map;function rw(...e){const t=JSON.stringify(e);if(nw.has(t))return nw.get(t);const n=tw(function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$m(e))&&(r&&(r+=" "),r+=t);return r}(e));return nw.set(t,n),n}const iw=e=>{switch(e){case"ios":return"iOS";case"android":return"Android";default:return""}},aw=e=>e.charAt(0).toUpperCase()+e.slice(1),sw=e=>`https://images.web3auth.io/login-modal/${e}.svg`,ow="https://api.web3auth.io/passwordless-service",cw=e=>{let t=e;return t||(t=("undefined"!=typeof window&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(pe.so,t)?t:pe.Yj.en};var lw=i(31085);const uw=function(e){const{open:t=!0,padding:n=!0,shadow:r=!0,border:i=!1,showCloseIcon:a=!1,onClose:s,children:o,borderRadius:c="large"}=e,[l,u]=(0,Rm.useState)(!1);return(0,Rm.useEffect)(()=>{t?setTimeout(()=>{u(!0)},50):u(!1)},[t]),l?(0,lw.jsxs)("div",{className:rw("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":l,"w3a--translate-y-[100vh]":!l,"w3a--p-4":n,"w3a--shadow-xl sm:w3a--shadow-lg":r,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":i,"w3a--rounded-[30px]":"large"===c,"w3a--rounded-2xl":"medium"===c,"w3a--rounded-none":"small"===c}),children:[a&&(0,lw.jsx)("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:(0,lw.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{s&&s()},className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:(0,lw.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),o]}):null},dw=function(e){const{children:t,open:n,onClose:r,placement:i="center",padding:a=!0,shadow:s=!0,border:o=!1,showCloseIcon:c=!0,borderRadius:l="large"}=e,[u,d]=(0,Rm.useState)(!1);(0,Rm.useEffect)(()=>{n?(document.body.style.overflow="hidden",setTimeout(()=>{d(!0)},50)):(d(!1),document.body.style.overflow="")},[n]);const f=(0,Rm.useMemo)(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),p=(0,Rm.useMemo)(()=>f[i],[i,f]);return(0,lw.jsx)("div",{className:rw("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",p,{"w3a--w-screen w3a--h-screen":u,"w3a--w-0 w3a--h-0 w3a--delay-500":!u}),children:(0,lw.jsxs)("div",{className:rw("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":u,"w3a--translate-y-[100vh]":!u,"w3a--p-4":a,"w3a--shadow-xl sm:w3a--shadow-lg":s,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":o,"w3a--rounded-[30px]":"large"===l,"w3a--rounded-2xl":"medium"===l,"w3a--rounded-none":"small"===l}),children:[c&&(0,lw.jsx)("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:(0,lw.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{r&&r()},className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,lw.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),t]})})};i(29002),Object.create(null);const fw={},pw=(e,t,n,r)=>{mw(n)&&fw[n]||(mw(n)&&(fw[n]=new Date),((e,t,n,r)=>{const i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);mw(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)})(e,t,n,r))},hw=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},bw=(e,t,n)=>{e.loadNamespaces(t,hw(e,n))},yw=(e,t,n,r)=>{if(mw(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return bw(e,n,r);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,hw(e,r))},mw=e=>"string"==typeof e,gw=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ww={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},vw=e=>ww[e];let Ew,xw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(gw,vw)};const Sw={type:"3rdParty",init(e){((e={})=>{xw={...xw,...e}})(e.options.react),(e=>{Ew=e})(e)}},Tw=(0,Rm.createContext)();class Aw{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const _w=(e,t,n,r)=>e.getFixedT(t,n,r),Cw=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:i}=(0,Rm.useContext)(Tw)||{},a=n||r||Ew;if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Aw),!a){pw(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return mw(t)?t:"object"==typeof(n=t)&&null!==n&&mw(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react?.wait&&pw(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...xw,...a.options.react,...t},{useSuspense:o,keyPrefix:c}=s;let l=e||i||a.options?.defaultNS;l=mw(l)?[l]:l||["translation"],a.reportNamespaces.addUsedNamespaces?.(l);const u=(a.isInitialized||a.initializedStoreOnce)&&l.every(e=>((e,t,n={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(pw(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,a,s)),d=((e,t,n,r)=>(0,Rm.useCallback)(_w(e,t,n,r),[e,t,n,r]))(a,t.lng||null,"fallback"===s.nsMode?l:l[0],c),f=()=>d,p=()=>_w(a,t.lng||null,"fallback"===s.nsMode?l:l[0],c),[h,b]=(0,Rm.useState)(f);let y=l.join();t.lng&&(y=`${t.lng}${y}`);const m=((e,t)=>{const n=(0,Rm.useRef)();return(0,Rm.useEffect)(()=>{n.current=e},[e,t]),n.current})(y),g=(0,Rm.useRef)(!0);(0,Rm.useEffect)(()=>{const{bindI18n:e,bindI18nStore:n}=s;g.current=!0,u||o||(t.lng?yw(a,t.lng,l,()=>{g.current&&b(p)}):bw(a,l,()=>{g.current&&b(p)})),u&&m&&m!==y&&g.current&&b(p);const r=()=>{g.current&&b(p)};return e&&a?.on(e,r),n&&a?.store.on(n,r),()=>{g.current=!1,a&&e&&e?.split(" ").forEach(e=>a.off(e,r)),n&&a&&n.split(" ").forEach(e=>a.store.off(e,r))}},[a,y]),(0,Rm.useEffect)(()=>{g.current&&u&&b(f)},[a,c,u]);const w=[h,a,u];if(w.t=h,w.i18n=a,w.ready=u,u)return w;if(!u&&!o)return w;throw new Promise(e=>{t.lng?yw(a,t.lng,l,()=>e()):bw(a,l,()=>e())})},kw=(0,Rm.createContext)({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:ym.SUCCESS},setBodyState:()=>{},setToast:()=>{}}),Iw=(0,Rm.createContext)({isDark:!0}),Pw=e=>"string"==typeof e,Ow=()=>{let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n},Mw=e=>null==e?"":""+e,Rw=/###/g,Nw=e=>e&&e.indexOf("###")>-1?e.replace(Rw,"."):e,Lw=e=>!e||Pw(e),Dw=(e,t,n)=>{const r=Pw(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(Lw(e))return{};const t=Nw(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return Lw(e)?{}:{obj:e,k:Nw(r[i])}},Bw=(e,t,n)=>{const{obj:r,k:i}=Dw(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let a=t[t.length-1],s=t.slice(0,t.length-1),o=Dw(e,s,Object);for(;void 0===o.obj&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=Dw(e,s,Object),o?.obj&&void 0!==o.obj[`${o.k}.${a}`]&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},jw=(e,t)=>{const{obj:n,k:r}=Dw(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Uw=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?Pw(e[r])||e[r]instanceof String||Pw(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Uw(e[r],t[r],n):e[r]=t[r]);return e},Fw=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var $w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const zw=e=>Pw(e)?e.replace(/[&<>"'\/]/g,e=>$w[e]):e,Hw=[" ",",","?","!",";"],qw=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Kw=(e,t,n=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let i=e;for(let e=0;e<r.length;){if(!i||"object"!=typeof i)return;let t,a="";for(let s=e;s<r.length;++s)if(s!==e&&(a+=n),a+=r[s],t=i[a],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<r.length-1)continue;e+=s-e+1;break}i=t}return i},Ww=e=>e?.replace("_","-"),Vw={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Gw{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Vw,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(Pw(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Gw(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Gw(this.logger,e)}}var Yw=new Gw;class Jw{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([e,n])=>{for(let r=0;r<n;r++)e(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,r])=>{for(let i=0;i<r;i++)n.apply(n,[e,...t])})}}class Zw extends Jw{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,r={}){const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],n&&(Array.isArray(n)?s.push(...n):Pw(n)&&i?s.push(...n.split(i)):s.push(n)));const o=jw(this.data,s);return!o&&!t&&!n&&e.indexOf(".")>-1&&(e=s[0],t=s[1],n=s.slice(2).join(".")),!o&&a&&Pw(n)?Kw(this.data?.[e]?.[t],n,i):o}addResource(e,t,n,r,i={silent:!1}){const a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(s=e.split("."),r=t,t=s[1]),this.addNamespaces(t),Bw(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n,r={silent:!1}){for(const r in n)(Pw(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i,a={silent:!1,skipCopy:!1}){let s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),r=n,n=t,t=s[1]),this.addNamespaces(t);let o=jw(this.data,s)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?Uw(o,n,i):o={...o,...n},Bw(this.data,s,o),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var Xw={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(e=>{t=this.processors[e]?.process(t,n,r,i)??t}),t}};const Qw=Symbol("i18next/PATH_KEY");function ev(e,t){const{[Qw]:n}=e(function(){const e=[],t=Object.create(null);let n;return t.get=(r,i)=>(n?.revoke?.(),i===Qw?e:(e.push(i),n=Proxy.revocable(r,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}());return n.join(t?.keySeparator??".")}const tv={},nv=e=>!Pw(e)&&"boolean"!=typeof e&&"number"!=typeof e;class rv extends Jw{constructor(e,t={}){super(),((e,t,n)=>{["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(e=>{t[e]&&(n[e]=t[e])})})(0,e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Yw.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(null==e)return!1;const r=this.resolve(e,n);if(void 0===r?.res)return!1;const i=nv(r.res);return!1!==n.returnObjects||!i}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=Hw.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===r.length)return!0;const i=qw.getRegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`);let a=!i.test(e);if(!a){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(a=!0)}return a})(e,n,r));if(a&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Pw(i)?[i]:i};const a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return{key:e,namespaces:Pw(i)?[i]:i}}translate(e,t,n){let r="object"==typeof t?{...t}:t;if("object"!=typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof r&&(r={...r}),r||(r={}),null==e)return"";"function"==typeof e&&(e=ev(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const i=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(e[e.length-1],r),c=o[o.length-1];let l=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===l&&(l=":");const u=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===u?.toLowerCase())return d?i?{res:`${c}${l}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${l}${s}`:i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:s;const f=this.resolve(e,r);let p=f?.res;const h=f?.usedKey||s,b=f?.exactUsedKey||s,y=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,g=void 0!==r.count&&!Pw(r.count),w=rv.hasDefaultValue(r),v=g?this.pluralResolver.getSuffix(u,r.count,r):"",E=r.ordinal&&g?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",x=g&&!r.ordinal&&0===r.count,S=x&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${v}`]||r[`defaultValue${E}`]||r.defaultValue;let T=p;m&&!p&&w&&(T=S);const A=nv(T),_=Object.prototype.toString.apply(T);if(!(m&&T&&A&&["[object Number]","[object Function]","[object RegExp]"].indexOf(_)<0)||Pw(y)&&Array.isArray(T))if(m&&Pw(y)&&Array.isArray(p))p=p.join(y),p&&(p=this.extendTranslation(p,e,r,n));else{let t=!1,i=!1;!this.isValidLookup(p)&&w&&(t=!0,p=S),this.isValidLookup(p)||(i=!0,p=s);const o=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:p,d=w&&S!==p&&this.options.updateMissing;if(i||t||d){if(this.logger.log(d?"updateKey":"missingKey",u,c,s,d?S:p),a){const e=this.resolve(s,{...r,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let n=0;n<t.length;n++)e.push(t[n]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(r.lng||this.language):e.push(r.lng||this.language);const n=(e,t,n)=>{const i=w&&n!==p?n:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,c,t,i,d,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,c,t,i,d,r),this.emit("missingKey",e,c,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&g?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,r);x&&r[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{n([e],s+t,r[`defaultValue${t}`]||S)})}):n(e,s,S))}p=this.extendTranslation(p,e,r,f,n),i&&p===s&&this.options.appendNamespaceToMissingKey&&(p=`${c}${l}${s}`),(i||t)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${l}${s}`:s,t?p:void 0,r))}else{if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,T,{...r,ns:o}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(f.res=e,f.usedParams=this.getUsedParamsDetails(r),f):e}if(a){const e=Array.isArray(T),t=e?[]:{},n=e?b:h;for(const e in T)if(Object.prototype.hasOwnProperty.call(T,e)){const i=`${n}${a}${e}`;t[e]=w&&!p?this.translate(i,{...r,defaultValue:nv(S)?S[e]:void 0,joinArrays:!1,ns:o}):this.translate(i,{...r,joinArrays:!1,ns:o}),t[e]===i&&(t[e]=T[e])}p=t}}return i?(f.res=p,f.usedParams=this.getUsedParamsDetails(r),f):p}extendTranslation(e,t,n,r,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=Pw(e)&&(void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let o=n.replace&&!Pw(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),e=this.interpolator.interpolate(e,o,n.lng||this.language||r.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(...e)=>i?.[0]!==e[0]||n.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s=Pw(a)?[a]:a;return null!=e&&s?.length&&!1!==n.applyPostProcessor&&(e=Xw.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,r,i,a,s;return Pw(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(n))return;const o=this.extractFromKey(e,t),c=o.key;r=c;let l=o.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const u=void 0!==t.count&&!Pw(t.count),d=u&&!t.ordinal&&0===t.count,f=void 0!==t.context&&(Pw(t.context)||"number"==typeof t.context)&&""!==t.context,p=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);l.forEach(e=>{this.isValidLookup(n)||(s=e,tv[`${p[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(s)||(tv[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${p.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(r=>{if(this.isValidLookup(n))return;a=r;const s=[c];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(s,c,r,e,t);else{let e;u&&(e=this.pluralResolver.getSuffix(r,t.count,t));const n=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(t.ordinal&&0===e.indexOf(i)&&s.push(c+e.replace(i,this.options.pluralSeparator)),s.push(c+e),d&&s.push(c+n)),f){const r=`${c}${this.options.contextSeparator||"_"}${t.context}`;s.push(r),u&&(t.ordinal&&0===e.indexOf(i)&&s.push(r+e.replace(i,this.options.pluralSeparator)),s.push(r+e),d&&s.push(r+n))}}let o;for(;o=s.pop();)this.isValidLookup(n)||(i=o,n=this.getResource(r,e,o,t))}))})}),{res:n,usedKey:r,exactUsedKey:i,usedLng:a,usedNS:s}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Pw(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}class iv{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yw.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Ww(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Ww(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pw(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Pw(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Pw(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):Pw(e)&&i(this.formatLanguageCode(e)),n.forEach(e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))}),r}}const av={zero:0,one:1,two:2,few:3,many:4,other:5},sv={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ov{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Yw.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Ww("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:r})}catch(n){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),sv;if(!e.match(/-|_/))return sv;const r=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(r,t)}return this.pluralRulesCache[i]=a,a}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>av[e]-av[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,n={}){const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const cv=(e,t,n,r=".",i=!0)=>{let a=((e,t,n)=>{const r=jw(e,n);return void 0!==r?r:jw(t,n)})(e,t,n);return!a&&i&&Pw(n)&&(a=Kw(e,n,r),void 0===a&&(a=Kw(t,n,r))),a},lv=e=>e.replace(/\$/g,"$$$$");class uv{constructor(e={}){this.logger=Yw.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:a,suffix:s,suffixEscaped:o,formatSeparator:c,unescapeSuffix:l,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:p,nestingSuffixEscaped:h,nestingOptionsSeparator:b,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=void 0!==t?t:zw,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?Fw(i):a||"{{",this.suffix=s?Fw(s):o||"}}",this.formatSeparator=c||",",this.unescapePrefix=l?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=d?Fw(d):f||Fw("$t("),this.nestingSuffix=p?Fw(p):h||Fw(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=y||1e3,this.alwaysFormat=void 0!==m&&m,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let i,a,s;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const i=cv(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),a=i.shift().trim(),s=i.join(this.formatSeparator).trim();return this.format(cv(t,o,a,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...r,...t,interpolationkey:a})};this.resetRegExp();const l=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,u=void 0!==r?.interpolation?.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>lv(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?lv(this.escape(e)):lv(e)}].forEach(t=>{for(s=0;i=t.regex.exec(e);){const n=i[1].trim();if(a=c(n),void 0===a)if("function"==typeof l){const t=l(e,i,r);a=Pw(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))a="";else{if(u){a=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),a=""}else Pw(a)||this.useRawValueToEscape||(a=Mw(a));const o=t.safeValue(a);if(e=e.replace(i[0],o),u?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,t,n={}){let r,i,a;const s=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let i=`{${r[1]}`;e=r[0],i=this.interpolate(i,a);const s=i.match(/'/g),o=i.match(/"/g);((s?.length??0)%2==0&&!o||o.length%2!=0)&&(i=i.replace(/'/g,'"'));try{a=JSON.parse(i),t&&(a={...t,...a})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${i}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let o=[];a={...n},a=a.replace&&!Pw(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const c=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(-1!==c&&(o=r[1].slice(c).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),r[1]=r[1].slice(0,c)),i=t(s.call(this,r[1].trim(),a),a),i&&r[0]===e&&!Pw(i))return i;Pw(i)||(i=Mw(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),o.length&&(i=o.reduce((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}const dv=e=>{const t={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=t[s];return o||(o=e(Ww(r),i),t[s]=o),o(n)}},fv=e=>(t,n,r)=>e(Ww(n),r)(t);class pv{constructor(e={}){this.logger=Yw.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?dv:fv;this.formats={number:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:n((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:n((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:n((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=dv(t)}format(e,t,n,r={}){const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(e=>e.indexOf(")")>-1)){const e=i.findIndex(e=>e.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}const a=i.reduce((e,t)=>{const{formatName:i,formatOptions:a}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),a=t.trim();n[a]||(n[a]=i),"false"===i&&(n[a]=!1),"true"===i&&(n[a]=!0),isNaN(i)||(n[a]=parseInt(i,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const s=r?.formatParams?.[r.interpolationkey]||{},o=s.locale||s.lng||r.locale||r.lng||n;t=this.formats[i](e,o,{...a,...r,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e},e);return a}}class hv extends Jw{constructor(e,t,n,r={}){super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=Yw.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,r.backend,r)}queueLoad(e,t,n,r){const i={},a={},s={},o={};return e.forEach(e=>{let r=!0;t.forEach(t=>{const s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===a[s]&&(a[s]=!0):(this.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===o[t]&&(o[t]=!0)))}),r||(s[e]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),!t&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:r,k:i}=Dw(e,t,Object);r[i]=r[i]||[],r[i].push(n)})(n.loaded,[i],a),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n,r=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:a});this.readingCalls++;const s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&o&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,r+1,2*i,a)},i):a(s,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,s);try{const n=o(e,t);n&&"function"==typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(e){s(e)}}prepareLoading(e,t,n={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Pw(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pw(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,(n,a)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&a&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,a),this.loaded(e,n,a)})}saveMissing(e,t,n,r,i,a={},s=()=>{}){if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=n&&""!==n){if(this.backend?.create){const o={...a,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let i;i=5===c.length?c(e,t,n,r,o):c(e,t,n,r),i&&"function"==typeof i.then?i.then(e=>s(null,e)).catch(s):s(null,i)}catch(e){s(e)}else c(e,t,n,r,s,o)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const bv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Pw(e[1])&&(t.defaultValue=e[1]),Pw(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yv=e=>(Pw(e.ns)&&(e.ns=[e.ns]),Pw(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Pw(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),mv=()=>{};class gv extends Jw{constructor(e={},t){var n;if(super(),this.options=yv(e),this.services={},this.logger=Yw,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(Pw(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=bv();this.options={...n,...this.options,...yv(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?Yw.init(r(this.modules.logger),this.options):Yw.init(null,this.options),e=this.modules.formatter?this.modules.formatter:pv;const t=new iv(this.options);this.store=new Zw(this.options.resources,this.options);const i=this.services;i.logger=Yw,i.resourceStore=this.store,i.languageUtils=t,i.pluralResolver=new ov(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!e||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(i.formatter=r(e),i.formatter.init&&i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new uv(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new hv(r(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(i.languageDetector=r(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=r(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new rv(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=mv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});const i=Ow(),a=()=>{const e=(e,n)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(n),t(e,n)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?a():setTimeout(a,0),i}loadResources(e,t=mv){let n=t;const r=Pw(e)?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===r?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();const e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};r?t(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(e)})}else n(null)}reloadResources(e,t,n){const r=Ow();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=mv),this.services.backendConnector.reload(e,t,e=>{r.resolve(),n(e)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Xw.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=Ow();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(i,a)=>{a?this.isLanguageChangingTo===e&&(r(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,n.resolve((...e)=>this.t(...e)),t&&t(i,(...e)=>this.t(...e))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n=Pw(t)?t:t&&t[0],a=this.store.hasLanguageSomeTranslations(n)?n:this.services.languageUtils.getBestMatchFromCodes(Pw(t)?[t]:t);a&&(this.language||r(a),this.translator.language||this.translator.changeLanguage(a),this.services.languageDetector?.cacheUserLanguage?.(a)),this.loadResources(a,e=>{i(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),n}getFixedT(e,t,n){const r=(e,t,...i)=>{let a;a="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(i)):{...t},a.lng=a.lng||r.lng,a.lngs=a.lngs||r.lngs,a.ns=a.ns||r.ns,""!==a.keyPrefix&&(a.keyPrefix=a.keyPrefix||n||r.keyPrefix);const s=this.options.keySeparator||".";let o;return a.keyPrefix&&Array.isArray(e)?o=e.map(e=>("function"==typeof e&&(e=ev(e,{...this.options,...t})),`${a.keyPrefix}${s}${e}`)):("function"==typeof e&&(e=ev(e,{...this.options,...t})),o=a.keyPrefix?`${a.keyPrefix}${s}${e}`:e),this.t(o,a)};return Pw(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const a=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,a);if(void 0!==e)return e}return!(!this.hasResourceBundle(n,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(n,e)||r&&!a(i,e)))}loadNamespaces(e,t){const n=Ow();return this.options.ns?(Pw(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Ow();Pw(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter(e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return i.length?(this.options.preload=r.concat(i),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(e){}const t=this.services?.languageUtils||new iv(bv());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const n=new gv(e,t);return n.createInstance=gv.createInstance,n}cloneInstance(e={},t=mv){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new gv(r);if(void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e)),["store","services","language"].forEach(e=>{i[e]=this[e]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((n,r)=>(n[r]={...e[t][r]},n),e[t]),e),{});i.store=new Zw(e,r),i.services.resourceStore=i.store}return e.interpolation&&(i.services.interpolator=new uv(r)),i.translator=new rv(i.services,r),i.translator.on("*",(e,...t)=>{i.emit(e,...t)}),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const wv=gv.createInstance();wv.createInstance,wv.dir,wv.init,wv.loadResources,wv.reloadResources,wv.use,wv.changeLanguage,wv.getFixedT,wv.t,wv.exists,wv.setDefaultNamespace,wv.hasLoadedNamespace,wv.loadNamespaces,wv.loadLanguages,i(37145);var vv=i(16031);i(33237),i(25959),i(32290),i(56857),i(75345),i(55608),i(25711),i(99471);const Ev=wv.createInstance();Ev.use(Sw).init({resources:{en:{translation:vv}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});const xv=Ev,Sv=function({isShown:e,onClose:t,children:n,uiConfig:r,sheetClassName:i,showCloseButton:a=!0}){const{borderRadiusType:s="large"}=r;return(0,lw.jsxs)(lw.Fragment,{children:[(0,lw.jsx)("div",{className:rw("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":"large"===s,"w3a--rounded-2xl":"medium"===s,"w3a--rounded-none":"small"===s}),onClick:t,"aria-hidden":"true",role:"button"}),(0,lw.jsxs)("div",{className:rw("w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col \n      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 \n      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main\n      "+(e?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"),{"w3a--rounded-[30px]":"large"===s,"w3a--rounded-2xl":"medium"===s,"w3a--rounded-none":"small"===s},i),children:[a&&(0,lw.jsx)("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:(0,lw.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,lw.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),n]})]})},Tv=(0,Rm.createContext)({analytics:void 0}),Av=function(e){const{isDark:t,isLoading:n,selectedChain:r,setSelectedChain:i,chainNamespace:a}=e,[s]=Cw(void 0,{i18n:xv}),o=(0,Rm.useMemo)(()=>{const e=[{id:"all",name:"modal.allChains",icon:""}];for(const t of a)t!==l.l.EIP155&&t!==l.l.SOLANA||e.push({id:t,name:t===l.l.EIP155?"EVM":t,icon:t===l.l.EIP155?"ethereum":t});return e},[a]);return n?(0,lw.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:o.length}).map((e,t)=>(0,lw.jsx)("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${t}`))}):(0,lw.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:o.map(e=>(0,lw.jsxs)("button",{type:"button",className:rw("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":r===e.id}),onClick:()=>i(e.id),children:[e.icon&&(0,lw.jsx)("img",{src:sw(t?`${e.icon}-dark`:`${e.icon}-light`),alt:e.name,className:"w3a--size-5 w3a--object-contain"}),(0,lw.jsx)("span",{className:"first-letter:w3a--capitalize",children:s(e.name)})]},e.id))})},_v=function(e){const{disableBackButton:t,onBackClick:n,currentPage:r,selectedButton:i}=e,[a]=Cw(void 0,{i18n:xv});return(0,lw.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[t?(0,lw.jsx)("div",{}):(0,lw.jsx)("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>{n&&n()},children:(0,lw.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,lw.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),(0,lw.jsx)("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:r===Bm?null==i?void 0:i.displayName:r===Dm?a("modal.connectYourWallet"):r}),(0,lw.jsx)("div",{className:"w3a--z-[-1] w3a--size-5"})]})},Cv="social",kv="wallet";function Iv(e){const{id:t="",isButton:n=!1,imageData:r="",height:i="auto",width:a="auto",extension:s="svg",darkImageId:o="",darkHoverImageId:c="",imageId:l,hoverImageId:u,fallbackImageId:d}=e,{isDark:f}=(0,Rm.useContext)(Iw),p=(0,Rm.useMemo)(()=>f&&o?o:l,[f,o,l]),h=(0,Rm.useMemo)(()=>f&&c?c:u,[f,c,u]);return n?r?(0,lw.jsx)("img",{id:t,src:r,height:i,width:a,alt:u,className:rw("w3a--object-contain",`w3a--h-${i} w3a--w-${a}`)}):(0,lw.jsx)("img",{id:t,src:`https://images.web3auth.io/${h}.${s}`,height:i,width:a,alt:u,className:rw("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${a}`)}):r?(0,lw.jsx)("img",{id:t,src:r,height:i,width:a,alt:l,className:rw("w3a--object-contain",`w3a--h-${i} w3a--w-${a}`),onError:({currentTarget:e})=>{if(d){const t=e;t.onerror=null,t.src=`https://images.web3auth.io/${d}.svg`}}}):(0,lw.jsx)("img",{id:t,src:`https://images.web3auth.io/${p}.${s}`,height:i,width:a,alt:l,className:rw("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${a}`),onError:({currentTarget:e})=>{if(d){const t=e;t.onerror=null,t.src=`https://images.web3auth.io/${d}.svg`}}})}function Pv(e,t,n){const r=e===f.TWITTER?"login-X"+(t?"-light":"-dark"):`login-${e}${t?"-light":"-dark"}`,i=e===f.APPLE||e===f.GITHUB||e===f.TWITTER?r:`login-${e}-active`;return n?(0,lw.jsx)(Iv,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):(0,lw.jsx)(Iv,{width:"20",imageId:r,hoverImageId:i})}const Ov=function(e){const{text:t,showIcon:n,showText:r,method:i,isDark:a,isPrimaryBtn:s,onClick:o,children:c,btnStyle:l,buttonRadius:u="pill"}=e;return(0,lw.jsxs)("button",{type:"button",onClick:e=>o&&o(e),className:rw("w3a--btn",l,{"w3a--rounded-full":"pill"===u,"w3a--rounded-lg":"rounded"===u,"w3a--rounded-none":"square"===u}),children:[n&&Pv(i,a,s),r&&(0,lw.jsx)("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:t}),c]})};var Mv=i(53373),Rv=i.n(Mv);const Nv=function(e){const[t]=Cw(void 0,{i18n:xv}),{deviceDetails:n,button:r,walletConnectUri:i,onClick:a,label:s,buttonRadius:o}=e,c=(0,Rm.useContext)(Iw),l=(0,Rm.useMemo)(()=>"desktop"!==n.platform&&r.href&&r.hasWalletConnect&&!r.isInstalled,[n,r]),u=(0,Rm.useMemo)(()=>r.href?function(e){const t=encodeURIComponent(e.uri);return e.link.startsWith("http")?`${e.link}/wc?uri=${t}`:e.link?`${e.link}wc?uri=${t}`:""}({uri:i,link:r.href}):i,[r,i]);return(0,lw.jsxs)("button",{type:"button",className:Rv()("w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 \n        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150",{"w3a--rounded-full":"pill"===o,"w3a--rounded-lg":"rounded"===o,"w3a--rounded-none":"square"===o}),onClick:()=>{u&&l?window.open(u,"_blank"):a&&a()},children:[(0,lw.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[(0,lw.jsx)("figure",{className:"w3a--size-5",children:(0,lw.jsx)(Iv,{imageData:r.icon,imageId:`login-${r.name}`,hoverImageId:`login-${r.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:r.imgExtension||"webp"})}),(0,lw.jsx)("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:s})]}),r.hasInjectedWallet&&(0,lw.jsx)("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:t("modal.external.installed")}),(0,lw.jsx)("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:sw(c?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})},Lv=function(e){const{type:t,props:n}=e,r=n,i=n,{text:a,showIcon:s,showText:o,method:c,isDark:l,isPrimaryBtn:u,onClick:d,children:f,btnStyle:p,buttonRadius:h}=r,{label:b,onClick:y,button:m,deviceDetails:g,walletConnectUri:w,buttonRadius:v}=i;return(0,lw.jsxs)(lw.Fragment,{children:[t===Cv&&(0,lw.jsx)(Ov,{text:a,showIcon:s,showText:o,method:c,isDark:l,isPrimaryBtn:u,onClick:d,btnStyle:p,buttonRadius:h,children:f}),t===kv&&(0,lw.jsx)(Nv,{label:b,walletConnectUri:w,onClick:y,button:m,deviceDetails:g,buttonRadius:v})]})};function Dv(){const[e]=Cw(void 0,{i18n:xv});return(0,lw.jsx)("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:e("modal.external.no-wallets-found")})}function Bv(e){const{externalButtons:t,isLoading:n,handleWalletClick:r,deviceDetails:i,walletConnectUri:a,buttonRadius:s}=e;return n?(0,lw.jsx)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((e,t)=>(0,lw.jsx)("div",{className:rw("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":"pill"===s,"w3a--rounded-lg":"rounded"===s,"w3a--rounded-none":"square"===s})},`loader-${t}`))}):(0,lw.jsx)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:t.map(e=>(0,lw.jsx)(Lv,{type:kv,props:{label:e.displayName,onClick:()=>r(e),button:e,deviceDetails:i,walletConnectUri:a,buttonRadius:s}},e.name))})}function jv(e){const{totalExternalWalletsCount:t,initialWalletCount:n,handleMoreWallets:r,isLoading:i,isDark:a,buttonRadius:s}=e,[o]=Cw(void 0,{i18n:xv});return i&&n<t?(0,lw.jsx)("div",{className:rw("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":"pill"===s,"w3a--rounded-lg":"rounded"===s,"w3a--rounded-none":"square"===s})}):(0,lw.jsxs)("button",{type:"button",className:rw("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":"pill"===s,"w3a--rounded-lg":"rounded"===s,"w3a--rounded-none":"square"===s}),onClick:()=>{r&&r()},children:[(0,lw.jsx)("img",{src:sw(a?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),(0,lw.jsx)("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:o("modal.connect-wallet.more-wallets")}),(0,lw.jsx)("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:t-n})]})}const Uv=function(e){const{externalButtons:t,isLoading:n,totalExternalWalletsCount:r,initialWalletCount:i,handleWalletClick:a,handleMoreWallets:s,isDark:o,deviceDetails:c,walletConnectUri:l,buttonRadius:u,isShowAllWallets:d}=e,f=!d;return(0,lw.jsxs)(lw.Fragment,{children:[(0,lw.jsx)("ul",{className:rw("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!f}),children:0===t.length?(0,lw.jsx)(Dv,{}):(0,lw.jsx)(Bv,{externalButtons:t,isLoading:n,handleWalletClick:a,deviceDetails:c,walletConnectUri:l,buttonRadius:u})}),f&&!n&&i<r&&(0,lw.jsx)(jv,{totalExternalWalletsCount:r,initialWalletCount:i,handleMoreWallets:()=>{s()},isLoading:n,isDark:o,buttonRadius:u})]})};var Fv=i(35743);const $v=function(e){var t;const[n]=Cw(void 0,{i18n:xv}),{bodyState:i,setBodyState:a,setToast:s}=(0,Rm.useContext)(kw),{qrCodeValue:o,isDark:c,selectedButton:l,logoImage:u,primaryColor:d}=e,f=(0,Rm.useMemo)(()=>"undefined"!=typeof window&&"desktop"===g().getParser(window.navigator.userAgent).getPlatformType(),[]),p=document.documentElement,h="#FFFFFF",b=(null===(t=getComputedStyle(p))||void 0===t||null===(t=t.getPropertyValue("--app-gray-800"))||void 0===t?void 0:t.trim())||"#1f2a37",y=d&&"#ffffff"===d.toLowerCase()?"#000000":d;return(0,lw.jsxs)("div",{className:"w3a--contents",children:[o?(0,lw.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[(0,lw.jsx)("button",{type:"button",className:"w3a--relative w3a--flex w3a--size-[300px] w3a--appearance-none w3a--items-center w3a--justify-center w3a--rounded-2xl",onClick:()=>{navigator.clipboard.writeText(o),s({message:n("modal.external.qr-code-copied-to-clipboard"),type:ym.SUCCESS})},children:(0,lw.jsx)(Fv.QRCode,{size:f?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:u||"https://images.web3auth.io/login-wallet-connect.svg",value:o,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:c?h:y,bgColor:c?b:h,fgColor:c?h:"#000000"})}),(0,lw.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:n("modal.external.walletconnect-copy")})]}):(0,lw.jsx)("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:(0,lw.jsx)(Iv,{imageId:`login-${l.name}`,hoverImageId:`login-${l.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:l.imgExtension})}),(0,lw.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[(0,lw.jsxs)("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[n("modal.external.dont-have")," ",(0,lw.jsx)("span",{children:null==l?void 0:l.displayName}),"?"]}),(0,lw.jsx)("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{a((0,r.A)((0,r.A)({},i),{},{installLinks:{show:!0,wallet:l}}))},children:n("modal.external.get-wallet")})]})]})},zv=function(e){const{totalExternalWalletCount:t,isLoading:n,walletSearch:r,handleWalletSearch:i,buttonRadius:a}=e,[s,o]=(0,Rm.useState)(!1),[c]=Cw(void 0,{i18n:xv});return(0,lw.jsx)("input",{type:"text",value:r,onInput:e=>{i(e),o(!0)},onFocus:e=>{e.target.placeholder="",o(!0)},onBlur:e=>{e.target.placeholder=c("modal.external.search-wallet",{count:t}),o(!1)},placeholder:n?c("modal.external.search-wallet-loading"):c("modal.external.search-wallet",{count:t}),disabled:n,className:rw("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",s&&"!w3a--border-app-primary-600",{"w3a--rounded-full":"pill"===a,"w3a--rounded-lg":"rounded"===a,"w3a--rounded-none":"square"===a})})},Hv=function(t){var n;const{isDark:i,config:a,walletConnectUri:s,metamaskConnectUri:o,walletRegistry:c,allRegistryButtons:l,customConnectorButtons:u,connectorVisibilityMap:d,deviceDetails:f,buttonRadius:p="pill",chainNamespace:h,isExternalWalletModeOnly:b,onBackClick:y,handleExternalWalletClick:m,handleWalletDetailsHeight:g}=t,{bodyState:w,setBodyState:v}=(0,Rm.useContext)(kw),{analytics:E}=(0,Rm.useContext)(Tv),[x,S]=(0,Rm.useState)(Dm),[T,A]=(0,Rm.useState)(!1),[_]=(0,Rm.useState)(!1),[C,k]=(0,Rm.useState)(null),[I,P]=(0,Rm.useState)(""),[O,M]=(0,Rm.useState)("all"),[R,N]=(0,Rm.useState)(!1),L=(0,Rm.useMemo)(()=>c&&(Object.keys(c.default||{}).length>0||Object.keys(c.others||{}).length>0),[c]),D=(0,Rm.useMemo)(()=>{const e=new Set;return u.concat(l).filter(t=>!e.has(t.name)&&(e.add(t.name),!0))},[l,u]),B=(0,Rm.useMemo)(()=>new Set(Object.keys(c.default)),[c]),j=(0,Rm.useMemo)(()=>{const t=[...l.filter(e=>e.hasInjectedWallet&&B.has(e.name)),...u,...l.filter(e=>!e.hasInjectedWallet&&B.has(e.name))].sort((t,n)=>t.name===e.LZ.METAMASK&&n.name===e.LZ.METAMASK?t.isInstalled?-1:n.isInstalled?1:t.hasInjectedWallet?-1:n.hasInjectedWallet?1:0:t.name===e.LZ.METAMASK?-1:n.name===e.LZ.METAMASK?1:0),n=new Set;return t.filter(e=>!n.has(e.name)&&(n.add(e.name),!0)).filter(e=>{var t;return"all"===O||(null===(t=e.chainNamespaces)||void 0===t?void 0:t.includes(O))})},[l,u,B,O]),U=(0,Rm.useMemo)(()=>{const t=d;return Object.keys(a).reduce((n,r)=>(r!==e.LZ.WALLET_CONNECT_V2&&t[r]&&n.push({name:r,displayName:a[r].label||r,hasInjectedWallet:a[r].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),n),[])},[d,a]),$=(0,Rm.useMemo)(()=>L?[...D.filter(e=>e.hasInjectedWallet),...D.filter(e=>!e.hasInjectedWallet)].sort((t,n)=>t.name===e.LZ.METAMASK?-1:1).filter(e=>"all"===O||e.chainNamespaces.includes(O)).filter(e=>e.name.toLowerCase().includes(I.toLowerCase())):U,[L,U,I,D,O]),z=(0,Rm.useMemo)(()=>!L||I||R?$:j,[L,I,$,j,R]),H=(0,Rm.useMemo)(()=>$.length,[$]),q=(0,Rm.useMemo)(()=>R?H:L?j.length:U.length,[L,j,U,R,H]);(0,Rm.useEffect)(()=>{N(!!(L&&H<=15))},[L,O,H]);const K=(0,Rm.useMemo)(()=>T?C.name!==e.LZ.METAMASK||C.hasInjectedWallet?s:o:null,[o,C,T,s]),W=(0,Rm.useMemo)(()=>!T&&!!b,[T,b]);return(0,lw.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[(0,lw.jsx)(_v,{disableBackButton:W,onBackClick:()=>{T||x!==Dm||!y?T&&(S(Dm),A(!1),g()):y(!1)},currentPage:x,selectedButton:C}),T?(0,lw.jsx)($v,{qrCodeValue:K,isDark:i,selectedButton:C,primaryColor:null===(n=C.walletRegistryItem)||void 0===n?void 0:n.primaryColor,logoImage:`https://images.web3auth.io/login-${C.name}.${C.imgExtension}`}):(0,lw.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[h.length>1&&(0,lw.jsx)(Av,{isDark:i,isLoading:_,selectedChain:O,setSelectedChain:e=>{M(e)},chainNamespace:h}),(0,lw.jsx)(zv,{totalExternalWalletCount:H,isLoading:_,walletSearch:I,handleWalletSearch:e=>{const t=e.target.value;P(t)},buttonRadius:p}),(0,lw.jsx)(Uv,{externalButtons:z,isLoading:_,totalExternalWalletsCount:H,initialWalletCount:q,handleWalletClick:t=>{var n;if(null==E||E.track(F.R2.EXTERNAL_WALLET_SELECTED,{connector:t.isInstalled?t.name:t.hasWalletConnect?e.LZ.WALLET_CONNECT_V2:"",wallet_name:t.displayName,is_installed:t.isInstalled,is_injected:t.hasInjectedWallet,chain_namespaces:t.chainNamespaces,has_wallet_connect:t.hasWalletConnect,has_install_links:t.hasInstallLinks,has_wallet_registry_item:!!t.walletRegistryItem,total_external_wallets:D.length}),He.R.info("handleWalletClick",t),t.isInstalled)return t.name!==e.LZ.METAMASK||t.hasInjectedWallet||"desktop"!==f.platform?(null===(n=t.chainNamespaces)||void 0===n?void 0:n.length)>1?void v((0,r.A)((0,r.A)({},w),{},{multiChainSelector:{show:!0,wallet:t}})):void m({connector:t.name}):(m({connector:t.name}),k(t),A(!0),S(Bm),void g());t.hasWalletConnect?(k(t),A(!0),S(Bm),g()):v((0,r.A)((0,r.A)({},w),{},{installLinks:{show:!0,wallet:t}}))},handleMoreWallets:()=>{N(!0)},isDark:i,deviceDetails:f,walletConnectUri:s,buttonRadius:p,isShowAllWallets:R})]})]})},qv=e=>{const{isDark:t,wallet:n,handleExternalWalletClick:r}=e,[i]=Cw(void 0,{i18n:xv}),a=n.chainNamespaces.sort().map(e=>({chainNamespace:e,displayName:"eip155"===e?"EVM":e,imageId:`chain-${"eip155"===e?"evm":e}`}));return(0,lw.jsxs)("div",{children:[(0,lw.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:(0,lw.jsx)("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i("modal.external.select-chain")})}),(0,lw.jsx)("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:(0,lw.jsx)(Iv,{imageId:`login-${n.name}`,hoverImageId:`login-${n.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:n.imgExtension})}),(0,lw.jsx)("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:i("modal.external.select-chain-description",{wallet:n.displayName})}),(0,lw.jsx)("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:a.map(({chainNamespace:e,displayName:i,imageId:a})=>(0,lw.jsx)("li",{children:(0,lw.jsxs)("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>r({connector:n.name,chainNamespace:e}),children:[(0,lw.jsxs)("div",{className:"w3a--flex w3a--items-center",children:[(0,lw.jsx)(Iv,{imageId:a,hoverImageId:a,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),(0,lw.jsx)("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm w3a--text-app-gray-900 first-letter:w3a--capitalize dark:w3a--text-app-gray-200",children:i})]}),(0,lw.jsx)("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:sw(t?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},e))})]})},Kv=function({privacyPolicy:e,termsOfService:t}){const[n]=Cw(void 0,{i18n:xv});return(0,lw.jsxs)("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(e||t)&&(0,lw.jsxs)("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[n("modal.footer.by-signing-in")," ",t&&(0,lw.jsxs)("a",{href:t,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[n("modal.footer.terms-of-service")," "]}),e&&(0,lw.jsxs)(lw.Fragment,{children:[n("modal.footer.and")," ",(0,lw.jsx)("a",{href:e,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:n("modal.footer.privacy-policy")})]})]}),(0,lw.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[(0,lw.jsx)("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),(0,lw.jsx)("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})};function Wv(e,t=160){return null!=e?e:t}const Vv=e=>{const{width:t,height:n,thickness:r=12,className:i="",children:a,showChildren:s=!0,trackColor:o="rgba(226, 232, 240, 1)",gradient:c,arcSizeDeg:l=36,arcColors:u}=e,d=Wv(t,160),f=Wv(n,160),p=`radial-gradient(farthest-side, transparent calc(100% - ${r}px), #000 calc(100% - ${r}px))`;function h(e,t){if(!e)return e;const n=e.trim().toLowerCase();return n.startsWith("#")?function(e,t){const n=e.replace("#",""),r=3===n.length?n.split("").map(e=>e+e).join(""):n;return`rgba(${parseInt(r.substring(0,2),16)}, ${parseInt(r.substring(2,4),16)}, ${parseInt(r.substring(4,6),16)}, ${t})`}(n,t):n.startsWith("rgba(")?e:n.startsWith("rgb(")?`rgba(${n.slice(4,-1)}, ${t})`:e}const b=c||(u?`radial-gradient(210.91% 85.29% at 14.56% 18.67%, ${h(u[0],0)} 9.5%, ${u[1]} 41.82%, ${u[1]} 64.83%, ${h(u[0],.44)} 100%)`:"radial-gradient(210.91% 85.29% at 14.56% 18.67%, rgba(255, 98, 58, 0.00) 9.5%, #FF623A 41.82%, #FF623A 64.83%, rgba(255, 98, 58, 0.44) 100%)"),y=`conic-gradient(#000 0deg ${l}deg, transparent ${l}deg 360deg)`;return(0,lw.jsxs)("div",{className:rw("w3a--relative w3a--inline-flex w3a--items-center w3a--justify-center",i),style:{width:d,height:f},children:[(0,lw.jsx)("div",{className:"w3a--absolute w3a--inset-0 w3a--rounded-full",style:{background:o,WebkitMaskImage:p,maskImage:p,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}}),(0,lw.jsx)("div",{className:"w3a--absolute w3a--inset-0 w3a--animate-spin",style:{WebkitMaskImage:y,maskImage:y,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"},children:(0,lw.jsx)("div",{className:"w3a--absolute w3a--inset-0 w3a--rounded-full",style:{background:b,WebkitMaskImage:p,maskImage:p,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}})}),s&&a?(0,lw.jsx)("div",{className:"w3a--relative",children:a}):null]})},Gv=()=>(0,lw.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[(0,lw.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),(0,lw.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),(0,lw.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});function Yv(e){const[t]=Cw(void 0,{i18n:xv}),{connector:n,appLogo:r,connectorName:i}=e,a=(0,Rm.useMemo)(()=>"twitter"===n?(0,lw.jsx)(Iv,{imageId:"login-x-dark"}):(0,lw.jsx)(Iv,{imageId:`login-${n}`,height:"40",width:"40"}),[n]);return(0,lw.jsxs)("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[(0,lw.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[(0,lw.jsx)("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:(0,lw.jsx)("img",{src:r,alt:"",className:"w3a--size-full w3a--object-contain"})}),(0,lw.jsx)(Gv,{}),a]}),(0,lw.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[(0,lw.jsx)("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:t("modal.adapter-loader.message1",{adapter:i})}),(0,lw.jsx)("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:t("modal.adapter-loader.message2",{adapter:i})})]})]})}function Jv(e){const{message:t}=e;return(0,lw.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[(0,lw.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:(0,lw.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),(0,lw.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:t})]})}function Zv(e){const{message:t}=e;return(0,lw.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[(0,lw.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:(0,lw.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),(0,lw.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:t})]})}function Xv(e){var t,n;const[r]=Cw(void 0,{i18n:xv}),{connector:i,externalWalletsConfig:a,walletRegistry:s,handleMobileVerifyConnect:o}=e,c=(null==s||null===(t=s.default)||void 0===t?void 0:t[i])||(null==s||null===(n=s.others)||void 0===n?void 0:n[i]),l=(null==c?void 0:c.primaryColor)||"";return(0,lw.jsxs)("div",{className:"w3a--flex w3a--size-full w3a--flex-col w3a--items-center w3a--justify-between w3a--gap-y-6",children:[(0,lw.jsx)("p",{className:"w3a--p-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:r("modal.loader.authorizing-header",{connector:a[i].label})}),(0,lw.jsx)("div",{className:"w3a--flex w3a--justify-center",children:(0,lw.jsx)(Vv,{width:95,height:95,thickness:6,arcSizeDeg:100,arcColors:l?[l,l]:void 0,children:(0,lw.jsx)(Iv,{imageId:`login-${i}`,hoverImageId:`login-${i}`,height:"45",width:"45"})})}),(0,lw.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:r("modal.loader.authorizing-message")}),(0,lw.jsx)("button",{onClick:()=>{o({connector:i})},className:"w3a--w-full w3a--rounded-xl w3a--bg-app-gray-100 w3a--p-2 w3a--py-3 w3a--text-center w3a--text-sm w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white md:w3a--hidden",children:r("modal.loader.authorizing-verify-btn")})]})}const Qv=function(e){const{connector:t,connectorName:n,modalStatus:r,onClose:i,appLogo:a,message:s,isConnectAndSignAuthenticationMode:o,externalWalletsConfig:c,walletRegistry:l,handleMobileVerifyConnect:u}=e,d=(0,Rm.useMemo)(()=>!o&&r===dm||o&&r===bm,[r,o]);return(0,Rm.useEffect)(()=>{if(d){const e=setTimeout(()=>{i()},1e3);return()=>clearTimeout(e)}},[d,i]),(0,lw.jsxs)("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[r===fm&&(0,lw.jsx)(Yv,{connector:t,connectorName:n,appLogo:a}),d&&(0,lw.jsx)(Jv,{message:s}),r===pm&&(0,lw.jsx)(Zv,{message:s}),r===hm&&(0,lw.jsx)(Xv,{connector:t,externalWalletsConfig:c,walletRegistry:l,handleMobileVerifyConnect:u})]})};function eE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tE(e,t)}var nE=Object.defineProperty,rE=Object.defineProperties,iE=Object.getOwnPropertyDescriptors,aE=Object.getOwnPropertySymbols,sE=Object.prototype.hasOwnProperty,oE=Object.prototype.propertyIsEnumerable,cE=(e,t,n)=>t in e?nE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lE=(e,t)=>{for(var n in t||(t={}))sE.call(t,n)&&cE(e,n,t[n]);if(aE)for(var n of aE(t))oE.call(t,n)&&cE(e,n,t[n]);return e},uE=(e,t)=>rE(e,iE(t)),dE=(e,t,n)=>(cE(e,"symbol"!=typeof t?t+"":t,n),n),fE=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{o(n.next(e))}catch(e){i(e)}},s=e=>{try{o(n.throw(e))}catch(e){i(e)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())}),pE="hCaptchaOnLoad",hE="script-error",bE="@hCaptcha/loader";function yE(e){let t=e&&e.ownerDocument||document;return{document:t,window:t.defaultView||t.parentWindow||window}}function mE(e){return e||document.head}var gE=class e{constructor(e){dE(this,"_parent"),dE(this,"breadcrumbs",[]),dE(this,"context",{}),dE(this,"extra",{}),dE(this,"tags",{}),dE(this,"request"),dE(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new e(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=(new Date).toISOString()),this.breadcrumbs.push(e),this}setExtra(e,t){return this.extra[e]=t,this}removeExtra(e){return delete this.extra[e],this}setContext(e,t){return typeof t.type>"u"&&(t.type=e),this.context[e]=t,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=lE(lE({},this.tags),e),this}setTag(e,t){return this.tags[e]=t,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],t=this;for(;t;)e.push(t),t=t.parent;return e.reverse().reduce((e,t)=>{var n;return e.breadcrumbs=[...null!=(n=e.breadcrumbs)?n:[],...t.breadcrumbs],e.extra=lE(lE({},e.extra),t.extra),e.contexts=lE(lE({},e.contexts),t.context),e.tags=lE(lE({},e.tags),t.tags),t.user&&(e.user=t.user),t.request&&(e.request=t.request),e},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},wE=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,vE="?",EE="An unknown error occurred";function xE(e){return(e+256).toString(16).substring(1)}function SE(){let e=function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e}(new Array(16));return e[6]=15&e[6]|64,e[8]=63&e[8]|128,xE(e[0])+xE(e[1])+xE(e[2])+xE(e[3])+"-"+xE(e[4])+xE(e[5])+"-"+xE(e[6])+xE(e[7])+"-"+xE(e[8])+xE(e[9])+"-"+xE(e[10])+xE(e[11])+xE(e[12])+xE(e[13])+xE(e[14])+xE(e[15])}var TE=[[/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,"chrome"],[/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,"winjs"],[/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,"gecko"]];function AE(e){let t=function(e){var t,n,r,i;if(!e.stack)return null;let a=[],s=null!=(r=null==(n=(t=e.stack).split)?void 0:n.call(t,"\n"))?r:[];for(let t=0;t<s.length;++t){let n=null,r=null,o=null;for(let[e,n]of TE)if(r=e.exec(s[t]),r){o=n;break}if(r&&o){if("chrome"===o)n={filename:null!=(i=r[2])&&i.startsWith("address at ")?r[2].substring(11):r[2],function:r[1]||vE,lineno:r[3]?+r[3]:null,colno:r[4]?+r[4]:null};else if("winjs"===o)n={filename:r[2],function:r[1]||vE,lineno:+r[3],colno:r[4]?+r[4]:null};else{if("gecko"!==o)continue;0===t&&!r[5]&&void 0!==e.columnNumber&&a.length>0&&(a[0].column=e.columnNumber+1),n={filename:r[3],function:r[1]||vE,lineno:r[4]?+r[4]:null,colno:r[5]?+r[5]:null}}!n.function&&n.lineno&&(n.function=vE),a.push(n)}}return a.length?a.reverse():null}(e);return{type:e.name,value:e.message,stacktrace:{frames:null!=t?t:[]}}}function _E(e){if(e instanceof Error)return e;if("string"==typeof e)return new Error(e);if("object"==typeof e&&null!==e&&!Array.isArray(e)){let t=e,{message:n}=t,r=((e,t)=>{var n={};for(var r in e)sE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&aE)for(var r of aE(e))t.indexOf(r)<0&&oE.call(e,r)&&(n[r]=e[r]);return n})(t,["message"]),i=new Error("string"==typeof n?n:EE);return Object.assign(i,r)}let t=new Error(EE);return Object.assign(t,{cause:e})}var CE,kE=(CE=class{constructor(e){var t,n,r,i,a;dE(this,"apiURL"),dE(this,"dsn"),dE(this,"environment"),dE(this,"release"),dE(this,"sampleRate"),dE(this,"debug"),dE(this,"_scope"),dE(this,"shouldBuffer",!1),dE(this,"bufferlimit",20),dE(this,"buffer",[]),this.environment=e.environment,this.release=e.release,this.sampleRate=null!=(t=e.sampleRate)?t:1,this.debug=null!=(n=e.debug)&&n,this._scope=null!=(r=e.scope)?r:new gE,this.apiURL=function(e){let t=wE.exec(e),n=t?t.slice(1):[];if(6!==n.length)throw new Error("Invalid DSN");let r=n[5].split("/"),i=r.slice(0,-1).join("/");return n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(i?"/"+i:"")+"/api/"+r.pop()+"/envelope/?sentry_version=7&sentry_key="+n[1]+(n[2]?"&sentry_secret="+n[2]:"")}(e.dsn),this.dsn=e.dsn,this.shouldBuffer=null!=(i=e.buffer)&&i,this.bufferlimit=null!=(a=e.bufferLimit)?a:20}static init(e){CE._instance||(CE._instance=new CE(e))}static get instance(){if(!CE._instance)throw new Error("Sentry has not been initialized");return CE._instance}log(...e){this.debug&&console.log(...e)}get scope(){return this._scope}static get scope(){return CE.instance.scope}withScope(e){e(this._scope.child())}static withScope(e){CE.instance.withScope(e)}captureException(e,t){this.captureEvent({type:"exception",level:"error",error:_E(e),scope:null!=t?t:this._scope})}static captureException(e,t){CE.instance.captureException(e,t)}captureMessage(e,t="info",n){this.captureEvent({type:"message",level:t,message:e,scope:null!=n?n:this._scope})}static captureMessage(e,t="info",n){CE.instance.captureMessage(e,t,n)}captureEvent(e){if(Math.random()>=this.sampleRate)this.log("Dropped event due to sample rate");else if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(e)}else this.sendEvent(e)}sendEvent(e,t=5e3){return fE(this,null,function*(){try{this.log("Sending sentry event",e);let n=function(e,t,n){var r,i;let a=lE({event_id:SE().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:"0.0.4"},environment:t,release:n,timestamp:Date.now()/1e3},e.scope.toBody());if("exception"===e.type){a.message=null!=(i=null==(r=e.error)?void 0:r.message)?i:"Unknown error",a.fingerprint=[a.message];let t=[],n=e.error;for(let e=0;e<5&&n&&(t.push(AE(n)),n.cause&&n.cause instanceof Error);e++)n=n.cause;a.exception={values:t.reverse()}}return"message"===e.type&&(a.message=e.message,a.level=e.level),a}(e,this.environment,this.release),r={event_id:n.event_id,dsn:this.dsn},i={type:"event"},a=JSON.stringify(r)+"\n"+JSON.stringify(i)+"\n"+JSON.stringify(n),s=yield function(e,t,n){return fE(this,null,function*(){var r,i;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let r;if(n){let e=new AbortController;r=e.signal,setTimeout(()=>e.abort(),n)}let i=yield fetch(e,uE(lE({},t),{signal:r})),a=yield i.text();return{status:i.status,body:a}}return yield new Promise((r,i)=>{var a,s;let o=new XMLHttpRequest;if(o.open(null!=(a=null==t?void 0:t.method)?a:"GET",e),o.onload=()=>r({status:o.status,body:o.responseText}),o.onerror=()=>i(new Error("XHR Network Error")),null==t?void 0:t.headers)for(let[e,n]of Object.entries(t.headers))o.setRequestHeader(e,n);if(n){let e=setTimeout(()=>{o.abort(),i(new Error("Request timed out"))},n);o.onloadend=()=>{clearTimeout(e)}}o.send(null==(s=null==t?void 0:t.body)?void 0:s.toString())})}catch(e){return{status:0,body:null!=(i=null==(r=null==e?void 0:e.toString)?void 0:r.call(e))?i:"Unknown error"}}})}(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:a},t);this.log("Sentry response",s.status),200!==s.status&&(console.log(s.body),console.error("Failed to send event to Sentry",s))}catch(e){console.error("Failed to send event",e)}})}flush(e=5e3){return fE(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let t=this.buffer.splice(0,this.buffer.length).map(t=>this.sendEvent(t,e));yield Promise.all(t),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(e=5e3){return CE.instance.flush(e)}static reset(){CE._instance=void 0}},dE(CE,"_instance"),CE);function IE(e=null){return{addBreadcrumb:t=>{e&&e.addBreadcrumb(t)},captureRequest:t=>{e&&e.setRequest(t)},captureException:t=>{e&&kE.captureException(t,e)}}}var PE=[];function OE(e,t,n=0){return fE(this,null,function*(){var r,i;let a=null!=(r=e.maxRetries)?r:2,s=null!=(i=e.retryDelay)?i:1e3,o=n<a?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield function(e={cleanup:!1},t){try{t.addBreadcrumb({category:bE,message:"hCaptcha loader params",data:e});let n=yE(mE(e.scriptLocation)),r=PE.find(({scope:e})=>e===n.window);if(r)return t.addBreadcrumb({category:bE,message:"hCaptcha already loaded"}),r.promise;let i=new Promise((i,a)=>fE(this,null,function*(){try{n.window[pE]=()=>{t.addBreadcrumb({category:bE,message:"hCaptcha script called onload function"}),i(n.window.hcaptcha)};let a=function(e){return Object.entries(e).filter(([,e])=>e||!1===e).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(t))}`).join("&")}({custom:e.custom,render:e.render,sentry:e.sentry,assethost:e.assethost,imghost:e.imghost,reportapi:e.reportapi,endpoint:e.endpoint,host:e.host,recaptchacompat:e.recaptchacompat,hl:e.hl,uj:e.uj});yield function({scriptLocation:e,query:t,loadAsync:n=!0,crossOrigin:r="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:a=!1,secureApi:s=!1,scriptSource:o=""}={},c){let l=mE(e),u=yE(l);return new Promise((e,d)=>{let f=u.document.createElement("script");f.id="hCaptcha-script",f.src=o?`${o}?onload=${pE}`:s?`${i}/1/secure-api.js?onload=${pE}`:`${i}/1/api.js?onload=${pE}`,f.crossOrigin=r,f.async=n;let p=(e,t)=>{try{!s&&a&&l.removeChild(f),t(e)}catch(e){d(e)}};f.onload=t=>p(t,e),f.onerror=e=>{c&&c(f.src),p(e,d)},f.src+=""!==t?`&${t}`:"",l.appendChild(f)})}(lE({query:a},e),e=>{t.captureRequest({url:e,method:"GET"})}),t.addBreadcrumb({category:bE,message:"hCaptcha loaded",data:r})}catch(e){t.addBreadcrumb({category:bE,message:"hCaptcha failed to load"});let r=PE.findIndex(e=>e.scope===n.window);-1!==r&&PE.splice(r,1),a(new Error(hE))}}));return PE.push({promise:i,scope:n.window}),i}catch(e){return t.captureException(e),Promise.reject(new Error(hE))}}(e,t)}catch(r){return t.addBreadcrumb({category:bE,message:o}),n>=a?(t.captureException(r),Promise.reject(r)):(t.addBreadcrumb({category:bE,message:`Waiting ${s}ms before retry attempt ${n+1}`}),yield function(e){return new Promise(t=>setTimeout(t,e))}(s),OE(e,t,n+=1))}})}function ME(){return fE(this,arguments,function*(e={}){let t=function(e=!0){if(!e)return IE();kE.init({dsn:"https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",release:"2.3.0",environment:"production"});let t=kE.scope;return function(e){var t;e.setTag("source",bE),e.setTag("url",document.URL),e.setContext("os",{UA:navigator.userAgent}),e.setContext("browser",lE({},function(){var e,t,n,r,i,a;let s,o,c=navigator.userAgent;return-1!==c.indexOf("Firefox")?(s="Firefox",o=null==(e=c.match(/Firefox\/([\d.]+)/))?void 0:e[1]):-1!==c.indexOf("Edg")?(s="Microsoft Edge",o=null==(t=c.match(/Edg\/([\d.]+)/))?void 0:t[1]):-1!==c.indexOf("Chrome")&&-1!==c.indexOf("Safari")?(s="Chrome",o=null==(n=c.match(/Chrome\/([\d.]+)/))?void 0:n[1]):-1!==c.indexOf("Safari")&&-1===c.indexOf("Chrome")?(s="Safari",o=null==(r=c.match(/Version\/([\d.]+)/))?void 0:r[1]):-1!==c.indexOf("Opera")||-1!==c.indexOf("OPR")?(s="Opera",o=null==(i=c.match(/(Opera|OPR)\/([\d.]+)/))?void 0:i[2]):-1!==c.indexOf("MSIE")||-1!==c.indexOf("Trident")?(s="Internet Explorer",o=null==(a=c.match(/(MSIE |rv:)([\d.]+)/))?void 0:a[2]):(s="Unknown",o="Unknown"),{name:s,version:o}}())),e.setContext("device",uE(lE({},function(){let e,t,n=navigator.userAgent;return e=-1!==n.indexOf("Win")?"Windows":-1!==n.indexOf("Mac")?"Mac":-1!==n.indexOf("Linux")?"Linux":-1!==n.indexOf("Android")?"Android":-1!==n.indexOf("like Mac")||-1!==n.indexOf("iPhone")||-1!==n.indexOf("iPad")?"iOS":"Unknown",t=/Mobile|iPhone|iPod|Android/i.test(n)?"Mobile":/Tablet|iPad/i.test(n)?"Tablet":"Desktop",{model:e,family:e,device:t}}()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:(null==(t=screen.orientation)?void 0:t.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}(t),IE(t)}(e.sentry);return yield OE(e,t)})}function RE(e){var t=e&&e.ownerDocument||document;return{document:t,window:t.defaultView||t.parentWindow||window}}function NE(e){return e||document.head}var LE=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hcaptcha=void 0,n.renderCaptcha=n.renderCaptcha.bind(eE(n)),n.resetCaptcha=n.resetCaptcha.bind(eE(n)),n.removeCaptcha=n.removeCaptcha.bind(eE(n)),n.isReady=n.isReady.bind(eE(n)),n._onReady=null,n.loadCaptcha=n.loadCaptcha.bind(eE(n)),n.handleOnLoad=n.handleOnLoad.bind(eE(n)),n.handleSubmit=n.handleSubmit.bind(eE(n)),n.handleExpire=n.handleExpire.bind(eE(n)),n.handleError=n.handleError.bind(eE(n)),n.handleOpen=n.handleOpen.bind(eE(n)),n.handleClose=n.handleClose.bind(eE(n)),n.handleChallengeExpired=n.handleChallengeExpired.bind(eE(n)),n.ref=Rm.createRef(),n.apiScriptRequested=!1,n.sentryHub=null,n.captchaId="",n._pendingExecute=null,n.state={isApiReady:!1,isRemoved:!1,elementId:t.id},n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tE(e,t)}(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=RE(NE(this.props.scriptLocation));this._hcaptcha=t.window.hcaptcha||void 0,void 0!==this._hcaptcha?this.setState({isApiReady:!0},function(){e.renderCaptcha()}):this.loadCaptcha()},n.componentWillUnmount=function(){var e=this._hcaptcha,t=this.captchaId;this._cancelPendingExecute("react-component-unmounted"),this.isReady()&&(e.reset(t),e.remove(t))},n.shouldComponentUpdate=function(e,t){return this.state.isApiReady===t.isApiReady&&this.state.isRemoved===t.isRemoved},n.componentDidUpdate=function(e){var t=this;["sitekey","size","theme","tabindex","languageOverride","endpoint"].every(function(n){return e[n]===t.props[n]})||this.removeCaptcha(function(){t.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var e=this.props,t=e.apihost,n=e.assethost,r=e.endpoint,i=e.host,a=e.imghost,s=e.languageOverride,o=e.reCaptchaCompat,c=e.reportapi,l=e.sentry,u=e.custom,d=e.loadAsync,f=e.scriptLocation,p=e.scriptSource,h=e.secureApi,b=e.cleanup,y=void 0===b||b,m=e.userJourneys;ME({render:"explicit",apihost:t,assethost:n,endpoint:r,hl:s,host:i,imghost:a,recaptchacompat:!1===o?"off":null,reportapi:c,sentry:l,custom:u,loadAsync:d,scriptLocation:f,scriptSource:p,secureApi:h,cleanup:y,uj:void 0!==m&&m}).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(e){var t=this,n=this.props.onReady,r=this.state.isApiReady,i=this.captchaId;if(r&&!i){var a=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),s=this._hcaptcha.render(this.ref.current,a);this.captchaId=s,this.setState({isRemoved:!1},function(){e&&e(),n&&n(),t._onReady&&t._onReady(s)})}},n.resetCaptcha=function(){var e=this._hcaptcha,t=this.captchaId;this.isReady()&&(e.reset(t),this._cancelPendingExecute("hcaptcha-reset"))},n.removeCaptcha=function(e){var t=this,n=this._hcaptcha,r=this.captchaId;this._cancelPendingExecute("hcaptcha-removed"),this.isReady()&&this.setState({isRemoved:!0},function(){t.captchaId="",n.remove(r),e&&e()})},n.handleOnLoad=function(){var e=this;this.setState({isApiReady:!0},function(){var t=RE(NE(e.props.scriptLocation));e._hcaptcha=t.window.hcaptcha,e.renderCaptcha(function(){var t=e.props.onLoad;t&&t()})})},n.handleSubmit=function(e){var t=this.props.onVerify,n=this.state.isRemoved,r=this._hcaptcha,i=this.captchaId;if(void 0!==r&&!n){var a=r.getResponse(i),s=r.getRespKey(i);t&&t(a,s)}},n.handleExpire=function(){var e=this.props.onExpire,t=this._hcaptcha,n=this.captchaId;this.isReady()&&(t.reset(n),e&&e())},n.handleError=function(e){var t=this.props.onError,n=this._hcaptcha,r=this.captchaId;this.isReady()&&n.reset(r),t&&t(e)},n.isReady=function(){var e=this.state,t=e.isApiReady,n=e.isRemoved;return t&&!n},n._cancelPendingExecute=function(e){if(this._pendingExecute){var t=this._pendingExecute;this._pendingExecute=null;var n=new Error(e);t.reject(n)}},n.handleOpen=function(){this.isReady()&&this.props.onOpen&&this.props.onOpen()},n.handleClose=function(){this.isReady()&&this.props.onClose&&this.props.onClose()},n.handleChallengeExpired=function(){this.isReady()&&this.props.onChalExpired&&this.props.onChalExpired()},n.execute=function(e){var t=this;void 0===e&&(e=null),e="object"==typeof e?e:null;try{var n=this._hcaptcha,r=this.captchaId;if(e&&e.async&&this._pendingExecute&&this._cancelPendingExecute("hcaptcha-execute-replaced"),!this.isReady())return e&&e.async?new Promise(function(r,i){t._pendingExecute={resolve:r,reject:i},t._onReady=function(a){if(t._pendingExecute)try{var s=n.execute(a,e);s&&"function"==typeof s.then?s.then(function(e){t._pendingExecute=null,r(e)}).catch(function(e){t._pendingExecute=null,i(e)}):(t._pendingExecute=null,i(new Error("hcaptcha-execute-no-promise")))}catch(e){t._pendingExecute=null,i(e)}}}):(this._onReady=function(t){n.execute(t,e)},null);var i=n.execute(r,e);return e&&e.async&&i&&"function"==typeof i.then?new Promise(function(e,n){t._pendingExecute={resolve:e,reject:n},i.then(function(n){t._pendingExecute=null,e(n)}).catch(function(e){t._pendingExecute=null,n(e)})}):i}catch(t){return e&&e.async?Promise.reject(t):null}},n.close=function(){var e=this._hcaptcha,t=this.captchaId;if(this._cancelPendingExecute("hcaptcha-closed"),this.isReady())return e.close(t)},n.setData=function(e){var t=this._hcaptcha,n=this.captchaId;this.isReady()&&(e&&"object"!=typeof e&&(e=null),t.setData(n,e))},n.getResponse=function(){return this._hcaptcha.getResponse(this.captchaId)},n.getRespKey=function(){return this._hcaptcha.getRespKey(this.captchaId)},n.render=function(){var e=this.state.elementId;return Rm.createElement("div",{ref:this.ref,id:e})},t}(Rm.Component);const DE=LE;class BE{constructor(e){if((0,s.A)(this,"authBaseApiUrl",void 0),(0,s.A)(this,"passwordlessParams",void 0),(0,s.A)(this,"trackingIdentifier",void 0),(0,s.A)(this,"version",`web3auth-${t.split(".")[0]}`),!e.authConnection)throw ze.il.invalidParams("authConnection is required");if(!e.web3authClientId)throw ze.il.invalidParams("web3authClientId is required");if(!e.loginHint)throw ze.il.invalidParams("loginHint is required");if(!e.network)throw ze.il.invalidParams("network is required");e.authBuildEnv||(e.authBuildEnv=fe.F3.PRODUCTION),this.authBaseApiUrl=`${cm[e.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=e}get name(){if(this.passwordlessParams.authConnection===f.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===f.SMS_PASSWORDLESS)return"Mobile";throw ze.il.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===f.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===f.SMS_PASSWORDLESS)return"sms";throw ze.il.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return A("sessionStorage")}get whiteLabelParams(){var e;const{uiConfig:t}=this.passwordlessParams;if(!t)return{};const{appName:n,appUrl:r,defaultLanguage:i,mode:a,logoLight:s,logoDark:o,theme:c}=t,l=null!==(e="dark"===a?o:s)&&void 0!==e?e:"";return{mode:null!=a?a:"light",name:null!=n?n:"",url:null!=r?r:"",language:null!=i?i:"en",logo:l.includes(".svg")?"":l,theme:null!=c?c:{}}}set trackingId(e){this.trackingIdentifier=e}async start(e){try{const n=await(0,Z.bE)(`${this.authBaseApiUrl}/passwordless/start`,e);var t;return n&&n.success&&(this.trackingId=null===(t=n.data)||void 0===t?void 0:t.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)),n}catch(e){return this.handleError(e)}}async verify(e){try{const t=await(0,Z.bE)(`${this.authBaseApiUrl}/passwordless/verify`,e);return t.success?(this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:t.id_token}}):{success:!1,error:t.message}}catch(e){return this.handleError(e)}}async handleError(e){let t;if(429===e.status)t="passwordless.error-too-many-requests";else try{const n=await e.json();t=n.error_code?(e=>{if(!e)return"passwordless.something-wrong-error";switch(e){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}})(n.error_code):n.message}catch{t="passwordless.something-wrong-error"}return{success:!1,error:t}}}class jE extends BE{constructor(e){var t;super(e),(0,s.A)(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=null!==(t=window.sessionStorage.getItem("trackingId"))&&void 0!==t?t:void 0)}async sendVerificationCode({captchaToken:e}){const{loginHint:t,network:n,web3authClientId:r}=this.passwordlessParams,i={client_id:r,web3auth_client_id:r,connection:this.connection,login_hint:t,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:n,flow_type:Be,captcha_token:e};return super.start(i)}async verifyCode(e){const{loginHint:t,network:n,web3authClientId:r}=this.passwordlessParams,i={client_id:r,login_hint:t,code:e,connection:"email",tracking_id:this.trackingId,version:this.version,network:n,flow_type:Be};return super.verify(i)}}class UE extends BE{constructor(e){var t;super(e),this.sessionStorageAvailable&&(this.trackingId=null!==(t=window.sessionStorage.getItem("trackingId"))&&void 0!==t?t:void 0)}async sendVerificationCode({captchaToken:e}){const{loginHint:t,network:n,web3authClientId:i}=this.passwordlessParams,a=(0,r.A)({client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:t,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:n},e&&{captcha_token:e});return super.start(a)}async verifyCode(e){const{loginHint:t,network:n,web3authClientId:r}=this.passwordlessParams,i={client_id:r,login_hint:t,code:e,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:n};return super.verify(i)}}const FE=({children:e,content:t,isDark:n=!1,hideHint:r=!1})=>{const[i,a]=(0,Rm.useState)(!1),s=()=>{a(!0)},o=()=>{a(!1)},c=(0,Rm.useMemo)(()=>{const e="8px";return{borderTop:`${e} solid transparent`,borderRight:"none",borderBottom:`${e} solid transparent`,borderLeft:`${e} solid ${n?"#ffffff":"#1f2a37"}`,left:"0%",top:`calc(100% - ${e})`}},[n]);return(0,lw.jsxs)("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:s,onMouseLeave:o,onFocus:s,onBlur:o,onClick:o,children:[e,i&&!r&&(0,lw.jsxs)("div",{"data-popover":!0,role:"tooltip",className:rw("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",n?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[t,(0,lw.jsx)("div",{className:"w3a--absolute",style:c})]})]})};function $E(e,t,n){const r=e===f.TWITTER?"login-X"+(t?"-light":"-dark"):`login-${e}${t?"-light":"-dark"}`,i=e===f.APPLE||e===f.GITHUB||e===f.TWITTER?r:`login-${e}-active`;return(0,lw.jsxs)(lw.Fragment,{children:[(0,lw.jsx)("img",{id:"active-login-img",src:`https://images.web3auth.io/${i}${n}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),(0,lw.jsx)("img",{id:"login-img",src:`https://images.web3auth.io/${r}${n}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}const zE=function(e){const{visibleRow:t,otherRow:n,isDark:r,canShowMore:i,handleSocialLoginClick:a,handleExpandSocialLogins:s,buttonRadius:o}=e;return 0!==t.length&&0===(null==n?void 0:n.length)?(0,lw.jsx)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:(0,lw.jsxs)("div",{className:rw("w3a--grid w3a--w-full w3a--gap-x-2",1===t.length?"w3a--grid-cols-1":2===t.length?"w3a--grid-cols-2":3===t.length?"w3a--grid-cols-3":"w3a--grid-cols-4"),children:[t.filter((e,n)=>4===t.length?n<=3:n<3).map(e=>(0,lw.jsx)(FE,{content:"Last Login",isDark:r,hideHint:!0,children:(0,lw.jsx)(Lv,{type:Cv,props:{showText:!1,method:e.method,isDark:r,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:(0,lw.jsx)(lw.Fragment,{children:$E(e.method,r,".svg")}),onClick:()=>a({connector:e.connector,loginParams:e.loginParams}),buttonRadius:o}},e.method)},e.method)),i&&t.length>4&&(0,lw.jsx)(Lv,{type:Cv,props:{showIcon:!1,onClick:s,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:(0,lw.jsx)("img",{src:sw(r?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:o}})]})}):(0,lw.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[(0,lw.jsx)("button",{type:"button",className:"w3a--appearance-none",onClick:()=>s(),children:(0,lw.jsx)("img",{src:sw(r?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),(0,lw.jsx)("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:n.map(e=>(0,lw.jsx)("div",{className:"w3a--h-11 w3a--w-full",children:(0,lw.jsx)(Lv,{type:Cv,props:{method:e.method,isDark:r,isPrimaryBtn:!1,onClick:()=>a({connector:e.connector,loginParams:e.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:o,children:(0,lw.jsxs)(lw.Fragment,{children:[$E(e.method,r,".svg"),(0,lw.jsx)("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:e.name}),(0,lw.jsx)("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:sw(r?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},e.method))})]})},HE=(0,Rm.forwardRef)(({length:e,loading:t,resendTimer:n=60,onComplete:r,onChange:i,error:a=!1,success:s=!1,disabled:o=!1,classes:c,helperText:l="",onResendTimer:u,showCta:d=!0,showTimer:f=!0,autoFocus:p=!1,placeholder:h="",autoComplete:b="one-time-code",type:y="text",resendBtnText:m=""},g)=>{const[w,v]=(0,Rm.useState)(Array(e).fill("")),[E,x]=(0,Rm.useState)(null!=n?n:0),[S]=Cw(void 0,{i18n:xv}),T=(0,Rm.useRef)([]),A=e=>/^\d$/.test(e)&&1===e.trim().length,_=t=>{t.preventDefault();const n=t.clipboardData.getData("text").slice(0,e);if(n&&/^\d+$/.test(n)){var i;const t=n.split(""),a=[...w];t.forEach((e,t)=>{a[t]=e}),v(a),null===(i=T.current[t.length===e?e-1:t.length])||void 0===i||i.focus(),r&&e===a.length&&r(a.join(""))}};(0,Rm.useEffect)(()=>{let e=null;return d&&f&&(e=window.setInterval(()=>{E>0?x(e=>e-1):clearInterval(e)},1e3)),()=>{clearInterval(e)}},[E]),(0,Rm.useEffect)(()=>{var e;T&&p&&(null===(e=T.current)||void 0===e||e[0].focus())},[p]);const C=rw("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":a,"w3a--text-app-green-500 dark:w3a--text-app-green-400":s},null==c?void 0:c.helperText),k=(new Date).getFullYear();return(0,lw.jsxs)("div",{className:rw("w3a--flex w3a--flex-col w3a--items-center",null==c?void 0:c.root),ref:g,children:[(0,lw.jsx)("form",{className:rw("w3a--flex w3a--space-x-2",null==c?void 0:c.inputContainer),children:w.map((t,n)=>{var l,u,d;return(0,lw.jsx)("input",{id:`${k+n}`,type:y,value:t,autoComplete:b,placeholder:Array.isArray(h)?h[n]:h,inputMode:"numeric",onInput:t=>((t,n)=>{t.preventDefault();const{value:a}=t.target;if(a&&a.length>1&&a.length===e){var s;const t=a.split(""),n=[...w];t.forEach((e,t)=>{n[t]=e}),v(n),null===(s=T.current[t.length===e?e-1:t.length])||void 0===s||s.focus(),r&&e===n.length&&r(n.join(""))}else if(A(a)){const t=[...w].slice(0,e);t[n]=a,v(t);const s=t.join("");var o;n<e-1&&T.current[n+1]&&(null===(o=T.current[n+1])||void 0===o||o.focus()),i&&i(a),r&&e===s.length&&r(s)}})(t,n),onKeyUp:e=>((e,t)=>{if("Backspace"===e.key||"Delete"===e.key){e.preventDefault();const r=[...w];if(""!==w[t])r[t]="";else if(t>0){var n;null===(n=T.current[t-1])||void 0===n||n.focus(),r[t-1]=""}v(r),i&&i(r.join(""))}else if("ArrowLeft"===e.key){var r;e.preventDefault(),null===(r=T.current[t-1])||void 0===r||r.focus()}else if("ArrowRight"===e.key){var a;e.preventDefault(),null===(a=T.current[t+1])||void 0===a||a.focus()}else(" "===e.key||"Spacebar"===e.key||"Space"===e.key||!A(e.key)&&T.current[t+1])&&(e.preventDefault(),T.current[t+1].value="")})(e,n),onPaste:_,className:rw("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",s&&(null!==(l=null==c?void 0:c.success)&&void 0!==l?l:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),a&&(null!==(u=null==c?void 0:c.error)&&void 0!==u?u:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),o&&(null!==(d=null==c?void 0:c.disabled)&&void 0!==d?d:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),null==c?void 0:c.input),ref:e=>{T.current[n]=e},disabled:o},`${k+n}`)})}),l&&(0,lw.jsx)("p",{className:C,children:l}),t&&(0,lw.jsx)("div",{className:"w3a--mt-3",children:(0,lw.jsx)(Gv,{})}),d&&!t&&(0,lw.jsx)("div",{className:rw("w3a--flex w3a--items-center w3a--mt-3",null==c?void 0:c.ctaContainer),children:E>0&&f?(0,lw.jsx)("span",{className:rw("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",null==c?void 0:c.timerText),children:S("modal.resendTimer",{timer:E})}):(0,lw.jsx)("button",{type:"button",className:rw("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",null==c?void 0:c.resendBtnText),onClick:()=>{x(n||0),u&&u()},disabled:E>0&&f,children:m||S("modal.resendCode")})})]})});HE.displayName="OtpInput";const qE=HE;function KE(e){const{setShowOtpFlow:t,handleOtpComplete:n,authConnection:r,loginHint:i="",errorMessage:a,otpLoading:s,countryFlag:o}=e,c=(0,Rm.useMemo)(()=>r===f.SMS_PASSWORDLESS,[r]),[l]=Cw(void 0,{i18n:xv}),u=(0,Rm.useMemo)(()=>{if(r===f.EMAIL_PASSWORDLESS)return i;const[e,t]=i.includes("-")?i.split("-"):["",i],n=`${t}`.slice(-Math.floor(t.length/2)).padStart(`${t}`.length,"*");return`${o} ${e} ${n}`},[i,r,o]);return(0,lw.jsxs)(lw.Fragment,{children:[(0,lw.jsx)("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:(0,lw.jsx)("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>t(!1),children:(0,lw.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:(0,lw.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),(0,lw.jsxs)("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[(0,lw.jsx)("img",{src:sw(c?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),(0,lw.jsxs)("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[(0,lw.jsx)("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:l(c?"modal.otp.mobile-title":"modal.otp.email-title")}),(0,lw.jsxs)("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[(0,lw.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l(c?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),(0,lw.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:c?u:l("modal.otp.email-subtext-example",{email:u})})]})]}),(0,lw.jsx)(qE,{length:6,onComplete:n,error:Boolean(a),helperText:a,loading:s,disabled:s})]})]})}const WE=function(e){const{otpLoading:t,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:a,errorMessage:s,countryFlag:o}=e;return(0,lw.jsx)("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:(0,lw.jsx)(KE,{errorMessage:s,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:a,otpLoading:t,countryFlag:o})})},VE=function(e){const{isModalVisible:t,isPasswordLessCtaClicked:n,setIsPasswordLessCtaClicked:r,title:i,placeholder:a,handleFormSubmit:s,errorMessage:o,isDark:c,isPasswordLessLoading:l,buttonRadius:u}=e,[d]=Cw(void 0,{i18n:xv}),f=(0,Rm.useRef)(null),[p,h]=(0,Rm.useState)(""),[b,y]=(0,Rm.useState)(!1);return(0,Rm.useEffect)(()=>{t||r(!1)},[t,r]),(0,Rm.useEffect)(()=>{var e;n&&(null===(e=f.current)||void 0===e||e.focus())},[n]),n?(0,lw.jsxs)(lw.Fragment,{children:[(0,lw.jsxs)("div",{className:rw("w3a--input",b&&"!w3a--border-app-primary-600",{"w3a--rounded-full":"pill"===u,"w3a--rounded-lg":"rounded"===u,"w3a--rounded-none":"square"===u}),children:[(0,lw.jsx)("input",{ref:f,onInput:e=>{h(e.target.value),y(!0)},value:p,placeholder:a,onFocus:()=>{y(!0)},onBlur:e=>{e.target.placeholder=`${a}`,y(!1)},type:"text",className:rw("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:e=>(e=>{const{key:t}=e;"Enter"===t&&(s(p),y(!1))})(e),disabled:l}),l&&(0,lw.jsx)(Gv,{}),p&&!l&&(0,lw.jsx)("button",{type:"button",className:"w3a--appearance-none",onClick:e=>{e.preventDefault(),e.stopPropagation(),s(p),y(!1)},children:(0,lw.jsx)("img",{src:sw(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),o&&!b&&n&&(0,lw.jsx)("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:o})]}):(0,lw.jsxs)("button",{type:"button",className:rw("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":"pill"===u,"w3a--rounded-lg":"rounded"===u,"w3a--rounded-none":"square"===u}),onClick:()=>{r(!0)},children:[(0,lw.jsx)("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:d("modal.passwordless.title",{title:i})}),(0,lw.jsx)("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:sw(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},GE=[f.SMS_PASSWORDLESS,f.EMAIL_PASSWORDLESS,f.AUTHENTICATOR,f.PASSKEYS,f.TELEGRAM,f.CUSTOM],YE=function(t){const{web3authClientId:n,web3authNetwork:i,authBuildEnv:a,appLogo:s,isModalVisible:o,handleSocialLoginHeight:c,socialLoginsConfig:l,installedExternalWalletConfig:u,isDark:d,handleSocialLoginClick:p,totalExternalWallets:h,remainingUndisplayedWallets:b,isEmailPasswordLessLoginVisible:y,isSmsPasswordLessLoginVisible:m,handleExternalWalletBtnClick:g,handleExternalWalletClick:w,areSocialLoginsVisible:v,showPasswordLessInput:E,showExternalWalletButton:x,showExternalWalletCount:S,showInstalledExternalWallets:T,logoAlignment:A="center",buttonRadius:_="pill",deviceDetails:C}=t,[k]=Cw(void 0,{i18n:xv}),{bodyState:I,setBodyState:P}=(0,Rm.useContext)(kw),{analytics:O}=(0,Rm.useContext)(Tv),[M,R]=(0,Rm.useState)(""),[N,L]=(0,Rm.useState)(""),[D,B]=(0,Rm.useState)(""),[j,U]=(0,Rm.useState)(""),[$,z]=(0,Rm.useState)(!1),[H,q]=(0,Rm.useState)(!1),[K,W]=(0,Rm.useState)([]),[V,G]=(0,Rm.useState)([]),[Y,J]=(0,Rm.useState)(!1),[X,Q]=(0,Rm.useState)(!1),[ee,te]=(0,Rm.useState)(void 0),[ne,re]=(0,Rm.useState)(void 0),[ie,ae]=(0,Rm.useState)(!1),[se,oe]=(0,Rm.useState)(!1),[ce,le]=(0,Rm.useState)(!1),[ue,de]=(0,Rm.useState)(""),fe=(0,Rm.useRef)(null),pe=()=>{z(e=>!e),J(!1),c()};(0,Rm.useEffect)(()=>{const e=Object.keys(l.loginMethods).filter(e=>l.loginMethods[e].showOnModal&&!GE.includes(e)),t=[],n=[],r=(l.loginMethodsOrder||[]).reduce((e,t,n)=>(e[t]=n,e),{}),i=Object.keys(l.loginMethods).filter(e=>0==!l.loginMethods[e].showOnModal&&!GE.includes(e)).sort((e,t)=>{var n,i;const a=(l.loginMethodsOrder||[]).length,s=null!==(n=r[e])&&void 0!==n?n:a,o=null!==(i=r[t])&&void 0!==i?i:a,{mainOption:c}=l.loginMethods[e]||{},{mainOption:u}=l.loginMethods[t]||{};return c&&u?s-o:c?-1:u?1:s-o});i.forEach((e,r)=>{var a;const s=l.loginMethods[e],o=im(s.name||e),c=r+1,u="socialLogin"===(null==l||null===(a=l.uiConfig)||void 0===a?void 0:a.primaryButton)&&1===c,f=i.length;(f>=4?c>0&&c<=f:c>0&&c<4)&&t.push({method:e,isDark:d,isPrimaryBtn:u,name:o,connector:l.connector,loginParams:{authConnection:s.authConnection||e,authConnectionId:s.authConnectionId,groupedAuthConnectionId:s.groupedAuthConnectionId,extraLoginOptions:s.extraLoginOptions,name:o,login_hint:""},order:c}),n.push({method:e,isDark:d,isPrimaryBtn:u,name:"Twitter"===o?"X":o,connector:l.connector,loginParams:{authConnection:e,authConnectionId:s.authConnectionId,groupedAuthConnectionId:s.groupedAuthConnectionId,extraLoginOptions:s.extraLoginOptions,name:o,login_hint:""},order:c})}),W(t),G(n),q(e.length>4)},[l,d,_]);const he=async(e,t)=>{try{const s=((e,t)=>{switch(e){case f.EMAIL_PASSWORDLESS:return new jE(t);case f.SMS_PASSWORDLESS:return new UE(t);default:throw ze.il.invalidParams(`Unsupported auth connection: ${e}`)}})(e,{loginHint:t,web3authClientId:n,network:i,uiConfig:l.uiConfig,authConnection:e,authBuildEnv:a});let o;if(!((e,t)=>{if(e===f.EMAIL_PASSWORDLESS)return t.startsWith("test_account_")&&t.endsWith("@example.com");if(e===f.SMS_PASSWORDLESS)return t.startsWith("+1-555");throw ze.il.invalidParams(`Unsupported auth connection: ${e}`)})(e,t)){var r;const e=await(null===(r=fe.current)||void 0===r?void 0:r.execute({async:!0}));if(!e)throw ze.T7.connectionError("Captcha token is required");o=e.response}const c=await s.sendVerificationCode({captchaToken:o});if(null!=c&&c.error)return void B(k(c.error));te(e),Q(!0),re(s)}catch(e){He.R.error(e)}finally{ae(!1)}},be=async e=>{if(ae(!0),y&&e.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){const t=l.loginMethods[f.EMAIL_PASSWORDLESS];return t.isDefault?p({connector:l.connector,loginParams:{authConnection:f.EMAIL_PASSWORDLESS,authConnectionId:t.authConnectionId,groupedAuthConnectionId:t.groupedAuthConnectionId,extraLoginOptions:t.extraLoginOptions,loginHint:e,name:"Email"}}):he(f.EMAIL_PASSWORDLESS,e)}if(m){const t=e.startsWith("+")?e:`${M}${e}`,n=await(async e=>{try{const t=await(0,Z.bE)(`${ow}/api/v3/phone_number/validate`,{phone_number:e});return t&&t.success?t:{success:!1,parsed_number:"",country_flag:""}}catch(e){return He.R.error("error validating phone number",e),e.status,{success:!1,parsed_number:"",country_flag:""}}})(t);if(n.success){const e="string"==typeof n.parsed_number?n.parsed_number:t,r=l.loginMethods[f.SMS_PASSWORDLESS];return r.isDefault?p({connector:l.connector,loginParams:{authConnection:f.SMS_PASSWORDLESS,authConnectionId:r.authConnectionId,groupedAuthConnectionId:r.groupedAuthConnectionId,extraLoginOptions:r.extraLoginOptions,loginHint:e,name:"Mobile"}}):(L(n.country_flag),he(f.SMS_PASSWORDLESS,e))}}B(ge),ae(!1)},ye=(0,Rm.useMemo)(()=>k(y&&m?"modal.social.passwordless-title":y?"modal.social.email":"modal.social.phone"),[y,m,k]),me=(0,Rm.useMemo)(()=>y&&m?"+(00)123456/name@example.com":y?"name@example.com":"+(00)123456",[y,m]),ge=(0,Rm.useMemo)(()=>k(y&&m?"modal.errors-invalid-number-email":y?"modal.errors-invalid-email":"modal.errors-invalid-number"),[y,m,k]);(0,Rm.useEffect)(()=>{m&&(async()=>{const e=await(async()=>{try{const e=await(0,Z.Jt)(`${ow}/api/v3/user/location`);return e&&e.data.country?{country:e.data.country,dialCode:e.data.dial_code}:null}catch(e){return He.R.error("error getting user country",e),null}})();e&&e.dialCode&&R(e.dialCode)})()},[m]);const we=(0,Rm.useMemo)(()=>T?u:u.filter(t=>t.name===e.LZ.METAMASK),[u,T]),ve=(0,Rm.useCallback)(e=>{null==O||O.track(F.R2.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:h,installed_external_wallets:we.length}),J(!1),null==e||e.preventDefault(),g&&g(!0)},[O,g,we.length,h]);if((0,Rm.useEffect)(()=>{!x||v||E||ve()},[x,v,E,ve]),X)return(0,lw.jsx)(WE,{otpLoading:se,loginHint:null==ne?void 0:ne.passwordlessParams.loginHint,setShowOtpFlow:Q,authConnection:ee,handleOtpComplete:async e=>{oe(!0),j&&U("");try{var t;const i=l.loginMethods[ee],a=await(null==ne?void 0:ne.verifyCode(e));if(null!=a&&a.error)return void U(k(a.error));var n;if(null!=a&&null!==(t=a.data)&&void 0!==t&&t.id_token)return p({connector:l.connector,loginParams:{authConnection:ee,authConnectionId:i.authConnectionId,groupedAuthConnectionId:i.groupedAuthConnectionId,extraLoginOptions:(0,r.A)((0,r.A)({},i.extraLoginOptions),{},{id_token:null===(n=a.data)||void 0===n?void 0:n.id_token}),loginHint:ne.passwordlessParams.loginHint,name:ne.name}})}catch(e){He.R.error(e)}finally{oe(!1)}},errorMessage:j,countryFlag:N});const Ee=(e=[])=>(0,lw.jsx)(zE,{otherRow:e,isDark:d,visibleRow:K,canShowMore:H,handleSocialLoginClick:p,socialLoginsConfig:l,handleExpandSocialLogins:pe,buttonRadius:_},"social-login-section"),xe=()=>(0,lw.jsx)(VE,{isModalVisible:o,isPasswordLessCtaClicked:Y,setIsPasswordLessCtaClicked:J,title:ye,placeholder:me,handleFormSubmit:be,errorMessage:D,isDark:d,buttonRadius:_,isPasswordLessLoading:ie},"passwordless-section"),Se=()=>(0,lw.jsxs)("div",{className:rw("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[we.length>0&&we.map(t=>(0,lw.jsxs)("button",{type:"button",className:rw("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":"pill"===_,"w3a--rounded-lg":"rounded"===_,"w3a--rounded-none":"square"===_}),onClick:()=>(t=>{var n;if(null==O||O.track(F.R2.EXTERNAL_WALLET_SELECTED,{connector:t.name,wallet_name:t.displayName,is_installed:t.isInstalled,is_injected:t.hasInjectedWallet,chain_namespaces:t.chainNamespaces,has_wallet_connect:t.hasWalletConnect,has_install_links:t.hasInstallLinks,has_wallet_registry_item:!!t.walletRegistryItem,total_external_wallets:h}),He.R.info("handleInstalledWalletClick",t),t.name===e.LZ.METAMASK&&!t.hasInjectedWallet&&"desktop"===C.platform)return w({connector:t.name}),void P((0,r.A)((0,r.A)({},I),{},{metamaskQrCode:{show:!0,wallet:t}}));(null===(n=t.chainNamespaces)||void 0===n?void 0:n.length)>1?P((0,r.A)((0,r.A)({},I),{},{multiChainSelector:{show:!0,wallet:t}})):w({connector:t.name})})(t),children:[(0,lw.jsx)("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:t.displayName}),(0,lw.jsxs)("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[t.hasInjectedWallet&&(0,lw.jsx)("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:k("modal.external.installed")}),(0,lw.jsx)("figure",{className:"w3a--size-5",children:(0,lw.jsx)(Iv,{imageData:t.icon,imageId:`login-${t.name}`,hoverImageId:`login-${t.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:t.imgExtension||"webp"})})]}),(0,lw.jsx)("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:sw(d?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},t.name)),b>0&&(0,lw.jsxs)("button",{type:"button",className:rw("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":"pill"===_,"w3a--rounded-lg":"rounded"===_,"w3a--rounded-none":"square"===_}),onClick:ve,children:[(0,lw.jsx)("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:k("modal.external.all-wallets")}),S&&(0,lw.jsx)("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:b}),(0,lw.jsx)("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:sw(d?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),Te=[Um,jm].includes(s)?"":s,Ae=e=>(0,lw.jsxs)("div",{className:rw("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",Te?"w3a--my-2":"w3a--my-4"),children:[(0,lw.jsx)("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),(0,lw.jsx)("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),(0,lw.jsx)("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${e}`);return(0,lw.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[(0,lw.jsxs)("div",{className:rw("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6","center"===A?"":"w3a--w-full"),children:[Te&&(0,lw.jsx)("figure",{className:rw("w3a--mx-auto w3a--h-12 w3a--w-[200px]","center"===A?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:(0,lw.jsx)("img",{src:Te,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),(0,lw.jsx)("p",{className:rw("w3a--text-app-gray-900 dark:w3a--text-app-white","center"===A?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",Te?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:k("modal.social.sign-in")})]}),(0,lw.jsx)(DE,{ref:fe,sitekey:"d5f0c15c-eeda-4f9c-934a-d8e0348e83b2",size:"invisible",languageOverride:l.uiConfig.defaultLanguage,theme:l.uiConfig.theme,onOpen:()=>le(!0),onClose:()=>le(!1),onError:()=>de("passwordless.captcha-default-error"),onChalExpired:()=>de("passwordless.captcha-default-error")}),ue&&ce&&(0,lw.jsx)("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:k(ue)}),!ce&&(0,lw.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!$&&(()=>{var e;const t={social:Ee,passwordless:xe,externalWallets:Se},n={social:v,passwordless:E,externalWallets:x},r=(null===(e=l.uiConfig)||void 0===e?void 0:e.signInMethods)||["social","passwordless","externalWallets"];Object.entries(n).forEach(([e,t])=>{t&&!r.includes(e)&&r.push(e)});const i=r.map(e=>n[e]&&t[e]()).filter(Boolean);if(3===i.length){const e=r.findIndex(e=>"externalWallets"===e);0===e?i.splice(1,0,Ae(1)):1===e?(i.splice(1,0,Ae(1)),i.splice(3,0,Ae(2))):2===e&&i.splice(2,0,Ae(1))}else 2===i.length&&n.externalWallets&&i.splice(1,0,Ae(1));return i})(),$&&Ee(V)]})]})},JE=()=>{const{toast:e,setToast:t}=(0,Rm.useContext)(kw);return(0,Rm.useEffect)(()=>{e.message&&setTimeout(()=>{t({message:"",type:ym.SUCCESS})},3e3)},[e.message,t]),e.message?(0,lw.jsxs)("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${{success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"}[e.type]}`,children:[(0,lw.jsx)("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:(0,lw.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>t({message:"",type:ym.SUCCESS}),className:{success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"}[e.type],children:(0,lw.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),(0,lw.jsx)("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:(0,lw.jsx)("p",{children:e.message})})]}):null},ZE=function(t){var n,i,a,s,o,c,l;const{setModalState:u,modalState:d,handleExternalWalletBtnClick:f,handleMobileVerifyConnect:p,chainNamespaces:h,walletRegistry:b,appLogo:y,onCloseLoader:m,handleSocialLoginClick:g,showPasswordLessInput:w,showExternalWalletButton:v,socialLoginsConfig:E,areSocialLoginsVisible:x,isEmailPrimary:S,isExternalPrimary:T,showExternalWalletPage:A,isEmailPasswordLessLoginVisible:_,isSmsPasswordLessLoginVisible:C,preHandleExternalWalletClick:k,uiConfig:I,deviceDetails:P,isConnectAndSignAuthenticationMode:O}=t,{logoAlignment:M="center",buttonRadiusType:R="pill",privacyPolicy:N="",tncLink:L="",displayInstalledExternalWallets:D=!0,displayExternalWalletsCount:B=!0}=I,[j]=Cw(void 0,{i18n:xv}),{isDark:U}=(0,Rm.useContext)(Iw),[F,$]=(0,Rm.useState)({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[z,H]=(0,Rm.useState)({message:"",type:ym.SUCCESS}),[q,K]=(0,Rm.useState)(!1),[W,V]=(0,Rm.useState)(!1),G=(0,Rm.useMemo)(()=>!w&&!x,[x,w]),Y=(0,Rm.useMemo)(()=>{var e;if("desktop"===P.platform)return[];const t=(null===(e=F.installLinks)||void 0===e||null===(e=e.wallet)||void 0===e||null===(e=e.walletRegistryItem)||void 0===e?void 0:e.app)||{},n=Object.keys(t).reduce((e,n)=>{if(!["android","ios"].includes(n))return e;const r=t[n];if(!r)return e;const i=((e,t)=>{if(null!=t&&t.includes("https://"))return t;switch(e){case"android":return`https://play.google.com/store/apps/details?id=${t}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${t}`;default:return""}})(n,r);if(!i)return e;const a=`${n}-light`,s=`${n}-dark`;return e.push((0,lw.jsx)("li",{className:"w3a--w-full",children:(0,lw.jsx)("a",{href:i,rel:"noopener noreferrer",target:"_blank",children:(0,lw.jsxs)("button",{type:"button",className:rw("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":"pill"===R,"w3a--rounded-lg":"rounded"===R,"w3a--rounded-none":"square"===R}),children:[(0,lw.jsx)(Iv,{imageId:a,darkImageId:s,hoverImageId:a,darkHoverImageId:s,height:"28",width:"28",isButton:!0}),(0,lw.jsx)("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:j("modal.external.install-mobile-app",{os:iw(n)})}),(0,lw.jsx)("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:sw(U?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},i)),e},[]);return n},[null===(n=F.installLinks)||void 0===n||null===(n=n.wallet)||void 0===n||null===(n=n.walletRegistryItem)||void 0===n?void 0:n.app,P.platform,U,j,R]),J=(0,Rm.useMemo)(()=>{var e;if("desktop"!==P.platform)return[];const t="brave"===P.browser?"chrome":P.browser,n=(null===(e=F.installLinks)||void 0===e||null===(e=e.wallet)||void 0===e||null===(e=e.walletRegistryItem)||void 0===e?void 0:e.app)||{},r=n.browser&&n.browser.includes(t)?n.browser:void 0,i=n[t]||r,a=i?((e,t)=>{if(null!=t&&t.startsWith("https://"))return t;switch(e){case"chrome":return`https://chrome.google.com/webstore/detail/${t}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${t}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${t}`;default:return null}})(t,i):null;return[a?(0,lw.jsx)("li",{children:(0,lw.jsx)("a",{href:a,rel:"noopener noreferrer",target:"_blank",children:(0,lw.jsxs)("button",{type:"button",className:rw("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":"pill"===R,"w3a--rounded-lg":"rounded"===R,"w3a--rounded-none":"square"===R}),children:[(0,lw.jsx)(Iv,{imageId:P.browser,darkImageId:P.browser,hoverImageId:P.browser,darkHoverImageId:P.browser,height:"30",width:"30",isButton:!0}),(0,lw.jsx)("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:j("modal.external.install-browser-extension",{browser:aw(P.browser)})}),(0,lw.jsx)("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:sw(U?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},a):null,...Y]},[null===(i=F.installLinks)||void 0===i||null===(i=i.wallet)||void 0===i||null===(i=i.walletRegistryItem)||void 0===i?void 0:i.app,P.browser,P.platform,U,Y,R,j]),Z=(0,Rm.useMemo)(()=>d.externalWalletsConfig,[d.externalWalletsConfig]),X=(0,Rm.useMemo)(()=>{const e={};return Object.keys(Z).forEach(t=>{var n;e[t]=Boolean(null===(n=Z[t])||void 0===n?void 0:n.showOnModal)}),e},[Z]),Q=(0,Rm.useMemo)(()=>Object.keys((null==b?void 0:b.default)||{}).length>0||Object.keys((null==b?void 0:b.others)||{}).length>0,[b]),ee=(0,Rm.useCallback)(e=>Object.keys(e).reduce((t,n)=>{var r,i,a;if(!1===X[n])return t;const s=e[n];let o="";if("desktop"!==P.platform){var c,l;const e=null==s||null===(c=s.mobile)||void 0===c?void 0:c.universal,t=null==s||null===(l=s.mobile)||void 0===l?void 0:l.native;o=e||t}const u=Z[n],d=(null==u?void 0:u.chainNamespaces)||[],f=new Set(null===(r=s.chains)||void 0===r?void 0:r.map(e=>e.split(":")[0])),p=new Set(null===(i=s.injected)||void 0===i?void 0:i.map(e=>e.namespace)),b=h.filter(e=>f.has(e)||p.has(e)||d.includes(e)),y={name:n,displayName:s.name,href:o,hasInjectedWallet:(null==u?void 0:u.isInjected)||!1,isInstalled:!!u,hasWalletConnect:Q&&(null===(a=s.walletConnect)||void 0===a||null===(a=a.sdks)||void 0===a?void 0:a.includes("sign_v2")),hasInstallLinks:Object.keys(s.app||{}).length>0,walletRegistryItem:s,imgExtension:s.imgExtension||"svg",icon:null==u?void 0:u.icon,chainNamespaces:b};return y.hasInjectedWallet||y.hasWalletConnect||y.hasInstallLinks?(0===b.length||t.push(y),t):t},[]),[X,h,Z,P.platform,Q]),te=(0,Rm.useMemo)(()=>[...ee(b.default),...ee(b.others)],[ee,b.default,b.others]),ne=(0,Rm.useMemo)(()=>{const t=Object.keys(Z).reduce((t,n)=>{if(n===e.LZ.WALLET_CONNECT_V2||!X[n])return t;const r=Z[n];return t.push({name:n,displayName:(null==r?void 0:r.label)||n,hasInjectedWallet:(null==r?void 0:r.isInjected)||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:null==r?void 0:r.icon,chainNamespaces:(null==r?void 0:r.chainNamespaces)||[]}),t},[]),n=t.findIndex(t=>t.name===e.LZ.METAMASK&&!t.hasInjectedWallet);if(-1!==n){const i=t[n];let a=te.find(t=>t.name===e.LZ.METAMASK);a||(a=ee({[e.LZ.METAMASK]:Fm})[0]),a&&t.splice(n,1,(0,r.A)((0,r.A)({},a),{},{chainNamespaces:i.chainNamespaces,isInstalled:!0}))}return t},[te,Z,X,ee]),re=(0,Rm.useMemo)(()=>ne.filter(e=>!e.hasInjectedWallet),[ne]),ie=(0,Rm.useMemo)(()=>ne.sort((t,n)=>t.name===e.LZ.METAMASK?-1:1).slice(0,D?3:1),[ne,D]),ae=(0,Rm.useMemo)(()=>{const e=new Set;return ne.concat(te).filter(t=>!e.has(t.name)&&(e.add(t.name),!0))},[te,ne]),se=(0,Rm.useMemo)(()=>ae.filter(e=>!ie.includes(e)).length,[ae,ie]),oe=(0,Rm.useMemo)(()=>{var e;const t=N||L;if(d.status!==um)return"530px";if(W)return t?"640px":"588px";if(null!==(e=F.metamaskQrCode)&&void 0!==e&&e.show)return t?"640px":"588px";if(d.currentPage===Lm)return t?"640px":"580px";if(q)return t?"644px":"588px";if(1===ie.length)return t?"560px":"530px";if(ie.length>1){const e=500+58*(ie.length-1);return t?`${e+60}px`:`${e+16}px`}return"539px"},[N,L,d.status,d.currentPage,W,null===(a=F.metamaskQrCode)||void 0===a?void 0:a.show,q,ie.length]),ce=(0,Rm.useMemo)(()=>({bodyState:F,setBodyState:$,toast:z,setToast:H}),[F,$,z,H]),le=(0,Rm.useMemo)(()=>d.status!==um,[d.status]);return(0,lw.jsx)(kw.Provider,{value:ce,children:(0,lw.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[(0,lw.jsxs)("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:oe},children:[(0,lw.jsx)("div",{className:"w3a--modal-curtain"}),(0,lw.jsxs)("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[le?(0,lw.jsx)(Qv,{connector:d.detailedLoaderConnector,connectorName:d.detailedLoaderConnectorName,modalStatus:d.status,onClose:m,appLogo:y,isConnectAndSignAuthenticationMode:O,externalWalletsConfig:d.externalWalletsConfig,walletRegistry:b,handleMobileVerifyConnect:p}):(0,lw.jsx)(lw.Fragment,{children:null!==(s=F.metamaskQrCode)&&void 0!==s&&s.show?(0,lw.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[(0,lw.jsx)(_v,{onBackClick:()=>$((0,r.A)((0,r.A)({},F),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:Bm,selectedButton:F.metamaskQrCode.wallet}),(0,lw.jsx)($v,{qrCodeValue:d.metamaskConnectUri,isDark:U,selectedButton:F.metamaskQrCode.wallet,primaryColor:null===(o=F.metamaskQrCode.wallet.walletRegistryItem)||void 0===o?void 0:o.primaryColor,logoImage:`https://images.web3auth.io/login-${F.metamaskQrCode.wallet.name}.${F.metamaskQrCode.wallet.imgExtension}`})]}):(0,lw.jsxs)(lw.Fragment,{children:[d.currentPage===Nm&&A&&d.status===um&&(0,lw.jsx)(YE,{web3authClientId:d.web3authClientId,web3authNetwork:d.web3authNetwork,authBuildEnv:d.authBuildEnv,isModalVisible:d.modalVisibility,isDark:U,appLogo:y,showPasswordLessInput:w,showExternalWalletButton:v,showExternalWalletCount:B,showInstalledExternalWallets:D,socialLoginsConfig:E,areSocialLoginsVisible:x,isEmailPrimary:S,isExternalPrimary:T,installedExternalWalletConfig:ie,isEmailPasswordLessLoginVisible:_,isSmsPasswordLessLoginVisible:C,totalExternalWallets:ae.length,remainingUndisplayedWallets:se,logoAlignment:M,buttonRadius:R,deviceDetails:P,handleSocialLoginClick:g,handleExternalWalletBtnClick:e=>{u((0,r.A)((0,r.A)({},d),{},{currentPage:Lm})),f&&f(e)},handleSocialLoginHeight:()=>{K(e=>!e)},handleExternalWalletClick:k}),d.currentPage===Lm&&!A&&d.status===um&&(0,lw.jsx)(Hv,{isDark:U,walletConnectUri:d.walletConnectUri,metamaskConnectUri:d.metamaskConnectUri,config:d.externalWalletsConfig,walletRegistry:b,allRegistryButtons:te,connectorVisibilityMap:X,customConnectorButtons:re,deviceDetails:P,chainNamespace:h,buttonRadius:R,handleWalletDetailsHeight:()=>{V(e=>!e)},isExternalWalletModeOnly:G,onBackClick:e=>{u((0,r.A)((0,r.A)({},d),{},{currentPage:Nm})),f&&f(e)},handleExternalWalletClick:k})]})}),(0,lw.jsx)(Kv,{privacyPolicy:N,termsOfService:L}),(null===(c=F.multiChainSelector)||void 0===c?void 0:c.show)&&(0,lw.jsx)(Sv,{uiConfig:I,isShown:F.multiChainSelector.show,onClose:()=>$((0,r.A)((0,r.A)({},F),{},{multiChainSelector:{show:!1,wallet:null}})),children:(0,lw.jsx)(qv,{isDark:U,wallet:F.multiChainSelector.wallet,handleExternalWalletClick:e=>{k(e),$((0,r.A)((0,r.A)({},F),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),(null===(l=F.installLinks)||void 0===l?void 0:l.show)&&(0,lw.jsxs)(Sv,{uiConfig:I,isShown:F.installLinks.show,onClose:()=>$((0,r.A)((0,r.A)({},F),{},{installLinks:{show:!1,wallet:null}})),children:[(0,lw.jsx)("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:j("modal.getWallet")}),(0,lw.jsx)("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:(0,lw.jsx)(Iv,{imageId:`login-${F.installLinks.wallet.name}`,hoverImageId:`login-${F.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:F.installLinks.wallet.imgExtension})}),(0,lw.jsx)("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:"desktop"===P.platform?J:Y})]})]})]}),(0,lw.jsx)(JE,{})]})})},XE=function(t){const{stateListener:n,handleSocialLoginClick:i,handleExternalWalletClick:a,handleMobileVerifyConnect:s,handleShowExternalWallets:o,closeModal:c,appLogo:l,appName:u,chainNamespaces:d,walletRegistry:p,uiConfig:h,deviceDetails:b,initialAuthenticationMode:y}=t,{widgetType:m}=h,g=(0,Rm.useMemo)(()=>m===L.a3.EMBED,[m]),[w,v]=(0,Rm.useState)({externalWalletsVisibility:!1,status:um,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:Nm,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:fe.Lr.SAPPHIRE_MAINNET,authBuildEnv:fe.F3.PRODUCTION}),E=(0,Rm.useMemo)(()=>y===$.M8.CONNECT_AND_SIGN,[y]);(0,Rm.useEffect)(()=>{v(e=>(0,r.A)((0,r.A)({},e),{},{modalVisibility:g}))},[g]),(0,Rm.useEffect)(()=>{n.on("STATE_UPDATED",e=>{He.R.debug("state updated",e),v(t=>Ke(N()(t,e,{arrayMerge:(e,t)=>t})))}),n.emit("MOUNTED")},[n]);const x=t=>{const{connector:n}=t;v(t=>(0,r.A)((0,r.A)({},t),{},{detailedLoaderConnector:n,detailedLoaderAdapterName:e.zI[n]})),a&&a(t)},S=e=>{const{loginParams:t}=e;v(e=>(0,r.A)((0,r.A)({},e),{},{detailedLoaderConnector:t.authConnection,detailedLoaderConnectorName:t.name})),i(e)},T=(0,Rm.useMemo)(()=>{var e,t;if(w.showExternalWalletsOnly)return!1;if(0===Object.keys((null===(e=w.socialLoginsConfig)||void 0===e?void 0:e.loginMethods)||{}).length)return!1;const n=Object.entries((null===(t=w.socialLoginsConfig)||void 0===t?void 0:t.loginMethods)||{}).some(([e,t])=>![f.EMAIL_PASSWORDLESS,f.SMS_PASSWORDLESS].includes(e)&&!1!==t.showOnModal);return n},[w]),A=(0,Rm.useMemo)(()=>{var e;return null===(e=w.socialLoginsConfig)||void 0===e||null===(e=e.loginMethods[f.EMAIL_PASSWORDLESS])||void 0===e?void 0:e.showOnModal},[w.socialLoginsConfig]),_=(0,Rm.useMemo)(()=>{var e;return null===(e=w.socialLoginsConfig)||void 0===e||null===(e=e.loginMethods[f.SMS_PASSWORDLESS])||void 0===e?void 0:e.showOnModal},[w.socialLoginsConfig]),C=(0,Rm.useMemo)(()=>{var e;return"emailLogin"===(null===(e=w.socialLoginsConfig)||void 0===e||null===(e=e.uiConfig)||void 0===e?void 0:e.primaryButton)},[w.socialLoginsConfig]),k=(0,Rm.useMemo)(()=>{var e;return"externalLogin"===(null===(e=w.socialLoginsConfig)||void 0===e||null===(e=e.uiConfig)||void 0===e?void 0:e.primaryButton)},[w.socialLoginsConfig]),I=(0,Rm.useMemo)(()=>A||_,[A,_]),P=(0,Rm.useMemo)(()=>w.hasExternalWallets||!!w.externalWalletsConfig[e.LZ.METAMASK],[w]),O=(0,Rm.useMemo)(()=>(T||I||!!w.externalWalletsConfig[e.LZ.METAMASK])&&!w.externalWalletsVisibility,[T,I,w]),M=e=>{v(t=>(0,r.A)((0,r.A)({},t),{},{externalWalletsVisibility:e})),e&&o&&o(w.externalWalletsInitialized)},R=()=>{v(e=>(0,r.A)((0,r.A)({},e),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:Nm})),c()},D=()=>{E||w.status!==dm||v((0,r.A)((0,r.A)({},w),{},{modalVisibility:!1,externalWalletsVisibility:!1})),E&&w.status===bm&&v((0,r.A)((0,r.A)({},w),{},{modalVisibility:!1,externalWalletsVisibility:!1})),w.status===pm&&v((0,r.A)((0,r.A)({},w),{},{modalVisibility:!0,status:um}))},B=(0,Rm.useMemo)(()=>w.status===um||w.status===dm||w.status===pm||w.status===bm,[w.status]);return(0,Rm.useEffect)(()=>{var t;w.modalVisibility&&"object"==typeof w.externalWalletsConfig&&(!1!==((null===(t=w.externalWalletsConfig[e.LZ.WALLET_CONNECT_V2])||void 0===t?void 0:t.showOnModal)||!1)&&!w.walletConnectUri&&"function"==typeof a&&a({connector:e.LZ.WALLET_CONNECT_V2}))},[w,a]),m===L.a3.MODAL?(0,lw.jsx)(dw,{open:w.modalVisibility,placement:"center",padding:!1,showCloseIcon:B,onClose:R,borderRadius:h.borderRadiusType,children:w.modalVisibility&&(0,lw.jsx)(ZE,{appLogo:l,appName:u,chainNamespaces:d,walletRegistry:p,showPasswordLessInput:I,showExternalWalletButton:P,handleSocialLoginClick:e=>S(e),socialLoginsConfig:w.socialLoginsConfig,areSocialLoginsVisible:T,isEmailPrimary:C,isExternalPrimary:k,showExternalWalletPage:O,handleExternalWalletBtnClick:M,modalState:w,preHandleExternalWalletClick:x,setModalState:v,onCloseLoader:D,isEmailPasswordLessLoginVisible:A,isSmsPasswordLessLoginVisible:_,uiConfig:h,deviceDetails:b,isConnectAndSignAuthenticationMode:E,handleMobileVerifyConnect:s})}):(0,lw.jsx)(uw,{open:w.modalVisibility,padding:!1,onClose:R,borderRadius:h.borderRadiusType,children:w.modalVisibility&&(0,lw.jsx)(ZE,{chainNamespaces:d,walletRegistry:p,appLogo:l,appName:u,showPasswordLessInput:I,showExternalWalletButton:P,handleSocialLoginClick:e=>S(e),socialLoginsConfig:w.socialLoginsConfig,areSocialLoginsVisible:T,isEmailPrimary:C,isExternalPrimary:k,showExternalWalletPage:O,handleExternalWalletBtnClick:M,modalState:w,preHandleExternalWalletClick:x,setModalState:v,onCloseLoader:D,isEmailPasswordLessLoginVisible:A,isSmsPasswordLessLoginVisible:_,uiConfig:h,deviceDetails:b,isConnectAndSignAuthenticationMode:E,handleMobileVerifyConnect:s})})};class QE{constructor(t,n){if((0,s.A)(this,"uiConfig",void 0),(0,s.A)(this,"stateEmitter",void 0),(0,s.A)(this,"chainNamespaces",void 0),(0,s.A)(this,"walletRegistry",void 0),(0,s.A)(this,"callbacks",void 0),(0,s.A)(this,"externalWalletsConfig",void 0),(0,s.A)(this,"analytics",void 0),(0,s.A)(this,"initModal",async()=>{const e={isDark:this.isDark},t=this.uiConfig.defaultLanguage||pe.Yj.en;return t===pe.Yj.de?Promise.resolve().then(i.t.bind(i,25959,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}):t===pe.Yj.ja?Promise.resolve().then(i.t.bind(i,32290,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}):t===pe.Yj.ko?Promise.resolve().then(i.t.bind(i,56857,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}):t===pe.Yj.zh?Promise.resolve().then(i.t.bind(i,75345,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}):t===pe.Yj.es?Promise.resolve().then(i.t.bind(i,25711,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}):t===pe.Yj.fr?Promise.resolve().then(i.t.bind(i,33237,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}):t===pe.Yj.pt?Promise.resolve().then(i.t.bind(i,55608,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}):t===pe.Yj.nl?Promise.resolve().then(i.t.bind(i,37145,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}):t===pe.Yj.tr?Promise.resolve().then(i.t.bind(i,99471,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}):t===pe.Yj.en&&Promise.resolve().then(i.t.bind(i,16031,19)).then(e=>(xv.addResourceBundle(t,"translation",e.default),xv.changeLanguage(t))).catch(e=>{He.R.error(e)}),new Promise(t=>{var n,r,a;if(this.stateEmitter.once("MOUNTED",()=>(He.R.info("rendered"),this.setState({status:um,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),t())),this.uiConfig.widgetType===L.a3.MODAL)!function(e){const t=document.getElementById("w3a-parent-container");t&&t.remove();const n=document.createElement("section");n.classList.add("w3a-parent-container"),n.setAttribute("id","w3a-parent-container"),n.style.zIndex=e,n.style.position="relative",document.body.appendChild(n)}(this.uiConfig.modalZIndex);else{if(this.uiConfig.widgetType!==L.a3.EMBED)throw ze.il.invalidParams(`Invalid widget type: ${this.uiConfig.widgetType}`);!function(e){const t=document.getElementById(e);t?t.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>':He.R.error(`Element with ID ${e} not found`)}(this.uiConfig.targetId)}const s=document.getElementById("w3a-parent-container");e.isDark?s.classList.add("w3a--dark"):s.classList.remove("w3a--dark"),(0,Mm.createRoot)(s).render((0,lw.jsx)(Iw.Provider,{value:e,children:(0,lw.jsx)(Tv.Provider,{value:{analytics:this.analytics},children:(0,lw.jsx)(XE,{stateListener:this.stateEmitter,appLogo:e.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleMobileVerifyConnect:this.handleMobileVerifyConnect,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig,initialAuthenticationMode:this.uiConfig.initialAuthenticationMode})})}));const o="#0364FF"===(null===(n=this.uiConfig)||void 0===n||null===(n=n.theme)||void 0===n?void 0:n.primary)&&"#FFFFFF"===(null===(r=this.uiConfig.theme)||void 0===r?void 0:r.onPrimary);null!==(a=this.uiConfig)&&void 0!==a&&a.theme&&!o&&Promise.resolve().then(i.bind(i,38950)).then(({default:e})=>{!function(e,t,n){if(n.primary){const r=function(e,t){const n=Om(e,3,50,"black",0,20,t),r=Om(e,6,85,"white",0,20,t);return[...n.reverse(),t,...r]}(e,n.primary);t.style.setProperty("--app-primary-900",r[0]),t.style.setProperty("--app-primary-800",r[1]),t.style.setProperty("--app-primary-700",r[2]),t.style.setProperty("--app-primary-600",r[3]),t.style.setProperty("--app-primary-500",r[4]),t.style.setProperty("--app-primary-400",r[5]),t.style.setProperty("--app-primary-300",r[6]),t.style.setProperty("--app-primary-200",r[7]),t.style.setProperty("--app-primary-100",r[8]),t.style.setProperty("--app-primary-50",r[9])}n.onPrimary&&t.style.setProperty("--app-on-primary",n.onPrimary)}(e,document.getElementById("w3a-parent-container"),this.uiConfig.theme)}).catch(e=>{He.R.error(e)})})}),(0,s.A)(this,"addSocialLogins",(e,t,n,r)=>{this.setState({socialLoginsConfig:{connector:e,loginMethods:t,loginMethodsOrder:n,uiConfig:r}}),He.R.info("addSocialLogins",e,t,n,r)}),(0,s.A)(this,"addWalletLogins",(t,n)=>{this.externalWalletsConfig=t;const r=!!t[e.LZ.METAMASK];this.setState({externalWalletsConfig:t,externalWalletsInitialized:!!n.externalWalletsInitialized,showExternalWalletsOnly:!!n.showExternalWalletsOnly,externalWalletsVisibility:!r&&!!n.externalWalletsVisibility})}),(0,s.A)(this,"open",()=>{var e,t,n,i;this.setState({modalVisibility:!0}),null===(e=this.analytics)||void 0===e||e.track(F.R2.LOGIN_MODAL_OPENED,(0,r.A)((0,r.A)({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys(null===(t=this.walletRegistry)||void 0===t?void 0:t.default).length+Object.keys(null===(n=this.walletRegistry)||void 0===n?void 0:n.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},(0,z.tP)(this.uiConfig)),{ui_modal_login_methods_order:null==(i=this.uiConfig)?void 0:i.loginMethodsOrder,ui_modal_z_index:null==i?void 0:i.modalZIndex,ui_modal_display_errors_on_modal:null==i?void 0:i.displayErrorsOnModal,ui_modal_login_grid_col:null==i?void 0:i.loginGridCol,ui_modal_primary_button:null==i?void 0:i.primaryButton,ui_modal_widget_type:null==i?void 0:i.widgetType,ui_modal_target_id_used:Boolean(null==i?void 0:i.targetId),ui_modal_logo_alignment:null==i?void 0:i.logoAlignment,ui_modal_border_radius_type:null==i?void 0:i.borderRadiusType,ui_modal_button_radius_type:null==i?void 0:i.buttonRadiusType,ui_modal_sign_in_methods:null==i?void 0:i.signInMethods,ui_modal_add_previous_login_hint:null==i?void 0:i.addPreviousLoginHint,ui_modal_display_installed_external_wallets:null==i?void 0:i.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:null==i?void 0:i.displayExternalWalletsCount})),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),(0,s.A)(this,"closeModal",()=>{var e;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),null===(e=this.analytics)||void 0===e||e.track(F.R2.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),(0,s.A)(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),(0,s.A)(this,"handleShowExternalWallets",e=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:e})}),(0,s.A)(this,"handleExternalWalletClick",e=>{He.R.info("external wallet clicked",e);const{connector:t,chainNamespace:n}=e;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:t,loginParams:{chainNamespace:n}})}),(0,s.A)(this,"handleMobileVerifyConnect",e=>{He.R.info("mobile verify connect clicked",e);const{connector:t}=e;this.callbacks.onMobileVerifyConnect&&this.callbacks.onMobileVerifyConnect({connector:t})}),(0,s.A)(this,"handleSocialLoginClick",e=>{var t;He.R.info("social login clicked",e);const{connector:n,loginParams:r}=e;null===(t=this.analytics)||void 0===t||t.track(F.R2.SOCIAL_LOGIN_SELECTED,{connector:n,auth_connection:r.authConnection,auth_connection_id:r.authConnectionId,group_auth_connection_id:r.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:n,loginParams:r})}),(0,s.A)(this,"setState",e=>{this.stateEmitter.emit("STATE_UPDATED",e)}),(0,s.A)(this,"handleConnectorData",t=>{if(t.connectorName===e.LZ.WALLET_CONNECT_V2){const e=t.data;e.uri&&this.setState({walletConnectUri:e.uri})}if(t.connectorName===e.LZ.METAMASK){const e=t.data;e.uri&&this.setState({metamaskConnectUri:e.uri})}}),(0,s.A)(this,"subscribeCoreEvents",t=>{t.on($.qM.CONNECTING,t=>{var n;if(He.R.info("connecting with connector",t),(null==t?void 0:t.connector)===e.LZ.WALLET_CONNECT_V2)return;const r=null===(n=this.externalWalletsConfig)||void 0===n||null===(n=n[e.LZ.METAMASK])||void 0===n?void 0:n.isInjected;((null==t?void 0:t.connector)!==e.LZ.METAMASK||r||"desktop"!==this.deviceDetails.platform)&&this.setState({status:fm})}),t.on($.qM.CONNECTED,e=>{He.R.debug("connected with connector",e),e.reconnected||e.loginMode!==L.GG.MODAL?this.setState({status:dm}):this.setState({status:dm,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected",currentPage:Nm})}),t.on($.qM.ERRORED,(e,t)=>{He.R.error("error",e,e.message),t!==L.GG.NO_MODAL&&(5e3===e.code?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:e.message||"modal.post-loading.something-wrong",status:pm}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:um}))}),t.on($.qM.DISCONNECTED,()=>{this.setState({status:um,externalWalletsVisibility:!1})}),t.on($.qM.CONNECTOR_DATA_UPDATED,e=>{this.handleConnectorData(e)}),t.on($.qM.AUTHORIZING,()=>{this.setState({status:hm})}),t.on($.qM.AUTHORIZED,()=>{this.setState({status:bm})})}),this.uiConfig=t,t.logoDark||(this.uiConfig.logoDark=Um),t.logoLight||(this.uiConfig.logoLight=jm),t.mode||(this.uiConfig.mode=pe.Xh.light),t.modalZIndex||(this.uiConfig.modalZIndex="99998"),void 0===t.displayErrorsOnModal&&(this.uiConfig.displayErrorsOnModal=!0),t.appName||(this.uiConfig.appName="Web3Auth"),t.loginGridCol||(this.uiConfig.loginGridCol=3),t.primaryButton||(this.uiConfig.primaryButton="socialLogin"),t.defaultLanguage||(this.uiConfig.defaultLanguage=cw(t.defaultLanguage)),t.widgetType||(this.uiConfig.widgetType=L.a3.MODAL),t.initialAuthenticationMode||(this.uiConfig.initialAuthenticationMode=$.M8.CONNECT_ONLY),t.widgetType===L.a3.EMBED&&!t.targetId)throw He.R.error("targetId is required for embed widget"),ze.il.invalidParams("targetId is required for embed widget");this.stateEmitter=new d.C,this.chainNamespaces=t.chainNamespaces,this.walletRegistry=t.walletRegistry,this.callbacks=n,this.analytics=t.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}get isDark(){return"dark"===this.uiConfig.mode||"auto"===this.uiConfig.mode&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){if("undefined"==typeof window)return{platform:"mobile",browser:"chrome",os:"ios"};const e=g().getParser(window.navigator.userAgent);return{platform:e.getPlatformType(),browser:e.getBrowserName().toLowerCase(),os:e.getOSName()}}}class ex extends rm{constructor(t,i){super(t,i),(0,s.A)(this,"loginModal",void 0),(0,s.A)(this,"options",void 0),(0,s.A)(this,"modalConfig",Ke(n)),(0,s.A)(this,"onInitExternalWallets",async t=>{t.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(t=>t.name===e.LZ.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),(0,s.A)(this,"onSocialLogin",async t=>{try{await this.connectTo(e.LZ.AUTH,t.loginParams,L.GG.MODAL)}catch(e){He.R.error(`Error while connecting to connector: ${t.connector}`,e)}}),(0,s.A)(this,"onExternalWalletLogin",async t=>{try{var n;const r=this.getConnector(t.connector,null===(n=t.loginParams)||void 0===n?void 0:n.chainNamespace);if(r.name===e.LZ.WALLET_CONNECT_V2){const e=this.getInitialChainIdForConnector(r);await r.connect({chainId:e.chainId})}else await this.connectTo(t.connector,t.loginParams,L.GG.MODAL)}catch(e){He.R.error(`Error while connecting to connector: ${t.connector}`,e)}}),(0,s.A)(this,"onModalVisibility",async t=>{He.R.debug("is login modal visible",t),this.emit(lm,t);const n=this.getConnector(e.LZ.WALLET_CONNECT_V2);if(n){const e=null==n?void 0:n.status;if(He.R.debug("trying refreshing wc session",t,e),t&&(e===$.bo.READY||e===$.bo.CONNECTING)){He.R.debug("refreshing wc session");try{const e=this.getInitialChainIdForConnector(n);n.connect({chainId:e.chainId})}catch(e){He.R.error("Error while disconnecting to wallet connect in core",e)}}t||!qe.x.includes(this.status)||e!==$.bo.READY&&e!==$.bo.CONNECTING||(He.R.debug("this stops wc connector from trying to reconnect once proposal expires"),n.status=$.bo.READY)}}),(0,s.A)(this,"onMobileVerifyConnect",async e=>{try{const t=this.getConnector(e.connector);await t.getIdentityToken()}catch(t){He.R.error(`Error while connecting to connector: ${e.connector}`,t)}}),(0,s.A)(this,"getChainNamespaces",()=>{var e;return[...new Set((null===(e=this.coreOptions.chains)||void 0===e?void 0:e.map(e=>e.chainNamespace))||[])]}),this.options=(0,r.A)({},t),this.options.uiConfig||(this.options.uiConfig={}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),He.R.info("modalConfig",this.modalConfig)}async init(t){const n=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:F.jb.WEB_MODAL,sdk_version:z.XL,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let i={};try{var a,s;const{signal:o}=t||{};super.checkInitRequirements();const{projectConfig:c,walletRegistry:l}=await this.getProjectAndWalletConfig();this.initUIConfig(c),super.initAccountAbstractionConfig(c),super.initChainsConfig(c),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(c),super.initSessionTimeConfig(c),this.analytics.setGlobalProperties({team_id:c.teamId}),i=this.getInitializationTrackData();const{filteredWalletRegistry:u,disabledExternalWallets:d}=this.filterWalletRegistry(l,c);this.loginModal=new QE((0,r.A)((0,r.A)({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:u,analytics:this.analytics,initialAuthenticationMode:this.options.initialAuthenticationMode}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility,onMobileVerifyConnect:this.onMobileVerifyConnect}),await(0,z.zr)(()=>this.loginModal.initModal(),o),await(0,z.zr)(()=>this.setupCommonJRPCProvider(),o),this.on($.qM.CONNECTORS_UPDATED,({connectors:e})=>{(0,z.zr)(()=>this.initConnectors({connectors:e,projectConfig:c,disabledExternalWallets:d}),o,()=>{var e;He.R.debug("init aborted"),(null===(e=this.connectors)||void 0===e?void 0:e.length)>0&&super.cleanup()})}),await(0,z.zr)(()=>super.loadConnectors({projectConfig:c,modalMode:!0}),o),await(0,z.zr)(()=>super.initPlugins(),o);const f=this.getConnector(e.LZ.AUTH);i=(0,r.A)((0,r.A)({},i),{},{connectors:this.connectors.map(e=>e.name),plugins:Object.keys(this.plugins),auth_ux_mode:(null==f||null===(a=f.authInstance)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.uxMode)||(null===(s=this.coreOptions.uiConfig)||void 0===s?void 0:s.uxMode)}),this.analytics.track(F.R2.SDK_INITIALIZATION_COMPLETED,(0,r.A)((0,r.A)({},i),{},{duration:Date.now()-n}))}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return;throw this.analytics.track(F.R2.SDK_INITIALIZATION_FAILED,(0,r.A)((0,r.A)((0,r.A)({},i),(0,z.is)(e)),{},{duration:Date.now()-n})),He.R.error("Failed to initialize modal",e),e}}async connect(){if(!this.loginModal)throw ze.il.notReady("Login modal is not initialized");return this.connectedConnectorName&&qe.x.includes(this.status)&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,t)=>{const n=()=>(this.removeListener($.qM.ERRORED,r),this.removeListener(lm,i),e(this.provider)),r=e=>(this.removeListener($.qM.CONNECTED,n),this.removeListener($.qM.AUTHORIZED,n),this.removeListener(lm,i),t(e)),i=e=>{if(!e&&!qe.x.includes(this.status))return this.removeListener($.qM.CONNECTED,n),this.removeListener($.qM.ERRORED,r),this.removeListener($.qM.AUTHORIZED,n),t(new Error("User closed the modal"))};this.coreOptions.initialAuthenticationMode===$.M8.CONNECT_AND_SIGN?this.once($.qM.AUTHORIZED,n):this.once($.qM.CONNECTED,n),this.once($.qM.ERRORED,r),this.once(lm,i)}))}initUIConfig(e){super.initUIConfig(e),this.options.uiConfig=N()(Ke(e.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=cw(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light"),this.options.uiConfig=N()(e.loginModal||{},this.options.uiConfig,{arrayMerge:(e,t)=>t});const t=e.embeddedWalletAuth.filter(e=>e.isDefault).map(e=>e.authConnection),n=[...this.options.uiConfig.loginMethodsOrder||[],...t],r=[],i=new Set;for(const e of n)i.has(e)||(i.add(e),r.push(e));this.options.uiConfig.loginMethodsOrder=r}getInitializationTrackData(){var t,n,i,a,s,o,c,l,u,d,f,p,h,b,y,m,g;return(0,r.A)((0,r.A)({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:null===(t=this.modalConfig)||void 0===t?void 0:t.hideWalletDiscovery,modal_connectors:Object.keys((null===(n=this.modalConfig)||void 0===n?void 0:n.connectors)||{}),modal_auth_connector_login_methods:Object.keys((null===(i=this.modalConfig)||void 0===i||null===(i=i.connectors)||void 0===i||null===(i=i[e.LZ.AUTH])||void 0===i?void 0:i.loginMethods)||{}),ui_login_methods_order:null===(a=this.options.uiConfig)||void 0===a?void 0:a.loginMethodsOrder,ui_modal_z_index:null===(s=this.options.uiConfig)||void 0===s?void 0:s.modalZIndex,ui_display_errors_on_modal:null===(o=this.options.uiConfig)||void 0===o?void 0:o.displayErrorsOnModal,ui_login_grid_col:null===(c=this.options.uiConfig)||void 0===c?void 0:c.loginGridCol,ui_primary_button:null===(l=this.options.uiConfig)||void 0===l?void 0:l.primaryButton,ui_modal_widget_type:null===(u=this.options.uiConfig)||void 0===u?void 0:u.widgetType,ui_modal_target_id_used:Boolean(null===(d=this.options.uiConfig)||void 0===d?void 0:d.targetId),ui_modal_logo_alignment:null===(f=this.options.uiConfig)||void 0===f?void 0:f.logoAlignment,ui_modal_border_radius_type:null===(p=this.options.uiConfig)||void 0===p?void 0:p.borderRadiusType,ui_modal_button_radius_type:null===(h=this.options.uiConfig)||void 0===h?void 0:h.buttonRadiusType,ui_modal_sign_in_methods:null===(b=this.options.uiConfig)||void 0===b?void 0:b.signInMethods,ui_modal_add_previous_login_hint:null===(y=this.options.uiConfig)||void 0===y?void 0:y.addPreviousLoginHint,ui_modal_display_installed_external_wallets:null===(m=this.options.uiConfig)||void 0===m?void 0:m.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:null===(g=this.options.uiConfig)||void 0===g?void 0:g.displayExternalWalletsCount})}filterWalletRegistry(t,n){const{disableAllRecommendedWallets:r,disableAllOtherWallets:i,disabledWallets:a}=n.externalWalletAuth||{},s=new Set(a||[]);r&&Object.keys(t.default).forEach(e=>s.add(e)),i&&Object.keys(t.others).forEach(e=>s.add(e)),s.delete(e.LZ.METAMASK);const o=Ke(t);return s.forEach(e=>{delete o.default[e],delete o.others[e]}),{disabledExternalWallets:s,filteredWalletRegistry:o}}async getProjectAndWalletConfig(){var e,t;const[n,r]=await Promise.allSettled([(0,z.ce)({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:null===(e=this.options.accountAbstractionConfig)||void 0===e?void 0:e.smartAccountType,authBuildEnv:this.options.authBuildEnv}),(0,z.x8)(L.SY)]);if("rejected"===n.status){const e=await(0,o.P)(n.reason);throw He.R.error("Failed to fetch project configurations",e),ze.il.notReady("failed to fetch project configurations",e)}const i=n.value;let a={others:{},default:{}};return!Boolean(i.externalWalletAuth)||null!==(t=this.modalConfig)&&void 0!==t&&t.hideWalletDiscovery||("fulfilled"===r.status?a=r.value:He.R.error("Failed to fetch wallet registry",r.reason)),{projectConfig:i,walletRegistry:a}}async initConnectors({connectors:t,projectConfig:n,disabledExternalWallets:r}){const i=await this.filterConnectors({projectConfig:n,disabledExternalWallets:r}),{hasInAppConnectors:a,hasExternalConnectors:s}=await this.checkConnectorAvailability(i),o=t.filter(e=>i.includes(e.name));await this.initInAppAndCachedConnectors(o),s&&(a?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(o.filter(t=>t.type===$.rp.EXTERNAL&&t.name!==e.LZ.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(o.filter(e=>e.type===$.rp.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===$.bo.NOT_READY&&(this.status=$.bo.READY,this.emit($.qM.READY))}async filterConnectors({projectConfig:t,disabledExternalWallets:n}){var i;const a={},s=new Map;for(const e of t.embeddedWalletAuth||[]){const{isDefault:t,authConnection:n,groupedAuthConnectionId:r,authConnectionId:i}=e;t&&(a[n]={name:om[n],authConnection:n,authConnectionId:i,groupedAuthConnectionId:r,extraLoginOptions:e.jwtParameters,isDefault:!0,showOnModal:!0});const o=this.getCombinedConnectionId(i,r);s.set(o,e)}const o={[e.LZ.AUTH]:{label:e.LZ.AUTH,loginMethods:a}};null!==(i=this.modalConfig)&&void 0!==i&&null!==(i=i.connectors)&&void 0!==i&&i[e.LZ.AUTH]&&(this.modalConfig.connectors[e.LZ.AUTH].loginMethods||(this.modalConfig.connectors[e.LZ.AUTH].loginMethods={}));const c=new Set(sm);return Object.keys(this.modalConfig.connectors[e.LZ.AUTH].loginMethods).forEach(t=>{const n=this.modalConfig.connectors[e.LZ.AUTH].loginMethods[t],{authConnectionId:i,groupedAuthConnectionId:a}=n;if(!c.has(t))throw ze.il.invalidParams(`Invalid auth connection: ${t}`);if(a||i){const o=this.getCombinedConnectionId(i,a);if(!s.has(o))throw ze.il.invalidParams(`Invalid auth connection config, authConnection: ${t}. Missing AuthConnectionConfig from the dashboard.`);const c=s.get(o);this.modalConfig.connectors[e.LZ.AUTH].loginMethods[t]=(0,r.A)((0,r.A)({},n),{},{authConnection:c.authConnection,authConnectionId:c.authConnectionId,groupedAuthConnectionId:c.groupedAuthConnectionId,isDefault:c.isDefault||!1,extraLoginOptions:(0,r.A)((0,r.A)({},c.jwtParameters),n.extraLoginOptions)})}}),this.modalConfig.connectors=N()(o,Ke(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(e=>e.name)])].map(i=>{var a,s,o;const c={label:e.zI[i]||i.split("-").map(im).join(" "),showOnModal:!0};this.modalConfig.connectors[i]=(0,r.A)((0,r.A)({},c),(null===(a=this.modalConfig)||void 0===a||null===(a=a.connectors)||void 0===a?void 0:a[i])||{});const l=this.getConnector(i);He.R.debug("connector config",i,null===(s=this.modalConfig.connectors)||void 0===s||null===(s=s[i])||void 0===s?void 0:s.showOnModal,l);const u=null===(o=this.modalConfig.connectors)||void 0===o?void 0:o[i];if(!l){if(u.showOnModal)throw ze.il.invalidParams(`Connector ${i} is not configured`);return}if(!u.showOnModal)return;const d=Boolean(t.externalWalletAuth);if(l.type===$.rp.EXTERNAL&&l.name!==e.LZ.METAMASK){if(!d)return;if(n.has(i))return}if(i===e.LZ.WALLET_CONNECT_V2){var f;if(!d)return;if(null!==(f=this.modalConfig)&&void 0!==f&&f.hideWalletDiscovery)return}return this.modalConfig.connectors[i]=u,i}).filter(e=>void 0!==e)}async checkConnectorAvailability(t){const n=this.connectors.some(e=>{var t,n;return!(e.type!==$.rp.IN_APP||!0!==(null===(t=this.modalConfig.connectors)||void 0===t||null===(t=t[e.name])||void 0===t?void 0:t.showOnModal)||null!==(n=this.modalConfig.connectors)&&void 0!==n&&null!==(n=n[e.name])&&void 0!==n&&n.loginMethods&&!Object.values(this.modalConfig.connectors[e.name].loginMethods).some(e=>e.showOnModal))});return He.R.debug(n,this.connectors,t,"hasInAppWallets"),{hasInAppConnectors:n,hasExternalConnectors:t.some(t=>{var n,r;return t===e.LZ.WALLET_CONNECT_V2||(null===(n=this.getConnector(t))||void 0===n?void 0:n.type)===$.rp.EXTERNAL&&(null===(r=this.modalConfig.connectors)||void 0===r||null===(r=r[t])||void 0===r?void 0:r.showOnModal)})}}async initInAppAndCachedConnectors(e){await Promise.all(e.map(async e=>{const t=e.name;try{if(e.status!==$.bo.NOT_READY)return;if(this.cachedConnector!==t&&e.type===$.rp.EXTERNAL)return;this.subscribeToConnectorEvents(e);const o=this.getInitialChainIdForConnector(e),c=super.checkIfAutoConnect(e);if(await e.init({autoConnect:c,chainId:o.chainId,getIdentityToken:this.options.initialAuthenticationMode===$.M8.CONNECT_AND_SIGN}),e.type===$.rp.IN_APP){var n,i,a,s;He.R.info("connectorInitResults",t);const e=(null===(n=this.modalConfig.connectors[t])||void 0===n?void 0:n.loginMethods)||{};this.loginModal.addSocialLogins(t,e,(null===(i=this.options.uiConfig)||void 0===i?void 0:i.loginMethodsOrder)||sm,(0,r.A)((0,r.A)({},this.options.uiConfig),{},{loginGridCol:(null===(a=this.options.uiConfig)||void 0===a?void 0:a.loginGridCol)||3,primaryButton:(null===(s=this.options.uiConfig)||void 0===s?void 0:s.primaryButton)||"socialLogin"}))}}catch(e){He.R.error(e,"error while initializing connector ",t)}}))}async initExternalConnectors(e,t){const n={},i={};e.forEach(async e=>{const a=e.name;if(He.R.debug("init external wallet",this.cachedConnector,a,e.status),i[a]||(i[a]=new Set),e.connectorNamespace===$e.R.MULTICHAIN?this.getChainNamespaces().forEach(e=>i[a].add(e)):i[a].add(e.connectorNamespace),e.status===$.bo.NOT_READY&&this.cachedConnector!==a)try{this.subscribeToConnectorEvents(e);const t=this.getInitialChainIdForConnector(e);await e.init({autoConnect:this.cachedConnector===a,chainId:t.chainId,getIdentityToken:this.options.initialAuthenticationMode===$.M8.CONNECT_AND_SIGN})}catch(e){He.R.error(e,"error while initializing connector",a)}if([$.bo.NOT_READY,$.bo.READY,$.bo.CONNECTING,$.bo.CONNECTED,$.bo.AUTHORIZING,$.bo.AUTHORIZED].includes(e.status)){const s=this.modalConfig.connectors[a];n[a]=(0,r.A)((0,r.A)({},s),{},{isInjected:e.isInjected,icon:e.icon,chainNamespaces:Array.from(i[a])}),this.loginModal.addWalletLogins(n,{showExternalWalletsOnly:!!t.showExternalWalletsOnly,externalWalletsVisibility:!!t.externalWalletsVisibility,externalWalletsInitialized:!!t.externalWalletsInitialized})}})}getCombinedConnectionId(e,t){let n=e;return t&&(n=`${t}_${e}`),n}}const tx="web3auth_context";var nx=i(79374),rx=i.n(nx),ix=i(1048).Buffer;const ax=rx().lowlevel;function sx(e){let t;t="string"==typeof e?ix.from(e,"hex"):e;const n=new Uint8Array(64),r=[ax.gf(),ax.gf(),ax.gf(),ax.gf()],i=new Uint8Array([...new Uint8Array(t),...new Uint8Array(32)]),a=new Uint8Array(32);ax.crypto_hash(n,i,32),n[0]&=248,n[31]&=127,n[31]|=64,ax.scalarbase(r,n),ax.pack(a,r);for(let e=0;e<32;e+=1)i[e+32]=a[e];return{sk:ix.from(i),pk:ix.from(a)}}const ox={INITIALIZED:"initialized",ERRORED:"errored"};var cx=i(64836),lx=i(56666),ux=i(89059),dx=i(12200),fx=i(70011),px=i(76152),hx=i(74595),bx=i(36703),yx=i(12292),mx=i(48272),gx=i(47002),wx=i(20328),vx=i(53453),Ex=i(38400),xx=i(28470),Sx=i(92336),Tx=i(7645),Ax=i(90097),_x=i(11221),Cx=i(89146);const kx="https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices",Ix="https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees",Px={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},Ox={SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",STANDARD_TRANSACTION:"transaction"},Mx={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};var Rx=i(69860),Nx=i(96483);const Lx=new Nx.g("1e18"),Dx=new Nx.g("1e9"),Bx=new Nx.g("1"),jx={hex:e=>"string"==typeof e?new Nx.g((0,Rx.Agw)(e),16):new Nx.g(e,16),dec:e=>new Nx.g(e,10)},Ux={WEI:e=>e.div(Lx),GWEI:e=>e.div(Dx),ETH:e=>e.div(Bx)},Fx={WEI:e=>e.times(Lx).dp(0,Nx.g.ROUND_HALF_UP),GWEI:e=>e.times(Dx).dp(9,Nx.g.ROUND_HALF_UP),ETH:e=>e.times(Bx).dp(9,Nx.g.ROUND_HALF_UP)},$x={hex:e=>e.toString(16),dec:e=>new Nx.g(e).toString(10)},zx=(e,{fromNumericBase:t="hex",toNumericBase:n,fromDenomination:r,toDenomination:i,numberOfDecimals:a})=>(e=>{const{value:t,fromNumericBase:n,fromDenomination:r,toNumericBase:i,toDenomination:a,numberOfDecimals:s}=e;let o=jx[n](t);return r&&(o=Ux[r](o)),a&&(o=Fx[a](o)),s&&(o=o.dp(s,Nx.g.ROUND_HALF_DOWN)),i&&(o=$x[i](o)),o})({fromNumericBase:t,toNumericBase:n,fromDenomination:r,toDenomination:i,numberOfDecimals:a,value:e||"0"});function Hx(e){return zx(e,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function qx(e){return zx(e,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}var Kx=i(82823),Wx=i.n(Kx);function Vx(e){return(0,Rx.VO2)(e.toString(16))}function Gx(e){return Wx().isBN(e)?e:new(Wx())((0,Rx.Agw)(e),16)}function Yx(e){return qx(Hx(e)).toString()}async function Jx(e){const t=await(0,Z.Jt)(e);return(0,r.A)((0,r.A)({},t),{},{estimatedBaseFee:Yx(t.estimatedBaseFee),low:(0,r.A)((0,r.A)({},t.low),{},{suggestedMaxPriorityFeePerGas:Yx(t.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Yx(t.low.suggestedMaxFeePerGas)}),medium:(0,r.A)((0,r.A)({},t.medium),{},{suggestedMaxPriorityFeePerGas:Yx(t.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Yx(t.medium.suggestedMaxFeePerGas)}),high:(0,r.A)((0,r.A)({},t.high),{},{suggestedMaxPriorityFeePerGas:Yx(t.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Yx(t.high.suggestedMaxFeePerGas)})})}async function Zx(e){const t=await(0,Z.Jt)(e,{referrer:e,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:t.SafeGasPrice,medium:t.ProposeGasPrice,high:t.FastGasPrice}}function Xx(e,t){if(!e||"string"!=typeof e||!(0,Rx.$mX)(e))throw new Error(`Invalid "${t}" address: ${e} must be a valid string.`)}async function Qx(e,t){if(Xx(e.from,"from"),!e.data||Array.isArray(e.data)||"object"!=typeof e.data&&"string"!=typeof e.data)throw new Error('Invalid message "data": Must be a valid string or object.');let n;if("object"==typeof e.data)n=e.data;else try{n=JSON.parse(e.data)}catch{throw new Error("Data must be passed as a valid JSON string.")}if(!t)throw new Error("Current chainId cannot be null or undefined.");let{chainId:r}=n.domain;if(r){"string"==typeof r&&(r=parseInt(r,r.startsWith("0x")?16:10));const e=parseInt(t,16);if(Number.isNaN(e))throw new Error(`Cannot sign messages for chainId "${r}", because Web3Auth is switching networks.`);if(r!==e)throw new Error(`Provided chainId "${r}" must match the active chainId "${e}"`)}}class eS{constructor({getProviderEngineProxy:e}){(0,s.A)(this,"API_SUPPORTED_CHAINIDS",new Set(["0x1","0x5","0x13881","0xa4b1","0xa86a","0x2105","0x38","0xfa","0xa","0x89"])),(0,s.A)(this,"chainConfig",null),(0,s.A)(this,"getProviderEngineProxy",void 0),(0,s.A)(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=e}get providerProxy(){return this.getProviderEngineProxy()}async init(){this.chainConfig=await this.providerProxy.request({method:"eth_provider_config"}),this.isEIP1559Compatible=await this.getEIP1559Compatibility()}async formatTransaction(e){if(!this.chainConfig)throw new Error("Chain config not initialized");const t=(0,r.A)({},e);if(void 0===t.nonce&&(t.nonce=await this.providerProxy.request({method:"eth_getTransactionCount",params:[e.from,"latest"]})),!this.isEIP1559Compatible&&t.gasPrice){if(t.maxFeePerGas&&delete t.maxFeePerGas,t.maxPriorityFeePerGas&&delete t.maxPriorityFeePerGas,!t.gasLimit)if(t.gas)t.gasLimit=(0,Rx.VO2)(t.gas);else{const e=await this.getDefaultGasLimit(t);e&&(t.gasLimit=e)}return t}if(!t.gasLimit)if(t.gas)t.gasLimit=(0,Rx.VO2)(t.gas);else{const e=await this.getDefaultGasLimit(t);e&&(t.gasLimit=e)}const{gasPrice:n,maxFeePerGas:i,maxPriorityFeePerGas:a}=await this.getDefaultGasFees(t);return this.isEIP1559Compatible?(!t.gasPrice||t.maxFeePerGas||t.maxPriorityFeePerGas?(i&&!t.maxFeePerGas&&(t.maxFeePerGas=(0,Rx.VO2)(i)),a&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,Rx.VO2)(a)),n&&!t.maxFeePerGas&&(t.maxFeePerGas=(0,Rx.VO2)(n)),t.maxFeePerGas&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=t.maxFeePerGas)):(t.maxFeePerGas=t.gasPrice,t.maxPriorityFeePerGas=function(e,t){return null==e||null==t?null:new Nx.g(e,10).lt(t,10)}("string"==typeof a?(0,Rx.Agw)(a):a,"string"==typeof t.gasPrice?(0,Rx.Agw)(t.gasPrice):t.gasPrice.toString())?(0,Rx.VO2)(a):(0,Rx.VO2)(t.gasPrice.toString())),delete t.gasPrice):(delete t.maxPriorityFeePerGas,delete t.maxFeePerGas),!n||t.gasPrice||t.maxPriorityFeePerGas||t.maxFeePerGas||(t.gasPrice=n),t.type=Number.parseInt(this.isEIP1559Compatible?Px.FEE_MARKET:Px.LEGACY,16),t.chainId=this.chainConfig.chainId,t}async fetchEthGasPriceEstimate(){return{gasPrice:qx(await this.providerProxy.request({method:"eth_gasPrice",params:[]})).toString()}}async fetchGasEstimatesViaEthFeeHistory(){const e=await this.providerProxy.request({method:"eth_feeHistory",params:[10,"latest",[10,50,95]]}),t=e.baseFeePerGas[e.baseFeePerGas.length-1],n=e.reward.reduce((e,t)=>({slow:e.slow.plus(new Nx.g(t[0],16)),average:e.average.plus(new Nx.g(t[1],16)),fast:e.fast.plus(new Nx.g(t[2],16))}),{slow:new Nx.g(0),average:new Nx.g(0),fast:new Nx.g(0)});return{estimatedBaseFee:qx(t).toString(),high:{maxWaitTimeEstimate:3e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:qx(n.fast.plus(t).toString(16)).toString(),suggestedMaxPriorityFeePerGas:qx(n.fast.toString(16)).toString()},medium:{maxWaitTimeEstimate:45e3,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:qx(n.average.plus(t).toString(16)).toString(),suggestedMaxPriorityFeePerGas:qx(n.average.toString(16)).toString()},low:{maxWaitTimeEstimate:6e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:qx(n.slow.plus(t).toString(16)).toString(),suggestedMaxPriorityFeePerGas:qx(n.slow.toString(16)).toString()}}}async getEIP1559Compatibility(){const e=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!(!e||void 0===e.baseFeePerGas)}async fetchGasFeeEstimateData(){if(!this.chainConfig)throw new Error("Chain config not initialized");const e="0x1"===this.chainConfig.chainId,t=Number.parseInt(this.chainConfig.chainId,16);let n;try{if(this.isEIP1559Compatible){let e;try{if(!this.API_SUPPORTED_CHAINIDS.has(this.chainConfig.chainId))throw new Error("Chain id not supported by api");e=await Jx(Ix.replace("<chain_id>",`${t}`))}catch{e=await this.fetchGasEstimatesViaEthFeeHistory()}n={gasFeeEstimates:e,gasEstimateType:Mx.FEE_MARKET}}else{if(!e)throw new Error("Main gas fee/price estimation failed. Use fallback");n={gasFeeEstimates:await Zx(kx.replace("<chain_id>",`${t}`)),gasEstimateType:Mx.LEGACY}}}catch{try{n={gasFeeEstimates:await this.fetchEthGasPriceEstimate(),gasEstimateType:Mx.ETH_GASPRICE}}catch(e){throw new Error(`Gas fee/price estimation failed. Message: ${e.message}`)}}return n}async getDefaultGasFees(e){if(!this.isEIP1559Compatible&&e.gasPrice||this.isEIP1559Compatible&&e.maxFeePerGas&&e.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:e,gasEstimateType:t}=await this.fetchGasFeeEstimateData();if(this.isEIP1559Compatible&&t===Mx.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:t,suggestedMaxFeePerGas:n}={}}=e;if(t&&n)return{maxFeePerGas:(0,Rx.VO2)(Hx(n)),maxPriorityFeePerGas:(0,Rx.VO2)(Hx(t))}}else{if(t===Mx.LEGACY)return{gasPrice:(0,Rx.VO2)(Hx(e.medium))};if(t===Mx.ETH_GASPRICE)return{gasPrice:(0,Rx.VO2)(Hx(e.gasPrice))}}}catch(e){He.R.error(e)}const{gasPrice:t}=await this.fetchEthGasPriceEstimate();return{gasPrice:(0,Rx.VO2)(Hx(t))}}async estimateTxGas(e){const t=(0,r.A)({},e);return delete t.gasPrice,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,await this.providerProxy.request({method:"eth_estimateGas",params:[t]})}async analyzeGasUsage(e){const t=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});let n=Vx(function(e){const t=new(Wx())(19),n=new(Wx())(20);return e.mul(t).div(n)}(Gx(t.gasLimit)));try{n=await this.estimateTxGas(e)}catch(e){He.R.warn(e)}return{blockGasLimit:t.gasLimit,estimatedGasHex:n}}addGasBuffer(e,t,n=1.5){const r=Gx(e),i=Gx(t).muln(.9),a=r.muln(n);return r.gt(i)?Vx(r):a.lt(i)?Vx(a):Vx(i)}async determineTransactionCategory(e){const{data:t,to:n}=e;let r,i="";if(t&&!n)r=Ox.DEPLOY_CONTRACT;else{try{i=await this.providerProxy.request({method:"eth_getCode",params:[n,"latest"]})}catch(e){He.R.warn(e)}r=i&&"0x"!==i&&"0x0"!==i?Ox.CONTRACT_INTERACTION:Ox.SENT_ETHER}return{transactionCategory:r,code:i}}async getDefaultGasLimit(e){const{transactionCategory:t}=await this.determineTransactionCategory((0,r.A)({},e));if(e.gas)return(0,Rx.VO2)(e.gas);if(e.to&&t===Ox.SENT_ETHER){if(e.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");const t=21e3;return(0,Rx.VO2)(t.toString(16))}const{blockGasLimit:n,estimatedGasHex:i}=await this.analyzeGasUsage(e);return this.addGasBuffer((0,Rx.VO2)(i),n)}}let tS=function(e){return e.V1="V1",e.V3="V3",e.V4="V4",e}({});var nS=i(50068),rS=i(6529),iS=i(73468),aS=i(31721),sS=i(89827),oS=i(13888),cS=i(75690),lS=i(3833),uS=i(28147),dS=i(1048).Buffer;class fS{constructor(e){(0,s.A)(this,"provider",void 0),this.provider=e}async requestAccounts(){return await this.provider.request({method:uS.zl.SOLANA_REQUEST_ACCOUNTS})}async getAccounts(){return await this.provider.request({method:uS.zl.GET_ACCOUNTS})}async signAndSendTransaction(e){return await this.provider.request({method:uS.zl.SEND_TRANSACTION,params:{message:this.serializeTransaction(e)}})}async signTransaction(e){return await this.provider.request({method:uS.zl.SIGN_TRANSACTION,params:{message:this.serializeTransaction(e)}})}async signAllTransactions(e){const t=e.map(e=>this.serializeTransaction(e));return await this.provider.request({method:uS.zl.SIGN_ALL_TRANSACTIONS,params:{message:t}})}async signMessage(e,t){return await this.provider.request({method:uS.zl.SIGN_MESSAGE,params:{data:e,from:t}})}async request(e){return await this.provider.request(e)}serializeTransaction(e){return e instanceof lS.Kt?dS.from(e.serialize()).toString("base64"):dS.from(e.serialize({requireAllSignatures:!1})).toString("base64")}}})(),a})());