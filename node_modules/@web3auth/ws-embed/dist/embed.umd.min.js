/*! For license information please see embed.umd.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Embed=t():e.Embed=t()}(self,()=>(()=>{var e={46:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise(function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}y(e,t,i,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,o)})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var o,i,s,u;if(a(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=c.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):p(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function o(i){n.once&&e.removeEventListener(t,o),r(i)})}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else{var u=l.length,c=p(l,u);for(r=0;r<u;++r)n(c[r],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,o,i,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},273:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},528:(e,t,r)=>{"use strict";var n,o=r(9629),i=r(9838),s=r(9110),a=r(1155),l=r(4943),u=r(5731),c=r(3468),f=r(2140),d=r(8479),h=r(830),p=r(8129),y=r(2387),g=r(5865),b=r(1319),w=r(6882),m=Function,v=function(e){try{return m('"use strict"; return ('+e+").constructor;")()}catch(e){}},_=r(9336),E=r(4940),S=function(){throw new c},A=_?function(){try{return S}catch(e){try{return _(arguments,"callee").get}catch(e){return S}}}():S,I=r(3558)(),R=r(6369),O=r(7345),T=r(7859),x=r(6095),N=r(4531),P={},L="undefined"!=typeof Uint8Array&&R?R(Uint8Array):n,B={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":I&&R?R([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":P,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&R?R(R([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&I&&R?R((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":o,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&I&&R?R((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&R?R(""[Symbol.iterator]()):n,"%Symbol%":I?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":A,"%TypedArray%":L,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":N,"%Function.prototype.apply%":x,"%Object.defineProperty%":E,"%Object.getPrototypeOf%":O,"%Math.abs%":d,"%Math.floor%":h,"%Math.max%":p,"%Math.min%":y,"%Math.pow%":g,"%Math.round%":b,"%Math.sign%":w,"%Reflect.getPrototypeOf%":T};if(R)try{null.error}catch(e){var C=R(R(e));B["%Error.prototype%"]=C}var k=function e(t){var r;if("%AsyncFunction%"===t)r=v("async function () {}");else if("%GeneratorFunction%"===t)r=v("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=v("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&R&&(r=R(o.prototype))}return B[t]=r,r},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},U=r(9138),M=r(8554),D=U.call(N,Array.prototype.concat),F=U.call(x,Array.prototype.splice),W=U.call(N,String.prototype.replace),$=U.call(N,String.prototype.slice),H=U.call(N,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,V=function(e,t){var r,n=e;if(M(j,n)&&(n="%"+(r=j[n])[0]+"%"),M(B,n)){var o=B[n];if(o===P&&(o=k(n)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=$(e,0,1),r=$(e,-1);if("%"===t&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return W(e,q,function(e,t,r,o){n[n.length]=r?W(o,G,"$1"):t||e}),n}(e),n=r.length>0?r[0]:"",o=V("%"+n+"%",t),i=o.name,s=o.value,a=!1,l=o.alias;l&&(n=l[0],F(r,D([0,1],l)));for(var f=1,d=!0;f<r.length;f+=1){var h=r[f],p=$(h,0,1),y=$(h,-1);if(('"'===p||"'"===p||"`"===p||'"'===y||"'"===y||"`"===y)&&p!==y)throw new u("property names with quotes must have matching quotes");if("constructor"!==h&&d||(a=!0),M(B,i="%"+(n+="."+h)+"%"))s=B[i];else if(null!=s){if(!(h in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(_&&f+1>=r.length){var g=_(s,h);s=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[h]}else d=M(s,h),s=s[h];d&&!a&&(B[i]=s)}}return s}},670:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:o}=r(273),{EventEmitter:i}=r(46);function s(e){i.call(this,e)}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}o(s.prototype,i.prototype),o(s,i),s.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",l),r.on("close",u));let s=!1;function l(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){f(),0===i.listenerCount(this,"error")&&this.emit("error",e)}function f(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",l),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return a(r,"error",c),a(e,"error",c),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e},e.exports={Stream:s,prependListener:a}},686:(e,t,r)=>{"use strict";var n=r(4940),o=r(5731),i=r(3468),s=r(9336);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],f=!!s&&s(e,t);if(n)n(e,t,{configurable:null===u&&f?f.configurable:!u,enumerable:null===a&&f?f.enumerable:!a,value:r,writable:null===l&&f?f.writable:!l});else{if(!c&&(a||l||u))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},789:(e,t,r)=>{"use strict";const n=r(9907),{ArrayPrototypeSlice:o,Error:i,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:a,ObjectDefineProperties:l,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:c,Symbol:f,SymbolHasInstance:d}=r(273);e.exports=C,C.WritableState=L;const{EventEmitter:h}=r(46),p=r(670).Stream,{Buffer:y}=r(1048),g=r(863),{addAbortSignal:b}=r(2682),{getHighWaterMark:w,getDefaultHighWaterMark:m}=r(7872),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:O,ERR_UNKNOWN_ENCODING:T}=r(1150).codes,{errorOrDestroy:x}=g;function N(){}u(C.prototype,p.prototype),u(C,p);const P=f("kOnFinished");function L(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(6631)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?w(this,e,"writableHighWaterMark",n):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const o=!(!e||!1!==e.decodeStrings);this.decodeStrings=!o,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=M.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,B(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[P]=[]}function B(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function C(e){const t=this instanceof r(6631);if(!t&&!s(C,this))return new C(e);this._writableState=new L(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&b(e.signal,this)),p.call(this,e),g.construct(this,()=>{const e=this._writableState;e.writing||$(this,e),q(this,e)})}function k(e,t,r,o){const i=e._writableState;if("function"==typeof r)o=r,r=i.defaultEncoding;else{if(r){if("buffer"!==r&&!y.isEncoding(r))throw new T(r)}else r=i.defaultEncoding;"function"!=typeof o&&(o=N)}if(null===t)throw new R;if(!i.objectMode)if("string"==typeof t)!1!==i.decodeStrings&&(t=y.from(t,r),r="buffer");else if(t instanceof y)r="buffer";else{if(!p._isUint8Array(t))throw new v("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),r="buffer"}let s;return i.ending?s=new O:i.destroyed&&(s=new A("write")),s?(n.nextTick(o,s),x(e,s,!0),s):(i.pendingcb++,function(e,t,r,n,o){const i=t.objectMode?1:r.length;t.length+=i;const s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:o}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&o!==N&&(t.allNoop=!1)):(t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,i,t,r,o))}function j(e,t,r,n,o,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new A("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function U(e,t,r,n){--t.pendingcb,n(r),W(t),x(e,r)}function M(e,t){const r=e._writableState,o=r.sync,i=r.writecb;"function"==typeof i?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),o?n.nextTick(U,e,r,t,i):U(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&$(e,r),o?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},n.nextTick(D,r.afterWriteTickInfo)):F(e,r,1,i))):x(e,new E)}function D({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,F(e,t,r,n)}function F(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&W(t),q(e,t)}function W(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:o}=e.buffered[r],i=e.objectMode?1:n.length;e.length-=i,o(null!==(t=e.errored)&&void 0!==t?t:new A("write"))}const r=e[P].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new A("end"))}B(e)}function $(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:i}=t,s=r.length-n;if(!s)return;let a=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;const n=t.allNoop?N:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},i=t.allNoop&&0===a?r:o(r,a);i.allBuffers=t.allBuffers,j(e,t,!0,t.length,i,"",n),B(t)}else{do{const{chunk:n,encoding:o,callback:s}=r[a];r[a++]=null,j(e,t,!1,i?1:n.length,n,o,s)}while(a<r.length&&!t.writing);a===r.length?B(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function H(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function q(e,t,r){H(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function o(o){if(r)x(e,null!=o?o:E());else if(r=!0,t.pendingcb--,o){const r=t[P].splice(0);for(let e=0;e<r.length;e++)r[e](o);x(e,o,t.sync)}else H(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(G,e,t))}t.sync=!0,t.pendingcb++;try{e._final(o)}catch(e){o(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick((e,t)=>{H(t)?G(e,t):t.pendingcb--},e,t)):H(t)&&(t.pendingcb++,G(e,t))))}function G(e,t){t.pendingcb--,t.finished=!0;const r=t[P].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}L.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},a(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(C,d,{__proto__:null,value:function(e){return!!s(this,e)||this===C&&e&&e._writableState instanceof L}}),C.prototype.pipe=function(){x(this,new S)},C.prototype.write=function(e,t,r){return!0===k(this,e,t,r)},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||$(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=c(e)),!y.isEncoding(e))throw new T(e);return this._writableState.defaultEncoding=e,this},C.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},C.prototype._writev=null,C.prototype.end=function(e,t,r){const o=this._writableState;let s;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=k(this,e,t);r instanceof i&&(s=r)}return o.corked&&(o.corked=1,this.uncork()),s||(o.errored||o.ending?o.finished?s=new I("end"):o.destroyed&&(s=new A("end")):(o.ending=!0,q(this,o,!0),o.ended=!0)),"function"==typeof r&&(s||o.finished?n.nextTick(r,s):o[P].push(r)),this},l(C.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const V=g.destroy;let z;function Y(){return void 0===z&&(z={}),z}C.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[P].length)&&n.nextTick(W,r),V.call(this,e,t),this},C.prototype._undestroy=g.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype[h.captureRejectionSymbol]=function(e){this.destroy(e)},C.fromWeb=function(e,t){return Y().newStreamWritableFromWritableStream(e,t)},C.toWeb=function(e){return Y().newWritableStreamFromStreamWritable(e)}},830:e=>{"use strict";e.exports=Math.floor},863:(e,t,r)=>{"use strict";const n=r(9907),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:s}=r(1150),{Symbol:a}=r(273),{kIsDestroyed:l,isDestroyed:u,isFinished:c,isServerRequest:f}=r(8104),d=a("kDestroy"),h=a("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function y(e,t,r){let o=!1;function i(t){if(o)return;o=!0;const i=e._readableState,s=e._writableState;p(t,s,i),s&&(s.closed=!0),i&&(i.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(g,e,t):n.nextTick(b,e)}try{e._destroy(t||null,i)}catch(t){i(t)}}function g(e,t){w(e,t),b(e)}function b(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function w(e,t){const r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function m(e,t,r){const o=e._readableState,i=e._writableState;if(null!=i&&i.destroyed||null!=o&&o.destroyed)return this;null!=o&&o.autoDestroy||null!=i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),o&&!o.errored&&(o.errored=t),r?n.nextTick(w,e,t):w(e,t))}function v(e){let t=!1;function r(r){if(t)return void m(e,null!=r?r:new i);t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(d,r):r?m(e,r,!0):n.nextTick(_,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function _(e){e.emit(h)}function E(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function S(e){e.emit("close")}function A(e,t){e.emit("error",t),n.nextTick(S,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,o=e._writableState;r&&(r.constructed=!1),o&&(o.constructed=!1),e.once(h,t),e.listenerCount(h)>1||n.nextTick(v,e)},destroyer:function(e,t){e&&!u(e)&&(t||c(e)||(t=new s),f(e)?(e.socket=null,e.destroy(t)):E(e)?e.abort():E(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(A,e,t):n.nextTick(S,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,i=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?y(this,e,t):this.once(d,function(r){y(this,o(r,e),t)}),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:m}},968:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},1048:(e,t,r)=>{"use strict";const n=r(7991),o=r(9318),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=a(r);const o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);const o=function(e){if(l.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return c(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(o)return n?-1:V(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,o){let i,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let n=-1;for(i=r;i<a;i++)if(u(e,i)===u(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===l)return n*s}else-1!==n&&(i-=i-n),n=-1}else for(r+l>a&&(r=a-l),i=r;i>=0;i--){let r=!0;for(let n=0;n<l;n++)if(u(e,i+n)!==u(t,n)){r=!1;break}if(r)return i}return-1}function v(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=t.length;let s;for(n>i/2&&(n=i/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Z(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return Y(V(t,e.length-r),e,r,n)}function E(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return Y(z(t),e,r,n)}function A(e,t,r,n){return Y(function(e,t){let r,n,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=r){let r,n,a,l;switch(s){case 1:t<128&&(i=t);break;case 2:r=e[o+1],128==(192&r)&&(l=(31&t)<<6|63&r,l>127&&(i=l));break;case 3:r=e[o+1],n=e[o+2],128==(192&r)&&128==(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:r=e[o+1],n=e[o+2],a=e[o+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},l.allocUnsafe=function(e){return f(e)},l.allocUnsafeSlow=function(e){return f(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=l.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(K(t,Uint8Array))o+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?R(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,o){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(i,s),u=this.slice(n,o),c=e.slice(t,r);for(let e=0;e<a;++e)if(u[e]!==c[e]){i=u[e],s=c[e];break}return i<s?-1:s<i?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function x(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function N(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=t;n<r;++n)o+=J[e[n]];return o}function P(e,t,r){const n=e.slice(t,r);let o="";for(let e=0;e<n.length-1;e+=2)o+=String.fromCharCode(n[e]+256*n[e+1]);return o}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,o){$(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function k(e,t,r,n,o){$(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function j(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,i){return t=+t,r>>>=0,i||j(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,i){return t=+t,r>>>=0,i||j(e,0,r,8),o.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=X(function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))}),l.prototype.readBigUInt64BE=X(function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)}),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=X(function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),l.prototype.readBigInt64BE=X(function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||B(this,e,t,r,Math.pow(2,8*r)-1,0);let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||B(this,e,t,r,Math.pow(2,8*r)-1,0);let o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=X(function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=X(function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let o=0,i=1,s=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let o=r-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=X(function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=X(function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{const i=l.isBuffer(e)?e:l.from(e,n),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=i[o%s]}return this};const D={};function F(e,t,r){D[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function $(e,t,r,n,o,i){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||q(t,e.length-(r+1))}(n,o,i)}function H(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,r){if(Math.floor(e)!==e)throw H(e,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),F("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),F("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=W(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=W(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n},RangeError);const G=/[^+/0-9A-Za-z-_]/g;function V(e,t){let r;t=t||1/0;const n=e.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},1150:(e,t,r)=>{"use strict";const{format:n,inspect:o}=r(1158),{AggregateError:i}=r(273),s=globalThis.AggregateError||i,a=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,c={};function f(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function d(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function h(e,t,r){r||(r=Error);class o extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return f(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const o=(t.match(/%[dfijoOs]/g)||[]).length;return f(o===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${o}).`),0===r.length?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(o.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),o.prototype.code=e,o.prototype[a]=!0,c[e]=o}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class y extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(e,t,r)=>{f("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const i=[],s=[],a=[];for(const e of t)f("string"==typeof e,"All expected entries have to be of type string"),l.includes(e)?i.push(e.toLowerCase()):u.test(e)?s.push(e):(f("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(s.length>0){const e=i.indexOf("object");-1!==e&&(i.splice(i,e,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{const e=i.pop();n+=`one of type ${i.join(", ")}, or ${e}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`an instance of ${s.join(", ")}, or ${e}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`one of ${a.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var c;null!==(c=r.constructor)&&void 0!==c&&c.name?n+=`. Received an instance of ${r.constructor.name}`:n+=`. Received ${o(r,{depth:-1})}`}else{let e=o(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),h("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=o(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`},TypeError),h("ERR_MISSING_ARGS",(...e)=>{let t;f(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(f(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)n=d(String(r));else if("bigint"==typeof r){n=String(r);const e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=d(n)),n+="n"}else n=o(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:y,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new s([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:p,codes:c}},1155:e=>{"use strict";e.exports=RangeError},1158:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){const n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},1292:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},1319:e=>{"use strict";e.exports=Math.round},1822:(e,t,r)=>{var n=r(9907),o=r(3358),i=function(){},s=r.g.Bare?queueMicrotask:n.nextTick.bind(n),a=function(e,t,r){if("function"==typeof t)return a(e,null,t);t||(t={}),r=o(r||i);var n=e._writableState,l=e._readableState,u=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,f=!1,d=function(){e.writable||h()},h=function(){c=!1,u||r.call(e)},p=function(){u=!1,c||r.call(e)},y=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){r.call(e,t)},b=function(){s(w)},w=function(){if(!f)return(!u||l&&l.ended&&!l.destroyed)&&(!c||n&&n.ended&&!n.destroyed)?void 0:r.call(e,new Error("premature close"))},m=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",b),e.req?m():e.on("request",m)):c&&!n&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",y),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",g),e.on("close",b),function(){f=!0,e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",m),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",y),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",b)}};e.exports=a},2012:(e,t,r)=>{"use strict";var n=r(9138),o=r(6095),i=r(8165);e.exports=function(){return i(n,o,arguments)}},2140:e=>{"use strict";e.exports=URIError},2387:e=>{"use strict";e.exports=Math.min},2422:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},2549:(e,t,r)=>{"use strict";const n=r(9907),{AbortError:o,codes:i}=r(1150),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=i,{kEmptyObject:l,once:u}=r(8449),{validateAbortSignal:c,validateFunction:f,validateObject:d,validateBoolean:h}=r(8080),{Promise:p,PromisePrototypeThen:y,SymbolDispose:g}=r(273),{isClosed:b,isReadable:w,isReadableNodeStream:m,isReadableStream:v,isReadableFinished:_,isReadableErrored:E,isWritable:S,isWritableNodeStream:A,isWritableStream:I,isWritableFinished:R,isWritableErrored:O,isNodeStream:T,willEmitClose:x,kIsClosedPromise:N}=r(8104);let P;const L=()=>{};function B(e,t,i){var h,p;if(2===arguments.length?(i=t,t=l):null==t?t=l:d(t,"options"),f(i,"callback"),c(t.signal,"options.signal"),i=u(i),v(e)||I(e))return function(e,t,i){let s=!1,a=L;if(t.signal)if(a=()=>{s=!0,i.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(a);else{P=P||r(8449).addAbortListener;const n=P(t.signal,a),o=i;i=u((...t)=>{n[g](),o.apply(e,t)})}const l=(...t)=>{s||n.nextTick(()=>i.apply(e,t))};return y(e[N].promise,l,l),L}(e,t,i);if(!T(e))throw new s("stream",["ReadableStream","WritableStream","Stream"],e);const B=null!==(h=t.readable)&&void 0!==h?h:m(e),C=null!==(p=t.writable)&&void 0!==p?p:A(e),k=e._writableState,j=e._readableState,U=()=>{e.writable||F()};let M=x(e)&&m(e)===B&&A(e)===C,D=R(e,!1);const F=()=>{D=!0,e.destroyed&&(M=!1),(!M||e.readable&&!B)&&(B&&!W||i.call(e))};let W=_(e,!1);const $=()=>{W=!0,e.destroyed&&(M=!1),(!M||e.writable&&!C)&&(C&&!D||i.call(e))},H=t=>{i.call(e,t)};let q=b(e);const G=()=>{q=!0;const t=O(e)||E(e);return t&&"boolean"!=typeof t?i.call(e,t):B&&!W&&m(e,!0)&&!_(e,!1)?i.call(e,new a):!C||D||R(e,!1)?void i.call(e):i.call(e,new a)},V=()=>{q=!0;const t=O(e)||E(e);if(t&&"boolean"!=typeof t)return i.call(e,t);i.call(e)},z=()=>{e.req.on("finish",F)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?C&&!k&&(e.on("end",U),e.on("close",U)):(e.on("complete",F),M||e.on("abort",G),e.req?z():e.on("request",z)),M||"boolean"!=typeof e.aborted||e.on("aborted",G),e.on("end",$),e.on("finish",F),!1!==t.error&&e.on("error",H),e.on("close",G),q?n.nextTick(G):null!=k&&k.errorEmitted||null!=j&&j.errorEmitted?M||n.nextTick(V):(B||M&&!w(e)||!D&&!1!==S(e))&&(C||M&&!S(e)||!W&&!1!==w(e))?j&&e.req&&e.aborted&&n.nextTick(V):n.nextTick(V);const Y=()=>{i=L,e.removeListener("aborted",G),e.removeListener("complete",F),e.removeListener("abort",G),e.removeListener("request",z),e.req&&e.req.removeListener("finish",F),e.removeListener("end",U),e.removeListener("close",U),e.removeListener("finish",F),e.removeListener("end",$),e.removeListener("error",H),e.removeListener("close",G)};if(t.signal&&!q){const s=()=>{const r=i;Y(),r.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(s);else{P=P||r(8449).addAbortListener;const n=P(t.signal,s),o=i;i=u((...t)=>{n[g](),o.apply(e,t)})}}return Y}e.exports=B,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=l),null!==(r=t)&&void 0!==r&&r.cleanup&&(h(t.cleanup,"cleanup"),n=t.cleanup),new p((r,o)=>{const i=B(e,t,e=>{n&&i(),e?o(e):r()})})}},2682:(e,t,r)=>{"use strict";const{SymbolDispose:n}=r(273),{AbortError:o,codes:i}=r(1150),{isNodeStream:s,isWebStream:a,kControllerErrorFunction:l}=r(8104),u=r(2549),{ERR_INVALID_ARG_TYPE:c}=i;let f;e.exports.addAbortSignal=function(t,r){if((e=>{if("object"!=typeof e||!("aborted"in e))throw new c("signal","AbortSignal",e)})(t),!s(r)&&!a(r))throw new c("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const i=s(t)?()=>{t.destroy(new o(void 0,{cause:e.reason}))}:()=>{t[l](new o(void 0,{cause:e.reason}))};if(e.aborted)i();else{f=f||r(8449).addAbortListener;const o=f(e,i);u(t,o[n])}return t}},2720:(e,t,r)=>{var n,o=r(9907),i=r(3358),s=r(1822);try{n=r(9467)}catch(e){}var a=function(){},l=void 0!==o&&/^v?\.0/.test(o.version),u=function(e){return"function"==typeof e},c=function(e){e()},f=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=u(t[t.length-1]||a)&&t.pop()||a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var o=t.map(function(f,d){var h=d<t.length-1;return function(e,t,r,o){o=i(o);var c=!1;e.on("close",function(){c=!0}),s(e,{readable:t,writable:r},function(e){if(e)return o(e);c=!0,o()});var f=!1;return function(t){if(!c&&!f)return f=!0,function(e){return!!l&&!!n&&(e instanceof(n.ReadStream||a)||e instanceof(n.WriteStream||a))&&u(e.close)}(e)?e.close(a):function(e){return e.setHeader&&u(e.abort)}(e)?e.abort():u(e.destroy)?e.destroy():void o(t||new Error("stream was destroyed"))}}(f,h,d>0,function(t){e||(e=t),t&&o.forEach(c),h||(o.forEach(c),r(e))})});return t.reduce(f)}},2908:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},3273:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n,Symbol:o}=r(273);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:i}=r(1150).codes,s=r(6631),{getHighWaterMark:a}=r(7872);n(u.prototype,s.prototype),n(u,s);const l=o("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function c(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())})}function f(){this._final!==c&&c.call(this)}u.prototype._final=c,u.prototype._transform=function(e,t,r){throw new i("_transform()")},u.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,i=n.length;this._transform(e,t,(e,t)=>{e?r(e):(null!=t&&this.push(t),o.ended||i===n.length||n.length<n.highWaterMark?r():this[l]=r)})},u.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},3358:(e,t,r)=>{var n=r(7086);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(i),o.proto=o(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},3468:e=>{"use strict";e.exports=TypeError},3558:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(2908);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},3625:(e,t,r)=>{"use strict";const n=r(4041),o=r(6970),i=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=i,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>o}),e.exports.Stream=n.Stream,e.exports.default=e.exports},4041:(e,t,r)=>{"use strict";const{Buffer:n}=r(1048),{ObjectDefineProperty:o,ObjectKeys:i,ReflectApply:s}=r(273),{promisify:{custom:a}}=r(8449),{streamReturningOperators:l,promiseReturningOperators:u}=r(8484),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=r(1150),f=r(6009),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:h}=r(7872),{pipeline:p}=r(7103),{destroyer:y}=r(863),g=r(2549),b=r(6970),w=r(8104),m=e.exports=r(670).Stream;m.isDestroyed=w.isDestroyed,m.isDisturbed=w.isDisturbed,m.isErrored=w.isErrored,m.isReadable=w.isReadable,m.isWritable=w.isWritable,m.Readable=r(9333);for(const _ of i(l)){const E=l[_];function S(...e){if(new.target)throw c();return m.Readable.from(s(E,this,e))}o(S,"name",{__proto__:null,value:E.name}),o(S,"length",{__proto__:null,value:E.length}),o(m.Readable.prototype,_,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const A of i(u)){const I=u[A];function R(...e){if(new.target)throw c();return s(I,this,e)}o(R,"name",{__proto__:null,value:I.name}),o(R,"length",{__proto__:null,value:I.length}),o(m.Readable.prototype,A,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}m.Writable=r(789),m.Duplex=r(6631),m.Transform=r(3273),m.PassThrough=r(5691),m.pipeline=p;const{addAbortSignal:v}=r(2682);m.addAbortSignal=v,m.finished=g,m.destroy=y,m.compose=f,m.setDefaultHighWaterMark=d,m.getDefaultHighWaterMark=h,o(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),o(p,a,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),o(g,a,{__proto__:null,enumerable:!0,get:()=>b.finished}),m.Stream=m,m._isUint8Array=function(e){return e instanceof Uint8Array},m._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},4531:e=>{"use strict";e.exports=Function.prototype.call},4607:(e,t,r)=>{"use strict";var n=r(528),o=r(9903),i=o([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o([r]):r}},4940:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},4943:e=>{"use strict";e.exports=ReferenceError},5172:(e,t,r)=>{"use strict";var n=("undefined"!=typeof JSON?JSON:r(6998)).stringify,o=r(6815),i=r(9228),s=r(8498),a=r(4607),l=a("Array.prototype.join"),u=a("Array.prototype.indexOf"),c=a("Array.prototype.splice"),f=a("Array.prototype.sort"),d=function(e,t){for(var r="",n=0;n<e;n+=1)r+=t;return r},h=function(e,t,r){return r};e.exports=function(e){var t=arguments.length>1?arguments[1]:void 0,r=t&&t.space||"";"number"==typeof r&&(r=d(r," "));var a=!!t&&"boolean"==typeof t.cycles&&t.cycles,p=t&&t.replacer?s(t.replacer):h;if(t&&void 0!==t.collapseEmpty&&"boolean"!=typeof t.collapseEmpty)throw new TypeError("`collapseEmpty` must be a boolean, if provided");var y=!!t&&t.collapseEmpty,g="function"==typeof t?t:t&&t.cmp,b=g&&function(e){var t=g.length>2&&function(t){return e[t]};return function(r,n){return g({key:r,value:e[r]},{key:n,value:e[n]},t?{__proto__:null,get:t}:void 0)}},w=[];return function e(t,s,h,g){var m=r?"\n"+d(g,r):"",v=r?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),void 0!==(h=p(t,s,h))){if("object"!=typeof h||null===h)return n(h);var _=function(e,t){return y&&0===e.length?t:("[]"===t?"[":"{")+l(e,",")+m+("[]"===t?"]":"}")};if(o(h)){for(var E=[],S=0;S<h.length;S++){var A=e(h,S,h[S],g+1)||n(null);E[E.length]=m+r+A}return _(E,"[]")}if(-1!==u(w,h)){if(a)return n("__cycle__");throw new TypeError("Converting circular structure to JSON")}w[w.length]=h;var I=f(i(h),b&&b(h));for(E=[],S=0;S<I.length;S++){var R=e(h,s=I[S],h[s],g+1);if(R){var O=n(s)+v+R;E[E.length]=m+r+O}}return c(w,u(w,h),1),_(E,"{}")}}({"":e},"",e,0)}},5636:(e,t,r)=>{var n=r(1048),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},5691:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n}=r(273);e.exports=i;const o=r(3273);function i(e){if(!(this instanceof i))return new i(e);o.call(this,e)}n(i.prototype,o.prototype),n(i,o),i.prototype._transform=function(e,t,r){r(null,e)}},5731:e=>{"use strict";e.exports=SyntaxError},5865:e=>{"use strict";e.exports=Math.pow},5880:function(e,t,r){var n,o;!function(){"use strict";n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],o={},i=null;function s(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(){for(var r=this.getLevel(),o=0;o<n.length;o++){var i=n[o];this[i]=o<r?e:this.methodFactory(i,r,this.name)}if(this.log=this.debug,typeof console===t&&r<this.levels.SILENT)return"No console available for logging"}function u(e){return function(){typeof console!==t&&(l.call(this),this[e].apply(this,arguments))}}function c(n,o,i){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?a:void 0!==console[n]?s(console,n):void 0!==console.log?s(console,"log"):e)}(n)||u.apply(this,arguments)}function f(e,r){var s,a,u,f=this,d="loglevel";function h(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=encodeURIComponent(d),o=r.indexOf(n+"=");-1!==o&&(e=/^([^;]+)/.exec(r.slice(o+n.length+1))[1])}catch(e){}return void 0===f.levels[e]&&(e=void 0),e}}function p(e){var t=e;if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=f.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),f.name=e,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=r||c,f.getLevel=function(){return null!=u?u:null!=a?a:s},f.setLevel=function(e,r){return u=p(e),!1!==r&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+r+";"}catch(e){}}}(u),l.call(f)},f.setDefaultLevel=function(e){a=p(e),h()||f.setLevel(e,!1)},f.resetLevel=function(){u=null,function(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),l.call(f)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)},f.rebuild=function(){if(i!==f&&(s=p(i.getLevel())),l.call(f),i===f)for(var e in o)o[e].rebuild()},s=p(i?i.getLevel():"WARN");var y=h();null!=y&&(u=p(y)),l.call(f)}(i=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new f(e,i.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=d),i},i.getLoggers=function(){return o},i.default=i,i},void 0===(o=n.call(t,r,t,e))||(e.exports=o)}()},6009:(e,t,r)=>{"use strict";const{pipeline:n}=r(7103),o=r(6631),{destroyer:i}=r(863),{isNodeStream:s,isReadable:a,isWritable:l,isWebStream:u,isTransformStream:c,isWritableStream:f,isReadableStream:d}=r(8104),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:y}}=r(1150),g=r(2549);e.exports=function(...e){if(0===e.length)throw new y("streams");if(1===e.length)return o.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=o.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=o.from(e[t])}for(let r=0;r<e.length;++r)if(s(e[r])||u(e[r])){if(r<e.length-1&&!(a(e[r])||d(e[r])||c(e[r])))throw new p(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(l(e[r])||f(e[r])||c(e[r])))throw new p(`streams[${r}]`,t[r],"must be writable")}let r,b,w,m,v;const _=e[0],E=n(e,function(e){const t=m;m=null,t?t(e):e?v.destroy(e):A||S||v.destroy()}),S=!!(l(_)||f(_)||c(_)),A=!!(a(E)||d(E)||c(E));if(v=new o({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==E||!E.readableObjectMode),writable:S,readable:A}),S){if(s(_))v._write=function(e,t,n){_.write(e,t)?n():r=n},v._final=function(e){_.end(),b=e},_.on("drain",function(){if(r){const e=r;r=null,e()}});else if(u(_)){const e=(c(_)?_.writable:_).getWriter();v._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},v._final=async function(t){try{await e.ready,e.close().catch(()=>{}),b=t}catch(e){t(e)}}}const e=c(E)?E.readable:E;g(e,()=>{if(b){const e=b;b=null,e()}})}if(A)if(s(E))E.on("readable",function(){if(w){const e=w;w=null,e()}}),E.on("end",function(){v.push(null)}),v._read=function(){for(;;){const e=E.read();if(null===e)return void(w=v._read);if(!v.push(e))return}};else if(u(E)){const e=(c(E)?E.readable:E).getReader();v._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!v.push(t))return;if(r)return void v.push(null)}catch{return}}}return v._destroy=function(e,t){e||null===m||(e=new h),w=null,r=null,b=null,null===m?t(e):(m=t,s(E)&&i(E,e))},v}},6095:e=>{"use strict";e.exports=Function.prototype.apply},6108:(e,t,r)=>{"use strict";var n=r(528),o=r(686),i=r(7239)(),s=r(9336),a=r(3468),l=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in e&&s){var c=s(e,"length");c&&!c.configurable&&(n=!1),c&&!c.writable&&(u=!1)}return(n||u||!r)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},6369:(e,t,r)=>{"use strict";var n=r(7859),o=r(7345),i=r(6423);e.exports=n?function(e){return n(e)}:o?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return o(e)}:i?function(e){return i(e)}:null},6423:(e,t,r)=>{"use strict";var n,o=r(9903),i=r(9336);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var s=!!n&&i&&i(Object.prototype,"__proto__"),a=Object,l=a.getPrototypeOf;e.exports=s&&"function"==typeof s.get?o([s.get]):"function"==typeof l&&function(e){return l(null==e?e:a(e))}},6631:(e,t,r)=>{"use strict";const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:i,ObjectSetPrototypeOf:s}=r(273);e.exports=u;const a=r(9333),l=r(789);s(u.prototype,a.prototype),s(u,a);{const e=i(l.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=l.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,f;function d(){return void 0===c&&(c={}),c}n(u.prototype,{writable:{__proto__:null,...o(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(l.prototype,"writableLength")},writableFinished:{__proto__:null,...o(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return d().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return d().newReadableWritablePairFromDuplex(e)},u.from=function(e){return f||(f=r(6821)),f(e,"body")}},6815:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},6821:(e,t,r)=>{const n=r(9907),o=r(1048),{isReadable:i,isWritable:s,isIterable:a,isNodeStream:l,isReadableNodeStream:u,isWritableNodeStream:c,isDuplexNodeStream:f,isReadableStream:d,isWritableStream:h}=r(8104),p=r(2549),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:b}}=r(1150),{destroyer:w}=r(863),m=r(6631),v=r(9333),_=r(789),{createDeferredPromise:E}=r(8449),S=r(7533),A=globalThis.Blob||o.Blob,I=void 0!==A?function(e){return e instanceof A}:function(e){return!1},R=globalThis.AbortController||r(7083).AbortController,{FunctionPrototypeCall:O}=r(273);class T extends m{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function x(e){const t=e.readable&&"function"!=typeof e.readable.read?v.wrap(e.readable):e.readable,r=e.writable;let n,o,a,l,u,c=!!i(t),f=!!s(r);function d(e){const t=l;l=null,t?t(e):e&&u.destroy(e)}return u=new T({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:c,writable:f}),f&&(p(r,e=>{f=!1,e&&w(t,e),d(e)}),u._write=function(e,t,o){r.write(e,t)?o():n=o},u._final=function(e){r.end(),o=e},r.on("drain",function(){if(n){const e=n;n=null,e()}}),r.on("finish",function(){if(o){const e=o;o=null,e()}})),c&&(p(t,e=>{c=!1,e&&w(t,e),d(e)}),t.on("readable",function(){if(a){const e=a;a=null,e()}}),t.on("end",function(){u.push(null)}),u._read=function(){for(;;){const e=t.read();if(null===e)return void(a=u._read);if(!u.push(e))return}}),u._destroy=function(e,i){e||null===l||(e=new y),a=null,n=null,o=null,null===l?i(e):(l=i,w(r,e),w(t,e))},u}e.exports=function e(t,r){if(f(t))return t;if(u(t))return x({readable:t});if(c(t))return x({writable:t});if(l(t))return x({writable:!1,readable:!1});if(d(t))return x({readable:v.fromWeb(t)});if(h(t))return x({writable:_.fromWeb(t)});if("function"==typeof t){const{value:e,write:o,final:i,destroy:s}=function(e){let{promise:t,resolve:r}=E();const o=new R,i=o.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:o,done:s,cb:a}=await e;if(n.nextTick(a),s)return;if(i.aborted)throw new y(void 0,{cause:i.reason});({promise:t,resolve:r}=E()),yield o}}(),{signal:i}),write(e,t,n){const o=r;r=null,o({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){o.abort(),t(e)}}}(t);if(a(e))return S(T,e,{objectMode:!0,write:o,final:i,destroy:s});const l=null==e?void 0:e.then;if("function"==typeof l){let t;const r=O(l,e,e=>{if(null!=e)throw new b("nully","body",e)},e=>{w(t,e)});return t=new T({objectMode:!0,readable:!1,write:o,final(e){i(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:s})}throw new b("Iterable, AsyncIterable or AsyncFunction",r,e)}if(I(t))return e(t.arrayBuffer());if(a(t))return S(T,t,{objectMode:!0,writable:!1});if(d(null==t?void 0:t.readable)&&h(null==t?void 0:t.writable))return T.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return x({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?c(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const o=null==t?void 0:t.then;if("function"==typeof o){let e;return O(o,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{w(e,t)}),e=new T({objectMode:!0,writable:!1,read(){}})}throw new g(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},6882:(e,t,r)=>{"use strict";var n=r(2422);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},6921:e=>{"use strict";var t,r,n,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e){throw{name:"SyntaxError",message:e,at:t,text:n}}function s(e){return e&&e!==r&&i("Expected '"+e+"' instead of '"+r+"'"),r=n.charAt(t),t+=1,r}function a(){var e,t="";for("-"===r&&(t="-",s("-"));r>="0"&&r<="9";)t+=r,s();if("."===r)for(t+=".";s()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,s(),"-"!==r&&"+"!==r||(t+=r,s());r>="0"&&r<="9";)t+=r,s();return e=Number(t),isFinite(e)||i("Bad number"),e}function l(){var e,t,n,a="";if('"'===r)for(;s();){if('"'===r)return s(),a;if("\\"===r)if(s(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(s(),16),isFinite(e));t+=1)n=16*n+e;a+=String.fromCharCode(n)}else{if("string"!=typeof o[r])break;a+=o[r]}else a+=r}i("Bad string")}function u(){for(;r&&r<=" ";)s()}function c(){switch(u(),r){case"{":return function(){var e,t={};if("{"===r){if(s("{"),u(),"}"===r)return s("}"),t;for(;r;){if(e=l(),u(),s(":"),Object.prototype.hasOwnProperty.call(t,e)&&i('Duplicate key "'+e+'"'),t[e]=c(),u(),"}"===r)return s("}"),t;s(","),u()}}i("Bad object")}();case"[":return function(){var e=[];if("["===r){if(s("["),u(),"]"===r)return s("]"),e;for(;r;){if(e.push(c()),u(),"]"===r)return s("]"),e;s(","),u()}}i("Bad array")}();case'"':return l();case"-":return a();default:return r>="0"&&r<="9"?a():function(){switch(r){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null;default:i("Unexpected '"+r+"'")}}()}}e.exports=function(e,o){var s;return n=e,t=0,r=" ",s=c(),u(),r&&i("Syntax error"),"function"==typeof o?function e(t,r){var n,i,s=t[r];if(s&&"object"==typeof s)for(n in c)Object.prototype.hasOwnProperty.call(s,n)&&(void 0===(i=e(s,n))?delete s[n]:s[n]=i);return o.call(t,r,s)}({"":s},""):s}},6970:(e,t,r)=>{"use strict";const{ArrayPrototypePop:n,Promise:o}=r(273),{isIterable:i,isNodeStream:s,isWebStream:a}=r(8104),{pipelineImpl:l}=r(7103),{finished:u}=r(2549);r(4041),e.exports={finished:u,pipeline:function(...e){return new o((t,r)=>{let o,u;const c=e[e.length-1];if(c&&"object"==typeof c&&!s(c)&&!i(c)&&!a(c)){const t=n(e);o=t.signal,u=t.end}l(e,(e,n)=>{e?r(e):t(n)},{signal:o,end:u})})}}},6998:(e,t,r)=>{"use strict";t.parse=r(6921),t.stringify=r(9191)},7083:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},7086:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){n[e]=t[e]}),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach(function(e){n[e]=o[e]}),n}}},7103:(e,t,r)=>{const n=r(9907),{ArrayIsArray:o,Promise:i,SymbolAsyncIterator:s,SymbolDispose:a}=r(273),l=r(2549),{once:u}=r(8449),c=r(863),f=r(6631),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:y,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:w}=r(1150),{validateFunction:m,validateAbortSignal:v}=r(8080),{isIterable:_,isReadable:E,isReadableNodeStream:S,isNodeStream:A,isTransformStream:I,isWebStream:R,isReadableStream:O,isReadableFinished:T}=r(8104),x=globalThis.AbortController||r(7083).AbortController;let N,P,L;function B(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,c.destroyer(e,t||new g("pipe")))},cleanup:l(e,{readable:t,writable:r},e=>{n=!e})}}function C(e){if(_(e))return e;if(S(e))return async function*(e){P||(P=r(9333)),yield*P.prototype[s].call(e)}(e);throw new h("val",["Readable","Iterable","AsyncIterable"],e)}async function k(e,t,r,{end:n}){let o,s=null;const a=e=>{if(e&&(o=e),s){const e=s;s=null,e()}},u=()=>new i((e,t)=>{o?t(o):s=()=>{o?t(o):e()}});t.on("drain",a);const c=l(t,{readable:!1},a);try{t.writableNeedDrain&&await u();for await(const r of e)t.write(r)||await u();n&&(t.end(),await u()),r()}catch(e){r(o!==e?d(o,e):e)}finally{c(),t.off("drain",a)}}async function j(e,t,r,{end:n}){I(t)&&(t=t.writable);const o=t.getWriter();try{for await(const t of e)await o.ready,o.write(t).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(e){try{await o.abort(e),r(e)}catch(e){r(e)}}}function U(e,t,i){if(1===e.length&&o(e[0])&&(e=e[0]),e.length<2)throw new y("streams");const s=new x,l=s.signal,u=null==i?void 0:i.signal,c=[];function d(){F(new w)}let g,b,m;v(u,"options.signal"),L=L||r(8449).addAbortListener,u&&(g=L(u,d));const T=[];let P,U=0;function D(e){F(e,0===--U)}function F(e,r){var o;if(!e||b&&"ERR_STREAM_PREMATURE_CLOSE"!==b.code||(b=e),b||r){for(;T.length;)T.shift()(b);null===(o=g)||void 0===o||o[a](),s.abort(),r&&(b||c.forEach(e=>e()),n.nextTick(t,b,m))}}for(let q=0;q<e.length;q++){const G=e[q],V=q<e.length-1,z=q>0,Y=V||!1!==(null==i?void 0:i.end),K=q===e.length-1;if(A(G)){if(Y){const{destroy:Z,cleanup:J}=B(G,V,z);T.push(Z),E(G)&&K&&c.push(J)}function W(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&D(e)}G.on("error",W),E(G)&&K&&c.push(()=>{G.removeListener("error",W)})}if(0===q)if("function"==typeof G){if(P=G({signal:l}),!_(P))throw new p("Iterable, AsyncIterable or Stream","source",P)}else P=_(G)||S(G)||I(G)?G:f.from(G);else if("function"==typeof G){var $;if(P=I(P)?C(null===($=P)||void 0===$?void 0:$.readable):C(P),P=G(P,{signal:l}),V){if(!_(P,!0))throw new p("AsyncIterable",`transform[${q-1}]`,P)}else{var H;N||(N=r(5691));const X=new N({objectMode:!0}),Q=null===(H=P)||void 0===H?void 0:H.then;if("function"==typeof Q)U++,Q.call(P,e=>{m=e,null!=e&&X.write(e),Y&&X.end(),n.nextTick(D)},e=>{X.destroy(e),n.nextTick(D,e)});else if(_(P,!0))U++,k(P,X,D,{end:Y});else{if(!O(P)&&!I(P))throw new p("AsyncIterable or Promise","destination",P);{const re=P.readable||P;U++,k(re,X,D,{end:Y})}}P=X;const{destroy:ee,cleanup:te}=B(P,!1,!0);T.push(ee),K&&c.push(te)}}else if(A(G)){if(S(P)){U+=2;const ne=M(P,G,D,{end:Y});E(G)&&K&&c.push(ne)}else if(I(P)||O(P)){const oe=P.readable||P;U++,k(oe,G,D,{end:Y})}else{if(!_(P))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],P);U++,k(P,G,D,{end:Y})}P=G}else if(R(G)){if(S(P))U++,j(C(P),G,D,{end:Y});else if(O(P)||_(P))U++,j(P,G,D,{end:Y});else{if(!I(P))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],P);U++,j(P.readable,G,D,{end:Y})}P=G}else P=f.from(G)}return(null!=l&&l.aborted||null!=u&&u.aborted)&&n.nextTick(d),P}function M(e,t,r,{end:o}){let i=!1;if(t.on("close",()=>{i||r(new b)}),e.pipe(t,{end:!1}),o){function s(){i=!0,t.end()}T(e)?n.nextTick(s):e.once("end",s)}else r();return l(e,{readable:!0,writable:!1},t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),l(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:U,pipeline:function(...e){return U(e,u(function(e){return m(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},7196:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},7239:(e,t,r)=>{"use strict";var n=r(4940),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},7345:(e,t,r)=>{"use strict";var n=r(9629);e.exports=n.getPrototypeOf||null},7533:(e,t,r)=>{"use strict";const n=r(9907),{PromisePrototypeThen:o,SymbolAsyncIterator:i,SymbolIterator:s}=r(273),{Buffer:a}=r(1048),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:u}=r(1150).codes;e.exports=function(e,t,r){let c,f;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[i])f=!0,c=t[i]();else{if(!t||!t[s])throw new l("iterable",["Iterable"],t);f=!1,c=t[s]()}const d=new e({objectMode:!0,highWaterMark:1,...r});let h=!1;return d._read=function(){h||(h=!0,async function(){for(;;){try{const{value:e,done:t}=f?await c.next():c.next();if(t)d.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw h=!1,new u;if(d.push(t))continue;h=!1}}catch(e){d.destroy(e)}break}}())},d._destroy=function(e,t){o(async function(e){const t=null!=e,r="function"==typeof c.throw;if(t&&r){const{value:t,done:r}=await c.throw(e);if(await t,r)return}if("function"==typeof c.return){const{value:e}=await c.return();await e}}(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},d}},7859:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},7872:(e,t,r)=>{"use strict";const{MathFloor:n,NumberIsInteger:o}=r(273),{validateInteger:i}=r(8080),{ERR_INVALID_ARG_VALUE:s}=r(1150).codes;let a=16384,l=16;function u(e){return e?l:a}e.exports={getHighWaterMark:function(e,t,r,i){const a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=a){if(!o(a)||a<0)throw new s(i?`options.${r}`:"options.highWaterMark",a);return n(a)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){i(t,"value",0),e?l=t:a=t}}},7991:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,i=a(e),s=i[0],l=i[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,l)),c=0,f=l>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===l&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===l&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=16383,a=0,l=n-o;a<l;a+=s)i.push(u(e,a,a+s>l?l:a+s));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=i[s],n[i.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function u(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(l(n));return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8080:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:i,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:c,NumberParseInt:f,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:y,StringPrototypeTrim:g}=r(273),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:E}}=r(1150),{normalizeEncoding:S}=r(8449),{isAsyncFunction:A,isArrayBufferView:I}=r(8449).types,R={},O=/^[0-7]+$/,T=b((e,t,r=c,n=u)=>{if("number"!=typeof e)throw new m(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),x=b((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new m(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),N=b((e,t,r=!1)=>{if("number"!=typeof e)throw new m(t,"number",e);if(!a(e))throw new _(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new _(t,`>= ${n} && <= ${o}`,e)});function P(e,t){if("string"!=typeof e)throw new m(t,"string",e)}const L=b((e,t,r)=>{if(!o(r,e)){const n=i(s(r,e=>"string"==typeof e?`'${e}'`:p(e)),", ");throw new v(t,e,"must be one of: "+n)}});function B(e,t){if("boolean"!=typeof e)throw new m(t,"boolean",e)}function C(e,t,r){return null!=e&&d(e,t)?e[t]:r}const k=b((e,t,r=null)=>{const o=C(r,"allowArray",!1),i=C(r,"allowFunction",!1);if(!C(r,"nullable",!1)&&null===e||!o&&n(e)||"object"!=typeof e&&(!i||"function"!=typeof e))throw new m(t,"Object",e)}),j=b((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new m(t,"a dictionary",e)}),U=b((e,t,r=0)=>{if(!n(e))throw new m(t,"Array",e);if(e.length<r)throw new v(t,e,`must be longer than ${r}`)}),M=b((e,t="buffer")=>{if(!I(e))throw new m(t,["Buffer","TypedArray","DataView"],e)}),D=b((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new m(t,"AbortSignal",e)}),F=b((e,t)=>{if("function"!=typeof e)throw new m(t,"Function",e)}),W=b((e,t)=>{if("function"!=typeof e||A(e))throw new m(t,"Function",e)}),$=b((e,t)=>{if(void 0!==e)throw new m(t,"undefined",e)}),H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function q(e,t){if(void 0===e||!h(H,e))throw new v(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===h(O,e))throw new v(t,e,"must be a 32-bit unsigned integer or an octal string");e=f(e,8)}return N(e,t),e},validateArray:U,validateStringArray:function(e,t){U(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){U(e,t);for(let r=0;r<e.length;r++)B(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){U(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(null==n)throw new m(o,"AbortSignal",n);D(n,o)}},validateBoolean:B,validateBuffer:M,validateDictionary:j,validateEncoding:function(e,t){const r=S(t),n=e.length;if("hex"===r&&n%2!=0)throw new v("encoding",t,`is invalid for data of length ${n}`)},validateFunction:F,validateInt32:x,validateInteger:T,validateNumber:function(e,t,r=void 0,n){if("number"!=typeof e)throw new m(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&l(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:k,validateOneOf:L,validatePlainFunction:W,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new w(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(P(e,t),void 0===R[e]){if(void 0!==R[y(e)])throw new E(e+" (signals must use all capital letters)");throw new E(e)}},validateString:P,validateUint32:N,validateUndefined:$,validateUnion:function(e,t,r){if(!o(r,e))throw new m(t,`('${i(r,"|")}')`,e)},validateAbortSignal:D,validateLinkHeaderValue:function(e){if("string"==typeof e)return q(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const o=e[n];q(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new v("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},8104:(e,t,r)=>{"use strict";const{SymbolAsyncIterator:n,SymbolIterator:o,SymbolFor:i}=r(273),s=i("nodejs.stream.destroyed"),a=i("nodejs.stream.errored"),l=i("nodejs.stream.readable"),u=i("nodejs.stream.writable"),c=i("nodejs.stream.disturbed"),f=i("nodejs.webstream.isClosedPromise"),d=i("nodejs.webstream.controllerErrorFunction");function h(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function y(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!(!e||y(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function b(e){return!(!e||y(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function w(e){return!(!e||y(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function m(e){if(!y(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[s]||null!=n&&n.destroyed)}function v(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function _(e,t){if(!h(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function E(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!m(e)&&h(e)&&e.readable&&!_(e)}function S(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!m(e)&&p(e)&&e.writable&&!v(e)}function A(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function I(e){return"boolean"==typeof e._sent100&&A(e)}e.exports={isDestroyed:m,kIsDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,r,n,o,i,s,l,u,c,f;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(o=null!==(i=null!==(s=e[a])&&void 0!==s?s:e.readableErrored)&&void 0!==i?i:e.writableErrored)&&void 0!==o?o:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(c=e._readableState)||void 0===c?void 0:c.errored)&&void 0!==t?t:null===(f=e._writableState)||void 0===f?void 0:f.errored))},kIsErrored:a,isReadable:E,kIsReadable:l,kIsClosedPromise:f,kControllerErrorFunction:d,kIsWritable:u,isClosed:function(e){if(!y(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&A(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return y(e)?!(!m(e)&&(!1!==(null==t?void 0:t.readable)&&E(e)||!1!==(null==t?void 0:t.writable)&&S(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[o]:"function"==typeof e[n]||"function"==typeof e[o])},isReadableNodeStream:h,isReadableStream:g,isReadableEnded:function(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,r;return y(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:y,isWebStream:function(e){return g(e)||b(e)||w(e)},isWritable:S,isWritableNodeStream:p,isWritableStream:b,isWritableEnded:v,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return y(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:I,willEmitClose:function(e){if(!y(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&I(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:w}},8129:e=>{"use strict";e.exports=Math.max},8160:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(968),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),u=a.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=s(e),a=t&&"[object String]"===i.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=u&&r;if(a&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)d.push(String(y));if(n&&e.length>0)for(var g=0;g<e.length;++g)d.push(String(g));else for(var b in e)p&&"prototype"===b||!o.call(e,b)||d.push(String(b));if(l)for(var w=function(e){if("undefined"==typeof window||!h)return f(e);try{return f(e)}catch(e){return!1}}(e),m=0;m<c.length;++m)w&&"constructor"===c[m]||!o.call(e,c[m])||d.push(c[m]);return d}}e.exports=n},8165:(e,t,r)=>{"use strict";var n=r(9138),o=r(6095),i=r(4531),s=r(7196);e.exports=s||n.call(i,o)},8449:(e,t,r)=>{"use strict";const n=r(1048),{format:o,inspect:i}=r(1158),{codes:{ERR_INVALID_ARG_TYPE:s}}=r(1150),{kResistStopPropagation:a,AggregateError:l,SymbolDispose:u}=r(273),c=globalThis.AbortSignal||r(7083).AbortSignal,f=globalThis.AbortController||r(7083).AbortController,d=Object.getPrototypeOf(async function(){}).constructor,h=globalThis.Blob||n.Blob,p=void 0!==h?function(e){return e instanceof h}:function(e){return!1},y=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new s(t,"AbortSignal",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:o,inspect:i,types:{isAsyncFunction:e=>e instanceof d,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:p,deprecate:(e,t)=>e,addAbortListener:r(46).addAbortListener||function(e,t){if(void 0===e)throw new s("signal","AbortSignal",e);let r;return y(e,"signal"),(e=>{if("function"!=typeof e)throw new s("listener","Function",e)})(t),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[a]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[u](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:c.any||function(e){if(1===e.length)return e[0];const t=new f,r=()=>t.abort();return e.forEach(e=>{y(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},8479:e=>{"use strict";e.exports=Math.abs},8484:(e,t,r)=>{"use strict";const n=globalThis.AbortController||r(7083).AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:l}=r(1150),{validateAbortSignal:u,validateInteger:c,validateObject:f}=r(8080),d=r(273).Symbol("kWeak"),h=r(273).Symbol("kResistStopPropagation"),{finished:p}=r(2549),y=r(6009),{addAbortSignalNoValidate:g}=r(2682),{isWritable:b,isNodeStream:w}=r(8104),{deprecate:m}=r(8449),{ArrayPrototypePush:v,Boolean:_,MathFloor:E,Number:S,NumberIsNaN:A,Promise:I,PromiseReject:R,PromiseResolve:O,PromisePrototypeThen:T,Symbol:x}=r(273),N=x("kEmpty"),P=x("kEof");function L(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal");let n=1;null!=(null==t?void 0:t.concurrency)&&(n=E(t.concurrency));let o=n-1;return null!=(null==t?void 0:t.highWaterMark)&&(o=E(t.highWaterMark)),c(n,"options.concurrency",1),c(o,"options.highWaterMark",0),o+=n,async function*(){const i=r(8449).AbortSignalAny([null==t?void 0:t.signal].filter(_)),s=this,a=[],u={signal:i};let c,f,d=!1,h=0;function p(){d=!0,y()}function y(){h-=1,g()}function g(){f&&!d&&h<n&&a.length<o&&(f(),f=null)}!async function(){try{for await(let t of s){if(d)return;if(i.aborted)throw new l;try{if(t=e(t,u),t===N)continue;t=O(t)}catch(e){t=R(e)}h+=1,T(t,y,p),a.push(t),c&&(c(),c=null),!d&&(a.length>=o||h>=n)&&await new I(e=>{f=e})}a.push(P)}catch(e){const t=R(e);T(t,y,p),a.push(t)}finally{d=!0,c&&(c(),c=null)}}();try{for(;;){for(;a.length>0;){const e=await a[0];if(e===P)return;if(i.aborted)throw new l;e!==N&&(yield e),a.shift(),g()}await new I(e=>{c=e})}}finally{d=!0,f&&(f(),f=null)}}.call(this)}async function B(e,t=void 0){for await(const r of C.call(this,e,t))return!0;return!1}function C(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);return L.call(this,async function(t,r){return await e(t,r)?t:N},t)}class k extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function j(e){if(e=S(e),A(e))return 0;if(e<0)throw new a("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:m(function(e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l({cause:e.signal.reason});yield[t++,n]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;e--<=0&&(yield r)}}.call(this)},filter:C,flatMap:function(e,t){const r=L.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:L,take:function(e,t=void 0){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;if(e-- >0&&(yield r),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),w(e)&&!b(e))throw new o("stream",e,"must be writable");const r=y(this,e);return null!=t&&t.signal&&g(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);return!await B.call(this,async(...t)=>!await e(...t),t)},forEach:async function(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);for await(const r of L.call(this,async function(t,r){return await e(t,r),N},t));},reduce:async function(e,t,r){var o;if("function"!=typeof e)throw new i("reducer",["Function","AsyncFunction"],e);null!=r&&f(r,"options"),null!=(null==r?void 0:r.signal)&&u(r.signal,"options.signal");let s=arguments.length>1;if(null!=r&&null!==(o=r.signal)&&void 0!==o&&o.aborted){const e=new l(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(e)),e}const a=new n,c=a.signal;if(null!=r&&r.signal){const e={once:!0,[d]:this,[h]:!0};r.signal.addEventListener("abort",()=>a.abort(),e)}let y=!1;try{for await(const n of this){var g;if(y=!0,null!=r&&null!==(g=r.signal)&&void 0!==g&&g.aborted)throw new l;s?t=await e(t,n,{signal:c}):(t=n,s=!0)}if(!y&&!s)throw new k}finally{a.abort()}return t},toArray:async function(e){null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l(void 0,{cause:e.signal.reason});v(t,n)}return t},some:B,find:async function(e,t){for await(const r of C.call(this,e,t))return r}}},8498:(e,t,r)=>{"use strict";var n=r(6108),o=r(4940),i=r(9903),s=r(2012);e.exports=function(e){var t=i(arguments),r=e.length-(arguments.length-1);return n(t,1+(r>0?r:0),!0)},o?o(e.exports,"apply",{value:s}):e.exports.apply=s},8554:(e,t,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(9138);e.exports=i.call(n,o)},8610:(e,t,r)=>{"use strict";const{StringPrototypeSlice:n,SymbolIterator:o,TypedArrayPrototypeSet:i,Uint8Array:s}=r(273),{Buffer:a}=r(1048),{inspect:l}=r(8449);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return a.alloc(0);const t=a.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)i(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[o](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,o=0;do{const i=r.data;if(!(e>i.length)){e===i.length?(t+=i,++o,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(i,0,e),this.head=r,r.data=n(i,e));break}t+=i,e-=i.length,++o}while(null!==(r=r.next));return this.length-=o,t}_getBuffer(e){const t=a.allocUnsafe(e),r=e;let n=this.head,o=0;do{const a=n.data;if(!(e>a.length)){e===a.length?(i(t,a,r-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(i(t,new s(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}i(t,a,r-e),e-=a.length,++o}while(null!==(n=n.next));return this.length-=o,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},8792:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!==o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!==o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!==o--;){var s=i[o];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},8794:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),a=r(0,o.length-s.length),l=[],u=0;u<a;u++)l[u]="$"+u;if(i=Function("binder","return function ("+function(e){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=",");return t}(l)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var t=o.apply(this,n(s,arguments));return Object(t)===t?t:this}return o.apply(e,n(s,arguments))}),o.prototype){var c=function(){};c.prototype=o.prototype,i.prototype=new c,c.prototype=null}return i}},8888:(e,t,r)=>{"use strict";var n=r(5636).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=s(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=s(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=s(t[n]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},9110:e=>{"use strict";e.exports=EvalError},9138:(e,t,r)=>{"use strict";var n=r(8794);e.exports=Function.prototype.bind||n},9191:e=>{"use strict";var t,r,n,o=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function a(e,o){var i,l,u,c,f,d=t,h=o[e];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(e)),"function"==typeof n&&(h=n.call(o,e,h)),typeof h){case"string":return s(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(t+=r,f=[],"[object Array]"===Object.prototype.toString.apply(h)){for(c=h.length,i=0;i<c;i+=1)f[i]=a(i,h)||"null";return u=0===f.length?"[]":t?"[\n"+t+f.join(",\n"+t)+"\n"+d+"]":"["+f.join(",")+"]",t=d,u}if(n&&"object"==typeof n)for(c=n.length,i=0;i<c;i+=1)"string"==typeof(l=n[i])&&(u=a(l,h))&&f.push(s(l)+(t?": ":":")+u);else for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&(u=a(l,h))&&f.push(s(l)+(t?": ":":")+u);return u=0===f.length?"{}":t?"{\n"+t+f.join(",\n"+t)+"\n"+d+"}":"{"+f.join(",")+"}",t=d,u}}e.exports=function(e,o,i){var s;if(t="",r="","number"==typeof i)for(s=0;s<i;s+=1)r+=" ";else"string"==typeof i&&(r=i);if(n=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw new Error("JSON.stringify");return a("",{"":e})}},9228:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(968),i=Object.keys,s=i?function(e){return i(e)}:r(8160),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},9318:(e,t)=>{t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,l=(1<<a)-1,u=l>>1,c=-7,f=r?o-1:0,d=r?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=a;c>0;i=256*i+e[t+f],f+=d,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=256*s+e[t+f],f+=d,c-=8);if(0===i)i=1-u;else{if(i===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),i-=u}return(h?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,l,u=8*i-o-1,c=(1<<u)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(s++,l/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(t*l-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[r+h]=255&a,h+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[r+h]=255&s,h+=p,s/=256,u-=8);e[r+h-p]|=128*y}},9333:(e,t,r)=>{"use strict";const n=r(9907),{ArrayPrototypeIndexOf:o,NumberIsInteger:i,NumberIsNaN:s,NumberParseInt:a,ObjectDefineProperties:l,ObjectKeys:u,ObjectSetPrototypeOf:c,Promise:f,SafeSet:d,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:y}=r(273);e.exports=z,z.ReadableState=V;const{EventEmitter:g}=r(46),{Stream:b,prependListener:w}=r(670),{Buffer:m}=r(1048),{addAbortSignal:v}=r(2682),_=r(2549);let E=r(8449).debuglog("stream",e=>{E=e});const S=r(8610),A=r(863),{getHighWaterMark:I,getDefaultHighWaterMark:R}=r(7872),{aggregateTwoErrors:O,codes:{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_OUT_OF_RANGE:N,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:L},AbortError:B}=r(1150),{validateObject:C}=r(8080),k=y("kPaused"),{StringDecoder:j}=r(8888),U=r(7533);c(z.prototype,b.prototype),c(z,b);const M=()=>{},{errorOrDestroy:D}=A,F=1,W=16,$=32,H=2048,q=4096;function G(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function V(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(6631)),this.state=H|q|W|$,e&&e.objectMode&&(this.state|=F),n&&e&&e.readableObjectMode&&(this.state|=F),this.highWaterMark=e?I(this,e,"readableHighWaterMark",n):R(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[k]=null,e&&!1===e.emitClose&&(this.state&=~H),e&&!1===e.autoDestroy&&(this.state&=~q),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new j(e.encoding),this.encoding=e.encoding)}function z(e){if(!(this instanceof z))return new z(e);const t=this instanceof r(6631);this._readableState=new V(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&v(e.signal,this)),b.call(this,e),A.construct(this,()=>{this._readableState.needReadable&&Q(this,this._readableState)})}function Y(e,t,r,n){E("readableAddChunk",t);const o=e._readableState;let i;if(0===(o.state&F)&&("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=m.from(t,r).toString(o.encoding):(t=m.from(t,r),r=""))):t instanceof m?r="":b._isUint8Array(t)?(t=b._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new T("chunk",["string","Buffer","Uint8Array"],t))),i)D(e,i);else if(null===t)o.state&=-9,function(e,t){if(E("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?J(e):(t.needReadable=!1,t.emittedReadable=!0,X(e))}}(e,o);else if(0!==(o.state&F)||t&&t.length>0)if(n)if(4&o.state)D(e,new L);else{if(o.destroyed||o.errored)return!1;K(e,o,t,!0)}else if(o.ended)D(e,new P);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?K(e,o,t,!1):Q(e,o)):K(e,o,t,!1)}else n||(o.state&=-9,Q(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function K(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(65536&t.state?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),64&t.state&&J(e)),Q(e,t)}function Z(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&F)?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function J(e){const t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(X,e))}function X(e){const t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,oe(e)}function Q(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function te(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[k]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function re(e){E("readable nexttick read 0"),e.read(0)}function ne(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),oe(e),t.flowing&&!t.reading&&e.read(0)}function oe(e){const t=e._readableState;for(E("flow",t.flowing);t.flowing&&null!==e.read(););}function ie(e,t){"function"!=typeof e.read&&(e=z.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=M;function o(t){this===e?(n(),n=M):n=t}e.on("readable",o);const i=_(e,{writable:!1},e=>{r=e?O(r,e):null,n(),n=M});try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new f(o)}}}catch(e){throw r=O(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",o),i()):A.destroyer(e,null)}}(e,t);return r.stream=e,r}function se(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function ae(e){const t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(le,t,e))}function le(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(ue,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function ue(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ce;function fe(){return void 0===ce&&(ce={}),ce}l(V.prototype,{objectMode:G(F),ended:G(2),endEmitted:G(4),reading:G(8),constructed:G(W),sync:G($),needReadable:G(64),emittedReadable:G(128),readableListening:G(256),resumeScheduled:G(512),errorEmitted:G(1024),emitClose:G(H),autoDestroy:G(q),destroyed:G(8192),closed:G(16384),closeEmitted:G(32768),multiAwaitDrain:G(65536),readingMore:G(1<<17),dataEmitted:G(1<<18)}),z.prototype.destroy=A.destroy,z.prototype._undestroy=A.undestroy,z.prototype._destroy=function(e,t){t(e)},z.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},z.prototype[h]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new B,this.destroy(e)),new f((t,r)=>_(this,n=>n&&n!==e?r(n):t(null)))},z.prototype.push=function(e,t){return Y(this,e,t,!1)},z.prototype.unshift=function(e,t){return Y(this,e,t,!0)},z.prototype.isPaused=function(){const e=this._readableState;return!0===e[k]||!1===e.flowing},z.prototype.setEncoding=function(e){const t=new j(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},z.prototype.read=function(e){E("read",e),void 0===e?e=NaN:i(e)||(e=a(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new N("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return E("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ae(this):J(this),null;if(0===(e=Z(e,t))&&t.ended)return 0===t.length&&ae(this),null;let n,o=!!(64&t.state);if(E("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&(o=!0,E("length less than watermark",o)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)o=!1,E("reading, ended or constructing",o);else if(o){E("do read"),t.state|=8|$,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(e){D(this,e)}t.state&=~$,t.reading||(e=Z(r,t))}return n=e>0?se(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ae(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},z.prototype._read=function(e){throw new x("_read()")},z.prototype.pipe=function(e,t){const r=this,o=this._readableState;1===o.pipes.length&&(o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new d(o.awaitDrainWriters?[o.awaitDrainWriters]:[]))),o.pipes.push(e),E("pipe count=%d opts=%j",o.pipes.length,t);const i=t&&!1===t.end||e===n.stdout||e===n.stderr?y:s;function s(){E("onend"),e.end()}let a;o.endEmitted?n.nextTick(i):r.once("end",i),e.on("unpipe",function t(n,i){E("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,E("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),a&&e.removeListener("drain",a),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",c),l=!0,a&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&a())});let l=!1;function u(){l||(1===o.pipes.length&&o.pipes[0]===e?(E("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(E("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),r.pause()),a||(a=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(E("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(E("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",a))}function c(t){E("ondata");const r=e.write(t);E("dest.write",r),!1===r&&u()}function f(t){if(E("onerror",t),y(),e.removeListener("error",f),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?D(e,t):e.emit("error",t)}}function h(){e.removeListener("finish",p),y()}function p(){E("onfinish"),e.removeListener("close",h),y()}function y(){E("unpipe"),r.unpipe(e)}return r.on("data",c),w(e,"error",f),e.once("close",h),e.once("finish",p),e.emit("pipe",r),!0===e.writableNeedDrain?u():o.flowing||(E("pipe resume"),r.resume()),e},z.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=o(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},z.prototype.on=function(e,t){const r=b.prototype.on.call(this,e,t),o=this._readableState;return"data"===e?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===e&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,E("on readable",o.length,o.reading),o.length?J(this):o.reading||n.nextTick(re,this))),r},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(e,t){const r=b.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(te,this),r},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(e){const t=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(te,this),t},z.prototype.resume=function(){const e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(ne,e,t))}(this,e)),e[k]=!1,this},z.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[k]=!0,this},z.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{D(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=u(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},z.prototype[p]=function(){return ie(this)},z.prototype.iterator=function(e){return void 0!==e&&C(e,"options"),ie(this,e)},l(z.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(V.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[k]},set(e){this[k]=!!e}}}),z._fromList=se,z.from=function(e,t){return U(z,e,t)},z.fromWeb=function(e,t){return fe().newStreamReadableFromReadableStream(e,t)},z.toWeb=function(e,t){return fe().newReadableStreamFromStreamReadable(e,t)},z.wrap=function(e,t){var r,n;return new z({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){A.destroyer(e,t),r(t)}}).wrap(e)}},9336:(e,t,r)=>{"use strict";var n=r(1292);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},9467:()=>{},9629:e=>{"use strict";e.exports=Object},9838:e=>{"use strict";e.exports=Error},9903:(e,t,r)=>{"use strict";var n=r(9138),o=r(3468),i=r(4531),s=r(8165);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new o("a function is required");return s(n,i,e)}},9907:e=>{var t,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a,l=[],u=!1,c=-1;function f(){u&&a&&(u=!1,a.length?l=a.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(a=l,l=[];++c<t;)a&&a[c].run();c=-1,t=l.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||u||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{BUTTON_POSITION:()=>tn,CONFIRMATION_STRATEGY:()=>Qr,EVM_METHOD_TYPES:()=>o,SOLANA_CHAIN_IDS:()=>t,SOLANA_METHOD_TYPES:()=>e,TorusInPageProvider:()=>un,WS_EMBED_BUILD_ENV:()=>en,default:()=>bn});const e={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},t={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},o={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const u={height:660,width:375},c={height:700,width:1200},f={height:700,width:450},d="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function h(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function p(e,...t){if(!((r=e)instanceof Uint8Array||ArrayBuffer.isView(r)&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function y(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function g(e,t){p(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function b(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function w(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function m(e,t){return e<<32-t|e>>>t}function v(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const _=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=v(e[t]);return e},E=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)();function S(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function A(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),p(e),e}class I{}function R(e){const t=t=>e().update(A(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function O(e=32){if(d&&"function"==typeof d.getRandomValues)return d.getRandomValues(new Uint8Array(e));if(d&&"function"==typeof d.randomBytes)return Uint8Array.from(d.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function T(e,t,r){return e&t^~e&r}function x(e,t,r){return e&t^e&r^t&r}class N extends I{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=w(this.buffer)}update(e){y(this),p(e=A(e));const{view:t,buffer:r,blockLen:n}=this,o=e.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);if(s===n){const t=w(e);for(;n<=o-i;i+=n)this.process(t,i);continue}r.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){y(this),g(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:o}=this;let{pos:i}=this;t[i++]=128,b(this.buffer.subarray(i)),this.padOffset>n-i&&(this.process(r,0),i=0);for(let e=i;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),l=n?4:0,u=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+u,a,n)}(r,n-8,BigInt(8*this.length),o),this.process(r,0);const s=w(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return e.destroyed=i,e.finished=o,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const P=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),L=BigInt(2**32-1),B=BigInt(32);function C(e,t=!1){return t?{h:Number(e&L),l:Number(e>>B&L)}:{h:0|Number(e>>B&L),l:0|Number(e&L)}}const k=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),j=new Uint32Array(64);class U extends N{constructor(e=32){super(64,e,8,!1),this.A=0|P[0],this.B=0|P[1],this.C=0|P[2],this.D=0|P[3],this.E=0|P[4],this.F=0|P[5],this.G=0|P[6],this.H=0|P[7]}get(){const{A:e,B:t,C:r,D:n,E:o,F:i,G:s,H:a}=this;return[e,t,r,n,o,i,s,a]}set(e,t,r,n,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)j[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=j[e-15],r=j[e-2],n=m(t,7)^m(t,18)^t>>>3,o=m(r,17)^m(r,19)^r>>>10;j[e]=o+j[e-7]+n+j[e-16]|0}let{A:r,B:n,C:o,D:i,E:s,F:a,G:l,H:u}=this;for(let e=0;e<64;e++){const t=u+(m(s,6)^m(s,11)^m(s,25))+T(s,a,l)+k[e]+j[e]|0,c=(m(r,2)^m(r,13)^m(r,22))+x(r,n,o)|0;u=l,l=a,a=s,s=i+t|0,i=o,o=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,o,i,s,a,l,u)}roundClean(){b(j)}destroy(){this.set(0,0,0,0,0,0,0,0),b(this.buffer)}}const M=R(()=>new U);class D extends I{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");h(e.outputLen),h(e.blockLen)}(e);const r=A(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,o=new Uint8Array(n);o.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),b(o)}update(e){return y(this),this.iHash.update(e),this}digestInto(e){y(this),p(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=n,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const F=(e,t,r)=>new D(e,t).update(r).digest();F.create=(e,t)=>new D(e,t);const W=BigInt(0),$=BigInt(1);function H(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function q(e){if(!H(e))throw new Error("Uint8Array expected")}function G(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function V(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function z(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?W:BigInt("0x"+e)}const Y="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,K=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Z(e){if(q(e),Y)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=K[e[r]];return t}function J(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function X(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Y)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,o=0;t<r;t++,o+=2){const r=J(e.charCodeAt(o)),i=J(e.charCodeAt(o+1));if(void 0===r||void 0===i){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[t]=16*r+i}return n}function Q(e){return z(Z(e))}function ee(e){return q(e),z(Z(Uint8Array.from(e).reverse()))}function te(e,t){return X(e.toString(16).padStart(2*t,"0"))}function re(e,t){return te(e,t).reverse()}function ne(e,t,r){let n;if("string"==typeof t)try{n=X(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!H(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const o=n.length;if("number"==typeof r&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return n}function oe(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];q(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const o=e[t];r.set(o,n),n+=o.length}return r}const ie=e=>"bigint"==typeof e&&W<=e;function se(e,t,r){return ie(e)&&ie(t)&&ie(r)&&t<=e&&e<r}function ae(e,t,r,n){if(!se(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}const le=e=>($<<BigInt(e))-$,ue=e=>new Uint8Array(e),ce=e=>Uint8Array.from(e),fe={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||H(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function de(e,t,r={}){const n=(t,r,n)=>{const o=fe[r];if("function"!=typeof o)throw new Error("invalid validator function");const i=e[t];if(!(n&&void 0===i||o(i,e)))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+i)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}function he(e){const t=new WeakMap;return(r,...n)=>{const o=t.get(r);if(void 0!==o)return o;const i=e(r,...n);return t.set(r,i),i}}const pe=BigInt(0),ye=BigInt(1),ge=BigInt(2),be=BigInt(3),we=BigInt(4),me=BigInt(5),ve=BigInt(8);function _e(e,t){const r=e%t;return r>=pe?r:t+r}function Ee(e,t,r){let n=e;for(;t-- >pe;)n*=n,n%=r;return n}function Se(e,t){if(e===pe)throw new Error("invert: expected non-zero number");if(t<=pe)throw new Error("invert: expected positive modulus, got "+t);let r=_e(e,t),n=t,o=pe,i=ye,s=ye,a=pe;for(;r!==pe;){const e=n/r,t=n%r,l=o-s*e,u=i-a*e;n=r,r=t,o=s,i=a,s=l,a=u}if(n!==ye)throw new Error("invert: does not exist");return _e(o,t)}const Ae=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ie(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),o=t.reduce((t,r,o)=>e.is0(r)?t:(n[o]=t,e.mul(t,r)),e.ONE),i=e.inv(o);return t.reduceRight((t,r,o)=>e.is0(r)?t:(n[o]=e.mul(t,n[o]),e.mul(t,r)),i),n}function Re(e,t){const r=function(e,t){const r=(e.ORDER-ye)/ge,n=e.pow(t,r),o=e.eql(n,e.ONE),i=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!o&&!i&&!s)throw new Error("Cannot find square root: probably non-prime P");return o?1:i?0:-1}(e,t);return 0===r||1===r}function Oe(e,t){void 0!==t&&h(t);const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Te(e,t,r=!1,n={}){if(e<=pe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:o,nByteLength:i}=Oe(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:i,MASK:le(o),ZERO:pe,ONE:ye,create:t=>_e(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return pe<=t&&t<e},is0:e=>e===pe,isOdd:e=>(e&ye)===ye,neg:t=>_e(-t,e),eql:(e,t)=>e===t,sqr:t=>_e(t*t,e),add:(t,r)=>_e(t+r,e),sub:(t,r)=>_e(t-r,e),mul:(t,r)=>_e(t*r,e),pow:(e,t)=>function(e,t,r){if(r<pe)throw new Error("invalid exponent, negatives unsupported");if(r===pe)return e.ONE;if(r===ye)return t;let n=e.ONE,o=t;for(;r>pe;)r&ye&&(n=e.mul(n,o)),o=e.sqr(o),r>>=ye;return n}(a,e,t),div:(t,r)=>_e(t*Se(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Se(t,e),sqrt:n.sqrt||(t=>{return s||(s=(r=e)%we===be?function(e,t){const n=(r+ye)/we,o=e.pow(t,n);if(!e.eql(e.sqr(o),t))throw new Error("Cannot find square root");return o}:r%ve===me?function(e,t){const n=e.mul(t,ge),o=(r-me)/ve,i=e.pow(n,o),s=e.mul(t,i),a=e.mul(e.mul(s,ge),i),l=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(l),t))throw new Error("Cannot find square root");return l}:function(e){let t=e-ye,r=0;for(;t%ge===pe;)t/=ge,r++;let n=ge;const o=Te(e);for(;n<e&&Re(o,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r){const t=(e+ye)/we;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const i=(t+ye)/ge;return function(e,o){if(!Re(e,o))throw new Error("Cannot find square root");let s=r,a=e.pow(e.mul(e.ONE,n),t),l=e.pow(o,i),u=e.pow(o,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(a,ye<<BigInt(s-t-1));a=e.sqr(r),l=e.mul(l,r),u=e.mul(u,a),s=t}return l}}(r)),s(a,t);var r}),toBytes:e=>r?re(e,i):te(e,i),fromBytes:e=>{if(e.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+e.length);return r?ee(e):Q(e)},invertBatch:e=>Ie(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function xe(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ne(e){const t=xe(e);return t+Math.ceil(t/2)}const Pe=BigInt(0),Le=BigInt(1);function Be(e,t){const r=t.negate();return e?r:t}function Ce(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ke(e,t){Ce(e,t);const r=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:le(e),maxNumber:r,shiftBy:BigInt(e)}}function je(e,t,r){const{windowSize:n,mask:o,maxNumber:i,shiftBy:s}=r;let a=Number(e&o),l=e>>s;a>n&&(a-=i,l+=Le);const u=t*n;return{nextN:l,offset:u+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:u}}const Ue=new WeakMap,Me=new WeakMap;function De(e){return Me.get(e)||1}function Fe(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,i=function(e){let t;for(t=0;e>W;e>>=$,t+=1);return t}(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=le(s),l=new Array(Number(a)+1).fill(o);let u=o;for(let e=Math.floor((t.BITS-1)/s)*s;e>=0;e-=s){l.fill(o);for(let t=0;t<n.length;t++){const o=n[t],i=Number(o>>BigInt(e)&a);l[i]=l[i].add(r[t])}let t=o;for(let e=l.length-1,r=o;e>0;e--)r=r.add(l[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<s;e++)u=u.double()}return u}function We(e){return de(e.Fp,Ae.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),de(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Oe(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function $e(e){void 0!==e.lowS&&G("lowS",e.lowS),void 0!==e.prehash&&G("prehash",e.prehash)}class He extends Error{constructor(e=""){super(e)}}const qe={Err:He,_tlv:{encode:(e,t)=>{const{Err:r}=qe;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,o=V(n);if(o.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?V(o.length/2|128):"";return V(e)+i+o+t},decode(e,t){const{Err:r}=qe;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const o=t[n++];let i=0;if(128&o){const e=127&o;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of s)i=i<<8|e;if(n+=e,i<128)throw new r("tlv.decode(long): not minimal encoding")}else i=o;const s=t.subarray(n,n+i);if(s.length!==i)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+i)}}},_int:{encode(e){const{Err:t}=qe;if(e<Ge)throw new t("integer: negative integers are not allowed");let r=V(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=qe;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Q(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=qe,o=ne("signature",e),{v:i,l:s}=n.decode(48,o);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,i),{v:u,l:c}=n.decode(2,l);if(c.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=qe,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},Ge=BigInt(0),Ve=BigInt(1),ze=(BigInt(2),BigInt(3));function Ye(e){const t=function(e){const t=We(e);return de(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n}=t,o=r.BYTES+1,i=2*r.BYTES+1;function s(e){return _e(e,n)}function a(e){return Se(e,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:f}=function(e){const t=function(e){const t=We(e);de(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=t;if(r){if(!n.eql(o,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=Te(t.n,t.nBitLength),o=t.toBytes||((e,t,n)=>{const o=t.toAffine();return oe(Uint8Array.from([4]),r.toBytes(o.x),r.toBytes(o.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){const{a:n,b:o}=t,i=r.sqr(e),s=r.mul(i,e);return r.add(r.add(s,r.mul(e,n)),o)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:o,n:i}=t;if(r&&"bigint"!=typeof e){if(H(e)&&(e=Z(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*n,"0")}let s;try{s="bigint"==typeof e?e:Q(ne("private key",e,n))}catch(t){throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return o&&(s=_e(s,i)),ae("private key",s,Ve,i),s}function l(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}const u=he((e,t)=>{const{px:n,py:o,pz:i}=e;if(r.eql(i,r.ONE))return{x:n,y:o};const s=e.is0();null==t&&(t=s?r.ONE:r.inv(i));const a=r.mul(n,t),l=r.mul(o,t),u=r.mul(i,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:a,y:l}}),c=he(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:o}=e.toAffine();if(!r.isValid(n)||!r.isValid(o))throw new Error("bad point: x or y not FE");const i=r.sqr(o),a=s(n);if(!r.eql(i,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(e,t,n){if(null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t)||r.is0(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");this.px=e,this.py=t,this.pz=n,Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const o=e=>r.eql(e,r.ZERO);return o(t)&&o(n)?f.ZERO:new f(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=Ie(r,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(i(ne("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(a(e))}static msm(e,t){return Fe(f,n,e,t)}_setWindowSize(e){h.setWindowSize(this,e)}assertValidity(){c(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:n,pz:o}=this,{px:i,py:s,pz:a}=e,u=r.eql(r.mul(t,a),r.mul(i,o)),c=r.eql(r.mul(n,a),r.mul(s,o));return u&&c}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,o=r.mul(n,ze),{px:i,py:s,pz:a}=this;let l=r.ZERO,u=r.ZERO,c=r.ZERO,d=r.mul(i,i),h=r.mul(s,s),p=r.mul(a,a),y=r.mul(i,s);return y=r.add(y,y),c=r.mul(i,a),c=r.add(c,c),l=r.mul(e,c),u=r.mul(o,p),u=r.add(l,u),l=r.sub(h,u),u=r.add(h,u),u=r.mul(l,u),l=r.mul(y,l),c=r.mul(o,c),p=r.mul(e,p),y=r.sub(d,p),y=r.mul(e,y),y=r.add(y,c),c=r.add(d,d),d=r.add(c,d),d=r.add(d,p),d=r.mul(d,y),u=r.add(u,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,y),l=r.sub(l,d),c=r.mul(p,h),c=r.add(c,c),c=r.add(c,c),new f(l,u,c)}add(e){l(e);const{px:n,py:o,pz:i}=this,{px:s,py:a,pz:u}=e;let c=r.ZERO,d=r.ZERO,h=r.ZERO;const p=t.a,y=r.mul(t.b,ze);let g=r.mul(n,s),b=r.mul(o,a),w=r.mul(i,u),m=r.add(n,o),v=r.add(s,a);m=r.mul(m,v),v=r.add(g,b),m=r.sub(m,v),v=r.add(n,i);let _=r.add(s,u);return v=r.mul(v,_),_=r.add(g,w),v=r.sub(v,_),_=r.add(o,i),c=r.add(a,u),_=r.mul(_,c),c=r.add(b,w),_=r.sub(_,c),h=r.mul(p,v),c=r.mul(y,w),h=r.add(c,h),c=r.sub(b,h),h=r.add(b,h),d=r.mul(c,h),b=r.add(g,g),b=r.add(b,g),w=r.mul(p,w),v=r.mul(y,v),b=r.add(b,w),w=r.sub(g,w),w=r.mul(p,w),v=r.add(v,w),g=r.mul(b,v),d=r.add(d,g),g=r.mul(_,v),c=r.mul(m,c),c=r.sub(c,g),g=r.mul(m,b),h=r.mul(_,h),h=r.add(h,g),new f(c,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return h.wNAFCached(this,e,f.normalizeZ)}multiplyUnsafe(e){const{endo:n,n:o}=t;ae("scalar",e,Ge,o);const i=f.ZERO;if(e===Ge)return i;if(this.is0()||e===Ve)return this;if(!n||h.hasPrecomputes(this))return h.wNAFCachedUnsafe(this,e,f.normalizeZ);let{k1neg:s,k1:a,k2neg:l,k2:u}=n.splitScalar(e),c=i,d=i,p=this;for(;a>Ge||u>Ge;)a&Ve&&(c=c.add(p)),u&Ve&&(d=d.add(p)),p=p.double(),a>>=Ve,u>>=Ve;return s&&(c=c.negate()),l&&(d=d.negate()),d=new f(r.mul(d.px,n.beta),d.py,d.pz),c.add(d)}multiply(e){const{endo:n,n:o}=t;let i,s;if(ae("scalar",e,Ve,o),n){const{k1neg:t,k1:o,k2neg:a,k2:l}=n.splitScalar(e);let{p:u,f:c}=this.wNAF(o),{p:d,f:p}=this.wNAF(l);u=h.constTimeNegate(t,u),d=h.constTimeNegate(a,d),d=new f(r.mul(d.px,n.beta),d.py,d.pz),i=u.add(d),s=c.add(p)}else{const{p:t,f:r}=this.wNAF(e);i=t,s=r}return f.normalizeZ([i,s])[0]}multiplyAndAddUnsafe(e,t,r){const n=f.BASE,o=(e,t)=>t!==Ge&&t!==Ve&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),i=o(this,t).add(o(e,r));return i.is0()?void 0:i}toAffine(e){return u(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===Ve)return!0;if(r)return r(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===Ve?this:r?r(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return G("isCompressed",e),this.assertValidity(),o(f,this,e)}toHex(e=!0){return G("isCompressed",e),Z(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const d=t.nBitLength,h=(p=f,y=t.endo?Math.ceil(d/2):d,{constTimeNegate:Be,hasPrecomputes:e=>1!==De(e),unsafeLadder(e,t,r=p.ZERO){let n=e;for(;t>Pe;)t&Le&&(r=r.add(n)),n=n.double(),t>>=Le;return r},precomputeWindow(e,t){const{windows:r,windowSize:n}=ke(t,y),o=[];let i=e,s=i;for(let e=0;e<r;e++){s=i,o.push(s);for(let e=1;e<n;e++)s=s.add(i),o.push(s);i=s.double()}return o},wNAF(e,t,r){let n=p.ZERO,o=p.BASE;const i=ke(e,y);for(let e=0;e<i.windows;e++){const{nextN:s,offset:a,isZero:l,isNeg:u,isNegF:c,offsetF:f}=je(r,e,i);r=s,l?o=o.add(Be(c,t[f])):n=n.add(Be(u,t[a]))}return{p:n,f:o}},wNAFUnsafe(e,t,r,n=p.ZERO){const o=ke(e,y);for(let e=0;e<o.windows&&r!==Pe;e++){const{nextN:i,offset:s,isZero:a,isNeg:l}=je(r,e,o);if(r=i,!a){const e=t[s];n=n.add(l?e.negate():e)}}return n},getPrecomputes(e,t,r){let n=Ue.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&Ue.set(t,r(n))),n},wNAFCached(e,t,r){const n=De(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const o=De(e);return 1===o?this.unsafeLadder(e,t,n):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),t,n)},setWindowSize(e,t){Ce(t,y),Me.set(e,t),Ue.delete(e)}});var p,y;return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:function(e){return se(e,Ve,t.n)}}}({...t,toBytes(e,t,n){const o=t.toAffine(),i=r.toBytes(o.x),s=oe;return G("isCompressed",n),n?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,r.toBytes(o.y))},fromBytes(e){const t=e.length,n=e[0],s=e.subarray(1);if(t!==o||2!==n&&3!==n){if(t===i&&4===n)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw new Error("invalid Point, expected length of "+o+", or uncompressed "+i+", got "+t)}{const e=Q(s);if(!se(e,Ve,r.ORDER))throw new Error("Point is not on curve");const t=c(e);let o;try{o=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!=((o&Ve)===Ve)&&(o=r.neg(o)),{x:e,y:o}}}}),d=e=>Z(te(e,t.nByteLength));function h(e){return e>n>>Ve}const p=(e,t,r)=>Q(e.slice(t,r));class y{constructor(e,t,r){ae("r",e,Ve,n),ae("s",t,Ve,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){const r=t.nByteLength;return e=ne("compactSignature",e,2*r),new y(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=qe.toSig(ne("DER",e));return new y(t,r)}assertValidity(){}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:o,recovery:i}=this,u=m(ne("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const c=2===i||3===i?n+t.n:n;if(c>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=1&i?"03":"02",h=l.fromHex(f+d(c)),p=a(c),y=s(-u*p),g=s(o*p),b=l.BASE.multiplyAndAddUnsafe(h,y,g);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return X(this.toDERHex())}toDERHex(){return qe.hexFromSig(this)}toCompactRawBytes(){return X(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Ne(t.n);return function(e,t,r=!1){const n=e.length,o=xe(t),i=Ne(t);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const s=_e(r?ee(e):Q(e),t-ye)+ye;return r?re(s,o):te(s,o)}(t.randomBytes(e),t.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e){const t=H(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===o||n===i:r?n===2*o||n===2*i:e instanceof l}const w=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const r=Q(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},m=t.bits2int_modN||function(e){return s(w(e))},v=le(t.nBitLength);function _(e){return ae("num < 2^"+t.nBitLength,e,Ge,v),te(e,t.nByteLength)}const E={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,n,o=E){const{seed:i,k2sig:c}=function(e,n,o=E){if(["recovered","canonical"].some(e=>e in o))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:c}=t;let{lowS:d,prehash:p,extraEntropy:g}=o;null==d&&(d=!0),e=ne("msgHash",e),$e(o),p&&(e=ne("prehashed msgHash",i(e)));const b=m(e),v=u(n),S=[_(v),_(b)];if(null!=g&&!1!==g){const e=!0===g?c(r.BYTES):g;S.push(ne("extraEntropy",e))}const A=oe(...S),I=b;return{seed:A,k2sig:function(e){const t=w(e);if(!f(t))return;const r=a(t),n=l.BASE.multiply(t).toAffine(),o=s(n.x);if(o===Ge)return;const i=s(r*s(I+o*v));if(i===Ge)return;let u=(n.x===o?0:2)|Number(n.y&Ve),c=i;return d&&h(i)&&(c=function(e){return h(e)?s(-e):e}(i),u^=1),new y(o,c,u)}}}(e,n,o),d=t,p=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=ue(e),o=ue(e),i=0;const s=()=>{n.fill(1),o.fill(0),i=0},a=(...e)=>r(o,n,...e),l=(e=ue(0))=>{o=a(ce([0]),e),n=a(),0!==e.length&&(o=a(ce([1]),e),n=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return oe(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(u()));)l();return s(),r}}(d.hash.outputLen,d.nByteLength,d.hmac);return p(i,c)},verify:function(e,r,n,o=S){const i=e;r=ne("msgHash",r),n=ne("publicKey",n);const{lowS:u,prehash:c,format:f}=o;if($e(o),"strict"in o)throw new Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw new Error("format must be compact or der");const d="string"==typeof i||H(i),h=!d&&!f&&"object"==typeof i&&null!==i&&"bigint"==typeof i.r&&"bigint"==typeof i.s;if(!d&&!h)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,g;try{if(h&&(p=new y(i.r,i.s)),d){try{"compact"!==f&&(p=y.fromDER(i))}catch(e){if(!(e instanceof qe.Err))throw e}p||"der"===f||(p=y.fromCompact(i))}g=l.fromHex(n)}catch(e){return!1}if(!p)return!1;if(u&&p.hasHighS())return!1;c&&(r=t.hash(r));const{r:b,s:w}=p,v=m(r),_=a(w),E=s(v*_),A=s(b*_),I=l.BASE.multiplyAndAddUnsafe(g,E,A)?.toAffine();return!!I&&s(I.x)===b},ProjectivePoint:l,Signature:y,utils:g}}function Ke(e){return{hash:e,hmac:(t,...r)=>F(e,t,function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];p(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const o=e[t];r.set(o,n),n+=o.length}return r}(...r)),randomBytes:O}}BigInt(4);const Ze=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Je=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Xe=BigInt(1),Qe=BigInt(2),et=(e,t)=>(e+t/Qe)/t;const tt=Te(Ze,void 0,void 0,{sqrt:function(e){const t=Ze,r=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,f=Ee(c,r,t)*c%t,d=Ee(f,r,t)*c%t,h=Ee(d,Qe,t)*u%t,p=Ee(h,o,t)*h%t,y=Ee(p,i,t)*p%t,g=Ee(y,a,t)*y%t,b=Ee(g,l,t)*g%t,w=Ee(b,a,t)*y%t,m=Ee(w,r,t)*c%t,v=Ee(m,s,t)*p%t,_=Ee(v,n,t)*u%t,E=Ee(_,Qe,t);if(!tt.eql(tt.sqr(E),e))throw new Error("Cannot find square root");return E}}),rt=function(e,t){const r=t=>Ye({...e,...Ke(t)});return{...r(t),create:r}}({a:BigInt(0),b:BigInt(7),Fp:tt,n:Je,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Je,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Xe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,s=BigInt("0x100000000000000000000000000000000"),a=et(i*e,t),l=et(-n*e,t);let u=_e(e-a*r-l*o,t),c=_e(-a*n-l*i,t);const f=u>s,d=c>s;if(f&&(u=t-u),d&&(c=t-c),u>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:c}}}},M);BigInt(0),rt.ProjectivePoint;const nt=p;function ot(e){return t=>(nt(t),e(t))}const it=ot(M);class st extends Error{constructor(e,t,r){super(t??e.code),this.type=e,void 0!==r&&(this.stack=r)}getMetadata(){return this.type}toObject(){return{type:this.getMetadata(),message:this.message??"",stack:this.stack??"",className:this.constructor.name}}}function at(e,t){return new st({code:"ETHEREUMJS_DEFAULT_ERROR_CODE"},e,t)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),BigInt(0);const lt=e=>{if(!e.startsWith("0x"))throw at("input string must be 0x prefixed");return function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(E)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,o=0;t<r;t++,o+=2){const r=S(e.charCodeAt(o)),i=S(e.charCodeAt(o+1));if(void 0===r||void 0===i){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[t]=16*r+i}return n}((t=function(e){let t=e;if("string"!=typeof t)throw at("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}((e=>{if("string"!=typeof e)throw at("[stripHexPrefix] input must be type 'string', received "+typeof e);return"string"==typeof(t=e)&&t.match(/^0x[0-9A-Fa-f]*$/)?e.slice(2):e;var t})(e))).startsWith("0x")?t.substring(2):t);var t},ut=[];for(let e=0;e<=65535;e++)ut[e]=BigInt(e);const ct=e=>{const t=(e=>{if(!Number.isSafeInteger(e)||e<0)throw at(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`})(e);return lt(t)};BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),rt.CURVE.n,rt.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),lt("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),lt("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),lt("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),it(new Uint8Array),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(10**9),BigInt(10**18);const ft=BigInt(0),dt=BigInt(1),ht=BigInt(2),pt=BigInt(7),yt=BigInt(256),gt=BigInt(113),bt=[],wt=[],mt=[];for(let e=0,t=dt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],bt.push(2*(5*n+r)),wt.push((e+1)*(e+2)/2%64);let o=ft;for(let e=0;e<7;e++)t=(t<<dt^(t>>pt)*gt)%yt,t&ht&&(o^=dt<<(dt<<BigInt(e))-dt);mt.push(o)}const vt=function(e,t=!1){const r=e.length;let n=new Uint32Array(r),o=new Uint32Array(r);for(let i=0;i<r;i++){const{h:r,l:s}=C(e[i],t);[n[i],o[i]]=[r,s]}return[n,o]}(mt,!0),_t=vt[0],Et=vt[1],St=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),At=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class It extends I{constructor(e,t,r,n=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=o,h(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}clone(){return this._cloneInto()}keccak(){_(this.state32),function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,o=(t+2)%10,i=r[o],s=r[o+1],a=St(i,s,1)^r[n],l=At(i,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],o=e[3];for(let r=0;r<24;r++){const n=wt[r],i=St(t,o,n),s=At(t,o,n),a=bt[r];t=e[a],o=e[a+1],e[a]=i,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=_t[n],e[1]^=Et[n]}b(r)}(this.state32,this.rounds),_(this.state32),this.posOut=0,this.pos=0}update(e){y(this),p(e=A(e));const{blockLen:t,state:r}=this,n=e.length;for(let o=0;o<n;){const i=Math.min(t-this.pos,n-o);for(let t=0;t<i;t++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){y(this,!1),p(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,o=e.length;n<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-n);e.set(t.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return h(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(g(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,b(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:o,enableXOF:i}=this;return e||(e=new It(t,r,n,i,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}const Rt=(e,t,r)=>R(()=>new It(t,e,r)),Ot=(()=>Rt(1,144,28))(),Tt=(()=>Rt(1,136,32))(),xt=(()=>Rt(1,104,48))(),Nt=(()=>Rt(1,72,64))();ot(Ot),ot(Tt).create=Tt.create,ot(xt),ot(Nt),new Uint8Array(0),lt("0x05");ct(0),ct(1),BigInt(256),BigInt(31);var Pt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Lt=Math.ceil,Bt=Math.floor,Ct="[BigNumber Error] ",kt=Ct+"Number primitive has more than 15 significant digits: ",jt=1e14,Ut=14,Mt=9007199254740991,Dt=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ft=1e7,Wt=1e9;function $t(e){var t=0|e;return e>0||e===t?t:t-1}function Ht(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(t=e[n++]+"",r=Ut-t.length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function qt(e,t){var r,n,o=e.c,i=t.c,s=e.s,a=t.s,l=e.e,u=t.e;if(!s||!a)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=l==u,!o||!i)return n?0:!o^r?1:-1;if(!n)return l>u^r?1:-1;for(a=(l=o.length)<(u=i.length)?l:u,s=0;s<a;s++)if(o[s]!=i[s])return o[s]>i[s]^r?1:-1;return l==u?0:l>u^r?1:-1}function Gt(e,t,r,n){if(e<t||e>r||e!==Bt(e))throw Error(Ct+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Vt(e){var t=e.c.length-1;return $t(e.e/Ut)==t&&e.c[t]%2!=0}function zt(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function Yt(e,t,r){var n,o;if(t<0){for(o=r+".";++t;o+=r);e=o+e}else if(++t>(n=e.length)){for(o=r,t-=n;--t;o+=r);e+=o}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}!function e(t){var r,n,o,i,s,a,l,u,c,f,d=R.prototype={constructor:R,toString:null,valueOf:null},h=new R(1),p=20,y=4,g=-7,b=21,w=-1e7,m=1e7,v=!1,_=1,E=0,S={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},A="0123456789abcdefghijklmnopqrstuvwxyz",I=!0;function R(e,t){var r,i,s,a,l,u,c,f,d=this;if(!(d instanceof R))return new R(e,t);if(null==t){if(e&&!0===e._isBigNumber)return d.s=e.s,void(!e.c||e.e>m?d.c=d.e=null:e.e<w?d.c=[d.e=0]:(d.e=e.e,d.c=e.c.slice()));if((u="number"==typeof e)&&0*e==0){if(d.s=1/e<0?(e=-e,-1):1,e===~~e){for(a=0,l=e;l>=10;l/=10,a++);return void(a>m?d.c=d.e=null:(d.e=a,d.c=[e]))}f=String(e)}else{if(!Pt.test(f=String(e)))return o(d,f,u);d.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(a=f.indexOf("."))>-1&&(f=f.replace(".","")),(l=f.search(/e/i))>0?(a<0&&(a=l),a+=+f.slice(l+1),f=f.substring(0,l)):a<0&&(a=f.length)}else{if(Gt(t,2,A.length,"Base"),10==t&&I)return N(d=new R(e),p+d.e+1,y);if(f=String(e),u="number"==typeof e){if(0*e!=0)return o(d,f,u,t);if(d.s=1/e<0?(f=f.slice(1),-1):1,R.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(kt+e)}else d.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=A.slice(0,t),a=l=0,c=f.length;l<c;l++)if(r.indexOf(i=f.charAt(l))<0){if("."==i){if(l>a){a=c;continue}}else if(!s&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){s=!0,l=-1,a=0;continue}return o(d,String(e),u,t)}u=!1,(a=(f=n(f,t,10,d.s)).indexOf("."))>-1?f=f.replace(".",""):a=f.length}for(l=0;48===f.charCodeAt(l);l++);for(c=f.length;48===f.charCodeAt(--c););if(f=f.slice(l,++c)){if(c-=l,u&&R.DEBUG&&c>15&&(e>Mt||e!==Bt(e)))throw Error(kt+d.s*e);if((a=a-l-1)>m)d.c=d.e=null;else if(a<w)d.c=[d.e=0];else{if(d.e=a,d.c=[],l=(a+1)%Ut,a<0&&(l+=Ut),l<c){for(l&&d.c.push(+f.slice(0,l)),c-=Ut;l<c;)d.c.push(+f.slice(l,l+=Ut));l=Ut-(f=f.slice(l)).length}else l-=c;for(;l--;f+="0");d.c.push(+f)}}else d.c=[d.e=0]}function O(e,t,r,n){var o,i,s,a,l;if(null==r?r=y:Gt(r,0,8),!e.c)return e.toString();if(o=e.c[0],s=e.e,null==t)l=Ht(e.c),l=1==n||2==n&&(s<=g||s>=b)?zt(l,s):Yt(l,s,"0");else if(i=(e=N(new R(e),t,r)).e,a=(l=Ht(e.c)).length,1==n||2==n&&(t<=i||i<=g)){for(;a<t;l+="0",a++);l=zt(l,i)}else if(t-=s+(2===n&&i>s),l=Yt(l,i,"0"),i+1>a){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=i-a)>0)for(i+1==a&&(l+=".");t--;l+="0");return e.s<0&&o?"-"+l:l}function T(e,t){for(var r,n,o=1,i=new R(e[0]);o<e.length;o++)(!(n=new R(e[o])).s||(r=qt(i,n))===t||0===r&&i.s===t)&&(i=n);return i}function x(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,n++);return(r=n+r*Ut-1)>m?e.c=e.e=null:r<w?e.c=[e.e=0]:(e.e=r,e.c=t),e}function N(e,t,r,n){var o,i,s,a,l,u,c,f=e.c,d=Dt;if(f){e:{for(o=1,a=f[0];a>=10;a/=10,o++);if((i=t-o)<0)i+=Ut,s=t,l=f[u=0],c=Bt(l/d[o-s-1]%10);else if((u=Lt((i+1)/Ut))>=f.length){if(!n)break e;for(;f.length<=u;f.push(0));l=c=0,o=1,s=(i%=Ut)-Ut+1}else{for(l=a=f[u],o=1;a>=10;a/=10,o++);c=(s=(i%=Ut)-Ut+o)<0?0:Bt(l/d[o-s-1]%10)}if(n=n||t<0||null!=f[u+1]||(s<0?l:l%d[o-s-1]),n=r<4?(c||n)&&(0==r||r==(e.s<0?3:2)):c>5||5==c&&(4==r||n||6==r&&(i>0?s>0?l/d[o-s]:0:f[u-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,n?(t-=e.e+1,f[0]=d[(Ut-t%Ut)%Ut],e.e=-t||0):f[0]=e.e=0,e;if(0==i?(f.length=u,a=1,u--):(f.length=u+1,a=d[Ut-i],f[u]=s>0?Bt(l/d[o-s]%d[s])*a:0),n)for(;;){if(0==u){for(i=1,s=f[0];s>=10;s/=10,i++);for(s=f[0]+=a,a=1;s>=10;s/=10,a++);i!=a&&(e.e++,f[0]==jt&&(f[0]=1));break}if(f[u]+=a,f[u]!=jt)break;f[u--]=0,a=1}for(i=f.length;0===f[--i];f.pop());}e.e>m?e.c=e.e=null:e.e<w&&(e.c=[e.e=0])}return e}function P(e){var t,r=e.e;return null===r?e.toString():(t=Ht(e.c),t=r<=g||r>=b?zt(t,r):Yt(t,r,"0"),e.s<0?"-"+t:t)}return R.clone=e,R.ROUND_UP=0,R.ROUND_DOWN=1,R.ROUND_CEIL=2,R.ROUND_FLOOR=3,R.ROUND_HALF_UP=4,R.ROUND_HALF_DOWN=5,R.ROUND_HALF_EVEN=6,R.ROUND_HALF_CEIL=7,R.ROUND_HALF_FLOOR=8,R.EUCLID=9,R.config=R.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(Ct+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(Gt(r=e[t],0,Wt,t),p=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(Gt(r=e[t],0,8,t),y=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(Gt(r[0],-Wt,0,t),Gt(r[1],0,Wt,t),g=r[0],b=r[1]):(Gt(r,-Wt,Wt,t),g=-(b=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)Gt(r[0],-Wt,-1,t),Gt(r[1],1,Wt,t),w=r[0],m=r[1];else{if(Gt(r,-Wt,Wt,t),!r)throw Error(Ct+t+" cannot be zero: "+r);w=-(m=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(Ct+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw v=!r,Error(Ct+"crypto unavailable");v=r}else v=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(Gt(r=e[t],0,9,t),_=r),e.hasOwnProperty(t="POW_PRECISION")&&(Gt(r=e[t],0,Wt,t),E=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(Ct+t+" not an object: "+r);S=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(Ct+t+" invalid: "+r);I="0123456789"==r.slice(0,10),A=r}}return{DECIMAL_PLACES:p,ROUNDING_MODE:y,EXPONENTIAL_AT:[g,b],RANGE:[w,m],CRYPTO:v,MODULO_MODE:_,POW_PRECISION:E,FORMAT:S,ALPHABET:A}},R.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!R.DEBUG)return!0;var t,r,n=e.c,o=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===i||-1===i)&&o>=-Wt&&o<=Wt&&o===Bt(o)){if(0===n[0]){if(0===o&&1===n.length)return!0;break e}if((t=(o+1)%Ut)<1&&(t+=Ut),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=jt||r!==Bt(r))break e;if(0!==r)return!0}}}else if(null===n&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(Ct+"Invalid BigNumber: "+e)},R.maximum=R.max=function(){return T(arguments,-1)},R.minimum=R.min=function(){return T(arguments,1)},R.random=(i=9007199254740992,s=Math.random()*i&2097151?function(){return Bt(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,o,i,a=0,l=[],u=new R(h);if(null==e?e=p:Gt(e,0,Wt),o=Lt(e/Ut),v)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));a<o;)(i=131072*t[a]+(t[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[a]=r[0],t[a+1]=r[1]):(l.push(i%1e14),a+=2);a=o/2}else{if(!crypto.randomBytes)throw v=!1,Error(Ct+"crypto unavailable");for(t=crypto.randomBytes(o*=7);a<o;)(i=281474976710656*(31&t[a])+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])>=9e15?crypto.randomBytes(7).copy(t,a):(l.push(i%1e14),a+=7);a=o/7}if(!v)for(;a<o;)(i=s())<9e15&&(l[a++]=i%1e14);for(o=l[--a],e%=Ut,o&&e&&(i=Dt[Ut-e],l[a]=Bt(o/i)*i);0===l[a];l.pop(),a--);if(a<0)l=[n=0];else{for(n=-1;0===l[0];l.splice(0,1),n-=Ut);for(a=1,i=l[0];i>=10;i/=10,a++);a<Ut&&(n-=Ut-a)}return u.e=n,u.c=l,u}),R.sum=function(){for(var e=1,t=arguments,r=new R(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var o,i,s=[0],a=0,l=e.length;a<l;){for(i=s.length;i--;s[i]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),o=0;o<s.length;o++)s[o]>r-1&&(null==s[o+1]&&(s[o+1]=0),s[o+1]+=s[o]/r|0,s[o]%=r)}return s.reverse()}return function(n,o,i,s,a){var l,u,c,f,d,h,g,b,w=n.indexOf("."),m=p,v=y;for(w>=0&&(f=E,E=0,n=n.replace(".",""),h=(b=new R(o)).pow(n.length-w),E=f,b.c=t(Yt(Ht(h.c),h.e,"0"),10,i,e),b.e=b.c.length),c=f=(g=t(n,o,i,a?(l=A,e):(l=e,A))).length;0==g[--f];g.pop());if(!g[0])return l.charAt(0);if(w<0?--c:(h.c=g,h.e=c,h.s=s,g=(h=r(h,b,m,v,i)).c,d=h.r,c=h.e),w=g[u=c+m+1],f=i/2,d=d||u<0||null!=g[u+1],d=v<4?(null!=w||d)&&(0==v||v==(h.s<0?3:2)):w>f||w==f&&(4==v||d||6==v&&1&g[u-1]||v==(h.s<0?8:7)),u<1||!g[0])n=d?Yt(l.charAt(1),-m,l.charAt(0)):l.charAt(0);else{if(g.length=u,d)for(--i;++g[--u]>i;)g[u]=0,u||(++c,g=[1].concat(g));for(f=g.length;!g[--f];);for(w=0,n="";w<=f;n+=l.charAt(g[w++]));n=Yt(n,c,l.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,o,i,s,a=0,l=e.length,u=t%Ft,c=t/Ft|0;for(e=e.slice();l--;)a=((o=u*(i=e[l]%Ft)+(n=c*i+(s=e[l]/Ft|0)*u)%Ft*Ft+a)/r|0)+(n/Ft|0)+c*s,e[l]=o%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function r(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,i,s,a){var l,u,c,f,d,h,p,y,g,b,w,m,v,_,E,S,A,I=n.s==o.s?1:-1,O=n.c,T=o.c;if(!(O&&O[0]&&T&&T[0]))return new R(n.s&&o.s&&(O?!T||O[0]!=T[0]:T)?O&&0==O[0]||!T?0*I:I/0:NaN);for(g=(y=new R(I)).c=[],I=i+(u=n.e-o.e)+1,a||(a=jt,u=$t(n.e/Ut)-$t(o.e/Ut),I=I/Ut|0),c=0;T[c]==(O[c]||0);c++);if(T[c]>(O[c]||0)&&u--,I<0)g.push(1),f=!0;else{for(_=O.length,S=T.length,c=0,I+=2,(d=Bt(a/(T[0]+1)))>1&&(T=e(T,d,a),O=e(O,d,a),S=T.length,_=O.length),v=S,w=(b=O.slice(0,S)).length;w<S;b[w++]=0);A=T.slice(),A=[0].concat(A),E=T[0],T[1]>=a/2&&E++;do{if(d=0,(l=t(T,b,S,w))<0){if(m=b[0],S!=w&&(m=m*a+(b[1]||0)),(d=Bt(m/E))>1)for(d>=a&&(d=a-1),p=(h=e(T,d,a)).length,w=b.length;1==t(h,b,p,w);)d--,r(h,S<p?A:T,p,a),p=h.length,l=1;else 0==d&&(l=d=1),p=(h=T.slice()).length;if(p<w&&(h=[0].concat(h)),r(b,h,w,a),w=b.length,-1==l)for(;t(T,b,S,w)<1;)d++,r(b,S<w?A:T,w,a),w=b.length}else 0===l&&(d++,b=[0]);g[c++]=d,b[0]?b[w++]=O[v]||0:(b=[O[v]],w=1)}while((v++<_||null!=b[0])&&I--);f=null!=b[0],g[0]||g.splice(0,1)}if(a==jt){for(c=1,I=g[0];I>=10;I/=10,c++);N(y,i+(y.e=c+u*Ut-1)+1,s,f)}else y.e=u,y.r=+f;return y}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,l=/^([^.]+)\.$/,u=/^\.([^.]+)$/,c=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g,o=function(e,t,r,n){var o,i=r?t:t.replace(f,"");if(c.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(a,function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t}),n&&(o=n,i=i.replace(l,"$1").replace(u,"0.$1")),t!=i))return new R(i,o);if(R.DEBUG)throw Error(Ct+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},d.absoluteValue=d.abs=function(){var e=new R(this);return e.s<0&&(e.s=1),e},d.comparedTo=function(e,t){return qt(this,new R(e,t))},d.decimalPlaces=d.dp=function(e,t){var r,n,o,i=this;if(null!=e)return Gt(e,0,Wt),null==t?t=y:Gt(t,0,8),N(new R(i),e+i.e+1,t);if(!(r=i.c))return null;if(n=((o=r.length-1)-$t(this.e/Ut))*Ut,o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},d.dividedBy=d.div=function(e,t){return r(this,new R(e,t),p,y)},d.dividedToIntegerBy=d.idiv=function(e,t){return r(this,new R(e,t),0,1)},d.exponentiatedBy=d.pow=function(e,t){var r,n,o,i,s,a,l,u,c=this;if((e=new R(e)).c&&!e.isInteger())throw Error(Ct+"Exponent not an integer: "+P(e));if(null!=t&&(t=new R(t)),s=e.e>14,!c.c||!c.c[0]||1==c.c[0]&&!c.e&&1==c.c.length||!e.c||!e.c[0])return u=new R(Math.pow(+P(c),s?e.s*(2-Vt(e)):+P(e))),t?u.mod(t):u;if(a=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new R(NaN);(n=!a&&c.isInteger()&&t.isInteger())&&(c=c.mod(t))}else{if(e.e>9&&(c.e>0||c.e<-1||(0==c.e?c.c[0]>1||s&&c.c[1]>=24e7:c.c[0]<8e13||s&&c.c[0]<=9999975e7)))return i=c.s<0&&Vt(e)?-0:0,c.e>-1&&(i=1/i),new R(a?1/i:i);E&&(i=Lt(E/Ut+2))}for(s?(r=new R(.5),a&&(e.s=1),l=Vt(e)):l=(o=Math.abs(+P(e)))%2,u=new R(h);;){if(l){if(!(u=u.times(c)).c)break;i?u.c.length>i&&(u.c.length=i):n&&(u=u.mod(t))}if(o){if(0===(o=Bt(o/2)))break;l=o%2}else if(N(e=e.times(r),e.e+1,1),e.e>14)l=Vt(e);else{if(0===(o=+P(e)))break;l=o%2}c=c.times(c),i?c.c&&c.c.length>i&&(c.c.length=i):n&&(c=c.mod(t))}return n?u:(a&&(u=h.div(u)),t?u.mod(t):i?N(u,E,y,void 0):u)},d.integerValue=function(e){var t=new R(this);return null==e?e=y:Gt(e,0,8),N(t,t.e+1,e)},d.isEqualTo=d.eq=function(e,t){return 0===qt(this,new R(e,t))},d.isFinite=function(){return!!this.c},d.isGreaterThan=d.gt=function(e,t){return qt(this,new R(e,t))>0},d.isGreaterThanOrEqualTo=d.gte=function(e,t){return 1===(t=qt(this,new R(e,t)))||0===t},d.isInteger=function(){return!!this.c&&$t(this.e/Ut)>this.c.length-2},d.isLessThan=d.lt=function(e,t){return qt(this,new R(e,t))<0},d.isLessThanOrEqualTo=d.lte=function(e,t){return-1===(t=qt(this,new R(e,t)))||0===t},d.isNaN=function(){return!this.s},d.isNegative=function(){return this.s<0},d.isPositive=function(){return this.s>0},d.isZero=function(){return!!this.c&&0==this.c[0]},d.minus=function(e,t){var r,n,o,i,s=this,a=s.s;if(t=(e=new R(e,t)).s,!a||!t)return new R(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/Ut,u=e.e/Ut,c=s.c,f=e.c;if(!l||!u){if(!c||!f)return c?(e.s=-t,e):new R(f?s:NaN);if(!c[0]||!f[0])return f[0]?(e.s=-t,e):new R(c[0]?s:3==y?-0:0)}if(l=$t(l),u=$t(u),c=c.slice(),a=l-u){for((i=a<0)?(a=-a,o=c):(u=l,o=f),o.reverse(),t=a;t--;o.push(0));o.reverse()}else for(n=(i=(a=c.length)<(t=f.length))?a:t,a=t=0;t<n;t++)if(c[t]!=f[t]){i=c[t]<f[t];break}if(i&&(o=c,c=f,f=o,e.s=-e.s),(t=(n=f.length)-(r=c.length))>0)for(;t--;c[r++]=0);for(t=jt-1;n>a;){if(c[--n]<f[n]){for(r=n;r&&!c[--r];c[r]=t);--c[r],c[n]+=jt}c[n]-=f[n]}for(;0==c[0];c.splice(0,1),--u);return c[0]?x(e,c,u):(e.s=3==y?-1:1,e.c=[e.e=0],e)},d.modulo=d.mod=function(e,t){var n,o,i=this;return e=new R(e,t),!i.c||!e.s||e.c&&!e.c[0]?new R(NaN):!e.c||i.c&&!i.c[0]?new R(i):(9==_?(o=e.s,e.s=1,n=r(i,e,0,3),e.s=o,n.s*=o):n=r(i,e,0,_),(e=i.minus(n.times(e))).c[0]||1!=_||(e.s=i.s),e)},d.multipliedBy=d.times=function(e,t){var r,n,o,i,s,a,l,u,c,f,d,h,p,y,g,b=this,w=b.c,m=(e=new R(e,t)).c;if(!(w&&m&&w[0]&&m[0]))return!b.s||!e.s||w&&!w[0]&&!m||m&&!m[0]&&!w?e.c=e.e=e.s=null:(e.s*=b.s,w&&m?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=$t(b.e/Ut)+$t(e.e/Ut),e.s*=b.s,(l=w.length)<(f=m.length)&&(p=w,w=m,m=p,o=l,l=f,f=o),o=l+f,p=[];o--;p.push(0));for(y=jt,g=Ft,o=f;--o>=0;){for(r=0,d=m[o]%g,h=m[o]/g|0,i=o+(s=l);i>o;)r=((u=d*(u=w[--s]%g)+(a=h*u+(c=w[s]/g|0)*d)%g*g+p[i]+r)/y|0)+(a/g|0)+h*c,p[i--]=u%y;p[i]=r}return r?++n:p.splice(0,1),x(e,p,n)},d.negated=function(){var e=new R(this);return e.s=-e.s||null,e},d.plus=function(e,t){var r,n=this,o=n.s;if(t=(e=new R(e,t)).s,!o||!t)return new R(NaN);if(o!=t)return e.s=-t,n.minus(e);var i=n.e/Ut,s=e.e/Ut,a=n.c,l=e.c;if(!i||!s){if(!a||!l)return new R(o/0);if(!a[0]||!l[0])return l[0]?e:new R(a[0]?n:0*o)}if(i=$t(i),s=$t(s),a=a.slice(),o=i-s){for(o>0?(s=i,r=l):(o=-o,r=a),r.reverse();o--;r.push(0));r.reverse()}for((o=a.length)-(t=l.length)<0&&(r=l,l=a,a=r,t=o),o=0;t;)o=(a[--t]=a[t]+l[t]+o)/jt|0,a[t]=jt===a[t]?0:a[t]%jt;return o&&(a=[o].concat(a),++s),x(e,a,s)},d.precision=d.sd=function(e,t){var r,n,o,i=this;if(null!=e&&e!==!!e)return Gt(e,1,Wt),null==t?t=y:Gt(t,0,8),N(new R(i),e,t);if(!(r=i.c))return null;if(n=(o=r.length-1)*Ut+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return e&&i.e+1>n&&(n=i.e+1),n},d.shiftedBy=function(e){return Gt(e,-9007199254740991,Mt),this.times("1e"+e)},d.squareRoot=d.sqrt=function(){var e,t,n,o,i,s=this,a=s.c,l=s.s,u=s.e,c=p+4,f=new R("0.5");if(1!==l||!a||!a[0])return new R(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(l=Math.sqrt(+P(s)))||l==1/0?(((t=Ht(a)).length+u)%2==0&&(t+="0"),l=Math.sqrt(+t),u=$t((u+1)/2)-(u<0||u%2),n=new R(t=l==1/0?"5e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new R(l+""),n.c[0])for((l=(u=n.e)+c)<3&&(l=0);;)if(i=n,n=f.times(i.plus(r(s,i,c,1))),Ht(i.c).slice(0,l)===(t=Ht(n.c)).slice(0,l)){if(n.e<u&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(N(n,n.e+p+2,1),e=!n.times(n).eq(s));break}if(!o&&(N(i,i.e+p+2,0),i.times(i).eq(s))){n=i;break}c+=4,l+=4,o=1}return N(n,n.e+p+1,y,e)},d.toExponential=function(e,t){return null!=e&&(Gt(e,0,Wt),e++),O(this,e,t,1)},d.toFixed=function(e,t){return null!=e&&(Gt(e,0,Wt),e=e+this.e+1),O(this,e,t)},d.toFormat=function(e,t,r){var n,o=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=S;else if("object"!=typeof r)throw Error(Ct+"Argument not an object: "+r);if(n=o.toFixed(e,t),o.c){var i,s=n.split("."),a=+r.groupSize,l=+r.secondaryGroupSize,u=r.groupSeparator||"",c=s[0],f=s[1],d=o.s<0,h=d?c.slice(1):c,p=h.length;if(l&&(i=a,a=l,l=i,p-=i),a>0&&p>0){for(i=p%a||a,c=h.substr(0,i);i<p;i+=a)c+=u+h.substr(i,a);l>0&&(c+=u+h.slice(i)),d&&(c="-"+c)}n=f?c+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):c}return(r.prefix||"")+n+(r.suffix||"")},d.toFraction=function(e){var t,n,o,i,s,a,l,u,c,f,d,p,g=this,b=g.c;if(null!=e&&(!(l=new R(e)).isInteger()&&(l.c||1!==l.s)||l.lt(h)))throw Error(Ct+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+P(l));if(!b)return new R(g);for(t=new R(h),c=n=new R(h),o=u=new R(h),p=Ht(b),s=t.e=p.length-g.e-1,t.c[0]=Dt[(a=s%Ut)<0?Ut+a:a],e=!e||l.comparedTo(t)>0?s>0?t:c:l,a=m,m=1/0,l=new R(p),u.c[0]=0;f=r(l,t,0,1),1!=(i=n.plus(f.times(o))).comparedTo(e);)n=o,o=i,c=u.plus(f.times(i=c)),u=i,t=l.minus(f.times(i=t)),l=i;return i=r(e.minus(n),o,0,1),u=u.plus(i.times(c)),n=n.plus(i.times(o)),u.s=c.s=g.s,d=r(c,o,s*=2,y).minus(g).abs().comparedTo(r(u,n,s,y).minus(g).abs())<1?[c,o]:[u,n],m=a,d},d.toNumber=function(){return+P(this)},d.toPrecision=function(e,t){return null!=e&&Gt(e,1,Wt),O(this,e,t,2)},d.toString=function(e){var t,r=this,o=r.s,i=r.e;return null===i?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=i<=g||i>=b?zt(Ht(r.c),i):Yt(Ht(r.c),i,"0"):10===e&&I?t=Yt(Ht((r=N(new R(r),p+i+1,y)).c),r.e,"0"):(Gt(e,2,A.length,"Base"),t=n(Yt(Ht(r.c),i,"0"),10,e,o,!0)),o<0&&r.c[0]&&(t="-"+t)),t},d.valueOf=d.toJSON=function(){return P(this)},d._isBigNumber=!0,d[Symbol.toStringTag]="BigNumber",d[Symbol.for("nodejs.util.inspect.custom")]=d.valueOf,null!=t&&R.set(t),R}(),r(1048).Buffer,r(9907);const Kt=()=>Math.random().toString(36).slice(2);function Zt({width:e,height:t}){const r=void 0!==window.screenLeft?window.screenLeft:window.screenX,n=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=Math.abs((o-e)/2/1+r);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${t/1},width=${e/1},top=${Math.abs((i-t)/2/1+n)},left=${s}`}const Jt="light";var Xt=r(3625),Qt=r(46);function er(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class tr extends Qt.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if("function"==typeof o)er(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)er(r[n],this,t)}return!0}}const rr=(e,t,r=!0)=>(n,o)=>{n||o.error?t(n||o.error):!r||Array.isArray(o)?e(o):e(o.result)};function nr(){}const or="ACK";class ir extends Xt.Duplex{constructor({name:e,target:t,targetWindow:r=window,targetOrigin:n="*"}){if(super({objectMode:!0}),s(this,"_init",void 0),s(this,"_haveSyn",void 0),s(this,"_name",void 0),s(this,"_target",void 0),s(this,"_targetWindow",void 0),s(this,"_targetOrigin",void 0),s(this,"_onMessage",void 0),s(this,"_synIntervalId",void 0),!e||!t)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=e,this._target=t,this._targetWindow=r,this._targetOrigin=n,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,nr),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,nr),this.cork()}_onData(e){if(this._init)if("BRK"===e)this._break();else try{this.push(e)}catch(e){this.emit("error",e)}else"SYN"===e?(this._haveSyn=!0,this._write(or,null,nr)):e===or&&(this._init=!0,this._haveSyn||this._write(or,null,nr),this.uncork())}_postMessage(e){const t=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},t)}onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_read(){}_write(e,t,r){this._postMessage(e),r()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}var sr=r(5172),ar=r.n(sr);const lr=-32600,ur=-32603,cr={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};var fr=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};function dr(e){return Number.isInteger(e)}function hr(e){return"string"==typeof e&&e.length>0}function pr(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}function yr(e){const t=e;return!(!t||!dr(t.code)||!hr(t.message)||t.stack&&!hr(t.stack))}function gr(e,t="Unspecified error message. This is a bug, please report it."){if(dr(e)){const t=e.toString();if(fr(cr,t))return cr[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return"Unspecified server error."}return t}const br={code:ur,message:gr(ur)};function wr(e){try{JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"===e||"constructor"===e)throw new Error("Not valid json");if("function"==typeof t||"symbol"==typeof t)throw new Error("Not valid json");return t}),(e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})}catch{return!1}return!0}function mr(e){return Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return wr(n)&&(t[r]=n),t},{})}function vr(e){return Array.isArray(e)?e.map(e=>wr(e)?e:pr(e)?mr(e):null):pr(e)?mr(e):wr(e)?e:null}function _r(e,{fallbackError:t=br,shouldIncludeStack:r=!0}={}){if(!yr(t))throw new Error("Must provide fallback error with integer number code and string message.");const n=function(e,t){if(e&&"object"==typeof e&&"serialize"in e&&"function"==typeof e.serialize)return e.serialize();if(yr(e))return e;const r=vr(e);return l(l({},t),{},{data:{cause:r}})}(e,t);return r||delete n.stack,n}function Er(e,t){if("[Circular]"!==t)return t}class Sr extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');!function(e){return pr(e)&&fr(e,"cause")&&pr(e.cause)}(r)?(super(t),s(this,"cause",void 0),s(this,"code",void 0),s(this,"data",void 0)):(super(t,{cause:r.cause}),s(this,"cause",void 0),s(this,"code",void 0),s(this,"data",void 0),function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),"cause")}(this)||Object.assign(this,{cause:r.cause})),void 0!==r&&(this.data=r),this.code=e,this.cause=null==r?void 0:r.cause}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}(this.data)&&(e.data.cause=vr(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return ar()(this.serialize(),{replacer:Er,space:2})}}class Ar extends Sr{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}var Ir=r(5880),Rr=r.n(Ir),Or=r(1822),Tr=r.n(Or),xr=r(3358),Nr=r.n(xr),Pr=r(2720),Lr=r.n(Pr);class Br extends Xt.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),s(this,"_parent",void 0),s(this,"_name",void 0),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}const Cr=Symbol("IGNORE_SUBSTREAM");class kr extends Xt.Duplex{constructor(e={}){super(l(l({},e),{},{objectMode:!0})),s(this,"_substreams",void 0),s(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new Br({parent:this,name:e});return this._substreams[e]=t,function(e){const r=Nr()(e=>t.destroy(e||void 0));Tr()(e,{readable:!1},r),Tr()(e,{writable:!1},r)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=Cr}_read(){}_write(e,t,r){const{name:n,data:o}=e;if(!n)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const i=this._substreams[n];return i?(i!==Cr&&i.push(o),r()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${n}"`),r())}}const jr=Rr().getLogger("auth");jr.setLevel("error");class Ur extends Error{constructor({code:e,message:t,data:r}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!t||"string"!=typeof t)throw new Error("message must be string");super(t),s(this,"code",void 0),s(this,"data",void 0),this.code=e,void 0!==r&&(this.data=r)}toString(){return ar()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function Mr(e){const{message:t="",code:r=-32603,stack:n="Stack trace is not available.",data:o=""}=e,i=parseInt((null==r?void 0:r.toString())||"-32603");return{message:t||(null==e?void 0:e.toString())||gr(i),code:i,stack:n,data:o||t||(null==e?void 0:e.toString())}}class Dr extends tr{constructor(){super(),s(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,r){const n=[];let o=null,i=!1;for(const s of r)if([o,i]=await Dr._runMiddleware(e,t,s,n),i)break;return[o,i,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(o=>{const i=e=>{const r=e||t.error;r&&("object"==typeof r&&!1===Object.keys(r).includes("stack")&&(r.stack="Stack trace is not available."),jr.error(r),t.error=_r(r,{shouldIncludeStack:!0,fallbackError:Mr(r)})),o([r,!0])},s=e=>{t.error?i(t.error):(e&&("function"!=typeof e&&i(new Ur({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),n.push(e)),o([null,!1]))};try{r(e,t,s,i)}catch(e){i(e)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new Ur({code:-32603,message:"Response has no error or result for request"});if(!r)throw new Ur({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[o,i,s]=await Dr._runAllMiddleware(e,t,this._middleware);return i?(await Dr._runReturnHandlers(s),n(o)):r(async e=>{try{await Dr._runReturnHandlers(s)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t,r)=>{this._handle(e,(e,n)=>{e&&void 0===n?r(e):t(n)}).catch(r)})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const e=new Ur({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!=typeof e.method){const r=new Ur({code:-32603,message:"method must be string"});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=l({},e),n={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,n)}catch(e){o=e}return o&&(delete n.result,n.error||("object"==typeof o&&!1===Object.keys(o).includes("stack")&&(o.stack="Stack trace is not available."),jr.error(o),n.error=_r(o,{shouldIncludeStack:!0,fallbackError:Mr(o)}))),t(o,n)}async _processRequest(e,t){const[r,n,o]=await Dr._runAllMiddleware(e,t,this._middleware);if(Dr._checkForCompletion(e,t,n),await Dr._runReturnHandlers(o),r)throw r}}function Fr(e,t){const[r,n]=function(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[null!=t?t:void 0,r]}}return[]}(t);return new Sr(e,null!=r?r:gr(e),n)}const Wr=e=>Fr(lr,e);function $r(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe}const Hr=()=>"Web3Auth: Lost connection to Web3Auth.",qr=()=>"Web3Auth: Disconnected from iframe. Page reload required.",Gr=()=>"Must provide a Node.js-style duplex stream.",Vr=()=>"Expected a single, non-array, object argument.",zr=()=>"'args.method' must be a non-empty string.",Yr=()=>"'args.params' must be an object or array if provided.",Kr=e=>`Web3Auth: Connected to chain with ID "${e}".`,Zr=Rr().getLogger("ws-embed"),Jr=["eth_subscription"],Xr=class extends tr{constructor(e,{maxEventListeners:t=100,jsonRpcStreamName:r="provider"}){if(super(),s(this,"rpcEngine",void 0),s(this,"jsonRpcConnectionEvents",void 0),s(this,"isWeb3Auth",void 0),s(this,"state",void 0),!function(e){return $r(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState}(n=e)||!function(e){return $r(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState}(n))throw new Error(Gr());var n;this.isWeb3Auth=!0,this.setMaxListeners(t),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleStreamDisconnect=this.handleStreamDisconnect.bind(this),this.rpcRequest=this.rpcRequest.bind(this),this.initializeState=this.initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this),this.send=this.send.bind(this);const o=new kr;Lr()(e,o,e,this.handleStreamDisconnect.bind(this,"Web3Auth")),o.ignoreStream("phishing");const i=function(){const e={},t=new tr,r=new Xt.Duplex({objectMode:!0,read:function(){return!1},write:function(r,n,o){let i;try{r.id?function(t){const r=e[t.id];if(!r)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(r):function(e){t.emit("notification",e)}(r)}catch(e){i=e}o(i)}});return{events:t,middleware:(t,n,o,i)=>{r.push(t),e[t.id]={req:t,res:n,next:o,end:i}},stream:r}}();Lr()(i.stream,o.createStream(r),i.stream,this.handleStreamDisconnect.bind(this,"Web3Auth RpcProvider"));const a=new Dr;var u;a.push((e,t,r,n)=>{const o=e.id,i=Math.random().toString(36).slice(2);e.id=i,t.id=i,r(r=>{e.id=o,t.id=o,r()})}),a.push((e,t,r)=>{"string"==typeof e.method&&e.method||(t.error=Wr({message:"The request 'method' must be a non-empty string.",data:l(l({},e||{}),{},{cause:"The request 'method' must be a non-empty string."})})),r(e=>{const{error:r}=t;return r?(Zr.error(`Ws-Embed - RPC Error: ${r.message}`,r),e()):e()})}),a.push((u={origin:location.origin},function(e,t,r){r(r=>{t.error&&Rr().warn("Error in RPC response:\n",t),e.isTorusInternal||(Rr().info(`RPC (${u.origin}):`,e,"->",t),r())})})),a.push(i.middleware),this.rpcEngine=a,this.jsonRpcConnectionEvents=i.events}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw Wr({message:Vr(),data:l(l({},e||{}),{},{cause:Vr()})});const{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw Wr({message:zr(),data:l(l({},e||{}),{},{cause:Vr()})});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw Wr({message:Yr(),data:l(l({},e||{}),{},{cause:Vr()})});return new Promise((e,n)=>{this.rpcRequest({method:t,params:r},rr(e,n))})}send(e,t){this.rpcRequest(e,t)}sendAsync(e){return new Promise((t,r)=>{this.rpcRequest(e,rr(t,r))})}handleStreamDisconnect(e,t){!function(e,t,r){let n=`Web3Auth: Lost connection to "${e}".`;null!=t&&t.stack&&(n+=`\n${t.stack}`),Zr.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}(e,t,this),this.handleDisconnect(!1,t?t.message:void 0)}},Qr={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"},en={PRODUCTION:"production",STAGING:"staging",DEVELOPMENT:"development",TESTING:"testing"},tn={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},rn=class extends tr{constructor({url:e,target:t,features:r,timeout:n=3e4}){super(),s(this,"url",void 0),s(this,"target",void 0),s(this,"features",void 0),s(this,"window",void 0),s(this,"windowTimer",void 0),s(this,"iClosedWindow",void 0),s(this,"timeout",void 0),this.url=e,this.target=t||"_blank",this.features=r||Zt(c),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=n,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var e;this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}};class nn extends Xr{constructor(e,{maxEventListeners:t=100,jsonRpcStreamName:r="provider"},n){super(e,{maxEventListeners:t,jsonRpcStreamName:r}),s(this,"tryWindowHandle",void 0),s(this,"windowRefs",void 0),s(this,"iframeUrl",void 0),s(this,"iframeId",void 0),this.state=l(l({},nn.defaultState),n),this.iframeUrl="",this.iframeId="",this.windowRefs=new Map,this.on("connect",()=>{this.state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",e=>{const{method:t,params:r}=e;if("iframe_status"===t){const{isFullScreen:e,rid:t}=r;this.displayIframe({isFull:e,rid:t},!0)}else if("close_window"===t)this.handleCloseWindow(r);else if("user_logged_in"===t){const{currentAuthConnection:e}=r;this.state.isLoggedIn=!0,this.state.currentAuthConnection=e}else if("user_logged_out"===t)this.state.isLoggedIn=!1,this.state.currentAuthConnection=null,this.displayIframe({isFull:!1},!0);else if("toggle_widget_button"===t){const{show:e}=r;this.state.widgetVisibility=e,this.displayIframe()}else if("allow_wallet_service"===t){const{allow:e}=r;this.state.allowWalletService=e}})}get isLoggedIn(){return this.state.isLoggedIn}get isIFrameFullScreen(){return this.state.isIFrameFullScreen}get allowWalletService(){return this.state.allowWalletService}isConnected(){return this.state.isConnected}async initializeState(e){try{const{torusUrl:t,torusIframeId:r}=e;this.iframeUrl=t,this.iframeId=r;const{currentAuthConnection:n,isLoggedIn:o}=await this.request({method:"get_provider_state",params:[]});o&&this.handleConnect(n,o)}catch(e){Zr.error("Web3Auth: Failed to get initial state. Please report this bug.",e)}finally{Zr.info("initialized communication state"),this.state.initialized=!0}}displayIframe({isFull:e=!1,rid:t=""}={},r=!1){const n={};if(e)n.display="block",n.width="100%",n.height="100%",n.top="0px",n.right="0px",n.left="0px",n.bottom="0px";else switch(n.display=this.state.widgetVisibility?"block":"none",n.height=this.state.widgetVisibility?"70px":"0px",n.width=this.state.widgetVisibility?"70px":"0px",this.state.buttonPosition){case tn.TOP_LEFT:n.top="0px",n.left="0px",n.right="auto",n.bottom="auto";break;case tn.TOP_RIGHT:n.top="0px",n.right="0px",n.left="auto",n.bottom="auto";break;case tn.BOTTOM_RIGHT:n.bottom="0px",n.right="0px",n.top="auto",n.left="auto";break;case tn.BOTTOM_LEFT:default:n.bottom="0px",n.left="0px",n.top="auto",n.right="auto"}const o=document.getElementById(this.iframeId);Object.assign(o.style,n),this.state.isIFrameFullScreen=e,r||this.request({method:"iframe_status",params:{isIFrameFullScreen:e,rid:t}})}async handleWindow(e,{url:t,target:r,features:n,timeout:o}={}){const i=new URL(t||`${this.iframeUrl}/redirect?windowId=${e}&sessionNamespace=${window.location.hostname}`),s=new rn({url:i,target:r,features:n,timeout:o});if(s.open(),!s.window)return this.displayIframe({isFull:!0}),void this.request({method:"window_blocked",params:{windowId:e,finalUrl:i.href}});this.windowRefs.set(e,s),s.once("close",()=>{this.windowRefs.delete(e),this.request({method:"closed_window",params:{windowId:e}})})}rpcRequest(e,t){const r=t,n=e;Array.isArray(n)||n.jsonrpc||(n.jsonrpc="2.0"),this.rpcEngine.handle(n,r)}handleConnect(e,t){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{currentAuthConnection:e,isLoggedIn:t}),Zr.debug(Kr(e)))}handleDisconnect(e,t){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!e){let r;this.state.isConnected=!1,e?(r=new Ar(1013,t||Hr()),Zr.debug(r)):(r=new Ar(1011,t||qr()),Zr.error(r),this.state.currentAuthConnection=null,this.state.isLoggedIn=!1,this.state.widgetVisibility=!1,this.state.isIFrameFullScreen=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}handleCloseWindow(e){const{windowId:t}=e;this.windowRefs.has(t)&&(this.windowRefs.get(t).close(),this.windowRefs.delete(t))}}s(nn,"defaultState",{buttonPosition:"bottom-left",currentAuthConnection:null,isIFrameFullScreen:!1,widgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1,hasEmittedConnection:!1,allowWalletService:!1});const on=nn;var sn=r(8792),an=r.n(sn);class ln extends Xr{constructor(e,{maxEventListeners:t=100,jsonRpcStreamName:r="provider"}){super(e,{maxEventListeners:t,jsonRpcStreamName:r}),s(this,"chainId",void 0),s(this,"selectedAddress",void 0),s(this,"tryWindowHandle",void 0),this.state=l({},ln.defaultState),this.selectedAddress=null,this.chainId=null,this.handleAccountsChanged=this.handleAccountsChanged.bind(this),this.handleChainChanged=this.handleChainChanged.bind(this),this.handleUnlockStateChanged=this.handleUnlockStateChanged.bind(this),this.on("connect",()=>{this.state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",e=>{const{method:t,params:r}=e;"wallet_accounts_changed"===t?this.handleAccountsChanged(r):"wallet_unlock_state_changed"===t?this.handleUnlockStateChanged(r):"wallet_chain_changed"===t?this.handleChainChanged(r):Jr.includes(t)&&(this.emit("data",e),this.emit("notification",r.result),this.emit("message",{type:t,data:r}))})}isConnected(){return this.state.isConnected}async initializeState(){try{const{accounts:e,chainId:t,isUnlocked:r}=await this.request({method:"wallet_get_provider_state",params:[]});this.emit("connect",{chainId:t}),this.handleChainChanged({chainId:t}),this.handleUnlockStateChanged({accounts:e,isUnlocked:r}),this.handleAccountsChanged(e)}catch(e){Zr.error("WsEmbed: Failed to get initial state. Please report this bug.",e)}finally{Zr.info("initialized provider state"),this.state.initialized=!0}}rpcRequest(t,r,n=!1){let i=r;const s=t;if(!Array.isArray(s))if(s.jsonrpc||(s.jsonrpc="2.0"),[o.GET_ACCOUNTS,o.ETH_REQUEST_ACCOUNTS,e.SOLANA_REQUEST_ACCOUNTS,e.GET_ACCOUNTS].includes(s.method))i=(e,t)=>{this.handleAccountsChanged(t.result||[],"eth_accounts"===s.method,n),r(e,t)};else if("wallet_getProviderState"===s.method)return void this.rpcEngine.handle(t,i);this.tryWindowHandle(s,i)}handleConnect(e){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{chainId:e}),Zr.debug(Kr(e)))}handleDisconnect(e,t){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!e){let r;this.state.isConnected=!1,e?(r=new Ar(1013,t||Hr()),Zr.debug(r)):(r=new Ar(1011,t||qr()),Zr.error(r),this.chainId=null,this.state.accounts=null,this.selectedAddress=null,this.state.isUnlocked=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}handleAccountsChanged(e,t=!1,r=!1){let n=e;Array.isArray(n)||(Zr.error("WsEmbed: Received non-array accounts parameter. Please report this bug.",n),n=[]);for(const t of e)if("string"!=typeof t){Zr.error("WsEmbed: Received non-string account. Please report this bug.",e),n=[];break}an()(this.state.accounts,n)||(t&&Array.isArray(this.state.accounts)&&this.state.accounts.length>0&&!r&&Zr.error('WsEmbed: "eth_accounts" unexpectedly updated accounts. Please report this bug.',n),this.state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}handleChainChanged({chainId:e}={}){e?"loading"===e?this.handleDisconnect(!0):(this.handleConnect(e),e!==this.chainId&&(this.chainId=e,this.state.initialized&&this.emit("chainChanged",this.chainId))):Zr.error("WsEmbed: Received invalid network parameters. Please report this bug.",{chainId:e})}handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"==typeof t?t!==this.state.isUnlocked&&(this.state.isUnlocked=t,this.handleAccountsChanged(e||[])):Zr.error("WsEmbed: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:t})}}s(ln,"defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const un=ln;function cn(e){return new Promise((t,r)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}})}const fn=e=>{const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function dn(e){try{const{document:t}=e;let r=t.querySelector('head > link[rel="shortcut icon"]');return r&&await cn(r.href)?r.href:(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(e=>Boolean(e.href)),r&&await cn(r.href)?r.href:"")}catch{return""}}const hn="5.3.0",pn=hn?`v${hn.split(".")[0]}`:"",yn={[en.TESTING]:{url:"https://develop-wallet.web3auth.io",logLevel:"debug"},[en.DEVELOPMENT]:{url:"http://localhost:4050",logLevel:"debug"},[en.STAGING]:{url:`https://staging-wallet.web3auth.io/${pn}`,logLevel:"debug"},[en.PRODUCTION]:{url:`https://wallet.web3auth.io/${pn}`,logLevel:"error"}};!async function(){try{if("undefined"==typeof document)return;const e=document.createElement("link"),{url:t}=yn.production;e.href=`${t}/frame`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){Zr.warn(e)}}(),new Set(["set_provider"]);const gn=new Set([e.SEND_TRANSACTION,e.SIGN_MESSAGE,e.SIGN_TRANSACTION,e.SIGN_ALL_TRANSACTIONS,o.ETH_SIGN,o.ETH_SIGN_TYPED_DATA_V4,o.PERSONAL_SIGN,o.ETH_TRANSACTION,o.ADD_CHAIN,o.SWITCH_CHAIN,"wallet_switchChain"]),bn=class{constructor({modalZIndex:e=99999,web3AuthClientId:t,web3AuthNetwork:r}){s(this,"isInitialized",void 0),s(this,"modalZIndex",void 0),s(this,"provider",void 0),s(this,"communicationProvider",void 0),s(this,"buttonPosition",void 0),s(this,"web3AuthClientId",void 0),s(this,"web3AuthNetwork",void 0),s(this,"isPluginMode",void 0),s(this,"confirmationStrategy",void 0),s(this,"buildEnv",void 0),s(this,"embedNonce",Kt()),this.isInitialized=!1,this.modalZIndex=e,this.web3AuthClientId=t,this.web3AuthNetwork=r}get isLoggedIn(){var e;return(null===(e=this.communicationProvider)||void 0===e?void 0:e.isLoggedIn)||!1}get getBuildEnv(){return this.buildEnv}async init({buildEnv:e=en.PRODUCTION,enableLogging:t=!1,chains:r,chainId:n,walletUrls:o,whiteLabel:i,confirmationStrategy:s=Qr.DEFAULT,accountAbstractionConfig:a,enableKeyExport:u=!1}){if(this.isInitialized)throw new Error("Already initialized");this.buildEnv=e,this.confirmationStrategy=s;const{url:c,logLevel:f}=o&&o[e]?l(l({},yn[e]),o[e]):yn[e];Zr.info(c,"url loaded"),Zr.setDefaultLevel(f),t?Zr.enableAll():Zr.disableAll();const d=new URL(c);d.pathname.endsWith("/")?d.pathname+="frame":d.pathname+="/frame";const h=new URLSearchParams;h.append("origin",window.location.origin),h.append("nonce",this.embedNonce),d.hash=h.toString();const p=this.getTheme((null==i?void 0:i.mode)||Jt),y=(e=>{const t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild})(`<iframe\n        id="walletIframe-${this.embedNonce}"\n        class="walletIframe-${this.embedNonce}"\n        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"\n        src="${d.href}"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()};\n        color-scheme: ${p}"\n        allow="clipboard-write"\n      ></iframe>`);this.buttonPosition=(null==i?void 0:i.buttonPosition)||tn.BOTTOM_LEFT;const g=await(async()=>({name:fn(window),icon:await dn(window)}))();return new Promise((e,o)=>{try{window.document.body.appendChild(y);const o=async l=>{if(l.origin!==d.origin)return;const{message:f,nonce:h}=l.data||{};"setup_complete"===f&&h===this.embedNonce&&(window.removeEventListener("message",o),y.contentWindow.postMessage({chains:r,chainId:n,dappMetadata:g,enableLogging:t,web3AuthClientId:this.web3AuthClientId,web3AuthNetwork:this.web3AuthNetwork,whiteLabel:i,confirmationStrategy:s,accountAbstractionConfig:a,enableKeyExport:u},d.origin),await this.setupWeb3({torusUrl:c,walletIframe:y}),this.isInitialized=!0,e())};window.addEventListener("message",o)}catch(e){o(e)}})}async login(r={}){if(!this.isInitialized)throw new Error("Call init() first");const n=this.communicationProvider.isIFrameFullScreen;try{r.authConnection||n||this.communicationProvider.displayIframe({isFull:!0});const i=await new Promise((n,i)=>{const s=Object.values(t).includes(this.provider.chainId)?e.SOLANA_REQUEST_ACCOUNTS:o.ETH_REQUEST_ACCOUNTS;this.provider.rpcRequest({method:s,params:[r.authConnection,r.login_hint]},rr(n,i))});if(Zr.info("check: res",i),Array.isArray(i)&&i.length>0)return this.confirmationStrategy===Qr.AUTO_APPROVE&&Zr.warn("Confirmation strategy auto approve is not allowed on Embed Mode, using Default instead."),i;throw new Error("Login failed")}catch(e){throw Zr.error("login failed",e),e}finally{n||this.communicationProvider.displayIframe({isFull:!1})}}async loginWithSessionId(e){if(!this.isInitialized)throw new Error("Call init() first");if(!e.sessionId)throw new Error("sessionId is required");try{const t=await this.communicationProvider.request({method:"login_with_session_id",params:[e.sessionId,e.sessionNamespace||""]});if(Zr.info("check: res",t),t.success)return this.isPluginMode=!0,this.confirmationStrategy===Qr.POPUP&&Zr.warn("Confirmation strategy popup is not allowed on Plugin Mode, using Default instead."),t.success;throw new Error("Login failed")}catch(e){throw Zr.error("login with session id failed",e),e}}async logout(){if(!this.communicationProvider.isLoggedIn)throw new Error("Not logged in");await this.communicationProvider.request({method:"logout",params:[]})}async cleanUp(){var e;null!==(e=this.communicationProvider)&&void 0!==e&&e.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){const e=window.document.getElementById(`walletIframe-${this.embedNonce}`);var t;((t=e)instanceof Element||t instanceof Document)&&e.remove(),this.isInitialized=!1}async getUserInfo(){return await this.communicationProvider.request({method:"user_info",params:[]})}async showWalletConnectScanner(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_wallet_connect",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showWalletUi(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_wallet_ui",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showFunding(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_funding",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showCheckout(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_checkout",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showReceive(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_receive",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showSwap(e){const t=!e||e.show;this.communicationProvider.displayIframe({isFull:t});try{await this.communicationProvider.request({method:"show_swap",params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}getConfirmationStrategyFinal(e){let t=this.confirmationStrategy;return Array.isArray(e)||!gn.has(e.method)||this.confirmationStrategy===Qr.MODAL||this.isPluginMode||(t=Qr.POPUP),t}getTheme(e){return e===Jt?"light":"dark"===e||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}async setupWeb3(t){Zr.info("setupWeb3 running");const r=new ir({name:"embed_torus",target:"iframe_torus",targetWindow:t.walletIframe.contentWindow,targetOrigin:new URL(t.torusUrl).origin}),n=new ir({name:"embed_communication",target:"iframe_communication",targetWindow:t.walletIframe.contentWindow,targetOrigin:new URL(t.torusUrl).origin}),i=new un(r,{}),s=new on(n,{},{buttonPosition:this.buttonPosition});i.tryWindowHandle=(e,t)=>{const r=e,n=this.getConfirmationStrategyFinal(e),{allowWalletService:o}=s;if(n===Qr.POPUP&&o){const e=Kt();s.handleWindow(e,{target:"_blank",features:Zt(f),timeout:500}),r.windowId=e}i.rpcEngine.handle(r,t)},s.tryWindowHandle=(e,t)=>{const r=e,n=this.getConfirmationStrategyFinal(e),{allowWalletService:o}=s;if(n===Qr.POPUP&&o){const e=Kt();s.handleWindow(e,{target:"_blank",features:Zt(u),timeout:500}),r.params.windowId=e}s.rpcEngine.handle(r,t)};const a=t=>{const r=i[t],n=this;i[t]=function(t,i){const{method:s,params:a=[]}=t;if(s===o.ETH_REQUEST_ACCOUNTS||s===e.SOLANA_REQUEST_ACCOUNTS){if(!i)return n.login({authConnection:a[0]});n.login({authConnection:a[0]}).then(e=>i(null,e)).catch(e=>i(e))}return r.apply(this,[t,i])}};a("request"),a("sendAsync"),a("send");const c=new Proxy(i,{deleteProperty:()=>!0}),d=new Proxy(s,{deleteProperty:()=>!0});this.provider=c,this.communicationProvider=d,Zr.info("test setupWeb3 "),await Promise.all([i.initializeState(),s.initializeState(l(l({},t),{},{torusIframeId:t.walletIframe.id}))]),Zr.debug("WsEmbed - injected provider")}}})(),n})());