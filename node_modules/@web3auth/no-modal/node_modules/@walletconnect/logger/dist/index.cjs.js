"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var b={exports:{}};function se(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var ie=oe;function oe(e,t,r){var s=r&&r.stringify||se,i=1;if(typeof e=="object"&&e!==null){var f=t.length+i;if(f===1)return e;var h=new Array(f);h[0]=s(e);for(var u=1;u<f;u++)h[u]=s(t[u]);return h.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var n="",o=1-i,l=-1,L=e&&e.length||0,a=0;a<L;){if(e.charCodeAt(a)===37&&a+1<L){switch(l=l>-1?l:0,e.charCodeAt(a+1)){case 100:case 102:if(o>=c||t[o]==null)break;l<a&&(n+=e.slice(l,a)),n+=Number(t[o]),l=a+2,a++;break;case 105:if(o>=c||t[o]==null)break;l<a&&(n+=e.slice(l,a)),n+=Math.floor(Number(t[o])),l=a+2,a++;break;case 79:case 111:case 106:if(o>=c||t[o]===void 0)break;l<a&&(n+=e.slice(l,a));var w=typeof t[o];if(w==="string"){n+="'"+t[o]+"'",l=a+2,a++;break}if(w==="function"){n+=t[o].name||"<anonymous>",l=a+2,a++;break}n+=s(t[o]),l=a+2,a++;break;case 115:if(o>=c)break;l<a&&(n+=e.slice(l,a)),n+=String(t[o]),l=a+2,a++;break;case 37:l<a&&(n+=e.slice(l,a)),n+="%",l=a+2,a++,o--;break}++o}++a}return l===-1?e:(l<L&&(n+=e.slice(l)),n)}const G=ie;b.exports=v;const z=Oe().console||{},le={mapHttpRequest:k,mapHttpResponse:k,wrapRequestSerializer:$,wrapResponseSerializer:$,wrapErrorSerializer:$,req:k,res:k,err:R,errWithCause:R};function m(e,t){return e==="silent"?1/0:t.levels.values[e]}const A=Symbol("pino.logFuncs"),P=Symbol("pino.hierarchy"),ae={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function U(e,t){const r={logger:t,parent:e[P]};t[P]=r}function ue(e,t,r){const s={};t.forEach(i=>{s[i]=r[i]?r[i]:z[i]||z[ae[i]||"log"]||O}),e[A]=s}function ce(e,t){return Array.isArray(e)?e.filter(function(s){return s!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function v(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const r=e.browser.write||z;e.browser.write&&(e.browser.asObject=!0);const s=e.serializers||{},i=ce(e.browser.serialize,s);let f=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(f=!1);const h=Object.keys(e.customLevels||{}),u=["error","fatal","warn","info","debug","trace"].concat(h);typeof r=="function"&&u.forEach(function(g){r[g]=r}),(e.enabled===!1||e.browser.disabled)&&(e.level="silent");const c=e.level||"info",n=Object.create(r);n.log||(n.log=O),ue(n,u,r),U({},n),Object.defineProperty(n,"levelVal",{get:l}),Object.defineProperty(n,"level",{get:L,set:a});const o={transmit:t,serialize:i,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:u,timestamp:ye(e),messageKey:e.messageKey||"msg",onChild:e.onChild||O};n.levels=fe(e),n.level=c,n.isLevelEnabled=function(g){return this.levels.values[g]?this.levels.values[g]>=this.levels.values[this.level]:!1},n.setMaxListeners=n.getMaxListeners=n.emit=n.addListener=n.on=n.prependListener=n.once=n.prependOnceListener=n.removeListener=n.removeAllListeners=n.listeners=n.listenerCount=n.eventNames=n.write=n.flush=O,n.serializers=s,n._serialize=i,n._stdErrSerialize=f,n.child=function(...g){return w.call(this,o,...g)},t&&(n._logEvent=V());function l(){return m(this.level,this)}function L(){return this._level}function a(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,p(this,o,n,"error"),p(this,o,n,"fatal"),p(this,o,n,"warn"),p(this,o,n,"info"),p(this,o,n,"debug"),p(this,o,n,"trace"),h.forEach(d=>{p(this,o,n,d)})}function w(g,d,_){if(!d)throw new Error("missing bindings for child Pino");_=_||{},i&&d.serializers&&(_.serializers=d.serializers);const F=_.serializers;if(i&&F){var E=Object.assign({},s,F),M=e.browser.serialize===!0?Object.keys(E):i;delete d.serializers,N([d],M,E,this._stdErrSerialize)}function D(C){this._childLevel=(C._childLevel|0)+1,this.bindings=d,E&&(this.serializers=E,this._serialize=M),t&&(this._logEvent=V([].concat(C._logEvent.bindings,d)))}D.prototype=this;const S=new D(this);return U(this,S),S.child=function(...C){return w.call(this,g,...C)},S.level=_.level||this.level,g.onChild(S),S}return n}function fe(e){const t=e.customLevels||{},r=Object.assign({},v.levels.values,t),s=Object.assign({},v.levels.labels,he(t));return{values:r,labels:s}}function he(e){const t={};return Object.keys(e).forEach(function(r){t[e[r]]=r}),t}v.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},v.stdSerializers=le,v.stdTimeFunctions=Object.assign({},{nullTime:X,epochTime:Y,unixTime:Le,isoTime:pe});function ge(e){const t=[];e.bindings&&t.push(e.bindings);let r=e[P];for(;r.parent;)r=r.parent,r.logger.bindings&&t.push(r.logger.bindings);return t.reverse()}function p(e,t,r,s){if(Object.defineProperty(e,s,{value:m(e.level,r)>m(s,r)?O:r[A][s],writable:!0,enumerable:!0,configurable:!0}),e[s]===O){if(!t.transmit)return;const f=t.transmit.level||e.level,h=m(f,r);if(m(s,r)<h)return}e[s]=de(e,t,r,s);const i=ge(e);i.length!==0&&(e[s]=be(i,e[s]))}function be(e,t){return function(){return t.apply(this,[...e,...arguments])}}function de(e,t,r,s){return function(i){return function(){const h=t.timestamp(),u=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===z?z:this;for(var n=0;n<u.length;n++)u[n]=arguments[n];var o=!1;if(t.serialize&&(N(u,this._serialize,this.serializers,this._stdErrSerialize),o=!0),t.asObject||t.formatters?i.call(c,...ve(this,s,u,h,t)):i.apply(c,u),t.transmit){const l=t.transmit.level||e._level,L=m(l,r),a=m(s,r);if(a<L)return;me(this,{ts:h,methodLevel:s,methodValue:a,transmitLevel:l,transmitValue:r.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:m(e._level,r)},u,o)}}}(e[A][s])}function ve(e,t,r,s,i){const{level:f,log:h=l=>l}=i.formatters||{},u=r.slice();let c=u[0];const n={};let o=(e._childLevel|0)+1;if(o<1&&(o=1),s&&(n.time=s),f){const l=f(t,e.levels.values[t]);Object.assign(n,l)}else n.level=e.levels.values[t];if(i.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;o--&&typeof u[0]=="object";)Object.assign(n,u.shift());return[h(n),...u]}else{if(c!==null&&typeof c=="object"){for(;o--&&typeof u[0]=="object";)Object.assign(n,u.shift());c=u.length?G(u.shift(),u):void 0}else typeof c=="string"&&(c=G(u.shift(),u));return c!==void 0&&(n[i.messageKey]=c),[h(n)]}}function N(e,t,r,s){for(const i in e)if(s&&e[i]instanceof Error)e[i]=v.stdSerializers.err(e[i]);else if(typeof e[i]=="object"&&!Array.isArray(e[i])&&t)for(const f in e[i])t.indexOf(f)>-1&&f in r&&(e[i][f]=r[f](e[i][f]))}function me(e,t,r,s=!1){const i=t.send,f=t.ts,h=t.methodLevel,u=t.methodValue,c=t.val,n=e._logEvent.bindings;s||N(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=f,e._logEvent.messages=r.filter(function(o){return n.indexOf(o)===-1}),e._logEvent.level.label=h,e._logEvent.level.value=u,i(h,e._logEvent,c),e._logEvent=V(n)}function V(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function R(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function ye(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?X:Y}function k(){return{}}function $(e){return e}function O(){}function X(){return!1}function Y(){return Date.now()}function Le(){return Math.round(Date.now()/1e3)}function pe(){return new Date(Date.now()).toISOString()}function Oe(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}b.exports.default=v;var we=b.exports.pino=v;const Z={level:"info"},j="custom_context",T=1e3*1024;var _e=Object.defineProperty,Se=(e,t,r)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t,r)=>Se(e,typeof t!="symbol"?t+"":t,r);class ze{constructor(t){y(this,"nodeValue"),y(this,"sizeInBytes"),y(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class K{constructor(t){y(this,"lengthInNodes"),y(this,"sizeInBytes"),y(this,"head"),y(this,"tail"),y(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const r=new ze(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const r=t.value;return t=t.next,{done:!1,value:r}}}}}const je=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r);function q(e){return typeof e=="string"?e:je(e)||""}var Ee=Object.defineProperty,Ce=(e,t,r)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t,r)=>Ce(e,typeof t!="symbol"?t+"":t,r);class J{constructor(t,r=T){I(this,"logs"),I(this,"level"),I(this,"levelValue"),I(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=b.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new K(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===b.exports.levels.values.error?console.error(t):r===b.exports.levels.values.warn?console.warn(t):r===b.exports.levels.values.debug?console.debug(t):r===b.exports.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(q({timestamp:new Date().toISOString(),log:t}));const r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new K(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const r=this.getLogArray();return r.push(q({extraMetadata:t})),new Blob(r,{type:"application/json"})}}var ke=Object.defineProperty,Te=(e,t,r)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ie=(e,t,r)=>Te(e,typeof t!="symbol"?t+"":t,r);class xe{constructor(t,r=T){Ie(this,"baseChunkLogger"),this.baseChunkLogger=new J(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const r=URL.createObjectURL(this.logsToBlob(t)),s=document.createElement("a");s.href=r,s.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}}var Be=Object.defineProperty,Ae=(e,t,r)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pe=(e,t,r)=>Ae(e,typeof t!="symbol"?t+"":t,r);class Ne{constructor(t,r=T){Pe(this,"baseChunkLogger"),this.baseChunkLogger=new J(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var Ve=Object.defineProperty,$e=Object.defineProperties,Fe=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,W=(e,t,r)=>t in e?Ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))Me.call(t,r)&&W(e,r,t[r]);if(H)for(var r of H(t))De.call(t,r)&&W(e,r,t[r]);return e},B=(e,t)=>$e(e,Fe(t));function Ge(e){return B(x({},e),{level:e?.level||Z.level})}function Q(e,t,r=j){return e[r]=t,e}function ee(e,t=j){return e[t]||""}function te(e,t,r=j){const s=ee(e,r);return s.trim()?`${s}/${t}`:t}function Ue(e,t,r=j){const s=te(e,t,r),i=e.child({context:s});return Q(i,s,r)}function re(e){var t,r;const s=new xe((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:b.exports(B(x({},e.opts),{level:"trace",browser:B(x({},(r=e.opts)==null?void 0:r.browser),{write:i=>s.write(i)})})),chunkLoggerController:s}}function ne(e){var t;const r=new Ne((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:b.exports(B(x({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function Re(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?re(e):ne(e)}exports.MAX_LOG_SIZE_IN_BYTES_DEFAULT=T,exports.PINO_CUSTOM_CONTEXT_KEY=j,exports.PINO_LOGGER_DEFAULTS=Z,exports.formatChildLoggerContext=te,exports.generateChildLogger=Ue,exports.generateClientLogger=re,exports.generatePlatformLogger=Re,exports.generateServerLogger=ne,exports.getDefaultLoggerOptions=Ge,exports.getLoggerContext=ee,exports.pino=we,exports.setLoggerContext=Q;
//# sourceMappingURL=index.cjs.js.map
